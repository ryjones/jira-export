Summary,Issue key,Issue id,Parent id,Issue Type,Status,Project key,Project name,Project type,Project lead,Project description,Project url,Priority,Resolution,Assignee,Reporter,Creator,Created,Updated,Last Viewed,Resolved,Affects Version/s,Affects Version/s,Affects Version/s,Fix Version/s,Fix Version/s,Component/s,Component/s,Component/s,Component/s,Component/s,Component/s,Due Date,Votes,Labels,Labels,Labels,Labels,Labels,Labels,Labels,Description,Environment,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Log Work,Log Work,Original Estimate,Remaining Estimate,Time Spent,Work Ratio,Σ Original Estimate,Σ Remaining Estimate,Σ Time Spent,Security Level,Inward issue link (Blocks),Inward issue link (Blocks),Inward issue link (Blocks),Inward issue link (Blocks),Inward issue link (Blocks),Inward issue link (Blocks),Inward issue link (Blocks),Inward issue link (Blocks),Inward issue link (Blocks),Inward issue link (Blocks),Inward issue link (Blocks),Inward issue link (Blocks),Inward issue link (Blocks),Inward issue link (Blocks),Inward issue link (Blocks),Inward issue link (Blocks),Inward issue link (Blocks),Inward issue link (Blocks),Inward issue link (Blocks),Inward issue link (Blocks),Inward issue link (Blocks),Inward issue link (Blocks),Inward issue link (Blocks),Inward issue link (Blocks),Outward issue link (Blocks),Outward issue link (Blocks),Outward issue link (Blocks),Outward issue link (Blocks),Inward issue link (Cloners),Inward issue link (Cloners),Outward issue link (Cloners),Inward issue link (Duplicate),Inward issue link (Duplicate),Outward issue link (Duplicate),Outward issue link (Duplicate),Inward issue link (Relates),Inward issue link (Relates),Inward issue link (Relates),Inward issue link (Relates),Inward issue link (Relates),Outward issue link (Relates),Outward issue link (Relates),Outward issue link (Relates),Outward issue link (Relates),Outward issue link (Relates),Outward issue link (Relates),Outward issue link (Relates),Outward issue link (Relates),Outward issue link (Relates),Outward issue link (Relates),Outward issue link (Relates),Outward issue link (Relates),Outward issue link (Relates),Outward issue link (Relates),Outward issue link (Relates),Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Custom field (Business Value),Custom field (Commit Levels),Custom field (Current Status),Custom field (Design),Custom field (Design Status),Custom field (Documentation Impact),Custom field (Documentation Status),Custom field (Epic Color),Custom field (Epic Link),Custom field (Epic Name),Custom field (Epic Status),Custom field (Executed),Custom field (Flagged),Custom field (Found in Commit),Custom field (Function Test Status),Custom field (Must Fix),Custom field (Original story points),Custom field (Parent Link),Custom field (Rank),Custom field (Release Note),Custom field (Release Note Required),Custom field (Root Cause Analysis),Custom field (SDK Impact),Custom field (Sample/Tutorial),Sprint,Sprint,Sprint,Sprint,Sprint,Sprint,Sprint,Sprint,Custom field (Steps to Reproduce),Custom field (Story Points),Custom field (System Test Impact),Custom field (Target end),Custom field (Target start),Custom field (Team),Custom field (Team),Custom field (Test Plan),Custom field (Test Result),Custom field (Test Result Details),Custom field (Test Type),Custom field (Triaged),Custom field (Usage),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Workaround),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitCommitsReferenced),Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment
Improve unit tests for /fabric/core/ledger/kvledger/history packages,FAB-3401,15995,15992,Sub-task,Closed,FAB,Fabric,software,denyeart,,,High,Done,balaji.viswanathan,denyeart,denyeart,26/Apr/17 5:06 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,03/May/17 8:46 PM,,,,v1.0.0,,fabric-ledger,,,,,,,0,,,,,,,,,,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxr6f:",,,,,,Sprint 16 - Quality,,,,,,,,,,,,,,,,,,,,,denyeart,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Improve unit tests for /fabric/core/ledger/kvledger/txmgmt/txmgr/lockbasedtxmgr,FAB-3402,15996,15992,Sub-task,Closed,FAB,Fabric,software,denyeart,,,High,Done,denyeart,denyeart,denyeart,26/Apr/17 5:07 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,10/Jul/18 3:23 AM,,,,v1.0.0,,fabric-ledger,,,,,,,0,,,,,,,,"Improve unit tests for ledger lockbasedtxmgr.

Move lockbasedtxmgr unit tests from commontests directory
to lockbasedtxmgr, so that unit test coverage gets
reported for lockbasedtxmgr.",,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxr6n:",,,,,,Sprint 16 - Quality,,,,,,,,,,,,,,,,,,,,,denyeart,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Improve unit tests for /fabric/core/ledger/kvledger/txmgmt/rwsetutil,FAB-3403,15997,15992,Sub-task,Closed,FAB,Fabric,software,denyeart,,,High,Done,manish-sethi,denyeart,denyeart,26/Apr/17 5:07 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,02/May/17 1:49 PM,,,,v1.0.0,,fabric-ledger,,,,,,,0,,,,,,,,,,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxr6v:",,,,,,Sprint 16 - Quality,,,,,,,,,,,,,,,,,,,,,denyeart,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Improve unit tests for /fabric/core/ledger/kvledger/txmgmt/statedb,FAB-3404,15998,15992,Sub-task,Closed,FAB,Fabric,software,denyeart,,,High,Done,Senthil1,denyeart,denyeart,26/Apr/17 5:08 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,01/May/17 11:59 AM,,,,v1.0.0,,fabric-ledger,,,,,,,0,,,,,,,,,,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxr73:",,,,,,Sprint 16 - Quality,,,,,,,,,,,,,,,,,,,,,denyeart,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Improve unit tests for /fabric/core/ledger/kvledger/txmgmt/txmgr/statedb/statecouchdb,FAB-3405,15999,15992,Sub-task,Closed,FAB,Fabric,software,denyeart,,,High,Done,chris.elder,denyeart,denyeart,26/Apr/17 5:09 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,01/May/17 8:54 PM,,,,v1.0.0,,fabric-ledger,,,,,,,0,,,,,,,,,,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxr7b:",,,,,,Sprint 16 - Quality,,,,,,,,,,,,,,,,,,,,,denyeart,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Improve unit tests for /fabric/core/ledger/kvledger/txmgmt/statedb/stateleveldb and statedb/commontests,FAB-3406,16000,15992,Sub-task,Closed,FAB,Fabric,software,denyeart,,,High,Done,Senthil1,denyeart,denyeart,26/Apr/17 5:11 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,01/May/17 11:59 AM,,,,v1.0.0,,fabric-ledger,,,,,,,0,help-wanted,,,,,,,,,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxr7j:",,,,,,Sprint 16 - Quality,,,,,,,,,,,,,,,,,,,,,denyeart,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Improve unit tests for /fabric/core/ledger/kvledger/txmgmt/validator/statebasedval,FAB-3407,16001,15992,Sub-task,Closed,FAB,Fabric,software,denyeart,,,High,Done,manish-sethi,denyeart,denyeart,26/Apr/17 5:11 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,01/May/17 11:58 AM,,,,v1.0.0,,fabric-ledger,,,,,,,0,,,,,,,,,,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxr7r:",,,,,,Sprint 16 - Quality,,,,,,,,,,,,,,,,,,,,,denyeart,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Improve unit tests for /fabric/core/ledger/kvledger/txmgmt/version,FAB-3410,16004,15992,Sub-task,Closed,FAB,Fabric,software,denyeart,,,High,Done,Senthil1,denyeart,denyeart,26/Apr/17 5:48 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,01/May/17 11:59 AM,,,,v1.0.0,,fabric-ledger,,,,,,,0,help-wanted,,,,,,,,,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxr87:",,,,,,Sprint 16 - Quality,,,,,,,,,,,,,,,,,,,,,denyeart,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Improve unit tests for /fabric/core/ledger/ledgerconfig,FAB-3411,16005,15992,Sub-task,Closed,FAB,Fabric,software,denyeart,,,High,Done,denyeart,denyeart,denyeart,26/Apr/17 5:48 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,05/Aug/17 9:14 PM,,,,v1.0.0,,fabric-ledger,,,,,,,0,,,,,,,,,,denyeart,nemoto,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxr8f:",,,,,,Sprint 16 - Quality,,,,,,,,,,,,,,,,,,,,,denyeart,nemoto,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"04/Jul/17 9:13 AM;nemoto;[~denyeart] Hi, if you are not working on this, I'm happy to help you. Thanks.;;;","07/Jul/17 9:48 AM;nemoto;https://gerrit.hyperledger.org/r/#/c/11423/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Improve unit tests for /fabric/core/ledger/ledgermgmt,FAB-3412,16006,15992,Sub-task,Closed,FAB,Fabric,software,denyeart,,,High,Done,Senthil1,denyeart,denyeart,26/Apr/17 5:48 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,04/May/17 8:54 PM,,,,v1.0.0,,fabric-ledger,,,,,,,0,help-wanted,,,,,,,,,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxr8n:",,,,,,Sprint 16 - Quality,,,,,,,,,,,,,,,,,,,,,denyeart,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Improve unit tests for /fabric/core/ledger/util,FAB-3413,16007,15992,Sub-task,Closed,FAB,Fabric,software,denyeart,,,High,Done,Senthil1,denyeart,denyeart,26/Apr/17 5:49 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,04/May/17 8:53 PM,,,,v1.0.0,,fabric-ledger,,,,,,,0,help-wanted,,,,,,,,,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxr8v:",,,,,,Sprint 16 - Quality,,,,,,,,,,,,,,,,,,,,,denyeart,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Improve unit tests for /fabric/core/ledger/util/couchdb,FAB-3414,16008,15992,Sub-task,Closed,FAB,Fabric,software,denyeart,,,High,Done,chris.elder,denyeart,denyeart,26/Apr/17 5:49 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,03/May/17 5:22 AM,,,,v1.0.0,,fabric-ledger,,,,,,,0,,,,,,,,,,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxr93:",,,,,,Sprint 16 - Quality,,,,,,,,,,,,,,,,,,,,,denyeart,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
How to set up Auditor within Network,FAB-3418,16012,,Story,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,,KhutPidor,KhutPidor,26/Apr/17 12:27 PM,05/Dec/18 5:49 AM,28/Oct/23 2:59 AM,01/Jun/17 9:29 PM,,,,v0.6,WON'T FIX,fabric-ledger,,,,,,,0,ledger,Security,,,,,,"I've been working around hyperledger fabric for a while. I'm successful in install and form network of Fabric without using docker with 5 peers. Now I try to Setup Auditor and non-validationg peers within the network. I surf around ,but cannot find any clear document in this. Can anyone help?",,ChristopherFerris,KhutPidor,smithbk,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzxr9r:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,ChristopherFerris,KhutPidor,smithbk,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"29/Apr/17 4:38 AM;smithbk;In v0.6, to make a peer non-validating, you set validator.enabled to false.

{code}
    # Validator defines whether this peer is a validating peer or not, and if
    # it is enabled, what consensus plugin to load
    validator:
        enabled: true
{code}

There is no ""auditor peer"" that I'm aware of.  Where did you see this in the doc?;;;","05/May/17 1:28 PM;KhutPidor;Thank for your response
Auditor: I see it in https://github.com/hyperledger-archives/fabric/blob/master/docs/protocol-spec.md#4-security-1

Related to Non-validating peers, If I set Enable: False
What can I use Non-validating peer for? How to test with it ?;;;","01/Jun/17 9:28 PM;ChristopherFerris;[~KhutPidor] that document is very much out of date... sorry for the confusion. For details of the current architecture, please visit FAB-37;;;","01/Jun/17 9:29 PM;ChristopherFerris;closing this as WON'T FIX as we have deprecated v0.6.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
e2e create channel error  from commit c5c60c3,FAB-3419,16013,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,,roamerxv,roamerxv,26/Apr/17 1:10 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,08/May/17 4:51 PM,v1.0.0,,,,,fabric-samples,,,,,,,0,,,,,,,,"h4. Error At CentOS 7.2 
kernel : Linux fabric.alcor 3.10.0-514.16.1.el7.x86_64
docker: Docker version 17.04.0-ce, build 4845c56

Running the ""Getting Started"" e2e flow from commit c5c60c3 fails with:

cd $GOPATH/src/github.com/hyperledger/fabric/examples/e2e_cli
./network_setup.sh up mytestchannel

Creating network ""e2ecli_default"" with the default driver
Creating orderer0
Creating peer0
Creating peer1
Creating peer2
Creating peer3
Creating cli
Channel name : mytestchannel
2017-04-26 03:43:10.677 UTC [msp] GetLocalMSP -> DEBU 001 Returning existing local MSP
2017-04-26 03:43:10.677 UTC [msp] GetDefaultSigningIdentity -> DEBU 002 Obtaining default signing identity
Error: Error connecting to orderer0:7050 due to grpc: timed out when dialing
Usage:
  peer channel create [flags]

Global Flags:
  -b, --blockpath string           Path to file containing genesis block
      --cafile string              Path to file containing PEM-encoded trusted certificate(s) for the ordering endpoint
  -c, --chain string               In case of a newChain command, the chain ID to create.
  -f, --file string                Configuration transaction file generated by a tool such as configtxgen for submitting to orderer
      --logging-level string       Default logging level and overrides, see core.yaml for full syntax
  -o, --orderer string             Ordering service endpoint
      --test.coverprofile string   Done (default ""coverage.cov"")
      --tls                        Use TLS when communicating with the orderer endpoint
  -v, --version                    Display current version of fabric peer server

!!!!!!!!!!!!!!! Channel creation failed !!!!!!!!!!!!!!!!
================== ERROR !!! FAILED to execute End-2-End Scenario ==================

h1. {color:red}But the e2e flow can run at Ubuntu 16.04 {color}","CentOS 7.2 
kernel : Linux fabric.alcor 3.10.0-514.16.1.el7.x86_64
docker: Docker version 17.04.0-ce, build 4845c56",roamerxv,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxr9z:",,,,,,,,,,,,,,,,,,,,,,,,,,,roamerxv,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"08/May/17 4:51 PM;roamerxv;fixed from 346b06 commit ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fix logger module in orderer,FAB-3420,16014,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,baohua,baohua,baohua,26/Apr/17 4:13 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,29/Apr/17 10:42 AM,v1.0.0,,,,,fabric-orderer,,,,,,,0,,,,,,,,"The logger does not match the module, e.g., in orderer/configupdate, the logger module is ""orderer/multichain""

",,baohua,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxra7:",,,,,,,,,,,,,,,,,,,,,,,,,,,baohua,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"26/Apr/17 4:21 PM;baohua;https://gerrit.hyperledger.org/r/#/c/8535/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
code coverage should exclude go files included in bddtests directory,FAB-3422,16017,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,rameshthoomu,rameshthoomu,26/Apr/17 10:59 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,29/Apr/17 5:16 AM,,,,v1.0.0,,fabric-build,,,,,,,0,quality,,,,,,,"code coverage should exclude ""go"" files included in bddtests directory.  Code coverage report is showing bddtests as a package and below is the coverage report showing on bddtests folder
https://jenkins.hyperledger.org/view/fabric/job/fabric-merge-x86_64/1609/cobertura/github_com_hyperledger_fabric_bddtests/

bddtests is a directory created to test functional tests and it is not required to keep these files in unit-test coverage.",,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxran:",,,,,,,,,,,,,,,,,,,,,,,,,,,rameshthoomu,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Ledger Performance test (LevelDB),FAB-3426,16021,15440,Sub-task,Closed,FAB,Fabric,software,denyeart,,,High,Done,AdnanChoudhury,AdnanChoudhury,AdnanChoudhury,27/Apr/17 1:30 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,27/Sep/17 7:41 PM,,,,Future,,fabric-ledger,fabric-quality,,,,,,0,ledger,quality,,,,,,Performance test (throughput in transactions/sec) for Ledger component through the ledger API. Used the test hjarness in https://gerrit.hyperledger.org/r/#/c/6793/ ,,AdnanChoudhury,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-1309,,,,,,,,,,,,,,,"27/Apr/17 2:21 AM;AdnanChoudhury;ExperimentsResults_AdnanC.xlsx;https://jira.hyperledger.org/secure/attachment/10679/ExperimentsResults_AdnanC.xlsx",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxrbb:",,,,,,Sprint 19 - Quality,,,,,,,,,,,,,,,,,,,,,AdnanChoudhury,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"27/Apr/17 2:26 AM;AdnanChoudhury;Throughput was measured with varying 1) number of chaincodes, 2) no. of parallel transactions, 3) key-value size, 4) batch size 5) no. of total keys. The results are in the attached spreadsheet,  ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Ledger Performance test with CouchDB ,FAB-3427,16022,15440,Sub-task,Closed,FAB,Fabric,software,denyeart,,,High,Done,AdnanChoudhury,AdnanChoudhury,AdnanChoudhury,27/Apr/17 1:31 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,28/Nov/17 12:54 AM,,,,Future,,fabric-ledger,fabric-quality,,,,,,0,ledger,quality,,,,,,"Performance test (throughput in transactions/sec) for Ledger component through the ledger API, using CouchDB. Used the test hjarness in https://gerrit.hyperledger.org/r/#/c/6793/
",,AdnanChoudhury,AshishkumarLakshmanan,chris.elder,nitingaur,,,,,,,,,,,,,,,,,,,,,,,,,FAB-2724,FAB-3464,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-1310,,,,,,,,,,FAB-6442,,,,,,,,,,,,,,,"26/Oct/17 12:01 AM;chris.elder;CouchDBLayer_Testing.xlsx;https://jira.hyperledger.org/secure/attachment/12818/CouchDBLayer_Testing.xlsx","10/Nov/17 10:08 AM;chris.elder;EndToEnd_Testing.xlsx;https://jira.hyperledger.org/secure/attachment/13320/EndToEnd_Testing.xlsx","21/Jun/17 4:00 AM;chris.elder;ExperimentsResults_CouchDB_Linux.xlsx;https://jira.hyperledger.org/secure/attachment/11216/ExperimentsResults_CouchDB_Linux.xlsx","24/May/17 12:43 AM;AdnanChoudhury;ExperimentsResults_GolevelDB_CouchDB.xlsx;https://jira.hyperledger.org/secure/attachment/10858/ExperimentsResults_GolevelDB_CouchDB.xlsx","26/Oct/17 12:07 AM;chris.elder;StateDBLayer_Testing.xlsx;https://jira.hyperledger.org/secure/attachment/12819/StateDBLayer_Testing.xlsx",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Impediment,,,,,,"1|hzxrbj:",,,,,,Sprint 19 - Quality,,,,,,,,,,,,,,,,,,,,,AdnanChoudhury,AshishkumarLakshmanan,chris.elder,nitingaur,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"24/May/17 12:43 AM;AdnanChoudhury;Numbers for Ledger Benchmark with CouchDB is in the attached excel file. For reference, the Golleveldb numbers are also included (second and third sheet);;;","21/Jun/17 4:03 AM;chris.elder;Added spreadsheet ExperimentsResults_CouchDB_Linux.

This contains results from the Ledger Benchmark run against CouchDB running locally and inside a docker container.  There are also results for CouchDB with JSON documents and values stored as attachments.

Data was collected using performance recommendations documented in FAB-4243 and FAB-4872.

 ;;;","26/Oct/17 12:06 AM;chris.elder;Added spreadsheet CouchDBLayer_Testing.

This spreadsheet shows results from testing at the fabric couchdb layer.  

Tests were executed to show the difference between single versus bulk CouchDB operations.

Tests show the difference between insert and update operations as well as JSON versus binary values.;;;","26/Oct/17 12:10 AM;chris.elder;Added spreadsheet StateDBLayer_Testing.

This spreadsheet shows results from testing at the fabric statedb layer for CouchDB.  

Tests were executed to show the difference between insert versus update operations and JSON versus binary values.

Purpose of the test is to provide a baseline for end to end testing.;;;","26/Oct/17 12:19 AM;chris.elder;Added spreadsheet EndToEnd_Testing.

This spreadsheet shows:
 * end to end processing for JSON vs binary values
 * effect of increasing batch size
 * effect of increasing the number of chains

Note:  Tests are run both with and without validation.  The validation executes a GetState for every item.  This causes an overall performance degradation. 

 ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
configtxgen should report which configuration is ultimately loaded,FAB-3428,16023,14540,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Low,Done,greg.haskins,greg.haskins,greg.haskins,27/Apr/17 1:41 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,02/May/17 5:03 AM,,,,v1.0.0,,fabric-peer,,,,,,,0,,,,,,,,It would be helpful to the user to understand which configtx.yaml might have been loaded by the configtxgen tool since the configuration selection is partially automated.,,greg.haskins,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxrbr:",,,,,,,,,,,,,,,,,,,,,,,,,,,greg.haskins,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
go-sdk to update e2e test with using an Admin identity to query for installed chaincodes,FAB-3429,16024,15549,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,aleksandar.likic@gmail.com,aleksandar.likic@gmail.com,aleksandar.likic@gmail.com,27/Apr/17 2:18 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,27/Jun/17 1:04 AM,,,,v1.0.0,,fabric-sdk-go,,,,,,,0,,,,,,,,https://gerrit.hyperledger.org/r/#/c/8229 now requires an admin user to install chaincode,,aleksandar.likic@gmail.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3380,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxrbz:",,,,,,Sprint 15 - Crypto,,,,,,,,,,,,,,,,,,,,,aleksandar.likic@gmail.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Demonstrate config updates wrt to MSP update, in particular, CRL",FAB-3430,16025,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,jeffgarratt,jeffgarratt,jeffgarratt,27/Apr/17 2:25 AM,30/Jul/19 11:41 AM,28/Oct/23 2:59 AM,30/Jul/19 11:41 AM,,,,,,fabric-quality,,,,,,,0,quality,,,,,,,,,bmkor,jeffgarratt,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3199,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-1141,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-1141,,,,,,,,,,"1|hzxrc7:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,bmkor,jeffgarratt,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"03/May/17 11:49 PM;jeffgarratt;[~binhn] Spoke with security team and Yacov on scrum this AM.  Yacov pointed out that this functionality cannot be utilized until https://jira.hyperledger.org/browse/FAB-3199 is resolved.;;;","30/Jul/19 11:41 AM;mastersingh24;Open 1 year or more with no activity ... time to cleanup;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Callstack should always be appended when displaying CallStackError in logs,FAB-3431,16026,15565,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wlahti,wlahti,wlahti,27/Apr/17 2:28 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,27/Apr/17 9:31 PM,,,,v1.0.0,,fabric-peer,,,,,,,0,,,,,,,,"The callstack should always be appended to the error message when displaying CallStackError errors in logs. 

This item will remove the dependency on core.yaml for setting the display of the callstack, resulting in all calls to Error() appending the callstack, if available. It also modifies the Message() function to display just the error message without callstack for cases where just the message is needed.",,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxrcf:",,,,,,,,,,,,,,,,,,,,,,,,,,,wlahti,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
make native should build all binary files,FAB-3434,16029,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,rameshthoomu,rameshthoomu,27/Apr/17 5:30 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,27/Apr/17 10:40 PM,,,,v1.0.0,,fabric-build,,,,,,,0,build-system,quality,,,,,,"make native should build ""cryptogen"", ""configtxgen"", ""peer"" and ""orderer""",,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxrcn:",,,,,,,,,,,,,,,,,,,,,,,,,,,rameshthoomu,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
configtx tool failing to generate orderer block to create channel.,FAB-3436,16031,,Bug,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,kchristidis,rickr,rickr,27/Apr/17 9:57 AM,05/Mar/22 8:59 PM,28/Oct/23 2:59 AM,28/Apr/17 7:26 AM,v1.0.0-alpha1,,,WON'T FIX,,fabric-orderer,,,,,,,0,configuration,,,,,,,"The configtx tool was able to generate channel genesis blocks that just needed to be sent to the orderer to create channels.  I've updated the java sdk tests configtx.yaml to add the new consortium's.  Still I'm see an error below

2017-04-26 23:19:31.849 UTC [orderer/main] Broadcast -> DEBU 0c1 Starting new Broadcast handler
2017-04-26 23:19:31.849 UTC [orderer/common/broadcast] Handle -> DEBU 0c2 Starting new broadcast loop
2017-04-26 23:19:31.851 UTC [orderer/common/broadcast] Handle -> DEBU 0c3 Preprocessing CONFIG_UPDATE
2017-04-26 23:19:31.851 UTC [orderer/multichain] Process -> DEBU 0c4 Processing channel creation request for channel foo
2017-04-26 23:19:31.851 UTC [msp] GetLocalMSP -> DEBU 0c5 Returning existing local MSP
2017-04-26 23:19:31.851 UTC [msp] GetDefaultSigningIdentity -> DEBU 0c6 Obtaining default signing identity
2017-04-26 23:19:31.851 UTC [msp] GetLocalMSP -> DEBU 0c7 Returning existing local MSP
2017-04-26 23:19:31.851 UTC [msp] GetDefaultSigningIdentity -> DEBU 0c8 Obtaining default signing identity
2017-04-26 23:19:31.852 UTC [msp] Sign -> DEBU 0c9 Sign: plaintext: 0AC4060A0F08011A060883D684C80522...41646D696E7310021A0641646D696E73 
2017-04-26 23:19:31.852 UTC [msp] Sign -> DEBU 0ca Sign: digest: E0D1A6983E240652243011C535BE65E561437C66227F60A136F3254E6AF5EC9C 
2017-04-26 23:19:31.852 UTC [common/config] NewStandardValues -> DEBU 0cb Initializing protos for *config.ChannelProtos
2017-04-26 23:19:31.852 UTC [common/config] initializeProtosStruct -> DEBU 0cc Processing field: HashingAlgorithm
2017-04-26 23:19:31.852 UTC [common/config] initializeProtosStruct -> DEBU 0cd Processing field: BlockDataHashingStructure
2017-04-26 23:19:31.852 UTC [common/config] initializeProtosStruct -> DEBU 0ce Processing field: OrdererAddresses
2017-04-26 23:19:31.852 UTC [common/config] initializeProtosStruct -> DEBU 0cf Processing field: Consortium
2017-04-26 23:19:31.852 UTC [common/configtx] addToMap -> DEBU 0d0 Adding to config map: [Groups] /Channel
2017-04-26 23:19:31.852 UTC [common/configtx] addToMap -> DEBU 0d1 Adding to config map: [Groups] /Channel/Orderer
2017-04-26 23:19:31.852 UTC [common/configtx] addToMap -> DEBU 0d2 Adding to config map: [Groups] /Channel/Orderer/OrdererOrg
2017-04-26 23:19:31.853 UTC [common/configtx] addToMap -> DEBU 0d3 Adding to config map: [Values] /Channel/Orderer/OrdererOrg/MSP
2017-04-26 23:19:31.853 UTC [common/configtx] addToMap -> DEBU 0d4 Adding to config map: [Policy] /Channel/Orderer/OrdererOrg/Writers
2017-04-26 23:19:31.853 UTC [common/configtx] addToMap -> DEBU 0d5 Adding to config map: [Policy] /Channel/Orderer/OrdererOrg/Admins
2017-04-26 23:19:31.853 UTC [common/configtx] addToMap -> DEBU 0d6 Adding to config map: [Policy] /Channel/Orderer/OrdererOrg/Readers
2017-04-26 23:19:31.853 UTC [common/configtx] addToMap -> DEBU 0d7 Adding to config map: [Values] /Channel/Orderer/ChannelRestrictions
2017-04-26 23:19:31.853 UTC [common/configtx] addToMap -> DEBU 0d8 Adding to config map: [Values] /Channel/Orderer/ConsensusType
2017-04-26 23:19:31.853 UTC [common/configtx] addToMap -> DEBU 0d9 Adding to config map: [Values] /Channel/Orderer/BatchSize
2017-04-26 23:19:31.853 UTC [common/configtx] addToMap -> DEBU 0da Adding to config map: [Values] /Channel/Orderer/BatchTimeout
2017-04-26 23:19:31.853 UTC [common/configtx] addToMap -> DEBU 0db Adding to config map: [Policy] /Channel/Orderer/Writers
2017-04-26 23:19:31.853 UTC [common/configtx] addToMap -> DEBU 0dc Adding to config map: [Policy] /Channel/Orderer/Admins
2017-04-26 23:19:31.853 UTC [common/configtx] addToMap -> DEBU 0dd Adding to config map: [Policy] /Channel/Orderer/BlockValidation
2017-04-26 23:19:31.853 UTC [common/configtx] addToMap -> DEBU 0de Adding to config map: [Policy] /Channel/Orderer/Readers
2017-04-26 23:19:31.853 UTC [common/configtx] addToMap -> DEBU 0df Adding to config map: [Groups] /Channel/Application
2017-04-26 23:19:31.853 UTC [common/configtx] addToMap -> DEBU 0e0 Adding to config map: [Groups] /Channel/Application/Org1MSP
2017-04-26 23:19:31.853 UTC [common/configtx] addToMap -> DEBU 0e1 Adding to config map: [Values] /Channel/Application/Org1MSP/MSP
2017-04-26 23:19:31.853 UTC [common/configtx] addToMap -> DEBU 0e2 Adding to config map: [Policy] /Channel/Application/Org1MSP/Admins
2017-04-26 23:19:31.853 UTC [common/configtx] addToMap -> DEBU 0e3 Adding to config map: [Policy] /Channel/Application/Org1MSP/Readers
2017-04-26 23:19:31.853 UTC [common/configtx] addToMap -> DEBU 0e4 Adding to config map: [Policy] /Channel/Application/Org1MSP/Writers
2017-04-26 23:19:31.853 UTC [common/configtx] addToMap -> DEBU 0e5 Adding to config map: [Groups] /Channel/Application/Org2MSP
2017-04-26 23:19:31.853 UTC [common/configtx] addToMap -> DEBU 0e6 Adding to config map: [Values] /Channel/Application/Org2MSP/MSP
2017-04-26 23:19:31.853 UTC [common/configtx] addToMap -> DEBU 0e7 Adding to config map: [Policy] /Channel/Application/Org2MSP/Readers
2017-04-26 23:19:31.853 UTC [common/configtx] addToMap -> DEBU 0e8 Adding to config map: [Policy] /Channel/Application/Org2MSP/Writers
2017-04-26 23:19:31.853 UTC [common/configtx] addToMap -> DEBU 0e9 Adding to config map: [Policy] /Channel/Application/Org2MSP/Admins
2017-04-26 23:19:31.853 UTC [common/configtx] addToMap -> DEBU 0ea Adding to config map: [Policy] /Channel/Application/ChannelCreationPolicy
2017-04-26 23:19:31.853 UTC [common/configtx] addToMap -> DEBU 0eb Adding to config map: [Values] /Channel/Consortium
2017-04-26 23:19:31.853 UTC [common/configtx] addToMap -> DEBU 0ec Adding to config map: [Values] /Channel/OrdererAddresses
2017-04-26 23:19:31.853 UTC [common/configtx] addToMap -> DEBU 0ed Adding to config map: [Values] /Channel/HashingAlgorithm
2017-04-26 23:19:31.853 UTC [common/configtx] addToMap -> DEBU 0ee Adding to config map: [Values] /Channel/BlockDataHashingStructure
2017-04-26 23:19:31.853 UTC [common/configtx] addToMap -> DEBU 0ef Adding to config map: [Policy] /Channel/Readers
2017-04-26 23:19:31.853 UTC [common/configtx] addToMap -> DEBU 0f0 Adding to config map: [Policy] /Channel/Writers
2017-04-26 23:19:31.854 UTC [common/configtx] addToMap -> DEBU 0f1 Adding to config map: [Policy] /Channel/Admins
2017-04-26 23:19:31.854 UTC [common/configtx] processConfig -> DEBU 0f2 Beginning new config for channel foo
2017-04-26 23:19:31.854 UTC [common/config] NewStandardValues -> DEBU 0f3 Initializing protos for *config.ChannelProtos
2017-04-26 23:19:31.854 UTC [common/config] initializeProtosStruct -> DEBU 0f4 Processing field: HashingAlgorithm
2017-04-26 23:19:31.854 UTC [common/config] initializeProtosStruct -> DEBU 0f5 Processing field: BlockDataHashingStructure
2017-04-26 23:19:31.854 UTC [common/config] initializeProtosStruct -> DEBU 0f6 Processing field: OrdererAddresses
2017-04-26 23:19:31.854 UTC [common/config] initializeProtosStruct -> DEBU 0f7 Processing field: Consortium
2017-04-26 23:19:31.854 UTC [common/policies] ProposePolicy -> DEBU 0f8 Proposed new policy Readers for Channel
2017-04-26 23:19:31.854 UTC [common/policies] ProposePolicy -> DEBU 0f9 Proposed new policy Writers for Channel
2017-04-26 23:19:31.854 UTC [common/policies] ProposePolicy -> DEBU 0fa Proposed new policy Admins for Channel
2017-04-26 23:19:31.854 UTC [common/config] NewStandardValues -> DEBU 0fb Initializing protos for *struct {}
2017-04-26 23:19:31.854 UTC [common/policies] ProposePolicy -> DEBU 0fc Proposed new policy ChannelCreationPolicy for Application
2017-04-26 23:19:31.854 UTC [common/config] NewStandardValues -> DEBU 0fd Initializing protos for *config.OrganizationProtos
2017-04-26 23:19:31.854 UTC [common/config] initializeProtosStruct -> DEBU 0fe Processing field: MSP
2017-04-26 23:19:31.854 UTC [common/config] NewStandardValues -> DEBU 0ff Initializing protos for *config.ApplicationOrgProtos
2017-04-26 23:19:31.854 UTC [common/config] initializeProtosStruct -> DEBU 100 Processing field: AnchorPeers
2017-04-26 23:19:31.854 UTC [common/config] NewStandardValues -> DEBU 101 Initializing protos for *config.OrganizationProtos
2017-04-26 23:19:31.854 UTC [common/config] initializeProtosStruct -> DEBU 102 Processing field: MSP
2017-04-26 23:19:31.854 UTC [common/policies] ProposePolicy -> DEBU 103 Proposed new policy Writers for Org1MSP
2017-04-26 23:19:31.854 UTC [common/policies] ProposePolicy -> DEBU 104 Proposed new policy Admins for Org1MSP
2017-04-26 23:19:31.854 UTC [common/policies] ProposePolicy -> DEBU 105 Proposed new policy Readers for Org1MSP
2017-04-26 23:19:31.854 UTC [common/config] NewStandardValues -> DEBU 106 Initializing protos for *config.OrganizationProtos
2017-04-26 23:19:31.854 UTC [common/config] initializeProtosStruct -> DEBU 107 Processing field: MSP
2017-04-26 23:19:31.854 UTC [common/config] NewStandardValues -> DEBU 108 Initializing protos for *config.ApplicationOrgProtos
2017-04-26 23:19:31.854 UTC [common/config] initializeProtosStruct -> DEBU 109 Processing field: AnchorPeers
2017-04-26 23:19:31.854 UTC [common/config] NewStandardValues -> DEBU 10a Initializing protos for *config.OrganizationProtos
2017-04-26 23:19:31.854 UTC [common/config] initializeProtosStruct -> DEBU 10b Processing field: MSP
2017-04-26 23:19:31.854 UTC [common/policies] ProposePolicy -> DEBU 10c Proposed new policy Writers for Org2MSP
2017-04-26 23:19:31.854 UTC [common/policies] ProposePolicy -> DEBU 10d Proposed new policy Admins for Org2MSP
2017-04-26 23:19:31.854 UTC [common/policies] ProposePolicy -> DEBU 10e Proposed new policy Readers for Org2MSP
2017-04-26 23:19:31.854 UTC [common/config] NewStandardValues -> DEBU 10f Initializing protos for *config.OrdererProtos
2017-04-26 23:19:31.854 UTC [common/config] initializeProtosStruct -> DEBU 110 Processing field: ConsensusType
2017-04-26 23:19:31.854 UTC [common/config] initializeProtosStruct -> DEBU 111 Processing field: BatchSize
2017-04-26 23:19:31.854 UTC [common/config] initializeProtosStruct -> DEBU 112 Processing field: BatchTimeout
2017-04-26 23:19:31.854 UTC [common/config] initializeProtosStruct -> DEBU 113 Processing field: KafkaBrokers
2017-04-26 23:19:31.854 UTC [common/config] initializeProtosStruct -> DEBU 114 Processing field: ChannelRestrictions
2017-04-26 23:19:31.854 UTC [common/policies] ProposePolicy -> DEBU 115 Proposed new policy BlockValidation for Orderer
2017-04-26 23:19:31.854 UTC [common/policies] ProposePolicy -> DEBU 116 Proposed new policy Readers for Orderer
2017-04-26 23:19:31.854 UTC [common/policies] ProposePolicy -> DEBU 117 Proposed new policy Writers for Orderer
2017-04-26 23:19:31.854 UTC [common/policies] ProposePolicy -> DEBU 118 Proposed new policy Admins for Orderer
2017-04-26 23:19:31.854 UTC [common/config] NewStandardValues -> DEBU 119 Initializing protos for *config.OrganizationProtos
2017-04-26 23:19:31.854 UTC [common/config] initializeProtosStruct -> DEBU 11a Processing field: MSP
2017-04-26 23:19:31.854 UTC [common/policies] ProposePolicy -> DEBU 11b Proposed new policy Writers for OrdererOrg
2017-04-26 23:19:31.854 UTC [common/policies] ProposePolicy -> DEBU 11c Proposed new policy Admins for OrdererOrg
2017-04-26 23:19:31.854 UTC [common/policies] ProposePolicy -> DEBU 11d Proposed new policy Readers for OrdererOrg
2017-04-26 23:19:31.854 UTC [common/config] Validate -> DEBU 11e Anchor peers for org Org1MSP are 
2017-04-26 23:19:31.854 UTC [common/config] validateMSP -> DEBU 11f Setting up MSP for org Org1MSP
2017-04-26 23:19:31.854 UTC [msp] NewBccspMsp -> DEBU 120 Creating BCCSP-based MSP instance
2017-04-26 23:19:31.854 UTC [msp] Setup -> DEBU 121 Setting up MSP instance Org1MSP
2017-04-26 23:19:31.854 UTC [msp] newIdentity -> DEBU 122 Creating identity instance for ID &{Org1MSP 8a03a757924fd249cd609c60719780ace21d649d892c177ac6cb8ecf02127f39}
2017-04-26 23:19:31.855 UTC [msp] newIdentity -> DEBU 123 Creating identity instance for ID &{Org1MSP 1feeda560f9425b089edbc571b923159b2462f7d62e97577a89f6a0b16709abc}
2017-04-26 23:19:31.855 UTC [common/config] Validate -> DEBU 124 Anchor peers for org Org2MSP are 
2017-04-26 23:19:31.855 UTC [common/config] validateMSP -> DEBU 125 Setting up MSP for org Org2MSP
2017-04-26 23:19:31.855 UTC [msp] NewBccspMsp -> DEBU 126 Creating BCCSP-based MSP instance
2017-04-26 23:19:31.856 UTC [msp] Setup -> DEBU 127 Setting up MSP instance Org2MSP
2017-04-26 23:19:31.856 UTC [msp] newIdentity -> DEBU 128 Creating identity instance for ID &{Org2MSP 3971628dbab6b934978a2c3cebd413fbdc8b3cd38be3ff442712f6c2515f4999}
2017-04-26 23:19:31.856 UTC [msp] newIdentity -> DEBU 129 Creating identity instance for ID &{Org2MSP 370935b33a8fb9e8df25f18f201304febe89cd638bc615c5e85a9681217da8a8}
2017-04-26 23:19:31.856 UTC [common/config] validateMSP -> DEBU 12a Setting up MSP for org OrdererOrg
2017-04-26 23:19:31.856 UTC [msp] NewBccspMsp -> DEBU 12b Creating BCCSP-based MSP instance
2017-04-26 23:19:31.856 UTC [msp] Setup -> DEBU 12c Setting up MSP instance OrdererMSP
2017-04-26 23:19:31.856 UTC [msp] newIdentity -> DEBU 12d Creating identity instance for ID &{OrdererMSP fec9bbd47a8924443925bbdc8a799b01736edbb75fcc3628e77bbb428e62bcfd}
2017-04-26 23:19:31.856 UTC [msp] newIdentity -> DEBU 12e Creating identity instance for ID &{OrdererMSP e8971507b57c6d09466ee8d43223a9b50d79d0e44cdfcee247e5e919b76846f6}
2017-04-26 23:19:31.856 UTC [msp] Setup -> DEBU 12f Setting up the MSP manager (3 msps)
2017-04-26 23:19:31.856 UTC [msp] Setup -> DEBU 130 MSP manager setup complete, setup 3 msps
2017-04-26 23:19:31.856 UTC [common/policies] GetPolicy -> DEBU 131 Returning policy Writers for evaluation
2017-04-26 23:19:31.856 UTC [common/policies] CommitProposals -> DEBU 132 In commit adding relative sub-policy Org1MSP/Writers to Application
2017-04-26 23:19:31.856 UTC [common/policies] GetPolicy -> DEBU 133 Returning policy Admins for evaluation
2017-04-26 23:19:31.856 UTC [common/policies] CommitProposals -> DEBU 134 In commit adding relative sub-policy Org1MSP/Admins to Application
2017-04-26 23:19:31.856 UTC [common/policies] GetPolicy -> DEBU 135 Returning policy Readers for evaluation
2017-04-26 23:19:31.856 UTC [common/policies] CommitProposals -> DEBU 136 In commit adding relative sub-policy Org1MSP/Readers to Application
2017-04-26 23:19:31.856 UTC [common/policies] GetPolicy -> DEBU 137 Returning policy Writers for evaluation
2017-04-26 23:19:31.856 UTC [common/policies] CommitProposals -> DEBU 138 In commit adding relative sub-policy Org2MSP/Writers to Application
2017-04-26 23:19:31.856 UTC [common/policies] GetPolicy -> DEBU 139 Returning policy Admins for evaluation
2017-04-26 23:19:31.856 UTC [common/policies] CommitProposals -> DEBU 13a In commit adding relative sub-policy Org2MSP/Admins to Application
2017-04-26 23:19:31.856 UTC [common/policies] GetPolicy -> DEBU 13b Returning policy Readers for evaluation
2017-04-26 23:19:31.856 UTC [common/policies] CommitProposals -> DEBU 13c In commit adding relative sub-policy Org2MSP/Readers to Application
2017-04-26 23:19:31.856 UTC [common/policies] GetPolicy -> DEBU 13d Returning policy Admins for evaluation
2017-04-26 23:19:31.856 UTC [common/policies] GetPolicy -> DEBU 13e Returning policy Admins for evaluation
2017-04-26 23:19:31.856 UTC [common/policies] GetPolicy -> DEBU 13f Returning policy Writers for evaluation
2017-04-26 23:19:31.856 UTC [common/policies] CommitProposals -> DEBU 140 In commit adding relative sub-policy OrdererOrg/Writers to Orderer
2017-04-26 23:19:31.856 UTC [common/policies] GetPolicy -> DEBU 141 Returning policy Admins for evaluation
2017-04-26 23:19:31.856 UTC [common/policies] CommitProposals -> DEBU 142 In commit adding relative sub-policy OrdererOrg/Admins to Orderer
2017-04-26 23:19:31.856 UTC [common/policies] GetPolicy -> DEBU 143 Returning policy Readers for evaluation
2017-04-26 23:19:31.856 UTC [common/policies] CommitProposals -> DEBU 144 In commit adding relative sub-policy OrdererOrg/Readers to Orderer
2017-04-26 23:19:31.856 UTC [common/policies] GetPolicy -> DEBU 145 Returning policy Writers for evaluation
2017-04-26 23:19:31.856 UTC [common/policies] GetPolicy -> DEBU 146 Returning policy Readers for evaluation
2017-04-26 23:19:31.856 UTC [common/policies] GetPolicy -> DEBU 147 Returning policy Writers for evaluation
2017-04-26 23:19:31.856 UTC [common/policies] GetPolicy -> DEBU 148 Returning policy Admins for evaluation
2017-04-26 23:19:31.856 UTC [common/policies] GetPolicy -> DEBU 149 Returning policy Org2MSP/Readers for evaluation
2017-04-26 23:19:31.856 UTC [common/policies] CommitProposals -> DEBU 14a In commit adding relative sub-policy Application/Org2MSP/Readers to Channel
2017-04-26 23:19:31.856 UTC [common/policies] GetPolicy -> DEBU 14b Returning policy ChannelCreationPolicy for evaluation
2017-04-26 23:19:31.856 UTC [common/policies] CommitProposals -> DEBU 14c In commit adding relative sub-policy Application/ChannelCreationPolicy to Channel
2017-04-26 23:19:31.856 UTC [common/policies] GetPolicy -> DEBU 14d Returning policy Org1MSP/Writers for evaluation
2017-04-26 23:19:31.856 UTC [common/policies] CommitProposals -> DEBU 14e In commit adding relative sub-policy Application/Org1MSP/Writers to Channel
2017-04-26 23:19:31.856 UTC [common/policies] GetPolicy -> DEBU 14f Returning policy Org1MSP/Admins for evaluation
2017-04-26 23:19:31.856 UTC [common/policies] CommitProposals -> DEBU 150 In commit adding relative sub-policy Application/Org1MSP/Admins to Channel
2017-04-26 23:19:31.856 UTC [common/policies] GetPolicy -> DEBU 151 Returning policy Org1MSP/Readers for evaluation
2017-04-26 23:19:31.856 UTC [common/policies] CommitProposals -> DEBU 152 In commit adding relative sub-policy Application/Org1MSP/Readers to Channel
2017-04-26 23:19:31.856 UTC [common/policies] GetPolicy -> DEBU 153 Returning policy Org2MSP/Writers for evaluation
2017-04-26 23:19:31.856 UTC [common/policies] CommitProposals -> DEBU 154 In commit adding relative sub-policy Application/Org2MSP/Writers to Channel
2017-04-26 23:19:31.856 UTC [common/policies] GetPolicy -> DEBU 155 Returning policy Org2MSP/Admins for evaluation
2017-04-26 23:19:31.856 UTC [common/policies] CommitProposals -> DEBU 156 In commit adding relative sub-policy Application/Org2MSP/Admins to Channel
2017-04-26 23:19:31.856 UTC [common/policies] GetPolicy -> DEBU 157 Returning policy Writers for evaluation
2017-04-26 23:19:31.856 UTC [common/policies] CommitProposals -> DEBU 158 In commit adding relative sub-policy Orderer/Writers to Channel
2017-04-26 23:19:31.856 UTC [common/policies] GetPolicy -> DEBU 159 Returning policy Admins for evaluation
2017-04-26 23:19:31.856 UTC [common/policies] CommitProposals -> DEBU 15a In commit adding relative sub-policy Orderer/Admins to Channel
2017-04-26 23:19:31.856 UTC [common/policies] GetPolicy -> DEBU 15b Returning policy OrdererOrg/Writers for evaluation
2017-04-26 23:19:31.856 UTC [common/policies] CommitProposals -> DEBU 15c In commit adding relative sub-policy Orderer/OrdererOrg/Writers to Channel
2017-04-26 23:19:31.856 UTC [common/policies] GetPolicy -> DEBU 15d Returning policy OrdererOrg/Admins for evaluation
2017-04-26 23:19:31.856 UTC [common/policies] CommitProposals -> DEBU 15e In commit adding relative sub-policy Orderer/OrdererOrg/Admins to Channel
2017-04-26 23:19:31.856 UTC [common/policies] GetPolicy -> DEBU 15f Returning policy OrdererOrg/Readers for evaluation
2017-04-26 23:19:31.856 UTC [common/policies] CommitProposals -> DEBU 160 In commit adding relative sub-policy Orderer/OrdererOrg/Readers to Channel
2017-04-26 23:19:31.856 UTC [common/policies] GetPolicy -> DEBU 161 Returning policy BlockValidation for evaluation
2017-04-26 23:19:31.856 UTC [common/policies] CommitProposals -> DEBU 162 In commit adding relative sub-policy Orderer/BlockValidation to Channel
2017-04-26 23:19:31.856 UTC [common/policies] GetPolicy -> DEBU 163 Returning policy Readers for evaluation
2017-04-26 23:19:31.856 UTC [common/policies] CommitProposals -> DEBU 164 In commit adding relative sub-policy Orderer/Readers to Channel
2017-04-26 23:19:31.856 UTC [common/policies] GetPolicy -> DEBU 165 Returning dummy reject all policy because Readers could not be found in /Application/Readers
2017-04-26 23:19:31.856 UTC [common/policies] GetPolicy -> DEBU 166 Returning policy Readers for evaluation
2017-04-26 23:19:31.856 UTC [common/policies] GetPolicy -> DEBU 167 Returning dummy reject all policy because Writers could not be found in /Application/Writers
2017-04-26 23:19:31.856 UTC [common/policies] GetPolicy -> DEBU 168 Returning policy Writers for evaluation
2017-04-26 23:19:31.856 UTC [common/policies] GetPolicy -> DEBU 169 Returning dummy reject all policy because Admins could not be found in /Application/Admins
2017-04-26 23:19:31.856 UTC [common/policies] GetPolicy -> DEBU 16a Returning policy Admins for evaluation
2017-04-26 23:19:31.856 UTC [common/policies] GetPolicy -> DEBU 16b Returning policy Readers for evaluation
2017-04-26 23:19:31.856 UTC [common/policies] CommitProposals -> DEBU 16c As expected, current configuration has policy '/Channel/Readers'
2017-04-26 23:19:31.856 UTC [common/policies] GetPolicy -> DEBU 16d Returning policy Writers for evaluation
2017-04-26 23:19:31.856 UTC [common/policies] CommitProposals -> DEBU 16e As expected, current configuration has policy '/Channel/Writers'
2017-04-26 23:19:31.856 UTC [common/policies] GetPolicy -> DEBU 16f Returning dummy reject all policy because /Channel/Application/Readers could not be found in /Channel/Application/Readers
2017-04-26 23:19:31.856 UTC [common/policies] CommitProposals -> WARN 170 Current configuration has no policy '/Channel/Application/Readers', this will likely cause problems in production systems
2017-04-26 23:19:31.856 UTC [common/policies] GetPolicy -> DEBU 171 Returning dummy reject all policy because /Channel/Application/Writers could not be found in /Channel/Application/Writers
2017-04-26 23:19:31.856 UTC [common/policies] CommitProposals -> WARN 172 Current configuration has no policy '/Channel/Application/Writers', this will likely cause problems in production systems
2017-04-26 23:19:31.856 UTC [common/policies] GetPolicy -> DEBU 173 Returning dummy reject all policy because /Channel/Application/Admins could not be found in /Channel/Application/Admins
2017-04-26 23:19:31.856 UTC [common/policies] CommitProposals -> WARN 174 Current configuration has no policy '/Channel/Application/Admins', this will likely cause problems in production systems
2017-04-26 23:19:31.857 UTC [common/policies] GetPolicy -> DEBU 175 Returning policy Orderer/BlockValidation for evaluation
2017-04-26 23:19:31.857 UTC [common/policies] CommitProposals -> DEBU 176 As expected, current configuration has policy '/Channel/Orderer/BlockValidation'
2017-04-26 23:19:31.857 UTC [common/configtx] addToMap -> DEBU 177 Adding to config map: [Groups] /Channel
2017-04-26 23:19:31.859 UTC [common/configtx] addToMap -> DEBU 178 Adding to config map: [Groups] /Channel/Application
2017-04-26 23:19:31.859 UTC [common/configtx] addToMap -> DEBU 179 Adding to config map: [Groups] /Channel/Application/Org1MSP
2017-04-26 23:19:31.859 UTC [common/configtx] addToMap -> DEBU 17a Adding to config map: [Groups] /Channel/Application/Org2MSP
2017-04-26 23:19:31.859 UTC [common/configtx] addToMap -> DEBU 17b Adding to config map: [Values] /Channel/Consortium
2017-04-26 23:19:31.859 UTC [common/configtx] addToMap -> DEBU 17c Adding to config map: [Groups] /Channel
2017-04-26 23:19:31.859 UTC [common/configtx] addToMap -> DEBU 17d Adding to config map: [Groups] /Channel/Application
2017-04-26 23:19:31.859 UTC [common/configtx] addToMap -> DEBU 17e Adding to config map: [Groups] /Channel/Application/Org1MSP
2017-04-26 23:19:31.859 UTC [common/configtx] addToMap -> DEBU 17f Adding to config map: [Groups] /Channel/Application/Org2MSP
2017-04-26 23:19:31.859 UTC [common/configtx] addToMap -> DEBU 180 Adding to config map: [Policy] /Channel/Application/Admins
2017-04-26 23:19:31.859 UTC [common/configtx] addToMap -> DEBU 181 Adding to config map: [Policy] /Channel/Application/Writers
2017-04-26 23:19:31.859 UTC [common/configtx] addToMap -> DEBU 182 Adding to config map: [Policy] /Channel/Application/Readers
2017-04-26 23:19:31.859 UTC [common/configtx] addToMap -> DEBU 183 Adding to config map: [Values] /Channel/Consortium
2017-04-26 23:19:31.859 UTC [common/policies] GetPolicy -> DEBU 184 Returning policy ChannelCreationPolicy for evaluation
2017-04-26 23:19:31.859 UTC [cauthdsl] func1 -> DEBU 185 Gate evaluation starts: (&{n:1 policies:<signed_by:0 > })
2017-04-26 23:19:31.859 UTC [cauthdsl] func2 -> DEBU 186 Principal evaluation starts: (&{0}) (used [false])
2017-04-26 23:19:31.859 UTC [cauthdsl] func2 -> ERRO 187 Principal deserialization failed: (Could not deserialize a SerializedIdentity, err unexpected EOF) for identity [99 101 114 116]
2017-04-26 23:19:31.859 UTC [cauthdsl] func2 -> DEBU 188 Principal evaluation fails: (&{0}) [false]
2017-04-26 23:19:31.859 UTC [cauthdsl] func1 -> DEBU 189 Gate evaluation fails: (&{n:1 policies:<signed_by:0 > })
2017-04-26 23:19:31.859 UTC [cauthdsl] func1 -> DEBU 18a Gate evaluation starts: (&{n:1 policies:<signed_by:0 > })
2017-04-26 23:19:31.859 UTC [cauthdsl] func2 -> DEBU 18b Principal evaluation starts: (&{0}) (used [false])
2017-04-26 23:19:31.860 UTC [cauthdsl] func2 -> ERRO 18c Principal deserialization failed: (Could not deserialize a SerializedIdentity, err unexpected EOF) for identity [99 101 114 116]
2017-04-26 23:19:31.860 UTC [cauthdsl] func2 -> DEBU 18d Principal evaluation fails: (&{0}) [false]
2017-04-26 23:19:31.860 UTC [cauthdsl] func1 -> DEBU 18e Gate evaluation fails: (&{n:1 policies:<signed_by:0 > })
2017-04-26 23:19:31.860 UTC [orderer/common/broadcast] Handle -> WARN 18f Rejecting CONFIG_UPDATE because: Error authorizing update: Error validating DeltaSet: Policy for [Groups] /Channel/Application not satisfied: Failed to reach implicit threshold of 1 sub-policies, required 1 remaining ",,bmkor,kchristidis,mastersingh24,nhrishi,rickr,stallone977,zuochuanmin,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxrcv:",,,,,,,,,,,,,,,,,,,,,,,,,,,bmkor,kchristidis,mastersingh24,nhrishi,rickr,stallone977,zuochuanmin,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"28/Apr/17 7:16 AM;kchristidis;Hi Rick, you are not signing the configupdate envelope in a way that satisfies the mod_policy of the application config group. This mod_policy defaults to the consortium's ChannelCreationPolicy. If you're using configtxgen to set up your consortiums, this ChannelCreationPolicy defaults to ANY of the participating org's ADMINS. So, as long as one of the admins of any of the orgs that participate in the new channel signs off on this configupdate envelope you will be good to go.

As always, the E2E CLI test and [~jeffgarratt]'s bootstrap.feature are good guides on how to get this to work.;;;","28/Apr/17 7:21 AM;rickr;There  has been need ever to sign the binary that we get from configtx. 
;;;","28/Apr/17 7:25 AM;kchristidis;Indeed that used to be case, because the way configtxgen used to work, it was a free-for-all (ACCEPT_ALL policy in place) and no actual ACL enforcement was in place.

With the latest set of patches, this changes. Refer to this changeset for more details: https://gerrit.hyperledger.org/r/#/c/7105/

Concretely: https://github.com/hyperledger/fabric/blob/master/peer/channel/create.go#L123...L135;;;","28/Apr/17 7:31 AM;rickr;How does the SDKs know the polices in place and who has the sign ?
This was like the admin root certs we get. It should be signed already by the confitx tool
;;;","28/Apr/17 7:54 AM;kchristidis;Ah, excellent question. When the consortium is created, the members agree on the ChannelCreationPolicy that will apply. I am guessing that this is information that has to be maintained by the application during that agreement phase, and which needs to be consulted whenever a channel creation occurs.

What concerns me here (besides the sheer impracticality of what I wrote above) -- and what's tangentially related to your question-- is the following:

How are _any_ changes on the consortium communicated back to the member orgs? Say, we want to modify the channel creation policy, or take org ""foo"" out of the consortium. Submitting such a transaction to the ordering service is relatively obvious. What is not obvious is how this change is communicated back to the member orgs. It almost feels like there's a need for yet another chain to keep track of. But I have not been involved in the design process of this so my usefulness ends here.;;;","28/Apr/17 7:57 AM;kchristidis;{quote}This was like the admin root certs we get. It should be signed already by the confitx tool{quote}

This bit was added while I was writing my previous response. I would note that the configtxgen tool suffers from the same ""how do I know how to sign"" problem that the SDK faces, so this suggestion doesn't really solve anything.;;;","28/Apr/17 8:01 AM;mastersingh24;This is why I continue to say that we should not be implementing all this stuff in each and every SDK.
It's fine for the SDK to submit the final blob as a transaction to the orderer, but otherwise it gets hairy because typically there's going to be some sort of workflow which requires collection of multiple signatures.

The SDK does not really need to know these policies because unless the policy only requires a single signature (which is the default case), it won't even have access to all the keys required to sign.;;;","28/Apr/17 8:15 AM;kchristidis;I'm with you but what is still not clear to me is: _who_ keeps track of the signatures that need to be added. (Also the specifics of that workflow, but I'll defer that for now.);;;","20/Jul/17 11:13 AM;zuochuanmin;I also encountered the same issue, who can tell me the final solution to fix? Thanks a lot in advance.

The folloowing is the details of error message:

Error: Got unexpected status: BAD_REQUEST
orderer.example.com | 2017-07-20 01:47:12.949 UTC [orderer/common/broadcast] Handle -> 
WARN 20d Rejecting CONFIG_UPDATE because: Error authorizing update: Error validating DeltaSet: 
Policy for [Groups] /Channel/Application not satisfied: 
Failed to reach implicit threshold of 1 sub-policies, required 1 remaining;;;","20/Jul/17 11:15 AM;zuochuanmin; Besides, I use following command to generate genesis.block:
./configtxgen -profile TwoOrgsOrdererGenesis -outputBlock genesis.block
The fabric version I'm using is 1.0.0.;;;","05/Mar/22 8:59 PM;stallone977;Hi,bro. Have you solved this problem? I also encountered the same problem with you. Thanks!;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Load -> CRIT 002 Error reading configuration: Unsupported Config Type """"",FAB-3438,16033,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,mastersingh24,sanjay-saxena,sanjay-saxena,27/Apr/17 3:00 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,01/Jun/17 5:31 PM,v1.0.0-alpha1,,,Not a Bug,,fabric-docs,,,,,,,1,,,,,,,,"Using the formal instructions --  
http://hyperledger-fabric.readthedocs.io/en/latest/getting_startedv2.html -- on *macOS 10.12.1*, when I try to use the {{configtxgen}}  tool to create the ordering service genesis block and a channel configuration artifact as shown below:

{{Sanjays-MacBook-Pro:e2e sanjaysaxena$ ./../../$os_arch/bin/configtxgen -profile TwoOrgs -outputBlock orderer.block}}

I see the following error:

{noformat}
2017-04-26 15:50:41.736 PDT [common/configtx/tool] main -> INFO 001 Loading configuration
2017-04-26 15:50:41.736 PDT [configtx/tool/localconfig] Load -> CRIT 002 Error reading configuration: Unsupported Config Type """"
panic: Error reading configuration: Unsupported Config Type """"

goroutine 1 [running]:
panic(0x490d00, 0xc420179f90)
	/opt/go/go1.7.linux.amd64/src/runtime/panic.go:500 +0x1a1
github.com/hyperledger/fabric/vendor/github.com/op/go-logging.(*Logger).Panicf(0xc4201d2330, 0x5663ea, 0x1f, 0xc420179eb0, 0x1, 0x1)
	/w/workspace/fabric-verify-x86_64_1/gopath/src/github.com/hyperledger/fabric/vendor/github.com/op/go-logging/logger.go:194 +0x127
github.com/hyperledger/fabric/common/configtx/tool/localconfig.Load(0x7fff5fbff8de, 0x7, 0x0)
	/w/workspace/fabric-verify-x86_64_1/gopath/src/github.com/hyperledger/fabric/common/configtx/tool/localconfig/config.go:195 +0x79c
main.main()
	/w/workspace/fabric-verify-x86_64_1/gopath/src/github.com/hyperledger/fabric/common/configtx/tool/configtxgen/main.go:204 +0x405
{noformat}

This issue is also being seen on Windows.",,indirajith,mastersingh24,nnao,raheelz,sanjay-saxena,zamrokk,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxrdb:",,,,,,,,,,,,,,,,,,,,,,,,,,,indirajith,mastersingh24,nnao,raheelz,sanjay-saxena,zamrokk,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"29/Apr/17 7:50 AM;raheelz;This particular issue was resolved for me on my windows machine when using the ""release"" from here:
https://logs.hyperledger.org/sandbox/vex-yul-hyp-jenkins-2/fabric-verify-x86_64/28/

I found the link from here: https://jira.hyperledger.org/browse/FAB-2986

However, with this release, I am seeing an error when instantiating chaincode:
{quote}Error: Error endorsing chaincode: rpc error: code = 2 desc = open /var/hyperledger/production/chaincodes/mychaincode.1.0: no such file or directory{quote};;;","29/Apr/17 8:30 AM;sanjay-saxena;[~raheelz] Please file a separate jira ticket for the chaincode instantiation issue. Once ticket should deal with just one issue for sanity purposes.;;;","01/May/17 6:27 AM;raheelz;Sounds good.;;;","30/May/17 8:18 PM;indirajith;Yes, me too encountering this problem on my Ubuntu. Every time I get different issues. ;;;","01/Jun/17 5:30 PM;mastersingh24;The original error reference in this JIRA occurs because configtxgen cannot find the config file.  This is likely due to the fact that *FABRIC_CFG_PATH* is not being set properly.  Not sure if the docs were wrong at the time, but the current getting started does say to set *FABRIC_CFG_PATH=$PWD*.

Closing this.
;;;","21/Feb/18 6:49 PM;zamrokk;I agree with Gari , but it would be great if we could have an option to point to the config file;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Note in Getting Started doc incorrectly specifies ""peer2"" as anchor peer in configtx.yaml",FAB-3439,16034,,Bug,Closed,FAB,Fabric,software,denyeart,,,Lowest,Done,,sanjay-saxena,sanjay-saxena,27/Apr/17 3:08 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,24/May/17 5:22 AM,v1.0.0-alpha1,,,v1.0.0,,fabric-docs,,,,,,,0,,,,,,,,"In http://hyperledger-fabric.readthedocs.io/en/latest/getting_startedv2.html, a Note in the {{Using the configtxgen tool}} section looks as shown below:

{panel:title=Note}
The configtx.yaml file contains the definitions for our sample network and presents the topology of the network components - three members (OrdererOrg, Org0 & Org1), and the anchor peers for each PeerOrg (peer0 and peer2). ....
{panel}

However, {{configtx.yaml}} does *not* contain any reference to *peer2*.",,ChristopherFerris,nickgaski,raheelz,sanjay-saxena,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxrdj:",,,,,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,nickgaski,raheelz,sanjay-saxena,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"28/Apr/17 1:29 AM;nickgaski;good catch.  the anchor peers are peer0.Org1 and peer0.Org2;;;","28/Apr/17 2:53 AM;ChristopherFerris;[~nickgaski]  , can we please fix this so that others don't hit? Unclear why you lowered the priority. I was the one made it high;-);;;","28/Apr/17 3:33 AM;nickgaski;addressed here https://gerrit.hyperledger.org/r/#/c/8591/;;;","28/Apr/17 4:22 AM;sanjay-saxena;It would be good if the numbering scheme(0-based or 1-based) between the peers and the orgs is consistent. For example, *peer0* {{-->}} *Org0*, *Org1*. Or, *peer1* {{->}} *Org1*, *Org2*.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fix orderer panic msg,FAB-3440,16035,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,baohua,baohua,baohua,27/Apr/17 5:41 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,02/May/17 10:17 AM,v1.0.0,,,v1.0.0,,fabric-orderer,,,,,,,0,,,,,,,,"The existing panic msg is misleading with content like

panic: Could not find profileSampleInsecureSolo",,baohua,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxrdr:",,,,,,,,,,,,,,,,,,,,,,,,,,,baohua,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"27/Apr/17 5:47 PM;baohua;http://gerrit.hyperledger.org/r/8625;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
As a fabric developer I want the test coverage of the bccsp package to be over 85%,FAB-3441,16036,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,angelo.decaro,angelo.decaro,angelo.decaro,27/Apr/17 6:14 PM,21/Jul/18 3:54 AM,28/Oct/23 2:59 AM,18/May/17 8:41 AM,,,,,,,,,,,,,0,,,,,,,,"In particular this FAB will focus on the test coverage of the following sub-packages:
- bccsp/
- bccsp/signer
- bccsp/sw
- bccsp/factory

Unit-tests and refactoring of the code will be introduced.
",,angelo.decaro,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzxrdz:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,angelo.decaro,yacovm,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"20/May/17 10:05 PM;yacovm;https://jira.hyperledger.org/browse/FAB-4071;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Need document for Fabric peer logging level's set/change/revert for specified subcomponent,FAB-3442,16037,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,amber-zhang,amber-zhang,27/Apr/17 6:52 PM,21/Jul/18 3:56 AM,28/Oct/23 2:59 AM,08/Aug/17 2:17 AM,,,,,,fabric-docs,,,,,,,0,,,,,,,,"Current log doc doesn't include following.

1. How to set default peer logging level for subcomponent in the docker-compose.yaml?
2. How to dynamically change the logging level for subcomponent?
3. How to check the current logging level?
4. how to revert the levels to the default (at the startup of peer)?",,amber-zhang,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzxre7:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,amber-zhang,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"08/Aug/17 2:17 AM;ChristopherFerris;http://hyperledger-fabric.readthedocs.io/en/latest/logging-control.html;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
peer logging getlevel doesn't work,FAB-3443,16038,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wlahti,amber-zhang,amber-zhang,27/Apr/17 6:59 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,05/May/17 12:53 AM,,,,v1.0.0,,fabric-peer,,,,,,,0,,,,,,,,"zhangxqs-mbp:e2e_cli zhangxq$ docker exec -it cli bash
root@18c5c1c69e6d:/opt/gopath/src/github.com/hyperledger/fabric/peer# hostname
18c5c1c69e6d
root@18c5c1c69e6d:/opt/gopath/src/github.com/hyperledger/fabric/peer# CORE_PEER_ADDRESS=peer0:7051 peer logging setlevel gossip warning
2017-04-27 08:20:29.420 UTC [cli/logging] setLevel -> INFO 001 Log level set for peer module 'gossip': WARNING
2017-04-27 08:20:29.420 UTC [main] main -> INFO 002 Exiting.....
root@18c5c1c69e6d:/opt/gopath/src/github.com/hyperledger/fabric/peer# CORE_PEER_ADDRESS=peer0:7051 peer logging getlevel gossip        
2017-04-27 08:20:41.757 UTC [cli/logging] getLevel -> INFO 001 Current log level for peer module 'gossip': DEBUG
2017-04-27 08:20:41.758 UTC [main] main -> INFO 002 Exiting.....
root@18c5c1c69e6d:/opt/gopath/src/github.com/hyperledger/fabric/peer# CORE_PEER_ADDRESS=peer1:7051 peer logging getlevel gossip
2017-04-27 08:21:19.059 UTC [cli/logging] getLevel -> INFO 001 Current log level for peer module 'gossip': DEBUG
2017-04-27 08:21:19.059 UTC [main] main -> INFO 002 Exiting.....
root@18c5c1c69e6d:/opt/gopath/src/github.com/hyperledger/fabric/peer# CORE_PEER_ADDRESS=peer1:7051 peer logging setlevel gossip warning
2017-04-27 08:21:33.649 UTC [cli/logging] setLevel -> INFO 001 Log level set for peer module 'gossip': WARNING
2017-04-27 08:21:33.649 UTC [main] main -> INFO 002 Exiting.....
root@18c5c1c69e6d:/opt/gopath/src/github.com/hyperledger/fabric/peer# CORE_PEER_ADDRESS=peer1:7051 peer logging getlevel gossip
2017-04-27 08:21:56.101 UTC [cli/logging] getLevel -> INFO 001 Current log level for peer module 'gossip': DEBUG
2017-04-27 08:21:56.101 UTC [main] main -> INFO 002 Exiting.....",,amber-zhang,C0rWin,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxref:",,,,,,,,,,,,,,,,,,,,,,,,,,,amber-zhang,C0rWin,wlahti,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"27/Apr/17 7:41 PM;C0rWin;[~amber-zhang] Does this specific to the gossip module only and with others work ok? Can you provide a bit more description and details?
[~wlahti] Can you please take a look on that one?;;;","27/Apr/17 9:27 PM;wlahti;The title looks incorrect for this JIRA; I think, as the copied logs show, that the issue is with `getlevel` and not `revertlevels`. 

As for why it's not working, `getlevel` doesn't currently support regular expressions like `setlevel` does. At the moment, you need to specify the module and any submodule name exactly as it appears in the logs to get the level for each individual module/submodule (e.g. gossip/discovery#peer0:7051). 

I should update `getlevel` to include the regular expression feature as well and will get to that as soon as possible. ;;;","28/Apr/17 12:40 AM;wlahti;This may need to wait for post v1.0 as it will require a proto change to return an array that contains the module names and log levels for each log module that matches the regular expression. I'll be sure to at least work with someone to document the operational side of using the logging framework for v1.0.

See my comment above for how to properly use the `getlevel` function with the current design. ;;;","29/Apr/17 3:41 AM;wlahti;[~amber-zhang] Is this an issue with getlevel or revertlevels? The title mentions revertlevels while the logs show getlevel. ;;;","03/May/17 2:37 PM;amber-zhang;Hi Will,

I modified the title. The problem is at getlevel. Sorry for the confusing!

'getlevel' works well with full module/submodule.  Following, should I keep the bug open for future enhancing 'getlevel' with regular expression? or close it, then open a new bug for it? thanks

root@3385917a20a4:/opt/gopath/src/github.com/hyperledger/fabric/peer# CORE_PEER_ADDRESS=peer1:7051 peer logging getlevel gossip/discovery#peer1:7051
2017-05-03 05:28:02.974 UTC [cli/logging] getLevel -> INFO 001 Current log level for peer module 'gossip/discovery#peer1:7051': WARNING
2017-05-03 05:28:02.974 UTC [main] main -> INFO 002 Exiting.....
root@3385917a20a4:/opt/gopath/src/github.com/hyperledger/fabric/peer# CORE_PEER_ADDRESS=peer0:7051 peer logging getlevel gossip/discovery#peer0:7051
2017-05-03 05:28:16.815 UTC [cli/logging] getLevel -> INFO 001 Current log level for peer module 'gossip/discovery#peer0:7051': CRITICAL
2017-05-03 05:28:16.816 UTC [main] main -> INFO 002 Exiting.....

root@3385917a20a4:/opt/gopath/src/github.com/hyperledger/fabric/peer# CORE_PEER_ADDRESS=peer0:7051 peer logging getlevel gossip/service      
2017-05-03 05:31:16.948 UTC [cli/logging] getLevel -> INFO 001 Current log level for peer module 'gossip/service': CRITICAL
2017-05-03 05:31:16.948 UTC [main] main -> INFO 002 Exiting.....
root@3385917a20a4:/opt/gopath/src/github.com/hyperledger/fabric/peer# CORE_PEER_ADDRESS=peer0:7051 peer logging getlevel gossip/state  
2017-05-03 05:31:21.901 UTC [cli/logging] getLevel -> INFO 001 Current log level for peer module 'gossip/state': CRITICAL
2017-05-03 05:31:21.901 UTC [main] main -> INFO 002 Exiting.....
root@3385917a20a4:/opt/gopath/src/github.com/hyperledger/fabric/peer# CORE_PEER_ADDRESS=peer1:7051 peer logging getlevel gossip/state
2017-05-03 05:31:32.548 UTC [cli/logging] getLevel -> INFO 001 Current log level for peer module 'gossip/state': WARNING
2017-05-03 05:31:32.549 UTC [main] main -> INFO 002 Exiting.....
root@3385917a20a4:/opt/gopath/src/github.com/hyperledger/fabric/peer# CORE_PEER_ADDRESS=peer1:7051 peer logging getlevel gossip/election
2017-05-03 05:31:50.930 UTC [cli/logging] getLevel -> INFO 001 Current log level for peer module 'gossip/election': WARNING
2017-05-03 05:31:50.931 UTC [main] main -> INFO 002 Exiting.....
root@3385917a20a4:/opt/gopath/src/github.com/hyperledger/fabric/peer# CORE_PEER_ADDRESS=peer1:7051 peer logging getlevel gossip/pull#peer1:7051
2017-05-03 05:32:16.097 UTC [cli/logging] getLevel -> INFO 001 Current log level for peer module 'gossip/pull#peer1:7051': WARNING
2017-05-03 05:32:16.097 UTC [main] main -> INFO 002 Exiting.....
;;;","03/May/17 11:42 PM;wlahti;I think it would be best to open a new JIRA item to track that additional feature. 

I will do one quick change related to this item to improve the CLI output statement for 'setlevel', making it clear that it's using regular expressions.

For example,
{code}
root@18c5c1c69e6d:/opt/gopath/src/github.com/hyperledger/fabric/peer# CORE_PEER_ADDRESS=peer0:7051 peer logging setlevel gossip warning
{code}

will now display:
{code}
Log level set for peer modules matching regular expression 'gossip': WARNING
{code};;;","03/May/17 11:59 PM;wlahti;https://gerrit.hyperledger.org/r/#/c/8893/ improves the output for 'setlevel' and updates the usage descriptions for both 'getlevel' and 'setlevel'.;;;","08/May/17 7:16 PM;amber-zhang;Verified. Setlevel and getlevel works as design!

root@f584c2ffab1d:/opt/gopath/src/github.com/hyperledger/fabric/peer# CORE_PEER_ADDRESS=peer0.org1.example.com:7051 peer logging setlevel gossip warning
2017-05-08 10:02:54.463 UTC [cli/logging] setLevel -> INFO 004 Log level set for peer modules matching regular expression 'gossip': WARNING
2017-05-08 10:02:54.463 UTC [main] main -> INFO 005 Exiting.....

 

root@f584c2ffab1d:/opt/gopath/src/github.com/hyperledger/fabric/peer# CORE_PEER_ADDRESS=peer0.org1.example.com:7051 peer logging getlevel gossip/pull

2017-05-08 10:05:18.282 UTC [cli/logging] getLevel -> INFO 004 Current log level for peer module 'gossip/pull': WARNING
2017-05-08 10:05:18.282 UTC [main] main -> INFO 005 Exiting.....;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Channel pull mediator doesn't evict old blocks,FAB-3444,16039,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,27/Apr/17 7:03 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,01/May/17 2:56 AM,,,,v1.0.0,,fabric-gossip,,,,,,,0,beta,gossip,,,,,,"In Gossip, the component that handles pulling messages of blocks is the [pullMediator | https://github.com/hyperledger/fabric/blob/master/gossip/gossip/pull/pullstore.go].

When it gets a set of block from a pull response, it invokes a [#consumer callback | https://github.com/hyperledger/fabric/blob/master/gossip/gossip/channel/channel.go#L285-L298] that in constructed in channel.go:

{code}
	blockConsumer := func(msg *proto.SignedGossipMessage) {
		dataMsg := msg.GetDataMsg()
		if dataMsg == nil || dataMsg.Payload == nil {
			gc.logger.Warning(""Invalid DataMessage:"", dataMsg)
			return
		}
		added := gc.blockMsgStore.Add(msg)
		// if we can't add the message to the msgStore,
		// no point in disseminating it to others...
		if !added {
			return
		}
		gc.DeMultiplex(msg)
	}
	adapter := pull.PullAdapter{
		Sndr:        gc,
		MemSvc:      gc.memFilter,
		IdExtractor: seqNumFromMsg,
		MsgCons:     blockConsumer,
	}
	return pull.NewPullMediator(conf, adapter)
{code}
if the message wasn't added to the *blockMsgStore* - it means the message is too old, and shouldn't be added to the blocks puller.
However, when this code is executed, the message has already been added to the internal map, even though it hasn't been added to the store",,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-290,,,,,,,,,,"1|hzxren:",,,,,,Sprint 16 - Gossip,,,,,,,,,,,,,,,,,,,,,yacovm,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"29/Apr/17 3:50 AM;yacovm;https://gerrit.hyperledger.org/r/#/c/8647/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
unrecognized characters in the gossip log when dynamically change gossip's logging level,FAB-3445,16040,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,amber-zhang,amber-zhang,27/Apr/17 7:06 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,04/May/17 1:12 AM,,,,v1.0.0,,fabric-gossip,,,,,,,0,beta,gossip,,,,,,"2017-04-27 08:21:33.648 UTC [flogging] setModuleLevel -> DEBU 2ee6 Module 'gossip/election' logger enabled for log level 'WARNING'
2017-04-27 08:21:33.648 UTC [flogging] setModuleLevel -> DEBU 2ee7 Module 'gossip/gossip#peer1:7051' logger enabled for log level 'WARNING'
2017-04-27 08:21:33.648 UTC [flogging] setModuleLevel -> DEBU 2ee8 Module 'gossip/pull#peer1:7051' logger enabled for log level 'WARNING'
2017-04-27 08:21:33.648 UTC [flogging] setModuleLevel -> DEBU 2ee9 Module 'gossip/state' logger enabled for log level 'WARNING'
2017-04-27 08:21:33.648 UTC [flogging] setModuleLevel -> DEBU 2eea Module 'gossip/gossip#^>+�>�Q�
�N�5�W""���?�xʷ��?J
                  s�' logger enabled for log level 'WARNING'
2017-04-27 08:21:33.648 UTC [flogging] setModuleLevel -> DEBU 2eeb Module 'gossip/comm#-1' logger enabled for log level 'WARNING'
2017-04-27 08:21:33.648 UTC [flogging] setModuleLevel -> DEBU 2eec Module 'gossip/service' logger enabled for log level 'WARNING'
2017-04-27 08:21:33.648 UTC [flogging] setModuleLevel -> DEBU 2eed Module 'gossip/discovery#peer1:7051' logger enabled for log level 'WARNING'
2017-04-27 08:21:33.648 UTC [flogging] setModuleLevel -> DEBU 2eee Module 'peer/gossip/mcs' logger enabled for log level 'WARNING'
2017-04-27 08:21:33.648 UTC [flogging] setModuleLevel -> DEBU 2eef Module 'peer/gossip/sa' logger enabled for log level 'WARNING'
zhangxqs-mbp:e2e_cli zhangxq$ docker exec -it cli bash
",,amber-zhang,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-290,,,,,,,,,,"1|hzxrev:",,,,,,Sprint 16 - Gossip,,,,,,,,,,,,,,,,,,,,,amber-zhang,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"28/Apr/17 11:05 AM;amber-zhang;More unrecognized characters can be seen when default gossip logging level is debug.


2017-04-27 13:09:33.148 UTC [gossip/pull#peer3:7051] SendDigest -> DEBU 5a7e5 Sending digest [�̕f/�Ds�{��^S
                                                                                                          F�ն͆՝�o��� _�?��屺Y 4	5��������}��*!d��h]
;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Instead check of alive message, memReq and memResponse checked using msgStore",FAB-3446,16041,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,gennadyl,gennadyl,gennadyl,27/Apr/17 7:25 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,09/May/17 4:01 PM,,,,v1.0.0,,fabric-gossip,,,,,,,0,beta,gossip,gossip_component,,,,,"Alive msg inside membership request and membership response should be checked using alive messages store, but now MemReq and MemResp checked instead.",,gennadyl,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-290,,,,,,,,,,"1|hzxrf3:",,,,,,Sprint 16 - Gossip,,,,,,,,,,,,,,,,,,,,,gennadyl,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Configx tool inadequately checks inputs,FAB-3447,16042,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,,rickr,rickr,27/Apr/17 7:54 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,12/May/17 10:14 PM,v1.0.0-alpha1,,,WON'T FIX,,fabric-orderer,,,,,,,0,configuration,,,,,,,Give the configtx tool old yaml file without any consortiums and it will produce chanels and orderer blocks without any errors. ,,jyellick,kchristidis,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxrfb:",,,,,,,,,,,,,,,,,,,,,,,,,,,jyellick,kchristidis,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"28/Apr/17 7:22 AM;kchristidis;Hi Rick, thanks for reporting this.

I am slightly skeptical about this, given that:
* https://github.com/hyperledger/fabric/blob/master/orderer/multichain/manager.go#L228 suggests that you cannot skip the consortium name when you send out a channel transaction, and
* https://github.com/hyperledger/fabric/blob/master/orderer/multichain/manager.go#L245 suggests that if you refer to a consortium that doesn't exist you will get an error.

Can you please upload the YAML file that you used along with a detailed listing of the minimum steps one needs to follow in order to reproduce this?

Thank you.;;;","10/May/17 11:06 PM;jyellick;I would point out that indeed, it is perfectly valid to start the orderer without any consortiums defined.

But, as [~kchristidis] points out, channel creation should fail unless the appropriate consortium information is set.  In addition to the YAML file could you include the commit you are reproducing this at? There was a brief period of time where both the consortiums and the old channel model configuration were present, and this behavior could have been observed, but that behavior should no longer be present.;;;","12/May/17 10:14 PM;kchristidis;Will close, as this hasn't been updated with the requested info for more than 2w now.

Feel free to re-open if details to reproduce are provided.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Sending a bad config upgrade can result in a orderer panic ,FAB-3448,16043,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,rickr,rickr,27/Apr/17 7:59 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,10/May/17 11:38 PM,v1.0.0-alpha1,,,WON'T FIX,,fabric-orderer,,,,,,,0,configuration,,,,,,,"Sending the old configtx produce channel upgrade block resulted in 

goroutine 22 [running]:
panic(0xb3b5a0, 0xc42000c050)
	/opt/go/src/runtime/panic.go:500 +0x1a1
github.com/hyperledger/fabric/common/config.(*ConsortiumsGroup).Consortiums(0x0, 0x1193920)
	<autogenerated>:135 +0x5
github.com/hyperledger/fabric/orderer/multichain.(*multiLedger).NewChannelConfig(0xc4202495e0, 0xc42021f230, 0x2, 0xc42025e100, 0x0, 0x0)
	/opt/gopath/src/github.com/hyperledger/fabric/orderer/multichain/manager.go:245 +0x3e2
main.(*configUpdateSupport).NewChannelConfig(0xc4201978c0, 0xc42021f230, 0x11bc7c0, 0xc420387a48, 0x599da0, 0xc4201bcc00)
	<autogenerated>:1 +0x53
github.com/hyperledger/fabric/orderer/configupdate.(*Processor).newChannelConfig(0xc420304a40, 0xc4201301d8, 0x3, 0xc42021f230, 0x1, 0x1, 0xc420010960)
	/opt/gopath/src/github.com/hyperledger/fabric/orderer/configupdate/configupdate.go:134 +0x45
github.com/hyperledger/fabric/orderer/configupdate.(*Processor).Process(0xc420304a40, 0xc42021f230, 0x0, 0x0, 0xc4201300e0)
	/opt/gopath/src/github.com/hyperledger/fabric/orderer/configupdate/configupdate.go:117 +0x2e5
main.(*broadcastSupport).Process(0xc420374a40, 0xc42021f230, 0x1b, 0x0, 0x0)
	<autogenerated>:8 +0x54
github.com/hyperledger/fabric/orderer/common/broadcast.(*handlerImpl).Handle(0xc4201978d0, 0x11a3060, 0xc420197ab0, 0x0, 0x0)
	/opt/gopath/src/github.com/hyperledger/fabric/orderer/common/broadcast/broadcast.go:111 +0x959
main.(*server).Broadcast(0xc420374a60, 0x11a3060, 0xc420197ab0, 0xc4200234a8, 0xc4200234d0)
	/opt/gopath/src/github.com/hyperledger/fabric/orderer/server.go:75 +0x8b
github.com/hyperledger/fabric/protos/orderer._AtomicBroadcast_Broadcast_Handler(0xb402c0, 0xc420374a60, 0x11a1800, 0xc4201a8300, 0xc42021f200, 0x0)
	/opt/gopath/src/github.com/hyperledger/fabric/protos/orderer/ab.pb.go:523 +0xbb
github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*Server).processStreamingRPC(0xc420222090, 0x11a28e0, 0xc420223200, 0xc4200bc0f0, 0xc42021edb0, 0x1188ae0, 0xc42021f1d0, 0x0, 0x0)
	/opt/gopath/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/server.go:657 +0x6f3
github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*Server).handleStream(0xc420222090, 0x11a28e0, 0xc420223200, 0xc4200bc0f0, 0xc42021f1d0)
	/opt/gopath/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/server.go:741 +0xc33
github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*Server).serveStreams.func1.1(0xc4201979f0, 0xc420222090, 0x11a28e0, 0xc420223200, 0xc4200bc0f0)
	/opt/gopath/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/server.go:402 +0xab
created by github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*Server).serveStreams.func1",,Clayton Sims,jyellick,kchristidis,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3727,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxrfj:",,,,,,,,,,,,,,,,,,,,,,,,,,,Clayton Sims,jyellick,kchristidis,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"28/Apr/17 7:27 AM;kchristidis;We'll need to add this check indeed, thanks for catching this.;;;","03/May/17 1:41 AM;Clayton Sims;Kostas I think you would be owner?  I think you might have inadvertantly removed yourself as owner.   If you are not correct person, can you assign to the correct person.;;;","03/May/17 5:02 AM;kchristidis;Clayton, following an earlier suggestion from [~ChristopherFerris] I try to assign myself to only 1-2 items at a time -- the ones that I'm currently working on.

I ask folks to assign stuff to me so that I get the notification email and categorize the JIRA appropriately if need be, and then unassign myself on purpose, per the logic above.

As long as the item is under the ""fabric-consensus"" component with a fix for ""v1.0.0"" I will tackle it, if nobody else does so in the meantime. But assigning myself to all relevant items in advance seems like the wrong strategy. Let me know if you disagree.;;;","10/May/17 11:23 PM;jyellick;This has been addressed via https://jira.hyperledger.org/browse/FAB-3727 / [https://gerrit.hyperledger.org/r/#/c/9111/] .

Essentially, the orderer was incorrectly identifying non-system channels as system channels, so, when the orderer was started with an old broken config, it incorrectly believed that the config was valid and started anyway.  This invalid config results in the runtime crash you see here.;;;","10/May/17 11:25 PM;jyellick;This is a different manifestation of this same bug.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Move ledger examples to mocks directory,FAB-3449,16044,15992,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,denyeart,denyeart,denyeart,27/Apr/17 8:45 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,10/Jul/18 3:23 AM,,,,v1.0.0,,fabric-ledger,,,,,,,0,,,,,,,,"Ledger examples are integration tests using
a mock ledger, rather than unit tests.
Move ledger examples to mocks directory.
'mocks' directory will be excluded from unit
test coverage reports.",,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxrfr:",,,,,,Sprint 16 - Quality,,,,,,,,,,,,,,,,,,,,,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
GossipMessage signing should return an error instead of panicking,FAB-3450,16045,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,27/Apr/17 9:44 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,12/Jun/17 7:04 PM,v1.0.0-alpha1,,,v1.0.0,v1.0.0-rc1,fabric-gossip,,,,,,,0,gossip,,,,,,,"Currently, the gossip code panics if it's unable to sign a message or to marshal it bytes, because the assumption was 
* If the signing failed then something is terrible wrong with the peer and it's not recoverable
* If turning a message into bytes fails, it's because of something not recoverable too. 

However, a user posted a stack trace in which gossip tried constructing a message that its envelope has a payload of 2GB.

In order to prevent these kind of problems, and the crash of the peer, we need to make the Signer return an error instead of panicking.",,C0rWin,weeds,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxrfz:",,,,,,Sprint 16 - Gossip,,,,,,,,,,,,,,,,,,,,,C0rWin,weeds,yacovm,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"10/Jun/17 3:48 AM;weeds;gerrit 10259;;;","12/Jun/17 7:49 AM;C0rWin;Needs one last vote to get merged: https://gerrit.hyperledger.org/r/#/c/10259/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
As a developer I want to move all mocks/testutils for msp in a common directory,FAB-3451,16046,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,ales,ales,27/Apr/17 9:49 PM,23/Jan/20 4:07 AM,28/Oct/23 2:59 AM,23/Jan/20 4:07 AM,v1.0.0-alpha1,,,Future,,fabric-crypto,,,,,,,0,stale-item,,,,,,,,,ales,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzxrg7:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,ales,ChristopherFerris,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"26/May/17 3:28 PM;ChristopherFerris;This isn't a defect, it is an improvement. Changing classification.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
As a fabric developer I want better coverage for the peer/gossip package,FAB-3452,16047,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,angelo.decaro,angelo.decaro,27/Apr/17 10:14 PM,21/Jul/18 3:56 AM,28/Oct/23 2:59 AM,08/Mar/18 1:24 AM,,,,,,,,,,,,,0,,,,,,,,"This will be achieved in two steps:
1. refactoring the package to remove subfolders and introduce a mocks folder
2. improve test coverage",,angelo.decaro,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzxrgf:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,angelo.decaro,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Create normalized TLS outputs,FAB-3453,16049,15851,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,greg.haskins,greg.haskins,greg.haskins,27/Apr/17 10:25 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,02/May/17 3:16 AM,,,,v1.0.0,,fabric-tools,,,,,,,0,,,,,,,,"The TLS configuration has no reason to be more complicated than a normalized/well-known pattern such as [ca.crt, server.crt, server.key] on a per-node basis.  Therefore, we can simplify a lot of things by having cryptogen map the already-created crypto material for us",,greg.haskins,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxrgv:",,,,,,,,,,,,,,,,,,,,,,,,,,,greg.haskins,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"28/Apr/17 8:23 AM;greg.haskins;https://gerrit.hyperledger.org/r/#/c/8693/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
bccsp panic with invalid provider name,FAB-3454,16050,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,vpaprots@ca.ibm.com,smithbk,smithbk,27/Apr/17 10:31 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,06/Jun/17 9:43 PM,,,,v1.0.0,,fabric-crypto,,,,,,,1,,,,,,,,"In fabric/bccsp/factory/factory.go, the GetBCCSPFromOpts function needs to return an error for an unknown provider name.  It will instead panic because ""f"" is nil on f.Get(config).
I think it should also do a case-insensitive comparison of the provider name.",,smithbk,vpaprots,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx5jb:",,,,,,,,,,,,,,,,,,,,,,,,,,,smithbk,vpaprots,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"05/Jun/17 3:25 AM;vpaprots;[https://gerrit.hyperledger.org/r/#/c/10101/]

That one should had worked.. yet there are some strange failures in what should be unrelated tests in the CI;;;","05/Jun/17 3:44 AM;vpaprots;Downgraded the priority. While we should not crash on misspellings in the config file, this is not a blocking issue.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Use a FQDN for the CA artifacts,FAB-3455,16051,15851,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,greg.haskins,greg.haskins,greg.haskins,27/Apr/17 10:31 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,02/May/17 3:17 AM,,,,v1.0.0,,fabric-tools,,,,,,,0,,,,,,,,"We currently emit the CA artifacts with a CN={{.Domain}}.  This may be problematic if any nodes expect to do CN validation.  Propose the following:

# Add the ability to set the CN to the cryptogen template
# Make the default ""ca.{{ .Domain }}""",,greg.haskins,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxrh3:",,,,,,,,,,,,,,,,,,,,,,,,,,,greg.haskins,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"29/Apr/17 9:06 AM;greg.haskins;https://gerrit.hyperledger.org/r/#/c/8699/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add support for Subject Alternative Names (SANs),FAB-3456,16052,15851,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,greg.haskins,greg.haskins,greg.haskins,27/Apr/17 10:34 PM,29/Nov/18 11:14 AM,28/Oct/23 2:59 AM,02/May/17 3:17 AM,,,,v1.0.0,,fabric-tools,,,,,,,0,,,,,,,,"cryptogen allows a very flexible configuration of the x509 CN.  However, there are many applications in which the support for SANs may be desired.  For instance, DNS names within a kubernetes cluster are different than the endpoints surfaced to the outside world.  It might be convenient to allow flexibility here by extending the cryptogen template to support the definition of Subject Alternative Names.",,greg.haskins,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-13034,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxrhb:",,,,,,,,,,,,,,,,,,,,,,,,,,,greg.haskins,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"29/Apr/17 9:06 AM;greg.haskins;https://gerrit.hyperledger.org/r/#/c/8741/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
fullflow test is broken due to compilation errors,FAB-3460,16056,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,ales,ales,27/Apr/17 11:58 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,31/May/17 6:47 PM,v1.0.0-alpha1,,,v1.0.0,,fabric-crypto,,,,,,,0,,,,,,,,,,ales,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxri7:",,,,,,,,,,,,,,,,,,,,,,,,,,,ales,ChristopherFerris,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"26/May/17 3:31 PM;ChristopherFerris;[~ales] This needs more information and a much better description of the errors. It is unactionable at this point.;;;","31/May/17 6:48 PM;ales;Marked as done as it was already fixed in a commit for another FAB.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Improve code coverage for gossip protobuf files.,FAB-3461,16057,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,C0rWin,C0rWin,C0rWin,28/Apr/17 12:01 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,03/May/17 7:01 AM,,,,v1.0.0,,fabric-gossip,,,,,,,0,beta,gossip,,,,,,"Currently gossip protobuf files have very poor code coverage, which has to be improved by adding new tests.",,C0rWin,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-290,,,,,,,,,,"1|hzxrif:",,,,,,Sprint 16 - Gossip,,,,,,,,,,,,,,,,,,,,,C0rWin,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add unit tests for gossip message comparator.,FAB-3462,16058,16057,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,C0rWin,C0rWin,28/Apr/17 12:06 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,29/Apr/17 7:03 AM,,,,v1.0.0,,fabric-gossip,,,,,,,0,beta,gossip,,,,,,"There is a gossip message comparator  abstraction which allows creation of message replacement policies.

{code}
// MessageReplacingPolicy Returns:
// MESSAGE_INVALIDATES if this message invalidates that
// MESSAGE_INVALIDATED if this message is invalidated by that
// MESSAGE_NO_ACTION otherwise
type MessageReplacingPolicy func(this interface{}, that interface{}) InvalidationResult

// InvalidationResult determines how a message affects another message
// when it is put into gossip message store
type InvalidationResult int

const (
	// MessageNoAction means messages have no relation
	MessageNoAction InvalidationResult = iota
	// MessageInvalidates means message invalidates the other message
	MessageInvalidates
	// MessageInvalidated means message is invalidated by the other message
	MessageInvalidated
)
{code}

{code}
// NewGossipMessageComparator creates a MessageReplacingPolicy given a maximum number of blocks to hold
func NewGossipMessageComparator(dataBlockStorageSize int) common.MessageReplacingPolicy {
	return (&msgComparator{dataBlockStorageSize: dataBlockStorageSize}).getMsgReplacingPolicy()
}
{code}

Need to add unit tests to cover functionality of message comparator for different gossip message types.",,C0rWin,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxrin:",,,,,,Sprint 16 - Gossip,,,,,,,,,,,,,,,,,,,,,C0rWin,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Ledger performance test: read/write errors in CouchDB when the number of database is high,FAB-3464,16060,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,nickgaski,AdnanChoudhury,AdnanChoudhury,28/Apr/17 12:46 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,29/Jun/17 2:21 AM,,,,v1.0.0,,fabric-docs,,,,,,,0,Ledger,quality,,,,,,"While using CouchDB as a pluggable state database (a couchdb container residing on the host), read/write errors have been observed while doing performance test with proposed Ledger benchmarking tool (the tool: [https://gerrit.hyperledger.org/r/#/c/6793/]).
{code:java}
[[31m2017-04-27 17:23:24.615 EDT [statecouchdb] ApplyUpdates -> ERRO 928^[[0m Error during Commit(): http: read on closed response body
2367 panic: Error during commit to txmgr:http: read on closed response body
{code}
Notes:
 1. This occurs when the number of chains is 200 or more, and not effected by no. of parallel transactions on each chain.
 2. It goes through the expected number of attempts (3) and exit after that.

The detailed log is in the attached file. Last 100 lines are most relevant.

How to reproduce:
 1. Hyperledger fabric level: April 25
 2. Cherrypick benchmarking tool: [https://gerrit.hyperledger.org/r/#/c/6793/]
 3. Change values in /fabric/core/ledger/benchmark/scripts/runbenchmark.sh so that total no, of parallel transactions (no. of chains multiplied by no. of parallel transactions per chain) is 200 or more
 4. edit /fabric/core/ledger/benchmark/experiments/init_test.go to include CouchDB.
 5. .run runbenchmark.sh",,AdnanChoudhury,denyeart,markparz,nickgaski,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3427,,,,,,,,,,,,,,,,FAB-4872,,,,,,,,,,,,,,,"28/Apr/17 6:40 AM;AdnanChoudhury;output.txt;https://jira.hyperledger.org/secure/attachment/10682/output.txt","01/May/17 11:56 PM;AdnanChoudhury;output_1-parallel_vary-numchain_3.txt;https://jira.hyperledger.org/secure/attachment/10690/output_1-parallel_vary-numchain_3.txt",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx2sn:",,,,,,Sprint 17 - Quality,Sprint 19 - Quality,,,,,,,,,,,,,,,,,,,,AdnanChoudhury,denyeart,markparz,nickgaski,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"29/Apr/17 7:10 AM;AdnanChoudhury;Notes:
1) The error is observed if the number of chains exceed 200, and changing the number of parallel transactions allowed  (from 1 to 1000) does not effect the occurrence of the error.
2)  It does not look like an HTTP issue as putting timer between each PUT operation does not effect the occurrence of the error.
3) setting the `max_dbs_open` config parameter to a high value (1000) did not effect the occurrence  of the error.;;;","01/May/17 10:12 PM;denyeart;[~AdnanChoudhury]
You're saying that if you have 1 channel (or even a few), you cannot introduce the error?  Only if there is massive parallel writes to couchdb (as implied by 200+ channels) do you see the error?;;;","01/May/17 11:30 PM;AdnanChoudhury;[~denyeart] yes to first part, the error is *not* there if the number of channels (i.e. number of chains) are 100 or 150, and its there when the number is 200 or more. As far as the parallel write goes, its a bit more complicated, ----The parallel writes in the tests can either be via multiple chains, or via multiple clients working on the same chain. I see this error only when high number of chains but *not* on low number of chains, even if the multiple parallel client write number is high. 

Edit: log to passing and failing scenarioo attached.  [^output_1-parallel_vary-numchain_3.txt]  ;;;","02/May/17 3:59 AM;denyeart;[~AdnanChoudhury]
Perhaps looking at the couchdb stats would help identify if something is crossing a threshold around 200 parallel chains.
To see couchdb stats you can go into the couchdb container and get the _stats API response:
docker exec -it couchdb /bin/bash
curl -X GET http://127.0.0.1:5986/_stats

Note that _stats is only available at the 'internal admin' port 5986 which is not exposed outside the container.;;;","02/May/17 4:12 AM;AdnanChoudhury;Thanks [~denyeart] , let me check.;;;","04/May/17 3:43 AM;AdnanChoudhury;This error was due to the ""max number of open files"" in the host being the bottleneck. The Couch container resides on the host, and databases created on the container creates file operations on the host, and if the number of databases are high, the number of open files in the host become high and hits the limit. Once it hits the limit, the Couch starts spewing read and write errors.

Increasing the max number of open files is straightforward in Ubuntu and linux variants via ""ulimit -n \{desired_value\}"". In a Mac, its little more involved. This bug was encountered in a Mac OS Sierra, and simply running ""ulimit ...."" did not work. To increase the max open file limit, (details here: https://unix.stackexchange.com/questions/108174/how-to-persist-ulimit-settings-in-osx-mavericks)
a file needs to be created named `/Library/LaunchDaemons/limit.maxfiles.plist` with root ownership that has the following text: 

{code:java}
<?xml version=""1.0"" encoding=""UTF-8""?>  
<!DOCTYPE plist PUBLIC ""-//Apple//DTD PLIST 1.0//EN""  
        ""http://www.apple.com/DTDs/PropertyList-1.0.dtd"">
<plist version=""1.0"">  
  <dict>
    <key>Label</key>
    <string>limit.maxfiles</string>
    <key>ProgramArguments</key>
    <array>
      <string>launchctl</string>
      <string>limit</string>
      <string>maxfiles</string>
      <string>524288</string>
      <string>524288</string>
    </array>
    <key>RunAtLoad</key>
    <true/>
    <key>ServiceIPC</key>
    <false/>
  </dict>
</plist>  
{code}
And then restart the machine. The tests run as expected after that.;;;","06/May/17 6:55 PM;denyeart;Let's keep this bug open until it is resolved by documentation updates.
[~nickgaski] I'm assigning this one to you.  We will need to document that ulimit needs to be set to a high value when there are many channels in the network and CouchDB used as state database.  This is because there is a CouchDB database per channel which consumes many files on the OS (on the host OS even if CouchDB is in docker).
I wasn't sure where this fits best in current documentation.  Seems we need a setup area.

[~AdnanChoudhury] As a reference point, in your trial with 200 channels, what was the original value for number of files, and what setting resolved it?;;;","10/May/17 4:55 AM;AdnanChoudhury;[~nickgaski] [~denyeart] the default maxfiles was 256, changed it to 524288 and it worked for me.;;;","02/Jun/17 3:22 AM;scottz;1. Since this is now a doc issue, should we change component to fabric-doc?

2. I question whether Nick should be handling this. Is this change really required in the read-the-docs section for basic setup, for ALL fabric developers/testers to use? Or do we need to modify a readme.md somewhere in the tests folders, so dev/testers can see this info when setting up and running the tests? These tests are not part of the unit tests; they are run as part of the daily test suite - or can be run manually.;;;","02/Jun/17 3:31 AM;AdnanChoudhury;To partially response to question 2 by [~scottz], after a discussion (between [~nickgaski], [~denyeart], me) on what should be the right place for this info, it was decided that a ""Troubleshooting"" or similar section would be an appropriate place. Some discussion can e seen here ([https://gerrit.hyperledger.org/r/#/c/9249/)] This issue can be faced by any user of Fabric, and not just a user of the tests, so this should not be confined in test docs only. ;;;","05/Jun/17 10:41 PM;markparz;I agree with [~scottz] that at min there needs to be a link from the config to how to config the different platforms, as this will be a pervasive issue.;;;","16/Jun/17 6:00 AM;markparz;[~nickgaski] you have a merge conflict on this and I know you are doing some updates as well. Can you add this in the troubleshooting guide at the same time: https://jira.hyperledger.org/browse/FAB-4594;;;","17/Jun/17 7:13 AM;nickgaski;addressed here - [https://gerrit.hyperledger.org/r/#/c/10719/] . 

 

I feel we should continue adding to this doc, as it will help us aggregate many config issues, which can then be ported to a more standard setup/config type doc;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
As a fabric developer I want better coverage for the bccsp/sw package,FAB-3465,16061,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,angelo.decaro,angelo.decaro,angelo.decaro,28/Apr/17 1:03 AM,21/Jul/18 3:55 AM,28/Oct/23 2:59 AM,09/May/17 10:38 PM,,,,v1.0.0,,fabric-crypto,,,,,,,0,,,,,,,,"In order to improve the test coverage of the bccsp/sw package, the following tasks are designed.

1. Replaces the switches with maps whose keys are opts types and values are interfaces representing key generation, key derivation, encryption and so on..
The reason for this is that it would allow the ability to test the single functionality (keygen, keyderiv, ...) in isolation and simplify testing of the bccsp implementation.

2. Add tests for the each component.

Actually, this two tasks can be run in parallel and a change-set can be submit for each bccsp method.",,angelo.decaro,binhn,vpaprots,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzx5jj:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,angelo.decaro,binhn,vpaprots,yacovm,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"28/Apr/17 1:04 AM;angelo.decaro;[~elli-androulaki],[~ales],[~yacovm],[~mastersingh24],[~ChristopherFerris],[~jonathan],[~binhn],[~muralisr],[~vpaprots@ca.ibm.com], please, may you have your say on this approach. I think it can improve readability and simplify testing of a component that is very critical for fabric. Thanks :);;;","28/Apr/17 2:18 AM;vpaprots;What do you think of trying to common up testing? Across arbitrary BCCSPs? Some whitebox (i.e. ecdsa.Privatekey) test do not make sense, but many of the interfaces are shared so will always stay the same.

As people start creating their own BCCSPs, this will just get worse at duplication. And we want to make sure that BCCSPs are indeed compatible with fabric, having a test suite for that would be good.

I know there is a lot of overlap in code between sw and pkcs11 bccsp today. I think the biggest duplication is actually testing. And that dup test code will stay there, while I intend to replace many functions in pkcs11/impl.go with actual calls to pkcs11, as it makes sense (i.e. pkcs11 bccsp cipher implementation with calls to pkcs11, but didnt, since we don't do ciphering as far as I know in v1.0. Some pkcs11 code might always have switches/fallback fallback-to-SW. i.e. for keyless operations like SHA and public key operations like Verify(), since its more performant in SW)
;;;","28/Apr/17 2:28 AM;angelo.decaro;I agree that there are generic tests that can be performed independently from the specific bccsp implementation (I can add a third point to the list for this) but they would not be able to cover enough lines of code, I fear. Actually, this is a reason why I opened this FAB. The SW-based BCCSP needs to be more agile and mock friendly.

For the pkcs11 package, I leave that to you.;;;","28/Apr/17 2:53 AM;vpaprots;Makes sense to me. As long as, as you are working though the SW tests and 'export/generisize' the ones that it makes sense. +1 from me. I will need to do much of the same for pkcs11, so would rather not have to copy all your work ;)

Couple more points 
- Just having a shared test framework available would help. (Perhaps a test folder with shared tests, that you&I can then invoke?)
- TestMain() for loop of m.Run() for testing with several configurations. Its always a pet-pieve that the negative tests run several times. Can we instead switch to sub-test-style? should also help with sharing of tests, by just switching test function parameters. i.e. https://gerrit.hyperledger.org/r/#/c/6727/16/lib/csputil/bccspsigner_test.go;;;","28/Apr/17 2:58 AM;binhn;This sounds good to me.  My only concern (without looking at the code) is any negative impact on performance. This code is being call multiple times per transaction. Let's keep that in mind.;;;","28/Apr/17 5:53 PM;angelo.decaro;Thanks for the feedback. I will keep in mind the performance aspects.

Please, have a look at this change-set that gives an example of the approach I'm suggesting: https://gerrit.hyperledger.org/r/#/c/8707/

I'm looking forward to read your feedback on it.;;;","28/Apr/17 7:57 PM;yacovm;The simplest thing to make *KeyGen* be prettier would be to extend the *KeyGenOpts* with a string representation of itself and then instead of switching over the type you'll invoke a method that returns to you that string, and then that string would be used as a key lookup for a map, where you'll have functions. 
I don't think it'll impact performance because *KeyGen* isn't in the critical path (or is it?);;;","28/Apr/17 7:59 PM;angelo.decaro;KeyGen is not on the critical path, it is invoked only few times. So, I'm not worried about that. But, one of the key design of BCCSP was to avoid to use string that are confusing. That's the reason why we switched to types.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add error handling to Table of Contents ,FAB-3466,16062,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,nickgaski,nickgaski,nickgaski,28/Apr/17 2:16 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,11/May/17 11:41 PM,,,,v1.0.0,,fabric-docs,,,,,,,0,Documentation,,,,,,,Throw the error handling content into the operations guide .,,nickgaski,,,,,,,,,,,,,,,,,,,,28800,28800,,0%,28800,28800,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx32v:",,,,,,Sprint 17 - Documentation,,,,,,,,,,,,,,,,,,,,,nickgaski,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"unable to generate genesis block for  ""getting started"" tutorial",FAB-3467,16063,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,nickgaski,vjuge,vjuge,28/Apr/17 2:27 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,11/May/17 11:40 PM,v1.0.0-alpha1,,,,,fabric-samples,,,,,,,0,v1.0,,,,,,,"Hi,

I've run through the tutorial : 
http://hyperledger-fabric.readthedocs.io/en/latest/getting_startedv2.html#
and I'm stuck at the step to generate the genesis block :

1/ PREREQUISITES :
{noformat}
$ sudo docker version


Client:
 Version:      1.12.6
 API version:  1.24
 Go version:   go1.6.2
 Git commit:   78d1802
 Built:        Tue Jan 31 23:35:14 2017
 OS/Arch:      linux/amd64

Server:
 Version:      1.12.6
 API version:  1.24
 Go version:   go1.6.2
 Git commit:   78d1802
 Built:        Tue Jan 31 23:35:14 2017
 OS/Arch:      linux/amd64

$ sudo docker-compose version
docker-compose version 1.8.0, build unknown
docker-py version: 1.9.0
CPython version: 2.7.12
OpenSSL version: OpenSSL 1.0.2g  1 Mar 2016

$ go version
go version go1.8.1 linux/amd64
{noformat}




2/ STEPS
{noformat}
$ pwd
/home/xxxx/devel/fabric-sample

$ curl -L https://logs.hyperledger.org/sandbox/vex-yul-hyp-jenkins-2/fabric-verify-x86_64_1/5/release.tar.gz -o release.tar.gz 2> /dev/null;  tar -xvf release.tar.gz

release/
release/windows-amd64/
release/windows-amd64/install/
release/windows-amd64/install/get-docker-images.sh
release/windows-amd64/bin/
release/windows-amd64/bin/configtxgen
release/windows-amd64/bin/cryptogen
release/linux-amd64/
release/linux-amd64/install/
release/linux-amd64/install/get-docker-images.sh
release/linux-amd64/bin/
release/linux-amd64/bin/configtxgen
release/linux-amd64/bin/cryptogen
release/samples/
release/samples/e2e/
release/samples/e2e/docker-compose.yaml
release/samples/e2e/docker-compose-no-tls.yaml
release/samples/e2e/README.rst
release/samples/e2e/peer-base/
release/samples/e2e/peer-base/peer-base-no-tls.yaml
release/samples/e2e/peer-base/peer-base.yaml
release/samples/e2e/crypto-config.yaml
release/samples/e2e/scripts/
release/samples/e2e/scripts/script.sh
release/samples/e2e/configtx.yaml
release/samples/e2e/network_setup.sh
release/samples/e2e/chaincodes/
release/samples/e2e/chaincodes/go/
release/samples/e2e/chaincodes/go/marbles02/
release/samples/e2e/chaincodes/go/marbles02/marbles_chaincode.go
release/samples/e2e/chaincodes/go/chaincode_example02/
release/samples/e2e/chaincodes/go/chaincode_example02/chaincode_example02.go
release/samples/e2e/docker-compose-template.yaml
release/linux-ppc64le/
release/linux-ppc64le/install/
release/linux-ppc64le/install/get-docker-images.sh
release/linux-ppc64le/bin/
release/linux-ppc64le/bin/configtxgen
release/linux-ppc64le/bin/cryptogen
release/templates/
release/templates/get-docker-images.in
release/linux-s390x/
release/linux-s390x/install/
release/linux-s390x/install/get-docker-images.sh
release/linux-s390x/bin/
release/linux-s390x/bin/configtxgen
release/linux-s390x/bin/cryptogen
release/darwin-amd64/
release/darwin-amd64/install/
release/darwin-amd64/install/get-docker-images.sh
release/darwin-amd64/bin/
release/darwin-amd64/bin/configtxgen
release/darwin-amd64/bin/cryptogen

$ cd release/linux-amd64/install

$ sudo ./get-docker-images.sh
<< standard output truncated, but no particular errors >>
<< all docker images present on the host where deleted prior to this action >>

$ sudo docker images
REPOSITORY                     TAG                  IMAGE ID            CREATED             SIZE
hyperledger/fabric-couchdb     x86_64-1.0.0-alpha   f3ce31e25872        5 weeks ago         1.515 GB
hyperledger/fabric-kafka       x86_64-1.0.0-alpha   589dad0b93fc        5 weeks ago         1.299 GB
hyperledger/fabric-zookeeper   x86_64-1.0.0-alpha   9a51f5be29c1        5 weeks ago         1.314 GB
hyperledger/fabric-orderer     x86_64-1.0.0-alpha   5685fd77ab7c        5 weeks ago         181.6 MB
hyperledger/fabric-peer        x86_64-1.0.0-alpha   784c5d41ac1d        5 weeks ago         184.2 MB
hyperledger/fabric-javaenv     x86_64-1.0.0-alpha   a08f85d8f0a9        5 weeks ago         1.424 GB
hyperledger/fabric-ccenv       x86_64-1.0.0-alpha   91792014b61f        5 weeks ago         1.294 GB

$ os_arch=$(echo ""$(uname -s)-amd64"" | awk '{print tolower($0)}')
$ echo $os_arch
linux-amd64

$ cd ../../samples/e2e

$ ls
chaincodes/    crypto-config.yaml          docker-compose-template.yaml  network_setup.sh*  README.rst
configtx.yaml  docker-compose-no-tls.yaml  docker-compose.yaml           peer-base/         scripts/

$ ./../../$os_arch/bin/cryptogen generate --config=./crypto-config.yaml
org1.example.com
2017-04-27 19:24:28.581 CEST [bccsp] GetDefault -> WARN 001 Before using BCCSP, please call InitFactories(). Falling back to bootBCCSP.
2017-04-27 19:24:28.615 CEST [bccsp] GetDefault -> WARN 002 Before using BCCSP, please call InitFactories(). Falling back to bootBCCSP.
2017-04-27 19:24:28.617 CEST [bccsp] GetDefault -> WARN 003 Before using BCCSP, please call InitFactories(). Falling back to bootBCCSP.
2017-04-27 19:24:28.618 CEST [bccsp] GetDefault -> WARN 004 Before using BCCSP, please call InitFactories(). Falling back to bootBCCSP.
2017-04-27 19:24:28.620 CEST [bccsp] GetDefault -> WARN 005 Before using BCCSP, please call InitFactories(). Falling back to bootBCCSP.
org2.example.com
2017-04-27 19:24:28.622 CEST [bccsp] GetDefault -> WARN 006 Before using BCCSP, please call InitFactories(). Falling back to bootBCCSP.
2017-04-27 19:24:28.623 CEST [bccsp] GetDefault -> WARN 007 Before using BCCSP, please call InitFactories(). Falling back to bootBCCSP.
2017-04-27 19:24:28.625 CEST [bccsp] GetDefault -> WARN 008 Before using BCCSP, please call InitFactories(). Falling back to bootBCCSP.
2017-04-27 19:24:28.626 CEST [bccsp] GetDefault -> WARN 009 Before using BCCSP, please call InitFactories(). Falling back to bootBCCSP.
2017-04-27 19:24:28.627 CEST [bccsp] GetDefault -> WARN 00a Before using BCCSP, please call InitFactories(). Falling back to bootBCCSP.
2017-04-27 19:24:28.629 CEST [bccsp] GetDefault -> WARN 00b Before using BCCSP, please call InitFactories(). Falling back to bootBCCSP.
2017-04-27 19:24:28.630 CEST [bccsp] GetDefault -> WARN 00c Before using BCCSP, please call InitFactories(). Falling back to bootBCCSP.
2017-04-27 19:24:28.632 CEST [bccsp] GetDefault -> WARN 00d Before using BCCSP, please call InitFactories(). Falling back to bootBCCSP.

$ ls -lrt crypto-config
total 8
drwxr-xr-x 4 vju vju 4096 avril 27 19:24 peerOrganizations
drwxr-xr-x 3 vju vju 4096 avril 27 19:24 ordererOrganizations

{noformat}

-> at this stage we got warning messages, but the certificates seems to be generated correctly

{noformat}
$ export ORDERER_CFG_PATH=$PWD
$ echo $ORDERER_CFG_PATH
/home/xxxx/devel/fabric-sample/release/samples/e2e

{noformat}

Next action generates the error :

{noformat}
$ ./../../$os_arch/bin/configtxgen -profile TwoOrgs -outputBlock orderer.block
2017-04-27 19:27:11.437 CEST [common/configtx/tool] main -> INFO 001 Loading configuration
2017-04-27 19:27:11.437 CEST [configtx/tool/localconfig] Load -> CRIT 002 Error reading configuration: Unsupported Config Type """"
panic: Error reading configuration: Unsupported Config Type """"

goroutine 1 [running]:
panic(0x88ade0, 0xc42017d3a0)
	/opt/go/go1.7.linux.amd64/src/runtime/panic.go:500 +0x1a1
github.com/hyperledger/fabric/vendor/github.com/op/go-logging.(*Logger).Panicf(0xc42015b620, 0x95e309, 0x1f, 0xc42017d2c0, 0x1, 0x1)
	/w/workspace/fabric-verify-x86_64_1/gopath/src/github.com/hyperledger/fabric/vendor/github.com/op/go-logging/logger.go:194 +0x127
github.com/hyperledger/fabric/common/configtx/tool/localconfig.Load(0x7ffe5adb26d7, 0x7, 0x0)
	/w/workspace/fabric-verify-x86_64_1/gopath/src/github.com/hyperledger/fabric/common/configtx/tool/localconfig/config.go:195 +0x79c
main.main()
	/w/workspace/fabric-verify-x86_64_1/gopath/src/github.com/hyperledger/fabric/common/configtx/tool/configtxgen/main.go:204 +0x405

{noformat}


and i can't go further...

please advise.",,davidkhala,nickgaski,raheelz,vjuge,zupan,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-5901,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxrj3:",,,,,,,,,,,,,,,,,,,,,,,,,,,davidkhala,nickgaski,raheelz,vjuge,zupan,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"28/Apr/17 4:37 AM;nickgaski;

Also, will you kindly try the following from e2e
- ./network_setup.sh down
and then 
- ./network_setup.sh restart

Let's see if that works, and if not, where it fails...;;;","28/Apr/17 5:19 AM;nickgaski;A few additional thoughts.  Try upgrading your Go to 1.7

And make sure you didn't compile the configtxgen binary yourself.  The current tool looks for a more comprehensive configuration, which the 
supplied configtx.yaml does not have.;;;","28/Apr/17 6:54 PM;zupan;I also experienced the same problem, but then I started from scratch including reinstalling all dependencies (go, docker-compose, ...). I also removed all old code previously downloaded from git master and curl.

Also from you logs it seems that you are installing go 1.8.1, but then from the error you can see: {code}/opt/go/go1.7.linux.amd64/src/runtime/panic.go:500 +0x1a1{code}

I installed GO following [docs|https://golang.org/doc/install#tarball] and only setting GOPATH (without GOROOT).
After that, I was able to generate genesis block and start blockchain. I assume that wrong go paths were the reason for the problem. 

;;;","28/Apr/17 7:29 PM;vjuge;{noformat}

$ sudo ./network_setup.sh down
setting to default channel 'mychannel'
WARNING: The ARCH_TAG variable is not set. Defaulting to a blank string.
WARNING: The CHANNEL_NAME variable is not set. Defaulting to a blank string.
Removing network e2e_default
WARNING: Network e2e_default not found.
b66a267a211e

85d7549a1b19
3e81939779c5
3e833bfd1f4b
4d5a9b89a30b
---- No images available for deletion ----

{noformat}

{noformat}
$ sudo ./network_setup.sh restart
setting to default channel 'mychannel'
WARNING: The ARCH_TAG variable is not set. Defaulting to a blank string.
WARNING: The CHANNEL_NAME variable is not set. Defaulting to a blank string.
Removing network e2e_default
WARNING: Network e2e_default not found.
---- No containers available for deletion ----
---- No images available for deletion ----
OS_ARCH linux-amd64

##########################################################
############## Generate certificates #####################
##########################################################
org1.example.com
2017-04-28 12:28:00.478 CEST [bccsp] GetDefault -> WARN 001 Before using BCCSP, please call InitFactories(). Falling back to bootBCCSP.
2017-04-28 12:28:00.506 CEST [bccsp] GetDefault -> WARN 002 Before using BCCSP, please call InitFactories(). Falling back to bootBCCSP.
2017-04-28 12:28:00.508 CEST [bccsp] GetDefault -> WARN 003 Before using BCCSP, please call InitFactories(). Falling back to bootBCCSP.
2017-04-28 12:28:00.510 CEST [bccsp] GetDefault -> WARN 004 Before using BCCSP, please call InitFactories(). Falling back to bootBCCSP.
2017-04-28 12:28:00.511 CEST [bccsp] GetDefault -> WARN 005 Before using BCCSP, please call InitFactories(). Falling back to bootBCCSP.
org2.example.com
2017-04-28 12:28:00.513 CEST [bccsp] GetDefault -> WARN 006 Before using BCCSP, please call InitFactories(). Falling back to bootBCCSP.
2017-04-28 12:28:00.515 CEST [bccsp] GetDefault -> WARN 007 Before using BCCSP, please call InitFactories(). Falling back to bootBCCSP.
2017-04-28 12:28:00.517 CEST [bccsp] GetDefault -> WARN 008 Before using BCCSP, please call InitFactories(). Falling back to bootBCCSP.
2017-04-28 12:28:00.518 CEST [bccsp] GetDefault -> WARN 009 Before using BCCSP, please call InitFactories(). Falling back to bootBCCSP.
2017-04-28 12:28:00.520 CEST [bccsp] GetDefault -> WARN 00a Before using BCCSP, please call InitFactories(). Falling back to bootBCCSP.
2017-04-28 12:28:00.522 CEST [bccsp] GetDefault -> WARN 00b Before using BCCSP, please call InitFactories(). Falling back to bootBCCSP.
2017-04-28 12:28:00.523 CEST [bccsp] GetDefault -> WARN 00c Before using BCCSP, please call InitFactories(). Falling back to bootBCCSP.
2017-04-28 12:28:00.524 CEST [bccsp] GetDefault -> WARN 00d Before using BCCSP, please call InitFactories(). Falling back to bootBCCSP.


##########################################################
#########  Generating Orderer Genesis block ##############
##########################################################
2017-04-28 12:28:00.555 CEST [common/configtx/tool] main -> INFO 001 Loading configuration
2017-04-28 12:28:00.556 CEST [configtx/tool/localconfig] Load -> CRIT 002 Error reading configuration: Unsupported Config Type """"
panic: Error reading configuration: Unsupported Config Type """"

goroutine 1 [running]:
panic(0x88ade0, 0xc4201853d0)
	/opt/go/go1.7.linux.amd64/src/runtime/panic.go:500 +0x1a1
github.com/hyperledger/fabric/vendor/github.com/op/go-logging.(*Logger).Panicf(0xc420165620, 0x95e309, 0x1f, 0xc4201852f0, 0x1, 0x1)
	/w/workspace/fabric-verify-x86_64_1/gopath/src/github.com/hyperledger/fabric/vendor/github.com/op/go-logging/logger.go:194 +0x127
github.com/hyperledger/fabric/common/configtx/tool/localconfig.Load(0x7ffdc2108867, 0x7, 0x0)
	/w/workspace/fabric-verify-x86_64_1/gopath/src/github.com/hyperledger/fabric/common/configtx/tool/localconfig/config.go:195 +0x79c
main.main()
	/w/workspace/fabric-verify-x86_64_1/gopath/src/github.com/hyperledger/fabric/common/configtx/tool/configtxgen/main.go:204 +0x405


#################################################################
### Generating channel configuration transaction 'channel.tx' ###
#################################################################
2017-04-28 12:28:00.569 CEST [common/configtx/tool] main -> INFO 001 Loading configuration
2017-04-28 12:28:00.569 CEST [configtx/tool/localconfig] Load -> CRIT 002 Error reading configuration: Unsupported Config Type """"
panic: Error reading configuration: Unsupported Config Type """"

goroutine 1 [running]:
panic(0x88ade0, 0xc4201853c0)
	/opt/go/go1.7.linux.amd64/src/runtime/panic.go:500 +0x1a1
github.com/hyperledger/fabric/vendor/github.com/op/go-logging.(*Logger).Panicf(0xc420167620, 0x95e309, 0x1f, 0xc4201852e0, 0x1, 0x1)
	/w/workspace/fabric-verify-x86_64_1/gopath/src/github.com/hyperledger/fabric/vendor/github.com/op/go-logging/logger.go:194 +0x127
github.com/hyperledger/fabric/common/configtx/tool/localconfig.Load(0x7ffeb3e0484b, 0x7, 0x0)
	/w/workspace/fabric-verify-x86_64_1/gopath/src/github.com/hyperledger/fabric/common/configtx/tool/localconfig/config.go:195 +0x79c
main.main()
	/w/workspace/fabric-verify-x86_64_1/gopath/src/github.com/hyperledger/fabric/common/configtx/tool/configtxgen/main.go:204 +0x405


Creating network ""e2e_default"" with the default driver
Creating orderer.example.com
Creating peer0.org1.example.com
Creating peer1.org1.example.com
Creating peer0.org2.example.com
Creating peer1.org2.example.com
Creating cli
Channel name : mychannel
CORE_PEER_TLS_ROOTCERT_FILE=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/cacerts/org1.example.com-cert.pem
CORE_PEER_TLS_KEY_FILE=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/keystore/9df67ce095430c2be22703aabc70916ffd3a97a8801008c6d92ee3138a4b430b_sk
CORE_PEER_LOCALMSPID=OrdererMSP
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
CORE_PEER_TLS_CERT_FILE=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/signcerts/peer0.org1.example.com-cert.pem
CORE_PEER_ADDRESSAUTODETECT=true
CORE_PEER_TLS_ENABLED=true
CORE_PEER_MSPCONFIGPATH=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/ordererOrganizations/example.com/orderers/orderer.example.com
CORE_PEER_ID=cli
CORE_LOGGING_LEVEL=DEBUG
CORE_PEER_ADDRESS=peer0:7051
CORE_PEER_ENDORSER_ENABLED=true
CORE_NEXT=true
2017-04-28 10:28:06.039 UTC [logging] InitFromViper -> DEBU 001 Setting default logging level to DEBUG for command 'channel'
2017-04-28 10:28:06.039 UTC [msp] GetLocalMSP -> DEBU 002 Returning existing local MSP
2017-04-28 10:28:06.040 UTC [msp] GetDefaultSigningIdentity -> DEBU 003 Obtaining default signing identity
Error connecting: rpc error: code = 14 desc = grpc: RPC failed fast due to transport failure
Error: rpc error: code = 14 desc = grpc: RPC failed fast due to transport failure
Usage:
  peer channel create [flags]

Global Flags:
  -b, --blockpath string           Path to file containing genesis block
      --cafile string              Path to file containing PEM-encoded trusted certificate(s) for the ordering endpoint
  -c, --chain string               In case of a newChain command, the chain ID to create.
  -f, --file string                Configuration transaction file generated by a tool such as configtxgen for submitting to orderer
      --logging-level string       Default logging level and overrides, see core.yaml for full syntax
  -o, --orderer string             Ordering service endpoint
      --test.coverprofile string   Done (default ""coverage.cov"")
      --tls                        Use TLS when communicating with the orderer endpoint
  -v, --version                    Display current version of fabric peer server

!!!!!!!!!!!!!!! Channel creation failed !!!!!!!!!!!!!!!!
================== ERROR !!! FAILED to execute End-2-End Scenario ==================
{noformat}

I guess something goes wrong with my install....

I'll give a try to Nejc's advise.


;;;","28/Apr/17 7:31 PM;vjuge;@Nejc : did you installed GO from tarball or apt-like ?

personnaly i'm running on ubuntu, and apt install seems crap, so I downloaded the tarball...;;;","28/Apr/17 7:40 PM;zupan;[~vjuge] I installed if from tar. Also to note, I took last stable version of 1.7.;;;","29/Apr/17 2:35 AM;nickgaski;This is solved.  Two fixes:

Do not pass ORDERER_CFG_PATH=$PWD
instead, pass the following:
FABRIC_CFG_PATH=$PWD

In the network_setup.sh script, make the same change.
It should be:
export FABRIC_CFG_PATH=$PWD;;;","02/May/17 8:31 PM;vjuge;I've modified as requested :

first edited the network_setup.sh :

{noformat}
82         echo ""##########################################################""
 83         echo ""#########  Generating Orderer Genesis block ##############""
 84         echo ""##########################################################""
 85 #FAB-3467
 86 export FABRIC_CFG_PATH=$PWD
 87 #export ORDERER_CFG_PATH=$PWD
 88         ./../../$os_arch/bin/configtxgen -profile TwoOrgs -outputBlock orderer.block
 89         echo
 90         echo
{noformat}

then executed the actions :

{noformat}
$ export FABRIC_CFG_PATH=$PWD

$ ./../../$os_arch/bin/configtxgen -profile TwoOrgs -outputBlock orderer.block
2017-05-02 13:29:00.891 CEST [common/configtx/tool] main -> INFO 001 Loading configuration
2017-05-02 13:29:00.934 CEST [common/configtx/tool] doOutputBlock -> INFO 002 Generating genesis block
2017-05-02 13:29:00.937 CEST [common/configtx/tool] doOutputBlock -> INFO 003 Writing genesis block

{noformat}

seems to work fine :)

;;;","01/Jun/17 12:51 PM;davidkhala;[~vjuge]

I could not find code block you showed in network_setup.sh. Is it should be generateArtifacts.sh?

On my side, running generateArtifacts.sh is working. But manually run 

{code:java}
./bin/configtxgen -profile TwoOrgs -outputBlock orderer.block
{code}
failed with text {code}panic: Error reading configuration: Unsupported Config Type """"{code}
still even with {code}export FABRIC_CFG_PATH=$PWD{code} before.;;;","01/Jun/17 11:11 PM;nickgaski;[~davidkhala] - please start fresh.  Kill your containers, Wipe your docker images, prune your docker networks, and delete your release directory.  Then follow the updated getting started instructions.  You are out of date with your configtx.yaml.  The correct profile to pass now is TwoOrgsOrdererGenesis.  

So nuke that directory and start fresh.  - http://hyperledger-fabric.readthedocs.io/en/latest/getting_started.html;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Additional logging for HFCAClient,FAB-3469,16065,,Task,Closed,FAB,Fabric,software,denyeart,,,High,Done,rickr,rickr,rickr,28/Apr/17 3:58 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,09/May/17 1:55 AM,,,,v1.0.0,,,,,,,,,0,,,,,,,,Needed more logging to isolate issues in HFCAClient.,,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxrjb:",,,,,,,,,,,,,,,,,,,,,,,,,,,rickr,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Create README on documentation build process,FAB-3471,16067,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,rameshthoomu,rameshthoomu,28/Apr/17 4:50 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,08/May/17 10:57 PM,,,,v1.0.0,,fabric-docs,,,,,,,0,build-system,Documentation,quality,,,,,"Create README on documentation build process

 -- Write README on RTD build process
 -- Write README on non-RTD build process.",,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxrjj:",,,,,,,,,,,,,,,,,,,,,,,,,,,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"03/May/17 11:24 AM;rameshthoomu;Working on preparing continuous documentation build process document.. please see the version 1 document here. https://github.com/rameshthoomu/fabric1/blob/tools/continuous-documentation.md;;;","08/May/17 10:57 PM;rameshthoomu;This task is not required as we have build process documentation is  [https://github.com/hyperledger/fabric/tree/master/docs.|https://github.com/hyperledger/fabric/tree/master/docs..]

closing this task.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Improve unit test coverage for peer/clilogging,FAB-3473,16069,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wlahti,wlahti,wlahti,28/Apr/17 5:30 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,04/May/17 12:01 AM,,,,v1.0.0,,fabric-peer,,,,,,,0,,,,,,,,Current unit test coverage is 25%. This item will be used to refactor some of the code and improve the unit test coverage.,,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxrjr:",,,,,,,,,,,,,,,,,,,,,,,,,,,wlahti,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
V1.0 PTE Readme,FAB-3474,16070,,Task,Closed,FAB,Fabric,software,denyeart,,,High,Done,dongming,scottz,scottz,28/Apr/17 5:55 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,26/May/17 4:17 AM,,,,v1.0.0,,fabric-quality,,,,,,,0,quality,,,,,,,,,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-2247,,,,,,,,,,"1|hzx2vb:",,,,,,Sprint 18 - Quality,Sprint 19 - Quality,,,,,,,,,,,,,,,,,,,,scottz,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Network Launcher,FAB-3475,16071,,Story,Closed,FAB,Fabric,software,denyeart,,,High,Done,dongming,scottz,scottz,28/Apr/17 5:57 AM,21/Jul/18 3:56 AM,28/Oct/23 2:59 AM,30/Aug/17 4:49 AM,,,,v1.0.0,,fabric-quality,,,,,,,0,quality,,,,,,,"Write the v1Launcher tool. This tool takes parameters on command line to specify things like #peers, #orgs, #ordererers, #channels, etc, and launches a network.",,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3572,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-2247,,,,,FAB-3498,FAB-6473,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzx2uf:",,,,Unset,,Sprint 19 - Quality,,,,,,,,,,Unset,,,,,,,,,,,scottz,,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
V1.0 PTE initial sample testcase,FAB-3476,16072,,Task,Closed,FAB,Fabric,software,denyeart,,,High,Done,dongming,scottz,scottz,28/Apr/17 5:57 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,26/May/17 4:17 AM,,,,v1.0.0,,fabric-quality,,,,,,,0,quality,,,,,,,,,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-2247,,,,,,,,,,"1|hzx2uv:",,,,,,Sprint 18 - Quality,Sprint 19 - Quality,,,,,,,,,,,,,,,,,,,,scottz,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Replace ccParts with ChaincodeInstance,FAB-3480,16076,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jiangyaoguo,jiangyaoguo,jiangyaoguo,28/Apr/17 11:32 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,03/May/17 10:13 AM,,,,,,,,,,,,,0,,,,,,,,"ccParts defined in /core/chincode locally holds name/version/chain of chaincode, which is similar to sysccprovider.ChaincodeInstance. We should replace ccParts with ChaincodeInstance.",,jiangyaoguo,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxrkv:",,,,,,,,,,,,,,,,,,,,,,,,,,,jiangyaoguo,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Succeed to get gossip logging level of peer0/1, but fail to get it from peer2/3",FAB-3481,16077,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wlahti,amber-zhang,amber-zhang,28/Apr/17 12:15 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,04/May/17 2:29 AM,,,,v1.0.0,,,,,,,,,0,common-components,gossip,,,,,,"Base on the docker-compose.yaml under fabric/example/e2e_cli directory, set 'debug' as default gossip logging level for peer0/1/23, run 'docker-compose up -d' to start all containers, 
login cli contain to check all peers' logging level via command 'CORE_PEER_ADDRESS=peerX:7051 peer logging getlevel gossip' 

Succeed to get gossip logging level of peer0 and peer 1, but fail to get  it for peer2 and peer3. Details, please see following info.

root@18c5c1c69e6d:/opt/gopath/src/github.com/hyperledger/fabric/peer# CORE_PEER_ADDRESS=peer0:7051 peer logging getlevel gossip
2017-04-27 13:22:42.394 UTC [cli/logging] getLevel -> INFO 001 Current log level for peer module 'gossip': DEBUG
2017-04-27 13:22:42.394 UTC [main] main -> INFO 002 Exiting.....

root@18c5c1c69e6d:/opt/gopath/src/github.com/hyperledger/fabric/peer# CORE_PEER_ADDRESS=peer1:7051 peer logging getlevel gossip
2017-04-27 13:22:49.752 UTC [cli/logging] getLevel -> INFO 001 Current log level for peer module 'gossip': DEBUG
2017-04-27 13:22:49.752 UTC [main] main -> INFO 002 Exiting.....

root@18c5c1c69e6d:/opt/gopath/src/github.com/hyperledger/fabric/peer# CORE_PEER_ADDRESS=peer2:7051 peer logging getlevel gossip
2017-04-27 13:22:59.792 UTC [cli/logging] getLevel -> WARN 001 PER:404 - Error trying to connect to local peer
/opt/gopath/src/github.com/hyperledger/fabric/peer/common/common.go:82 github.com/hyperledger/fabric/peer/common.GetAdminClient
/opt/gopath/src/github.com/hyperledger/fabric/peer/clilogging/getlevel.go:46 github.com/hyperledger/fabric/peer/clilogging.getLevel
/opt/gopath/src/github.com/hyperledger/fabric/peer/clilogging/getlevel.go:37 github.com/hyperledger/fabric/peer/clilogging.glob..func1
/opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/spf13/cobra/command.go:605 github.com/hyperledger/fabric/vendor/github.com/spf13/cobra.(*Command).execute
/opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/spf13/cobra/command.go:689 github.com/hyperledger/fabric/vendor/github.com/spf13/cobra.(*Command).ExecuteC
/opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/spf13/cobra/command.go:648 github.com/hyperledger/fabric/vendor/github.com/spf13/cobra.(*Command).Execute
/opt/gopath/src/github.com/hyperledger/fabric/peer/main.go:118 main.main
/opt/go/src/runtime/proc.go:192 runtime.main
/opt/go/src/runtime/asm_amd64.s:2087 runtime.goexit
Caused by: grpc: timed out when dialing
2017-04-27 13:22:59.794 UTC [main] main -> INFO 002 Exiting.....

root@18c5c1c69e6d:/opt/gopath/src/github.com/hyperledger/fabric/peer# CORE_PEER_ADDRESS=peer3:7051 peer logging getlevel gossip
2017-04-27 13:24:35.284 UTC [cli/logging] getLevel -> WARN 001 PER:404 - Error trying to connect to local peer
/opt/gopath/src/github.com/hyperledger/fabric/peer/common/common.go:82 github.com/hyperledger/fabric/peer/common.GetAdminClient
/opt/gopath/src/github.com/hyperledger/fabric/peer/clilogging/getlevel.go:46 github.com/hyperledger/fabric/peer/clilogging.getLevel
/opt/gopath/src/github.com/hyperledger/fabric/peer/clilogging/getlevel.go:37 github.com/hyperledger/fabric/peer/clilogging.glob..func1
/opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/spf13/cobra/command.go:605 github.com/hyperledger/fabric/vendor/github.com/spf13/cobra.(*Command).execute
/opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/spf13/cobra/command.go:689 github.com/hyperledger/fabric/vendor/github.com/spf13/cobra.(*Command).ExecuteC
/opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/spf13/cobra/command.go:648 github.com/hyperledger/fabric/vendor/github.com/spf13/cobra.(*Command).Execute
/opt/gopath/src/github.com/hyperledger/fabric/peer/main.go:118 main.main
/opt/go/src/runtime/proc.go:192 runtime.main
/opt/go/src/runtime/asm_amd64.s:2087 runtime.goexit
Caused by: grpc: timed out when dialing
2017-04-27 13:24:35.289 UTC [main] main -> INFO 002 Exiting.....","MacOS  version 10.12.1

root@18c5c1c69e6d:/opt/gopath/src/github.com/hyperledger/fabric/peer# peer -v
Fabric peer server version 1.0.0-snapshot-d4cc809",amber-zhang,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"28/Apr/17 12:06 PM;amber-zhang;docker-compose.yaml;https://jira.hyperledger.org/secure/attachment/10685/docker-compose.yaml",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxrl3:",,,,,,,,,,,,,,,,,,,,,,,,,,,amber-zhang,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"28/Apr/17 4:47 PM;amber-zhang;Succeed to set gossip logging level on peer0/1, but fail to do it on peer2/3

root@311101494a8b:/opt/gopath/src/github.com/hyperledger/fabric/peer# CORE_PEER_ADDRESS=peer0:7051 peer logging setlevel gossip notice
2017-04-28 07:44:57.653 UTC [cli/logging] setLevel -> INFO 001 Log level set for peer module 'gossip': NOTICE
2017-04-28 07:44:57.653 UTC [main] main -> INFO 002 Exiting.....

root@311101494a8b:/opt/gopath/src/github.com/hyperledger/fabric/peer# CORE_PEER_ADDRESS=peer2:7051 peer logging setlevel gossip notice
2017-04-28 07:45:10.175 UTC [cli/logging] setLevel -> WARN 001 PER:404 - Error trying to connect to local peer
/opt/gopath/src/github.com/hyperledger/fabric/peer/common/common.go:82 github.com/hyperledger/fabric/peer/common.GetAdminClient
/opt/gopath/src/github.com/hyperledger/fabric/peer/clilogging/setlevel.go:47 github.com/hyperledger/fabric/peer/clilogging.setLevel
/opt/gopath/src/github.com/hyperledger/fabric/peer/clilogging/setlevel.go:38 github.com/hyperledger/fabric/peer/clilogging.glob..func4
/opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/spf13/cobra/command.go:605 github.com/hyperledger/fabric/vendor/github.com/spf13/cobra.(*Command).execute
/opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/spf13/cobra/command.go:689 github.com/hyperledger/fabric/vendor/github.com/spf13/cobra.(*Command).ExecuteC
/opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/spf13/cobra/command.go:648 github.com/hyperledger/fabric/vendor/github.com/spf13/cobra.(*Command).Execute
/opt/gopath/src/github.com/hyperledger/fabric/peer/main.go:118 main.main
/opt/go/src/runtime/proc.go:192 runtime.main
/opt/go/src/runtime/asm_amd64.s:2087 runtime.goexit
Caused by: grpc: timed out when dialing
2017-04-28 07:45:10.175 UTC [main] main -> INFO 002 Exiting.....

root@311101494a8b:/opt/gopath/src/github.com/hyperledger/fabric/peer# CORE_PEER_ADDRESS=peer1:7051 peer logging setlevel gossip notice
2017-04-28 07:45:20.633 UTC [cli/logging] setLevel -> INFO 001 Log level set for peer module 'gossip': NOTICE
2017-04-28 07:45:20.634 UTC [main] main -> INFO 002 Exiting.....

root@311101494a8b:/opt/gopath/src/github.com/hyperledger/fabric/peer# CORE_PEER_ADDRESS=peer4:7051 peer logging setlevel gossip notice
2017-04-28 07:45:39.431 UTC [cli/logging] setLevel -> WARN 001 PER:404 - Error trying to connect to local peer
/opt/gopath/src/github.com/hyperledger/fabric/peer/common/common.go:82 github.com/hyperledger/fabric/peer/common.GetAdminClient
/opt/gopath/src/github.com/hyperledger/fabric/peer/clilogging/setlevel.go:47 github.com/hyperledger/fabric/peer/clilogging.setLevel
/opt/gopath/src/github.com/hyperledger/fabric/peer/clilogging/setlevel.go:38 github.com/hyperledger/fabric/peer/clilogging.glob..func4
/opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/spf13/cobra/command.go:605 github.com/hyperledger/fabric/vendor/github.com/spf13/cobra.(*Command).execute
/opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/spf13/cobra/command.go:689 github.com/hyperledger/fabric/vendor/github.com/spf13/cobra.(*Command).ExecuteC
/opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/spf13/cobra/command.go:648 github.com/hyperledger/fabric/vendor/github.com/spf13/cobra.(*Command).Execute
/opt/gopath/src/github.com/hyperledger/fabric/peer/main.go:118 main.main
/opt/go/src/runtime/proc.go:192 runtime.main
/opt/go/src/runtime/asm_amd64.s:2087 runtime.goexit
Caused by: grpc: timed out when dialing
2017-04-28 07:45:39.432 UTC [main] main -> INFO 002 Exiting.....
root@311101494a8b:/opt/gopath/src/github.com/hyperledger/fabric/peer# 
;;;","04/May/17 2:30 AM;wlahti;Marking this item complete as it has also been reported via https://jira.hyperledger.org/browse/FAB-3608, which I recently updated.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
As a developer I want to reach at least 85% test coverage for the msp component,FAB-3485,16081,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,ales,ales,ales,28/Apr/17 4:11 PM,23/Jan/20 4:07 AM,28/Oct/23 2:59 AM,23/Jan/20 4:07 AM,,,,,,,,,,,,,0,stale-item,,,,,,,,,ales,ChristopherFerris,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxrlr:",,,,,,,,,,,,,,,,,,,,,,,,,,,ales,ChristopherFerris,sykesm,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"29/Apr/17 9:35 PM;ChristopherFerris;[~Clayton Sims] we should not be recording improvement of test coverage as a bug. If others have done this, please have the type changed. Bug classification needs to be reserved for actual defects.;;;","23/Jan/20 4:07 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
check chaincode version with ProposalResponseData ,FAB-3487,16083,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jiangyaoguo,jiangyaoguo,jiangyaoguo,28/Apr/17 5:23 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,03/May/17 10:13 AM,,,,,,,,,,,,,0,,,,,,,,As suggested by [~muralisr] in https://gerrit.hyperledger.org/r/#/c/8465/， now we enforce one action per transaction. Later we may want to extend this to mutiple chaincode Action. It's better to use 1 proposalResponseData as parameter for tcvalidator.validateChaincodeVersion. ,,jiangyaoguo,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxrm7:",,,,,,,,,,,,,,,,,,,,,,,,,,,jiangyaoguo,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Documentation is missing information on how the doc gets built,FAB-3488,16084,,Story,Closed,FAB,Fabric,software,denyeart,,,High,Done,lehors,lehors,lehors,28/Apr/17 5:23 PM,21/Jul/18 3:53 AM,28/Oct/23 2:59 AM,29/Apr/17 7:56 AM,,,,v1.0.0,,fabric-docs,,,,,,,0,build-system,Documentation,,,,,,"The documentation is now published on readthedocs and involves a build process which is not currently documented anywhere. This makes it difficult for anyone new to the project to contribute without ""bugging"" one of the few people in the know.
Furthermore the documentation relies on several principles that one should know about so that any change to the doc is made in a consistent manner. These principles also ought to be documented somewhere.
",,lehors,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzxrmf:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,lehors,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
last_config on block #1 for chaincode instantiation points to #1,FAB-3493,16090,,Bug,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,kchristidis,jimthematrix,jimthematrix,29/Apr/17 12:23 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,10/May/17 11:02 PM,v1.0.0-alpha1,,,v1.0.0-alpha2,,fabric-orderer,,,,,,,0,configuration,,,,,,,"this was reproduced from node SDK's e2e test, which I showed to [~binhn] and [~jeffgarratt] by stepping through the code and inspecting the header and metadata of the block #0 and #1.

fabric commit level: 
commit 1b470e245905bc255ea2af5e5b79092155c6fc34
Merge: be623f1a 846a1d2f
Author: Yacov Manevich <yacovm@il.ibm.com>
Date:   Thu Apr 27 13:37:13 2017 +0000

    Merge ""[FAB-3111] - add to docs""
====

Steps:
1. node test/integration/e2e/create-channel.js <<== this uses the channel tx generated by configtxgen and the node.js code collects signatures on the config_update bytes, then signs the config tx to send to the orderer
2. node test/integration/e2e/join-channel.js
3. node test/integration/e2e/install-chaincode.js
4. node test/integration/e2e/instantiate-chaincode.js <<== this produces block #1 which then properly gets delivered to peers
5. node test/integration/e2e/invoke-transaction.js

at step 5 we encounter the following issue: as part of chain initialization (invoke-transaction.js does this in order to initialize the Chain object with channel MSPs) the code asks the orderer via the deliver() API for the latest config block. it does this in two steps:

- asks the orderer for the latest block on the channel ""mychannel"", which at this point is block #1
- parses the block for the ""last_config"" index from the metadata
- use the index to get the corresponding block that should be of type ""HeaderType.CONFIG""

problem is, the last_config index value is ""1"" which is the block for the instantiate chaincode transaction.",,binhn,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3769,,,,,,,,,,,,,,,,,,,,,,,,"29/Apr/17 9:20 AM;binhn;1out;https://jira.hyperledger.org/secure/attachment/10688/1out",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3040,,,,,,,,,,"1|hzxrkn:",,,,,,,,,,,,,,,,,,,,,,,,,,,binhn,kchristidis,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,dependabot/go_modules/golang.org/x/crypto-0.1.0,dev,release-2.5,release-2.4,dependabot/go_modules/test/performance/golang.org/x/net-0.7.0,main,dependabot/go_modules/golang.org/x/net-0.7.0,dependabot/go_modules/github.com/prometheus/client_golang-1.11.1,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"29/Apr/17 1:02 AM;jimthematrix;this was reproduced against today's HEAD:

commit 93c31bcf4b554eb665254dcd843b47842573b6b3
Merge: 23866ec0 e644262a
Author: Srinivasan Muralidharan <muralisr@us.ibm.com>
Date:   Fri Apr 28 14:32:19 2017 +0000

    Merge ""[FAB-3451] Move noopmsp in mocks""
;;;","29/Apr/17 3:11 AM;kchristidis;Thanks for the detailed JIRA report Jim. Something looks fishy indeed, I'm on it.;;;","29/Apr/17 3:34 AM;jimthematrix;[~kchristidis] also, I did a local hack inside the node SDK so that it blindly only seeks for the block 0 (disregarding the ""last_config"" index), and was able to submit a number of transactions, and all subsequent blocks have the ""last_config"" set to ""1"".
;;;","29/Apr/17 9:24 AM;binhn;I added the following on chainsupport.WriteBlock
	lastConfig, _ := utils.GetLastConfigIndexFromBlock(block)
	logger.Debugf(""Writing block %d, last config block %d"", block.Header.Number, lastConfig)

and got these logs from e2e_cli without updating channel tx (I attached the entire logfile below). Note writing of block 1 appeared twice. Also note that block 0 didn't involved this WriteBlock function. I havent traced the code yet.

[36m2017-04-29 00:08:28.433 UTC [orderer/multichain] WriteBlock -> DEBU 83c[0m Writing block 1, last config block 0
[36m2017-04-29 00:08:52.512 UTC [orderer/multichain] WriteBlock -> DEBU 8fd[0m Writing block 1, last config block 1
[36m2017-04-29 00:09:06.772 UTC [orderer/multichain] WriteBlock -> DEBU 943[0m Writing block 2, last config block 1
 [^1out] ;;;","29/Apr/17 1:40 PM;kchristidis;Binh, thanks for the update.

This problem arises from the following sequence that occurs whenever a new channel is created:

# The `NewChannelConfig` method returns a config manager based on an envelope whose `Config.Sequence` is set to 0. This sets the new config manager's `current.sequence` field to the same value. So, `configManager.current.sequence` is now 0.
# Right after, we have this config manager do a `ProposeConfigUpdate` which returns a `ConfigEvelope` whose `Config.Sequence` is the config manager's `current.sequence` value bumped up by one. So, `ConfigEnvelope.Config.Sequence` is now 1.
# Then we have the config manager apply the `ConfigEnvelope` returned from the previous step, so that it becomes the new config. During this process, the config manager's `current.sequence` field is set to the processed `ConfigEnvelope`'s `Config.Sequence` value. So, `configManager.current.sequence` is now 1.

This shows that right out of the gate, the new channel outputs blocks who `LastConfig` metadata value incorrectly points to block 1 as the last configuration block.

There are three ways of solving this:

A. Completely rewrite the underlying logic. I am not going to do this on purpose. Jason wrote this package, and knows the ins and outs of it better than me. Therefore, if we are looking for a quick solution, anything that I come up with during the weekend is guaranteed to be suboptimal.

B. Have the envelope that the new config manager is based on, set its sequence number (`Config.Sequence`) to -1. Remember that Step 1 is always followed up by Steps 2 and 3, so this results in a value that in the end is always right: a `configManager` for a new channel whose `current.sequence` is set to 0 right out of the get.

The problem with this solution is that the type of the sequence filed is an unsigned integer. If we wish to proceed with this solution we need to change the type to a signed integer, and then modify the signatures and the bodies of the functions/methods that depend on it accordingly. In fact, this is what I do in https://gerrit.hyperledger.org/r/#/c/8749/1 as very hacky fix.

C. A less invasive (but still somewhat hacky solution) is to extend the `Config` message definition by adding a boolean field that lets the parsing function (in our case: `ProposeConfigUpdate` in Step 2) know that it's dealing with a ""fresh"" config manager, and therefore won't bump the `Config.Sequence` value of the `ConfigEnvelope` that it will return.

This is what I plan to do.;;;","02/May/17 1:10 PM;kchristidis;Spent a good part of the weekend working on this. What made the final fix tricky was that it had to:

# Affect only the new channel creation path
# Modify this path *both* on ingress (when the ordering service transforms the CONFIG_UPDATE envelope to an ORDERER_TRANSACTION one), *and* after processing/ordering, during the systemchain filter execution stage.

You can find the fix in: https://gerrit.hyperledger.org/r/#/c/8825/;;;","10/May/17 2:35 AM;kchristidis;I've submitted a new fix for this (replacing the old one): https://gerrit.hyperledger.org/r/#/c/9141/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Add more information to report for blocks, etc.",FAB-3494,16091,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jeffgarratt,jeffgarratt,jeffgarratt,29/Apr/17 1:13 AM,21/Jul/18 3:56 AM,28/Oct/23 2:59 AM,26/May/17 9:03 PM,,,,,,fabric-build,,,,,,,0,Documentation,,,,,,,,,jeffgarratt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-1141,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-1141,,,,,,,,,,"1|hzxrnr:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,jeffgarratt,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"26/May/17 3:35 AM;jeffgarratt;Pushed new CR [https://gerrit.hyperledger.org/r/#/c/9809/]

 ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
incorrect log message at state transfer queueNewMessage,FAB-3495,16092,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,29/Apr/17 1:17 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,03/May/17 7:13 PM,v1.0.0,,,,,fabric-gossip,,,,,,,0,gossip,,,,,,,"This log message that is logged at WARN is misleading, as queueNewMessage is used for message that come from the dissemination layer, while messages about state transfer requests reach *directMessage* instead.
{code}
func (s *GossipStateProviderImpl) queueNewMessage(msg *proto.GossipMessage) {
	if !bytes.Equal(msg.Channel, []byte(s.chainID)) {
		logger.Warning(""Received state transfer request for channel"",
			string(msg.Channel), ""while expecting channel"", s.chainID, ""skipping request..."")
		return
	}

	dataMsg := msg.GetDataMsg()
	if dataMsg != nil {
		// Add new payload to ordered set

		logger.Debugf(""Received new payload with sequence number = [%d]"", dataMsg.Payload.SeqNum)
		s.payloads.Push(dataMsg.GetPayload())
	} else {
		logger.Debug(""Gossip message received is not of data message type, usually this should not happen."")
	}
}
{code}",,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-290,,,,,,,,,,"1|hzxrnz:",,,,,,Sprint 16 - Gossip,,,,,,,,,,,,,,,,,,,,,yacovm,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Nil check missing after proto deserialization,FAB-3496,16093,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,29/Apr/17 1:19 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,03/May/17 7:16 PM,v1.0.0,,,,,fabric-gossip,,,,,,,0,gossip,,,,,,,"Since proto.Unmarshal may return nil and at the same time, inner structs might have a nil reference, the following case is possible:
{code}
			for payload := s.payloads.Pop(); payload != nil; payload = s.payloads.Pop() {
				rawblock := &common.Block{}
				if err := pb.Unmarshal(payload.Data, rawblock); err != nil {
					logger.Errorf(""Error getting block with seqNum = %d due to (%s)...dropping block"", payload.SeqNum, err)
					continue
				}
				logger.Debug(""New block with sequence number "", payload.SeqNum, "" transactions num "", len(rawblock.Data.Data))
				s.commitBlock(rawblock)
			}
{code}
the block that is received, has a nil Data, and then Data.Data would result in a null pointer panic.",,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-290,,,,,,,,,,"1|hzxro7:",,,,,,Sprint 16 - Gossip,,,,,,,,,,,,,,,,,,,,,yacovm,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Consider removing the hash field from the Payload of the gossip DataMessage,FAB-3497,16094,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,29/Apr/17 1:24 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,02/May/17 9:21 AM,v1.0.0,,,,,fabric-gossip,,,,,,,0,gossip,,,,,,,"The hash field isn't used anywhere but:
{code}
func (mc *msgComparator) dataInvalidationPolicy(thisDataMsg *DataMessage, thatDataMsg *DataMessage) common.InvalidationResult {
	if thisDataMsg.Payload.SeqNum == thatDataMsg.Payload.SeqNum {
		if thisDataMsg.Payload.Hash == thatDataMsg.Payload.Hash {
			return common.MessageInvalidated
		}
		return common.MessageNoAction
	}
{code}
and isn't validated that it matches the real hash inside the serialized block.

Since we have the logic above, a malicious peer can send the same block wrapped in a DataMessage that has a different hash, and this would cause the message to be stored twice (or more...) in other peer's memory.

I say that since we don't use the hash for anything, we get rid of that field. ",,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-290,,,,,,,,,,"1|hzxrof:",,,,,,Sprint 16 - Gossip,,,,,,,,,,,,,,,,,,,,,yacovm,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"01/May/17 4:52 PM;yacovm;https://gerrit.hyperledger.org/r/#/c/8785/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
PTE updates for new profile format with consortiums...,FAB-3498,16095,,Task,Closed,FAB,Fabric,software,denyeart,,,High,Done,dongming,scottz,scottz,29/Apr/17 2:15 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,26/May/17 4:17 AM,,,,v1.0.0,,fabric-quality,,,,,,,0,quality,,,,,,,,,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3475,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-2247,,,,,,,,,,"1|hzx2v3:",,,,,,Sprint 18 - Quality,Sprint 19 - Quality,,,,,,,,,,,,,,,,,,,,scottz,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Document cryptogen tool,FAB-3499,16096,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,nickgaski,nickgaski,nickgaski,29/Apr/17 2:39 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,18/Jun/17 12:58 PM,,,,v1.0.0,,fabric-docs,,,,,,,1,Documentation,,,,,,,"Describe how to compile the binary
Naming conventions
explanation of where the certs are parked and what they represent
how to modify the crypto-gen template accordingly ",,ChristopherFerris,nickgaski,vdods,,,,,,,,,,,,,,,,,,86400,86400,,0%,86400,86400,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxron:",,,,,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,nickgaski,vdods,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"18/Jun/17 12:59 PM;ChristopherFerris;This is included in FAB-4073;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Research Adding More System Sample Code for SVT,FAB-3500,16097,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,bmos299,bmos299,29/Apr/17 3:01 AM,01/Aug/19 11:31 AM,28/Oct/23 2:59 AM,01/Aug/19 11:31 AM,,,,v1.0.0,,fabric-quality,,,,,,,0,quality,,,,,,,There are several repos that have automated system testing for the Fabric V1.0 architecture.  Some have created REST interfaces so tools such as JMeter can be used to drive the load.  I will research what is in various open source repositories. ,,bmos299,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx2sf:",,,,,,Sprint 19 - Quality,,,,,,,,,,,,,,,,,,,,,bmos299,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"15/Jun/17 12:56 AM;rameshthoomu;[~harrijk] Could you please give share latest updates on this tool.. I heard you are the point of contact for the japan team's jmeter tools..;;;","20/Jan/19 1:24 AM;rameshthoomu;Not sure where to take this JIRA. Keeping this in backlog and unassigning this based on the scope.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"update OTE for newer Orderer API, using certs",FAB-3501,16098,14770,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,suryalnvs,scottz,scottz,29/Apr/17 3:31 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,10/Jul/18 3:23 AM,,,,v1.0.0,,fabric-quality,,,,,,,0,,,,,,,,The current master branch in gerrit has changes to the ordering service security which is breaking the OTE tool. When Surya/Scott submit the PR to Gerrit we want to ensure the tool is fully operational. The team is working with Kostas to address the changes.,,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3517,FAB-3513,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxrov:",,,,,,,,,,,,,,,,,,,,,,,,,,,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Logging Testing,FAB-3502,16099,,Task,Closed,FAB,Fabric,software,denyeart,,,High,Done,Amber.Zhang,bmos299,bmos299,29/Apr/17 3:38 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,06/Jul/18 10:52 PM,,,,v1.0.0,,fabric-quality,,,,,,,0,,,,,,,,"Testing logging with a focus on ensuring operational commands work correctly. This work has already started and the following bugs have been opened:
 New Open bugs:
 FAB-3442: Need document for Fabric peer logging level's set/change/revert for specified subcomponent
 -FAB-3443-: peer logging getlevels doesn't work
 -FAB-3445-: unrecognized characters in the gossip log when dynamically change gossip's logging level
 -FAB-3607-: Wrong log message in the flogging component
 -FAB-3608-: Fail to connect to peer2 and peer3 from cli when run getlevel and setlevel

FAB-3741: Wrong log message (Invalid log level provided) are found in the peer log",,Amber.Zhang,amber-zhang,bmos299,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx2tz:",,,,,,Sprint 19 - Quality,,,,,,,,,,,,,,,,,,,,,Amber.Zhang,amber-zhang,bmos299,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"09/May/17 5:05 PM;amber-zhang;Verified Bugs:

FAB-3608: Fail to connect to peer2 and peer3 from cli when run getlevel and setlevel

-FAB-3443-: peer logging getlevels doesn't work

 

Reopen Bugs:

FAB-3607: Wrong log message in the flogging component;;;","15/May/17 12:31 PM;amber-zhang;FAB-3607 was verified. Now only FAB-3442 is leaved as open, it asks logging level doc improvement;;;","18/May/17 11:48 AM;Amber.Zhang;h6. New opened Bugs on 5/18.
h6. FAB-3998: In the peer container, same INFO message appears multiple times in a second;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"E2E test using new end-user-friendly Behave APIs, for chaincode_example02",FAB-3504,16101,,Story,Closed,FAB,Fabric,software,denyeart,,,High,Done,Nishi,Nishi,Nishi,29/Apr/17 4:04 AM,21/Jul/18 3:55 AM,28/Oct/23 2:59 AM,22/Jun/17 10:48 PM,,,,v1.0.0,,fabric-quality,,,,,,,0,quality,,,,,,,,,ChandraLekhaChavva,Nishi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-1017,,,,,FAB-3505,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-1017,,,,,,,,,,"1|hzx2z3:",,,,Unset,,Sprint 19 - Quality,,,,,,,,,,Unset,,,,,,,,,,,ChandraLekhaChavva,Nishi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Test chaincode_example02 using a BDD feature file,FAB-3505,16102,16101,Sub-task,Closed,FAB,Fabric,software,denyeart,,,High,Done,Nishi,Nishi,Nishi,29/Apr/17 4:08 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,22/Jun/17 10:48 PM,,,,v1.0.0,,fabric-quality,,,,,,,0,quality,,,,,,,"* +Test Name+: Test example02 stopping and starting peers
 * +Component+:  peer/endorser
 * +Description+: Deploy, invoke and query against the fabric network using example02 chaincode. Then stop and start a peer and ensure that the network continues as expected.
 * +Artifact Locations+:  fabric/test/feature/peer.feature
 * +Network Topology+:  3 orderers, 3 zookeepers, 4 kafka brokers (both solo and kafka orderers) 2 organizations with 2 peers each
 * +Client Driver+:  behave
 * +Input+:  behave -n ""FAB-3505""
 * +Output+: 1 scenarios passed, 0 failed

 

Steps to test:

1. Bring up a 4 peer network with 1 orderer, 4 peers
 2. Create a channel
 3. Join channel all 4 peers (with 2 peers from 2 organization).

4. Install chaincode_example02 on all peers
 5. Instantiate chaincode( a= 1000, b=2000) on one peer from channel.

6. Query on initial value of ""a""
 Result: 1000

7. Invoke (a, b, 100)
 8. Query on updated value of ""a""
 Result:900

9. Bring down pee0

10. Invoke (a, b 100)
 11. Query on updated value of ""a' on peer1
 Result: 800

12. Bring up peer0
 13. Query on updated ""a""
 Result: 800",,Nishi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3504,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxrpb:",,,,,,Sprint 19 - Quality,,,,,,,,,,,,,,,,,,,,,Nishi,,,,,,,,,,,,,,,,,,,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,main,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,mergify/bp/release-2.2/pr-3750,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,mergify/bp/release-2.2/pr-4374,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,mergify/bp/release-2.5/pr-3782,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,mergify/bp/release-2.4/pr-3646,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Behave peer scaffolding,FAB-3506,16103,19362,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,latitiah,latitiah,latitiah,29/Apr/17 4:18 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,03/May/17 7:35 PM,,,,,,fabric-quality,,,,,,,0,,,,,,,,"This scaffolding will be the basis for implementing the peer feature files.
",,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxqlz:",,,,,,Sprint 19 - Quality,,,,,,,,,3.0,,,,,,,,,,,,latitiah,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
chaincodes,FAB-3507,16104,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,Nishi,Nishi,Nishi,29/Apr/17 4:41 AM,21/Jul/18 3:56 AM,28/Oct/23 2:59 AM,06/Jul/18 10:53 PM,,,,v1.0.0,,fabric-quality,,,,,,,0,quality,,,,,,,"This story has tests we are going to run from ""test/regression/daily/chaincodetests"" using chaincodes in fabric/examples/chaincode/go folder

 
 * +Component+:  endorser/peer
 * +Description+:  to build tests and verify example chaincodes in fabric in our daily runs.
 * +Artifact Locations+:  test/regression/daily/chaincodetests/fabricFeatureChaincodes
 * +Network Topology+:  4 peer solo, TLS enabled docker-network
 * +Client Driver+: CLI shell scripts wrapped in Python.",,Nishi,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3791,FAB-3792,FAB-3793,FAB-3794,FAB-3796,FAB-3797,FAB-3934,FAB-4175,FAB-4236,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3770,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-3770,,,,,,,,,,"1|hzx2xb:",,,,Unset,,Sprint 18 - Quality,Sprint 19 - Quality,,,,,,,,,Unset,,,,,,,,,,,Nishi,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
e2e_test_example03.sh,FAB-3508,16105,16104,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,Nishi,Nishi,Nishi,29/Apr/17 4:44 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,11/May/17 3:29 AM,,,,v1.0.0,,fabric-quality,,,,,,,0,,,,,,,,"This epic will list all the tests that are run in CI for //fabric/test/regression/daily.

 
+Fabric Test Template+: * :  <FAB-3508>_<e2e_test_example03.sh>
 * +Component+:  <use the Component and/or Feature columns from the testplan>
 * +Description+:  <test overview and objective>
 * +Artifact Locations+:  <location of test script and input files>
 * +Network Topology+:  <number of nodes of each type; use ""standard"" for our standard docker-compose file that is being used for most tests>
 * +Client Driver+:  <test tool>
 * +Input+:  <command to run the test>
 * +Output+:  <key portions of stdout of running the test, showing it passes>",,Nishi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxrpr:",,,,,,Sprint 18 - Quality,Sprint 19 - Quality,,,,,,,,,,,,,,,,,,,,Nishi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"11/May/17 3:30 AM;Nishi;Moved from subtask to task and attached as a blocker to this story.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
e2e_test_example04.sh,FAB-3509,16106,16104,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,Nishi,Nishi,29/Apr/17 4:45 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,11/May/17 3:30 AM,,,,v1.0.0,,fabric-quality,,,,,,,0,,,,,,,,,,Nishi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxrpz:",,,,,,Sprint 18 - Quality,Sprint 19 - Quality,,,,,,,,,,,,,,,,,,,,Nishi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"11/May/17 3:31 AM;Nishi;Moved from subtask to task and attached as a blocker to this story.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
e2e_test_example05.sh,FAB-3510,16107,16104,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,Nishi,Nishi,29/Apr/17 4:45 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,11/May/17 3:31 AM,,,,v1.0.0,,fabric-quality,,,,,,,0,,,,,,,,"+Fabric Test Template+:  ""FAB-3510_e2e_test_example02.sh""

+Input+:  <./runChaincodes.sh>

+Output+:  

Query Result: 300
  ===================== Query on PEER1 from myccex05 on channel1/ex02_b on completed successfully =====================
 Query Result: 300
 ===================== Query on PEER1 from myccex05 on channel0/ex02_b on completed successfully =====================",,Nishi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxrq7:",,,,,,Sprint 18 - Quality,Sprint 19 - Quality,,,,,,,,,,,,,,,,,,,,Nishi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"11/May/17 3:31 AM;Nishi;Moved from subtask to task and attached as a blocker to this story.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
e2e_test_marbles02.sh,FAB-3511,16108,16104,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,Nishi,Nishi,29/Apr/17 4:45 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,11/May/17 3:31 AM,,,,v1.0.0,,fabric-quality,,,,,,,0,,,,,,,,Moved from subtask to task and attached as a blocker to this story.,,Nishi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxrqf:",,,,,,Sprint 18 - Quality,Sprint 19 - Quality,,,,,,,,,,,,,,,,,,,,Nishi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
e2e_test_ccAPIDriver.sh,FAB-3512,16109,16104,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,Nishi,Nishi,29/Apr/17 4:46 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,11/May/17 3:32 AM,,,,v1.0.0,,fabric-quality,,,,,,,0,,,,,,,,Moved from subtask to task and attached as a blocker to this story.,,Nishi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxrqn:",,,,,,Sprint 18 - Quality,Sprint 19 - Quality,,,,,,,,,,,,,,,,,,,,Nishi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Can't build OTE,FAB-3513,16110,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,nnao,nnao,nnao,29/Apr/17 5:31 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,03/Jun/17 5:43 AM,v1.0.0-alpha1,,,v1.0.0,,fabric-quality,fabric-tools,,,,,,0,,,,,,,,"Environment: 
Using commit a97886a026970a4da3a5582ccb6411765d0717bc.

Steps to reproduce 
--------------------------
$ cd fabric/bddtests/regression/go/ote
$ go build

Expected Results:
Not displayed

Acctual Results:
ubuntu@hyperledger-devenv:88ac3ba:/opt/gopath/src/github.com/hyperledger/fabric/bddtests/regression/go/ote$ go build
# github.com/hyperledger/fabric/bddtests/regression/go/ote
./ote.go:202: cannot use common.ChannelHeader literal (type *common.ChannelHeader) as type []byte in field value
./ote.go:203: cannot use common.SignatureHeader literal (type *common.SignatureHeader) as type []byte in field value
./ote.go:261: cannot use common.ChannelHeader literal (type *common.ChannelHeader) as type []byte in field value
./ote.go:262: cannot use common.SignatureHeader literal (type *common.SignatureHeader) as type []byte in field value
./ote.go:746: not enough arguments in call to localconfig.Load
./ote.go:746: cannot use localconfig.Load() (type *localconfig.Profile) as type *localconfig.TopLevel in assignment
",,kchristidis,nnao,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3501,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxrqv:",,,,,,,,,,,,,,,,,,,,,,,,,,,kchristidis,nnao,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"10/May/17 10:58 PM;kchristidis;[~scottz] FYI;;;","02/Jun/17 9:19 AM;nnao;https://gerrit.hyperledger.org/r/#/c/8737/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[doc]  Is BIOS Enabled Virtualization really needed by fabric?,FAB-3514,16111,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,nickgaski,jjjjibm,jjjjibm,29/Apr/17 6:05 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,03/Jun/17 4:03 AM,,,,v1.0.0,,fabric-build,,,,,,,0,,,,,,,,"On this web page: 
http://hyperledger-fabric.readthedocs.io/en/latest/dev-setup/devenv.html

I was reviewing the list of pre-requisites: 

Prerequisites
•Git client
•Go - 1.7 or later (for releases before v1.0, 1.6 or later)
•For macOS, Xcode must be installed
•Docker - 1.12 or later
•Docker Compose - 1.8.1 or later
•Pip
•(macOS) you may need to install gnutar, as macOS comes with bsdtar as the default, but the build uses some gnutar flags. You can use Homebrew to install it as follows:

brew install gnu-tar --with-default-names

•(only if using Vagrant) - Vagrant - 1.7.4 or later
•(only if using Vagrant) - VirtualBox - 5.0 or later
•BIOS Enabled Virtualization - Varies based on hardware
•Note: The BIOS Enabled Virtualization may be within the CPU or Security settings of the BIOS

At the very end, note that BIOS enabled virtualization is listed unconditionally as a pre-requisite.  Enabling BIOS Virtualization is painful to say the least.  I am not sure it is mandatory unless you plan to use Vagrant/Virtualbox.  We should not require enabling BIOS virtualization unless it is absolutely required.

I made a query on RocketChat: https://chat.hyperledger.org/channel/fabric-questions?msg=soj9d55kj6D2BrjaC but have received no answer.  Quality team believes it is not needed but no one will commit :-).    Keep watching that space!

So the first destination of this issue  is the fabric dev team to confirm BIOS enabled virtualization is needed if and only if you intend to use Vagrant/Virtualbox. 

If that is the case, the doc needs to be updated to say only Vagrant/Virtualbox users need to enable BIOS virtualization.

If all users need to enable BIOS virtualization, the bullet item should be moved above the Vagrant-only bullets. ","fabric-sdk-node: commit caaf3c0dc78da7f6fa21521e872a4b0de752a292
(but probably not important for this defect). ",jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-46,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxrr3:",,,,,,,,,,,,,,,,,,,,,,,,,,,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Orderer v1.0 functional tests in behave,FAB-3515,16112,,Story,Closed,FAB,Fabric,software,denyeart,,,High,Done,latitiah,scottz,scottz,29/Apr/17 6:48 AM,21/Jul/18 3:55 AM,28/Oct/23 2:59 AM,10/Jul/18 3:23 AM,,,,v1.0.0,,fabric-quality,,,,,,,0,quality,,,,,,,"Per testplan https://docs.google.com/spreadsheets/d/1_IdXCuYMKkqXr3Za0pVnFP3sP1jBcNbYnTJGV-nSkxI/edit#gid=442991954 
which is derived from FAB-972 (which has some detailed test steps to use),
using new end-user-friendly behave test APIs in the .../fabric/test/ folder,
write the Orderer Functional Tests that can be written using Behave tooling.
Create new jira issues for each test or test group.",,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-972,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3516,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-1017,,,,,,,,,,"1|hzxrpj:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Ordererv1.0 behave tests for batchtimeout,FAB-3516,16113,16112,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,latitiah,scottz,scottz,29/Apr/17 7:01 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,23/Sep/17 4:15 AM,,,,v1.0.0,,fabric-quality,,,,,,,0,quality,,,,,,,"Test orderer block delivery times when modifying config parameter BatchTimeout, i.e., CONFIGTX_ORDERER_BATCHTIMEOUT.
Write behave tests for ORD-100 and ORD-101 in the testplan https://docs.google.com/spreadsheets/d/1_IdXCuYMKkqXr3Za0pVnFP3sP1jBcNbYnTJGV-nSkxI/edit#gid=442991954

Write, execute, and submit patch request.",,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3283,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-4808,FAB-4809,FAB-3515,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxrrb:",,,,,,,,,,,,,,,,,,,,,,,,,,,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Orderer v1.0 functional tests using OTE,FAB-3517,16114,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,scottz,scottz,scottz,29/Apr/17 7:08 AM,21/Jul/18 3:53 AM,28/Oct/23 2:59 AM,10/Jul/18 3:23 AM,,,,v1.0.0,,fabric-quality,,,,,,,0,quality,,,,,,,"Per testplan https://docs.google.com/spreadsheets/d/1_IdXCuYMKkqXr3Za0pVnFP3sP1jBcNbYnTJGV-nSkxI/edit#gid=442991954 
which is derived from FAB-972 (which has some detailed test steps to use),
write the Orderer Functional Tests that can be written using OTE tool.",,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-972,FAB-3501,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-2212,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-1017,,,,,,,,,,"1|hzxrrj:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Eventer doesn't trigger subsequent config updates,FAB-3520,16117,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,30/Apr/17 3:27 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,01/May/17 8:38 AM,v1.0.0,,,,,fabric-gossip,,,,,,,0,gossip,,,,,,,"There is a bug in the [eventer | https://github.com/hyperledger/fabric/blob/master/gossip/service/eventer.go#L69-L90] code:
{code}
func (ce *configEventer) ProcessConfigUpdate(config Config) {
	logger.Debugf(""Processing new config for channel %s"", config.ChainID())

	if ce.lastConfig != nil && reflect.DeepEqual(ce.lastConfig.orgMap, config.Organizations()) {
		logger.Debugf(""Ignoring new config for channel %s because it contained no anchor peer updates"", config.ChainID())
		return
	}

	var newAnchorPeers []*peer.AnchorPeer
	for _, group := range config.Organizations() {
		newAnchorPeers = append(newAnchorPeers, group.AnchorPeers()...)
	}

	newConfig := &configStore{
		orgMap:      config.Organizations(),
		anchorPeers: newAnchorPeers,
	}
	ce.lastConfig = newConfig

	logger.Debugf(""Calling out because config was updated for channel %s"", config.ChainID())
	ce.receiver.configUpdated(config)
}
{code}

The first config's orgMap is updated to be the *config.Organizations()*, but that object is the same object after the config updates, just with different content.

The simple test below proves it:
{code}
	if ce.lastConfig != nil && reflect.DeepEqual(ce.lastConfig.orgMap, config.Organizations()) {
		fmt.Println(""<<<"", config.Organizations(), ce.lastConfig.orgMap)
		logger.Debugf(""Ignoring new config for channel %s because it contained no anchor peer updates"", config.ChainID())
		return
	}
{code}
peer0's log prints:
{quote}
<<< map[Org0MSP:0xc42160dc80 Org1MSP:0xc42160dce0] map[Org0MSP:0xc42160dc80 Org1MSP:0xc42160dce0]
{quote}

This bug prevents an update of anchor peers, namely as done in the e2e.
",,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-290,,,,,,,,,,"1|hzxrs7:",,,,,,Sprint 16 - Gossip,,,,,,,,,,,,,,,,,,,,,yacovm,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Increase test coverage for ESCC,FAB-3521,16118,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ales,ales,ales,30/Apr/17 5:10 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,30/Apr/17 11:21 PM,,,,,,,,,,,,,0,,,,,,,,,,ales,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxrsf:",,,,,,,,,,,,,,,,,,,,,,,,,,,ales,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Increase test coverage for validation,FAB-3522,16119,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ales,ales,ales,30/Apr/17 5:50 AM,21/Jul/18 3:56 AM,28/Oct/23 2:59 AM,01/May/17 9:27 PM,,,,,,fabric-crypto,,,,,,,0,,,,,,,,,,ales,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzxrsn:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,ales,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Modify comm implementation is use callback function to get secure dial options,FAB-3523,16120,15692,Sub-task,Closed,FAB,Fabric,software,denyeart,,,High,Done,mastersingh24,mastersingh24,mastersingh24,30/Apr/17 8:27 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,01/May/17 2:21 AM,,,,v1.0.0,,fabric-gossip,,,,,,,0,,,,,,,,The current gossip implementation is initialized with a set of dial options which don't change during the lifecycle of the peer.  In order to always get the most up to date secure dial options (which basically means dial options with the latest set of trusted roots for remote peers / organizations) this task will add a callback function to the comm impl,,mastersingh24,,,,,,,,,,,,,,,,,,";30/Apr/17 8:28 PM;mastersingh24;7200",";01/May/17 2:20 AM;mastersingh24;3600",7200,0,10800,150%,7200,0,10800,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxrsv:",,,,,,,,,,,,,,,1.0,,,,,,,,,,,,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add unit test for gossip message tags and types.,FAB-3524,16121,16057,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,C0rWin,C0rWin,C0rWin,30/Apr/17 8:55 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,03/May/17 6:52 AM,,,,v1.0.0,,fabric-gossip,,,,,,,0,beta,gossip,,,,,,"There are few utilities functions added to protobuf generated code, in order to extend generated code with additional functionality. Need to add unit test to validate the part which capable to add checks for gossip message types and validations of correct usage of gossip message tags.",,C0rWin,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxrt3:",,,,,,Sprint 16 - Gossip,,,,,,,,,,,,,,,,,,,,,C0rWin,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"30/Apr/17 10:28 PM;C0rWin;https://gerrit.hyperledger.org/r/#/c/8767/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Ledger gets stuck at startup if chain size is big,FAB-3525,16122,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,denyeart,yacovm,yacovm,30/Apr/17 9:30 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,11/May/17 2:22 AM,v1.0.0-alpha1,,,v1.0.0-alpha2,,fabric-ledger,fabric-peer,,,,,,0,alpha2,Ledger,peer,,,,,"Using commit level: 
{quote}
commit 4e0f96ba689f1390ebb6839b519e47fa281cefbf
Author: manish <manish.sethi@gmail.com>
Date:   Thu Mar 30 12:30:24 2017 +0530

    create ledger with genesis block
{quote}

And a peer with a chain of size ~ 600K blocks (yes, it has been running for a long time)
The peer was restarted (due to a reboot).
After startup, the logs output the following lines almost indefinitely:


{quote}
ESC[36m2017-04-30 07:46:40.357 EDT [kvledger] retrieveBlockByNumber -> DEBU 874efESC[0m retrieveBlockByNumber() - blockNum = [596319]
ESC[36m2017-04-30 07:46:40.357 EDT [kvledger] newBlockfileStream -> DEBU 874f0ESC[0m newBlockfileStream(): filePath=[/var/hyperledger/production/ledgersData/chains/chains/YACOV2/blockfile_000030], startOffset=[58701678]
ESC[36m2017-04-30 07:46:40.357 EDT [kvledger] nextBlockBytesAndPlacementInfo -> DEBU 874f1ESC[0m Remaining bytes=[8405347], Going to peek [8] bytes
ESC[36m2017-04-30 07:46:40.365 EDT [kvledger] nextBlockBytesAndPlacementInfo -> DEBU 874f2ESC[0m Returning blockbytes - length=[3473], placementInfo={fileNum=[30], startOffset=[58701678], bytesOffset=[58701680]}
ESC[36m2017-04-30 07:46:40.365 EDT [kvledger] retrieveBlockByNumber -> DEBU 874f3ESC[0m retrieveBlockByNumber() - blockNum = [596318]
ESC[36m2017-04-30 07:46:40.365 EDT [kvledger] newBlockfileStream -> DEBU 874f4ESC[0m newBlockfileStream(): filePath=[/var/hyperledger/production/ledgersData/chains/chains/YACOV2/blockfile_000030], startOffset=[58698204]
ESC[36m2017-04-30 07:46:40.365 EDT [kvledger] nextBlockBytesAndPlacementInfo -> DEBU 874f5ESC[0m Remaining bytes=[8408821], Going to peek [8] bytes
ESC[36m2017-04-30 07:46:40.373 EDT [kvledger] nextBlockBytesAndPlacementInfo -> DEBU 874f6ESC[0m Returning blockbytes - length=[3472], placementInfo={fileNum=[30], startOffset=[58698204], bytesOffset=[58698206]}
ESC[36m2017-04-30 07:46:40.374 EDT [kvledger] retrieveBlockByNumber -> DEBU 874f7ESC[0m retrieveBlockByNumber() - blockNum = [596317]
{quote}

This is most likely because in peer.go the peer attempts to get the latest config block from the ledger by fetching the latest block and then going [backwards | https://github.com/hyperledger/fabric/blob/master/core/peer/peer.go#L149-L176] until the last config block is reached:


The stack trace of the peer is attached [here | https://gist.github.com/yacovm/f3f8f6f1a9596a0eff17efb7d9fbe8cb].

For those that want to reproduce the issue, I uploaded the content of */var/hyperledger/production* to a web server [here | http://fab-3525.stage1.mybluemix.net/peerLedger.tar.gz].

[~C0rWin] [~binhn] [~denyeart] [~mastersingh24] [~muralisr]


",,C0rWin,denyeart,kchristidis,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3040,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx4nz:",,,,,,Sprint 16  - Ledger,,,,,,,,,,,,,,,,,,,,,C0rWin,denyeart,kchristidis,yacovm,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"03/May/17 11:18 PM;denyeart;The block metadata contains the last config block location.  This can be used to directly navigate to the correct config block, rather than checking all the blocks.

[~kchristidis]
Jeff mentioned you were making some changes to this metadata.  He suggested we connect before any fix is done here, to ensure you work is merged first.  Please add details/links.  Thanks.;;;","03/May/17 11:59 PM;kchristidis;[~jeffgarratt] is right.

My LAST_CONFIG fix was merged earlier today so you should be good to go: https://gerrit.hyperledger.org/r/#/c/8825/

Let me know if you bump into any issues.;;;","10/May/17 9:24 PM;denyeart;https://gerrit.hyperledger.org/r/#/c/9185/;;;","10/May/17 10:03 PM;yacovm;I applied this patch locally on the server I discovered the problem on and it fixed the problem (the peer started right away);;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add test for gossip secret message,FAB-3526,16123,16057,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,C0rWin,C0rWin,C0rWin,30/Apr/17 10:24 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,02/May/17 6:04 PM,,,,v1.0.0,,fabric-gossip,,,,,,,0,beta,gossip,,,,,,"There are few extension added for gossip proto generated files, including gossip secret message structure. Need to add test to cover this functionality",,C0rWin,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxrtb:",,,,,,Sprint 16 - Gossip,,,,,,,,,,,,,,,,,,,,,C0rWin,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"30/Apr/17 10:27 PM;C0rWin;https://gerrit.hyperledger.org/r/#/c/8769/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
unused variables/functions in peer/channel,FAB-3527,16124,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ChristopherFerris,ChristopherFerris,ChristopherFerris,30/Apr/17 10:25 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,01/May/17 8:38 AM,v1.0.0-alpha1,,,v1.0.0,,fabric-peer,,,,,,,0,quality,staticanalysis,,,,,,"(behave_venv) cbf$ unused ./...
channel.go:36:5: var logger is unused (U1000)
deliverclient.go:60:25: func (*deliverClient).seekOldest is unused (U1000)
deliverclient.go:64:25: func (*deliverClient).seekNewest is unused (U1000)",,ChristopherFerris,,,,,,,,,,,,,,,,,,,,3600,3600,,0%,3600,3600,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxrtj:",,,,,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"30/Apr/17 11:18 PM;ChristopherFerris;https://gerrit.hyperledger.org/r/#/c/8771/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
peer/channel package not using logging,FAB-3528,16125,,Bug,Closed,FAB,Fabric,software,denyeart,,,Low,Done,raidinesh80,ChristopherFerris,ChristopherFerris,30/Apr/17 10:47 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,06/Jun/17 6:06 AM,v1.0.0-alpha1,,,v1.0.0,,fabric-peer,,,,,,,0,quality,,,,,,,"cbf$ grep fmt.Print *
channel.go:			fmt.Println(""Error connecting:"", err)
deliverclient.go:		fmt.Printf(""Error signing envelope %s\n"", err)
deliverclient.go:			fmt.Println(""Error receiving:"", err)
deliverclient.go:			fmt.Println(""Got status "", t)
deliverclient.go:			fmt.Println(""Received block: "", t.Block)
deliverclient.go:		fmt.Println(""Received error:"", err)
join.go:	fmt.Println(""Peer joined the channel!"")
list.go:		fmt.Println(""Channels peers has joined to:"")
list.go:			fmt.Println(""\t"", channel.ChannelId)",,ChristopherFerris,,,,,,,,,,,,,,,,,,,,3600,3600,,0%,3600,3600,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxrtr:",,,,,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
unused variables/functions in events packages,FAB-3529,16126,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ChristopherFerris,ChristopherFerris,ChristopherFerris,30/Apr/17 10:55 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,03/May/17 7:11 PM,v1.0.0-alpha1,,,v1.0.0,,fabric-peer,,,,,,,0,quality,staticanalysis,,,,,,"cbf$ unused ./...
consumer/consumer.go:36:5: var consumerLogger is unused (U1000)
consumer/consumer.go:144:25: func (*EventsClient).unregister is unused (U1000)
events_test.go:152:6: func closeListenerAndSleep is unused (U1000)
producer/producer.go:28:7: const defaultTimeout is unused (U1000)",,ChristopherFerris,,,,,,,,,,,,,,,,,,,,3600,3600,,0%,3600,3600,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxrtz:",,,,,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"30/Apr/17 11:18 PM;ChristopherFerris;https://gerrit.hyperledger.org/r/#/c/8775/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Gossip needs to validate sequence number in block messages,FAB-3530,16127,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,01/May/17 1:55 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,02/May/17 9:23 AM,v1.0.0,,,v1.0.0,,fabric-gossip,,,,,,,0,,,,,,,,"When a peer receives a data message (contains a block) it doesn't verify that the sequence of the block matches the sequence inside the marshaled block, and just calls [VerifyBlock | https://github.com/hyperledger/fabric/blob/master/gossip/api/crypto.go#L35].

I propose to extend the interface VerifyBlock with a sequence number.
* The [implementation | https://github.com/hyperledger/fabric/blob/master/peer/gossip/mcs.go#L120] already unmarshals the block, so there is no point in un-marshalling it outside.
* I don't want to create a dependency between all places where we receive blocks from peers in gossip, so passing the sequence number would preserve the existing state.

[~C0rWin] [~angelo.decaro]",,angelo.decaro,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxru7:",,,,,,Sprint 16 - Gossip,,,,,,,,,,,,,,,,,,,,,angelo.decaro,yacovm,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"01/May/17 7:00 PM;angelo.decaro;Makes sense to me. +1;;;","01/May/17 7:00 PM;yacovm;OK, here you go https://gerrit.hyperledger.org/r/#/c/8791/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
parametrize build timeout in CI global wrapper,FAB-3531,16128,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,rameshthoomu,rameshthoomu,01/May/17 6:29 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,02/May/17 8:45 AM,,,,v1.0.0,,fabric-build,,,,,,,0,build-system,,,,,,,parametrize build timeout in CI global wrapper - Update build timeout based on buildTimeTrend of each job. This change will remove hardcoded value of 240 min/120 mins in global wrapper.,,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxruf:",,,,,,,,,,,,,,,,,,,,,,,,,,,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"02/May/17 8:45 AM;rameshthoomu;patch has been submitted and merged.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Instantiate Chaincode Error,FAB-3532,16129,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,raheelz,raheelz,01/May/17 6:41 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,01/Jun/17 10:55 PM,v1.0.0-alpha1,,,v1.0.0,,fabric-docs,,,,,,,0,,,,,,,,"I am seeing the following error when instantiating chaincode:
{{{quote}    Error: Error endorsing chaincode: rpc error: code = 2 desc = open /var/hyperledger/production/chaincodes/mychaincode.1.0: no such file or directory
{quote}}}

I was following the instructions from here: http://hyperledger-fabric.readthedocs.io/en/latest/getting_startedv2.html
When running the command:
{quote}CORE_PEER_MSPCONFIGPATH=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/peers/peer0.org1.example.com CORE_PEER_ADDRESS=peer0.org1.example.com:7051 CORE_PEER_LOCALMSPID=""Org0MSP"" CORE_PEER_TLS_ROOTCERT_FILE=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/cacerts/org1.example.com-cert.pem peer chaincode instantiate -o orderer.example.com:7050 -C mychannel -n mychaincode -v 1.0 -c '\{""Args"":\[""init"",""a"",""100"",""b"",""200""\]\}' -P ""OR ('Org0MSP.member','Org1MSP.member')""
{quote}
Thanks.",,ChristopherFerris,markparz,raheelz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxrun:",,,,,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,markparz,raheelz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"26/May/17 3:07 PM;ChristopherFerris;[~raheelz] can you confirm that this is still an issue with the v1.0.0-alpha2 release? We've made significant revisions to improve the Getting Started flow. [http://hyperledger-fabric.readthedocs.io/en/latest/getting_started.html] and the directions you followed above were an interim step along the way to the current content. ;;;","01/Jun/17 10:55 PM;markparz;Hi [~raheelz] Just want to confirm, as [~ChristopherFerris] that you are no longer seeing this, he is exactly right this should not be a problem anymore. In fact, I'm confident enough that I am going to close this bug, if you still are having trouble feel free to reopen.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add composition calls for system tests,FAB-3534,16131,19362,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,latitiah,latitiah,latitiah,01/May/17 11:13 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,03/May/17 2:27 AM,,,,,,fabric-quality,,,,,,,0,,,,,,,,,,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxqm7:",,,,,,Sprint 19 - Quality,,,,,,,,,3.0,,,,,,,,,,,,latitiah,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Encryption Support for at rest CouchDB password - peer side,FAB-3535,16132,,Story,Closed,FAB,Fabric,software,denyeart,,,High,Won't Do,ashutosh_kumar,timpii,timpii,01/May/17 8:28 PM,23/Jan/20 4:07 AM,28/Oct/23 2:59 AM,23/Jan/20 4:07 AM,,,,Future,,fabric-crypto,fabric-ledger,,,,,,0,stale-item,,,,,,,CouchDB password is currently stored in plaintext on the peer. It needs to be encrypted. The plaintext password will not pass our security audit.,,beatrider,denyeart,elli-androulaki,ibmamnt,mastersingh24,mne,rhegde,smithbk,sykesm,timpii,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABC-30,FABB-69,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzwtqv:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,beatrider,denyeart,elli-androulaki,ibmamnt,mastersingh24,mne,rhegde,smithbk,sykesm,timpii,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"13/May/17 4:40 AM;denyeart;[~elli-androulaki] In peer core.yaml there is a username/password for CouchDB state database.  Is there a precedent/recommendation for encrypting passwords in our config files?;;;","18/May/17 4:05 AM;smithbk;Does the password have to be in config.yaml?  Can it be passed via environment variable at start time?  If so, would this be sufficient?  It would then allow someone to start with the env variable on the command line.;;;","18/May/17 4:45 AM;denyeart;[~smithbk] The password can indeed be passed via environment variable, and therefore wouldn't need to be exposed in config.yaml.  [~timpii] would that meet the need, at least for initial version?;;;","18/May/17 4:55 AM;mastersingh24;I'm also looking at using Docker (and Kubernetes) secrets as an option as well.

That way we can avoid having to make any changes (for now) in the core fabric code.

 ;;;","18/May/17 10:56 PM;timpii;I talked with our security team. The passing in as an environmental variable could only be a short term solution. The issue is people script things, so whether the password is in a script file or in a yaml file is kind of immaterial. If possible the Docker or Kubernetes secrets would be a better option.

If a commitment can be made that by the V1.1 release (2017), the password will be encrypted, we can live with the environment variable for the short term.;;;","03/Jun/17 12:14 AM;mne;So what's actually the threat model here?
As I understand it, in a deployment the peer would be running in one docker container and the couchdb in another one. Correct?
So what capabilities does the attacker have? If it's just an ""ordinary"" user on the host, regular filesystem ACL can prevent it from reading the pw file on the disk. If it's an admin (root user), it's anyway game over because he can access the data in the couchdb container directly.;;;","03/Jun/17 8:11 PM;timpii;In regards to Matthias's questions on the security threat model I relayed the questions to our security guy Glen Cater. His response is that he somewhat agrees with Matthias's comments - but the requirement is about defense in depth, what we consider best practice, and our member perception. Quoting his response:

""I agree if the file ACLs are set correctly it will prevent some local users from accessing the file, and I agree that if someone has root the game is over. But for regular users if the ACLs are a loose it’s an issue, who will check them? Some regular user accounts will have access to the file I assume so that CouchDB can read it. If it’s encrypted, even root users will not easily gain access to the password (but for root users I’m not sure it matters given their level of access to the CouchDB container/files)."";;;","07/Jun/17 1:32 AM;mne;* An admin can just access the data directly and doesn't need to bother with reading a password.
 * An ordinary user must not see the password to begin with. This can be simply done using OS-level access control.
 * If you want to encrypt the password on top of that, you need a secret to encrypt it with. Where do you want to store that secret?;;;","20/Jul/17 12:46 AM;timpii;Gari's recommendation of using Docker or Kubernetes secrets is a good solution.;;;","29/Jul/17 11:35 PM;denyeart;[~timpii] I see you changed the priority.  Assuming Docker secrets are used, do you need any changes on fabric side?;;;","30/Jul/17 5:40 AM;timpii;Assuming Docker Secrets is used, then the only issue would be what property/environment attributes would be accessible within the Fabric from the Docker Secrets. Documentation on how to use and what variables (key/values) are available for use would be necessary. I am assuming (without any basis) that the docker secrets file could replace config properties files and docker environment variables, but do not understand any limitations on the Fabric being able to digest the contents. ;;;","24/Aug/17 10:57 PM;denyeart;[~mastersingh24] Were you intending to take a deeper look at Docker Secrets?  We could re-assign, perhaps [~AdnanChoudhury] would be interested...;;;","01/Sep/17 4:26 PM;elli-androulaki;Hi, would you think that given the discussion above this is still of highest priority / needs to be addressed for v1.1?;;;","21/Oct/17 4:11 AM;denyeart;[~elli-androulaki] Based on assessment from Fabric security experts, I agree this can be lowered from highest.;;;","23/Jan/20 4:07 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove reference to CONFIG transactions from ledger code,FAB-3536,16133,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,manish-sethi,manish-sethi,manish-sethi,01/May/17 9:34 PM,21/Jul/18 3:53 AM,28/Oct/23 2:59 AM,03/May/17 7:18 PM,,,,,,fabric-ledger,,,,,,,0,,,,,,,,"In the ledger code - fabric/core/ledger/kvledger/txmgmt/validator/statebasedval/state_based_validator.go refers to CONFIG transactions. Though, it does not do anything with these transactions.

Since, ledger validation should be limited to mvcc validation and hence be restricted to ENDORSER transactions. Remove the check for CONFIG transactions.",,manish-sethi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzx4k7:",,,,Unset,,Sprint 16  - Ledger,,,,,,,,,,Unset,,,,,,,,,,,manish-sethi,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add FAB-3272 to Daily Automation Suite for CC,FAB-3537,16134,,Task,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,Nishi,bmos299,bmos299,01/May/17 10:33 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,04/May/17 3:21 AM,,,,v1.0.0,,fabric-quality,,,,,,,0,,,,,,,,The double spend threat with multiple state updates is a key test we want to add to our CC daily run in the test/regression/daily suite.,,bmos299,Nishi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3272,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxqmf:",,,,,,Sprint 17 - Quality,,,,,,,,,,,,,,,,,,,,,bmos299,Nishi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"04/May/17 3:21 AM;Nishi;Marking this as done based on comments on FAB-3272;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Post to FABRIC-CI Channel status everyday for the e2e run,FAB-3538,16135,,Task,Closed,FAB,Fabric,software,denyeart,,,High,Done,rameshthoomu,bmos299,bmos299,01/May/17 10:39 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,06/May/17 11:43 AM,,,,v1.0.0,,fabric-quality,,,,,,,0,quality,,,,,,,"Add a daily post to the fabric-ci channel to inform the community of the status of the days run. Currently we only post for passing tests when images are being published.  However, when we go days with e2e failures due to one or multiple issues, the community is left in the dark. Thus, a daily post ensure to the community that at least the CI ran. ",,bmos299,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx2zj:",,,,,,Sprint 18 - Quality,,,,,,,,,,,,,,,,,,,,,bmos299,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"03/May/17 11:55 AM;rameshthoomu;sure will post the status in #fabric-ci channel with the build results. 

*  If tests are failed will create Highest priority FAB numbers.
*  If tests are successfully execute, will publish images of all three platforms and post it in #fabric-ci channel 

I am integrating this build notification process through #Rocketchat and #jenkins collaboration till then will post these updates manually. ;;;","05/May/17 2:29 AM;bmos299;Thanks Ramesh.  ;;;","06/May/17 11:43 AM;rameshthoomu;posting build results in #fabric-ci channel every day after execute CRON job;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
As a fabric developer I want to integrate the fabric error handling framework in bccsp,FAB-3540,16137,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,angelo.decaro,angelo.decaro,angelo.decaro,01/May/17 11:48 PM,21/Jul/18 3:55 AM,28/Oct/23 2:59 AM,17/Oct/17 6:39 PM,,,,v1.0.0,,fabric-crypto,,,,,,,0,Serviceability,,,,,,,The bccsp packages needs to be updated to use the fabric error handling framework. It will be used only at the border of the bccsp infrastructure.,,angelo.decaro,ChristopherFerris,elli-androulaki,JonathanLevi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3577,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-3577,,,,,,,,,,"1|hzx5jr:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,angelo.decaro,ChristopherFerris,elli-androulaki,JonathanLevi,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"11/May/17 3:55 PM;angelo.decaro;bccsp/sw has been updated.;;;","12/May/17 7:21 PM;JonathanLevi;Changeset submitted here: [https://gerrit.hyperledger.org/r/#/c/9279] (and is blocked now, until after v1.0.0-alpha2);;;","30/May/17 3:28 AM;elli-androulaki;[~JonathanLevi], do you think shall we re-consider this CR? :);;;","30/May/17 3:56 AM;JonathanLevi;Removed my veto (-2) on that CR. Sure, we can re-consider it as part of daily review tomorrow. Thanks.;;;","30/May/17 4:03 AM;elli-androulaki;Thanks!;;;","01/Jun/17 2:21 AM;ChristopherFerris;I thought we agreed all serviceability work was deferred post 1.0? This is like the zombie epic - sigh

 

-1;;;","01/Jun/17 5:16 PM;angelo.decaro;[~ChristopherFerris], shall I abandon the CR I have submitted?;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Orderer error handling,FAB-3543,16140,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid,binhn,binhn,binhn,02/May/17 2:24 AM,30/Apr/19 11:37 PM,28/Oct/23 2:59 AM,30/Apr/19 11:37 PM,v1.0.0-alpha1,,,Future,,fabric-orderer,,,,,,,0,Serviceability,,,,,,,,,binhn,Clayton Sims,kchristidis,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzzu9r:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,binhn,Clayton Sims,kchristidis,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"03/May/17 7:02 AM;Clayton Sims;Enyeart came to me and said it would be much easier if these were features (under an epic) instead of sub tasks.   
;;;","10/Jul/17 10:19 PM;kchristidis;http://hyperledger-fabric.readthedocs.io/en/latest/logging-control.html;;;","30/Apr/19 11:37 PM;sykesm;This story includes no details and is approaching its second birthday. It's time to call it.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Improve unit test coverage for common/configtx/tool/provisional,FAB-3545,16142,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yuki-kon,yuki-kon,yuki-kon,02/May/17 3:08 AM,21/Jul/18 3:54 AM,28/Oct/23 2:59 AM,12/May/17 8:14 PM,,,,v1.0.0,,fabric-peer,,,,,,,0,,,,,,,,Improve unit test coverage for common/configtx/tool/provisional. ,,yuki-kon,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzxrvz:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,yuki-kon,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"02/May/17 3:17 AM;yuki-kon;A patch set is here. https://gerrit.hyperledger.org/r/#/c/8805/;;;","06/May/17 7:57 AM;yuki-kon;This patch improves coverage as follows.
1. Add test case when consensus type is Kafka. The expected outcome is creating genesis block correctly.
2. Add test case for func (bs *bootstrapper) GenesisBlockForChannel. The expected outcome is creating genesis block for a channel correctly.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
PTE supports multi-ord,FAB-3546,16143,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,dongming,dongming,dongming,02/May/17 3:37 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,03/Aug/17 11:08 PM,,,,,,fabric-quality,,,,,,,0,quality,,,,,,,"PTE supports multi-orderer, one per org",,dongming,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-2247,,,,,,,,,,"1|hzxrw7:",,,,,,Sprint 19 - Quality,,,,,,,,,,,,,,,,,,,,,dongming,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Define error and component codes,FAB-3548,16145,15729,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,binhn,binhn,binhn,02/May/17 4:27 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,26/May/17 11:49 PM,,,,v1.0.0,,fabric-ca,fabric-crypto,fabric-gossip,fabric-ledger,fabric-orderer,fabric-peer,,0,,,,,,,,"For error codes, we follow HTTP codes 400s and 500s",,binhn,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxrwn:",,,,,,,,,,,,,,,,,,,,,,,,,,,binhn,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Peer will panic if sent bad block bytes on joinChain(),FAB-3549,16146,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wlahti,harrisob@us.ibm.com,harrisob@us.ibm.com,02/May/17 4:43 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,03/Jun/17 8:05 PM,,,,v1.0.0,,fabric-peer,,,,,,,0,Endorser,,,,,,,"peer0                  | panic: runtime error: invalid memory address or nil pointer dereference
peer0                  | [signal SIGSEGV: segmentation violation code=0x1 addr=0x0 pc=0x69d6e3]
peer0                  | 
peer0                  | goroutine 310 [running]:
peer0                  | panic(0xc61040, 0xc42001a040)
peer0                  | 	/opt/go/src/runtime/panic.go:500 +0x1a1
peer0                  | github.com/hyperledger/fabric/protos/utils.GetChainIDFromBlock(0xc4217093a0, 0xc4218db658, 0x69d9e5, 0xc42166ff00, 0x32)
peer0                  | 	/opt/gopath/src/github.com/hyperledger/fabric/protos/utils/blockutils.go:51 +0x273
peer0                  | github.com/hyperledger/fabric/core/peer.CreateChainFromBlock(0xc4217093a0, 0x32, 0x32)
peer0                  | 	/opt/gopath/src/github.com/hyperledger/fabric/core/peer/peer.go:246 +0x2f
peer0                  | github.com/hyperledger/fabric/core/scc/cscc.joinChain(0xc42166ff00, 0x32, 0x32, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0)
peer0                  | 	/opt/gopath/src/github.com/hyperledger/fabric/core/scc/cscc/configure.go:159 +0x1d3
peer0                  | github.com/hyperledger/fabric/core/scc/cscc.(*PeerConfiger).Invoke(0xc4201759d0, 0x1365380, 0xc421637480, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0)
peer0                  | 	/opt/gopath/src/github.com/hyperledger/fabric/core/scc/cscc/configure.go:120 +0xa8a
peer0                  | github.com/hyperledger/fabric/core/chaincode/shim.(*Handler).handleTransaction.func1(0xc420273260, 0xc42165d900)
peer0                  | 	/opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/shim/handler.go:312 +0x770
peer0                  | created by github.com/hyperledger/fabric/core/chaincode/shim.(*Handler).handleTransaction
peer0                  | 	/opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/shim/handler.go:327 +0x49
",,harrisob@us.ibm.com,jiangyaoguo,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxrwv:",,,,,,,,,,,,,,,,,,,,,,,,,,,harrisob@us.ibm.com,jiangyaoguo,wlahti,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"01/Jun/17 12:41 AM;wlahti;[~harrisob@us.ibm.com] Can you provide more details about what you were doing that resulted in ""bad block bytes"" that led to this panic? I've found one bug in the method that results in a panic when the block is nil but I want to make sure to cover your exact scenario. ;;;","01/Jun/17 1:32 AM;wlahti;I looked a little closer and think I've resolved the bug reported here as well, which can occur when the payload header is nil. 

[https://gerrit.hyperledger.org/r/#/c/9985/];;;","01/Jun/17 12:31 PM;jiangyaoguo;It's strange that it didn't panic before /configure.go:120 +0xa8a (joinChain). If this is triggered by empty blocks or header in blocks, it should panic at /configure.go:110 
{code:java}
// cid, e := utils.GetChainIDFromBlockBytes(args[1])
{code};;;","02/Jun/17 2:27 AM;harrisob@us.ibm.com;Sorry Will I do not remember the exact block we attempted to send as it was a problem in our code. I would assume that we sent the wrong protobuf object, which would not have had the header that was being looked for.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
behave tests are failing on latest commits [FABRIC - 16cb17a ],FAB-3550,16147,,Bug,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,jeffgarratt,rameshthoomu,rameshthoomu,02/May/17 5:20 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,10/May/17 4:59 AM,,,,v1.0.0,,,,,,,,,0,quality,,,,,,,"observed behave tests are not working and seeing the below error..

{code:java}

00:11:34.402     And the user ""dev0Org0"" using cert alias ""dev0Org0App1"" broadcasts ConfigUpdate Tx ""configUpdateTx1"" to orderer ""orderer0"" to create channel ""com.acme.blockchain.jdoe.Channel1""                                                     # steps/bootstrap_impl.py:207err
00:11:34.402       Assertion Failed: counter = 0, expected 1
00:11:34.402       Captured stdout:
00:11:34.402       Will copy gensisiBlock over at this point 
00:11:34.402       WARNING: Could not find port mapping for port 7050/tcp
00:11:34.402       WARNING: Returning the actual container IP address, which might not be routable from the host.
00:11:34.402       ipAddress in getABStubForComposeService == None:7050
00:11:34.402       Returning GRPC for address: None
00:11:34.402       Got error: <_Rendezvous of RPC that terminated with (StatusCode.DEADLINE_EXCEEDED, Deadline Exceeded)>
00:11:34.403       Got error
00:11:34.403       Done
00:11:34.403 
00:11:40.503     And I wait ""2"" seconds
{code}

https://jenkins.hyperledger.org/view/fabric/job/fabric-merge-behave-x86_64/670/consoleFull",,bsmita,Clayton Sims,harsha544,jeffgarratt,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"10/May/17 11:23 PM;harsha544;Behave_ppc64le;https://jira.hyperledger.org/secure/attachment/10809/Behave_ppc64le","08/May/17 7:10 PM;harsha544;behave_bootstrap_ubuntu_power;https://jira.hyperledger.org/secure/attachment/10801/behave_bootstrap_ubuntu_power",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxrx3:",,,,,,,,,,,,,,,,,,,,,,,,,,,bsmita,Clayton Sims,harsha544,jeffgarratt,rameshthoomu,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"02/May/17 8:44 AM;rameshthoomu;observed below error on *fabric# commit: 48cd4874a098cefc3697db070a052570d1f665e8*

{code:java}
00:13:26.260     And user ""dev0Org0"" using cert alias ""dev0Org0App1"" sends proposal ""queryProposal1"" to endorsers with timeout of ""30"" seconds with proposal responses ""queryProposal1Responses""                                                      # steps/endorser_impl.py:109
00:13:26.260       | Endorser |
00:13:26.260       | peer0    |
00:13:26.260       | peer2    |
00:13:26.304       Traceback (most recent call last):
00:13:26.304         File ""/w/workspace/fabric-merge-behave-x86_64/gopath/src/github.com/hyperledger/fabric/venv/local/lib/python2.7/site-packages/behave/model.py"", line 1456, in run
00:13:26.304           match.run(runner.context)
00:13:26.304         File ""/w/workspace/fabric-merge-behave-x86_64/gopath/src/github.com/hyperledger/fabric/venv/local/lib/python2.7/site-packages/behave/model.py"", line 1903, in run
00:13:26.304           self.func(context, *args, **kwargs)
00:13:26.305         File ""steps/endorser_impl.py"", line 124, in step_impl
00:13:26.305           resultsDict =  dict(zip(endorsers, [respFuture.result() for respFuture in proposalResponseFutures]))
00:13:26.305         File ""/w/workspace/fabric-merge-behave-x86_64/gopath/src/github.com/hyperledger/fabric/venv/local/lib/python2.7/site-packages/grpc/_channel.py"", line 294, in result
00:13:26.305           raise self
00:13:26.305       _Rendezvous: <_Rendezvous of RPC that terminated with (StatusCode.UNKNOWN, failed to obtain cds for example02 - could not find chaincode with name 'example02')>
00:13:26.305       
00:13:26.305       Captured stdout:
00:13:26.305       Will copy gensisiBlock over at this point 
00:13:26.305       ipAddress in getABStubForComposeService == 0.0.0.0:32768
00:13:26.305       Returning GRPC for address: 0.0.0.0
00:13:26.305       dev0Org0 received reply: status: SUCCESS
00:13:26.305       , counter = 1
00:13:26.305       Done
00:13:26.305       Start and end = 0/0
{code}
;;;","04/May/17 11:18 PM;Clayton Sims;In daily scrum, Jeff says he is waiting on logs.  [~bmos299];;;","05/May/17 12:34 AM;jeffgarratt;Spoke with [~rameshthoomu], the command to collect logs is.

{quote}behave -k -D logs=y -D cache-deployment-spec{quote};;;","05/May/17 1:55 AM;rameshthoomu;[~jeffgarratt] executed tests enabling logs command.. Below is the build output.. Please look into the artifacts.

https://jenkins.hyperledger.org/sandbox/job/fabric-verify-behave-x86_64/2/;;;","08/May/17 7:09 PM;harsha544;[~rameshthoomu]

Tried executing behave on fabric commit c346b06e3f42211d51ccb56e065bea7a35cb8533 which eventually fails enclosing the details :-

OS - Ubuntu 1604

ARCH - ppc64le 

(behave_venv) root@sys-87103:/opt/gopath/src/github.com/hyperledger/fabric/bddtests# docker logs 0f0986bc09c7
 2017-05-08 10:03:06.090 UTC [orderer/main] main -> INFO 001 Starting orderer with TLS enabled
 2017-05-08 10:03:06.091 UTC [orderer/main] main -> CRIT 002 Failed to load ServerRootCAs file 'open /etc/hyperledger/fabric/tls/ca.crt: no such file or directory' (/etc/hyperledger/fabric/tls/ca.crt)
 (behave_venv) root@sys-87103:/opt/gopath/src/github.com/hyperledger/fabric/bddtests#

Attached the logs;;;","08/May/17 10:24 PM;rameshthoomu;[~jeffgarratt] ; above sandbox job link is broken as we purge sandbox jobs and logs every weekend. Please use below link to see orderer logs

[https://jenkins.hyperledger.org/sandbox/job/fabric-verify-behave-x86_64/1/]

 
{code:java}
2017-05-08 13:11:43.321 UTC [orderer/main] main -> INFO 001[0m Starting orderer with TLS enabled [35m2017-05-08 13:11:43.321 UTC [orderer/main] main -> CRIT 002[0m Failed to load ServerRootCAs file 'open /etc/hyperledger/fabric/tls/ca.crt: no such file or directory' (/etc/hyperledger/fabric/tls/ca.crt){code}
 ;;;","09/May/17 3:21 AM;Clayton Sims;Did you guys get together?   Do we have root cause?;;;","09/May/17 4:19 AM;jeffgarratt;[~Clayton Sims]

This is due to the commenting out of the ROOTCAS configuration for orderer.  Can fix this easily, there is a new issue with master wrt to policy issue on instantiation.  Working with murali on that.;;;","09/May/17 10:24 PM;Clayton Sims;what is ETA for this?

 ;;;","10/May/17 12:32 AM;jeffgarratt;[~Clayton Sims] [~rameshthoomu]

Addressed in [https://gerrit.hyperledger.org/r/#/c/9129/]

 

waiting for reviewers.;;;","10/May/17 11:23 PM;harsha544;[~jeffgarratt] [~rameshthoomu] With the above changes merged and fabric-commit level at 7231a96fc34453696828a2565d0134b75b336f99 I can confirm behave is now working on *ppc64le* .;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Integrate composer into bdd for exploratory purposes,FAB-3551,16148,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,jeffgarratt,jeffgarratt,jeffgarratt,02/May/17 6:24 AM,23/Jan/20 4:08 AM,28/Oct/23 2:59 AM,23/Jan/20 4:08 AM,,,,,,,,,,,,,0,stale-item,,,,,,,,,jeffgarratt,jyellick,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-1141,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-1141,,,,,,,,,,"1|hzxrxb:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,jeffgarratt,jyellick,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"03/May/17 11:50 PM;jeffgarratt;Meeting with [~simonstone1] to discuss.;;;","04/May/17 10:51 PM;jeffgarratt;Spoke with [~davidkel] yesterday for some time.  Determined that can not currently make progress until the forthcoming playground docker image is ready and compatible with v1.  Will revisit asap.;;;","13/May/17 1:26 AM;jeffgarratt;Worked with Nick Lofton of the composer testing team yesterday to upgrade to the latest composer-playground:unstable image.  Have the system running, but composer is still having an issue connecting to fabric through the node sdk as I believe the SKIs are calculated differently than the current composer callback helper is generating.  Will address asap.;;;","26/May/17 6:10 AM;jeffgarratt;Received an update from [~davidkel] wrt to composer and alpha-2 status, he said it would be about another week.

Plan to meet with [~muralisr] and [~davidkel] tomorrow to discuss composer and endorsement policies.;;;","26/May/17 11:57 PM;jeffgarratt;Spoke with [~davidkel].  Pushing the meeting with myself and [~muralisr] to next Tuesday.;;;","23/Jun/17 1:20 AM;jeffgarratt;Just spoke with [~davidkel] and [~jyellick] regarding the security model for composer.  Determined that composer sample is currently leveraging a non-standard configuration of the AdminPrincipal setting for the orgs, using Role.Member.  This gives every member admin privledges which in general would not be recommened.  Plan to open a Jira item wrt to fabric-sdk-node which still leverages this mechanism in some of its sample configtx.yaml files.  David plans to rework composer security based upon the information.;;;","23/Jun/17 11:55 PM;jyellick;FYI, the bad example is cleaned up via https://gerrit.hyperledger.org/r/#/c/11055/;;;","24/Jun/17 12:41 AM;jeffgarratt;Spoke with [~davidkel] about current tactical approach for BDD.  Going to inject the composer user's cert into the associated organizations MSPConfig/admincerts sequence, and then inject into the localMSPConfig/admincerts  for every peer associated with the same organization.  This is again a tactical approach that long term would utilize different physical roles (certs) for the various steps of install/instantiate, etc.;;;","08/Jul/17 1:50 AM;jeffgarratt;Spoke with [~davidkel] wrt to current updates with the 0.9.1 release of playground.  He gave me the following information wrt to controlling the endorsement policy for the composer chaincode which currently requires manual deployment.

composer network deploy -a <bna_file> -p hlfv1 -i PeerAdmin -s f -o endorsementPolicyFile=/path/to/policy/file.json
https://hyperledger.github.io/composer/reference/composer.network.deploy.html
https://github.com/hyperledger/composer-sample-applications/blob/master/packages/vehicle-lifecycle/installers/hlfv1/install.sh.in

He also advised I speak with [~simonstone1] regarding roadmap and multi organization (composer instances) connected to same channel.;;;","11/Jul/17 1:55 AM;jeffgarratt;Pushed CR https://gerrit.hyperledger.org/r/#/c/11481/

;;;","23/Jan/20 4:08 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Peer panic on SIGSEV while connecting to CouchDB,FAB-3555,16152,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,chris.elder,mffrench,mffrench,02/May/17 5:20 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,14/Jun/17 9:25 AM,,,,v1.0.0,,fabric-ledger,,,,,,,0,,,,,,,,"Hi,

I encountered following SIGSEV on peer with CouchDB on rev b2a2b3b11481438639bf27ed10b99e490dd23b8c (the one recommended on fabric-sdk-java README). This may be solved and I'll try to retest asap on the fresh master but as I didn't see such issue after a search on Jira I raise this bug for the records.

Best regards,

Mathilde

panic: runtime error: invalid memory address or nil pointer dereference
[signal SIGSEGV: segmentation violation code=0x1 addr=0x10 pc=0xaadd06]

goroutine 1 [running]:
panic(0xc70aa0, 0xc420010060)
	/opt/go/src/runtime/panic.go:500 +0x1a1
github.com/hyperledger/fabric/core/ledger/util/couchdb.(*CouchInstance).handleRequest(0xc4201319a0, 0xd53b79, 0x3, 0xc420226480, 0x17, 0x0, 0x0, 0x0, 0x0, 0x0, ...)
	/opt/gopath/src/github.com/hyperledger/fabric/core/ledger/util/couchdb/couchdb.go:1265 +0xad6
github.com/hyperledger/fabric/core/ledger/util/couchdb.(*CouchInstance).VerifyConnection(0xc4201319a0, 0x0, 0x0, 0x0, 0x0)
	/opt/gopath/src/github.com/hyperledger/fabric/core/ledger/util/couchdb/couchdb.go:337 +0x15d
github.com/hyperledger/fabric/core/ledger/util/couchdb.CreateCouchInstance(0xc42000c06f, 0xf, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0xc4201ce9f0, ...)
	/opt/gopath/src/github.com/hyperledger/fabric/core/ledger/util/couchdb/couchdbutil.go:44 +0x245
github.com/hyperledger/fabric/core/ledger/kvledger/txmgmt/statedb/statecouchdb.NewVersionedDBProvider(0xc4201ce9f0, 0xc4202064d0, 0x1)
	/opt/gopath/src/github.com/hyperledger/fabric/core/ledger/kvledger/txmgmt/statedb/statecouchdb/statecouchdb.go:59 +0xc1
github.com/hyperledger/fabric/core/ledger/kvledger.NewProvider(0xc689e0, 0x0, 0xc42021f4d0, 0x0)
	/opt/gopath/src/github.com/hyperledger/fabric/core/ledger/kvledger/kv_ledger_provider.go:90 +0x2bf
github.com/hyperledger/fabric/core/ledger/ledgermgmt.initialize()
	/opt/gopath/src/github.com/hyperledger/fabric/core/ledger/ledgermgmt/ledger_mgmt.go:59 +0x14e
github.com/hyperledger/fabric/core/ledger/ledgermgmt.Initialize.func1()
	/opt/gopath/src/github.com/hyperledger/fabric/core/ledger/ledgermgmt/ledger_mgmt.go:49 +0x14
sync.(*Once).Do(0x13b4dd0, 0xdd76a8)
	/opt/go/src/sync/once.go:44 +0xdb
github.com/hyperledger/fabric/core/ledger/ledgermgmt.Initialize()
	/opt/gopath/src/github.com/hyperledger/fabric/core/ledger/ledgermgmt/ledger_mgmt.go:50 +0x39
github.com/hyperledger/fabric/peer/node.serve(0xc4202366c0, 0x0, 0x1, 0x0, 0x0)
	/opt/gopath/src/github.com/hyperledger/fabric/peer/node/start.go:95 +0x74
github.com/hyperledger/fabric/peer/node.glob..func1(0x135d900, 0xc4202366c0, 0x0, 0x1, 0x0, 0x0)
	/opt/gopath/src/github.com/hyperledger/fabric/peer/node/start.go:83 +0x3f
github.com/hyperledger/fabric/vendor/github.com/spf13/cobra.(*Command).execute(0x135d900, 0xc4202366a0, 0x1, 0x1, 0x135d900, 0xc4202366a0)
	/opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/spf13/cobra/command.go:599 +0x234
github.com/hyperledger/fabric/vendor/github.com/spf13/cobra.(*Command).ExecuteC(0x135e180, 0xf, 0xc4200120f5, 0x4)
	/opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/spf13/cobra/command.go:689 +0x367
github.com/hyperledger/fabric/vendor/github.com/spf13/cobra.(*Command).Execute(0x135e180, 0x2b, 0xc4200120f5)
	/opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/spf13/cobra/command.go:648 +0x2b
main.main()
	/opt/gopath/src/github.com/hyperledger/fabric/peer/main.go:110 +0x545",,ChristopherFerris,denyeart,JonathanLevi,mffrench,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx4r3:",,,,,,Sprint 16  - Ledger,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,denyeart,JonathanLevi,mffrench,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"03/May/17 11:57 AM;denyeart;[~mffrench]
I have not seen this error on recent master.  Please do reproduce on latest master and provide reproduction steps.;;;","08/May/17 1:04 AM;mffrench;Hi David,

good news : my test on the last fresh master (rev: 434210518c2d20596cf04f5f2d4256becde9bc80) show the peer is connecting successfully to CouchDB.

Best,;;;","09/May/17 1:23 AM;denyeart;Thanks [~mffrench], I will investigate that code location and determine if a nil pointer is still possible in some scenario.  If I dont see any evidence then I will close this Bug since you can't reproduce it anymore.;;;","09/May/17 4:21 AM;mffrench;In the case you would like to see this SIGSEV in rev b2a2b3b11481438639bf27ed10b99e490dd23b8c here's the extract of my docker-compose :
{code:java}
o0.org0:
  container_name: o0.org0
  # to be changed with image tag corresponding to rev b2a2b3b11481438639bf27ed10b99e490dd23b8c
  image: hyperledger/fabric-orderer:x86_64-1.0.0-alpha
  working_dir: /opt/gopath/src/github.com/hyperledger/fabric/orderer
  command: orderer
  environment:
    # - GRPC_TRACE=all
    # - GRPC_VERBOSITY=debug
    - ORDERER_GENERAL_LOGLEVEL=INFO
    - ORDERER_GENERAL_LISTENADDRESS=0.0.0.0
    - ORDERER_GENERAL_LISTENPORT=7050
    # - ORDERER_GENERAL_GENESISMETHOD=file
    - ORDERER_GENERAL_GENESISPROFILE=Elixir
    # - ORDERER_GENERAL_GENESISFILE=/etc/hyperledger/fabric/orderer/orderer.block
    - ORDERER_GENERAL_LOCALMSPID=Org0
    - ORDERER_GENERAL_LOCALMSPDIR=/etc/hyperledger/fabric/orderer/localMspConfig
    - ORDERER_GENERAL_TLS_ENABLED=true
    - ORDERER_GENERAL_TLS_PRIVATEKEY=/etc/hyperledger/fabric/orderer/localMspConfig/keystore/o0Signer.pem
    - ORDERER_GENERAL_TLS_CERTIFICATE=/etc/hyperledger/fabric/orderer/localMspConfig/signcerts/o0Signer.pem
    - ORDERER_GENERAL_TLS_ROOTCAS=[/etc/hyperledger/fabric/orderer/localMspConfig/cacerts/org0.pem,/etc/hyperledger/fabric/orderer/localMspConfig/cacerts/org1.pem]
    - ORDERER_CFG_PATH=/etc/hyperledger/fabric/orderer
    - BASE_DOCKER_NS=hyperledger
    - DOCKER_NS=hyperledger
    - ARCH=x86_64
    - PROJECT_VERSION=1.0.0-alpha
    - BASE_VERSION=0.3.0
  volumes:
    - ./tmp/conf/Org0/o0:/etc/hyperledger/fabric/orderer
  ports:
    - 8050:7050
    - 8060:6060

cdbp0.org0:
  container_name: cdbp0.org0
  # to be changed with image tag corresponding to rev b2a2b3b11481438639bf27ed10b99e490dd23b8c
  image: hyperledger/fabric-couchdb:x86_64-1.0.0-alpha # to be changed 
  environment:
    - CLEAN_DB_ON_STARTUP=true
  volumes:
    - ./tmp/data/Org0/p0/cdbp:/opt/couchdb/data
  ports:
    - 8084:5984

p0.org0:
  container_name: p0.org0
  # to be changed with image tag corresponding to rev b2a2b3b11481438639bf27ed10b99e490dd23b8c
  image: hyperledger/fabric-peer:x86_64-1.0.0-alpha
  depends_on:
    - o0.org0
    - cdbp0.org0
  working_dir: /opt/gopath/src/github.com/hyperledger/fabric/peer
  command: sh -c 'echo ""Sleep 2 mn waiting CouchDB to be ready"" ; sleep 120; cp -R /etc/hyperledger/fabric/msp/ /etc/hyperledger/fabric/peer/ && peer node start --peer-defaultchain=false ; sleep 10000'
  environment:
    # - GRPC_TRACE=all
    # - GRPC_VERBOSITY=debug
    # - CORE_PEER_ADDRESSAUTODETECT=true
    - CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
    - CORE_VM_DOCKER_HOSTCONFIG_NETWORKMODE=elixirtov1_default
    - CORE_LOGGING_LEVEL=INFO
    - CORE_NEXT=true
    - CORE_LEDGER_STATE_STATEDATABASE=CouchDB
    - CORE_LEDGER_STATE_COUCHDBCONFIG_COUCHDBADDRESS=cdbp0.org0:5984
    - CORE_PEER_TLS_ENABLED=true
    - CORE_PEER_ENDORSER_ENABLED=true
    - CORE_PEER_GOSSIP_USELEADERELECTION=true
    - CORE_PEER_GOSSIP_ORGLEADER=false
    - CORE_PEER_PROFILE_ENABLED=true
    # - CORE_PEER_GOSSIP_IGNORESECURITY=true
    - CORE_PEER_ID=p0.org0
    - CORE_PEER_ADDRESS=p0.org0:7051
    - CORE_PEER_GOSSIP_EXTERNALENDPOINT=p0.org0:7051
    - CORE_PEER_LOCALMSPID=Org0
    - CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/fabric/peer/localMspConfig
    - CORE_PEER_GOSSIP_SKIPHANDSHAKE=true
    - CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/fabric/peer/localMspConfig/signcerts/p0Signer.pem
    - CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/fabric/peer/localMspConfig/keystore/p0Signer.pem
    - CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/fabric/peer/localMspConfig/cacerts/org0.pem
    - PEER_CFG_PATH=/etc/hyperledger/fabric/peer
    - BASE_DOCKER_NS=hyperledger
    - DOCKER_NS=hyperledger
    - ARCH=x86_64
    - PROJECT_VERSION=1.0.0-alpha
    - BASE_VERSION=0.3.0
  volumes:
    - /var/run/:/host/var/run/
    - ./tmp/conf/Org0/p0:/etc/hyperledger/fabric/peer
  ports:
    - 8051:7051
    - 8053:7053
{code}
 

 ;;;","09/May/17 4:37 AM;JonathanLevi;Thank you [~mffrench];;;","11/May/17 2:59 AM;ChristopherFerris;[~denyeart] is this absolutely critical for alpha2?;;;","11/May/17 3:01 AM;denyeart;Not needed for alpha2, just need to confirm there are no lurking issues here.;;;","08/Jun/17 1:31 AM;denyeart;We have not seen another occurrence of this issue, but looking at commit b2a2b3b11481438639bf27ed10b99e490dd23b8c, couchdb.go line 1265 is:

    couchDBReturn.StatusCode = resp.StatusCode

[~chris.elder] , although we would not expect a nil condition, it would be better to return an error and retry, rather than have a nil pointer panic. Could you add extra error/nil/retry handling around that code?  It is line 1333 in most recent master.

 ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Peer panic while commiting non UTF8 Key (CouchDB),FAB-3556,16153,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,manish-sethi,mffrench,mffrench,02/May/17 5:45 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,09/Jun/17 10:51 PM,v1.0.0-alpha1,,,v1.0.0,,fabric-ledger,,,,,,,0,,,,,,,,"Hi,

peer is on panic when comiting non UTF8 Key to CouchDB. That's fine from a CouchDB view (Key must be UTF8) but from fabric hyperledger view where we can use CouchDB or goleveldb this leads to behavior divergences on the same API calls. 

Probably can we improve this :

+ by logging a warning in the case we encounter non UTF8 key on the API implementations side (that way developers will see the problem whatever the ledger db configuration)

OR

+ by aligning goleveldb key policy to the couchdb one and so rejecting any request with non UTF8 key on the API stack. 

Finally I think this kind of panic should be avoided on the peer but rejected from the API client calls. 

Let me know what you think,

Kind regards,

Mathilde

panic: Error during commit to txmgr:doc id [656c697869722d6363005f70726f5f0a044f72673012cf042d2d2d2d2d424547494e2043455254494649434154452d2d2d2d2d0a4d494942686a434341533267417749424167495555706e4b4e387337664d3873583567336155624a4d61746247667377436759494b6f5a497a6a3045417749770a447a454e4d417347413155454177774562334a6e4d444165467730784e7a41304d6a67784e7a51304d444261467730784f44417a4d6a67774d5451304d4442610a4d4259784644415342674e5642414d544331646c596b46776345466b62576c754d466b77457759484b6f5a497a6a3043415159494b6f5a497a6a3044415163440a51674145515a51387548356f6951696b5171794c55514b636f3375564c79496c594465346c347a35663643384c744f70707a51694c384d5156645251595754380a7639324c684c6f43674e61326d2b497a346f536d756b7433484b4e674d46347744675944565230504151482f42415144416749454d41774741315564457745420a2f7751434d414177485159445652304f4242594546416e7048674a72552f4730654d395778384863597146332b6f31714d42384741315564497751594d4261410a464577674456516a495230356670385556716d4c3933484a734f33694d416f4743437147534d343942414d43413063414d45514349435032505a32555164316b0a334f4f466f4f79464f76726b456148476a736d6b6e636d413666773468483362416941725736516834423048647677436b4f316b314a2b57565050384a646b460a7964753047692f54357862492b773d3d0a2d2d2d2d2d454e442043455254494649434154452d2d2d2d2d0a] not a valid utf8 string

goroutine 268 [running]:
panic(0xc13880, 0xc422ce34c0)
	/opt/go/src/runtime/panic.go:500 +0x1a1
github.com/hyperledger/fabric/core/ledger/kvledger.(*kvLedger).Commit(0xc4213f7480, 0xc421a6ec00, 0xd159c1, 0x14)
	/opt/gopath/src/github.com/hyperledger/fabric/core/ledger/kvledger/kv_ledger.go:229 +0x806
github.com/hyperledger/fabric/core/ledger/ledgermgmt.(*closableLedger).Commit(0xc42143b0a0, 0xc421a6ec00, 0x0, 0x0)
	<autogenerated>:1 +0x54
github.com/hyperledger/fabric/core/committer.(*LedgerCommitter).Commit(0xc4216f9f60, 0xc421a6ec00, 0x2, 0xc42e8b5b80)
	/opt/gopath/src/github.com/hyperledger/fabric/core/committer/committer_impl.go:62 +0x121
github.com/hyperledger/fabric/gossip/state.(*GossipStateProviderImpl).commitBlock(0xc4214a95e0, 0xc421a6ec00, 0x4, 0x4, 0xc421d8db88)
	/opt/gopath/src/github.com/hyperledger/fabric/gossip/state/state.go:430 +0x56
github.com/hyperledger/fabric/gossip/state.(*GossipStateProviderImpl).deliverPayloads(0xc4214a95e0)
	/opt/gopath/src/github.com/hyperledger/fabric/gossip/state/state.go:327 +0x45e
created by github.com/hyperledger/fabric/gossip/state.NewGossipStateProvider
	/opt/gopath/src/github.com/hyperledger/fabric/gossip/state/state.go:177 +0x73c",,denyeart,manish-sethi,mffrench,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx4qf:",,,,,,Sprint 16  - Ledger,,,,,,,,,,,,,,,,,,,,,denyeart,manish-sethi,mffrench,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"03/May/17 12:03 PM;denyeart;[~mffrench]
Please provide reproduction steps.  What is the key you are attempting?

When you say ""logging a warning in the case we encounter non UTF8 key on the API implementations side"" do you mean in the chaincode API return an error, so that we'll never get a transaction (and subsequent commit) with invalid key?  That seems like the most reasonable approach to me, but wanted to double check your intent.;;;","03/May/17 11:36 PM;mffrench;Hi David,

the application which raised this error was initially sending this kind of data :

proCodeAsBytes, err := stub.GetCreator()
proCode := string(proCodeAsBytes) // => non UTF8 string
stub.PutState(proCode, ""some data"");

About the warning log : this was a proposal to keep goleveldb as it is today (and so being able to store non utf8 key into goleveldb storage) but raising a warning in the log can inform developers that this key insertion will not work with couchdb storage.

But I personnally think Fabric can align is key policy to the couchdb one and so raise the error from the chaincode API avoiding panic in the peer (my second proposal - and my favorite).

Finally, I let you the final choice as I don't have a clear view of all fabric use cases ;)

Kind regards,
;;;","08/Jun/17 5:38 AM;denyeart;We are thinking that chaincode shim should require keys be UTF8, and return an endorsement error if not. Manish will do some trials before finalizing the approach.;;;","09/Jun/17 5:43 AM;manish-sethi;I have submitted a CR for this issue - [https://gerrit.hyperledger.org/r/#/c/10363]

In this CR, I raise an error during simulation if a non utf-8 key is supplied and the configured db happens to be the couchdb.

In my opinion, I would be good to not limit the capability of leveldb. At times, folks may want to store binary contents as key (such as hash of some content). Also, it incurs a performance overhead of checking whether a key is a valid utf-8.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove duplicate ChaincodeInstance definition,FAB-3557,16154,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,ales,ales,02/May/17 8:44 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,31/May/17 6:50 PM,v1.0.0-alpha1,,,v1.0.0,,fabric-crypto,fabric-peer,,,,,,0,,,,,,,,,,ales,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxrxr:",,,,,,,,,,,,,,,,,,,,,,,,,,,ales,ChristopherFerris,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"26/May/17 3:33 PM;ChristopherFerris;[~ales] this needs a much better description, it is unactionable as written.;;;","31/May/17 6:54 PM;ales;""type ChaincodeInstance struct"" was defined in two places. The redundant definition has been removed and so this FAB can be removed;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
System integration test driver: PTE,FAB-3559,16156,,Story,Closed,FAB,Fabric,software,denyeart,,,High,Done,dongming,binhn,binhn,02/May/17 11:10 PM,21/Jul/18 3:54 AM,28/Oct/23 2:59 AM,26/May/17 4:17 AM,,,,v1.0.0,,fabric-quality,,,,,,,0,,,,,,,,"We need a system integration test driver to exercise different facets of integration, performance, and scalability.

https://gerrit.hyperledger.org/r/#/c/9261/",,binhn,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-2032,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-2247,,,,,,,,,,"1|hzx2vj:",,,,Unset,,Sprint 18 - Quality,Sprint 19 - Quality,,,,,,,,,Unset,,,,,,,,,,,binhn,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Peer CLI doesn't provide clear console output for Endorsement Failure Response ,FAB-3560,16157,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,wlahti,rhegde,rhegde,02/May/17 11:15 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,03/Jun/17 3:53 AM,,,,v1.0.0,,fabric-peer,,,,,,,0,,,,,,,,"Running via Peer CLI and for any Endorsement failure response set by the user-chaincode is not printed to the console. 

This should include a similar output alike when Endorsement Proposal is successful. This should at least list out the fields set by the user-chaincode (https://github.com/hyperledger/fabric/blob/master/protos/peer/proposal_response.proto#L58)

{quote}
Error: Error endorsing invoke: rpc error: code = 2 desc = <pb.response.message>
{quote}

This is run on 19th April published Fabric Images on CI Channel (https://chat.hyperledger.org/channel/fabric-ci?msg=7jxNech7WzkP9ngi3)

*Impact*: Our chaincode E2E testing is performed using Peer CLI and this information is helpful to confirm whether this is really part of the response before we start integrating with the HFC using SDK.",,rhegde,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxrxz:",,,,,,,,,,,,,,,,,,,,,,,,,,,rhegde,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Increase test coverage for VSCC,FAB-3561,16158,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,ales,ales,03/May/17 12:12 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,06/May/17 8:03 PM,,,,,,,,,,,,,0,,,,,,,,,,ales,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxry7:",,,,,,,,,,,,,,,,,,,,,,,,,,,ales,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Peer CLI provides incorrect status code o/p for Successful Endorsement Response,FAB-3562,16159,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,wlahti,rhegde,rhegde,03/May/17 12:20 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,03/Jun/17 3:53 AM,,,,v1.0.0,,fabric-peer,,,,,,,0,,,,,,,,"Endorsement response code from 0 to 499 are marked as Endorsement Success. However our chaincode logic uses values from this range and this is used further by client to determine and execute response code specific operations.

We see a defect in Peer CLI output where for example Endorsement Response code set as 201 is returned as 200. 

{quote}
2017-05-02 15:00:50.917 UTC [msp] Sign -> DEBU 006 Sign: digest: E4E1F2AE1CFDA1A84FFC8E0C730DE5BD22F1DCA3A82F37BCCD7DBBC45957CD62
2017-05-02 15:00:50.919 UTC [chaincodeCmd] chaincodeInvokeOrQuery -> INFO 007 Invoke result: version:1 response:<status:200 message:""OK"" payload:""{\""participantShortName\"":\""BANK2\"",\""nettingGroupName\"":\""TESTING2\"",\""currencyIso\"":\""USD\"",\""nettingCutOffTime\"":\""07:21:00\"",\""nettingCutOffTimeShift\"":0}"" > payload:""\n o\315mF\325T&\347\r\210O\006\210\247\247a6\320E\""\236\000\342\343\3357<\020\005\327AB\022\272\002\nd\022\030\n\004lscc\022\020\n\016\n\006public\022\004\010\001\020\001\022H\n\006public\022>\n\022\n\nCLS001_101\022\004\010\002\020\001\n(\n CLS005_BANK2_TESTING2_2017-03-28\022\004\010\003\020\001\032\321\001\010\311\001\022=netting group response populated with default netting cut-off\032\214\001{\""participantShortName\"":\""BANK2\"",\""nettingGroupName\"":\""TESTING2\"",\""currencyIso\"":\""USD\"",\""nettingCutOffTime\"":\""07:21:00\"",\""nettingCutOffTimeShift\"":0}"" endorsement:<endorser:""\n\007Org0MSP\022\210\004-----BEGIN -----\nMIIBYzCCAQmgAwIBAwICA+gwCgYIKoZIzj0EAwIwEzERMA8GA1UEAwwIcGVlck9y\nZzAwHhcNMTcwMjIwMTkwNjExWhcNMTgwMjIwMTkwNjExWjAQMQ4wDAYDVQQDDAVw\nZWVyMDBZMBMGByqGSM49AgEGCCqGSM49AwEHA0IABEF6dfqjqfbIgZuOR+dgoJMl\n/FaUlGI70A/ixmVUY83Yp4YtV3FDBSOPiO5O+s8pHnpbwB1LqhrxAx1Plr0M/UWj\nUDBOMAwGA1UdEwEB/wQCMAAwHQYDVR0OBBYEFBY2bc84vLEwkX1fSAER2p48jJXw\nMB8GA1UdIwQYMBaAFFQzuQR1RZP/Qn/BNDtGSa8n4eN/MAoGCCqGSM49BAMCA0gA\nMEUCIQDeDZ71L+OTYcbbqiDNRf0L8OExO59mH1O3xpdwMAM0MgIgXySG4sv9yV31\nWcWRFfRFyu7o3T72kqiLZ1nkDuJ8jWI=\n-----END -----\n"" signature:""0D\002 L^>\363\237\376\tI;\231\346<\027\212T\006\0325\200\033\277\272\032\013\224l,'%\006sK\002 \021\323V\350tdN>Nc\330\030\276\302\014T\202\002\375\206\257\353\352,\204\320\346`\031\014K\333"" >
2017-05-02 15:00:50.920 UTC [main] main -> INFO 008 Exiting.....
{quote}

At the same time - this is another thing to fix (https://github.com/hyperledger/fabric/blob/master/protos/peer/proposal_response.proto#L58)?
1. 'message' field is populated with ""OK"" whereas user-chain-code had populated it with ""netting group response populated with default netting cut-off""

note: 'payload' byte array field is populated by a JSON byte array by user-chaincode which can be seen as string translated in the 'Payload' field. 

This is run on 19th April published Fabric Images on CI Channel (https://chat.hyperledger.org/channel/fabric-ci?msg=7jxNech7WzkP9ngi3)

*Impact*: Our chaincode E2E testing is performed using Peer CLI and this information is helpful to confirm whether this is really part of the response before we start integrating with the HFC using SDK.",,muralisr,rhegde,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxryf:",,,,,,,,,,,,,,,,,,,,,,,,,,,muralisr,rhegde,wlahti,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"03/May/17 12:25 AM;rhegde;Can you please confirm if client using Fabric Java SDK will receive the following response (3 parts - status (int32), payload (byte array) and message (string) as a direct access variable) as we set in the user-chaincode?;;;","04/May/17 3:52 AM;muralisr;[~rhegde] not sure if I understand the problems correctly...

Are you saying
* response code is set as 201 but CLI outputs it as 200 ?
* message is set ""netting group response populated with default netting cut-off"" but CLI outputs it as ""OK"" ?

Can you attach a sample Chaincode with CLI instructions to recreate the problem please ?;;;","04/May/17 5:24 AM;rhegde;Your understanding is correct.
;;;","12/May/17 4:56 AM;wlahti;The CLI was returning the invoke result for the ESCC call and not the user chaincode call. My pending CR updates the messages to display as follows:

 
{code:java}
2017-05-11 19:22:13.271 UTC [chaincodeCmd] chaincodeInvokeOrQuery -> DEBU 00a ESCC invoke result: version:1 response:<status:200 message:""OK"" payload:""function=invoke args=[a b 10]"" > payload:""\n \243\202\227\255%\327\333(\037\301\022Y`\006[\260\211\311~\001\241\220\031}\355\363(\344\371~\323$\022\224\001\nE\022\024\n\004lscc\022\014\n\n\n\004mycc\022\002\010\003\022-\n\004mycc\022%\n\007\n\001a\022\002\010\004\n\007\n\001b\022\002\010\004\032\007\n\001a\032\00280\032\010\n\001b\032\003220\032>\010\312\001\022\032endorsing transaction message\032\035function=invoke args=[a b 10]\""\013\022\004mycc\032\0031.0"" endorsement:<endorser:""\n\007Org1MSP\022\325\006-----BEGIN -----\nMIICWTCCAgCgAwIBAgIQZv4TMXaaqBUzrev1HwiybDAKBggqhkjOPQQDAjBzMQsw\nCQYDVQQGEwJVUzETMBEGA1UECBMKQ2FsaWZvcm5pYTEWMBQGA1UEBxMNU2FuIEZy\nYW5jaXNjbzEZMBcGA1UEChMQb3JnMS5leGFtcGxlLmNvbTEcMBoGA1UEAxMTY2Eu\nb3JnMS5leGFtcGxlLmNvbTAeFw0xNzA1MTExOTIxMTdaFw0yNzA1MDkxOTIxMTda\nMFsxCzAJBgNVBAYTAlVTMRMwEQYDVQQIEwpDYWxpZm9ybmlhMRYwFAYDVQQHEw1T\nYW4gRnJhbmNpc2NvMR8wHQYDVQQDExZwZWVyMC5vcmcxLmV4YW1wbGUuY29tMFkw\nEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAEETq2TkoSxSYeBwj/RzP8pE7nm0wLPvH0\no/pkNdBLz2xwcv9lRG0aIMZ8e6HlZTcYexF34C3mkdbV8Kgrwr3OT6OBjTCBijAO\nBgNVHQ8BAf8EBAMCBaAwEwYDVR0lBAwwCgYIKwYBBQUHAwEwDAYDVR0TAQH/BAIw\nADArBgNVHSMEJDAigCD0kY8yzci3YqmRhwOEEzb6JQSaSd40kjUmMktbibGKcTAo\nBgNVHREEITAfghZwZWVyMC5vcmcxLmV4YW1wbGUuY29tggVwZWVyMDAKBggqhkjO\nPQQDAgNHADBEAiBtBIchJYRCl3YIcWxtNDtcXrJ1HsqyvS7btMec0MEDhwIgReJ9\n5Nso3gPXWbL2Lid/MgzOx9hto8yWwPgZJLa+Q9E=\n-----END -----\n"" signature:""0D\002 \""8c\221i{kw\006\r1\304\231\236G\0044\014qHL\266G\270a\275\262z\251\225\317\220\002 n[\276\224\311\365\207\367\324\323\372\313\203\202`K,\216\257\354\344\317\372\026I\025_\247\355\003\344\377"" >
2017-05-11 19:22:13.271 UTC [chaincodeCmd] chaincodeInvokeOrQuery -> INFO 00b Chaincode invoke successful. result: status:202 message:""endorsing transaction message"" payload:""function=invoke args=[a b 10]""{code};;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
e2e_cli fails to Join channel when certs are generated using cryptogen,FAB-3563,16160,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,muralisr,Ratnakar,Ratnakar,03/May/17 12:28 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,04/May/17 11:07 PM,,,,v1.0.0,,,,,,,,,0,,,,,,,,"h3. _e2e_cli_ fails to _*Join channel*_ when certs are generated dynamically using cryptogen tool

h4. Steps to reproduce the issue:

1. Generate the Org certs using cryptogen tool.
2. Generate Orderer genesis block and channel cfg transaction (anchor peer update txn ) using msps and configtx.yaml.
3. start the local network using docker-compose
4. Run an end - to -end test using shell script

*Expected Result: * End - to - End test should pass

*Actual Result: * End - to - End fails while Joining the channel with the following error:

{code}
cli                       | 2017-05-02 15:15:03.206 UTC [msp] GetLocalMSP -> DEBU 004 Returning existing local MSP
cli                       | 2017-05-02 15:15:03.206 UTC [msp] GetDefaultSigningIdentity -> DEBU 005 Obtaining default signing identity
cli                       | 2017-05-02 15:15:03.210 UTC [msp] Sign -> DEBU 006 Sign: plaintext: 0AE2070A5B08011A0B08F7C4A2C80510...04AD4A36DB4E1A080A000A000A000A00 
cli                       | 2017-05-02 15:15:03.210 UTC [msp] Sign -> DEBU 007 Sign: digest: E4494794D7D3D3B2A7C190473B6F6C679C0C1239DA6C2067B11A104E1B5E86D4 
cli                       | Error: proposal failed (err: rpc error: code = 2 desc = ""JoinChain"" request failed authorization check for channel [mychannel]: [Failed verifying that proposal's creator satisfies local MSP principal during channelless check policy with policy [Admins}: [This identity is not an admin]])
cli                       | Usage:
cli                       |   peer channel join [flags]
{code}


Code is also uploaded to github https://github.com/ratnakar-asara/fabric_e2e_cli

NOTE: Complete logs are attached


",,kchristidis,mastersingh24,muralisr,Ratnakar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"03/May/17 12:23 AM;Ratnakar;e2e-join-failure-logs.txt;https://jira.hyperledger.org/secure/attachment/10695/e2e-join-failure-logs.txt","03/May/17 2:27 AM;Ratnakar;orderer-logs.txt;https://jira.hyperledger.org/secure/attachment/10696/orderer-logs.txt",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxryn:",,,,,,,,,,,,,,,,,,,,,,,,,,,kchristidis,mastersingh24,muralisr,Ratnakar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"03/May/17 1:14 AM;kchristidis;Ratnakar, can you please:

# List _the exact commands_ you used for every step
# Do a ""docker logs -f orderer0 2>&1"" and paste the output here (in a separate file, as an attachment)
# Confirm whether the E2E CLI (sans cryptogen) passes locally
# Confirm whether `bootstrap.feature` passes locally

I suspect that the MSPs are not set up correctly.;;;","03/May/17 2:28 AM;Ratnakar;[~kchristidis] 
1. This is same as e2e_cli , all the scripts are captured [here](https://github.com/ratnakar-asara/fabric_e2e_cli/) This can run with the below command
{panel}                      
./network_setup restart
{panel}

2. Attached the latest orderer logs.
3. This problem is seen when I used e2e_cli to verify
4. I haven't tried BDD.
;;;","03/May/17 3:47 AM;muralisr;[~Ratnakar] We have to post process configtxgen's output to copy the signcert to the admincert folder to give the signet Admin ROLE. There was was directory structure mixup in this manual process. Worked once corrected.

It does bring up the question if the cryptogen should copy peer's signcerts automatically into admincerts...or is there an alternate approach to using the cryptogen outputs [~mastersingh24] ?

;;;","03/May/17 4:40 AM;Ratnakar;Waiting for [~mastersingh24] Inputs. Reducing the priority.;;;","03/May/17 5:04 AM;mastersingh24;The current cryptogen actually creates admin users for every peer org and includes them in the MSP for the org (which is what is used as the input in configtx.yaml)

So instead of using the peer identity, you can point to the admin identity for the org which is located in the users directory for each org.

You can also set the AdminPrincipal to Role.MEMBER in the configtx.yaml  as well (which is what the current e2e_cli uses as I recall);;;","03/May/17 5:05 AM;mastersingh24;[~greg.haskins] has also done some work in this area and I believe he was able to get the network running the other day with the artifacts from cryptogen ;;;","03/May/17 2:17 PM;Ratnakar;As discussed with [~mastersingh24] and [~greg.haskins], used admin identity for CLI container.
Changes submitted with  PR https://gerrit.hyperledger.org/r/#/c/8865/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Improve unit tests for fabric/common/ledger/util/leveldbhelper,FAB-3564,16161,15992,Sub-task,Closed,FAB,Fabric,software,denyeart,,,High,Done,manish-sethi,manish-sethi,manish-sethi,03/May/17 1:33 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,04/May/17 8:52 PM,,,,v1.0.0,,fabric-ledger,,,,,,,0,,,,,,,,,,manish-sethi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxryv:",,,,,,Sprint 16 - Quality,,,,,,,,,,,,,,,,,,,,,manish-sethi,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add functionality for BDD feature file,FAB-3565,16162,16101,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,latitiah,latitiah,latitiah,03/May/17 2:30 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,22/Jun/17 10:48 PM,,,,v1.0.0,,fabric-quality,,,,,,,0,quality,,,,,,,The implementation code for the end-to-end happy path test needs to be included for the peers.,,ChandraLekhaChavva,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxrz3:",,,,,,Sprint 19 - Quality,,,,,,,,,,,,,,,,,,,,,ChandraLekhaChavva,latitiah,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add CI testing in other Linux environment,FAB-3566,16163,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,latitiah,latitiah,03/May/17 2:41 AM,30/Jul/19 11:37 AM,28/Oct/23 2:59 AM,30/Jul/19 11:37 AM,,,,Future,,fabric-build,fabric-quality,,,,,,0,build-system,quality,,,,,,"It would be nice to have a CI slave node running fabric tests in 
* RedHat (7.x)
* SUSE
* CentOS
* Debian
* ... 

We can then say, as an aside, what version(s) of OS we have executed fabric against. This does not mean that we need to support these environments, but that we know or at least have some idea of what happens when we run in these environments.",,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzxok7:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,latitiah,,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
examples e2e_cli network_setup.sh script exits prematurely with ERROR,FAB-3567,16164,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,jtsiros,jtsiros,03/May/17 3:13 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,08/Jun/17 10:56 PM,v1.0.0-alpha1,,,v1.0.0-beta,,fabric-samples,,,,,,,0,,,,,,,,"fabric/examples/e2e_cli ./network_setup.sh up                                                                                            
setting to default channel 'mychannel'
Channel name - mychannel

Using configtxgen -> /Users/jtsiros/dev/go/src/github.com/hyperledger/fabric/examples/e2e_cli/../../build/bin/configtxgen
Generating genesis block
2017-05-02 11:03:21.422 PDT [common/configtx/tool] main -> INFO 001 Loading configuration
2017-05-02 11:03:21.426 PDT [msp] getMspConfig -> INFO 002 intermidiate certs folder not found at [/Users/jtsiros/dev/go/src/github.com/hyperledger/fabric/examples/e2e_cli/crypto/orderer/localMspConfig/intermediatecerts]. Skipping.: [stat /Users/jtsiros/dev/go/src/github.com/hyperledger/fabric/examples/e2e_cli/crypto/orderer/localMspConfig/intermediatecerts: no such file or directory]
2017-05-02 11:03:21.426 PDT [msp] getMspConfig -> INFO 003 crls folder not found at [/Users/jtsiros/dev/go/src/github.com/hyperledger/fabric/examples/e2e_cli/crypto/orderer/localMspConfig/intermediatecerts]. Skipping.: [stat /Users/jtsiros/dev/go/src/github.com/hyperledger/fabric/examples/e2e_cli/crypto/orderer/localMspConfig/crls: no such file or directory]
2017-05-02 11:03:21.426 PDT [msp] getMspConfig -> INFO 004 MSP configuration file not found at [/Users/jtsiros/dev/go/src/github.com/hyperledger/fabric/examples/e2e_cli/crypto/orderer/localMspConfig/config.yaml]: [stat /Users/jtsiros/dev/go/src/github.com/hyperledger/fabric/examples/e2e_cli/crypto/orderer/localMspConfig/config.yaml: no such file or directory]
2017-05-02 11:03:21.427 PDT [msp] getMspConfig -> INFO 005 intermidiate certs folder not found at [/Users/jtsiros/dev/go/src/github.com/hyperledger/fabric/examples/e2e_cli/crypto/peer/peer0/localMspConfig/intermediatecerts]. Skipping.: [stat /Users/jtsiros/dev/go/src/github.com/hyperledger/fabric/examples/e2e_cli/crypto/peer/peer0/localMspConfig/intermediatecerts: no such file or directory]
2017-05-02 11:03:21.427 PDT [msp] getMspConfig -> INFO 006 crls folder not found at [/Users/jtsiros/dev/go/src/github.com/hyperledger/fabric/examples/e2e_cli/crypto/peer/peer0/localMspConfig/intermediatecerts]. Skipping.: [stat /Users/jtsiros/dev/go/src/github.com/hyperledger/fabric/examples/e2e_cli/crypto/peer/peer0/localMspConfig/crls: no such file or directory]
2017-05-02 11:03:21.427 PDT [msp] getMspConfig -> INFO 007 MSP configuration file not found at [/Users/jtsiros/dev/go/src/github.com/hyperledger/fabric/examples/e2e_cli/crypto/peer/peer0/localMspConfig/config.yaml]: [stat /Users/jtsiros/dev/go/src/github.com/hyperledger/fabric/examples/e2e_cli/crypto/peer/peer0/localMspConfig/config.yaml: no such file or directory]
2017-05-02 11:03:21.428 PDT [msp] getMspConfig -> INFO 008 intermidiate certs folder not found at [/Users/jtsiros/dev/go/src/github.com/hyperledger/fabric/examples/e2e_cli/crypto/peer/peer2/localMspConfig/intermediatecerts]. Skipping.: [stat /Users/jtsiros/dev/go/src/github.com/hyperledger/fabric/examples/e2e_cli/crypto/peer/peer2/localMspConfig/intermediatecerts: no such file or directory]
2017-05-02 11:03:21.428 PDT [msp] getMspConfig -> INFO 009 crls folder not found at [/Users/jtsiros/dev/go/src/github.com/hyperledger/fabric/examples/e2e_cli/crypto/peer/peer2/localMspConfig/intermediatecerts]. Skipping.: [stat /Users/jtsiros/dev/go/src/github.com/hyperledger/fabric/examples/e2e_cli/crypto/peer/peer2/localMspConfig/crls: no such file or directory]
2017-05-02 11:03:21.428 PDT [msp] getMspConfig -> INFO 00a MSP configuration file not found at [/Users/jtsiros/dev/go/src/github.com/hyperledger/fabric/examples/e2e_cli/crypto/peer/peer2/localMspConfig/config.yaml]: [stat /Users/jtsiros/dev/go/src/github.com/hyperledger/fabric/examples/e2e_cli/crypto/peer/peer2/localMspConfig/config.yaml: no such file or directory]
2017-05-02 11:03:21.428 PDT [common/configtx/tool] doOutputBlock -> INFO 00b Generating genesis block
2017-05-02 11:03:21.429 PDT [common/configtx/tool] doOutputBlock -> INFO 00c Writing genesis block
Generating channel configuration transaction
2017-05-02 11:03:21.451 PDT [common/configtx/tool] main -> INFO 001 Loading configuration
2017-05-02 11:03:21.457 PDT [common/configtx/tool] doOutputChannelCreateTx -> INFO 002 Generating new channel configtx
2017-05-02 11:03:21.457 PDT [common/configtx/tool] doOutputChannelCreateTx -> INFO 003 Writing new channel tx
Generating anchor peer update for Org0MSP
2017-05-02 11:03:21.477 PDT [common/configtx/tool] main -> INFO 001 Loading configuration
2017-05-02 11:03:21.481 PDT [common/configtx/tool] doOutputAnchorPeersUpdate -> INFO 002 Generating anchor peer update
2017-05-02 11:03:21.481 PDT [common/configtx/tool] doOutputAnchorPeersUpdate -> INFO 003 Writing anchor peer update
Generating anchor peer update for Org1MSP
2017-05-02 11:03:21.499 PDT [common/configtx/tool] main -> INFO 001 Loading configuration
2017-05-02 11:03:21.504 PDT [common/configtx/tool] doOutputAnchorPeersUpdate -> INFO 002 Generating anchor peer update
2017-05-02 11:03:21.504 PDT [common/configtx/tool] doOutputAnchorPeersUpdate -> INFO 003 Writing anchor peer update
Creating network ""e2ecli_default"" with the default driver
Pulling cli (hyperledger/fabric-testenv:latest)...
ERROR: repository hyperledger/fabric-testenv not found: does not exist or no pull access",Mac OSX Sierra 10.12.4,ChristopherFerris,jtsiros,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxrzb:",,,,,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,jtsiros,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"26/May/17 3:35 PM;ChristopherFerris;[~jtsiros] can you run the current version from MASTER as described by the Getting Started page? [http://hyperledger-fabric.readthedocs.io/en/latest/getting_started.html] We've made some significant changes and improvements.;;;","08/Jun/17 10:57 PM;mastersingh24;This has been revamped for the beta and various independent tests have shown that the beta version works properly;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Displaying cryptogen help-man,FAB-3571,16169,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,mastersingh24,latitiah,latitiah,03/May/17 4:35 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,07/Jun/17 5:58 PM,v1.0.0,,,Not a Bug,,fabric-crypto,fabric-tools,,,,,,0,,,,,,,,"*environment*: Ubuntu 14.04
*git commit*: f3c61e6cc3b04915081b15bbed000b377b53c4c1

When typing `cryptogen --help-man`, the following is displayed:
{code:none}
.TH cryptogen 1  """"
.SH ""NAME""
cryptogen
.SH ""SYNOPSIS""
.TP
\fBcryptogen [<flags>] <command> [<args> ...]\fR

.SH ""DESCRIPTION""
Utility for generating Hyperledger Fabric key material
.SH ""OPTIONS""
.TP
\fB--help\fR
Show context-sensitive help (also try --help-long and --help-man).
.SH ""COMMANDS""
.SS
\fBhelp [<command>...]\fR
.PP
Show help.
.SS
\fBgenerate [<flags>]\fR
.PP
Generate key material
.TP
\fB--output=""crypto-config""\fR
The output directory in which to place artifacts
.TP
\fB--config=CONFIG\fR
The configuration template to use
.SS
\fBshowtemplate\fR
.PP
Show the default configuration template
{code}
",,latitiah,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx5kf:",,,,,,,,,,,,,,,,,,,,,,,,,,,latitiah,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"19/May/17 6:24 PM;mastersingh24;This is not really an issue.  That command is designed to be piped to a file for use as a man page;;;","20/May/17 12:04 AM;latitiah;It would be helpful to state this in the help description when the --help-man option is mentioned. I assumed that the help-man option was going to be the equivalent of accessing the man page for this tool.;;;","02/Jun/17 6:55 PM;mastersingh24;It's a built-in function of the library being used so not sure we can actually make any changes there;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
scripts to automate creation of cryptogen config file and configtx config file,FAB-3572,16170,,Story,Closed,FAB,Fabric,software,denyeart,,,High,Done,dongming,scottz,scottz,03/May/17 4:58 AM,21/Jul/18 3:57 AM,28/Oct/23 2:59 AM,30/Aug/17 5:01 AM,,,,v1.0.0,,fabric-quality,,,,,,,0,quality,,,,,,,"For NetworkLauncher (to be submitted with FAB-3475) and other test tools that spin up a network, we need scripts for generating the crypto-config.yaml and the configtx.yaml. The tester will provide user paramters such as #orderers, #orgs, #peersPerOrg, to the test tool (such as NetworkLauncher) which needs to generate these configuration scripts before running the configtxgen and the cryptogen tools and finally launching the test network.",,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3475,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzx2un:",,,,Unset,,Sprint 19 - Quality,,,,,,,,,,Unset,,,,,,,,,,,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Error: ltdl.h: No such file or directory,FAB-3573,16171,,Bug,Closed,FAB,Fabric,software,denyeart,,,Low,Done,,raheelz,raheelz,03/May/17 5:05 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,04/May/17 2:55 PM,v1.0.0-alpha1,,,v1.0.0-alpha1,,fabric-build,,,,,,,0,,,,,,,,"Following instructions from here:
https://github.com/IBM-Blockchain/marbles/blob/v3.0/docs/env_setup.md

When running the command to build, receiving the following error:
{{{quote}AzureAD+RaheelZubairy@DESKTOP-3POP4OS MINGW64 ~/go/src/github.com/hyperledger/fabric/examples/chaincode/go/chaincode_example02 ((14055d70...))
$ go build -tags nopkcs11 .
\# github.com/hyperledger/fabric/vendor/github.com/miekg/pkcs11
..\..\..\..\vendor\github.com\miekg\pkcs11\pkcs11.go:29:18: fatal error: ltdl.h: No such file or directory
 #include <ltdl.h>
                  ^
compilation terminated.{quote}}}

Trying to build on a Windows OS.
Thanks.

",,raheelz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxsl3:",,,,,,,,,,,,,,,,,,,,,,,,,,,raheelz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add unit test instructions to docs,FAB-3575,16185,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,denyeart,denyeart,denyeart,03/May/17 6:27 AM,21/Jul/18 3:54 AM,28/Oct/23 2:59 AM,04/May/17 8:55 PM,,,,,,fabric-docs,,,,,,,0,,,,,,,,"Add unit test instructions to docs

- Add make unit-test info
- Add test coverage info",,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzx7iv:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,denyeart,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"03/May/17 6:29 AM;denyeart;https://gerrit.hyperledger.org/r/#/c/8859/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Peer error handling,FAB-3576,16187,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,muralisr,Clayton Sims,Clayton Sims,03/May/17 6:28 AM,30/Apr/19 11:28 PM,28/Oct/23 2:59 AM,30/Apr/19 11:28 PM,,,,Future,,fabric-peer,,,,,,,0,Serviceability,,,,,,,,,Clayton Sims,muralisr,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzzu9j:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,Clayton Sims,muralisr,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"11/May/17 10:25 PM;muralisr;Not started yet adding ""PER"" component log yet. Planning to start after the alpha2 is cut (and hoping to get some help on this too).;;;","30/Apr/19 11:28 PM;sykesm;This story is lacking details is is approaching its second birthday. It's time to call it.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Crypto error handling (improvement),FAB-3577,16188,,Epic,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ellaki,Clayton Sims,Clayton Sims,03/May/17 6:31 AM,21/Jul/18 4:08 AM,28/Oct/23 2:59 AM,13/Mar/18 11:21 AM,,,,v1.0.0,,fabric-crypto,,,,,,,0,Serviceability,,,,,,,,,angelo.decaro,Clayton Sims,JonathanLevi,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3540,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,Unset,,,Crypto error handling (improvement),Done,,,,Unset,,,,"1|hzx5l3:",,,,Unset,Unset,,,,,,,,,,,,,,,,,,,,,,angelo.decaro,Clayton Sims,JonathanLevi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"12/May/17 5:04 PM;angelo.decaro;So, https://jira.hyperledger.org/browse/FAB-3540 is taking care of the bccsp package :);;;","12/May/17 7:17 PM;JonathanLevi;Thanks. [~angelo.decaro], we should have had linked FAB-3577 and FAB-3540. Done.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Improve Ledger serviceability - utilize component/subcomponent loggers,FAB-3578,16189,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,denyeart,Clayton Sims,Clayton Sims,03/May/17 6:31 AM,10/Jan/19 11:50 PM,28/Oct/23 2:59 AM,10/Jan/19 11:50 PM,,,,,,fabric-ledger,,,,,,,0,Serviceability,,,,,,,"Utilize component/subcomponent loggers as described here:
http://hyperledger-fabric.readthedocs.io/en/latest/commands/peerlogging.html?#set-level-usage",,ChristopherFerris,Clayton Sims,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-2025,,,,,FAB-5766,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzzuaf:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,ChristopherFerris,Clayton Sims,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"30/May/17 11:03 PM;ChristopherFerris;removed from FAB-3040;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Gossip error handling,FAB-3582,16193,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,gennadyl,Clayton Sims,Clayton Sims,03/May/17 6:37 AM,21/Jul/18 3:55 AM,28/Oct/23 2:59 AM,16/Aug/17 5:31 PM,,,,Future,WON'T FIX,fabric-gossip,,,,,,,0,Serviceability,,,,,,,,,C0rWin,Clayton Sims,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-5764,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzxsgf:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,C0rWin,Clayton Sims,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"16/Aug/17 5:31 PM;C0rWin;Duplicated by FAB-5764;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
create system tests placeholders for Jenkins to execute in a daily run,FAB-3583,16195,14535,Sub-task,Closed,FAB,Fabric,software,denyeart,,,High,Done,scottz,scottz,scottz,03/May/17 6:51 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,11/May/17 11:27 PM,,,,v1.0.0,,fabric-quality,,,,,,,0,quality,,,,,,,"Using BDD process, create placeholders for all the planned system performance tests as documented in testplan - [https://docs.google.com/spreadsheets/d/1_IdXCuYMKkqXr3Za0pVnFP3sP1jBcNbYnTJGV-nSkxI/edit#gid=1813008746].
 Additionally, we will request the CI team to get Jenkins to execute them in its daily test run.
 Of course, the ""dummy"" tests will fail initially.
 Later, in other tasks, we will add all the actual test scripts one by one as they are written, and over time we should see test report summaries with increasing number of tests being executed (and hopefully passing!) as the test scripts become merged.

This submission will need to produce output in xml, so Jenkins can display them nicely. To do that, we will establish a simple python wrapper driver which can be used to call our shell scripts tests, one at a time, and search the stdout of each testcase for a unique, specified string to determine the pass/fail result for each test.",,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxsgn:",,,,,,Sprint 11 - Quality,Sprint 12 - Quality,Sprint 13 - Quality,Sprint 14 - Quality,Sprint 15 - Quality,Sprint 16 - Quality,Sprint 18 - Quality,,,,,,,,,,,,,,,scottz,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
system test ID Skeleton-Queries-LevelDB,FAB-3584,16197,14535,Sub-task,Closed,FAB,Fabric,software,denyeart,,,High,Done,scottz,scottz,scottz,03/May/17 7:00 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,11/May/17 10:30 PM,,,,v1.0.0,,fabric-quality,,,,,,,0,quality,,,,,,,"Create and submit system test ID Skeleton-Queries-Level
in testplan 
 https://docs.google.com/spreadsheets/d/1_IdXCuYMKkqXr3Za0pVnFP3sP1jBcNbYnTJGV-nSkxI/edit#gid=1813008746",,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxsgv:",,,,,,Sprint 11 - Quality,Sprint 12 - Quality,Sprint 13 - Quality,Sprint 14 - Quality,Sprint 15 - Quality,Sprint 16 - Quality,Sprint 18 - Quality,,,,,,,,,,,,,,,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"11/May/17 10:30 PM;scottz;Testcase description, name, component, calling method, and such are all defined.

We will use another task to submit the actual testcase.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
system test ID Skeleton-Queries-CouchDB,FAB-3585,16198,14535,Sub-task,Closed,FAB,Fabric,software,denyeart,,,High,Done,scottz,scottz,scottz,03/May/17 7:01 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,11/May/17 10:30 PM,,,,v1.0.0,,fabric-quality,,,,,,,0,quality,,,,,,,"Create and submit system test ID Skeleton-Queries-Couch
in testplan 
 https://docs.google.com/spreadsheets/d/1_IdXCuYMKkqXr3Za0pVnFP3sP1jBcNbYnTJGV-nSkxI/edit#gid=1813008746",,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxsh3:",,,,,,Sprint 11 - Quality,Sprint 12 - Quality,Sprint 13 - Quality,Sprint 14 - Quality,Sprint 15 - Quality,Sprint 16 - Quality,Sprint 18 - Quality,,,,,,,,,,,,,,,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
system test ID Skeleton-Invokes-LevelDB,FAB-3586,16199,14535,Sub-task,Closed,FAB,Fabric,software,denyeart,,,High,Done,scottz,scottz,scottz,03/May/17 7:05 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,11/May/17 10:30 PM,,,,v1.0.0,,fabric-quality,,,,,,,0,quality,,,,,,,"Create and submit system test ID Skeleton-Invokes-LevelDB
in testplan 
https://docs.google.com/spreadsheets/d/1_IdXCuYMKkqXr3Za0pVnFP3sP1jBcNbYnTJGV-nSkxI/edit#gid=1813008746
",,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxshb:",,,,,,Sprint 11 - Quality,Sprint 12 - Quality,Sprint 13 - Quality,Sprint 14 - Quality,Sprint 15 - Quality,Sprint 16 - Quality,Sprint 18 - Quality,,,,,,,,,,,,,,,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
system test ID Skeleton-Invokes-CouchDB,FAB-3587,16200,14535,Sub-task,Closed,FAB,Fabric,software,denyeart,,,High,Done,scottz,scottz,scottz,03/May/17 7:05 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,11/May/17 10:30 PM,,,,v1.0.0,,fabric-quality,,,,,,,0,quality,,,,,,,"Create and submit system test ID Skeleton-Invokes-CouchDB
in testplan 
https://docs.google.com/spreadsheets/d/1_IdXCuYMKkqXr3Za0pVnFP3sP1jBcNbYnTJGV-nSkxI/edit#gid=1813008746
",,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxshj:",,,,,,Sprint 11 - Quality,Sprint 12 - Quality,Sprint 13 - Quality,Sprint 14 - Quality,Sprint 15 - Quality,Sprint 16 - Quality,Sprint 18 - Quality,,,,,,,,,,,,,,,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
system test ID Scale-up-1,FAB-3588,16201,14535,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,scottz,scottz,03/May/17 7:10 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,11/May/17 10:31 PM,,,,v1.0.0,,fabric-quality,,,,,,,0,quality,,,,,,,"Create and submit system test ID Scale-up-1
in testplan 
https://docs.google.com/spreadsheets/d/1_IdXCuYMKkqXr3Za0pVnFP3sP1jBcNbYnTJGV-nSkxI/edit#gid=1813008746
",,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxshr:",,,,,,Sprint 11 - Quality,Sprint 12 - Quality,Sprint 13 - Quality,Sprint 14 - Quality,Sprint 15 - Quality,Sprint 16 - Quality,Sprint 18 - Quality,,,,,,,,,,,,,,,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"11/May/17 10:31 PM;scottz;Testcase description, name, component, calling method, and such are all defined.

We will use another task to submit the actual testcase.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
system test ID Scale-up-2,FAB-3589,16202,14535,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,scottz,scottz,03/May/17 7:11 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,11/May/17 10:31 PM,,,,v1.0.0,,fabric-quality,,,,,,,0,quality,,,,,,,system test ID Scale-up-2,,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxshz:",,,,,,Sprint 11 - Quality,Sprint 12 - Quality,Sprint 13 - Quality,Sprint 14 - Quality,Sprint 15 - Quality,Sprint 16 - Quality,Sprint 18 - Quality,,,,,,,,,,,,,,,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
system test ID Scale-up-3,FAB-3590,16203,14535,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,scottz,scottz,03/May/17 7:11 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,11/May/17 10:31 PM,,,,v1.0.0,,fabric-quality,,,,,,,0,quality,,,,,,,system test ID Scale-up-3,,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxsi7:",,,,,,Sprint 11 - Quality,Sprint 12 - Quality,Sprint 13 - Quality,Sprint 14 - Quality,Sprint 15 - Quality,Sprint 16 - Quality,Sprint 18 - Quality,,,,,,,,,,,,,,,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
system test ID Scale-up-4,FAB-3591,16204,14535,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,scottz,scottz,03/May/17 7:11 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,11/May/17 10:31 PM,,,,v1.0.0,,fabric-quality,,,,,,,0,quality,,,,,,,system test ID Scale-up-4,,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxsif:",,,,,,Sprint 11 - Quality,Sprint 12 - Quality,Sprint 13 - Quality,Sprint 14 - Quality,Sprint 15 - Quality,Sprint 16 - Quality,Sprint 18 - Quality,,,,,,,,,,,,,,,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
system test ID Scale-up-5,FAB-3592,16205,14535,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,scottz,scottz,03/May/17 7:12 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,11/May/17 10:31 PM,,,,v1.0.0,,fabric-quality,,,,,,,0,quality,,,,,,,system test ID Scale-up-5,,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxsin:",,,,,,Sprint 11 - Quality,Sprint 12 - Quality,Sprint 13 - Quality,Sprint 14 - Quality,Sprint 15 - Quality,Sprint 16 - Quality,Sprint 18 - Quality,,,,,,,,,,,,,,,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
system test ID TLS-L,FAB-3593,16206,14535,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,scottz,scottz,03/May/17 7:12 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,11/May/17 10:31 PM,,,,v1.0.0,,fabric-quality,,,,,,,0,quality,,,,,,,system test ID TLS-L,,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxsiv:",,,,,,Sprint 11 - Quality,Sprint 12 - Quality,Sprint 13 - Quality,Sprint 14 - Quality,Sprint 15 - Quality,Sprint 16 - Quality,Sprint 18 - Quality,,,,,,,,,,,,,,,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"11/May/17 10:31 PM;scottz;Testcase description, name, component, calling method, and such are all defined.

We will use another task to submit the actual testcase.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
system test ID TLS-C,FAB-3594,16207,14535,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,scottz,scottz,03/May/17 7:13 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,11/May/17 10:32 PM,,,,v1.0.0,,fabric-quality,,,,,,,0,quality,,,,,,,system test ID TLS-C,,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxsj3:",,,,,,Sprint 11 - Quality,Sprint 12 - Quality,Sprint 13 - Quality,Sprint 14 - Quality,Sprint 15 - Quality,Sprint 16 - Quality,Sprint 18 - Quality,,,,,,,,,,,,,,,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
system test ID 1M-L,FAB-3595,16208,14535,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,scottz,scottz,03/May/17 7:14 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,11/May/17 10:32 PM,,,,v1.0.0,,fabric-quality,,,,,,,0,quality,,,,,,,system test ID 1M-L,,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxsjb:",,,,,,Sprint 11 - Quality,Sprint 12 - Quality,Sprint 13 - Quality,Sprint 14 - Quality,Sprint 15 - Quality,Sprint 16 - Quality,Sprint 18 - Quality,,,,,,,,,,,,,,,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
system test ID 1M-C,FAB-3596,16209,14535,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,scottz,scottz,03/May/17 7:15 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,11/May/17 10:32 PM,,,,v1.0.0,,fabric-quality,,,,,,,0,quality,,,,,,,system test ID 1M-C,,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxsjj:",,,,,,Sprint 11 - Quality,Sprint 12 - Quality,Sprint 13 - Quality,Sprint 14 - Quality,Sprint 15 - Quality,Sprint 16 - Quality,Sprint 18 - Quality,,,,,,,,,,,,,,,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
system test ID Gossip-L,FAB-3597,16210,14535,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,scottz,scottz,03/May/17 7:15 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,11/May/17 10:32 PM,,,,v1.0.0,,fabric-quality,,,,,,,0,quality,,,,,,,system test ID Gossip-L,,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxsjr:",,,,,,Sprint 11 - Quality,Sprint 12 - Quality,Sprint 13 - Quality,Sprint 14 - Quality,Sprint 15 - Quality,Sprint 16 - Quality,Sprint 18 - Quality,,,,,,,,,,,,,,,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
system test ID Gossip-C,FAB-3598,16211,14535,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,scottz,scottz,03/May/17 7:15 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,11/May/17 10:32 PM,,,,v1.0.0,,fabric-quality,,,,,,,0,quality,,,,,,,system test ID Gossip-C,,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxsjz:",,,,,,Sprint 11 - Quality,Sprint 12 - Quality,Sprint 13 - Quality,Sprint 14 - Quality,Sprint 15 - Quality,Sprint 16 - Quality,Sprint 18 - Quality,,,,,,,,,,,,,,,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
system test ID 12Hr-L,FAB-3599,16212,14535,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,scottz,scottz,03/May/17 7:15 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,11/May/17 10:32 PM,,,,v1.0.0,,fabric-quality,,,,,,,0,quality,,,,,,,system test ID 12Hr-L,,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxsk7:",,,,,,Sprint 11 - Quality,Sprint 12 - Quality,Sprint 13 - Quality,Sprint 14 - Quality,Sprint 15 - Quality,Sprint 16 - Quality,Sprint 18 - Quality,,,,,,,,,,,,,,,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
system test ID 12Hr-C,FAB-3600,16213,14535,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,scottz,scottz,03/May/17 7:15 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,11/May/17 10:32 PM,,,,v1.0.0,,fabric-quality,,,,,,,0,quality,,,,,,,system test ID 12Hr-C,,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxskf:",,,,,,Sprint 11 - Quality,Sprint 12 - Quality,Sprint 13 - Quality,Sprint 14 - Quality,Sprint 15 - Quality,Sprint 16 - Quality,Sprint 18 - Quality,,,,,,,,,,,,,,,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
system test ID 72Hr-L,FAB-3601,16214,14535,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,scottz,scottz,03/May/17 7:16 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,11/May/17 10:32 PM,,,,v1.0.0,,fabric-quality,,,,,,,0,quality,,,,,,,system test ID 72Hr-L,,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxskn:",,,,,,Sprint 11 - Quality,Sprint 12 - Quality,Sprint 13 - Quality,Sprint 14 - Quality,Sprint 15 - Quality,Sprint 16 - Quality,Sprint 18 - Quality,,,,,,,,,,,,,,,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
system test ID 72Hr-C,FAB-3602,16215,14535,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,scottz,scottz,03/May/17 7:16 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,11/May/17 10:32 PM,,,,v1.0.0,,fabric-quality,,,,,,,0,quality,,,,,,,system test ID 72Hr-C,,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxskv:",,,,,,Sprint 11 - Quality,Sprint 12 - Quality,Sprint 13 - Quality,Sprint 14 - Quality,Sprint 15 - Quality,Sprint 16 - Quality,Sprint 18 - Quality,,,,,,,,,,,,,,,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Enable more strict format checking,FAB-3603,16217,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,baohua,baohua,baohua,03/May/17 11:11 AM,21/Jul/18 3:54 AM,28/Oct/23 2:59 AM,02/Nov/17 8:14 PM,,,,Future,,fabric-quality,,,,,,,0,,,,,,,,"Now we only enable the goimports and go vet checking.

The following change should be done:

* Enable `go fmt` check on the main part of code.",,baohua,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzxslb:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,baohua,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"03/May/17 11:44 AM;baohua;https://gerrit.hyperledger.org/r/#/c/8861/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
e2e_cli sample improvements,FAB-3604,16218,,Epic,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,Ratnakar,Ratnakar,Ratnakar,03/May/17 12:03 PM,21/Jul/18 4:08 AM,28/Oct/23 2:59 AM,05/May/17 4:20 AM,,,,v1.0.0,,fabric-samples,,,,,,,0,quality,,,,,,,,,Ratnakar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,Unset,,,,,,,,Unset,,,,"1|hzxslj:",,,,Unset,Unset,,,,,,,,,,,,,,,,,,,,,,Ratnakar,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
maintain single docker-compose base file.,FAB-3605,16219,16218,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,Ratnakar,Ratnakar,Ratnakar,03/May/17 12:15 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,05/May/17 4:19 AM,,,,v1.0.0,,fabric-samples,,,,,,,0,,,,,,,,"Objective of this task is to maintain a single docker-compose base file.
1. derive a docker file with CLI container to run e2e test in cli container
2. derive a docker file with fabric-ca for SDK or any other component to consume
",,Ratnakar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxslr:",,,,,,,,,,,,,,,,,,,,,,,,,,,Ratnakar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Generate org certificates using cryptogen tool ,FAB-3606,16220,16218,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,Ratnakar,Ratnakar,Ratnakar,03/May/17 12:19 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,05/May/17 4:19 AM,,,,v1.0.0,,fabric-samples,,,,,,,0,quality,v1.0,,,,,,avoid using pre-loaded certs and generate the certs using cryptogen tool,,Ratnakar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxslz:",,,,,,,,,,,,,,,,,,,,,,,,,,,Ratnakar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Wrong log message in the flogging component,FAB-3607,16222,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,amber-zhang,amber-zhang,amber-zhang,03/May/17 2:11 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,09/May/17 3:55 AM,,,,,,fabric-peer,,,,,,,0,Usability,,,,,,,"This piece of log is from peer0. The first log looks weird. - CORE_LOGGING_GOSSIP=error is defined for all peers in docker-compose.yaml. But the 'error' is parsed as module name. 
 
zhangxqs-mbp:e2e_cli zhangxq$ docker logs peer0
2017-04-28 08:37:40.873 UTC [flogging] setModuleLevel -> DEBU 001 {color:red}Module 'error' {color}logger enabled for log level 'debug'
2017-04-28 08:37:40.889 UTC [ledgermgmt] initialize -> INFO 002 Initializing ledger mgmt
2017-04-28 08:37:40.890 UTC [kvledger] NewProvider -> INFO 003 Initializing ledger provider
2017-04-28 08:37:40.892 UTC [kvledger.util] CreateDirIfMissing -> DEBU 004 CreateDirIfMissing [/var/hyperledger/production/ledgersData/ledgerProvider/]
2017-04-28 08:37:40.893 UTC [kvledger.util] logDirStatus -> DEBU 005 Before creating dir - [/var/hyperledger/production/ledgersData/ledgerProvider/] does not exist
2017-04-28 08:37:40.895 UTC [kvledger.util] logDirStatus -> DEBU 006 After creating dir - [/var/hyperledger/production/ledgersData/ledgerProvider/] exists
 ",,amber-zhang,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxsmf:",,,,,,,,,,,,,,,,,,,,,,,,,,,amber-zhang,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"04/May/17 12:08 AM;wlahti;That logging message was actually related to the CORE_LOGGING_ERROR setting (which was used for the error handling framework) so it was an expected log message at the time. However, this setting has been removed via https://gerrit.hyperledger.org/r/#/c/8581/ (merged on April 26). Can you grab the latest code and ensure that this item can be closed?;;;","09/May/17 5:07 PM;amber-zhang;Hi Will,

 

The error doesn't exists in the latest code. thanks;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fail to connect to peer2 and peer3 from cli when run getlevel and setlevel,FAB-3608,16223,,Bug,Closed,FAB,Fabric,software,denyeart,,,Low,Done,amber-zhang,amber-zhang,amber-zhang,03/May/17 2:46 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,08/May/17 9:04 PM,,,,,,fabric-peer,,,,,,,0,,,,,,,,"
---------getlevel-------------------
root@3385917a20a4:/opt/gopath/src/github.com/hyperledger/fabric/peer# CORE_PEER_ADDRESS=peer0:7051 peer logging getlevel gossip/pull#peer0:7051
2017-05-03 05:39:43.060 UTC [cli/logging] getLevel -> INFO 001 Current log level for peer module 'gossip/pull#peer0:7051': CRITICAL
2017-05-03 05:39:43.060 UTC [main] main -> INFO 002 Exiting.....
root@3385917a20a4:/opt/gopath/src/github.com/hyperledger/fabric/peer# CORE_PEER_ADDRESS=peer1:7051 peer logging getlevel gossip/pull#peer1:7051
2017-05-03 05:39:52.906 UTC [cli/logging] getLevel -> INFO 001 Current log level for peer module 'gossip/pull#peer1:7051': WARNING
2017-05-03 05:39:52.906 UTC [main] main -> INFO 002 Exiting.....
root@3385917a20a4:/opt/gopath/src/github.com/hyperledger/fabric/peer# CORE_PEER_ADDRESS=peer2:7051 peer logging getlevel gossip/pull#peer2:7051
2017-05-03 05:40:06.385 UTC [cli/logging] getLevel -> WARN 001 PER:404 - Error trying to connect to local peer
/opt/gopath/src/github.com/hyperledger/fabric/peer/common/common.go:82 github.com/hyperledger/fabric/peer/common.GetAdminClient
/opt/gopath/src/github.com/hyperledger/fabric/peer/clilogging/getlevel.go:46 github.com/hyperledger/fabric/peer/clilogging.getLevel
/opt/gopath/src/github.com/hyperledger/fabric/peer/clilogging/getlevel.go:37 github.com/hyperledger/fabric/peer/clilogging.glob..func1
/opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/spf13/cobra/command.go:605 github.com/hyperledger/fabric/vendor/github.com/spf13/cobra.(*Command).execute
/opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/spf13/cobra/command.go:689 github.com/hyperledger/fabric/vendor/github.com/spf13/cobra.(*Command).ExecuteC
/opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/spf13/cobra/command.go:648 github.com/hyperledger/fabric/vendor/github.com/spf13/cobra.(*Command).Execute
/opt/gopath/src/github.com/hyperledger/fabric/peer/main.go:118 main.main
/opt/go/src/runtime/proc.go:192 runtime.main
/opt/go/src/runtime/asm_amd64.s:2087 runtime.goexit
Caused by: grpc: timed out when dialing
2017-05-03 05:40:06.385 UTC [main] main -> INFO 002 Exiting.....
root@3385917a20a4:/opt/gopath/src/github.com/hyperledger/fabric/peer# CORE_PEER_ADDRESS=peer3:7051 peer logging getlevel gossip/pull#peer3:7051
2017-05-03 05:40:19.738 UTC [cli/logging] getLevel -> WARN 001 PER:404 - Error trying to connect to local peer
/opt/gopath/src/github.com/hyperledger/fabric/peer/common/common.go:82 github.com/hyperledger/fabric/peer/common.GetAdminClient
/opt/gopath/src/github.com/hyperledger/fabric/peer/clilogging/getlevel.go:46 github.com/hyperledger/fabric/peer/clilogging.getLevel
/opt/gopath/src/github.com/hyperledger/fabric/peer/clilogging/getlevel.go:37 github.com/hyperledger/fabric/peer/clilogging.glob..func1
/opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/spf13/cobra/command.go:605 github.com/hyperledger/fabric/vendor/github.com/spf13/cobra.(*Command).execute
/opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/spf13/cobra/command.go:689 github.com/hyperledger/fabric/vendor/github.com/spf13/cobra.(*Command).ExecuteC
/opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/spf13/cobra/command.go:648 github.com/hyperledger/fabric/vendor/github.com/spf13/cobra.(*Command).Execute
/opt/gopath/src/github.com/hyperledger/fabric/peer/main.go:118 main.main
/opt/go/src/runtime/proc.go:192 runtime.main
/opt/go/src/runtime/asm_amd64.s:2087 runtime.goexit
Caused by: grpc: timed out when dialing
2017-05-03 05:40:19.738 UTC [main] main -> INFO 002 Exiting.....


---------------------------------setlevel---------------------

root@3385917a20a4:/opt/gopath/src/github.com/hyperledger/fabric/peer# CORE_PEER_ADDRESS=peer0:7051 peer logging setlevel gossip info         
2017-05-03 05:41:03.139 UTC [cli/logging] setLevel -> INFO 001 Log level set for peer module 'gossip': INFO
2017-05-03 05:41:03.139 UTC [main] main -> INFO 002 Exiting.....
root@3385917a20a4:/opt/gopath/src/github.com/hyperledger/fabric/peer# CORE_PEER_ADDRESS=peer1:7051 peer logging setlevel gossip info
2017-05-03 05:41:11.881 UTC [cli/logging] setLevel -> INFO 001 Log level set for peer module 'gossip': INFO
2017-05-03 05:41:11.881 UTC [main] main -> INFO 002 Exiting.....
root@3385917a20a4:/opt/gopath/src/github.com/hyperledger/fabric/peer# CORE_PEER_ADDRESS=peer2:7051 peer logging setlevel gossip info
2017-05-03 05:41:21.731 UTC [cli/logging] setLevel -> WARN 001 PER:404 - Error trying to connect to local peer
/opt/gopath/src/github.com/hyperledger/fabric/peer/common/common.go:82 github.com/hyperledger/fabric/peer/common.GetAdminClient
/opt/gopath/src/github.com/hyperledger/fabric/peer/clilogging/setlevel.go:47 github.com/hyperledger/fabric/peer/clilogging.setLevel
/opt/gopath/src/github.com/hyperledger/fabric/peer/clilogging/setlevel.go:38 github.com/hyperledger/fabric/peer/clilogging.glob..func4
/opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/spf13/cobra/command.go:605 github.com/hyperledger/fabric/vendor/github.com/spf13/cobra.(*Command).execute
/opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/spf13/cobra/command.go:689 github.com/hyperledger/fabric/vendor/github.com/spf13/cobra.(*Command).ExecuteC
/opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/spf13/cobra/command.go:648 github.com/hyperledger/fabric/vendor/github.com/spf13/cobra.(*Command).Execute
/opt/gopath/src/github.com/hyperledger/fabric/peer/main.go:118 main.main
/opt/go/src/runtime/proc.go:192 runtime.main
/opt/go/src/runtime/asm_amd64.s:2087 runtime.goexit
Caused by: grpc: timed out when dialing
2017-05-03 05:41:21.731 UTC [main] main -> INFO 002 Exiting.....
root@3385917a20a4:/opt/gopath/src/github.com/hyperledger/fabric/peer# CORE_PEER_ADDRESS=peer3:7051 peer logging setlevel gossip info
2017-05-03 05:41:38.769 UTC [cli/logging] setLevel -> WARN 001 PER:404 - Error trying to connect to local peer
/opt/gopath/src/github.com/hyperledger/fabric/peer/common/common.go:82 github.com/hyperledger/fabric/peer/common.GetAdminClient
/opt/gopath/src/github.com/hyperledger/fabric/peer/clilogging/setlevel.go:47 github.com/hyperledger/fabric/peer/clilogging.setLevel
/opt/gopath/src/github.com/hyperledger/fabric/peer/clilogging/setlevel.go:38 github.com/hyperledger/fabric/peer/clilogging.glob..func4
/opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/spf13/cobra/command.go:605 github.com/hyperledger/fabric/vendor/github.com/spf13/cobra.(*Command).execute
/opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/spf13/cobra/command.go:689 github.com/hyperledger/fabric/vendor/github.com/spf13/cobra.(*Command).ExecuteC
/opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/spf13/cobra/command.go:648 github.com/hyperledger/fabric/vendor/github.com/spf13/cobra.(*Command).Execute
/opt/gopath/src/github.com/hyperledger/fabric/peer/main.go:118 main.main
/opt/go/src/runtime/proc.go:192 runtime.main
/opt/go/src/runtime/asm_amd64.s:2087 runtime.goexit
Caused by: grpc: timed out when dialing
2017-05-03 05:41:38.770 UTC [main] main -> INFO 002 Exiting.....",,amber-zhang,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxsmn:",,,,,,,,,,,,,,,,,,,,,,,,,,,amber-zhang,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"04/May/17 2:20 AM;wlahti;Finally got around to investigating this one. It isn't actually a bug but instead a usage (or maybe a little bit of configuration) problem.

peer0 and peer1 are defined in docker-compose.yaml to include a few more environment variables, which is what allows CLI to run easily for those peers. 

peer2 and peer3 do not have those environment variables, so they either need to be added to your local docker-compose.yaml or specified when making the CLI calls.

For example:
{code}
CORE_PEER_MSPCONFIGPATH=/opt/gopath/src/github.com/hyperledger/fabric/examples/e2e_cli/crypto/peer/peer2/localMspConfig CORE_PEER_ADDRESS=peer2:7051 CORE_PEER_LOCALMSPID=""Org1MSP"" CORE_PEER_TLS_ROOTCERT_FILE=/opt/gopath/src/github.com/hyperledger/fabric/examples/e2e_cli/crypto/peer/peer2/localMspConfig/cacerts/peerOrg1.pem peer logging getlevel peer
{code}

With those environment variables, I'm able to successfully run the commands against peer2 and peer3. Note: I do notice a few unusual log statements from the 'msp' module but I see those even when running the peer0 and peer1 commands so it's unrelated. 

[~amber-zhang] Can you verify that the commands run after following the above recommendation?;;;","08/May/17 7:56 PM;amber-zhang;Hi Will,

Today I pull latest Fabric merged code. It works well with the env variables. thanks

 

root@f584c2ffab1d:/opt/gopath/src/github.com/hyperledger/fabric/peer# CORE_PEER_LOCALMSPID=""Org2MSP"" CORE_PEER_TLS_ROOTCERT_FILE=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/ca.crt CORE_PEER_MSPCONFIGPATH=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp CORE_PEER_ADDRESS=peer0.org2.example.com:7051 CORE_PEER_LOCALMSPID=""Org2MSP"" peer logging setlevel gossip warning

2017-05-08 10:50:45.809 UTC [cli/logging] setLevel -> INFO 004 Log level set for peer modules matching regular expression 'gossip': WARNING
2017-05-08 10:50:45.811 UTC [main] main -> INFO 005 Exiting.....

--------------

root@f584c2ffab1d:/opt/gopath/src/github.com/hyperledger/fabric/peer# CORE_PEER_LOCALMSPID=""Org2MSP"" CORE_PEER_TLS_ROOTCERT_FILE=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/ca.crt CORE_PEER_MSPCONFIGPATH=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp CORE_PEER_ADDRESS=peer0.org2.example.com:7051 CORE_PEER_LOCALMSPID=""Org2MSP"" peer logging getlevel gossip/state
2017-05-08 10:50:54.716 UTC [cli/logging] getLevel -> INFO 004 Current log level for peer module 'gossip/state': WARNING
2017-05-08 10:50:54.716 UTC [main] main -> INFO 005 Exiting.....

---------------------
root@f584c2ffab1d:/opt/gopath/src/github.com/hyperledger/fabric/peer# CORE_PEER_LOCALMSPID=""Org2MSP"" CORE_PEER_TLS_ROOTCERT_FILE=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/ca.crt CORE_PEER_MSPCONFIGPATH=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp CORE_PEER_ADDRESS=peer0.org2.example.com:7051 CORE_PEER_LOCALMSPID=""Org2MSP"" peer logging getlevel gossip/discovery

2017-05-08 10:50:59.343 UTC [cli/logging] getLevel -> INFO 004 Current log level for peer module 'gossip/discovery': WARNING
2017-05-08 10:50:59.343 UTC [main] main -> INFO 005 Exiting.....

 ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add subcommand docstring for peer cmd,FAB-3610,16226,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,baohua,baohua,baohua,03/May/17 3:40 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,09/May/17 9:24 PM,,,,v1.0.0,,,,,,,,,0,Endorser,,,,,,,"The existing docstring is too simple.

```bash
chaincode   chaincode specific commands.
  channel     channel specific commands.
  logging     logging specific commands.
  node        node specific commands.
  version     Print fabric peer version.
```

Add more sub-command docstring for the peer cmd, hence it would be more clear to know which subcommand to take.",,baohua,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxsnb:",,,,,,,,,,,,,,,,,,,,,,,,,,,baohua,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"09/May/17 9:24 PM;baohua;https://gerrit.hyperledger.org/r/#/c/8867/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add peer.address doc for peer cli usage,FAB-3612,16228,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,baohua,baohua,baohua,03/May/17 5:29 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,03/May/17 7:33 PM,,,,v1.0.0,,,,,,,,,0,Documentation,,,,,,,"
peer cli use peer.address as the endpoint to interact with, however, the core.yaml do not have the doc.",,baohua,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxsnr:",,,,,,,,,,,,,,,,,,,,,,,,,,,baohua,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"03/May/17 5:35 PM;baohua;http://gerrit.hyperledger.org/r/8871;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"When config block has no anchor peers, gossip considers channel as having no orgs",FAB-3613,16229,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,yacovm,yacovm,yacovm,03/May/17 5:56 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,05/May/17 10:19 PM,v1.0.0,,,,,fabric-gossip,,,,,,,0,gossip,,,,,,,"Since https://gerrit.hyperledger.org/r/#/c/7105/ is merged, when a channel is created- no anchor peers are supplied inside. 

There is a bug in gossip_service.go that if a config with an empty set of anchor peers for each org is given, the channel's membership (list of orgs) is considered empty, and then each peer considers itself alone in the channel.

",,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-290,,,,,,,,,,"1|hzxsnz:",,,,,,,,,,,,,,,,,,,,,,,,,,,yacovm,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add chaincode name checking in chaincodeInstall,FAB-3614,16230,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,baohua,baohua,baohua,03/May/17 5:57 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,02/Jun/17 4:17 AM,,,,v1.0.0,,fabric-peer,,,,,,,0,chaincode,,,,,,,"Currently, we only check chaincodePath and chaincodeVersion at the chaincodeInstall.

However, the name is needed for the following generateChaincode steps.",,baohua,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxso7:",,,,,,,,,,,,,,,,,,,,,,,,,,,baohua,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"03/May/17 6:03 PM;baohua;http://gerrit.hyperledger.org/r/8873;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
TestReConnections failed in CI,FAB-3615,16231,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,gennadyl,yacovm,yacovm,03/May/17 8:19 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,29/May/17 6:31 AM,v1.0.0-alpha1,,,v1.0.0,,fabric-gossip,,,,,,,0,gossip,,,,,,,"https://jenkins.hyperledger.org/job/fabric-verify-x86_64/10661/consoleFull

I think we need to add a timeout in:
{code}
func waitForMessages(t *testing.T, msgChan chan uint64, count int, errMsg string) {
	c := 0
	waiting := true
	ticker := time.NewTicker(time.Duration(10) * time.Second)
	for waiting {
		select {
		case <-msgChan:
			c++
			if c == count {
				waiting = false
			}
		case <-ticker.C:
			waiting = false
		}
	}
	assert.Equal(t, count, c, errMsg)
}
{code}

[~C0rWin] [~gennadyl]",,gennadyl,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-290,,,,,,,,,,"1|hzxsof:",,,,,,,,,,,,,,,,,,,,,,,,,,,gennadyl,yacovm,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"25/May/17 1:05 AM;gennadyl;It is look like TestPresumedDead test is failed;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
generateChaincode func mismatches the content,FAB-3616,16232,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,baohua,baohua,baohua,03/May/17 9:45 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,06/Jun/17 11:37 AM,,,,v1.0.0,,fabric-peer,,,,,,,0,chaincode,,,,,,,"
It actually generate the ChaincodeDeploymentSpec. Need to update the name to match.",,baohua,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxson:",,,,,,,,,,,,,,,,,,,,,,,,,,,baohua,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"03/May/17 9:49 PM;baohua;http://gerrit.hyperledger.org/r/8879;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add FindChaincodePackage function,FAB-3617,16233,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,baohua,baohua,baohua,03/May/17 9:58 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,10/May/17 3:40 PM,,,,v1.0.0,,fabric-peer,,,,,,,0,chaincode,,,,,,,"We need that function to test whether a chaincode is already installed.

Currently we use a GetChaincodePackage func, which needs to read in the file content.",,baohua,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxsov:",,,,,,,,,,,,,,,,,,,,,,,,,,,baohua,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"03/May/17 10:10 PM;baohua;http://gerrit.hyperledger.org/r/8881;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
extend error level down to 400 from 500,FAB-3618,16234,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,wlahti,muralisr,muralisr,03/May/17 10:11 PM,27/Jun/20 2:31 AM,28/Oct/23 2:59 AM,06/Jun/17 3:06 AM,,,,v1.0.0,,fabric-peer,,,,,,,5,,,,,,,,"[~binhn] in https://jira.hyperledger.org/browse/FAB-3548 defines error codes in the 400-500 range to follow HTTP codes. Some examples from that
* BadRequest = ""400""  	// Invalid inputs on API calls
* Forbidden = ""403"" // Forbidden due to access control issues
* NotFound = ""404"" // Not Found (eg chaincode not found)

(there are more).

These would be useful for chaincode developers too. In all these cases we likely don't want to endorse and allow a transaction to be created by default. ie, extend non-endorsing errors to >= 400 (from >= 500). 

We should have considered this earlier but need to fix this - if agreed to - before we 1.0.

Also noting that [~sanchezl] did already make this point while doing Java CC implementation. Whatever we decide here we need to make sure Java CC maintains parity with GO CC.",,binhn,ChristopherFerris,denyeart,mastersingh24,muralisr,troyronda,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABG-974,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxr4n:",,,,,,Sprint 16  - Endorser,,,,,,,,,,,,,,,,,,,,,binhn,ChristopherFerris,denyeart,mastersingh24,muralisr,troyronda,wlahti,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"24/May/17 10:28 PM;ChristopherFerris;this is not a bug, why is it classified as such? [~muralisr];;;","24/May/17 10:28 PM;ChristopherFerris;personally, I think that this should wait to post 1.0.;;;","25/May/17 2:29 AM;binhn;I changed the priority to ""high"" as this bug would allow bogus transactions to get into the ledger. We need to fix this for 1.0.;;;","25/May/17 10:54 AM;denyeart;Agree with Binh, this looks like an important bug to fix with relatively small risk.;;;","26/May/17 6:03 PM;mastersingh24;I am pretty sure I understand the issue, but I don't think it is clear to everyone.

[~muralisr]  I believe that we are saying we should change [https://github.com/hyperledger/fabric/blob/master/core/chaincode/shim/response.go#L28]  from 
{noformat}
ERROR=500
{noformat}
 to 
{noformat}
ERROR=400
{noformat}
?;;;","26/May/17 8:26 PM;muralisr;[~mastersingh24] right. Should have been clearer. Added the details so anyone can pick this JIRA up.;;;","29/May/17 1:26 PM;jimthematrix;+1, if I'm implementing ACL in my chaincode and I decided the Creator is not authorized, according to API spec I'd use 403 (not authorized) in my response. but that would be interpreted by the validation as non-error (endorsement succeeded).;;;","30/May/17 4:06 AM;ChristopherFerris;If this gets approved (I won't be the last one to vote, since I think this is just creeping improvements) then I will INSIST that it be a single comprehensive change that addresses the fix, the tests and the documentation, and any example/sample in the code base that is affected. Over all, I think this could wait. It may not be ideal, but it IS an API change and we are supposedly frozen vis our API and SPI.;;;","30/May/17 4:08 AM;ChristopherFerris;I'll also note that IMNSHO this is not a bug but as designed and hence an improvement.;;;","31/May/17 2:09 PM;denyeart;I dont think anybody would by design indicate that a 403 (not authorized) should result in an endorsement.  This looks like an oversight/bug that needs to be fixed.  We can't be changing fundamental behavior after 1.0, therefore need to fix before 1.0.;;;","01/Jun/17 2:35 AM;ChristopherFerris;Quite possibly then, there is some lack of clarity on the nature of this change. It isn't clear that there IS actually a bug, it seems to me that the request is to align the error codes for chaincode developers. It may result in misunderstanding, I suppose, and yes, it will mean an API change but as I have noted elsewhere, every time we do this, we create inconsistencies in the documentation (or omit it altogether) and there are likely other areas that need to be addressed. 

 

In other words, this is no small change and IMO it really needs to be considered carefully before we merge such a change, as it introduces an API change when we have previously said that the API is FROZEN.

 ;;;","01/Jun/17 10:28 PM;muralisr;[~ChristopherFerris] we have changing  interpretation of what the ""error"" is. You are right that its not a bug in the sense that it is working as designed (we didn't by mistake say 500 when we meant 400). However, this change will invalidate all TXs stored in the ledger prior to the change with Errors in the range 400-500. If we don't mind that then we can do post 1.0.

Suggest we have [~wlahti] put out a CR to assess the extent of changes and go from there ?;;;","01/Jun/17 10:55 PM;ChristopherFerris;Ok, so if I understand this (and thanks [~denyeart] and [~muralisr] for clarifying) if we do not change this before 1.0, any change we make post 1.0 will mean that if I have a network deployed with v1.0.0 level code, and I upgrade to the post 1.0 level code with this change, that committed transactions in the ledger prior to the upgrade will be invalidated? Have I got that correct? That changes my understanding considerably.

 

However, and I will say this again I am sure, I'm willing to bet a considerable amount of beers that this will not be the only breaking change that we might consider post 1.0 because of anything we know now or because of any feedback/experience we get from having 1.0 deployed.;;;","01/Jun/17 11:07 PM;muralisr;_>I upgrade to the post 1.0 level code with this change, that_ _committed transactions in the ledger prior to the upgrade will be invalidated_

That's right [~ChristopherFerris] (I'd have said , ""ledger will contain txs that would not have been committed post 1.0"" but the spirit is right. The ledger will have ambiguous/inconsistent txs).

... and I'm _NOT_ taking you up on the bet :) .;;;","02/Jun/17 12:01 AM;ChristopherFerris;OK, I AM CHANGING MY VOTE. to apply Gari's suggested fix https://jira.hyperledger.org/browse/FAB-3618?focusedCommentId=24415&page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel#comment-24415

 

It also needs to be documented CLEARLY;;;","02/Jun/17 12:02 AM;ChristopherFerris;issue has reached the necessary 5 votes, and a CR may be submitted and merged.;;;","03/Jun/17 2:41 AM;wlahti;After discussing with [~muralisr], the plan is to create a new constant, ERRORTHRESHOLD, which will be set to 400. The endorser will use this constant to determine whether to endorse/reject a proposal while shim.ERROR will still be used as the generic error status code of 500 (calls to shim.Error(msg) use this constant to set the status). ;;;","03/Jun/17 3:59 AM;muralisr;A bit of explanation for ERRORTHRESHOLD - basically don't overload ERROR to be both a value of an error *and*  a threshold to test against. Separating them out makes for fewer implementation changes and keeps it clean.;;;","03/Jun/17 4:58 AM;wlahti;CR out for review: https://gerrit.hyperledger.org/r/#/c/10085/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
option to specify number of zookeepers,FAB-3619,16238,16071,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,dongming,scottz,scottz,03/May/17 11:06 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,30/Aug/17 5:03 AM,,,,v1.0.0,,fabric-quality,,,,,,,0,quality,,,,,,,"v1Launcher needs an option to specify number of zookeepers, and functionality to start the requested number (instead of always using one)",,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxsp3:",,,,,,Sprint 19 - Quality,,,,,,,,,,,,,,,,,,,,,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
cleanup script for networkLauncher to use,FAB-3620,16239,16071,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,dongming,scottz,scottz,03/May/17 11:15 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,31/Aug/17 9:41 PM,,,,v1.0.0,,fabric-quality,,,,,,,0,quality,,,,,,,"CI daily test scripts are being written to call PTE tool multiple times to run tests. Each test must first call  networkLauncher, which must create a network using parameters specified on command line. We should provide a nice cleanup script in the networkLauncher directory that can be called to clean up (before starting another test). The following steps are captured from some getting-started script steps; maybe we can put these and anything else needed into a bash script called networkDown.sh :

rm -rf /tmp/hfc-*; rm -rf ~/.hfc-key-store

function networkDown () {
        #docker-compose  down
        docker-compose down
        #Cleanup the chaincode containers
        clearContainers
        #Cleanup images
        removeUnwantedImages
        # remove orderer block and channel creation transactions and crypto material
        #### need to use appropriate default directories MSPDIR and CRYPTODIR used by NL.
        rm -rf $MSPDIR/orderer.block $MSPDIR/channel*.tx $CRYPTODIR/crypto-config
}

function clearContainers () {
        CONTAINER_IDS=$(docker ps -aq)
        if [ -z ""$CONTAINER_IDS"" -o ""$CONTAINER_IDS"" = "" "" ]; then
                echo ""---- No containers available for deletion ----""
        else
                docker rm -f $CONTAINER_IDS
        fi
}

function removeUnwantedImages() {
        DOCKER_IMAGE_IDS=$(docker images | grep ""dev\|none\|test-vp\|peer[0-9]-"" | awk '{print $3}')
        if [ -z ""$DOCKER_IMAGE_IDS"" -o ""$DOCKER_IMAGE_IDS"" = "" "" ]; then
                echo ""---- No images available for deletion ----""
        else
                docker rmi -f $DOCKER_IMAGE_IDS
        fi
}",,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxspb:",,,,,,Sprint 19 - Quality,,,,,,,,,,,,,,,,,,,,,scottz,,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As a member of a network who runs a peer, I want to be able to support clients who transact with the network with a limited scope of permissions",FAB-3621,16240,,Story,Closed,FAB,Fabric,software,denyeart,,,High,Done,muralisr,mastersingh24,mastersingh24,03/May/17 11:18 PM,21/Jul/18 3:55 AM,28/Oct/23 2:59 AM,09/Mar/18 4:08 AM,,,,v1.1.0,,fabric-peer,,,,,,,8,Release-planning-1.1-TechPreview,sdk,,,,,,"Currently, access control is scoped by organization at the channel level. This means that clients / peers are interchangeable in many cases.

The desire here is to limit the scope of what clients who transact can actually do.
 Examples include:

1) Request endorsements and query chaincode
 2) Submit transactions to the orderer
 3) No access to gossip network
 4) No access to blocks only to their transactions
 5) Related to 4 - events payload should be limited to transaction IDs if that is what is used to asynchronously learn the status of their transaction

 

The original intent was to introduce the concept of client orgs

A design doc is at https://docs.google.com/document/d/1oaR7IlpNCV6udvLhDootRtoruEvOrxByYVN4BQ___0A",,caoyu,ChristopherFerris,denyeart,DrVadson,elli-androulaki,Hangyu_FJH,Joseph580307,jyellick,mastersingh24,muralisr,nnao,rickr,troyronda,username343,wutongtree,yacovm,,,,,,,,,86400,57600,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-6455,,,,,,,,,,,FAB-3134,FAB-3138,FAB-3151,FAB-3302,FAB-8727,FAB-5664,FAB-6546,FAB-7556,FAB-7746,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzxspj:",,,,Unset,,,,,,,,,,,4.0,Unset,,,,,,,,,,,caoyu,ChristopherFerris,denyeart,DrVadson,elli-androulaki,Hangyu_FJH,Joseph580307,jyellick,mastersingh24,muralisr,nnao,rickr,troyronda,username343,wutongtree,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"03/May/17 11:37 PM;mastersingh24;[~troyronda] - we'll add additional features / stories here for the relevant items.  Note - I'm including the event stuff here as well since it seems applicable to the client role / access control;;;","05/Jul/17 10:46 PM;jyellick;A quick note, for:

> 1) Request endorsements and query chaincode

This is governed by /Channel/Application/Readers and /Channel/Application/Writers

> 2) Submit transactions to the orderer

This is governed by the /Channel/Readers and /Channel/Writers

By default (2) is a superset of (1), but this is merely a default, tweaking the configuration even with the current level of code would allow independent control over each of these.;;;","19/Jul/17 10:31 PM;muralisr;doc https://docs.google.com/document/d/1oaR7IlpNCV6udvLhDootRtoruEvOrxByYVN4BQ___0A/edit#heading=h.ktncy1i0kquz;;;","03/Aug/17 10:06 AM;muralisr; How does this design implement requirements as stated in Description :
|Request Proposal and chaincode queries|/Channel/Application/Writers|/RSCC/PROPOSE|ClientMSP1.*|
|Query QSCC for blocks|/Channel/Application/Readers|/RSCC/QSCC_GETBLOCK|ClientMSP1.Admin or ClientMSP2.Admin|
|Submit TXs|/Channel/Writers|/Channel/Writers|ClientMSP1.*|
|access to blocks.|Hard to implement without permitting/denying other functions (need to be not part of /Channel/Application/READERS .. but this would also deny a whole bunch of other resources)|/RSCC/QSCC_GETBLOCKS|ClientMSP1.Admin or ClientMSP2.Admin|
|Access only to their TXs|Not implemented, too fine grained|Not implemented currently, too fine grained|—|
|Events payload (this is full Block with all data)|All who are part of local msp admin|/RSCC/EVENTBLOCK|Org1.ADMIN|
|Filtered Events payload (this is events with just TXID and ChaincodeEvent ID)|Not available|/RSCC/FILTEREDEVENTBLOCK|ClientMSP1.Admin or ClientMSP2.Admin| |
|access to blocks.|Hard to implement without permitting/denying other functions (need to be not part of /Channel/Application/READERS .. but this would also deny a whole bunch of other resources)|/RSCC/QSCC_GETBLOCKS|ClientMSP1.Admin or ClientMSP2.Admin|
|Access only to their TXs|Not implemented, too fine grained|Not implemented currently, too fine grained|—|
|Events payload (this is full Block with all data)|All who are part of local msp admin|/RSCC/EVENTBLOCK|Org1.ADMIN|
|Filtered Events payload (this is events with just TXID and ChaincodeEvent ID)|Not available|/RSCC/FILTEREDEVENTBLOCK|ClientMSP1.Admin or ClientMSP2.Admin|

 

*Note* - that “Submit TXs” uses same policy “/Channel/WRITERS”. This is because now that we have moved /Channel/Application/\{READERS,WRITERS} to a separate (fine-grained) namespace, “/Channel/WRITERS” can be used to unambiguously reserved for “Submit TXs”.

*Note* - The current work is about making policies fine grained so we can have control on various resources. Ultimately the policies are expressed via MSP principal based primitives (Roles, OU identity). *This work does not specify how those primitives should be used.*

*Note* - The “example” column goes to the extreme of creating new “client” MSPs – just to show that can be done too.

*Note* -  we have to strike a balance between too fine-grained policies and the (current) coarse grained policies.  For example, while it might make sense to have a policy on blocks or events, it may not make sense to have policies on transactions within block or chaincode based event.;;;","03/Aug/17 10:27 PM;yacovm;{quote}Access to gossip 	/Channel/Application/READERS 	/RSCC/GOSSIPCLIENT{quote}

This one needs to be left inside the config block and not in the stateDB ;;;","03/Aug/17 10:58 PM;muralisr;[~yacovm] Initialization of RSCC done at the time of joining comes from the config block. But I can see that this is not really ""application"" resource (ie, ""only valid peers can gossip"") and should be treated as a regular channel configuration.

Will change appropriately.;;;","11/Aug/17 10:41 PM;ChristopherFerris;This has the five votes needed.;;;","30/Aug/17 11:28 PM;rickr;[~mastersingh24] [~muralisr] [~jimthematrix]
 * Can we get a short summary how this would impact sdk client code.  (ie protofbuf changes?, updating orderer channel blocks) 


 * An approximate ETA for this to be merged into 1.1 branch ?

 ;;;","01/Sep/17 9:13 PM;elli-androulaki;Hi, Wouldn't this CR introduce forward incompatibility issues? 

E.g., v1.0 peers who receive JoinChannel request with the RSCC enhancement, will fail no?

Should we be concerned about this? [~muralisr], [~jyellick], [~angelo.decaro], [~mastersingh24], what do you think?;;;","22/Sep/17 9:44 PM;muralisr;[~elli-androulaki] I think there is already code in latest master that introduces compatibility issues with 1.0 (ie, this is not the first). In any case, ""rscc: disabled"" in core.yaml will (should) produce 1.0 behavior.  ;;;","22/Sep/17 9:45 PM;muralisr;https://www.youtube.com/watch?v=RxsAoOlwEd8 demos this work.;;;","09/Mar/18 4:07 AM;denyeart;Experimental features delivered in 1.1.
Will be finalized and made a production feature in 1.2 via FAB-8727.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update Fabric-CA APIs with json tag for field 'CAName',FAB-3622,16241,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,skarim,skarim,skarim,03/May/17 11:53 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,27/Nov/17 11:01 AM,,,,v1.0.0,,fabric-sdk-py,,,,,,,0,,,,,,,,"A new field has been introduced to the Fabric-CA APIs called 'CAName' to support multiple CAs running in a single Fabric-CA server. A JSON tag is needed for this field, and all SDKs must take this into account in their REST calls. 

Swagger documentation also needs to be updated to reflect this new field",,denyeart,skarim,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxspr:",,,,,,Sprint 16 - Membership Service,,,,,,,,,,,,,,,,,,,,,denyeart,skarim,,,,,,,,,,,,,,,,,,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"04/May/17 1:20 AM;skarim;https://gerrit.hyperledger.org/r/#/c/8901/;;;","27/Nov/17 11:01 AM;denyeart;[~skarim] Looks like this is merged and all SDK subtasks are Done.  Closing.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Node SDK needs to update REST calls to use caname,FAB-3623,16242,16241,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jimthematrix,skarim,skarim,03/May/17 11:54 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,10/May/17 11:17 PM,,,,v1.0.0,,fabric-sdk-node,,,,,,,0,,,,,,,,Node SDK needs to update REST calls to use caname,,skarim,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxspz:",,,,,,Sprint 16 - Membership Service,,,,,,,,,,,,,,,,,,,,,skarim,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"10/May/17 11:17 PM;jimthematrix;fixed as part of https://gerrit.hyperledger.org/r/#/c/8823/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
GO SDK needs to update REST calls to use caname,FAB-3624,16243,16241,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,aleksandar.likic@gmail.com,skarim,skarim,03/May/17 11:55 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,17/Jul/17 4:58 PM,,,,v1.0.0,,fabric-sdk-go,,,,,,,0,,,,,,,,GO SDK needs to update REST calls to use caname,,skarim,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxsq7:",,,,,,Sprint 16 - Membership Service,,,,,,,,,,,,,,,,,,,,,skarim,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Java SDK needs to update REST calls to use caname,FAB-3625,16244,16241,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rickr,skarim,skarim,03/May/17 11:55 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,06/May/17 11:56 PM,,,,v1.0.0,,fabric-sdk-java,,,,,,,0,,,,,,,,Java SDK needs to update REST calls to use caname,,rickr,skarim,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxsqf:",,,,,,Sprint 16 - Membership Service,,,,,,,,,,,,,,,,,,,,,rickr,skarim,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"06/May/17 11:56 PM;rickr;Fixed in https://gerrit.hyperledger.org/r/#/c/8471/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Python SDK needs to update REST calls to use caname,FAB-3626,16245,16241,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,SeeGo,skarim,skarim,03/May/17 11:55 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,15/Nov/17 2:17 PM,,,,v1.0.0,,fabric-sdk-py,,,,,,,0,,,,,,,,Python SDK needs to update REST calls to use caname,,skarim,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxsqn:",,,,,,Sprint 16 - Membership Service,,,,,,,,,,,,,,,,,,,,,skarim,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove unused gossip lib code from bdd tests,FAB-3627,16246,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,baohua,baohua,baohua,04/May/17 12:21 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,05/May/17 2:28 AM,,,,v1.0.0,,fabric-samples,,,,,,,0,,,,,,,,"Confirmed with the maintainer Jeff, the bdd tests do not use the gossip lib python code anymore.",,baohua,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxsqv:",,,,,,,,,,,,,,,,,,,,,,,,,,,baohua,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"04/May/17 12:26 AM;baohua;http://gerrit.hyperledger.org/r/8895;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add config file for generating crypto material,FAB-3628,16247,13231,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,latitiah,latitiah,latitiah,04/May/17 12:42 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,11/May/17 11:39 PM,,,,,,fabric-quality,,,,,,,0,quality,,,,,,,The feature and system behave framework should use a config utility when executing certain configuration steps of the bootstrapping process.,,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxsr3:",,,,,,Sprint 19 - Quality,,,,,,,,,,,,,,,,,,,,,latitiah,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Move Fabric-CA documentation from fabric repo to fabric-ca repo,FAB-3629,16248,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,skarim,skarim,skarim,04/May/17 1:19 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,08/May/17 3:35 AM,,,,v1.0.0,,fabric-ca,,,,,,,0,,,,,,,,Currently the Fabric-CA documentation lives in the fabric repository. Moving the Fabric-CA related documentation over into the fabric-ca repository. ,,skarim,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxsrb:",,,,,,Sprint 16 - Membership Service,,,,,,,,,,,,,,,,,,,,,skarim,,,,,,,,,,,,,,,,,,,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Start continous documentation build process on fabric-ca docs,FAB-3630,16249,16248,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,skarim,skarim,04/May/17 1:23 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,30/May/17 11:12 PM,v1.0.0,,,v1.0.0,,fabric-build,,,,,,,0,build-system,,,,,,,Start continous documentation build process on fabric-ca docs,,rameshthoomu,skarim,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3682,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxsrj:",,,,,,Sprint 16 - Membership Service,,,,,,,,,,,,,,,,,,,,,rameshthoomu,skarim,,,,,,,,,,,,,,,,,,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"09/May/17 1:06 AM;rameshthoomu;Keith doesn't have permissions to create webhook in github. Have to check with Chris.;;;","25/May/17 10:40 PM;rameshthoomu;Submitted patch to build documentation build process using RTD (ReadTheDocs) https://gerrit.hyperledger.org/r/#/c/9723/;;;","30/May/17 11:12 PM;rameshthoomu;Submitted patch set and it's merged.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Improve code coverage for orderer component,FAB-3631,16261,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,guoger,sanchezl,sanchezl,04/May/17 1:43 AM,21/Jul/18 3:56 AM,28/Oct/23 2:59 AM,15/Aug/17 2:24 PM,v1.0.0-alpha1,,,v1.0.0,,fabric-orderer,,,,,,,0,common-components,,,,,,,"Improve coverage for the following packages:
github.com/hyperledger/fabric/orderer
github.com/hyperledger/fabric/orderer/ledger/ram
github.com/hyperledger/fabric/orderer/multichain
github.com/hyperledger/fabric/orderer/mocks/blockcutter
github.com/hyperledger/fabric/orderer/ledger/json
github.com/hyperledger/fabric/orderer/mocks/multichain
github.com/hyperledger/fabric/orderer/common/deliver
github.com/hyperledger/fabric/orderer/common/broadcast
github.com/hyperledger/fabric/orderer/localconfig
github.com/hyperledger/fabric/orderer/ledger/file
github.com/hyperledger/fabric/common/mocks/configvalues/channel/orderer
github.com/hyperledger/fabric/orderer/configupdate
github.com/hyperledger/fabric/orderer/ledger
github.com/hyperledger/fabric/orderer/solo
github.com/hyperledger/fabric/orderer/common/configtxfilter
github.com/hyperledger/fabric/orderer/common/filter
github.com/hyperledger/fabric/orderer/common/blockcutter
github.com/hyperledger/fabric/orderer/common/bootstrap/file
github.com/hyperledger/fabric/orderer/common/sigfilter
github.com/hyperledger/fabric/orderer/common/sizefilter
github.com/hyperledger/fabric/orderer/kafka",,guoger,sanchezl,,,,,,,,,,,,,,,,,,,,,,,144000,28800,172800,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzxsrz:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,guoger,sanchezl,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add setup and teardown functions,FAB-3633,16263,13850,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,latitiah,latitiah,latitiah,04/May/17 3:11 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,24/May/17 4:43 AM,,,,,,fabric-quality,,,,,,,0,quality,,,,,,,The feature and system behave framework needs to be able to setup and teardown network and config data in between tests as needed.,,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxssn:",,,,,,Sprint 10 - Quality,Sprint 11 - Quality,Sprint 12 - Quality,Sprint 13 - Quality,Sprint 14 - Quality,Sprint 15 - Quality,Sprint 16 - Quality,Sprint 19 - Quality,,,,,,,,,,,,,,latitiah,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add remote_util,FAB-3634,16264,13850,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,latitiah,latitiah,latitiah,04/May/17 3:15 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,02/Nov/17 2:59 AM,,,,,,fabric-quality,,,,,,,0,,,,,,,,"The following REST APIs are needed in order to execute on remote established systems:
* stop a container (orderer, peer, ca, chaincode)
* start a container
* restart a container
* status of a container
* status of the network (what containers are running and their status)
* add a new peer
* download/access the system to get the channel config transaction file
* ability to upload a new transaction file
* get logs for each container

",,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-536,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxssv:",,,,,,Sprint 10 - Quality,Sprint 11 - Quality,Sprint 12 - Quality,Sprint 13 - Quality,Sprint 14 - Quality,Sprint 15 - Quality,Sprint 16 - Quality,Sprint 19 - Quality,,,,,,,,,,,,,,latitiah,,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add feature file for testing bootstrapping network,FAB-3635,16265,13231,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,latitiah,latitiah,latitiah,04/May/17 3:17 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,16/Aug/17 12:25 AM,,,,,,fabric-quality,,,,,,,0,,,,,,,,"The following are the details for these tests.
 * +Component+:  bootstrap
 * +Description+:  Testing the bootstrapping of a network verifying that everything is in place and that all components in the network come up successfully
 * +Artifact Locations+:  test/feature/bootstrap.feature
 * +Network Topology+:  1 orderer (kafka and solo), 4 peers
 * +Client Driver+: behave",,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3847,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxst3:",,,,,,Sprint 19 - Quality,,,,,,,,,,,,,,,,,,,,,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"18/Jul/17 5:57 AM;latitiah;https://gerrit.hyperledger.org/r/11713;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Do not ignore error, while associating between peer id and cert, creating new communication instance",FAB-3636,16266,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,C0rWin,C0rWin,C0rWin,04/May/17 3:21 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,05/May/17 12:06 AM,,,,v1.0.0,,fabric-gossip,,,,,,,0,beta,gossip,,,,,,"Currently while creating new communication instance with {{NewCommInstanceWithServer}} method from *comm_impl.go*, there a code which associate peer identity to the peer certificate by storing the mapping. Code:

{code}
	commInst.connStore = newConnStore(commInst, commInst.logger)
	commInst.idMapper.Put(idMapper.GetPKIidOfCert(peerIdentity), peerIdentity)
{code}

While the code of the {{Put}} method assumes error case:

{code}
// put associates an identity to its given pkiID, and returns an error
// in case the given pkiID doesn't match the identity
func (is *identityMapperImpl) Put(pkiID common.PKIidType, identity api.PeerIdentityType) error {
	if pkiID == nil {
		return errors.New(""PKIID is nil"")
	}
	if identity == nil {
		return errors.New(""identity is nil"")
	}

	if err := is.mcs.ValidateIdentity(identity); err != nil {
		return err
	}

	id := is.mcs.GetPKIidOfCert(identity)
	if !bytes.Equal(pkiID, id) {
		return errors.New(""identity doesn't match the computed pkiID"")
	}

	is.Lock()
	defer is.Unlock()
	is.pkiID2Cert[string(id)] = newStoredIdentity(identity)
	return nil
}
{code}

That means the error might be returned by calling to

{code}
     commInst.idMapper.Put(idMapper.GetPKIidOfCert(peerIdentity), peerIdentity)
{code}

while this is *VERY* unlikely to happen, we still should not ignore the error and therefore check the result and since there is nothing that could be done and actually having such error is clear indication of something really bad has happened we need to add panic to propagate the error.",,C0rWin,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-290,,,,,,,,,,"1|hzxstj:",,,,,,Sprint 16 - Gossip,,,,,,,,,,,,,,,,,,,,,C0rWin,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"04/May/17 3:33 AM;C0rWin;https://gerrit.hyperledger.org/r/#/c/8911/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
chaincode invocation on peer fails when CORE_PEER_GOSSIP_ORGLEADER=false,FAB-3637,16267,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,dzhoou,dzhoou,04/May/17 3:27 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,07/Jun/17 9:00 PM,v1.0.0-alpha1,,,DUPLICATE,,fabric-peer,,,,,,,0,,,,,,,,"When a peer is not set as the gossip org leader (CORE_PEER_GOSSIP_ORGLEADER=false), invocations to chaincode hosted on this peer will result in an error in the form of 
{code}
Error: transaction CHAINCODE/CHANNEL not found
{code}
Need confirmation on whether it is an intended behavior.",,dzhoou,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxstr:",,,,,,,,,,,,,,,,,,,,,,,,,,,dzhoou,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"05/May/17 11:49 PM;dzhoou;Issue updated in [FAB-3680|https://jira.hyperledger.org/browse/FAB-3680];;;","02/Jun/17 6:35 AM;muralisr;[~dzhoou] this is a dup of FAB-3680 correct ? If so can you close this please ?;;;","06/Jun/17 9:41 PM;muralisr;[~dzhoou] going to mark this as  a dup of FAB-3680 ... please change it if you disagree.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Improve test coverage for core/chaincode/platforms/util package,FAB-3638,16268,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,aambati,aambati,aambati,04/May/17 3:51 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,30/May/17 8:39 AM,,,,,,fabric-peer,,,,,,,0,,,,,,,,"Improve test coverage for core/chaincode/platforms/util package

 ",,aambati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxstz:",,,,,,,,,,,,,,,,,,,,,,,,,,,aambati,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"04/May/17 3:55 AM;aambati;https://gerrit.hyperledger.org/r/#/c/8913/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
orderer docker container should not set ORDERER_GENERAL_GENESISPROFILE,FAB-3641,16296,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,greg.haskins,greg.haskins,greg.haskins,04/May/17 4:49 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,05/May/17 2:28 AM,,,,v1.0.0,,fabric-orderer,,,,,,,0,,,,,,,,"The baseline container for the orderer sets the genesis profile in the ENV.  This is bad because it means that it will always override any configuration file that a consumer may use, such as in /etc/hyperledger/fabric.  Instead, we should set any defaults in the sampleconfig/orderer.yaml and allow the user to choose how they would like to override (if at all)",,greg.haskins,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxtaf:",,,,,,,,,,,,,,,,,,,,,,,,,,,greg.haskins,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Improve unit test coverage for common/configtx/tool/configtxgen,FAB-3642,16304,,Story,Closed,FAB,Fabric,software,denyeart,,,Low,Done,yuki-kon,yuki-kon,yuki-kon,04/May/17 5:42 AM,21/Jul/18 3:56 AM,28/Oct/23 2:59 AM,02/Jun/17 10:05 AM,,,,v1.0.0,,fabric-orderer,,,,,,,0,configuration,,,,,,,"Improve unit test coverage for common/configtx/tool/configtxgen. 
",,kchristidis,yuki-kon,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzxtbj:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,kchristidis,yuki-kon,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"05/May/17 1:27 AM;yuki-kon;A patch set is here. https://gerrit.hyperledger.org/r/#/c/8917/;;;","20/May/17 5:15 AM;yuki-kon;Hello Maintainers. Could you review the patch set? ;;;","24/May/17 5:47 AM;kchristidis;FYI [~jyellick];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
gossip layer is not respecting peer.gossip.endpoint configuration,FAB-3643,16305,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,greg.haskins,greg.haskins,greg.haskins,04/May/17 5:52 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,04/May/17 5:43 PM,,,,v1.0.0,,fabric-gossip,,,,,,,0,,,,,,,,This can be particularly problematic with TLS enabled since the endpoint representation becomes critically important to the x509 validation.,,greg.haskins,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxtbr:",,,,,,,,,,,,,,,,,,,,,,,,,,,greg.haskins,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"04/May/17 6:04 AM;greg.haskins;https://gerrit.hyperledger.org/r/#/c/8923/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Instantiation proposals have increased in size,FAB-3645,16307,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,muralisr,kchristidis,kchristidis,04/May/17 7:16 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,06/May/17 5:36 PM,,,,v1.0.0,,fabric-peer,,,,,,,0,,,,,,,,"An endorsed instantiation proposal for chaincode02 used to be 4KB, and now it's around 16MB.

This change seems to have taken effect three weeks ago or so.

See attached screenshots from [~jeffgarratt]'s `bootstrap.feature` test, which is using the chaincode located in: github.com/hyperledger/fabric/examples/chaincode/go/chaincode_example02 -- focus on the ""dev0org0-instantiatetx1.protobuf"" file.",,kchristidis,mastersingh24,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"04/May/17 7:15 AM;kchristidis;after.png;https://jira.hyperledger.org/secure/attachment/10703/after.png","04/May/17 7:15 AM;kchristidis;before.png;https://jira.hyperledger.org/secure/attachment/10704/before.png",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxtc7:",,,,,,,,,,,,,,,,,,,,,,,,,,,kchristidis,mastersingh24,muralisr,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"06/May/17 8:04 AM;muralisr;LSCC return ChaincodeData. ChaincodeData.Data contains chaincode bytes instead of hash.;;;","06/May/17 5:36 PM;mastersingh24;https://gerrit.hyperledger.org/r/#/c/9031/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
../signcerts: no such file or directory,FAB-3646,16308,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,,pvrbharg,pvrbharg,04/May/17 9:43 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,01/Jun/17 10:51 PM,v1.0.0-alpha1,,,v1.0.0,,fabric-docs,,,,,,,0,broken,,,,,,,"Hi, I am following the steps listed at this URL - 
https://github.com/hyperledger/fabric/blob/fd623d18ad5ed1611939ea1b98c8a06534fc4c11/docs/source/getting_startedv2.rst 
and 
I am failing on the indicated step:

+++
CORE_PEER_MSPCONFIGPATH=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/ordererOrganizations/example.com/orderers/orderer.example.com CORE_PEER_LOCALMSPID=""OrdererMSP"" peer channel create -o orderer.example.com:7050 -c mychannel -f channel.tx
+++

I am running in Ubuntu 16.04 and I was able to succeed prior to most recent refresh (like 10 days ago).


root@36145c23687e:/opt/gopath/src/github.com/hyperledger/fabric/peer# ls
channel.tx crypto scripts

root@36145c23687e:/opt/gopath/src/github.com/hyperledger/fabric/peer# CORE_PEER_MSPCONFIGPATH=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/ordererOrganizations/example.com/orderers/orderer.example.com CORE_PEER_LOCALMSPID=""OrdererMSP"" peer channel create -o orderer.example.com:7050 -c mychannel -f channel.tx
panic: Fatal error when setting up MSP from directory /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/ordererOrganizations/example.com/orderers/orderer.example.com: err Could not load a valid signer certificate from directory /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/ordererOrganizations/example.com/orderers/orderer.example.com/signcerts, err Could not read directory open /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/ordererOrganizations/example.com/orderers/orderer.example.com/signcerts: no such file or directory, err /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/ordererOrganizations/example.com/orderers/orderer.example.com/signcerts


goroutine 1 [running]:
panic(0xbe1b00, 0xc42020e970)
/opt/go/src/runtime/panic.go:500 +0x1a1
main.main()
/opt/gopath/src/github.com/hyperledger/fabric/peer/main.go:107 +0x67a
root@36145c23687e:/opt/gopath/src/github.com/hyperledger/fabric/peer#

Can you please help and guide me?",,markparz,mastersingh24,pvrbharg,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxtcf:",,,,,,,,,,,,,,,,,,,,,,,,,,,markparz,mastersingh24,pvrbharg,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"01/Jun/17 8:52 AM;mastersingh24;I'm not sure I see a bug here.  The error message seems to be clear and correct.  Is this a bug against the doc?;;;","01/Jun/17 10:51 PM;markparz;I agree with [~mastersingh24]

[~pvrbharg] The error message is showing the issue with your crypto directory. There was a mismatch with the old getting started and the level of code you were using. If you go back and use the current getting started you'll be in good shape.

peer channel create -o orderer.example.com:7050 -c $CHANNEL_NAME -f ./channel-artifacts/channel.tx --tls $CORE_PEER_TLS_ENABLED --cafile /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/ordererOrganizations/example.com/orderers/orderer.example.com/msp/cacerts/ca.example.com-cert.pem

I'm going to close this particular issue, if you run into something else please let us know.;;;","06/Jun/17 4:23 AM;pvrbharg;Hi Mark - OK I followed your suggestion and re-created my sandbox - all is well for me at this point. Thanks.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Expand exectransaction_test.go to test query functions on java chaincode,FAB-3647,16310,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,sanchezl,sanchezl,04/May/17 11:53 AM,23/Jan/20 4:08 AM,28/Oct/23 2:59 AM,23/Jan/20 4:08 AM,,,,,,fabric-peer,,,,,,,0,chaincode,stale-item,,,,,,"Add tests that invoke the following Java chain code stub methods:
* getStateByRange()
* getStateByPartialCompositeKey()
* getQueryResult()
* getHistoryForKey()",,sanchezl,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-2972,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzxtcn:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,sanchezl,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 4:08 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove ledger/util/filterbitarray.go as it is no longer used,FAB-3654,16318,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,Senthil1,Senthil1,Senthil1,04/May/17 4:02 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,04/May/17 10:37 PM,,,,v1.0.0,,fabric-ledger,,,,,,,0,Ledger,,,,,,,"Instead of filterbitarray.go, txvalidationflags.go is used to create/configure transaction filter in a block. As filterbitarray.go is not being used anywhere, we can remove it. ",,Senthil1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxtef:",,,,,,,,,,,,,,,,,,,,,,,,,,,Senthil1,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"04/May/17 4:08 PM;Senthil1;Thanks [~manish-sethi] for pointing this out. ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add an error check in fabric/common/configtx/test/helper_test.go,FAB-3656,16320,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,fennelD7,fennelD7,fennelD7,04/May/17 10:06 PM,21/Jul/18 3:55 AM,28/Oct/23 2:59 AM,08/Jun/17 5:40 PM,,,,,,,,,,,,,0,,,,,,,,"There is an error left unchecked, add an error check here can prevent potential obscure.",,fennelD7,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzxten:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,fennelD7,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Improve code coverage for hyperledger/fabric/orderer,FAB-3658,16322,16261,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sanchezl,sanchezl,sanchezl,04/May/17 10:55 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,19/May/17 4:38 AM,v1.0.0-alpha1,v1.0.0-alpha2,,v1.0.0,,fabric-orderer,,,,,,,0,quality,,,,,,,,,kchristidis,sanchezl,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"18/May/17 2:49 AM;sanchezl;c-orderer.html;https://jira.hyperledger.org/secure/attachment/10826/c-orderer.html",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxtf3:",,,,,,,,,,,,,,,,,,,,,,,,,,,kchristidis,sanchezl,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"11/May/17 7:24 AM;kchristidis;https://gerrit.hyperledger.org/r/#/c/8889/;;;","11/May/17 7:25 AM;kchristidis;This is tagged as WIP. Is it still WIP or should it be reviewed (and merged)?;;;","18/May/17 2:50 AM;sanchezl;[~kchristidis], ready to be reviewed.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
remove old v0.6 info from event listener README,FAB-3659,16323,,Task,Closed,FAB,Fabric,software,denyeart,,,High,Done,scottz,scottz,scottz,04/May/17 10:59 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,06/May/17 1:02 AM,,,,,,fabric-peer,,,,,,,0,v1.0,,,,,,,"Remove old v0.6 info from fabric/examples/events/block-listener/README
And then FAB-3037 can be used to create new documentation for v1.0 readme for events",,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3037,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxtfb:",,,,,,,,,,,,,,,,,,,,,,,,,,,scottz,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Verify the steps to execute e2e scenario in a Mac OS and with pluggable database CouchDB,FAB-3660,16325,,Task,Closed,FAB,Fabric,software,denyeart,,,High,Done,AdnanChoudhury,AdnanChoudhury,AdnanChoudhury,04/May/17 11:22 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,17/May/17 6:54 AM,,,,,,fabric-quality,,,,,,,0,quality,,,,,,,"1. Making sure the getting started works and the guide is complete and is able to guide fully to execute the e2e scenario in Mac OS, in the latest commit.
2. Making sure the above works with CouchDB and make necessary changes.",,AdnanChoudhury,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3733,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx2qv:",,,,,,Sprint 19 - Quality,,,,,,,,,,,,,,,,,,,,,AdnanChoudhury,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"17/May/17 6:53 AM;AdnanChoudhury;Verified, and FAB-3733 was reported, solution submitted and merged.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Research: Policies and ACL in Hyperledger-Fabric,FAB-3661,16326,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,Nishi,Nishi,Nishi,04/May/17 11:31 PM,21/Jul/18 3:53 AM,28/Oct/23 2:59 AM,10/Jul/18 3:23 AM,,,,v1.0.0,,fabric-quality,,,,,,,0,,,,,,,,"h3. All Questions & very few Answers

h4. Hyperledger-Fabric Policy:
{code}

What does one mean by ""policy"" in Hyperledger-Fabric?
       
""At its most basic level, a policy is a function which accepts as input a set of signed data and evaluates successfully, or returns an error because some aspect of the signed data did not satisfy the policy.
More concretely, policies test whether the signer or signers of some data meet some condition required for those signatures to be considered ‘valid’. This is useful for determining that the correct parties have agreed to a transaction, or change."" - doc link below

Few policies I heard about:
              * Channel Configuration
              * Signature 
              * Implicit Meta
              * Endorsement.
Understand how these various policies opearate? If they all fall in the same category? How does an endorsement policy differ from Signature policy say?

Explore what other kind of policies Fabric 1.0 support?

How can rules be defined and enforced around policies?
What tools currently support creating and modifying these policies?

Can we have dynamic user defined policies? 
Is there a language to define these policies and rules?
{code}

h4. ACL
{code}
What are ""Access Control List (ACL)""?
How do you associate users and corresponding ACL?

It appears current cryptogen tool does not have the capability to support ACL.
How can we achieve defining ACL in Fabric?
How does ACL relate to these multiple policies?
What exists in default ACL during Channel Creation policy and how is it enforced?
{code}

h3. Next Steps To Do:

{code}
* Gather input and ideas from development/test on policies and ACL in Hyperledger-Fabric?
* Can we test each of the policies listed above?
* Document possible tests around policies and ACL.
* Automate tests using basic (highly used) policies and verifying their validity.
* Understand if CLI testing equipped for this?
* Can we leverage behave framework o write automated tests?
* What capability does Node SDK offer around this?
* Work with documentation enhancements if necessary.

{code}

h3. References:
http://hyperledger-fabric.readthedocs.io/en/latest/policies.html",,Nishi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzx2zb:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,Nishi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update peer.events.timeout to duration,FAB-3663,16329,15771,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wlahti,wlahti,wlahti,04/May/17 11:41 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,05/May/17 3:30 AM,,,,v1.0.0,,fabric-peer,,,,,,,0,,,,,,,,,,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxtgf:",,,,,,,,,,,,,,,,,,,,,,,,,,,wlahti,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update chaincode.startuptimeout to duration,FAB-3664,16330,15771,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wlahti,wlahti,wlahti,04/May/17 11:41 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,05/May/17 5:49 AM,,,,v1.0.0,,fabric-peer,,,,,,,0,,,,,,,,,,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxtgn:",,,,,,,,,,,,,,,,,,,,,,,,,,,wlahti,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update chaincode.executetimeout to duration,FAB-3665,16331,15771,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wlahti,wlahti,wlahti,04/May/17 11:42 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,05/May/17 5:49 AM,,,,v1.0.0,,fabric-peer,,,,,,,0,,,,,,,,,,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxtgv:",,,,,,,,,,,,,,,,,,,,,,,,,,,wlahti,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update chaincode.deploytimeout to duration,FAB-3666,16332,15771,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wlahti,wlahti,wlahti,04/May/17 11:42 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,05/May/17 5:49 AM,,,,v1.0.0,,fabric-peer,,,,,,,0,,,,,,,,,,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxth3:",,,,,,,,,,,,,,,,,,,,,,,,,,,wlahti,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Demonstrate policy usage in BDD,FAB-3667,16336,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,jeffgarratt,jeffgarratt,jeffgarratt,05/May/17 12:32 AM,30/Jul/19 10:02 AM,28/Oct/23 2:59 AM,30/Jul/19 10:02 AM,,,,,,,,,,,,,0,,,,,,,,"Policy: Add reader, writer and admin policies to 1, and exercise different users in those policies calling chaincodes",,jeffgarratt,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-1141,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-1141,,,,,,,,,,"1|hzxthr:",,,,,,,,,,,,,,,,,,,,,,,,,,,jeffgarratt,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"30/Jul/19 10:02 AM;mastersingh24;BDD replaced with integration tests;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
update e2e-CLI scripts in CI jobs,FAB-3668,16337,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,rameshthoomu,rameshthoomu,05/May/17 1:44 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,05/May/17 6:24 AM,,,,v1.0.0,,fabric-build,,,,,,,0,build-system,,,,,,,update e2e-CLI scripts in CI jobs to execute the patch https://gerrit.hyperledger.org/r/#/c/8865/,,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxthz:",,,,,,,,,,,,,,,,,,,,,,,,,,,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"05/May/17 6:24 AM;rameshthoomu;patch has been submitted and merged. Now e2e cli tests work building crypto material dynamically. No more static crypto material.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
go unit-tests are failing intermittently,FAB-3669,16340,,Bug,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,gennadyl,rameshthoomu,rameshthoomu,05/May/17 3:14 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,21/May/17 10:26 PM,,,,v1.0.0,,fabric-gossip,,,,,,,0,gossip,,,,,,,"unit-tests are failing intermittently. Observed below error in most of the verify and merge unit-test builds.
 
github.com/hyperledger/fabric/gossip/gossip

below is the build log:
https://jenkins.hyperledger.org/view/fabric/job/fabric-merge-x86_64/1717/consoleFull

{code:java}

01:34:33.943 unit-tests_1  | --- FAIL: TestDisseminateAll2All (185.03s)
01:34:33.943 unit-tests_1  | 	assertions.go:225: 
                        
	Error Trace:	
01:34:33.943 unit-tests_1  | 		
	Error:		Didn't stop within a timely manner
01:34:33.944 unit-tests_1  | 		
01:34:33.944 unit-tests_1  | 	assertions.go:225: 
                        
	Error Trace:	gossip_test.go:1241
01:34:33.944 unit-tests_1  | 		
			gossip_test.go:979
01:34:33.944 unit-tests_1  | 		
	Error:		Timeout expired!
{code}",Jenkins CI,C0rWin,denyeart,gennadyl,rameshthoomu,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxti7:",,,,,,Sprint 16 - Gossip,,,,,,,,,,,,,,,,,,,,,C0rWin,denyeart,gennadyl,rameshthoomu,yacovm,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"05/May/17 4:40 AM;C0rWin;[~rameshthoomu] Could you please provide links to the few builds which failed due the test above?;;;","05/May/17 6:21 AM;rameshthoomu;[~C0rWin] below are the merge patches failed.. I see few people reported this because they are getting -1 on their patch..If I dig verify jobs I may get few more.. 

https://jenkins.hyperledger.org/view/fabric/job/fabric-merge-x86_64/1717/console
https://jenkins.hyperledger.org/view/fabric/job/fabric-merge-x86_64/1714/console
https://jenkins.hyperledger.org/view/fabric/job/fabric-merge-x86_64/1728/console;;;","05/May/17 10:57 PM;C0rWin;To prevent CI from failing going to push CR to have this test disabled.;;;","08/May/17 11:25 PM;gennadyl;Reopening it;;;","11/May/17 10:17 PM;gennadyl;Still investigating. Now trying to isolate the actual failure and in parallel, rebase it on top of [https://gerrit.hyperledger.org/r/#/c/9199/]

 ;;;","12/May/17 10:35 PM;denyeart;[~gennadyl] Any updates?  Could you use help from anybody?;;;","13/May/17 7:28 PM;C0rWin;[~denyeart] Thanks, work still in progress, this might be related to [~yacovm] work related to anchors peers, once finished we will test and update.;;;","14/May/17 11:24 PM;yacovm;The promised change set is here https://gerrit.hyperledger.org/r/#/c/9199/ ;;;","15/May/17 9:47 PM;gennadyl;I think we have at least one direction to investigate. Just pushed CS that will run tests to verify this direction

https://gerrit.hyperledger.org/r/#/c/9365/;;;","19/May/17 3:03 AM;yacovm;I think that it'll be solved once https://gerrit.hyperledger.org/r/#/c/9199/ is merged.;;;","21/May/17 4:26 PM;C0rWin;Since CR-9199 was merged need to reproduce failure again, most likely it's related to FAB-3109 and should not happen anymore.;;;","21/May/17 5:52 PM;gennadyl;Agreed. Will run whole CI over [https://gerrit.hyperledger.org/r/#/c/9199/] again, to see is it reproduced.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
peer-chaincodedev mode doc needs to be updated,FAB-3671,16342,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,muralisr,muralisr,muralisr,05/May/17 3:21 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,06/May/17 6:38 AM,,,,,,fabric-peer,,,,,,,0,,,,,,,,docs/source/peer-chaincode-devmode.rst needs to be updated for recent changes,,muralisr,theathibm,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3736,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx4tz:",,,,,,Sprint 16  - Endorser,,,,,,,,,,,,,,,,,,,,,muralisr,theathibm,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
raise awareness of Fabric dashboard/front door,FAB-3672,16347,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ChristopherFerris,ChristopherFerris,ChristopherFerris,05/May/17 9:08 AM,21/Jul/18 3:54 AM,28/Oct/23 2:59 AM,24/May/17 6:51 AM,v1.0.0,,,v1.0.0,,fabric-docs,,,,,,,0,,,,,,,,raise awareness of Fabric dashboard/front door,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,3600,3600,,0%,3600,3600,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-2254,,,,,,,,,,"1|hzxtk7:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove BlockHolder from ledger,FAB-3673,16350,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,manish-sethi,manish-sethi,manish-sethi,05/May/17 6:44 PM,21/Jul/18 3:53 AM,28/Oct/23 2:59 AM,12/May/17 11:57 AM,,,,,,fabric-ledger,,,,,,,0,,,,,,,,"Because we are using protobufs for block structure, Blockholder is not turning out to be relevant  as expected earlier assuming a custom serialization. Better to remove this in order to avoid confusion.",,denyeart,manish-sethi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzx4of:",,,,Unset,,Sprint 16  - Ledger,,,,,,,,,,Unset,,,,,,,,,,,denyeart,manish-sethi,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"12/May/17 11:57 AM;denyeart;https://gerrit.hyperledger.org/r/#/c/9003/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
add script to check license headers,FAB-3674,16351,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ChristopherFerris,ChristopherFerris,ChristopherFerris,05/May/17 8:57 PM,21/Jul/18 3:54 AM,28/Oct/23 2:59 AM,05/Apr/18 4:13 AM,v1.0.0-alpha1,,,v1.0.0,,fabric-quality,,,,,,,0,,,,,,,,"fabric-ca has a crude license checking script, we should add to all projects.",,ChristopherFerris,lehors,,,,,,,,,,,,,,,,,,,3600,3600,,0%,3600,3600,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3675,FABN-116,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzxtkn:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,ChristopherFerris,lehors,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"02/Jun/17 10:53 PM;lehors;The script doesn't handle the SPDX license but an easy change will do that. Change the grep command to:

grep -L ""License.*Apache""

By the way, the current script as both -l -L which is an error as those two options are have opposite results. Apparently it works because the last one wins.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
add license check script to fabric repo,FAB-3675,16352,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ChristopherFerris,ChristopherFerris,ChristopherFerris,05/May/17 9:21 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,08/May/17 9:34 PM,v1.0.0-alpha1,,,v1.0.0,,fabric-build,,,,,,,0,,,,,,,,see FAB-3674 for description,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3674,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxtkv:",,,,,,,,,,,,,,,1.0,,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"07/May/17 12:46 AM;ChristopherFerris;needs a tweak to catch the gotools/build tree;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Identities signed rootCA instead of existing intermediate CAs should be rejected as members of that MSP,FAB-3677,16354,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,angelo.decaro,elli-androulaki,elli-androulaki,05/May/17 9:44 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,12/May/17 6:16 PM,,,,v1.0.0,,fabric-crypto,,,,,,,0,,,,,,,,"MSPs may be configured with a set of root CAs, and optionally a set of intermediate CAs. Each root CA defines a tree of certificate hierarchies. What we need to ensure that validateIdentity function of the MSP accepts if and only if the identity is no sibling to an intermediate CA in any of the MSP certificate trees.

Examples (assuming an identity ID, root CAs prefixed with ""rCA"", and intermediate CAs prefixed with iCA):

* Identity *ID* should be considered *valid*:  

               rCA                               or                               rCA1                 rCA2
               /    \                                                                   /   \                     |   
          iCA1  iCA2                                                    iCA11   iCA12           *ID*
            |          
         *ID*

* Identity ID should be considered *invalid*:  

               rCA                               or                                  rCA1                 rCA2
             /    |    \                                                                   /   \                     |   \ 
     iCA1   *ID*  iCA2                                                    iCA11   iCA12        *ID*  iCA21 
           
",,elli-androulaki,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3893,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx5gn:",,,,,,,,,,,,,,,,,,,,,,,,,,,elli-androulaki,mastersingh24,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"12/May/17 6:08 PM;mastersingh24;We are going to need to document this;;;","12/May/17 10:42 PM;elli-androulaki;[~mastersingh24], just created FAB-3898 for documenting identity validity specs, and linked this item to it. ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Bind blockchain time to real-world time (e.g., used for standard X.509 certificates expiration)",FAB-3678,16357,,Story,To Do,FAB,Fabric,software,denyeart,,,High,,,elli-androulaki,elli-androulaki,05/May/17 10:03 PM,30/May/19 7:58 PM,28/Oct/23 2:59 AM,,,,,Future,,fabric-crypto,,,,,,,4,,,,,,,,"Below you may find an overview of the issue and a couple of candidate solutions. Work-arounds have been designed for v1, as described in FAB-4138.

 

*Issue:* We need a way to connect certificate expiration time (currently expressed by means of ""real"" time) to blockchain time (e.g., blocks in the chain), such that all the committing peers of the channel can properly assess the validity of a certificate when committing a tx regardless of the actual real time peers join the channel.

Even if we assume that certificates are renewed long before they expire, so that no chance to cause state-forks (at commiting peers who are part of the channel), we still have the issue that a peer that joins a channel much later than the cert's expiration time, cannot validate properly any of the endorsed transactions with expired endorser/client certificates. This issue was reported by [~adc].

There are a couple of options to deal with this in the default MSP implementation:

*Option 1: Express certificate expiration in blockchain terms (e.g., number of block a certificate should expire)*

This can be done by including in the standard X.509 certificate (as part of the extension fields) an attribute denoting the expiration period expressed in number of blocks; this mechanism is simple, but requires some work to test it out (need to force some structure to X.509 extensions), and is inflexible given that for long periods of real time a certificate is valid in one chain (slow), and invalid in others (fast chains). 

An alternative design but in the same spirit would require to include in the genesis of a channel the ""terms"" of translating a real-time expressed expiration period to the logical time (i.e., block sequence number the cert is to expire). This can be a parameter (hardcoded for now) to indicate the translation between real time, and block-time. MSP could leverage these ""terms"" (e.g., time frequency of blocks) to map the expiration date listed in the standard x.509 certificate to logical time, and from there assess the validity or not of a certain certificate. This option gives us higher flexibility given that some channel can be configured to be super slowly evolving, while others progress faster, and does not require any structure of the X.509 extension field. However, it still requires some clear policy of who is allowed to update the translation terms.

*Option 2: Include notifications of real-time updates to the blockchain*

At two ways to achieve this:
 * By having the application ""announcing"", e.g., via some sort of configuraiton value the ""current time"" to the chain. This can be an additional configuration item included in genesis block, and requires some policy specification of who is trusted to update this configuration parameter.
 * By having orderers include inside BlockHeader a timestamp (a timestamp all orderers agree on) that accompanies block generation; this would require modifying the proto messages, and ensure that orderers reach consensus over the timestamp itself (despite clock drifts that may exist between orderers). For Kafka, the latter should be easier to be implemented, but for sBFT this may get more complex. However it is a change in the proto messages that we may need to do in the future. 

 

 ",,ashutosh_kumar,binhn,C0rWin,crashmark93,elli-androulaki,fredbi,kchristidis,mastersingh24,nemoto,nextisd,passkit,Senthil1,smithbk,troyronda,vdods,vukolic,yacovm,zjubfd,,,,,,,,,,,FAB-5556,,,,,,,,,,,,,,,,,,,,,,,,FAB-12039,,,,,,,,,,,FAB-4138,FAB-3036,,,,FAB-5778,FAB-5843,FAB-15584,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzwrzr:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,ashutosh_kumar,binhn,C0rWin,crashmark93,elli-androulaki,fredbi,kchristidis,mastersingh24,nemoto,nextisd,passkit,Senthil1,smithbk,troyronda,vdods,vukolic,yacovm,zjubfd,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"05/May/17 10:07 PM;elli-androulaki;[~keithsmith], [~mastersingh24], what do you think about the issue, and the solution in view of v1?

We think that the issue may be severe if we want to allow committing peers to join a channel at any point in time after a channel has been created... ;;;","05/May/17 10:29 PM;smithbk;I personally think this should be documented for v1 and fixed in v1.1.
As for solutions, can't we just periodically push a config block update with the real-time which is used to evaluation expiration, so there would be no change to certs and no translation between real-time and block-time?;;;","05/May/17 10:46 PM;elli-androulaki;[~keithsmith]:

```I personally think this should be documented for v1 and fixed in v1.1.```
So, documenting would be fine, if we are fine with the fact that peers *will not* be able to join a channel and do the block validation after at least one of the certificates (creator/endorser) have expired... But are we fine with this limitation for v1 ?

```As for solutions, can't we just periodically push a config block update with the real-time which is used to evaluation expiration, so there would be no change to certs and no translation between real-time and block-time?```
We could, but then who would we trust to push such an update. Would it be the channel admin? If so, it may require more than one signatures  and be too complicated for a tx that needs to go in to all channels every fixed time period... If not the channel admin, then who? Every MSP? I feel that considering this at certificate issuing time (as in the proposals above) may be cleaner...

What do you think? 
;;;","05/May/17 11:19 PM;yacovm;{quote}Even if we assume that certificates are renewed considerable amount of time before certificates expire, so that we do not cause state-forks, we still have the issue that a peer that now joins a channel cannot validate properly any of the endorsed transactions with expired endorser certificates.{quote}

Don't you have the same problem for manual revocations?
if an endorser and a client trigger a block creation and later on, the endorser is revoked and now its in a CRL of yours - new peers would mark this Txn as invalid, and old peers have already committed this Txn, no?

Also- why can't the time of the ordering service be encoded into the blocks?
When a peer gets such a block, it can calculate whether the endorser was (was not) expired at that time?;;;","05/May/17 11:51 PM;elli-androulaki;```Don't you have the same problem for manual revocations?```
So, a committing peer would always start from a valid config block, say genesis block or intermediate config block. The idea is that this block would give it all the information it needs to validate blocks and transactions following that block in the channel. Now, for revoked users we are covered cause CRLs are included in the MSP config that is included in the config block. But, for validation of already expired certificates (since for assessing expiration we rely on real time), a peer who performs this validation much after this tx has been added to the channel (say a month later cause he joined the channel later), cannot properly assess whether a certificate is valid or not.

```When a peer gets such a block, it can calculate whether the endorser was (was not) expired at that time?```
Hm, do you mean considering the timestamp included in the block itself? This is indeed an option! But we would still need to modify the validate function of the peer that would need to consider the block's time as valid time... ;;;","06/May/17 12:04 AM;yacovm;{quote}Hm, do you mean considering the timestamp included in the block itself? This is indeed an option! But we would still need to modify the validate function of the peer that would need to consider the block's time as valid time... {quote}
It's pretty easy, I think- just adjust the *NotBefore* and *NotAfter* fields of the x509.Certificate, and restore them after validation.

{code}
func (msp *bccspmsp) getValidationChain(cert *x509.Certificate) ([]*x509.Certificate, error) {
        // The block was created a week ago, so instead of bringing this peer's clock a week in the past,
	// bring the certificate's expiration time a week in the future
	delta := time.Duration(time.Hour * 24 * 7)
	cert.NotAfter = cert.NotAfter.Add(delta)
	validationChain, err := cert.Verify(*(msp.opts))
	if err != nil {
		return nil, fmt.Errorf(""The supplied identity is not valid, Verify() returned %s"", err)
	}
{code}
{quote}
So, a committing peer would always start from a valid config block, say genesis block or intermediate config block. The idea is that this block would give it all the information it needs to validate blocks and transactions following that block in the channel. Now, for revoked users we are covered cause CRLs are included in the MSP config that is included in the config block. But, for validation of already expired certificates (since for assessing expiration we rely on real time), a peer who performs this validation much after this tx has been added to the channel (say a month later cause he joined the channel later), cannot properly assess whether a certificate is valid or not.{quote}
What I mean is - if a peer *p* has signed a transaction and peer *q1* committed it, and later on - *p* is revoked via a CRL, peer *q2* that gets the block after that - will not validate the transaction signed by *p*;;;","06/May/17 12:10 AM;elli-androulaki;{quote}
What I mean is - if a peer p has signed a transaction and peer q1 committed it, and later on - p is revoked via a CRL, peer q2 that gets the block after that - will not validate the transaction signed by p
{quote}
I am not sure about that. Actually peer *q1* should evaluate *p*'s certificate considering the MSP configuration of the config block preceding the tx under evaluation. Because at that time *p* was not included in the CRL, the tx evaluation would continue under these terms.;;;","06/May/17 12:31 AM;yacovm;{quote}I am not sure about that. Actually peer q1 should evaluate p's certificate considering the MSP configuration of the config block preceding the tx under evaluation. Because at that time p was not included in the CRL, the tx evaluation would continue under these terms.{quote}

Yeah, my bad. if *q1* committed a Txn it means that the config blocks until then didn't have *p* in the CRLs.;;;","06/May/17 1:10 AM;yacovm;Anyway- if you go via the timestamp from the block creation, it appears that the x509 verifyOptions support the technique: 

{code}
type VerifyOptions struct {
	DNSName       string
	Intermediates *CertPool
	Roots         *CertPool // if nil, the system roots are used
	CurrentTime   time.Time // if zero, the current time is used
	// KeyUsage specifies which Extended Key Usage values are acceptable.
	// An empty list means ExtKeyUsageServerAuth. Key usage is considered a
	// constraint down the chain which mirrors Windows CryptoAPI behaviour,
	// but not the spec. To accept any key usage, include ExtKeyUsageAny.
	KeyUsages []ExtKeyUsage
}
{code}

As for Kafka nodes (to take into account that we have different nodes that cut blocks) maybe we can use the timestamp of the last message of the block?;;;","06/May/17 5:21 AM;ashutosh_kumar;To me , it seems over-engineering. In real life scenario , certificates do not expire that often that you need to integrate certificate validity to main processing path. Cert and Key management system usually takes care of certificate expiration problem which usually happens independent of main processing.;;;","08/May/17 4:23 PM;elli-androulaki;[~yacovm], I talked to [~kchristidis], and unfortunately will not be easy to set a timestamp in the block now that is actually checked/respected and signed... 

 

[~ashutosh_kumar], the issue we refer to goes beyond the actual x509 cert expiration and key-management associated to this. What we try to guarantee is the compromise of the safety (consistency) of the system assuming that an endorser/client certificate has expired [our tx validation process needs to deterministically — i.e., across all committing peers this is exectuted ---- decide on whether the tx certificates have expired].;;;","09/May/17 2:06 AM;yacovm;[~kchristidis] -why?;;;","09/May/17 5:53 AM;kchristidis;So, I probably didn't explain my thinking clearly enough when discussing this with Elli earlier, my bad.

Adding the field is easy, but making sure its value is monotonically increasing is _not_. In fact, in Kafka you just don't have this guarantee, plain and simple. And in the BFT case, I'm not even sure how we would go about approaching this.

If we don't care about this property, then this goes back to being easy.;;;","09/May/17 6:48 AM;yacovm;Why would we care about the timestamp being monotonously increasing? We just need consistency across validators IIUC.;;;","09/May/17 12:40 PM;binhn;[~yacovm] We need a monotonic timestamp (or whatever we call it) so that when a cert is expired, it will forever be expired; otherwise it might be expired now and might not on the next block.

But as [~kchristidis] pointed out, this is difficult in some cases, though it might be the best out of the options that [~elli-androulaki] mentioned above.

I think at this point, we should seriously consider short-cuts for 1.0, and an attractive one to me is do nothing. If people want to kick a cert out of the system, use CRL; otherwise, let all go free until next release.  Thought?

In any case, I think we should add a uint64 field to the BlockHeader.;;;","09/May/17 4:51 PM;yacovm;{quote}We need a monotonic timestamp (or whatever we call it) so that when a cert is expired, it will forever be expired; otherwise it might be expired now and might not on the next block.
{quote}
Understood. in that case let's consider the possible orderer types:
 # Solo - I guess we don't have a problem here, and it's a reasonable assumption that no one would suddenly adjust the time.
 # Kafka - Here I proposed we take the timestamp of the last message of the block.
 To preserve monotonic timestamps, I guess maybe we can make block *b_i* that is cut by orderer node *o_j*  to have the timestamp of: Max(last_msgTS(*b_i*), TS(*b_i-1*)) 
 This way if you have a leader switch you don't go back in time.
 If the time difference between nodes is small (less than 1 min?) that won't be very harmful, but if the time difference is big that may impose a problem, but I think that if we document this requirement that orderer nodes need to be in sync with regard to local time, that would be OK. 
 What do you think [~binhn] ?
 # BFT - I'm not sure. [~marko.vukolic] what do you think?

 

 
{quote}If people want to kick a cert out of the system, use CRL; otherwise, let all go free until next release.  Thought?
{quote}
I think that the current state of the code requires intervention in any case because in order to ignore certificate expiration you need to make the VSCC explicitly set the time of the cert to be before the ""expires"" and after the ""not used before"" fields or otherwise the x509 library won't agree to validate the endorser's signature.

 
{code:java}
// isValid performs validity checks on the c.
func (c *Certificate) isValid(certType int, currentChain []*Certificate, opts *VerifyOptions) error {
    now := opts.CurrentTime
    if now.IsZero() {
        now = time.Now()
    }
    if now.Before(c.NotBefore) || now.After(c.NotAfter) {
        return CertificateInvalidError{c, Expired}
    }{code};;;","09/May/17 7:30 PM;vukolic;In both Kafka (i.e., a CFT ordering service) and a BFT ordering service - clock asynchrony may raise performance concerns or deviation from ""real time"".

1) for CFT what [~yacovm] suggests max(a,b) is ok and can be done without perfromance penalty - yet aggregates skew wrt ""real-time"" (referred to as OPTION 2 in the text below). If the new leader would wait for ""his"" time which is behind the time of old leader (in attempt to address the clock skew - OPTION 1 below) then we have performance penalty (waiting at a new leader).

2) in BFT the same approach would apply - but we need to care about Byzantine leaders. To cope with Byzantine leaders one could go like roughly like below

message batch_header \{

        uint64 seq = 1;
         bytes prev_hash = 2;
         bytes data_hash = 3;

        uint64 timestamp = 4;
 }

BFT orderer would have two CONST (?) params (in principle, positiveSkew/negativeSkew do not have to be const - but let's simplify to start with)

const negativeSkew = sth
 const positiveSkew = sth //where positiveSkew>=negativeSkew holds

At least positiveSkew needs to consider network latency as well. From our experience with XFT ([http://vukolic.com/xft-osdi2016.pdf]), on public internet, positiveSkew must be at least 1-2s

negativeSkew may be smaller and will really depend on underlying clock synchronization (if any). negativeSkew should be small to limit the ability of a Byzantine primary to delay future primaries in OPTION 1. However, small negativeSkew may impact liveness in case clocks are not syncrhonized.

Then the protocol for say SBFT could be modified roughly as follows (pardon my whiteboard go) 
 -----------------------------------
 1) Primary, on assembling the batch looks at its local time

localtime := time.Now()

if localtime<=s.sys.LastBatch().Header.timestamp  \{
     //OPTION 1: wait here for s.sys.LastBatch().Header.timestamp-localtime
     localtime := time.Now()

   //alternatively OPTION 2: localtime:= max of (time.Now(), s.sys.LastBatch().Header.timestamp) - see discussion above for clock skew aggregation 
 }

// proceed with batch assembly with localtime as batchheader.realtime

2) Replicas on reception of pre-prepare do the following:

if batchheader.timestamp <=   s.sys.LastBatch().Header.timestamp
     //leader is Byzantine proceed to view change

localtime := time.Now()

if (batchheader.timestamp+positiveSkew) < localtime \{
     return; //simply do not process pre-prepare. do not view change the leader here (pretend like the message was lost)
 }

if (batchheader.timestamp-negativeSkew) > localtime \{
     return; //simply do not process pre-prepare. do not view change the leader here (pretend like the message was lost)
 };;;","09/May/17 8:14 PM;vukolic;BTW - the code below is non-deterministic  and *must not* appear in the commit phase

we are basically trying here to sketch a solution that would say now = s.sys.LastBatch().Header.timestamp instead of now = time.Now()

 
// isValid performs validity checks on the c.func (c *Certificate) isValid(certType int, currentChain []*Certificate, opts *VerifyOptions) error \{
    now := opts.CurrentTime
    if now.IsZero() \{
        now = time.Now()
    }
    if now.Before(c.NotBefore) || now.After(c.NotAfter) \{
        return CertificateInvalidError\{c, Expired}
    };;;","10/May/17 12:47 AM;binhn;[~vukolic] 
{quote}the code below is non-deterministic  and *must not* appear in the commit phase
{quote}
Good point. Where is that code from, [~yacovm] ?  I grep and didn't find any hit in our code.

 

[~yacovm]

Assuming that solo won't be used in production, then I agree. Otherwise, we would need to do similar to CFT at the failover. For CFT, your method should work, but I think we should use the block header time that is calculated as Marko's pseudo option 2 since timestamp on the transaction is the local time from client node.

 

[~kchristidis]

Thoughts?

 ;;;","10/May/17 1:04 AM;yacovm;{quote}Good point. Where is that code from, [~yacovm] ?  I grep and didn't find any hit in our code.
{quote}
I was trying to explain how the verification works in the x509 package, the code is from [https://golang.org/src/crypto/x509/verify.go]
{quote}Assuming that solo won't be used in production, then I agree.
{quote}
I don't understand. How can we have a cluster of solo orderers? You assume their file system is written to shared storage or something? Otherwise if the solo orderer dies, the ledger dies with it and then no one can submit any transaction because the new orderer doesn't know the channels.
{quote}Otherwise, we would need to do similar to CFT at the failover.
{quote}
You mean for Kafka right?
{quote}but I think we should use the block header time that is calculated as Marko's pseudo option 2 since timestamp on the transaction is the local time from client node.
{quote}
I honestly don't understand how to translate what he wrote to what we should do in CFT with either solo or kafka.

Can you explain precisely?

 

[~jyellick] what's your opinion?

 

[~vukolic] can't we simply use the following ""guidelines"" for BFT orderers (maybe that's somewhat what you meant to convey too?) ?
 * Ask the network operators that the servers would be in sync with regard to time
 * If the new *batch.timestamp* in preprepare is too in the future, drop the message (like you said)
 * If the new *batch.timestamp* in preprepare is in the past, make all replicas set the *batch.timestamp* to be the timestamp of the previous batch (all nodes have the timestamp of the last batch unless it's the genesis block, right?) now... the primary replica that sent the preprepare might be in the past without knowing so.
 * So when the *prepare* message is sent from all replicas to all replicas, write in that message a flag that means the timestamp chosen by replicas is the timestamp in the past. All replicas that see this flag would set the timestamp of the current batch to the timestamp of last batch. 
 * In commit - send the timestamp chosen, just in case for sanity check.
 * The question remains how to set the timestamp of the first batch (genesis block)
I *think* that you can do here exactly what you said - if the timestamp is too in the past or in the future, reject the message, otherwise use that timestamp.;;;","10/May/17 5:39 PM;vukolic;[~yacovm]

 

I'd rather discuss this over code/pseudocode rather than ""guidelines"" which can be vague. Some examples:

> Ask the network operators that the servers would be in sync with regard to time

such expectations need to be made precise.

> If the new *batch.timestamp* in preprepare is in the past,

""past"" of what? time.Now() at a replica receiving preprepare or ""past"" of last block time? My pseudocode above treats these two cases differently. It requires primary never to assign a timestamp to block n+1smaller than the timestamp of the block n. If the ts(block n+1) is in between ts(block n) and time.now() we need to say how big of a delay (wrt time.now() is aceptable).

> the primary replica that sent the preprepare might be in the past without knowing so

It cannot since primary needs to do, when sending pre-prepare, all the checks that a replica would do when it receives a pre-prepare. So primary must not assign the timestamp to block n+1 smaller than the timestamp of block n

 

> So when the *prepare* message is sent from all replicas to all replicas, write in that message a flag that means the timestamp chosen by replicas is the timestamp in the past.

Not clear to me, what you mean here :)

> In commit - send the timestamp chosen, just in case for sanity check.

 

The ""chosen"" timestamp must be fixed in a pre-prepare message and then we use PBFT style consensus to agree on that time along with the entire batch. Doing something extra in commit msg does not help.

 

Now to step back a bit: I think we can work out the details of this solution for BFT (along the lines of the discussion above) - at the moment we simply need to add

uint64 timestamp = 4;

to

message batch_header \{

        uint64 seq = 1;
         bytes prev_hash = 2;
         bytes data_hash = 3;

}

in common.proto

and have simple(r) Kafka and Solo solutions in place for v1.0.0.

 

 

 

 ;;;","10/May/17 7:21 PM;mastersingh24;I don't feel ""rushing"" into a solution at this point is the way to go.  Fine to keep discussing.
 * In the current flow, endorsers ""sign"" with longterm enrollment certificates
 * We already support CRLs and CRL enforcement is deterministic since they are delivered via config transactions / blocks

But the system is definitely vulnerable to non-determinism in the one place it MUST have deterministic behavior.

So my proposal is that we ignore certificate expiration when it comes to verification.   I think this is the cleanest solution and is really not an exposure given we have CRL enforcement.  So I'd suggest we make sure we always pass verify in terms of expiration and we can log at WARNING level if a certificate is expired.  

 ;;;","10/May/17 7:38 PM;vukolic;That's fine as a shorter term solution as well - to have certs explicitly be expired using CRLs (only) - and essentially otherwise disregarding  the expiration time in the validation/commit phase (modulo log warning which may be non-uniform and non-deterministic across peers);;;","24/May/17 5:00 PM;elli-androulaki;Ok, so adding two JIRA items associated to this.
 * The v1.0 item would require the removing of time-related checks at identity validation time. 
 * The post v1.0 item would relate to the design and implementation of a complete solution.

[~vukolic], [~mastersingh24], [~keithsmith], [~binhn], [~yacovm], would you agree with this?

 ;;;","24/May/17 11:53 PM;binhn;[~elli-androulaki] +1;;;","25/May/17 1:14 AM;yacovm;What needs to be carefully considered here is that if a user has a ledger that is populated with blocks via an ordering service from v1.0, and then the user upgrades to v1.1 or something that has additional things in its block - would the logic implemented in post v1.0 support validation of blocks created in v1.0?

From what I know ([~jyellick] / [~kchristidis] please correct me if I'm wrong ) there is no version field in the data blocks that the VSCC consumes, but there is in the transaction (channel header):
{code}
chdr, err := utils.UnmarshalChannelHeader(payl.Header.ChannelHeader)
{code}
But this value is set by the client, not the orderer. So maybe we need to add some version field to the block header? ;;;","25/May/17 4:52 PM;smithbk;Do we need to remove the time-related NotBefore/After checks from ALL identity validation, or just at commit time to make it deterministic?

It seems to me that we should continue to make the time-related checks when making endorsement checks, for example.;;;","25/May/17 11:47 PM;binhn;[~smithbk] Time checks would not make sense since we have multiple unsynchronized clocks, even not at the commit time. I think we should ignore all time checks as [~vukolic] suggested [#above | https://jira.hyperledger.org/browse/FAB-3678?focusedCommentId=23628&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-23628];;;","26/May/17 10:32 PM;elli-androulaki;[~yacovm], I am wondering if including a version on the MSP configuration could tackle the issue. Say MSP v1 is still not considering pure-time based expiration, and then MSP v15 (after blocks support timestamps, and MSP code is upgraded to support identity validity w.r.t. the block timestamp) does. When one tries to re-validate transactions on the ledger, it only needs to do the validation with the MSP versions include din each block... 

Of course we do not have the hashes of the MSP code, neirther configuration field in MSP to denote msp code version. But that may be something to do in the future(?);;;","26/May/17 11:59 PM;yacovm;So, for v1.0 it was decided not to take into account the expiration dates of the certificates, and for this we need the validation code to ignore them upon block ingestion.
At v1.1 (for example) we would take into account the expiration period via some solution. 
The question remains- how does v1.1 peer code (which isn't written yet) knows that- given a block, it was produced by an ordering service of v1.0 and its transactions should therefore be validated by the rules of v1.0 and not by the rules of v1.1.

I like the line of thought of what you suggested because we could leverage the fact that the MSPConfig is a protobuf, and in protobuff if you add a field and then deserialize a message from a time before you added the field, it would have a zero value, so an MSP of version v1.1 can know it needs to use v1.0 logic if its config version is 0 (implicitly or explicitly set).
So indeed if the MSP code of v1.1 would know the version of the ordering service (from the last config block) it can know whether to ""check the time"" or not.
A small problem here would be - that we need first to upgrade *all the peers*, and then upgrade the ordering service + the first thing the ordering service would have to do before servicing requests is to create a config Txn that bumps the version of the MSPConfig to 1 (from 0).

The danger here is - if some peers are left not upgraded, it would cause a split in the blockchain.;;;","27/May/17 12:08 AM;elli-androulaki;Hm, I think we would need to follow the same line of thought we adopted for chaincodes and their (upgraded) instances across different chains.

That is the peer has a version of msp V that should be backward compatible with versions v<=V, and only activate V on the chain if there is a respective announcement on that chain. 

Indeed peers need to be upgraded, as well as orderers (mainly orderers) to support V, but they will not use it untill a config tx suggesting the use of version V is announced to the BC.

This belongs to a family of issues related to fabric-upgrade that we should sort out earlier than later. For MSP related stuff, identity channel would definitely make things easier :)

 ;;;","27/May/17 2:04 AM;elli-androulaki;In the interest of time, and since you brought up the version-issue, [~yacovm] would you like to open a task for v1 to investigate it further? If not, i can volunteer to make a first pass (just let me know). You may link the new issue to this one here.

Though it is likely that we don't need to do any change in the code, but there is value in having things documented: i) we convince ourselves that this is the way to go, and (ii) we keep things well explained somewhere for others to see/approve/chip in. I will be happy to provide text for suggested solutions.

This item i will mark for post v1 to avoid confusion.;;;","27/May/17 5:04 AM;yacovm;{quote}Indeed peers need to be upgraded, as well as orderers (mainly orderers) to support V, but they will not use it untill a config tx suggesting the use of version V is announced to the BC.{quote}

Well let's not forget that all are trying to do here is make the ordering service govern the logic that the peer executes for channel validation, nothing more.

This also begs the question - Is there a way of peers at version v1.0 to ""detect"" that the block was created at version v1.1 ? (Maybe - if you have a raw serialized proto message - *data0 []bytes* and you deserialize to to a proto object, then serialize it to bytes and get *data1 []bytes* and then compare the length of the output *len(data1*) to the length of the original serialized message *len(data0)*  ?)

I saw that you updated the description.
{quote}For Kafka, the latter should be easier to be implemented, but for sBFT this may get more complex. However it is a change in the proto messages that we may need to do in the future. {quote}
Why do we have to choose between the first bullet and the 2nd bullet of option (2) ? I know the consensus is supposed to be pluggable but can't we say that in any case we can fall back to the 1st bullet (once a while - announce a time incrememt) for any consensus implementation, and for kafka and solo we use the 2nd bullet (put timestamp in blocks)? 

{quote}In the interest of time, and since you brought up the version-issue, Yacov Manevich would you like to open a task for v1 to investigate it further? If not, i can volunteer to make a first pass (just let me know). You may link the new issue to this one here.{quote}
FAB-4203
;;;","09/Jun/17 8:59 PM;mastersingh24;I don't think we should be using certificate expiration in block validation.  We don't control how certificates are issued.

I don't have a problem with checking certificate expiration during access control - e.g. trying to invoke/query a peer , send a transaction to an orderer, etc.  But transaction validation must be 100% deterministic and we have a mechanism to revoke certificates.;;;","09/Jun/17 9:08 PM;yacovm;{quote}I don't think we should be using certificate expiration in block validation.  We don't control how certificates are issued.{quote}
I think it makes sense. 
However - right now we don't take into account expiration at access control too, since the change was in the lowest levels of the MSP.
Shall we leave it as is, and open another JIRA to be addressed post v1.0 to bring back taking into account expiration everywhere but validation?
[~elli-androulaki] , [~adc] ^

BTW - It makes sense to also add validation of expired certificates on the SDK side.
I guess that FAB-3202 should take care of it post v1.0;;;","09/Jun/17 11:24 PM;troyronda;[~mastersingh24] [~yacovm] - I think we should have an item to deal with expiration everywhere but validation.;;;","19/Jun/17 10:48 PM;elli-androulaki;[~mastersingh24], [~troyronda], [~yacovm], I think there are a few non-negligibly important reasons to opt in for expiration being considered (even if post-v1 only) at tx and block validation time.

One reason is that this would considerably decrease the size of announced CRLs. CRLs would need to be populated only with the id-s of certificates that haven't expired yet, and not with the rest of them. 

Another reason, as I see it is that in many companies have regulations for renewal of certificates every fixed time period. Reasons for such regulations are a lot, among others also compliance with new standards that may have been produced in the meantime. Expiration enablement of fabric credentials used at validation time would provide a clean way towards enforcing such regulations on the platform. It would anyway look weird if, e.g., a long expired certificate appears in a transaction's endorsements years after the certificate has expired, and the endorsement is accepted. 

Assuming a block-wide trusted timestamp, to support expiration in the current MSP we would need to extend the MSP validateIdentity function such that it takes as argument a timestamp. This timestamp acts as the base for comparison and decision for certificate expiration.

Would you think it would be a big of an issue if we extend the interface post-v1? 

For the upgrade process, one could use the same mechanism that we use for chaincode (installation/instantiation) upgrade, no? Have peers run the upgraded fabric/msp locally that is backward compatible, and only exercise the new version as soon as proper fabric ""upgrade"" announcement is advertised via the channels. Just a thought. ;;;","19/Jul/17 12:56 AM;passkit;I second Elli's points and add a couple from my perspective.

I think many users would be shocked to learn that an expired certificate can be used to query and invoke in v1.0.0.

With regard to CRLs and the significance of expiry:

*Firstly*
Let's deal with the practicality of regulating access solely through CRLs.  Currently there is an assumption that the revoker of a certificate will handle generation and distribution of a CRL.  I would strongly suggest that anyone who supports that assumption try to generate a CRL themselves using Fabric-CA.  You will need to manually query the database, parse the information into an openssl format, build an openssl config file, create the CRL and sign it with the CA key - this is not something that users are going to be able to perform.

Generating the CRL is only half of the story.  You then need to distribute that CRL across the network.  A large network may have many peers outside the direct control of the CA Issuing entity, creating a logistical problem that simply would not be economical or timely at scale. (Edit: I now understand that a config update would handle this, but that in itself is no small task).

Ultimately, CA's would need to build both their own CRL tools, and an MSP Management/Deployment system, which kind of defeats the whole point of having a CA tool within the Fabric ecosystem.

*Secondly*
For Financial Services and other regulated industries, parties and/or practitioners need to be licensed or need to maintain certifications in order to initiate or participate in transactions.  Customer data has to be regularly vetted to be able to continue to trade.  With the expect for malpractice or other irregularities which would result in immediate suspension of privileges, most of these restrictions are typically time bound.  Issuing certificates in line with such time limits provides an efficient and low cost way of preventing unauthorised transactions - with CRLs available as an emergency measure.  

For high volume subscription based services where participation privileges depend on the paying of monthly or annual dues; again CRLs are not an effective solution.

On a side note - the Fabric-CA also doesn't allow for the setting of variable expiry dates.  This should also be addressed.

*Thirdly*
 Certificate/hey pairs are bearer instruments (meaning if you are in possession of the files, you can assume the identity) - they are not particularly effective at validating identity.  Regular rotation of certificates may in some use cases be able to mitigate the risk of certificates falling into the wrong hands (although in other cases, long expiry/low rotation may be better).

For architecture identity (endorsers, orderers, etc.) then long expiry and CRLs are probably appropriate.  But for client/transaction identity then expiry is a much more effective method of management.

The challenge then becomes how to validate that, at the time of the transaction; the certificate used to sign or endorse was valid.  We have faced this issue before with Apple when generating signed content for Wallet that has the opportunity to be installed after the certificate has expired.  A 2 stage check of the certificate expiry vs. a signing date embedded in the signature; together with a check of the certificate against the CRL in force at the time of the signature is how this is accomplished.
;;;","22/Jul/17 8:09 PM;mastersingh24;[~passkit] - As an aside, we will be making CRL creation / management easier with Fabric CA going forward.

 

Clearly we can enforce expiration as part of admission control - i.e. when a client submits a transaction for endorsement or when a client submits a transaction to the orderer.  If we wish to support short-lived certificates (e.g. transaction certificates) we'll need to add a ""skew"" parameter as we can't guarantee that all nodes will have the exact same time and need to account for drift (this concept is nothing new - it was used in web services with signed SAML assertions for a long time).  If we just did this, then we don't really need to do anything special or change any formats (we'd just need to ensure that we check for expiry at admission time).

Next, we'd need to assess whether or not this leaves a hole at validation time since technically it would be possible to avoid endorsement and submit transactions directly to the orderer.  This of course could be hard to pull off depending on the actual endorsement policy for a specific chaincode - so perhaps we really could get away with not enforcing expiration during the commit / validation phase.

If we did decide that we needed to do this, then adding a timestamp to endorsement proposals should solve this problem.  The client would need to add a timestamp to the endorsement proposal and again we could use a ""skew"" time to ensure that the client did not set the timestamp in the past to leverage an expired certificate.  Then at validation / commit time, we would use this timestamp to check for expiration.   I'm not convinced that we need to go this far, but obviously needs to deeper thought

 ;;;","22/Jul/17 8:59 PM;yacovm;{quote}Next, we'd need to assess whether or not this leaves a hole at validation time since technically it would be possible to avoid endorsement and submit transactions directly to the orderer. {quote}

Isn't it possible to add a filter to the broadcast that also checks the certificates of the endorsers are valid / not expired?;;;","07/Aug/17 8:25 PM;elli-androulaki;We could also go all the way to what [~vukolic], [~marko.vukolic] suggested with adding a real-time indication inside a signed (by the orderers) block. Then all time-related decisions, i.e., transaction expiration (to limit the replays), msp identity expiration could leverage the time of current block as reference, along with the time listed in the transaction or identity respectively.

Though my understanding of what Marko said was that this is a complex process when orderers can be byzantine, for a crash-fault tolerant model, this can be easier(?)

Real-time integration inside the blockchain can also be useful for many applications that depend on it.;;;","10/Aug/17 12:40 PM;passkit;Just read through the updated description.

We have a similar problem working with Apple Wallet, in that wallet content needs to be signed and the package signature validated before the content can be ingested into the wallet.  There is a similar case that signed content bundles may be residing in emails or backups, etc. and may need to be validated long after the certificate has been signed.

To solve this, the signature contains the signing date.  When validating the transaction, the certificate expiry is checked against the signing date and crl and a decision can be made whether, at the time of the signature, that certificate was valid.

I don't claim to know the intricacies of how Fabric validates and I am most likely oversimplifying or overlooking something, but none the less, both proposals above seem a little over-engineered.;;;","10/Aug/17 5:27 PM;elli-androulaki;Hi [~passkit],

Ok, so let me see if i understand this correctly as I do not have the full context of the use-case that you are referring to.

To my understanding you have the need to validate certificates asynchronously (i.e., even after the certificate has expired), and what you do is that you include timestamps inside the signed data (generated with that certificate's secret key). In this way you can use these timestamps (that you trust) as time of reference for deciding of whether the certificate was valid at the time the signature was produced. Is this the case?

So in Fabric as you mentioned we need to be able to assess the validity of certificates of all parties -- clients and endorsers (as part of endorsement policy) – at transaction validation time in a deterministic way. However, our trust model does not allow that we trust the signer of the data to include a correct timestamp in what it signs: an expired and later compromised client may attempt to add a faulty timestamp in its signed data to have the signature accepted by the system, even if the actual certificate was expired when the signature was produced.

For clients we could have the endorsers of a chaincode actually doing the check of client validity at endorsement time (using their local time), and then have the committing peers take for granted the validity of client certificate. 

However, i) orderers cannot rely on such checks cause they cannot assess the validity of endorsement policy of a chaincode/credibility of endorsers, and would need some other way to figure out clients validity, while ii) we still have the issue for validating (potentially expired & compromised) endorser certificates.

The problem is brought down to having a timestamp for each given transaction, which

 - we can trust to use as reference for validating certificates included in that transaction, i.e., generated by parties that do not have motives to modify this timestamp to alter the certificate validation result

 - would be the same for all entities that receive this transaction at commitment phase, so that validation of certificates included in a transaction ends up being a deterministic process.

Any suggestions are more than welcome!

 ;;;","10/Aug/17 6:28 PM;passkit;Elli, yes you are correct in your understanding, you have exactly described our case.

At the root of any transaction, you have the transaction proposal. This (surely) contains an auditable and immutable point in time when it was first submitted to the network, and we enforce that this time cannot be in the past. _Note the actual time of the asset exchange recorded in the proposal, could potentially be in the past, provided the chain logic allowed it._

Any subsequent endorsements or ordering must be ahead of the proposal timestamp. All nodes in the commitment phase will therefore need to have to have a current certificate at the time of signing, as backdating an endorsement date would (with all probability) result in a date earlier than the proposal submission date.

As blocks are immutable, I am having trouble understanding why would retrospective validation would pose an issue?

What I don't understand is:
{quote}However, our trust model does not allow that we trust the signer of the data to include a correct timestamp in what it signs: an expired and later compromised client may attempt to add a faulty timestamp in its signed data to have the signature accepted by the system, even if the actual certificate was expired when the signature was produced.
{quote}
Why, if a timestamp is signed, would you not allow it to be trusted. Under what circumstances could a later compromised client retrospectively alter a transaction already committed to the chain?

As mentioned, I do not know the intricate details of how each party determines validity, but it just strikes me as odd that it would require one of the options above to address this issue. I'm left feeling that we are uncovering some fundamental shortcomings in the original design.;;;","11/Aug/17 1:02 AM;mastersingh24;[~passkit]  -  We basically have 3 issues to deal with:

1) Distributed trust (or lack thereof)

2) Distributed time

3) Determinism (which is problematic mainly due to 2) but potentially with 1) as well)

 

In thinking about this more, here's a proposal:

1) We should be able to enforce expiration as part of admission control - i.e. when a peer receives a request and when the orderer receives a request.  If we get into short-lived transaction certificates, we can also add an agreed upon ""skew"" time (as was common practice for signed SAML asserts in the WS-* days)

 

2) For endorsement responses, we could actually add a timestamp as part of the signed response.  I'd advice that we actually use some type of skew here to account for drift (e.g. round to the nearest 15 min, 30 min, hour, whatever).  The skew could add a small window where an expired cert could get through, but hopefully 1) would filter out most bad client transactions.   I think it's fair to assume / force that all peers in the network be responsible for maintaining accurate time and using a skew to round up will help given that drift from time servers is usually in minutes

 

So now by the time the transaction gets back to the peer for validation, you'd have the timestamp for when the transaction occurred in the *signed proposal response* 

Maybe I'm missing something but seems like something like this would work.

 

[~elli-androulaki] thoughts?

 

 ;;;","19/Aug/17 1:41 AM;elli-androulaki;Regardless of the way we choose to allow for expiration, identity validation needs to take as input a timestamp of reference, hence we created FAB-5778.;;;","21/Aug/17 11:21 PM;elli-androulaki;[~mastersingh24], per your recommendation, we created a document listing potential ways to support identity expiration in Fabric:
[https://docs.google.com/document/d/1nevpNkdGTRne2rLyrnVlwY9_keLnL5DTmE_tZb5QgoM/edit?usp=sharing]

[~mastersingh24], [~passkit], [~jyellick], [~troyronda], [~yacovm] your input would be very welcome!

Adding [~angelo.decaro], [~ales], [~mne].;;;","19/Oct/17 1:29 AM;elli-androulaki;Hi, I updated the document on support for [identity expiration support|https://docs.google.com/document/d/1nevpNkdGTRne2rLyrnVlwY9_keLnL5DTmE_tZb5QgoM/edit?usp=sharing] based on more recent discussions on this with [~jyellick]. Feedback on the document or in this JIRA would be very welcome!;;;","23/Feb/18 6:21 AM;mastersingh24;Moving this to the 1.3 bucket for now;;;","06/Oct/18 6:41 PM;vdods;I'm getting ""x509: certificate has expired or is not yet valid"" because of this again, even though the temp hack in mspimplvalidate.go getValidityOptsForCert should prevent this by construction (because it sets the validation options CurrentTime to one second after the NotBefore time for the cert).  Oddly, adding time.Minute also fails, but adding time.Hour works.  I've pored over the relevant code (even the crypto/x509 and time packages), added a bunch of debug printouts of my own making the analogous cert time checks, and can't find why this shouldn't work already.  It's really perplexing.;;;","06/Oct/18 7:43 PM;vdods;I haven't been able to find a workaround besides making my own fork of fabric and hacking the hack to add time.Hour instead of time.Second.  What do people think about making this change in the codebase?;;;","06/Oct/18 9:51 PM;yacovm;What is the expiration (NotBefore field) of the CAs in the certification chain of the leaf certificate?;;;"
Disable brittle test TestConnectToAnchorPeers,FAB-3679,16358,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,05/May/17 10:21 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,08/May/17 3:47 AM,v1.0.0,,,,,fabric-gossip,,,,,,,0,gossip,,,,,,,"This test fails from time to time, and I am going to restructure the logic that this test tests as part of https://jira.hyperledger.org/browse/FAB-3109 so most likely would also need to change the test itself.

Disabling the test in the meantime, and it will be introduced later when it will be more stable.",,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-290,,,,,,,,,,"1|hzxtl3:",,,,,,Sprint 16 - Gossip,,,,,,,,,,,,,,,,,,,,,yacovm,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Chaincode deployment fails with static Orgleader,FAB-3680,16363,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,dzhoou,dzhoou,05/May/17 11:46 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,07/Jun/17 8:59 PM,v1.0.0-alpha1,,,WON'T FIX,,fabric-peer,,,,,,,0,,,,,,,,"Recently there was an issue deploying chaincode, when we want to obtain the following peer configuration:

{code}
       peer0                                   peer1
  ----------------                        ----------------
  |     cc0      | =======channel0======= |     cc0      |
  ----------------                        ----------------
  |              |        channel1======= |     cc1      |
  ----------------                        ----------------
{code}



where:
*     peer0 and peer1 are in the same organization, with peer0 as the OrgLeader (CORE_PEER_GOSSIP_ORGLEADER=true)
*     channel0, carrying the chaincode cc0, is joined to peer0 and peer1
*     channel1, carrying cc1, is joined to peer1 only

And cc1 invocations would fail with an error like ""failed to obtain cds for cc1 - transaction not found cc1/channel1"".

This error indicates that the cc1 was not found on channel1, despite install and instantiate calls coming through in the init script.

Here is my understanding of the problem:

*     Chaincodes instantiations are recorded in a transaction proposal, and when approved, recorded in a block
*     Blocks are propagated by the OrgLeader through Gossip messages
*     The OrgLeader can only send Gossip messages to channels it is joined to

And the problem occurs when:

*     Chaincodes are instantiated on peer1, channel1
*     Since peer0, the OrgLeader, does not have access to the channel1, it cannot propagate chaincode blocks to channel1 through Gossip
*     peer1 does not receive chaincode blocks, even though the endorsement was received

And since peer cannot find deployed chaincodes in its blocks, chaincode invocation fails.

Possible changes:
*     ""peer chaincode instantiate"" should wait for actual chaincode block event before returning success. Right now it returns success despite the fact that chaincode blocks are not added.
*     Change the way OrgLeader behaves, either:
**        make chaincode block delievery not depend on OrgLeader (have channel-specific leaders instead?)
**        make OrgLeader able to deliver blocks to any channel, regardless of its membership in that channel

To reproduce the problem, copy the following attached files: 
{code}
cp script.sh $GOPATH/src/github.com/hyperledger/fabric/examples/e2e_cli/scripts/
cp peer-base.yaml $GOPATH/src/github.com/hyperledger/fabric/examples/e2e_cli/base/
cp docker-compose-base.yaml $GOPATH/src/github.com/hyperledger/fabric/examples/e2e_cli/base/
{code}

and run
{code}
cd $GOPATH/src/github.com/hyperledger/fabric/examples/e2e_cli
./network_setup.sh up
{code}
The script should timeout during query/invoke actions and return error.",,dzhoou,gennadyl,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"06/May/17 12:08 AM;dzhoou;docker-compose-base.yaml;https://jira.hyperledger.org/secure/attachment/10708/docker-compose-base.yaml","06/May/17 12:08 AM;dzhoou;peer-base.yaml;https://jira.hyperledger.org/secure/attachment/10707/peer-base.yaml","05/May/17 11:45 PM;dzhoou;script.sh;https://jira.hyperledger.org/secure/attachment/10706/script.sh",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxtnb:",,,,,,,,,,,,,,,,,,,,,,,,,,,dzhoou,gennadyl,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"24/May/17 6:58 PM;gennadyl;From gossip point of view, everything work as designed - peer0 can't pass blocks for channel1, it didn't know about channel1 at all. Solution for this kind of problems is leader election mechanism - it ensures that each channel in each organization has its own leader to connect to ordering service.

I will remove fabric-gossip from defect, because it is not gossip thing at all.;;;","02/Jun/17 5:17 AM;muralisr;[~dzhoou] This is not a defect. As both are in the same org, would there be any reason you cannot make peer1 the org leader ? It knows about both channels.;;;","07/Jun/17 8:58 PM;muralisr;[~dzhoou] Will close this and the duplicate FAB-3637 for now. Please do reopen if you would like to discuss further.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Log Warning if CouchDB interaction takes longer than X seconds,FAB-3681,16365,,Story,To Do,FAB,Fabric,software,denyeart,,,High,,chris.elder,denyeart,denyeart,06/May/17 12:22 AM,09/Jan/20 9:55 AM,28/Oct/23 2:59 AM,,,,,,,fabric-ledger,,,,,,,0,help-wanted,,,,,,,Log Warning in peer if CouchDB interaction takes longer than X seconds.,,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzwruk:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Activate RTD(Readthedocs) weebhook in fabric-ca github repository,FAB-3682,16374,16248,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ryjones,rameshthoomu,rameshthoomu,06/May/17 1:02 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,25/May/17 10:38 PM,,,,v1.0.0,,fabric-build,fabric-quality,,,,,,0,build-system,Documentation,quality,,,,,Activate Readthedocs webhook in fabric-ca github repository to enable documentation build process for fabric-ca repository.,,ChristopherFerris,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3630,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxtnj:",,,,,,Sprint 16 - Membership Service,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"25/May/17 8:42 AM;ChristopherFerris;I cannot do this;;;","25/May/17 10:38 PM;rameshthoomu;[~ryjones] activated webhook for hyperledger/fabric-ca repository. Closing this issue now.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Default $CHANNEL_NAME is not set in e2e_cli/generateArtifacts.sh,FAB-3684,16382,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yuki-kon,yuki-kon,yuki-kon,06/May/17 3:50 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,08/May/17 3:33 AM,,,,v1.0.0,,fabric-peer,,,,,,,0,,,,,,,,"Steps to reproduce 
--------------------------
1. move to e2e_cli directly
cd fabric/examples/e2e_cli
2. run generateArtifacts.sh without channel name
./generateArtifacts.sh

Expected Results
--------------------------
Artifacts for default channel ""mychannel"" is generated.

Acctual Results
--------------------------
generateArtifacs fails while outputing the following error log.
Channel name is not set. $CHANNEL_NAME is blank.

{code:java}
--
ubuntu@hyperledger-devenv:c9ecf9e:/opt/gopath/src/github.com/hyperledger/fabric/examples/e2e_cli$ ./generateArtifacts.sh


Using cryptogen -> /opt/gopath/src/github.com/hyperledger/fabric/examples/e2e_cli/../../release/linux-amd64/bin/cryptogen

##########################################################
##### Generate certificates using cryptogen tool #########
##########################################################
org1.example.com
2017-05-05 18:00:32.367 UTC [bccsp] GetDefault -> WARN 001 Before using BCCSP, please call InitFactories(). Falling back to bootBCCSP.
2017-05-05 18:00:32.406 UTC [bccsp] GetDefault -> WARN 002 Before using BCCSP, please call InitFactories(). Falling back to bootBCCSP.
2017-05-05 18:00:32.408 UTC [bccsp] GetDefault -> WARN 003 Before using BCCSP, please call InitFactories(). Falling back to bootBCCSP.
2017-05-05 18:00:32.411 UTC [bccsp] GetDefault -> WARN 004 Before using BCCSP, please call InitFactories(). Falling back to bootBCCSP.
2017-05-05 18:00:32.412 UTC [bccsp] GetDefault -> WARN 005 Before using BCCSP, please call InitFactories(). Falling back to bootBCCSP.
org2.example.com
2017-05-05 18:00:32.415 UTC [bccsp] GetDefault -> WARN 006 Before using BCCSP, please call InitFactories(). Falling back to bootBCCSP.
2017-05-05 18:00:32.417 UTC [bccsp] GetDefault -> WARN 007 Before using BCCSP, please call InitFactories(). Falling back to bootBCCSP.
2017-05-05 18:00:32.419 UTC [bccsp] GetDefault -> WARN 008 Before using BCCSP, please call InitFactories(). Falling back to bootBCCSP.
2017-05-05 18:00:32.421 UTC [bccsp] GetDefault -> WARN 009 Before using BCCSP, please call InitFactories(). Falling back to bootBCCSP.
2017-05-05 18:00:32.422 UTC [bccsp] GetDefault -> WARN 00a Before using BCCSP, please call InitFactories(). Falling back to bootBCCSP.
2017-05-05 18:00:32.425 UTC [bccsp] GetDefault -> WARN 00b Before using BCCSP, please call InitFactories(). Falling back to bootBCCSP.
2017-05-05 18:00:32.427 UTC [bccsp] GetDefault -> WARN 00c Before using BCCSP, please call InitFactories(). Falling back to bootBCCSP.
2017-05-05 18:00:32.429 UTC [bccsp] GetDefault -> WARN 00d Before using BCCSP, please call InitFactories(). Falling back to bootBCCSP.

Using configtxgen -> /opt/gopath/src/github.com/hyperledger/fabric/examples/e2e_cli/../../release/linux-amd64/bin/configtxgen
##########################################################
#########  Generating Orderer Genesis block ##############
##########################################################
2017-05-05 18:00:32.485 UTC [common/configtx/tool] main -> INFO 001 Loading configuration
2017-05-05 18:00:32.493 UTC [msp] getMspConfig -> INFO 002 intermidiate certs folder not found at [/opt/gopath/src/github.com/hyperledger/fabric/examples/e2e_cli/crypto-config/ordererOrganizations/example.com/msp/intermediatecerts]. Skipping.: [stat /opt/gopath/src/github.com/hyperledger/fabric/examples/e2e_cli/crypto-config/ordererOrganizations/example.com/msp/intermediatecerts: no such file or directory]
2017-05-05 18:00:32.493 UTC [msp] getMspConfig -> INFO 003 crls folder not found at [/opt/gopath/src/github.com/hyperledger/fabric/examples/e2e_cli/crypto-config/ordererOrganizations/example.com/msp/intermediatecerts]. Skipping.: [stat /opt/gopath/src/github.com/hyperledger/fabric/examples/e2e_cli/crypto-config/ordererOrganizations/example.com/msp/crls: no such file or directory]
2017-05-05 18:00:32.493 UTC [msp] getMspConfig -> INFO 004 MSP configuration file not found at [/opt/gopath/src/github.com/hyperledger/fabric/examples/e2e_cli/crypto-config/ordererOrganizations/example.com/msp/config.yaml]: [stat /opt/gopath/src/github.com/hyperledger/fabric/examples/e2e_cli/crypto-config/ordererOrganizations/example.com/msp/config.yaml: no such file or directory]
2017-05-05 18:00:32.495 UTC [msp] getMspConfig -> INFO 005 intermidiate certs folder not found at [/opt/gopath/src/github.com/hyperledger/fabric/examples/e2e_cli/crypto-config/peerOrganizations/org1.example.com/msp/intermediatecerts]. Skipping.: [stat /opt/gopath/src/github.com/hyperledger/fabric/examples/e2e_cli/crypto-config/peerOrganizations/org1.example.com/msp/intermediatecerts: no such file or directory]
2017-05-05 18:00:32.495 UTC [msp] getMspConfig -> INFO 006 crls folder not found at [/opt/gopath/src/github.com/hyperledger/fabric/examples/e2e_cli/crypto-config/peerOrganizations/org1.example.com/msp/intermediatecerts]. Skipping.: [stat /opt/gopath/src/github.com/hyperledger/fabric/examples/e2e_cli/crypto-config/peerOrganizations/org1.example.com/msp/crls: no such file or directory]
2017-05-05 18:00:32.495 UTC [msp] getMspConfig -> INFO 007 MSP configuration file not found at [/opt/gopath/src/github.com/hyperledger/fabric/examples/e2e_cli/crypto-config/peerOrganizations/org1.example.com/msp/config.yaml]: [stat /opt/gopath/src/github.com/hyperledger/fabric/examples/e2e_cli/crypto-config/peerOrganizations/org1.example.com/msp/config.yaml: no such file or directory]
2017-05-05 18:00:32.496 UTC [msp] getMspConfig -> INFO 008 intermidiate certs folder not found at [/opt/gopath/src/github.com/hyperledger/fabric/examples/e2e_cli/crypto-config/peerOrganizations/org2.example.com/msp/intermediatecerts]. Skipping.: [stat /opt/gopath/src/github.com/hyperledger/fabric/examples/e2e_cli/crypto-config/peerOrganizations/org2.example.com/msp/intermediatecerts: no such file or directory]
2017-05-05 18:00:32.496 UTC [msp] getMspConfig -> INFO 009 crls folder not found at [/opt/gopath/src/github.com/hyperledger/fabric/examples/e2e_cli/crypto-config/peerOrganizations/org2.example.com/msp/intermediatecerts]. Skipping.: [stat /opt/gopath/src/github.com/hyperledger/fabric/examples/e2e_cli/crypto-config/peerOrganizations/org2.example.com/msp/crls: no such file or directory]
2017-05-05 18:00:32.497 UTC [msp] getMspConfig -> INFO 00a MSP configuration file not found at [/opt/gopath/src/github.com/hyperledger/fabric/examples/e2e_cli/crypto-config/peerOrganizations/org2.example.com/msp/config.yaml]: [stat /opt/gopath/src/github.com/hyperledger/fabric/examples/e2e_cli/crypto-config/peerOrganizations/org2.example.com/msp/config.yaml: no such file or directory]
2017-05-05 18:00:32.497 UTC [common/configtx/tool] doOutputBlock -> INFO 00b Generating genesis block
2017-05-05 18:00:32.499 UTC [common/configtx/tool] doOutputBlock -> INFO 00c Writing genesis block

#################################################################
### Generating channel configuration transaction 'channel.tx' ###
#################################################################
flag needs an argument: -channelID
Usage of /opt/gopath/src/github.com/hyperledger/fabric/examples/e2e_cli/../../release/linux-amd64/bin/configtxgen:
  -asOrg string
        Performs the config generation as a particular organization, only including values in the write set that org (likely) has privilege to set
  -channelID string
        The channel ID to use in the configtx (default ""testchainid"")
  -inspectBlock string
        Prints the configuration contained in the block at the specified path
  -inspectChannelCreateTx string
        Prints the configuration contained in the transaction at the specified path
  -outputAnchorPeersUpdate string
        Creates an config update to update an anchor peer (works only with the default channel creation, and only for the first update)
  -outputBlock string
        The path to write the genesis block to (if set)
  -outputCreateChannelTx string
        The path to write a channel creation configtx to (if set)
  -profile string
        The profile from configtx.yaml to use for generation. (default ""SampleInsecureSolo"")

#################################################################
#######    Generating anchor peer update for Org1MSP   ##########
#################################################################
2017-05-05 18:00:32.602 UTC [common/configtx/tool] main -> INFO 001 Loading configuration
2017-05-05 18:00:32.609 UTC [common/configtx/tool] doOutputAnchorPeersUpdate -> INFO 002 Generating anchor peer update
2017-05-05 18:00:32.610 UTC [common/configtx/tool] main -> CRIT 003 Error on inspectChannelCreateTx: Must specify an organization to update the anchor peer for

#################################################################
#######    Generating anchor peer update for Org2MSP   ##########
#################################################################
2017-05-05 18:00:32.653 UTC [common/configtx/tool] main -> INFO 001 Loading configuration
2017-05-05 18:00:32.661 UTC [common/configtx/tool] doOutputAnchorPeersUpdate -> INFO 002 Generating anchor peer update
2017-05-05 18:00:32.661 UTC [common/configtx/tool] main -> CRIT 003 Error on inspectChannelCreateTx: Must specify an organization to update the anchor peer for

{code}",commit 58f33ece8cea77c061b516224a7c9646423c748b,yuki-kon,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxtpb:",,,,,,,,,,,,,,,,,,,,,,,,,,,yuki-kon,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"06/May/17 4:03 AM;yuki-kon;This is a patch set. https://gerrit.hyperledger.org/r/#/c/9025/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
CouchDB in docker pauses for 30s occassionally,FAB-3685,16390,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,chris.elder,denyeart,denyeart,06/May/17 11:14 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,06/May/17 11:25 AM,,,,,,fabric-ledger,,,,,,,0,,,,,,,,"For details see the bug opened in CouchDB jira:
https://issues.apache.org/jira/browse/COUCHDB-3409",,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3318,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx4nj:",,,,,,Sprint 16  - Ledger,,,,,,,,,,,,,,,,,,,,,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"06/May/17 11:25 AM;denyeart;Bug was previously opened.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
CouchDB timeout causes error upon retry,FAB-3686,16391,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,chris.elder,denyeart,denyeart,06/May/17 11:22 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,01/Jun/17 8:37 PM,v1.0.0-alpha1,,,v1.0.0,,fabric-ledger,,,,,,,0,,,,,,,,"If a state db document update to CouchDB has a http timeout (currently defaulted at 35s), the transaction may eventually succeed in CouchDB, but the peer will do a retry using the previous CouchDB document revision number.  The retry will therefore fail due to revision number conflict.  The peer will think it failed, when in fact it succeeded.  Peer panics when it can't process the block to completion, since subsequent blocks should not be processed. Need to fix retry logic to account for this scenario, potentially by introducing a higher level retry that could get the new revision number for a final attempt.",,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx4p3:",,,,,,Sprint 16  - Ledger,,,,,,,,,,,,,,,,,,,,,denyeart,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
/examples/cluster logging is chatty and unbounded,FAB-3687,16392,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,greg.haskins,greg.haskins,greg.haskins,06/May/17 9:58 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,07/May/17 12:44 AM,,,,,,fabric-tools,,,,,,,0,,,,,,,,"The current code configures the peer to be quite chatty and we do not place any limits on logfile size.  Therefore,  it is quite easy to fill up disk space.  Suggest enabling log rotation and perhaps reducing verbosity.",,greg.haskins,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxtpz:",,,,,,,,,,,,,,,,,,,,,,,,,,,greg.haskins,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
dchackfest fabric binaries link is broken,FAB-3689,16394,,Bug,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,,rameshthoomu,rameshthoomu,07/May/17 2:14 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,07/May/17 11:21 AM,,,,,,fabric-build,fabric-quality,,,,,,0,Documentation,quality,,,,,,"dchackfest fabric binaries link is broken; 

{code:java}
curl -L https://logs.hyperledger.org/sandbox/vex-yul-hyp-jenkins-2/fabric-verify-x86_64_1/4/release.tar.gz -o release.tar.gz 2> /dev/null;  tar -xvf release.tar.gz
{code}
",,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxtqf:",,,,,,,,,,,,,,,,,,,,,,,,,,,rameshthoomu,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"08/May/17 11:13 PM;rameshthoomu;updated new fabric-binaries link in [https://github.com/hyperledger/fabric/blob/master/docs/source/getting_started.rst] and in [https://github.com/hyperledger/fabric/blob/master/examples/dchackfest/samples/e2e/README.rst]

new fabric binaries link: https://nexus.hyperledger.org/content/repositories/snapshots/sandbox/vex-yul-hyp-jenkins-2/fabric-binaries/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
SDK Node e2e tests cannot obtain CC with name 'end2end',FAB-3690,16395,,Bug,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,muralisr,rameshthoomu,rameshthoomu,07/May/17 2:46 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,09/May/17 10:28 PM,,,,v1.0.0-alpha2,,fabric-quality,fabric-sdk-node,,,,,,0,alpha2,build-system,node-SDK,quality,,,,"observed node e2e tests are failing consistently with the below error

{code:java}
00:20:12.344 error: [Chain.js]: Chain-sendPeersProposal - Promise is rejected: Error: failed to obtain cds for end2end - could not find chaincode with name 'end2end'
{code}

Failing commit Levels:

{code:java}
=======> FABRIC PEER COMMIT NUMBER - 1d31ce3 =======> FABRIC CA COMMIT NUMBER - bb17e4e =======> FABRIC SDK NODE COMMIT NUMBER - dc026c6
{code}

Working commit levels:

{code:java}

=======> FABRIC PEER COMMIT NUMBER - 58f33ec =======> FABRIC CA COMMIT NUMBER - bb17e4e =======> FABRIC SDK NODE COMMIT NUMBER - dc026c6
{code}

Build logs are provided here:

https://jenkins.hyperledger.org/view/FIT/job/FIT-node-x86_64/463/artifact/gopath/src/github.com/hyperledger/fabric-sdk-node/test/fixtures/dockerlogfile.log","Jenkins x86_64, z and power",muralisr,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3698,FAB-3700,,,,,,,,,,,,,,,,,,,,,,,FAB-3040,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxtqn:",,,,,,,,,,,,,,,,,,,,,,,,,,,muralisr,rameshthoomu,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"07/May/17 9:15 PM;muralisr;Assigning to self assuming this is related to the problem with the default policy checks done in FAB-3300. We can move back to [~jimthematrix] if it turns out to be something else.

 

FYI [~jeffgarratt] [~rickr];;;","09/May/17 2:35 AM;muralisr;[~rameshthoomu] once [https://gerrit.hyperledger.org/r/#/c/9059|https://gerrit.hyperledger.org/r/#/c/9059/2]  (FAB-3700 ) is merged we shold be ready to test e2e completely.

[https://gerrit.hyperledger.org/r/#/c/9073/]  (FAB-3698) is already merged...;;;","09/May/17 10:28 PM;rameshthoomu;node end-2-end tests are working as expected. Tested on fabric commit # 0fe5cb2;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
misspellings found by misspell linter,FAB-3691,16404,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ChristopherFerris,ChristopherFerris,ChristopherFerris,07/May/17 8:40 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,08/May/17 5:14 AM,v1.0.0-alpha1,,,v1.0.0,,,,,,,,,0,quality,,,,,,,"a number of misspelled words found.

 

./bccsp/pkcs11/impl_test.go:1471:22: ""diffrent"" is a misspelling of ""different""
./bccsp/sw/impl_test.go:1377:22: ""diffrent"" is a misspelling of ""different""
./bccsp/utils/keys.go:211:50: ""diffrent"" is a misspelling of ""different""
./bccsp/utils/keys.go:215:61: ""diffrent"" is a misspelling of ""different""
./bccsp/utils/keys.go:247:50: ""diffrent"" is a misspelling of ""different""
./bccsp/utils/keys.go:407:50: ""diffrent"" is a misspelling of ""different""
./bccsp/utils/keys.go:442:50: ""diffrent"" is a misspelling of ""different""
./bddtests/context_endorser.go:319:46: ""reponse"" is a misspelling of ""response""
./common/config/msp/config.go:57:47: ""mulitply"" is a misspelling of ""multiply""
./common/config/msp/config.go:77:47: ""mulitply"" is a misspelling of ""multiply""
./common/config/msp/config.go:90:47: ""mulitply"" is a misspelling of ""multiply""
./bddtests/regression/go/ote/ote.go:436:37: ""mulitples"" is a misspelling of ""multiples""
./common/config/standardvalues.go:51:50: ""retuns"" is a misspelling of ""returns""
./common/config/standardvalues.go:98:63: ""occurances"" is a misspelling of ""occurrences""
./common/configtx/configmap.go:31:112: ""lenght"" is a misspelling of ""length""
./common/configtx/template.go:41:27: ""faciliate"" is a misspelling of ""facilitate""
./common/configtx/update_test.go:158:65: ""existant"" is a misspelling of ""existent""
./common/ledger/blkstorage/fsblkstorage/blockindex_test.go:89:54: ""orginal"" is a misspelling of ""original""
./common/ledger/util/ioutil.go:92:46: ""existance"" is a misspelling of ""existence""
./common/ledger/util/ioutil_test.go:107:24: ""direcotry"" is a misspelling of ""directory""
./common/policies/policy.go:233:62: ""mulitply"" is a misspelling of ""multiply""
./common/viperutil/config_test.go:69:46: ""expeced"" is a misspelling of ""expected""
./common/viperutil/config_test.go:122:52: ""expeced"" is a misspelling of ""expected""
./core/chaincode/handler.go:83:11: ""responsbile"" is a misspelling of ""responsible""
./core/committer/committer_impl.go:40:61: ""retreive"" is a misspelling of ""retrieve""
./core/common/ccprovider/cdspackage.go:51:9: ""convers"" is a misspelling of ""converts""
./core/common/ccprovider/ccprovider.go:302:9: ""convers"" is a misspelling of ""converts""
./core/common/ccprovider/sigcdspackage.go:51:9: ""convers"" is a misspelling of ""converts""
./core/endorser/endorser.go:330:26: ""propertly"" is a misspelling of ""property""
./core/ledger/kvledger/kv_ledger_provider_test.go:111:75: ""comitted"" is a misspelling of ""committed""
./core/ledger/kvledger/kv_ledger_provider_test.go:206:63: ""suppoed"" is a misspelling of ""supposed""
./core/ledger/kvledger/txmgmt/statedb/statecouchdb/query_wrapper.go:115:44: ""heirarchy"" is a misspelling of ""hierarchy""
./core/ledger/kvledger/txmgmt/statedb/statecouchdb/query_wrapper.go:132:42: ""stucture"" is a misspelling of ""structure""
./core/ledger/kvledger/txmgmt/txmgr/lockbasedtxmgr/lockbased_txmgr.go:92:27: ""aquired"" is a misspelling of ""acquired""
./core/ledger/kvledger/txmgmt/txmgr/lockbasedtxmgr/helper.go:162:44: ""intermidiate"" is a misspelling of ""intermediate""
./core/ledger/kvledger/txmgmt/validator/statebasedval/state_based_validator_test.go:142:50: ""commited"" is a misspelling of ""committed""
./core/ledger/ledger_interface.go:28:18: ""guarentees"" is a misspelling of ""guarantees""
./core/ledger/ledger_interface.go:123:106: ""enviroment"" is a misspelling of ""environment""
./core/ledger/kvledger/txmgmt/version/version.go:47:62: ""repectively"" is a misspelling of ""respectively""
./core/ledger/ledgermgmt/ledger_mgmt.go:68:17: ""guarentees"" is a misspelling of ""guarantees""
./core/peer/peer.go:373:44: ""assocaited"" is a misspelling of ""associated""
./core/scc/lscc/lscc.go:85:62: ""aroud"" is a misspelling of ""around""
./core/scc/lscc/lscc.go:582:11: ""guranteed"" is a misspelling of ""guaranteed""
./examples/ccchecker/init.go:31:54: ""closley"" is a misspelling of ""closely""
./examples/chaincode/go/chaincode_example04/chaincode_example04.go:34:18: ""arguements"" is a misspelling of ""arguments""
./examples/chaincode/go/map/map.go:46:19: ""arguements"" is a misspelling of ""arguments""
./examples/chaincode/go/utxo/util/util.go:57:35: ""sytle"" is a misspelling of ""style""
./examples/events/block-listener/block-listener.go:47:35: ""unkown"" is a misspelling of ""unknown""
./gossip/gossip/batcher_test.go:70:71: ""Inadaquate"" is a misspelling of ""Inadequate""
./gossip/gossip/channel/channel_test.go:687:41: ""responce"" is a misspelling of ""response""
./gossip/gossip/channel/channel_test.go:731:41: ""responce"" is a misspelling of ""response""
./msp/configbuilder.go:186:19: ""intermidiate"" is a misspelling of ""intermediate""
./orderer/common/filter/filter.go:46:61: ""commiting"" is a misspelling of ""committing""
./orderer/kafka/consumer.go:60:40: ""occuring"" is a misspelling of ""occurring""
./orderer/ledger/ram/impl.go:92:34: ""accomodate"" is a misspelling of ""accommodate""
./orderer/ledger/util.go:49:10: ""accomodate"" is a misspelling of ""accommodate""
./orderer/multichain/systemchain.go:92:43: ""accomodate"" is a misspelling of ""accommodate""
./orderer/sample_clients/broadcast_timestamp/client.go:80:69: ""braodcast"" is a misspelling of ""broadcast""
./orderer/sbft/simplebft/commit.go:54:17: ""comitted"" is a misspelling of ""committed""
./orderer/sbft/simplebft/simplebft_test.go:537:4: ""effectivelly"" is a misspelling of ""effectively""
./orderer/sbft/simplebft/simplebft_test.go:590:4: ""effectivelly"" is a misspelling of ""effectively""
./peer/chaincode/install_test.go:36:18: ""everthing"" is a misspelling of ""everything""
./peer/chaincode/package.go:141:42: ""packge"" is a misspelling of ""package""
./peer/node/start.go:62:43: ""temporarilly"" is a misspelling of ""temporarily""
./peer/node/start.go:96:53: ""paramaters"" is a misspelling of ""parameters""",,ChristopherFerris,,,,,,,,,,,,,,,,,,,,3600,3600,,0%,3600,3600,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxtwn:",,,,,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
add CONTRIBUTING.md to root link to CONTRIBUTING.rst in docs,FAB-3692,16405,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ChristopherFerris,ChristopherFerris,ChristopherFerris,07/May/17 11:24 AM,21/Jul/18 3:55 AM,28/Oct/23 2:59 AM,08/May/17 3:32 AM,v1.0.0-alpha1,,,v1.0.0,,fabric-docs,,,,,,,0,,,,,,,,add CONTRIBUTING.md to root link to CONTRIBUTING.rst in docs,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,3600,3600,,0%,3600,3600,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzxtwv:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fix error handling in peer channel,FAB-3694,16407,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,baohua,baohua,baohua,07/May/17 10:55 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,08/May/17 6:02 AM,,,,v1.0.0,,fabric-peer,,,,,,,0,peer,,,,,,,"The error handling is not in-use now.

```go

cmdFact.BroadcastFactory = func() (common.BroadcastClient, error) \{
 return common.GetBroadcastClient(orderingEndpoint, tls, caFile)
}

if err != nil \{
 return nil, fmt.Errorf(""Error getting broadcast client: %s"", err)
}

```",,baohua,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxtxb:",,,,,,,,,,,,,,,,,,,,,,,,,,,baohua,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"07/May/17 11:03 PM;baohua;https://gerrit.hyperledger.org/r/#/c/9055/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fix endorser and orderer requirement in peer channel cmd,FAB-3695,16408,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,baohua,baohua,baohua,07/May/17 11:23 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,25/May/17 10:59 PM,,,,v1.0.0,,fabric-peer,,,,,,,0,peer,,,,,,,"The existing logic is wrong by using orderer as endorser, and there is no endorer required conditional branch.

```go

if isOrdererRequired \{
 cmdFact.EndorserClient, err = common.GetEndorserClient()
 if err != nil \{
 return nil, fmt.Errorf(""Error getting endorser client %s: %s"", channelFuncName, err)
 }
} else \{

...

}

```

 ",,baohua,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxtxj:",,,,,,,,,,,,,,,,,,,,,,,,,,,baohua,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"07/May/17 11:32 PM;baohua;https://gerrit.hyperledger.org/r/#/c/9057/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
node SDK need to set chainId in the 2nd argument to LSCC calls,FAB-3696,16409,16395,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,jimthematrix,jimthematrix,jimthematrix,07/May/17 11:55 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,10/May/17 11:16 PM,,,,,,fabric-sdk-node,,,,,,,0,,,,,,,,current set to `default` but should have been the target chain ID,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3697,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxtxr:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"10/May/17 11:16 PM;jimthematrix;fixed as part of https://gerrit.hyperledger.org/r/#/c/9059/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
java SDK need to set chainId in the 2nd argument to LSCC calls,FAB-3697,16410,16395,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,rickr,jimthematrix,jimthematrix,07/May/17 11:56 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,09/May/17 1:57 AM,,,,,,fabric-sdk-node,,,,,,,0,,,,,,,,current set to `default` but should have been the target chain ID,,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3696,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxtxz:",,,,,,,,,,,,,,,,,,,,,,,,,,,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"09/May/17 1:57 AM;rickr;https://gerrit.hyperledger.org/r/#/c/9099/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
default instantiation policy needs to be reworked,FAB-3698,16411,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,muralisr,muralisr,muralisr,07/May/17 11:59 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,09/May/17 2:34 AM,,,,,,fabric-peer,,,,,,,0,,,,,,,,"The default instantiation policy uses the local MSP ID for validation - this will cause problems when using multiple endorsers

This needs to be fixed to allow a general default policy of any admin from the orgs in the channel so the general instantiation endorsement will work correctly",,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3690,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxty7:",,,,,,Sprint 16  - Endorser,,,,,,,,,,,,,,,,,,,,,muralisr,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add support of specifying consortium when creating channel,FAB-3699,16412,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,baohua,baohua,baohua,08/May/17 12:02 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,15/Jun/17 12:02 PM,,,,,,fabric-peer,,,,,,,0,peer,,,,,,,"Currently, when creating peer channel, it only support an inherent default consortium

Will use -c to specify a consortium to use to create channels.

And suggest using -C for the channel name, which is the same with peer chaincode cmds.",,baohua,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxtyf:",,,,,,,,,,,,,,,,,,,,,,,,,,,baohua,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"08/May/17 12:25 AM;baohua;https://gerrit.hyperledger.org/r/#/c/9061/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
SDKs need to send chainid to LSCC's instantiate request,FAB-3700,16413,,Bug,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,jimthematrix,muralisr,muralisr,08/May/17 12:04 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,10/May/17 11:11 PM,,,,,,,,,,,,,0,,,,,,,,"LSCC takes a channel name as an argument. While strictly should't be required (we need to extract it from the the proposal header) this has been there for a while and is now being exercised. SDKs need to make sure the correct channel name is being sent as LSCC argument to the instantiation.

We will also investigate removing the channel args later.",,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3690,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxtyn:",,,,,,Sprint 16  - Endorser,,,,,,,,,,,,,,,,,,,,,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"10/May/17 11:12 PM;jimthematrix;part of this fix: https://gerrit.hyperledger.org/r/#/c/9059/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Trusted roots for orderer and peer connections should not be the same,FAB-3701,16414,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,mastersingh24,mastersingh24,mastersingh24,08/May/17 2:34 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,09/May/17 12:39 AM,v1.0.0,v1.0.0-alpha1,,v1.0.0,,fabric-peer,,,,,,,0,Security,,,,,,,"peer.buildTrustedRootsForChain had a todo from earlier to properly populate the trusted roots used to connect to ordering nodes and to peer nodes.  Currently, both the app and orderer roots are the same and include both app and orderer roots.  While this works, it is a security hole",,mastersingh24,,,,,,,,,,,,,,,,,,";08/May/17 4:45 AM;mastersingh24;150",";08/May/17 4:45 AM;mastersingh24;7350",7200,0,7500,104%,7200,0,7500,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxtyv:",,,,,,,,,,,,,,,,,,,,,,,,,,,mastersingh24,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"08/May/17 4:46 AM;mastersingh24;https://gerrit.hyperledger.org/r/#/c/9069/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
found unused vars etc in ./core/chaincode ,FAB-3702,16415,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,Honglei,ChristopherFerris,ChristopherFerris,08/May/17 4:04 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,10/May/17 5:25 AM,v1.0.0-alpha1,,,v1.0.0,,fabric-peer,,,,,,,0,help-wanted,staticanalysis,,,,,,"{{honnef.co/go/tools/cmd/unused}} found unused vars etc in ./core/chaincode

core/chaincode/chaincode_support.go:52:2: const chaincodeInstallPathDefault is unused (U1000)
core/chaincode/exectransaction.go:136:5: var errFailedToGetChainCodeSpecForTransaction is unused (U1000)
core/chaincode/exectransaction.go:138:6: func sendTxRejectedEvent is unused (U1000)
core/chaincode/exectransaction_test.go:640:2: const chaincodeExample05GolangPath is unused (U1000)
core/chaincode/exectransaction_test.go:644:2: const chaincodeExample05JavaPath is unused (U1000)
core/chaincode/handler.go:266:25: func (*Handler).canCallChaincode is unused (U1000)
core/chaincode/handler.go:1155:25: func (*Handler).afterPutState is unused (U1000)
core/chaincode/handler.go:1167:25: func (*Handler).afterDelState is unused (U1000)
core/chaincode/handler.go:1179:25: func (*Handler).afterInvokeChaincode is unused (U1000)",,ChristopherFerris,,,,,,,,,,,,,,,,,,,,3600,3600,,0%,3600,3600,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxtz3:",,,,,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
unused found unused vars etc in ./core/deliverservice,FAB-3703,16416,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,grapebaba,ChristopherFerris,ChristopherFerris,08/May/17 4:12 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,18/May/17 3:48 PM,v1.0.0-alpha1,,,v1.0.0,,fabric-peer,,,,,,,0,help-wanted,staticanalysis,,,,,,"{{honnef.co/go/tools/cmd/unused}} found unused vars etc in ./core/deliverservice
core/deliverservice/deliveryclient_test.go:41:2: const goRoutineTestWaitTimeout is unused (U1000)
core/deliverservice/deliveryclient_test.go:372:6: func getStackTrace is unused (U1000)",,ChristopherFerris,grapebaba,nnao,yacovm,,,,,,,,,,,,,,,,,3600,3600,,0%,3600,3600,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxtzb:",,,,,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,grapebaba,nnao,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"18/May/17 3:00 AM;nnao;Those unused vars will be used this patchset.
https://gerrit.hyperledger.org/r/#/c/9411/;;;","18/May/17 3:46 PM;yacovm;[~nnao] is right [~ChristopherFerris]
Can you +2 while you're at it? :);;;","18/May/17 3:47 PM;grapebaba;[~nnao] [~ChristopherFerris] right, will close this ticket;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
found unused vars etc in ./common/...,FAB-3704,16417,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,grapebaba,ChristopherFerris,ChristopherFerris,08/May/17 4:14 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,24/May/17 5:46 AM,v1.0.0-alpha1,,,v1.0.0,,fabric-peer,,,,,,,0,help-wanted,staticanalysis,,,,,,"{{honnef.co/go/tools/cmd/unused}} found unused vars etc in ./common/...
common/cauthdsl/cauthdsl_test.go:96:6: func NewMockDeserializer is unused (U1000)
common/config/standardvalues_test.go:47:2: field msg is unused (U1000)
common/errors/errors.go:33:2: var errorLogger is unused (U1000)
common/genesis/genesis.go:30:2: const lastModified is unused (U1000)
common/ledger/blkstorage/fsblkstorage/blockfile_mgr.go:45:6: type conf is unused (U1000)",,ChristopherFerris,grapebaba,,,,,,,,,,,,,,,,,,,3600,3600,,0%,3600,3600,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxtzj:",,,,,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,grapebaba,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"17/May/17 6:07 PM;grapebaba;common/config/standardvalues_test.go:47:2: field msg is unused (U1000) 

This field cannot delete since it will read config to this field, if deleted test will failed.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
unused found unused vars in ./bccsp,FAB-3705,16418,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,angelo.decaro,ChristopherFerris,ChristopherFerris,08/May/17 4:15 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,23/May/17 10:35 PM,v1.0.0-alpha1,,,v1.0.0,,fabric-crypto,,,,,,,0,help-wanted,staticanalysis,,,,,,"{{honnef.co/go/tools/cmd/unused found }}unused vars etc in ./bccsp/...
bccsp/pkcs11/conf.go:29:2: field keyStorePath is unused (U1000)
bccsp/pkcs11/conf.go:30:2: field securityLevel is unused (U1000)
bccsp/pkcs11/conf.go:31:2: field hashFamily is unused (U1000)
bccsp/pkcs11/fileks.go:353:30: func (*FileBasedKeyStore).close is unused (U1000)
bccsp/pkcs11/fileks.go:388:30: func (*FileBasedKeyStore).deleteKeyStore is unused (U1000)
bccsp/sw/conf.go:29:2: field keyStorePath is unused (U1000)
bccsp/sw/conf.go:30:2: field securityLevel is unused (U1000)
bccsp/sw/conf.go:31:2: field hashFamily is unused (U1000)
bccsp/sw/fileks.go:390:30: func (*fileBasedKeyStore).close is unused (U1000)
bccsp/sw/fileks.go:425:30: func (*fileBasedKeyStore).deleteKeyStore is unused (U1000)",,ChristopherFerris,elli-androulaki,,,,,,,,,,,,,,,,,,,3600,3600,,0%,3600,3600,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx5lj:",,,,,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,elli-androulaki,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"12/May/17 10:36 PM;elli-androulaki;Related CR: 

https://gerrit.hyperledger.org/r/#/c/9281/ 

 ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
unused found unused vars etc in ./gossip/...,FAB-3706,16419,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,nnao,ChristopherFerris,ChristopherFerris,08/May/17 4:19 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,19/May/17 8:29 AM,v1.0.0-alpha1,,,v1.0.0,,fabric-gossip,,,,,,,0,help-wanted,staticanalysis,,,,,,"{{honnef.co/go/tools/cmd/unused}} found unused vars etc in ./gossip/...
gossip/discovery/discovery_impl.go:85:2: field bootstrapPeers is unused (U1000)
gossip/discovery/discovery_test.go:68:6: type gossipMsg is unused (U1000)
gossip/election/adapter_test.go:168:6: type mockMsgCrypto is unused (U1000)
gossip/state/state.go:98:2: field mutex is unused (U1000)
gossip/util/misc.go:131:6: type goroutine is unused (U1000)",,ChristopherFerris,,,,,,,,,,,,,,,,,,,,3600,3600,,0%,3600,3600,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxtzr:",,,,,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
unused found unused vars etc in ./orderer/...,FAB-3707,16420,,Story,Closed,FAB,Fabric,software,denyeart,,,Lowest,Done,nnao,ChristopherFerris,ChristopherFerris,08/May/17 4:21 AM,21/Jul/18 3:55 AM,28/Oct/23 2:59 AM,31/May/17 1:17 PM,v1.0.0-alpha1,,,v1.0.0,,fabric-orderer,,,,,,,0,help-wanted,staticanalysis,,,,,,"{{honnef.co/go/tools/cmd/unused}} found unused vars etc in ./orderer/...
orderer/kafka/config_test.go:41:5: var testGenesisConf is unused (U1000)
orderer/kafka/orderer_test.go:39:6: func newMockSharedConfigManager is unused (U1000)
orderer/kafka/orderer_test.go:46:2: field consumerSetUp is unused (U1000)
orderer/ledger/json/impl.go:53:2: field fqFormatString is unused (U1000)
orderer/multichain/manager_test.go:66:6: func mockCryptoRejector is unused (U1000)
orderer/multichain/manager_test.go:70:6: type mockCryptoRejectorHelper is unused (U1000)
orderer/multichain/util_test.go:77:6: type mockLedgerWriter is unused (U1000)
orderer/multichain/util_test.go:150:6: func makeSignaturelessTx is unused (U1000)
orderer/network_test.go:55:6: type flags is unused (U1000)
orderer/network_test.go:69:2: field config is unused (U1000)
orderer/sbft/simplebft/request.go:66:16: func (*SBFT).batchSize is unused (U1000)
orderer/sbft/simplebft/testsys_test.go:302:6: func newTestSystemWOTimers is unused (U1000)",,ChristopherFerris,,,,,,,,,,,,,,,,,,,,3600,3600,,0%,3600,3600,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzxtzz:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"24/May/17 5:28 AM;ChristopherFerris;https://gerrit.hyperledger.org/r/#/c/9425/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
unused found  unused vars etc in ./msp/...,FAB-3708,16421,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ales,ChristopherFerris,ChristopherFerris,08/May/17 4:23 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,02/Jun/17 10:04 AM,v1.0.0-alpha1,,,v1.0.0,,fabric-crypto,,,,,,,0,help-wanted,staticanalysis,,,,,,"{{honnef.co/go/tools/cmd/unused}} found  unused vars etc in ./msp/...
msp/msp.go:231:2: field provider is unused (U1000)
msp/msp.go:234:2: field name is unused (U1000)",,ChristopherFerris,elli-androulaki,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx2gn:",,,,,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,elli-androulaki,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"02/Jun/17 8:37 AM;elli-androulaki;Related CR:

[https://gerrit.hyperledger.org/r/#/c/10031/]

 ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add chaincode upgrade e2e_cli test,FAB-3709,16424,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,jiangyaoguo,jiangyaoguo,jiangyaoguo,08/May/17 10:38 AM,23/Jan/20 4:08 AM,28/Oct/23 2:59 AM,23/Jan/20 4:08 AM,,,,v1.0.0,,,,,,,,,5,stale-item,,,,,,,Now we have ``peer chaincode upgrade`` command. Should add e2e_cli test for relevant patchsets.,,binhn,ChristopherFerris,denyeart,Hangyu_FJH,jiangyaoguo,mastersingh24,muralisr,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzxu0f:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,binhn,ChristopherFerris,denyeart,Hangyu_FJH,jiangyaoguo,mastersingh24,muralisr,sykesm,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"24/May/17 5:26 AM;muralisr;There's also a CR for this - https://gerrit.hyperledger.org/r/#/c/9087/ ;;;","24/May/17 10:26 PM;ChristopherFerris;think we should add this;;;","25/May/17 10:53 AM;denyeart;Examples are non-production code, and helpful to the community, therefore I think this can be added, in fact I think the review-needed tag could be removed due to it being non-production code and therefore not requiring approval here.;;;","26/May/17 6:32 PM;mastersingh24;I think the e2e is already too complex and has had way too many changes already without really thinking about what we are actually trying to show.  I also don't think are goal is to have people using the CLI for all of these things.

If we want to have a system / integration test which uses the e2e (which we basically have today), then I'm OK with this.  But calling this a sample is a bit premature;;;","27/May/17 1:05 AM;binhn;We also use this as part of our integration tests, so I vote for.;;;","29/May/17 1:34 PM;jimthematrix;-1, i don't think doing this gets us any additional value at this point, both node and java SDK already have chaincode upgrade in the e2e that gets run on every fabric CR verify.;;;","29/May/17 1:47 PM;jimthematrix;seeing that it's being contributed from a community member, and [~muralisr] [~nickgaski] have been working with him already, I rescind my -1 above solely on the basis of encouraging external contributions.;;;","30/May/17 3:12 AM;ChristopherFerris;removing review-needed tag as this has received the requisite number of votes to be merged.;;;","23/Jan/20 4:08 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
/examples/cluster needs to configure the CA MSP,FAB-3710,16425,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,greg.haskins,greg.haskins,greg.haskins,08/May/17 11:40 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,09/May/17 7:56 AM,,,,,,fabric-tools,,,,,,,0,,,,,,,,We currently allow the CA to run with the default configuration.  It needs to consume the MSP artifacts that were created by cryptogen in order to be useful.,,greg.haskins,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxu0n:",,,,,,,,,,,,,,,,,,,,,,,,,,,greg.haskins,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
The restart of kafka backed orderer will lead to failure of block delivery ,FAB-3711,16431,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,kchristidis,csftan,csftan,08/May/17 4:55 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,17/May/17 11:31 AM,v1.0.0-alpha1,,,v1.0.0,,fabric-orderer,,,,,,,0,kafka,,,,,,,"I started a network with 4 peers of 2 orgs, 2 orderers (orderer0 and orderer1), 2 kafka brokers. I could use node SDK to create channel (mychannel.tx), manage peers joining channel, install chaicode, instantiate chain code etc...  

However, when I restart orderer0 and orderer1, chaincode invocation cannot be processed by the orderer any more. The Orderer verification passed but it does not deliver the block. The last statement in the command line is: ""

Consenter instructed us to shut down""

 

Using the file ledger, I have already configured the Orderer/kafka persisting data into the mounted volume. It can reload the block file after restarting but still cannot deliver the block. 

 

If the orderer is not fault-resilient even using file ledger, then the application of hyper ledger fabric will be greatly compromised 

 ",,csftan,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"11/May/17 11:13 AM;csftan;test_net.zip;https://jira.hyperledger.org/secure/attachment/10813/test_net.zip",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxu0v:",,,,,,,,,,,,,,,,,,,,,,,,,,,csftan,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"10/May/17 12:41 PM;kchristidis;Thanks for reporting this. Can you submit the logs of the two orderers?;;;","10/May/17 9:52 PM;kchristidis;I will also need the Docker Compose configuration file with which you brought the network up.

Basically, anything that will help me reproduce this setup locally.;;;","11/May/17 11:13 AM;csftan;here is the configuration set I sued, please see the attachment. Log file is named as orderer0.log[^test_net.zip];;;","11/May/17 11:15 AM;csftan;Oh, BTW, I use the chain code keyvalue_cc as the test example.;;;","11/May/17 3:28 PM;kchristidis;Feng, thank you for getting back to me with details.

I've inspected your setup and the logs, and I am fairly confident that you were hitting the bug fixed in -FAB-2915-.

If you know how to build Fabric Docker images (assuming a proper Golang dev environment, you git clone the Fabric repo to $GOPATH/src/github.com/hyperledger, then cd into the fabric directory and do ""make docker""), please try it out with the current master and let me know if the issue persists.

Otherwise, hold on for a few more days – we're about to cut alpha-2 any day now, maybe even this Friday. Try it out with the new release and let me know if the problem persists, so that we can update this JIRA accordingly.;;;","11/May/17 3:32 PM;csftan;Kostats, thank you for your prompt response. 

Ok, I did not notice this JIRA Bug report as I have been using the alpha1 version as our testbed. 

Great to know this, looking forward to the alpha 2 release, and hopefully, it can function stably in some way.... ;;;","17/May/17 11:31 AM;kchristidis;Feng tan: will close this, but if you notice that the issue persists please re-open.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Optimize struct memory alignment,FAB-3712,16432,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,yacovm,yacovm,08/May/17 5:06 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,10/May/17 9:10 PM,v1.0.0,,,,,fabric-peer,,,,,,,0,v1.0,,,,,,,"[https://github.com/opennota/check] can be used for checking struct alignment.

Our code has some places in which we could use to have better struct alignment.",,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxu13:",,,,,,,,,,,,,,,,,,,,,,,,,,,yacovm,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fix javaSDK can't match fabric commit level ,FAB-3713,16433,,Bug,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,sanchezl,zerppen,zerppen,08/May/17 5:09 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,08/May/17 10:52 PM,,,,v1.0.0,,fabric-build,,,,,,,0,java-SDK,,,,,,,"javaSDK README.md shows that need fabric commit level 2a15510c90e8bca13e4984af08b08102eb9a1171 

while,i excuted `git reset to 2a15510c90e8bca13e4984af08b08102eb9a1171` 

then excuted `make peer`  and failed .

It pointed out `java chaincode can't find symbol org.hyperledger.fabric.shim.ledger.KeyModification`

 

But I find KeyModification.java exist,but can't find it after decompression javashim.tar.bz2.

So,it's the problem.",,sanchezl,zerppen,,,,,,,,,,,,,,,,,,,60,60,,0%,60,60,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxu1b:",,,,,,,,,,,,,,,,,,,,,,,,,,,sanchezl,zerppen,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"08/May/17 5:12 PM;zerppen;[~sanchezl] [~rickr] 

To match fabric commit level 2a15510c90e8bca13e4984af08b08102eb9a1171 like javaSDK README.md said,we should change fabric Markfile;;;","08/May/17 10:50 PM;sanchezl;Please make sure to use the {{–hard}} option when running {{git reset}}.

{{git reset --hard 2a15510c9}};;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Provision of scripts to enable start/stop of Fabric instances for dev/test usage,FAB-3714,16435,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,mbwhite,mbwhite,08/May/17 5:49 PM,01/Oct/18 10:11 PM,28/Oct/23 2:59 AM,10/Jul/18 3:23 AM,,,,v1.0.0,,fabric-tools,,,,,,,1,,,,,,,,"*Premise:*
For developers using Fabric or any other tools/systems, eg Composer they really get benefits testing their applications/scenarios using as real a backend system as possible. 
Both functional and non-function behaviours are important. 

The great power of Fabric comes at the price of having many configuration options to start a specific set of peers, ca etc. But for developers they would like to have a small set of good practice setups they can start/stop/teardown.    This means that in development/test phases they can focus on their application/scenario - and in production, they can call upon admins or other online services to actually run correct Fabric setup. 

 

*Scripts:*

As part of the Composer project, we wanted to give a developer a simple place to start with a Fabric instance. Therefore we took some of the Fabric system tests scripts and put them together in an easy to consume manner. 

The current culmination of these in the repo.. [https://github.com/mbwhite/fabric-dev-servers]

At present these are focused around the node.js centric world of the Composer developer.

However they are not specific to Composer - but they do use node and npm to control the scripting. (as well as BASH).

 

*Requirements:*

The aim is to have a setup of very simple *start, stop, teardown, download* scripts that a developer can call. They should know the absolute minimum of Fabric configuration. Defaults should be assumed for everything.  At present, the only choice is 0.6 or 1.0 with 1.0 being the default. 

As a developer becomes more confident or knowledgeable in Fabric they can take the scripts and modify them if they wish. However, this job would ideally be the job of a Fabric Admin Role.   Not all app devs will want/wish to be Fabric admins. 

 

 ",,jtonline,mastersingh24,mbwhite,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-3095,,,,,,,,,,"1|hzxu1r:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,jtonline,mastersingh24,mbwhite,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"08/May/17 9:10 PM;mastersingh24;[~greg.haskins] - the overall gist of this request is in line with some of the work we've been doing - although I do think that we could use a very simple developer profile which starts up the minimal number of containers needed to test/develop chaincode;;;","02/Jun/17 5:50 PM;mbwhite;These are available in the composer-tools repo now https://github.com/hyperledger/composer-tools/tree/master/packages/fabric-dev-servers;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Peer TLS CA certs given to deliveryService need to be per channel and not global,FAB-3715,16436,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,yacovm,yacovm,yacovm,08/May/17 7:28 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,10/Jun/17 12:45 AM,v1.0.0-alpha1,,,v1.0.0,v1.0.0-rc1,fabric-peer,,,,,,,5,security,Security,,,,,,"The connection from the peer to the ordering service with TLS [iterates over all root CA certs|https://github.com/hyperledger/fabric/blob/master/core/comm/connection.go#L90-L112] that are of orgs that have ordering service instances and configures the rootCA cert pool accordingly.

This has the following vulnerability:

Consider a network with 3 orgs: \{A, B, C} and 2 channels: 
X: \{A, C}, Y: \{B, C}  and let's say that the ordering service of X is of org A and the ordering service of Y is of org B.

If we have a peer in org C or in org A and it connects (to obtain blocks of channel X) to an ordering service that its host is *orderer.orgA.com*, the TLS handshake would work also for a malicious node from orgB that has a certificate with *orderer.orgA.com* that is signed by the CA of orgB.

This exposes the connection from the peer to the ordering service (in orgA) to a MITM attack in which an attacker (that stands between the peer and the ordering service from orgA) impersonates *orderer.orgA.com* and tunnels the connection through itself without the peer knowing it.

 

This can be fixed if when we obtain the rootCA cert pool, it will be in the context of a channel.",,binhn,mastersingh24,muralisr,troyronda,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3040,,,,,,,,,,"1|hzxu1z:",,,,,,,,,,,,,,,,,,,,,,,,,,,binhn,mastersingh24,muralisr,troyronda,yacovm,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"02/Jun/17 5:50 AM;muralisr;[~mastersingh24] [~yacovm] is this something needed for 1.0 or can it be moved ? If needed looks like we need a ""review-needed"" label.;;;","07/Jun/17 5:06 AM;mastersingh24;We can probably add a review needed label although this is not really hard and is transparent to users.

But there is always the risk since this involves TLS;;;","07/Jun/17 5:52 AM;yacovm;Wait, why can't I vote on this? Just because I opened the JIRA?
oh well, consider me as voted +1. ;;;","08/Jun/17 9:55 AM;jimthematrix;[~yacovm] I don't understand this part: _ordering service of X is of org A, and the ordering service of Y is of org B_

I thought it's more likely that an organization would want to have all the orderer nodes available so it can distribute the broadcast() and deliver() load. If the orderer nodes use certs that are signed by different CAs, then you have to trust them (the CAs) equally. To eliminate this you'd have to limit the peer to connect to orderers signed by a single CA, isn't that too limiting? Also this attack is predicated on the CA being compromised or the org goes rogue, isn't there a much bigger problem if this is the case?;;;","08/Jun/17 6:40 PM;yacovm;{quote}it's more likely that an organization would want to have all the orderer nodes available so it can distribute the broadcast() and deliver() load{quote}
But this issue is about orderers of different orgs.

{quote} If the orderer nodes use certs that are signed by different CAs, then you have to trust them (the CAs) equally.{quote}
Yeah but the trust should be a function over the members of the channel, not cross channels - where it is now (because of the implementation) and this is where the problem lies.

{quote} To eliminate this you'd have to limit the peer to connect to orderers signed by a single CA{quote}
Why?

{quote} Also this attack is predicated on the CA being compromised or the org goes rogue, isn't there a much bigger problem if this is the case?{quote}
Well, why wouldn't an org be rogue? If you have channels that segregate the information between orgs, and now your implementation of root CA cert pool makes it possible for an orderer not from the channel to impersonate an orderer in the channel, that's a security vulnerability. ;;;","09/Jun/17 1:28 AM;yacovm;https://gerrit.hyperledger.org/r/#/c/10353/ ;;;","09/Jun/17 10:44 PM;binhn;remove review-needed as 5 voted;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
chaincode list cmd,FAB-3720,16441,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jiangyaoguo,jiangyaoguo,jiangyaoguo,08/May/17 9:55 PM,12/Jul/19 8:03 PM,28/Oct/23 2:59 AM,11/Sep/17 3:04 PM,,,,Future,,fabric-peer,,,,,,,0,Release-planning-1.1,,,,,,,"Add new command
{code:java}
peer chaincode list --installed{code}
to get all the chaincodes installed on the connected peer.

If specify channel with
{code:java}
peer chaincode list --instantiated -C <channel Id>
{code}
，
 get all the instantiated chaincodes on the specified channel.",,C0rWin,jiangyaoguo,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-261,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzxu33:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,C0rWin,jiangyaoguo,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"14/May/17 9:47 PM;C0rWin;I think that you should explicitly specify which action you would like to do, list installed versus list only instantiated. Probably if it's wort considering to return a table format with all chaincode and have a status field with information of chaincode being installed/instantiated. What do you think?;;;","23/Aug/17 5:22 PM;jiangyaoguo;[~C0rWin]  The commit [https://gerrit.hyperledger.org/r/#/c/9347/]  has been updated as you suggested. I'm working on add chaincode stop/start func to disable/enable chaincode on channel. The status of chaincode was reserved to describe the stop/start status.   Return table format sounds great. Now most CLIs returns results with logs. Perhaps we could consider standardlizing all outputs of CLI.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fix remaining issues in /examples/cluster,FAB-3721,16442,,Epic,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,greg.haskins,greg.haskins,greg.haskins,08/May/17 10:16 PM,09/Apr/19 5:45 PM,28/Oct/23 2:59 AM,09/Apr/19 5:45 PM,,,,v1.0.0,,fabric-tools,,,,,,,0,,,,,,,,,,ChristopherFerris,greg.haskins,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,Unset,ghx-label-2,,/examples/cluster issues for 1.0,To Do,,,,Unset,,,,"1|hzxu3b:",,,,Unset,Unset,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,greg.haskins,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"08/May/17 10:25 PM;greg.haskins;Will leave the Epic open until satisfied that no other issues remain;;;","06/Jul/18 9:37 PM;ChristopherFerris;[~greg.haskins] still tracking this? Can it be closed?;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Use /var for CA persistence,FAB-3722,16443,16442,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,greg.haskins,greg.haskins,greg.haskins,08/May/17 10:16 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,09/May/17 7:56 AM,,,,,,fabric-tools,,,,,,,0,,,,,,,,,,greg.haskins,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxu3j:",,,,,,,,,,,,,,,,,,,,,,,,,,,greg.haskins,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Cleanup core/peer package and improve test coverage,FAB-3723,16444,,Task,Closed,FAB,Fabric,software,denyeart,,,High,Done,mastersingh24,mastersingh24,mastersingh24,08/May/17 10:17 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,15/May/17 6:43 PM,v1.0.0,,,v1.0.0,,fabric-peer,,,,,,,0,,,,,,,,core/peer has some dead code and has low test coverage.,,mastersingh24,,,,,,,,,,,,,,,,,,";10/May/17 12:32 AM;mastersingh24;28800",,28800,0,28800,100%,28800,0,28800,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxu3r:",,,,,,,,,,,,,,,,,,,,,,,,,,,mastersingh24,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"10/May/17 12:32 AM;mastersingh24;https://gerrit.hyperledger.org/r/#/c/9127/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Ensure CA starts first,FAB-3724,16445,16442,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,greg.haskins,greg.haskins,greg.haskins,08/May/17 10:17 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,09/May/17 7:55 AM,,,,,,fabric-tools,,,,,,,0,,,,,,,,,,greg.haskins,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxu3z:",,,,,,,,,,,,,,,,,,,,,,,,,,,greg.haskins,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Ensure LSCC is enabled and initialized,FAB-3725,16446,16442,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,greg.haskins,greg.haskins,greg.haskins,08/May/17 10:18 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,09/May/17 7:54 AM,,,,,,,,,,,,,0,,,,,,,,,,greg.haskins,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxu47:",,,,,,,,,,,,,,,,,,,,,,,,,,,greg.haskins,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Document Environment Variables,FAB-3726,16450,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,nickgaski,nickgaski,nickgaski,09/May/17 12:17 AM,10/Jan/20 1:55 AM,28/Oct/23 2:59 AM,10/Jan/20 1:55 AM,,,,,,fabric-docs,,,,,,,0,Documentation,,,,,,,We need to explain the different options available in core.yaml and orderer.yaml and how these variables translate to docker-compose scripts.,,abel23,joe-alewine,nickgaski,,,,,,,,,,,,,,,,,,144000,144000,,0%,144000,144000,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzxu53:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,abel23,joe-alewine,nickgaski,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"10/Jan/20 1:55 AM;joe-alewine;Will cover information similar to this in new Deployment/Operations Guide material in the works.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fix error on orderer restart,FAB-3727,16461,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,muralisr,muralisr,09/May/17 1:06 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,10/May/17 10:52 PM,v1.0.0-alpha1,,,v1.0.0-alpha2,,fabric-orderer,,,,,,,0,configuration,,,,,,,"{code:java}
orderer
2017-05-08 15:51:04.950 UTC [msp] getMspConfig -> INFO 001 intermidiate certs folder not found at [/opt/gopath/src/github.com/hyperledger/fabric/sampleconfig/msp/intermediatecerts]. Skipping.: [stat /opt/gopath/src/github.com/hyperledger/fabric/sampleconfig/msp/intermediatecerts: no such file or directory]
2017-05-08 15:51:04.951 UTC [msp] getMspConfig -> INFO 002 crls folder not found at [/opt/gopath/src/github.com/hyperledger/fabric/sampleconfig/msp/intermediatecerts]. Skipping.: [stat /opt/gopath/src/github.com/hyperledger/fabric/sampleconfig/msp/crls: no such file or directory]
2017-05-08 15:51:04.984 UTC [orderer/main] main -> INFO 003 Not bootstrapping because of existing chains
2017-05-08 15:51:04.992 UTC [orderer/multichain] NewManagerImpl -> INFO 004 Starting with system channel ch1 and orderer type solo
2017-05-08 15:51:04.994 UTC [orderer/multichain] NewManagerImpl -> CRIT 005 There appear to be two system chains ch1 and testchainid{code}

Recreate steps
1. modify orderer.yaml to 
{noformat}
GenesisProfile: SampleSingleMSPSolo
{noformat}

2. rm -rf /var/hyperledger/*
3. orderer
4. configtxgen -channelID ch1 -outputCreateChannelTx ch1.tx -profile SampleSingleMSPChannel
5. peer channel create -o 127.0.0.1:7050 -c ch1 -f ch1.tx
6. CTRL-C orderer
7. orderer

At 7, orderer will quit with the above error.",,kchristidis,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3448,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3040,,,,,,,,,,"1|hzxu5z:",,,,,,,,,,,,,,,,,,,,,,,,,,,kchristidis,muralisr,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"11/May/17 2:13 AM;kchristidis;https://gerrit.hyperledger.org/r/#/c/9111/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
MSPImpl generates a lot of unformatted output,FAB-3728,16462,,Bug,Closed,FAB,Fabric,software,denyeart,,,Low,Done,wlahti,wlahti,wlahti,09/May/17 1:07 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,09/May/17 2:58 AM,,,,,,fabric-crypto,,,,,,,0,,,,,,,,"A recent CR, [https://gerrit.hyperledger.org/r/#/c/8961,] contains a fmt.Printf statement that generates a huge amount of output. I spoke with Angelo, the owner of the CR in question, and determined it wasn't meant to be checked in and merged. ",,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxu67:",,,,,,,,,,,,,,,,,,,,,,,,,,,wlahti,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Integrate behave tests in production CI,FAB-3729,16464,14060,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,rameshthoomu,rameshthoomu,09/May/17 1:12 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,29/Jun/17 12:56 AM,,,,v1.0.0,,fabric-build,fabric-quality,,,,,,0,build-system,quality,,,,,,"Integrate ""behave"" tests in production CI servers.",,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxu6f:",,,,,,,,,,,,,,,,,,,,,,,,,,,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"15/Jun/17 12:49 AM;rameshthoomu;Behave tests in test/regression/daily folder are not available to integrate in community CI. Once the in-review gerrit patch sets are merged will enable these tests in CI.;;;","29/Jun/17 12:56 AM;rameshthoomu;Behave tests are integrated in CI now.. https://jenkins.hyperledger.org/view/Daily/job/fabric-daily-tests-x86_64/test_results_analyzer/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Increate test coverage for core/container package,FAB-3730,16470,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,aambati,aambati,aambati,09/May/17 3:16 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,23/May/17 3:06 AM,,,,,,fabric-peer,,,,,,,0,,,,,,,,Increase test coverage for core/container and core/container/util packages,,aambati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxu6n:",,,,,,,,,,,,,,,,,,,,,,,,,,,aambati,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"09/May/17 4:04 AM;aambati;https://gerrit.hyperledger.org/r/#/c/9023/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Query is failing on e2e (cli) tests ,FAB-3732,16475,,Bug,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,mastersingh24,rameshthoomu,rameshthoomu,09/May/17 3:46 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,09/May/17 10:21 PM,,,,v1.0.0-alpha2,,fabric-build,fabric-peer,fabric-quality,,,,,0,alpha2,build-system,quality,,,,,"e2e (cli) tests are failing while querying. Below is the error message observed
{code:java}
00:21:57.117 Error: Error endorsing query: rpc error: code = 2 desc = failed to obtain cds for mycc - could not find chaincode with name 'mycc'{code}
Latest merge jobs are failing with the above error. Please see the build reference here [https://jenkins.hyperledger.org/view/fabric/job/fabric-merge-end-2-end-x86_64/445/console]

[https://jenkins.hyperledger.org/view/fabric/job/fabric-merge-end-2-end-x86_64/445/artifact/gopath/src/github.com/hyperledger/fabric/examples/e2e_cli/results.log]

Observed above error from below patch set merge

https://gerrit.hyperledger.org/r/#/c/9069/",Jenkins (x86_64),mastersingh24,rameshthoomu,,,,,,,,,,,,,,,,,";09/May/17 4:02 AM;mastersingh24;900",,1200,300,900,75%,1200,300,900,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3040,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxu7r:",,,,,,,,,,,,,,,,,,,,,,,,,,,mastersingh24,rameshthoomu,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"09/May/17 4:01 AM;mastersingh24;I'm on it.  My bad.  Somehow one of my changes got left behind :(;;;","09/May/17 4:02 AM;mastersingh24;I have it fixed - just quickly running local unit-test;;;","09/May/17 4:11 AM;mastersingh24;https://gerrit.hyperledger.org/r/#/c/9103/;;;","09/May/17 10:21 PM;rameshthoomu;end-2-end(cli) tests are working as expected on latest fabric commits. Tested this on fabric commit# {{FABRIC# - 0fe5cb2 }};;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Getting Started (e2e): Does not work with CouchDB ,FAB-3733,16476,,Bug,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,AdnanChoudhury,AdnanChoudhury,AdnanChoudhury,09/May/17 3:47 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,16/May/17 9:48 PM,,,,v1.0.0,v1.0.0-alpha2,fabric-quality,,,,,,,0,quality,,,,,,,"After recent updates to e2e_cli scripts, it does not work if the optional CouchDB state DB is enabled by following the directions. 
 The error message is:
{code:java}
 ERROR: Cannot extend service 'peer0.org2.example.com' in /home/adnan/work/src/github.com/hyperledger/fabric/examples/e2e_cli/base/docker-compose-base.yaml: services with 'depends_on' cannot be extended{code}
How to reproduce:
 Run the e2e_cli example as directed, and by uncommenting the lines in /base/docker-compose-base.yaml as directed in the same file.

Note:
 After this error is taken care of, there are several other issues with the current environment that fails the e2e with couch.  This is due to the re-arranging of the docker-compose files.  ",,AdnanChoudhury,denyeart,,,,,,,,,,,,,,,,,,,57600,57600,,0%,57600,57600,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3660,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx24n:",,,,,,Sprint 18 - Quality,,,,,,,,,,,,,,,,,,,,,AdnanChoudhury,denyeart,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"16/May/17 8:30 PM;denyeart;https://gerrit.hyperledger.org/r/#/c/9107/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Increate test coverage for core/config package,FAB-3735,16479,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,aambati,aambati,aambati,09/May/17 4:05 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,26/May/17 9:01 PM,,,,,,fabric-peer,,,,,,,0,,,,,,,,Increase test coverage for core/config package,,aambati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-4046,,,,,,,,,FAB-4050,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxu87:",,,,,,,,,,,,,,,,,,,,,,,,,,,aambati,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"09/May/17 4:06 AM;aambati;https://gerrit.hyperledger.org/r/#/c/9029/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Debugging Chaincode in Eclipse with GDB and breakpoints,FAB-3736,16486,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,theathibm,theathibm,theathibm,09/May/17 5:55 AM,23/Jan/20 4:08 AM,28/Oct/23 2:59 AM,23/Jan/20 4:08 AM,,,,,,fabric-build,,,,,,,0,Documentation,stale-item,,,,,,"Here is documentation that describes how to install,setup,configure, debug/run  the marbles example code in eclipse and set breakpoints to inspect the code and variables in the eclipse IDE.

The document is in .rst format at the moment. 

[^GODebugging.rtf]

^[~muralisr]  I forgot details about the proper format and where to stick the documentation.   Ping me if you could so we can do a quick review.  Thanks,^",,muralisr,nekia,sykesm,theathibm,,,,,,,,,,,,,,,,,57600,28800,,0%,57600,28800,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3671,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"09/May/17 5:53 AM;theathibm;GODebugging.rtf;https://jira.hyperledger.org/secure/attachment/10806/GODebugging.rtf",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-2293,,,,,,,,,,"1|hzxu9j:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,muralisr,nekia,sykesm,theathibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"10/May/17 4:24 AM;muralisr;looks good [~theathibm].. I should try to follow the docs and give feedback. Let me try and get to it soon.

Also adding [~ChristopherFerris] [~nickgaski] ;;;","04/Apr/18 12:27 PM;nekia;Hi, 

 Does anyone know about the status of this JIRA?

Is there anything blocking this?

 ;;;","04/Apr/18 11:21 PM;muralisr;Its been a while and will be good to verify if it still works as documented. Would you have some cycles to do that [~nekia] ?;;;","09/Apr/18 10:30 AM;nekia;[~muralisr]

Yes, I'm trying to verify in current release-1.1.

But unfortunately it doesn't still work. When I started to debug of chaincode_example02 on eclipse, I got the following error:

 
{noformat}
2018-04-09 01:18:54.991 UTC [shim] SetupChaincodeLogging -> INFO 001[0m Chaincode log level not provided; defaulting to: INFO
2018-04-09 01:18:54.992 UTC [shim] SetupChaincodeLogging -> INFO 002[0m Chaincode (build level: ) starting up ...
[31m2018-04-09 01:18:54.993 UTC [shim] func1 -> ERRO 003[0m Received error from server, ending chaincode stream: rpc error: code = Unimplemented desc = unknown service protos.ChaincodeSupport
Error starting Simple chaincode: rpc error: code = Unimplemented desc = unknown service protos.ChaincodeSupport
{noformat}
When I directly run the chaincode in command line, I got the same error too.

 

 
{noformat}
$ CORE_CHAINCODE_LOGGING_LEVEL=debug CORE_CHAINCODE_ID_NAME=mycc:1.0 ./chaincode_example02 -peer.address 127.0.0.1:7051 
2018-04-09 01:26:39.255 UTC [shim] SetupChaincodeLogging -> INFO 001 Chaincode (build level: ) starting up ...
2018-04-09 01:26:39.256 UTC [bccsp] initBCCSP -> DEBU 002 Initialize BCCSP [SW]
2018-04-09 01:26:39.256 UTC [shim] userChaincodeStreamGetter -> DEBU 003 Peer address: 127.0.0.1:7051
2018-04-09 01:26:39.258 UTC [shim] userChaincodeStreamGetter -> DEBU 004 os.Args returns: [./chaincode_example02 -peer.address 127.0.0.1:7051]
2018-04-09 01:26:39.259 UTC [shim] chatWithPeer -> DEBU 005 Registering.. sending REGISTER
2018-04-09 01:26:39.259 UTC [shim] func1 -> ERRO 006 Received error from server, ending chaincode stream: rpc error: code = Unimplemented desc = unknown service protos.ChaincodeSupport
Error starting Simple chaincode: rpc error: code = Unimplemented desc = unknown service protos.ChaincodeSupport{noformat}
In the same environment, when I turn off chaincodedev mode ( false ), I can invoke chaincode as I expected.

 ;;;","11/Apr/18 12:40 PM;nekia;[~muralisr]

I could verify that it works on v1.1.0 !!

The document needs some works for v1.1.0 and some additional steps for beginners like me, I think.
h4. Steps to be added
 * Generating channel config related artifacts.
{noformat}
$ configtxgen -outputBlock genesis_block -profile SampleSingleMSPSolo -channelID orderer-system-channel
$ configtxgen -outputCreateChannelTx myc.tx -profile SampleSingleMSPChannel -channelID myc
{noformat}
** It's not enough for me that generating a channel creation tx. I got the following error when create channel
{noformat}
$ peer channel create -c myc -o 127.0.0.1:7050 -f ./myc.tx
2018-04-11 03:07:28.921 UTC [channelCmd] InitCmdFactory -> INFO 001 Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- error authorizing update: error validating ReadSet: existing config does not contain element for [Group]  /Channel/Application/SampleOrg but was in the read set
{noformat}
* Setting environment variables for each node
** orderer
{noformat}
export ORDERER_GENERAL_LOGLEVEL=debug
export ORDERER_GENERAL_GENESISMETHOD=file
export ORDERER_GENERAL_GENESISFILE=genesis_block
{noformat}
*** Because of regenerating genesis block that mentioned above.
** peer
{noformat}
export CORE_LOGGING_LEVEL=DEBUG
export CORE_PEER_ADDRESS=127.0.0.1:7051
{noformat}
** cli
{noformat}
export CORE_LOGGING_LEVEL=DEBUG
export CORE_PEER_ADDRESS=127.0.0.1:7051
{noformat}
*** I got the following error when join channel
{noformat}
$ peer channel join -b myc.block 
Error: Error getting endorser client channel: endorser client failed to connect to 0.0.0.0:7051: failed to create new connection: context deadline exceeded
{noformat}
* Changing port number referred from eclipse debug project
{noformat}
CORE_PEER_ADDRESS=127.0.0.1:7052
{noformat}
* Updating obsoleted arguments of each command;;;","12/Apr/18 8:02 AM;muralisr;Thanks for the work [~nekia].

[~ChristopherFerris] [~joe-alewine] This doc addition (proper sanitization) could be an useful addition for devmode. In addition to allowing debugging complex chaincodes, it also points to how traditional debugging envs can be part of the workflows. What do you think ?;;;","23/Jan/20 4:08 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Generate changelog for v1.0.0-alpha2,FAB-3737,16488,,Task,Closed,FAB,Fabric,software,denyeart,,,High,Done,ChristopherFerris,ChristopherFerris,ChristopherFerris,09/May/17 7:21 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,12/May/17 11:41 PM,v1.0.0-alpha1,,,,,fabric-build,,,,,,,0,build-system,,,,,,,generate changelog for v1.0.0-alpha2,,ChristopherFerris,kchristidis,troyronda,,,,,,,,,,,,,,,,,,3600,3600,,0%,3600,3600,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3040,,,,,,,,,,,FAB-3075,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3040,,,,,,,,,,"1|hzxu9r:",,,,,,,,,,,,,,,1.0,,,,,,,,,,,,ChristopherFerris,kchristidis,troyronda,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"10/May/17 9:06 PM;ChristopherFerris;https://gerrit.hyperledger.org/r/#/c/9167/;;;","11/May/17 2:17 AM;kchristidis;FWIW, all the fabric-consensus|orderer fixes for alpha-2 have been tagged as such (Fix version: v1.0.0-alpha2), and have also been added to the FAB-3040 epic. If there's anything else (or different) we need to do, let me know.;;;","11/May/17 2:53 AM;ChristopherFerris;thanks! [~kchristidis];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
obtain CII badge,FAB-3738,16489,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ChristopherFerris,ChristopherFerris,ChristopherFerris,09/May/17 9:29 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,11/May/17 9:22 PM,v1.0.0-alpha1,,,v1.0.0,,fabric-build,,,,,,,0,quality,security,,,,,,obtain a CII Badge from LF,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,7200,7200,,0%,36000,36000,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3040,,,,,,,,,,"1|hzxu9z:",,,,,,,,,,,,,,,1.0,,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"11/May/17 9:23 PM;ChristopherFerris;[https://bestpractices.coreinfrastructure.org/projects/955];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Enable security scanning of Docker Hub repos (for hyperledger/fabric et al.),FAB-3739,16490,,Task,Closed,FAB,Fabric,software,denyeart,,,High,Done,ChristopherFerris,ChristopherFerris,ChristopherFerris,09/May/17 10:05 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,08/Jun/17 3:52 AM,v1.0.0-alpha1,,,v1.0.0,,fabric-build,fabric-quality,,,,,,0,build-system,quality,security,,,,,"[https://chat.hyperledger.org/channel/ci-pipeline?msg=Qvmbi5ixcZhwh2nES]

We should have Hyperledger opt-in to the program that permits us to scan all Hyperledger repos.",,ChristopherFerris,dhuseby,ryjones,troyronda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3040,,,,,,,,,,"1|hzxua7:",,,,,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,dhuseby,ryjones,troyronda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"25/May/17 7:16 AM;ryjones;Setting up paid org;;;","08/Jun/17 3:52 AM;ryjones;security scanning is in process now;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Using dev mode does not work,FAB-3740,16491,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,bhaskerchatterjee,bhaskerchatterjee,09/May/17 3:53 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,11/Jun/17 5:04 AM,v1.0.0-alpha1,,,v1.0.0,,fabric-tools,,,,,,,0,configtxgen,,,,,,,"Having done a `make dist-clean all`, I followed the steps as mentioned here [http://hyperledger-fabric.readthedocs.io/en/latest/peer-chaincode-devmode.html] . However, on `peer channel create -o 127.0.0.1:7050 -c ch1 -f ch1.tx`, I get following error
{noformat}
[msp] getMspConfig -> INFO 001 intermidiate certs folder not found at [/opt/gopath/src/github.com/hyperledger/fabric/sampleconfig/msp/intermediatecerts]. Skipping.: [stat /opt/gopath/src/github.com/hyperledger/fabric/sampleconfig/msp/intermediatecerts: no such file or directory]

[msp] getMspConfig -> INFO 002 crls folder not found at [/opt/gopath/src/github.com/hyperledger/fabric/sampleconfig/msp/intermediatecerts]. Skipping.: [stat /opt/gopath/src/github.com/hyperledger/fabric/sampleconfig/msp/crls: no such file or directory]
Error: Got unexpected status: BAD_REQUEST
{noformat}
.

 My platform is Vagrant on Ubuntu 16.04.",,bhaskerchatterjee,binhn,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxuaf:",,,,,,,,,,,,,,,,,,,,,,,,,,,bhaskerchatterjee,binhn,jyellick,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"10/Jun/17 4:29 AM;binhn;I can replicate this with the current master branch.

[~jyellick],  here is the log on the orderer. It looks like the configtxgen creates something in the channel config not expected by the orderer.

```

2017-06-09 19:20:03.377 UTC [orderer/main] main -> INFO 001 Starting orderer:Version: 1.0.0-rc1-snapshot-88ea3eeGo version: go1.7.5OS/Arch: linux/amd642017-06-09 19:20:03.400 UTC [msp] getMspConfig -> INFO 002 intermediate certs folder not found at [/opt/gopath/src/github.com/hyperledger/fabric/sampleconfig/msp/intermediatecerts]. Skipping.: [stat /opt/gopath/src/github.com/hyperledger/fabric/sampleconfig/msp/intermediatecerts: no such file or directory]2017-06-09 19:20:03.401 UTC [msp] getMspConfig -> INFO 003 crls folder not found at [/opt/gopath/src/github.com/hyperledger/fabric/sampleconfig/msp/intermediatecerts]. Skipping.: [stat /opt/gopath/src/github.com/hyperledger/fabric/sampleconfig/msp/crls: no such file or directory]2017-06-09 19:20:03.451 UTC [orderer/main] initializeMultiChainManager -> INFO 004 Not bootstrapping because of existing chains2017-06-09 19:20:03.458 UTC [orderer/multichain] NewManagerImpl -> INFO 005 Starting with system channel testchainid and orderer type solo2017-06-09 19:20:03.459 UTC [orderer/main] main -> INFO 006 Beginning to serve requests2017-06-09 19:21:18.404 UTC [orderer/common/broadcast] Handle -> WARN 007 Rejecting CONFIG_UPDATE because: Error authorizing update: Error validating ReadSet: Existing config does not contain element for [Groups] /Channel/Application/SampleOrg but was in the read set2017-06-09 19:21:18.422 UTC [orderer/common/deliver] Handle -> WARN 008 Error reading from stream: rpc error: code = Canceled desc = context canceled2017-06-09 19:23:51.881 UTC [orderer/common/broadcast] Handle -> WARN 009 Rejecting CONFIG_UPDATE because: Error authorizing update: Error validating ReadSet: Existing config does not contain element for [Groups] /Channel/Application/SampleOrg but was in the read set

2017-06-09 19:23:51.889 UTC [orderer/common/deliver] Handle -> WARN 00a Error reading from stream: rpc error: code = Canceled desc = context canceled

```;;;","10/Jun/17 5:15 AM;jyellick;[~binhn] Thanks for the heads up.  I see what is happening here, I will put together a CR.;;;","10/Jun/17 6:45 AM;jyellick;Fixed via https://gerrit.hyperledger.org/r/#/c/10423/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Wrong log message (Invalid log level provided) are found,FAB-3741,16492,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,amber-zhang,amber-zhang,amber-zhang,09/May/17 5:11 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,10/May/17 10:53 PM,,,,,,,,,,,,,0,,,,,,,,"Hi Will,

Blow is the wrong message that I found from peer log.

 

 

[33m2017-05-08 02:55:29.037 UTC [nodeCmd] serve -> WARN 193^[[0m Error setting log level for module 'cauthdsl': LOG:400 - Invalid log level provided -

^[[33m2017-05-08 02:55:29.037 UTC [nodeCmd] serve -> WARN 194^[[0m Error setting log level for module 'policies': LOG:400 - Invalid log level provided -

 

[33m2017-05-08 02:55:29.038 UTC [nodeCmd] serve -> WARN 195^[[0m Error setting log level for module 'grpc': LOG:400 - Invalid log level provided -

 

[33m2017-05-08 02:55:28.966 UTC [nodeCmd] registerChaincodeSupport -> WARN 01e^[[0m Invalid chaincode startup timeout value 0s (should be at least 5s); defaulting to 5s

[31m2017-05-08 02:55:28.967 UTC [chaincode] NewChaincodeSupport -> ERRO 021^[[0m Invalid execute timeout value 0s (should be at least 1s); defaulting to 30s
 ^[[33m2017-05-08 02:55:28.968 UTC [chaincode] getLogLevelFromViper -> WARN 022^[[0m CORE_CHAINCODE_LEVEL has invalid log level . defaulting to INFO",,amber-zhang,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxuan:",,,,,,,,,,,,,,,,,,,,,,,,,,,amber-zhang,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"09/May/17 9:09 PM;wlahti;Did you completely rebuild your environment? I've seen this happen when a new core.yaml parameter is introduced and the peer/testenv docker images haven't been rebuilt. I suggest running ""make clean"" followed by ""make docker"" each time you are running your tests with newly pulled code to be sure everything has been updated/rebuilt. ;;;","10/May/17 8:34 PM;amber-zhang;Will, you're right! The error message disappear after cleaned and rebuild. Thank you!;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Purge the ccinfo cache,FAB-3742,16493,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid,,ales,ales,09/May/17 7:17 PM,25/Sep/18 9:30 PM,28/Oct/23 2:59 AM,25/Sep/18 9:30 PM,,,,Future,,fabric-crypto,,,,,,,1,,,,,,,,"Over time, the cache of chaincode info grows as the number of instantiated (and subsequently upgraded) chaincodes grows. We need a mechanism to remove items from this cache.",,ales,angelo.decaro,binhn,C0rWin,ChristopherFerris,denyeart,elli-androulaki,muralisr,troyronda,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"01/Jun/17 1:19 AM;yacovm;Capture.PNG;https://jira.hyperledger.org/secure/attachment/10889/Capture.PNG","01/Jun/17 1:27 AM;yacovm;Capture2.PNG;https://jira.hyperledger.org/secure/attachment/10891/Capture2.PNG","01/Jun/17 1:52 AM;yacovm;Capture3.PNG;https://jira.hyperledger.org/secure/attachment/10892/Capture3.PNG","03/Jun/17 2:10 AM;yacovm;Capture4.PNG;https://jira.hyperledger.org/secure/attachment/10907/Capture4.PNG","03/Jun/17 2:13 AM;yacovm;Capture5.PNG;https://jira.hyperledger.org/secure/attachment/10908/Capture5.PNG","03/Jun/17 2:22 AM;yacovm;Capture6.PNG;https://jira.hyperledger.org/secure/attachment/10909/Capture6.PNG",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzws2f:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,ales,angelo.decaro,binhn,C0rWin,ChristopherFerris,denyeart,elli-androulaki,muralisr,troyronda,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"29/May/17 2:42 PM;yacovm;This certainly a ""needs-review"" one but I think we should include this.
* From what I remember (I reviewed the CC cache change set at that time) - If we add good enough unit tests that test the life cycle in the presence of expiration, we can be sure it doesn't beak anything
* Peers are supposed to run indefinitely and I don't think we should let a module consume an unlimited amount of memory. ;;;","30/May/17 3:17 AM;ChristopherFerris;Wouldn't shooting in the head periodically solve the problem? Yes, it would be great if the peer ran indefinitely, but that seems an unrealistic goal. We should design it such that it can sustain a brief outage (e.g. can be quickly restarted).;;;","30/May/17 3:17 AM;ChristopherFerris;Also, I am not convinced this is a bug, per se as much as a poor design;-);;;","30/May/17 4:38 PM;yacovm;{quote}Wouldn't shooting in the head periodically solve the problem? Yes, it would be great if the peer ran indefinitely, but that seems an unrealistic goal. We should design it such that it can sustain a brief outage (e.g. can be quickly restarted).{quote}

We could stop the merging of the fix that prevents none authorized stop of the peer via gRPC and call that a feature that recycles this cache.

Now, jokes aside - I think that adding code that periodically restarts isn't a good idea from a couple of reasons:
* If the peer is a leader peer and is restarted, it may cause a view divergence in the rest of the peers and that would cause them to react and start electing a new leader. Eventually the system would stabilize but this is redundant churn and would just look ""weird"" from a macro view of operations.
* If we restart in the middle of a transaction simulation the gRPC call of the client would fail and that is a client impact.
* If the code that periodically restarts the peer is put inside the peer and shoots itself in the head - then we need additional code that monitors the peer and restarts it. This is complex.
* If the code that periodically restarts the peer is only outside, it can't do so in times when a transaction simulation isn't in progress. 

From what I've seen in the code (IIUC, please correct me if I'm wrong) , the chaincode deployment spec is part of this object that is cached and this can be a considerable amount in some use cases.
I think that we should insert simple logic that if the cache size is greater than some threshold, it empties the cache. Such an addition is easily tested and is confined to one file and I think is better than shooting the node in the head.

Another idea is to have a list that when some item is either added or retrieved from the list, it is put to the top of the list, and if the list reaches a threshold - we remove the last item from the list, keeping an invariant that the list is smaller than a certain size.

This is less poor design but more like [lenient code review |https://gerrit.hyperledger.org/r/#/c/8313/11/core/common/ccprovider/ccinfocache.go@37] and I think that it should be classified as a bug because it actually may crash the peer with outofmemory.;;;","31/May/17 2:06 PM;denyeart;How large is the cache per chaincode instantiated/upgraded?  It seems the fix could wait until a subsequent release, unless you convince me that the cache is of such significant size that there is real risk of memory issues in 1.0 timeframe.;;;","31/May/17 4:25 PM;yacovm;{quote}How large is the cache per chaincode instantiated/upgraded? It seems the fix could wait until a subsequent release, unless you convince me that the cache is of such significant size that there is real risk of memory issues in 1.0 timeframe.
{quote}
Dave, that's a good question.

I did the following experiment: I added some lines to print the size of the content of the object that is cached (I omitted the length of the hashes since it's ~ 32 bytes each hash):
{code:java}
func (c *ccInfoCacheImpl) GetChaincode(ccname string, ccversion string) (CCPackage, error) {
	// c.cache is guaranteed to be non-nil

	key := ccname + ""/"" + ccversion

	c.RLock()
	ccpack, in := c.cache[key]
	c.RUnlock()

	if !in {
		var err error

		// the chaincode data is not in the cache
		// try to look it up from the file system
		ccpack, err = c.ccfs.GetChaincode(ccname, ccversion)
		if err != nil || ccpack == nil {
			return nil, fmt.Errorf(""cannot retrieve package for chaincode %s/%s, error %s"", ccname, ccversion, err)
		}

		// we have a non-nil CCPackage, put it in the cache
		c.Lock()
		c.cache[key] = ccpack
		c.Unlock()

		cp := ccpack.(*CDSPackage)
		b, _ := proto.Marshal(cp.depSpec)
		size := len(cp.id) + len(cp.buf) + len(cp.datab) + len(b)
		fmt.Println(""<<<<<"", size)
                fmt.Println(""<<<"", len(cp.id), len(cp.buf), len(cp.datab), len(b))
	}

	return ccpack, nil
}
{code}
Then I deployed the code to my test env and looked at the logs of the peers and it was printed:
{quote}<<<<< 21671112

<<< 32 10835525 68 10835525
{quote}
The size of the chaincode *.go* file that I deployed is: *2.2K* 
 but it seems that somehow the size of the object that is stored is *20MB*.;;;","31/May/17 8:48 PM;denyeart;Thanks [~yacovm] at 20MB per, I do see cause for concern.  Next question - if you have one chaincode instantiated on 100 channels, does the cache grow 1x or 100x?;;;","31/May/17 9:04 PM;yacovm;The cache is for chaincodes, and is orthogonal for channels.
Also verified this by adding another channel and doing the same from scratch - saw only print such as above so I conclude the 2nd Get was a cache hit and not a miss.

But I'd argue that 20MB per CC is too much. If the peer has 10 different CCs it means 200 MB

Perhaps I have something weird in my env? could you try to reproduce this locally? 
[~muralisr] how does this get to 20MB? I thought the CDS only has the .go code which is 2.2KB.
Edit - OK, so it's actually the GOPATH itself and not just the CC.;;;","01/Jun/17 12:37 AM;binhn;-1

I don't think we need to worry about the cc info cache at this point – too small to be concerned, and it can be improved post 1.0 without causing any changes else where.

[~yacovm] the 20m is the cc image, not the cache. FAB-2493 is an attempt to reduce the size of the total cc code.;;;","01/Jun/17 1:21 AM;yacovm;I see.
Well I did a small experiment - I installed the same CC under 50 names (a bash loop from 1 to 50)
and then instantiated all CCs under the same channel.
My test env has system-related monitoring (monitors CPU, memory, IO, etc.)
How would you explain the following graph?
 !Capture.PNG|thumbnail! ;;;","01/Jun/17 1:29 AM;yacovm;These are the other peers, for reference - I didn't install the CC on them, and I killed all the containers on  peer0 afterwards 
!Capture2.PNG|thumbnail! 

The chaincode's init method, btw, is:
{code}
func (t *BenchmarkChaincode) Init(stub shim.ChaincodeStubInterface) pb.Response {
        return shim.Success(nil)
}
{code}

So I don't think there should be anything interesting in the blocks created for the channel.;;;","01/Jun/17 1:52 AM;yacovm;Now, just to be sure- next thing I did is disable the cache in *peer/node/start.go* :
{quote}	
// enable the cache of chaincode info
//ccprovider.EnableCCInfoCache()
{quote}

and did the whole thing again, and now the memory graph doesn't show an increase:
 !Capture3.PNG|thumbnail! 

(ignore the start, I had a compilation error at first so had to redeploy...)

I think this clearly proves that there is something not right going on.
Can't we just either put an LRU eviction from the cache or (the simplest solution) - disable it with commenting out the line above?

[~binhn] are you saying that FAB-2493 would fix this issue?;;;","01/Jun/17 3:42 AM;ChristopherFerris;+1 to disabling for now.;;;","01/Jun/17 5:54 AM;binhn;[~yacovm] It looks like we cache the code.

[~ales] Why would we need the code? We should nil it out from the cached CDS.

In any case, we shouldn't be concerned about this until  FAB-2493 is in to see what the size be. If only a few mbytes, I would post 1.0;;;","01/Jun/17 6:08 AM;C0rWin;It seems pretty dangerous and IMO should be disabled voting +1.;;;","01/Jun/17 11:00 PM;ales;Disabling the cache is not a good idea IMHO because that would mean that *for every* proposal we would need to do a trip to the fs, Granted, in some cases we might benefit from cache hits from the fs page cache, but that's a gamble that I wouldn't be willing to make.

Nilling out the code field would be an option if we used it only from the endorser to check instantiation policies, but we ended up using the cache from every code path (and not only from the endorse path that doesn't require accessing the code field) and so that's also not viable.

We could put a cap on the number of cached items and implement some purging policies (simplest of which would be random purging which would require a handful of lines of code to be changed and probabilistically should still converge to caching what is useful).

On a side note: if memory kept by cc instances that have been upgraded is an issue, why aren't we concerned about leaking whole containers that we don't stop and kill when we upgrade?;;;","01/Jun/17 11:09 PM;C0rWin;Well, we need to compare performance with and without a cache to be able to state something more educative rather than speculating on intuition. I think that potential infinite memory consumption is a way more dangerous than having peer reading from disk on each proposal. Having stable system is far more important at this point.

And yes, I'd agree that generally have limit capacity cache would be a perfect option, but speaking of release and time constraints I still thinking that disabling cache will be better for 1.0 release, unless we would like to take a risk and do add constraints to cache size.;;;","01/Jun/17 11:20 PM;ales;I'm not 100% sure we need benchmarks to establish that a trip to the kernel's fs layer (and potentially to disk) is slower than a hit in a memory cache.

That said, I understand the concern. How big of a risk do you think that my proposal of a max cache size and random evictions carries?;;;","01/Jun/17 11:29 PM;C0rWin;Reading from disk is definitely could slow down the overall throughput, while two main questions to ask:

1. How significantly it will slow down?
2. Whenever reading from disk is a bottleneck at current point in time?

;;;","01/Jun/17 11:30 PM;ales;I like the idea of LRU better of course and could implement that as well. Though I'm concerned about the fact that the code changes would be larger (random eviction is going to be much smaller).;;;","01/Jun/17 11:34 PM;ales;[~C0rWin] I don't object disabling the cache, it's a one line change. What I'm saying is that if we can introduce a max cache size and benefit from this cache without introducing too much risk, I'd like use to at least discuss the option before dismissing it altogether.;;;","01/Jun/17 11:38 PM;C0rWin;Having random eviction you will loose all benefit of the cache, not sure how this less intrusive. IMO no big different between having LRU and random eviction. As a starter probably we can simply limit the cache size and start to retain items once limit exceeds the limit, from the bottom/top of the list. ;;;","01/Jun/17 11:40 PM;yacovm;Once [~greg.haskins]'s change set gets in:
* Not all CDSs would be created equal so some will be big, some will be small, and we would need to look at the total size of the cache and not the item number in it.
* I think that if we don't want to implement LRU and instead we would do random evictions, we would end up needing to evict entries until the cache is small enough, since, again- not all CDSs would be created equal. Therefore it would make sense to have an LRU because it's easy to just evict the tail of a list until the cache is small enough, then to pick a random element from a map, until the cache is small enough (because picking a random item from a map requires iterating over it...)
* I think it's worth to do the check I did again after it gets merged (can anyone notify me on this please in case I miss it?);;;","01/Jun/17 11:43 PM;ales;good point, but that's no longer a small change (though it's not clear to me what change-size is acceptable at this stage).;;;","02/Jun/17 12:54 AM;ales;so, just to wrap up, here's the options on the table:
 # disable the cache; PROS: simplest change; CONS: one trip to the fs for every single proposal;
 # implement max number of entries with random eviction; PROS we benefit from the cache, simple change, size of cache can't grow infinitely; CONS: eviction policy isn't optimal
 # implement max cache size (in bytes) with LRU; PROS: we benefit from the cache, size of cache is predictable; CONS: more complex change

Thoughts?;;;","02/Jun/17 1:15 AM;denyeart;At this stage, I would vote for option #2, and keep it very simple for now, e.g. hardcode max size of 100 chaincodes in cache, and upon the 101st evict another.  We don't need to consider size per entry for the first impl, just keep it extremely simple.  Then in next release make it LRU.;;;","02/Jun/17 8:02 AM;muralisr;[~ales] isn't there an option 4 ? Currently we only need the InstantiationPolicy. Instead of caching the entire package (with the CDS) why don't we just cache just ChaincodeData (contains InstantiationPolicy and a few sundry fields);;;","02/Jun/17 11:29 AM;binhn;[~ales]  I removed the chaincode source from the cache by insert 1 line into https://github.com/hyperledger/fabric/blob/master/core/common/ccprovider/ccinfocache.go#L94

{{ depSpec.CodePackage = nil}}

and successfully ran `make unit-test` and `e2e_cli`

 

[~yacovm]  Could you give that a try and see how the memory consumption effected.

 ;;;","02/Jun/17 7:02 PM;yacovm;The cache is populated in *GetChaincode* too, not only in *PutChaincode*.
When I put
{code}
depSpec.CodePackage = nil
{code}

It still climbs. 

When I also do:
{code}
		cp.buf = nil
		cp.depSpec.CodePackage = nil
{code}
(These are the big byte slices) - it doesn't work.... complains at instantiate that:
{quote} Error starting container: Failed to generate platform-specific docker build: Error returned from build: 1 ""can't load package: package github.com/hyperledger/fabric/examples/chaincode/go/metrics: cannot find package ""github.com/hyperledger/fabric/examples/chaincode/go/metrics"" in any of:
        /opt/go/src/github.com/hyperledger/fabric/examples/chaincode/go/metrics{quote}

I deleted these 2 lines in *GetChaincode* and verified that it works again (but memory still climbs);;;","02/Jun/17 8:50 PM;muralisr;[~binhn] if the cache was used just to check for the one intended purpose, we could nil out other data. But the func call replaces the old one so all calls go through the cache. 

My suggestion above was basically create a separate cache call which will cache only ChaincodeData and used that only for this purpose. ;;;","02/Jun/17 11:44 PM;yacovm;[~binhn] said in the scrum:

{quote} @muralisr i am still not clear on where the changes should be as @aso mentioned that the cache is also used in validation and commit paths
if we only use the cache on endorsement, then i agreed with your assessment that it is only here during instantiation
and if only instantiation, why would we bother caching? instantiation doesn't happen often {quote}

He then continued and proposed to disable the cache.

I think we should start voting on disabling the cache (I'm for doing it)
[~C0rWin] [~binhn] [~ChristopherFerris] [~muralisr] and others... 
;;;","03/Jun/17 12:26 AM;muralisr;[~binhn] et all... let me put out a [WIP] CR so you can assess the options. And if I find I was wrong, I'll report that too :-);;;","03/Jun/17 2:22 AM;yacovm;ok, I have good news!
I pulled latest master after [~greg.haskins]'s change set has been merged and the numbers are great:

This is the size of the contents of the object cached
{quote}<<< 32 1187 68 1187
<<<<< 2474
{quote}

While before it was:
{quote}
    <<<<< 21671112
    <<< 32 10835525 68 10835525
{quote}

And this is the graph now:
 !Capture6.PNG|thumbnail! 

The memory before the sink is when the peer CLI was compiled with the old version and the memory after the sink is much much lower as you see, where the peer CLI was compiled with the latest master
;;;","03/Jun/17 2:30 AM;binhn;[~yacovm]  Thanks for great news.

With this info, I would vote to defer enhancing the cache to post 1.0;;;","03/Jun/17 2:31 AM;muralisr;[~yacovm] it really depends upon the chaincode and its dependencies. Previously we were including the world. But now we are including just the chaincode and its exact dependencies.;;;","04/Jun/17 6:57 AM;muralisr;Please checkout https://gerrit.hyperledger.org/r/#/c/10121/ for the ""minimal"" cache discussed in scrum and implements ""option 4"" mentioned a few comments back.

{code:java}
Alessandro Sorniotti isn't there an option 4 ? Currently we only need the InstantiationPolicy. Instead of caching the entire package (with the CDS) why don't we just cache just ChaincodeData (contains InstantiationPolicy and a few sundry fields)
{code}

This completely eliminates chaincode code from the cache.;;;","04/Jun/17 9:44 PM;muralisr; [~ales][~binhn] [~yacovm] appreciate if you can take a look... 

[~yacovm] perhaps you can run your tests and generate numbers with this change ?;;;","04/Jun/17 9:56 PM;yacovm; 
{quote}[~yacovm] perhaps you can run your tests and generate numbers with this change ?
{quote}
 
 # The cache is already very small now thanks to Greg's change set. I think that refactoring the code just to decrease the cache size even more is not a cost-effective move in terms of risk-reward. We could use your change set post v1.0, however. And there we need to implement cache eviction.
 # I'm using the environment now for performance evaluation of gossip. When I did the tests that provided the graphs it was a pain to switch the code as it used different git remotes, diverged branches, etc... You can do what I did with the fmt.Print's and install 50 chaincodes and instantiate them. I don't think that graphs is a must for this scenario.;;;","04/Jun/17 11:33 PM;muralisr;[~yacovm] The cache depends upon the chaincode size. For anything other than toy chaincodes it could be significant. The changeset eliminates the size of the chaincode as a variable. I think its worth taking a look and then decide if its we want to include this for 1.0.

;;;","05/Jun/17 11:19 PM;muralisr;The CR https://gerrit.hyperledger.org/r/#/c/10121/  is totally internal with no API or visible user changes. This can be investigated post 1.0 given other items with higher priority.

We don't have to do anything for this JIRA but I can go either way.... it has some benefits, just risk vs rewards at this point. Given myself -2 on the gerritt just in case.;;;","05/Jun/17 11:57 PM;angelo.decaro;+1 for https://gerrit.hyperledger.org/r/#/c/10121/ 
The changes are easy to follow and it reduces the amount of information stored in the cache.;;;","06/Jun/17 5:55 AM;ChristopherFerris;This CR doesn't address running out of space. Just pushes off the date when we hit the problem, unless I am missing something.;;;","06/Jun/17 8:41 AM;muralisr;[~ChristopherFerris] No, you aren't missing anything.  The JIRA should be divided into two tasks (1) its caching too much (which is how it was noticed in the first place and (2) it doesn't have a policy for purging cache. 

The CR I put out just addresses (1) and takes chaincode size out of the equation. We still need (2).

If it makes it easier to manage,we could just create a ""fabric is caching CC Package when all it needs its CC policy"" bug and associated https://gerrit.hyperledger.org/r/#/c/10121/  with it.;;;","07/Jun/17 12:27 AM;binhn;[~muralisr]
{quote}The CR I put out just addresses (1) and takes chaincode size out of the equation. We still need (2).
{quote}
Let's create an improvement JIRA for that, and move this item to post 1.0;;;","09/Jun/17 12:14 AM;muralisr;[~binhn] created improvement JIRA https://jira.hyperledger.org/browse/FAB-4473.;;;","09/Aug/17 10:22 PM;elli-androulaki;So, what do we do about this item now? Should it be post v1.1? Not sure it is related to fabric-crypto actually :);;;","10/Aug/17 1:40 AM;muralisr;[~elli-androulaki]  the cache size is much smaller than chaincode now that we are storing just the ""ChaincodeData"" part (counted 68 bytes for chaincode_example02). Given that, my vote would be to close this.;;;","12/Sep/18 6:44 PM;elli-androulaki;hi, any updates on this one? :)  For now, the item is being marked as ""Future"" but just object if you think it needs to be moved to 1.4 or be closed.;;;","25/Sep/18 9:30 PM;elli-androulaki;Closing as no-longer relevant; [~ales] said this cache no longer exists.

 ;;;","25/Sep/18 9:30 PM;elli-androulaki;Not relevant any more.;;;",,
Pull mechanism should only pull from peers in the same org,FAB-3744,16495,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,09/May/17 10:03 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,10/May/17 6:45 PM,v1.0.0,,,,,fabric-gossip,,,,,,,0,gossip,,,,,,,"Currently, the pull mechanism works with peers from any orgs that are eligible of being in the channel.

This has the following problem:

If in a certain channel there are 2 orgs: \{A, B} and a peer from orgB initiates a pull with a peer from orgA and as a result, the peer from orgA sends the peer from orgB blocks with sequences [n... n+k] it has received from either the ordering service or from peers in its own org, it is not safe because a block i in [n.. n+k] can be a configuration block that evicts orgB from the channel, and as a result - orgB would receive blocks it isn't eligible of receiving.

 

This problem doesn't exist in the state transfer because we only send blocks that were committed into the ledger before and therefore processed and updated the MSP and then if the peer that requests the block is not eligible to the channel, the MSP of the peer as been updated before the state transfer request is serviced.

 

The fix of this issue is very simple:

1)

The channel pull adapter uses the following struct to select the peers to pull blocks from:
{code:java}
type membershipFilter struct {
    adapter Adapter
    *gossipChannel
}

// GetMembership returns the known alive peers and their information
func (mf *membershipFilter) GetMembership() []discovery.NetworkMember {
    var members []discovery.NetworkMember
    for _, mem := range mf.adapter.GetMembership() {
       // here we need to add a check of the peer's org
        if mf.EligibleForChannel(mem) {
            members = append(members, mem)
        }
    }
    return members
}{code}
We just need to add a filtering that also ensures the selected remote peer is from the peer's org.

 

2) When the channel code receives a pull message we would also need to filter out if the remote peer is from a different org.
{code:java}
    if m.IsPullMsg() && m.GetPullMsgType() == proto.PullMsgType_BLOCK_MSG {
        if !gc.EligibleForChannel(discovery.NetworkMember{PKIid: msg.GetConnectionInfo().ID}) {
            // here we need to add a check of the peer's org
            gc.logger.Warning(msg.GetConnectionInfo().ID, ""isn't eligible for channel"", string(gc.chainID))
            return
        }{code}",,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxub3:",,,,,,,,,,,,,,,,,,,,,,,,,,,yacovm,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
docker-compose for svt testing framework,FAB-3745,16496,,Task,Closed,FAB,Fabric,software,denyeart,,,High,Done,suryalnvs,suryalnvs,suryalnvs,09/May/17 10:32 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,07/Mar/18 4:51 AM,,,,v1.0.0,,fabric-quality,,,,,,,0,,,,,,,,"Creating a docker-compose file that support TLS with 3 zookeepers, 3 kafka brokers, 2 orderers, 2 organizations, 2 peers in each organization, 1 ca for each org.",,gloriow,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxubb:",,,,,,,,,,,,,,,,,,,,,,,,,,,gloriow,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
not able to join the channel,FAB-3747,16498,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rohitjana,rohitjana,rohitjana,09/May/17 11:30 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,12/Jun/17 9:05 PM,v1.0.0-alpha1,,,v1.0.0,,fabric-peer,,,,,,,0,,,,,,,,"When I try to start up the container using the script (provided in the getting started document)

CHANNEL_NAME=<CHANNEL_NAME> docker-compose -f docker-compose-no-tls.yaml up

 

I see following error:

 

 

peer1.org2.example.com | main.main()
orderer.example.com | main.main()
cli | CORE_PEER_ID=cli
peer1.org2.example.com | /opt/gopath/src/github.com/hyperledger/fabric/peer/main.go:107 +0x67a
orderer.example.com | /opt/gopath/src/github.com/hyperledger/fabric/orderer/main.go:128 +0x1f17
cli | CORE_LOGGING_LEVEL=DEBUG
cli | CORE_PEER_GOSSIP_IGNORESECURITY=true
cli | CORE_PEER_ADDRESS=peer0.org1.example.com:7051
cli | CORE_PEER_ENDORSER_ENABLED=true
cli | panic: Fatal error when setting up MSP from directory /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/ordererOrganizations/example.com/orderers/orderer.example.com: err Could not load a valid signer certificate from directory /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/ordererOrganizations/example.com/orderers/orderer.example.com/signcerts, err Could not read directory open /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/ordererOrganizations/example.com/orderers/orderer.example.com/signcerts: no such file or directory, err /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/ordererOrganizations/example.com/orderers/orderer.example.com/signcerts
cli |
cli |
cli | goroutine 1 [running]:
cli | panic(0xbe1b00, 0xc4201cd080)
cli | /opt/go/src/runtime/panic.go:500 +0x1a1
cli | main.main()
peer0.org1.example.com exited with code 2
cli | /opt/gopath/src/github.com/hyperledger/fabric/peer/main.go:107 +0x67a
cli | !!!!!!!!!!!!!!! Channel creation failed !!!!!!!!!!!!!!!!
cli | ================== ERROR !!! FAILED to execute End-2-End Scenario ==================
cli |
peer1.org2.example.com exited with code 2
peer1.org1.example.com exited with code 2
peer0.org2.example.com exited with code 2
orderer.example.com exited with code 2

 

 

Please help to resolve this!!

 ",,muralisr,rohitjana,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxubr:",,,,,,,,,,,,,,,,,,,,,,,,,,,muralisr,rohitjana,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"02/Jun/17 7:36 AM;muralisr;[~rohitjana] can you try alpha2 and see if this problem can be recreated please ?;;;","05/Jun/17 1:08 AM;scottz;And provide exact steps you used to create the problem.;;;","07/Jun/17 9:21 PM;muralisr;[~rohitjana] any update on this please ? If you have no updates, will assume its working with latest and close this by 9 June. ;;;","12/Jun/17 9:05 PM;muralisr;[~rohitjana] closing this per previous comment. Do reopen or create a new JIRA if you are still having problems.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Daily Ledger Performance  Benchmarking,FAB-3749,16500,,Story,Closed,FAB,Fabric,software,denyeart,,,High,Done,AdnanChoudhury,AdnanChoudhury,AdnanChoudhury,10/May/17 12:07 AM,21/Jul/18 3:55 AM,28/Oct/23 2:59 AM,14/Oct/17 3:07 AM,,,,v1.0.0,,fabric-ledger,fabric-quality,,,,,,0,quality,,,,,,,"Create a daily test task for the CI with the proposed performance measurement tool for the Ledger Component. ([https://gerrit.hyperledger.org/r/#/c/6793/)] . The test tool needs to be in the /test/tools/ folder, the test driver needs to conform to the test framework guidelines ([https://gerrit.hyperledger.org/r/#/c/8989/3)] and reside in the /daily folder. The CI wil pick the test and run from there.
 * +Component+:  Ledger
 * +Artifact Locations+:  {{fabric/test/tools/ledgerbenchmarks}}
 * +Network Topology+: Not Applicable, as it tests the component only
 * +Input+:  To run all tests, go to directory: 
 {{/fabric/test/regression/daily}}
 run: 
 {{py.test -v --junitxml results.xml ./test_ledger_benchmark.py}}",,AdnanChoudhury,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3800,FAB-3803,FAB-3770,,,FAB-3790,FAB-3795,FAB-3798,FAB-3799,FAB-3801,FAB-3802,FAB-3870,FAB-3871,FAB-3872,FAB-3873,FAB-3874,FAB-3875,FAB-3876,FAB-3877,FAB-3878,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-3770,,,,,,,,,,"1|hzx2r3:",,,,Unset,,Sprint 19 - Quality,,,,,,,,,,Unset,,,,,,,,,,,AdnanChoudhury,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add new role to BDD to account for recent instantiation policy changes in peer,FAB-3750,16501,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jeffgarratt,jeffgarratt,jeffgarratt,10/May/17 12:44 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,10/May/17 10:31 AM,,,,,,,,,,,,,0,quality,,,,,,,,,jeffgarratt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3751,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-1141,,,,,,,,,,"1|hzxuc7:",,,,,,,,,,,,,,,,,,,,,,,,,,,jeffgarratt,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"10/May/17 12:56 AM;jeffgarratt;Current instantiation proposal as signed by the dev0Org0 is being rejected by peer with failure...

~ chaincode instantiation policy violated(Failed to authenticate policy)

 

Requires the MSP admin as defined by the channel config block.  Going to create a new role of mspAdmin for each organization, and they will subsequently perform the instantiate operations (proposal and TX).;;;","10/May/17 4:56 AM;jeffgarratt;[~binhn] [~kchristidis] [~muralisr]

 

pushed CR [https://gerrit.hyperledger.org/r/#/c/9153/]

 

This addresses this issue.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add support to properly configure kafka components in BDD,FAB-3751,16502,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jeffgarratt,jeffgarratt,jeffgarratt,10/May/17 12:48 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,11/May/17 11:59 PM,,,,,,,,,,,,,0,,,,,,,,,,jeffgarratt,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3750,,,,,,,,,,,,,,,,,,,,,,,,FAB-3289,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-1141,,,,,,,,,,"1|hzxucf:",,,,,,,,,,,,,,,,,,,,,,,,,,,jeffgarratt,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"11/May/17 1:58 AM;jeffgarratt;[~kchristidis] [~binhn] Just pushed [https://gerrit.hyperledger.org/r/#/c/9195/]

 

This support proper kafka config for the genesis block based upon composition of the system.  I verified against each config (solo, orderer-3-kafka-1).  ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add a Readme for the system feature tests,FAB-3753,16504,19362,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,latitiah,latitiah,latitiah,10/May/17 1:11 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,02/Jun/17 12:18 AM,,,,v1.0.0,,fabric-quality,,,,,,,0,quality,,,,,,,"A readme that contains at least the following should be added to the test/feature directory:
 * Getting Started
 * Prereqs
 * How to contribute


 https://gerrit.hyperledger.org/r/#/c/9131/",,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx2sv:",,,,,,Sprint 19 - Quality,,,,,,,,,2.0,,,,,,,,,,,,latitiah,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add endorser_util,FAB-3754,16505,13850,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,latitiah,latitiah,latitiah,10/May/17 1:38 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,15/Jun/17 12:50 AM,,,,,,fabric-quality,,,,,,,0,,,,,,,,"This should contain the code needed to perform the key endorser functionality such as
 * install
 * instantiate
 * create channel
 * join channel
 * invoke chaincode
 * query chaincode",,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxucn:",,,,,,Sprint 10 - Quality,Sprint 11 - Quality,Sprint 12 - Quality,Sprint 13 - Quality,Sprint 14 - Quality,Sprint 15 - Quality,Sprint 16 - Quality,Sprint 19 - Quality,,3.0,,,,,,,,,,,,latitiah,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"10/Jun/17 4:42 AM;latitiah;https://gerrit.hyperledger.org/r/#/c/9669/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Gossip: Add remote peer endpoint to ConnectionInfo,FAB-3755,16506,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,10/May/17 1:59 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,10/May/17 9:11 PM,v1.0.0,,,v1.0.0,,fabric-gossip,,,,,,,0,Serviceability,,,,,,,"In gossip we have the following struct that can be extracted from a point-to-point message
{code:java}
type ConnectionInfo struct {
    ID       common.PKIidType
    Auth     *AuthInfo
    Identity api.PeerIdentityType
}{code}
In the logs we write the ID of the peer but it's a byte slice, and doesn't tell much about the peer.

 

On the other hand, when a remote peer connects to a peer, we [extract its endpoint|https://github.com/hyperledger/fabric/blob/master/gossip/comm/comm_impl.go#L418] anyway.

 

It'd be beneficial to add this to the ConnectionInfo so we can log it.

 ",,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxucv:",,,,,,,,,,,,,,,,,,,,,,,,,,,yacovm,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add container start/stop functionality,FAB-3758,16509,13850,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,latitiah,latitiah,latitiah,10/May/17 3:35 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,27/May/17 2:28 AM,,,,,,fabric-quality,,,,,,,0,,,,,,,,"The tests should have the capability to start and stop containers.

[https://gerrit.hyperledger.org/r/#/c/9667]

 ",,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxudb:",,,,,,Sprint 10 - Quality,Sprint 11 - Quality,Sprint 12 - Quality,Sprint 13 - Quality,Sprint 14 - Quality,Sprint 15 - Quality,Sprint 16 - Quality,Sprint 19 - Quality,,2.0,,,,,,,,,,,,latitiah,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update README in orderer dir,FAB-3760,16511,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,kchristidis,kchristidis,kchristidis,10/May/17 3:42 AM,21/Jul/18 3:56 AM,28/Oct/23 2:59 AM,11/May/17 12:40 AM,v1.0.0-alpha1,,,v1.0.0-alpha2,,fabric-orderer,,,,,,,0,common-components,,,,,,,"This file was written a long time ago, and needs to be updated to reflect the current status of the ordering service component.",,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-3040,,,,,,,,,,"1|hzxudr:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,kchristidis,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"10/May/17 3:55 AM;kchristidis;https://gerrit.hyperledger.org/r/#/c/9151/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Modify bootstrap.feature to include proper orderer system channel updates.,FAB-3761,16530,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jeffgarratt,jeffgarratt,jeffgarratt,10/May/17 10:34 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,17/May/17 3:39 AM,,,,,,,,,,,,,0,,,,,,,,The current bootrap.feature includes the consortium configuration in the genesis block of the orderer system channel.  The more realistic flow is that the orderer system channel is created and then a subsequent config update creates the consortium.,,jeffgarratt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-1141,,,,,,,,,,"1|hzxue7:",,,,,,,,,,,,,,,,,,,,,,,,,,,jeffgarratt,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"13/May/17 1:23 AM;jeffgarratt;In progress.  Worked with both Kostas and Jason for a couple of hours yesterday to rework some terminology and modify the behavior flow.  ;;;","14/May/17 1:30 AM;jeffgarratt;Posted CR [https://gerrit.hyperledger.org/r/#/c/9337/]

 

Now in review.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fix Hard-coded default chain name,FAB-3762,16532,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,baohua,baohua,baohua,10/May/17 2:20 PM,21/Jul/18 3:53 AM,28/Oct/23 2:59 AM,29/Sep/17 4:54 PM,v1.0.0,,,v1.0.0,,fabric-peer,,,,,,,0,,,,,,,,"The default chain ""testchainid"" is defined in common/util.

Other components should retrieve the value using the method, instead of hard-coded.",,baohua,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzxuen:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,baohua,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"10/May/17 2:29 PM;baohua; http://gerrit.hyperledger.org/r/9173;;;","12/Jun/17 8:42 PM;mastersingh24;I think we should push this out post 1.0.0 as this is an improvement (even though it's small);;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Intermediate CA certificates must be sanitized against their parent certificate,FAB-3763,16533,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,angelo.decaro,angelo.decaro,angelo.decaro,10/May/17 7:47 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,11/May/17 2:23 AM,,,,v1.0.0,,fabric-crypto,,,,,,,0,,,,,,,,"Currently, certificates of intermediate CAs are sanitized in the same way root CA certificates are (https://github.com/hyperledger/fabric/blob/master/msp/mspimpl.go#L845). Namely, by using as parent certificate the certificate itself. But intermediate CA certificates must have a parent and therefore the sanitation must happen with the respect to that certificate.

 ",,angelo.decaro,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxuev:",,,,,,,,,,,,,,,,,,,,,,,,,,,angelo.decaro,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Comments are misplaced in ledger_interface,FAB-3764,16534,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,manish-sethi,manish-sethi,manish-sethi,10/May/17 8:24 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,11/May/17 2:22 AM,,,,v1.0.0,,fabric-ledger,,,,,,,0,,,,,,,,"The comments for function are {color:#aaaaaa}NewTxSimulator(){color} misplaced.{color:#aaaaaa}
{color}",,manish-sethi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx4o7:",,,,,,Sprint 16  - Ledger,,,,,,,,,,,,,,,,,,,,,manish-sethi,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
peer chaincode instantiate fails ,FAB-3765,16535,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,bhaskerchatterjee,bhaskerchatterjee,bhaskerchatterjee,10/May/17 9:26 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,07/Jun/17 10:14 PM,v1.0.0-alpha1,,,v1.0.0,,fabric-peer,,,,,,,0,,,,,,,,"I am using vagrant environment. I did following:

Terminal1: orderer

Terminal2: peer node start -o 127.0.0.1:7050 --peer-chaincodedev=true --peer-defaultchain=false

Terminal3: peer chaincode install -o 127.0.0.1:7050 -n mycc -v 1.0 -p github.com/hyperledger/fabric/examples/chaincode/go/chaincode_example02

Terminal3: peer chaincode instantiate -o 127.0.0.1:7050 -n mycc -v 1.0 -c '\{""Args"":[""init"",""a"", ""100"", ""b"",""200""]}'

 

There it fails with 'Error: Error endorsing chaincode: rpc error: code = 2 desc = Failed to init chaincode(handler not found for chaincode mycc:1.0)'

 

Am I missing something?",,bhaskerchatterjee,muralisr,Ratnakar,scottz,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxuf3:",,,,,,,,,,,,,,,,,,,,,,,,,,,bhaskerchatterjee,muralisr,Ratnakar,scottz,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"31/May/17 11:53 PM;wlahti;[~bhaskerchatterjee] I just pulled the latest code from master and attempted to reproduce this issue following your steps.

 

I hit a different issue related to the MSP but I think it's a configuration problem and not a code problem: 
{code:java}
Error: Error endorsing chaincode: rpc error: code = 2 desc = Failed to deserialize creator identity, err MSP DEFAULT is unknown{code}
 

Can you pull the latest and see if you're still hitting the ""handler not found"" error?;;;","02/Jun/17 7:41 AM;muralisr;[~bhaskerchatterjee] with  --peer-chaincodedev=true you have to do an additional step of starting the chaincode yourself. This is described in docs/source/peer-chaincode-devmode.rst.;;;","05/Jun/17 12:43 AM;scottz;Bapi, can you retry with alpha2 or later? Please provide exact steps you followed when producing an error.;;;","05/Jun/17 1:03 AM;muralisr;[~bhaskerchatterjee] you'll also need to change the fabric/sampleconfig/orderer.yaml to change the GenesisProfile parameter to

{code:java}
GenesisProfile: SampleSingleMSPSolo
{code}

There are two doc issues with docs/source/peer-chaincode-devmode.rst.
* change GenesisProfile in sampleconfig/orderer.yaml to GenesisProfile: SampleSingleMSPSolo
* configtxgen -channelID ch1 -outputCreateChannelTx ch1.tx -profile SampleSingleMSPChannel configtxgen -channelID ch2 -outputCreateChannelTx ch2.tx -profile SampleSingleMSPChannel 
** should be two lines

[~Ratnakar] sounds like similar to what you ran into ?
;;;","05/Jun/17 4:30 AM;Ratnakar;[~bhaskerchatterjee]

Discussed with [~muralisr] . following steps are working for me. Please try these steps and let us know.

Tested in Vagrant env

*Terminal-1*
{code:java}
ORDERER_GENERAL_GENESISPROFILE=SampleSingleMSPSolo orderer{code}
*Terminal-2*
{code:java}
peer node start -o 127.0.0.1:7050 --peer-chaincodedev=true{code}
*Terminal-3:*
{code:java}
cd $GOPATH/src/github.com/hyperledger/fabric/examples/chaincode/go/chaincode_example02
go build
CORE_CHAINCODE_LOGLEVEL=debug CORE_PEER_ADDRESS=127.0.0.1:7051 CORE_CHAINCODE_ID_NAME=mycc:0 
./chaincode_example02
{code}

*Terminal-4*

create channel configuration transaction with default settings and the profile *SampleSingleMSPChannel*

 
{code:java}
configtxgen -channelID myc -outputCreateChannelTx myc.tx -profile SampleSingleMSPChannel
peer channel create -o 127.0.0.1:7050 -c myc -f myc.tx
peer channel join -b myc.block
{code}
 

+_Install and instantiate chaincode example02_+

 
{code:java}
peer chaincode install -n mycc -v 0 -p github.com/hyperledger/fabric/examples/chaincode/go/chaincode_example02
peer chaincode instantiate -n mycc -v 0 -c '{""Args"":[""init"",""a"",""100"",""b"",""200""]}' -o 127.0.0.1:7050 -C myc
{code}
_+send a transactoin and verify the result with a query+_

 
{code:java}
peer chaincode invoke -n mycc -c '{""Args"":[""invoke"",""a"",""b"",""10""]}' -o 127.0.0.1:7050 -C myc
peer chaincode query -n mycc -c '{""Args"":[""query"",""a""]}' -o 127.0.0.1:7050 -C myc
{code}
 ;;;","05/Jun/17 4:50 AM;Ratnakar;[~nickgaski] Could you please help to update the document [http://hyperledger-fabric.readthedocs.io/en/latest/peer-chaincode-devmode.html]

Below two points needs to be take care.


1) when default settings are used orderer uses *SampleInsecureSolo* as the GenesisProfile instead override the same with *SampleSingleMSPSolo*.
 Start the orderer with GenesisProfile as follows
{code:java}
ORDERER_GENERAL_GENESISPROFILE=SampleSingleMSPSolo orderer{code}

2) Split the lines from the section *Create channels ch1 and ch2 ,* http://hyperledger-fabric.latest.readthedocs/io/en/peer-chaincode-devmode.html#create-channels-ch1-and-ch2

 
{code:java}
configtxgen -channelID ch1 -outputCreateChannelTx ch1.tx -profile SampleSingleMSPChannel 
configtxgen -channelID ch2 -outputCreateChannelTx ch2.tx -profile SampleSingleMSPChannel 
{code}
 ;;;","06/Jun/17 12:03 AM;Ratnakar;[~bhaskerchatterjee] Can you re verify on fabric latest code using the instructions updated above.;;;","07/Jun/17 3:42 PM;bhaskerchatterjee;Ratnakar Asara,

 

Yes, it is working fine now. Thanks. However, there is an issue that I need to resolve while following these step: this does not create an active container (checking by docker ps), which I can see the logs of. I guess I am missing something to modify in the yaml files in sampleconfig folder, however, am not able to figure that out. I would really appreciate any clue on the same. Thanks.

 ;;;","07/Jun/17 9:29 PM;muralisr;[~bhaskerchatterjee]  Containers are created by the peer to start the chaincode when NOT running in --peer-chaincodedev mode. The whole point of --peer-chaincodedev=true is that the developer starts the chaincode and attaches to the peer (the ""Terminal-3"" steps in the comment). basically, chaincode  containers won't be created in --peer-chaincodedev mode.
;;;","07/Jun/17 9:40 PM;bhaskerchatterjee;Hi [~muralisr] , yes I realized that - as mentioned here [http://hyperledger-fabric.readthedocs.io/en/latest/Setup/Chaincode-setup.html?highlight=container%20chaincodedev|http://hyperledger-fabric.readthedocs.io/en/latest/Setup/Chaincode-setup.html?highlight=container%20chaincodedev.] . Actually, my purpose is to look for the contents in the statedb/historydb . I could use docker logs to read the logs in the containers to view that simply, thought to do the same in devmode as well; my mistake. I can see .ldb files in the folders /var/hyperledger/production/ledgersData/stateLeveldb/ /var/hyperledger/production/ledgersData/historyLeveldb/ . Could you suggest some way out to browse these dbs? ;;;","07/Jun/17 9:53 PM;muralisr;[~bhaskerchatterjee] Perhaps you could use the GetHistoryForKey chaincode api  ?

{code:java}
        // GetHistoryForKey function can be invoked by a chaincode to return a history of
        // key values across time. GetHistoryForKey is intended to be used for read-only queries.
        GetHistoryForKey(key string) (HistoryQueryIteratorInterface, error)
{code}

There may be other ways to access the historydb. Best to use the fabric-ledger Rocket Chat for that. 

Can you close this JIRA if your original issues are resolved please ?;;;","07/Jun/17 10:13 PM;bhaskerchatterjee;Thanks [~muralisr] !;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Not able to install and instantiate the chaincode - V1.0 alpha,FAB-3766,16536,,Story,Closed,FAB,Fabric,software,denyeart,,,Low,Done,muralisr,Amjadnz,Amjadnz,10/May/17 9:50 PM,21/Jul/18 3:55 AM,28/Oct/23 2:59 AM,01/Jun/17 9:26 PM,,,,WON'T FIX,,fabric-peer,,,,,,,0,Channels,joining,Orderer,,,,,"Extending the setup from the e2e from release. Made a new folder tts_network and started working on generating my network.

Steps as follows:

pwd:
{code:java}
/home/tts/src/github.com/hyperledger/fabric/examples/tts_network/fabric-sample/release/samples/e2e{code}
Removing any unwanted docker containers
{code:java}
docker rm -f $(docker ps -aq){code}
Remove earlier orderer block (for testing)
{code:java}
rm -fR ./orderer.block{code}
Remove earlier Channel Text (for testing)
{code:java}
rm -fR ./channel.txt
{code}
Generate new GENESIS block
{code:java}
./../../$os_arch/bin/configtxgen -profile TwoOrgs -outputBlock orderer.block{code}
Generate new CHANNEL TX file
{code:java}
./../../$os_arch/bin/configtxgen -profile TwoOrgs -outputCreateChannelTx channel.tx -channelID aj001{code}
Startup the compose file
{code:java}
CHANNEL_NAME=aj001 docker-compose up -d{code}
{{All items work fine - so far - and I am following the below steps.}}
 # {{Login to the CLI container.}}
{code:java}
CORE_PEER_MSPCONFIGPATH=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.ttsme.com/peers/peer0.org1.ttsme.com CORE_PEER_ADDRESS=peer0.org1.ttsme.com:7051 CORE_PEER_LOCALMSPID=""Org1MSP"" CORE_PEER_TLS_ROOTCERT_FILE=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.ttsme.com/peers/peer0.org1.ttsme.com/cacerts/org1.ttsme.com-cert.pem peer channel join -b aj001.block{code}

 # {{Joining the chaincode - all peers get the messages saying join-result in JSON - but the following message is seen in the  orderer log.}}
{code:java}
2017-05-07 13:17:28.184 UTC [orderer/common/deliver] Handle -> DEBU 611 Received seekInfo (0xc4203bd740) start:<specified:<number:1 > > stop:<specified:<number:18446744073709551615 > > for chain aj001
2017-05-07 13:17:28.185 UTC [orderer/ramledger] Iterator -> DEBU 612 Attempting to return block 1{code}

 # Stays here with no message - expecting the ""BLOCK sent"" message.
 # Trying to join another peer on the same channel 
{code:java}
CORE_PEER_MSPCONFIGPATH=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.ttsme.com/peers/peer1.org1.ttsme.com CORE_PEER_ADDRESS=peer1.org1.ttsme.com:7051 CORE_PEER_LOCALMSPID=""Org1MSP"" CORE_PEER_TLS_ROOTCERT_FILE=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.ttsme.com/peers/peer1.org1.ttsme.com/cacerts/org1.ttsme.com-cert.pem peer channel join -b aj001.block{code}
No logs in orderer. Not even showing any activity. Has the request reached here?

 # Due to this I guess when I make the deploy chaincode (gives no issue)
{code:java}
CORE_PEER_MSPCONFIGPATH=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.ttsme.com/peers/peer0.org1.ttsme.com CORE_PEER_ADDRESS=peer0.org1.ttsme.com:7051 CORE_PEER_LOCALMSPID=""Org1MSP"" CORE_PEER_TLS_ROOTCERT_FILE=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.ttsme.com/peers/peer0.org1.ttsme.com/cacerts/org1.ttsme.com-cert.pem  peer chaincode install -n sc_userole -v 1.0 -p github.com/hyperledger/fabric/examples/chaincode/go/tts/sc/v1/userrole{code}
 
{code:java}
2017-05-07 14:22:04.266 UTC [logging] InitFromViper -> DEBU 001 Setting default logging level to DEBUG for command 'chaincode'
2017-05-07 14:22:04.270 UTC [msp] GetLocalMSP -> DEBU 002 Returning existing local MSP
2017-05-07 14:22:04.270 UTC [msp] GetDefaultSigningIdentity -> DEBU 003 Obtaining default signing identity
2017-05-07 14:22:04.274 UTC [golang-platform] collectChaincodeFiles -> DEBU 004 not using input for hash computation for path:""github.com/hyperledger/fabric/examples/chaincode/go/tts/sc/v1/userrole"" name:""sc_userole"" version:""1.0"" 
2017-05-07 14:22:04.275 UTC [golang-platform] getCodeFromFS -> DEBU 005 getCodeFromFS github.com/hyperledger/fabric/examples/chaincode/go/tts/sc/v1/userrole
2017-05-07 14:22:04.275 UTC [util] HashFilesInDir -> DEBU 006 hashFiles /opt/gopath/src/github.com/hyperledger/fabric/examples/chaincode/go/tts/sc/v1/userrole
2017-05-07 14:22:04.296 UTC [golang-platform] writeGopathSrc -> INFO 007 rootDirectory = /opt/gopath/src
2017-05-07 14:22:04.296 UTC [container] WriteFolderToTarPackage -> INFO 008 rootDirectory = /opt/gopath/src
2017-05-07 14:22:04.324 UTC [msp] Sign -> DEBU 009 Sign: plaintext: 0A88070A4E08032A4036303932613038...B5DFFF0F0000FFFF07347CFF00000200 
2017-05-07 14:22:04.324 UTC [msp] Sign -> DEBU 00a Sign: digest: 9DE639E482D2FDBA54BE94988499FC86769C834F6233ABA78451FE4A86200618 
2017-05-07 14:22:04.358 UTC [chaincodeCmd] install -> DEBU 00b Installed remotely %v response:<status:200 payload:""OK"" > 
2017-05-07 14:22:04.358 UTC [main] main -> INFO 00c Exiting.....
{code}

 # 
{code:java}
But when i am instantiating{code}
{code:java}
CORE_PEER_MSPCONFIGPATH=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.ttsme.com/peers/peer0.org1.ttsme.com CORE_PEER_ADDRESS=peer0.org1.ttsme.com:7051 CORE_PEER_LOCALMSPID=""Org1MSP"" CORE_PEER_TLS_ROOTCERT_FILE=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.ttsme.com/peers/peer0.org1.ttsme.com/cacerts/org1.ttsme.com-cert.pem peer chaincode instantiate -o orderer.ttsme.com:7050 -C aj001 -n sc_userrole -v 1.0 -c '{""Args"":[""init""]}' -P ""OR ('Org1MSP.member','Org2MSP.member', 'Org3MSP.member', 'Org4MSP.member')""{code}

 # 
{code:java}
Get the following error{code}
{code:java}
2017-05-07 14:26:39.961 UTC [logging] InitFromViper -> DEBU 001 Setting default logging level to DEBUG for command 'chaincode'
2017-05-07 14:26:39.964 UTC [msp] GetLocalMSP -> DEBU 002 Returning existing local MSP
2017-05-07 14:26:39.964 UTC [msp] GetDefaultSigningIdentity -> DEBU 003 Obtaining default signing identity
2017-05-07 14:26:40.966 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 004 Using default escc
2017-05-07 14:26:40.968 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 005 Using default vscc
2017-05-07 14:26:40.969 UTC [msp] Sign -> DEBU 006 Sign: plaintext: 0A8F070A5508032205616A3030312A40...344D53500A04657363630A0476736363 
2017-05-07 14:26:40.969 UTC [msp] Sign -> DEBU 007 Sign: digest: DD83413F28C291DEB77899198710CD8AEB6047388F95974673BCBEE8069AD0D4 
Error: Error endorsing chaincode: rpc error: code = 2 desc = open /var/hyperledger/production/chaincodes/sc_userrole.1.0: no such file or directory
{code}
 ",,Amjadnz,ChristopherFerris,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"10/May/17 9:46 PM;Amjadnz;docker-compose.yaml;https://jira.hyperledger.org/secure/attachment/10807/docker-compose.yaml","10/May/17 9:46 PM;Amjadnz;e2e.tar.zip;https://jira.hyperledger.org/secure/attachment/10808/e2e.tar.zip",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzxufb:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,Amjadnz,ChristopherFerris,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"10/May/17 10:43 PM;muralisr;though this is ""low"" this is a good one to clear up as it might help others.

Assigning to self.;;;","13/May/17 10:06 PM;Amjadnz;Hi - I was able to get through it - by using the e2e network scripts. I Updated the configtx.yaml and the crypto-config.yaml

 

 
{code:java}
OrdererOrgs:
  - Name: Orderer
    Domain: ttsme.com
    Specs:
      - Hostname: orderer
PeerOrgs:
  - Name: Org1
    Domain: org1.ttsme.com
    Template:
      Count: 2
    Users:
      Count: 2
  - Name: Org2
    Domain: org2.ttsme.com
    Template:
      Count: 2
    Users:
      Count: 2
  - Name: Org3
    Domain: org3.ttsme.com
    Template:
      Count: 2
    Users:
      Count: 2
  - Name: Org4
    Domain: org4.ttsme.com
    Template:
      Count: 2
    Users:
      Count: 2      
{code}
 

 ;;;","13/May/17 10:08 PM;Amjadnz;Add added fabric-ca nodes for each org (original docker-compose-template.yaml) in the attachment.

Generated the NETWORK (by only creating the orderer block , channel transaction file, joining peers, installing on all peers (peer0 and peer1 for org1,2,3 and 4) and instantiating the chaincode on peer1.org1.ttsme.com.

Then tried the NODESDK to query with the following command.
{code:java}
curl -s -X GET \
 ""http://localhost:4000/channels/aj001/chaincodes/sc_userole?peer=peer0&args=%5B%27role-1%27%2C%27user-1%27%5D&chaincodeVersion=1"" \
 -H ""authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE0OTQzNjY3MjEsInVzZXJuYW1lIjoiVXNlcjEiLCJvcmdOYW1lIjoib3JnMSIsImlhdCI6MTQ5NDM2MzEyMX0.lo1U2VphDMDBQeoX4-vs5I0sCeJe5NIAaK4qPE5Opm4"" \
 -H ""cache-control: no-cache"" \
 -H ""content-type: application/json"" \
 -H ""x-access-token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE0OTQzNjY3MjEsInVzZXJuYW1lIjoiVXNlcjEiLCJvcmdOYW1lIjoib3JnMSIsImlhdCI6MTQ5NDM2MzEyMX0.lo1U2VphDMDBQeoX4-vs5I0sCeJe5NIAaK4qPE5Opm4""{code};;;","13/May/17 10:10 PM;Amjadnz;The result I got was this at node-sdk console:
{code:java}
[2017-05-10 01:19:13.692] [INFO] Query - User b now has Error: Incorrect number of arguments. Expecting RoleId and PermissionId of the user to query after the move
[2017-05-10 01:20:47.583] [DEBUG] SampleWebApp - ==================== QUERY ON CHAINCODE ==================
[2017-05-10 01:20:47.585] [DEBUG] SampleWebApp - channelName : aj001
[2017-05-10 01:20:47.585] [DEBUG] SampleWebApp - chaincodeName : sc_userole
[2017-05-10 01:20:47.585] [DEBUG] SampleWebApp - peer : peer0
[2017-05-10 01:20:47.586] [DEBUG] SampleWebApp - args : ['role-1','user-1']
[2017-05-10 01:20:47.586] [DEBUG] SampleWebApp - chaincodeVersion : 1
[2017-05-10 01:20:47.586] [DEBUG] SampleWebApp - [ 'role-1', 'user-1' ]
[2017-05-10 01:20:47.587] [DEBUG] SampleWebApp - User name : User1
[2017-05-10 01:20:47.588] [DEBUG] SampleWebApp - Org name : org1
info: [Peer.js]: Peer.const - url: grpcs://localhost:7051 options grpc.ssl_target_name_override=peer0.org1.ttsme.com, grpc.default_authority=peer0.org1.ttsme.com
[2017-05-10 01:20:47.597] [INFO] Query - FunctionName:readItem
info: [FabricCAClientImpl.js]: Successfully constructed Fabric CA client from options - {""protocol"":""https"",""hostname"":""localhost"",""port"":7054,""tlsOptions"":{""trustedRoots"":[],""verify"":false}}
info: [FabricCAClientImpl.js]: Successfully constructed Fabric CA service client: endpoint - {""protocol"":""https"",""hostname"":""localhost"",""port"":7054}
info: [crypto_ecdsa_aes]: This class requires a CryptoKeyStore to save keys, using the store: {""opts"":{""path"":""/root/.hfc-key-store""}}
info: [Client.js]: Successfully loaded user ""User1"" from local key value store
[2017-05-10 01:20:47.616] [INFO] Helper - Successfully loaded member from persistence
[2017-05-10 01:20:47.935] [INFO] Query - User b now has [{""Key"":""a-1"", ""Record"":{""roleId"":""role-1"",""status"":""1"",""userId"":""user-1""}}]{code};;;","13/May/17 10:47 PM;muralisr;Thanks [~Amjadnz] for keeping at it and figuring it out ! 

Confess I don't understand what went into coming up with the curl command. Can you expand on that please ? 

Finally, this discovery process may be a good thing to make a video out of and post to ""fabric-playbacks"" when you have some time.  What do you think ? If thats reasonable [~markparz] has helped with that process in the past.;;;","14/May/17 9:25 PM;Amjadnz;Dear muralisr - my idea of development and testing is follows using hyperledger fabric protocol.
 # Develop the chaincode,
 # Test using the CLI container (using CURL Commands)
 # Develop the NODE-SDK (REST Services) - Middleware
 # Test REST layer with command interface (using CURL Commands)
 # Test the REST layer with the business ui framework like ExtJS or AngularJS.

I was stuck at Step 4 because - the arguments I was passing to the  CURL Commands wont work for NODE SDK. After verification I found that the arguments needed are different for CURL Command in CLI and CURL command in NODE SDK.

Eg:  For CURL in CLI container - it has to be ['readItem','user-1','role-1']

For CURL using the NODE-SDK - it had to be ['user-1','role-1'] - also the function name I had to pass as ""request.functionName"" - as per the default it is set to invoke. I had to change it to 'readItem'

 ;;;","01/Jun/17 9:27 PM;ChristopherFerris;going to close this as it seems that you have figured it out.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
java e2e tests are failing on commit e3efe24,FAB-3769,16539,,Bug,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,kchristidis,rameshthoomu,rameshthoomu,10/May/17 10:07 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,10/May/17 11:18 PM,,,,v1.0.0,,fabric-orderer,fabric-quality,,,,,,0,quality,,,,,,,"Java e2e tests are consistently failing on or after java sdk commit # e3efe24
*00:19:01.387* Failed tests: *00:19:01.387*   End2endAndBackAgainIT.setup:177 Bad last configuation block type 3, expected 1
Below is the failed build output https://jenkins.hyperledger.org/view/fabric-sdk-java/job/fabric-sdk-java-merge-x86_64/87/consoleFull

 ",Jenkins x86_64 nodes,jyellick,rameshthoomu,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3493,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxufz:",,,,,,,,,,,,,,,,,,,,,,,,,,,jyellick,rameshthoomu,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"10/May/17 11:02 PM;rickr;This Java SDK code has not changed.   IMO most likely the latest block's last config block is NOT pointing to the right block.  It looks like its points to an ENDORSER block   The SDK does this sanity check.

[~muralisr] [~jimthematrix] [~jyellick] [~binhn];;;","10/May/17 11:10 PM;jyellick;What fabric commit is this seen at? This was very likely addressed via:


[https://gerrit.hyperledger.org/r/#/c/9141/] / https://jira.hyperledger.org/browse/FAB-3493


 ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
The FAB Stories and Tasks for all Tests in the Daily Test Folder,FAB-3770,16540,,Epic,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,,bmos299,bmos299,10/May/17 10:32 PM,01/Aug/19 10:09 AM,28/Oct/23 2:59 AM,01/Aug/19 10:09 AM,,,,v1.0.0,,fabric-quality,,,,,,,0,quality,,,,,,,"This epic will list all the tests that are run in CI for //fabric/test/regression/daily.

Please put the following information in your test description in jira: 
 +Fabric Test Template+:
 * ++Test Name+:  <JIRA>_<Title>+
 * +Component+:  <use the Component column from the testplan>
 * +Description+:  <test overview and objective>
 * +Artifact Locations+:  <location of test script and input files>
 * +Network Topology+:  <number of nodes of each type; use ""standard"" for our standard docker-compose file that is being used for most tests>
 * +Client Driver+:  <test tool>
 * +Input+:  <command to run the test>
 * +Output+:  <key portions of stdout of running the test, showing it passes>

In order to provide a good user experience when reading the CI automation test suite output reports:
 * create a test filename that includes the Component (Orderer, Ledger, Endorser, etc, or use ""systest"" for system tests covering the entire network when the focus is not specifically on a particular component); in addition, the filename should also include the Client Driver test tool (e.g. Behave, CLI, PTE, OTE, LTE, ...); and use underscores between each word
 * Inside the file, use a group / classname that includes the feature or category of test coverage
 * In each classname, create specific testcase titles that differentiate it from other tests, showing the test objective unique to that test. The testnames must start with the string ""test_"" so that the tools such as Behave and pytest can execute them correctly.

Here are some examples, using this format:  filename (component_driver) , classname (feature_focusArea) , test name
 * systest_pte , perf_stress , test_FAB3814_Payload_1Meg
 * systest_pte , perf_reliability , test_FAB3820_TimedRun_12Hr
 * orderer_behave , bootstrap , test_FAB0000_SetupStandardNetwork
 * ledger_lte , perf_couchdb , test_FAB_3870_VaryNumParallelTxPerChain
 * systest_cli , integration , test_FAB0001 , test_e2e_cli
 * systest_cli , integration , test_FAB0002 , test_e2e_nodesdk
 * systest_cli , chaincodetest , test_FAB0003 , test_example02_API_4peers

Note: Many of our system tests will use the same docker-compose file (or docker swarm file) that creates our ""Standard Network"" configuration:

""Standard Network"":
 * 3 Ord, 4 KafkaBrokers, 3 ZooKeepers, 2 Orgs, 2 Peers/Org, 1 Chan, sample_cc, 2 thrds

 

Note: Recommended Configuration for a kafka-based orderer service:  3 Orderers, 4 kafkabrokers, 3 zookeepers

Refer to all the Kafka-related settings here:
 [https://github.com/hyperledger/fabric/blob/master/bddtests/dc-orderer-base.yml] (`ORDERER_KAFKA_*`)
 [https://github.com/hyperledger/fabric/blob/master/bddtests/dc-orderer-kafka-base.yml]
 [https://github.com/hyperledger/fabric/blob/master/bddtests/dc-orderer-kafka.yml]
 Anything not set explicitly in those places, above, is assumed to have the default value taken from here: 
 [https://kafka.apache.org/documentation/#brokerconfigs]
 The two additional things that someone would set are TLS and `{{log.retention.hours}}` (`KAFKA_LOG_RETENTION_HOURS`) 
 which will need to be set to a large value in a production environment.
 For every orderer:
 - ORDERER_GENERAL_TLS_ENABLED=true
 - ORDERER_KAFKA_RETRY_SHORTINTERVAL=1s
 - ORDERER_KAFKA_RETRY_SHORTTOTAL=30s
 - ORDERER_KAFKA_VERBOSE=true

For every kafka:
 - KAFKA_MESSAGE_MAX_BYTES=103809024 # 99 **1024* *1024 B
 - KAFKA_REPLICA_FETCH_MAX_BYTES=103809024 # 99 **1024* *1024 B
 - KAFKA_UNCLEAN_LEADER_ELECTION_ENABLE=false
 - KAFKA_MIN_INSYNC_REPLICAS=2
 - KAFKA_DEFAULT_REPLICATION_FACTOR=3
 - KAFKA_ZOOKEEPER_CONNECT=zookeeper0:2181,zookeeper1:2181,zookeeper2:2181",,bmos299,inatatsu,nnao,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3507,,,,,FAB-3777,FAB-3749,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,Unset,ghx-label-6,,Test - Daily Suite,To Do,,,,Unset,,,,"1|hzxug7:",,,,Unset,Unset,Sprint 18 - Quality,Sprint 19 - Quality,,,,,,,,,,,,,,,,,,,,bmos299,inatatsu,nnao,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"05/Feb/18 3:01 PM;inatatsu;What is the standard processor capacity for the fabric components? Since V1.1 integrated many performance features which exploit concurrency inside of a single peer, we observe that assigning multiple cores to a peer greatly improves the throughput even for a single channel network.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
The FAB Tasks for all Tests in the Weekly Test Folder,FAB-3771,16541,,Epic,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,,bmos299,bmos299,10/May/17 10:39 PM,01/Aug/19 10:10 AM,28/Oct/23 2:59 AM,01/Aug/19 10:10 AM,,,,v1.0.0,,fabric-quality,,,,,,,0,,,,,,,,"This epic will list all the tests that are run in CI for //fabric/test/regression/weekly

 
 +Fabric Test Template+: * +Test Name+:  <JIRA>_<Title>
 * +Component+:  <use the Component and/or Feature columns from the testplan>
 * +Description+:  <test overview and objective>
 * +Artifact Locations+:  <location of test script and input files>
 * +Network Topology+:  <number of nodes of each type; use ""standard"" for our standard docker-compose file that is being used for most tests>
 * +Client Driver+:  <test tool>
 * +Input+:  <command to run the test>
 * +Output+:  <key portions of stdout of running the test, showing it passes>",,bmos299,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,Unset,ghx-label-8,,Weekly Test Suite,To Do,,,,Unset,,,,"1|hzxugf:",,,,Unset,Unset,Sprint 18 - Quality,Sprint 19 - Quality,,,,,,,,,,,,,,,,,,,,bmos299,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
PKCS11 Unit test coverage,FAB-3772,16542,13733,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,harrijk,vpaprots,vpaprots,10/May/17 10:48 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,01/Jun/17 10:59 AM,,,,,,,,,,,,,5,,,,,,,,"The code coverage for the PKCS11 package is not optimal.  This task's goal is to improvement the code coverage of the PKCS11 package and submit CRs to Gerrit for this work.

The intention is to submit an initial set of PKCS11 unit test enhancements across three Gerrit CRs so as to not include any large sized changes.  The initial set of enhancements bring the code coverage up to 85%.

Work will be ongoing to achieve even higher percentages.

 

Gerrit CRs:

[https://gerrit.hyperledger.org/r/#/c/9441/]    ( https://jira.hyperledger.org/browse/FAB-3968 )

[http://gerrit.hyperledger.org/r/9777]

[http://gerrit.hyperledger.org/r/9779]

[http://gerrit.hyperledger.org/r/9781]

http://gerrit.hyperledger.org/r/9951

 

 

 

 ",,ChristopherFerris,harrijk,troyronda,vpaprots,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"25/May/17 4:17 AM;harrijk;report.html;https://jira.hyperledger.org/secure/attachment/10861/report.html",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxugn:",,,,,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,harrijk,troyronda,vpaprots,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"30/May/17 11:29 PM;harrijk;If it's okay, I'll continue to reference this JIRA for additional CRs that relate to improving code coverage for the PKCS11 package.;;;","01/Jun/17 12:56 AM;ChristopherFerris;This has received the needed votes and may be merged.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
PKCS11 configuration documentation for peer and fabric-ca,FAB-3773,16543,13733,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,,vpaprots,vpaprots,10/May/17 10:50 PM,28/Jul/19 1:21 AM,28/Oct/23 2:59 AM,28/Jul/19 1:21 AM,,,,,,fabric-docs,,,,,,,1,,,,,,,,,,vpaprots,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3200,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxugv:",,,,,,,,,,,,,,,,,,,,,,,,,,,vpaprots,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
A document that will outline considerations when starting a network,FAB-3774,16544,,Epic,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,markparz,markparz,markparz,10/May/17 10:58 PM,21/Jul/18 4:08 AM,28/Oct/23 2:59 AM,06/Jul/18 9:47 PM,,,,,,fabric-docs,,,,,,,0,Documentation,,,,,,,"This is a document that will have a lot of cross with best practices. Considerations and thoughts that need to happen when creating a new network. Starter list of items:

-  Who will define membership in the network, and how?
-  Where will my network be hosted?
-  What are the features I'll need?
-  What are the technical specifications I’ll need to make it work?
-  What kinds of special application layers will I need?

regarding

-  Governance - Fab-2308
-  :ref:`Membership-Services`
-  :ref:`Ordering-Service`
-  :ref:`Ledger` for database configuration - Fab-2308
-  Security Options
-  :ref:`SDK` s/APIs
-  :ref:`Assets`
-  :ref:`Channel` benefits",,markparz,TiantianGao,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-2308,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,Unset,ghx-label-1,,Planning Guide,To Do,,,,Unset,,,,"1|hzxuh3:",,,,Unset,Unset,,,,,,,,,,8.0,,,,,,,,,,,,markparz,TiantianGao,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"31/May/17 12:53 AM;markparz;https://gerrit.hyperledger.org/r/#/c/8593/5/docs/source/planning_guide.rst;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Add a ""best practices"" section for creating JIRA tickets for HL Fabric",FAB-3775,16546,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,JonathanLevi,JonathanLevi,10/May/17 11:06 PM,30/Jul/19 11:59 AM,28/Oct/23 2:59 AM,30/Jul/19 11:59 AM,,,,Future,,fabric-docs,,,,,,,0,,,,,,,,"We were recently asked for better/clearer/explicit guidelines/best practices as to how to create JIRA tickets - this includes the criteria for filing something as an *Epic* rather than a *Story* or a *Task*, how to write it up so that it is easier to auto-generate the change-logs... etc.

The maintainers can review this and we'll add it to the public contribution guideline and/or the wiki.

—---
June 13, 2018 Update:

We have all been very good at spreading the message of ""don't just complain/ask for a feature/report a bug"" - please put this is in JIRA so that it does not get ""forgotten"".

However, I still feel that we should really have some ""best practices"" document and agreed-upon guidelines as to ""how to"" create JIRA tickets in [https://jira.hyperledger.org/projects/FAB.] 

I didn't have the capacity for this, back at the time (of the glorious Fabric 1.0 days), but if nobody picks this up still, then I can just do it.

-- Jonathan",,JonathanLevi,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxuhr:",,,,,,,,,,,,,,,,,,,,,,,,,,,JonathanLevi,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"11/May/17 3:26 AM;JonathanLevi;[~tkuhrt], [~dhuseby]: Can I please leave this with you ?;;;","13/Jun/18 11:52 PM;JonathanLevi;Haven't realized that a year (and a month) has gone by already... ! ;);;;","30/Jul/19 11:59 AM;mastersingh24;No activity in a year or more;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Need additional unit test for GetLastConfigIndexFromBlock(),FAB-3776,16547,,Task,Closed,FAB,Fabric,software,denyeart,,,Low,Done,sanchezl,denyeart,denyeart,10/May/17 11:30 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,24/May/17 12:50 AM,v1.0.0-alpha1,,,v1.0.0,,fabric-orderer,,,,,,,0,configuration,,,,,,,"Need a unit test for a scenario for when last config block is not genesis block. Ensure that the expected non-genesis block is returned in blockutils.go GetLastConfigIndexFromBlock().

 

This was recommended by Artem in https://gerrit.hyperledger.org/r/#/c/9185/.",,denyeart,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx4jj:",,,,,,,,,,,,,,,,,,,,,,,,,,,denyeart,kchristidis,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"11/May/17 4:02 AM;kchristidis;[~jyellick] FYI – not sure if you already have a test for this?;;;","20/May/17 4:59 AM;kchristidis;https://gerrit.hyperledger.org/r/#/c/9575/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Performance Traffic Engine (PTE) Performance Runs,FAB-3777,16548,,Story,Closed,FAB,Fabric,software,denyeart,,,High,Done,,bmos299,bmos299,11/May/17 12:03 AM,21/Jul/18 3:57 AM,28/Oct/23 2:59 AM,14/Oct/17 4:56 AM,,,,,,fabric-quality,,,,,,,0,,,,,,,,"--- matrix

--- docker-compose config ino

 

--- template (cut an paste",,bmos299,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3770,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzxui7:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,bmos299,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"14/Oct/17 4:56 AM;scottz;this is clutter. see FAB-3770 for testcases;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
need security vulnerability reporting process implemented and documented,FAB-3779,16550,16489,Sub-task,Closed,FAB,Fabric,software,denyeart,,,High,Done,dhuseby,ChristopherFerris,ChristopherFerris,11/May/17 12:47 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,06/Sep/17 1:39 AM,v1.0.0-alpha1,,,v1.0.0,,fabric-quality,,,,,,,0,Security,,,,,,,We need a documented process for submitting security issues relating to Fabric implemented and documented to satisfy the CII Badge requirements.,,ChristopherFerris,dhuseby,,,,,,,,,,,,,,,,,,,28800,28800,,0%,28800,28800,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxuin:",,,,,,,,,,,,,,,1.0,,,,,,,,,,,,ChristopherFerris,dhuseby,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"11/May/17 5:33 AM;dhuseby;[The CII application for Fabric|https://bestpractices.coreinfrastructure.org/projects/955];;;","12/Jul/17 7:54 AM;dhuseby;[security@hyperledger.org|mailto:security@hyperledger.org] is set up.

the security bug JIRA group is up and running.

it is possible to flag a JIRA as a security issue and make it confidential.

All that is left is to document it.  Next on my TODO list.;;;","06/Sep/17 1:39 AM;dhuseby;The security process is documented here: https://wiki.hyperledger.org/security;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
e2e_test_example02.sh,FAB-3781,16552,16104,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,Nishi,Nishi,11/May/17 1:24 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,11/May/17 3:32 AM,,,,,,,,,,,,,0,,,,,,,,Moved from subtask to task and attached as a blocker to this story.,,Nishi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxuj3:",,,,,,Sprint 18 - Quality,Sprint 19 - Quality,,,,,,,,,,,,,,,,,,,,Nishi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Test must use a mock CCInfoProvider as opposed to writing to the file system,FAB-3785,16556,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,ales,ales,11/May/17 2:26 AM,23/Jan/20 4:09 AM,28/Oct/23 2:59 AM,23/Jan/20 4:09 AM,,,,Future,,,,,,,,,0,stale-item,,,,,,,,,ales,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzxujj:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,ales,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 4:09 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
CLI peer channel create call should retry delivery,FAB-3786,16557,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,,kchristidis,kchristidis,11/May/17 2:29 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,11/May/17 3:24 AM,v1.0.0-alpha1,,,WON'T FIX,,fabric-peer,,,,,,,0,,,,,,,,"During the channel create call, the peer pauses _once_ for a _hard-coded_ 2 seconds before issuing a deliver request to the ordering service for the genesis block of the newly-created channel:

[https://github.com/hyperledger/fabric/blob/master/peer/channel/create.go#L177]

This is brittle (will occasionally break the Kafka tests for one), and should be changed to a for-loop with a timeout.",,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3787,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxujr:",,,,,,,,,,,,,,,,,,,,,,,,,,,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"11/May/17 3:24 AM;kchristidis;Duplicate of https://jira.hyperledger.org/browse/FAB-2982, closing.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Adjusting the E2E CLI tests for Kafka,FAB-3787,16558,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,Ratnakar,kchristidis,kchristidis,11/May/17 2:47 AM,21/Jul/18 3:56 AM,28/Oct/23 2:59 AM,01/Aug/17 10:58 PM,v1.0.0,v1.0.0-alpha1,,v1.1.0,,fabric-orderer,fabric-quality,,,,,,0,kafka,quality,,,,,,"I often see questions in Rocket.Chat and on the mailing list from folks who want to run the E2E tests using Kafka.

How do we handle this? Do we modify the default configuration so that it runs on Kafka? Do we introduce yet another configuration for the tests?

The fix is simple, see [https://github.com/kchristidis/fabric/commit/7f83f40fdd8c5cd0a837a820f728f3b864e1cce2] for an example.",,kchristidis,Ratnakar,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3786,FAB-2982,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzxujz:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,kchristidis,Ratnakar,yacovm,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"11/May/17 2:49 AM;kchristidis;[~mastersingh24], [~yacovm], [~Ratnakar]: Let me know what you think.;;;","11/May/17 4:07 AM;yacovm;1) Well first of all, we both know that:
{quote}- time.Sleep(2 * time.Second)
 + time.Sleep(10 * time.Second)
{quote}
Isn't a fix in any way ;)

We need to wait for [~nnao] 's fix (Do you need help by the way? [~nnao])

2) Ideally we'd want to have some easy way to toggle this using the network_setup.sh script, and I assume we can somehow leverage extensions like:

 
{quote}orderer.example.com:
 extends:
 file: base/docker-compose-base.yaml
 service: orderer.example.com
 container_name: orderer.example.com
{quote}
 From [docker-compose-cli.yaml|https://github.com/hyperledger/fabric/blob/master/examples/e2e_cli/docker-compose-cli.yaml#L7]

3)
{quote}Do we modify the default configuration so that it runs on Kafka?
{quote}
If Kafka orderer is stable and its the one that everyone are going to use in production I see benefit in doing so, because it would make more bugs to surface quicker don't you think?;;;","11/May/17 4:20 AM;kchristidis;Yacov, thanks for the feedback.

> Isn't a fix in any way  !https://jira.hyperledger.org/images/icons/emoticons/wink.png|width=16,height=16!

I know – see [https://chat.hyperledger.org/channel/fabric-consensus?msg=WajejQvRJS5zSudb8] and the fact that I had added Nao's fix as a blocker in this issue.

> If Kafka orderer is stable and its the one that everyone are going to use in production I see benefit in doing so, because it would make more bugs to surface quicker don't you think?

I'm with you. I'd like us to move to that direction actually.

Let's see what Ratnakar and Gari have in mind as well.

If there are no disagreements, I'll ping Ratnakar so that we proceed as you suggest.

 ;;;","11/May/17 5:01 AM;Ratnakar;[~kchristidis] I was requested by some people from community about including kafka brokers in e2e_cli as well.

since I was asked to kee minimal configurations I used solo orderer earlier. however I would agree with you and [~yacovm] to use KAFKA as default configuration for e2e_cli

For our tests with kafka configuration, we used a work around. I.e, after create channel (failure) we do fetch to get the block .

[~mastersingh24] could you please provide your inputs here.

 ;;;","11/May/17 6:17 AM;kchristidis;> For our tests with kafka configuration, we used a work around. I.e, after create channel (failure) we do fetch to get the block .

Can you expand on this?;;;","11/May/17 1:56 PM;Ratnakar;when Kafka is used instead of solo, It always fails at channel creation. hence I wait for few seconds and fetch for channel block.

It is not a best practice or a work around, However for end2end usecase  to work i added this.

For instance, see the following [lines|https://github.com/ratnakar-asara/fabric_e2e_cli/blob/master/scripts/script.sh#L72-L74] from the script 
{code:java}
peer channel create -o orderer0.example.com:7050 -c $CHANNEL_NAME -f ./channel-artifacts/channel.tx --tls $CORE_PEER_TLS_ENABLED --cafile $ORDERER_CA
sleep 5
peer channel fetch -o orderer0.example.com:7050 -c $CHANNEL_NAME -f ./channel-artifacts/channel.tx --tls $CORE_PEER_TLS_ENABLED --cafile $ORDERER_CA
 {code};;;","11/May/17 3:31 PM;kchristidis;Got it, thanks - Yacov clarified this for me as well.;;;","12/May/17 10:11 PM;kchristidis;[~Ratnakar]: When you find some spare cycles, let us please proceed as Yacov described esp. now that FAB-2892 is merged. I am assigning this to you so that it doesn't slip through the cracks, but feel free to re-assign as you see fit.;;;","31/May/17 1:16 PM;kchristidis;Given the number of open fronts we still have and the deadlines for the 1.0 cut, this will probably need to be deferred. (This is unfortunate, and kinda backwards, but it is what it is.)

Updating this JIRA accordingly.;;;","20/Jul/17 1:23 AM;kchristidis;[~Ratnakar]: When you find some spare cycles, can we please revive this for inclusion in v1.x.x.?

For reference to others, Ratnakar's abandoned changeset is here: https://gerrit.hyperledger.org/r/#/c/9501/;;;","27/Jul/17 12:48 AM;Ratnakar;https://gerrit.hyperledger.org/r/#/c/11789;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Ledger performance system test: LevelDB,FAB-3789,16560,,Task,Closed,FAB,Fabric,software,denyeart,,,High,Done,AdnanChoudhury,bmos299,bmos299,11/May/17 2:51 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,02/Jun/17 12:04 AM,,,,v1.0.0,,fabric-quality,,,,,,,0,quality,,,,,,,"The tooling is now checked into //fabric/test/tools, ledgerbenchmarks.  It needs a README.md.",,AdnanChoudhury,bmos299,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-4091,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxuk7:",,,,,,,,,,,,,,,,,,,,,,,,,,,AdnanChoudhury,bmos299,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"25/May/17 11:15 PM;AdnanChoudhury;The README was submitted under another JIRA that includes overall update of the ledger benchmark tool.
 [https://gerrit.hyperledger.org/r/#/c/9657/];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Ledger component perf. test: GolevelDB, varying number of parallel transactions per chain",FAB-3790,16561,,Task,Closed,FAB,Fabric,software,denyeart,,,High,Done,AdnanChoudhury,AdnanChoudhury,AdnanChoudhury,11/May/17 2:54 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,01/Jun/17 10:45 AM,,,,v1.0.0,,fabric-quality,,,,,,,0,quality,,,,,,,"For general details, please see the linked story.

+Test Name:+  FAB-3790_Ledger_Performance_Goleveldb_VaryNumParallelTxPerChain
 * +Description+: In this test, we observe the the performance (operations per second) of the Ledger component, with goleveldb as the state database, as we vary the number of parallel transactions per chain.
 * +Output+: (WIP) This performance test succeeds if it produces the operations-per-second number for the given scenarios. We plan to add performance tracking and comparison between runs.  ",,AdnanChoudhury,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3749,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3770,,,,,,,,,,"1|hzxukf:",,,,,,Sprint 19 - Quality,,,,,,,,,,,,,,,,,,,,,AdnanChoudhury,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"25/May/17 11:29 PM;AdnanChoudhury;https://gerrit.hyperledger.org/r/#/c/9761/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
chaincode test e2e example03,FAB-3791,16562,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,Nishi,raidinesh80,raidinesh80,11/May/17 2:57 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,10/Jul/18 3:23 AM,v1.0.0,,,v1.0.0,,fabric-quality,,,,,,,0,quality,,,,,,,,,Nishi,raidinesh80,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3507,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3770,,,,,,,,,,"1|hzx2xz:",,,,,,Sprint 18 - Quality,Sprint 19 - Quality,,,,,,,,,,,,,,,,,,,,Nishi,raidinesh80,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
chaincode test e2e marbles02,FAB-3792,16563,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,Nishi,sandp125,sandp125,11/May/17 2:57 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,10/Jul/18 3:23 AM,,,,v1.0.0,,fabric-quality,,,,,,,0,quality,,,,,,,,,Nishi,sandp125,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3507,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3770,,,,,,,,,,"1|hzx2y7:",,,,,,Sprint 18 - Quality,Sprint 19 - Quality,,,,,,,,,,,,,,,,,,,,Nishi,sandp125,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"13/May/17 3:38 AM;Nishi;Submitted patchset

[https://gerrit.hyperledger.org/r/#/c/9321/]

pending merge.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
chaincode test e2e ccAPIDriver,FAB-3793,16564,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,Nishi,sandp125,sandp125,11/May/17 3:00 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,09/Nov/17 6:11 AM,v1.0.0,,,v1.0.0,,fabric-quality,,,,,,,0,quality,,,,,,,,,Nishi,sandp125,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3507,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3770,,,,,,,,,,"1|hzx2yv:",,,,,,Sprint 19 - Quality,,,,,,,,,,,,,,,,,,,,,Nishi,sandp125,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"09/Nov/17 6:13 AM;Nishi;This task item was when we had e2e cli tests in bash wrapped as python tests.

Now we are using behave test framework new JIRA number : https://jira.hyperledger.org/browse/FAB-5791;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
chaincode test e2e example02,FAB-3794,16565,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,Nishi,sandp125,sandp125,11/May/17 3:02 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,06/Jul/18 10:52 PM,,,,v1.0.0,,fabric-quality,,,,,,,0,quality,,,,,,,,,sandp125,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3507,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3770,,,,,,,,,,"1|hzx2xj:",,,,,,Sprint 18 - Quality,Sprint 19 - Quality,,,,,,,,,,,,,,,,,,,,sandp125,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Ledger component perf. test: GolevelDB, varying number of chains",FAB-3795,16566,,Task,Closed,FAB,Fabric,software,denyeart,,,High,Done,AdnanChoudhury,AdnanChoudhury,AdnanChoudhury,11/May/17 3:03 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,01/Jun/17 10:45 AM,,,,v1.0.0,,fabric-quality,,,,,,,0,quality,,,,,,,"For general details, please see the linked story.

+Test Name+:  FAB-3795_Ledger_Performance_Goleveldb_VaryNumChain
 * +Description+: In this Performance test, we observe the the performance (operations per second) of the Ledger component, with goleveldb as the state database, as we vary the number of chains (ledgers).
 * +Output+: (WIP) This performance test succeeds if it produces the operations-per-second number for the given scenarios. We plan to add performance tracking and comparison between runs.  ",,AdnanChoudhury,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3749,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3770,,,,,,,,,,"1|hzxukn:",,,,,,Sprint 19 - Quality,,,,,,,,,,,,,,,,,,,,,AdnanChoudhury,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"25/May/17 11:30 PM;AdnanChoudhury;https://gerrit.hyperledger.org/r/#/c/9761/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
chaincode test e2e example04,FAB-3796,16567,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,Nishi,raidinesh80,raidinesh80,11/May/17 3:03 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,10/Jul/18 3:23 AM,v1.0.0,,,v1.0.0,,fabric-quality,,,,,,,0,quality,,,,,,,,,Nishi,raidinesh80,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3507,,,,,,,,,,,,,,,,FAB-4081,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3770,,,,,,,,,,"1|hzx2yf:",,,,,,Sprint 18 - Quality,Sprint 19 - Quality,,,,,,,,,,,,,,,,,,,,Nishi,raidinesh80,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"13/May/17 3:36 AM;Nishi;Submitted patchset

https://gerrit.hyperledger.org/r/#/c/9315/

pending merge.

 ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
chaincode test e2e example05,FAB-3797,16568,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,Nishi,sandp125,sandp125,11/May/17 3:05 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,10/Jul/18 3:23 AM,,,,v1.0.0,,fabric-quality,,,,,,,0,quality,,,,,,,,,Nishi,sandp125,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3507,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3770,,,,,,,,,,"1|hzx2xr:",,,,,,Sprint 18 - Quality,Sprint 19 - Quality,,,,,,,,,,,,,,,,,,,,Nishi,sandp125,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"13/May/17 3:38 AM;Nishi;Submitted patchset

[https://gerrit.hyperledger.org/r/#/c/9319/]

pending merge.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Ledger component perf. test: GolevelDB, varying number of parallel transactions in a single chain",FAB-3798,16569,,Task,Closed,FAB,Fabric,software,denyeart,,,High,Done,AdnanChoudhury,AdnanChoudhury,AdnanChoudhury,11/May/17 3:08 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,01/Jun/17 10:45 AM,,,,v1.0.0,,fabric-quality,,,,,,,0,quality,,,,,,,"For general details, please see the linked story.

+Test Name+:  FAB-3798_Ledger_Performance_Goleveldb_VaryNumParallelTxWithSingleChain
 * +Description+: In this test, we observe the the performance (operations per second) of the Ledger component, with goleveldb as the state database, as we vary the number of parallel transactions on a single chain.
 * +Output+: (WIP) This performance test succeeds if it produces the operations-per-second number for the given scenarios. We plan to add performance tracking and comparison between runs.  ",,AdnanChoudhury,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3749,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3770,,,,,,,,,,"1|hzxukv:",,,,,,Sprint 19 - Quality,,,,,,,,,,,,,,,,,,,,,AdnanChoudhury,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"25/May/17 11:30 PM;AdnanChoudhury;https://gerrit.hyperledger.org/r/#/c/9761/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Ledger component perf. test: GolevelDB, varying number of chains without parallel transactions in inside each chain",FAB-3799,16570,,Task,Closed,FAB,Fabric,software,denyeart,,,High,Done,AdnanChoudhury,AdnanChoudhury,AdnanChoudhury,11/May/17 3:15 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,01/Jun/17 10:45 AM,,,,v1.0.0,,fabric-quality,,,,,,,0,quality,,,,,,,"For general details, please see the linked story.

+Test Name:+  FAB-3799_Ledger_Performance_Goleveldb_VaryNumChainWithNoParallelissm
 * +Description+: In this test, we observe the the performance (operations per second) of the Ledger component, with goleveldb as the state database, as we vary the number of chains without any parallelism within a single chain. 
 * +Output+: (WIP) This performance test succeeds if it produces the operations-per-second number for the given scenarios. We plan to add performance tracking and comparison between runs.  

 ",,AdnanChoudhury,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3749,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3770,,,,,,,,,,"1|hzxul3:",,,,,,Sprint 19 - Quality,,,,,,,,,,,,,,,,,,,,,AdnanChoudhury,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"25/May/17 11:31 PM;AdnanChoudhury;https://gerrit.hyperledger.org/r/#/c/9761/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Ledger component perf. test: GolevelDB, varying number of keys in each transaction",FAB-3800,16571,,Task,Closed,FAB,Fabric,software,denyeart,,,High,Done,AdnanChoudhury,AdnanChoudhury,AdnanChoudhury,11/May/17 3:21 AM,08/Aug/18 4:36 AM,28/Oct/23 2:59 AM,01/Jun/17 10:45 AM,,,,v1.0.0,,fabric-quality,,,,,,,0,quality,,,,,,,"For general details, please see the linked story.

+Test Name:+  FAB-3800_Ledger_Performance_Goleveldb_VaryNumKeysInEachTX
 * +Description+: In this test, we observe the the performance (operations per second) of the Ledger component, with goleveldb as the state database, as we vary the number of keys in each transaction.
 * +Output+: (WIP) This performance test succeeds if it produces the operations-per-second number for the given scenarios. We plan to add performance tracking and comparison between runs.  

Edit: As the test parameter ""keysPerTx"" was split into two parameters ""ReadsPerTx"" and ""WritesPerTx"", This test is being split into two parts 1) vary number of reads per Tx, 2) vary number of Writes per Tx.",,AdnanChoudhury,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3749,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3770,,,,,,,,,,"1|hzxulb:",,,,,,Sprint 19 - Quality,,,,,,,,,,,,,,,,,,,,,AdnanChoudhury,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"25/May/17 11:41 PM;AdnanChoudhury;https://gerrit.hyperledger.org/r/#/c/9761/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Ledger component perf. test: GolevelDB, varying the key-value size",FAB-3801,16572,,Task,Closed,FAB,Fabric,software,denyeart,,,High,Done,AdnanChoudhury,AdnanChoudhury,AdnanChoudhury,11/May/17 3:24 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,01/Jun/17 10:45 AM,,,,v1.0.0,,fabric-quality,,,,,,,0,quality,,,,,,,"For general details, please see the linked story.

+Test Name:+  FAB-3801_Ledger_Performance_Goleveldb_VaryKVSize
 * +Description+: In this test, we observe the the performance (operations per second) of the Ledger component, with goleveldb as the state database, varying the size of key-value.
 * +Output+: (WIP) This performance test succeeds if it produces the operations-per-second number for the given scenarios. We plan to add performance tracking and comparison between runs.  

 ",,AdnanChoudhury,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3749,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3770,,,,,,,,,,"1|hzxulj:",,,,,,Sprint 19 - Quality,,,,,,,,,,,,,,,,,,,,,AdnanChoudhury,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"25/May/17 11:32 PM;AdnanChoudhury;https://gerrit.hyperledger.org/r/#/c/9761/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Ledger component perf. test: GolevelDB, varying the value of Batchsize",FAB-3802,16573,,Task,Closed,FAB,Fabric,software,denyeart,,,High,Done,AdnanChoudhury,AdnanChoudhury,AdnanChoudhury,11/May/17 3:29 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,01/Jun/17 10:45 AM,,,,v1.0.0,,fabric-quality,,,,,,,0,quality,,,,,,,"For general details, please see the linked story.

+Test Name:+  FAB-3802_Ledger_Performance_Goleveldb_VaryBatchSize
 * +Description+: In this test, we observe the the performance (operations per second) of the Ledger component, with goleveldb as the state database, as we vary the value of the batch size.
 * +Output+: (WIP) This performance test succeeds if it produces the operations-per-second number for the given scenarios. We plan to add performance tracking and comparison between runs.  ",,AdnanChoudhury,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3749,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3770,,,,,,,,,,"1|hzxulr:",,,,,,Sprint 19 - Quality,,,,,,,,,,,,,,,,,,,,,AdnanChoudhury,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"25/May/17 11:34 PM;AdnanChoudhury;https://gerrit.hyperledger.org/r/#/c/9761/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Ledger component perf. test: GolevelDB, varying number of transactions carried out",FAB-3803,16574,,Task,Closed,FAB,Fabric,software,denyeart,,,High,Done,AdnanChoudhury,AdnanChoudhury,AdnanChoudhury,11/May/17 3:31 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,01/Jun/17 10:45 AM,,,,v1.0.0,,fabric-quality,,,,,,,0,quality,,,,,,,"For general details, please see the linked story.

+Test Name:+  FAB-3803_Ledger_Performance_Goleveldb_VaryNumTxs
 * +Description+: In this test, we observe the the performance (operations per second) of the Ledger component, with goleveldb as the state database, as we vary the number of transactions carried out. 
 * +Output+: (WIP) This performance test succeeds if it produces the operations-per-second number for the given scenarios. We plan to add performance tracking and comparison between runs.  ",,AdnanChoudhury,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3749,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3770,,,,,,,,,,"1|hzxulz:",,,,,,Sprint 19 - Quality,,,,,,,,,,,,,,,,,,,,,AdnanChoudhury,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"25/May/17 11:42 PM;AdnanChoudhury;https://gerrit.hyperledger.org/r/#/c/9761/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fix broken links in orderer README,FAB-3804,16575,,Story,Closed,FAB,Fabric,software,denyeart,,,Low,Done,kchristidis,kchristidis,kchristidis,11/May/17 3:33 AM,21/Jul/18 3:55 AM,28/Oct/23 2:59 AM,12/May/17 10:07 PM,v1.0.0-alpha1,,,v1.0.0-alpha2,,fabric-orderer,,,,,,,0,documentation,,,,,,,,,kchristidis,,,,,,,,,,,,,,,,,,,,600,600,,0%,600,600,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-3040,,,,,,,,,,"1|hzxum7:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,kchristidis,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"11/May/17 3:37 AM;kchristidis;https://gerrit.hyperledger.org/r/#/c/9203/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add printouts for each stage of the E2E CLI test,FAB-3805,16576,,Story,Closed,FAB,Fabric,software,denyeart,,,Low,Done,kchristidis,kchristidis,kchristidis,11/May/17 3:39 AM,21/Jul/18 3:57 AM,28/Oct/23 2:59 AM,12/May/17 10:07 PM,v1.0.0-alpha1,,,v1.0.0-alpha2,,fabric-quality,,,,,,,0,,,,,,,,A minor patch for consistency's sake (we're currently adding printout to some stages only) and for helping with debugging.,,kchristidis,,,,,,,,,,,,,,,,,,,,600,600,,0%,600,600,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-3040,,,,,,,,,,"1|hzxumf:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,kchristidis,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"11/May/17 3:42 AM;kchristidis;https://gerrit.hyperledger.org/r/#/c/9205/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
TPS invokes 4 threads LevelDB,FAB-3807,16578,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,dongming,sandp125,sandp125,11/May/17 4:29 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,18/May/18 12:17 AM,v1.1.0,,,v1.1.0,,fabric-quality,,,,,,,0,ContinuousDelivery,quality,SystemTestcase,,,,,"This story has tests we are going to run from fabric-test/tools/PTE/CITest/scripts/test_driver.sh
 * +Component+:  Performance Stress Test with levelDB
 * +Description+: Send  2x10000 invoke transactions concurrently to 1 peer in both orgs,
 calculate tps, and remove network and cleanup.
 * +Artifact Locations+: fabric-test/tools/PTE/CITest/FAB-3807-4i-levelDB
 * +Network Topology+: 3 Ord, 4 KB, 3 ZK, 2 Org, 2 Peers/Org, 1 Chan, sample_cc, 2 thrds
 Launch network, use PTE in STRESS mode to continuously
 * +Client Driver+: test_pte.py, PTE.",,sandp125,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-2032,,,,,,,,,,,,,,,,FAB-5283,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-10083,,,,,,,,,,"1|hzx2of:",,,,,,Sprint 19 - Quality,,,,,,,,,,,,,,,,,,,,,sandp125,scottz,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,release-2.4,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,lindluni-patch-1,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,,true,"15/May/18 12:27 PM;scottz; 

https://gerrit.hyperledger.org/r/#/c/19755/

and

[https://gerrit.hyperledger.org/r/#/c/21591/]

and

[https://gerrit.hyperledger.org/r/#/c/21679/]

in addition to the original update by dongming and I, months ago...;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
TPS invokes 2 threads LevelDB,FAB-3808,16579,,Task,Closed,FAB,Fabric,software,denyeart,,,High,Done,dongming,raidinesh80,raidinesh80,11/May/17 4:29 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,18/May/18 12:17 AM,v1.1.0,,,v1.1.0,,fabric-quality,,,,,,,0,ContinuousDelivery,quality,SystemTestcase,,,,,"This story has tests we are going to run from  fabric-test/tools/PTE/CITest/scripts/test_driver.sh
 * +Component+:  Performance test with  LevelDB
 * +Description+: send 10000 invoke transactions concurrently to 1 peer in both orgs,
 calculate tps, and remove network and cleanup
 * +Artifact Locations+: fabric-test/tools/PTE/CITest/FAB-3808-2i-levelDB
 * +Network Topology+: 3 Ord, 4 KB, 3 ZK, 2 Org, 2 Peers/Org, 1 Chan, sample_cc, 2 thrds
 Launch network, use PTE in STRESS mode to continuously
 * +Client Driver+: test_pte.py,PTE",,raidinesh80,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-2032,,,,,,,,,,,,,,,,FAB-5283,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-10083,,,,,,,,,,"1|hzx2nz:",,,,,,Sprint 19 - Quality,,,,,,,,,,,,,,,,,,,,,raidinesh80,scottz,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,release-2.4,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,lindluni-patch-1,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,,true,"15/May/18 12:27 PM;scottz;https://gerrit.hyperledger.org/r/#/c/19755/

and

[https://gerrit.hyperledger.org/r/#/c/21591/]

and

[https://gerrit.hyperledger.org/r/#/c/21679/]

in addition to the original update by dongming and I, months ago...;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
PTE supports multiple org in channel creation,FAB-3809,16580,,Task,Closed,FAB,Fabric,software,denyeart,,,High,Done,wsh_bob,dongming,dongming,11/May/17 4:30 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,03/Aug/17 11:08 PM,,,,v1.0.0,,fabric-quality,,,,,,,0,quality,,,,,,,PTE supports two org per channel now.  PTE needs to support any number of org in a channel.,,bmos299,dongming,holocron,tdietter,wsh_bob,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-2247,,,,,,,,,,"1|hzxumv:",,,,,,Sprint 19 - Quality,,,,,,,,,,,,,,,,,,,,,bmos299,dongming,holocron,tdietter,wsh_bob,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"10/Jun/17 12:07 AM;dongming;assigned to Shu Han;;;","01/Jul/17 12:04 AM;bmos299;[~wsh_bob] any status on this one?  There are many people interested in this functionality.

Regards,
bmos299;;;","02/Jul/17 10:42 PM;wsh_bob;[~bmos299] This item has been committed in v1performance repo for more than a week.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
TPS queries 2 threads CouchDB,FAB-3810,16581,,Task,Closed,FAB,Fabric,software,denyeart,,,High,Done,dongming,sandp125,sandp125,11/May/17 4:31 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,18/May/18 12:17 AM,v1.1.0,,,v1.1.0,,fabric-quality,,,,,,,0,ContinuousDelivery,quality,SystemTestcase,,,,,"This story has tests we are going to run from fabric-test/tools/PTE/CITest/scripts/test_driver.sh
 * Component:  Performance Stress Test with Couch DB
 * +Description+: Send 10000 query transactions concurrently to 1 peer in both orgs,
 query the ledger to ensure the last transaction was written,
 calculate tps, remove network and cleanup.
 * Artifact Locations: fabric-test/tools/PTE/CITest/FAB-3810-2q
 * Network Topology: 3 Ord, 4 KB, 3 ZK, 2 Org, 2 Peers/Org, 1 Chan, sample_cc, 2 thrds, TLS enabled
 Launch network, use PTE in STRESS mode to continuously.
 * Client Driver: test_pte.py, PTE.

 ",,sandp125,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-2032,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-10083,,,,,,,,,,"1|hzx2mv:",,,,,,Sprint 19 - Quality,,,,,,,,,,,,,,,,,,,,,sandp125,scottz,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,lindluni-patch-1,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,,,,,,,true,"15/May/18 12:28 PM;scottz;https://gerrit.hyperledger.org/r/#/c/19755/

and

[https://gerrit.hyperledger.org/r/#/c/21591/]

and

[https://gerrit.hyperledger.org/r/#/c/21679/]

in addition to the original update by dongming and I, months ago...;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
TPS queries 2 threads LevelDB,FAB-3811,16582,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,dongming,raidinesh80,raidinesh80,11/May/17 4:34 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,18/May/18 12:17 AM,v1.1.0,,,v1.1.0,,fabric-quality,,,,,,,0,ContinuousDelivery,quality,SystemTestcase,,,,," {color:#333333}This story has tests we are going to run from fabric-test/tools/PTE/CITest/scripts/test_driver.sh{color}
 * {color:#333333}Component{color}{color:#333333}:  Performance test with LevelDB{color}
 * +Description+:Send 10000 query transactions concurrently to 1 peer in both orgs,
 query the ledger to ensure the last transaction was written,
 calculate tps, remove network and cleanup.
 * {color:#333333}Artifact Locations{color}{color:#333333}:  fabric-test/tools/PTE/CITest/FAB-3811-2q-levelDB{color}
 * {color:#333333}Network Topology{color}{color:#333333}: 3 Ord, 4 KB, 3 ZK, 2 Org, 2 Peers/Org, 1 Chan, sample_cc, 2 thrds
 Launch network, use PTE in STRESS mode to continuously.{color}
 * {color:#333333}Client Driver{color}{color:#333333}: test_pte.py,PTE{color}",,raidinesh80,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-2032,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-10083,,,,,,,,,,"1|hzx2nr:",,,,,,Sprint 19 - Quality,,,,,,,,,,,,,,,,,,,,,raidinesh80,scottz,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,lindluni-patch-1,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,,true,"15/May/18 12:28 PM;scottz;https://gerrit.hyperledger.org/r/#/c/19755/

and

[https://gerrit.hyperledger.org/r/#/c/21591/]

and

[https://gerrit.hyperledger.org/r/#/c/21679/]

in addition to the original update by dongming and I, months ago...;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
TPS Standard Network with TLS Level DB,FAB-3812,16584,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,raidinesh80,raidinesh80,11/May/17 4:47 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,12/May/17 4:35 AM,v1.0.0,,,v1.0.0,,fabric-quality,,,,,,,0,quality,,,,,,," 

{color:#333333}This story has tests we are going to run from <PlaceHolder> {color}

{color:#333333} {color}
 * {color:#333333}Component{color}{color:#333333}:  Performance test with LevelDB{color}

 * {color:#333333}Description{color}{color:#333333}:  Launch network, use PTE stress mode to send 100 invoke transactions
 concurrently to all peers on all channels on all chaincodes,
 query the ledger for each to ensure the last transaction was written,
 calculate tps, remove network and cleanup{color}
 * {color:#333333}Artifact Locations{color}{color:#333333}:  <PlaceHolder>{color}

 * {color:#333333}Network Topology{color}{color:#333333}:  4 peer solo, TLS enabled docker-network{color}

 * {color:#333333}Client Driver{color}{color:#333333}: test_pte.py,PTE{color}",,raidinesh80,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-2032,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3770,,,,,,,,,,"1|hzxuzz:",,,,,,,,,,,,,,,,,,,,,,,,,,,raidinesh80,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
TPS invokes 8 threads CouchDB 4 channels,FAB-3813,16585,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,nnao,sandp125,sandp125,11/May/17 4:47 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,09/May/18 1:08 AM,v1.1.0,,,v1.1.0,,fabric-quality,,,,,,,0,quality,,,,,,,"Run from fabric-test/tools/PTE/CITest/scripts/test_driver.sh. This test is similar to FAB-3833, but with 4 channels (instead of 1).
 * +Component+:  Performance Stress Test with Couch DB
 * +Description+: Send 10000 invoke transactions to all channels on a peer in both orgs,
 catch events for every TX, query last TX to verify, calculate TPS, and remove network and cleanup.
 * +Artifact Locations+: fabric-test/tools/PTE/CITest/FAB-3813-8i-CouchDB-4ch
 * +Network Topology+: 3 Ord, 4 KB, 3 ZK, 2 Org, 2 Peers/Org, 4 Channels, sample_cc, 8 thrds
 Launch network, use PTE in STRESS mode to continuously
 * +Client Driver+: test_pte.py, PTE.",,nnao,sandp125,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3770,,,,,,,,,,"1|hzx2p3:",,,,,,Sprint 19 - Quality,,,,,,,,,,,,,,,,,,,,,nnao,sandp125,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,,true,"02/May/18 3:40 AM;nnao;https://gerrit.hyperledger.org/r/c/21263/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
TPS invokes 2 threads CouchDB with large payload,FAB-3814,16586,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,nnao,sandp125,sandp125,11/May/17 4:55 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,23/May/18 4:26 AM,v1.1.0,,,v1.1.0,,fabric-quality,,,,,,,0,quality,,,,,,,"Run from fabric-test/tools/PTE/CITest/scripts/test_driver.sh. This test is similar to FAB-3833, but with each transaction carrying a large payload of 1MB
 * +Component+:  Performance Stress Test with Couch DB, large payload
 * +Description+: Send 10000 invoke transactions concurrently to a peer in both orgs,
 catch events for every TX, query last TX to verify, calculate TPS, and remove network and cleanup.
 * +Artifact Locations+: fabric-test/tools/PTE/CITest/FAB-3813-2i-CouchDB-LargePayload
 * +Network Topology+: 3 Ord, 4 KB, 3 ZK, 2 Org, 2 Peers/Org, 1 Chan, sample_cc, 2 thrds
 Launch network, use PTE in STRESS mode to continuously
 * +Client Driver+: test_pte.py, PTE.

 ",,nnao,sandp125,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-2032,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3770,,,,,,,,,,"1|hzx2pj:",,,,,,Sprint 19 - Quality,,,,,,,,,,,,,,,,,,,,,nnao,sandp125,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,,true,"12/May/18 6:52 AM;nnao;https://gerrit.hyperledger.org/r/#/c/21717/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
TPS Standard Network 1M Level DB,FAB-3815,16587,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,raidinesh80,raidinesh80,11/May/17 4:57 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,12/May/17 4:36 AM,v1.0.0,,,v1.0.0,,,,,,,,,0,quality,,,,,,,"{color:#333333}This story has tests we are going to run from <PlaceHolder> {color}

{color:#333333} {color}
 * {color:#333333}Component{color}{color:#333333}:  Performance test with LevelDB{color}

 * {color:#333333}Description{color}{color:#333333}: Launch network, use PTE stress mode to send 100 invoke transactions
 concurrently to all peers on all channels on all chaincodes,
 query the ledger for each to ensure the last transaction was written,
 calculate tps, remove network and cleanup{color}
 * {color:#333333}Artifact Locations{color}{color:#333333}:  <PlaceHolder>{color}

 * {color:#333333}Network Topology{color}{color:#333333}: 2 Ord, 5 KB, 3 ZK, 2 Org, 4 Peers, 10 Chan, 10 CC{color}

 * {color:#333333}Client Driver{color}{color:#333333}: test_pte.py,PTE{color}",,raidinesh80,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-2032,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3770,,,,,,,,,,"1|hzxun3:",,,,,,,,,,,,,,,,,,,,,,,,,,,raidinesh80,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
TPS invokes 2 threads CouchDB with 10 Peers Per Org,FAB-3816,16588,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,nnao,sandp125,sandp125,11/May/17 4:59 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,30/May/18 12:50 AM,v1.1.0,,,v1.1.0,,fabric-quality,,,,,,,0,quality,,,,,,,"Run from fabric-test/tools/PTE/CITest/scripts/test_driver.sh. This test is similar to FAB-3833, but with more peers. To ensure state transfer successfully distributes all blocks to all peers, query a nonLeader peer (suggest: the last peer in each org) at the end of the test, instead of peer0 which is typically the orgLeader.
 * +Component+:  Performance Stress Test with Couch DB, large payload
 * +Description+: Send 10000 invoke transactions concurrently to a peer in both orgs,
 catch events for every TX, query last TX to verify, calculate TPS, and remove network and cleanup.
 * +Artifact Locations+: fabric-test/tools/PTE/CITest/FAB-3816-2i-CouchDB-10peersPerOrg
 * +Network Topology+: 3 Ord, 4 KB, 3 ZK, 2 Org, 10 Peers/Org, 1 Chan, sample_cc, 2 thrds
 Launch network, use PTE in STRESS mode to continuously
 * +Client Driver+: test_pte.py, PTE.

 ",,nnao,sandp125,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-2032,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3770,,,,,,,,,,"1|hzx2pr:",,,,,,Sprint 19 - Quality,,,,,,,,,,,,,,,,,,,,,nnao,sandp125,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,,true,"24/May/18 1:50 PM;nnao;https://gerrit.hyperledger.org/r/c/22243/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
TPS Standard Network 20 Peers Gossip Level DB,FAB-3817,16589,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,raidinesh80,raidinesh80,11/May/17 5:01 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,12/May/17 4:35 AM,,,,v1.0.0,,fabric-quality,,,,,,,0,quality,,,,,,,"{color:#333333}This story has tests we are going to run from <PlaceHolder> {color}
 * {color:#333333}Component{color}{color:#333333}:  Performance test with LevelDB{color}

 * {color:#333333}Description{color}{color:#333333}: Launch network, use PTE stress mode to send 100 invoke transactions
 concurrently to all peers on all channels on all chaincodes,
 query the ledger for each to ensure the last transaction was written,
 calculate tps, remove network and cleanup{color}
 * {color:#333333}Artifact Locations{color}{color:#333333}:  <PlaceHolder>{color}

 * {color:#333333}Network Topology{color}{color:#333333}: 2 Ord, 5 KB, 3 ZK, 2 Org, 20 Peers, 10 Chan, 10 CC{color}

 * {color:#333333}Client Driver{color}{color:#333333}: test_pte.py,PTE{color}",,raidinesh80,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-2032,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3770,,,,,,,,,,"1|hzxuzr:",,,,,,,,,,,,,,,,,,,,,,,,,,,raidinesh80,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Standard Network 12 Hr Level DB,FAB-3818,16590,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,raidinesh80,raidinesh80,11/May/17 5:04 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,12/May/17 4:32 AM,,,,v1.0.0,,fabric-quality,,,,,,,0,quality,,,,,,,"{color:#333333}This story has tests we are going to run from <PlaceHolder> {color}

{color:#333333} {color}
 * {color:#333333}Component{color}{color:#333333}:  Performance test with LevelDB{color}

 * {color:#333333}Description{color}{color:#333333}: Launch network, use PTE stress mode to send 100 invoke transactions
 concurrently to all peers on all channels on all chaincodes,
 query the ledger for each to ensure the last transaction was written,
 calculate tps, remove network and cleanup{color}
 * {color:#333333}Artifact Locations{color}{color:#333333}:  <PlaceHolder>{color}

 * {color:#333333}Network Topology{color}{color:#333333}: 2 Ord, 5 KB, 3 ZK, 2 Org, 4 Peers, 10 Chan, 10 CC{color}

 * {color:#333333}Client Driver{color}{color:#333333}: test_pte.py,PTE{color}",,raidinesh80,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-2032,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3771,,,,,,,,,,"1|hzxunb:",,,,,,,,,,,,,,,,,,,,,,,,,,,raidinesh80,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Standard Network 72 Hr Level DB,FAB-3819,16591,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,raidinesh80,raidinesh80,11/May/17 5:07 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,12/May/17 4:32 AM,,,,v1.0.0,,fabric-quality,,,,,,,0,quality,,,,,,,"{color:#333333}This story has tests we are going to run from <PlaceHolder> {color}
 * {color:#333333}Component{color}{color:#333333}:  Performance test with LevelDB{color}

 * {color:#333333}Description{color}{color:#333333}: Launch network, use PTE stress mode to send 100 invoke transactions
 concurrently to all peers on all channels on all chaincodes,
 query the ledger for each to ensure the last transaction was written,
 calculate tps, remove network and cleanup{color}
 * {color:#333333}Artifact Locations{color}{color:#333333}:  <PlaceHolder>{color}

 * {color:#333333}Network Topology{color}{color:#333333}: 4 Ord, 5 KB, 3 ZK, 4 Org, 10 Peers, 10 Chan, 10 CC{color}

 * {color:#333333}Client Driver{color}{color:#333333}: test_pte.py,PTE{color}",,raidinesh80,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-2032,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3771,,,,,,,,,,"1|hzxunj:",,,,,,,,,,,,,,,,,,,,,,,,,,,raidinesh80,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Standard Network 12 Hr,FAB-3820,16592,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,sandp125,sandp125,11/May/17 5:07 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,10/Jul/18 3:23 AM,v1.0.0,,,v1.0.0,,fabric-quality,,,,,,,0,quality,,,,,,,"This task has tests that we are going to run from <PlaceHolder>
 * Component:  Performance Stress Test with Couch DB
 * Description:Launch network, use PTE stress mode to send invoke transactions
 with 1K Payload concurrently to one peer in each organization
 on all channels on all chaincodes, for the specified duration.
 Query the ledger for each to ensure the last transaction was written,
 calculate tps, remove network and cleanup.
 * Artifact Locations: <PlaceHolder>
 * Network Topology:  2 Ord, 3 KB, 3 ZK, 2 Org, 4 Peers, 2 Chan, 2 CC, 8 total threads
 * Client Driver: test_pte.py, PTE.

 ",,sandp125,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-2032,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3771,,,,,,,,,,"1|hzxunr:",,,,,,,,,,,,,,,,,,,,,,,,,,,sandp125,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Standard Network 72 Hr,FAB-3821,16593,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,sandp125,sandp125,11/May/17 5:09 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,10/Jul/18 3:23 AM,v1.0.0,,,v1.0.0,,fabric-quality,,,,,,,0,quality,,,,,,,"This task has tests that we are going to run from <PlaceHolder>
 * Component:  Performance Stress Test with Couch DB
 * Description:Launch network, use PTE stress mode to send invoke transactions
 with 1K Payload concurrently to one peer in each organization
 on all channels on all chaincodes, for the specified duration.
 Query the ledger for each to ensure the last transaction was written,
 calculate tps, remove network and cleanup.
 * Artifact Locations: <PlaceHolder>
 * Network Topology: 2 Ord, 3 KB, 3 ZK, 2 Org, 4 Peers, 2 Chan, 2 CC, 8 total threads
 * Client Driver: test_pte.py, PTE.

 ",,sandp125,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-2032,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3771,,,,,,,,,,"1|hzxunz:",,,,,,,,,,,,,,,,,,,,,,,,,,,sandp125,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
TPS Scale Up Network 1,FAB-3822,16594,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,sandp125,sandp125,11/May/17 5:13 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,10/Jul/18 3:23 AM,v1.0.0,,,v1.0.0,,fabric-quality,,,,,,,0,quality,,,,,,,"This task has tests that we are going to run from <PlaceHolder>
 * Component:  Performance Stress Test with Couch DB
 * Description:Launch network, use PTE stress mode to send 10000 invoke transactions
 concurrently to all peers on all channels on all chaincodes,
 query the ledger for each to ensure the last transaction was written,
 calculate tps, remove network and cleanup.
 * Artifact Locations: <PlaceHolder>
 * Network Topology: 2 Ord, 5 KB, 3 ZK, 2 Org, 4 Peers, 2 Chan, 1 CC, 4 Threads
 * Client Driver: test_pte.py, PTE.

 ",,sandp125,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-2032,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3771,,,,,,,,,,"1|hzxuo7:",,,,,,,,,,,,,,,,,,,,,,,,,,,sandp125,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
TPS Scale Up Network 2,FAB-3823,16595,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,raidinesh80,raidinesh80,11/May/17 5:13 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,10/Jul/18 3:23 AM,,,,v1.0.0,,fabric-quality,,,,,,,0,quality,,,,,,,"{color:#333333}This story has tests we are going to run from <PlaceHolder> {color}
 * {color:#333333}Component{color}{color:#333333}:  Performance test with CouchDB{color}
 * {color:#333333}Description{color}{color:#333333}: Launch network, use PTE stress mode to send 10000 invoke transactions
 concurrently to all peers on all channels on all chaincodes,
 query the ledger for each to ensure the last transaction was written,
 calculate tps, remove network and cleanup{color}
 * {color:#333333}Artifact Locations{color}{color:#333333}:  <PlaceHolder>{color}
 * {color:#333333}Network Topology{color}{color:#333333}: 2 Ord, 5 KB, 3 ZK, 2 Org, 4 Peers, 2 Chan, 2 CC, 8 Threads{color}
 * {color:#333333}Client Driver{color}{color:#333333}: test_pte.py,PTE{color}",,raidinesh80,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-2032,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3771,,,,,,,,,,"1|hzxuof:",,,,,,,,,,,,,,,,,,,,,,,,,,,raidinesh80,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
TPS Scale Up Network 3,FAB-3824,16596,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,sandp125,sandp125,11/May/17 5:15 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,10/Jul/18 3:23 AM,v1.0.0,,,v1.0.0,,fabric-quality,,,,,,,0,quality,,,,,,,"This task has tests that we are going to run from <PlaceHolder>
 * Component:  Performance Stress Test with Couch DB
 * Description:Launch network, use PTE stress mode to send 10000 invoke transactions
 concurrently to all peers on all channels on all chaincodes,
 query the ledger for each to ensure the last transaction was written,
 calculate tps, remove network and cleanup.
 * Artifact Locations: <PlaceHolder>
 * Network Topology: 2 Ord, 5 KB, 3 ZK, 2 Org, 8 Peers, 4 Chan, 2 CC, 16 Threads
 * Client Driver: test_pte.py, PTE.

 ",,sandp125,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-2032,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3771,,,,,,,,,,"1|hzxuon:",,,,,,,,,,,,,,,,,,,,,,,,,,,sandp125,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
TPS Scale Up Network 4,FAB-3825,16597,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,raidinesh80,raidinesh80,11/May/17 5:16 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,10/Jul/18 3:23 AM,,,,v1.0.0,,fabric-quality,,,,,,,0,quality,,,,,,,"{color:#333333}This story has tests we are going to run from <PlaceHolder> {color}
 * {color:#333333}Component{color}{color:#333333}:  Performance test with CouchDB{color}
 * {color:#333333}Description{color}{color:#333333}: Launch network, use PTE stress mode to send 10000 invoke transactions
 concurrently to all peers on all channels on all chaincodes,query the ledger for each to ensure the last transaction was written, calculate tps, remove network and cleanup.{color}
 * {color:#333333}Artifact Locations{color}{color:#333333}:  <PlaceHolder>{color}
 * {color:#333333}Network Topology{color}{color:#333333}: 4 Ord, 5 KB, 3 ZK, 2 Org, 8 Peers, 8 Chan, 2 CC, 32 Threads.{color}
 * {color:#333333}Client Driver{color}{color:#333333}: test_pte.py,PTE{color}",,raidinesh80,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-2032,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3771,,,,,,,,,,"1|hzxuov:",,,,,,,,,,,,,,,,,,,,,,,,,,,raidinesh80,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
TPS Scale Up Network 5,FAB-3826,16598,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,sandp125,sandp125,11/May/17 5:18 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,10/Jul/18 3:23 AM,v1.0.0,,,v1.0.0,,fabric-quality,,,,,,,0,quality,,,,,,,"This task has tests that we are going to run from <PlaceHolder>
 * Component:  Performance Stress Test with Couch DB
 * Description:Launch network, use PTE stress mode to send 10000 invoke transactions
 concurrently to all peers on all channels on all chaincodes,
 query the ledger for each to ensure the last transaction was written,
 calculate tps, remove network and cleanup.
 * Artifact Locations: <PlaceHolder>
 * Network Topology: 4 Ord, 5 KB, 3 ZK, 3 Org, 12 Peers, 8 Chan, 2 CC,  48 Threads
 * Client Driver: test_pte.py, PTE. ",,sandp125,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-2032,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3771,,,,,,,,,,"1|hzxup3:",,,,,,,,,,,,,,,,,,,,,,,,,,,sandp125,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Create a description of why blockchain,FAB-3830,16602,,Task,Closed,FAB,Fabric,software,denyeart,,,High,Done,markparz,markparz,markparz,11/May/17 5:58 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,31/May/17 4:28 AM,,,,v1.0.0,,fabric-docs,,,,,,,0,Documentation,,,,,,,"Would like to build the story from the very high level down to the details of Hyperledger Fabric. This is the first phase, description of the very high level components of blockchain. Ultimately would like to move to the over arching Hyperledger project umbrella, then each project can build off of it. But wanted to start the story here, so for now will host within fabric doc.",,markparz,,,,,,,,,,,,,,,,,,,,10800,0,,0%,10800,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxuq7:",,,,,,,,,,,,,,,1.0,,,,,,,,,,,,markparz,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Orderer should reject config updates that result in policies referencing orgs not in the network,FAB-3831,16603,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,jyellick,ptippett,ptippett,11/May/17 6:14 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,10/Jun/17 7:24 PM,v1.0.0-alpha2,,,v1.0.0,,fabric-orderer,,,,,,,5,configuration,,,,,,,"Currently Policies may be implicit or explicit.  For explicit policies, which require specific network members to approve a policy change, it's possible for a policy to get to get in a state where it can never be satisfied because a member required to approve the policy has left the channel or consortium.

For example a policy is set up such that any channel modification requires user1 and user2 to approve.  user2 leaves the channel or consortium which is approved by both user1 and user2.  The next time user1 attempts to modify the channel, the transaction will fail because user2 is no longer a member of the channel but is listed in the policy.

One way to fix this is to have the orderer reject any config updates that result in policies referencing orgs that no longer exist.  So in the case I listed above, the policy change to remove user2 from the channel or consortium would have been rejected by the orderer since it would result in an invalid policy.  The reason for the rejection should be clearly specified.",,angelo.decaro,binhn,ChristopherFerris,denyeart,jyellick,kchristidis,mastersingh24,ptippett,shanlusun,weeds,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-4518,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxuqf:",,,,,,,,,,,,,,,,,,,,,,,,,,,angelo.decaro,binhn,ChristopherFerris,denyeart,jyellick,kchristidis,mastersingh24,ptippett,shanlusun,weeds,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"19/May/17 9:16 PM;kchristidis;([~jyellick]: tagging you on this so that it's on your radar.);;;","07/Jun/17 12:17 AM;jyellick;I've looked at implementing this a couple of ways.  No matter how this is cut, it's likely to be a substantial amount of work, and I'm a little concerned about how invasive it might be.

Do we see this as a must have for v1? Or are we open to deferring it?;;;","07/Jun/17 2:18 AM;ptippett;It seems we have to prevent this somehow, or if someone gets themselves in this situation, they've ruined their network.  Perhaps we can fix this in the HSBN UI, but that wouldn't fix any flows outside of that.;;;","07/Jun/17 5:08 AM;mastersingh24;I have some ideas on what we *might* be able to do here to handle the obvious cases, but we might need to defer until a minor or patch release;;;","08/Jun/17 12:12 AM;jyellick;The difficulty in implementing this, is that to do so really requires working against the design of the system.

Identities in the policy system ultimately end up being represented by MSP principals.  MSP principals are designed to be opaque to the consumer, and instead, the consumer is supposed to ask if a given identity satisfies a principal.  The question of ""what organization is capable of satisfying this principal"" is not a natural one in this system, and in fact, in general this question is not answerable for all principal types (IDENTITY principals in particular cannot map in this direction).

So, in order to implement this, I see this as requiring one of two things to happen:

1. Modify the configtx related code which is not supposed to have any understanding of the internal workings of the MSP structures to gain that knowledge and start interrogating them. (Now we have potentially a maintenance headache)
2. Modifying the MSP interfaces to map principals back to MSP ID if it is possible, then modifying the configtx related code to consume this. (Hopefully cleaner, but I suspect more work, and the interfaces are not obvious to me).

I'd be curious to hear from [~ellaki] [~angelo.decaro] [~ales] or anyone else what the most 'true to the spriit of MSPs' solution is.;;;","08/Jun/17 3:12 AM;jyellick;After some out of band discussion with [~ptippett], here is a compromise solution which seems to address everyone's concerns.

Rather than have the orderer perform these sanity checks directly on incoming config transactions, which comes with all of the problems outlined above, we can build this functionality into the `configtxlator` tool.

In this way, there is no risk to the hardened production code path, but a client application can still get error reports about configuration before it takes affect.;;;","08/Jun/17 6:28 AM;denyeart;[~jyellick]

Could you outline what the configtxlator flow would look like?

Do we expect the majority of Fabric consumers to utilize configtxlator tool?  Or should it be thought of as a stopgap that will eventually be replaced by something else?

 ;;;","08/Jun/17 11:59 AM;jyellick;[~denyeart] The typical {{configtxlator}} flow works (already) as follows.

1. User fetches config block via SDK
2. User uses {{configtxlator}} to get user friendlier version of config
3. User modifies copy of config
4. User submits original config, and updated config to {{configtxlator}} to compute config update.
5. User submits config update with signatures via the SDK.

Essentially, this would inject a step between 3/4, where the user submits the updated config to {{configtxlator}} to perform sanity checks against the target configuration.

As I said, in the long term, we may wish to try enforcing this issue outlined in the original description in the core configtx processing logic, (which would render the {{configtxlator}} sanity check redundant), but as for the moment, we expect users to be utilizing the {{configtxlator}} for config updates, it seems like a reasonable stopgap.;;;","09/Jun/17 12:11 AM;binhn;[~jyellick] So my understanding from reading your stopgap proposal above is that we modify step 4 to perform sanity checks, but we don't want to (or can't) touch step 5 (mostly backend processing) because of the[# potential risks | https://jira.hyperledger.org/browse/FAB-3831?focusedCommentId=25654&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-25654].

That sounds reasonable, and it would give the user the confidence that he would not be shooting himself by submitting the config update, but this is also the drawback – I would consider this as new feature, and we would have to test the heck out of this to make sure it would not allow the users to shoot themselves.

I believe that, beside test networks, users would have appropriate admin tools to manage their networks, and so this is API document, and [~ptippett] 's admin tool would follow the API and not allow this situation.

In summary, I propose that we do the right thing post 1.0 rather than this stopgap (with a lot of work) at this point. However, we do need to document this scenario in our configuration doc.;;;","09/Jun/17 1:08 AM;jyellick;> but this is also the drawback – I would consider this as new feature

So I would point out, that this is a 'new feature' only in so far as it enhances the {{configxlator}} tool, but since the tool has only existed for about a week at this point, I'm not certain that the new feature stop condition is reasonable here.  There has been a hard freeze on features in the core components for some time now, but as this is a tool, I think we can and should be a little more open to enhancements.

> and we would have to test the heck out of this to make sure it would not allow the users to shoot themselves.

I guess I am not certain where the large testing burden comes from.  We can test the scenario described here in 3831 rather easily, and for the time being, this will be the only scenario (other than general well formed-ness) that the sanity checking will catch.

As you can see from FAB-4468 and FAB-4469 (with CRs https://gerrit.hyperledger.org/r/10341 and https://gerrit.hyperledger.org/r/10343) respectively, this is actually fairly small from a code perspective, excluding tests, there is noticeably less than 200 new lines.

> beside test networks, users would have appropriate admin tools to manage their networks

I agree this is the goal, but I also believe we should make this as painless as possible for those admin tool developers.  The entire motivation for including {{configtxlator}} in the v1 release was so that admin tool developers (regardless of SDK) had some code to do some of the heavy lifting.  By including a small amount of additional code in {{configtxlator}} if we can potentially save days or weeks of frustration for an admin tool developer, this seems worthwhile to me.

> In summary, I propose that we do the right thing post 1.0 rather than this stopgap (with a lot of work) at this point.

The code is complete, though testing beyond unit tests and basic manual integration tests is pending.

I believe that sanity checking could be a valuable feature beyond even v1 and this issue as described.  Warning about expired certificates, modification policies with no backing definition, and other potential misconfigurations which should not be treated as fatal could still provide real value to users; so I'm not convinced that this is throwaway for when we 'do the right thing'.;;;","09/Jun/17 1:22 AM;kchristidis;I'm all in favor of deferring, but I think the balance we're striking with this sanity check addition now is right. The scope of the sanity checks – as Jason noted – is limited and the work's already done. FWIW, my vote's for getting this in.;;;","09/Jun/17 4:35 PM;angelo.decaro;[~jyellick], it looks to me an hard problem this. The question can be phrased as: given the new configuration is a policy still satisfiable? In general, this is hard problem whose complexity can be reduced if we add enough constraints. I would not say anyway that we need to modify the MSP logic to perform such an analysis, anyway.  

I guess when you say 'user2 leaves' you mean either that user2 gets revoked or his organisation is revoked or the corresponding MSP gets removed from the channel. These conditions can be analysed by looking at the MSP principals and at the MSP configuration alone. No? Am I missing something?;;;","09/Jun/17 8:39 PM;mastersingh24;Sanity checking in a tool which creates policies makes perfect sense and is not an uncommon practice.  I don't think we need to hold up a release for this, but if it's possible to get some basic sanity checking in for the common case(s) (e.g. don't remove an org when it is explicity reference elsewhere and don't explicitly include an org in a policy if it's not in the consortium or channel / app orgs) we should try to do this.

We are also trying to guide people to use best practices as well and while technically we support some very complex policies, I struggle to see why anyone would REALLY need to use some of them.;;;","09/Jun/17 8:43 PM;mastersingh24;So based on looking at the code up for review (which is more or less in line with my comment above) there's no reason not to get this in.;;;","10/Jun/17 1:58 AM;weeds;Gerrit 10337;;;","10/Jun/17 4:07 AM;jyellick;Moved back to review, as still waiting on: 
https://gerrit.hyperledger.org/r/10341
https://gerrit.hyperledger.org/r/10343;;;","10/Jun/17 9:00 AM;ChristopherFerris;This has the requisite number of votes to be merged;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
TPS invokes 4 threads CouchDB,FAB-3832,16604,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,dongming,sandp125,sandp125,11/May/17 6:19 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,18/May/18 12:17 AM,v1.1.0,,,v1.1.0,,fabric-quality,,,,,,,0,ContinuousDelivery,quality,SystemTestcase,,,,,"This story has tests we are going to run from fabric-test/tools/PTE/CITest/scripts/test_driver.sh
 * +Component+:  Performance Stress Test with Couch DB
 * +Description+: 2 threads each send 10000 query transactions concurrently to 1 peer in org 1, and 2 threads to org2, (total 40,000 TX)
 calculate tps, and remove network and cleanup.
 * +Artifact Locations+: fabric-test/tools/PTE/CITest/-FAB-3832--4i
 * +Network Topology+: 3 Ord, 4 KB, 3 ZK, 2 Org, 2 Peers/Org, 1 Chan, sample_cc, 2 thrds, TLS enabled
 Launch network, use PTE in STRESS mode to continuously
 * +Client Driver+: test_pte.py, PTE.",,haiheipijuan,sandp125,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-2032,,,,,,,,,,,,,,,,FAB-5283,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-10083,,,,,,,,,,"1|hzx2nj:",,,,,,Sprint 19 - Quality,,,,,,,,,,,,,,,,,,,,,haiheipijuan,sandp125,scottz,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,release-2.4,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,lindluni-patch-1,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,,true,"15/May/18 12:29 PM;scottz;https://gerrit.hyperledger.org/r/#/c/19755/

and

[https://gerrit.hyperledger.org/r/#/c/21591/]

and

[https://gerrit.hyperledger.org/r/#/c/21679/]

in addition to the original update by dongming and I, months ago...;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
TPS invokes 2 threads CouchDB,FAB-3833,16605,,Task,Closed,FAB,Fabric,software,denyeart,,,High,Done,dongming,sandp125,sandp125,11/May/17 6:20 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,18/May/18 12:17 AM,v1.1.0,,,v1.1.0,,fabric-quality,,,,,,,0,ContinuousDelivery,quality,SystemTestcase,,,,,"This story has tests we are going to run from  fabric-test/tools/PTE/CITest/scripts/test_driver.sh
 * +Component+:  Performance, TPS
 * +Description+: TPS performance measurement test with CouchDB and TLS.
Launch network, use PTE in Stress Mode to continuously
send invoke transactions concurrently to 1 peer in both orgs,
ensure events are raised for each Tx (indicating it was
written to ledger), calculate tps, remove network and cleanup.
 * +Artifact Location+: fabric-test/tools/PTE/CITest/FAB-3833-2i
 * +Logs Location+: fabric-test/fabric-sdk-node/test/PTE/CITest/Logs/
 * +Network Topology+: 3 Ord, 4 KB, 3 ZK, 2 Org, 2 Peers/Org, 1 Chan, 1 sample_cc, 2 thrds, TLS enabled
 * +Client Driver+: systest_pte.py, test_driver.sh, PTE.",,sandp125,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-6665,,,,,,,,,,,,,,,,,,,,,,,,FAB-2032,,,,,,,,,,,,,,,,FAB-5283,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-10083,,,,,,,,,,"1|hzx2n3:",,,,,,Sprint 19 - Quality,,,,,,,,,,,,,,,,,,,,,sandp125,scottz,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,release-2.4,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,lindluni-patch-1,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,,true,"28/Apr/18 5:01 AM;scottz;[https://gerrit.hyperledger.org/r/#/c/19755/]  to enable the test in the CI daily job;;;","15/May/18 12:29 PM;scottz;https://gerrit.hyperledger.org/r/#/c/19755/

and

[https://gerrit.hyperledger.org/r/#/c/21591/]

and

[https://gerrit.hyperledger.org/r/#/c/21679/]

in addition to the original update by dongming and I, months ago...;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
TPS queries 4 threads CouchDB,FAB-3834,16606,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,dongming,sandp125,sandp125,11/May/17 6:21 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,18/May/18 12:17 AM,v1.1.0,,,v1.1.0,,fabric-quality,,,,,,,0,ContinuousDelivery,quality,SystemTestcase,,,,,"This story has tests we are going to run from fabric-test/tools/PTE/CITest/scripts/test_driver.sh
 * Component:  Performance Stress Test with Couch DB
 * +Description+: Send 2x10000 query transactions concurrently to 1 peer in both orgs,
 query the ledger to ensure the last transaction was written,
 calculate tps, remove network and cleanup.
 * Artifact Locations: fabric-test/tools/PTE/CITest/FAB-3834-4q
 * Network Topology: 3 Ord, 4 KB, 3 ZK, 2 Org, 2 Peers/Org, 1 Chan, sample_cc, 2 thrds, TLS enabled
 Launch network, use PTE in STRESS mode to continuously.
 * Client Driver: test_pte.py, PTE.

 ",,sandp125,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-2032,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-10083,,,,,,,,,,"1|hzx2nb:",,,,,,Sprint 19 - Quality,,,,,,,,,,,,,,,,,,,,,sandp125,scottz,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,lindluni-patch-1,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,,true,"15/May/18 12:30 PM;scottz;https://gerrit.hyperledger.org/r/#/c/19755/

and

[https://gerrit.hyperledger.org/r/#/c/21591/]

and

[https://gerrit.hyperledger.org/r/#/c/21679/]

in addition to the original update by dongming and I, months ago...;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
TPS queries 4 threads LevelDB,FAB-3835,16607,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,dongming,sandp125,sandp125,11/May/17 6:23 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,18/May/18 12:17 AM,v1.1.0,,,v1.1.0,,fabric-quality,,,,,,,0,ContinuousDelivery,quality,SystemTestcase,,,,," {color:#333333}This story has tests we are going to run from fabric-test/tools/PTE/CITest/scripts/test_driver.sh{color}
 * {color:#333333}Component{color}{color:#333333}:  Performance test with LevelDB{color}
 * +Description+: Send 2x10000 query transactions concurrently to 1 peer in both orgs,
 query the ledger to ensure the last transaction was written,
 calculate tps, remove network and cleanup.
 * {color:#333333}Artifact Locations{color}{color:#333333}:  fabric-test/tools/PTE/CITest/FAB-3835-4q-levelDB{color}
 * {color:#333333}Network Topology{color}{color:#333333}: 3 Ord, 4 KB, 3 ZK, 2 Org, 2 Peers/Org, 1 Chan, sample_cc, 2 thrds
 Launch network, use PTE in STRESS mode to continuously{color}
 * {color:#333333}Client Driver{color}{color:#333333}: test_pte.py,PTE{color}",,sandp125,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-2032,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-10083,,,,,,,,,,"1|hzx2o7:",,,,,,Sprint 19 - Quality,,,,,,,,,,,,,,,,,,,,,sandp125,scottz,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,lindluni-patch-1,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,,true,"15/May/18 12:30 PM;scottz;https://gerrit.hyperledger.org/r/#/c/19755/

and

[https://gerrit.hyperledger.org/r/#/c/21591/]

and

[https://gerrit.hyperledger.org/r/#/c/21679/]

in addition to the original update by dongming and I, months ago...;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
No way to easily tell if an orderer node is healthy.,FAB-3836,16608,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,ptippett,ptippett,11/May/17 11:20 AM,23/Jan/20 4:09 AM,28/Oct/23 2:59 AM,23/Jan/20 4:09 AM,v1.0.0,,,,,fabric-orderer,,,,,,,0,stale-item,,,,,,,"In order to support hyperledger in a production environment, especially when hosting many networks for other users, we need a way to easily tell if an orderer is healthy or not.  Simply checking if the process is running isn't enough, and looking at the logs is great for debugging a single network, but doesn't scale when trying to support many networks in a production environment.

A simple, low impact, CLI or grpc call that verified that returned status indicating whether or not an orderer was healthy, or a simple check we could do on a network we were hosting for other users (so didn't require us to submit transactions) would suffice.

 

 ",,gloriow,joaquimpedrooliveira,kchristidis,ptippett,sanchezl,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzxuqn:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,gloriow,joaquimpedrooliveira,kchristidis,ptippett,sanchezl,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"19/May/17 6:06 AM;kchristidis;Thanks for submitting this Paul.

It's now added in our queue so there's no risk of missing it. (I'll unassign myself from it now since we're asked to assign something to ourselves when we're actually working on it.);;;","13/Sep/17 11:53 PM;sanchezl;The {{deliver_stdout}} cli might be useful for this purpose. You can run it to ask for a specific block and then examine it's output for an error:
{code:java}
$ deliver_stdout \
    --server orderer:7050 \
    --channelID orderer.system.channel.name \
    --quiet \
    --seek 0
{code}
The output might be the requested block number, or one of the common.Status enum names.;;;","16/Sep/17 10:42 PM;kchristidis;[~sanchezl]: After discussing this with [~mrshah-ibm], he pointed out correctly that this could work but it requires knowledge of a specific channel on the orderer. I _think_ that what we're looking for is something similar to ZooKeeper's *ruok* command ([semi-related and interesting|http://www.se-radio.net/2017/02/se-radio-episode-282-donny-nadolny-on-debugging-distributed-systems/]).;;;","18/Sep/17 9:38 PM;ptippett;[~kchristidis] [~sanchezl] I agree that something like Zookeeper's ruok command would be better.  In addition, I would propose something a little more detailed however since I'm not really sure what exactly ruok checks and would have the same concern on the orderer.  I'm thinking of an ruok with a bit more detail than ""imok"".  I'm making this up, but something like: Status: Good (the ""imok"" part), and maybe the number of orderers it sees, number of channels it's aware of, and maybe 1-2 other things you guys think are key information to check the health of an orderer without giving away any information we wouldn't want to.

Zookeeper has a few more 4 letter status codes that give a bit more info for reference.

 

Ideally, I'd propose both a standard yes/no status check that we could use for metrics type reporting..which is my view of what ruok/imok could do, but with a 1/0 or http 200/400 return code.  Then a more detailed one we could hit for more detail if the standard check failed.  You could of course combine these into one check that returns more info and uses the status code of 0/1 or 200/400 to determine if status is good/bad.

 

Finally, any such check would need to be really low cost of course.  The type of thing that could be hit every minute or so and not cause performance issues.

 ;;;","07/Mar/18 11:55 PM;kchristidis;[~sanchezl]: What are your thoughts on this?;;;","23/Jan/20 4:09 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"PKCS11 Race condition, CKA_OPERATION_ACTIVE",FAB-3837,16609,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,vpaprots,vpaprots,11/May/17 11:44 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,09/Jan/18 6:37 AM,,,,v1.1.0,,fabric-crypto,,,,,,,0,HSM,,,,,,,"When running [https://gerrit.hyperledger.org/r/#/c/7927/13] `./regenNetwork -hsm` intermittently a single peer crashes with CKA_OPERATION_ACTIVE on a session.

This could be expected behaviour with the way the E2E test is written: `peer cli` reuses existing credentials. Questions remaining:
 * where is the other active operation,
 ** same executable? could be chan caching code in pkcs11.go
 ** cli executable? try using a separate user, like User1 for CLI. Is this softhsm specific",,Clayton Sims,denyeart,elli-androulaki,vpaprots,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx3ov:",,,,,,,,,,,,,,,,,,,,,,,,,,,Clayton Sims,denyeart,elli-androulaki,vpaprots,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"03/Jun/17 3:57 AM;Clayton Sims;Assigning to Vlad....yell if you disagree.;;;","03/Jun/17 5:45 AM;vpaprots;Propose we move this to v1.1. There is no checked-in test case that is broken by this. The E2E-HSM (https://gerrit.hyperledger.org/r/#/c/7927/13) will not be delivered because of FAB-3196.

I have not seen this with the real cards.;;;","01/Sep/17 4:25 PM;elli-androulaki;Hi [~vpaprots], is this still aiming for v1.1?;;;","27/Nov/17 12:14 PM;denyeart;[~vpaprots] Do you have an update?;;;","05/Jan/18 10:58 PM;elli-androulaki;[~vpaprots], [~vpaprots@ca.ibm.com] (not sure which identity is the correct one), any updates on this? :);;;","09/Jan/18 6:37 AM;vpaprots;I haven't seen this one again, so closing.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Let GetBlock support block number,FAB-3839,16612,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,baohua,baohua,baohua,11/May/17 4:39 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,25/May/17 11:22 PM,,,,v1.0.0,,fabric-peer,,,,,,,0,,,,,,,,"In peer/channel module, the DeliverClient.GetBlock() actually only get the genesis block.

 

We need to add explicit param block_no to make it not confusing with GetGenesisBlock().",,baohua,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxurb:",,,,,,,,,,,,,,,,,,,,,,,,,,,baohua,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"11/May/17 5:24 PM;baohua;https://gerrit.hyperledger.org/r/#/c/9225/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Join Channel is failed due to Admin CheckPolicyNoChannel,FAB-3840,16616,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,ShDavidliu,ShDavidliu,11/May/17 7:40 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,24/May/17 5:11 PM,,,,,,fabric-crypto,,,,,,,0,,,,,,,,"Fabric Commit Level:  e182390035ec207535c7ba0f5df70dc702057e18

examples/e2e_cli, after channel is created successfully, when we want to use command line to join channel failed:

Error: proposal failed (err: rpc error: code = 2 desc = ""JoinChain"" request failed authorization check for channel [mychannel]: [Failed verifying that proposal's creator satisfies local MSP principal during channelless check policy with policy [Admins}: [This identity is not an admin]])",,angelo.decaro,ShDavidliu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx2fr:",,,,,,,,,,,,,,,,,,,,,,,,,,,angelo.decaro,ShDavidliu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"12/May/17 4:48 PM;angelo.decaro;Hi David, that is the expected behavior. Only an administrator of a peer can ask it to join a channel. You need to use the right credentials then when generating the request. 
May you give more details on which actions you are actually performing?;;;","18/May/17 11:24 AM;ShDavidliu;When we try to execute the scripts in $hyperledger/fabric/examples/e2e_cli/examples (See below commit level ), it shows this panic
 
||Project||Commit level||Date||
|fabric|e182390035ec207535c7ba0f5df70dc702057e18|May 8 14:42:36 2017 +0000|
|fabric-ca|73a42156f637702b2ac8d4ceae0d663c4c688ed4|May 7 09:43:08 2017 +0000|
  
   In addition, If we want to make the normal manual command process: create channel then join channel, it shows the same error during joining channel.;;;","23/May/17 10:51 PM;angelo.decaro;[~ShDavidliu], please, may you give me the list of commands that I have to run in order to reproduce the same issue. Thanks :);;;","24/May/17 5:12 PM;ShDavidliu;This isssue is resolved in alpha2 version, so close it.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Gossip TestCertExpiration,FAB-3841,16617,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,gennadyl,gennadyl,gennadyl,11/May/17 8:09 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,06/Jun/17 7:38 PM,,,,v1.0.0,,fabric-gossip,,,,,,,0,gossip,,,,,,,,"go test -v github.com/hyperledger/fabric/gossip/gossip/ -run ^TestCertExpiration$

Log attached",gennadyl,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"11/May/17 8:09 PM;gennadyl;test_exp_64.out;https://jira.hyperledger.org/secure/attachment/10814/test_exp_64.out",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-290,,,,,,,,,,"1|hzxus7:",,,,,,Sprint 16 - Gossip,,,,,,,,,,,,,,,,,,,,,gennadyl,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add parameter when creating CallStackError to adjust starting point of callstack,FAB-3844,16621,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wlahti,wlahti,wlahti,11/May/17 11:16 PM,21/Jul/18 3:54 AM,28/Oct/23 2:59 AM,23/Aug/17 10:20 PM,,,,,,fabric-peer,,,,,,,1,,,,,,,,"The error handling framework currently relies on every file importing the error handling package (fabric/common/errors) and making a call similar to:
{code:java}
errors.ErrorWithCallstack(errors.ChaincodeSupport, errors.BadRequest, ""chaincode name not set""){code}
Certain packages may wish to wrap this call into their own utility function but not have this utility function displayed in every error callstack. 

 

To accommodate this usage, the error handling framework should provide a parameter to adjust the starting point of the callstack. 

For example, the following usage would shift the stack down two lines:
{code:java}
errors.ErrorWithShiftedCallstack(2, errors.ChaincodeSupport, errors.BadRequest, ""chaincode name not set""){code}",,gennadyl,wlahti,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzxusv:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,gennadyl,wlahti,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"15/May/17 9:29 PM;gennadyl;I think one extra parameter to this call (how many stack trace to skip) will work perfect.;;;","22/May/17 1:28 AM;yacovm;I think that alternatively there could be another method with the parameter so that it won't effect other consumers of this package that have already began incorporating the err handling framework into their code.;;;","28/Jul/17 12:25 AM;wlahti;CR submitted to gerrit for review: https://gerrit.hyperledger.org/r/#/c/11983/;;;","23/Aug/17 10:20 PM;wlahti;Marking this Done as we've switched to a new error handling framework (https://jira.hyperledger.org/browse/FAB-5504).;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Placeholder for behave tests ,FAB-3846,16623,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,latitiah,latitiah,latitiah,11/May/17 11:38 PM,21/Jul/18 3:56 AM,28/Oct/23 2:59 AM,19/May/17 5:01 AM,,,,,,fabric-quality,,,,,,,0,,,,,,,,"We have to create templates of the tests that will be executed using the behave framework. The Scenario name should look as follows:

 
{code:java}
Scenario: FAB-XXXX - <Description of the Test Scenario>
    Given some setup
    When some state changes
    Then some action is expected
{code}
Each scenario should be tagged with the @skip tag. This tag will be removed once the test is written and ready for use.

 ",,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzx24v:",,,,Unset,,Sprint 18 - Quality,,,,,,,,,3.0,Unset,,,,,,,,,,,latitiah,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Placeholder for Bootstrapping Fabric Network,FAB-3847,16624,16623,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,latitiah,latitiah,latitiah,11/May/17 11:57 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,12/May/17 12:54 AM,,,,,,fabric-quality,,,,,,,0,quality,,,,,,,This will be a placeholder for the bootstrapping tests that verifies that the transaction blocks and crypto files are generated when attempting to bootstrap a Hyperledger Fabric network.,,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3635,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxutb:",,,,,,Sprint 18 - Quality,,,,,,,,,,,,,,,,,,,,,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Placeholder for Resilient Kafka Order,FAB-3848,16625,16623,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,latitiah,latitiah,latitiah,11/May/17 11:59 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,12/May/17 12:54 AM,,,,,,fabric-quality,,,,,,,0,,,,,,,,This will be a placeholder for the orderer test that tests the resilience of a kafka orderer.,,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-1335,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxutj:",,,,,,Sprint 18 - Quality,,,,,,,,,,,,,,,,,,,,,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Placeholder for Adding and Removing Kafka brokers,FAB-3849,16626,16623,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,latitiah,latitiah,latitiah,12/May/17 12:01 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,12/May/17 12:54 AM,,,,,,fabric-quality,,,,,,,0,,,,,,,,"This will be a placeholder for the orderer tests that verifies the expected behavior when adding and removing kafka brokers in a Hyperledger Fabric network.
 ",,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-1306,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxutr:",,,,,,Sprint 18 - Quality,,,,,,,,,,,,,,,,,,,,,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
don't allow Java CC access for alpha2 as its not quite usable yet,FAB-3850,16627,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,muralisr,muralisr,muralisr,12/May/17 12:03 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,12/May/17 11:35 PM,,,,,,fabric-peer,,,,,,,1,,,,,,,,"Java CC has made good progress with https://jira.hyperledger.org/browse/FAB-3218. However its not quite ready yet. Its better to disable it for alpha2 and enable it when its more usable.

The disable will add endorser and CLI checks to error out if accessing java chaincode. We may just prevent install/instantiate of Java CC to make it less invasive.

[~sanchezl]",,muralisr,sanchezl,troyronda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3040,FAB-4072,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxutz:",,,,,,Sprint 16  - Endorser,,,,,,,,,,,,,,,,,,,,,muralisr,sanchezl,troyronda,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Test Message Payloads Greater than 1 MB,FAB-3851,16628,16112,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,latitiah,latitiah,latitiah,12/May/17 12:10 AM,17/Aug/18 2:37 AM,28/Oct/23 2:59 AM,02/Nov/17 2:59 AM,,,,,,fabric-quality,,,,,,,0,,,,,,,,"* +Test Name+: Message Payloads Greater than 1MB
 * +Component+:  Orderer
 * +Description+: The Orderer and peers should be able to handle payloads that are larger than 1 MB. Overall it would be good to know what is the upper limit and as a result may be good to expound on this test to include payloads of 10MB and up as well.
 * +Artifact Locations+:  fabric/test/features
 * +Network Topology+:  1 orderer, 3 kafka brokers (both solo and kafka orderers)
 * +Client Driver+:  behave
 * +Input+:  behave -n ""Message Payloads Greater than 1MB""
 * +Output+: 2 steps passed, 0 failed 

 

Test scenarios with faults in the Kafka brokers, and the orderer shims.",,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-5049,,,,FABN-523,,,,,FAB-3852,FAB-11618,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxuu7:",,,,,,,,,,,,,,,,,,,,,,,,,,,latitiah,,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,,true,"29/Jun/17 12:26 AM;latitiah;When trying to run this from any command line API (cli, curl calls, etc.), the kernel limits the payload size. I have been able to send a payload slightly under 128K (130734 bytes).;;;","30/Jun/17 6:48 AM;latitiah;On Kafka (setting the KAFKA environment variables), 1MB, 1.5MB works fine. 

Kafka environment variables set to:
- KAFKA_MESSAGE_MAX_BYTES=103809024
- KAFKA_REPLICA_FETCH_MAX_BYTES=103809024
- KAFKA_REPLICA_FETCH_RESPONSE_MAX_BYTES=103809024

*2MB* has problems on the query. When looking through the peer and orderer logs, there are no errors. The error comes from the sdk during a query. The error is the same as mentioned in the above comment:
{code}
error: [client-utils.js]: sendPeersProposal - Promise is rejected: Error: Received message larger than max (4195347 vs. 4194304)
    at /home/itpc/experims/fabric-sdk-node/node_modules/grpc/src/node/src/client.js:434:17
error: [client-utils.js]: sendPeersProposal - Promise is rejected: Error: Received message larger than max (4195347 vs. 4194304)
    at /home/itpc/experims/fabric-sdk-node/node_modules/grpc/src/node/src/client.js:434:17
Error: Received message larger than max (4195347 vs. 4194304)
Error: Received message larger than max (4195347 vs. 4194304)
{code}

What is strange is the message size reported is twice as much as the actual payload. ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Message Payloads Smaller than 1MB,FAB-3852,16629,16112,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,latitiah,latitiah,latitiah,12/May/17 12:13 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,12/May/17 12:54 AM,,,,,,fabric-quality,,,,,,,0,quality,,,,,,,"Test Name: Message Payloads Smaller than 1MB
Component:  Orderer
Description: The Orderer and peers should be able to handle payloads that are smaller than 1 MB. Also, what happens with an empty payload.
Artifact Locations:  fabric/test/features
Network Topology:  1 orderer, 3 kafka brokers (both solo and kafka orderers)
Client Driver:  behave
Input:  behave -n ""Message Payloads Smaller than 1MB""
Output: 2 steps passed, 0 failed 
 
Test scenarios with faults in the Kafka brokers, and the orderer shims.",,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3851,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxuuf:",,,,,,,,,,,,,,,,,,,,,,,,,,,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update Node SDK to work with Fabric alpha 2,FAB-3853,16630,,Task,Closed,FAB,Fabric,software,denyeart,,,High,Done,ldfreema,bmos299,bmos299,12/May/17 12:17 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,02/Jul/17 9:17 PM,,,,v1.0.0,,fabric-quality,,,,,,26/May/17 12:00 AM,0,,,,,,,,Update Node SDK to work with Fabric alpha 2,,bmos299,,,,,,,,,,,,,,,,,,,,288000,288000,,0%,288000,288000,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx2w7:",,,,,,Sprint 19 - Quality,,,,,,,,,,,,,,,,,,,,,bmos299,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Feature File for testing that the genesis block contains the correct data,FAB-3854,16631,13231,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,latitiah,latitiah,latitiah,12/May/17 12:21 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,16/Aug/17 12:25 AM,,,,,,fabric-quality,,,,,,,0,quality,,,,,,,"* +Test Name+: Broadcasted message delivered
 * +Component+:  Orderer
 * +Description+: The genesis block should contain at least the following: MSP data, policy data, orderer node data, peer anchor.
 * +Artifact Locations+:  fabric/test/feature/bootstrap.feature
 * +Network Topology+:  3 orderers, 3 zookeepers, 4 kafka brokers, 2 orgs, 2 peers each
 * +Client Driver+:  behave
 * +Input+:  behave -n ""FAB-3854""
 * +Output+: 1 scenarios passed, 0 failed 

 ",,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3855,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxuun:",,,,,,Sprint 19 - Quality,,,,,,,,,,,,,,,,,,,,,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"18/Jul/17 5:57 AM;latitiah;https://gerrit.hyperledger.org/r/11713;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Empty Message Payloads,FAB-3855,16632,16112,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,latitiah,latitiah,latitiah,12/May/17 12:23 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,07/Mar/18 1:15 AM,,,,,,fabric-quality,,,,,,,0,,,,,,,,"* +Test Name+: Empty Message Payloads
 * +Component+:  Orderer
 * +Description+: The Orderer and peers should be able to handle empty payloads.
 * +Artifact Locations+:  fabric/test/features
 * +Network Topology+:  1 orderer, 3 kafka brokers (both solo and kafka orderers)
 * +Client Driver+:  behave
 * +Input+:  behave -n ""Empty Message Payloads""
 * +Output+: 2 steps passed, 0 failed 

Test scenarios with faults in the Kafka brokers, and the orderer shims. ",,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3854,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxuuv:",,,,,,,,,,,,,,,,,,,,,,,,,,,latitiah,,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Feature File for verifying crypto material (non-TLS),FAB-3856,16633,13231,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,latitiah,latitiah,latitiah,12/May/17 12:27 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,16/Aug/17 12:25 AM,,,,,,fabric-quality,,,,,,,0,quality,,,,,,,"* +Test Name+: Verify crypto functions as expected
 * +Component+:  Bootstrapping
 * +Description+: The cryptogen tool generates crypto material for the bootstrapping of a Hyperledger Fabric network. We should ensure that the msp data is in the expected location and that the network starts as expected.
 * +Artifact Locations+:  fabric/test/features
 * +Network Topology+:  3 orderers, 3 zookeepers, 4 kafka brokers (both solo and kafka orderers) 2 organizations with 2 peers each
 * +Client Driver+:  behave
 * +Input+:  behave -n ""FAB-3856""
 * +Output+: 1 scenarios passed, 0 failed

 

 ",,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxstb:",,,,,,Sprint 19 - Quality,,,,,,,,,,,,,,,,,,,,,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"18/Jul/17 5:58 AM;latitiah;https://gerrit.hyperledger.org/r/11713;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Invoke with 1K key/value pairs with payloads up to 2M,FAB-3857,16634,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,latitiah,latitiah,latitiah,12/May/17 12:30 AM,14/Dec/18 6:27 AM,28/Oct/23 2:59 AM,18/May/18 12:17 AM,,,,v1.1.0,,fabric-quality,,,,,,,0,ContinuousDelivery,SystemTestcase,,,,,,"* +Test Name+: Large Number of keys/values
 * +Component+:  Orderer
 * +Description+: The Orderer and peers should be able to handle a large of number of messages (more than 1K) with payloads that are around 1 KB in size.
 * +Artifact Locations+:  fabric/test/features
 * +Network Topology+:  1 orderer, 3 kafka brokers (both solo and kafka orderers)
 * +Client Driver+:  behave
 * +Input+:  behave -n ""Large Number of keys/values""
 * +Output+: 2 steps passed, 0 failed 

Test scenarios with faults in the Kafka brokers, and the orderer shims.",,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-5049,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-10081,,,,,,,,,,"1|hzxuv3:",,,,,,,,,,,,,,,,,,,,,,,,,,,latitiah,,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,,,,,,,true,"21/Feb/18 12:26 AM;latitiah;https://gerrit.hyperledger.org/r/#/c/18083/;;;","11/Aug/18 12:43 AM;latitiah;Due to hardware/memory limitations, the test case was changed to now verify 1K number of 1K size payloads instead of 1K number of 2M sized payloads.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Feature File for verifying crypto material (TLS),FAB-3858,16635,13231,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,latitiah,latitiah,latitiah,12/May/17 12:34 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,16/Aug/17 12:25 AM,,,,,,fabric-quality,,,,,,,0,,,,,,,,"* +Test Name+: Verify crypto functions as expected - TLS enabled
 * +Component+:  Bootstrapping
 * +Description+: The cryptogen tool generates crypto material for the bootstrapping of a in a TLS enabled Hyperledger Fabric network. We should ensure that the msp data is in the expected location and that the network starts as expected.
 * +Artifact Locations+:  fabric/test/features
 * +Network Topology+:  3 orderers, 3 zookeepers, 4 kafka brokers (both solo and kafka orderers) 2 organizations with 2 peers each
 * +Client Driver+:  behave
 * +Input+:  behave -n ""FAB-3858""
 * +Output+: 1 scenarios passed, 0 failed

 

 ",,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxuvb:",,,,,,Sprint 19 - Quality,,,,,,,,,,,,,,,,,,,,,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"18/Jul/17 5:58 AM;latitiah;https://gerrit.hyperledger.org/r/11713;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Invoke with up to 10M payloads using msgsizes configuration tweaks,FAB-3859,16636,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,latitiah,latitiah,latitiah,12/May/17 12:34 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,18/May/18 12:17 AM,,,,v1.1.0,,fabric-quality,,,,,,,0,ContinuousDelivery,SystemTestcase,,,,,,"* +Test Name+: Message Sizes with Configuration Tweaks
 * +Component+:  Orderer
 * +Description+: The Orderer and peers should be reconfigured to allow for large payload sizes.
 * +Artifact Locations+:  fabric/test/features
 * +Network Topology+:  1 orderer, 3 kafka brokers (both solo and kafka orderers)
 * +Client Driver+:  behave
 * +Input+:  behave -n ""Message Sizes with Configuration Tweaks""
 * +Output+: 6 scenarios passed, 0 failed 

Test scenarios with faults in the Kafka brokers, and the orderer shims.",,latitiah,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-5049,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-10081,,,,,,,,,,"1|hzxuvj:",,,,,,,,,,,,,,,,,,,,,,,,,,,latitiah,scottz,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,,true,"31/Oct/17 1:38 AM;latitiah;Change the following config items to different values:
* Orderer.AbsoluteMaxBytes (default: 10 MB)
* Orderer.PreferredMaxBytes (default: 512 KB)
* kafka.message.max.bytes (default: 1,000,012 B)
* kafka.replica.fetch.max.bytes (default: 1,048,576 B - not absolute)
* kafka.replica.fetch.response.max.bytes (default: 10,485,760 B);;;","21/Feb/18 12:26 AM;latitiah;https://gerrit.hyperledger.org/r/#/c/17977/;;;","17/May/18 5:06 AM;scottz;This was merged into daily test suite.

Reopening now, to add it to the ""to do"" list of system testcases.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Peer Tests,FAB-3860,16637,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,latitiah,latitiah,12/May/17 12:42 AM,21/Jul/18 3:55 AM,28/Oct/23 2:59 AM,10/Jul/18 3:23 AM,,,,v1.0.0,,fabric-quality,,,,,,,0,quality,,,,,,,"Per testplan [https://docs.google.com/spreadsheets/d/1_IdXCuYMKkqXr3Za0pVnFP3sP1jBcNbYnTJGV-nSkxI/edit#gid=442991954] 
using new end-user-friendly behave test APIs in the .../fabric/test/ folder,
write the Peer Functional Tests that can be written using Behave tooling.

These tests will include chaincode and channel interaction testing.

Create new jira issues for each test or test group.",,latitiah,nemoto,tsrb,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-1017,,,,,,,,,,"1|hzy8zz:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,latitiah,nemoto,tsrb,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"13/Jun/17 8:35 PM;nemoto;[~latitiah] Is anybody fixing these tasks? Or, does anybody have a plan to do? If no, can I assign me one of them?;;;","14/Jun/17 12:35 AM;latitiah;Hi [~nemoto], feel free to take on one of the tasks remaining. We are continuing to add tests and would welcome your help.

You can take a look at the [Readme|https://gerrit.hyperledger.org/r/gitweb?p=fabric.git;a=blob;f=test/feature/README.rst;h=d741ca3a022d755a33ef74e33986cfeca9762f2a;hb=HEAD] in order to get an idea on how to proceed and where these tests are located. ;;;","14/Jun/17 10:15 AM;nemoto;[~latitiah] Thanks. I took a look at README, *.feature and steps/*. It seems that some functions in endorser_impl.py (e.g., deploy_impl) are not implemented yet. I might as well implement these placeholder functions. If I understand incorrectly, please let me know.;;;","15/Jun/17 12:50 AM;latitiah;[~nemoto] Actually there are a number of CRs that have this work implemented (some were just merged). There is 1 more that is waiting to be merged and it should contain all the necessary steps needed in order to completed these tests. I am working on the orderer implementation steps next.;;;","15/Jun/17 5:09 PM;nemoto;[~latitiah] Great! Now, I understood the latest status.;;;","22/Jun/17 5:40 AM;latitiah;[~nemoto]: I wanted to let you know that we are still waiting for that CR to be merged: https://gerrit.hyperledger.org/r/#/c/8845/

Once it is merged, I believe that you will have everything that you need in order to write these tests. (Hoping it will be very very soon);;;","22/Jun/17 9:40 AM;nemoto;[~latitiah] Thanks. I'm watching the CR and writing patches based on it. So, I will submit them soon once it's merged.;;;","30/Jun/17 9:27 AM;nemoto;[~latitiah] I submitted CRs for FAB-3865 and FAB-3866. Any feedbacks would be greatly appreciated. Thanks.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add feature file for basic chaincode execution of example02,FAB-3861,16638,16637,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,latitiah,latitiah,latitiah,12/May/17 12:46 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,13/Jun/17 11:29 PM,,,,v1.0.0,,fabric-quality,,,,,,,0,,,,,,,,"* +Test Name+: Test example02 chaincode
 * +Component+:  peer/endorser
 * +Description+: The fabric network uses example02 chaincode as expected.
 * +Artifact Locations+:  fabric/test/feature/peer.feature
 * +Network Topology+:  3 orderers, 3 zookeepers, 4 kafka brokers (both solo and kafka orderers) 2 organizations with 2 peers each
 * +Client Driver+:  behave
 * +Input+:  behave -n ""-FAB-3861-""
 * +Output+: 1 scenarios passed, 0 failed

 ",,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3863,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxuvr:",,,,,,,,,,,,,,,,,,,,,,,,,,,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Placeholder for Basic chaincode execution of example02,FAB-3863,16640,16623,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,latitiah,latitiah,12/May/17 12:48 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,12/May/17 12:54 AM,,,,,,fabric-quality,,,,,,,0,,,,,,,,This will be a placeholder for the peer test that verifies the basic execution of example02 chaincode.,,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3861,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxuvz:",,,,,,Sprint 18 - Quality,,,,,,,,,,,,,,,,,,,,,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add feature test for a Peer with multiple channels,FAB-3865,16642,16637,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,nemoto,latitiah,latitiah,12/May/17 12:51 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,10/Jul/18 3:23 AM,,,,v1.0.0,,fabric-quality,,,,,,,0,,,,,,,," 
 * +Component+:  peer
 * +Description+: A peer should be able to handle multiple channels using the chaincode and using different chaincodes.
 * +Artifact Locations+:  test/feature/peer.feature
 * +Network Topology+:  both types of orderers (solo, kafka), 2 Orgs, 2 peers per org (4 peers total)
 * +Client Driver+: behave",,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-902,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxuwf:",,,,,,,,,,,,,,,,,,,,,,,,,,,latitiah,,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add feature Tests for a Peer using multiple chaincodes,FAB-3866,16643,16637,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,nemoto,latitiah,latitiah,12/May/17 12:53 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,10/Jul/18 3:23 AM,,,,v1.0.0,,fabric-quality,,,,,,,0,quality,,,,,,," 
 * +Component+:  peer
 * +Description+: A peer should be able to handle multiple chaincodes. We should test having a single peer with at least 5 different chaincodes and channels. Grow this number as appropriate.
 * +Artifact Locations+:  test/feature/peer.feature
 * +Network Topology+:  both types of orderers (solo, kafka), 2 Orgs, 2 peers per org (4 peers total)
 * +Client Driver+: behave",,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-902,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxuwn:",,,,,,,,,,,,,,,,,,,,,,,,,,,latitiah,,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
CI code scanning for security vulnerabilities,FAB-3869,16649,,Story,Closed,FAB,Fabric,software,denyeart,,,High,Done,jtclark,im2bz2pee,im2bz2pee,12/May/17 2:36 AM,21/Jul/18 3:55 AM,28/Oct/23 2:59 AM,24/Jan/18 8:41 PM,v1.0.0-alpha1,,,v1.0.0,,fabric-build,,,,,,,3,build-system,security,,,,,,"In support of the [Hyperledger Security Bug Proposal|https://docs.google.com/document/d/1gne57E4XEAxETZh_pmyVVWyI7FgXkmD72U3HfG193D8/edit[]|https://docs.google.com/document/d/1gne57E4XEAxETZh_pmyVVWyI7FgXkmD72U3HfG193D8/edit], this task would implement the following as a non-critical path feature to the Fabric project's CI:

1) Establish a VM resource to build a security scanning instance [Anteater|https://github.com/lukehinds/anteater] to scan the existing code and new checkins for various security vulnerabilities.

2) If a vulnerability is identified, notify the owner(s) in a manner that will allow the matter to be resolved and to minimize any unnecessary panic. 

 

[Jonathan: adding [~dhuseby]]",,ashutosh_kumar,ChristopherFerris,im2bz2pee,jasondotstar,JonathanLevi,jtclark,rameshthoomu,troyronda,,,,,,,,,,,,,432000,432000,,0%,432000,432000,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-3040,,,,,,,,,,"1|hzxuxb:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,ashutosh_kumar,ChristopherFerris,im2bz2pee,jasondotstar,JonathanLevi,jtclark,rameshthoomu,troyronda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"12/May/17 4:17 AM;ChristopherFerris;tagging [~dhuseby] ;;;","12/May/17 4:18 AM;ChristopherFerris;Ash, thanks for kicking this off! Might I ask why the priority is low? I actually think that we want this in place sooner rather than later;-);;;","12/May/17 4:20 AM;ChristopherFerris;I also added this to the 1.0 epic for tracking... as I think it is important criteria for our release that we have this in place.;;;","12/May/17 11:58 PM;im2bz2pee;So, I am not familiar with our CI/CD, but I am ready to get going on this. If you'd like, I can quickly pull together a demo and pull down and scan all of the existing projects so that you can see the output. We can then discuss 1) desired changes, 2) workflow that meets our process, and 3) integration with CI and new code check-ins. 

 

Once we get to item 3, we can always design in the logic to make this a gating function if we'd like. I don't recommend it in the beginning. ;;;","15/May/17 6:07 AM;ChristopherFerris;[~im2bz2pee] please work with [~rameshthoomu] and [~jasondotstar] on the CI pipeline changes. It might be good to get an initial pass of fabric for starters; then we can work on a workflow and actual integration.

[~JonathanLevi], [~ashku] and [~mastersingh24] likely interested as well. 

 

Thanks!;;;","15/May/17 11:39 PM;ashutosh_kumar;[~im2bz2pee] : Could you please setup some time with me ? I would love to see the demo. Thanks.

 

Looking at Anteater , I found it does not support GoLang and Node js. [~im2bz2pee] , could you please verify ? Thanks.

 ;;;","16/May/17 4:54 AM;jasondotstar;Hi [~im2bz2pee], 

I'd like to see a demo as well.  If you don't mind, I'd like to set up a time for us to see the demo, and perhaps we can also talk about the CI pipeline changes during this same session.

cc [~rameshthoomu], [~ashutosh_kumar];;;","16/May/17 8:13 AM;ChristopherFerris;[https://github.com/GoASTScanner/gas]

here's a pass of hyperledger/fabric

https://gist.github.com/christo4ferris/49dc94fdc91c0984734ce80ce6af7de3;;;","22/May/17 11:28 PM;im2bz2pee;[~ashutosh_kumar], you're right. It does not support Go. I would have to look into incorporating that into Anteater or how to use a different tool. I will look into that. 

As for arranging a demo, I will try to set something up for this week. Is there a preference for a day and/or time? [~jasondotstar]. 

Also, [~ChristopherFerris], I will work with them on the pipeline. Sorry, I've been traveling a lot over the past week and simply forgot to check Jira. 

 

Ash;;;","22/May/17 11:33 PM;ashutosh_kumar;[~im2bz2pee] , [~ChristopherFerris] has found a tool named GAS(Golang Static Scanner) tool that performs the scan. I have run scan on Fabric as well as Fabric CA using the tool. [~jasondotstar] is also , working on integrating with CI pipeline. You can work with [~jasondotstar] on this.;;;","30/May/17 11:01 PM;ChristopherFerris;[~ashkumar] have you posted the JIRAs with the findings from the GO AST tool?;;;","30/May/17 11:06 PM;ashutosh_kumar;Not yet. Will do it today.;;;","30/May/17 11:51 PM;jasondotstar;[~ashutosh_kumar] will update us on his findings from the Go AST tool.

I ([~jasondotstar]) will be working on creating the new Jenkins job that will run the scan, generate the report, and store the output by defining a location where the report will be stored.;;;","30/May/17 11:54 PM;im2bz2pee;That covers Go, but what about the other languages? Right now; Anteater is using Bandit for Python, Rats for C, Ruby, PHP, or Perl; and PMD for Java. I can add Go AST to it. ;;;","31/May/17 1:05 AM;jasondotstar;I'm thinking that we should add some specificity to this issue-   Can we state that this issue specifically addresses the security vulnerability scanning for Fabric, then create new issues to address the SDKs, and the other projects that require scanning?

[~im2bz2pee], [~ashutosh_kumar], [~JonathanLevi], thoughts on this?;;;","31/May/17 5:42 AM;ashutosh_kumar;[~ChristopherFerris] , Fabric GoLang issues have been captured in https://jira.hyperledger.org/browse/FAB-4242;;;","31/May/17 10:13 AM;im2bz2pee;[~jasondotstar] I don't have a problem with that. My take is we can start here, then quickly progress to the other CII projects, and then go from there. ;;;","02/Jun/17 9:09 AM;ashutosh_kumar;[~im2bz2pee] : PMD module being used in Anteater for java scan is code quality analysis tool , not Security Analysis tool ,so that is not going to work for our purposes. I have started evaluating another product/tool that will fill the bill. Let me know if you disagree.

 

[~ChristopherFerris] , please chime in.;;;","05/Jun/17 9:35 PM;im2bz2pee;[~ashutosh_kumar] It depends on the rules being used, I suppose. We're currently using it unmodified in OPNFV, but there are additional rules out on Github (e.g., [https://github.com/GDSSecurity/GDS-PMD-Security-Rules).] Hope this answers the question. Just so you know, I'm not tied to any particular tool. ;;;","16/Jun/17 5:37 AM;jasondotstar;Please review [https://gerrit.hyperledger.org/r/#/c/10651/]  - this patch as the GoAST scan as a daily job to Jenkins.;;;","14/Jul/17 12:06 AM;rameshthoomu;patch was submitted and merged. Here is the result of it [https://jenkins.hyperledger.org/view/Daily/job/fabric-goast-daily-x86_64/83/] and below is the JIRA item for the failures [https://jenkins.hyperledger.org/view/release/job/fabric-release-tests-x86_64/test_results_analyzer/]

Working on below [~ashutosh_kumar] comments

1) Ignore vendor and behave test folders from the scan list

2) Execute this from Makefile

working on comments..

 

 ;;;","24/Jan/18 8:41 PM;jtclark;Spoke with [~rameshthoomu] on this. The work to update the Jenkins job is captured in FAB-7011. This JIRA task can be CLOSED.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Ledger component perf. test: CouchDB, varying number of parallel transactions per chain",FAB-3870,16652,,Task,Closed,FAB,Fabric,software,denyeart,,,High,Done,AdnanChoudhury,AdnanChoudhury,AdnanChoudhury,12/May/17 2:54 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,22/Sep/17 6:07 AM,,,,v1.0.0,,fabric-quality,,,,,,,0,quality,,,,,,,"For general details, please see the linked story.

+Test Name:+  FAB-3870_Ledger_Performance_CouchDB_VaryNumParallelTxPerChain
 * +Description+: In this test, we observe the the performance (operations per second) of the Ledger component, with CouchDB as the state database, as we vary the number of parallel transactions per chain.
 * +Output+: (WIP) This performance test succeeds if it produces the operations-per-second number for the given scenarios. We plan to add performance tracking and comparison between runs.  ",,AdnanChoudhury,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3749,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3770,,,,,,,,,,"1|hzxuxr:",,,,,,Sprint 19 - Quality,,,,,,,,,,,,,,,,,,,,,AdnanChoudhury,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"25/May/17 11:34 PM;AdnanChoudhury;https://gerrit.hyperledger.org/r/#/c/9761/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Ledger component perf. test: CouchDB, varying number of chains",FAB-3871,16653,,Task,Closed,FAB,Fabric,software,denyeart,,,High,Done,AdnanChoudhury,AdnanChoudhury,AdnanChoudhury,12/May/17 2:58 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,22/Sep/17 4:03 AM,,,,v1.0.0,,fabric-quality,,,,,,,0,quality,,,,,,,"For general details, please see the linked story.

+Test Name+:  FAB-3871_Ledger_Performance_CouchDB_VaryNumChain
 * +Description+: In this Performance test, we observe the the performance (operations per second) of the Ledger component, with CouchDB as the state database, as we vary the number of chains (ledgers).
 * +Output+: (WIP) This performance test succeeds if it produces the operations-per-second number for the given scenarios. We plan to add performance tracking and comparison between runs.  ",,AdnanChoudhury,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3749,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3770,,,,,,,,,,"1|hzxuxz:",,,,,,,,,,,,,,,,,,,,,,,,,,,AdnanChoudhury,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"22/Sep/17 4:03 AM;AdnanChoudhury;marking as done, contributed in the fabric-test repo ([https://github.com/hyperledger/fabric-test/blob/master/regression/daily/ledger_lte.py)] and being run by CI;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Ledger component perf. test: CouchDB, varying number of parallel transactions in a single chain",FAB-3872,16654,,Task,Closed,FAB,Fabric,software,denyeart,,,High,Done,AdnanChoudhury,AdnanChoudhury,AdnanChoudhury,12/May/17 3:02 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,22/Sep/17 4:04 AM,,,,,,fabric-quality,,,,,,,0,quality,,,,,,,"For general details, please see the linked story.

+Test Name+:  FAB-3872_Ledger_Performance_CouchDB_VaryNumParallelTxWithSingleChain
 * +Description+: In this test, we observe the the performance (operations per second) of the Ledger component, with CouchDB as the state database, as we vary the number of parallel transactions on a single chain.
 * +Output+: (WIP) This performance test succeeds if it produces the operations-per-second number for the given scenarios. We plan to add performance tracking and comparison between runs.  ",,AdnanChoudhury,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3749,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3770,,,,,,,,,,"1|hzxuy7:",,,,,,,,,,,,,,,,,,,,,,,,,,,AdnanChoudhury,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"22/Sep/17 4:04 AM;AdnanChoudhury;marking as done, contributed in the fabric-test repo ([https://github.com/hyperledger/fabric-test/blob/master/regression/daily/ledger_lte.py)] and being run by CI;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Ledger component perf. test: CouchDB, varying number of chains without parallel transactions in inside each chain",FAB-3873,16656,,Task,Closed,FAB,Fabric,software,denyeart,,,High,Done,AdnanChoudhury,AdnanChoudhury,AdnanChoudhury,12/May/17 3:04 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,22/Sep/17 4:04 AM,,,,,,fabric-quality,,,,,,,0,quality,,,,,,,"For general details, please see the linked story.

+Test Name:+  FAB-3873_Ledger_Performance_CouchDB_VaryNumChainWithNoParallelissm
 * +Description+: In this test, we observe the the performance (operations per second) of the Ledger component, with CouchDB as the state database, as we vary the number of chains without any parallelism within a single chain. 
 * +Output+: (WIP) This performance test succeeds if it produces the operations-per-second number for the given scenarios. We plan to add performance tracking and comparison between runs.  ",,AdnanChoudhury,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3749,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3770,,,,,,,,,,"1|hzxuyn:",,,,,,,,,,,,,,,,,,,,,,,,,,,AdnanChoudhury,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"22/Sep/17 4:04 AM;AdnanChoudhury;marking as done, contributed in the fabric-test repo ([https://github.com/hyperledger/fabric-test/blob/master/regression/daily/ledger_lte.py)] and being run by CI;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Ledger component perf. test: CouchDB, varying the key-value size",FAB-3874,16657,,Task,Closed,FAB,Fabric,software,denyeart,,,High,Done,AdnanChoudhury,AdnanChoudhury,AdnanChoudhury,12/May/17 3:08 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,22/Sep/17 4:05 AM,,,,,,,,,,,,,0,quality,,,,,,,"For general details, please see the linked story.

+Test Name:+  FAB-XXXX_Ledger_Performance_CouchDB_VaryKVSize
 * +Description+: In this test, we observe the the performance (operations per second) of the Ledger component, with CouchDB as the state database, varying the size of key-value.
 * +Output+: (WIP) This performance test succeeds if it produces the operations-per-second number for the given scenarios. We plan to add performance tracking and comparison between runs.  

 ",,AdnanChoudhury,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3749,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3770,,,,,,,,,,"1|hzxuyv:",,,,,,,,,,,,,,,,,,,,,,,,,,,AdnanChoudhury,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"22/Sep/17 4:04 AM;AdnanChoudhury;marking as done, contributed in the fabric-test repo ([https://github.com/hyperledger/fabric-test/blob/master/regression/daily/ledger_lte.py)] and being run by CI;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Ledger component perf. test: CouchDB, varying the value of Batchsize",FAB-3875,16658,,Task,Closed,FAB,Fabric,software,denyeart,,,High,Done,AdnanChoudhury,AdnanChoudhury,AdnanChoudhury,12/May/17 3:12 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,22/Sep/17 4:05 AM,,,,,,fabric-quality,,,,,,,0,quality,,,,,,,"For general details, please see the linked story.

+Test Name:+  FAB-3875_Ledger_Performance_CouchDB_VaryBatchSize
 * +Description+: In this test, we observe the the performance (operations per second) of the Ledger component, with CouchDB as the state database, as we vary the value of the batch size.
 * +Output+: (WIP) This performance test succeeds if it produces the operations-per-second number for the given scenarios. We plan to add performance tracking and comparison between runs.  ",,AdnanChoudhury,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3749,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3770,,,,,,,,,,"1|hzxuz3:",,,,,,,,,,,,,,,,,,,,,,,,,,,AdnanChoudhury,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"22/Sep/17 4:05 AM;AdnanChoudhury;marking as done, contributed in the fabric-test repo ([https://github.com/hyperledger/fabric-test/blob/master/regression/daily/ledger_lte.py)] and being run by CI;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Ledger component perf. test: CouchDB, varying number of keys in each transaction",FAB-3876,16659,,Task,Closed,FAB,Fabric,software,denyeart,,,High,Done,AdnanChoudhury,AdnanChoudhury,AdnanChoudhury,12/May/17 3:15 AM,08/Aug/18 4:39 AM,28/Oct/23 2:59 AM,22/Sep/17 4:12 AM,,,,,,fabric-quality,,,,,,,0,quality,,,,,,,"For general details, please see the linked story.

+Test Name:+  FAB-3876_Ledger_Performance_CouchDB_VaryNumKeysInEachTX
 * +Description+: In this test, we observe the the performance (operations per second) of the Ledger component, with CouchDB as the state database, as we vary the number of keys in each transaction.
 * +Output+: (WIP) This performance test succeeds if it produces the operations-per-second number for the given scenarios. We plan to add performance tracking and comparison between runs.  

Edit: As the test parameter ""keysPerTx"" was split into two parameters ""ReadsPerTx"" and ""WritesPerTx"", This test is being split into two parts 1) vary number of reads per Tx, 2) vary number of Writes per Tx.",,AdnanChoudhury,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3749,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3770,,,,,,,,,,"1|hzxuzb:",,,,,,,,,,,,,,,,,,,,,,,,,,,AdnanChoudhury,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"22/Sep/17 4:12 AM;AdnanChoudhury;marking as done, contributed in the fabric-test repo ([https://github.com/hyperledger/fabric-test/blob/master/regression/daily/ledger_lte.py)] and being run by CI;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Ledger component perf. test:CouchDB, varying number of transactions carried out",FAB-3877,16660,,Task,Closed,FAB,Fabric,software,denyeart,,,High,Done,AdnanChoudhury,AdnanChoudhury,AdnanChoudhury,12/May/17 3:19 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,22/Sep/17 6:09 AM,,,,,,fabric-quality,,,,,,,0,quality,,,,,,,"For general details, please see the linked story.

+Test Name:+  FAB-3877_Ledger_Performance_CouchDB_VaryNumTxs
 * +Description+: In this test, we observe the the performance (operations per second) of the Ledger component, with CouchDB as the state database, as we vary the number of transactions carried out. 
 * +Output+: (WIP) This performance test succeeds if it produces the operations-per-second number for the given scenarios. We plan to add performance tracking and comparison between runs.  ",,AdnanChoudhury,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3749,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3770,,,,,,,,,,"1|hzxuzj:",,,,,,,,,,,,,,,,,,,,,,,,,,,AdnanChoudhury,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"22/Sep/17 6:08 AM;AdnanChoudhury;https://github.com/hyperledger/fabric-test/blob/master/regression/daily/ledger_lte.py;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Placeholder for all Ledger performance tests,FAB-3878,16661,,Task,Closed,FAB,Fabric,software,denyeart,,,High,Done,AdnanChoudhury,AdnanChoudhury,AdnanChoudhury,12/May/17 3:45 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,03/Jun/17 4:13 AM,,,,v1.0.0,,fabric-quality,,,,,,,0,quality,,,,,,,"Create placeholder for the Ledger performance tests (that uses the tools in /test/tools/Ledgerbenchmarks) T

hese include placeholders for all tests in FAB-3749. 

These tests can be run via the Ci, and as they are placeholders, the tests will show as ""skipped"". The tests have their corresponding, separate, jiras to track their completion.",,AdnanChoudhury,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3749,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx2rj:",,,,,,Sprint 19 - Quality,,,,,,,,,,,,,,,,,,,,,AdnanChoudhury,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"03/Jun/17 4:16 AM;AdnanChoudhury;This was done via another JIRA 
https://gerrit.hyperledger.org/r/#/c/9761/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
rename system tests and descriptions per modified testplan,FAB-3880,16663,14535,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,scottz,scottz,scottz,12/May/17 5:12 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,19/May/17 4:39 AM,,,,,,fabric-quality,,,,,,,0,quality,,,,,,,"For each testcase, we removed subtasks and replaced them with actual jira tasks, which will be visible on the Quality Board. So we must rename the testcases to include the new FAB numbers.

2. Move some PTE tests from daily to weekly test suite.

3. Since some LevelDB testcases were removed from testplan, we can use this subtask to delete those testcase placeholders from these scripts.

4. To allow more test coverage on smaller test environments, we modified several testcases in the testplan by reducing the number of chaincodes and channels and peer nodes and such. As such, we need to modify the network description for several testcases.",,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxv07:",,,,,,Sprint 11 - Quality,Sprint 12 - Quality,Sprint 13 - Quality,Sprint 14 - Quality,Sprint 15 - Quality,Sprint 16 - Quality,Sprint 18 - Quality,,,,,,,,,,,,,,,scottz,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"add ""how to propose a feature/enhancement"" to CONTRIBUTING.rst",FAB-3882,16666,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ChristopherFerris,ChristopherFerris,ChristopherFerris,12/May/17 8:15 AM,21/Jul/18 3:56 AM,28/Oct/23 2:59 AM,17/May/17 1:23 PM,v1.0.0-alpha1,,,v1.0.0,,fabric-docs,,,,,,,0,,,,,,,,"add ""how to propose a feature/enhancement"" to CONTRIBUTING.rst",,ChristopherFerris,,,,,,,,,,,,,,,,,,,,3600,3600,,0%,3600,3600,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzxv0v:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
API to retrieve a range of blocks,FAB-3884,16669,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,kelvinzhong,kelvinzhong,12/May/17 11:29 AM,23/Jan/20 4:09 AM,28/Oct/23 2:59 AM,23/Jan/20 4:09 AM,,,,Future,,fabric-ledger,,,,,,,1,ledger,stale-item,,,,,,"As currently we only have chain.queryBlockByNumber(), but sometimes we might need to go through all the block sequentially to check all data (e.g. build a data warehouse from the data), and query only one block at a time is too inefficient for that.

The alternate approach within chaincode GetStateByRange() does not work well for scanning all keys, since you would have to continuously re-scan to find key changes.  It would be better to be able to get blocks by block range and process all changes from the block transaction write sets.  For example get blocks 1-100, then 101-200, etc.

Would prefer a peer API than a chaincode API, since the query is not a contract.  This would imply a peer API and a corresponding SDK API.",,akuma921,animeshk,jchenibm,kelvinzhong,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzx2fb:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,akuma921,animeshk,jchenibm,kelvinzhong,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"18/Jul/17 1:24 AM;akuma921;any update on this, is it still valid and needed ?

 ;;;","23/Jan/20 4:09 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Documentation contains inaccurate information and needs to be cleaned up,FAB-3887,16677,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,lehors,lehors,lehors,12/May/17 3:25 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,17/May/17 11:40 PM,,,,v1.0.0,,fabric-docs,,,,,,,0,Documentation,,,,,,,"For one thing, the doc currently contains the following:

[https://github.com/hyperledger/fabric/blob/master/docs/source/FAQ/usage_FAQ.rst] reads:
{noformat}
The current performance goal for the fabric is to achieve 100,000 transactions per second in a standard production environment of about 15 validating nodes running in close proximity. The team is committed to continuously improving the performance and the scalability of the system.{noformat}
This is used by external parties to set expectations that are quite frankly inappropriate.

 ",,lehors,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxv1j:",,,,,,,,,,,,,,,,,,,,,,,,,,,lehors,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
As a fabric developer I want cryptogen internal API to be able to generate intermediate CA certificates and revocation lists,FAB-3888,16679,,Story,Closed,FAB,Fabric,software,denyeart,,,Low,Won't Do,angelo.decaro,angelo.decaro,angelo.decaro,12/May/17 4:36 PM,23/Jan/20 4:09 AM,28/Oct/23 2:59 AM,23/Jan/20 4:09 AM,v1.0.0-alpha2,,,Future,,fabric-crypto,,,,,,,5,stale-item,,,,,,,"Currently, the cryptogen's APIs are not able to generate intermediate CA certificates and revocation lists. These two features are useful in general, and in particular to generate MSP configurations to test bad paths.

I have already submitted a change-set at https://gerrit.hyperledger.org/r/#/c/9275/. It modifies the CA struct to add additional methods to cover the needs described above.
",,angelo.decaro,binhn,C0rWin,ChristopherFerris,denyeart,elli-androulaki,JonathanLevi,mffrench,sykesm,troyronda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzx3iv:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,angelo.decaro,binhn,C0rWin,ChristopherFerris,denyeart,elli-androulaki,JonathanLevi,mffrench,sykesm,troyronda,,,,,,,,,,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,main,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,mergify/bp/release-2.2/pr-3750,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,mergify/bp/release-2.2/pr-4374,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,true,"15/May/17 10:53 PM;JonathanLevi;[~angelo.decaro] Please can you provide more information about this ticket? e.g., the impact of not having this, Fix Version/s, Affects Version/s? And how do/did you plan to implement this... and at this point - the CR in Gerrit ?;;;","16/May/17 12:09 AM;angelo.decaro;[~JonathanLevi], thanks. I updated the JIRA item. Does it read better?;;;","29/May/17 4:31 PM;C0rWin;There is a CR already available in gerrit: https://gerrit.hyperledger.org/r/#/c/9275/1, while not sure about it since no one voted on this item, since labeled ""*review-needed*"".;;;","29/May/17 10:05 PM;jimthematrix;it's low priority improvement, but low risk and aligns the cryptogen tool capability to the fabric APIs. so I think it should be added. however the CR did not look complete to me (comment added in gerrit);;;","30/May/17 5:13 PM;angelo.decaro;Hi [~jimthematrix], thanks for the comments. I have replied on the CR. 

We can definitely modify cryptogen to use the new API offering them via the CLI. I can open another JIRA item on this. Wdyt? [~elli-androulaki], [~mastersingh24], [~binhn];;;","02/Jun/17 9:27 AM;elli-androulaki;[~angelo.decaro] either way works for me!;;;","04/Jun/17 9:31 PM;denyeart;Since we are in feature freeze, let me ask this - What is the impact to consumers of Fabric if this is deferred to 1.1?  Can you expand on the Description with more detailed business/technical impact to consumers?;;;","06/Jun/17 1:04 AM;binhn;[~denyeart] This is additional code on a tool – cryptogen, which is used in our tests. It is not a runtime feature of Fabric. This cr enables to generate intermediate ca and crl in our tests to help coverage. ;;;","06/Jun/17 1:28 AM;angelo.decaro;I'm totally fine to postpone this to post v1. I have written that code to be able to generate crypto material for testing MSP under specific conditions. I thought then that it could be useful also to others. That's it :)

I can withdraw the change-set, if needed.;;;","06/Jun/17 1:29 AM;angelo.decaro;just moved it to v1.1.;;;","06/Jun/17 1:29 AM;JonathanLevi;Thank you [~angelo.decaro];;;","20/Jun/17 5:57 AM;binhn;Doc and test require this enhancement to help with scenarios otherwise one would have to hand-craft things up;;;","20/Jun/17 6:08 AM;JonathanLevi;Friends and colleagues, it may be easier if you let [~ChristopherFerris] and I, to manage what gets into 1.0 and what's deferred to 1.1.

While of course we are working these out after a consensus, it is just that we would like to be on top of any committed deadline (from our end), and of course, inform others when such deadlines/milestones are affected, needed to move around.

(In this case, I am referring to moving this item forward (back to v1.0) from it being part of the upcoming version)

 

Amiably: please do not ""misinterpret"" the above in any negative way. I am not being passive aggressive/indirect here ;), on the contrary; just directly offering to help with the overhead / ""leg work"" associated with the evaluation/decisions/timelines.;;;","20/Jun/17 7:25 AM;ChristopherFerris;changed the release and removed from review-needed;;;","23/Jan/20 4:09 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Increase test coverage for common/config,FAB-3890,16681,,Task,Closed,FAB,Fabric,software,denyeart,,,High,Done,mastersingh24,mastersingh24,mastersingh24,12/May/17 7:00 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,18/May/17 6:01 PM,,,,,,fabric-orderer,fabric-peer,,,,,,0,,,,,,,,,,mastersingh24,,,,,,,,,,,,,,,,,,";12/May/17 10:56 PM;mastersingh24;7200",";14/May/17 12:08 AM;mastersingh24;10800",18000,0,18000,100%,18000,0,18000,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxv27:",,,,,,,,,,,,,,,1.0,,,,,,,,,,,,mastersingh24,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"14/May/17 12:10 AM;mastersingh24;https://gerrit.hyperledger.org/r/#/c/9343/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
cut v1.0.0-alpha2 release ,FAB-3891,16682,,Task,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,ghaskins,ChristopherFerris,ChristopherFerris,12/May/17 8:26 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,17/May/17 9:15 PM,v1.0.0-alpha1,,,v1.0.0-alpha2,,fabric-build,,,,,,,0,release,,,,,,,"prepare for the alpha2 release process. -This will involve creating the ""release"" branch as per the process proposal proposed by Dave at the Hackfest.- 

-Suggest that we leave master as master and actually create a ""develop"" branch after we tag the v1.0.0-alpha2 release on the master branch, and that we then shift the target of all CRs to the ""develop"" branch from that point forward. Master will only merge FF merges from a temporary release branch created from ""develop"" which will run through the gauntlet of tests before being merged to ""master"" and cutting a release.-

-Note that this will also require that all in-flight CRs be resubmitted against the ""develop"" branch.-

just tag and publish release without changing branch structure for now.",,ChristopherFerris,JonathanLevi,troyronda,yacovm,,,,,,,,,,,,,,,,,28800,28800,,0%,28800,28800,,,,,,,,,,,,,,,,,,,,,,,,,,,FABG-485,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3040,,,,,,,,,,"1|hzxv2f:",,,,,,,,,,,,,,,1.0,,,,,,,,,,,,ChristopherFerris,JonathanLevi,troyronda,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"12/May/17 9:15 PM;yacovm;what about CI support? Is it ready?;;;","12/May/17 11:43 PM;ChristopherFerris;Ok, per discussion starting here [https://chat.hyperledger.org/channel/fabric-release?msg=TFMNYRZmECKeghMgz] deferring the branch calving to another day. Just tag and publish release from tag.;;;","12/May/17 11:47 PM;JonathanLevi;In a line, we did not want to defer the release (tag), while we are working out the branching model for 1.0 and the next ones.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Enhance cc2cc with securtiy (pre-endorsement) checks,FAB-3892,16683,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,ales,elli-androulaki,elli-androulaki,12/May/17 10:23 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,06/Jun/17 9:46 PM,,,,v1.0.0,,fabric-crypto,,,,,,,2,,,,,,,,"This is a follow-up for FAB-3156. 

FAB-3156 deals with security checks performed prior to a chaincode's execution be simulated to ensure that the instance of the chaincode on the chain matches the installed on the peer chaincode. 

This check needs to be extended to cover cases where a chaincode is invoked via another chaincode.",,binhn,ChristopherFerris,elli-androulaki,troyronda,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx2g7:",,,,,,,,,,,,,,,,,,,,,,,,,,,binhn,ChristopherFerris,elli-androulaki,troyronda,yacovm,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"26/May/17 3:11 PM;ChristopherFerris;[~elli-androulaki] This seems more like an enhancement than a bug fix. Can it be deferred? How invasive is the change? Before we start this, we should weigh the merits of this change.;;;","26/May/17 8:50 PM;elli-androulaki;Hi [~ChristopherFerris],

So it was classified by us indeed as a bug, but a security bug to be more precise.

The reason for this check is to always ensure that the instantiation policy of an instantiated chaincode on the chain is respected. This check is already done when a chaincode is invoked directly by a proposal, and needs to be extended for the chaincode to chaincode case. In this sense the change is not that invasive.

We believe this bug needs to be addressed, otherwise an attacker could bypass the instantiation policy of a chaincode. 

If you still think we should classify it as an improvement I could change the issue's type. ;;;","26/May/17 11:36 PM;yacovm;I concur with Elli.
As the previous item (3156) this may look like an enhancement but is actually a fix of a design flaw that leads to a security vulnerability. ;;;","27/May/17 3:01 AM;binhn;+1;;;","02/Jun/17 8:41 AM;elli-androulaki;Related CR:

https://gerrit.hyperledger.org/r/#/c/10021/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Document identity validity conditions implemented by FAB-3677 ,FAB-3893,16684,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,elli-androulaki,elli-androulaki,elli-androulaki,12/May/17 10:27 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,07/Jun/17 5:11 AM,,,,v1.0.0,,fabric-crypto,,,,,,,0,documentation,,,,,,,"MSPs may be configured with a set of root CAs, and optionally a set of intermediate CAs. Each root CA defines a tree of certificate hierarchies. What we need to ensure that validateIdentity function of the MSP accepts if and only if the identity is no sibling to an intermediate CA in any of the MSP certificate trees.

Examples (assuming an identity ID, root CAs prefixed with ""rCA"", and intermediate CAs prefixed with iCA):
 * Identity *ID* should be considered *valid*:

rCA or rCA1 rCA2
/ \ / \ | 
iCA1 iCA2 iCA11 iCA12 *ID*
 
*ID*
 * Identity ID should be considered *invalid*:

rCA or rCA1 rCA2
/ | \ / \ | \ 
iCA1 *ID* iCA2 iCA11 iCA12 *ID* iCA21",,ChristopherFerris,elli-androulaki,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3677,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx2hb:",,,,,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,elli-androulaki,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"29/May/17 10:37 PM;elli-androulaki;Related CR:

[https://gerrit.hyperledger.org/r/#/c/9897/]

 ;;;","30/May/17 3:09 AM;ChristopherFerris;This does not meet the criteria needed to be labeled 'review-needed';;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
orderer for e2e example does not start: no consortiumsConfig,FAB-3894,16685,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,smanolache,smanolache,12/May/17 10:34 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,19/May/17 9:52 PM,v1.0.0-alpha2,,,,,fabric-orderer,,,,,,,0,configuration,,,,,,,"Git commit id: a39904a310294b7cbd220157178d3c5e1c143e52

I've followed the instructions at [https://hyperledger-fabric.readthedocs.io/en/latest/getting_started.html]

But I use the binaries and dockers that resulted from building from the sources. I don't use the downloaded tools.

The orderer stops almost immediately because it does not succeed to build the system channel. The orderer logs are attached. The orderer.block generated by configtxgen is attached too, as well as its json representation and the docker-compose yaml and orderer.yaml.

I've checked the sources. The error ""No system chain found"" occurs because multiLedger.systemChannelID is empty in NewManagerImpl in orderer/multichain/manager.go. This, in turn, occurs if the execution flow never enters the if-branch of the ledgerResources.ConsortiumsConfig() condition inside the for loop in NewManagerImpl.

From what I could trace, ledgerResources.ConsortiumsConfig() is non-nil only if ChannelConfig.Validate initialises it.

I suppose the cause of the error is that the configtx.yaml of e2e contains no consortia section.

 

 ",,kchristidis,smanolache,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"12/May/17 9:54 PM;smanolache;docker-compose-no-tls.yaml;https://jira.hyperledger.org/secure/attachment/10818/docker-compose-no-tls.yaml","12/May/17 9:49 PM;smanolache;orderer.block;https://jira.hyperledger.org/secure/attachment/10820/orderer.block","12/May/17 10:31 PM;smanolache;orderer.block.json;https://jira.hyperledger.org/secure/attachment/10817/orderer.block.json","12/May/17 9:48 PM;smanolache;orderer.log;https://jira.hyperledger.org/secure/attachment/10821/orderer.log","12/May/17 9:53 PM;smanolache;orderer.yaml;https://jira.hyperledger.org/secure/attachment/10819/orderer.yaml",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxv2n:",,,,,,,,,,,,,,,,,,,,,,,,,,,kchristidis,smanolache,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"19/May/17 9:14 PM;kchristidis;Can you upload the `configtx.yaml` file and the path you're getting it from?

 

 ;;;","19/May/17 9:32 PM;kchristidis;If you tried to work with the `configtx.yaml` included in the tarball referenced in the instructions last week, that would fail. The tarball referred to alpha-1, which doesn't have the concept of consortiums.

The master (from which you built your images) does have the concept of consortiums, and examples/e2e_cli/configtx.yaml was updated accordingly all along.

So it's not clear from your description, but my best guess is that you used updated binaries and an outdated configtx.yaml.

Note that since we updated the getting started guide to alpha-2 earlier this week, the tarball that is now referenced in the guide includes a configtx.yaml that does have consortiums so you should be good to go.

If the issue persists, please update with more details.

Otherwise, let's close.;;;","19/May/17 9:43 PM;smanolache;Let's close. It's not examples/e2e_cli but dchackfest/samples/e2e. I've been told on the mailing list that this example is not maintained.;;;","19/May/17 9:52 PM;kchristidis;Right, that makes sense. Sorry for the confusion.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Improve unit test coverage for fabric/events package,FAB-3899,16700,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wlahti,wlahti,wlahti,13/May/17 1:28 AM,21/Jul/18 3:54 AM,28/Oct/23 2:59 AM,24/May/17 12:22 AM,,,,,,fabric-peer,,,,,,,0,,,,,,,,Current unit test coverage is very low for the events package. This item will be used to add test cases to more thoroughly test the package. ,,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-4046,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzxv5b:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,wlahti,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
update node sdk script to accept npm alpha2 release,FAB-3900,16701,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,rameshthoomu,rameshthoomu,13/May/17 1:41 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,13/May/17 6:17 AM,,,,v1.0.0,,fabric-build,,,,,,,0,quality,,,,,,,"update CI script in fabric-node-sdk merge job to accept npm alpha2 release.. Existing script accepts only ""alpha"" but now this has to update to accept alpha2.

 

 ",,rameshthoomu,,,,,,,,,,,,,,,,,,,,60,60,,0%,60,60,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxv5j:",,,,,,,,,,,,,,,,,,,,,,,,,,,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"13/May/17 6:17 AM;rameshthoomu;updated patch and merged;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Improve code coverage for hyperledger/fabric/orderer/ledger/ram,FAB-3901,16703,16261,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sanchezl,sanchezl,sanchezl,13/May/17 2:59 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,23/May/17 2:57 AM,,,,,,fabric-orderer,,,,,,,0,,,,,,,,,,sanchezl,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"18/May/17 2:52 AM;sanchezl;c-orderer-ram.html;https://jira.hyperledger.org/secure/attachment/10827/c-orderer-ram.html",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxv5r:",,,,,,,,,,,,,,,,,,,,,,,,,,,sanchezl,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Improve test coverage for fabric/core package,FAB-3904,16707,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,wlahti,wlahti,13/May/17 5:57 AM,21/Jul/18 3:53 AM,28/Oct/23 2:59 AM,18/May/17 8:22 AM,,,,,,fabric-peer,,,,,,,0,,,,,,,,,,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzxv67:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,wlahti,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
The documentation source files have errors,FAB-3906,16713,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,lehors,lehors,lehors,13/May/17 3:57 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,07/Jun/17 5:51 AM,,,,v1.0.0,,fabric-docs,,,,,,,0,Documentation,,,,,,,"Building the documentation reveals many warnings but more importantly several errors that impact the generated html.
{noformat}
$ cd docs
$ make html >make.log 2>&1
$ grep ERROR make.log
/home/lehors/Documents/Projects/Go/src/github.com/hyperledger/fabric/docs/source/Setup/ca-setup.rst:740: ERROR: Malformed table.
/home/lehors/Documents/Projects/Go/src/github.com/hyperledger/fabric/docs/source/abstract_v1.rst:79: ERROR: Undefined substitution referenced: ""HYPERLEDGERv1.0_ANIMATION"".
/home/lehors/Documents/Projects/Go/src/github.com/hyperledger/fabric/docs/source/getting_started.rst:749: ERROR: Document may not end with a transition.
/home/lehors/Documents/Projects/Go/src/github.com/hyperledger/fabric/docs/source/msp.rst:72: ERROR: Unexpected indentation.
/home/lehors/Documents/Projects/Go/src/github.com/hyperledger/fabric/docs/source/msp.rst:95: ERROR: Unexpected indentation.
/home/lehors/Documents/Projects/Go/src/github.com/hyperledger/fabric/docs/source/msp.rst:273: ERROR: Unexpected indentation.{noformat}
 ",,Clayton Sims,lehors,markparz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxv7j:",,,,,,,,,,,,,,,,,,,,,,,,,,,Clayton Sims,lehors,markparz,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"02/Jun/17 9:46 PM;markparz;Hi [~lehors] what's the gerrit number on this, maybe we can push this to close.;;;","02/Jun/17 10:03 PM;lehors;That would be nice!

[https://gerrit.hyperledger.org/r/#/c/9469/];;;","05/Jun/17 10:43 PM;markparz;[~ChristopherFerris] [~binhn] [~Clayton Sims] could we get this merged? If it's deemed not import enough (which I'd disagree with) then we should push to v.next.;;;","06/Jun/17 5:07 AM;Clayton Sims;I added fabric-pr-review channel.    In the future you can use this channel for review requests.

 ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Improve test coverage for protos/common,FAB-3907,16714,,Story,Closed,FAB,Fabric,software,denyeart,,,High,Done,mastersingh24,mastersingh24,mastersingh24,14/May/17 12:28 AM,21/Jul/18 3:56 AM,28/Oct/23 2:59 AM,18/May/17 6:01 PM,v1.0.0,v1.0.0-alpha1,,v1.0.0,,fabric-orderer,fabric-peer,,,,,,0,,,,,,,,,,mastersingh24,,,,,,,,,,,,,,,,,,";14/May/17 6:43 AM;mastersingh24;21600",,28800,7200,21600,75%,28800,7200,21600,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzxv7r:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,mastersingh24,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"14/May/17 6:44 AM;mastersingh24;https://gerrit.hyperledger.org/r/#/c/9345/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
behave tests are failing intermittently,FAB-3908,16715,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,jeffgarratt,rameshthoomu,rameshthoomu,14/May/17 12:51 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,22/May/17 9:58 PM,,,,v1.0.0,,fabric-quality,,,,,,,0,build-system,quality,,,,,,"observed behave tests are failing intermittently on latest fabric commits. Observed below error logs in few merge builds
*00:19:19.071*       _Rendezvous: <_Rendezvous of RPC that terminated with (StatusCode.UNKNOWN, chaincode instantiation policy violated(Failed to authenticate policy))
*00:19:27.337* Failing scenarios:*00:19:27.337*   features/bootstrap.feature:304  Bootstrap a development network with 4 peers (2 orgs)  and 1 orderer (1 org), each having a single independent root of trust (No fabric-ca, just openssl) -- @1.1 Orderer Options
Another build failure with below error:
*00:20:00.390*       _Rendezvous: <_Rendezvous of RPC that terminated with (StatusCode.UNKNOWN, failed to obtain cds for example02 - could not find chaincode with name 'example02')>
 ",Jenkins x86_64,jeffgarratt,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxv7z:",,,,,,,,,,,,,,,,,,,,,,,,,,,jeffgarratt,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"14/May/17 1:30 AM;jeffgarratt;The second issue may be addressed by [https://gerrit.hyperledger.org/r/#/c/9337/.]

 

The first issue above I have not see before.  Please update if you see it again and we can gather the logs.;;;","14/May/17 6:35 AM;jeffgarratt;The first issue seems to be because you are not running the latest behave feature.  The latest uses a mspAdmin to instantiate, not dev0Org0.;;;","16/May/17 6:28 AM;rameshthoomu;Observed behave tests are working as expected on latest fabric-commit. Below is the build reference: [https://jenkins.hyperledger.org/view/fabric/job/fabric-merge-behave-x86_64/807/consoleFull.] Will monitor this bug and close.;;;","17/May/17 11:12 PM;jeffgarratt;[~rameshthoomu] awesome!!! Thanks so much Ramesh!!;;;","22/May/17 9:58 PM;rameshthoomu;Didn't see behave test failure from past 3-4 days in Jenkins x86_64.. Closing this issue. Will create new issue if issue repeats..;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Makefile errors,FAB-3910,16717,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ChristopherFerris,ChristopherFerris,ChristopherFerris,14/May/17 2:09 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,10/Jun/17 4:12 AM,v1.0.0-alpha1,,,DUPLICATE,,fabric-build,,,,,,,0,build-system,,,,,,,There are some defects in the root Makefile for certain of the behave-related targets due to some refactoring and changes in the dependencies needed for running the behave tests.,MacOSX Sierra,ChristopherFerris,,,,,,,,,,,,,,,,,,,,7200,7200,,0%,7200,7200,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxv87:",,,,,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Improve test coverage for protos/utils,FAB-3915,16722,,Story,Closed,FAB,Fabric,software,denyeart,,,High,Done,mastersingh24,mastersingh24,mastersingh24,14/May/17 6:49 AM,21/Jul/18 3:57 AM,28/Oct/23 2:59 AM,18/May/17 5:43 AM,v1.0.0,v1.0.0-alpha1,,v1.0.0,,fabric-orderer,fabric-peer,,,,,,0,,,,,,,,LOC coverage is under 50%,,mastersingh24,,,,,,,,,,,,,,,,,,";17/May/17 4:30 AM;mastersingh24;36000",,28800,0,36000,125%,28800,0,36000,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzxv9j:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,mastersingh24,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"17/May/17 4:30 AM;mastersingh24;https://gerrit.hyperledger.org/r/#/c/9421/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Consider total messages size in gossip comm buffer,FAB-3916,16723,,Story,To Do,FAB,Fabric,software,denyeart,,,Medium,,,yacovm,yacovm,14/May/17 3:39 PM,10/May/19 8:37 PM,28/Oct/23 2:59 AM,,,,,,,fabric-gossip,,,,,,,0,,,,,,,,"Currently in gossip we have ingress and egress buffers per peer connection.
If the egress buffer is full and a send of a message is invoked, the message is discarded.

This heuristic is too course, and needs to consider also the total size of messages in the buffer, since the rate in which the buffer is emptied is correlated with the size of messages in the buffer

[~C0rWin] [~gennadyl]",,MHBauer,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-290,,,,,,,,,,"1|hzxv9r:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,MHBauer,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"10/May/19 9:01 AM;MHBauer;Why is there a buffer in the conn code at all? Does the underlying transport not handle queuing?

Is there only one send per connection or could we have multiple threads from a pool sending on the same connection?;;;","10/May/19 8:37 PM;yacovm;You don't want to use the transport as a queue because if the queue is full you would be blocked, so you'll essentially block the application thread, and you don't want to block one of your threads because a remote peer is too slow or the connection to it is too crappy. ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
make behave-deps fails,FAB-3917,16724,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ChristopherFerris,ChristopherFerris,ChristopherFerris,15/May/17 8:28 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,19/May/17 9:42 PM,v1.0.0-alpha2,,,v1.0.0,,fabric-orderer,,,,,,,0,build-system,,,,,,,"ERROR: .IOError: [Errno 2] No such file or directory: u'./bddtests/environments/orderer/docker-compose.yml'

make: *** [bddtests/environments/orderer] Error 1

 -----

Basically, bddtests/environments/orderer no longer exists and there are new directories:

$ ls bddtests/environments/

kafka orderer-1-kafka-1 orderer-1-kafka-3

 

It isn't at all clear that this build target works as expected even if we were to correctly identify the compose yaml.",MacOSX Sierra,ChristopherFerris,,,,,,,,,,,,,,,,,,,,7200,7200,,0%,7200,7200,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxv9z:",,,,,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"16/May/17 9:43 AM;ChristopherFerris;https://gerrit.hyperledger.org/r/#/c/9381/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add gossip metrics,FAB-3921,16728,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,C0rWin,yacovm,yacovm,15/May/17 5:17 PM,19/Nov/18 6:18 PM,28/Oct/23 2:59 AM,19/Nov/18 6:18 PM,,,,Future,,fabric-gossip,,,,,,,0,,,,,,,,"We need a way to export metrics of gossip (amount of messages in memory, amount of messages discarded due to comm buffer overflows, blocks that are disseminated, etc.)",,C0rWin,ChristopherFerris,grapebaba,TiantianGao,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12727,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-290,,,,,,,,,,"1|hzxvb3:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,C0rWin,ChristopherFerris,grapebaba,TiantianGao,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"01/Jun/17 11:25 PM;ChristopherFerris;assume this is for post 1.0, if so, please mark fixVersion as ""Future"" thanks;;;","23/Jun/17 3:29 PM;grapebaba;[~yacovm]I am interested in this task. Would you like point the LOC I can instrument these metrics collection?;;;","23/Jun/17 4:14 PM;yacovm;what do you mean?;;;","23/Jun/17 5:16 PM;grapebaba;I mean since it need collect amount of messages in memory, amount of messages discarded due to comm buffer overflows, blocks that are disseminated, I want to know which files I can find useful information.;;;","23/Jun/17 5:22 PM;yacovm;So actually we have already started working on it, if we would need assistance I will let you know ;);;;","23/Jun/17 5:24 PM;grapebaba;:POK.;;;","19/Nov/18 6:18 PM;C0rWin;This ticket will be handled as part of the effort for FAB-12727.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Improve core/scc unit test code coverage,FAB-3922,16729,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,15/May/17 5:25 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,18/May/17 9:07 PM,v1.0.0,,,v1.0.0,,fabric-peer,,,,,,,0,,,,,,,,We need to improve the code coverage of  *core/scc* package as it has no tests at all,,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxvbb:",,,,,,,,,,,,,,,,,,,,,,,,,,,yacovm,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
CSCC remove unused code,FAB-3923,16731,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,C0rWin,C0rWin,C0rWin,15/May/17 7:52 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,24/May/17 5:24 AM,,,,v1.0.0,,fabric-peer,,,,,,,0,,,,,,,,"There is a peace of unused code in {{cscc}} package:

 

{code}
func getChannelFromConfigBlock(blockBytes []byte) (string, error) {
	if blockBytes == nil {
		return """", errors.New(""Configuration block must not be nil."")
	}
	block, err := utils.GetBlockFromBlockBytes(blockBytes)
	if err != nil {
		return """", fmt.Errorf(""Failed to reconstruct the configuration block, %s"", err)
	}
	chainID, err := utils.GetChainIDFromBlock(block)
	if err != nil {
		return """", fmt.Errorf(""Failed to get the chain ID from the configuration block, %s"", err)
	}
	return chainID, nil
}
{code}

which is need to be removed, moreover inside {{configure_test.go}}, there is a duplicate code:

{code}
func getChainID(blockBytes []byte) (string, error) {
	block := &common.Block{}
	if err := proto.Unmarshal(blockBytes, block); err != nil {
		return """", err
	}
	envelope := &common.Envelope{}
	if err := proto.Unmarshal(block.Data.Data[0], envelope); err != nil {
		return """", err
	}
	payload := &common.Payload{}
	if err := proto.Unmarshal(envelope.Payload, payload); err != nil {
		return """", err
	}
	chdr, err := utils.UnmarshalChannelHeader(payload.Header.ChannelHeader)
	if err != nil {
		return """", err
	}
	fmt.Printf(""Channel id: %v\n"", chdr.ChannelId)
	return chdr.ChannelId, nil
}
{code}

instead we can simply use utility of 

{code}
utils.GetChainIDFromBlockBytes(blockBytes)
{code}",,C0rWin,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxvbr:",,,,,,Sprint 16  - Endorser,,,,,,,,,,,,,,,,,,,,,C0rWin,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Getting Started guide needs synchronization/updating to v1.0.0-alpha2,FAB-3925,16733,,Bug,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,nickgaski,ChristopherFerris,ChristopherFerris,15/May/17 8:45 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,22/May/17 11:17 AM,v1.0.0-alpha2,,,v1.0.0,,fabric-docs,,,,,,,0,Documentation,quality,,,,,,"[http://hyperledger-fabric.readthedocs.io/en/latest/getting_started.html]

 

We need to get this updated for alpha2 ASAP. 

images referenced need to be v1.0.0-alpha2, native binaries need to be v1.0.0-alpha2 built.",,ChristopherFerris,JonathanLevi,markparz,nickgaski,rameshthoomu,,,,,,,,,,,,,,,,28800,28800,,0%,28800,28800,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxvbz:",,,,,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,JonathanLevi,markparz,nickgaski,rameshthoomu,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"15/May/17 11:42 PM;markparz;Looks to be a dupe... Nick is working the update.;;;","16/May/17 3:15 AM;ChristopherFerris;[~markparz] a dupe of which JIRA? There are like 1,000 open;-) Please be specific and if it is indeed a duplicate, please update this accordingly to flag it as a duplicate, identify the duplicate issue and close this.;;;","16/May/17 3:56 AM;markparz;I was hung over or something... I saw the release note one and thought is was a dupe... ignore;;;","17/May/17 10:47 PM;rameshthoomu;submitted patch in ci-management repository to publish fabric binaries to nexus repository..[https://gerrit.hyperledger.org/r/#/c/8939/] Need +2's on this.. Once this patch is merged will trigger fabric-binaries job from production CI and share the link to [~nickgaski].;;;","18/May/17 6:07 PM;rameshthoomu;We tried multiple options to publish fabric-binaries to nexus snapshots/releases/staging url's but not much help.. With the recent changes (adding permissions) to staging-deploy plugin we are unable to publish tar files with the existing configuration and never succeeded after that.

We are still trying to make it work with below options 1) with pom.xml 2) without pom.xml.. As a workaround we can look into the below option.

will ask users to download platform specific tar file from the below link (Not final url, this is a test url from sandbox)  [https://nexus.hyperledger.org/content/repositories/logs/sandbox/fabric-binary/    |https://nexus.hyperledger.org/content/repositories/logs/sandbox/fabric-binary/]or we can provide `curl` commands to download tar files. 

Once the patch is merged ([https://gerrit.hyperledger.org/r/#/c/8939/)] the production link looks like this [https://nexus.hyperledger.org/content/repositories/logs/jobbuilder/fabric-binary/..|https://nexus.hyperledger.org/content/repositories/logs/sandbox/fabric-binary/]

Once we cut alpha2 binaries will not touch this job and make sure binaries are available all the time. Have to check with [~ryjones] on this.;;;","19/May/17 6:47 AM;rameshthoomu;We have successfully published fabric-binaries to nexus releases URL and tested on linux-amd64 and darwin-amd64. [https://nexus.hyperledger.org/content/repositories/releases/org/hyperledger/fabric/fabric-binary|https://nexus.hyperledger.org/content/repositories/releases/org/hyperledger/fabric/fabric-binary/].. posted updated bootstrap script here... [ ](https://chat.hyperledger.org/channel/ci-pipeline?msg=XhhXjAETKa4qwFw3a) @rameshthoomu.. Let me know if any changes required.

 ;;;","19/May/17 11:44 AM;nickgaski;hey I think we need some solid confirmation that the manual commands truly work on linux (it definitely does on mac).  We know the script does on linux...  [~rameshthoomu] [~Ratnakar] - would you guys mind running through the manual steps tomorrow - Friday 5/19.  ;;;","19/May/17 11:56 PM;ChristopherFerris;[~nickgaski] @odowdaibm this last comment about whether the manual steps work is EXACTLY why I want to have an annotated script (network_setup.sh is fine) that we just TALK ABOUT in the prose, rather than telling people what the manual steps/commands are. No one is ever going to run the process manually.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add UT to CSCC to validate incorrect input,FAB-3926,16734,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,C0rWin,C0rWin,C0rWin,15/May/17 8:53 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,24/May/17 5:25 AM,,,,v1.0.0,,fabric-peer,,,,,,,0,,,,,,,,"Currently there is a place in the CSCC, e.g. {{configure.go}} code which validates correctness of input while not being tested with unit-test, hence not covered.

For example:


{code}
	if len(args) < 1 {
		return shim.Error(fmt.Sprintf(""Incorrect number of arguments, %d"", len(args)))
	}
{code}

and 

{code}
		if err = e.policyChecker.CheckPolicyNoChannel(mgmt.Members, sp); err != nil {
			return shim.Error(fmt.Sprintf(""\""GetChannels\"" request failed authorization check: [%s]"", err))
		}
{code}

Additionally there is places with duplicate code such as:

{code}
// joinChain will join the specified chain in the configuration block.
// Since it is the first block, it is the genesis block containing configuration
// for this chain, so we want to update the Chain object with this info
func joinChain(blockBytes []byte) pb.Response {
	if blockBytes == nil {
		return shim.Error(""Genesis block must not be nil."")
	}

	block, err := utils.GetBlockFromBlockBytes(blockBytes)
	if err != nil {
		return shim.Error(fmt.Sprintf(""Failed to reconstruct the genesis block, %s"", err))
	}

	if err = peer.CreateChainFromBlock(block); err != nil {
		return shim.Error(err.Error())
	}

	chainID, err := utils.GetChainIDFromBlock(block)
	if err != nil {
		return shim.Error(fmt.Sprintf(""Failed to get the chain ID from the configuration block, %s"", err))
	}

	peer.InitChain(chainID)

	if err := producer.SendProducerBlockEvent(block); err != nil {
		cnflogger.Errorf(""Error sending block event %s"", err)
	}

	return shim.Success(nil)
}
{code}

and 

{code}
func updateConfigBlock(blockBytes []byte) pb.Response {
	if blockBytes == nil {
		return shim.Error(""Configuration block must not be nil."")
	}
	block, err := utils.GetBlockFromBlockBytes(blockBytes)
	if err != nil {
		return shim.Error(fmt.Sprintf(""Failed to reconstruct the configuration block, %s"", err))
	}
	chainID, err := utils.GetChainIDFromBlock(block)
	if err != nil {
		return shim.Error(fmt.Sprintf(""Failed to get the chain ID from the configuration block, %s"", err))
	}

	if err := peer.SetCurrConfigBlock(block, chainID); err != nil {

		return shim.Error(err.Error())
	}

	return shim.Success(nil)
}
{code}

where code which is repeated and could be extracted into separate function is

{code}
	if blockBytes == nil {
		return shim.Error(""Configuration block must not be nil."")
	}
	block, err := utils.GetBlockFromBlockBytes(blockBytes)
{code}",,C0rWin,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxvc7:",,,,,,Sprint 16  - Endorser,,,,,,,,,,,,,,,,,,,,,C0rWin,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Add tests for invoke, query and instantiate chaincode commands",FAB-3927,16735,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,aambati,aambati,aambati,15/May/17 8:54 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,31/May/17 12:41 AM,,,,,,fabric-peer,,,,,,,0,,,,,,,,"Add test cases for invoke, query and instantiate commands",,aambati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-4048,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxvcf:",,,,,,,,,,,,,,,,,,,,,,,,,,,aambati,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"23/May/17 7:41 AM;aambati;https://gerrit.hyperledger.org/r/#/c/9285/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
release notes need to be updated for alpha2,FAB-3928,16736,,Bug,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,ChristopherFerris,ChristopherFerris,ChristopherFerris,15/May/17 8:56 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,16/May/17 9:00 AM,v1.0.0-alpha2,,,v1.0.0-alpha2,,fabric-docs,,,,,,,0,Documentation,,,,,,,,,ChristopherFerris,nickgaski,,,,,,,,,,,,,,,,,,,3600,3600,,0%,3600,3600,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxvcn:",,,,,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,nickgaski,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"15/May/17 9:54 PM;ChristopherFerris;https://gerrit.hyperledger.org/r/#/c/9367/;;;","18/May/17 6:40 AM;nickgaski;thanks Chris; release notes section looks nice. ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Improve code coverage for hyperledger/fabric/orderer/multichain,FAB-3931,16740,16261,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sanchezl,sanchezl,sanchezl,16/May/17 12:44 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,15/Jun/17 12:49 AM,,,,,,fabric-orderer,,,,,,,0,,,,,,,,,,guoger,sanchezl,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"18/May/17 2:53 AM;sanchezl;c-orderer-multichain.html;https://jira.hyperledger.org/secure/attachment/10828/c-orderer-multichain.html",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxvdb:",,,,,,,,,,,,,,,,,,,,,,,,,,,guoger,sanchezl,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"13/Jun/17 5:30 PM;guoger;Added another test case here: http://gerrit.hyperledger.org/r/10431;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"standardize test naming, and provide weekly test scripts",FAB-3932,16741,14535,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,scottz,scottz,scottz,16/May/17 1:03 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,19/May/17 4:40 AM,,,,,,fabric-quality,,,,,,,0,,,,,,,,"Rename some PTE files and testnames to meet the standardized naming conventions, for a better user experience when viewing test results on CI reports page for all the tests in the daily and weekly test suite. Refer to description of FAB-3770 for more details on the naming scheme.

Add some scripts to facilitate running the weekly test suite in groups in parallel.",,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxvdj:",,,,,,Sprint 11 - Quality,Sprint 12 - Quality,Sprint 13 - Quality,Sprint 14 - Quality,Sprint 15 - Quality,Sprint 16 - Quality,Sprint 18 - Quality,,,,,,,,,,,,,,,scottz,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
chaincode test e2e auction - daily,FAB-3934,16743,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sandp125,sandp125,sandp125,16/May/17 3:25 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,13/Oct/17 6:43 AM,v1.0.0-alpha2,,,v1.0.0,,fabric-quality,,,,,,,0,quality,,,,,,,"This story consists of adding test cases for Auction App in the Daily Test Suite. This story is created for testing complex transactions implemented as part of the Auction App.  All the transactions are sent sequentially and the payloads of the invoke transactions range from ~40 bytes to ~200 bytes.
 * Test Name: FAB-3934 chaincode test e2e auction - daily
 * Description:Launch network, use  Auction API Driver to send invokes/queries for 1 hr on 2 channels, remove network and cleanup.
 * Network Topology: 1 Ord, 2 Org, 4 Peers, 2 Chan, 1 CC.
 * Client Driver: testAuctionChainCode.py, api_driver.sh.
 * Following transactions are performed on Auction App
 ** Post Users
 ** Get Users
 ** Download Images (Images are downloaded into the Chaincode container. Payload size is ~40 bytes)
 ** Get Items
 ** Post Auction
 ** Open Auction For Bids
 ** Submit Bids
 ** Transfer Item",,sandp125,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3507,FAB-4175,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3770,,,,,,,,,,"1|hzxvdr:",,,,,,,,,,,,,,,,,,,,,,,,,,,sandp125,scottz,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"14/Jun/17 8:42 AM;scottz;https://gerrit.hyperledger.org/r/#/c/9949/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Messages are broadcasted successfully,FAB-3937,16746,16112,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,latitiah,latitiah,latitiah,16/May/17 4:38 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,27/Oct/17 5:45 AM,,,,,,fabric-quality,,,,,,,0,quality,,,,,,,"* +Test Name+: Message Broadcast
 * +Component+:  Orderer
 * +Description+: The Orderer should be able to successfully broadcast a message.
 * +Artifact Locations+:  fabric/test/features
 * +Network Topology+:  1 orderer, 1 kafka broker
 * +Client Driver+:  behave
 * +Input+:  behave -n ""Message Broadcast""
 * +Output+: 2 steps passed, 0 failed 

 ",,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxve7:",,,,,,,,,,,,,,,,,,,,,,,,,,,latitiah,,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,,true,"27/Oct/17 5:45 AM;latitiah;Covered in test FAB-4808;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Broadcasted message delivered,FAB-3938,16747,16112,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,latitiah,latitiah,latitiah,16/May/17 4:40 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,27/Oct/17 5:46 AM,,,,,,fabric-quality,,,,,,,0,quality,,,,,,,"* +Test Name+: Broadcasted message delivered
 * +Component+:  Orderer
 * +Description+: The messages that were broadcasted to the Orderer should be delivered.
 * +Artifact Locations+:  fabric/test/features
 * +Network Topology+:  1 orderer, 1 kafka broker
 * +Client Driver+:  behave
 * +Input+:  behave -n ""Broadcasted message delivered""
 * +Output+: 2 steps passed, 0 failed 

 ",,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxvef:",,,,,,,,,,,,,,,,,,,,,,,,,,,latitiah,,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,,true,"27/Oct/17 5:46 AM;latitiah;Covered in test case FAB-4808;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
No easy way to tell if peer node is healthy ,FAB-3939,16748,,Story,Closed,FAB,Fabric,software,denyeart,,,Highest,Duplicate,,ptippett,ptippett,16/May/17 5:07 AM,19/Nov/18 2:23 PM,28/Oct/23 2:59 AM,19/Nov/18 2:23 PM,v1.0.0,v1.0.0-alpha2,,v1.4.0,,fabric-gossip,,,,,,,2,HSBN,peer,Release-planning-1.2,Serviceability,,,,"In order to support hyperledger in a production environment, especially when hosting many networks for other users, we need a way to easily tell if a peer is healthy.  Simply checking if the process is running isn't enough, and looking at the logs is great for debugging a single network, but doesn't scale when trying to support many networks in a production environment.

A simple, low impact, CLI or grpc call that verified that returned status indicating whether or not a peer was healthy, or a simple check we could do on a network we were hosting for other users (so didn't require us to submit transactions) would suffice.","Murali and I talked about this and one option was to query some system chaincode that lists channels.  If that call returns and better yet, if it returns a list of channels, that might be good enough.

 

Murali.  Can you provide details in this issue?  If that works, we can likely lower the severity of this.  Thanks!",baohua,ChristopherFerris,denyeart,ishihara.shun,mplisov,muralisr,ptippett,smartheye,TiantianGao,varadatibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12358,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-10851,,,,,,,,,,"1|hzxven:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,baohua,ChristopherFerris,denyeart,ishihara.shun,mplisov,muralisr,ptippett,smartheye,TiantianGao,varadatibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"16/May/17 9:03 PM;muralisr;[~ptippett] The query I was thinking was 

{code:java}
peer chaincode query -n cscc -c '{""Args"":[""GetChannels""]}'
{code}

or the equivalent from SDK. Once the peer is up this will get all the channels the peer is attached to and would have to be issued by a MSP.member of the peer. This will cut through a large part of endorser side code in addition getting you the information on channels that are on the peer.;;;","26/May/17 10:16 PM;muralisr;[~ptippett] did you get a chance to think about it/try it out ? ;;;","31/May/17 1:46 AM;ChristopherFerris;This isn't a bug, it is working as designed. The design was lacking, to be sure but this is not a bug IMNSHO. It is a requested improvement. I am sorely tempted to change this to an Improvement. [~ptippett] please help me understand why this should be treated as highest priority defect when it will necessarily involve API changes, and likely changes to core code, at this late date.;;;","31/May/17 1:56 AM;ChristopherFerris;Spoke with Gari and he agrees this isn't a bug but an improvement request. Reclassifying.;;;","11/Aug/17 2:37 AM;Clayton Sims;This is HSBN serviceability.   Binh suggested perhaps Gennady can help with this for v1.1;;;","23/Mar/18 2:07 PM;denyeart;Many issues were bulk moved from v1.0 or v1.1 to v1.2 as part of a cleanup effort, and many of these issues are not high priority or actually intended to be worked for v1.2.  This issue is being bulk moved to Future.  If the issue is indeed high priority for v1.2 and/or very low effort, please move back to v1.2 and add a comment to indicate rationale.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
peer channel create CI failure,FAB-3941,16750,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,16/May/17 5:55 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,23/May/17 4:52 AM,v1.0.0-alpha2,,,,,fabric-peer,,,,,,,0,build-system,,,,,,,"This test was introduced lately (12/5) https://gerrit.hyperledger.org/r/#/c/8059/18/peer/channel/create_test.go
The purpose of the change set was to fix a problem with peer cli when kafka orderer is used as kafka doesn't create the channel ""fast enough"".
These 2 tests that were added both spawn an ordering service mock and my guess is that even though they have a `defer shutdown` for the instance, some stuff weren't cleaned up fast enough.

20:14:49 unit-tests_1  | Received error: EOF
20:14:49 unit-tests_1  | Received error: EOF
20:14:49 unit-tests_1  | Received error: EOF
20:14:49 unit-tests_1  | Received error: EOF
20:14:49 unit-tests_1  | Received error: EOF
20:14:49 unit-tests_1  | Received error: EOF
20:14:49 unit-tests_1  | Received error: EOF
20:14:49 unit-tests_1  | Received error: EOF
20:14:49 unit-tests_1  | Received error: EOF
20:14:49 unit-tests_1  | Received error: EOF
20:14:49 unit-tests_1  | Received error: EOF
20:14:49 unit-tests_1  | Received error: EOF
20:14:49 unit-tests_1  | Received error: EOF
20:14:49 unit-tests_1  | Received error: EOF
20:14:49 unit-tests_1  | 2017/05/15 20:14:49 proto: textWriter unindented too far
20:14:49 unit-tests_1  | Received block:  header:<6:7 0:""\x00"" } 0:4 0:/* unexpected EOF */ >
20:14:49 unit-tests_1  | --- FAIL: TestCreateChainWithTimeoutErr (0.00s)
20:14:49 unit-tests_1  | panic: listen tcp 127.0.0.1:7050: bind: address already in use [recovered]
20:14:49 unit-tests_1  | 	panic: listen tcp 127.0.0.1:7050: bind: address already in use
20:14:49 unit-tests_1  | 
20:14:49 unit-tests_1  | goroutine 167 [running]:
20:14:49 unit-tests_1  | panic(0x95a0c0, 0xc4203993b0)
20:14:49 unit-tests_1  | 	/opt/go/src/runtime/panic.go:500 +0x1a1
20:14:49 unit-tests_1  | testing.tRunner.func1(0xc420097200)
20:14:49 unit-tests_1  | 	/opt/go/src/testing/testing.go:579 +0x25d
20:14:49 unit-tests_1  | panic(0x95a0c0, 0xc4203993b0)
20:14:49 unit-tests_1  | 	/opt/go/src/runtime/panic.go:458 +0x243
20:14:49 unit-tests_1  | github.com/hyperledger/fabric/peer/channel.newOrderer(0x1b8a, 0xc420097200, 0x0)
20:14:49 unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/peer/channel/create_test.go:53 +0x388
20:14:49 unit-tests_1  | github.com/hyperledger/fabric/peer/channel.TestCreateChainWithTimeoutErr(0xc420097200)
20:14:49 unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/peer/channel/create_test.go:258 +0x19f
20:14:49 unit-tests_1  | testing.tRunner(0xc420097200, 0xa3cf48)
20:14:49 unit-tests_1  | 	/opt/go/src/testing/testing.go:610 +0x81
20:14:49 unit-tests_1  | created by testing.(*T).Run
20:14:49 unit-tests_1  | 	/opt/go/src/testing/testing.go:646 +0x2ec
20:14:49 unit-tests_1  | FAIL	github.com/hyperledger/fabric/peer/channel	3.168s
20:14:49 unit-tests_1  | error: exit status 1
20:14:49 unit-tests_1  | panic: EOF
20:14:49 unit-tests_1  | 
20:14:49 unit-tests_1  | goroutine 1 [running]:
20:14:49 unit-tests_1  | panic(0x4daca0, 0xc42006c020)
20:14:49 unit-tests_1  | 	/opt/go/src/runtime/panic.go:500 +0x1a1",,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxvfb:",,,,,,Sprint 16 - Gossip,,,,,,,,,,,,,,,,,,,,,yacovm,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"16/May/17 7:03 PM;yacovm;https://gerrit.hyperledger.org/r/#/c/9397/;;;","18/May/17 11:48 PM;yacovm;OK that didn't fix it... I uploaded a fix that just makes them use different port numbers https://gerrit.hyperledger.org/r/#/c/9527/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Comment for GetStateByPartialCompositeKey in interfaces.go is wrong,FAB-3942,16751,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,vdods,vdods,16/May/17 8:15 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,05/Jun/17 8:01 PM,v1.0.0-alpha2,,,v1.0.0,,fabric-ledger,,,,,,,0,,,,,,,,"This bug can be easily resolved by deleting the offending part of the comment for GetStateByPartialCompositeKey in interfaces.go.

 

The comment for GetStateByPartialCompositeKey states

""This function should be used only for a partial composite key. For a full composite key, an iter with empty response would be returned.""

But that is (fortunately) not the case.  Adding the following test to mockstub_test.go proves that the behavior is correct and reasonable.  In particular, a full composite key is still a kind of partial composite key (having all keys specified), and uniquely addresses a single element in the ledger state.
{code:java}
func TestGetStateByPartialCompositeKeyFull(t *testing.T) {
stub := NewMockStub(""GetStateByPartialCompositeKeyFullTest"", nil)
stub.MockTransactionStart(""init"")

marble1 := &Marble{""marble"", ""set-1"", ""red"", 5, ""tom""}
// Convert marble1 to JSON with Color and Name as composite key
compositeKey1, _ := stub.CreateCompositeKey(marble1.ObjectType, []string{marble1.Name, marble1.Color})
marbleJSONBytes1, _ := json.Marshal(marble1)
// Add marble1 JSON to state
stub.PutState(compositeKey1, marbleJSONBytes1)

marble2 := &Marble{""marble"", ""set-1"", ""blue"", 5, ""jerry""}
compositeKey2, _ := stub.CreateCompositeKey(marble2.ObjectType, []string{marble2.Name, marble2.Color})
marbleJSONBytes2, _ := json.Marshal(marble2)
stub.PutState(compositeKey2, marbleJSONBytes2)

marble3 := &Marble{""marble"", ""set-2"", ""red"", 5, ""tom-jerry""}
compositeKey3, _ := stub.CreateCompositeKey(marble3.ObjectType, []string{marble3.Name, marble3.Color})
marbleJSONBytes3, _ := json.Marshal(marble3)
stub.PutState(compositeKey3, marbleJSONBytes3)

stub.MockTransactionEnd(""init"")
// should return in sorted order of attributes
expectKeys := []string{compositeKey2}
expectKeysAttributes := [][]string{{""set-1"", ""blue""}}
expectValues := [][]byte{marbleJSONBytes2}

rqi, _ := stub.GetStateByPartialCompositeKey(""marble"", []string{""set-1"", ""blue""})
fmt.Println(""Running loop"")
for i := 0; i < 1; i++ {
key, value, err := rqi.Next()
fmt.Println(""Loop"", i, ""got"", key, value, err)
if expectKeys[i] != key {
fmt.Println(""Expected key"", expectKeys[i], ""got"", key)
t.FailNow()
}
objectType, attributes, _ := stub.SplitCompositeKey(key)
if objectType != ""marble"" {
fmt.Println(""Expected objectType"", ""marble"", ""got"", objectType)
t.FailNow()
}
fmt.Println(attributes)
for index, attr := range attributes {
if expectKeysAttributes[i][index] != attr {
fmt.Println(""Expected keys attribute"", expectKeysAttributes[index][i], ""got"", attr)
t.FailNow()
}
}
if jsonBytesEqual(expectValues[i], value) != true {
fmt.Println(""Expected value"", expectValues[i], ""got"", value)
t.FailNow()
}
}
}

{code}
(apologies for messed up indentation).

 

Additionally, empty partial composite keys also work as expected.  Here's a test:
{code:java}
func TestGetStateByPartialCompositeKeyEmpty(t *testing.T) {
stub := NewMockStub(""GetStateByPartialCompositeKeyEmptyTest"", nil)
stub.MockTransactionStart(""init"")

marble1 := &Marble{""marble"", ""set-1"", ""red"", 5, ""tom""}
// Convert marble1 to JSON with Color and Name as composite key
compositeKey1, _ := stub.CreateCompositeKey(marble1.ObjectType, []string{marble1.Name, marble1.Color})
marbleJSONBytes1, _ := json.Marshal(marble1)
// Add marble1 JSON to state
stub.PutState(compositeKey1, marbleJSONBytes1)

marble2 := &Marble{""marble"", ""set-1"", ""blue"", 5, ""jerry""}
compositeKey2, _ := stub.CreateCompositeKey(marble2.ObjectType, []string{marble2.Name, marble2.Color})
marbleJSONBytes2, _ := json.Marshal(marble2)
stub.PutState(compositeKey2, marbleJSONBytes2)

marble3 := &Marble{""marble"", ""set-2"", ""red"", 5, ""tom-jerry""}
compositeKey3, _ := stub.CreateCompositeKey(marble3.ObjectType, []string{marble3.Name, marble3.Color})
marbleJSONBytes3, _ := json.Marshal(marble3)
stub.PutState(compositeKey3, marbleJSONBytes3)

stub.MockTransactionEnd(""init"")
// should return in sorted order of attributes
expectKeys := []string{compositeKey2, compositeKey1, compositeKey3}
expectKeysAttributes := [][]string{{""set-1"", ""blue""}, {""set-1"", ""red""}, {""set-2"", ""red""}}
expectValues := [][]byte{marbleJSONBytes2, marbleJSONBytes1, marbleJSONBytes3}

rqi, _ := stub.GetStateByPartialCompositeKey(""marble"", []string{})
fmt.Println(""Running loop"")
for i := 0; i < 3; i++ {
key, value, err := rqi.Next()
fmt.Println(""Loop"", i, ""got"", key, value, err)
if expectKeys[i] != key {
fmt.Println(""Expected key"", expectKeys[i], ""got"", key)
t.FailNow()
}
objectType, attributes, _ := stub.SplitCompositeKey(key)
if objectType != ""marble"" {
fmt.Println(""Expected objectType"", ""marble"", ""got"", objectType)
t.FailNow()
}
fmt.Println(attributes)
for index, attr := range attributes {
if expectKeysAttributes[i][index] != attr {
fmt.Println(""Expected keys attribute"", expectKeysAttributes[index][i], ""got"", attr)
t.FailNow()
}
}
if jsonBytesEqual(expectValues[i], value) != true {
fmt.Println(""Expected value"", expectValues[i], ""got"", value)
t.FailNow()
}
}
}


{code}",,ChristopherFerris,denyeart,vdods,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx4pj:",,,,,,Sprint 16  - Ledger,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,denyeart,vdods,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"16/May/17 9:11 PM;ChristopherFerris;[~vdods] thanks for raising this. If you have additional tests and a fix you'd like to submit, they would be most welcomed. [~denyeart] please have a look. Thanks;;;","05/Jun/17 7:48 PM;denyeart;[~Senthil1] I think the comment in question originated from your GetStateByPartialCompositeKey work. Could you comment on the intent of the comment, and whether it can safely be removed?;;;","05/Jun/17 8:01 PM;denyeart;Senthil confirmed that the comment was a temporary limitation which has been resolved.  I will make the update in the broader interfaces.go updates that are coming in FAB-2045.  I'll close this work item as a duplicate of FAB-2045 enhancements.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
intermittent failures of peer/channel/create_test.go,FAB-3946,16761,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ChristopherFerris,ChristopherFerris,ChristopherFerris,16/May/17 8:04 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,24/May/17 12:24 AM,v1.0.0-alpha2,,,DUPLICATE,,fabric-peer,,,,,,,0,build-system,,,,,,,"*02:59:05* unit-tests_1  | 2017-05-16 02:59:02.166 UTC [msp] getMspConfig -> INFO 001 intermediate certs folder not found at [/opt/gopath/src/github.com/hyperledger/fabric/sampleconfig/msp/intermediatecerts]. Skipping.: [stat /opt/gopath/src/github.com/hyperledger/fabric/sampleconfig/msp/intermediatecerts: no such file or directory]*02:59:05* unit-tests_1  | 2017-05-16 02:59:02.167 UTC [msp] getMspConfig -> INFO 002 crls folder not found at [/opt/gopath/src/github.com/hyperledger/fabric/sampleconfig/msp/intermediatecerts]. Skipping.: [stat /opt/gopath/src/github.com/hyperledger/fabric/sampleconfig/msp/crls: no such file or directory]*02:59:05* unit-tests_1  | Received error: EOF*02:59:05* unit-tests_1  | Received error: EOF*02:59:05* unit-tests_1  | Error receiving: EOF*02:59:05* unit-tests_1  | Received error: EOF*02:59:05* unit-tests_1  | Received error: EOF*02:59:05* unit-tests_1  | Received error: EOF*02:59:05* unit-tests_1  | Received error: EOF*02:59:05* unit-tests_1  | Received error: EOF*02:59:05* unit-tests_1  | Received error: EOF*02:59:05* unit-tests_1  | Received error: EOF*02:59:05* unit-tests_1  | Received error: EOF*02:59:05* unit-tests_1  | Received error: EOF*02:59:05* unit-tests_1  | Received error: EOF*02:59:05* unit-tests_1  | Received error: EOF*02:59:05* unit-tests_1  | Received error: EOF*02:59:05* unit-tests_1  | 2017/05/16 02:59:05 proto: textWriter unindented too far*02:59:05* unit-tests_1  | Received block:  header:<6:7 0:""\x00"" } 0:4 0:/* unexpected EOF */ >*02:59:05* unit-tests_1  | --- FAIL: TestCreateChainWithTimeoutErr (0.00s)*02:59:05* unit-tests_1  | panic: listen tcp 127.0.0.1:7050: bind: address already in use [recovered]*02:59:05* unit-tests_1  | 	panic: listen tcp 127.0.0.1:7050: bind: address already in use*02:59:05* unit-tests_1  | *02:59:05* unit-tests_1  | goroutine 157 [running]:*02:59:05* unit-tests_1  | panic(0x95a0c0, 0xc4202f34f0)*02:59:05* unit-tests_1  | 	/opt/go/src/runtime/panic.go:500 +0x1a1*02:59:05* unit-tests_1  | testing.tRunner.func1(0xc4203a0d80)*02:59:05* unit-tests_1  | 	/opt/go/src/testing/testing.go:579 +0x25d*02:59:05* unit-tests_1  | panic(0x95a0c0, 0xc4202f34f0)*02:59:05* unit-tests_1  | 	/opt/go/src/runtime/panic.go:458 +0x243*02:59:05* unit-tests_1  | github.com/hyperledger/fabric/peer/channel.newOrderer(0x1b8a, 0xc4203a0d80, 0x0)*02:59:05* unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/peer/channel/create_test.go:53 +0x388*02:59:05* unit-tests_1  | github.com/hyperledger/fabric/peer/channel.TestCreateChainWithTimeoutErr(0xc4203a0d80)*02:59:05* unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/peer/channel/create_test.go:258 +0x19f*02:59:05* unit-tests_1  | testing.tRunner(0xc4203a0d80, 0xa3cf48)*02:59:05* unit-tests_1  | 	/opt/go/src/testing/testing.go:610 +0x81*02:59:05* unit-tests_1  | created by testing.(*T).Run*02:59:05* unit-tests_1  | 	/opt/go/src/testing/testing.go:646 +0x2ec*02:59:05* unit-tests_1  | FAIL	github.com/hyperledger/fabric/peer/channel	3.621s*02:59:05* unit-tests_1  | error: exit status 1*02:59:05* unit-tests_1  | panic: EOF*02:59:05* unit-tests_1  | *02:59:05* unit-tests_1  | goroutine 1 [running]:*02:59:05* unit-tests_1  | panic(0x4daca0, 0xc42000a0f0)*02:59:05* unit-tests_1  | 	/opt/go/src/runtime/panic.go:500 +0x1a1*02:59:05* unit-tests_1  | main.main()*02:59:05* unit-tests_1  | 	/opt/gotools/obj/gopath/src/github.com/AlekSi/gocov-xml/gocov-xml.go:60 +0x15fd*02:59:06* unittest_unit-tests_1 exited with code 2*02:59:06* Stopping couchdb ...",CI,AdnanChoudhury,ChristopherFerris,Clayton Sims,,,,,,,,,,,,,,,,,,3600,3600,,0%,3600,3600,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxvhb:",,,,,,,,,,,,,,,,,,,,,,,,,,,AdnanChoudhury,ChristopherFerris,Clayton Sims,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"20/May/17 3:05 AM;AdnanChoudhury;Have seen the same error multiple times today in gerrit triggered builds, is blocking gerrit verifications.;;;","23/May/17 2:31 AM;Clayton Sims;should we changed fix versions to v1.0.0?;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
e2e_cli (Getting Started) instructions do not work,FAB-3947,16762,,Bug,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,nickgaski,denyeart,denyeart,16/May/17 8:18 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,16/May/17 10:22 PM,,,,v1.0.0,v1.0.0-alpha2,fabric-samples,,,,,,,0,,,,,,,,"There have been updates to the e2e_cli scripts, without corresponding updates to the instructions.  People attempting the end-to-end getting started instructions will get stuck. The instructions need to be updated for alpha2.",,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxvhj:",,,,,,,,,,,,,,,,,,,,,,,,,,,denyeart,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"16/May/17 8:23 PM;denyeart;https://gerrit.hyperledger.org/r/#/c/8981/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
golang chaincode/shim UT coverage low,FAB-3948,16763,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,muralisr,muralisr,muralisr,16/May/17 8:46 PM,21/Jul/18 3:56 AM,28/Oct/23 2:59 AM,04/Jun/17 2:28 AM,,,,v1.0.0,,fabric-peer,,,,,,,5,,,,,,,,"The golang shim UT coverage is around 17%. While the shim is excercised through chaincode UT, we need to add lightweight, targeted UT coverage to the shim layer.

This would entail a bit of refactoring to accomodate mock objects
* stream to mock chaincode to peer communication
* CC support to mock peer side chaincode support to hold chaincode streams (some tests would involve multiple chaincodes for example)

The mock stream object would encapsulate responses to ChaincodeMessages received. The UTs will be driven through driving targeted request responses though the mockstream

",,binhn,ChristopherFerris,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzxvhr:",,,,Unset,,Sprint 16  - Endorser,,,,,,,,,,Unset,,,,,,,,,,,binhn,ChristopherFerris,muralisr,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"26/May/17 3:13 PM;ChristopherFerris;adding test coverage is not a bug;;;","26/May/17 8:43 PM;ChristopherFerris;https://gerrit.hyperledger.org/r/#/c/9645/;;;","26/May/17 11:45 PM;muralisr;In this round of shim UT changes, added ""KEEP_ALIVE"" pings to mock to cover that in UT but apart from that all changes are to reorganize error handling code 
* replace repeated error handling statements with func calls
* organize error handling surface to reduce uncovered UT code

With these changes shim UT coverage moves up to 78% from 70%;;;","27/May/17 12:56 AM;binhn;+1.  It looks like most changes are refactoring and the unit-tests cover them.;;;","04/Jun/17 2:28 AM;ChristopherFerris;This now has the requisite votes and can be merged.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
refactor gossip/gossip/ unit tests waitgroup counter,FAB-3949,16764,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,16/May/17 9:43 PM,21/Jul/18 3:54 AM,28/Oct/23 2:59 AM,22/Aug/17 7:50 PM,v1.0.0,v1.0.0-alpha2,,,,fabric-gossip,,,,,,,0,active,gossip,,,,,,"In the gossip tests there is a waitgroup counter that is used for the last test (that checks that goroutines ended) to be able to run only when all the other tests have finished.

Currently the waitgroup counter is initialized to the number of tests that can be stuck, but should really be:
* Exported into a constant
* Initialized to the total number of tests

",,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-290,,,,,,,,,,"1|hzxvhz:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,yacovm,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"14/Aug/17 8:08 PM;yacovm;https://gerrit.hyperledger.org/r/#/c/12415/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
gossip generateCertificates fails because of concurrency,FAB-3950,16765,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,yacovm,yacovm,yacovm,16/May/17 10:51 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,23/May/17 1:52 AM,v1.0.0,,,v1.0.0,,fabric-gossip,,,,,,,0,gossip,,,,,,,"* gossip/comm/crypto.go:GenerateCertificates * receives as input 2 file names, and creates certificates and writes them into these files, and later on these files are deleted by the calling functions.

In the tests we always use the same file names, because sometimes it's called in the same function that is re-used and this results into a race condition in which files are deleted via some goroutines and read attempts are made by other goroutines because some tests run concurrently.

I think we need to refactor the GenerateCertfificate method to simply create a private and public key pair with random file names (to support concurrency)  internally and then simply return the loaded TLS certs.

[~C0rWin]",,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxvi7:",,,,,,Sprint 16 - Gossip,,,,,,,,,,,,,,,,,,,,,yacovm,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"16/May/17 11:47 PM;yacovm;https://gerrit.hyperledger.org/r/#/c/9405/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Post 1.0 Feature Development,FAB-3951,16766,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,troyronda,troyronda,16/May/17 11:26 PM,21/Jul/18 3:56 AM,28/Oct/23 2:59 AM,09/Nov/17 4:22 AM,,,,Abandoned,Future,,,,,,,,1,,,,,,,,"We would like to have a mechanism for developing post 1.0 features. E.g., creating a new branch.

Some of the proposed items:
 * Private Channel Data (FAB-1151). Proposal announcement by Troy Ronda (SecureKey Technologies): [https://lists.hyperledger.org/pipermail/hyperledger-fabric/2017-May/000949.html]

(please add to the list).",,baohua,troyronda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzxvif:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,baohua,troyronda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"16/May/17 11:40 PM;baohua;TBD

* Tcerts

* BFT consensus;;;","09/Nov/17 4:37 PM;baohua;Do we have some summary doc for 1.1 features?;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Re-introduce disabled goroutine leakage check in deliveryService tests,FAB-3953,16771,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,17/May/17 12:23 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,22/May/17 1:08 AM,v1.0.0,,,,,fabric-peer,,,,,,,0,,,,,,,,"The check was disabled in FAB-3257 and deals with checking if goroutines that are created during a test are dead after the test ends.
It failed because sometimes the number of goroutines that the test started with, was higher than the number it ended with.

It should be re-introduced.

I think we should simply instead of checking that the number of goroutines hasn't changed from the start of the test to the end of the test - check that it didn't increase, because that proves that a goroutine was created at the time of the test and hasn't finished.",,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxvjz:",,,,,,,,,,,,,,,,,,,,,,,,,,,yacovm,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"17/May/17 12:30 AM;yacovm;https://gerrit.hyperledger.org/r/#/c/9411/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Generate a client configuration file,FAB-3954,16772,16442,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,greg.haskins,greg.haskins,greg.haskins,17/May/17 1:27 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,29/May/17 10:08 AM,,,,,,fabric-tools,,,,,,,0,,,,,,,,"We want to make it as easy as possible for a client to consume a fabric configuration.  Since the examples/cluster tool has detailed knowledge about the configuration, it is best poised to create something for us.",,greg.haskins,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxvk7:",,,,,,,,,,,,,,,,,,,,,,,,,,,greg.haskins,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"17/May/17 1:41 AM;greg.haskins;Submitted: https://gerrit.hyperledger.org/r/#/c/9413/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Event producer allows registration of nil handlers,FAB-3955,16773,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wlahti,wlahti,wlahti,17/May/17 1:48 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,19/May/17 7:19 AM,,,,,,fabric-peer,,,,,,,0,,,,,,,,"The event producer logic currently allows the registration of a nil handler:
{code:java}
registerHandler(&peer.Interest{EventType: peer.EventType_BLOCK}, nil){code}
This leads to a panic when attempting to send messages using the nil handler:
{code:java}
panic: runtime error: invalid memory address or nil pointer dereference [signal SIGSEGV: segmentation violation code=0x1 addr=0x0 pc=0x4080240] goroutine 7 [running]: panic(0x4519b00, 0xc4200140a0) /usr/local/go/src/runtime/panic.go:500 +0x1a1 github.com/hyperledger/fabric/events/producer.(*handler).SendMessage(0x0, 0xc4201e0750, 0xc420426ea0, 0x4863f50) github.com/hyperledger/fabric/events/producer/_test/_obj_test/handler.go:150 +0x30 github.com/hyperledger/fabric/events/producer.(*eventProcessor).start.func1(0x0){code}",,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxvkf:",,,,,,,,,,,,,,,,,,,,,,,,,,,wlahti,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Reduce logging chatter,FAB-3957,16775,16442,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Low,Done,greg.haskins,greg.haskins,greg.haskins,17/May/17 2:44 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,18/May/17 10:28 AM,,,,,,fabric-tools,,,,,,,0,,,,,,,,The defaults for the example/cluster are still fairly chatty.  Lets tune this down a bit.,,greg.haskins,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxvkv:",,,,,,,,,,,,,,,,,,,,,,,,,,,greg.haskins,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"17/May/17 2:55 AM;greg.haskins;Submitted https://gerrit.hyperledger.org/r/#/c/9419/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Need comments which fully define behavior for ChaincodeStubInterface,FAB-3959,16782,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,vdods,vdods,17/May/17 5:56 AM,23/Jan/20 4:10 AM,28/Oct/23 2:59 AM,23/Jan/20 4:10 AM,v1.0.0-alpha2,,,Future,,fabric-peer,,,,,,,0,stale-item,,,,,,,"Because ChaincodeStubInterface is the central point of contact for chaincode developers, it's of utmost importance to fully specify the behavior that should be expected of the methods defined by that interface.  In particular, specifying conditions on the method arguments, and fully specifying what the return values mean and what the error conditions are.

Some methods' comments provide almost no information that isn't already conveyed by the method name itself.  For example: GetState, PutState, DelState.  In particular for these three, it's not clear what the behavior will be in the corner cases, such as if the key is not found, or if it's already present, or in what circumstances an error will be returned.  Having these all specified by the comments will facilitate chaincode developers in writing code that correctly handles all corner cases.

Some methods' comments don't provide enough in-source context for how they would be used – example usecases, etc – for example: CreateCompositeKey, SplitCompositeKey.  What is a ""composite key"", and where do I use it?

Returning specific types from functions is a great way to self-document code, because if the return type is specific enough (e.g. GetQueryResult returning StateQueryIteratorInterface, which has its own documentation and specific example usages; or GetHistoryForKey returning HistoryQueryIteratorInterface, which is a similar concept but is fortunately represented by a distinct type), then less needs to be explicitly written in the documentation.

Contrast this with GetBinding which returns the ""transaction binding"" as a generic ([]byte, error) value, which does not give any clear place to look for what format it is or how to use it.  Googling `hyperledger ""transaction binding""` turned up the interfaces.go source code and the Protocol Spec doc which references code that's out of date.  At the very least, there needs to be comments to the effect of ""returns the transaction binding as a byte array in XYZ format, which can be used in functions A, B, and C to do operations P and Q (or whatever a transaction binding is used for)"".

Generally to write good documentation it's necessary to have an accurate theory of mind for the reader – who are they, what context are they operating in, how much can they be expected to know, etc.  I would suggest that the target audience for interfaces.go should be non-expert programmers, familiar with golang, who have little DB or cryptographic knowledge/experience.  Then, give links to facilitate them to learn more about relevant topics with ""for more, see X"" links in the comments.

Example code is also great, though for something as important as ChaincodeStubInterface, one can't and shouldn't be expected to deduce all corner cases from example code.",,denyeart,sykesm,vdods,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzx4rj:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,denyeart,sykesm,vdods,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"05/Jun/17 8:50 PM;denyeart;FAB-2045 enhances the chaincode function comments, but further enhancement is still required.  Let's leave this one open to add more thorough chaincode function doc.;;;","08/Jun/17 5:28 AM;denyeart;While this is still a priority, I will change from Bug to Improvement.;;;","23/Jan/20 4:10 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Resolve licensing issues discovered by Fossology scan,FAB-3963,16795,,Task,Closed,FAB,Fabric,software,denyeart,,,High,Done,ChristopherFerris,tkuhrt,tkuhrt,17/May/17 9:25 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,19/Jul/17 11:49 PM,v1.0.0,,,v1.0.0,,fabric-samples,,,,,,,0,licensing,,,,,,,"Fabric source code was scanned using Fossology to determine the licenses specified in the files in the following repositories:
 * [http://gerrit.hyperledger.org/r/fabric]

 * [http://gerrit.hyperledger.org/r/fabric-sdk-java]

 * [http://gerrit.hyperledger.org/r/fabric-sdk-node]

 * [http://gerrit.hyperledger.org/r/fabric-ca]

 * [http://gerrit.hyperledger.org/r/fabric-sdk-go]

 * [http://gerrit.hyperledger.org/r/fabric-baseimage]

 * [http://gerrit.hyperledger.org/r/fabric-sdk-py]

 * [http://gerrit.hyperledger.org/r/fabric-chaintool]

 * [http://gerrit.hyperledger.org/r/fabric-api]

 * [http://gerrit.hyperledger.org/r/fabric-test-resources]

The attached file shows the results.  Following is a summary
|License| |Number of files|
| | | |
|Apache 2.0:| |1670|
|MPL:| | |
| |MPL-2.0|59|
| |Dual-licensed: GPL-2.0+, LGPL-2.1+ AND MPL-1.1|1|
|MIT, BSD, …:| | |
| |BSD-2-Clause|208|
| |BSD-2-Clause-FreeBSD|4|
| |BSD-3-Clause|6|
| |BSD-style|98|
| |BSD-style AND Apache 2.0|2|
| |BSD-style AND MIT|4|
| |BSD-style OR See-URL|1|
| |Google-BSD|1147|
| |Google-BSD AND MIT|2|
| |ISC|1|
| |MIT|157|
| |MIT-style|42|
|Other:| | |
| |Disclaimer only|2|
| |Google patent notice|13|
| |OASIS Notice and URL|9|
| |Public-domain|11|
| |WTFPL|2|
|No License Found:| |7042|
| | | |
| |TOTAL|10481|

 

The files listed under MPL, MIT, BSD, Other, and No License Found need to be resolved. For a good number of the cases, it appears that dependencies have been checked into the repository (usually found under a vendor directory). Ideally, the repositories should not include any dependencies, but rather the build process should make sure to pull the latest version of any dependencies. This will ensure that ""local changes"" are not made to these dependencies that we would be dependent on. In addition, it will ensure that any security issues resolved by those dependencies will be included in our binaries.

For the files listed as No License Found, we should first check with the original contributors to make sure that they can contain an Apache 2.0 license (for source code) or a Creative Commons with Attribution 4.0 license (for documentation). Once this has been verified, the editable files must be annotated with the correct license text and/or the SPDX short identifiers (see  [https://spdx.org/sites/cpstandard/files/pages/files/using_spdx_license_list_short_identifiers.pdf]).

For binary files, a license.txt file should be included in the directory calling out the file types and the associated license.

Please note that there are a few files that did not properly make it into the attached spreadsheet because of a bug in Fossology. These files need to be manually included. Look for a new spreadsheet to be uploaded; however, I wanted to get this on someone's radar sooner rather than later due to the size of the non-compliant licensing.

Any files that are not covered by Apache 2.0 or CC by 4.0 that need to remain with the project will need to go through an exception process with the governing board. Let me know if there will be any of these, and we can generate the correct presentation for requesting the exception when we re-run the licensing scan after this issue has been fixed.",,ChristopherFerris,JonathanLevi,rickr,tkuhrt,troyronda,,,,,,,,,,,,,,,,,,,,7200,7200,,,FABC-129,,,,,,,,,,,,,,,,,,,,,,,,FAB-3040,FAB-4539,,,,,,FAB-4548,,,,FABG-168,,,,,FAB-4742,,,,,,,,,,,,,,,"19/May/17 2:07 AM;tkuhrt;Fossology results - Hyperledger fabric 2017-05-08-182310 (v2).xlsx;https://jira.hyperledger.org/secure/attachment/10837/Fossology+results+-+Hyperledger+fabric+2017-05-08-182310+%28v2%29.xlsx","07/Jun/17 3:42 AM;tkuhrt;fabric-2017-06-05.xlsx;https://jira.hyperledger.org/secure/attachment/10956/fabric-2017-06-05.xlsx","15/Jun/17 4:13 AM;tkuhrt;fabric-2017-06-14.xlsx;https://jira.hyperledger.org/secure/attachment/11070/fabric-2017-06-14.xlsx",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3040,,,,,,,,,,"1|hzx46v:",,,,,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,JonathanLevi,rickr,tkuhrt,troyronda,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,dev,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"19/May/17 2:09 AM;tkuhrt;Added v2 version of the license scan.  
 
This report is more complete as it includes license details for a handful of dependencies that were inadvertently marked as ""No License Found"" in the initial report, due to an issue with Fossology.  (All of the relevant files were already listed elsewhere in the spreadsheet with the correct license; the issue related to certain files when they were included multiple times, such as when dependencies were included in multiple repos.)
 
This spreadsheet still contains files in the .git/ directories, but as we discussed yesterday, you and the team can disregard those files for these purposes.  I'll look at omitting them from future reports.;;;","23/May/17 4:55 AM;ChristopherFerris;[~tkuhrt] can you please re-run with the following changes. 

The only repositories that will be part of v1.0.0 release are:

fabric

fabric-sdk-node

fabric-sdk-java

fabric-ca

fabric-chaintool

oabric-baseimage

 

fabric-sdk-go, fabric-test-resources, fabric-sdk-py and fabric-api will not be included in the 1.0.0 release.

Additionally, file extensions .md..rst, .pem, .png, and all files in the .git directory, .gitignore and .gitkeep should be excluded from the scan. It just creates noise that makes it more difficult to address the real issues.;;;","23/May/17 6:45 AM;tkuhrt;When will these other repositories be included in the release? We do it want to exclude them if they are a fast follow on

.git folders will be removed, but we will not remove .md, .rst, or .png as documentation must be licensed under Creative Commons with Attribution 4.0 according to the Hyperledger charter (https://www.hyperledger.org/about/charter) and must be documented as such. 

Can you help me understand why pem files are included in the repository?;;;","26/May/17 2:50 AM;tkuhrt;[~ChristopherFerris] : see above comment (for some reason mobile does not let me @ someone).;;;","06/Jun/17 5:55 AM;jimthematrix;[~tkuhrt] for fabric-sdk-node, only two files are listed, under the Google-BSD license type. they are needed in handling timestamp of a transaction proposal. So please review and approve:

fabric-sdk-node/fabric-client/lib/protos/google/protobuf/empty.proto	Google-BSD
fabric-sdk-node/fabric-client/lib/protos/google/protobuf/timestamp.proto	Google-BSD;;;","06/Jun/17 6:01 AM;tkuhrt;[~jimthematrix] According to the Hyperledger charter (https://www.hyperledger.org/about/charter), any exceptions to Apache License, Version 2.0 for source code will need to be approved by the Governing board.  I would imagine that we will first start with the TSC, and then move to the Governing board.

""If an alternative inbound or outbound license is required for compliance with the license for a leveraged open source project or is otherwise required to achieve HLP’s mission, the Governing Board may approve the use of an alternative license for specific inbound or outbound contributions on an exception basis. Any exceptions must be approved by a two-thirds vote of the entire Governing Board and the LF and must be limited in scope to what is required for such purpose. Please email legal@hyperledger.org to obtain exception approval.""

cc: [~tbenzies], [~bbehlendorf];;;","07/Jun/17 3:43 AM;tkuhrt;Attached the results of the latest scan against the source base from June 5, 2017.  See attachment fabric-2017-06-05.xlsx;;;","13/Jun/17 4:16 AM;ChristopherFerris;[~tkuhrt] have addressed the missing headers in fabric, fabric-baseimage, fabric-ca, fabric-chaintool, fabric-sdk-node, fabric-sdk-java and fabric-test-resources. Note that some files cannot carry a comment because they are data files or are generated code. Specifically, .json, .pem, _sk, pb.go, pb2.go, _pb2__grpc.py, .png, .crt, .key, .der.

Also, any Go vendored code (under vendor/) with missing license headers cannot be changed, as you know. It would be ideal if Go released a working dependency management model that understood licensing etc issues. Alas, that is unlikely to be available to us in the 1.0.0 timeframe. I'll research the list of top-level licenses for each of the vendored modules.

fabric-sdk-go, fabric-sdk-py are not a part of the 1.0.0 release... these may catch up at some point (hopefully, soon), but they have not been a part of what we have been focusing on to deliver as 1.0.0.

Please let me know how  (what form) I should bring forward the request for 3rd party license exemption to the board, or is that something you need to do.;;;","15/Jun/17 4:33 AM;tkuhrt;[~ChristopherFerris]: Attached latest results.  

Summary results:

Copyleft - All vendor files

Attribution
 * /fabric/bddtests/scripts/wait-for-it.sh (MIT and Apache-2.0)

 * /fabric/docs/Makefile - BSD2 Clause

 * /fabric-sdk-node/fabric-client/lib/protos/google/protobuf/empty.proto - Google BSD

 * /fabric-sdk-node/fabric-client/lib/protos/google/protobuf/timestamp.proto - Google BSD

 * /fabric-chaintool/examples/example02/client/nodejs/package.json - ISC

 * All others are vendor files

Other/Unknown
 * /fabric-sdk-py/hfc/api/__init__.py - Apache-style disclaimer but no Apache license

 * /fabric-sdk-py/hfc/api/chain/__init__.py - Apache-style disclaimer but no Apache license

 * All others are vendor files

No License Text - there are still a number of files in here that need to be fixed.  .py, .sh, .yml, .yaml, Makefiles, .md, .proto, .cci, .js, .bnf, .java, .txt, .go, .html, .css, .bat, .ini, .in, .rst (and probably others).  Also, please note that for .png, we need to have this covered by a LICENSE file in the directory containing those to make sure that people recognize they are covered by CC-BY-4.0.

 ;;;","17/Jun/17 12:08 PM;ChristopherFerris;[~tkuhrt] there are a number of file types that cannot take a license header. I have listed them here.

/fabric/.baseimage-release 

/fabric/bddtests/tlsca.cert 

/fabric/bddtests/tlsca.priv

/fabric/settings.gradle

/fabric/core/chaincode/platforms/car/test/org.hyperledger.chaincode.example02-0.1-SNAPSHOT.car

/fabric/core/chaincode/platforms/util/hashtestfiles1/a.txt

/fabric/core/chaincode/platforms/util/hashtestfiles1/a/a1.txt

/fabric/core/chaincode/platforms/util/hashtestfiles1/a/a2.txt

/fabric/core/chaincode/platforms/util/hashtestfiles1/b.txt

/fabric/core/chaincode/platforms/util/hashtestfiles1/b/c.txt

/fabric/core/chaincode/platforms/util/hashtestfiles1/b/c/c1.txt

/fabric/core/chaincode/platforms/util/hashtestfiles2/x.txt

/fabric/core/chaincode/platforms/util/hashtestfiles2/x/z.txt

/fabric/core/chaincode/platforms/util/hashtestfiles2/x/z/z1.txt

/fabric/core/chaincode/platforms/util/hashtestfiles2/y.txt

/fabric/core/chaincode/platforms/util/hashtestfiles2/y/y1.txt

/fabric/core/chaincode/platforms/util/hashtestfiles2/y/y2.txt

/fabric/core/chaincode/shim/java/src/main/java/commons-logging.properties

/fabric/examples/chaincode/chaintool/example02/src/interfaces/appinit.cci

/fabric/examples/chaincode/chaintool/example02/src/interfaces/org.hyperledger.chaincode.example02.cci

/fabric/examples/chaincode/go/utxo/util/First_500_transactions_base64_encoded_on_testnet3.txt

/fabric/examples/chaincode/go/utxo/util/Hashes_for_first_500_transactions_on_testnet3.txt

/fabric/protos/.protoroot

/fabric/test/tools/PTE/userInputs/runCases-burst-i.txt

/fabric/test/tools/PTE/userInputs/runCases-burst-q.txt

/fabric/test/tools/PTE/userInputs/runCases-chan-create.txt

/fabric/test/tools/PTE/userInputs/runCases-chan-install.txt

/fabric/test/tools/PTE/userInputs/runCases-chan-instantiate.txt

/fabric/test/tools/PTE/userInputs/runCases-chan-join.txt

/fabric/test/tools/PTE/userInputs/runCases-complex-i.txt

/fabric/test/tools/PTE/userInputs/runCases-concurrency-i.txt

/fabric/test/tools/PTE/userInputs/runCases-constant-i.txt

/fabric/test/tools/PTE/userInputs/runCases-constant-q.txt

/fabric/test/tools/PTE/userInputs/runCases-latency-i.txt

/fabric/test/tools/PTE/userInputs/runCases-latency-q.txt

/fabric/test/tools/PTE/userInputs/runCases-longrun-i.txt

/fabric/test/tools/PTE/userInputs/runCases.txt

/fabric-ca/scripts/fvt/utils/pki

/fabric-ca/testdata/TestCRL.crl

/fabric-ca/testdata/ec-key.ski

/fabric-ca/testdata/keyparms/dsa1024

/fabric-ca/testdata/keyparms/dsa2048

/fabric-ca/testdata/keyparms/dsa256

/fabric-ca/testdata/keyparms/dsa4096

/fabric-ca/testdata/keyparms/dsa512

/fabric-ca/testdata/keyparms/ec160

/fabric-ca/testdata/keyparms/ec224

/fabric-ca/testdata/keyparms/ec256

/fabric-ca/testdata/keyparms/ec384

/fabric-ca/testdata/keyparms/ec521

/fabric-ca/testdata/keyparms/ec570

in fabric-chaintool the *.proto files are generated code

 

/fabric-chaintool/examples/sample_syscc/interfaces/appinit.cci

/fabric-chaintool/examples/sample_syscc/interfaces/org.hyperledger.chaincode.system.sample.cci

/fabric-chaintool/resources/generators/golang.stg

/fabric-chaintool/resources/generators/proto.stg

/fabric-chaintool/resources/parsers/interface/grammar.bnf

/fabric-chaintool/resources/parsers/interface/skip.bnf

/fabric-chaintool/resources/parsers/proto/grammar.bnf

/fabric-chaintool/resources/parsers/proto/skip.bnf

/fabric-chaintool/src/chaintool/car/abi/Car.java

/fabric-chaintool/src/org/hyperledger/chaintool/meta/OrgHyperledgerChaintoolMeta.java

/fabric-sdk-node/test/fixtures/channel/mychannel.tx

/fabric-sdk-node/test/fixtures/channel/mychanneltx.tx

/fabric-sdk-node/test/fixtures/channel/twoorgs.genesis.block

/fabric-sdk-node/examples/balance-transfer/artifacts/channel/genesis.block

/fabric-sdk-node/examples/balance-transfer/artifacts/channel/mychannel.tx

/fabric-sdk-node/fabric-client/lib/protos/.protoroot

/fabric-sdk-java/src/main/proto/.protoroot

/fabric-sdk-java/src/test/fixture/sdkintegration/e2e-2Orgs/channel/bar.tx

/fabric-sdk-java/src/test/fixture/sdkintegration/e2e-2Orgs/channel/foo.tx

/fabric-sdk-java/src/test/fixture/sdkintegration/e2e-2Orgs/channel/orderer.block

/fabric/examples/chaincode/go/utxo/consensus/consensus.go

/fabric/examples/chaincode/go/utxo/consensus/consensus_wrap.cxx 

*Most of these are either data files, certificate or key material, or generated code and cannot be commented.*

The above are all copyright IBM Corp but are data files that do not permit comments

/fabric/devenv/failure-motd.in is a data file that permits no comments Copyright Greg Haskins

 Also, as previously noted, fabric-sdk-go and fabric-sdk-py will not be in the initial 1.0.0 release

but follow afterwards.

finally, all files with the following suffices should be excluded from the scan because they cannot

be commented.

grep -v .pem$ | grep -v .png$ | grep -v .crt$ | grep -v .key$ | grep -v _sk$ | grep -v .pb.go$ | grep -v .der$ | grep -v .json$ | grep -v _pb2.py$ | grep -v _pb2_grpc.py$;;;","18/Jun/17 12:06 PM;ChristopherFerris;[https://gerrit.hyperledger.org/r/#/c/10673/,] [https://gerrit.hyperledger.org/r/#/c/10675/,] https://gerrit.hyperledger.org/r/#/c/10679/;;;","20/Jun/17 1:20 PM;ChristopherFerris;[~tkuhrt] [~lehors] and I were working on snuffing out the last vestiges of files w/o license headers. As I note above, the remainder are either data, signtaure or generated content files, which I believe fall into the category described in the Apache policy here [http://www.apache.org/legal/src-headers.html#faq-exceptions]

I would recommend that we adopt the Apache policy for Hyperledger and not require data or files that cannot be modified have an included license and copyright header, but instead ask that those contributions for which the contributor wishes to exert a copyright, that they add an explicit entry in the NOTICES file.;;;","21/Jun/17 2:33 AM;tkuhrt;[~ChristopherFerris], [~lehors]: Appreciate your diligence on this.

Regarding your recommendation of following the Apache policy for data or files that cannot be modified to include a license or copyright header, I assume that this should be brought up in the TSC for vote and approval. Then we may need to bring it to the Governing board for approval if it requires a charter change.

cc: [~tbenzies], [~bbehlendorf];;;","22/Jun/17 1:34 AM;rickr;I don't see any issues with the java sdk.  There are some no license found but they are on binary and generated files. Not source.;;;","22/Jun/17 2:33 AM;tkuhrt;[~rickr]: Can you comment on the following three files found in the ""no license found"" tab?
 * /fabric-sdk-java/CHANGELOG.md
 * /fabric-sdk-java/java_sdk_release.md
 * /fabric-sdk-java/release_notes/v1.0.0-beta.md;;;","22/Jun/17 2:40 AM;rickr;* /fabric-sdk-java/CHANGELOG.md  is generated just a list of items addressed between releases.
 * The other two are just documentation ;;;","22/Jun/17 2:59 AM;tkuhrt;[~rickr]: Documentation must contain a license for CC-BY-4.0.;;;","22/Jun/17 3:25 AM;rickr;I this what qualifies as a license for markdown ?

```

## License <a name=""license""></a>

<a rel=""license"" href=""http://creativecommons.org/licenses/by/4.0/""><img alt=""Creative Commons License"" style=""border-width:0"" src=""https://i.creativecommons.org/l/by/4.0/88x31.png"" /></a><br />This work is licensed under a <a rel=""license"" href=""http://creativecommons.org/licenses/by/4.0/"">Creative Commons Attribution 4.0 International License</a>.
```;;;","22/Jun/17 9:33 PM;rickr;[~tkuhrt] The above is being planned to be added to the above files.  I'm hoping that's sufficient 

 ;;;","23/Jun/17 3:18 AM;tkuhrt;[~rickr], [~ChristopherFerris]: Assuming that is a section in the .md file that points to the license, that should be okay.  You might also want to include the SPDX short form in that section, which will ensure the license scanning tool locates it.;;;","01/Jul/17 1:05 AM;ChristopherFerris;Working with [~tkuhrt] and Steve Winslow, [~lehors] will play me while I am out. We have a presentation for the Board Legal Committee and Tracy is working to get a meeting scheduled. Don't think that there's anything remaining that should hold us up.;;;","11/Jul/17 9:26 PM;JonathanLevi;We have an official green light to release 1.0 with the current LICENSING. Thanks everyone who have lent a helping hand from verifying, checking, updating the code, updating disclaimers, checking with legal and removing packages when we had a doubt.

The good lessons learned and the conclusions made will certainly be useful and beneficial in the next releases to come.
Thanks everyone. Closing this item for now.

[~tkuhrt], [~ChristopherFerris], [~mastersingh24], [~weeds]... etc.;;;","12/Jul/17 12:22 AM;tkuhrt;[~JonathanLevi]: Please note that the Governing Board has not yet provided the exception.  The next GB meeting is on Monday.  We might want to re-open this until that has been provided.;;;","12/Jul/17 12:32 AM;JonathanLevi;[~tkuhrt] Noted. Thank you for the update! Re-opened.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,
72hr Basic System Test,FAB-3964,16796,,Task,Closed,FAB,Fabric,software,denyeart,,,High,Done,suryalnvs,suryalnvs,suryalnvs,17/May/17 9:55 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,13/Jul/18 6:00 AM,,,,Future,v1.0.0,fabric-quality,,,,,,,0,,,,,,,,"* {color:#333333}Test Name: FAB-3964, performance 72 hr Basic System Test{color}
 * {color:#333333}Component{color}{color:#333333}:  Longrun test with a concurrency of 2 and TLS enabled. {color}
 * +Description+: Send invoke transactions for 72hrs (with 1 invoke per 1 second) concurrently to 1 peer in both orgs,
 query the ledger to ensure the last transaction was written,
 calculate tps, remove network and cleanup.
 * {color:#333333}Artifact Locations{color}{color:#333333}:  crypto-config{color}
 * {color:#333333}Network Topology{color}{color:#333333}: 2 Ord, 3 KB, 3 ZK, 2 Org, 2 Peers in each organization, 1 ca for each org, 1 Channel, 1 CC, 2 threads
 Launch standard network on a single machine, use PTE in longrun mode{color}
 * {color:#333333}Client Driver{color}{color:#333333}: PTE{color}
 * {color:#333333}Input: ./pte_driver.sh userInputs/runCases-longrun-i.txt{color}
 * {color:#333333}Output:{color}
 ## The benchmark passes if it  completes without any error.
 ## The benchmark fails if it encounters error or does not complete, or any query fails.",,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-10080,,,,,,,,,,"1|hzxvon:",,,,,,,,,,,,,,,,,,,,,,,,,,,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Clear unused getChannelFromConfigBlock code,FAB-3967,16800,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,baohua,baohua,baohua,17/May/17 2:25 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,17/May/17 4:40 PM,,,,v1.0.0,,fabric-peer,,,,,,,0,peer,,,,,,,The getChannelFromConfigBlock() func is not in-used now.,,baohua,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxvp3:",,,,,,,,,,,,,,,,,,,,,,,,,,,baohua,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"17/May/17 2:27 PM;baohua;https://gerrit.hyperledger.org/r/#/c/9439/;;;","17/May/17 4:40 PM;baohua;Been resolved in https://gerrit.hyperledger.org/r/#/c/9361;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
PKCS11 Remove code duplication,FAB-3968,16801,13733,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,vpaprots,vpaprots,vpaprots,17/May/17 3:43 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,27/May/17 12:50 AM,v1.0.0-alpha2,,,v1.0.0,,,,,,,,,5,,,,,,,,"PKCS11 code started its life as a `cp -r fabric/bccsp/sw fabric/bccsp/pkcs11`. It made sense at the time.

With the updates Angelo has been doing in order to improve test coverage of bccsp/sw, the two packages have diverged greatly.

To fix the duplication, and to get more reliable code coverage, removing duplicates that will not ever be using PKCS11.

Using composition to create a fallback path for the bccsp/pkcs11 provider.",,binhn,ChristopherFerris,vpaprots,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxvpb:",,,,,,,,,,,,,,,,,,,,,,,,,,,binhn,ChristopherFerris,vpaprots,yacovm,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"24/May/17 5:11 AM;ChristopherFerris;https://gerrit.hyperledger.org/r/#/c/9441/;;;","24/May/17 5:12 AM;yacovm;[~adc] what is your take on the subject?;;;","24/May/17 5:12 AM;ChristopherFerris;I favor removing unused code;;;","27/May/17 12:47 AM;binhn;This CR listed on this one has already been merged. Should this item be done or still more work?;;;","27/May/17 12:51 AM;ChristopherFerris;my bad, didn't realize that I had tagged this one. I should have added a -2;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Make gossip block pull mechanism to be ledger height aware,FAB-3970,16803,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,gennadyl,yacovm,yacovm,17/May/17 5:06 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,21/Aug/17 10:34 PM,v1.0.0-alpha2,,,Future,,fabric-gossip,,,,,,,0,active,gossip,,,,,,"The following scenario is possible:
peer0 has ledger height 1000
peer1 has ledger height 500

peer0 has in its in-memory messageStore blocks 900-1000
peer1 has in its in-memory messageStore blocks 500-600

peer0 sends a pull Hello to peer1
peer1 returns digests of blocks 500-600
peer0 requests blocks 500-600
peer1 returns blocks 500-600
peer0 discards them because they are too old

We need a way to make the peer ignore pull digest messages of blocks that their sequence number is lower than the ledger's height.

What I think we can do is add an instance method to *StateInfo* that returns the seqNum of the block from the metadata, and since the *channel.go* file has the last stateInfo reference (that is updated by *UpdateStateInfo* method)  it can be used to ignore digests with a too low seqNum.

[~C0rWin]
[~gennadyl]

opinions?
",,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-290,,,,,,,,,,"1|hzxvpr:",,,,,,,,,,,,,,,,,,,,,,,,,,,yacovm,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
cryptogen emits WARN at invocations,FAB-3972,16805,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,17/May/17 5:27 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,22/May/17 1:39 AM,v1.0.0,,,,,fabric-tools,,,,,,,1,build-system,,,,,,,"Cryptogen emits the following lines when invoked:

2017-05-17 04:22:15.957 EDT [bccsp] GetDefault -> WARN 013 Before using BCCSP, please call InitFactories(). Falling back to bootBCCSP.
 2017-05-17 04:22:15.959 EDT [bccsp] GetDefault -> WARN 014 Before using BCCSP, please call InitFactories(). Falling back to bootBCCSP.
 2017-05-17 04:22:15.961 EDT [bccsp] GetDefault -> WARN 015 Before using BCCSP, please call InitFactories(). Falling back to bootBCCSP.
 2017-05-17 04:22:15.962 EDT [bccsp] GetDefault -> WARN 016 Before using BCCSP, please call InitFactories(). Falling back to bootBCCSP.
 2017-05-17 04:22:15.963 EDT [bccsp] GetDefault -> WARN 017 Before using BCCSP, please call InitFactories(). Falling back to bootBCCSP.

I think we should fix it by simply calling *factory.InitFactories(nil)* at the main.go of cryptogen.

[~mastersingh24]",,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxvq7:",,,,,,,,,,,,,,,,,,,,,,,,,,,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"17/May/17 5:40 PM;yacovm;https://gerrit.hyperledger.org/r/#/c/9443/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
GettingStarted flow on Mac fails when attempting to use the cli ,FAB-3973,16806,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,nickgaski,elli-androulaki,elli-androulaki,17/May/17 6:02 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,23/May/17 9:58 PM,,,,v1.0.0,,fabric-docs,,,,,,,0,documentation,,,,,,,"Platform: darwin-amd64:

Dolphin:e2e hplfabric$ CHANNEL_NAME=mychannel docker-compose -f docker-compose-no-tls.yaml up -d
Creating orderer.example.com
Creating peer0.org1.example.com
Creating peer1.org1.example.com
Creating peer0.org2.example.com
Creating peer1.org2.example.com
Creating cli
Dolphin:e2e hplfabric$ docker images
REPOSITORY TAG IMAGE ID CREATED SIZE
hyperledger/fabric-couchdb x86_64-1.0.0-alpha f3ce31e25872 2 months ago 1.51 GB
hyperledger/fabric-kafka x86_64-1.0.0-alpha 589dad0b93fc 2 months ago 1.3 GB
hyperledger/fabric-zookeeper x86_64-1.0.0-alpha 9a51f5be29c1 2 months ago 1.31 GB
hyperledger/fabric-orderer x86_64-1.0.0-alpha 5685fd77ab7c 2 months ago 182 MB
hyperledger/fabric-peer x86_64-1.0.0-alpha 784c5d41ac1d 2 months ago 184 MB
hyperledger/fabric-javaenv x86_64-1.0.0-alpha a08f85d8f0a9 2 months ago 1.42 GB
hyperledger/fabric-ccenv x86_64-1.0.0-alpha 91792014b61f 2 months ago 1.29 GB
Dolphin:e2e hplfabric$ docker exec -it cli bash
root@7007022ae07f:/opt/gopath/src/github.com/hyperledger/fabric/peer# CORE_PEER_MSPCONFIGPATH=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/ordererOrganizations/example.com/orderers/orderer.example.com CORE_PEER_LOCALMSPID=""OrdererMSP"" peer channel create -o orderer.example.com:7050 -c mychannel -f channel.tx
2017-05-17 08:56:53.732 UTC [logging] InitFromViper -> DEBU 001 Setting default logging level to DEBUG for command 'channel'
2017-05-17 08:56:53.732 UTC [msp] GetLocalMSP -> DEBU 002 Returning existing local MSP
2017-05-17 08:56:53.732 UTC [msp] GetDefaultSigningIdentity -> DEBU 003 Obtaining default signing identity
[Error: Got unexpected status: BAD_REQUEST
Usage:
 peer channel create [flags]

Global Flags:
 -b, --blockpath string Path to file containing genesis block
 --cafile string Path to file containing PEM-encoded trusted certificate(s) for the ordering endpoint
 -c, --chain string In case of a newChain command, the chain ID to create.
 -f, --file string Configuration transaction file generated by a tool such as configtxgen for submitting to orderer
 --logging-level string Default logging level and overrides, see core.yaml for full syntax
 -o, --orderer string Ordering service endpoint
 --test.coverprofile string Done (default ""coverage.cov"")
 --tls Use TLS when communicating with the orderer endpoint
 -v, --version Display current version of fabric peer server]",,denyeart,elli-androulaki,nickgaski,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxvqf:",,,,,,,,,,,,,,,,,,,,,,,,,,,denyeart,elli-androulaki,nickgaski,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"17/May/17 8:52 PM;denyeart;[~elli-androulaki] Getting Started in readthedocs has not yet been refreshed.  The latest instructions are here and will be used to update Getting Started: [https://github.com/hyperledger/fabric/blob/master/examples/e2e_cli/end-to-end.rst]

Did you follow these instructions?

Is there an error in orderer logs?  'docker logs <orderer_container_id>';;;","17/May/17 10:48 PM;nickgaski;[~elli-androulaki] - while we are going to update the Getting Started to alpha2 today, I'm a little concerned that your experience did not work.  The ""alpha"" stuff is very much baked, so it definitely should work.  Out of curiosity can you please try the following:

 

./network_setup.sh down

Restart your docker process

Clear cached key vals

rm -rf ~/.hfc-key-store/*

rm -rf /tmp/hfc-*

./network_setup.sh up

 

This SHOULD work!

 

And then proceed to run against the link Dave provided - [https://github.com/hyperledger/fabric/blob/master/examples/e2e_cli/end-to-end.rst] - as this is the content that will ultimately replace Getting Started (albeit without running makes).;;;","17/May/17 11:55 PM;elli-androulaki;Hi [~denyeart], 

I followed the instructions on the current ""Getting Started"" page, that does not require any explicit compilation of the source code, as i believe docker containers are already properly equipped.

Will follow Nick's recommendation and see if this works out. Will keep you posted.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
unused packages in vendor tree ,FAB-3976,16809,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ChristopherFerris,ChristopherFerris,ChristopherFerris,17/May/17 8:38 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,04/Jan/18 10:16 PM,v1.0.0,v1.0.0-alpha2,,v1.1.0,,fabric-build,,,,,,,0,build-system,,,,,,,"cbf$ govendor list +u

 vu github.com/DATA-DOG/godog                                                   

 vu github.com/davecgh/go-spew/spew                                             

 vu github.com/eapache/go-resiliency/breaker                                    

 vu github.com/eapache/go-xerial-snappy                                         

 vu github.com/eapache/queue                                                    

 vu github.com/cpuguy83/go-md2man/md2man                                        

 vu github.com/docker/docker/pkg/aaparser                                       

 vu github.com/docker/docker/pkg/authorization                                  

 vu github.com/docker/docker/pkg/broadcaster                                    

 vu github.com/docker/docker/pkg/chrootarchive                                  

 vu github.com/docker/docker/pkg/devicemapper                                   

 vu github.com/docker/docker/pkg/directory                                      

 vu github.com/docker/docker/pkg/discovery                                      

 vu github.com/docker/docker/pkg/discovery/file                                 

 vu github.com/docker/docker/pkg/discovery/kv                                   

 vu github.com/docker/docker/pkg/discovery/memory                               

 vu github.com/docker/docker/pkg/discovery/nodes                                

 vu github.com/docker/docker/pkg/filenotify                                     

 vu github.com/docker/docker/pkg/gitutils                                       

 vu github.com/docker/docker/pkg/graphdb                                        

 vu github.com/docker/docker/pkg/httputils                                      

 vu github.com/docker/docker/pkg/integration                                    

 vu github.com/docker/docker/pkg/integration/checker                            

 vu github.com/docker/docker/pkg/jsonlog                                        

 vu github.com/docker/docker/pkg/jsonmessage                                    

 vu github.com/docker/docker/pkg/listeners                                      

 vu github.com/docker/docker/pkg/locker                                         

 vu github.com/docker/docker/pkg/loopback                                       

 vu github.com/docker/docker/pkg/mount                                          

 vu github.com/docker/docker/pkg/parsers                                        

 vu github.com/docker/docker/pkg/parsers/kernel                                 

 vu github.com/docker/docker/pkg/parsers/operatingsystem                        

 vu github.com/docker/docker/pkg/pidfile                                        

 vu github.com/docker/docker/pkg/platform                                       

 vu github.com/docker/docker/pkg/plugins                                        

 vu github.com/docker/docker/pkg/plugins/pluginrpc-gen/fixtures                 

 vu github.com/docker/docker/pkg/plugins/pluginrpc-gen/fixtures/otherfixture    

 vu github.com/docker/docker/pkg/plugins/transport                              

 vu github.com/docker/docker/pkg/progress                                       

 vu github.com/docker/docker/pkg/pubsub                                         

 vu github.com/docker/docker/pkg/reexec                                         

 vu github.com/docker/docker/pkg/registrar                                      

 vu github.com/docker/docker/pkg/signal                                         

 vu github.com/docker/docker/pkg/streamformatter                                

 vu github.com/docker/docker/pkg/stringid                                       

 vu github.com/docker/docker/pkg/stringutils                                    

 vu github.com/docker/docker/pkg/symlink                                        

 vu github.com/docker/docker/pkg/sysinfo                                        

 vu github.com/docker/docker/pkg/tailfile                                       

 vu github.com/docker/docker/pkg/tarsum                                         

 vu github.com/docker/docker/pkg/term                                           

 vu github.com/docker/docker/pkg/term/windows                                   

 vu github.com/docker/docker/pkg/testutil                                       

 vu github.com/docker/docker/pkg/tlsconfig                                      

 vu github.com/docker/docker/pkg/truncindex                                     

 vu github.com/docker/docker/pkg/urlutil                                        

 vu github.com/docker/docker/pkg/useragent                                      

 vu github.com/docker/docker/volume                                             

 vu github.com/gocraft/web                                                      

 vu github.com/golang/protobuf/ptypes                                           

 vu github.com/google/gofuzz                                                    

 vu github.com/howeyc/gopass                                                    

 vu github.com/manudrijvers/amcl/go                                             

 vu github.com/mattn/go-sqlite3                                                 

 vu github.com/russross/blackfriday                                             

 vu github.com/shurcooL/sanitized_anchor_name                                   

 vu golang.org/x/crypto/hkdf                                                    

 vu golang.org/x/crypto/ssh                                                     

 vu golang.org/x/net/bpf                                                        

 vu golang.org/x/net/context/ctxhttp                                            

 vu golang.org/x/net/dict                                                       

 vu golang.org/x/net/html/charset                                               

 vu golang.org/x/net/icmp                                                       

 vu golang.org/x/net/idna                                                       

 vu golang.org/x/net/internal/iana                                              

 vu golang.org/x/net/internal/nettest                                           

 vu golang.org/x/net/ipv4                                                       

 vu golang.org/x/net/ipv6                                                       

 vu golang.org/x/net/netutil                                                    

 vu golang.org/x/net/proxy                                                      

 vu golang.org/x/net/publicsuffix                                               

 vu golang.org/x/net/route                                                      

 vu golang.org/x/net/webdav                                                     

 vu golang.org/x/net/webdav/internal/xml                                        

 vu golang.org/x/net/xsrftoken                                                  

 vu google.golang.org/grpc/grpclog/glogger                                      

 vu google.golang.org/grpc/health                                               

 vu google.golang.org/grpc/health/grpc_health_v1                                

 vu google.golang.org/grpc/reflection                                           

 vu google.golang.org/grpc/reflection/grpc_reflection_v1alpha                   

 vu google.golang.org/grpc/reflection/grpc_testing                              

 vu google.golang.org/grpc/test                                                 

 vu google.golang.org/grpc/test/codec_perf                                      

 vu google.golang.org/grpc/test/grpc_testing                                    

 vu google/protobuf                                                             

 vu github.com/klauspost/crc32                                                  

 vu github.com/pierrec/lz4                                                      

 vu github.com/rcrowley/go-metrics ",,ChristopherFerris,denyeart,greg.haskins,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxvr3:",,,,,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,denyeart,greg.haskins,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"18/May/17 10:36 AM;greg.haskins;Are we confident that there are no build/tag permutations that might reference these?;;;","18/May/17 10:54 AM;ChristopherFerris;[~greg.haskins] no, so I am removing them one at a time and bypassing any that are actually needed

 ;;;","18/May/17 10:57 AM;greg.haskins;google/protobuf looks highly suspicious ;);;;","27/Nov/17 12:15 PM;denyeart;[~ChristopherFerris] Are you still intending to work on this?;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Support subset selection of consortium members for channel creation,FAB-3980,16813,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jeffgarratt,jeffgarratt,jeffgarratt,18/May/17 12:08 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,10/Jun/17 12:06 AM,v1.0.0-alpha2,,,v1.0.0,,,,,,,,,0,quality,,,,,,,Provide support for channel creators to choose a subset of the consortium members for channel membership.,,jeffgarratt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-1141,,,,,,,,,,"1|hzxvrj:",,,,,,,,,,,,,,,1.0,,,,,,,,,,,,jeffgarratt,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"07/Jun/17 6:04 AM;jeffgarratt;Submitted CR [https://gerrit.hyperledger.org/r/#/c/10237/]

 ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Provide various governance options for scenarios.,FAB-3981,16814,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jeffgarratt,jeffgarratt,jeffgarratt,18/May/17 12:11 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,10/Jul/18 3:23 AM,v1.0.0-alpha2,,,v1.0.0,,fabric-quality,,,,,,,0,,,,,,,,Provide governance options of Dictatorial/Democratic/Unanimous as scenario options for controlling the default policy settings.,,jeffgarratt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-1141,,,,,,,,,,"1|hzxvrr:",,,,,,,,,,,,,,,1.0,,,,,,,,,,,,jeffgarratt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"18/May/17 4:28 AM;jeffgarratt;# channel/Admins, channe/orderer/admins, channel/application/admins
 #  channelCreationPolicy => rational default of 'ruleAll';;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
performance benchmark: 60 hour long run,FAB-3983,16817,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,dongming,dongming,dongming,18/May/17 12:45 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,05/Oct/17 3:42 AM,,,,v1.0.0,,fabric-quality,,,,,,,0,quality,,,,,,,"+Test Name+:  FAB-3983_performance benchmark: 60 hour long run

+Component+:  performance

+Description+:  60 hour long run
 * transactions: 4 threads, each thread sends 1 invoke per second to the anchor peer of an org of each channel for 60 hours as the following:

 # thread 1 sends to org1 peer1 on channel 1
 # thread 2 sends to org2 peer1 on channel 1
 # thread 3 sends to org1 peer1 on channel 2
 # thread 4 sends to org2 peer1 on channel 2

 *  After the 60 hours, each thread sends a query to verify its final transaction was written to the ledger.

+Artifact Locations+:  crypto-config

+Network Topology+:  docker containers; 2 channels, 2 organizations, 2 peers per org, 1 orderer, 3 kafka, with TLS enabled

+Client Driver+:  PTE

+Input+:  ./pte_driver.sh userInputs/runCase-chan-constant-i.txt

+Output+:  The benchmark passes if it  completes without any error. The benchmark fails if it encounters error or does not complete, or if any query fails.",,dongming,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3771,,,,,,,,,,"1|hzx2vr:",,,,,,Sprint 18 - Quality,Sprint 19 - Quality,,,,,,,,,,,,,,,,,,,,dongming,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Orderer binary should allow for dynamic setting of log levels,FAB-3984,16819,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,kchristidis,kchristidis,18/May/17 1:19 AM,19/Oct/18 8:37 PM,28/Oct/23 2:59 AM,08/Mar/18 12:22 AM,v1.0.0-alpha2,,,WON'T FIX,,fabric-orderer,,,,,,,0,common-components,serviceability,,,,,,Similar to what the peer does. This will allow for easier debugging.,,ChristopherFerris,hancockp,inatatsu,kchristidis,mastersingh24,wlahti,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-4832,,FAB-12265,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzxvs7:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,ChristopherFerris,hancockp,inatatsu,kchristidis,mastersingh24,wlahti,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"18/May/17 1:20 AM;kchristidis;[~wlahti] you're the domain expert here, so we'll need your help. Pointers (for sure), and maybe implementation.

Let's start with pointers. What do we need to do this to allow this? Any code snippets you can point us to (from the peer side)?

Thank you.;;;","18/May/17 1:26 AM;kchristidis;(Maintainers: added the ""review-needed"" label as this doesn't exactly fall into the ""bug fix"" category. Let us know what you think.);;;","24/May/17 4:48 AM;ChristopherFerris;think that this could wait till post 1.0;;;","24/May/17 5:01 AM;yacovm;From what I know to do that like it works in the peer we'll need to extend the gRPC API of the ordering service.;;;","24/May/17 10:24 PM;ChristopherFerris;that reinforces my position then... it should wait;;;","24/May/17 11:34 PM;wlahti;The primary code to view/update log levels dynamically for the peer resides in peer/clilogging ([https://github.com/hyperledger/fabric/tree/master/peer/clilogging]). We'll need that as well as a basic orderer CLI implementation and something similar to the ServerAdmin ([https://github.com/hyperledger/fabric/blob/master/core/admin.go]) to handle the gRPC interactions.

As to the effort to implement this, I'd think the majority of the code should be reusable with some simple changes from the peer to the orderer. My initial (very rough) guess would be a day or two to port the code and test things out.;;;","25/May/17 4:06 PM;yacovm;I think we should wait with this also not only because we need to extend the gRPC interface but also because I think the approach we have in the peer CLI is wrong for the ordering service and might be also wrong with the peer - there is 0 access control in this admin server. It means *anyone*, even clients can control the logging level of a peer and the logging level of an ordering service.

I think that gRPC is the wrong protocol for such things, and we should adopt something else like https://github.com/davecheney/gmx 
;;;","26/May/17 12:22 AM;kchristidis;^^ Thanks for this, this is good feedback. If that's the case, and if Will agrees, let's defer till after 1.0 is cut and reconsider our approach.;;;","26/May/17 6:56 PM;mastersingh24;Defer;;;","08/Mar/18 12:21 AM;kchristidis;I'll close this. At one point in the not too distant future, we'll have to re-evaluate our logging approach in its entirety.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Chaincode can't reach Peer when TLS is on and CORE_PEER_ADDRESSAUTODETECT=true,FAB-3986,16821,,Bug,Closed,FAB,Fabric,software,denyeart,,,Low,Done,,LeoKotschenreuther,LeoKotschenreuther,18/May/17 2:58 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,05/Jun/17 5:15 AM,v1.0.0-alpha1,,,v1.0.0,,fabric-peer,,,,,,,0,,,,,,,,"I was trying to apply the [e2e example|https://github.com/hyperledger/fabric/tree/master/examples/dchackfest/samples/e2e] to my preexisting Hyperledger setup, especially the TLS settings. I was able to create and join channels and to install chaincode. However, when I was trying to instantiate chaincode, the chaincode container would crash about two seconds after it had started. I attached the chaincode container's log output in a file.

It turned out, I had the environment variable CORE_PEER_ADDRESSAUTODETECT set to ""true"" in my peers. Removing the variable and setting CORE_PEER_ADDRESS to the actual address (an URL like ""peer0.org1.example.com"") in the docker-compose network fixed the problem.

From looking at the log file, it seems like the certificates are generated for the full URL and not the actual IP address of the peer (which makes sense since the IP address can change). If CORE_PEER_ADDRESSAUTODETECT is set to true, the peer seems to get his own IP address and pass that one to the chaincode container instead of the full URL.

Is that behavior supposed to be like that or is that a bug?",,LeoKotschenreuther,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"18/May/17 2:52 AM;LeoKotschenreuther;log.txt;https://jira.hyperledger.org/secure/attachment/10829/log.txt",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxvsn:",,,,,,,,,,,,,,,,,,,,,,,,,,,LeoKotschenreuther,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"02/Jun/17 7:51 AM;muralisr;[~LeoKotschenreuther] its working as ... expected. Auto address detect picks the first non-loopback, IPv4 address in the system. It'll certainly not work for Chaincode when TLS enabled (except for the narrow case of matching the address in the cert).;;;","05/Jun/17 5:15 AM;muralisr;[~LeoKotschenreuther] let me close this as Done. Do reopen if you need clarification please.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add Auction Chaincode in the Test Suite,FAB-3987,16824,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sandp125,sandp125,sandp125,18/May/17 3:29 AM,21/Jul/18 3:55 AM,28/Oct/23 2:59 AM,03/Jun/17 2:03 AM,v1.0.0,,,v1.0.0,,fabric-quality,,,,,,,0,quality,,,,,,,"Auction App created  by IT People Corporation was initially developed in Fabric V0.6. 

This story covers migration of chaincode from V0.6  to V1.0.

 ",,sandp125,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzxvsv:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,sandp125,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add Auction API Driver in Test Suite,FAB-3988,16825,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sandp125,sandp125,sandp125,18/May/17 3:30 AM,21/Jul/18 3:55 AM,28/Oct/23 2:59 AM,01/Jun/17 7:47 PM,v1.0.0,,,v1.0.0,,fabric-quality,,,,,,,0,quality,,,,,,,This story covers creating a shell script for running the Auction App in the Daily/Weekly Test Suite,,sandp125,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzxvt3:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,sandp125,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
TPS performance benchmarks: 1K TX per threads,FAB-3989,16826,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,dongming,dongming,dongming,18/May/17 3:35 AM,30/Jul/19 11:41 AM,28/Oct/23 2:59 AM,30/Jul/19 11:41 AM,,,,v1.1.0,,fabric-quality,,,,,,,0,,,,,,,,"8 performance benchmark tests for testing concurrency and obtaining Transactions Per Second (TPS)

performance tool: PTE

network configuration: 1 channel, 2 org, 2 peer with TLS enabled

chaincode: sample_cc

transactions: each thread sends 1000 transactions to the anchor peer in org 1

 

Repeat the following testcases when using 4 threads, and when using 8 threads:
 # 4 threads X 1000 invokes, basic solo network
 # 4 threads X 1000 queries, basic solo network
 # 4 threads X 1000 invokes, svt kafka network
 # 4 threads X 1000 queries, svt kafka network
 # 8 threads X 1000 invokes, basic solo network
 # 8 threads X 1000 queries, basic solo network
 # 8 threads X 1000 invokes, svt kafka network
 # 8 threads X 1000 queries, svt kafka network

 

svt network, kafka: [https://github.com/suryalnvs/fabric-docker-compose-svt/blob/master/docker-compose-e2e.yaml]

basic network, solo: [https://github.com/hyperledger/fabric/blob/master/examples/e2e_cli/docker-compose-e2e.yaml]

 

Expected results:

Automated test will pass if all transactions are processed successfully,

The overall TPS (Transactions Per Second) will be calculated.",,dongming,haiheipijuan,mastersingh24,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-4036,FAB-4038,FAB-4041,FAB-4044,FAB-4045,FAB-4039,FAB-4040,FAB-4043,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzx2vz:",,,,Unset,,Sprint 18 - Quality,Sprint 19 - Quality,,,,,,,,,Unset,,,,,,,,,,,dongming,haiheipijuan,mastersingh24,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"11/Feb/18 7:21 AM;scottz;Currently, the kafka tests (#3,4,7,8 from the description list) have been automated by using fabric-test/tools/PTE/CITest/scripts/test_nl.sh and the files in fabric-test/tools/PTE/CITest/-FAB-3989--4i-TLS/. They use levelDB, and samplecc GO, and send 1000 transactions on two channels. Only those 4 are also listed on the SVT spreadsheet.;;;","17/May/18 1:10 AM;scottz;Currently we have created 4 testcases for the kafka tests, with these titles. To execute this ""story"" then run these 4 testcases in CITest/. They all us LevelDB and kafka.
 # FAB-3989-4i-TLS
 # FAB-3989-4q-TLS
 # FAB-3989-8i-TLS
 # FAB-3989-8q-TLS;;;","30/Jul/19 11:41 AM;mastersingh24;Open 1 year or more with no activity ... time to cleanup;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Chaincode Authorizations Management (ACL),FAB-3990,16831,,Story,Closed,FAB,Fabric,software,denyeart,,,High,Won't Do,,timpii,timpii,18/May/17 4:39 AM,23/Jan/20 4:10 AM,28/Oct/23 2:59 AM,23/Jan/20 4:10 AM,,,,,,fabric-docs,,,,,,,1,stale-item,,,,,,,"Need understanding of how to manage authorizations around who can deploy, instantiate and update chaincode to various chains. This includes chaincode signing and how the signing is validated by each of the components during each process.",,C0rnelius,ChristopherFerris,pdina,shanlusun,smithbk,sykesm,timpii,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzxvtb:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,C0rnelius,ChristopherFerris,pdina,shanlusun,smithbk,sykesm,timpii,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"25/May/17 3:07 AM;smithbk;The term ""deploy"" is used (at least in the code) to mean ""instantiate"", so to avoid confusion, I'll just use the terms ""install"" and ""instantiate"" below.

The following is a description of the authorization checks that are made for each of these operations:

1) For *install* of chaincode to a peer, the invoker must be one of the admins of the peer's local MSP.

    This maps to the admincerts directory of the local MSP.

2) For *instantiation* and *update/upgrade* of chaincode to a channel, two checks are made:

    a) the invoker must be a member of any of the MSPs associated with the channel, which means it must be signed by one of the cacerts or intermediatecerts of one of the channel's MSPs.  A standard x509 trust chain must be built, with one of the cacerts being a trusted root.

    b) the invoker must satisfy the chaincode package's policy.  If there is no policy specified, the default policy is that the invoker must be one of the admins of any of the MSPs associated with the channel.

 

The following is a description of the flow of instantiation of ""signed chaincode"":

1) The app sends an instantiation proposal to the LSCC (Lifecycle System Chain Code) on the peer with an appropriate signature.

2) The LSCC validates 2a and 2b above.  Assuming it passes, the ESCC returns the endorsement to the app.

3) The app sends the instantiation transaction to the orderer which checks the endorsements and proceeds as any other transaction from this point forward.

 

Does this clarify?  Any additional follow on questions?

 ;;;","30/May/17 8:36 PM;timpii;1/ When validating an invoker then is a MSP & Certificate  pair sent as part of a transaction ?

Does  the validation logic check only the named MSP to see if the certificate is valid,  or is just a certificate sent, and then all relevant MSP checked to find the validity ?

Is this the same for all transactions ?

 

2/ A package of code can be signed.  In FAB-3990 there is no description on the who or what verify  the signer of the package other than being able to specify within the package the chaincodes packages instanton policy.

What effect does signing a package using “peer peer chaincode package” / “peer  chaincode signpackage” have  as   opposed to the signature of the  invoking peer  using “ peer install” or “peer instantiate” have ?   FAB-3990 is written in terms of the “invoker” which I take to mean the peer issuing the  “instantiate” .;;;","30/May/17 8:47 PM;timpii;When installing chaincode to a peer generally the discussion starts with the install command as briefly described above. The implicit assumption is that the chaincode is available to the local peer. 

Are there any scenarios where the peer can obtain the chaincode from an external service and install it? Both push and pull models? I am thinking of 2 scenarios:
1) An App store - a client requests the use of an application from an external service and upon successful authentication of the request downloads and installs the container images and chaincode to a peer(s).
2) A network operations oracle (service) helps manage the installation and upgrade of chaincode from a centralized service.;;;","01/Jun/17 7:37 PM;ChristopherFerris;[~timpii] if I understand this correctly, you are looking for (improved) documentation. Yes?;;;","12/Jun/17 11:55 PM;timpii;Yes to the documentation. In the meantime we are trying to get a granular understanding more for operational management and security.

For example:
1) Chaincode gets converted into a container image in the local repository of docker . When that happens? Is it at install on the peer or the first time the chaincode needs to be called.;;;","23/Jan/20 4:10 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Chain Authorizations for Creating and Updating Chains,FAB-3991,16832,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,timpii,timpii,18/May/17 4:47 AM,23/Jan/20 4:10 AM,28/Oct/23 2:59 AM,23/Jan/20 4:10 AM,,,,,,,,,,,,,0,stale-item,,,,,,,Need understanding surrounding the authorizations for creating and updating chains and their configurations. This includes understanding how each component in the process will validate the ACL authorizations for the chain creation and update requests.,,jyellick,rhegde,smithbk,sykesm,timpii,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzxvtj:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,jyellick,rhegde,smithbk,sykesm,timpii,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"25/May/17 11:48 PM;jyellick;[config.rst|https://github.com/hyperledger/fabric/blob/master/docs/source/configtx.rst]

Please especially see the section at the bottom: ""Creating channels"" for a low level detail on how channel creation transactions are authenticated;;;","25/May/17 11:59 PM;smithbk;Make that fabric/docs/source/configrx.rst and name of the section at the bottom is ""Channel creation"".

 

Also, here is something I started to write which may help ...

{color:#444444}The following describes what authorization checks are made for channel operations:{color}

{color:#444444}1) Channel creation is a transaction on the orderer's system channel. The invoker of a channel creation request to the orderer must satisfy the ChannelCreationPolicy for the consortium in the orderer's system channel. The default ChannelCreationPolicy as created by configtxgen in genesis block creation is ""any admin of any MSP in the consortium as defined in the system channel"". There is no way to override this policy in a yaml file. The following code around line 179 of fabric/common/configtx/tool/provisional/provisional.go is where the policy is set.{color}
{code:java}
config.TemplateConsortiumChannelCreationPolicy(consortiumName, policies.ImplicitMetaPolicyWithSubPolicy(
configvaluesmsp.AdminsPolicyKey,
cb.ImplicitMetaPolicy_ANY,{code}
{color:#444444}This policy can be updated dynamically as a config update on the orderer's system channel.{color}

 

{color:#444444}2) For channel config update, the invoker must satisfy the channelAdmin policy.{color};;;","26/May/17 2:21 AM;jyellick;With respect to (2)

For channel config update, the set of config modifications determines the policies which must be satisfied.

So, for example, if peerOrg0 wishes to update their anchor peers, then the ModPolicy for peerOrg0's anchor peers (by default, with is peerOrg0's ""Admins"" policy) will be evaluated to authorize the request.

On the other hand, if peerOrg0 wishes to add another peer org, then the ModPolicy of the ApplicationGroup (by default, this is the ApplicationGroup's ""Admins"" policy) must be satisfied.  By default, the ApplicationGroup's Admins policy requires that the majority of the Application org's Admins policies be satisfied.

There is another document which details policies as well:
[policies.rst|https://github.com/hyperledger/fabric/blob/master/docs/source/policies.rst]
;;;","12/Jun/17 11:57 PM;timpii;We intend to set all our organisations up with the same root CA but distinguish them based on the OU field. Our CA has indicated that the CRL list is provided at the root CA level and there is no easy programmable  interface to identify certificates to owners, as such we may need to add the entire  CRL list to each MSP. We are not expecting large numbers of items on the list given that we will have a closed community. 

The guidance that we had previously received was that this was not desirable. Was the guidance purely based on performance and the length of the CRL list or is there any other reason, such as a limitation on the size of the config transaction ?  

If performance is the concern memory or CPU time ?
;;;","23/Jan/20 4:10 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Increase msp/ package UT coverage,FAB-3992,16834,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,18/May/17 5:56 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,19/May/17 11:39 PM,,,,v1.0.0,,fabric-crypto,,,,,,,0,,,,,,,,"The CC of *github.com/hyperledger/fabric/msp* is 84%. 
It should be > 85% as required",,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx5lr:",,,,,,,,,,,,,,,,,,,,,,,,,,,yacovm,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Enable deliver_stdout to have MSP signing and support TLS,FAB-3993,16837,,Story,Closed,FAB,Fabric,software,denyeart,,,Low,Done,bmkor,bmkor,bmkor,18/May/17 7:42 AM,21/Jul/18 3:54 AM,28/Oct/23 2:59 AM,11/Aug/17 10:33 PM,v1.0.0-alpha2,,,WON'T FIX,,fabric-orderer,,,,,,,5,common-components,,,,,,,"Currently, the sample clients for the orderer are working without MSP signer and TLS features. This improvement would provide a new sample client with these two features.

The original client deliver_stdout assumes no TLS dial option and the payload was not signed with any certificate. A new client extended deliver_stdout was created to include 

1. TLS dial option which requires the user to specify the CA file for TLS;

2. MSP signing the payload which requires the user to specify msp directory which contains folder signcerts, keystores, admincerts and cacerts.

Code implementation can be found: [https://gerrit.hyperledger.org/r/#/c/9625/] 

 ",,bmkor,denyeart,kchristidis,mastersingh24,scottz,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzxvw7:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,bmkor,denyeart,kchristidis,mastersingh24,scottz,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"19/May/17 8:30 AM;bmkor;A crypto.LocalSigner was created.

grpc changed to have dial options supporting TLS.;;;","20/May/17 8:50 PM;kchristidis;https://gerrit.hyperledger.org/r/#/c/9589/;;;","23/May/17 10:23 AM;bmkor;Please refer to this one:
 [https://gerrit.hyperledger.org/r/#/c/9625/]

Example:

Assuming you are doing trying e2e_cli example with dockers and channel ID: my channel, you may try to test with the following command.

./deliver_stdout_msp -server localhost:7050 -tls -cafile ../../../examples/e2e_cli/crypto-config/ordererOrganizations/example.com/orderers/orderer.example.com/tls/ca.crt -chainID mychannel -overridehostname orderer.example.com -mspDir ../../../examples/e2e_cli/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/msp -mspID Org1MSP
;;;","24/May/17 1:25 AM;bmkor;Fixed a bug if TLS set to false, the dial option should append grpc.WithInsecure() instead of empty.

 ;;;","26/May/17 5:56 PM;mastersingh24;I'll have to review the CR itself, but this seems like a good thing todo and is pretty non-invasive in the core path;;;","31/May/17 1:19 PM;kchristidis;Resources are limited and other issues unfortunately need to take priority right now.

Ben, we keep this open but we'll merge after 1.0 is cut. (Sorry about this.)

Maintainers: if you disagree, chime in.;;;","31/May/17 1:38 PM;bmkor;Okay. I agree to wait until 1.0 is cut.;;;","31/May/17 1:55 PM;denyeart;[~bmkor] [~kchristidis] Since this is post 1.0 now, could you remove the review-needed tag?;;;","31/May/17 2:04 PM;kchristidis;Done.;;;","11/Aug/17 10:33 PM;kchristidis;Abandoned as noted in the changeset. Ben, or anyone else that's interested, is welcome to take over the code and get it ready for merging. Until then, I'll close this JIRA as WONTFIX.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Enable TLS,FAB-3995,16840,16442,Sub-task,Closed,FAB,Fabric,software,denyeart,,,High,Done,greg.haskins,greg.haskins,greg.haskins,18/May/17 10:29 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,29/May/17 10:08 AM,,,,,,fabric-tools,,,,,,,0,,,,,,,,"We need to support TLS=true mode.  Today, the chaincode fails to start properly when TLS is enabled.",,greg.haskins,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxvwf:",,,,,,,,,,,,,,,,,,,,,,,,,,,greg.haskins,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
peer does not invalidate old chaincode containers,FAB-3996,16843,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,mrkiouak,greg.haskins,greg.haskins,18/May/17 11:13 AM,23/Jan/20 4:11 AM,28/Oct/23 2:59 AM,23/Jan/20 4:11 AM,v1.0.0-alpha2,,,Future,,fabric-peer,,,,,,,1,chaincode,stale-item,,,,,,"The peer currently has two persistence layers for chaincode:
 # /var/hyperledger/fabric/peer/chaincodes
 # docker images

(1) is updated when new chaincode is installed.  (2) is updated when chaincode is instantiated for the first time.  Subsequent instantiate() operations will see that (2) already exists and optimize the build-phase away.

It is possible (and especially easy during development) to get in a situation where one persistence layer is cleaned independently from the other.  For instance, a peer running in docker and with an ephemeral /var will restart from scratch every time the container is launched.  However, the docker-images may continue to persist regardless since the storage for the images is on the peer's host.

The implication of this is that we can get in a situation where chaincode is loaded via install(), but that the instantiate() phase incorrectly optimizes the docker-build away because it detects a hit in the current image inventory.  Note that this detection is based purely on the chaincode name, and not it's contents.  The two impacts here are:
 # You may or may not get the proper executable.  E.g. there's no guarantee that the chaincode container of the same name is actually related to the code that was submitted.
 # You may or may not get the proper TLS setup.  The peer certificate is currently injected during the docker-build phase.  It is plausible that the peer may be using a completely different x509 since the container was built, but this is not detected.

While all of these maladies are much more likely to impact development use cases rather than production, it should be noted that it seems both a bit fragile to assume coherence, difficult to detect when it happens,  as well as easy to fix.  Therefore, we should consider enhancing the system to handle this gracefully.

The suggested fix is to invalidate the docker-images cache during the install() operation.",,cotofei,denyeart,greg.haskins,joaquimpedrooliveira,mastersingh24,muralisr,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-4447,,,,,FAB-5676,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxvwn:",,,,,,,,,,,,,,,,,,,,,,,,,,,cotofei,denyeart,greg.haskins,joaquimpedrooliveira,mastersingh24,muralisr,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"02/Jun/17 7:33 AM;muralisr;[~greg.haskins] I'm on the fence about fixing this for 1.0 vs doing post 1.0. On the one hand its got some usability benefits (esp. during dev). On the other, is the change worth it at this time ? ;;;","07/Jun/17 10:57 PM;greg.haskins;I think it's fine to wait.  However, I also suspect it's not a very complicated fix.  I think if we decide to defer, we should minimally ensure we document the workaround clearly, as it has the potential to confuse people.;;;","13/Jun/17 9:14 PM;muralisr;[~greg.haskins] moved this to 1.1 (really a vehicle after 1.0 though). Will make sure this is documented ( [~nickgaski] can you help me with this please);;;","16/Jun/17 5:50 AM;greg.haskins;Workaround: run the following before rebuilding a cluster
{noformat}
docker images | grep dev-peer | awk '{ print $1 }' | xargs docker rmi -f`{noformat};;;","09/Dec/17 7:34 PM;mastersingh24;I'm going to take this one unless [~ecb] is also working on this?  This is somewhat related to what we need to do in order to handle upgrading from v1.0.x to v1.1;;;","25/Jan/18 1:48 AM;sykesm;Spoke with [~mastersingh24] and it sounds like this will be addressed by the work he's doing in FAB-5676.;;;","15/Feb/18 2:24 AM;denyeart;[~mastersingh24] Should we move FAB-3996 and FAB-5676 to 1.2 at this point?;;;","22/Feb/18 12:37 AM;denyeart;Moving to 1.2.;;;","12/May/18 8:27 PM;mastersingh24;pushing to v1.3;;;","23/Jan/20 4:11 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Update RTD Fabric - Logging to include sdks, ca (extend past peer & CC)",FAB-3997,16844,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,mrkiouak,mrkiouak,18/May/17 11:18 AM,23/Jan/20 4:11 AM,28/Oct/23 2:59 AM,23/Jan/20 4:11 AM,,,,,,fabric-docs,,,,,,,0,documentation,fabric-ca,java-sdk,node-sdk,stale-item,,,"[https://hyperledger-fabric.readthedocs.io/en/latest/Setup/logging-control.html] provides a good overview of logging and environment variable controls for the fabric peer cli and CC containers

Extending the coverage of this page to include the other components under their own header (h1 project, h2 component, etc) will increase coverage, notably improving new user onboarding experience and the comprehensiveness of this RTD logging section.

This change should provide the necessary information for a user to adjust the logging levels of at least:
 # Each officially supported fabric SDK
 # Fabric ca client 
 # Fabric ca server
 # Orderer

Additionally, the existing peer and CC coverage, as well as the above mentioned list, should be expanded to include the container level controls for logging in the commonly supported files (.yamls come to mind).

As this logging page appears to return as a high result for many search engines when searching 'hyperledger fabric logging' it is appropriate for this to provide a comprehensive overview including the above.

 

 

 

 ",,mrkiouak,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzxvwv:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,mrkiouak,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 4:11 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"In the orderer container, same INFO message appears multiple times in a second ",FAB-3998,16845,,Story,Closed,FAB,Fabric,software,denyeart,,,Low,Done,,Amber.Zhang,Amber.Zhang,18/May/17 11:47 AM,21/Jul/18 3:54 AM,28/Oct/23 2:59 AM,10/Jul/18 3:23 AM,v1.0.0-alpha2,,,v1.0.0,,fabric-peer,,,,,,,0,,,,,,,,"The following messages are from peer.

Same INFO message appears multiple times in a second for days. It's not useful for bug diagnostic. Suggest to downgrade the message to DEBUG level. Also attaching Matt's suggestion on message logging level handle for your reference. Thank you!

==========Suggestion from Matt===============
As an example..I would expect WARN or higher on a identity validation failure which Im sure is already there, and possibly some type of checking in message on the scale of minutes would be ok at INFO level, but every identity check from every peer, every 100-200 milliseconds at INFO level seems a bit much. We always have the option of bumping log levels to DEBUG if its necessary, which is why we made the suggestion on classification difference. 
===========================================

 

2017-05-18 02:18:49.007 UTC [msp] DeserializeIdentity -> INFO 18663f[0m Obtaining identity
2017-05-18 02:18:49.007 UTC [msp] DeserializeIdentity -> INFO 186640[0m Obtaining identity
2017-05-18 02:18:49.007 UTC [msp] Validate -> INFO 186641[0m MSP PeerOrg1 validating identity
2017-05-18 02:18:49.033 UTC [msp] DeserializeIdentity -> INFO 186642[0m Obtaining identity
2017-05-18 02:18:49.033 UTC [msp] Validate -> INFO 186643[0m MSP PeerOrg1 validating identity
2017-05-18 02:18:49.045 UTC [msp] DeserializeIdentity -> INFO 186644[0m Obtaining identity
2017-05-18 02:18:49.115 UTC [msp] DeserializeIdentity -> INFO 186645[0m Obtaining identity
2017-05-18 02:18:49.115 UTC [msp] Validate -> INFO 186646[0m MSP PeerOrg1 validating identity
2017-05-18 02:18:49.126 UTC [msp] DeserializeIdentity -> INFO 186647[0m Obtaining identity
2017-05-18 02:18:49.126 UTC [msp] Validate -> INFO 186648[0m MSP PeerOrg1 validating identity
2017-05-18 02:18:49.135 UTC [msp] DeserializeIdentity -> INFO 186649[0m Obtaining identity
2017-05-18 02:18:49.137 UTC [msp] DeserializeIdentity -> INFO 18664a[0m Obtaining identity
2017-05-18 02:18:49.138 UTC [msp] DeserializeIdentity -> INFO 18664b[0m Obtaining identity
2017-05-18 02:18:49.473 UTC [msp] DeserializeIdentity -> INFO 18664c[0m Obtaining identity
2017-05-18 02:18:49.474 UTC [msp] Validate -> INFO 18664d[0m MSP PeerOrg1 validating identity
2017-05-18 02:18:49.484 UTC [msp] DeserializeIdentity -> INFO 18664e[0m Obtaining identity
2017-05-18 02:18:49.484 UTC [msp] Validate -> INFO 18664f[0m MSP PeerOrg1 validating identity
2017-05-18 02:18:49.494 UTC [msp] DeserializeIdentity -> INFO 186650[0m Obtaining identity
2017-05-18 02:18:49.494 UTC [msp] Validate -> INFO 186651[0m MSP PeerOrg1 validating identity
2017-05-18 02:18:49.500 UTC [msp] DeserializeIdentity -> INFO 186652[0m Obtaining identity
2017-05-18 02:18:49.500 UTC [msp] DeserializeIdentity -> INFO 186653[0m Obtaining identity
2017-05-18 02:18:49.504 UTC [msp] DeserializeIdentity -> INFO 186654[0m Obtaining identity
2017-05-18 02:18:49.504 UTC [msp] Validate -> INFO 186655[0m MSP PeerOrg1 validating identity
2017-05-18 02:18:49.526 UTC [msp] DeserializeIdentity -> INFO 186656[0m Obtaining identity
2017-05-18 02:18:49.527 UTC [msp] Validate -> INFO 186657[0m MSP PeerOrg1 validating identity
2017-05-18 02:18:49.539 UTC [msp] DeserializeIdentity -> INFO 186658[0m Obtaining identity
2017-05-18 02:18:49.539 UTC [msp] Validate -> INFO 186659[0m MSP PeerOrg1 validating identity
2017-05-18 02:18:49.630 UTC [msp] DeserializeIdentity -> INFO 18665a[0m Obtaining identity
2017-05-18 02:18:49.631 UTC [msp] DeserializeIdentity -> INFO 18665b[0m Obtaining identity
2017-05-18 02:18:49.632 UTC [msp] DeserializeIdentity -> INFO 18665c[0m Obtaining identity
2017-05-18 02:18:49.632 UTC [msp] DeserializeIdentity -> INFO 18665d[0m Obtaining identity
2017-05-18 02:18:49.632 UTC [msp] Validate -> INFO 18665e[0m MSP PeerOrg1 validating identity
2017-05-18 02:18:49.635 UTC [msp] DeserializeIdentity -> INFO 18665f[0m Obtaining identity
2017-05-18 02:18:49.635 UTC [msp] DeserializeIdentity -> INFO 186660[0m Obtaining identity
2017-05-18 02:18:49.635 UTC [msp] DeserializeIdentity -> INFO 186661[0m Obtaining identity
2017-05-18 02:18:49.641 UTC [msp] DeserializeIdentity -> INFO 186662[0m Obtaining identity
2017-05-18 02:18:49.641 UTC [msp] DeserializeIdentity -> INFO 186663[0m Obtaining identity
2017-05-18 02:18:49.641 UTC [msp] Validate -> INFO 186664[0m MSP PeerOrg1 validating identity
2017-05-18 02:18:49.660 UTC [msp] DeserializeIdentity -> INFO 186665[0m Obtaining identity
2017-05-18 02:18:49.670 UTC [msp] DeserializeIdentity -> INFO 186666[0m Obtaining identity
2017-05-18 02:18:49.670 UTC [msp] Validate -> INFO 186667[0m MSP PeerOrg1 validating identity
2017-05-18 02:18:49.679 UTC [msp] DeserializeIdentity -> INFO 186668[0m Obtaining identity
2017-05-18 02:18:50.055 UTC [msp] DeserializeIdentity -> INFO 186669[0m Obtaining identity
2017-05-18 02:18:50.055 UTC [msp] DeserializeIdentity -> INFO 18666a[0m Obtaining identity
2017-05-18 02:18:50.055 UTC [msp] Validate -> INFO 18666b[0m MSP PeerOrg1 validating identity
2017-05-18 02:18:50.762 UTC [msp] DeserializeIdentity -> INFO 18666c[0m Obtaining identity
2017-05-18 02:18:50.762 UTC [msp] DeserializeIdentity -> INFO 18666d[0m Obtaining identity
2017-05-18 02:18:50.789 UTC [msp] DeserializeIdentity -> INFO 18666e[0m Obtaining identity
2017-05-18 02:18:50.790 UTC [msp] Validate -> INFO 18666f[0m MSP PeerOrg1 validating identity
2017-05-18 02:18:50.799 UTC [msp] DeserializeIdentity -> INFO 186670[0m Obtaining identity
2017-05-18 02:18:50.799 UTC [msp] Validate -> INFO 186671[0m MSP PeerOrg1 validating identity
2017-05-18 02:18:50.809 UTC [msp] DeserializeIdentity -> INFO 186672[0m Obtaining identity
2017-05-18 02:18:50.810 UTC [msp] Validate -> INFO 186673[0m MSP PeerOrg1 validating identity
2017-05-18 02:18:50.814 UTC [msp] DeserializeIdentity -> INFO 186674[0m Obtaining identity
2017-05-18 02:18:50.814 UTC [msp] DeserializeIdentity -> INFO 186675[0m Obtaining identity
2017-05-18 02:18:50.819 UTC [msp] DeserializeIdentity -> INFO 186676[0m Obtaining identity
2017-05-18 02:18:50.819 UTC [msp] Validate -> INFO 186677[0m MSP PeerOrg1 validating identity",,Amber.Zhang,elli-androulaki,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzxvx3:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,Amber.Zhang,elli-androulaki,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"18/May/17 9:09 PM;kchristidis;[~adc] [~elli-androulaki];;;","23/May/17 7:10 PM;Amber.Zhang;Following is Matt's comments on the issue.

in the *orderer* it is this MSP message : 2017-05-13 08:18:14.128 UTC [msp] Validate -> INFO 018[0m MSP PeerOrg1 validating identity

Will checked that the MSP code and in the *peer* logs this is still at INFO level : 2017-05-15 16:40:18.390 UTC [msp] DeserializeIdentity -> INFO 1d66ab2[0m Obtaining identity
but the validate one in the peer logs should be gone in alpha2 forward.;;;","24/May/17 1:06 AM;elli-androulaki;Adding also [~adc], and [~ales] :);;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade to latest version of grpc-go,FAB-4002,16851,,Task,Closed,FAB,Fabric,software,denyeart,,,High,Done,mastersingh24,mastersingh24,mastersingh24,18/May/17 6:40 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,01/Jun/17 12:25 AM,v1.0.0,v1.0.0-alpha2,,v1.0.0,,fabric-orderer,fabric-peer,,,,,,6,,,,,,,,"The latest version of grpc-go includes a number of things we can take advantage of:


 * Keep alive
 * Client credentials
 * RPC and Stream interceptors",,binhn,ChristopherFerris,DennisM330,mastersingh24,troyronda,yacovm,,,,,,,,,,,,,";26/May/17 8:14 PM;mastersingh24;21600",";26/May/17 11:36 PM;mastersingh24;7200",28800,0,28800,100%,28800,0,28800,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-4212,FAB-4379,,,,,,FAB-3310,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxvxr:",,,,,,,,,,,,,,,,,,,,,,,,,,,binhn,ChristopherFerris,DennisM330,mastersingh24,troyronda,yacovm,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"26/May/17 7:58 PM;mastersingh24;I've added the review-needed to this because there are several issues open which involve connections timing out between components due to inactivity timeouts in the network closing persistent gRPC connections:

https://jira.hyperledger.org/browse/FAB-3310
https://jira.hyperledger.org/browse/FAB-2787

I don't think we can defer fixing the 2 issues listed above and while we can implement some temporary hacks and/or add our own health checking, we get all of this for free in the latest gRPC package(s).

I'm currently working on the CR and will submit so we can make an educated decision on the risk of doing this now, but my current position is that we better do this now else we are going to get burned with a number of defects around connectivity issues which will be hard to solve with down-level of grpc-go;;;","26/May/17 8:38 PM;ChristopherFerris;If we go this path, of upgrading gRPC then sooner rather than later so we have more time with it before 1.0. It may be the simplest approach to bite the bullet, and it will be more robust than anything we can do near term. It does present a bit of risk though,;;;","26/May/17 11:00 PM;mastersingh24;Agreed;;;","26/May/17 11:36 PM;mastersingh24;https://gerrit.hyperledger.org/r/#/c/9861/;;;","27/May/17 12:36 AM;binhn;So it looks like early changeset shows the actual code changes (our code) are minimum. Only the vendors and the protos regen. I vote to get it in as soon as the CR is ready so that we can run CI tests on it.;;;","27/May/17 12:40 AM;ChristopherFerris;+1;;;","27/May/17 7:19 PM;yacovm;{quote}
* Keep alive
{quote}
Uh, this doesn't come activated though, right?
We need to manually add a dial option (WithKeepaliveParams?) in our code to activate it?;;;","28/May/17 1:31 AM;mastersingh24;[~yacovm] - Correct - we will need to leverage the keep alive feature when we fix the bug(s) I listed above;;;","29/May/17 1:15 PM;jimthematrix;[~mastersingh24] what's the impact on SDKs? would the SDKs also need to upgrade grpc to corresponding level? I see end-2-end failed because java SDK's e2e timed out (so e2e_cli or node SDK's e2e didn't even run) at the step to send transaction to orderer. not sure what's causing it but may be related to usage of the stream rpc. [~rickr] can you take a look?;;;","29/May/17 2:37 PM;yacovm;[~mastersingh24] Currently e2e doesn't test gossip state transfer as you know because every peer is configured to use leader election so it might simply connect to the ordering service itself.

Perhaps someone should test before it is merged that the state transfer between peers works in production?
I know that the gossip tests use TLS, but I think it should also be tested in a prod environment with real certificates, etc.
What do you think? Or, if you have tested it yourself then there is no need.;;;","30/May/17 4:47 AM;mastersingh24;Of course I vote for getting this in, but probably not fair for me to vote given I created and implemented the CR for this already  ;);;;","31/May/17 12:09 AM;jimthematrix;[~jimthematrix] looks like the SDKs are able to work with the updated grpc in peers and fabric (node and java e2e tests both passing in https://gerrit.hyperledger.org/r/#/c/9861/) so that's good.

I still have a question on the fundamental level if I may: why can't we implement the keepalive ourselves similar to the keepalive messages being sent b/w the peer and chaincode containers? also [~harrisob@us.ibm.com] has been working on similar solutions for the event stream (b/w the app/SDK and peers) which has been discussed wth Gari. that seems much less risky and requires much limited scope of impact at this point. [~mastersingh24] can you comment?;;;","31/May/17 11:21 PM;ChristopherFerris;Has the five needed votes, removing from review-needed. This can now be merged.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
OU certificates fail to match due to inconsistent processing,FAB-4003,16852,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,passkit,passkit,passkit,18/May/17 7:32 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,30/May/17 8:23 AM,v1.0.0-alpha2,,,v1.0.0,,fabric-crypto,,,,,,,1,,,,,,,,"When checking the OU certificate against the intermediates and roots, the OU certificate is extracted using {{x509.ParseCertificate}} whereas the intermediates and roots are sanitised then reimported through {{msp.bccsp.KeyImport}}. The reimporting has the potential to change the signature algorithm which in turn results in certificates not matching, even though they are the same.

Attached is a certificate chain (intermediate and root) that demonstrates the problem",,ChristopherFerris,passkit,pmcosta1,yacovm,,,,,,,,,,,,,,,,,7200,7200,,0%,7200,7200,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"18/May/17 7:32 PM;passkit;ca-chain.cert.pem;https://jira.hyperledger.org/secure/attachment/10830/ca-chain.cert.pem",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxvxz:",,,,,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,passkit,pmcosta1,yacovm,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"18/May/17 7:40 PM;passkit;http://gerrit.hyperledger.org/r/9519;;;","30/May/17 3:02 AM;ChristopherFerris;This is borderline IMO in terms of the amount of production code affected. I think it should be merged.;;;","30/May/17 3:05 AM;yacovm;I also agree. This is a bug and the resolution to fix it is tiny and focused on a single file.;;;","30/May/17 8:22 AM;ChristopherFerris;ok, removed review-needed and merging;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
ORDERER_TRANSACTION error,FAB-4004,16853,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jsong1230,jsong1230,18/May/17 9:05 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,03/Jun/17 2:22 PM,v1.0.0-alpha2,,,WON'T FIX,,fabric-orderer,,,,,,,0,won't-fix,,,,,,,"I am trying to deploy a real fabric network without docker. I had no problem in alpha version, but got the following error in alpha2 version.

My network has 2 peers and 1 orderer. I used a CLI command.

Please find my commands.

{color:#ff0000}orderer{color}

{color:#ff0000}peer node start -o \{orderer IP}:7050{color}

 

After starting orderer, peer 1, 2, I created a block and tx.
 {color:#ff0000}configtxgen -profile SampleSingleMSPSolo -outputBlock ch4-1.block{color}
 {color:#ff0000}configtxgen -profile SampleSingleMSPChannel -outputCreateChannelTx ch4-1.tx -channelID ch4-1{color}
 Then created a channel and joined it at peer 1
 {color:#ff0000}peer channel create -o \{orderer1 IP}:7050 -c ch4-1 -f ch4-1.tx -b ch4-1.block{color}
 {color:#ff0000}peer channel join -o \{orderer1 IP}:7050 -b ch4-1.block -f ch4-1.tx{color}
  
 Copied tx and block from peer 1 to peer 2
 Then join a ch4-1 channel at peer 2
 {color:#ff0000}peer channel join -o \{orderer1 IP}:7050 -b ch4-1.block -f ch4-1.tx{color}
  
 It seems fine till this point. 
 I have tested myccttttt chancode at peer 1.
 {color:#ff0000}peer chaincode install -C ch4-1 -n myccttttt -v 0.4 -p github.com/hyperledger/fabric/examples/chaincode/go/chaincode_example02 -c '\{""Args"":[""init"",""a"",""100"",""b"",""200""]}'{color}
 {color:#ff0000}peer chaincode instantiate -n myccttttt -v 0.4 -c '\{""Args"":[""init"",""a"",""100"",""b"",""200""]}' -o\{orderer1 IP}:7050 -C ch4-1 -P ""OR ('OrdererMSP.member','Org1MSP.member')""{color}
 {color:#ff0000}peer chaincode invoke -n myccttttt -c '\{""Args"":[""invoke"",""a"",""b"",""10""]}' -o \{orderer1 IP}:7050 -C ch4-1{color}
 {color:#ff0000}peer chaincode query -n myccttttt -c '\{""Args"":[""query"",""a""]}' -o \{orderer1 IP}:7050 -C ch4-1{color}
  
 But when I tried query at peer 2, I got some errors as below.
 {color:#ff0000}peer chaincode install -C ch4-1 -n myccttttt -v 0.4 -p github.com/hyperledger/fabric/examples/chaincode/go/chaincode_example02 -c '\{""Args"":[""init"",""a"",""100"",""b"",""200""]}'{color}
 {color:#ff0000}peer chaincode query -n myccttttt -c '\{""Args"":[""query"",""a""]}' -o \{orderer1 IP}:7050 -C ch4-1{color}
  
 and got the following error at peer 2.

{color:#ff0000}2017-05-18 20:47:35.011 KST [gossip/gossip] Gossip -> WARN 049 Failed obtaining gossipChannel of [116 101 115 116 99 104 97 105 110 105 100] aborting{color}
 {color:#ff0000}2017-05-18 20:47:35.011 KST [protoutils] ValidateTransaction -> ERRO 04a validateCommonHeader returns err invalid header type ORDERER_TRANSACTION{color}
 {color:#ff0000}2017-05-18 20:47:35.011 KST [txvalidator] Validate -> ERRO 04b Invalid transaction with index 0{color}
 {color:#ff0000}2017-05-18 20:47:35.011 KST [statevalidator] ValidateAndPrepareBatch -> WARN 04c Block [1] Transaction index [0] marked as invalid by committer. Reason code [3]{color} 

Am I doing something wrong?

Here I attach my core.yaml, orderer.yaml, and configtx.yaml files.
  

It guess there is something being changed about policies.

Below is the warning and error messages in orderer window.

Thanks in advance.

Jeffrey

{color:#ff0000}2017-05-18 20:47:34.965 KST [policies] CommitProposals -> WARN 00e Current configuration has no policy '/Channel/Application/Readers', this will likely cause problems in production systems{color}
 {color:#ff0000}2017-05-18 20:47:34.965 KST [policies] CommitProposals -> WARN 00f Current configuration has no policy '/Channel/Application/Writers', this will likely cause problems in production systems{color}
 {color:#ff0000}2017-05-18 20:47:34.965 KST [policies] CommitProposals -> WARN 010 Current configuration has no policy '/Channel/Application/Admins', this will likely cause problems in production systems{color}
 {color:#ff0000}2017-05-18 20:47:34.966 KST [cauthdsl] func2 -> ERRO 011 Principal deserialization failed: (Could not deserialize a SerializedIdentity, err unexpected EOF) for identity [99 101 114 116]{color}
 {color:#ff0000}2017-05-18 20:47:34.970 KST [policies] CommitProposals -> WARN 012 Current configuration has no policy '/Channel/Application/Readers', this will likely cause problems in production systems{color}
 {color:#ff0000}2017-05-18 20:47:34.971 KST [policies] CommitProposals -> WARN 013 Current configuration has no policy '/Channel/Application/Writers', this will likely cause problems in production systems{color}
 {color:#ff0000}2017-05-18 20:47:34.971 KST [policies] CommitProposals -> WARN 014 Current configuration has no policy '/Channel/Application/Admins', this will likely cause problems in production systems{color}
 {color:#ff0000}2017-05-18 20:47:34.971 KST [cauthdsl] func2 -> ERRO 015 Principal deserialization failed: (Could not deserialize a SerializedIdentity, err unexpected EOF) for identity [99 101 114 116]{color}
 {color:#ff0000}2017-05-18 20:47:34.973 KST [cauthdsl] func2 -> ERRO 016 Principal deserialization failed: (Could not deserialize a SerializedIdentity, err unexpected EOF) for identity [99 101 114 116]{color}
 {color:#ff0000}2017-05-18 20:47:34.980 KST [policies] CommitProposals -> WARN 017 Current configuration has no policy '/Channel/Application/Readers', this will likely cause problems in production systems{color}
 {color:#ff0000}2017-05-18 20:47:34.980 KST [policies] CommitProposals -> WARN 018 Current configuration has no policy '/Channel/Application/Writers', this will likely cause problems in production systems{color}
 {color:#ff0000}2017-05-18 20:47:34.980 KST [policies] CommitProposals -> WARN 019 Current configuration has no policy '/Channel/Application/Admins', this will likely cause problems in production systems{color}
 {color:#ff0000}2017-05-18 20:47:34.981 KST [cauthdsl] func2 -> ERRO 01a Principal deserialization failed: (Could not deserialize a SerializedIdentity, err unexpected EOF) for identity [99 101 114 116]{color}
 {color:#ff0000}2017-05-18 20:47:34.982 KST [cauthdsl] func2 -> ERRO 01b Principal deserialization failed: (Could not deserialize a SerializedIdentity, err unexpected EOF) for identity [99 101 114 116]{color}
 {color:#ff0000}2017-05-18 20:47:34.994 KST [orderer/multichain] newChain -> INFO 01c Created and starting new chain ch4-1{color}",,jsong1230,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"18/May/17 9:04 PM;jsong1230;configtx.yaml;https://jira.hyperledger.org/secure/attachment/10833/configtx.yaml","18/May/17 9:04 PM;jsong1230;core.yaml;https://jira.hyperledger.org/secure/attachment/10832/core.yaml","18/May/17 9:04 PM;jsong1230;orderer.yaml;https://jira.hyperledger.org/secure/attachment/10831/orderer.yaml",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxvy7:",,,,,,,,,,,,,,,,,,,,,,,,,,,jsong1230,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"03/Jun/17 3:01 AM;jyellick;> After starting orderer, peer 1, 2, I created a block and tx.
> configtxgen -profile SampleSingleMSPSolo -outputBlock ch4-1.block
> configtxgen -profile SampleSingleMSPChannel -outputCreateChannelTx ch4-1.tx -channelID ch4-1
> Then created a channel and joined it at peer 1
> peer channel create -o {orderer1 IP}:7050 -c ch4-1 -f ch4-1.tx -b ch4-1.block
> peer channel join -o {orderer1 IP}:7050 -b ch4-1.block -f ch4-1.tx
 
This is not the correct workflow.  The `outputBlock` is only used for orderer bootstrap, and is not involved in channel creation.

The `peer channel create` command sends the configtx to the orderer, which creates the channel, and the genesis block for that channel.  The `peer channel create` command then retrieves the block from the orderer, and writes it to disk.  It is this output block which must be used as the parameter to the join channel.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add channel name to blocksProvider logger,FAB-4005,16854,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,18/May/17 9:09 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,23/May/17 7:29 AM,v1.0.0-alpha2,,,v1.0.0,,fabric-peer,,,,,,,0,,,,,,,,"In case there are problems with fetching blocks its' not clear to which channel it corresponds to:

ESC[33m2017-05-18 07:51:02.227 EDT [blocksProvider] DeliverBlocks -> WARN 045ESC[0m Got error  &{FORBIDDEN}
ESC[33m2017-05-18 07:51:03.230 EDT [blocksProvider] DeliverBlocks -> WARN 046ESC[0m Got error  &{FORBIDDEN}
ESC[33m2017-05-18 07:51:04.232 EDT [blocksProvider] DeliverBlocks -> WARN 047ESC[0m Got error  &{FORBIDDEN}
ESC[33m2017-05-18 07:51:05.235 EDT [blocksProvider] DeliverBlocks -> WARN 048ESC[0m Got error  &{FORBIDDEN}
ESC[33m2017-05-18 07:51:06.238 EDT [blocksProvider] DeliverBlocks -> WARN 049ESC[0m Got error  &{FORBIDDEN}
ESC[33m2017-05-18 07:51:07.241 EDT [blocksProvider] DeliverBlocks -> WARN 04aESC[0m Got error  &{FORBIDDEN}

We should add the channel name to the blocks provider logger",,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxvyf:",,,,,,Sprint 16 - Gossip,,,,,,,,,,,,,,,,,,,,,yacovm,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
need bootstrap script for Getting Started,FAB-4007,16856,,Story,Closed,FAB,Fabric,software,denyeart,,,High,Done,ChristopherFerris,ChristopherFerris,ChristopherFerris,18/May/17 10:27 PM,21/Jul/18 3:57 AM,28/Oct/23 2:59 AM,19/May/17 12:44 AM,v1.0.0-alpha2,,,v1.0.0,,fabric-docs,,,,,,,0,Documentation,UX,,,,,,"we really need to improve the getting started experience. We had a bootstrap for v0.6 and we need to have one for v1.0*.

 

basically, you would add to GS doc the following instruction:

To download and install the various Fabric artifacts needed to get started, execute the following command from a terminal shell:

% curl -sS [https://raw.githubusercontent.com/hyperledger/fabric/master/examples/e2e_cli/bootstrap.sh] | bash

This will download our end-2-end example and the docker images needed to run it.

NOTE: we could add checks for Docker and other prerequisites, but with the docs providing that info, that can wait.

 ",,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzxvyn:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"18/May/17 10:29 PM;ChristopherFerris;https://gerrit.hyperledger.org/r/#/c/9525/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Changing test env image tag ,FAB-4008,16858,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,JonathanLevi,JonathanLevi,18/May/17 11:37 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,19/May/17 5:45 AM,,,,v1.0.0-alpha2,,,,,,,,,0,,,,,,,,"[~rameshthoomu], please can you kindly override this comment with details?
https://chat.hyperledger.org/channel/fabric-release?msg=pZNzAm5qCHpMyMWYX",,JonathanLevi,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxvyv:",,,,,,,,,,,,,,,,,,,,,,,,,,,JonathanLevi,rameshthoomu,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"19/May/17 12:29 AM;rameshthoomu;Submitted patch to run cli container on peer image..

1) This change is required not to force users to build docker images using make docker.. The reason behind this is, we don't have testenv image in hyperledger docker hub account so when a user run download_dockerimages.sh script or get-docker-images.sh script to pull docker images it only pulls peer, orderer etc.. but not testenv. This is forcing user to build images using `make docker`..  This is to avoid that step

2) When I create tar ball I replace testenv with peer image. So to create tar ball this change is not required. 

 ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
failing to recognize newly elected kafka leader orderer fails to process a transaction,FAB-4012,16862,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,kchristidis,Nishi,Nishi,19/May/17 12:06 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,10/Jun/17 4:24 AM,v1.0.0-alpha2,,,v1.0.0,,fabric-orderer,,,,,,,0,kafka,quality,,,,,,"commit levels:
 fabric-sdk-node *8e878750e8d9d4a213e976eceb57699393f74aeb*
 fabric *217b8f60c625a6ffaddd3219bd60baca415e2b7c*

When we were testing fabric-sdk-node e2e scneario with a docker network based on docker-compose-e2e.yaml file (attached here)

Following scenario failed during our kafka broker testing.

1. Bring up the network. (1 orderer, 3 kafka brokers, 3 zoo-keepers, 2 org with 2 peer each with TLS)
 2. Send a invoke transaction
 3. Query yields successful results as expected
 4. Now identify leader of kafka cluster, from logs in our scenario it was broker1 i.e. kafka0 (kafka0:1, kafka1:2, kafka2: 3)
 5. Pause all kafka brokers in the order below

1. docker pause kafka1
 2. docker pause kafka2
 3. docker pause kafka0 (leader stopped at end)
 6. Wait 30 seconds
 7. docker unpause kafka1(non-leader)
 8. Issue a transaction

Expected Result:

Kafka1 to be elected as leader
 Transaction to complete successfully

Actual Result:
 Transaction fails 
 ""error: [Orderer.js]: sendBroadcast - reject with SERVICE_UNAVAILABLE
 not ok 10 Failed to send transaction and get notifications within the timeout""

Orderer Logs:
{code:java}
""licy=&{0xc420d79380 1 [0xc420024d68]}) %!s(*policies.implicitMetaPolicy=&{0xc420d79940 1 [0xc420024de8 0xc420024ea8]})]}
2017-05-18 14:45:01.484 UTC [orderer/kafka] Enqueue -> DEBU a30 [channel: mychannel] Enqueueing envelope...
2017-05-18 14:45:13.113 UTC [orderer/kafka] Send -> WARN a31 [channel: mychannel] Blob destined for partition 0, but posted to -1 instead
2017-05-18 14:45:13.113 UTC [orderer/kafka] Send -> INFO a32 [channel mychannel] Failed to post blob to the Kafka cluster: kafka server: In the middle of a leadership election, there is currently no leader for this partition and hence it is unavailable for writes.
2017-05-18 14:45:13.114 UTC [orderer/kafka] Enqueue -> ERRO a33 [channel: mychannel] cannot enqueue envelope: kafka server: In the middle of a leadership election, there is currently no leader for this partition and hence it is unavailable for writes.
2017-05-18 14:45:13.114 UTC [orderer/common/broadcast] Handle -> INFO a34 Consenter instructed us to shut down""
{code}
kafka1 Logs:

From logs it appears kafka1 is elected as leader but it appears message does not get communicated to orderer.

{code:java}
 ""[2017-05-18 14:44:49,555] INFO 2 successfully elected as leader (kafka.server.ZookeeperLeaderElector)
 ..
 [2017-05-18 14:44:49,786] INFO New leader is 2 (kafka.server.ZookeeperLeaderElector$LeaderChangeListener)""
{code}

 ",,Clayton Sims,kchristidis,Nishi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-4013,,,,,,,,,,,,,,,"06/Jun/17 6:27 AM;Nishi;docker-compose-base.yaml;https://jira.hyperledger.org/secure/attachment/10941/docker-compose-base.yaml","19/May/17 10:01 PM;Nishi;docker-compose-base.yaml;https://jira.hyperledger.org/secure/attachment/10840/docker-compose-base.yaml","19/May/17 12:06 AM;Nishi;docker-compose-e2e.yaml;https://jira.hyperledger.org/secure/attachment/10835/docker-compose-e2e.yaml","19/May/17 12:05 AM;Nishi;kafakLeaderIssue_Logs.tar.gz;https://jira.hyperledger.org/secure/attachment/10834/kafakLeaderIssue_Logs.tar.gz","06/Jun/17 6:36 AM;Nishi;orderer_logs_Jun5th_2017.txt.tar.gz;https://jira.hyperledger.org/secure/attachment/10942/orderer_logs_Jun5th_2017.txt.tar.gz","19/May/17 10:02 PM;Nishi;peer-base.yaml;https://jira.hyperledger.org/secure/attachment/10841/peer-base.yaml",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxvzr:",,,,,,,,,,,,,,,,,,,,,,,,,,,Clayton Sims,kchristidis,Nishi,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"19/May/17 12:35 AM;kchristidis;Nishi, thanks for the detailed report. I have some comments, but before I go ahead, can you also attach `base/docker-compose-base.yml` here as well? Thank you.;;;","19/May/17 6:13 AM;kchristidis;As far as I can tell, none of the Kafka brokers are actually passed in the list of ZK nodes. We're looking for an entry similar to this one: [https://gerrit.hyperledger.org/r/#/c/9495/6/bddtests/dc-orderer-kafka.yml@48]

(And in general, a setting similar to what you see in `dc-orderer-kafka.yml` and `dc-orderer-kafka-base.yml` in the changeset above. Please let me know if you have questions and I'll be glad to help out and explain those settings.)

Can you adjust the environment accordingly, re-run, and let me know if the issue persists?;;;","19/May/17 10:02 PM;Nishi;Please find attached peer-base.yaml & docker-compose-base.yaml we have been using. In docker-compose-base.yaml it appears we are covering what you got in your link above.

One difference I have observed between your file and what we have is, in our docker-compose-e2e.yaml file in order section ZK is missing from depends clause
{code:java}
 orderer0.example.com:
    extends:
      file:   base/docker-compose-base.yaml
      service: orderer0.example.com
    container_name: orderer0.example.com
    depends_on:
      - kafka0
      - kafka1
      - kafka2

{code}
 ;;;","20/May/17 12:13 AM;kchristidis;This is one of the differences in the setup, but not the crucial one (though it's needed). As far as I can tell, in those tests you are not providing the list of ZK nodes to the Kafka brokers, and the Kafka brokers themselves need to be configured in accordance to the CR I posted above.;;;","20/May/17 12:44 AM;Nishi;And another config in docker-compose-base.yaml we are missing

 
{code:java}
 - KAFKA_MIN_INSYNC_REPLICAS=2{code}
 

Update yaml file - restart network. Repeat test this time in step7

7. docker unpause TWO non-leaders before sending transaction.

 

Though, results are as seen in original issue not the expected one.;;;","20/May/17 6:36 AM;kchristidis;Nishi is working on the exact list of steps (down to the command level) that will allow me to reproduce this.;;;","22/May/17 8:23 AM;kchristidis;I'm using [~jeffgarratt]'s BDD framework to reproduce this so I'm good Nishi. Will work on a fix.;;;","24/May/17 10:21 PM;kchristidis;FAB-4136 takes priority and likely affects this. Will address this first.;;;","05/Jun/17 1:26 PM;kchristidis;Nishi, I would like you to reproduce this with the latest master and the configuration files provided in https://jira.hyperledger.org/browse/FAB-3387

It is important to set te ""verbose"" flag for Kafka logs to true: [https://github.com/hyperledger/fabric/blob/master/bddtests/dc-orderer-base.yml#L17]

As you have done earlier in this issue, please identify the exact list of steps you take.

Please attach the logs from every ordering service node used in this run.;;;","06/Jun/17 6:01 AM;Nishi;commit levels: 
 SDK_NODE: *91bac30fec921775e21bf7f59de4d162f2462341*
 FABRIC: *670be92475a50b06e7bcb3fca15a558438d88e4a*

Git clone:
 1. git clone [https://github.com/suryalnvs/fabric-docker-compose-svt]

2. Updated fabric-docker-compose-svt/base/docker-compose-base.yaml
 - ORDERER_GENERAL_LOGLEVEL=debug
 - ORDERER_KAFKA_VERBOSE=true
 3. Run ./reset.sh

4. replace ~/gopath/src/github.com/hyperledger/fabric-sdk-node/test/integration/e2e/config.json with attached config.json

4. Update in create-channel.js on line 127
 from
 let envelope_bytes = fs.readFileSync(path.join(__dirname, '../../fixtures/channel/mychannel.tx'));
 to
 let envelope_bytes = fs.readFileSync(path.join(__dirname, '../../fixtures/channel/channel.tx'));

5. cd ~/gopath/src/github.com/hyperledger/fabric-sdk-node/test/unit
{code:java}
vi util.js
/getOrdererAdmin 
add /msp
keyPath should be '../fixtures/channel/crypto-config/ordererOrganizations/example.com/users/Admin@example.com/msp/keystore');
certPath should be '../fixtures/channel/crypto-config/ordererOrganizations/example.com/users/Admin@example.com/msp/signcerts'

Find function getAdmin
/getAdmin
Add /msp
keypath should be '../fixtures/channel/crypto-config/peerOrganizations/%s.example.com/users/Admin@%s.example.com/msp/keystore'
certPath shlould be '../fixtures/channel/crypto-config/peerOrganizations/%s.example.com/users/Admin@%s.example.com/msp/signcerts'

 {code}
6. cd ~/gopath/src/github.com/hyperledger/fabric-sdk-node/test/integration/e2e

7. node create-channel.js

8. node join-channel.js

9. node install-chaincode.js

10. node instantiate-chaincode.js

11. node invoke-transaction.js

12. node query.js (verify results, you may have to update expected value with every move)

13. docker pause kafaka1

14. docker pause kafka2

15. node invoke-transaction

16. node query verify results

17. docker pause kafka0 (leader)

(wait 30 seconds)

18. docker unpause kafka1 (non-leader)

Now we have
{code:java}
Up 29 minutes (Paused) 9093/tcp, 0.0.0.0:9096->9092/tcp kafka2
 Up 29 minutes 9093/tcp, 0.0.0.0:9094->9092/tcp kafka1
 Up 29 minutes (Paused) 0.0.0.0:9092->9092/tcp, 9093/tcp kafka0
 Up 29 minutes 9093/tcp, 0.0.0.0:9098->9092/tcp kafka3

New leader from kafka logs:

[2017-06-05 20:35:06,186] INFO New leader is 3 (kafka.server.ZookeeperLeaderElector$LeaderChangeListener)
{code}
*Does that mean it is kafka3 i.e. new leader??. Does the counting start with 0 as kafka broker names in docker-compose-base.yaml*

19. node invoke-transaction.js

20. Query

Expected Result:
 ----------------

Test to pass

Actual Result:
 ------------
{code:java}
***** End-to-end flow: query chaincode *****


ok 1 Successfully loaded member from persistence
ok 2 checking query results are correct that user b has 600 now after the move
ok 3 checking query results are correct that user b has 600 now after the move
ok 4 Successfully query chaincode on the channel

1..4
# tests 4
# pass 4

# ok
{code};;;","06/Jun/17 6:08 AM;kchristidis;> *Does that mean it is kafka3 i.e. new leader??. Does the counting start with 0 as kafka broker names in docker-compose-base.yaml*

So the integer that you see in the logs is what you set the `KAFKA_BROKER_ID` ENV var to in your Docker Compose configuration file. From what I can tell from your docker-compose-base.yml, the kafka0 service has a broker ID of 1, etc. So the new leader being 3 is probably a reference to kafka2.;;;","06/Jun/17 6:09 AM;kchristidis;Nishi, thanks for re-checking so quickly. Confirmed with you that everything works as expected now. Closing this. Feel free to re-open if you see fit.;;;","06/Jun/17 6:40 AM;Nishi;On a second run:

Noticed that I could send a tx successfully with just one kafka broker.
{code:java}
Up 35 minutes 9093/tcp, 0.0.0.0:9098->9092/tcp kafka3
Up 35 minutes (Paused) 9093/tcp, 0.0.0.0:9096->9092/tcp kafka2
Up 35 minutes (Paused) 0.0.0.0:9092->9092/tcp, 9093/tcp kafka0
Up 35 minutes (Paused) 9093/tcp, 0.0.0.0:9094->9092/tcp kafka1
{code}
With
{code:java}
- KAFKA_MIN_INSYNC_REPLICAS=2, ( we have 4brokers total) {code}
 

Is this right?

 

 ;;;","06/Jun/17 6:45 AM;kchristidis;If you leave code references aside (e.g. node create-channel.js), can you identify the list of steps that you are performing?

For example, something along the lines of:
 # Bring 1 ordering service node up with 4 kafka brokers and 3 zookeepers servers
 # Create a channel
 # Have peer join channel
 # Install chaincode
 # Instantiate chaincode
 # Invoke chaincode
 # Verify results, look good
 # Pause brokers kafkaX, kafkaY
 # Invoke chaincode again

At this point, the transaction is enqueued (returned: SUCCESS) but I was expecting it to fail since there were less than min.isr brokers active.

I'm looking for a brief description along these lines. Can you please provide it?

I know you're provided variations of it earlier, but there's a reason I insist on this every time – I want to make sure there are no implicit assumptions, and double-check we're both on the same page.;;;","06/Jun/17 6:57 AM;Nishi;Here are the steps [~kchristidis] :

1. Bring 3 ordering servers, 4 kafka brokers, 3 zookeepers servers, 2 Orgs (2 peers each), 2 ca-servers
2. Create a channel
4. join peers on channel
5. Install chaincode
6. Instantiate chaincode
7. Invoke chaincode
8. Verify results, look good
9. Pause brokers kafka1, kafka2, (non-leaders),
10. Invoke chaincode again
11. Query results are good.
12. Pause kafka0 (leader)
13. Invoke chaincode again
14. Query results are good.

Is that an issue with current docker-setup with - KAFKA_MIN_INSYNC_REPLICAS=2

 

 

 ;;;","07/Jun/17 12:49 AM;Clayton Sims;No pending code fix - so changing status 

 ;;;","09/Jun/17 5:35 PM;kchristidis;[~Nishi]: `kafka3` in your Docker Compose configuration is loaded with this ENV var: KAFKA.MIN_INSYNC_REPLICAS=2 (notice the dot instead of an underscore)

If you replace the dot with an underscore you'll get the desired behavior, i.e. if you invoke chaincode again (step 13), this transaction won't go through.

I actually have the same ENV var typo in the bddtests Docker Compose files, and I just pushed a changeset to fix it, so thank you for bringing this to my attention.

[https://gerrit.hyperledger.org/r/#/c/10385/]

Please confirm that this fixes the issue and close it if that's the case.;;;","10/Jun/17 4:22 AM;Nishi;Verified successfully on build * 85ef08326fcf6cfb5dbbf389633ba7ea394fcbd4*

In docker compose right env variable to set is 

 - KAFKA_MIN_INSYNC_REPLICAS=2

Verified that tx failed when we have just one broker, with this env param set correctly.

Also verified steps in main issue successfully.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Orderer panic when 1Kafka was in cluster,FAB-4013,16863,,Bug,Closed,FAB,Fabric,software,denyeart,,,Low,Done,kchristidis,Nishi,Nishi,19/May/17 1:06 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,16/Jun/17 2:08 AM,v1.0.0-alpha2,,,WON'T FIX,,fabric-docs,,,,,,,0,kafka,,,,,,,"fabric-sdk-node *8e878750e8d9d4a213e976eceb57699393f74aeb*
fabric *217b8f60c625a6ffaddd3219bd60baca415e2b7c*

When orderer failed to recognize newly elected leader as in

https://jira.hyperledger.org/browse/FAB-4012

We tried to start and stop orderer(to recover) when only kafka1 broker (newly created leader) was running.

""docker stop orderer0.example.com""

""docker start order0.example.com""

This time orderer again failed to recognize kafak1 broker and eventually crashed:

Orderer Logs
{code:java}

2017-05-18 15:06:49.944 UTC [fsblkstorage] nextBlockBytesAndPlacementInfo -> DEBU 0f4 Remaining bytes=[5840], Going to peek [8] bytes
2017-05-18 15:06:49.944 UTC [fsblkstorage] nextBlockBytesAndPlacementInfo -> DEBU 0f5 Returning blockbytes - length=[5838], placementInfo={fileNum=[0], startOffset=[39361], bytesOffset=[39363]}
2017-05-18 15:06:49.944 UTC [orderer/multichain] newChainSupport -> DEBU 0f6 [channel: mychannel] Retrieved metadata for tip of chain (block #5): value:""\010\016""
2017-05-18 15:06:49.944 UTC [orderer/kafka] newChain -> DEBU 0f7 [channel: mychannel] Starting chain with last persisted offset 14 and last recorded block 5
2017-05-18 15:06:52.944 UTC [orderer/kafka] newProducer -> DEBU 0f8 Connecting to Kafka cluster: [kafka0:9092 kafka1:9092 kafka2:9092]
2017-05-18 15:06:55.944 UTC [orderer/kafka] newProducer -> DEBU 0f9 Connecting to Kafka cluster: [kafka0:9092 kafka1:9092 kafka2:9092]
2017-05-18 15:06:58.944 UTC [orderer/kafka] newProducer -> DEBU 0fa Connecting to Kafka cluster: [kafka0:9092 kafka1:9092 kafka2:9092]
2017-05-18 15:07:01.944 UTC [orderer/kafka] newProducer -> DEBU 0fb Connecting to Kafka cluster: [kafka0:9092 kafka1:9092 kafka2:9092]
2017-05-18 15:07:04.944 UTC [orderer/kafka] newProducer -> DEBU 0fc Connecting to Kafka cluster: [kafka0:9092 kafka1:9092 kafka2:9092]
2017-05-18 15:07:07.944 UTC [orderer/kafka] newProducer -> DEBU 0fd Connecting to Kafka cluster: [kafka0:9092 kafka1:9092 kafka2:9092]
2017-05-18 15:07:10.944 UTC [orderer/kafka] newProducer -> DEBU 0fe Connecting to Kafka cluster: [kafka0:9092 kafka1:9092 kafka2:9092]
2017-05-18 15:07:13.944 UTC [orderer/kafka] newProducer -> DEBU 0ff Connecting to Kafka cluster: [kafka0:9092 kafka1:9092 kafka2:9092]
2017-05-18 15:07:16.944 UTC [orderer/kafka] newProducer -> DEBU 100 Connecting to Kafka cluster: [kafka0:9092 kafka1:9092 kafka2:9092]
2017-05-18 15:07:19.944 UTC [orderer/kafka] newProducer -> DEBU 101 Connecting to Kafka cluster: [kafka0:9092 kafka1:9092 kafka2:9092]
2017-05-18 15:07:22.944 UTC [orderer/kafka] newProducer -> DEBU 102 Connecting to Kafka cluster: [kafka0:9092 kafka1:9092 kafka2:9092]
2017-05-18 15:07:25.944 UTC [orderer/kafka] newProducer -> DEBU 103 Connecting to Kafka cluster: [kafka0:9092 kafka1:9092 kafka2:9092]
2017-05-18 15:07:28.944 UTC [orderer/kafka] newProducer -> DEBU 104 Connecting to Kafka cluster: [kafka0:9092 kafka1:9092 kafka2:9092]
2017-05-18 15:07:31.944 UTC [orderer/kafka] newProducer -> DEBU 105 Connecting to Kafka cluster: [kafka0:9092 kafka1:9092 kafka2:9092]
2017-05-18 15:07:34.944 UTC [orderer/kafka] newProducer -> DEBU 106 Connecting to Kafka cluster: [kafka0:9092 kafka1:9092 kafka2:9092]
2017-05-18 15:07:37.944 UTC [orderer/kafka] newProducer -> DEBU 107 Connecting to Kafka cluster: [kafka0:9092 kafka1:9092 kafka2:9092]
2017-05-18 15:07:40.944 UTC [orderer/kafka] newProducer -> DEBU 108 Connecting to Kafka cluster: [kafka0:9092 kafka1:9092 kafka2:9092]
2017-05-18 15:07:43.944 UTC [orderer/kafka] newProducer -> DEBU 109 Connecting to Kafka cluster: [kafka0:9092 kafka1:9092 kafka2:9092]
2017-05-18 15:07:46.944 UTC [orderer/kafka] newProducer -> DEBU 10a Connecting to Kafka cluster: [kafka0:9092 kafka1:9092 kafka2:9092]
2017-05-18 15:07:49.944 UTC [orderer/kafka] newProducer -> DEBU 10b Connecting to Kafka cluster: [kafka0:9092 kafka1:9092 kafka2:9092]
2017-05-18 15:07:50.716 UTC [orderer/kafka] newProducer -> CRIT 10c Failed to create Kafka producer: kafka: client has run out of available brokers to talk to (Is your cluster reachable?)
panic: Failed to create Kafka producer: kafka: client has run out of available brokers to talk to (Is your cluster reachable?)


goroutine 1 [running]:
panic(0xb031e0, 0xc4205634b0)
/opt/go/src/runtime/panic.go:500 +0x1a1
github.com/hyperledger/fabric/vendor/github.com/op/go-logging.(*Logger).Panicf(0xc4201e1530, 0xc30f64, 0x23, 0xc420563400, 0x1, 0x1)
/opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/op/go-logging/logger.go:194 +0x127
github.com/hyperledger/fabric/orderer/kafka.newProducer(0xc420278840, 0x3, 0x4, 0x0, 0x9, 0x0, 0x1, 0xb2d05e00, 0xdf8475800, 0x0, ...)
/opt/gopath/src/github.com/hyperledger/fabric/orderer/kafka/producer.go:50 +0x283
github.com/hyperledger/fabric/orderer/kafka.glob..func2(0xc420278840, 0x3, 0x4, 0x0, 0x9, 0x0, 0x1, 0xb2d05e00, 0xdf8475800, 0x0, ...)
/opt/gopath/src/github.com/hyperledger/fabric/orderer/kafka/orderer.go:58 +0xb4
github.com/hyperledger/fabric/orderer/kafka.newChain(0x11b5d40, 0xc420182a50, 0x11b6c40, 0xc420360d70, 0xe, 0xc4207ad650)
/opt/gopath/src/github.com/hyperledger/fabric/orderer/kafka/orderer.go:118 +0x432
github.com/hyperledger/fabric/orderer/kafka.(*consenterImpl).HandleChain(0xc420182a50, 0x11b6c40, 0xc420360d70, 0xc42019be60, 0x3, 0x3, 0x0, 0x5)
/opt/gopath/src/github.com/hyperledger/fabric/orderer/kafka/orderer.go:83 +0x8f
github.com/hyperledger/fabric/orderer/multichain.newChainSupport(0xc420098e00, 0xc420098d60, 0xc4202324e0, 0x11acbc0, 0x11f3900, 0x1)
/opt/gopath/src/github.com/hyperledger/fabric/orderer/multichain/chainsupport.go:136 +0x602
github.com/hyperledger/fabric/orderer/multichain.NewManagerImpl(0x11af3c0, 0xc4203542c0, 0xc4202324e0, 0x11acbc0, 0x11f3900, 0x0, 0x0)
/opt/gopath/src/github.com/hyperledger/fabric/orderer/multichain/manager.go:131 +0x8d9
main.main()
/opt/gopath/src/github.com/hyperledger/fabric/orderer/main.go:174 +0x179d {code}
 

Note: After we restarted all the Kafka Brokers, and we restarted orderer, it connected to cluster and recognized kafka cluster,
{code:java}

2017-05-18 15:16:06.529 UTC [fsblkstorage] nextBlockBytesAndPlacementInfo -> DEBU 1c6 Remaining bytes=[17397], Going to peek [8] bytes
2017-05-18 15:16:06.529 UTC [fsblkstorage] nextBlockBytesAndPlacementInfo -> DEBU 1c7 Returning blockbytes - length=[17394], placementInfo={fileNum=[0], startOffset=[6647], bytesOffset=[6650]}
2017-05-18 15:16:06.529 UTC [orderer/multichain] newChainSupport -> DEBU 1c8 [channel: testchainid] Retrieved metadata for tip of chain (block #1): value:""\010\002""
2017-05-18 15:16:06.529 UTC [orderer/kafka] newChain -> DEBU 1c9 [channel: testchainid] Starting chain with last persisted offset 2 and last recorded block 1
2017-05-18 15:16:09.529 UTC [orderer/kafka] newProducer -> DEBU 1ca Connecting to Kafka cluster: [kafka0:9092 kafka1:9092 kafka2:9092]
2017-05-18 15:16:09.536 UTC [orderer/kafka] newProducer -> DEBU 1cb Connected to the Kafka cluster
2017-05-18 15:16:09.536 UTC [orderer/multichain] NewManagerImpl -> INFO 1cc Starting with system channel testchainid and orderer type kafka
2017-05-18 15:16:09.536 UTC [orderer/kafka] Start -> DEBU 1cd [channel: testchainid] Posting the CONNECT message...
2017-05-18 15:16:09.544 UTC [orderer/kafka] Send -> DEBU 1ce [channel testchainid] Posted blob to the Kafka cluster (offset number: 3)
2017-05-18 15:16:09.544 UTC [orderer/kafka] Start -> DEBU 1cf [channel: testchainid] CONNECT message posted successfully
2017-05-18 15:16:09.553 UTC [orderer/kafka] newConsumer -> DEBU 1d0 [channel: testchainid] Created new consumer for session (beginning offset: 3)
2017-05-18 15:16:09.553 UTC [orderer/main] NewServer -> INFO 1d1 Starting orderer
2017-05-18 15:16:09.553 UTC [orderer/main] main -> INFO 1d2 Beginning to serve requests
2017-05-18 15:16:09.554 UTC [orderer/kafka] loop -> DEBU 1d3 [channel: testchainid] Successfully unmarshalled consumed message. Inspecting type...
2017-05-18 15:16:09.554 UTC [orderer/kafka] loop -> DEBU 1d4 [channel: testchainid] It's a connect message - ignoring{code}
 

But network is still left in a messy state, and invoke-transactions fails to process"," 

 ",kchristidis,latitiah,Nishi,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-4012,,,,,,,,,,,,,,,,,,,,"19/May/17 1:06 AM;Nishi;logs.tar.gz;https://jira.hyperledger.org/secure/attachment/10836/logs.tar.gz","20/May/17 12:54 AM;Nishi;orderer0_NON_PANIC_Log.txt;https://jira.hyperledger.org/secure/attachment/10846/orderer0_NON_PANIC_Log.txt","20/May/17 3:48 AM;Nishi;updatedLogs-April19th-2-45pm.tar.gz;https://jira.hyperledger.org/secure/attachment/10848/updatedLogs-April19th-2-45pm.tar.gz",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxvzz:",,,,,,,,,,,,,,,,,,,,,,,,,,,kchristidis,latitiah,Nishi,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"19/May/17 6:14 AM;kchristidis;(Same comment applies: https://jira.hyperledger.org/browse/FAB-4012?focusedCommentId=24047&page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel#comment-24047);;;","20/May/17 12:34 AM;Nishi;After updating docker-compose-base.yaml to include
{code:java}

 - KAFKA_MIN_INSYNC_REPLICAS=2{code}
 

Reran the test with few changes to send a tx: we need to be running a minimum of 2 kafka brokers.

 

So now we have:

1. Bring up the network. (1 orderer, 3 kafka brokers, 3 zoo-keepers, 2 org with 2 peer each with TLS)
 2. Send a invoke transaction
 3. Query yields successful results as expected
 4. Now identify leader of kafka cluster, from logs in our scenario it was broker1 i.e. kafka0 (kafka0:1, kafka1:2, kafka2: 3)
 5. Pause all kafka brokers in the order below

1. docker pause kafka0
 2. docker pause kafka1
 3. docker pause kafka2 (leader stopped at end)
 6. Wait 30 seconds
 7. docker unpause kafka0 + kafka1(non-leaders)
 8. Issue a transaction

Expected Result:

New leader to be elected (which appears is happening from kafka logs)
 Transaction to complete successfully

 

Actual Result:
 Transaction fails 
 ""error: [Orderer.js]: sendBroadcast - reject with SERVICE_UNAVAILABLE
 not ok 10 Failed to send transaction and get notifications within the timeout""

 

This time when I restarted order, orderer DID NOT PANIC or CRASH but instead, I see
{code:java}
2017-05-19 15:28:49.764 UTC [orderer/common/broadcast] Handle -> INFO 272^[[0m Consenter instructed us to shut down{code}
 

Please find attached orderer logs. Lowering the priority here.;;;","20/May/17 3:48 AM;Nishi;This is what we observed after few more tests (this time with docker stop - so that any state would be transferred graciously)

In step 7 above, when earlier leader in this case (kafka2) was brought back up, along with another non-leader.

Orderer was able to process new transaction.

Please find attached logs (updatedLogs-April19th-2-45pm.tar.gz)

 

We successfully tested happy paths (where previous leader was always brought back so that other kafka broker would be in sync). Here our goal is to check if orderer recognizes leadership transfer which does not seem to be happening.

 ;;;","22/May/17 8:24 AM;kchristidis;Unassigning myself on purpose as I'm only working on one issue at time. Will re-assign when I focus on this.;;;","10/Jun/17 7:18 PM;kchristidis;That is a valid scenario and not a bug.

Consider the example below with the typical setup described in `bddtests/dc-*.yml`.

Before we pause any brokers, we query the channel:


{{(behave_venv) ubuntu@hyperledger-devenv:472d8bd:/opt/gopath/src/github.com/hyperledger/fabric/bddtests/tmp/kafka_2.11-0.9.0.1$ bin/kafka-topics.sh --zookeeper localhost:33503 --describe --topic com.acme.blockchain.jdoe.Channel1}}
{{Topic:com.acme.blockchain.jdoe.Channel1 PartitionCount:1 ReplicationFactor:3 Configs:}}
{{ Topic: com.acme.blockchain.jdoe.Channel1 Partition: 0 Leader: 2 Replicas: 2,3,0 Isr: 2,3,0}}

 

We see here that broker 2 is the leader for Channel1, and brokers 2,3,0 are in its ISR. (Basically all of the brokers that replicate this partition.)

Now we pause all of the brokers as you did (we don't even have to wait and do the leader last). Then we unpause just brokers 0 and 1 (so the former leader remains paused).

Here's what we get if we query the channel now:


{{(behave_venv) ubuntu@hyperledger-devenv:472d8bd:/opt/gopath/src/github.com/hyperledger/fabric/bddtests/tmp/kafka_2.11-0.9.0.1$ bin/kafka-topics.sh --zookeeper localhost:33503 --describe --topic com.acme.blockchain.jdoe.Channel1}}
{{Topic:com.acme.blockchain.jdoe.Channel1 PartitionCount:1 ReplicationFactor:3 Configs:}}
{{ Topic: com.acme.blockchain.jdoe.Channel1 Partition: 0 Leader: 0 Replicas: 2,3,0 Isr: 0}}

So, we have a new leader, broker 0. However! Check the channel's ISR. It's only got broker 0 in it, and its size is less than the minimum we had asked for when setting up the cluster (min.insync.replicas = 2). (How did we end up here? Because we paused the other two brokers in the channel's ISR.)

As a result, if we attempt to read (Deliver) from this channel it'll work, but if we attempt to write to it (Broadcast), the request will fail with a SERVICE_UNAVAILABLE response.

So the behavior that you see is totally normal.

Closing this, but feel free to ask questions or reopen if you think I missed something.;;;","15/Jun/17 6:15 AM;latitiah;[~kchristidis] Your explanation makes sense here, but I think that there is still an issue. (It may be that this would be more of an improvement than a bug, though) I do believe that we should set up the fabric kafka brokers such that even if they come back up ""out of order"" that the cluster should be functional.;;;","15/Jun/17 6:22 AM;kchristidis;This will not happen. This is basically a call to rewrite the way Apache Kafka works.

We should just add more brokers to prevent such issues from happening.;;;","16/Jun/17 1:34 AM;latitiah;Per a RocketChat discussion with [~kchristidis], when this scenario occurs the current workaround would be to add a new kafka broker to the cluster. Maybe in the future (given the necessary resources and time) a new kafka engine could be written to allow for this sort of failure scenario.

[~nickgaski]: This workaround should be documented as a solution to this issue.;;;","16/Jun/17 2:05 AM;kchristidis;The only relevant directive here is:
{quote}Given the maximum number of faults (i.e. crashed and/or non-responsive brokers) we wish to tolerate --

Have enough brokers up, and configure your default.replication.factor and minimum.insync.replicas so that you can satisfy the minimum.insync.replicas requirement.
{quote}
I wouldn't label this as a workaround, but as _the only deployment strategy_.;;;","16/Jun/17 2:08 AM;kchristidis;This issue should be closed.

Latitia, feel free to add this comment in FAB-3384.;;;","17/Jun/17 8:23 AM;scottz;Before closing this, we need to have a discussion, to make sure we understand the behavior in various scenarios, using the recommended 4 KBs, min_isr=2, replicas=3. And to make sure our product is actually behaving in a useful manner.

If we stop 3, stop 2, stop 1, and then restart 2 or 3, it should work (min_isr=2, and since k0 stays running entire time). Agree?

If we stop 3, stop 2, stop 1, stop 0, then is there any way to get it back functioning? How about start 0, start 1, start 2, start 3?  How about Start 1, start 2, start 3? Either one of those should work, based on my understanding of kafka. Agree?

What is all this talk about problems when a kafka ""leader"" is stopped? The network should continue to provide service (if after a brief respite) (even allowing for the orderers to reconnect to KBs if necessary) (and we can discuss the requirement for the orderer-consumer-clients and orderer-broadcast-clients to reestablish grpc connections) when only one kafkabroker is stopped, regardless of which one it is. If my understandings are incorrect, then please can you point to the Kafka literature that describes about the kafka broker config parameters functional behavior being OVERRIDDEN if a kafkabroker leader encounters trouble.;;;","17/Jun/17 9:15 AM;kchristidis;I assume that in your comment above you refer to a 4-broker setup, since you refer to brokers 0 to 3. This is also the setup that has been available since May 16th in our repo (FAB-3387), the one that I was talking about in my response above (and the only setup we should be exploring anyway).
{quote}If we stop 3, stop 2, stop 1, and then restart 2 or 3, it should work (min_isr=2, and since k0 stays running entire time). Agree?
{quote}
Correct.
{quote}If we stop 3, stop 2, stop 1, stop 0, then is there any way to get it back functioning? How about start 0, start 1, start 2, start 3?  How about Start 1, start 2, start 3? Either one of those should work, based on my understanding of kafka. Agree?
{quote}
Correct.

When Latitia talks about bringing brokers back ""out of order"", she doesn't mean bring _all of them_ back out of order. This is different to what you write in the quote above. Latitia suggests that you can bring just |min.isr| brokers up in any order and the channel should work. I clarified this in a private conversation in Rocket.Chat with Latitia. And as I wrote above, this won't happen and this is not the way Kafka works. This is exactly what my detailed example addresses BTW – you have |min.isr| brokers up but they don't belong to the replication factor set.
{quote}What is all this talk about problems when a kafka ""leader"" is stopped?
{quote}
I didn't say there would be a problem. The original bug report – posted in a piecewise manner and where the claim of killing the leader (which I assume is a reference is to the channel leader) could not be trusted (as we discussed with Nishi a couple of days ago, I think you were actually targeting the Kafka controller) – didn't leave me much to work with. This is why I gave a detailed example above, noting my setup. I clearly state that ""we have a new leader, broker 0"", so again, no problems as far as I can tell.
{quote}The network should continue to provide service (if after a brief respite) (even allowing for the orderers to reconnect to KBs if necessary) (and we can discuss the requirement for the orderer-consumer-clients and orderer-broadcast-clients to reestablish grpc connections) when only one kafkabroker is stopped, regardless of which one it is.{quote}
That is indeed the case.

 ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
With NO zookeepers running on network we could successfully submit a tx,FAB-4018,16868,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,kchristidis,Nishi,Nishi,19/May/17 3:02 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,27/May/17 4:51 AM,v1.0.0-alpha2,,,Not a Bug,,fabric-orderer,,,,,,,0,kafka,qa,,,,,,"commit levels:
fabric-sdk-node *8e878750e8d9d4a213e976eceb57699393f74aeb*
fabric *217b8f60c625a6ffaddd3219bd60baca415e2b7c*

Test scenario:

{code}
1. Bring up the network. (1 orderer, 3 kafka brokers, 3 zookeepers, 2 org with 2 peer each with TLS)
2. Send an invoke transaction
3. Query yields successful results as expected
4. stop zookeeper0 
5. Wait 10 seconds
6. Issue a transaction
7. Query results as expected
8. stop zookeeper1 
9. Wait 10 seconds
10. Issue a transaction
11. Query results as expected
12. stop zookeeper2
13. Wait 10 seconds
14. Issue a transaction
{code}

Expected Result:

expected our transaction fail at step14.


Actual Result:
Having no zookeepers did not affect our test and it passed, Query results were as expected, This we think could be a problem based on 

Based on the article below something like ""how many messages were consumed by each consumer are stored in ZK""
http://www.waitingforcode.com/apache-kafka/the-role-of-apache-zookeeper-in-apache-kafka/read
",,kchristidis,mastersingh24,Nishi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxw0v:",,,,,,,,,,,,,,,,,,,,,,,,,,,kchristidis,mastersingh24,Nishi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"19/May/17 6:15 AM;kchristidis;This looks like a great catch but let's see if the issue persists when the right settings have been applied: https://jira.hyperledger.org/browse/FAB-4012?focusedCommentId=24047&page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel#comment-24047

Let me know.

Thanks as always for the detailed report, and for including that link.;;;","19/May/17 11:12 PM;Nishi;Updated my base yaml files in https://jira.hyperledger.org/browse/FAB-4012
  

One difference I have observed between your file and what we have is, in our docker-compose-e2e.yaml file in order section ZK is missing from depends clause
{code:java}
 orderer0.example.com:
    extends:
      file:   base/docker-compose-base.yaml
      service: orderer0.example.com
    container_name: orderer0.example.com
    depends_on:
      - kafka0
      - kafka1
      - kafka2

{code}
Updated order section to include ZK in docker-compose-e2e.yaml and ran the test again, with similar results as reported in this issue. Let me know if we are missing anything else in our setup.;;;","19/May/17 11:50 PM;Nishi;Just noticed your email

added missing config value in docker-compose-base.yaml file and will re-run my test.
{code:java}
KAFKA_MIN_INSYNC_REPLICAS=2{code}
 

Transaction could be submitted successfully with No Zookeepers running as reported earlier.;;;","22/May/17 8:24 AM;kchristidis;Unassigning myself on purpose as I'm only working on one issue at time. Will re-assign when I focus on this.;;;","27/May/17 1:30 AM;mastersingh24;As far as I know, the Sarama Kafka client we use does not have a dependency on Zookeeper so the shim nodes should continue working as normal Kafka clients as long as the Kafka cluster is up and running.  Since the Kafka brokers were started properly with ZK up and running, they should continue running even if you reduce the number of ZK nodes to less than the quorum size.  If a ZK quorum is not available, you will definitely not be able to create channels (since Kafka 100% requires ZK to be up to create topics).  If the Kafka cluster changes (e.g. the primary broker for a partition goes down) it's also possible that you'll get errors with an insufficient ZK quorum.

But all other things being equal / staying the same, I am pretty sure that clients should be able to read / write from Kafka partitions even if ZK goes down;;;","27/May/17 4:50 AM;kchristidis;Correct, the dependency on ZK for consumer offsets was dropped with the version 0.9 in Kafka. I don't know what I was thinking with the earlier comment of mine, apologies to both for the error. (I need a break.) Closing this.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
getting started page: add steps for chaincode writers and for testers,FAB-4020,16870,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,scottz,scottz,19/May/17 4:08 AM,21/Jul/18 3:57 AM,28/Oct/23 2:59 AM,18/Jun/17 12:56 PM,v1.0.0,,,DUPLICATE,,fabric-docs,,,,,,,0,,,,,,,,"[http://hyperledger-fabric.readthedocs.io/en/latest/getting_started.html]

page needs an overivew introduction. I suggest categories for readers to identify themselves in their own use-case, including users (testers, who may only want a working network to test) and users (chaincode developers who do not need to know all the details about creating a fabric network):
 * Are you looking to become a Fabric Developer?
 * Are you looking to use Fabric, to develop and test your own chaincode?
 * Are you looking to test Fabric?

Provide links to other appropriate readme files, or to sections further below in this page.",,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-2291,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-2276,,,,,,,,,,"1|hzxw1b:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
readthedocs testing section enhancements to help testers and chaincode writers,FAB-4021,16871,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid,,scottz,scottz,19/May/17 4:17 AM,10/Jan/20 1:59 AM,28/Oct/23 2:59 AM,10/Jan/20 1:59 AM,v1.0.0,,,,,fabric-docs,,,,,,,0,,,,,,,,"As a tester, I would like to know a quick way to start up a fabric blockchain network, so I can test it with existing tools or with my own tool. I may wish to write and/or test my own chaincode, and need to quickly spin up a network. Or, I may wish to add tests to the fabric repository, including how to add my own project's chaincode framework.

Tools and readme files are being written inside fabric/test/ directory structure; let's provide in the [http://hyperledger-fabric.readthedocs.io/en/latest/testing.html] a list of the things that can be done easily, along with links to those directories readme files.",,joe-alewine,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzxw1j:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,joe-alewine,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"10/Jan/20 1:59 AM;joe-alewine;There are now ways to quickly set up a Fabric network.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"enable gerrit voting on fabric-behave, fabric-verify-z and fabric-end-to-end CI jobs",FAB-4022,16872,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,rameshthoomu,rameshthoomu,19/May/17 4:43 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,23/May/17 11:48 PM,,,,,,fabric-build,fabric-quality,,,,,,0,build-system,quality,,,,,,"enable gerrit voting on fabric-behave, fabric-verify-z and fabric-end-to-end CI jobs if it fails.. existing CI setup skips voting if any of the tests fails. On latest commits of each component, e2e tests, behave and unit-tests on z are working as expected.

Before approve patch maintainers has to check the failures (-1) votings on these builds, if the build is failed due to not rebased patch.. better to rebase and reverify or just do reverify incase of false failures.",Jenkins CI jobs,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxw1r:",,,,,,,,,,,,,,,,,,,,,,,,,,,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/May/17 11:48 PM;rameshthoomu;submitted patch and merged;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
need a simpler Getting Started UX,FAB-4026,16877,,Story,Closed,FAB,Fabric,software,denyeart,,,High,Done,,ChristopherFerris,ChristopherFerris,19/May/17 7:41 AM,21/Jul/18 3:55 AM,28/Oct/23 2:59 AM,18/Jun/17 12:53 PM,v1.0.0-alpha2,,,DUPLICATE,,fabric-docs,,,,,,,0,Documentation,,,,,,,"We really need to have a simpler presentation and we could use a sample app.

I'd like to see the binaries installable via the likes of homebrew (OS X), NuGet (Windows) and apt (linux).

If we don't have that, then ideally we present a less complicated structure for the tarball.

The yamls and scripts should be at the top, and binaries should be under bin/ It might be worthwhile including a simple installer if we don't have native installer support.

It would also be good to simplify the prose in getting_started.rst - right now, it is overly complex in its presentation (IMO).

 

 ",,ChristopherFerris,,,,,,,,,,,,,,,,,,,,144000,144000,,0%,144000,144000,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzxw2v:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"18/Jun/17 12:54 PM;ChristopherFerris;This is basically being handled in FAB-4073 and FAB-4430 refactor of Getting Started.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
uppercase in chain code name fails to deploy/instantiate,FAB-4029,16880,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rmohta,rmohta,rmohta,19/May/17 8:08 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,19/May/17 8:43 AM,,,,,,,,,,,,,0,alpha-1,v1.0,,,,,,"Steps to reproduce
 # Install chaincode as:  
{code:java}
peer chaincode install -n assetOperationscc -p github.com/assetOperations -v 1 -o orderer0:7050{code}

 # Instantiate chaincode as: 
{code:java}
peer chaincode instantiate -o orderer0:7050 -C $CHANNEL_NAME -n assetOperationscc -v 1 -c '{""Args"":[""init"",""dummy""]}'{code}

Error observed
{noformat}
Error: Error endorsing chaincode: rpc error: code = 2 desc = Error starting container: API error (500): {""message"":""Error parsing reference: \""dev-peer0-assetOperationscc-3\"" is not a valid repository/tag""}
{noformat}

Possible reason: Docker doesn't allow upper case in it's image name.",,rmohta,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxw33:",,,,,,,,,,,,,,,,,,,,,,,,,,,rmohta,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"19/May/17 8:13 AM;rmohta;Preliminary information for reference from RocketChat
{noformat}
greg.haskins 4:01 PM
to also address that other issue
we could compute the hash once during install() and store it with the metadata

muralisr 4:03 PM
we do do that at the time of instantiate so the ledger has the metadata in its chaincode record
perhaps that's what you mean ?

greg.haskins 4:03 PM
what I mean specifically is to use the hash as the container name
that would solve both this and the other bug

muralisr 4:04 PM
ah

greg.haskins 4:04 PM
if we are already computing it, its that much easier

muralisr 4:04 PM
we could do that indeed
need to think about that a bit
but definitely possible

greg.haskins 4:04 PM
of course
{noformat};;;","19/May/17 8:43 AM;rmohta;This was [fixed|https://github.com/hyperledger/fabric/commit/9ae267247242c97b0587d025a6580a362909e38c]. alpha-2 image will correctly handle this.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Hyperledger Fabric Rocksdb Database, Retireve and Modification",FAB-4030,16881,,Story,Closed,FAB,Fabric,software,denyeart,,,High,Done,smithbk,KhutPidor,KhutPidor,19/May/17 8:13 AM,21/Jul/18 3:54 AM,28/Oct/23 2:59 AM,01/Jun/17 7:40 PM,,,,v0.6,,fabric-ledger,,,,,,18/May/17 12:00 AM,0,ledger,Security,,,,,,"I am working around to figure out that Fabric v0.6 is really not allowed data modification illegally. Beside I want to modify data in ""sst"" format directly. I want to use some other such as create instance of database then retrieve all data -> Modified them -> put them back and star the peer normally. but when I try to create instance of Rocksdb, I got this error

!Snip20170518_1.png!
Based on this tutorial: [http://pyrocksdb.readthedocs.io/en/v0.4/tutorial/index.html]

If it's a new database then it's fine. while it come to database of blockchain, I got this few error. 

 ",,denyeart,KhutPidor,,,,,,,,,,,,,,,,,,,240,240,,0%,240,240,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"19/May/17 8:10 AM;KhutPidor;Snip20170518_1.png;https://jira.hyperledger.org/secure/attachment/10839/Snip20170518_1.png",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzxw3b:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,denyeart,KhutPidor,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"01/Jun/17 7:40 PM;denyeart;Rocksdb and 0.6 in general will not be enhanced.  There is no support for updating the ledger files manually.  I will close this story.  If you have a requirement on v1, please open a separate story and clearly indicate the use case.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
bootstrap.sh should reside at a versioned location instead of an unversioned location,FAB-4031,16882,15566,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,denyeart,denyeart,19/May/17 11:07 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,02/Jul/17 9:18 PM,,,,,,,,,,,,,0,,,,,,,,"As the primary download utility, bootstrap.sh should be versioned and point to versioned artifacts for download.

It currently resides at the unversioned location:

https://raw.githubusercontent.com/hyperledger/fabric/master/examples/e2e_cli/bootstrap.sh",,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxw3j:",,,,,,,,,,,,,,,,,,,,,,,,,,,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fix release scripts for Windows environments,FAB-4032,16883,15566,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,lehors,denyeart,denyeart,19/May/17 11:26 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,22/May/17 8:26 PM,v1.0.0-alpha2,,,v1.0.0,,fabric-samples,,,,,,,0,,,,,,,,"bootstrap.sh and e2e scripts are not working on Windows environments.

[~dongming] and [~rameshthoomu] and [~muralisr] have been investigating.",,denyeart,JonathanLevi,lehors,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"19/May/17 10:39 PM;lehors;bootstrap.sh;https://jira.hyperledger.org/secure/attachment/10842/bootstrap.sh","19/May/17 10:40 PM;lehors;docker-compose-base.yaml;https://jira.hyperledger.org/secure/attachment/10845/docker-compose-base.yaml","19/May/17 10:39 PM;lehors;generateArtifacts.sh;https://jira.hyperledger.org/secure/attachment/10843/generateArtifacts.sh","19/May/17 10:40 PM;lehors;network_setup.sh;https://jira.hyperledger.org/secure/attachment/10844/network_setup.sh",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxw3r:",,,,,,,,,,,,,,,,,,,,,,,,,,,denyeart,JonathanLevi,lehors,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"19/May/17 10:40 PM;lehors;I've been investigating this problem and made quite a bit of progress. I can now successfully run ./network_setup up on a Windows 7 although this relies on a workaround which begs for further investigation. Here is where things stand:

I'm running everything in the Docker Quickstart Terminal (Docker toolbox) which uses Git's MingW environment.

First the environment doesn't have make. To install it I did the following:

Download and install 7-Zip from [http://www.7-zip.org/] 

And add it to the system PATH

Then download make for MinGW from [http://sourceforge.net/projects/mingw/files/MinGW/Extension/make/make-3.82.90-cvs/make-3.82.90-2-mingw32-cvs-20120902-bin.tar.lzma]

Untar the file with 7z x -so make-3.82.90-2-mingw32-cvs-20120902-bin.tar.lzma |tar xf -

Copy the extracted file: bin/mingw32-make.exe to /usr/bin/make.exe Note that this requires admin privileges so I had to copy it through Windows explorer to C:\Program Files\Git\usr\bin\make.exe

Now, the script bootstrap.sh relies on uname -s which in my environement returns ""MINGW64_NT-6.1"" which is not what the script expects so it fails.

Attached is a modified version that works for my env. [^bootstrap.sh]

It should still work elsewhere just fine although other Windows environments may require further patching. They change is on line #2:
{code:java}
export ARCH=$(uname -s|tr '[:upper:]' '[:lower:]'|sed 's/mingw64_nt.*/windows/')-$(go env GOARCH){code}
With that done bootstrap.sh works for me.

I then cd to release/windows-amd64 but to get ./network_setup up working I had to make several changes.

First generateArtifacts.sh needs to be patched in a similar way. [^generateArtifacts.sh]

Line #12:
{code:java}
OS_ARCH=$(echo ""$(uname -s|tr '[:upper:]' '[:lower:]'|sed 's/mingw64_nt.*/windows/')-$(uname -m | sed 's/x86_64/amd64/g')"" | awk '{print tolower($0)}'){code}
Finally, there is something screwy going on with the mount of the genesis block which makes the orderer fail with:
{code:java}
ERROR: for orderer.example.com Cannot start service orderer.example.com: oci runtime error: rootfs_linux.go:53: mounting ""/mnt/sda1/var/lib/docker/aufs/mnt/233f346f32281d1526d570aa2c866615bd52948c2cb34b916900c455e969683
8/var/hyperledger/orderer/orderer.genesis.block"" to rootfs ""/mnt/sda1/var/lib/docker/aufs/mnt/233f346f32281d1526d570aa2c866615bd52948c2cb34b916900c455e9696838"" caused ""not a directory""{code}
I found however that copying that file somewhere else and mounting the copy instead works!?

So I changed network_setup.sh to make the copy and changed docker-compose-base.yaml to mount that file instead. [^network_setup.sh] [^docker-compose-base.yaml]

network_setup.sh line #52 insert:
{code:java}
cp channel-artifacts/orderer.genesis.block myblock{code}
docker-compose-base.yaml change line #23 to:
{code:java}
- ../myblock:/var/hyperledger/orderer/orderer.genesis.block{code}
With all that done, then running ./network_setup.sh goes through all right, ending with:
{code:java}
===================== Query on PEER3 on channel 'mychannel' is successful =====================
===================== All GOOD, End-2-End execution completed =====================
{code}
 ;;;","20/May/17 12:11 AM;lehors;Further investigation allowed me to pinpoint the problem with the launch of the orderer to the *name* of the genesis block file!

For some reason if it is called orderer.genesis.block the orderer fails to launch with:
{code:java}
ERROR: for orderer.example.com Cannot start service orderer.example.com: oci runtime error: rootfs_linux.go:53: mounting ""/mnt/sda1/var/lib/docker/aufs/mnt/233f346f32281d1526d570aa2c866615bd52948c2cb34b916900c455e9696838/var/hyperledger/orderer/orderer.genesis.block"" to rootfs ""/mnt/sda1/var/lib/docker/aufs/mnt/233f346f32281d1526d570aa2c866615bd52948c2cb34b916900c455e9696838"" caused ""not a directory""{code}
It turns out that just using another name solves the problem. So, rather than doing the clunky copy I initially used above, I've come up with a solution in which I simply changed generateArtifacts.sh and docker-compose-base.yaml to use the filename genesis.block

Obviously, it would be good to know why that filename triggers a problem with docker but this workaround will do for now.

I submitted a CR: [https://gerrit.hyperledger.org/r/#/c/9567];;;","20/May/17 12:41 AM;lehors;I need to make it clear that the patching of the scripts bootstrap.sh and generateArtifacts.sh make them work the Windows env I have: Windows 7, running everything in Docker Quickstart Terminal (Docker toolbox). It is very possible that further tweaking is necessary on different Windows setups.;;;","20/May/17 1:42 AM;denyeart;[https://gerrit.hyperledger.org/r/#/c/9567/] is merged.

It will not be fully effective until the e2e_cli artifacts are pushed to nexus by [~rameshthoomu].;;;","20/May/17 6:38 AM;lehors;I tried running the test on a second windows box I have and the bootstrap.sh script failed right off the bat because on that machine although it's a 64 bit machine I have a 32 bit go install (because it's a small laptop and I'm trying to keep the size of the programs down) and therefore ""go env GOARCH"" returns 386!

So the line:
{code:java}
export ARCH=$(uname -s|tr [:upper:] [:lower:]|sed s/mingw64_nt.*/windows/)-$(go env GOARCH){code}
sets ARCH to windows-386 which makes the rest of the script fails because it tries to download the tar ball:

[https://nexus.hyperledger.org/content/repositories/releases/org/hyperledger/fabric/fabric-binary/windows-386-1.0.0-alpha2-testing/fabric-binary-windows-386-1.0.0-alpha2-testing.tar.gz]

and then cd to release/windows-386, neither of which exist.

If I simply override ARCH to windows-amd64 in this script, everything runs fine and the getting-started test passes!

 ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove guidance in end-to-end.rst for checkout v1.0.0-alpha2,FAB-4033,16884,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,ChristopherFerris,denyeart,denyeart,19/May/17 11:54 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,27/May/17 1:50 AM,,,,v1.0.0,,fabric-docs,,,,,,,0,,,,,,,,"end-to-end.rst recently added guidance for developers to *checkout v1.0.0-alpha2* when doing e2e trials.  The intent was to avoid any potential problems in latest master.  However this advise has backfired, as the instructions and docker-compose in fact had problems at that alpha2 tag level.

After discussing with maintainers, it was agreed that the checkout v1.0.0-alpha2 guidance should therefore be removed.

Also, in a follow-on work item end-to-end.rst may be removed in favor of Getting Started.  Or perhaps refactored with obvious paths for 'consumers' (who download images) vs 'developers' (who clone repositories and make docker images).",,ChristopherFerris,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx2bb:",,,,,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,denyeart,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"26/May/17 1:44 AM;ChristopherFerris;https://gerrit.hyperledger.org/r/#/c/9807/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"TPS 2 threads queries LevelDB, sample_cc nodeJS",FAB-4036,16897,,Task,Closed,FAB,Fabric,software,denyeart,,,High,Won't Do,dongming,scottz,scottz,20/May/17 2:32 AM,30/Jul/19 11:42 AM,28/Oct/23 2:59 AM,30/Jul/19 11:42 AM,v1.1.0,,,v1.1.0,,fabric-quality,,,,,,,0,quality,,,,,,,"This system testcase is a Performance Benchmark test, for sample_cc chaincode written in nodeJS. (Compare to similar test FAB-3811 for sample_cc chaincode written in GO.)

This test is executed by fabric-test/tools/PTE/CITest/scripts/test_driver.sh
 * Component:  Performance Stress Test with levelDB
 * +Description+: Send 10000 query transactions concurrently to 1 peer in both orgs,
 calculate tps, remove network and cleanup.
 * Artifact Locations: fabric-test/tools/PTE/CITest/FAB-4036-2q-LevelDB-nodeJS
 * Network Topology: 3 Ord, 4 KB, 3 ZK, 2 Org, 2 Peers/Org, 1 Chan, sample_cc, 2 thrds
 Launch network, use PTE in STRESS mode to continuously.
 * Client Driver: test_pte.py, PTE.

TPS can be measured by manual inspection but currently does not influence the pass/failure result. In future we may enhance the PTE tool to automatically determine the TPS, at which time we could modify the assertion in the CI testcase in systest_pte.py to ensure the TPS is not lower than an acceptable value.",,mastersingh24,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-6607,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3989,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx2on:",,,,,,Sprint 19 - Quality,,,,,,,,,,,,,,,,,,,,,mastersingh24,scottz,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,,true,"01/Dec/17 2:12 PM;scottz;https://gerrit.hyperledger.org/r/#/c/15849/;;;","30/Jul/19 11:42 AM;mastersingh24;Open 1 year or more with no activity ... time to cleanup;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Intermittent timeout failures with events package tests,FAB-4037,16898,16700,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wlahti,wlahti,wlahti,20/May/17 2:45 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,24/May/17 12:22 AM,,,,,,fabric-peer,,,,,,,0,,,,,,,,"A few of the events unit test cases fail intermittently due to a time out failure when sending the message.
{code:java}
17:24:02 unit-tests_1  | --- FAIL: TestReceiveAnyMessage (10.00s)
17:24:02 unit-tests_1  | 	producer_test.go:279: Error sending message could not send the blocking event
17:24:02 unit-tests_1  | 	producer_test.go:285: Error sending message could not send the blocking event
17:24:02 unit-tests_1  | 	producer_test.go:294: timed out on message
17:24:02 unit-tests_1  | 	producer_test.go:294: timed out on message
17:24:02 unit-tests_1  | 2017-05-19 17:23:50.413 UTC [msp] DeserializeIdentity -> INFO 016 Obtaining identity
17:24:02 unit-tests_1  | 2017-05-19 17:23:52.415 UTC [msp] DeserializeIdentity -> INFO 017 Obtaining identity
17:24:02 unit-tests_1  | --- FAIL: TestReceiveCCWildcard (2.01s)
17:24:02 unit-tests_1  | 	producer_test.go:316: Error sending message could not send the blocking event
17:24:02 unit-tests_1  | 	producer_test.go:323: timed out on message
17:24:02 unit-tests_1  | 2017-05-19 17:23:54.420 UTC [msp] DeserializeIdentity -> INFO 018 Obtaining identity
17:24:02 unit-tests_1  | 2017-05-19 17:23:56.424 UTC [msp] DeserializeIdentity -> INFO 019 Obtaining identity
17:24:02 unit-tests_1  | --- FAIL: TestUnregister (7.01s)
17:24:02 unit-tests_1  | 	producer_test.go:369: Error sending message could not send the blocking event
17:24:02 unit-tests_1  | 	producer_test.go:377: timed out on message
17:24:02 unit-tests_1  | 	producer_test.go:392: Error sending message could not send the blocking event{code}",,aambati,AdnanChoudhury,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-4042,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxw4n:",,,,,,,,,,,,,,,,,,,,,,,,,,,aambati,AdnanChoudhury,wlahti,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"24/May/17 5:30 AM;aambati;[~wlahti] i saw this error in https://jenkins.hyperledger.org/job/fabric-verify-x86_64/12029/consoleFull;;;","24/May/17 6:25 AM;wlahti;Have you pulled the latest today and rebased your CR? ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"TPS 2 threads invokes LevelDB, sample_cc nodeJS",FAB-4038,16900,,Task,Closed,FAB,Fabric,software,denyeart,,,High,Won't Do,dongming,scottz,scottz,20/May/17 3:12 AM,30/Jul/19 11:42 AM,28/Oct/23 2:59 AM,30/Jul/19 11:42 AM,v1.1.0,,,v1.1.0,,fabric-quality,,,,,,,0,quality,,,,,,,"This system testcase is a Performance Benchmark test, for sample_cc chaincode written in nodeJS. (Compare to similar test FAB-3808 for sample_cc chaincode written in GO.)
 This test is executed by fabric-test/tools/PTE/CITest/scripts/test_driver.sh
 * Component: Performance Stress Test with LevelDB
 * Description: Send 10000 invoke transactions concurrently to 1 peer in both orgs, calculate tps, remove network and cleanup.
 * Artifact Locations: fabric-test/tools/PTE/CITest/FAB-4038-2q-LevelDB-nodeJS
 * Network Topology: 3 Ord, 4 KB, 3 ZK, 2 Org, 2 Peers/Org, 1 Chan, sample_cc, 2 thrds
 * Launch network, use PTE in STRESS mode to continuously.
 * Client Driver: test_pte.py, PTE

TPS can be measured by manual inspection but currently does not influence the pass/failure result. In future we may enhance the PTE tool to automatically determine the TPS, at which time we could modify the assertion in the CI testcase in systest_pte.py to ensure the TPS is not lower than an acceptable value. ",,mastersingh24,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-6607,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3989,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx2ov:",,,,,,Sprint 19 - Quality,,,,,,,,,,,,,,,,,,,,,mastersingh24,scottz,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,,,,,,,true,"01/Dec/17 2:12 PM;scottz;https://gerrit.hyperledger.org/r/#/c/15849/;;;","30/Jul/19 11:42 AM;mastersingh24;Open 1 year or more with no activity ... time to cleanup;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
perf TBD1,FAB-4039,16901,,Task,Closed,FAB,Fabric,software,denyeart,,,High,Done,,scottz,scottz,20/May/17 3:14 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,10/Jul/18 3:23 AM,v1.0.0,,,v1.0.0,,fabric-quality,,,,,,,0,,,,,,,,"This system testcase is a Performance Benchmark test (refer to FAB-3989) that measures TPS for a short burst of transactions as described below:

+Test Name+:  *FAB_NNNN_4thread_1000i_kafka*

+Component+:  system test, performance TPS measurement

+Description+:  Create the specified number of threads. Half will simultaneously each start sending 1000 transactions to one peer in the first organization, while the remaining threads will send to one peer in the other organization.

For testcases sending invokes, PTE must receive Success Events for all transactions, and all threads will query to verify the final invoke transaction sent.

+Artifact Locations+:  
 * test/regression/daily/systest_pte.py
 * test/tools/PTE/runTest.sh - script used to run all PTE tests
 * test/tools/PTE/<FAB_NNNN_testname> - new directory containing input files for test steps; note the testname (such as FAB_NNNN_4thread_1000i_solo) must match the directory name exactly, so we can reuse the common driver runTest.sh

+Network Topology+:  standard network as defined in FAB-3770 , except in this testcase we use solo orderer

+Client Driver+:  PTE

+Input+:  .../test/tools/PTE/runTest.sh  <testcase_name>

+Output+:  The test passes when all the sent transactions are processed successfully and written to the ledger with no error events raised, and after the last invoke transaction on each thread is verified. TPS can be measured by manual inspection but currently does not influence the pass/failure result. In future we may enhance the PTE tool to automatically determine the TPS, at which time we could modify the assertion in the CI testcase in systest_pte.py to ensure the TPS is not lower than an acceptable value.",,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3989,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3770,,,,,,,,,,"1|hzxw4v:",,,,,,,,,,,,,,,,,,,,,,,,,,,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
perf TBD2,FAB-4040,16902,,Task,Closed,FAB,Fabric,software,denyeart,,,High,Done,,scottz,scottz,20/May/17 3:16 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,10/Jul/18 3:23 AM,v1.0.0,,,v1.0.0,,fabric-quality,,,,,,,0,,,,,,,,"This system testcase is a Performance Benchmark test (refer to FAB-3989) that measures TPS for a short burst of transactions as described below:

+Test Name+:  *FAB_NNNN_4thread_1000q_kafka*

+Component+:  system test, performance TPS measurement

+Description+:  Create the specified number of threads. Half will simultaneously each start sending 1000 transactions to one peer in the first organization, while the remaining threads will send to one peer in the other organization.

For testcases sending invokes, PTE must receive Success Events for all transactions, and all threads will query to verify the final invoke transaction sent.

+Artifact Locations+:  
 * test/regression/daily/systest_pte.py
 * test/tools/PTE/runTest.sh - script used to run all PTE tests
 * test/tools/PTE/<FAB_NNNN_testname> - new directory containing input files for test steps; note the testname (such as FAB_NNNN_4thread_1000i_solo) must match the directory name exactly, so we can reuse the common driver runTest.sh

+Network Topology+:  standard network as defined in FAB-3770 , except in this testcase we use solo orderer

+Client Driver+:  PTE

+Input+:  .../test/tools/PTE/runTest.sh  <testcase_name>

+Output+:  The test passes when all the sent transactions are processed successfully and written to the ledger with no error events raised, and after the last invoke transaction on each thread is verified. TPS can be measured by manual inspection but currently does not influence the pass/failure result. In future we may enhance the PTE tool to automatically determine the TPS, at which time we could modify the assertion in the CI testcase in systest_pte.py to ensure the TPS is not lower than an acceptable value.",,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3989,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3770,,,,,,,,,,"1|hzxw53:",,,,,,,,,,,,,,,,,,,,,,,,,,,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
perf TBD3,FAB-4041,16903,,Task,Closed,FAB,Fabric,software,denyeart,,,High,Done,,scottz,scottz,20/May/17 3:17 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,10/Jul/18 3:23 AM,v1.0.0,,,v1.0.0,,fabric-quality,,,,,,,0,,,,,,,,"This system testcase is a Performance Benchmark test (refer to FAB-3989) that measures TPS for a short burst of transactions as described below:

+Test Name+:  *FAB_NNNN_8thread_1000i_solo*

+Component+:  system test, performance TPS measurement

+Description+:  Create the specified number of threads. Half will simultaneously each start sending 1000 transactions to one peer in the first organization, while the remaining threads will send to one peer in the other organization.

For testcases sending invokes, PTE must receive Success Events for all transactions, and all threads will query to verify the final invoke transaction sent.

+Artifact Locations+:  
 * test/regression/daily/systest_pte.py
 * test/tools/PTE/runTest.sh - script used to run all PTE tests
 * test/tools/PTE/<FAB_NNNN_testname> - new directory containing input files for test steps; note the testname (such as FAB_NNNN_4thread_1000i_solo) must match the directory name exactly, so we can reuse the common driver runTest.sh

+Network Topology+:  standard network as defined in FAB-3770 , except in this testcase we use solo orderer

+Client Driver+:  PTE

+Input+:  .../test/tools/PTE/runTest.sh  <testcase_name>

+Output+:  The test passes when all the sent transactions are processed successfully and written to the ledger with no error events raised, and after the last invoke transaction on each thread is verified. TPS can be measured by manual inspection but currently does not influence the pass/failure result. In future we may enhance the PTE tool to automatically determine the TPS, at which time we could modify the assertion in the CI testcase in systest_pte.py to ensure the TPS is not lower than an acceptable value.",,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3989,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3770,,,,,,,,,,"1|hzxw5b:",,,,,,,,,,,,,,,,,,,,,,,,,,,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Intermittent failures in unit tests in fabric/events/producer/producer_test.go,FAB-4042,16904,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,AdnanChoudhury,AdnanChoudhury,20/May/17 3:18 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,26/May/17 12:03 AM,v1.0.0-alpha2,,,v1.0.0,,,,,,,,,0,build-system,,,,,,,"Have seen this error multiple times today in gerrit triggered builds. This is blocking gerrit verification.


{code:java}
// code placeholder
2017-05-18 20:58:12.258 UTC [msp] DeserializeIdentity -> INFO 007 Obtaining identity
20:58:26 unit-tests_1  | 2017-05-18 20:58:12.259 UTC [eventhub_producer] register -> ERRO 008 could not register chaincode_reg_info:<chaincode_id:""0xffffffff"" event_name:""event3"" > : event type REGISTER does not exist
20:58:26 unit-tests_1  | 2017-05-18 20:58:14.260 UTC [eventhub_producer] Send -> ERRO 009 event not set
20:58:26 unit-tests_1  | 2017-05-18 20:58:14.260 UTC [eventhub_producer] Send -> ERRO 00a event not set
20:58:26 unit-tests_1  | 2017-05-18 20:58:14.260 UTC [eventhub_producer] Send -> ERRO 00b event not set
20:58:26 unit-tests_1  | 2017-05-18 20:58:14.260 UTC [eventhub_producer] start -> ERRO 00c Event of type REGISTER does not exist
20:58:26 unit-tests_1  | 2017-05-18 20:58:14.260 UTC [eventhub_producer] start -> ERRO 00d Event of type REGISTER does not exist
20:58:26 unit-tests_1  | 2017-05-18 20:58:14.261 UTC [eventhub_producer] start -> ERRO 00e Event of type REGISTER does not exist
20:58:26 unit-tests_1  | 2017-05-18 20:58:14.263 UTC [eventhub_producer] start -> ERRO 00f Event of type REGISTER does not exist
20:58:26 unit-tests_1  | 2017-05-18 20:58:14.263 UTC [msp] DeserializeIdentity -> INFO 010 Obtaining identity
20:58:26 unit-tests_1  | 2017-05-18 20:58:16.264 UTC [msp] DeserializeIdentity -> INFO 011 Obtaining identity
20:58:26 unit-tests_1  | 2017-05-18 20:58:18.268 UTC [msp] DeserializeIdentity -> INFO 012 Obtaining identity
20:58:26 unit-tests_1  | 2017-05-18 20:58:18.270 UTC [msp] DeserializeIdentity -> INFO 013 Obtaining identity
20:58:26 unit-tests_1  | 2017-05-18 20:58:18.271 UTC [msp] DeserializeIdentity -> INFO 014 Obtaining identity
20:58:26 unit-tests_1  | 2017-05-18 20:58:18.274 UTC [eventhub_producer] SendProducerBlockEvent -> INFO 015 Channel [testchainid]: Sending event for block number [1]
20:58:26 unit-tests_1  | 2017-05-18 20:58:18.274 UTC [msp] DeserializeIdentity -> INFO 016 Obtaining identity
20:58:26 unit-tests_1  | 2017-05-18 20:58:18.276 UTC [msp] DeserializeIdentity -> INFO 017 Obtaining identity
20:58:26 unit-tests_1  | 2017-05-18 20:58:20.278 UTC [msp] DeserializeIdentity -> INFO 018 Obtaining identity
20:58:26 unit-tests_1  | 2017-05-18 20:58:20.281 UTC [msp] DeserializeIdentity -> INFO 019 Obtaining identity
20:58:26 unit-tests_1  | --- FAIL: TestUnregister (5.01s)
20:58:26 unit-tests_1  | 	producer_test.go:392: Error sending message could not send the blocking event
20:58:26 unit-tests_1  | 2017-05-18 20:58:25.285 UTC [msp] DeserializeIdentity -> INFO 01a Obtaining identity
20:58:26 unit-tests_1  | 2017-05-18 20:58:25.287 UTC [eventhub_producer] register -> ERRO 01b could not register event_type:BLOCK chainID:""testchainid"" : error registering handler for  BLOCK: handler exists for event type
20:58:26 unit-tests_1  | 2017-05-18 20:58:25.287 UTC [msp] DeserializeIdentity -> INFO 01c Obtaining identity
20:58:26 unit-tests_1  | 2017-05-18 20:58:25.287 UTC [eventhub_producer] Chat -> ERRO 01d Error handling message: event message must be properly signed by an identity from the same organization as the peer: [failed deserializing event creator: [Expected MSP ID DEFAULT, received ]]
20:58:26 unit-tests_1  | 2017-05-18 20:58:25.287 UTC [eventhub_producer] Chat -> ERRO 01e error during Chat, stopping handler: err
20:58:26 unit-tests_1  | FAIL
{code}",,AdnanChoudhury,Clayton Sims,elisafla,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-4037,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxw5j:",,,,,,,,,,,,,,,,,,,,,,,,,,,AdnanChoudhury,Clayton Sims,elisafla,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/May/17 2:33 AM;Clayton Sims;By looking this did not make alpha2 so changing the fix version to v1.0.0.   If I misunderstood feel free to change back;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
TPS invokes 8 threads CouchDB 4 chaincodes,FAB-4043,16905,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,nnao,scottz,scottz,20/May/17 3:18 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,13/Jun/18 2:56 AM,v1.1.0,,,v1.1.0,,fabric-quality,,,,,,,0,,,,,,,,"Run from fabric-test/tools/PTE/CITest/scripts/test_driver.sh. This test is similar to FAB-3833, but with 4 chaincodes (instead of 1).
 * +Component+:  Performance Stress Test with Couch DB
 * +Description+: Send 10000 invoke transactions to all chaincodes on a peer in both orgs,
catch events for every TX, query last TX to verify, calculate TPS, and remove network and cleanup.
 * +Artifact Locations+: fabric-test/tools/PTE/CITest/FAB-4043-8i-CouchDB-4cc
 * +Network Topology+: 3 Ord, 4 KB, 3 ZK, 2 Org, 2 Peers/Org, 4 Chaincodes, sample_cc, 8 thrds
Launch network, use PTE in STRESS mode to continuously
 * +Client Driver+: test_pte.py, PTE.

 ",,nnao,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3989,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3770,,,,,,,,,,"1|hzx2pb:",,,,,,Sprint 19 - Quality,,,,,,,,,,,,,,,,,,,,,nnao,scottz,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,,true,"01/Jun/18 5:48 AM;nnao;https://gerrit.hyperledger.org/r/c/22659/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
TPS invokes 2 threads CouchDB with 10 orderers,FAB-4044,16906,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,nnao,scottz,scottz,20/May/17 3:19 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,07/Jun/18 7:57 AM,v1.1.0,,,v1.1.0,,fabric-quality,,,,,,,0,Quality,,,,,,,"Run from fabric-test/tools/PTE/CITest/scripts/test_driver.sh. This test is similar to FAB-3833, but with more orderers.

 
 * +Component+:  Performance Stress Test with Couch DB
 * +Description+: Send 10000 invoke transactions concurrently to a peer in both orgs,
 catch events for every TX, query last TX to verify, calculate TPS, and remove network and cleanup.
 * +Artifact Locations+: fabric-test/tools/PTE/CITest/FAB-4045-2i-CouchDB-10orderers
 * +Network Topology+: 10 Ord, 4 KB, 3 ZK, 2 Org, 2 Peers/Org, 1 Chan, sample_cc, 2 thrds
 Launch network, use PTE in STRESS mode to continuously
 * +Client Driver+: test_pte.py, PTE.",,nnao,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3989,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3770,,,,,,,,,,"1|hzx2pz:",,,,,,Sprint 19 - Quality,,,,,,,,,,,,,,,,,,,,,nnao,scottz,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,,true,"17/May/18 5:26 AM;nnao;https://gerrit.hyperledger.org/r/c/21877/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
TPS invokes 2 threads CouchDB with 8 kafkabrokers,FAB-4045,16907,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,nnao,scottz,scottz,20/May/17 3:21 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,15/Jun/18 5:59 AM,v1.1.0,,,v1.1.0,,fabric-quality,,,,,,,0,Quality,,,,,,,"Run from fabric-test/tools/PTE/CITest/scripts/test_driver.sh. This test is similar to FAB-3833, but with more kafkabrokers.

Use 8 KBs, KAFKA_DEFAULT_REPLICATION_FACTOR=5 (RF set size), and KAFKA_MIN_INSYNC_REPLICAS=2 (min-ISR).

Expect this (8-5-2) configuration to have a lower TPS than the testcase FAB-3833 which uses 4-3-2 (default standard network settings) but is otherwise the same.
 * +Component+:  Performance Stress Test with Couch DB
 * +Description+: Send 10000 invoke transactions concurrently to a peer in both orgs,
 catch events for every TX, query last TX to verify, calculate TPS, and remove network and cleanup.
 * +Artifact Locations+: fabric-test/tools/PTE/CITest/FAB-4045-2i-CouchDB-8kafkas
 * +Network Topology+: 3 Ord, 8 KB, 3 ZK, 2 Org, 2 Peers/Org, 1 Chan, sample_cc, 2 thrds
 Launch network, use PTE in STRESS mode to continuously
 * +Client Driver+: test_pte.py, PTE.

 ",,nnao,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3989,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3770,,,,,,,,,,"1|hzx2q7:",,,,,,Sprint 19 - Quality,,,,,,,,,,,,,,,,,,,,,nnao,scottz,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,release-1.2,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,release-1.3,release-1.4,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,true,"30/May/18 1:43 AM;nnao;https://gerrit.hyperledger.org/r/c/22479/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
peer-endorser-committer UT improvements,FAB-4046,16908,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,muralisr,muralisr,muralisr,20/May/17 3:35 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,06/Jul/18 10:55 PM,v1.0.0-alpha2,,,v1.0.0,,fabric-peer,,,,,,,0,help-wanted,,,,,,,"This is a overarching task to cover UT for various peer components.

Please pick a task with ""help-wanted"" label or create a sub-task for a package you want to work on (list of packages attached in peer_coverage.xlsx) and assign to yourself. If you need help getting started ping maintainers (or anyone else!).

*IMPORTANT - use the unique sub-task FAB number in the gerrit (don't use the the main FAB-4046).*
{code:java}
Some simple instructions to find out coverage in a package. They involve running ""go test"". Some ""go test"" may need some ""ldflags"" to be passed.  To get this, do ""make peer"" from fabric/ folder. Locate ""-ldflags...."" option from the output from ""make peer"" and copy it. 

To get coverage for a package ...

cd to/the/package/dir
go test -ldflags ""copy_the_rest_of_ldflags_here"" -coverprofile=coverage.out
go tool cover -html=coverage.out -o coverage.html

Explore coverage.html in a browser.
{code}",,indirajith,muralisr,nnao,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-4048,FAB-4049,FAB-4050,FAB-4051,FAB-4052,FAB-4053,FAB-4055,FAB-4056,FAB-4058,FAB-4059,FAB-4060,FAB-4061,FAB-4062,FAB-4063,FAB-4064,FAB-4065,FAB-4067,FAB-4068,FAB-4069,FAB-4095,FAB-3735,FAB-4182,FAB-4183,FAB-4208,,,,,,,,,,,,FAB-3899,,,,,,,,,,,,,,,,,,,,"20/May/17 3:34 AM;muralisr;peer_coverage.xlsx;https://jira.hyperledger.org/secure/attachment/10847/peer_coverage.xlsx",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxw5r:",,,,,,,,,,,,,,,,,,,,,,,,,,,indirajith,muralisr,nnao,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Move CA csp.go to Fabric/BCCSP utils,FAB-4047,16909,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,vpaprots,vpaprots,20/May/17 3:37 AM,30/Jul/19 10:59 AM,28/Oct/23 2:59 AM,30/Jul/19 10:59 AM,,,,Future,,,,,,,,,0,,,,,,,,"There were lots of helper functions needed for CA to work with BCCSP. Because of the delay required for vendoring, the utilities currently live on the fabric-ca side. Need to clean up and move them to fabric/bccsp. Remider for POST v1.0

FYI: [~ChristopherFerris] [~keithsmith] [~angelo.decaro]",,troyronda,vpaprots,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxw5z:",,,,,,,,,,,,,,,,,,,,,,,,,,,troyronda,vpaprots,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
UT - github.com/hyperledger/fabric/peer/chaincode,FAB-4048,16910,16908,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,aambati,muralisr,muralisr,20/May/17 3:44 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,31/May/17 2:19 AM,,,,v1.0.0,,fabric-peer,,,,,,,0,,,,,,,,https://gerrit.hyperledger.org/r/#/c/9285/,,aambati,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-4046,,,,,,,FAB-3927,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxw67:",,,,,,,,,,,,,,,,,,,,,,,,,,,aambati,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/May/17 7:50 AM;aambati;duplicate of FAB-3927;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
UT - github.com/hyperledger/fabric/core/container,FAB-4049,16911,16908,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,aambati,muralisr,muralisr,20/May/17 3:45 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,31/May/17 2:19 AM,,,,v1.0.0,,,,,,,,,0,,,,,,,,,,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-4046,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxw6f:",,,,,,,,,,,,,,,,,,,,,,,,,,,muralisr,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
UT - github.com/hyperledger/fabric/core/config,FAB-4050,16912,16908,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,aambati,muralisr,muralisr,20/May/17 3:50 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,27/May/17 12:09 AM,,,,,,fabric-peer,,,,,,,0,,,,,,,,https://gerrit.hyperledger.org/r/#/c/9029,,aambati,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-4046,,,,,,,FAB-3735,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxw6n:",,,,,,,,,,,,,,,,,,,,,,,,,,,aambati,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/May/17 11:21 PM;aambati;Duplicate of FAB-3735;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
UT - github.com/hyperledger/fabric/core/chaincode/shim,FAB-4051,16913,16908,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,muralisr,muralisr,muralisr,20/May/17 3:52 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,20/May/17 3:52 AM,,,,,,fabric-peer,,,,,,,0,,,,,,,,https://gerrit.hyperledger.org/r/#/c/9395/,,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-4046,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxw6v:",,,,,,,,,,,,,,,,,,,,,,,,,,,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
UT - github.com/hyperledger/fabric/core/scc,FAB-4052,16914,16908,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,muralisr,muralisr,20/May/17 3:54 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,20/May/17 3:54 AM,,,,v1.0.0,,fabric-peer,,,,,,,0,,,,,,,,https://gerrit.hyperledger.org/r/#/c/9375/,,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-4046,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxw73:",,,,,,,,,,,,,,,,,,,,,,,,,,,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
UT - github.com/hyperledger/fabric/protos/utils,FAB-4053,16915,16908,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,mastersingh24,muralisr,muralisr,20/May/17 3:56 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,20/May/17 3:56 AM,,,,v1.0.0,,fabric-peer,,,,,,,0,,,,,,,,https://gerrit.hyperledger.org/r/#/c/9421/,,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-4046,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxw7b:",,,,,,,,,,,,,,,,,,,,,,,,,,,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
UT - github.com/hyperledger/fabric/core/scc/cscc,FAB-4055,16917,16908,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,C0rWin,muralisr,muralisr,20/May/17 4:05 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,20/May/17 4:05 AM,,,,v1.0.0,,fabric-peer,,,,,,,0,,,,,,,,"https://gerrit.hyperledger.org/r/#/c/9363/
https://gerrit.hyperledger.org/r/#/c/9361/",,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-4046,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxw7r:",,,,,,,,,,,,,,,,,,,,,,,,,,,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
UT - github.com/hyperledger/fabric/protos/common,FAB-4056,16918,16908,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,mastersingh24,muralisr,muralisr,20/May/17 4:07 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,20/May/17 4:07 AM,,,,v1.0.0,,fabric-peer,,,,,,,0,,,,,,,,https://gerrit.hyperledger.org/r/#/c/9345/,,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-4046,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxw7z:",,,,,,,,,,,,,,,,,,,,,,,,,,,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
UT - github.com/hyperledger/fabric/core/scc/qscc,FAB-4057,16919,16908,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wlahti,wlahti,wlahti,20/May/17 4:09 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,25/May/17 1:26 AM,,,,,,fabric-peer,,,,,,,0,,,,,,,,Current coverage is 62.5%. ,,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxw87:",,,,,,,,,,,,,,,,,,,,,,,,,,,wlahti,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
UT - github.com/hyperledger/fabric/core/container/api,FAB-4058,16928,16908,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,C0rWin,muralisr,muralisr,20/May/17 4:40 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,20/May/17 9:09 AM,,,,WON'T FIX,,fabric-peer,,,,,,,0,help-wanted,,,,,,,,,C0rWin,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-4046,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxw8f:",,,,,,,,,,,,,,,,,,,,,,,,,,,C0rWin,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"20/May/17 6:22 AM;C0rWin;There is a single file in there with following content:

{code}
/*
Copyright IBM Corp. 2017 All Rights Reserved.

Licensed under the Apache License, Version 2.0 (the ""License"");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

		 http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an ""AS IS"" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/

package api

import (
	""io""

	""golang.org/x/net/context""

	""github.com/hyperledger/fabric/core/container/ccintf""
)

type BuildSpecFactory func() (io.Reader, error)

//abstract virtual image for supporting arbitrary virual machines
type VM interface {
	Deploy(ctxt context.Context, ccid ccintf.CCID, args []string, env []string, reader io.Reader) error
	Start(ctxt context.Context, ccid ccintf.CCID, args []string, env []string, builder BuildSpecFactory) error
	Stop(ctxt context.Context, ccid ccintf.CCID, timeout uint, dontkill bool, dontremove bool) error
	Destroy(ctxt context.Context, ccid ccintf.CCID, force bool, noprune bool) error
	GetVMName(ccID ccintf.CCID) (string, error)
}
{code}

nothing testable here, a few lines of interface declaration, I'd resolve this one w/ WON'T FIX.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
UT - github.com/hyperledger/fabric/core/container/ccintf,FAB-4059,16929,16908,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,muralisr,muralisr,muralisr,20/May/17 4:42 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,10/Jul/18 3:23 AM,v1.0.0,,,v1.0.0,,fabric-peer,,,,,,,0,help-wanted,,,,,,,,,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-4046,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxw8n:",,,,,,,,,,,,,,,,,,,,,,,,,,,muralisr,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
UT - github.com/hyperledger/fabric/core/policyprovider,FAB-4060,16930,16908,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,muralisr,muralisr,20/May/17 4:44 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,23/May/17 4:52 AM,v1.0.0,,,,,,,,,,,,0,help-wanted,,,,,,,,,muralisr,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-4046,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxw8v:",,,,,,,,,,,,,,,,,,,,,,,,,,,muralisr,yacovm,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"20/May/17 5:47 AM;yacovm;https://gerrit.hyperledger.org/r/#/c/9581/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
UT - github.com/hyperledger/fabric/core/scc/samplesyscc,FAB-4061,16931,16908,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,muralisr,muralisr,20/May/17 4:50 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,23/May/17 4:48 AM,v1.0.0,,,,,fabric-peer,,,,,,,0,help-wanted,,,,,,,,,muralisr,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-4046,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxw93:",,,,,,,,,,,,,,,,,,,,,,,,,,,muralisr,yacovm,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"20/May/17 6:45 AM;yacovm;https://gerrit.hyperledger.org/r/#/c/9583/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
UT - github.com/hyperledger/fabric/core,FAB-4062,16932,16908,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,14gracel,muralisr,muralisr,20/May/17 4:52 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,10/Jul/18 3:23 AM,,,,v1.0.0,,fabric-peer,,,,,,,0,,,,,,,,,,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-4046,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxw9b:",,,,,,,,,,,,,,,,,,,,,,,,,,,muralisr,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
UT - github.com/hyperledger/fabric/core/chaincode/platforms,FAB-4063,16933,16908,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,14gracel,muralisr,muralisr,20/May/17 4:53 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,14/Sep/17 9:48 AM,v1.0.0,,,,,fabric-peer,,,,,,,0,,,,,,,,,,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-4046,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxw9j:",,,,,,,,,,,,,,,,,,,,,,,,,,,muralisr,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
UT - github.com/hyperledger/fabric/core/common/sysccprovider,FAB-4064,16934,16908,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,14gracel,muralisr,muralisr,20/May/17 4:56 AM,10/Oct/18 9:40 PM,28/Oct/23 2:59 AM,10/Oct/18 9:40 PM,v1.0.0,,,,,fabric-peer,,,,,,,0,,,,,,,,,,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-4046,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxw9r:",,,,,,,,,,,,,,,,,,,,,,,,,,,muralisr,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
UT - github.com/hyperledger/fabric/core/container/inproccontroller,FAB-4065,16935,16908,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,14gracel,muralisr,muralisr,20/May/17 5:06 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,22/Nov/17 3:17 AM,v1.0.0-alpha2,,,v1.0.0,,fabric-peer,,,,,,,0,,,,,,,,,,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-4046,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxw9z:",,,,,,,,,,,,,,,,,,,,,,,,,,,muralisr,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Not using _VERSION_ variable in release template,FAB-4066,16940,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,nnao,nnao,nnao,20/May/17 2:18 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,07/Jun/17 2:40 AM,v1.0.0-alpha2,,,v1.0.0,,fabric-build,,,,,,,0,v1.0,,,,,,,"release target in Makefile uses _VERSION_ for making a shell script from the template file, but the template file is not using _VERSION_.",,Clayton Sims,nnao,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-4255,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxwaf:",,,,,,,,,,,,,,,,,,,,,,,,,,,Clayton Sims,nnao,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"07/Jun/17 12:54 AM;Clayton Sims;Add CR reference [https://gerrit.hyperledger.org/r/#/c/9587.]    Nah what are the next steps to resolve this;;;","07/Jun/17 2:39 AM;nnao;[~Clayton Sims] I merged the patch of FAB-4255 and this JIRA. I will close as duplicate.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
UT - github.com/hyperledger/fabric/peer/common,FAB-4067,16941,16908,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ChristopherFerris,muralisr,muralisr,20/May/17 7:52 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,27/May/17 1:43 AM,,,,,,fabric-peer,,,,,,,0,help-wanted,,,,,,,,,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-4046,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxwan:",,,,,,,,,,,,,,,,,,,,,,,,,,,muralisr,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
UT - github.com/hyperledger/fabric/peer/node,FAB-4068,16942,16908,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,nnao,muralisr,muralisr,20/May/17 7:54 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,07/Jun/17 2:50 AM,v1.0.0-alpha2,,,v1.0.0,,fabric-peer,,,,,,,0,help-wanted,,,,,,,,,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-4046,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxwav:",,,,,,,,,,,,,,,,,,,,,,,,,,,muralisr,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"24/May/17 8:26 AM;muralisr;Thanks [~nnao] !;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
UT - github.com/hyperledger/fabric/peer/version,FAB-4069,16943,16908,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yuki-kon,muralisr,muralisr,20/May/17 7:55 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,23/May/17 9:05 PM,,,,,,fabric-peer,,,,,,,0,help-wanted,,,,,,,,,muralisr,yuki-kon,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-4046,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxwb3:",,,,,,,,,,,,,,,,,,,,,,,,,,,muralisr,yuki-kon,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"23/May/17 2:54 AM;muralisr;Thanks [~yuki-kon] !;;;","23/May/17 7:23 AM;yuki-kon;CR is here. https://gerrit.hyperledger.org/r/#/c/9675/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
As a fabric developer I fabric/bccsp package to have unit test coverage,FAB-4071,16945,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,20/May/17 10:03 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,23/May/17 4:54 AM,,,,v1.0.0,,fabric-crypto,,,,,,,0,,,,,,,,The fabric/bccsp package has no test coverage.,,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxwbj:",,,,,,,,,,,,,,,,,,,,,,,,,,,yacovm,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"20/May/17 10:06 PM;yacovm;https://gerrit.hyperledger.org/r/#/c/9609/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Enable experimental Java chain code support,FAB-4072,16946,,Story,Closed,FAB,Fabric,software,denyeart,,,High,Done,gujingxiao,rickr,rickr,20/May/17 10:21 PM,21/Jul/18 3:54 AM,28/Oct/23 2:59 AM,05/Oct/17 8:15 PM,,,,v1.1.0,,fabric-peer,,,,,,,12,java-chaincode,,,,,,,"Enable experimental Java chain code support as a compile time option.

The build tag {{cc-java}} should enable the Java chain code support.

See FAB-2883 as an example of using go build tags.",,AshishkumarLakshmanan,baohua,binhn,ChristopherFerris,denyeart,guo,Hangyu_FJH,HansDeLeenheer,leninmehedy,mastersingh24,muralisr,rickr,sanchezl,stanacton,xuanyue202,yacovm,zamrokk,,,,,,,,,,,Not a security issue,FAB-3850,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzxw2f:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,AshishkumarLakshmanan,baohua,binhn,ChristopherFerris,denyeart,guo,Hangyu_FJH,HansDeLeenheer,leninmehedy,mastersingh24,muralisr,rickr,sanchezl,stanacton,xuanyue202,yacovm,zamrokk,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"25/May/17 1:09 AM;sanchezl;Current thinking is that Java chaincode (CC) will not be supported for version 1.0.0.

Java CC will remain disable by default, but it will be possible to enabled with a flag in core.yaml:
{code:java}
chaincode:
  java:
    Enable: true{code}
 ;;;","25/May/17 1:31 AM;muralisr;+1

Having sent the message that this is WIP with the hardcoded disable in alpha2, perhaps time to relax it with a soft disable which users can override easily... will help get more usage and improve Java CC.;;;","25/May/17 3:39 AM;ChristopherFerris;I really don't like this. Maybe if there's a hidden config param that if added to the yams would enable. 

IMO, we do NOT  want to make it easy for someone to use something that we don't think is ready.;;;","25/May/17 3:44 AM;sanchezl;{quote}Maybe if there's a hidden config param that if added to the yams would enable.
{quote}
The {{chaincode.java.Enable}} property would default to {{false}}, and not be included or even mentioned in the sample {{core.yaml}}. ;;;","25/May/17 4:07 AM;rickr;I think this is a call to those that know how bad / good they feel this code is?  How much risk is there that it will break other functionality of the Fabric?  Gut feel is none.  I know many keep asking where is is JCC ?  A property with EXPERIMENTAL_ENABLE_JCC=true   IMO would be enough to get the point across.  ;;;","25/May/17 4:09 AM;binhn;That sounds reasonable, and some doc (java chaincode readme) should describe how to enable.;;;","25/May/17 4:49 AM;mastersingh24;We have Node and Python SDKs and don't have Node and Python chaincode - so I don't think supporting a Java SDK means we have to have Java chaincode.

My take at this point is that no one on the core maintainer team / core development team and/or teams building project have used Java chaincode enough for us to know how good it it.

So IMHO we should defer this;;;","25/May/17 10:35 AM;baohua;Notice that if to disable the java cc, also the javaenv image might be not required.;;;","25/May/17 10:48 AM;denyeart;I agree we should not enable/support JCC for production use in 1.0, but a switch to enable as an experimental/beta feature would be a good idea in order to generate JCC feedback, which would help to expedite support in 1.1.  Experimental/beta feature enablement is an accepted open source practice to drive early feedback, and I think would be warranted in this case.;;;","25/May/17 4:10 PM;yacovm;{quote}We have Node and Python SDKs and don't have Node and Python chaincode - so I don't think supporting a Java SDK means we have to have Java chaincode.

My take at this point is that no one on the core maintainer team / core development team and/or teams building project have used Java chaincode enough for us to know how good it it.

So IMHO we should defer this
{quote}
Ditto;;;","25/May/17 5:55 PM;rickr;Do we have Node or Python CC that could be enabled that most like works without affecting or impacting the stability of the rest of the code that user are asking for ?  Where is that even close to an analogy with the present situation of Java CC.

What I have not even tempted to try or know about I distrust  ;;;","26/May/17 6:55 PM;mastersingh24;[~rickr] - my comment was based on the first line in the Description:
{noformat}
Java SDK looks odd to have when we can't deploy java chaincode.{noformat}

[~denyeart] We don't currently have a model for experimental features nor a model for an experimental channel (which is actually what I think we should do - no need to have the ability to enable experimental features in production code).

I think we should actually entirely remove Java CC from v1.0.0 (ideally I'd love to remove it from the proto enum, but an error with unsupported would suffice I suppose);;;","29/May/17 1:00 PM;jimthematrix;making it hard enough to enable is good enough in my opinion, so it's clear one has to jump through hoops to get it working, and you are on your own at that point.

Maybe leaving the code in, but remove javaenv from make docker, and document the code snippet to add to makefile to add the image (and prominently label it as experimental).

also note that neither of node SDK or java SDK supports java chaincode packaging. using it would also require figuring out how to build the archive to send to the peers through the SDK (both SDKs support using user-built archives as chaincode package). So that's already another layer of difficulty.

Point is I don't think we need to remove the code, and it'll be enough hoops to jump through already.;;;","30/May/17 8:48 PM;rickr;Once again I think EXPERIMENTAL_ENABLE_JCC=true
gets the point across you using at your own risk.;;;","31/May/17 1:50 PM;denyeart;[~sanchezl] I think this is not getting votes because people don't know exactly what a 'yes' vote means.  Could you clarify via title/description/comment update the net change proposed here.  Sounds like the consensus is in favor of a switch to enable java chaincode at your own risk.  If you could confirm that is the intent here, and ask for 'yes' votes on that change, I think the voting can begin in earnest.;;;","02/Jun/17 12:51 PM;baohua;Maybe it can be a simple solution to disable by default in the config file, and mention in the comments that the support can only be experimental.;;;","05/Jun/17 8:58 PM;muralisr;I can really go either way ... but given the activity on java-chaincode RC and the fact that its getting votes from outside the crowd, vote +1 for adding a config switch with lots of comments as opposed to a hard coded disable.

Note that though its got 5 votes, only 2 are from maintainers.;;;","05/Jun/17 9:03 PM;HansDeLeenheer;[~muralisr] not sure why a vote from a 'non-maintainer' is worth less. I voted this up because we are a user of the JAVA-CC and will otherwise be (even further) stalled in our progress.;;;","05/Jun/17 9:10 PM;muralisr;[~HansDeLeenheer] We have been following the guideline of ""5 votes from maintainers"" for deciding which JIRAs should be worked on for 1.0 to make sure we don't let risky items slip through. Definitely votes from non-maintainers (and thanks much for taking the time to vote!) gives view on importance of a JIRA.  Indeed that's what pushed me to vote +1.;;;","05/Jun/17 9:13 PM;ChristopherFerris;What [~muralisr] said is correct. We've been using this process (add 'review-needed' and then have the maintainers (and others) discuss in comments etc but the votes that count towards the decision are the maintainer votes.;;;","05/Jun/17 11:48 PM;HansDeLeenheer;That does make sense! Thx for the clarification.;;;","06/Jun/17 1:47 AM;ChristopherFerris;This issue has been in review-needed for more than 10 days and has not achieved the requisite votes to be included in 1.0. I would suggest that it be closed as WON'T FIX for 1.0. We can certainly look at making it available in an early release of 1.1 when it has matured to a point we feel confident in including.;;;","20/Jul/17 4:46 PM;guo;really want it enabled,so we can write java chaincode;;;","21/Jul/17 7:36 PM;leninmehedy;+1;;;","01/Oct/17 9:18 PM;mastersingh24;https://gerrit.hyperledger.org/r/14001;;;","01/Oct/17 9:19 PM;mastersingh24;Please use the ""experimental"" build tag as we are either going to build with  / without all experimental features.

Comments added to the CR as well;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
"create BYFN sample fully annotate network_setup.sh, refactor and cleanup",FAB-4073,16952,,Story,Closed,FAB,Fabric,software,denyeart,,,High,Done,ChristopherFerris,ChristopherFerris,ChristopherFerris,21/May/17 5:14 AM,21/Jul/18 3:55 AM,28/Oct/23 2:59 AM,14/Sep/17 2:35 AM,v1.0.0-beta,,,v1.0.0,,fabric-docs,,,,,,,0,Documentation,quality,,,,,,"To support the ""Build Your First Network"" concept, refactor e2e_cli/network_setup.sh and create a fully annotated script that is independent of the e2e_cli test that is also used for various integration test scenarios.

 ",,ChristopherFerris,rameshthoomu,,,,,,,,,,,,,,,,,,,7200,7200,,0%,7200,7200,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-2309,FAB-4362,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzxwc7:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,ChristopherFerris,rameshthoomu,,,,,,,,,,,,,,,,,,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-6.11.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/tough-cookie-4.1.3,mergify/bp/release-2.2/pr-4374,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/grpc/grpc-js-1.8.17,dependabot/go_modules/high-throughput/application-go/google.golang.org/grpc-1.53.0,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/word-wrap-1.2.4,main,dependabot/go_modules/asset-transfer-basic/application-go/google.golang.org/grpc-1.53.0,mergify/bp/release-2.2/pr-3750,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/semver-6.3.1,release-2.5,release-2.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-and-fabric-network-7.2.4,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"13/Jun/17 1:48 AM;ChristopherFerris;https://gerrit.hyperledger.org/r/#/c/10475/;;;","18/Jun/17 12:07 PM;ChristopherFerris;https://gerrit.hyperledger.org/r/#/c/10507/;;;","20/Jun/17 11:30 AM;ChristopherFerris;[https://gerrit.hyperledger.org/r/#/c/10805/] - 10507 abandoned;;;","21/Jun/17 3:38 AM;rameshthoomu;-[~ChristopherFerris] Do we create a *release tag* in fabric-samples repository to release fabric-network folder to nexus repository? if not, how to publish fabric-network folder to nexus?-

I think, CI fabric-binary job has to publish only fabric-binaries to nexus. Could you please confirm? 

User has to clone fabric-samples repository, if we don't publish fabric-network directory (all scripts) to nexus. Is this okay? ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[alpha2] error in peer and orderer ORDERER_TRANSACTION,FAB-4074,16961,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,nickgaski,jsong1230,jsong1230,21/May/17 1:09 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,05/Jun/17 10:45 PM,v1.0.0-alpha2,,,v1.0.0,,fabric-docs,,,,,,,0,,,,,,,,"Can you help what the reason of the following error?

 

## peer

{color:#ff0000}2017-05-21 12:54:54.589 KST [protoutils] ValidateTransaction -> ERRO 041 validateCommonHeader returns err invalid header type ORDERER_TRANSACTION{color}
{color:#ff0000}2017-05-21 12:54:54.589 KST [txvalidator] Validate -> ERRO 042 Invalid transaction with index 0{color}

 

## orderer

{color:#ff0000}2017-05-21 12:54:54.563 KST [cauthdsl] func2 -> ERRO 012 Principal deserialization failed: (Could not deserialize a SerializedIdentity, err unexpected EOF) for identity [99 101 114 116]{color}
{color:#ff0000}2017-05-21 12:54:54.565 KST [cauthdsl] func2 -> ERRO 013 Principal deserialization failed: (Could not deserialize a SerializedIdentity, err unexpected EOF) for identity [99 101 114 116]{color}

 

I am using sampleconfig with minor changes.

Please find my yaml, block, tx files.

 

## command at orderer

{color:#205081}orderer{color}

## command at peer

{color:#205081}configtxgen -profile SampleSingleMSPSolo -outputBlock genesis.block{color}
{color:#205081}configtxgen -profile SampleSingleMSPChannel -outputCreateChannelTx mychannel.tx -channelID mychannel{color}

{color:#205081} {color}

{color:#205081}peer channel create -o 127.0.0.1:7050 -c mychannel -f mychannel.tx{color}
{color:#205081}peer channel join -o 127.0.0.1:7050 -b mychannel.block{color}

{color:#205081}peer chaincode install -n mycc -v 1.0 -p github.com/hyperledger/fabric/examples/chaincode/go/chaincode_example02 -c '\{""Args"":[""init"",""a"",""100"",""b"",""200""]}'{color}
{color:#205081}peer chaincode instantiate -o 127.0.0.1:7050 -C mychannel -n mycc -v 1.0 -c '\{""Args"":[""init"",""a"",""100"",""b"",""200""]}' -P ""OR ('DEFAULT.member','DEFAULT.admin')""{color}

{color:#205081}peer chaincode invoke -n mycc -c '\{""Args"":[""invoke"",""a"",""b"",""10""]}' -o 127.0.0.1:7050 -C mychannel{color}

{color:#205081}peer chaincode query -C mychannel -n mycc -c '\{""Args"":[""query"",""a""]}'{color}

 

It works but there are error as above at peer and orderer.

Thanks in advance.

Jeffrey",,jsong1230,markparz,nickgaski,shanlusun,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"21/May/17 1:09 PM;jsong1230;configtx.yaml;https://jira.hyperledger.org/secure/attachment/10855/configtx.yaml","21/May/17 1:09 PM;jsong1230;core.yaml;https://jira.hyperledger.org/secure/attachment/10854/core.yaml","21/May/17 1:09 PM;jsong1230;genesis.block;https://jira.hyperledger.org/secure/attachment/10853/genesis.block","21/May/17 1:09 PM;jsong1230;mychannel.block;https://jira.hyperledger.org/secure/attachment/10852/mychannel.block","21/May/17 1:09 PM;jsong1230;mychannel.tx;https://jira.hyperledger.org/secure/attachment/10851/mychannel.tx","21/May/17 1:09 PM;jsong1230;orderer.yaml;https://jira.hyperledger.org/secure/attachment/10850/orderer.yaml",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxwdb:",,,,,,,,,,,,,,,,,,,,,,,,,,,jsong1230,markparz,nickgaski,shanlusun,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"25/May/17 11:44 PM;nickgaski;Hi Jeffrey,

Can you make sure that the getting started instructions work for you first; then we can start manipulating the configuration files and profiles.  I imagine there is a mismatch somewhere with your configuration and the certificates.  Message me on rocket and I will help.

 

[~jsong1230];;;","30/May/17 11:30 PM;nickgaski;[~jsong1230] - is this still open for you ?;;;","05/Jun/17 10:45 PM;markparz;We feel this should be resolved now with the current getting started. [~jsong1230] if you run into another issue feel free to open a new one up based on the new getting started. Thanks!;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
temporarily disable events unit tests,FAB-4076,16964,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,21/May/17 8:04 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,22/May/17 1:40 AM,,,,,,fabric-build,,,,,,,0,,,,,,,,"Until https://gerrit.hyperledger.org/r/#/c/9573/ is merged the CI fails with high probability due to some brittle tests that were introduced lately.

",,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxwdj:",,,,,,,,,,,,,,,,,,,,,,,,,,,yacovm,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"21/May/17 8:08 PM;yacovm;https://gerrit.hyperledger.org/r/#/c/9629/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
False negative gossip warning related to pull,FAB-4077,16965,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,21/May/17 8:15 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,25/May/17 6:40 PM,,,,,,fabric-gossip,,,,,,,0,gossip,,,,,,,"When a peer determines whether a given peer is eligible for receiving blocks for some channel, it looks up the latest state info message that the remote peer has sent.

In some situations, especially at boot time - the peer might get a message for that channel (i.e a hello message for blocks pulling) from that remote peer before it has received a stateInfo message from that peer.
This results in a printing of a warning that a peer attempted to pull blocks but wasn't eligible for the channel.

This warning is a false negative and disappears after a while when the peer receives the StateInfo message of the remote peer. ",,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxwdr:",,,,,,Sprint 16 - Gossip,,,,,,,,,,,,,,,,,,,,,yacovm,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
StateInfo expiration should only expire dead peers and not the self peer,FAB-4078,16966,,Bug,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,yacovm,yacovm,yacovm,21/May/17 10:55 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,30/May/17 8:21 AM,v1.0.0-alpha2,,,v1.0.0,,fabric-gossip,,,,,,,6,,,,,,,,"* The stateInfo message store is used in gossip to know the membership of the peers of the channel.
* Each entry in the message store is the latest StateInfo message a peer has sent either directly or indirectly.
* Peers send StateInfo messages in the following manner:
** Upon reception of a block, a new StateInfo message is created and is propagated to adjacent peers.
** Once in a while, a peer send StateInfo pull requests to adjacent peers and they send back the entire StateInfo message set stored in their memory that they have received from other peers (reconciliation).

However - the StateInfo message store is an expirable message store - its messages are expired after a limited time.

This causes the following problem:
If no new blocks are generated in the channel, no new StateInfo messages are generated as a result, and eventually - the StateInfo messages of peers are cleaned up from memory. 

This causes many problems, namely that when a new peers joins a channel after no new blocks were created in that channel for a while - it will not get StateInfo messages from other peers and thus won't be able to pull blocks from them, unless it is configured to use leader election, and then it will elect itself as a leader and connect directly to the ordering service.

The following test shows this problem:
{code}
func TestMsgStoreNotExpire(t *testing.T) {
	t.Parallel()

	cs := &cryptoService{}
	adapter := new(gossipAdapterMock)
	cs.Mock = mock.Mock{}
	cs.On(""VerifyBlock"", mock.Anything).Return(nil)

	org := api.OrgIdentityType(""ORG1"")

	pkiID1 := common.PKIidType(""1"")
	pkiID2 := common.PKIidType(""2"")
	pkiID3 := common.PKIidType(""3"")

	peer1 := discovery.NetworkMember{PKIid: pkiID1, InternalEndpoint: ""1"", Endpoint: ""1""}
	peer2 := discovery.NetworkMember{PKIid: pkiID2, InternalEndpoint: ""2"", Endpoint: ""2""}
	peer3 := discovery.NetworkMember{PKIid: pkiID3, InternalEndpoint: ""3"", Endpoint: ""3""}

	adapter.On(""GetOrgOfPeer"", pkiID1).Return(org)
	adapter.On(""GetOrgOfPeer"", pkiID2).Return(org)
	adapter.On(""GetOrgOfPeer"", pkiID3).Return(org)
	adapter.On(""ValidateStateInfoMessage"", mock.Anything).Return(nil)
	adapter.On(""GetMembership"").Return([]discovery.NetworkMember{peer1, peer2, peer3})
	adapter.On(""DeMultiplex"", mock.Anything)
	adapter.On(""Gossip"", mock.Anything)
	adapter.On(""GetConf"").Return(conf)

	gc := NewGossipChannel(pkiID1, org, cs, channelA, adapter, &joinChanMsg{})
	gc.UpdateStateInfo(createStateInfoMsg(1, pkiID1, channelA))
	// Receive StateInfo messages from other peers
	gc.HandleMessage(&receivedMsg{PKIID: pkiID2, msg: createStateInfoMsg(1, pkiID2, channelA)})
	gc.HandleMessage(&receivedMsg{PKIID: pkiID3, msg: createStateInfoMsg(1, pkiID3, channelA)})

	simulateStateInfoRequest := func(pkiID []byte, outChan chan *proto.SignedGossipMessage) {
		sentMessages := make(chan *proto.GossipMessage, 1)
		// Ensure we respond to stateInfoSnapshot requests with valid MAC
		snapshotReq := &receivedMsg{
			PKIID: pkiID,
			msg: (&proto.GossipMessage{
				Tag: proto.GossipMessage_CHAN_OR_ORG,
				Content: &proto.GossipMessage_StateInfoPullReq{
					StateInfoPullReq: &proto.StateInfoPullRequest{
						Channel_MAC: GenerateMAC(pkiID, channelA),
					},
				},
			}).NoopSign(),
		}
		snapshotReq.On(""Respond"", mock.Anything).Run(func(args mock.Arguments) {
			sentMessages <- args.Get(0).(*proto.GossipMessage)
		})

		go gc.HandleMessage(snapshotReq)
		select {
		case <-time.After(time.Second):
			t.Fatal(""Haven't received a state info snapshot on time"")
		case msg := <-sentMessages:
			for _, el := range msg.GetStateSnapshot().Elements {
				sMsg, err := el.ToGossipMessage()
				assert.NoError(t, err)
				outChan <- sMsg
			}
		}
	}

	c := make(chan *proto.SignedGossipMessage, 3)
	simulateStateInfoRequest(pkiID2, c)
	assert.Len(t, c, 3)

	c = make(chan *proto.SignedGossipMessage, 3)
	simulateStateInfoRequest(pkiID3, c)
	assert.Len(t, c, 3)

	time.Sleep(conf.StateInfoExpirationInterval + time.Second)

	c = make(chan *proto.SignedGossipMessage, 3)
	simulateStateInfoRequest(pkiID2, c)
	assert.Len(t, c, 3)

	c = make(chan *proto.SignedGossipMessage, 3)
	simulateStateInfoRequest(pkiID3, c)
	assert.Len(t, c, 3)

}
{code}

The 2 assertions below fail after the expiration interval has passed.
",,ChristopherFerris,denyeart,mastersingh24,muralisr,yacovm,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-290,,,,,,,,,,"1|hzxwdz:",,,,,,Sprint 16 - Gossip,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,denyeart,mastersingh24,muralisr,yacovm,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"23/May/17 9:57 PM;yacovm;https://gerrit.hyperledger.org/r/#/c/9637/;;;","26/May/17 6:41 PM;mastersingh24;I'm good with this.  We have good test coverage here anyway;;;","26/May/17 6:53 PM;yacovm;The great test coverage tested that the bug exists... ;;;","27/May/17 1:20 AM;muralisr;[~yacovm] can you expand upon this for my clueless self  ? :-)

{code:java}
....when a new peers joins a channel after no new blocks were created in that channel for a while - it will not get StateInfo messages from other peers and thus won't be able to pull blocks from them,....
{code}

When a new peer joins its cache is clean and I assume its not in other peers cache anyway. I'm not able to see how doing  `StateInfo expiration should only expire dead peers and not the self peer` help this problem.;;;","27/May/17 4:47 AM;yacovm;So the problem here is:
Peers need to hear StateInfo messages from other peers in order to know they are in the channel (note that they know which peers *could* be in the channel but they need to know whether they actually have joined the channel).

For scalability and efficiency reasons - we gossip StateInfo messages via 2 mechanisms:
1) Push to peers new state info messages - this happens when a block is committed and the ledger height is increased, and as a result new state info messages are sent to peers.
2) once in a while, ask from peers StateInfo messages of other peers. 

We added Expiration support to the data structure that we use to hold our messages (all types of messages), and as a result- if the channel has no ""activity"", the stateInfo messages of the peers would evaporate.

The reason it happens only in stateInfo and not in alive messages is that in alive messages, every few seconds a new message is generated, and they replace the old ones so the expiration there is useful and OK, but in StateInfo it's a big problem.
{quote}
I'm not able to see how doing `StateInfo expiration should only expire dead peers and not the self peer` help this problem.{quote}
Now, we still need to expire stateInfo messages of peers that have been long dead.
We achieve this by once in a while iterating over the stateinfo message cache and then *asking the membership module* - ""do you know who that peer is?""
If it doesn't, it means that peer has been long gone, and we can safely delete its state info  message.;;;","29/May/17 12:47 PM;jimthematrix;[~yacovm] thanks for the detailed explanation. so this happens when the interval b/w transactions for that channel exceeds the ""stateInfoRetentionInterval"". wouldn't this problem be circumvented by setting the stateInfoRetentionInterval value to large enough for the expected largest transaction interval? I think a business app should have a rough idea of what that is, right? Would that be considered a bad practice, or have undesired consequences?

Trying to see if this can be documented for v1.0 and fixed in the next iteration.;;;","29/May/17 2:31 PM;yacovm;{quote}so this happens when the interval b/w transactions for that channel exceeds the ""stateInfoRetentionInterval"". {quote}
Yeah.
{quote}
wouldn't this problem be circumvented by setting the stateInfoRetentionInterval value to large enough for the expected largest transaction interval? I think a business app should have a rough idea of what that is, right?{quote}
Well, you can't set this value per channel. This value is set per peer, and at the same time must be identical across peers in all channels otherwise the messages might never expire because of a distributed feedback cycle (peer p expires a message, peer q doesn't, peer q sends peer p the message and peer p considers it a new one. peer q expires the message, now peer p sends peer q the message, etc. etc. Our message Store has a mechanism that makes sure this distributed cycle doesn't happen but it only works if the retention interval is configured the same)

{quote}Trying to see if this can be documented for v1.0 and fixed in the next iteration.{quote}
There is no way of fixing this without coding intervention. This bug already exists in alpha2, so and I think also in alpha, so fixing this would also make it that a client could run peers with alpha2 version alongside v1.0 and the peers with alpha2 version would be saved with this help. 
;;;","29/May/17 11:53 PM;denyeart;The problem appears to be legitimate, and the fix is well thought out, therefore I vote +1.;;;","30/May/17 2:57 AM;ChristopherFerris;This has also met the criteria and can be merged.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
start peer/channel tests on different orderer ports,FAB-4079,16967,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,muralisr,muralisr,muralisr,21/May/17 11:39 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,22/May/17 6:21 AM,,,,WON'T FIX,,,,,,,,,0,,,,,,,,"CI tests fail sporadically (especially...(only?) on Z) in the peer/channel package.

These appear to be collisions with orderer port 7050. Though the listener is release before reopennig there might be some grpc race there thats causing occasional trip up.  
{code:java}
https://jenkins.hyperledger.org/job/fabric-verify-z/7549/console

*22:16:08* unit-tests_1  | ok  	github.com/hyperledger/fabric/peer/chaincode	2.193s	coverage: 51.1% of statements*22:16:29* unit-tests_1  | 2017-05-20 22:16:27.971 UTC [msp] getMspConfig -> INFO 001 intermediate certs folder not found at [/opt/gopath/src/github.com/hyperledger/fabric/sampleconfig/msp/intermediatecerts]. Skipping.: [stat /opt/gopath/src/github.com/hyperledger/fabric/sampleconfig/msp/intermediatecerts: no such file or directory]*22:16:29* unit-tests_1  | 2017-05-20 22:16:27.971 UTC [msp] getMspConfig -> INFO 002 crls folder not found at [/opt/gopath/src/github.com/hyperledger/fabric/sampleconfig/msp/intermediatecerts]. Skipping.: [stat /opt/gopath/src/github.com/hyperledger/fabric/sampleconfig/msp/crls: no such file or directory]*22:16:29* unit-tests_1  | Error receiving: EOF*22:16:29* unit-tests_1  | Received error: EOF*22:16:29* unit-tests_1  | Received error: EOF*22:16:29* unit-tests_1  | Received error: EOF*22:16:29* unit-tests_1  | Received error: EOF*22:16:29* unit-tests_1  | Received error: EOF*22:16:29* unit-tests_1  | Received error: EOF*22:16:29* unit-tests_1  | Received error: EOF*22:16:29* unit-tests_1  | 2017/05/20 22:16:29 proto: textWriter unindented too far*22:16:29* unit-tests_1  | Received block:  header:<6:7 0:""\x00"" } 0:4 0:/* unexpected EOF */ >*22:16:29* unit-tests_1  | 

--- FAIL: TestCreateChainWithTimeoutErr (0.00s)*22:16:29* unit-tests_1  | panic: listen tcp 127.0.0.1:7050: bind: address already in use [recovered]
22:16:29 unit-tests_1  | 	panic: listen tcp 127.0.0.1:7050: bind: address already in use
{code}


Will attempt to fix by assigning unique orderer ports and monitor the situation.

",,aambati,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxwe7:",,,,,,,,,,,,,,,,,,,,,,,,,,,aambati,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"22/May/17 6:22 AM;muralisr;This is already fixed by a different CR. moving it to Done/wontfix;;;","24/May/17 1:10 PM;aambati;i saw this same problem in https://jenkins.hyperledger.org/job/fabric-verify-x86_64/12086/consoleFull;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
TestMultipleOrgEndpointLeakage in gossip fails,FAB-4080,16968,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,gennadyl,yacovm,yacovm,22/May/17 1:18 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,13/Jun/17 2:56 AM,v1.0.0-alpha2,,,v1.0.0,,fabric-gossip,,,,,,,0,beta,gossip,,,,,,"{code}
pki_id:""localhost:11616"" > timestamp:<inc_num:1495382235452722000 seq_num:16 > > , Envelope: 54 bytes, Signature: 54 bytes isn't valid
15:58:53 unit-tests_1  | --- FAIL: TestMultipleOrgEndpointLeakage (10.04s)
15:58:53 unit-tests_1  | 	assertions.go:219: 
                        
	Error Trace:	orgs_test.go:234
15:58:53 unit-tests_1  | 		
	Error:		Should not be zero, but was 
15:58:53 unit-tests_1  | 		
	Messages:	peer: localhost:11617 doesn't know internal endpoint of localhost:11616
15:58:53 unit-tests_1  | 		
15:58:53 unit-tests_1  | 	assertions.go:219: 
                        
	Error Trace:	orgs_test.go:234
15:58:53 unit-tests_1  | 		
	Error:		Should not be zero, but was 
15:58:53 unit-tests_1  | 		
	Messages:	peer: localhost:11618 doesn't know internal endpoint of localhost:11616
15:58:53 unit-tests_1  | 		
15:58:53 unit-tests_1  | 	assertions.go:219: 
                        
	Error Trace:	orgs_test.go:234
15:58:53 unit-tests_1  | 		
	Error:		Should not be zero, but was 
15:58:53 unit-tests_1  | 		
	Messages:	peer: localhost:11619 doesn't know internal endpoint of localhost:11616
{code}

https://jenkins.hyperledger.org/job/fabric-verify-z/7575/consoleFull

[~gennadyl] [~C0rWin]",,aambati,C0rWin,weeds,yacovm,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,FAB-4518,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-290,,,,,,,,,,"1|hzxwef:",,,,,,,,,,,,,,,,,,,,,,,,,,,aambati,C0rWin,weeds,yacovm,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"25/May/17 10:43 AM;aambati;another failure: https://jenkins.hyperledger.org/job/fabric-verify-z/7797/consoleFull;;;","26/May/17 12:57 PM;aambati;Another occurrence: https://gerrit.hyperledger.org/r/#/c/9285/;;;","30/May/17 7:19 AM;C0rWin;https://jenkins.hyperledger.org/job/fabric-verify-x86_64/12342/consoleFull;;;","06/Jun/17 9:18 PM;weeds;Artem- I'm a little unclear- is this a test problem or real code issue? if a test problem- is it a high?;;;","06/Jun/17 9:44 PM;C0rWin;[~weeds] This is UT which failed, it's either bad written test which need to be fixed or indication of the problem in production code. Need to take closer look, reproduce failure and explore outcomes to provide more information. 

The reason it's high, IMO because of failures rate in CI.;;;","09/Jun/17 9:44 PM;yacovm;[~gennadyl] has a fix for this https://gerrit.hyperledger.org/r/#/c/10345/ ;;;","12/Jun/17 7:54 AM;C0rWin;Need to take care of comments from CR review.;;;","13/Jun/17 2:56 AM;Clayton Sims;CR merged marking done;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Daily chaincode tests are failing,FAB-4081,16969,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,2016Nishi,rameshthoomu,rameshthoomu,22/May/17 1:46 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,07/Jun/17 9:27 AM,,,,v1.0.0,,fabric-quality,,,,,,,0,quality,,,,,,,Daily chaincode tests are failing after this change [https://github.com/hyperledger/fabric/commit/112ff0ce55a69ad4ce2944c2afd37495ffe47d7a#diff-22b29bc2d2e7394742e8963a6d7a948fL6],,Nishi,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-4378,,,,FAB-3796,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxwen:",,,,,,,,,,,,,,,,,,,,,,,,,,,Nishi,rameshthoomu,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"02/Jun/17 6:13 AM;Nishi;Now works with patchset [https://gerrit.hyperledger.org/r/#/c/9741|https://gerrit.hyperledger.org/r/#/c/9741/]

 

changed

$CONFIGTXGEN -profile TwoOrgsOrdererGenesis -outputBlock $ARTIFACTS/orderer.genesis.block

to

$CONFIGTXGEN -profile TwoOrgsOrdererGenesis -outputBlock $ARTIFACTS/genesis.block

in generateCfgTrx.sh to match with base/dock-compose-base.yaml file's argument

 - ORDERER_GENERAL_GENESISFILE=/var/hyperledger/orderer/genesis.block

generated from examples/e2e_cli files.;;;","06/Jun/17 4:28 AM;Nishi;Submitted patchset: https://gerrit.hyperledger.org/r/#/c/10175/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Improve ambiguous text in orderer batch options descriptions,FAB-4082,16970,,Story,Closed,FAB,Fabric,software,denyeart,,,Lowest,Done,,kchristidis,kchristidis,22/May/17 7:47 AM,21/Jul/18 3:54 AM,28/Oct/23 2:59 AM,31/May/17 2:16 PM,v1.0.0-alpha2,,,WON'T FIX,,fabric-orderer,,,,,,,0,common-components,,,,,,,"Here's how we currently describe these two settings:
{quote} * Absolute Max Bytes: The absolute maximum number of bytes allowed for the serialized messages in a batch.
 * Preferred Max Bytes: The preferred maximum number of bytes allowed for the serialized messages in a batch. A message larger than the preferred max bytes will result in a batch larger than preferred max bytes.{quote}
In both cases we write ""allowed for the serialized messages in a batch"", but in the first we actually mean that _each message_ cannot be more than AbsoluteMaxBytes, whereas in the second case we actually refer to _the batch in aggregate_.

This ambiguity results in user confusion and needs to be removed.

Solution: Improve and simplify the text. Give examples if needed. Rename the keys if needed as well and the change isn't too invasive. If AbsoluteMaxBytes refers to a different entity than PreferredMaxBytes their names shouldn't be so symmetrical. (Shouldn't AbsoluteMaxBytes be MaxEnvelopeSize?)",,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzxwev:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"22/May/17 8:21 AM;kchristidis;([~nickgaski]: FYI, this is related to our conversation earlier);;;","22/May/17 9:27 AM;kchristidis;Luis corrected me here. So if one were to inspect the code, they would see what I described above, but that is half the picture. Because of the check of the pending batch on the blockcutter, the AbsoluteMaxBytes restriction really applies to the batch as well.

[~nickgaski]: with that knowledge, what are your thoughts on the descriptions? Leave as-is, or rewrite? They always give me pause to be honest, so I wouldn't mind some rewriting.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Establish sensible defaults for all filesize-related settings,FAB-4083,16971,,Bug,Closed,FAB,Fabric,software,denyeart,,,Low,Done,kchristidis,kchristidis,kchristidis,22/May/17 8:12 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,13/Jun/17 1:46 AM,v1.0.0-alpha2,,,v1.0.0,,fabric-orderer,,,,,,,0,kafka,,,,,,,"Here's the problem:

1. In the system chain genesis block we allow the setting of the maximum block the orderers will cut (BatchSize.AbsoluteMaxBytes), and of the preferred size for blocks (BatchSize.PreferredMaxBytes).This implies that the OSNs will never process a message (envelope) larger than AbsoluteMaxBytes.

2. For the Kafka-based orderer, we have the Producer.MaxMessageBytes setting which defines the maximum permitted size that we (the OSNs) will send to the Kafka cluster.

3. On the Kafka cluster, we got (a) socket.request.max.bytes which is the maximum number of bytes in a socket request the brokers will accept, (b) message.max.bytes which is the maximum size of message that the brokers will accept, and (c) replica.fetch.max.bytes which is the number of bytes that the broker will attempt to fetch for each channel on every pull (they will fetch messages even larger than that if need be in order to make progress, but at any rate a message cannot be larger than message.max.bytes).

Now, all of these settings need to be in-sync.

If we were to list them in order of descending values, these should go as follows:
 # socket.request.max.bytes (largest)
 # message.max.bytes
 # replica.fetch.max.bytes
 # Producer.MaxMessageBytes
 # AbsoluteMaxBytes
 # PreferredMaxBytes

Corrective steps:

A. Expose Producer.MaxMessageBytes or keep it hidden but calculate it based on the value of `AbsoluteMaxBytes` and make it AbsoluteMaxBytes + delta to account for the wrapping into the KafkaRegular container message type. If we are to expose it, we should do it similar to how the Kafka folks describe restrictions: note that it should be larger than AbsoluteMaxBytes, and smaller or equal to message.max.bytes. Where do we expose this? configtx.yaml (i.e. genesis block), or orderer.yaml (locally)?

B. Come up with sensible defaults for all the values above. (All the Kafka cluster settings will be noted down in the sample Docker Compose configuration files we provide for guidance.) There are headers and thin wrapper message types involved here, so avoid making any of these values equal to each other (e.g. 1 == 2). The only exception is replica.fetch.max.bytes and Producer.MaxMessageBytes which _can_ be equal with each other (I checked: [https://www.mail-archive.com/users@kafka.apache.org/msg25494.html]).

The way I see it, these values should be:
 # socket.request.max.bytes = 100 MB (current default as set by the Kafka folks themselves)
 # message.max.bytes = 12 MiB
 # replica.fetch.max.bytes = 12 MiB
 # Producer.MaxMessageBytes = 11 MiB
 # AbsoluteMaxBytes = 10 MiB
 # PreferredMaxBytes = 512 KiB

 Where the 1 MiB between items 3, 4, and 5 is excessive but it is my lazy + safe way of accounting for headers and container types (really a few KiB should get us set here).

 ",,kchristidis,mastersingh24,sanchezl,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxwf3:",,,,,,,,,,,,,,,,,,,,,,,,,,,kchristidis,mastersingh24,sanchezl,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"22/May/17 8:14 AM;kchristidis;[~mastersingh24], [~sanchezl]: FYI as you may have a take here. (If I missed anything, or got anything wrong, please let me know.);;;","23/May/17 12:59 AM;sanchezl;h3. Producer.MaxMessageBytes

We currently set the value of Producer.MaxMessageBytes to 100MiB, to match the default value of socket.request.max.bytes. Setting this value so high does not incur any memory or performance cost, and should work in most cases. So why make it smaller? (I'm making the assumption that a message >100MiB is unrealistic)

While we could calculate Producer.MaxMessageBytes based on AbsoluteMaxBytes, I don't think it buys us anything, as we will already be limiting our blocks to AbsoluteMaxBytes.

Note that the corresponding consumer setting is Consumer.Fetch.Max and it is set to 100MiB by default.

 ;;;","31/May/17 11:57 PM;kchristidis;Producer. MaxMessageBytes should be strictly smaller than socker.request.max.bytes to account for headers. You'll notice that the sarama logger will complain about this (and does complain about this in our case) as well.

It seems to me that the most minimally invasive approach is the following:
 # socket.request.max.bytes = 100 MB (current default as set by the Kafka folks themselves)
 # message.max.bytes = socket.request.max.bytes - delta
 # replica.fetch.max.bytes = message.max.bytes
 # Producer.MaxMessageBytes = AbsoluteMaxBytes + delta
 # AbsoluteMaxBytes = 10 MiB
 # PreferredMaxBytes = 512 KiB

Where:
 * Delta is set to some fixed value which can be ridiculously generous to account for headers, etc. (cue ""640K ought to be enough for anybody"" references
 * Values 1 to 4 are not exposed to the user
 * Values 5 and 6 are exposed as they currently are
 * We switch the default for AbsoluteMaxBytes to 10 MiB

Thoughts?;;;","01/Jun/17 1:24 AM;mastersingh24;The above seems reasonable to me;;;","01/Jun/17 3:38 AM;sanchezl;I'm good with Kostas's proposal.;;;","11/Jun/17 3:11 AM;kchristidis;Labeling this as a bug since the current default will result in errors. Extremely rare, but still.;;;","12/Jun/17 11:43 PM;kchristidis;https://gerrit.hyperledger.org/r/#/c/10469/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Identify duration for leader-related processes in Kafka/Zookeeper,FAB-4084,16972,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,kchristidis,kchristidis,22/May/17 9:54 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,05/Jun/17 1:46 PM,v1.0.0-alpha2,,,v1.0.0,,fabric-orderer,,,,,,,0,kafka,,,,,,,"Assume the sample network defined in `bddtests/dc-orderer-kafka.yml` (see FAB-3387) augmented by two more Zookeeper nodes. So consider a 3-node Zookeeper ensemble and a 5-broker Kafka cluster.

For the Zookeeper ensemble:
 # How long till the ZK ensemble is bootstrapped and a leader is elected?
 # If the leader is disconnected/crashes, how long till a new leader is elected?
 # Which Zookeeper settings affect the above? How?

For the Kafka cluster, _assuming the ZK ensemble is already setup_:
 # How long till the Kafka cluster is bootstrapped and a controller is elected?
 # Assuming the current controller is disconnected/crashes, how long till a new controller is elected?
 # Assuming for simplicity that this controller was also the leader of a partition, how long till partition gets assigned to a new leader?
 # Which Kafka/Zookeeper settings affect these above? How?

All of the results above depend on hardware/network configurations. I'm fine with any setup/combo as long as it's identified. Some care to avoid statistical errors when collecting measurements would be nice to have.

The answer in all of the above questions will help us:
 # Come up with sensible defaults in our bddtests/dc-* Docker Compose configuration files
 # Identify the right frequency/timeout values to be used in the OSN-Kafka retry logic that needs to be added (will be adding a JIRA for this and link this here)",,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-4136,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxwfb:",,,,,,,,,,,,,,,,,,,,,,,,,,,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"22/May/17 9:55 AM;kchristidis;This should not be assigned till FAB-3387 gets merged, so that we have a point of reference for the sample configuration.;;;","22/May/17 9:55 AM;kchristidis;FYI: [~ptippett];;;","23/May/17 2:40 AM;kchristidis;{quote}We recommend testing how long it takes to recover from a crashed broker (i.e how long until all partitions get new leaders), and setting the number of retries and delay between them such that the total amount of time spent retrying will be longer than the time it takes the Kafka cluster to recover from the crash - otherwise the producer will give up too soon.
{quote}
From the Definitive Guide book by the Kafka folks. This is partly what I'm trying to address by opening up this issue.;;;","05/Jun/17 1:46 PM;kchristidis;From measurements done by Jason Kirke – all numbers averages of 5 runs:
 * ZK bootstrap: 11 seconds
 * Kafka bootstrap: 10 seconds
 * ZK new controller: .220 seconds
 * Kafka new controller: 6 seconds
 * Host machine + container restart: in the order of minutes;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Prevent expiration of self identity in gossip,FAB-4085,16974,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,yacovm,yacovm,yacovm,22/May/17 5:38 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,30/May/17 9:01 AM,v1.0.0-alpha2,,,v1.0.0,,fabric-gossip,,,,,,,6,gossip,,,,,,,"*TLDR:*
This JIRA issue deals with purging of identities from memory if they are not used for a certain amount of time 
 the fix just makes sure you don't purge your own identity 
 without this gossip may run into really bad situations 

*The longer version:*
In gossip we have time-based expiration of identities that haven't been used for a long time.
This may cause an expiration of the peer's own certificate if it doesn't gossip with any peers because it's alone in the world.

The problem is that when an identity expires from the identity store, it is also expired from the pull mediator that is used for identities.
The only way to add your own identity to the pull mediator is at startup, therefore - we can reach a situation in which all identities are removed from the pull mediator, and then the identity replication would only work via handshakes which isn't good. 


",,C0rWin,ChristopherFerris,denyeart,mastersingh24,yacovm,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-290,,,,,,,,,,"1|hzxwfj:",,,,,,,,,,,,,,,,,,,,,,,,,,,C0rWin,ChristopherFerris,denyeart,mastersingh24,yacovm,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"24/May/17 9:09 PM;yacovm;https://gerrit.hyperledger.org/r/#/c/9753/;;;","24/May/17 10:31 PM;ChristopherFerris;unclear that the amount of production code changed warrants any additional scrutiny... ;;;","25/May/17 10:33 AM;denyeart;This does seem more aligned with:

2) Bug fixes that affect production code, but which have minimally complex changes.

And therefore I would vote to proceed with the fix merge.;;;","25/May/17 6:44 PM;yacovm;Thanks [~denyeart], I agree with your classification.;;;","26/May/17 6:40 PM;mastersingh24;I agree with [~denyeart] ;;;","29/May/17 4:38 PM;C0rWin;[~mastersingh24], [~denyeart], can you please add your votes in case you do agree to have this item in, for v1.0?;;;","29/May/17 11:34 PM;denyeart;Commented a +1 above, now I've voted for it as well.;;;","30/May/17 2:55 AM;ChristopherFerris;This has met the threshold for merging into 1.0. removing the label;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
intermittent failure in docker controller,FAB-4087,16976,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,aambati,muralisr,muralisr,22/May/17 11:06 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,24/May/17 11:05 PM,v1.0.0-alpha2,,,v1.0.0,,fabric-peer,,,,,,,0,,,,,,,,"Fails sporadically with following signature (typically in Z CI runs)

{code:java}
12:25:15 unit-tests_1  | 2017-05-22 12:25:12.983 UTC [msp] getMspConfig -> INFO 001 intermediate certs folder not found at [/opt/gopath/src/github.com/hyperledger/fabric/sampleconfig/msp/intermediatecerts]. Skipping.: [stat /opt/gopath/src/github.com/hyperledger/fabric/sampleconfig/msp/intermediatecerts: no such file or directory]
12:25:15 unit-tests_1  | 2017-05-22 12:25:12.983 UTC [msp] getMspConfig -> INFO 002 crls folder not found at [/opt/gopath/src/github.com/hyperledger/fabric/sampleconfig/msp/intermediatecerts]. Skipping.: [stat /opt/gopath/src/github.com/hyperledger/fabric/sampleconfig/msp/crls: no such file or directory]
12:25:15 unit-tests_1  | 2017-05-22 12:25:13.008 UTC [dockercontroller] deployImage -> ERRO 003 Error building images: Error building image
12:25:15 unit-tests_1  | 2017-05-22 12:25:13.008 UTC [dockercontroller] deployImage -> ERRO 004 Image Output:
12:25:15 unit-tests_1  | ********************
12:25:15 unit-tests_1  | 
12:25:15 unit-tests_1  | ********************
12:25:15 unit-tests_1  | 2017-05-22 12:25:13.008 UTC [dockercontroller] Start -> ERRO 005 start-could not recreate container Error creating the container
12:25:15 unit-tests_1  | 2017-05-22 12:25:13.008 UTC [dockercontroller] Start -> ERRO 006 start-could not find image: no such image
12:25:15 unit-tests_1  | 2017-05-22 12:25:13.010 UTC [golang-platform] writeGopathSrc -> INFO 007 rootDirectory = /opt/gopath/src
12:25:15 unit-tests_1  | 2017-05-22 12:25:13.010 UTC [container] WriteFolderToTarPackage -> INFO 008 rootDirectory = /opt/gopath/src
12:25:15 unit-tests_1  | 2017-05-22 12:25:14.962 UTC [dockercontroller] Start -> ERRO 009 start-could not start container Error starting the container
12:25:15 unit-tests_1  | --- FAIL: Test_Start (1.95s)
12:25:15 unit-tests_1  | 	assertions.go:219: 

{code}

A successful run can be found in https://gerrit.hyperledger.org/r/#/c/9521/

{code:java}
May 21 7:27 PM
↩
Patch Set 3: Verified+1
Build Successful 
https://jenkins.hyperledger.org/job/fabric-verify-z/7594/ : SUCCESS
https://jenkins.hyperledger.org/job/fabric-merge-z/1325/ : SUCCESS
https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/3473/ : SUCCESS
https://jenkins.hyperledger.org/job/fabric-verify-x86_64/11942/ : SUCCESS
https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/6002/ : SUCCESS
{code}

",,aambati,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxwfz:",,,,,,,,,,,,,,,,,,,,,,,,,,,aambati,muralisr,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"23/May/17 11:20 PM;aambati;https://gerrit.hyperledger.org/r/#/c/9665/;;;","24/May/17 11:05 PM;aambati;https://gerrit.hyperledger.org/r/#/c/9721/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Minimum value of RSA Key Length should be 2048 bits.,FAB-4089,16980,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,adc,ashutosh_kumar,ashutosh_kumar,22/May/17 11:19 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,16/Sep/17 10:00 PM,,,,Not a Bug,,fabric-crypto,,,,,,,0,,,,,,,,The GAS(Go AST Scanner) tool has a rule *Ensure minimum RSA key length of 2048 bits.* BCCSP code does not meet that requirements based on the attached report.,,ashutosh_kumar,elli-androulaki,mastersingh24,smithbk,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"22/May/17 11:18 PM;ashutosh_kumar;scanresult.html;https://jira.hyperledger.org/secure/attachment/10856/scanresult.html",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxwg7:",,,,,,,,,,,,,,,,,,,,,,,,,,,ashutosh_kumar,elli-androulaki,mastersingh24,smithbk,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/May/17 9:54 PM;elli-androulaki;Hi, I was under the impression that support for RSA keys was moved to post v1? 

[~keithsmith], [~mastersingh24], [~binhn]? ;;;","24/May/17 11:26 AM;smithbk;Yes, correct, so maybe we can use this JIRA item to make sure this is documented if it isn't already.;;;","16/Sep/17 9:59 PM;mastersingh24;This is no longer valid so closing;;;","19/Sep/17 5:03 AM;ashutosh_kumar;[~mastersingh24] , are we are removing support of RSA from Fabric ? Just curious.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Edit ledgerbenchmark tool to conform to test-writing specifications,FAB-4091,17001,,Task,Closed,FAB,Fabric,software,denyeart,,,High,Done,AdnanChoudhury,AdnanChoudhury,AdnanChoudhury,23/May/17 2:58 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,06/Jun/17 11:37 AM,,,,v1.0.0,,fabric-quality,,,,,,,0,quality,,,,,,,"To make the ledger benchmark tool to conform to test tool specification and make it easy to integrate with fabric test-framework: following things need to be done: Rename the ledgerbenchmark tool to agreed ""LTE"" (Ledger Traffic Engine). update the test driver script to allow individual tests to run, include readme. ",,AdnanChoudhury,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3789,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3770,,,,,,,,,,"1|hzx2rb:",,,,,,Sprint 18 - Quality,Sprint 19 - Quality,,,,,,,,,,,,,,,,,,,,AdnanChoudhury,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"25/May/17 2:13 AM;AdnanChoudhury;https://gerrit.hyperledger.org/r/#/c/9657/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
UT - github.com/hyperledger/fabric/events/consumer,FAB-4095,17009,16908,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,nnao,muralisr,muralisr,23/May/17 4:53 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,29/Jun/17 2:06 AM,v1.0.0-alpha2,,,v1.0.0,,fabric-peer,,,,,,,0,,,,,,,,,,muralisr,nnao,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-4046,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxwj3:",,,,,,,,,,,,,,,,,,,,,,,,,,,muralisr,nnao,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"21/Jun/17 10:30 PM;nnao;https://gerrit.hyperledger.org/r/#/c/10843/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Need to add the definition of consortium to glossary,FAB-4098,17012,27586,Sub-task,Closed,FAB,Fabric,software,denyeart,,,High,Done,pandrejko,Clayton Sims,Clayton Sims,23/May/17 5:45 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,07/Apr/18 6:58 AM,v1.0.0-alpha2,,,v1.2.0,,fabric-docs,,,,,,,0,,,,,,,,Consortium is in the configtx yaml.  Need to add the definition of consortium to glossary. ,,ChristopherFerris,Clayton Sims,joe-alewine,pandrejko,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx273:",,,,,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,Clayton Sims,joe-alewine,pandrejko,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"01/Jun/17 11:07 AM;ChristopherFerris;This is not a bug.;;;","23/Mar/18 4:41 AM;pandrejko;https://gerrit.hyperledger.org/r/#/c/19617/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Skip directories that don't require unit tests,FAB-4099,17013,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,binhn,binhn,binhn,23/May/17 6:36 AM,21/Jul/18 3:56 AM,28/Oct/23 2:59 AM,07/Jun/17 2:56 AM,v1.0.0,,,v1.0.0,,fabric-build,,,,,,,0,,,,,,,,Some directories contain code for unit-tests support or samples which should be excluded from unit-test search.,,binhn,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzxwjr:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,binhn,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"23/May/17 6:46 AM;binhn;In review: https://gerrit.hyperledger.org/r/#/c/9671/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Create proto translator component framework,FAB-4100,17014,14105,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,23/May/17 6:41 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,30/May/17 11:04 PM,,,,v1.0.0,,fabric-orderer,,,,,,,0,configuration,,,,,,,"Doing bidirectional proto translation to/from deep JSON requires a significant amount of dynamic programming.  Having each message try to handle this work independently is a recipe for disaster, so the bulk of the reflection work needs to be centralized so that protos may be simply extended with methods which drive the proto translation framework.

This task is to cover designing and implementing this plug-able core reflection framework.",,jyellick,kchristidis,,,,,,,,,,,,,,,,,,,144000,144000,,0%,144000,144000,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxwjz:",,,,,,Sprint 10 - consensus,Sprint 11 - consensus,Sprint 12 - consensus,Sprint 13 - Consensus,Sprint 14 - Consensus,Sprint 15 - Consensus,,,,3.0,,,,,,,,,,,,jyellick,kchristidis,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"30/May/17 11:04 PM;kchristidis;https://gerrit.hyperledger.org/r/#/c/9697/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Create proto translator nested field component,FAB-4101,17015,14105,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,23/May/17 6:42 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,30/May/17 11:04 PM,,,,v1.0.0,,fabric-orderer,,,,,,,0,configuration,,,,,,,Proto messages embedded inside of other proto messages must be passed back through the common translator component.  This component should act as a catch-all for otherwise unhandled proto messages.,,jyellick,kchristidis,,,,,,,,,,,,,,,,,,,28800,28800,,0%,28800,28800,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxwk7:",,,,,,Sprint 10 - consensus,Sprint 11 - consensus,Sprint 12 - consensus,Sprint 13 - Consensus,Sprint 14 - Consensus,Sprint 15 - Consensus,,,,1.0,,,,,,,,,,,,jyellick,kchristidis,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"30/May/17 11:04 PM;kchristidis;https://gerrit.hyperledger.org/r/#/c/9699/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Create proto translator for statically opaque field component,FAB-4102,17016,14105,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,23/May/17 6:43 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,01/Jun/17 12:49 AM,,,,v1.0.0,,fabric-orderer,,,,,,,0,configuration,,,,,,,"Some proto fields are simply statically marshaled fields, namely their type is known at compile time.  This task is to handle the creation of the component to handle these.",,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxwkf:",,,,,,Sprint 10 - consensus,Sprint 11 - consensus,Sprint 12 - consensus,Sprint 13 - Consensus,Sprint 14 - Consensus,Sprint 15 - Consensus,,,,1.0,,,,,,,,,,,,jyellick,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Create proto translator for variably opaque field component,FAB-4103,17017,14105,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,23/May/17 6:44 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,01/Jun/17 1:20 AM,,,,v1.0.0,,fabric-orderer,,,,,,,0,configuration,,,,,,,Some proto fields are marshaled proto messages who's type varies based on the other contents of the message (possibly including other statically marshaled fields).  This task if for creating the variably opaque field component.,,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxwkn:",,,,,,Sprint 10 - consensus,Sprint 11 - consensus,Sprint 12 - consensus,Sprint 13 - Consensus,Sprint 14 - Consensus,Sprint 15 - Consensus,,,,1.0,,,,,,,,,,,,jyellick,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Create proto translator for dynamic field components,FAB-4104,17018,14105,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,23/May/17 6:46 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,01/Jun/17 11:01 AM,,,,v1.0.0,,fabric-orderer,,,,,,,0,configuration,,,,,,,"Some proto fields have component messages whose behavior is determined by some other context, such as where they appear relative to other messages.  These messages cannot be simply annotated like other the statically or variably opaque messages, but must instead be decorated at runtime with their descriptive attributes.  This task is for creating the component which handles these dynamic fields.",,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxwkv:",,,,,,Sprint 10 - consensus,Sprint 11 - consensus,Sprint 12 - consensus,Sprint 13 - Consensus,Sprint 14 - Consensus,Sprint 15 - Consensus,,,,1.0,,,,,,,,,,,,jyellick,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add proto translator method extensions to fabric proto messages,FAB-4105,17019,14105,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,23/May/17 6:47 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,01/Jun/17 11:01 AM,,,,v1.0.0,,fabric-orderer,,,,,,,0,configuration,,,,,,,"With the proto translator and component pieces in place, the actual fabric messages which it is to translate must be annotated with the necessary methods to be translated.",,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxwl3:",,,,,,Sprint 10 - consensus,Sprint 11 - consensus,Sprint 12 - consensus,Sprint 13 - Consensus,Sprint 14 - Consensus,Sprint 15 - Consensus,,,,1.0,,,,,,,,,,,,jyellick,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Create config update computation component,FAB-4106,17020,14105,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,23/May/17 6:48 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,03/Jun/17 6:06 AM,,,,v1.0.0,,fabric-orderer,,,,,,,0,configuration,,,,,,,"This task is for creating the code necessary to take in two config messages, and compute the corresponding config update message.",,JonathanLevi,jyellick,,,,,,,,,,,,,,,,,,,86400,86400,,0%,86400,86400,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxwlb:",,,,,,Sprint 10 - consensus,Sprint 11 - consensus,Sprint 12 - consensus,Sprint 13 - Consensus,Sprint 14 - Consensus,Sprint 15 - Consensus,,,,3.0,,,,,,,,,,,,JonathanLevi,jyellick,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"01/Jun/17 4:03 AM;JonathanLevi;Gerrit CR: https://gerrit.hyperledger.org/r/#/c/9785/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add REST server component to expose proto translator,FAB-4107,17021,14105,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,jyellick,jyellick,23/May/17 6:50 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,03/Jun/17 11:55 AM,,,,v1.0.0,,fabric-orderer,,,,,,,0,configuration,,,,,,,This task is for introducing the server which will listen for api requests as discussed in the parent issue.,,jyellick,,,,,,,,,,,,,,,,,,,,86400,86400,,0%,86400,86400,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxwlj:",,,,,,Sprint 10 - consensus,Sprint 11 - consensus,Sprint 12 - consensus,Sprint 13 - Consensus,Sprint 14 - Consensus,Sprint 15 - Consensus,,,,3.0,,,,,,,,,,,,jyellick,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add CLI component to expose proto translator,FAB-4108,17022,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,jyellick,jyellick,23/May/17 6:50 AM,21/Jul/18 3:55 AM,28/Oct/23 2:59 AM,08/Mar/18 12:25 AM,v1.0.0-beta,,,,,fabric-orderer,,,,,,,0,configuration,,,,,,,"Similarly to the REST server component FAB-4107 , a CLI component to access the proto translation and config updates must be created.",,jyellick,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzxwlr:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,jyellick,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"08/Mar/18 12:23 AM;kchristidis;You've done this already, no?;;;","08/Mar/18 12:25 AM;jyellick;Indeed, closing via FAB-7999;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
add license header to shell scripts,FAB-4109,17023,,Task,Closed,FAB,Fabric,software,denyeart,,,High,Done,ChristopherFerris,ChristopherFerris,ChristopherFerris,23/May/17 7:09 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,25/May/17 10:02 AM,v1.0.0-alpha2,,,v1.0.0,,fabric-build,,,,,,,0,quality,,,,,,,shell scripts mostly missing license headers,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,28800,28800,,0%,28800,28800,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3040,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxwlz:",,,,,,,,,,,,,,,1.0,,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Need documentation to tell application owners how to write HA enabled apps,FAB-4110,17024,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,ptippett,ptippett,23/May/17 7:10 AM,23/Jan/20 4:11 AM,28/Oct/23 2:59 AM,23/Jan/20 4:11 AM,v1.0.0-alpha2,,,,,fabric-docs,,,,,,,0,stale-item,,,,,,,"For cases where there isn't a load balancer in front of the peer or orderer nodes, the application should be writtten in such a way to handle individual failures.  Specifically:

 

1 - Retry orderers and peers on error.

2 - Cycle through the available peers and orderers if one of them is unreachable or if the operation doesn't complete.

 

This will cover the case where one instance is having a problem, but others work.

We should provide best practices in the documentation we build for helping people write chaincode apps that covers HA.",,ptippett,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzwtz3:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,ptippett,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 4:11 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add Google Analytics to Fabric Documentation,FAB-4111,17025,,Task,Closed,FAB,Fabric,software,denyeart,,,Low,Done,nickgaski,seanbarclay,seanbarclay,23/May/17 9:09 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,08/Jun/17 7:06 AM,,,,v1.0.0,,fabric-docs,,,,,,26/May/17 12:00 AM,0,Usability,,,,,,,"To better help understand users and their behavior on the hyper ledger fabric documentation, it would be great if someone from Linux, (e.g. [~ryjones]) can create a Google Analytics account and provide access to those who are working on improving the fabric documentation. 

Spoke to [~rameshthoomu], who provided Ry with admin access to Read The Docs

thanks!

 

cc: [~ChristopherFerris]

 ",,joe-alewine,ryjones,seanbarclay,,,,,,,,,,,,,,,,,,3600,3600,,0%,3600,3600,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx253:",,,,,,Sprint 17 - Documentation,,,,,,,,,,,,,,,,,,,,,joe-alewine,ryjones,seanbarclay,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"25/May/17 7:25 AM;ryjones;I have added Google Analytics to the three properties I have access to - fabric-api, fabric-chaintool, and fabric-ca.;;;","08/Jun/17 7:06 AM;ryjones;I've added analytics to the five properties I have access to.;;;","08/Jun/17 8:12 AM;seanbarclay;[~nickgaski]- can you please update the docs to track UA-99900088-4 in GA?
Thanks;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove useless legacy code in exectransaction.go,FAB-4112,17026,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jiangyaoguo,jiangyaoguo,jiangyaoguo,23/May/17 12:06 PM,21/Jul/18 3:55 AM,28/Oct/23 2:59 AM,26/May/17 12:11 AM,,,,,,fabric-peer,,,,,,,0,,,,,,,,remove the legacy code in core/chainode/legacy/exectransaction.go,,jiangyaoguo,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzxwm7:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,jiangyaoguo,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Improve code coverage for hyperledger/fabric/orderer/ledger/json,FAB-4113,17027,16261,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,guoger,guoger,guoger,23/May/17 12:17 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,04/Aug/17 12:26 AM,v1.0.0-alpha2,,,v1.1.0,,fabric-orderer,,,,,,,0,,,,,,,,,,guoger,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"24/May/17 3:18 PM;guoger;cover.html;https://jira.hyperledger.org/secure/attachment/10859/cover.html",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxwmf:",,,,,,,,,,,,,,,,,,,,,,,,,,,guoger,kchristidis,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"24/May/17 12:51 AM;guoger;https://gerrit.hyperledger.org/r/#/c/9707/;;;","11/Jun/17 11:40 PM;guoger;https://gerrit.hyperledger.org/r/#/c/10455/;;;","17/Jun/17 3:54 AM;kchristidis;A changeset has been merged but Jay is to look into whether the chmod-tests can be made to work for CI.

If not, let's move to remove these (otherwise good) tests by, say, middle of next week.;;;","16/Jul/17 3:57 AM;guoger;[~kchristidis] So the cause here is that in our CI, test are run in docker container with uid=0, so chmod is not really effective. Need to figure out another way to simulate file read failure.;;;","01/Aug/17 4:39 PM;guoger;https://gerrit.hyperledger.org/r/#/c/12085/ removes skipped tests;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Improve code coverage for hyperledger/fabric/orderer/common/deliver,FAB-4114,17028,16261,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,guoger,guoger,guoger,23/May/17 12:18 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,04/Jun/17 12:42 PM,v1.0.0-alpha2,,,v1.0.0,,fabric-orderer,,,,,,,0,,,,,,,,,,guoger,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"27/May/17 12:59 AM;guoger;cover.html;https://jira.hyperledger.org/secure/attachment/10872/cover.html",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxwmn:",,,,,,,,,,,,,,,,,,,,,,,,,,,guoger,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"27/May/17 12:59 AM;guoger;http://gerrit.hyperledger.org/r/9867;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
zookeeper and kafka images do not start,FAB-4115,17029,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,harsha544,inatatsu,inatatsu,23/May/17 3:16 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,23/May/17 5:24 PM,,,,,,fabric-build,,,,,,,0,,,,,,,,"Docker images of zookeeper and kafka of v1-alpha2 do not start:
{code:java}
su-exec: /docker-entrypoint.sh: Permission denied
{code}
This is due to lack of execute permission to others:
{code:java}
# ls -lt /docker-entrypoint.sh
-rwxrwx--- 1 root root 873 May 15 02:54 /docker-entrypoint.sh
#
{code}
We should
{code:java}
chmod o+rx /docker-entrypoint.sh
{code}
in the corresponding Dockerfiles.",,harsha544,inatatsu,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxwmv:",,,,,,,,,,,,,,,,,,,,,,,,,,,harsha544,inatatsu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/May/17 5:00 PM;harsha544;Can you kindly provide additional information please :- 

1) Are you root/non-root user when you encountered this issue ?
2) What's the arch, OS version ?;;;","23/May/17 5:24 PM;harsha544;Tried simulating the above reported issue as non-root user on ppc64le arch with Ubuntu16.04 , I did not encounter any issue(s) :-
$ git branch
* (HEAD detached at v1.0.0-alpha2)
  master
$
$ docker logs 4faeda9e8c71
ZooKeeper JMX enabled by default
Using config: /conf/zoo.cfg
2017-05-23 08:16:06,965 [myid:] - INFO  [main:QuorumPeerConfig@124] - Reading configuration from: /conf/zoo.cfg
2017-05-23 08:16:06,970 [myid:] - INFO  [main:DatadirCleanupManager@78] - autopurge.snapRetainCount set to 3
2017-05-23 08:16:06,970 [myid:] - INFO  [main:DatadirCleanupManager@79] - autopurge.purgeInterval set to 0
2017-05-23 08:16:06,970 [myid:] - INFO  [main:DatadirCleanupManager@101] - Purge task is not scheduled.
2017-05-23 08:16:06,970 [myid:] - WARN  [main:QuorumPeerMain@113] - Either no config or no quorum defined in config, running  in standalone mode
2017-05-23 08:16:06,980 [myid:] - INFO  [main:QuorumPeerConfig@124] - Reading configuration from: /conf/zoo.cfg
2017-05-23 08:16:06,981 [myid:] - INFO  [main:ZooKeeperServerMain@96] - Starting server
2017-05-23 08:16:06,989 [myid:] - INFO  [main:Environment@100] - Server environment:zookeeper.version=3.4.9-1757313, built on 08/23/2016 06:50 GMT
2017-05-23 08:16:06,989 [myid:] - INFO  [main:Environment@100] - Server environment:host.name=4faeda9e8c71
2017-05-23 08:16:06,989 [myid:] - INFO  [main:Environment@100] - Server environment:java.version=1.8.0
2017-05-23 08:16:06,989 [myid:] - INFO  [main:Environment@100] - Server environment:java.vendor=IBM Corporation
2017-05-23 08:16:06,989 [myid:] - INFO  [main:Environment@100] - Server environment:java.home=/opt/ibm/java/jre
2017-05-23 08:16:06,989 [myid:] - INFO  [main:Environment@100] - Server environment:java.class.path=/zookeeper-3.4.9/bin/../build/classes:/zookeeper-3.4.9/bin/../build/lib/*.jar:/zookeeper-3.4.9/bin/../lib/slf4j-log4j12-1.6.1.jar:/zookeeper-3.4.9/bin/../lib/slf4j-api-1.6.1.jar:/zookeeper-3.4.9/bin/../lib/netty-3.10.5.Final.jar:/zookeeper-3.4.9/bin/../lib/log4j-1.2.16.jar:/zookeeper-3.4.9/bin/../lib/jline-0.9.94.jar:/zookeeper-3.4.9/bin/../zookeeper-3.4.9.jar:/zookeeper-3.4.9/bin/../src/java/lib/*.jar:/conf:
2017-05-23 08:16:06,989 [myid:] - INFO  [main:Environment@100] - Server environment:java.library.path=/opt/ibm/java/jre/lib/ppc64le/compressedrefs:/opt/ibm/java/jre/lib/ppc64le:/usr/lib64:/usr/lib
2017-05-23 08:16:06,990 [myid:] - INFO  [main:Environment@100] - Server environment:java.io.tmpdir=/tmp
2017-05-23 08:16:06,992 [myid:] - INFO  [main:Environment@100] - Server environment:java.compiler=j9jit28
2017-05-23 08:16:06,992 [myid:] - INFO  [main:Environment@100] - Server environment:os.name=Linux
2017-05-23 08:16:06,992 [myid:] - INFO  [main:Environment@100] - Server environment:os.arch=ppc64le
2017-05-23 08:16:06,992 [myid:] - INFO  [main:Environment@100] - Server environment:os.version=4.4.0-75-generic
2017-05-23 08:16:06,992 [myid:] - INFO  [main:Environment@100] - Server environment:user.name=zookeeper
2017-05-23 08:16:06,992 [myid:] - INFO  [main:Environment@100] - Server environment:user.home=/home/zookeeper
2017-05-23 08:16:06,992 [myid:] - INFO  [main:Environment@100] - Server environment:user.dir=/zookeeper-3.4.9
2017-05-23 08:16:06,998 [myid:] - INFO  [main:ZooKeeperServer@815] - tickTime set to 2000
2017-05-23 08:16:06,998 [myid:] - INFO  [main:ZooKeeperServer@824] - minSessionTimeout set to -1
2017-05-23 08:16:06,998 [myid:] - INFO  [main:ZooKeeperServer@833] - maxSessionTimeout set to -1
2017-05-23 08:16:07,009 [myid:] - INFO  [main:NIOServerCnxnFactory@89] - binding to port 0.0.0.0/0.0.0.0:2181
$

I will be marking this issue as closed.;;;","23/May/17 6:19 PM;inatatsu;My environment is Ubuntu Xenial on z13. I run the container as a non-root user.
{code:java}
inagaki@hfb2:~$ uname -a
Linux hfb2 4.4.0-62-generic #83-Ubuntu SMP Wed Jan 18 14:12:54 UTC 2017 s390x s390x s390x GNU/Linux
inagaki@hfb2:~$
{code};;;","26/May/17 1:24 PM;harsha544;[~inatatsu] Can you try as root user ?;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
As a fabric developer I want to improve the test coverage of core/policy,FAB-4116,17030,,Story,Closed,FAB,Fabric,software,denyeart,,,High,Done,angelo.decaro,angelo.decaro,angelo.decaro,23/May/17 9:23 PM,21/Jul/18 3:56 AM,28/Oct/23 2:59 AM,30/May/17 8:10 PM,v1.0.0-alpha2,,,v1.0.0,,fabric-crypto,,,,,,,1,,,,,,,,The goal of this is to improve the test coverage of the core/policy package to up to 85%. It is currently at around 70%,,angelo.decaro,ChristopherFerris,elli-androulaki,yacovm,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzx5kv:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,angelo.decaro,ChristopherFerris,elli-androulaki,yacovm,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"23/May/17 10:03 PM;elli-androulaki;Related CR: 

[https://gerrit.hyperledger.org/r/#/c/9689/]

 

 ;;;","29/May/17 2:43 PM;yacovm;merge conflict;;;","30/May/17 2:54 AM;ChristopherFerris;I don't believe that this falls into David's category 3 as documented in the wiki 

https://wiki.hyperledger.org/projects/fabric/release_exit_criteria

There are three broad categories of change that will be considered to be merged:
 # 
Changes that do not affect production code. This includes documentation, new or improved tests, bug fixes to non production code
 # 
Bug fixes that affect production code, but which have minimally complex changes
 # 
Changes that affect production code but which have a more complex resolution

Changes that belong to the first two categories will be reviewed and merged provided they meet the criteria:
 * 
the CR identifies the associated JIRA item in its title
 * 
the JIRA item is complete in its description of the problem and the resolution, and is appropriately labeled, categorized and identifies the current release in _Affects Version/s_ and the pending release in _Fix Version/s_
 * 
the CR has test coverage for the defect being resolved (as appropriate) and the documentation is updated accordingly as needed.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove references to CORE_PEER_MSPCONFIGPATH,FAB-4117,17031,,Story,Closed,FAB,Fabric,software,denyeart,,,Low,Invalid,,greg.haskins,greg.haskins,23/May/17 10:07 PM,11/Aug/19 6:05 PM,28/Oct/23 2:59 AM,11/Aug/19 6:05 PM,,,,,,fabric-docs,fabric-peer,,,,,,0,,,,,,,,"The advent of config-relative pathing generally obsoleted the requirement to specifically override the MSPCONFIGPATH.  However, numerous instances still remain in the codebase/documentation:
{noformat}
$ git grep -l CORE_PEER_MSPCONFIGPATH
bddtests/docker-compose-next-4.yml
bddtests/steps/bootstrap_util.py
bddtests/steps/endorser_util.py
docs/source/getting_started.rst
examples/dchackfest/samples/e2e/README.rst
examples/dchackfest/samples/e2e/docker-compose-template.yaml
examples/dchackfest/samples/e2e/docker-compose.yaml
examples/dchackfest/samples/e2e/scripts/script.sh
examples/e2e_cli/docker-compose-cli.yaml
examples/e2e_cli/end-to-end.rst
examples/e2e_cli/scripts/script.sh
test/feature/docker-compose/docker-compose-kafka.yml
test/feature/docker-compose/docker-compose-solo.yml
test/regression/daily/chaincodeTests/envsetup/docker-compose.yaml
test/regression/daily/chaincodeTests/fabricFeatureChaincodes/create_join_channel.sh
test/regression/daily/chaincodeTests/fabricFeatureChaincodes/e2e_test_example02.shne here{noformat}
We should strive to identify which instances are no longer strictly necessary (which should be most of them) and remove them, with priority on end-user facing instances such as documentation.",,greg.haskins,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzxwn3:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,greg.haskins,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/May/17 10:20 PM;greg.haskins;Here's the basic gist on the recommended alternative to explicit override:

The current codebase supports relative pathing for both the peer and orderer.  This means we can simply set MSPCONFIGPATH as something like ""msp"", and as long as that directory exists relative to the configuration file, the system will find it just fine.

For example, the examples/cluster tool takes full advantage of this. Here is the structure of a configuration for ""peer1"":
{noformat}
ghaskins@hyperledger:~/sandbox/hyperledger/go/src/github.com/hyperledger/fabric/examples/cluster$ tree build/nodes/peer1/
build/nodes/peer1/
├── configtx.yaml
├── core.yaml
├── msp
│   ├── admincerts
│   │   └── Admin@org1.net-cert.pem
│   ├── cacerts
│   │   └── ca.org1.net-cert.pem
│   ├── keystore
│   │   └── f2a1d9155d709a8c574eaaa148b0105c30f49f17508dc3b6d277abd205296fbe_sk
│   └── signcerts
│   └── peer1.org1.net-cert.pem
└── tls
├── ca.crt
├── server.crt
└── server.key{noformat}
(note the ./msp subdirectory).  The core.yaml included here is defined here: 

https://github.com/hyperledger/fabric/blob/97eb5aa28d2df539ac1884a9251cd94b34376f0d/examples/cluster/config/core.yaml#L235

and we load this entire configuration into the peer here:

[https://github.com/hyperledger/fabric/blob/97eb5aa28d2df539ac1884a9251cd94b34376f0d/examples/cluster/compose/docker-compose.yaml#L45]

It is advised for most examples/doc to follow similar practices.;;;","11/Aug/19 6:05 PM;mastersingh24;all of the referenced files have been removed;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Do not print whole PullResponse message in logs,FAB-4118,17032,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,23/May/17 10:41 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,01/Jun/17 9:51 PM,v1.0.0-alpha2,,,v1.0.0,,fabric-gossip,,,,,,,0,,,,,,,,"The pull response might contain a huge amount of data since it contains blocks.
We shouldn't print it, but instead just print the amount of items in the response. ",,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-290,,,,,,,,,,"1|hzxwnb:",,,,,,Sprint 16 - Gossip,,,,,,,,,,,,,,,,,,,,,yacovm,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
PTE supports channel transaction,FAB-4120,17034,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,dongming,dongming,dongming,24/May/17 12:47 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,24/May/17 4:09 AM,,,,,,fabric-quality,,,,,,,0,quality,,,,,,,PTE supports channel transaction input for channel creation,,dongming,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-2247,,,,,,,,,,"1|hzxwnr:",,,,,,Sprint 19 - Quality,,,,,,,,,,,,,,,,,,,,,dongming,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Stop conditions for connecting to the Kafka cluster?,FAB-4121,17035,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,kchristidis,kchristidis,kchristidis,24/May/17 1:49 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,06/Jun/17 2:42 PM,v1.0.0-alpha2,,,v1.0.0,,fabric-orderer,,,,,,,0,kafka,,,,,,,"When:
 # A new valid channel creation request comes in, or
 # An OSN comes up and has channels/ledgers already saved to disk

Then the following happens in the Kafka case (high-level view):
 # `multichain.newChainSupport()` creates a `chainSupport` object and calls the `Start()` method on the `chainSupport.chain` field (type `Chain`). Two notes:
 ## At this point we've already created (or already had) a directory on disk, and printed a ""Created and starting new chain"" message (which is a logger message and not exposed to the end user, but still).
 ## B. The `Start()` method of the Chain interface returns zero values.
 # As part of the `Start()` logic, the Kafka-based OSN attempts to create a producer (writer) and consumer (listener) to the Kafka cluster for the channel in question. Low-level details (if these throw you off, please ignore – writing them mostly as notes to self for reference):
 ## The producer is set up first and posts an empty CONNECT message to prevent the consumer from attempting to listen in on an empty channel (partition) and panic.
 ## The consumer is set up at a subsequent code block. It uses the same connection established by the producer.
 # If either the producer or the consumer cannot set up (because the cluster is inaccessible, or because Kafka is in a messy state where a leader for the channel/partition in question cannot be elected), the OSN halts the Chain object that was created for this channel.

This leaves us at a rather odd (and definitely incorrect) zombie state with regards to this channel. Specifically:
 # Any Broadcast request that comes in to this OSN for the channel in question will fail.
 # Any Deliver request that comes in will return just the channel's genesis block (if it's a newly-created channel), or all the blocks that were in the channel up until the point we decided to bring up the OSN again (see point 2 in the ""When"" block in the first paragraph).

I can add retry logic that makes the OSN try to set up a producer/consumer till the end of time. (I have some of that logic in there already, but it's too brittle. I'm in the process of hardening it as we speak. This will address the majority of the bugs that have been reported against the Kafka OSN, incl. those that our friends at HSBN see.)

But is this how we want to handle it?

Should there be a stop condition at which point we give up? And if that's the case, how does this ripple through (feed back to) the multichain manager?",,binhn,jyellick,kchristidis,mastersingh24,ptippett,scottz,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-4136,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxwnz:",,,,,,,,,,,,,,,,,,,,,,,,,,,binhn,jyellick,kchristidis,mastersingh24,ptippett,scottz,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"24/May/17 1:55 AM;kchristidis;[~ptippett], [~mlishok], [~jyellick]: Would appreciate your thoughts. (Jason I wrote the multichain manager - orderer interaction out of memory. If there are small inaccuracies I'm OK with it, but if I got something really wrong correct me.)

I'm still in the process of tweaking all the knobs that the sarama library gives me for the retry logic (in setting up the producer/consumer), so I've got another day or so of work ahead of me. But once I'm done with that, I'll need to implement whatever decision we reach here next. So let's try to resolve this sooner rather than later.;;;","24/May/17 11:02 PM;jyellick;> Jason I wrote the multichain manager - orderer interaction out of memory. If there are small inaccuracies I'm OK with it, but if I got something really wrong correct me.

This all looks largely correct to me.



> Should there be a stop condition at which point we give up? And if that's the case, how does this ripple through (feed back to) the multichain manager?

I would say at startup, failure to connect to Kafka should be fatal.  IE, if we never had a connection, there's a good chance we will never get one, and I'd say crashing is the right response.

Assuming that we have previously connected to the Kafka cluster, I would assume we keep trying? Perhaps there could be a configurable timeout for how long we retry, but I think my vote would be to make that infinite, at least to start.

I'd also suspect that at some point we'll want some sort of monitoring/service interface, where we can get the current connection information etc., but that is out of scope for this discussion.;;;","27/May/17 5:25 AM;ptippett;What's the implications of retrying forever and how quickly would you retry?  My concern would be filling up the logs with constant retry requests and the retries themselves causing stress on the system.  I expect they are fairly lightweight although I'm guessing..but having several (or 100s) of networks doing this constantly could be a problem.

The other problem I see with infinite retries is if the orderer crashes, then peers, load balancers, etc would know that the orderer was dead and could try another one.  If it's sitting there running with the port open and retrying, then it's harder for them to figure this out.

Finally, we must have some level of retry even on startup.  The reason I say this is a lot of the problems we've seen is the orderer tries to start up and connect consumers and producers to kafka before it's fully up and running.  It comes up a few minutes later, but it's too late.

I think the best solution would be 2 configurable settings.  One that is a retry interval to specify how long between retries.  And the other is the max number of retries before giving up and stopping.  Using the both of these together allows someone to also control the complete retry time (duration * number of retries). This could be used in all cases, whether we've never had a connection or had a previous one.

If that's not possible, then 1 setting to control the number of retries would be fine, although I'd want to make sure the retry interval wasn't ""as fast as possible"" but at minimum 1 second but maybe more like 30 seconds or 1 minute.

My third choice would be infinite, with maybe a 30 second or 1 minute interval, but I don't like this given the fact that it'd be hard for others to know the orderer was dead.  I should note that, like TCP/IP, you could do a varying interval where you slowly slow down the interval the more times it fails...but that's going a bit too far.;;;","27/May/17 5:41 AM;kchristidis;Thank you both for the feedback.

> Finally, we must have some level of retry even on startup.  The reason I say this is a lot of the problems we've seen is the orderer tries to start up and connect consumers and producers to kafka before it's fully up and running.  It comes up a few minutes later, but it's too late.

Right, that's a good point.

So I'm tending towards what you referred to as the ""best solution"" as well. Basically repurpose these two settings [https://github.com/hyperledger/fabric/blob/master/sampleconfig/orderer.yaml#L132...L136] so that they apply when a producer or consumer is set up, and when we attempt to produce or consumer messages (those are two different things). Might be a bit too coarse of a switch for all of these functions, but I really want to avoid offering 40 knobs and just exposing all of Kafka's settings.

Will work on this and update this JIRA if I bump into any issues.;;;","27/May/17 6:02 AM;ptippett;Thanks! That sounds good.  ;;;","31/May/17 1:27 PM;kchristidis;If duration * number of retries elapse, does the orderer panic thus stopping its updates (writes/reads) on all chains, or does it stop working just on the chain where the issue occurred? (Which results in the zombie state that we have right now.)

I'm guessing the former?;;;","31/May/17 9:57 PM;ptippett;Good question.  Thinking out loud a bit, if it's only the one orderer/kafka, then it's better to panic so the peers can switch to another one.  The risk here is if all orderers have a problem with only one channel, we end up losing all channels vs just the one(s) with the issue.

 

This brings me to if I found this issue on a running orderer/kafka, what would I do?  The first thing I'd do is likely restart the orderer (after gathering logs and looking for obvious issues).  So maybe the ideal approach would be the orderer restarts some # of times, then panics.  I expect that's something you can't do that in the orderer code itself..that would of course need to be handled by something external.  I expect this is automation that could be put in supervisord or could be handled by docker itself or an external process.

 

So yeah, I agree with you.  I think the best bet in this case is for the orderer to panic and throw a decent error message.  Then either supervisord, docker, or some automation could be set to restart the orderer container some # of times before giving up.  I think it's better to do this and make it clear to peers/sdk, etc that the orderer is dead vs having one orderer unable to fully function when there are a few others which may be working fine.

 

 ;;;","01/Jun/17 12:51 AM;mastersingh24;Good discussion and some good points raised above.

Here's my thoughts:

1) Is an OSN is unable to send/fetch from a partition, I think that we should always return https://github.com/hyperledger/fabric/blob/master/protos/common/common.proto#L35 (i.e. if we know we can't communicate with the partition, then don't send anything back in response to a Deliver requests even if it's in the file ledger).  Of course a clear message should be logged as well so that monitoring tools can pick up on it.

2) Retries:   
There are two strategies that I'm familiar with for configuring retries:
- backoff strategy - something like https://github.com/grpc/grpc/blob/e1d8d4dc1bdf54273b7ed9d4a495789430cbdf6c/doc/connection-backoff.md
- MQ has 2 settings - short retry interval and long retry interval.  The short retry is used to try to quickly (re)establish communication - so you might do something like retry every 10 seconds for 10 min.  After 10 min, the long retry settings take effect - something like retry every 10 min for 12 hours
(just example but you get the idea).  We used this with DataPower and MQ in my previous life.  I'd also again make sure there's a clear, easily parseable log message here as well.

I don't think that we should panic if we can't connect to Kafka - that's why I made point 1) above.  My take is that typically if one OSN cannot connect to a partition or any broker, then it's more than likely the other OSNs will have the same issue.  This would also allow OSNs to service other channels if the issue was solely with a single partition.

I guess we also need to think about how the deliver service client in the peer should respond to this as well - but at least using the 503 error code might be a hint.;;;","01/Jun/17 2:53 AM;kchristidis;> My take is that typically if one OSN cannot connect to a partition or any broker, then it's more than likely the other OSNs will have the same issue. This would also allow OSNs to service other channels if the issue was solely with a single partition.

Good point.

So, the less aggressive approach via a 503 response on the deliver side makes sense. It will require an extension of the `ConsenterSupport` interface with a `Status` method. (The `deliverServer` will then tap into it to see what's up with the orderer.)

The short/long retry interval is intuitive and – unless folks disagree – will serve our purposes nicely.

No matter which approach we end up with, a few things are certain:
 # The `Retry` options provided already will need to be slightly expanded/repurposed.
 # The [Kafka client-related timing settings|https://godoc.org/github.com/Shopify/sarama#Config] that we were hiding so far (`DialTimeout`, `ReadTimeout`, `WriteTimeout`, `Metadata.Retry.Max`, `Metadata.Retry.Backoff`, `Producer.Retry.Max`, `Producer.Retry.Backoff`, `Consumer.Retry.Backoff`) will need to be exposed in `orderer.yaml` but in a way that doesn't break what's out there already. We'll leave those settings commented out, and if a user wishes to modify them all they need to do is uncomment that line. Otherwise the orderer will run with the defaults, as it does now.
 # If we go the 503 route, we're looking at small code changes that are nonetheless on the hot path and affect what the user sees.

I believe these changes warrant the ""review-needed"" label.;;;","01/Jun/17 5:22 AM;ptippett;yeah short and long retry are fine.  This setting would be used for both problems publishing messages as well as connecting to a broker, correct? I want to make sure we're also covering the case that the orderer starts and kafka hasn't come up yet so isn't ready.

As for the error message, my concern is the orderer needs to return something that the peer can pick up on to know it should probably try another orderer.  If the client returns a 503 and the peer can pick that up and choose to try another orderer, I think that's fine as well.

 

 ;;;","01/Jun/17 5:43 AM;kchristidis;[~ptippett]: These settings will cover the connection part (the creation of the producer/consumer). The publishing part will be covered by tweaking the `Producer.Retry.Max` and `Producer.Retry.Backoff` settings as you see fit. These are currently hidden, but I plan to expose them as described in Step #2 in my previous comment.;;;","05/Jun/17 3:24 AM;scottz;I see different situations here that must be considered.
 * An orderer can fail to set up (or can drop) a connection to kafkabroker. (connection problem, network issue)
 * An orderer has set up connection to KB but fails to communicate on one partition/channel. (kafkabroker internal problem - partition was not set up correctly, or it WAS working but now one or more partitions got stuck or corrupted).

The two levels of retry timers make sense in many situations, especially for the first bullet. I would expect this to be combined with rollover to the next KB in the list. Retry once or twice on same KB, then the next retry is sent to the next KB on the list.

The second bullet is more complicated. If orderer can communicate with KB, AND if other channels are not stuck, then the orderer could try a different KB (but only until it goes through all of them on its list once - at which point it knows the channel/partition is stuck because at least one other channel is fine on all the KBs). In that situation, all the orderers would be cycling through the KB list in the same manner, regardless of which Kafkabroker was initially used by each orderer. Stopping the ""move on to the next kafkabroker"" logic after one cycle would stop disrupting the use of the other channels.

In what situations could an orderer automatically reboot itself? Or reboot a particular kafkabroker? Or a zookeeper?

 ;;;","05/Jun/17 6:34 AM;kchristidis;[~scottz]:

> The two levels of retry timers make sense in many situations, especially for the first bullet. I would expect this to be combined with rollover to the next KB in the list. Retry once or twice on same KB, then the next retry is sent to the next KB on the list.

The OSN switches right away between all listed brokers until it finds an available broker. If none are available after the first pass, it pauses for Metadata.Retry.Backoff and repeats the process for a total of Metadata.Retry.Max times.

> The second bullet is more complicated. If orderer can communicate with KB, AND if other channels are not stuck, then the orderer could try a different KB (but only until it goes through all of them on its list once - at which point it knows the channel/partition is stuck because at least one other channel is fine on all the KBs). In that situation, all the orderers would be cycling through the KB list in the same manner, regardless of which Kafkabroker was initially used by each orderer. Stopping the ""move on to the next kafkabroker"" logic after one cycle would stop disrupting the use of the other channels.

Not sure I follow. This bit in particular gives me pause:

> the orderer could try a different KB (but only until it goes through all of them on its list once - at which point it knows the channel/partition is stuck because at least one other channel is fine on all the KBs)

The OSN always reaches out _to the leader of the channel_. Even if ZK reports that channel foo is replicated by brokers 1, 2, and 3, and say brokers 1 and 2 are the ISR set at the time of the query, as long as 1 is reported as the leader, the OSN will attempt to connect 1. You seem to suggest that if 1 is not reachable, the OSN should reach out to 2. That will not happen unless ZK points to 2 as the leader.

> In what situations could an orderer automatically reboot itself? Or reboot a particular kafkabroker? Or a zookeeper?

I assume that is service-dependent, i.e. it's up to whomever runs the ordering service to say that ""if the orderer cannot establish a connection to more than X channels we should reboot"".

 ;;;","05/Jun/17 11:13 PM;kchristidis;We got the 5 votes needed for the extending the `ConsenterSupport` interface with a `Status` method from FAB-4155.

I believe the only outstanding issue is whether we are OK with exposing Kafka-related timing settings (FAB-4357). The changes are non-breaking and necessary, but since they affect what the user sees, consensus is needed.;;;","06/Jun/17 12:22 AM;binhn;[~kchristidis] Maybe we should replace this one with FAB-4357 on the voting board?

Im assuming the retry logic (as discussed here) either has been implemented or be part of FAB-4155.;;;","06/Jun/17 12:28 AM;kchristidis;[~binhn]: You're right. Done.;;;","06/Jun/17 12:32 AM;kchristidis;> Im assuming the retry logic (as discussed here) either has been implemented or be part of FAB-4155.

I'd say: https://jira.hyperledger.org/browse/FAB-4136 (see the ""Relates to"" section of this JIRA here);;;","06/Jun/17 2:42 PM;kchristidis;This issue has served its purpose and given me the direction necessary for fixing FAB-4136.

Closing this, thanks all for the feedback.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Removing security enabled flag,FAB-4122,17036,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,binhn,binhn,binhn,24/May/17 1:59 AM,21/Jul/18 3:54 AM,28/Oct/23 2:59 AM,25/May/17 5:03 AM,v1.0.0,,,v1.0.0,,fabric-peer,,,,,,,0,,,,,,,,"The security of fabric is now controlled by a set of configurable policies, so the old security flag is no longer necessary.",,binhn,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzxwo7:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,binhn,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"24/May/17 2:04 AM;binhn;In review:  https://gerrit.hyperledger.org/r/#/c/9713/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
GOPATH should not be hard coded ,FAB-4123,17037,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,arvindt7,arvindt7,24/May/17 2:10 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,26/May/17 3:19 PM,v1.0.0-alpha2,,,Not a Bug,,fabric-samples,,,,,,,0,Ledger,,,,,,,"File ""docker-compose-cli.yaml"" expects that ""GOPATH=/opt/gopath"" which is not always correct assumption. I think we should mention this assumption in Getting started section. ",,arvindt7,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxwof:",,,,,,,,,,,,,,,,,,,,,,,,,,,arvindt7,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"26/May/17 3:18 PM;ChristopherFerris;[~arvindt7] actually inside the various images we publish, on which this docker-compose file depends, /opt/gopath IS the defined GOPATH, so this usage is correct. ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Encode block metadata TRANSACTIONS_FILTER as proto message,FAB-4124,17038,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,manish-sethi,jyellick,jyellick,24/May/17 2:21 AM,21/Jul/18 3:56 AM,28/Oct/23 2:59 AM,06/Jun/17 3:26 AM,,,,v1.0.0,,fabric-ledger,,,,,,,0,,,,,,,,"The ledger currently encodes the invalid transactions into the TRANSACTION_FILTER section of the block metadata as a raw byte slice as a bitmask for the invalid transactions.

This has several problems.

1. All other block metadata fields are simply marshaled Metadata message structures.  This makes the TRANSACTION_FILTER field inconsistent with the other marshaling awkward/confusing for anyone trying to use the message.
2. There is no way to deprecate or extend this field.  If for instance we later wish to add a another bitmask like ""sidechain affecting txs"" or other metadata, there is no way to encode this information in a forward/backward compatible way.
3. The TRANSACTION_FILTER field currently has no way for the peer to sign over the information.  Because the blockmetadata is necessarily not part of the hash chain, it's impossible to detect tampering (especially for those receiving forwarded blocks) without checking signatures.

Proposed improvement:

The TRANSACTION_FILTER field should be encoded as a Metadata message.  Put in golang syntax, initializing the field would look something like this.

{noformat}
block.Metadata[BlockMetadataIndex_TRANSACTIONS_FILTER] = utils.MarshalOrPanic(&Metadata{
    Value: utils.MarshalOrPanic(&NewLedgerProtoMessage{
        InvalidTxBitmask: []byte(theBitMask),
    },
})
{noformat}

The peer may then optionally populate signatures into the Signatures field of the Metadata structure (or, for the moment leave it vacant).

You may see examples of this encoding in {{orderer/multichain/chainsupport.go}} particularly see the method:

{noformat}
func (cs *chainSupport) addLastConfigSignature(block *cb.Block) {
        configSeq := cs.Sequence()
        if configSeq > cs.lastConfigSeq {
                cs.lastConfig = block.Header.Number
                cs.lastConfigSeq = configSeq
        }

        lastConfigSignature := &cb.MetadataSignature{
                SignatureHeader: utils.MarshalOrPanic(utils.NewSignatureHeaderOrPanic(cs.signer)),
        }

        lastConfigValue := utils.MarshalOrPanic(&cb.LastConfig{Index: cs.lastConfig})
        logger.Debugf(""[channel: %s] About to write block, setting its LAST_CONFIG to %d"", cs.ChainID(), cs.lastConfig)

        lastConfigSignature.Signature = utils.SignOrPanic(cs.signer, util.ConcatenateBytes(lastConfigValue, lastConfigSignature.SignatureHeader, block.Header.Bytes()))

        block.Metadata.Metadata[cb.BlockMetadataIndex_LAST_CONFIG] = utils.MarshalOrPanic(&cb.Metadata{
                Value: lastConfigValue,
                Signatures: []*cb.MetadataSignature{
                        lastConfigSignature,
                },
        })
}
{noformat}",,denyeart,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzx4pr:",,,,Unset,,Sprint 16  - Ledger,,,,,,,,,,Unset,,,,,,,,,,,denyeart,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"06/Jun/17 3:26 AM;denyeart;Closing as a dup of FAB-4376.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
intermittent UT failures TestMembershipConvergence,FAB-4125,17039,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,gennadyl,ChristopherFerris,ChristopherFerris,24/May/17 4:08 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,06/Jun/17 7:41 PM,v1.0.0-alpha2,,,Unverifiable,,fabric-gossip,,,,,,,0,beta,build-system,gossip,,,,,"TestMembershipConvergence

17:14:29 unit-tests_1  | 2017-05-23 17:14:18.800 UTC [gossip/comm#2621] sendToEndpoint -> WARN 6fe Failed obtaining connection for localhost:2625, PKIid:[108 111 99 97 108 104 111 115 116 58 50 54 50 53] reason: grpc: timed out when dialing
17:14:29 unit-tests_1  | 2017-05-23 17:14:18.803 UTC [gossip/gossip#p15] ValidateAliveMsg -> WARN 6ff Don't have certificate for membership:<endpoint:""1.2.3.4:2621"" pki_id:""localhost:2621"" > timestamp:<inc_num:1495559637583204982 seq_num:27 > 
17:14:29 unit-tests_1  | 2017-05-23 17:14:18.803 UTC [gossip/gossip#p15] handleMessage -> WARN 700 Message GossipMessage: tag:EMPTY alive_msg:<membership:<endpoint:""1.2.3.4:2621"" pki_id:""localhost:2621"" > timestamp:<inc_num:1495559637583204982 seq_num:27 > > , Envelope: 50 bytes, Signature: 50 bytes Secret payload: 16 bytes, Secret Signature: 16 bytes isn't valid
17:14:29 unit-tests_1  | 2017-05-23 17:14:19.069 UTC [gossip/comm#2610] sendToEndpoint -> WARN 701 Failed obtaining connection for localhost:2625, PKIid:[108 111 99 97 108 104 111 115 116 58 50 54 50 53] reason: grpc: timed out when dialing
17:14:29 unit-tests_1  | 2017-05-23 17:14:19.082 UTC [gossip/comm#2611] sendToEndpoint -> WARN 702 Failed obtaining connection for localhost:2625, PKIid:[108 111 99 97 108 104 111 115 116 58 50 54 50 53] reason: grpc: timed out when dialing
17:14:29 unit-tests_1  | 2017-05-23 17:14:19.656 UTC [gossip/comm#2612] func1 -> WARN 703 localhost:2625, PKIid:[108 111 99 97 108 104 111 115 116 58 50 54 50 53] isn't responsive: EOF
17:14:29 unit-tests_1  | 2017-05-23 17:14:19.656 UTC [gossip/discovery#localhost:2612] expireDeadMembers -> WARN 704 Entering [[108 111 99 97 108 104 111 115 116 58 50 54 50 53]]
17:14:29 unit-tests_1  | 2017-05-23 17:14:19.656 UTC [gossip/discovery#localhost:2612] expireDeadMembers -> WARN 705 Closing connection to Endpoint: 1.2.3.4:2625, InternalEndpoint: localhost:2625, PKI-ID: [108 111 99 97 108 104 111 115 116 58 50 54 50 53], Metadata: [67 111 110 110 101 99 116 111 114 50]
17:14:29 unit-tests_1  | 2017-05-23 17:14:19.657 UTC [gossip/discovery#localhost:2612] expireDeadMembers -> WARN 706 Exiting
17:14:29 unit-tests_1  | <<<TestMembershipConvergence>>>
17:14:29 unit-tests_1  | FAIL
17:14:29 unit-tests_1  | coverage: 86.9% of statements
17:14:29 unit-tests_1  | FAIL	github.com/hyperledger/fabric/gossip/gossip	62.374s
17:14:29 unit-tests_1  | error: exit status 1
17:14:29 unit-tests_1  | panic: EOF
17:14:29 unit-tests_1  | 
17:14:29 unit-tests_1  | goroutine 1 [running]:
17:14:29 unit-tests_1  | panic(0x4daca0, 0xc42000a0f0)
17:14:29 unit-tests_1  | 	/opt/go/src/runtime/panic.go:500 +0x1a1
17:14:29 unit-tests_1  | main.main()
17:14:29 unit-tests_1  | 	/opt/gotools/obj/gopath/src/github.com/AlekSi/gocov-xml/gocov-xml.go:60 +0x15fd
17:14:29 unittest_unit-tests_1 exited with code 2
17:14:29 Stopping unittest_vp_1 ... 
17:14:29 Stopping couchdb ... 
17:14:29 
Stopping unittest_vp_1 ... done",,C0rWin,ChristopherFerris,gennadyl,yacovm,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-290,,,,,,,,,,"1|hzxwp3:",,,,,,,,,,,,,,,,,,,,,,,,,,,C0rWin,ChristopherFerris,gennadyl,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"05/Jun/17 7:02 PM;gennadyl;[~ChristopherFerris] do you have link to full console output, by any chance? TestMembershipConvergence is not test that failed, but test that runs during failure of another, unknown test. The failing test appears somewhere in full output. ;;;","06/Jun/17 5:13 PM;yacovm;[~gennadyl] is right - it's misleading because the tests run in parallel and when it prints <<<TestMembershipConvergence>>> it means that one succeeded, not failed. 

Perhaps we should close this issue and open one when we spot a failure of this test? ;;;","06/Jun/17 7:40 PM;C0rWin;Going to close it, since not enough information to provide any fix or educated analysis of the problem.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
intermittent UT failures ,FAB-4128,17043,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,nnao,ChristopherFerris,ChristopherFerris,24/May/17 6:43 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,06/Jun/17 11:50 PM,v1.0.0-alpha2,,,v1.0.0,,fabric-peer,,,,,,,0,build-system,,,,,,,"TestCreateChainWithWaitSuccess
1:06:45 unit-tests_1  | ok  	github.com/hyperledger/fabric/peer/chaincode	2.278s	coverage: 51.1% of statements
21:07:24 unit-tests_1  | 2017-05-23 21:07:16.201 UTC [msp] getMspConfig -> INFO 001 intermediate certs folder not found at [/opt/gopath/src/github.com/hyperledger/fabric/sampleconfig/msp/intermediatecerts]. Skipping.: [stat /opt/gopath/src/github.com/hyperledger/fabric/sampleconfig/msp/intermediatecerts: no such file or directory]
21:07:24 unit-tests_1  | 2017-05-23 21:07:16.202 UTC [msp] getMspConfig -> INFO 002 crls folder not found at [/opt/gopath/src/github.com/hyperledger/fabric/sampleconfig/msp/intermediatecerts]. Skipping.: [stat /opt/gopath/src/github.com/hyperledger/fabric/sampleconfig/msp/crls: no such file or directory]
21:07:24 unit-tests_1  | Received error: EOF
21:07:24 unit-tests_1  | Received error: EOF
21:07:24 unit-tests_1  | Received error: EOF
21:07:24 unit-tests_1  | Received error: EOF
21:07:24 unit-tests_1  | Received error: EOF
21:07:24 unit-tests_1  | Received error: EOF
21:07:24 unit-tests_1  | Received error: EOF
21:07:24 unit-tests_1  | Received error: EOF
21:07:24 unit-tests_1  | Received error: EOF
21:07:24 unit-tests_1  | Received error: EOF
21:07:24 unit-tests_1  | Received error: EOF
21:07:24 unit-tests_1  | Received error: EOF
21:07:24 unit-tests_1  | Received error: EOF
21:07:24 unit-tests_1  | Received error: EOF
21:07:24 unit-tests_1  | Received error: EOF
21:07:24 unit-tests_1  | Received error: EOF
21:07:24 unit-tests_1  | Received error: EOF
21:07:24 unit-tests_1  | Received error: EOF
21:07:24 unit-tests_1  | Received error: EOF
21:07:24 unit-tests_1  | Received error: EOF
21:07:24 unit-tests_1  | Received error: EOF
21:07:24 unit-tests_1  | Received error: EOF
21:07:24 unit-tests_1  | Received error: EOF
21:07:24 unit-tests_1  | Received error: EOF
21:07:24 unit-tests_1  | Error: timeout waiting for channel creation
21:07:24 unit-tests_1  | Usage:
21:07:24 unit-tests_1  |   create [flags]
21:07:24 unit-tests_1  | 
21:07:24 unit-tests_1  | Flags:
21:07:24 unit-tests_1  |   -b, --blockpath string   Path to file containing genesis block
21:07:24 unit-tests_1  |       --cafile string      Path to file containing PEM-encoded trusted certificate(s) for the ordering endpoint
21:07:24 unit-tests_1  |   -c, --chain string       In case of a newChain command, the chain ID to create.
21:07:24 unit-tests_1  |   -f, --file string        Configuration transaction file generated by a tool such as configtxgen for submitting to orderer
21:07:24 unit-tests_1  |   -o, --orderer string     Ordering service endpoint
21:07:24 unit-tests_1  |   -t, --timeout int        Channel creation timeout (default 5)
21:07:24 unit-tests_1  |       --tls                Use TLS when communicating with the orderer endpoint
21:07:24 unit-tests_1  | 
21:07:24 unit-tests_1  | --- FAIL: TestCreateChainWithWaitSuccess (5.05s)
21:07:24 unit-tests_1  | 	create_test.go:233: expected create command to succeed
21:07:24 unit-tests_1  | Received error: EOF
21:07:24 unit-tests_1  | Received error: EOF
21:07:24 unit-tests_1  | Received error: EOF
21:07:24 unit-tests_1  | Received error: EOF
21:07:24 unit-tests_1  | Error: timeout waiting for channel creation
21:07:24 unit-tests_1  | Usage:
21:07:24 unit-tests_1  |   create [flags]
21:07:24 unit-tests_1  | 
21:07:24 unit-tests_1  | Flags:
21:07:24 unit-tests_1  |   -b, --blockpath string   Path to file containing genesis block
21:07:24 unit-tests_1  |       --cafile string      Path to file containing PEM-encoded trusted certificate(s) for the ordering endpoint
21:07:24 unit-tests_1  |   -c, --chain string       In case of a newChain command, the chain ID to create.
21:07:24 unit-tests_1  |   -f, --file string        Configuration transaction file generated by a tool such as configtxgen for submitting to orderer
21:07:24 unit-tests_1  |   -o, --orderer string     Ordering service endpoint
21:07:24 unit-tests_1  |   -t, --timeout int        Channel creation timeout (default 5)
21:07:24 unit-tests_1  |       --tls                Use TLS when communicating with the orderer endpoint
21:07:24 unit-tests_1  | 
21:07:24 unit-tests_1  | Error: send create tx failed
21:07:24 unit-tests_1  | Usage:
21:07:24 unit-tests_1  |   create [flags]
21:07:24 unit-tests_1  | 
21:07:24 unit-tests_1  | Flags:
21:07:24 unit-tests_1  |   -b, --blockpath string   Path to file containing genesis block
21:07:24 unit-tests_1  |       --cafile string      Path to file containing PEM-encoded trusted certificate(s) for the ordering endpoint
21:07:24 unit-tests_1  |   -c, --chain string       In case of a newChain command, the chain ID to create.
21:07:24 unit-tests_1  |   -f, --file string        Configuration transaction file generated by a tool such as configtxgen for submitting to orderer
21:07:24 unit-tests_1  |   -o, --orderer string     Ordering service endpoint
21:07:24 unit-tests_1  |   -t, --timeout int        Channel creation timeout (default 5)
21:07:24 unit-tests_1  |       --tls                Use TLS when communicating with the orderer endpoint
21:07:24 unit-tests_1  | 
21:07:24 unit-tests_1  | Error: failed connecting
21:07:24 unit-tests_1  | Usage:
21:07:24 unit-tests_1  |   create [flags]
21:07:24 unit-tests_1  | 
21:07:24 unit-tests_1  | Flags:
21:07:24 unit-tests_1  |   -b, --blockpath string   Path to file containing genesis block
21:07:24 unit-tests_1  |       --cafile string      Path to file containing PEM-encoded trusted certificate(s) for the ordering endpoint
21:07:24 unit-tests_1  |   -c, --chain string       In case of a newChain command, the chain ID to create.
21:07:24 unit-tests_1  |   -f, --file string        Configuration transaction file generated by a tool such as configtxgen for submitting to orderer
21:07:24 unit-tests_1  |   -o, --orderer string     Ordering service endpoint
21:07:24 unit-tests_1  |   -t, --timeout int        Channel creation timeout (default 5)
21:07:24 unit-tests_1  |       --tls                Use TLS when communicating with the orderer endpoint
21:07:24 unit-tests_1  | 
21:07:24 unit-tests_1  | Error: Invalid channel create transaction : bad type
21:07:24 unit-tests_1  | Usage:
21:07:24 unit-tests_1  |   create [flags]
21:07:24 unit-tests_1  | 
21:07:24 unit-tests_1  | Flags:
21:07:24 unit-tests_1  |   -b, --blockpath string   Path to file containing genesis block
21:07:24 unit-tests_1  |       --cafile string      Path to file containing PEM-encoded trusted certificate(s) for the ordering endpoint
21:07:24 unit-tests_1  |   -c, --chain string       In case of a newChain command, the chain ID to create.
21:07:24 unit-tests_1  |   -f, --file string        Configuration transaction file generated by a tool such as configtxgen for submitting to orderer
21:07:24 unit-tests_1  |   -o, --orderer string     Ordering service endpoint
21:07:24 unit-tests_1  |   -t, --timeout int        Channel creation timeout (default 5)
21:07:24 unit-tests_1  |       --tls                Use TLS when communicating with the orderer endpoint
21:07:24 unit-tests_1  | 
21:07:24 unit-tests_1  | Error: Invalid channel create transaction : mismatched channel ID different_channel != mockchannel
21:07:24 unit-tests_1  | Usage:
21:07:24 unit-tests_1  |   create [flags]
21:07:24 unit-tests_1  | 
21:07:24 unit-tests_1  | Flags:
21:07:24 unit-tests_1  |   -b, --blockpath string   Path to file containing genesis block
21:07:24 unit-tests_1  |       --cafile string      Path to file containing PEM-encoded trusted certificate(s) for the ordering endpoint
21:07:24 unit-tests_1  |   -c, --chain string       In case of a newChain command, the chain ID to create.
21:07:24 unit-tests_1  |   -f, --file string        Configuration transaction file generated by a tool such as configtxgen for submitting to orderer
21:07:24 unit-tests_1  |   -o, --orderer string     Ordering service endpoint
21:07:24 unit-tests_1  |   -t, --timeout int        Channel creation timeout (default 5)
21:07:24 unit-tests_1  |       --tls                Use TLS when communicating with the orderer endpoint
21:07:24 unit-tests_1  | 
21:07:24 unit-tests_1  | Error: Invalid channel create transaction : empty channel id
21:07:24 unit-tests_1  | Usage:
21:07:24 unit-tests_1  |   create [flags]
21:07:24 unit-tests_1  | 
21:07:24 unit-tests_1  | Flags:
21:07:24 unit-tests_1  |   -b, --blockpath string   Path to file containing genesis block
21:07:24 unit-tests_1  |       --cafile string      Path to file containing PEM-encoded trusted certificate(s) for the ordering endpoint
21:07:24 unit-tests_1  |   -c, --chain string       In case of a newChain command, the chain ID to create.
21:07:24 unit-tests_1  |   -f, --file string        Configuration transaction file generated by a tool such as configtxgen for submitting to orderer
21:07:24 unit-tests_1  |   -o, --orderer string     Ordering service endpoint
21:07:24 unit-tests_1  |   -t, --timeout int        Channel creation timeout (default 5)
21:07:24 unit-tests_1  |       --tls                Use TLS when communicating with the orderer endpoint
21:07:24 unit-tests_1  | 
21:07:24 unit-tests_1  | Peer joined the channel!
21:07:24 unit-tests_1  | Error: genesis block file not found open mockchain.block: no such file or directory
21:07:24 unit-tests_1  | Usage:
21:07:24 unit-tests_1  |   join [flags]
21:07:24 unit-tests_1  | 
21:07:24 unit-tests_1  | Flags:
21:07:24 unit-tests_1  |   -b, --blockpath string   Path to file containing genesis block
21:07:24 unit-tests_1  |       --cafile string      Path to file containing PEM-encoded trusted certificate(s) for the ordering endpoint
21:07:24 unit-tests_1  |   -c, --chain string       In case of a newChain command, the chain ID to create.
21:07:24 unit-tests_1  |   -f, --file string        Configuration transaction file generated by a tool such as configtxgen for submitting to orderer
21:07:24 unit-tests_1  |   -o, --orderer string     Ordering service endpoint
21:07:24 unit-tests_1  |   -t, --timeout int        Channel creation timeout (default 5)
21:07:24 unit-tests_1  |       --tls                Use TLS when communicating with the orderer endpoint
21:07:24 unit-tests_1  | 
21:07:24 unit-tests_1  | Error: proposal failed (err: bad proposal response 500)
21:07:24 unit-tests_1  | Usage:
21:07:24 unit-tests_1  |   join [flags]
21:07:24 unit-tests_1  | 
21:07:24 unit-tests_1  | Flags:
21:07:24 unit-tests_1  |   -b, --blockpath string   Path to file containing genesis block
21:07:24 unit-tests_1  |       --cafile string      Path to file containing PEM-encoded trusted certificate(s) for the ordering endpoint
21:07:24 unit-tests_1  |   -c, --chain string       In case of a newChain command, the chain ID to create.
21:07:24 unit-tests_1  |   -f, --file string        Configuration transaction file generated by a tool such as configtxgen for submitting to orderer
21:07:24 unit-tests_1  |   -o, --orderer string     Ordering service endpoint
21:07:24 unit-tests_1  |   -t, --timeout int        Channel creation timeout (default 5)
21:07:24 unit-tests_1  |       --tls                Use TLS when communicating with the orderer endpoint
21:07:24 unit-tests_1  | 
21:07:24 unit-tests_1  | Channels peers has joined to:
21:07:24 unit-tests_1  | 	 TEST_LIST_CHANNELS
21:07:24 unit-tests_1  | FAIL
21:07:24 unit-tests_1  | coverage: 69.7% of statements
21:07:24 unit-tests_1  | FAIL	github.com/hyperledger/fabric/peer/channel	7.876s
21:07:24 unit-tests_1  | error: exit status 1
21:07:24 unit-tests_1  | panic: EOF
21:07:24 unit-tests_1  | 
21:07:24 unit-tests_1  | goroutine 1 [running]:
21:07:24 unit-tests_1  | panic(0x4daca0, 0xc42006c020)
21:07:24 unit-tests_1  | 	/opt/go/src/runtime/panic.go:500 +0x1a1
21:07:24 unit-tests_1  | main.main()
21:07:24 unit-tests_1  | 	/opt/gotools/obj/gopath/src/github.com/AlekSi/gocov-xml/gocov-xml.go:60 +0x15fd
21:07:24 unittest_unit-tests_1 exited with code 2",,ChristopherFerris,wlahti,,,,,,,,,,,,,,,,,,,28800,28800,,0%,28800,28800,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxwpr:",,,,,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,wlahti,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"24/May/17 6:44 AM;ChristopherFerris;initially, just disable test until someone fixes.;;;","24/May/17 6:49 AM;ChristopherFerris;https://gerrit.hyperledger.org/r/#/c/9735/;;;","06/Jun/17 11:50 PM;wlahti;https://jira.hyperledger.org/browse/FAB-3927 reenabled this test case and has resolved this bug. ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Incorrect last_config reported in system chain,FAB-4129,17045,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jeffgarratt,jeffgarratt,24/May/17 7:28 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,04/Jun/17 1:28 AM,v1.0.0-alpha2,,,v1.0.0,,fabric-orderer,,,,,,,0,configuration,reproduction-requested,,,,,,,,jeffgarratt,jyellick,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxwqf:",,,,,,,,,,,,,,,,,,,,,,,,,,,jeffgarratt,jyellick,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"25/May/17 6:27 AM;jeffgarratt;Verified with latest code from master commit 4a2f135c487a4c7f4487b37b4d1658b97cbcaad8;;;","27/May/17 5:16 AM;kchristidis;[~jyellick] FYI;;;","03/Jun/17 3:02 PM;jyellick;I could not reproduce this locally, but there was a bug in the logic (See FAB-4330).  I'll plan to work with Jeff to confirm this is either fixed or a different issue.;;;","04/Jun/17 1:28 AM;jeffgarratt;User error on my part.  Should have know it was not a straigt LastConfig message, but rather a Metadata message.  Closing.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
peer node status/stop do not report errors,FAB-4130,17046,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,shimos,shimos,shimos,24/May/17 8:30 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,05/Jun/17 11:29 PM,v1.0.0-alpha2,,,v1.0.0,,fabric-peer,,,,,,,0,,,,,,,,"“peer node status” and “peer node stop” do not show error messages but leave the exit status successful (zero) when they encounter an error.
They should be fixed because this behavior would make automation or scripting difficult.

(node stop case)
  $ rm /var/hyperledger/production/peer.pid
  $ peer node stop; echo Exit Code: $?
   …(snip)…
    2017-05-23 22:58:55.240 UTC [nodeCmd] stop -> INFO 003 Error trying to connect to local peer: grpc: timed out when dialing
   2017-05-23 22:58:55.240 UTC [nodeCmd] stop -> INFO 004 Stopping local peer using process pid from /var/hyperledger/production/peer.pid
   2017-05-23 22:58:55.240 UTC [main] main -> INFO 005 Exiting.....
  Exit Code: 0
  (It should say that it could not read the pid file)

(node status case)
    $ peer node status; echo Exit Code: $?
     …(snip)…
    2017-05-23 22:55:59.065 UTC [nodeCmd] status -> WARN 003 PER:404 - Error trying to connect to local peer
    /opt/go/src/github.com/hyperledger/fabric/peer/common/common.go:88 github.com/hyperledger/fabric/peer/common.GetAdminClient
    /opt/go/src/github.com/hyperledger/fabric/peer/node/status.go:44 github.com/hyperledger/fabric/peer/node.status
    /opt/go/src/github.com/hyperledger/fabric/peer/node/status.go:39 github.com/hyperledger/fabric/peer/node.glob..func2
    /opt/go/src/github.com/hyperledger/fabric/vendor/github.com/spf13/cobra/command.go:605 github.com/hyperledger/fabric/vendor/github.com/spf13/cobra.(*Command).execute
    /opt/go/src/github.com/hyperledger/fabric/vendor/github.com/spf13/cobra/command.go:689 github.com/hyperledger/fabric/vendor/github.com/spf13/cobra.(*Command).ExecuteC
    /opt/go/src/github.com/hyperledger/fabric/vendor/github.com/spf13/cobra/command.go:648 github.com/hyperledger/fabric/vendor/github.com/spf13/cobra.(*Command).Execute
    /opt/go/src/github.com/hyperledger/fabric/peer/main.go:119 main.main
    /usr/local/go/src/runtime/proc.go:192 runtime.main
    /usr/local/go/src/runtime/asm_amd64.s:2087 runtime.goexit
    Caused by: grpc: timed out when dialing
    status:UNKNOWN
    2017-05-23 22:55:59.065 UTC [main] main -> INFO 004 Exiting.....
    Exit Code: 0
    (The error message only appears in the log)

(channel list case: expected behavior)
    $ build/bin/peer channel list; echo Exit Code: $?
    …(snip)….
   Error: Error getting endorser client channel: PER:404 - Error trying to connect to local peer
   /opt/go/src/github.com/hyperledger/fabric/peer/common/common.go:77 github.com/hyperledger/fabric/peer/common.GetEndorserClient
   /opt/go/src/github.com/hyperledger/fabric/peer/channel/channel.go:111 github.com/hyperledger/fabric/peer/channel.InitCmdFactory
   /opt/go/src/github.com/hyperledger/fabric/peer/channel/list.go:94 github.com/hyperledger/fabric/peer/channel.list
   /opt/go/src/github.com/hyperledger/fabric/peer/channel/list.go:86 github.com/hyperledger/fabric/peer/channel.listCmd.func1
   /opt/go/src/github.com/hyperledger/fabric/vendor/github.com/spf13/cobra/command.go:599 github.com/hyperledger/fabric/vendor/github.com/spf13/cobra.(*Command).execute
   /opt/go/src/github.com/hyperledger/fabric/vendor/github.com/spf13/cobra/command.go:689 github.com/hyperledger/fabric/vendor/github.com/spf13/cobra.(*Command).ExecuteC
   /opt/go/src/github.com/hyperledger/fabric/vendor/github.com/spf13/cobra/command.go:648 github.com/hyperledger/fabric/vendor/github.com/spf13/cobra.(*Command).Execute
    /opt/go/src/github.com/hyperledger/fabric/peer/main.go:118 main.main
    /usr/local/go/src/runtime/proc.go:192 runtime.main
    /usr/local/go/src/runtime/asm_amd64.s:2087 runtime.goexit
    Caused by: grpc: timed out when dialing
    Usage:
     peer channel list [flags]
    
    Flags:
      -h, --help   help for list
    …(snip)…
    Exit Code: 1
",,shimos,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxwqn:",,,,,,,,,,,,,,,,,,,,,,,,,,,shimos,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"24/May/17 11:10 AM;shimos;Submitted a patch to fix this: https://gerrit.hyperledger.org/r/#/c/9745/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
get-docker-images.in file is missing,FAB-4132,17048,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,nnao,rameshthoomu,rameshthoomu,24/May/17 12:01 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,01/Jun/17 11:12 AM,v1.0.0-alpha2,,,v1.0.0,,fabric-quality,,,,,,,0,quality,,,,,,,"get-docker-images.in file is missing from release/template folder. This file has been removed on this commit 23f4a8c ([https://gerrit.hyperledger.org/r/#/c/9673/).]

In result, observed below error while doing `make release-all`
{code:java}
mkdir -p release/linux-amd64/install
cat: release/linux-amd64/install/../../templates/get-docker-images.in: No such file or directory
Building release/linux-ppc64le/bin/configtxgen for linux-ppc64le
mkdir -p release/linux-ppc64le/bin{code}
is this intentional? if yes, we have to remove corresponding reference from Makefile as well.",,ChristopherFerris,mastersingh24,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-4255,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxwqv:",,,,,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,mastersingh24,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"01/Jun/17 8:53 AM;mastersingh24;I'm not sure why the release folder was deleted.  I did notice this and forgot to look into it further.  I'll assign this to myself as we work on the release artifacts;;;","01/Jun/17 11:12 AM;ChristopherFerris;https://gerrit.hyperledger.org/r/#/c/9993/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Examples for Fabric-Client and Fabric-CA-CLient,FAB-4133,17049,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid,,paul.sitoh,paul.sitoh,24/May/17 12:24 PM,09/Jan/19 3:47 AM,28/Oct/23 2:59 AM,09/Jan/19 3:47 AM,v1.0.0-alpha1,v1.0.0-alpha2,,,,,,,,,,,0,help-wanted,node-SDK,,,,,,"Folks,

    I am sure many user of the Fabric-Client and Fabric-CA-Client relies on the example code (Balance Transfer) to learn how to use the SDK.

    Unfortunately, the example code is layered with lots of other non-sdk code which kind of distract from really understanding how to get the SDK to do things like: install, instantiate, invoke and query chaincodes.

    May I suggest that you create very simple example, say something like a glorified database operation, connecting to a single peer that's all. Separate out the example, in three different files for each of the above mentioned operation. The example should focus on just showing the steps to do each operation, unlike the Balance Transfer example, which had codes dealing with switching between peers and thus making the code unnecessarily distracting when all we want to know are steps we need to write for each operation.",,denyeart,paul.sitoh,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzxwr3:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,denyeart,paul.sitoh,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"09/Jan/19 3:47 AM;denyeart;fabcar is the more simplified sample that we are now pointing people to.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Consolidate unit-test support config,FAB-4134,17050,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,binhn,binhn,binhn,24/May/17 12:36 PM,21/Jul/18 3:56 AM,28/Oct/23 2:59 AM,26/May/17 11:48 PM,v1.0.0,,,v1.0.0,,fabric-peer,,,,,,,0,,,,,,,,Peer code contains 5 different config.go as support configuration for unit-tests in various packages. We need to consolidate them into 1 module.,,binhn,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzxwrb:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,binhn,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"24/May/17 12:43 PM;binhn;In review: https://gerrit.hyperledger.org/r/#/c/9751/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Document cc-to-scc invokability configuration,FAB-4135,17053,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,ales,elli-androulaki,elli-androulaki,24/May/17 9:58 PM,03/Dec/19 8:44 PM,28/Oct/23 2:59 AM,03/Dec/19 8:44 PM,,,,,,fabric-crypto,fabric-docs,,,,,,1,Documentation,,,,,,,"Document under fabric/docs/source/ the configurability of system chaincode being externally invokable or by another chaincode. 

 ",,ales,ChristopherFerris,denyeart,elli-androulaki,joe-alewine,pandrejko,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzwrzz:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,ales,ChristopherFerris,denyeart,elli-androulaki,joe-alewine,pandrejko,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"30/May/17 2:43 AM;ChristopherFerris;the 'review-needed' label is reserved for issues that affect production code.;;;","23/Jun/17 6:40 AM;elli-androulaki;Moved to v1.1, as it is not applicable for v1.0.;;;","24/Mar/18 5:23 AM;joe-alewine;[~elli-androulaki]

Status of this one? Has another JIRA replaced it?;;;","12/Sep/18 6:42 PM;elli-androulaki;No, there has not been another Jira for this. I believe this is still relevant. ;;;","03/Dec/18 5:35 AM;pandrejko;[~ales] Is this still targetted for Release 1.4? Otherwise can we update the release?;;;","03/Dec/19 5:37 AM;denyeart;[~ales] [~elli-androulaki] I'm triaging work items tagged for v2.0. Do you recall the intent of this work item? Was it for the out of the box system chaincodes or user created system chaincodes? Where is the configuration point?

Note that CSCC and QSCC cannot be invoked from other chaincodes, for background see FAB-15285.
;;;","03/Dec/19 6:54 PM;ales;The whole business of invokable/non invokable system chaincodes has been removed, so this FAB is no longer relevant. We used to have configurable flags that governed the direct (or through cc2cc) invokability of chaincodes, but that has been removed.;;;","03/Dec/19 8:44 PM;denyeart;Ok, we've added removal of system chaincode plugins FAB-15343 to release notes, I'll close this one.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fix orderer channel handling when Kafka cluster is not reachable,FAB-4136,17054,,Bug,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,kchristidis,kchristidis,kchristidis,24/May/17 10:04 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,12/Jun/17 8:19 PM,v1.0.0-alpha2,,,v1.0.0,,fabric-orderer,,,,,,,0,kafka,,,,,,,"In short: if the Kafka cluster is not reachable when a new channel is created, or an existing channel in a just-rebooted orderer is reloaded, the orderer will Halt the chain object associated with that channel. This means it will not serve Broadcast/Deliver calls associated with it. This needs to be fixed by leveraging the retry knobs that the underlying library gives us, and extending them where necessary.

There are roughly 4 steps involved in fixing this:
 # Identify all the knob combinations that affect the retry mechanism
 # Identify the time defaults that we would set: see FAB-4084
 # Identify the stop conditions (if any) for retrying: see FAB-4121
 # Rewrite the code to implement this (and add related unit-tests – which is going to be tricky)

This issue is critical and we cannot/shouldn't cut a release w/o addressing it. By my estimate 75% of the bugs we have against the Kafka orderer in JIRA are affected by this. Even working weekends (which I'm already doing), I expect it to take at least two weeks before we have changesets out addressing this.",,C0rWin,ChristopherFerris,harsha544,JonathanLevi,kchristidis,mastersingh24,muralisr,scottz,troyronda,weeds,,,,,,,,,";01/Jun/17 6:22 AM;kchristidis;57600",";06/Jun/17 6:04 PM;kchristidis;72000",288000,86400,129600,45%,288000,86400,129600,Not a security issue,FAB-4184,,,,,,,,,,,,,,,,,,,,,,,,FAB-3040,FAB-4518,,,,,,,,,,FAB-4084,FAB-4121,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxwrj:",,,,,,,,,,,,,,,,,,,,,,,,,,,C0rWin,ChristopherFerris,harsha544,JonathanLevi,kchristidis,mastersingh24,muralisr,scottz,troyronda,weeds,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"24/May/17 10:09 PM;kchristidis;I'm almost done with Step 1 BTW.;;;","01/Jun/17 4:13 AM;JonathanLevi;[~kchristidis]: Actually, can we list out all the related FABs and CRs so that we can review them all?

 ;;;","01/Jun/17 4:22 AM;kchristidis;[~JonathanLevi]: Haven't even started coding this yet, since I'm still on FAB-4184.;;;","01/Jun/17 4:35 AM;JonathanLevi;Noted. Thanks for the update K.;;;","01/Jun/17 6:22 AM;kchristidis;ETA for this: Friday 6/9;;;","02/Jun/17 3:49 AM;ChristopherFerris;[~kchristidis] any chance we could get this done sooner? Is this a gnarly fix or can someone else help? ;;;","02/Jun/17 5:08 AM;kchristidis;It's not as easy of a fix as it initially sounds.

First, as I noted above, it requires me getting done with FAB-4184 first.

Two, I don't even have consensus from the maintainers yet on whether the changes needed for this fix are acceptable, see: https://jira.hyperledger.org/browse/FAB-4121?focusedCommentId=24824&page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel#comment-24824 (and my post in the #maintainers channel yesterday);;;","02/Jun/17 5:15 AM;kchristidis;> Can someone else help?

That's a good question.

FAB-4184 is a substantial refactoring/simplification of the `kafka` package which makes writing tests much easier. This is why I'm holding off on fixing this issue now. Of course this means that FAB-4184 may get rejected for the 1.0 cut because it touches the hot path, etc.

So I'm wondering whether it makes sense to work on a plan B right away, i.e. have someone work on this now, based on the current codebase. Writing unit tests for their fix will be -a pain- impossible, though they can test their changes by hacking Jeff's BDD framework. As always, it's a matter of picking our battles.

What do you say? I know [~C0rWin] _may_ have some spare cycles for us, and I was thinking of approaching him for this. (Artem, hi.)

 ;;;","02/Jun/17 6:00 AM;mastersingh24;I'd say let's try getting a fix in and rely on BDD or some level of manual testing to verify that it works.
In the end, this is not going to hurt anything and can only help (at least that's my thinking);;;","02/Jun/17 6:03 AM;kchristidis;Yeah, I think playing it safe right now and activating the backup plan now won't hurt.

Will coordinate with Artem and see if we can get this going right away.;;;","02/Jun/17 8:02 AM;C0rWin;[~kchristidis] hi :)

Will take a look on this.;;;","07/Jun/17 12:29 AM;muralisr;FAB-4415 seems to be related to this. Channel create fails with SERVICE_UNAVAILABLE from the orderer and the orderer logs show ""Consenter instructed us to shut down""


{code:java}
36m2017-06-06 13:23:44.912 UTC [policies] CommitProposals -> DEBU 46b[0m In commit adding relative sub-policy Orderer/Admins to Channel
[36m2017-06-06 13:23:44.912 UTC [policies] GetPolicy -> DEBU 46c[0m Returning policy Readers for evaluation
[36m2017-06-06 13:23:44.912 UTC [policies] GetPolicy -> DEBU 46d[0m Returning policy Readers for evaluation
[36m2017-06-06 13:23:44.912 UTC [policies] GetPolicy -> DEBU 46e[0m Returning policy Writers for evaluation
[36m2017-06-06 13:23:44.912 UTC [policies] GetPolicy -> DEBU 46f[0m Returning policy Writers for evaluation
[36m2017-06-06 13:23:44.912 UTC [policies] GetPolicy -> DEBU 470[0m Returning policy Admins for evaluation
[36m2017-06-06 13:23:44.912 UTC [policies] GetPolicy -> DEBU 471[0m Returning policy Admins for evaluation
[36m2017-06-06 13:23:44.912 UTC [policies] GetPolicy -> DEBU 472[0m Returning policy Readers for evaluation
[36m2017-06-06 13:23:44.912 UTC [policies] CommitProposals -> DEBU 473[0m As expected, current configuration has policy '/Channel/Readers'
[36m2017-06-06 13:23:44.912 UTC [policies] GetPolicy -> DEBU 474[0m Returning policy Writers for evaluation
[36m2017-06-06 13:23:44.912 UTC [policies] CommitProposals -> DEBU 475[0m As expected, current configuration has policy '/Channel/Writers'
[36m2017-06-06 13:23:44.912 UTC [policies] GetPolicy -> DEBU 476[0m Returning policy Application/Readers for evaluation
[36m2017-06-06 13:23:44.912 UTC [policies] CommitProposals -> DEBU 477[0m As expected, current configuration has policy '/Channel/Application/Readers'
[36m2017-06-06 13:23:44.912 UTC [policies] GetPolicy -> DEBU 478[0m Returning policy Application/Writers for evaluation
[36m2017-06-06 13:23:44.912 UTC [policies] CommitProposals -> DEBU 479[0m As expected, current configuration has policy '/Channel/Application/Writers'
[36m2017-06-06 13:23:44.912 UTC [policies] GetPolicy -> DEBU 47a[0m Returning policy Application/Admins for evaluation
[36m2017-06-06 13:23:44.912 UTC [policies] CommitProposals -> DEBU 47b[0m As expected, current configuration has policy '/Channel/Application/Admins'
[36m2017-06-06 13:23:44.912 UTC [policies] GetPolicy -> DEBU 47c[0m Returning policy Orderer/BlockValidation for evaluation
[36m2017-06-06 13:23:44.912 UTC [policies] CommitProposals -> DEBU 47d[0m As expected, current configuration has policy '/Channel/Orderer/BlockValidation'
2017-06-06 13:23:44.913 UTC [orderer/common/broadcast] Handle -> INFO 47e[0m Consenter instructed us to shut down
{code}

[~kchristidis] [~jyellick] would you say the above is related to this JIRA ?

FYI [~Ratnakar];;;","07/Jun/17 12:53 AM;kchristidis;[~muralisr]: It isn't. (That issue doesn't involve restarting.) Seems like a configuration issue on that test, left a comment on 4415.;;;","07/Jun/17 12:55 AM;muralisr;[~kchristidis] ok...its curious that 4415 issue is intermittent. If its config related, would have expected to hit everytime. ;;;","07/Jun/17 12:58 AM;kchristidis;Not really. We are bringing up two clusters (Kafka and ZK), and both need to go through leader election and assignments, but we're pushing transactions to them right away. This is equivalent to someone tackling you when you haven't even entered the locker room.;;;","09/Jun/17 6:11 AM;scottz;Regardless of the control knobs settings, if the ZKs and KBs are not ready, with an elected leader, then shouldn't the orderers respond with SERVICE_UNAVAILABLE?;;;","09/Jun/17 6:13 AM;kchristidis;They will. But they will keep retrying to establish connection according to the control knobs.;;;","09/Jun/17 11:00 PM;weeds;what are that appropriate gerrit that tie to 4136?

 ;;;","09/Jun/17 11:01 PM;weeds;I think they are 10257, 10319, 10323, and 100379?  just want to make sure we have in comments.

 ;;;","09/Jun/17 11:44 PM;kchristidis; The changesets are:

[https://gerrit.hyperledger.org/r/#/c/10257/]

[https://gerrit.hyperledger.org/r/#/c/10319/]

[https://gerrit.hyperledger.org/r/#/c/10323/]

I've also added those to their respective JIRA items (subtasks to this one):

https://jira.hyperledger.org/browse/FAB-4357

https://jira.hyperledger.org/browse/FAB-4408

https://jira.hyperledger.org/browse/FAB-4457;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Document access control policies for SCCs,FAB-4137,17055,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,angelo.decaro,elli-androulaki,elli-androulaki,24/May/17 10:33 PM,23/Jan/20 4:11 AM,28/Oct/23 2:59 AM,23/Jan/20 4:11 AM,,,,,,fabric-docs,,,,,,,3,stale-item,,,,,,,Ensure that the ac policies governing the system chaincodes are properly documented.,,ChristopherFerris,elli-androulaki,joe-alewine,sykesm,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzx0br:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,ChristopherFerris,elli-androulaki,joe-alewine,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"29/May/17 12:09 PM;jimthematrix;if important information such as this is not documented, shouldn't it a bug? why is it a story?

I'm changing to a bug. If any concerns, feel free to change back.;;;","30/May/17 2:40 AM;ChristopherFerris;Why is this included in review-needed if it is a documentation improvement? This is supposed to be for changes that affect production code only.;;;","24/Mar/18 5:30 AM;joe-alewine;Has this been superseded by https://jira.hyperledger.org/browse/FAB-6546?;;;","23/Jan/20 4:11 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove time-related expiration check from identity validation,FAB-4138,17056,,Bug,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,angelo.decaro,elli-androulaki,elli-androulaki,24/May/17 10:41 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,30/May/17 7:39 PM,v1.0.0-alpha2,,,v1.0.0,,fabric-crypto,,,,,,,0,,,,,,,,"This is related to the v1.0 workaround for FAB-3678.

 ",,Clayton Sims,elli-androulaki,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABC-430,,,,,FAB-3678,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx2gf:",,,,,,,,,,,,,,,,,,,,,,,,,,,Clayton Sims,elli-androulaki,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"25/May/17 10:11 PM;Clayton Sims;Who should be assigned this bug?   Given its priority highest we should update daily

 ;;;","26/May/17 3:10 AM;elli-androulaki;Hi Clayton; was just awaiting for consensus for the need of its existence in discussion of FAB-3678.

The fix is very easy; assigned it to [~angelo.decaro].;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Timeout issue – it is taking too much time for the orderer to sync block back to the peers on HSBN (runs Alpha1) using JavaSDK (69812415ba6ceeb09e39c08443bec2f284d997a1),FAB-4139,17057,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,mastersingh24,skarumba,skarumba,24/May/17 11:02 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,07/Jun/17 6:19 AM,v1.0.0-alpha1,,,v1.0.0,,fabric-orderer,fabric-peer,,,,,,0,HSBN,java-SDK,,,,,,"We are experiencing a timeout issue on HSBN (running Fabric Alpha1 with setup 2 peers, 2 CAs and 3 orderer). It is taking too much time for the order to sync block back to the peers. It just freezes after sending payload to orderer. Each time this happens, we restart the peers to pick up the commit block. Of course, this is not a feasible solution. Jim and Murali team are aware of this issue. 
There is nothing we can debug or see in our end. We have already taken Jim and Paul what we have done and has shown to them also the peers were able to pick up committed block after restarting the peers. In our end, we cannot see any error information. It is very difficult for us to tell this particular challenge is related to either Node or Java SDK or HSBN issue. 
We would like to understand why it takes so long the peers to sync up with the block. And, is it possible to increase “the block commit time” so that we monitor how it behaves?
Please note that we don’t have any problem in a local machine (4 peers, 2 CAs and one orderer) and SL VM - everything works!",,kchristidis,mastersingh24,muralisr,praveen.j,rickr,skarumba,weeds,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx2b3:",,,,,,,,,,,,,,,,,,,,,,,,,,,kchristidis,mastersingh24,muralisr,praveen.j,rickr,skarumba,weeds,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"25/May/17 12:19 AM;rickr;The java sdk is not the issue here from what I've seen. I removed it from the components.  We need fabric developers to address this. Should they determine something the SDK is doing please restore and I look into it.

 ;;;","01/Jun/17 12:46 PM;kchristidis;Should this be labeled as a duplicate of FAB-3310?;;;","01/Jun/17 4:45 PM;mastersingh24;[~kchristidis]  - it seems likely that might be the issue;;;","02/Jun/17 3:11 AM;muralisr;[~mastersingh24] [~kchristidis] now that grpc has been upgraded successfully FAB-3310 is partially fixed (awaiting the fabric-sdk-node task). But this uses java SDK, not node. Will this too be fixed by FAB-3310 ?;;;","06/Jun/17 12:23 AM;mastersingh24;I'll look at the keepalive stuff for Java;;;","06/Jun/17 9:17 PM;weeds;Given last comment- assigned to Gari, if not accurate, please move appropriately.;;;","07/Jun/17 6:19 AM;mastersingh24;[~skarumba] - https://jira.hyperledger.org/browse/FAB-4305  should have fixed this.  I'm going to close this but please reopen if this fails with the latest images;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
bootstraph.sh leaves user puzzled in case of error,FAB-4140,17058,,Story,Closed,FAB,Fabric,software,denyeart,,,High,Won't Do,lehors,lehors,lehors,24/May/17 11:32 PM,14/Jan/20 3:07 AM,28/Oct/23 2:59 AM,14/Jan/20 3:07 AM,v1.0.0-alpha1,v1.0.0-alpha2,,Future,,fabric-samples,,,,,,,0,quality,stale-item,,,,,,"The Getting Started doc relies on users executing a script that's pulled off github to get the environment set up. However, the script is really crude. It fails to detect errors that might happen halfway and stop if there is any. Instead it continues as if nothing went wrong. And when an error occurs it fails to provide the user with any useful info that could help them understand what might have gone wrong.

For instance, here is what I get on a windows box using cygwin:

$ ./bootstrap.sh
 % Total % Received % Xferd Average Speed Time Time Time Current
 Dload Upload Total Spent Left Speed
 100 1193 0 1193 0 0 1918 0 --:--:-- --:--:-- --:--:-- 2153

gzip: stdin: not in gzip format
 tar: Child returned status 1
 tar: Error is not recoverable: exiting now
 ./bootstrap.sh: line 6: cd: release/cygwin_nt-6.1-wow-i686: No such file or directory
 sh: download-dockerimages.sh: No such file or directory

 ",,lehors,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzxwrr:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,lehors,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"25/May/17 11:50 PM;lehors;The improved bootstrap.sh [[https://gerrit.hyperledger.org/r/#/c/9795/]] makes it:
 # print out various messages to let the user know what it is doing,
 # print out error messages to let the user know what went wrong if anything
 # stop at the first error

Here is what a successful run looks like:
{code:java}
$ ./bootstrap.sh
Determining your platform...
ARCH set to: windows-amd64

Downloading corresponding tarball: fabric-binary-windows-amd64-1.0.0-alpha2.tar.gz ...
from: https://nexus.hyperledger.org/content/repositories/releases/org/hyperledger/fabric/fabric-binary/windows-amd64-1.0.0-alpha2/
% Total % Received % Xferd Average Speed Time Time Time Current
Dload Upload Total Spent Left Speed
100 6185k 100 6185k 0 0 1357k 0 0:00:04 0:00:04 --:--:-- 1381k
Done.

Unpacking fabric-binary-windows-amd64-1.0.0-alpha2.tar.gz ...
Done.

Downloading Docker images ...
Pull CA IMAGES
Pull FABRIC TAG
===> Pulling fabric Images
==> FABRIC IMAGE: peer

x86_64-1.0.0-alpha2: Pulling from hyperledger/fabric-peer
Digest: sha256:b18560d09a1992a7bbcfed5c14849af3c374aebce51cefc4fe8fd7cc81402a09
Status: Image is up to date for hyperledger/fabric-peer:x86_64-1.0.0-alpha2
==> FABRIC IMAGE: orderer
...
x86_64-1.0.0-alpha2: Pulling from hyperledger/fabric-ca
Digest: sha256:cb747cf53336b2655e33bd7fdc3451a120e7011444a13760aded60b61153f82c
Status: Image is up to date for hyperledger/fabric-ca:x86_64-1.0.0-alpha2

===> List out hyperledger docker images
hyperledger/fabric-couchdb latest 3d89ac4895f9 10 days ago 1.515 GB
...
hyperledger/fabric-ccenv x86_64-1.0.0-alpha2 c984ae2a1936 10 days ago 1.295 GB
hyperledger/fabric-baseos x86_64-0.3.0 c3a4cf3b3350 3 months ago 161 MB
Done.

{code}
And below is what the output looks like in various error cases:
{code:java}
$ ./bootstrap.sh
Determining your platform...
ARCH set to: cygwin_nt-6.1-wow-i686

Downloading corresponding tarball: fabric-binary-cygwin_nt-6.1-wow-i686-1.0.0-alpha2.tar.gz ...
from: https://nexus.hyperledger.org/logs/repositories/releases/org/hyperledger/fabric/fabric-binary/cygwin_nt-6.1-wow-i686-1.0.0-alpha2/
% Total % Received % Xferd Average Speed Time Time Time Current
Dload Upload Total Spent Left Speed
0 0 0 0 0 0 0 0 --:--:-- --:--:-- --:--:-- 0
curl: (22) The requested URL returned error: 404 Not Found

** ERROR: Download failed,
either ARCH was guessed wrong or the corresponding tarball is missing:
https://nexus.hyperledger.org/logs/repositories/releases/org/hyperledger/fabric/fabric-binary/cygwin_nt-6.1-wow-i686-1.0.0-alpha2/fabric-binary-cygwin_nt-6.1-wow-i686-1.0.0-alpha2.tar.gz
{code}
{code:java}
$ ./bootstrap.sh
Determining your platform...
ARCH set to: windows-amd64

Downloading corresponding tarball: fabric-binary-windows-amd64-1.0.0-alpha2.tar.gz ...
from: https://nexus.hyperledger.org/content/repositories/releases/org/hyperledger/fabric/fabric-binary/windows-amd64-1.0.0-alpha2/
% Total % Received % Xferd Average Speed Time Time Time Current
Dload Upload Total Spent Left Speed
100 6185k 100 6185k 0 0 1051k 0 0:00:05 0:00:05 --:--:-- 1303k
Done.

Unpacking fabric-binary-windows-amd64-1.0.0-alpha2.tar.gz ...
Done.

Downloading Docker images ...
** ERROR: release/windows-amd64/download-dockerimages.sh not found in tarball{code}
 
{code:java}
$ ./bootstrap.sh
Determining your platform...
ARCH set to: windows-amd64

Downloading corresponding tarball: fabric-binary-windows-amd64-1.0.0-alpha2.tar.gz ...
from: https://nexus.hyperledger.org/content/repositories/releases/org/hyperledger/fabric/fabric-binary/windows-amd64-1.0.0-alpha2/
Done.

Unpacking fabric-binary-windows-amd64-1.0.0-alpha2.tar.gz ...

gzip: stdin: unexpected end of file
tar: Child returned status 1
tar: Error is not recoverable: exiting now
** ERROR: Unpacking tarball failed.{code}
 ;;;","14/Jan/20 3:06 AM;lehors;I still think the current behavior is bad but I have seen no evidence from the maintainers to address the issue, quite the contrary actually, so I will close this now.;;;","14/Jan/20 3:07 AM;lehors;Lack of interest from the maintainers to address this issue.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Missing param in InitCmdFactory(),FAB-4142,17060,,Bug,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,baohua,baohua,baohua,25/May/17 12:12 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,25/May/17 10:24 AM,,,,v1.0.0,,fabric-peer,,,,,,,0,Endorser,,,,,,,"As reported:

Building build/docker/bin/peer
# [github.com/hyperledger/fabric/peer/channel|http://github.com/hyperledger/fabric/peer/channel]
peer/channel/deliverclient.go:118: not enough arguments in call to InitCmdFactory
make: *** [build/docker/bin/peer] Error 2",,baohua,bsmita,harsha544,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxws7:",,,,,,,,,,,,,,,,,,,,,,,,,,,baohua,bsmita,harsha544,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"25/May/17 12:20 AM;baohua;https://gerrit.hyperledger.org/r/#/c/9757/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Master is broken due to compilation error,FAB-4143,17061,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,25/May/17 12:46 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,25/May/17 1:14 AM,,,,,,,,,,,,,0,,,,,,,,"
14:43:18 cd unit-test && docker-compose down
14:43:19 The TEST_PKGS variable is not set. Defaulting to a blank string.
14:43:21 Building build/docker/bin/peer
14:43:38 # github.com/hyperledger/fabric/peer/channel
14:43:38 peer/channel/deliverclient.go:118: not enough arguments in call to InitCmdFactory
14:43:39 Makefile:182: recipe for target 'build/docker/bin/peer' failed
14:43:39 make: *** [build/docker/bin/peer] Error 2
14:43:40 Build step 'Execute shell' marked build as failure
14:43:40 $ ssh-agent -k


https://jenkins.hyperledger.org/job/fabric-verify-x86_64/12118/console",,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxwsf:",,,,,,,,,,,,,,,,,,,,,,,,,,,yacovm,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Inovke CC should allow version specified.,FAB-4144,17062,,Story,Closed,FAB,Fabric,software,denyeart,,,High,Won't Do,muralisr,rickr,rickr,25/May/17 12:59 AM,15/Jan/20 6:09 AM,28/Oct/23 2:59 AM,15/Jan/20 6:09 AM,,,,,,fabric-docs,,,,,,,0,stale-item,,,,,,,"User has chaincode at a certain version and in an update to the chaincode needs to ensure that client code using this chaincode is now been addressed so it works with this version should expect code to specify the version and if that version is different should fail with something clearly stating wrong expected version.
 Should not just fail mysteriously because it was not adjusted to the new chaincode or worse yet succeed and write wrong information to the ledger.
 Imagines many organization with  many peers and developers building on CC ... current handling of this scenario will not scale.",,binhn,ChristopherFerris,mastersingh24,muralisr,pandrejko,rickr,troyronda,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzxwsn:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,binhn,ChristopherFerris,mastersingh24,muralisr,pandrejko,rickr,troyronda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"26/May/17 9:23 AM;ChristopherFerris;It isn't clear that this is a defect so much as an improvement disguised as a defect.;;;","26/May/17 11:11 AM;muralisr;[~ChristopherFerris] Agree this is utmost an improvement.;;;","26/May/17 6:33 PM;mastersingh24;Not sure what the action to take here is other than we need to better explain in the docs how upgrades, versions, etc actually work;;;","26/May/17 6:38 PM;mastersingh24;I also think this is somewhat related to https://jira.hyperledger.org/browse/FAB-3326 in that it's unclear whether people want to have multiple versions available at the same time or to actually just replace the old with the new;;;","26/May/17 8:34 PM;muralisr;Would also add that rarely do end users check for version of a service in the same call they uses the service. So we could leave it to the application/SDK to keep tab of version as desired.;;;","27/May/17 12:06 AM;binhn;-1

User gets what being instantiated on the channel, and today, we only allow 1 version of a chaincode to be instantiated on a channel at a time. Let's not make it more complicated.;;;","29/May/17 12:00 PM;jimthematrix;[~mastersingh24] [~muralisr] [~binhn] I don't think [~rickr] was asking for multiple versions to be supported at one time, his main concerns is if a client app got out of sync with chaincode, peer should have a clearer indication of such a situation. And the most straightforward way is for the client to specify what it believes is the latest version, and have the peer give an error like ""this version is not the currently active one any longer"" if the client sent the wrong version.

The peer already has all the information to make such a judgement, and the protobuf definite is already in place (currently the version field in ChaincodeInvocationSpec is just ignored during invocation).

I don't feel strongly about this one. And agree it's more of an enhancement. But want to clarify the intention.
;;;","31/May/17 1:18 AM;ChristopherFerris;Ok, since the general trend had been towards improving documentation to explain what the system does, rather than make functional changes at this stage, suggest we do just that and turn this over to the documentation team.

Someone with domain knowledge should provide the scaffolding of the docs for cleanup by Anthony and team.

Removed review-needed and changed the component. If someone wants to add a JIRA to make a functional change post 1.0 that is also fine.;;;","15/Jan/20 6:09 AM;pandrejko;This issue is addressed by the new cc lifecycle in Fabric 2.0;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
peer chaincode install panics if GOPATH not set,FAB-4146,17064,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,25/May/17 2:00 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,25/May/17 6:29 PM,v1.0.0-alpha2,,,,,fabric-peer,,,,,,,0,,,,,,,,"Panics with:
{code}
panic: runtime error: index out of range

goroutine 1 [running]:
panic(0xc74f20, 0xc4200120a0)
/opt/go/src/runtime/panic.go:500 +0x1a1
github.com/hyperledger/fabric/core/chaincode/platforms/golang.(*Platform).ValidateSpec(0x13c0f90, 0xc4202ea0a0, 0x13c0f90, 0x0)
/opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/platforms/golang/platform.go:87 +0x36d
github.com/hyperledger/fabric/peer/chaincode.checkSpec(0xc4202ea0a0, 0x6, 0xc42017081c)
/opt/gopath/src/github.com/hyperledger/fabric/peer/chaincode/common.go:51 +0xf1
github.com/hyperledger/fabric/peer/chaincode.getChaincodeDeploymentSpec(0xc4202ea0a0, 0xc4202ea001, 0x0, 0x0, 0x0)
/opt/gopath/src/github.com/hyperledger/fabric/peer/chaincode/common.go:59 +0x147
github.com/hyperledger/fabric/peer/chaincode.generateChaincode(0xc4201a1d40, 0x7ffd8a4c46de, 0x4, 0x7ffd8a4c46e6, 0x3, 0x0, 0xc4202c2c60, 0xc4202c2c40)
/opt/gopath/src/github.com/hyperledger/fabric/peer/chaincode/install.go:102 +0x1f7
github.com/hyperledger/fabric/peer/chaincode.chaincodeInstall(0xc4201a1d40, 0x0, 0x0, 0xc4202cea80, 0xd5a058, 0x5)
/opt/gopath/src/github.com/hyperledger/fabric/peer/chaincode/install.go:170 +0x181
github.com/hyperledger/fabric/peer/chaincode.installCmd.func1(0xc4201a1d40, 0xc4202238c0, 0x0, 0x6, 0x0, 0x0)
/opt/gopath/src/github.com/hyperledger/fabric/peer/chaincode/install.go:54 +0x54
github.com/hyperledger/fabric/vendor/github.com/spf13/cobra.(*Command).execute(0xc4201a1d40, 0xc420223800, 0x6, 0x6, 0xc4201a1d40, 0xc420223800)
/opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/spf13/cobra/command.go:599 +0x234
github.com/hyperledger/fabric/vendor/github.com/spf13/cobra.(*Command).ExecuteC(0x13699e0, 0xf, 0xc420010075, 0x7)
/opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/spf13/cobra/command.go:689 +0x367
github.com/hyperledger/fabric/vendor/github.com/spf13/cobra.(*Command).Execute(0x13699e0, 0x28, 0xc420010075)
/opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/spf13/cobra/command.go:648 +0x2b
{code}

If the gopath isn't set. ",,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxwt3:",,,,,,,,,,,,,,,,,,,,,,,,,,,yacovm,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
publish html coverage report in ci environment,FAB-4149,17072,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,rameshthoomu,rameshthoomu,25/May/17 4:51 AM,21/Jul/18 3:57 AM,28/Oct/23 2:59 AM,03/Jun/17 5:44 AM,v1.0.0-alpha2,,,v1.0.0,,fabric-build,,,,,,,0,build-system,quality,,,,,,"publish html coverage report in CI environment using html publisher. HTML report provides complete details on lines covered and shows you the list of lines not covered. See the sample HTML report generated in sandbox CI.

https://jenkins.hyperledger.org/sandbox/job/fabric-verify-x86_64/14/HTML_Report/",Jenkins CI,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzxwtj:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"03/Jun/17 5:44 AM;rameshthoomu;Submitted patch and it has been merged. Now fabric-sdk-java verify, merge and release jobs generate jacoco code coverage report.. Click on ""coverage trend"" on build home page in https://jenkins.hyperledger.org/view/fabric-sdk-java/job/fabric-sdk-java-verify-x86_64/ and https://jenkins.hyperledger.org/view/fabric-sdk-java/job/fabric-sdk-java-merge-x86_64/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
track downloads of Getting Started,FAB-4150,17079,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ChristopherFerris,ChristopherFerris,ChristopherFerris,25/May/17 6:01 AM,21/Jul/18 3:53 AM,28/Oct/23 2:59 AM,26/May/17 12:11 AM,v1.0.0-alpha2,,,v1.0.0,,fabric-docs,,,,,,,0,Documentation,,,,,,,"track downloads of getting started by using google shortener 

[https://goo.gl/NIKLiU.info] will have analytics",,ChristopherFerris,,,,,,,,,,,,,,,,,,,,3600,3600,,0%,3600,3600,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzxwun:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
release structure should be flat,FAB-4152,17093,,Story,Closed,FAB,Fabric,software,denyeart,,,High,Invalid,,ChristopherFerris,ChristopherFerris,25/May/17 8:56 AM,21/Jul/18 3:56 AM,28/Oct/23 2:59 AM,20/Jul/18 11:05 PM,v1.0.0-alpha2,,,v1.0.0,,fabric-build,,,,,,,0,Documentation,,,,,,,"The current ""release"" structure which is downloaded as a function of the e2e_cli example is rather convoluted, and unnecessarily confusing.

It should offer a flat structure e.g.

 

/bin

/bin/configtxgen

/bin/cryptogen

/bootstrap.sh

/chaincode

/chaincode/go

/chaincode/go/chaincode_example02

/chaincode/go/chaincode_example02/chaincode_example02.go

/channel-artifacts

/channel-artifacts/.gitkeep

/configtx.yaml

/crypto-config.yaml

/docker-compose-cli.yaml

/docker-compose-couch.yaml

/docker-compose-e2e-template.yaml

/download-dockerimages.sh

/network_setup.sh

/scripts

/scripts/script.sh

 

We could add a top-level directory to hold all of this that identifies clearly what the contents are:

e.g.. fabric-e2e-$ARCH-v1.0.0-<tag>

and such that the tarball is named

fabric-e2e-$ARCH-v1.0.0-<tag>.tar.gz

 We create the fabric/release tree as a function of make release, what is less clear to me is how we derive the tar balls we store in nexus. Seems to me that that should be something we fix.",,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzxwv3:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"06/Apr/18 8:34 PM;ChristopherFerris;no longer relevant;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Getting error on peer node start command.Not able to run ordering service,FAB-4153,17099,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid,,manali_test,manali_test,25/May/17 8:58 PM,27/Jul/19 11:30 PM,28/Oct/23 2:59 AM,27/Jul/19 11:30 PM,,,,v1.0.0,,,,,,,,,0,,,,,,,,!image-2017-05-25-17-27-10-428.png!,,manali_test,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"25/May/17 8:57 PM;manali_test;image-2017-05-25-17-27-10-428.png;https://jira.hyperledger.org/secure/attachment/10870/image-2017-05-25-17-27-10-428.png",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxwvb:",,,,,,,,,,,,,,,,,,,,,,,,,,,manali_test,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"27/Jul/19 11:30 PM;mastersingh24;too old;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Peer cannot detect running, but non functional orderer",FAB-4155,17111,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,yacovm,ptippett,ptippett,25/May/17 10:28 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,12/Jun/17 8:25 PM,v1.0.0-alpha2,,,v1.0.0,,fabric-peer,,,,,,,5,,,,,,,,"The peer can detect if the orderer drops the connection and will move to a new orderer in this case.  However, what the peer won't detect is if the orderer is running, but not responding to requests.  

The peer should include logic such that after some number of errors or if it's not getting responses, it should move to another orderer and retry.

 

The peer should also log something if it detects a failed orderer.

 

[~C0rWin] FYI",,binhn,C0rWin,ChristopherFerris,jyellick,kchristidis,mastersingh24,muralisr,ptippett,yacovm,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,FAB-4518,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxwvr:",,,,,,,,,,,,,,,,,,,,,,,,,,,binhn,C0rWin,ChristopherFerris,jyellick,kchristidis,mastersingh24,muralisr,ptippett,yacovm,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"02/Jun/17 1:54 AM;binhn;This is actually more complex as some peers aren't directly connected to orderer and some are. For those connected directly, they don't know whether no transactions submitted or not responding orderer, so they would have to query other peers (which other peers?) to compare block height to know whether they're really behind...

Perhaps a more reasonable approach would be to have the orderer checks itself with a ""nanny"" thread, and if the nanny detects that the orderer not responding, restart the ""worker"" thread(s) or self terminate. 

[~C0rWin] [~kchristidis]  thoughts?

In any case, I would prefer to defer this to post 1.0, [~ptippett]?;;;","02/Jun/17 7:28 AM;C0rWin;[~binhn] At the gossip level we have an indication of current ledger height of other peers so there is no need to go and explicitly ask for ledger height of other peers. However I'd agree that exposing such information to delivery service such that it could make decision of healthiness of ordering service pretty intrusive change and better to go after v1.0. ;;;","02/Jun/17 10:31 AM;ptippett;I'd like to discuss this tomorrow with [~kchristidis] as well.  We have been discussing the order being able to fail over to another kafka as well and at one point were discussing the orderer self terminating to allow a peer to switch.  Here's the issue: https://jira.hyperledger.org/browse/FAB-4121

I don't believe given the latest discussion in issue 4121 that the peer can detect a failed orderer given that it would return a 503.  If I'm wrong, then we're fine.  If not, I'm still concerned that we'll have peers failing and we'd be unable to determine this.

Our one option I guess would be to put automation in place to detect the proposed log message the orderer would spit out in this case and restart it ourselves to force the peer to try another orderer.;;;","02/Jun/17 11:55 PM;kchristidis;Paul: thanks for including the link to FAB-4121 which is relevant.

I was originally thinking that a 503 response code returned from the orderer (when the orderer-Kafka link is broken), that is then parsed by the peer and, say, makes it switch to another orderer after a number of retries would generally be the way to go.

Artem/Yacov suggested that instead of sending a 503 back, we (i.e. the orderer) can just close the gRPC stream, which will force the peer to switch to another orderer.

The benefit of this: no new logic needs to be added to the peer.

The drawback of this: semantically, I still think a 503 response is the way to go. But closing the stream is probably the most realistic approach for now. (From the orderer side, we still need to add the same code. As I wrote [here|https://jira.hyperledger.org/browse/FAB-4121?focusedCommentId=24824&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-24824], we'll still need to expand the `ConsenterSupport` interface to allow the `deliverServer` to tap into the chain and check its status.)

Would that satisfy you? Note that we'll still need approval from the other maintainers before we go ahead with this.

Binh, Artem, Yacov: feel free to correct me, or expand more on the above.

FYI [~jyellick] as well

 ;;;","03/Jun/17 12:10 AM;yacovm;I think we can make the peer side code logic make the client choose a different orderer upon receiving a 503.;;;","03/Jun/17 12:29 AM;jyellick;>  (From the orderer side, we still need to add the same code. As I wrote here, we'll still need to expand the `ConsenterSupport` interface to allow the `deliverServer` to tap into the chain and check its status.)

Agree with this assessment.  The difficulty in closing the stream vs returning 503 seems pretty equivalent from an orderer perspective.

>  But closing the stream is probably the most realistic approach for now.

Obviously all code diffs are problematic, but, do we really think adding 503 handling on the peer side (equivalent to closing the stream) would be invasive?;;;","03/Jun/17 12:37 AM;ptippett;I'm OK as long as the peer can detect the failed state and knows to switch to another orderer.  Per 4121, the orderer would still stay up right since a failure to communicate on 1 channel doesn't necessarily mean it can't communicate on any.  ;;;","03/Jun/17 1:58 AM;binhn;[~yacovm]
{quote}I think we can make the peer side code logic make the client choose a different orderer upon receiving a 503.
{quote}
+1  (and I think it's local check and call existing code)

Closing the connection would be a tactical solution since the peer already has logic to handle, so it would be no risk on the peer side. 

It is still not clear with 503 on a channel that switching orderer would be best solution if there are other functional channels from the same orderer that the peer is on. If the failure was due to issues with kafka partition of the channel, then other orderers would have the same issue. And in such case, we would just report error rather than trying to switch.  I wonder if we should have more granularity in the status code to indicate that it's kafka's issue and don't bother switching orderer. We could use a different status like 502 Bad Gateway (The server, while acting as a gateway or proxy, received an invalid response from the upstream server it accessed in attempting to fulfill the request.);;;","03/Jun/17 2:18 AM;kchristidis;Alright, between all of us involved here we can get the necessary 5 votes to proceed with the 503 approach. However I'll post to the #maintainers channel to give folks the chance to raise objections. Please add your +/- 1 here.

+1 from me.;;;","03/Jun/17 3:20 AM;binhn;+1 but see my additional comment https://jira.hyperledger.org/browse/FAB-4155?focusedCommentId=25143&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-25143;;;","03/Jun/17 4:10 AM;kchristidis;Binh: Agreed, but I suggest we encode the ""something's up"" functionality for now and tag it with a 503, and we can refine the codes post-1.0.;;;","05/Jun/17 8:40 PM;mastersingh24;[~binhn] - you are only going to get a 503 when you try to perform an action on a specific channel - for example when the deliver client starts up.  But in this way, when delivery client starts for a channel, if it gets a 503 it would know to try another orderer endpoint.  I don't think this would mean we need to close any existing connections to the orderer where the channel was not available if it is functioning correctly.  That's likely a different issue which would need to be addressed by periodically checking to see if there's an issue or if there just does not happen to be any traffic on a given channel.  I suppose we could technically combine the two in such a way that if the orderer shim detects an issue for a channel, in theory it could broadcast a 503 to any existing streams expecting data for that channel but we'd need to consider the scope of such a change (and whether or not what I just wrote even makes sense).

 

I do think we need to address this issue though;;;","06/Jun/17 1:44 AM;ChristopherFerris;this has met the threshold of votes needed to be merged. It may be merged when ready.;;;","06/Jun/17 9:31 PM;muralisr;[~kchristidis] [~yacovm] [~C0rWin] not clear who is going to create the CR for this ?  The JIRA is begging to be assigned/owned :-);;;","06/Jun/17 10:12 PM;C0rWin;[~muralisr] I believe this related to FAB-4136, will take care to sync up with [~kchristidis] to decide who is going to provide CR for this.;;;","07/Jun/17 12:02 AM;kchristidis;Jason and I are working out the details for this. Will update when we have a resolution.;;;","08/Jun/17 12:12 AM;muralisr;[~kchristidis] see this is assigned to [~yacovm] ... should it be yours then ?;;;","08/Jun/17 12:15 AM;yacovm;we decided to split the work, I'll handle the peer side. ;;;","08/Jun/17 8:44 AM;yacovm;https://gerrit.hyperledger.org/r/#/c/10317/ ;;;","10/Jun/17 12:09 AM;kchristidis;I think technically this should be marked as done when FAB-4457 gets merged?

If you disagree feel free to close now.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Omitting FileKeyStore in configtx.yaml causes a segmentation violation,FAB-4157,17141,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,pd93,pd93,26/May/17 12:18 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,05/Jun/17 8:03 AM,v1.0.0-alpha2,,,v1.0.0,,fabric-orderer,,,,,,,0,configuration,,,,,,,"*To Reproduce:* Create a _configtx.yaml_ configuration file where the _FileKeyStore_ and _KeyStore_ parameters are omitted (not unset, but actually not there at all).
{code:java}
- &Org1
    ...
    FileKeyStore:    <-- omit these
        KeyStore:    <-- 2 lines{code}
*Error:*
{code:java}
2017-05-24 15:54:17.588 BST [common/configtx/tool] main -> INFO 001 Loading configuration
panic: runtime error: invalid memory address or nil pointer dereference
[signal SIGSEGV: segmentation violation code=0x1 addr=0x0 pc=0x86ccf6]

goroutine 1 [running]:
github.com/hyperledger/fabric/common/configtx/tool/localconfig.translatePaths(0xc420200230, 0x40, 0xc42023ade0)
    ........../hyperledger/fabric/common/configtx/tool/localconfig/config.go:268 +0x56
{code}
*Expected Behaviour:* I feel that omitting these entries should be treated the same as unsetting them. ie. It will act as if the values are set to blank strings. At the very least, this error should be caught and a detailed error/warning should be displayed to the user.

 ",,jyellick,latitiah,pd93,vpaprots,zuochuanmin,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxx2n:",,,,,,,,,,,,,,,,,,,,,,,,,,,jyellick,latitiah,pd93,vpaprots,zuochuanmin,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"02/Jun/17 5:53 AM;latitiah;This problem still exists in commit: *506cdda3d33bdac0f6361408ac0ed157c97c1e88*

  
{code:java}
$ configtxgen -profile SampleInsecureSolo -outputBlock mychannel.block -channelID mychannel
2017-06-01 20:50:47.915 UTC [common/configtx/tool] main -> INFO 001 Loading configuration
panic: runtime error: invalid memory address or nil pointer dereference
[signal SIGSEGV: segmentation violation code=0x1 addr=0x0 pc=0x4acd79]
goroutine 1 [running]:
panic(0x8fa160, 0xc42000e0d0)
 /opt/go/src/runtime/panic.go:500 +0x1a1
github.com/hyperledger/fabric/common/configtx/tool/localconfig.translatePaths(0xc4201d0200, 0x63, 0xc4204352c0)
 /opt/gopath/src/github.com/hyperledger/fabric/common/configtx/tool/localconfig/config.go:268 +0x69
github.com/hyperledger/fabric/common/configtx/tool/localconfig.(*Profile).completeInitialization(0xc420424f30, 0xc4201d0200, 0x63)
 /opt/gopath/src/github.com/hyperledger/fabric/common/configtx/tool/localconfig/config.go:208 +0xa4
github.com/hyperledger/fabric/common/configtx/tool/localconfig.Load(0x7ffca2da76c2, 0x12, 0x0)
 /opt/gopath/src/github.com/hyperledger/fabric/common/configtx/tool/localconfig/config.go:195 +0x63f
main.main()
 /opt/gopath/src/github.com/hyperledger/fabric/common/configtx/tool/configtxgen/main.go:328 +0x4fa
{code}
 ;;;","03/Jun/17 1:08 AM;jyellick;[~vpaprots] I have this distant memory that at some point you mentioned that these fields could be entirely removed from the {{configtx.yaml}}?  In general, we should not require any signing material for configtxgen, but maybe there is some technical reason it is still here?;;;","04/Jun/17 6:51 AM;vpaprots;omitting the bccsp config stanza should default to DefaultOpts..

Not sure if related.. DefaultOpts behaves badly right now, one can modify the 'original' copy of defaultopts. thats.. bad. Fix here: [https://gerrit.hyperledger.org/r/#/c/10101/3] . Doesnt pass builds yet, investigating.. ;;;","04/Jun/17 10:37 AM;jyellick;I was more curious how much of the BCCSP stuff was actually required for {{configtxgen}}.  Since it is not doing any signing, and just packaging certs.;;;","04/Jun/17 1:55 PM;jyellick;After some investigation, and discussion with [~vpaprots] it's been concluded that the BCCSP section is entirely unnecessary for {{configtx.yaml}}.

Fix in https://gerrit.hyperledger.org/r/#/c/10127/;;;","01/Aug/17 10:53 AM;zuochuanmin;I feel this issue can be found frequently in version 1.0.0 when I perform fabric-sample or /fabric/examples/e2e_cli. 
I don't know why. 

--------------------------------------------------------------------------------------------------------------------------------------------------------------------
[root@SZB-L0058233 e2e_cli]# peer channel create -o localhost:7050 -c ch90 -f channel-artifacts/channel.tx 
2017-08-01 09:51:39.496 CST [channelCmd] InitCmdFactory -> INFO 001 Endorser and orderer connections initialized
fatal error: unexpected signal during runtime execution
[signal SIGSEGV: segmentation violation code=0x1 addr=0x63 pc=0x2ab316fb860d]

runtime stack:
runtime.throw(0xdc37a7, 0x2a)
        /opt/go/src/runtime/panic.go:566 +0x95
runtime.sigpanic()
        /opt/go/src/runtime/sigpanic_unix.go:12 +0x2cc

goroutine 28 [syscall, locked to thread]:
runtime.cgocall(0xb08d50, 0xc4200285f8, 0xc400000000)
        /opt/go/src/runtime/cgocall.go:131 +0x110 fp=0xc4200285b0 sp=0xc420028570
net._C2func_getaddrinfo(0x1f98c20, 0x0, 0xc42037db30, 0xc420136410, 0x0, 0x0, 0x0)
        ??:0 +0x68 fp=0xc4200285f8 sp=0xc4200285b0
net.cgoLookupIPCNAME(0x7fff61bc7771, 0x9, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0)
        /opt/go/src/net/cgo_unix.go:146 +0x37c fp=0xc420028718 sp=0xc4200285f8
net.cgoIPLookup(0xc42037ef60, 0x7fff61bc7771, 0x9)
        /opt/go/src/net/cgo_unix.go:198 +0x4d fp=0xc4200287a8 sp=0xc420028718
runtime.goexit()
        /opt/go/src/runtime/asm_amd64.s:2086 +0x1 fp=0xc4200287b0 sp=0xc4200287a8
created by net.cgoLookupIP;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
TestLeaderElectionWithRealGossip fails intermittently,FAB-4158,17143,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,gennadyl,aambati,aambati,26/May/17 12:21 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,10/Jun/17 12:41 AM,v1.0.0-alpha2,,,v1.0.0,,fabric-gossip,,,,,,,0,,,,,,,,"{quote}*15:09:54* unit-tests_1 | — FAIL: TestLeaderElectionWithRealGossip (108.23s)*15:09:54* unit-tests_1 | assertions.go:219:

Error Trace: gossip_service_test.go:364*15:09:54* unit-tests_1 | 
 Error: Should be true*15:09:54* unit-tests_1 | 
 Messages: One leader should be selected*15:09:54* unit-tests_1 | *15:09:54* unit-tests_1 | assertions.go:219:

Error Trace: gossip_service_test.go:374*15:09:54* unit-tests_1 | 
 Error: Not equal: 1 (expected)*15:09:54* unit-tests_1 | != 2 (actual)*15:09:54* unit-tests_1 | 
 Messages: Only for one peer callback function should be called - chanA*15:09:54* unit-tests_1 | *15:09:54* unit-tests_1 | assertions.go:219:

Error Trace: gossip_service_test.go:389*15:09:54* unit-tests_1 | 
 Error: Should be true*15:09:54* unit-tests_1 | 
 Messages: One leader should be selected for chanA*15:09:54* unit-tests_1 | *15:09:54* unit-tests_1 | assertions.go:219:

Error Trace: gossip_service_test.go:397*15:09:54* unit-tests_1 | 
 Error: Not equal: 1 (expected)*15:09:54* unit-tests_1 | != 2 (actual)*15:09:54* unit-tests_1 | 
 Messages: Only for one peer callback function should be called - chanA
*15:09:54* unit-tests_1  | 2017-05-25 15:09:50.142 UTC [gossip/service] configUpdated -> ERRO 7d0 Tried joining channel foo but our org( DEFAULT ), isn't among the orgs of the channel: [ORG1] , aborting.*15:09:54* unit-tests_1  | 2017-05-25 15:09:50.142 UTC [gossip/service] configUpdated -> ERRO 7d1 Tried joining channel A but our org( OrgMSP0 ), isn't among the orgs of the channel: [Org0] , aborting.{quote}
This failure can be found in [https://jenkins.hyperledger.org/job/fabric-verify-x86_64/12181/consoleFull]",,aambati,gennadyl,wlahti,yacovm,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxx2v:",,,,,,,,,,,,,,,,,,,,,,,,,,,aambati,gennadyl,wlahti,yacovm,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"07/Jun/17 5:36 PM;gennadyl;Can't recreate the failure. Will continue to try...;;;","07/Jun/17 6:20 PM;gennadyl;[~aambati] Can you tell me how often you saw this failure?;;;","07/Jun/17 8:54 PM;yacovm;{quote}
15:09:53 unit-tests_1  | 2017-05-25 15:09:14.108 UTC [gossip/election] IsLeader -> DEBU 554 [108 111 99 97 108 104 111 115 116 58 50 48 48 48 56] : Returning false
15:09:53 unit-tests_1  | 2017-05-25 15:09:14.108 UTC [gossip/election] IsLeader -> DEBU 555 [108 111 99 97 108 104 111 115 116 58 50 48 48 48 57] : Returning false
15:09:53 unit-tests_1  | 2017-05-25 15:09:14.503 UTC [gossip/election] waitForInterrupt -> DEBU 556 [108 111 99 97 108 104 111 115 116 58 50 48 48 48 49] : Exiting
15:09:53 unit-tests_1  | 2017-05-25 15:09:14.503 UTC [gossip/election] IsLeader -> DEBU 557 [108 111 99 97 108 104 111 115 116 58 50 48 48 48 49] : Returning true
{quote}

I think the problem is that the leader election module in CI is from some reason configured to run in DEBUG and not in WARNING.
It slows things down and this is probably what caused the failure.
[~wlahti] Any idea why? I thought you did that change back then that makes all our logs in CI run with WARN?;;;","07/Jun/17 9:24 PM;wlahti;Hmmm, that is odd. I see the call to gossip's util.SetupTestLogging() but it definitely appears to be using DEBUG instead of WARNING. I'll try to figure out what's changing the level. ;;;","08/Jun/17 3:27 AM;wlahti;I tried pushing a CR with a gossip/election test change that always fails in order to simulate the behavior and to look at the log level, but it's definitely WARNING. I'm not sure what may have caused this but I don't see the issue in any recent CRs.

[~aambati] Can you take a look and consider marking this item complete if you agree that the issue no longer exists?;;;","08/Jun/17 4:03 AM;yacovm;You don't need to go that far, [~wlahti].
Just run TestLeaderElectionWithRealGossip in gossip/service from the IDE and you'll see :) ;;;","08/Jun/17 4:55 AM;wlahti;Oh hmm, I just saw Election in the name and figured it was a test in gossip/election. Oops!;;;","08/Jun/17 5:59 AM;wlahti;The answer to what's causing it to use the DEBUG log level is easy. Check out the first lines of code in TestLeaderElectionWithRealGossip:
{code:java}
logging.SetLevel(logging.DEBUG, util.LoggingElectionModule)
logging.SetLevel(logging.DEBUG, util.LoggingServiceModule){code}
It was added via: [FAB-2576] Fix LE and gossip integration test;;;","08/Jun/17 6:22 AM;yacovm;Mystery solved then, thanks [~wlahti]!

[~gennadyl] [~C0rWin] ^ ;;;","08/Jun/17 6:22 AM;wlahti;[https://gerrit.hyperledger.org/r/#/c/10309/] removes the two lines mentioned above. ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
improve unit-test to process only packages in tree of changed .go files,FAB-4161,17148,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,tongliofcary,ChristopherFerris,ChristopherFerris,26/May/17 3:36 AM,21/Jul/18 3:54 AM,28/Oct/23 2:59 AM,06/Jun/17 3:14 AM,v1.0.0-alpha2,,,v1.0.0,,fabric-build,,,,,,,0,build-system,,,,,,,improve unit-test to process only packages in tree of changed .go files,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,57600,57600,,0%,57600,57600,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzxx3r:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"26/May/17 3:39 AM;ChristopherFerris;https://gerrit.hyperledger.org/r/#/c/9811/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
60 hours mix long run,FAB-4162,17149,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,dongming,dongming,dongming,26/May/17 3:56 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,05/Oct/17 3:44 AM,,,,v1.0.0,,fabric-quality,,,,,,,0,,,,,,,,"Test Name: FAB-4162 performance benchmark: long run - mix

Component: Performance

Description: performance 60 hour mix long run, 

     chaincode: each channel has one chaincode, sample_cc, instantiated

     transactions: 4 threads, each thread sends 1 invoke followed by a query per second to the anchor peer of an org of each channel for 60 hours as the following:
 # thread 1 sends to org1 peer1 on channel 1
 # thread 2 sends to org2 peer1 on channel 1
 # thread 3 sends to org1 peer1 on channel 2
 # thread 4 sends to org2 peer1 on channel 2

      Each invoke has payload size of 1kb-2kb.

Artifact Location: crypto-config

Network Topology: docker containers; 2 channels, 2 organizations, 2 peers per org, 3 kafka, 3 zookeeps, 3 orderers, 2 ca with TLS enabled

Client Driver: PTE

Input: ./pte_driver.sh userInputs/runCase-chan-longrun-i.txt

 

Output: The benchmark passes if it  completes without any error. The benchmark fails if it encounters error or does not complete, or any query fails.",,dongming,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3771,,,,,,,,,,"1|hzxx3z:",,,,,,Sprint 19 - Quality,,,,,,,,,,,,,,,,,,,,,dongming,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
ConfigTxGen Error Messaging,FAB-4163,17151,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,latitiah,latitiah,26/May/17 5:43 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,03/Jun/17 5:59 AM,v1.0.0-alpha2,,,v1.0.0,,fabric-orderer,,,,,,,0,,,,,,,,"I receive the following error when using the configtxgen tool: 
{{```
configtxgen -profile SampleSingleMSPChannel -outputCreateChannelTx /path/to/configs/mychannel.tx -outputBlock /path/to/configs/orderer.block -channelID mychannel}}
{{2017-05-25 19:35:36.697 UTC [common/configtx/tool] main -> INFO 001 Loading configuration}}
{{panic: runtime error: invalid memory address or nil pointer dereference}}
{{[signal SIGSEGV: segmentation violation code=0x1 addr=0x20 pc=0x4ace5e]}}

{{goroutine 1 [running]:}}
{{panic(0x8cdce0, 0xc42000e0d0)}}
{{ /opt/go/src/runtime/panic.go:500 +0x1a1}}
{{github.com/hyperledger/fabric/common/configtx/tool/provisional.New(0xc420348ed0, 0x0, 0xc4200120c0)}}
{{ /opt/gopath/src/github.com/hyperledger/fabric/common/configtx/tool/provisional/provisional.go:93 +0x7e}}
{{main.doOutputBlock(0xc420348ed0, 0x7ffc401cf705, 0x9, 0x7ffc401cf6c3, 0x36, 0x984bc6, 0x8a)}}
{{ /opt/gopath/src/github.com/hyperledger/fabric/common/configtx/tool/configtxgen/main.go:45 +0x40}}
{{main.main()}}
{{ /opt/gopath/src/github.com/hyperledger/fabric/common/configtx/tool/configtxgen/main.go:331 +0x9c3}}

{{```}}

{{As, it turned out I was attempting to use a channel profile when trying to generate an orderer genesis block. The tool should detect this and clearly state that this is the issue instead of seg-faulting.}}",,jyellick,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxx47:",,,,,,,,,,,,,,,,,,,,,,,,,,,jyellick,latitiah,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"03/Jun/17 1:28 AM;jyellick;Addressed in http://gerrit.hyperledger.org/r/10079;;;","05/Jun/17 12:16 AM;latitiah;Retested and verified that this no longer generates a seg fault. The error message is now:
{code:java}
2017-06-04 15:11:04.211 UTC [common/configtx/tool] main -> CRIT 009 Error on outputBlock: config does not contain an Orderers section, necessary for all config blocks, aborting{code}
In this scenario, the config does in fact contain an Orderers section, but the profile selected does not, so the error is slightly misleading. A better error message would probably be ""config for the selected profile does not contain an Orderers section, necessary for all orderer config blocks, aborting""

I personally view this as a nit, but I wanted to note it nonetheless.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Endorsement Policy Failure message doesn't provide detailed information about why it failed,FAB-4164,17152,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,xixuejia,xixuejia,xixuejia,26/May/17 6:03 AM,21/Jul/18 3:55 AM,28/Oct/23 2:59 AM,10/Jul/18 3:23 AM,v1.0.0-alpha2,,,v1.0.0,,fabric-peer,,,,,,,0,Usability,,,,,,,"When the endorsement policy for `invoke transaction` in fabric-node-sdk integration e2e test, we got the below message. The error message only indicated ENDORSEMENT POLICY FAILURE, but there's no more detailed message indicating what is the expected endorsement policy and actual endorsement the SDK actually acquired and sent to ordering service.

fabric-sdk-node commit: b02f7a060d0002a0c48673acdaf92b09d523f998
 fabric commit:52f194260175c1d96af6eef9101aa8fa47dcfda7

not ok 8 The balance transfer transaction was invalid, code = ENDORSEMENT_POLICY_FAILURE

  —

    operator: fail

    at: eh.registerTxEvent (/opt/gopath/src/github.com/hyperledger/fabric-sdk-node/test/integration/e2e/e2eUtils.js:628:11)

 

*Peer log* - no detailed information for problem debugging
[31m2017-05-31 03:45:51.281 UTC [txvalidator] VSCCValidateTxForCC -> ERRO 7b7[0m VSCC check failed for transaction txid=fd365645470802eda053749e856e33fb25e02e623a472c1fead42b698a5c18b0, error VSCC error: policy evaluation failed, err Failed to authenticate policy
[3
[31m2017-05-31 03:45:51.281 UTC [txvalidator] Validate -> ERRO 7b9[0m VSCCValidateTx for transaction txId = fd365645470802eda053749e856e33fb25e02e623a472c1fead42b698a5c18b0 returned error VSCCValidateTxForCC failed for cc end2endnodesdk, error VSCC error: policy evaluation failed, err Failed to authenticate policy

[33m2017-05-31 03:45:51.281 UTC [statevalidator] ValidateAndPrepareBatch -> WARN 7be[0m Block [3] Transaction index [0] marked as invalid by committer. Reason code [10]

 ",,xixuejia,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzxx4f:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,xixuejia,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"07/Jun/17 1:31 AM;xixuejia;As [~bmos299] commented in [FAB-4248|https://jira.hyperledger.org/browse/FAB-4248?focusedCommentId=25438&page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel#comment-25438], we need better warning/error messages for endorsement policy failure for easier debugging. Hence I marked the fix version to v1.0;;;","10/Jun/17 9:09 AM;xixuejia;https://gerrit.hyperledger.org/r/#/c/10253/;;;","15/Jun/17 1:44 AM;xixuejia;No bandwidth to cover. Changed status to TODO;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Depricate option of stoping peer remotely.,FAB-4166,17154,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,C0rWin,C0rWin,C0rWin,26/May/17 8:29 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,01/Jun/17 8:29 PM,v1.0.0-alpha2,,,v1.0.0,,fabric-peer,,,,,,,7,peer,,,,,,,"Currently one could send a remote command to the peer to take it down. There is no ACL implemented so it presents a big security hole, this option has to be disabled and preventing from making it possible to turn peer down.

{code}
// StopServer stops the server
func (*ServerAdmin) StopServer(context.Context, *empty.Empty) (*pb.ServerStatus, error) {
	status := &pb.ServerStatus{Status: pb.ServerStatus_STOPPED}
	log.Debugf(""returning status: %s"", status)

	pidFile := config.GetPath(""peer.fileSystemPath"") + ""/peer.pid""
	log.Debugf(""Remove pid file  %s"", pidFile)
	os.Remove(pidFile)
	defer os.Exit(1)
	return status, nil
}
{code}",,binhn,C0rWin,ChristopherFerris,mastersingh24,muralisr,troyronda,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxx4v:",,,,,,Sprint 16  - Endorser,,,,,,,,,,,,,,,,,,,,,binhn,C0rWin,ChristopherFerris,mastersingh24,muralisr,troyronda,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"26/May/17 8:39 AM;C0rWin;https://gerrit.hyperledger.org/r/#/c/9845/;;;","26/May/17 10:09 AM;muralisr;[~C0rWin] by the same token wouldn't you want to remove StartServer too ? These are left-overs from 0.6. 

If we remove these, then we can implement the rest (status and log levels) in system chaincodes and can do away with this service altogether.;;;","26/May/17 6:07 PM;mastersingh24;We either need to remove these or add security around them.   Personally, I think we need a new set of administrative functions moving forward so my vote is to actually remove the adminserver altogether

FYI - this is a security issue;;;","26/May/17 8:30 PM;muralisr;[~mastersingh24] +1 for removing these so we don't have a new type of service to add ACL/security to. ;;;","27/May/17 12:01 AM;binhn;related https://jira.hyperledger.org/browse/FAB-820

Unfortunately we didn't get to it, so I agreed that we should remove the entire admin service, not just `peer node stop` because any of them is unsecured. ;;;","27/May/17 2:16 AM;ChristopherFerris;This isn't something we can do in the remaining time. I suggest we flag it and defer post 1.0.;;;","27/May/17 2:22 AM;mastersingh24;We could just change the start / stop functions to be no-ops for now?;;;","27/May/17 2:28 AM;mastersingh24;People will want to use the logging functions as well.

We also really need to move to a model where we don't run everything on the same address:port;;;","28/May/17 6:29 AM;C0rWin;{quote}
This isn't something we can do in the remaining time. I suggest we flag it and defer post 1.0.
{quote}

I think that we cannot keep stop option available for v1.0, while wrt removing/refactoring whole Admin service might be post v1.0.;;;","30/May/17 2:37 AM;ChristopherFerris;This has more than 5 votes, so it is approved for 1.0 inclusion. Note that as I read this, it means JUST removing/disabling the stop function.;;;","30/May/17 7:26 AM;C0rWin;Updated CR: https://gerrit.hyperledger.org/r/#/c/9905/, takes care to remove stop function only.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add REST server component to expose config update computation,FAB-4167,17156,14105,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,26/May/17 9:58 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,03/Jun/17 11:55 AM,,,,v1.0.0,,fabric-orderer,,,,,,,0,,,,,,,,Extend the REST server to support new REST paths for computing config updates.,,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxx53:",,,,,,Sprint 10 - consensus,Sprint 11 - consensus,Sprint 12 - consensus,Sprint 13 - Consensus,Sprint 14 - Consensus,Sprint 15 - Consensus,,,,,,,,,,,,,,,,jyellick,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Document the configtxlater REST server usage,FAB-4168,17157,14105,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,26/May/17 9:59 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,03/Jun/17 2:20 PM,,,,v1.0.0,,fabric-orderer,,,,,,,0,configuration,,,,,,,,,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxx5b:",,,,,,Sprint 10 - consensus,Sprint 11 - consensus,Sprint 12 - consensus,Sprint 13 - Consensus,Sprint 14 - Consensus,Sprint 15 - Consensus,,,,,,,,,,,,,,,,jyellick,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Vendor gorilla/mux REST library,FAB-4169,17158,14105,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,26/May/17 10:01 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,03/Jun/17 11:55 AM,v1.0.0-alpha2,,,v1.0.0,,fabric-orderer,,,,,,,0,,,,,,,,,,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxx5j:",,,,,,Sprint 10 - consensus,Sprint 11 - consensus,Sprint 12 - consensus,Sprint 13 - Consensus,Sprint 14 - Consensus,Sprint 15 - Consensus,,,,1.0,,,,,,,,,,,,jyellick,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
connect to orderer in high frequency will raise memory leak,FAB-4172,17161,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,amamina,amamina,26/May/17 6:45 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,08/Feb/18 1:21 AM,v1.0.0-alpha2,,,v1.1.0,,fabric-peer,,,,,,,0,,,,,,,,"I run Apache JMeter to pressure test fabric, each Request will open a new grpc to peer and orderer, than close grpc connection by golang assert defer. I found that memory increased very fast, and GC not effect. 

Code broadcastClient, err := common.GetBroadcastClient(orderingEndpoint string, tlsEnabled bool, caFile string), this will call grpc.NewClientStream

!image-2017-05-26-17-41-48-581.png!

when defer broadcastClient.Close(), case <-t.Error() will run in;

cs.finish(err) is not called in case <-t.Error(), and there are no other places in fabric to release cs, this raise memory leak.",Ubuntu 16.04 X64,amamina,binhn,bmos299,ChristopherFerris,Clayton Sims,jeffgarratt,mastersingh24,muralisr,wlahti,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"26/May/17 6:41 PM;amamina;image-2017-05-26-17-41-48-581.png;https://jira.hyperledger.org/secure/attachment/10871/image-2017-05-26-17-41-48-581.png",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx2av:",,,,,,,,,,,,,,,,,,,,,,,,,,,amamina,binhn,bmos299,ChristopherFerris,Clayton Sims,jeffgarratt,mastersingh24,muralisr,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"02/Jun/17 4:13 AM;binhn;[~amamina]

Could you please attach the entire test code to create this problem and instruction on how to run it.  Thanks.

FYI [~kchristidis];;;","02/Jun/17 5:33 AM;kchristidis;FYI [~sanchezl];;;","02/Jun/17 7:56 AM;Clayton Sims;moving to fabric-orderer for the moment.;;;","03/Jun/17 10:37 PM;kchristidis;[~amamina]: We'd like some more info on this one. See Binh's message above. Thank you.;;;","05/Jun/17 11:05 PM;kchristidis;We'll wait until Friday 6/9 for more info on how to reproduce this, and then we'll close it. (Amada — or anybody else with detailed information on how to reproduce — will be welcome to reopen it.);;;","09/Jun/17 1:06 AM;bmos299;[~amamina]

Can you let us know how you reproduce this error?  We can see the same error using the cli.  In this flow the cli for the peer does the ClientConn.Close(). 


{code:java}
type broadcastClient struct \{
    conn   *grpc.ClientConn
    client ab.AtomicBroadcast_BroadcastClient
}
func (s *broadcastClient) Close() error \{
    return s.conn.Close()
{code}


In other parts of the fabric the close is done with the grpc type of ClientStream uses the CloseSend() to ensure the socket is ready to be closed.  We suspect the ClientStream is the proper way to close the connection and not receive an error and have file descriptors being left open. ;;;","09/Jun/17 3:24 AM;kchristidis;Barry's comment helps me figure out what the initial issue was about.

This has to do with how the client closes the stream connection, and it's not an issue with the orderer binary.

Removing the ""fabric-orderer"" component from this.;;;","08/Sep/17 5:09 AM;muralisr;[~wlahti] this should be an easy fix to peer/common/ordererclient.go. Thanks!;;;","27/Oct/17 4:17 AM;jeffgarratt;[~wlahti] how does this one look.. Is this a candidate for closing, or still an issue?;;;","01/Nov/17 11:39 PM;jeffgarratt;Could you take a look [~aambati]?;;;","04/Nov/17 9:20 PM;mastersingh24;It's still unclear exactly what problem we are trying to solve here?;;;","04/Jan/18 10:09 PM;ChristopherFerris;I can't figure out either... moving to Unverified - I cannot even find the code referenced in the image;;;","01/Feb/18 12:13 AM;wlahti;[~bmos299] As we have not heard back from Amada (I reached out via email yesterday in case that reaches them), can you elaborate on your June 8 comment? Are you still seeing this issue from CLI with certain test cases? ;;;","08/Feb/18 1:21 AM;wlahti;The recommendation above from [~bmos299] was actually included in some recent CLI work by [~mastersingh24], [https://gerrit.hyperledger.org/r/c/16555/.|https://gerrit.hyperledger.org/r/c/16555/] Thanks, Gari! Marking this item complete. ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update unit tests for protos,FAB-4173,17164,16851,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,mastersingh24,mastersingh24,mastersingh24,26/May/17 8:30 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,07/Jun/17 5:55 PM,v1.0.0-alpha2,,,v1.0.0,,fabric-orderer,fabric-peer,,,,,,0,,,,,,,,The updated proto compiler now generates getters for simple types as well as for complex types so will need to add some additional tests to keep coverage at the current level(s),,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxx67:",,,,,,,,,,,,,,,,,,,,,,,,,,,mastersingh24,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"31/May/17 5:39 PM;mastersingh24;This assumes that https://gerrit.hyperledger.org/r/#/c/9861/  is merged.  If not, then this is not needed;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
bad markup in CONTRIBUTING.rst,FAB-4174,17166,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ChristopherFerris,ChristopherFerris,ChristopherFerris,26/May/17 9:38 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,30/May/17 8:41 AM,v1.0.0-alpha2,,,v1.0.0,,fabric-docs,,,,,,,0,Documentation,,,,,,,link in UT section markup is botched,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,3600,3600,,0%,3600,3600,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxx6f:",,,,,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"27/May/17 2:21 AM;ChristopherFerris;https://gerrit.hyperledger.org/r/#/c/9871/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add Auction Tests in Test Suite,FAB-4175,17168,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sandp125,sandp125,sandp125,26/May/17 11:18 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,06/Jul/18 10:53 PM,v1.0.0-alpha2,,,v1.0.0,,fabric-quality,,,,,,,0,quality,,,,,,,"This story consists of adding test cases for Auction App in the Test Suite.
 * Description:Launch network, use  Auction API Driver to send invokes/queries to all channels on all chaincodes, remove network and cleanup.
 * Network Topology: 2 Ord, 3 KB, 3 ZK, 2 Org, 4 Peers, 2 Chan, 2 CC, 8 total threads.
 * Client Driver: testAuctionChainCode.py, api_driver.sh.
 * Following transactions are performed on Auction App
 ** Post Users
 ** Get Users
 ** Download Images
 ** Get Items
 ** Post Auction
 ** Open Auction For Bids
 ** Submit Bids
 ** Transfer Item",,sandp125,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,FAB-3934,FAB-4176,FAB-4236,,,,,,,,,,,,,,,,,,,,,,FAB-3507,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxx6n:",,,,,,,,,,,,,,,,,,,,,,,,,,,sandp125,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
chaincode test e2e auction - 72 Hr,FAB-4176,17172,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sandp125,sandp125,sandp125,27/May/17 12:07 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,06/Jul/18 10:56 PM,v1.0.0-alpha2,,,v1.0.0,,fabric-quality,,,,,,,0,quality,,,,,,,"This story consists of adding test cases for Auction App in the Daily Test Suite. This story is created for sending complex transactions asynchronously to the Auction App.  Payloads of the invoke transactions range from ~40 bytes to ~200 bytes.
 * Test Name: FAB-4176, chaincode test e2e auction - 72 Hr
 * Description:Launch network, use  Auction API Driver to send invokes/queries for 1 hr on 2 channels, remove network and cleanup.
 * Network Topology: Ord, 3 KB, 3 ZK, 2 Org, 4 Peers, 2 Chan, 2 CC.
 * Client Driver: testAuctionChainCode.py, api_driver.sh.
 * Following transactions are performed on Auction App
 ** Post Users
 ** Get Users
 ** Download Images (Images are downloaded into the Chaincode container. Payload size is ~40 bytes)
 ** Get Items
 ** Post Auction
 ** Open Auction For Bids
 ** Submit Bids
 ** Transfer Item",,sandp125,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,FAB-4175,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxx7j:",,,,,,,,,,,,,,,,,,,,,,,,,,,sandp125,scottz,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"14/Jun/17 8:41 AM;scottz;https://gerrit.hyperledger.org/r/#/c/9953/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
BCCSP PKCS11 implementation should add DER encoding to CKA_EC_POINT for all vendors,FAB-4177,17177,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,jpatchell,jpatchell,jpatchell,27/May/17 12:57 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,07/Jun/17 5:13 AM,v1.0.0-alpha2,,,v1.0.0,,fabric-crypto,,,,,,,3,,,,,,,,"Currently the BCCSP PKCS11 implementation only adds DER encoding to the CKA_EC_POINT attribute when importing an ECDSA public key if the library path contains ""softhsm"".

If using a non-softhsm PKCS11 library such as the PKCS11 client library to connect to a SafeNet Luna HSM then the subsequent C_CreateObject call will fail as the CKA_EC_POINT is not properly DER encoded.

The implementation should be changed to always add the DER encoding as it is standard in PKCS11 for the CKA_EC_POINT to be encoded this way.  The check for csp.lib to contain ""softhsm"" in bccsp/pkcs11/pkcs11.go in the importECKey function should simply be removed.",,ChristopherFerris,denyeart,elli-androulaki,JonathanLevi,jpatchell,troyronda,vpaprots,weeds,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"05/Jun/17 3:25 AM;JonathanLevi;Build_12557_Snip.rtf;https://jira.hyperledger.org/secure/attachment/10920/Build_12557_Snip.rtf",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx5jz:",,,,,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,denyeart,elli-androulaki,JonathanLevi,jpatchell,troyronda,vpaprots,weeds,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"27/May/17 2:26 AM;elli-androulaki;[~vpaprots@ca.ibm.com] may you take a look, please please? :);;;","27/May/17 4:59 AM;jpatchell;https://gerrit.hyperledger.org/r/#/c/9875/;;;","29/May/17 12:06 PM;jimthematrix;sounds pretty straightforward to me: it's part of the standard spec, and at least one HSM vendor (gemalto) has endorsed this change. [~vpaprots@ca.ibm.com] any concerns?;;;","30/May/17 5:11 AM;vpaprots;I believe Jonathan told me he would check in this fix, but I see no problem. He has the fix and the hardware to test it on. Reassigning.;;;","31/May/17 1:15 AM;ChristopherFerris;changed priority to high if it is needed for 1.0 - if medium and we get into crunch-time it may not make it otherwise.;;;","31/May/17 1:34 PM;denyeart;If this is really a bug with a 7 line code fix, it does not require review-needed votes, per our operating procedures here: [https://wiki.hyperledger.org/projects/fabric/release_exit_criteria]

Therefore I will vote yes. If the above statement is not correct, please clarify.;;;","01/Jun/17 12:51 AM;ChristopherFerris;sigh - people keep mistaking the purpose of this label - removing;;;","05/Jun/17 3:13 AM;vpaprots;This one keeps on failing builds for some strange (and clearly unrelated problems) in the CI. 

[~jpatchell], could you hit the rebase button? That sometimes fixes things for me (perhaps picks up a fix?). If still a problem, please post on #fabric-ci and ask someone to have a look at your gerrit item;;;","05/Jun/17 3:25 AM;JonathanLevi;I'm not entirely sure what's the issue there (on x86 and z). Here are the exceptions: [^Build_12557_Snip.rtf];;;","05/Jun/17 10:24 PM;jpatchell;I don't seem to have a rebase button in gerrit.  I have already posted to #fabric-ci.;;;","06/Jun/17 9:10 PM;weeds;@jpatchell I have verified these failures ( [https://gerrit.hyperledger.org/r/#/c/9875/2]) and didn't see CI related issues involved in this failure.. Ran this tests manually in local machine and observed same failures.
if possible could you please rebase this patch set and try again please.. (this was comment in rocket chat from Ramesh, so adding here.  It was posted 5:29 pm yesterday);;;","06/Jun/17 9:11 PM;weeds;Jonathan- based on the comments in gerrit- sounds like they are asking you to rebase and run again as a result.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
explore two-stage CI for Fabric related repos,FAB-4178,17182,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,ChristopherFerris,ChristopherFerris,27/May/17 1:37 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,04/Jan/18 11:29 AM,v1.0.0-alpha2,,,Future,,fabric-build,fabric-ci,,,,,,0,build-system,,,,,,,"see discussion in RC here [https://chat.hyperledger.org/channel/ci-pipeline?msg=p7yYajRZsYJ6Phjve]

I would think that if the experiment were successful, we might look to implement post 1.0.0 release.

Would like to see a test repo established in Gerrit that we can test out the flow, etc and then demonstrate to the community.

CR push invokes smoke or partial UT plus selected additional tests, sufficient to warrant code review. 2 +2 triggers full CI pass that would then trigger merge on success or return to unverified state.",,ChristopherFerris,jwagantall,rameshthoomu,tongliofcary,,,,,,,,,,,,,,,,,144000,144000,,0%,144000,144000,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"01/Jun/17 2:31 AM;tongliofcary;jobtype.sh;https://jira.hyperledger.org/secure/attachment/10893/jobtype.sh","31/May/17 6:06 AM;jwagantall;ready.sh;https://jira.hyperledger.org/secure/attachment/10886/ready.sh",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxx87:",,,,,,,,,,,,,,,4.0,,,,,,,,,,,,ChristopherFerris,jwagantall,rameshthoomu,tongliofcary,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"27/May/17 3:21 AM;jwagantall;Adding Ramesh's latest information: ""I have jjb configuration for upstream and downstream combination but we have to check how to get voting results like two +2's and no merge conflict...should have gerrit API calls to do this..if possible could you pls check if we have any such API calls.."";;;","31/May/17 3:46 AM;jwagantall;Dear Ramesh, 

I am attaching a snippet I wrote that will use bash + REST API to get the following information:
 * Browse for all the rebased (mergeable) opened gerrits in a particular project (in my example, fabric)
 * Extract their Change ID's and use that Change ID to see if it has 2 or more +2 Code Reviews given
 * Give you the Change ID's of the commit's ready for 2nd verification

Please use this information to trigger your 2nd job that will run the full CI pass. 

Back in my previous company, we had this 1st job running on a cronjob every hour looking for changes ready for full CI pass verification. We can do something similar here too

If you need these Change-Ids translated back to gerrit numbers or something else let me know. I will see what I can do. 

 

 ;;;","31/May/17 6:07 AM;jwagantall;Updated the attached script with comments on what am I doing in each step.. ;;;","01/Jun/17 2:32 AM;tongliofcary;Jessica, I added a simplified script which won't get all the patch set, it will take the patch set id passed from the event and use the rest API to get review results. Please take a look. Thanks.;;;","15/Jun/17 1:17 AM;rameshthoomu;Patch set has been submitted. Once the CI patch is merged, every patch set submitted event triggers two-way staged job and look for +2 if there is no +2, it triggers make verify otherwise it executes make unit-tests and run full CI on the patchset. [~tongliofcary] Is this the correct approach? Could you please look into the patch and confirm pls.;;;","11/Oct/17 3:38 AM;rameshthoomu;two-staged ci check patch has been merged also made necessary changes made in CI script. [https://jenkins.hyperledger.org/view/fabric/job/fabric-verify-two-staged-ci-check-x86_64/ +*(Executes tests only impacted by the changes submitted in the patchset)*+|https://jenkins.hyperledger.org/view/fabric/job/fabric-verify-two-staged-ci-check-x86_64/] It's time to shutdown [https://jenkins.hyperledger.org/view/fabric/job/fabric-verify-x86_64/] which executes all test irrespective of the change. [~ChristopherFerris], Shall I disable this job and keep two-stage-ci check job active for every build?;;;","04/Jan/18 11:29 AM;rameshthoomu;Job has been created an disabled recently. As per Chris, Matt is going to work on the build targets to make this happen from makefile. Once this work is done will create another task for CI to integrate this.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Collection of bugs and other documentation topics to address for v1,FAB-4179,17183,,Epic,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,elli-androulaki,elli-androulaki,27/May/17 1:53 AM,15/Mar/21 11:04 PM,28/Oct/23 2:59 AM,06/Jul/18 9:54 PM,v1.0.0-alpha2,,,v1.0.0,,fabric-crypto,,,,,,,0,,,,,,,,"This is the collection of bugs to address for v1.

 

*Critical to address* (security vulnerabilities, or critical to address cause appear often):

 * extend security (pre-endorsement) checks to the chaincode to chaincode case (FAB-3892)

   Notes: we could get away without this given that

   i. chaincode-to-chaincode is only possible if the peer has both chaincodes installed

   ii. to install a chaincode to a peer the org admin needs to approve both chaincodes

   iii. org admin is trusted to install chaincodes that do not compromise the security/confidentiality of any of the two chaincodes installed

   We could document these, but we already have plenty of documentation chaincode developers need to keep in mind. Perhaps it is easier to just implement this part. This is especially given the fact that install permissions can be opened up later to a wider set of users that may not altogether trust each other to have their chaincodes interact. 

 * remove expiration checks from identity validation function inside the default MSP implementation (FAB-4138)

 * fix endorsement policy language issue  (FAB-3215)

 * unused vars in /msp (FAB-3708)

 * bccsp panic with invalid provider name (FAB-3454) by [~vpaprots@ca.ibm.com] 

 

*Need review:*
 - cryptogen intermediate CA and CRL generation enablement (FAB-3888) - ([https://gerrit.hyperledger.org/r/#/c/9275/])

 - OU certificates fail to match (-FAB-4003-) ([https://gerrit.hyperledger.org/r/#/c/9519])
 - Error handling in bccsp/signer (FAB-3540) ([https://gerrit.hyperledger.org/r/#/c/9279/)]
 - Enhance UT in core/policy (FAB-4116) ([https://gerrit.hyperledger.org/r/#/c/9689/])

 

*Documentation*:

FAB-4135(cc-to-scc access control configuration), FAB-4137(scc ACLs), identity validity terms (FAB-3893), RSA non-support 

 

*Enhancements that we think are necessary*:

 -  e2e enhancements (FAB-3355)

 

*Other* (not clear answer of whether we need to address for v1):

 - purge ccinfo cache (FAB-3742)

 - PKCS11 DER encoding needed by CKA_EC_POINT of all vendors(FAB-4177)",,elli-androulaki,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,Unset,ghx-label-3,,Crypto items for v1,To Do,,,,Unset,,,,"1|hzxx8f:",,,,Unset,Unset,,,,,,,,,,,,,,,,,,,,,,elli-androulaki,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Writeup on Release Process document,FAB-4181,17188,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,rameshthoomu,rameshthoomu,27/May/17 3:04 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,20/Jun/17 10:55 PM,,,,v1.0.0,,fabric-build,,,,,,,0,build-system,Documentation,,,,,,Create Release process document on publishing docker images (fabric and fabric-ca) and publish npm module process,,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxx8v:",,,,,,,,,,,,,,,,,,,,,,,,,,,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"03/Jun/17 5:42 AM;rameshthoomu;submitted WIP document. https://gerrit.hyperledger.org/r/#/c/9877/ Will update release process on npm publish.. ;;;","20/Jun/17 10:55 PM;rameshthoomu;Patch has been submitted and merged. Please see the release process document here https://github.com/hyperledger/ci-management/blob/master/docs/Release_Process.md;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
UT - github.com/hyperledger/fabric/core/committer/txvalidator,FAB-4182,17189,16908,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,muralisr,muralisr,27/May/17 3:55 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,10/Jul/18 3:23 AM,v1.0.0-alpha2,,,v1.0.0,,fabric-peer,,,,,,,0,help-wanted,,,,,,,,,indirajith,muralisr,rmohta,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-4046,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxx93:",,,,,,,,,,,,,,,,,,,,,,,,,,,indirajith,muralisr,rmohta,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"20/Jun/17 11:36 PM;rmohta;[~muralisr] Per beta branch, this seems to be taken care of. Do we need to add more UTs?;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
UT - github.com/hyperledger/fabric/core/common/ccprovider,FAB-4183,17190,16908,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,aambati,muralisr,muralisr,27/May/17 3:57 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,05/Jun/17 11:15 PM,v1.0.0-alpha2,,,v1.0.0,,fabric-peer,,,,,,,0,help-wanted,,,,,,,,,aambati,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-4046,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxx9b:",,,,,,,,,,,,,,,,,,,,,,,,,,,aambati,muralisr,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"01/Jun/17 2:12 AM;aambati;https://gerrit.hyperledger.org/r/#/c/9957/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Improve code coverage for orderer/kafka package,FAB-4184,17191,16261,Sub-task,Closed,FAB,Fabric,software,denyeart,,,High,Done,kchristidis,kchristidis,kchristidis,27/May/17 5:15 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,07/Jun/17 2:17 AM,,,,v1.0.0,,fabric-orderer,,,,,,,6,kafka,,,,,,,,,binhn,ChristopherFerris,guoger,jyellick,kchristidis,muralisr,troyronda,,,,,,,,,,,,";01/Jun/17 6:26 AM;kchristidis;144000",";02/Jun/17 11:57 AM;kchristidis;28800",144000,28800,172800,120%,144000,28800,172800,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-4136,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxx9j:",,,,,,,,,,,,,,,,,,,,,,,,,,,binhn,ChristopherFerris,guoger,jyellick,kchristidis,muralisr,troyronda,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"01/Jun/17 6:22 AM;kchristidis;ETA for this: Friday 6/2;;;","02/Jun/17 7:24 AM;ChristopherFerris;[~kchristidis] does this need review-needed label? Maybe we should get some others to weigh in?;;;","02/Jun/17 7:38 AM;kchristidis;Want to be able to point the folks to the code when I'm making my case for the change, otherwise it'll be too theoretical. Gimme a day and I'll try to have the changeset up.;;;","02/Jun/17 1:20 PM;kchristidis;Done. UT coverage up to 96.6%. (Update: 97.2%)

Want to run some BDD tests on it tomorrow before posting.;;;","03/Jun/17 8:54 AM;kchristidis;Changeset submitted in: [https://gerrit.hyperledger.org/r/#/c/10039/] 

I wrote a detailed commit message in the changeset which I'd like you to read before weighing in with the final +/- 1. This is indeed too invasive of a refactoring, though FWIW I'd suggest ignoring the aggregate line counts at the end of the changeset: `chain_test.go` alone is 1000 lines of tests. If you fetch the package locally, you should be able to review the non-test path in about an hour or so, assuming you have some base-level knowledge of the `orderer` package.

On top of what I wrote in the commit message, I'll state the obvious: merging this changeset now carries risk, I know. There are pros and cons no matter which way we go:
 * We merge this changeset and we're able to write unit tests for, say, FAB-4136 much easier, but there's always a risk of breaking the system. Unit tests are good, and we do have a proper integration test now but that alone is not enough. Cue: [https://twitter.com/thepracticaldev/status/687672086152753152] 
 * We decide to defer and unit testing for our remaining bug fixes (and consequently bug fixing) become harder.

I have -2'd my changeset on purpose to prevent merging until we reach consensus on it.;;;","06/Jun/17 12:12 AM;binhn;+1 a quick scan of the cr, risky but I considered the consequences of not merging this

 
{quote}Cue: [https://twitter.com/thepracticaldev/status/687672086152753152] 
{quote}
What's the problem? Swing out, flip one, or install one higher than the other :)

 ;;;","06/Jun/17 3:31 AM;jimthematrix;[~kchristidis] I tried to get a sense of the extent of the refactoring by finding the new methods in the old code, haven't done a whole lot but the first few I went through (chain.go -> newChain(), chain.go -> start(), etc.) did have significant implementation changes. I think only the few developers having significant knowledge of the ordering service may be able to do a proper risk assessment.

So here is the big question, both to you and [~jyellick], how confident are you that the refactoring is solid, and that the added unit tests and integration tests are able to exercise enough of the new implementation to make us feel comfortable it'll hold?

Also, I assume none of these changes are affecting APIs and can be done in an non-intrusive way right after 1.0?
;;;","06/Jun/17 3:37 AM;muralisr;[~kchristidis] [~binhn] I must be missing something here. If it is just refactoring and cleanup (plus UT of course)  without any other benefits (such as bug fixes) why would we want to do it close to 1.0 ? I guess the answer is it will help with remaining bug fixes per previous comment :

{code:java}
We decide to defer and unit testing for our remaining bug fixes (and consequently bug fixing) become harder.
{code}

The risk of NOT getting this fix in would make it that much harder to fix bugs ? Or that much harder to write UT for the bugs that will be fixed ?

If its the later then perhaps we can let the UT slide a bit instead of taking a risk with code change. ... (I know, I know... just askin' :-) ).
;;;","06/Jun/17 3:48 AM;kchristidis;[~jimthematrix]: Thanks for taking a look. 
 # RE: Significant changes — The old `newChain()` gets the last cut block number, creates a producer and returns the `chainImpl` object. The new `newChain()` does the exact same set of things with some minor shifting of bits and pieces around. Ditto for `Start()` - both the old and the new implementations post a connect message, bring up a consumer, and the start the processLoop. I do get your point about folks familiar with the code base being able to do a proper risk assessment though.
 # RE: Big question — As I wrote above: ""Unit tests are good – and this changeset gives excellent test coverage –  and we do have a proper integration test now in Jeff's bootstrap.feature, but that integration test alone is not enough."" I feel confident enough to put it out there, but there's always going to be risk.
 # RE: Affecting APIs – This change does not affect user-facing APIs. It does make our lives easier when it comes to fixing existing bugs and writing unit tests for them though.;;;","06/Jun/17 3:53 AM;kchristidis;[~muralisr]: You're not missing anything. If we don't let this CR in, we'll have to rely on some mix of ad-hoc tests that we won't be able to check in. (With this CR in on the other hand, I can easily write a unit test that captures the problem.);;;","06/Jun/17 3:59 AM;jimthematrix;thanks [~kchristidis] for the explanation. I feel more comfortable now. Still would like to hear from [~jyellick] for his ""objective"", ""unattached"" opinion ;-) given the extent of the changes. He said he'll respond soon.;;;","06/Jun/17 4:21 AM;jyellick;[~jimthematrix] So, my take on this is I think nothing new.  The new code is simpler, the new code is more testable and covered with better tests, and it passes the integration testing that we have.

Of course there are risks associated with such a big delta, but, I think it's the right way forward, and with all of the work that has gone into covering this change well with test, I think that risk is acceptable.;;;","06/Jun/17 4:29 AM;jimthematrix;i think this is a case where we have to defer to the experts on their judgement, and I do trust [~kchristidis] and [~jyellick] on their assessment. I've certainly done this kind of maneuver before (in other projects) that pays off in the end. so just voted +1.;;;","06/Jun/17 4:43 AM;muralisr;Agree with [~jimthematrix] above.

Also, the number files and amount of code has shrunk. Even if there are issues, hopefully we can triage quickly. 

Given everything (1) simplification (2) benefit to UT and debugging (3) more UT coverage (4) ease of writing more UTs for the remaining issues, does sound like a lot of benefits could be thrown out if we don't use this.

So voting +1.;;;","06/Jun/17 5:49 AM;ChristopherFerris;This has met the threshold to be merged The CR can be merged when ready.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Temporarily remove sbft package,FAB-4185,17192,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sanchezl,kchristidis,kchristidis,27/May/17 5:27 AM,21/Jul/18 3:55 AM,28/Oct/23 2:59 AM,01/Jun/17 11:38 PM,v1.0.0-alpha2,,,v1.0.0,v1.0.0-beta,fabric-orderer,,,,,,,1,sbft,,,,,,,As announced here: [https://lists.hyperledger.org/pipermail/hyperledger-fabric/2017-May/001047.html],,JonathanLevi,kchristidis,shanlusun,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,FAB-4212,FAB-4379,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzxx9r:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,JonathanLevi,kchristidis,shanlusun,yoheiueda,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"27/May/17 5:29 AM;kchristidis;[~sanchezl] FYI, for when you get some free cycles with your current set of tasks.

I suggest we push this towards the end of next week as announced in the mailing list.

Note that this changeset will also affect files inside the top-level orderer package, as well the orderer.yaml config files.;;;","30/May/17 11:23 PM;kchristidis;Let's not forget to tag [~marko.vukolic] and [~hgabre] as reviewers in the changeset.;;;","31/May/17 12:03 AM;JonathanLevi;A very good idea. +1 from me.;;;","01/Jun/17 12:52 PM;kchristidis;So Gari, Chris, Artem, and myself have signed off on this change in the mailing list, and Jonathan is giving it the thumbs up here – we got the 5 votes necessary to proceed with this.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
License headers are missing in some test codes,FAB-4186,17193,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,mastersingh24,shimos,shimos,27/May/17 7:06 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,09/Jun/17 11:11 PM,,,,v1.0.0,v1.0.0-rc1,fabric-build,,,,,,,0,,,,,,,,"‘make all’ or ‘make license’ fails due to some Go test codes with missing license headers.

Steps to reproduce
-----------------------
1. check out the fabric repository
2. run “make license”

Expected result
--------------------
The “make” command finishes successfully.

  $ make license
  (snip)
  Checking Go files for license headers ...
  All go files have license headers


Actual result
----------------
It fails with claiming that some Go files have missing license headers.

$ make license
(snip)
  Checking Go files for license headers ...
  The following files are missing license headers:
  ./peer/common/common_test.go
  ./core/config/config_test.go
  Makefile:105: recipe for target 'license' failed
  make: *** [license] Error 1

Fix Version: v1.0.0
Priority: Medium
Environment: fabric 010dcf62
",fabric 010dcf62,mastersingh24,muralisr,shimos,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxx9z:",,,,,,,,,,,,,,,,,,,,,,,,,,,mastersingh24,muralisr,shimos,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"08/Jun/17 8:37 AM;muralisr;Assigning this to fabric-build for better visibility;;;","08/Jun/17 11:49 PM;mastersingh24;http://gerrit.hyperledger.org/r/10347;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
File mode of bccsp/pkcs11/impl_test.go is incorrect,FAB-4189,17199,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,harrijk,harrijk,harrijk,27/May/17 10:46 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,28/May/17 1:34 PM,,,,,,fabric-build,,,,,,,0,quality,,,,,,,"CR [https://gerrit.hyperledger.org/r/#/c/9777/] included an update to the impl_test.go file within the bccsp/fabric.  The updated file that was merged had an incorrect file mode of 755.

A CR will be submitted to change the file mode to 644.

https://gerrit.hyperledger.org/r/#/c/9889/",,harrijk,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxxan:",,,,,,,,,,,,,,,,,,,,,,,,,,,harrijk,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add support for setting send/recv message size for grpc server,FAB-4190,17200,16851,Sub-task,Closed,FAB,Fabric,software,denyeart,,,High,Done,,mastersingh24,mastersingh24,28/May/17 1:32 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,10/Jul/18 3:23 AM,v1.0.0-alpha2,,,v1.0.0,,fabric-peer,,,,,,,0,,,,,,,,The updated version of the grpc-go sets and enforces default limits for send and recv message sizes for the grpc server (default is 4MB).  Need to expose config setting for this,,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-4193,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxxav:",,,,,,,,,,,,,,,,,,,,,,,,,,,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove --peer-defaultchain from compose files,FAB-4191,17201,15951,Sub-task,Closed,FAB,Fabric,software,denyeart,,,High,Done,mastersingh24,mastersingh24,mastersingh24,28/May/17 1:50 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,31/May/17 12:41 AM,,,,v1.0.0,,fabric-sdk-java,fabric-sdk-node,,,,,,0,,,,,,,,,,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxxb3:",,,,,,,,,,,,,,,,,,,,,,,,,,,mastersingh24,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"28/May/17 2:05 AM;mastersingh24;https://gerrit.hyperledger.org/r/#/c/9891/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Makefile improvements,FAB-4192,17202,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ChristopherFerris,ChristopherFerris,ChristopherFerris,28/May/17 6:30 AM,21/Jul/18 3:56 AM,28/Oct/23 2:59 AM,14/Jun/17 6:30 AM,v1.0.0-alpha2,,,v1.0.0,,fabric-build,,,,,,,0,build-system,,,,,,,"Makefile has some major inefficiencies that could be fixed to yield better build performance for developers.

Eliminate unnecessary rebuilding by refining the set of PROJECT_FILES

Add target for desk-check to run all linters and verify (when available)

 ",,ChristopherFerris,,,,,,,,,,,,,,,,,,,,28800,28800,,0%,28800,28800,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzxxbb:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"01/Jun/17 12:40 AM;ChristopherFerris;https://gerrit.hyperledger.org/r/#/c/9811/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add support for setting send/recv message size for grpc client,FAB-4193,17203,16851,Sub-task,Closed,FAB,Fabric,software,denyeart,,,High,Done,,mastersingh24,mastersingh24,28/May/17 7:38 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,10/Jul/18 3:23 AM,v1.0.0-alpha2,,,v1.0.0,,fabric-peer,,,,,,,0,,,,,,,,The updated version of the grpc-go sets and enforces default limits for send and recv message sizes for the grpc client (default is 4MB).  Need to expose config setting for this,,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-4190,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxxbj:",,,,,,,,,,,,,,,,,,,,,,,,,,,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Let fabric support kubernetes API to boot chaincode container,FAB-4194,17204,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,lovelyidiot,baohua,baohua,28/May/17 9:58 PM,23/Jan/20 4:12 AM,28/Oct/23 2:59 AM,23/Jan/20 4:12 AM,,,,Future,,fabric-peer,,,,,,,7,Cello,chaincode,stale-item,,,,,"Currently, fabric only support hard-coded Docker API to boot up docker container through Docker API calls.

This feature will enable the API call be pluggable to support more CoE like Kubernetes.

With this new feature, the Cello will enable the kubernetes support more natively with the chaincode feature.",,alexcrownus,baohua,ChristopherFerris,guce,inatatsu,joaquimpedrooliveira,Kaltrak,kit,luomin,mastersingh24,rikgig,silentspark,sykesm,wutongtree,yoheiueda,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,CE-7,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzxxbr:",,,,Unset,,Cello-Feature Design,,,,,,,,,,Unset,,,,,,,,,,,alexcrownus,baohua,ChristopherFerris,guce,inatatsu,joaquimpedrooliveira,Kaltrak,kit,luomin,mastersingh24,rikgig,silentspark,sykesm,wutongtree,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"14/Apr/18 9:25 PM;mastersingh24;[~baohua]  Is this really in review?  What's the CR?;;;","15/Apr/18 1:59 PM;baohua;I do not know.

@[~zyhui98], would you like to help post the related patchset link here as you mark the status as in review?

Thanks!;;;","05/Jul/18 8:06 PM;ChristopherFerris;Update on this please, [~baohua]?;;;","23/Jan/20 4:12 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Can not mount the genesis.block onto the orderer,FAB-4195,17205,,Bug,Closed,FAB,Fabric,software,denyeart,,,Lowest,Done,,indirajith,indirajith,28/May/17 11:33 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,04/Sep/17 9:51 PM,,,,Not a Bug,,fabric-ci,,,,,,,0,,,,,,,,"While starting the network in Fabric v1.0, I encounter a problem with orderer. It fails to mount the genesis.block. The error:

 

{{Starting orderer.example.com ... error}}{{ERROR: for orderer.example.com Cannot start service orderer.example.com: oci runtime error: container_linux.go:247: starting container process caused ""process_linux.go:359: container init caused \""rootfs_linux.go:54: mounting \\\""/home/USER/fabric-sample/release/linux-amd64/channel-artifacts/genesis.block\\\"" to rootfs \\\""/var/lib/docker/aufs/mnt/4892b4b4fde2b98d182e2bad3e944f9fdbb321a67c48375c924f29ae121791f8\\\"" at \\\""/var/lib/docker/aufs/mnt/4892b4b4fde2b98d182e2bad3e944f9fdbb321a67c48375c924f29ae121791f8/var/hyperledger/orderer/orderer.genesis.block\\\"" caused \\\""not a directory\\\""\""""}}
 \{\{ : Are you trying to mount a directory onto a file (or vice-versa)? Check if the specified host path exists and is the expected type}}{{ERROR: for orderer.example.com Cannot start service orderer.example.com: oci runtime error: container_linux.go:247: starting container process caused ""process_linux.go:359: container init caused \""rootfs_linux.go:54: mounting \\\""/home/USER/fabric-sample/release/linux-amd64/channel-artifacts/genesis.block\\\"" to rootfs \\\""/var/lib/docker/aufs/mnt/4892b4b4fde2b98d182e2bad3e944f9fdbb321a67c48375c924f29ae121791f8\\\"" at \\\""/var/lib/docker/aufs/mnt/4892b4b4fde2b98d182e2bad3e944f9fdbb321a67c48375c924f29ae121791f8/var/hyperledger/orderer/orderer.genesis.block\\\"" caused \\\""not a directory\\\""\""""}}
 \{\{ : Are you trying to mount a directory onto a file (or vice-versa)? Check if the specified host path exists and is the expected type}}
 \{\{ ERROR: Encountered errors while bringing up the project.}}",Ubuntu 16.04,binhn,ChristopherFerris,indirajith,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxxbz:",,,,,,,,,,,,,,,,,,,,,,,,,,,binhn,ChristopherFerris,indirajith,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"30/May/17 9:25 AM;ChristopherFerris;[~indirajith] can you please confirm the version you are using? Thanks;;;","30/May/17 4:53 PM;indirajith;Yes, I am using Fabric v1.0 alpha2 and the host OS is Ubuntu 16.04.2. Thank you!;;;","30/May/17 11:08 PM;kchristidis;Looks like an environment/host-configuration issue, not an orderer one.

{{caused \\\""not a directory\\\""\""""}}{{\{\{ : Are you trying to mount a directory onto a file (or vice-versa)?}};;;","30/May/17 11:55 PM;indirajith;I tried to remove the exact genesis.block file name in the ../base/docker-compose-base.yaml file, then the not a directory error for genesis.block gone but, it appears for the mps and tls directories. I tried to add and/or remove '/' at the end to imply it as a directory didn't work. ;;;","31/May/17 11:43 PM;kchristidis;([~Clayton Sims]: I removed the fabric-orderer component on purpose. There's nothing specific/exclusive to the orderer in this issue that I can see, but someone correct me if I'm wrong.);;;","02/Jun/17 11:50 AM;binhn;[~indirajith]  I would suggest you take a look at our e2e example docker-compose file [https://github.com/hyperledger/fabric/blob/master/examples/e2e_cli/docker-compose-e2e.yaml] to see how to mount the volume for orderer.example.com

Or post yours here and folks might be able to help debug.;;;","20/Jul/17 1:06 AM;ChristopherFerris;[~indirajith] any update on this? Can you please post your docker-compose.yaml so we can review?;;;","04/Sep/17 9:50 PM;mastersingh24;There's been no response in over 2 months and we have multiple examples which work.  So closing this;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
delivery service goroutine leak check fails in CI,FAB-4196,17206,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,C0rWin,yacovm,yacovm,28/May/17 11:57 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,11/Jun/17 6:07 PM,v1.0.0-alpha2,,,v1.0.0,,fabric-gossip,,,,,,,0,beta,gossip,,,,,,"From: https://jenkins.hyperledger.org/job/fabric-verify-x86_64/12300/console

{code}
13:42:29 unit-tests_1  | 		goroutine 140 [select]:
13:42:29 unit-tests_1  | 		github.com/hyperledger/fabric/vendor/google.golang.org/grpc/transport.(*recvBufferReader).Read(0xc4202eb0c0, 0xc4202ed110, 0x5, 0x5, 0x0, 0x0, 0x0)
13:42:29 unit-tests_1  | 			/opt/gopath/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/transport/transport.go:145 +0x69a
13:42:29 unit-tests_1  | 		github.com/hyperledger/fabric/vendor/google.golang.org/grpc/transport.(*transportReader).Read(0xc4201712f0, 0xc4202ed110, 0x5, 0x5, 0xa505e8, 0xc420072040, 0x0)
13:42:29 unit-tests_1  | 			/opt/gopath/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/transport/transport.go:349 +0x55
13:42:29 unit-tests_1  | 		io.ReadAtLeast(0xec6360, 0xc4201712f0, 0xc4202ed110, 0x5, 0x5, 0x5, 0xc42014e300, 0xc420106900, 0x5)
13:42:29 unit-tests_1  | 			/opt/go/src/io/io.go:307 +0xa4
13:42:29 unit-tests_1  | 		io.ReadFull(0xec6360, 0xc4201712f0, 0xc4202ed110, 0x5, 0x5, 0x0, 0x0, 0xc42004dae8)
13:42:29 unit-tests_1  | 			/opt/go/src/io/io.go:325 +0x58
13:42:29 unit-tests_1  | 		github.com/hyperledger/fabric/vendor/google.golang.org/grpc/transport.(*Stream).Read(0xc420106900, 0xc4202ed110, 0x5, 0x5, 0xc42005e000, 0x7f0eccf62960, 0x0)
13:42:29 unit-tests_1  | 			/opt/gopath/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/transport/transport.go:333 +0xa8
13:42:29 unit-tests_1  | 		github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*parser).recvMsg(0xc4202ed100, 0x6400000, 0x0, 0x1300000000, 0x61aaf0, 0xc420403ba0, 0xc420310be0, 0xc420359300)
13:42:29 unit-tests_1  | 			/opt/gopath/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/rpc_util.go:280 +0x6b
13:42:29 unit-tests_1  | 		github.com/hyperledger/fabric/vendor/google.golang.org/grpc.recv(0xc4202ed100, 0xecf3a0, 0xf07b60, 0xc420106900, 0x0, 0x0, 0x9b2240, 0xc4202dae30, 0x6400000, 0x0, ...)
13:42:29 unit-tests_1  | 			/opt/gopath/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/rpc_util.go:376 +0x4d
13:42:29 unit-tests_1  | 		github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*clientStream).RecvMsg(0xc42016cc60, 0x9b2240, 0xc4202dae30, 0x0, 0x0)
13:42:29 unit-tests_1  | 			/opt/gopath/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/stream.go:393 +0xf6
13:42:29 unit-tests_1  | 		github.com/hyperledger/fabric/protos/orderer.(*atomicBroadcastDeliverClient).Recv(0xc420306a30, 0x300430b00, 0xc42005e000, 0x10)
13:42:29 unit-tests_1  | 			/opt/gopath/src/github.com/hyperledger/fabric/protos/orderer/ab.pb.go:523 +0x62
13:42:29 unit-tests_1  | 		github.com/hyperledger/fabric/core/deliverservice.(*broadcastClient).Recv.func1(0x592ad3b7, 0xcea7234, 0xc42004dd20, 0x485097)
13:42:29 unit-tests_1  | 			github.com/hyperledger/fabric/core/deliverservice/_test/_obj_test/client.go:60 +0x67
13:42:29 unit-tests_1  | 		github.com/hyperledger/fabric/core/deliverservice.(*broadcastClient).doAction(0xc42035db00, 0xc42004de00, 0xeea860, 0xa0364b, 0x0, 0x0)
13:42:29 unit-tests_1  | 			github.com/hyperledger/fabric/core/deliverservice/_test/_obj_test/client.go:131 +0x51
13:42:29 unit-tests_1  | 		github.com/hyperledger/fabric/core/deliverservice.(*broadcastClient).try(0xc42035db00, 0xc42004de00, 0x1, 0xc42004de10, 0x540261, 0x5086a1)
13:42:29 unit-tests_1  | 			github.com/hyperledger/fabric/core/deliverservice/_test/_obj_test/client.go:96 +0xc0
13:42:29 unit-tests_1  | 		github.com/hyperledger/fabric/core/deliverservice.(*broadcastClient).Recv(0xc42035db00, 0xc420359300, 0x2c, 0xc4202216b0)
13:42:29 unit-tests_1  | 			github.com/hyperledger/fabric/core/deliverservice/_test/_obj_test/client.go:61 +0x5d
13:42:29 unit-tests_1  | 		github.com/hyperledger/fabric/core/deliverservice/blocksprovider.(*blocksProviderImpl).DeliverBlocks(0xc42036cf00)
13:42:29 unit-tests_1  | 			/opt/gopath/src/github.com/hyperledger/fabric/core/deliverservice/blocksprovider/blocksprovider.go:118 +0x9e
13:42:29 unit-tests_1  | 		created by github.com/hyperledger/fabric/core/deliverservice.(*deliverServiceImpl).StartDeliverForChannel
13:42:29 unit-tests_1  | 			github.com/hyperledger/fabric/core/deliverservice/_test/_obj_test/deliveryclient.go:149 +0x747
{code}

A smoking gun here is the log that says:
{code}
13:42:29 unit-tests_1  | 2017-05-28 13:42:02.704 UTC [blocksProvider] DeliverBlocks -> WARN 037 [TEST_CHAINID] Receive error: Client is closing
13:42:29 unit-tests_1  | 2017-05-28 13:42:11.211 UTC [ConnProducer] NewConnection -> ERRO 038 Failed connecting to localhost:5613 , error: context deadline exceeded
13:42:29 unit-tests_1  | 2017-05-28 13:42:15.214 UTC [ConnProducer] NewConnection -> ERRO 039 Failed connecting to localhost:5612 , error: context deadline exceeded
{code}

[~C0rWin]",,muralisr,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-290,,,,,,,,,,"1|hzxxc7:",,,,,,,,,,,,,,,,,,,,,,,,,,,muralisr,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"02/Jun/17 3:55 AM;muralisr;[~yacovm] assigning to you for resolution.... (belongs to [~C0rWin] ?);;;","02/Jun/17 4:17 AM;yacovm;It's either me, Artem or [~gennadyl].
I don't want to hog everything for myself. We will discuss next week and assign accordingly.
In the meantime my pipleline for the weekend is loaded with real bugs ;);;;","08/Jun/17 11:06 PM;yacovm;https://jenkins.hyperledger.org/job/fabric-verify-z/8647/consoleFull;;;","11/Jun/17 6:07 PM;yacovm;should be fixed by https://gerrit.hyperledger.org/r/#/c/10437/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Create static assets,FAB-4197,17207,16442,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,greg.haskins,greg.haskins,greg.haskins,29/May/17 10:16 AM,09/Apr/19 5:46 PM,28/Oct/23 2:59 AM,09/Apr/19 5:46 PM,v1.0.0-alpha2,,,Future,v1.0.0,fabric-tools,,,,,,,0,,,,,,,,"All the tool to generate artifacts in a way that allow them to be committed/used elsewhere, rather than requiring the examples/cluster runtime.",,greg.haskins,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxxcf:",,,,,,,,,,,,,,,,,,,,,,,,,,,greg.haskins,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Allow docker tag specification at build-time,FAB-4198,17208,16442,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,greg.haskins,greg.haskins,greg.haskins,29/May/17 10:17 AM,09/Apr/19 5:45 PM,28/Oct/23 2:59 AM,09/Apr/19 5:45 PM,v1.0.0-alpha2,,,Future,,fabric-tools,,,,,,,0,,,,,,,,"Today, the code assumes "":latest"".  Would be nice if we could support something like ""FABRIC_VERSION=1.0.0-alpha2 make compose-up""",,greg.haskins,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxxcn:",,,,,,,,,,,,,,,,,,,,,,,,,,,greg.haskins,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
peer.workers is no longer used in core.yaml,FAB-4199,17209,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,baohua,baohua,baohua,29/May/17 11:49 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,02/Jun/17 4:53 AM,,,,v1.0.0,,fabric-peer,,,,,,,0,Endorser,,,,,,,"Base on the checking of the existing code, we believe there's no usage of the peer.workers config in core.yaml

So will plan to remove this config.

Pls let me know if there's any purpose to keep it.

Thanks!",,baohua,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxxcv:",,,,,,,,,,,,,,,,,,,,,,,,,,,baohua,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"30/May/17 10:17 AM;baohua;https://gerrit.hyperledger.org/r/#/c/9909/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fix docs in core.yaml,FAB-4200,17210,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,baohua,baohua,baohua,29/May/17 11:59 AM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,30/May/17 10:07 AM,v1.0.0,,,v1.0.0,,fabric-peer,,,,,,,0,Endorser,,,,,,,"There're some wrong descriptions in the sampleconfig/core.yaml.

e.g., the following doc describes validating peer, however, on the event section.

```

#Validator defines whether this peer is a validating peer or not, and if

#it is enabled, what consensus plugin to load
 events:

```

...",,baohua,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxxd3:",,,,,,,,,,,,,,,,,,,,,,,,,,,baohua,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"29/May/17 12:10 PM;baohua;https://gerrit.hyperledger.org/r/#/c/9893/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Deliver logic does not correctly catch and log all possible errors,FAB-4201,17211,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,guoger,guoger,guoger,29/May/17 1:43 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,04/Jun/17 11:52 AM,v1.0.0-alpha2,,,v1.0.0,,fabric-orderer,,,,,,,0,common-components,,,,,,,"Deliver logic in `orderer/common/deliver` does not correctly catch all possible errors, particularly for two cases:

1. While stream is shutdown gracefully, an error of type `io.EOF` is returned, which is ignorantly caught as `Error reading from stream`, and returned to caller of `Handle`. It should just be a Debug message and return `nil`.

2. Start and stop position in SeekInfo could be reversed (start > stop). This should be captured and properly logged.",,guoger,jyellick,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-2691,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxxdb:",,,,,,,,,,,,,,,,,,,,,,,,,,,guoger,jyellick,kchristidis,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"30/May/17 6:33 AM;kchristidis;Thanks for reporting this. What happens right now in case 2 (start > stop)?;;;","31/May/17 12:04 PM;guoger;[~kchristidis] It's returning the blocks starting from `start` till the tail, and then blocks to wait for new block.;;;","31/May/17 3:00 PM;jyellick;A fix for this pushed in https://gerrit.hyperledger.org/r/#/c/9961/;;;","31/May/17 6:20 PM;guoger;[~jyellick] I commented on the patch. I actually had a patch for this bug, it's available here https://gerrit.hyperledger.org/r/#/c/9963/, which is split from a patch I submitted a week ago to improve UT coverage of deliver. Do you still want to take over?;;;","03/Jun/17 2:27 PM;jyellick;[~guoger] Sorry for stepping on your toes there, when I saw this still flagged as TODO I thought it would be a quick one to tackle.  I've abandoned my CR in Gerrit.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Race condition in orderer json ledger implementation,FAB-4202,17212,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,guoger,guoger,guoger,29/May/17 1:56 PM,20/Jul/18 11:12 PM,28/Oct/23 2:59 AM,02/Jun/17 5:01 AM,v1.0.0-alpha2,,,v1.0.0,,fabric-orderer,,,,,,,0,common-components,,,,,,,"There's a potentially race condition in current order json ledger implementation, where reader attempts to read and unmarshal a block while it's being written, which would results in `unexpected EOF` error.

To reproduce, run this test repeatedly:

{{	go func() {
		block, status = it.Next()
		close(complete)
	}()

	fl.Append(ledger.CreateNextBlock(fl, []*cb.Envelope{{Payload: []byte(""Another Data"")}}))}}",,guoger,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxxdj:",,,,,,,,,,,,,,,,,,,,,,,,,,,guoger,kchristidis,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"30/May/17 6:42 AM;kchristidis;FYI [~sanchezl] when you get some spare cycles

[~guoger]: What's the use of the `complete` channel in the snippet above?;;;","31/May/17 11:53 AM;guoger;[~kchristidis] Oops, that line is leaked from the patch I submitted, not necessary to repro this issue.;;;","31/May/17 7:01 PM;guoger;https://gerrit.hyperledger.org/r/#/c/9969/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
backwards/forward compatibility of block validation in presence (or lack) of time expiration checks,FAB-4203,17213,,Task,Closed,FAB,Fabric,software,denyeart,,,High,Won't Do,,yacovm,yacovm,29/May/17 2:31 PM,30/Jul/19 11:59 AM,28/Oct/23 2:59 AM,30/Jul/19 11:59 AM,v1.0.0,,,,,fabric-docs,,,,,,,0,,,,,,,,"In FAB-3678 it was decided to remove time-related expiration checks from identity validation in order for blocks validation done at different times to be non-dependant on the current time, and FAB-4138 was created as a result, and merged.
It was decided to postpone tackling the original problem post v1.0 (hereafter v1.1)
This JIRA item brings up the following problems:
- Backward compatibility: Given a peer that was compiled with code of v1.1, and a block that was created by an ordering service with code of v1.0, the peer needs to validate the transactions in the block with the same logic as a peer in v1.0, because it needs to reach the same world state as peers that processed the block at v1.0, otherwise a state split would occur.
- Forward compatibility correctness: Given a peer that was compiled with code of v1.0, and a block (either received from a peer, or an ordering service) that was created by an ordering service of v1.1, the peer needs to be able to detect that the block was created by an ordering service version that it cannot process, and abort the commit. This is because the mechanism that handles time-related expiration checks does not exist in its code, while the mechanism exists in the code of peers with version v1.1.


*Backward compatibility:*
Tackling Backward compatibility shouldn't be too hard if we have a new field in the block header (such as a timestamp, as proposed in FAB-3678), because when unmarshaling a message of version v1.0 by a protobuf schema  v1.1 that appends fields to the schema of v1.0, the newly introduced fields are set with zero values and this can be used to detect implicitly the version the block was made with.
However - it may pose a challenge if the field is introduced only in a proto structure that exists solely in configuration updates, because it would require the ordering service to append a configuration update as part of an upgrade/migration of each ""chain"" from v1.0 to v1.1 and this may enforce a one-way upgrade with no ability to revert to v1.0 should problems arise.

*Forward compatibility:*
This is more challenging and needs to be considered if it is indeed something that should be addressed or not.
I asked whether it's possible to detect that a proto message you have in hand was made by a more recent schema than the schema in the code in the [protobuf google group|https://groups.google.com/forum/#!topic/protobuf/-7TeQ0Ud9mY]  and they said they will change proto to [enforce unknown fields|https://docs.google.com/document/d/1KMRX-G91Aa-Y2FkEaHeeviLRRNblgIahbsk4wA14gRk/edit], but I think it's too late for us.",,binhn,C0rWin,elli-androulaki,jyellick,mastersingh24,yacovm,,,,,,,,,,,,,,,,,,,,,,Not a security issue,FAB-5556,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx5k7:",,,,,,,,,,,,,,,,,,,,,,,,,,,binhn,C0rWin,elli-androulaki,jyellick,mastersingh24,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"30/May/17 10:48 PM;jyellick;> However - it may pose a challenge if the field is introduced only in a proto structure that exists solely in configuration updates, because it would require the ordering service to append a configuration update as part of an upgrade/migration of each ""chain"" from v1.0 to v1.1

This actually seems like a fairly sane migration path to me.  Create a test channel with the v1.0 code, perform the upgrade to v1.1, and verify that your application functions correctly on the new v1.1 fabric.  If everything is fine, continue a rolling update across the channels, or abort.

> and this may enforce a one-way upgrade with no ability to revert to v1.0 should problems arise.

Of course this depends on implementation, but I'm not sure why encoding it into the config precludes the possibility of rollback.  In general, elements may be deleted from a configuration with a configuration update.  I would agree, it would most likely to be problematic to roll-back while leaving the v1.1 config in place.

> Forward compatibility:
> This is more challenging and needs to be considered if it is indeed something that should be addressed or not.

I think this is something maybe we need to answer first.  
* Do we want to allow a fabric channel to operate in a mixed-version-mode across version boundaries?  
* What do we expect the typical upgrade process to follow?

Here is the first proposal which comes to mind:

1. Channel members agree to move to next version of fabric
2. Channel members upgrade their peer code to v1.1, but leave the chain running in v1.0 mode
3. Channel members agree that there are no longer peers running the v1.0 code on the channel
4. Channel members send a config transaction which sets the fabric version of the channel to v1.1
5. Any peers which were not upgraded to v1.1 (should be none) fail to process the config update because of the unknown version
6. All remaining and upgraded channel peers have a discrete and deterministic point to begin applying v1.1 logic (such as endorsement cert expiration validation), which does not require downtime;;;","31/May/17 12:08 AM;yacovm;{quote}Do we want to allow a fabric channel to operate in a mixed-version-mode across version boundaries?  {quote}
I think it makes sense, no?If you have 3 orgs: A, B, C and they have channels: X: {A, B} and Y: {B, C} 
and org A upgraded to v1.1, what should org B do? It needs to do business with org C which is at version v1.0;;;","31/May/17 12:20 AM;yacovm;{quote} Any peers which were not upgraded to v1.1 (should be none) fail to process the config update because of the unknown version{quote}
Where does the version exist in the current code? Can you point me to the proto field you're talking about?;;;","31/May/17 2:26 AM;jyellick;> and org A upgraded to v1.1, what should org B do? It needs to do business with org C which is at version v1.0

I would agree that \{A,B} wishing to transact with fabric 1.1 not require \{B,C} to do so. 

Note though that the question was: ""Do we want to allow a fabric **channel** to operate in a mixed-version-mode"" (emphasis added).  So I would assert that \{A,B} can choose to move to 1.1 without requiring \{B,C} to do so, because they would be different channels.

> Where does the version exist in the current code? Can you point me to the proto field you're talking about?

It does not.  The more accurate statement would be to say that, any peers which were not upgraded to v1.1 fail to process the config update because of the unknown config field ""version"".  Then, for v1.1 to v1.2 the value of version would be incremented.;;;","31/May/17 2:53 AM;yacovm;{quote}Note though that the question was: ""Do we want to allow a fabric *channel* to operate in a mixed-version-mode"" (emphasis added).{quote}

Well but if all of the peers in org B were in both channels that'd require to bring up new peers, wait for them to sync, change anchor peers in one of the channels, etc. etc.
It's quite difficult and complex.

I think that we should:
# Consider either adding a version field now to the block header as this solves the forward compatibility problem easily, or:
# Think thoroughly along your line of thought with the structured upgrade

But in any case I think this should be at least planned and thought about.
;;;","31/May/17 7:36 PM;mastersingh24;Actually, block validation should not be related to channels / channel config at all.  Peer's validate blocks / transactions based on the VSCC which is associated with chaincode.  So validation is actually associated with chaincode and not with a channel -   https://github.com/hyperledger/fabric/blob/master/core/committer/txvalidator/validator.go#L500

And technically we provide the ability to specify the VSCC for chaincode during chaincode deploy/instantiate ( https://github.com/hyperledger/fabric/blob/master/core/scc/lscc/lscc.go#L774 )  as well as during chaincode upgrade ( https://github.com/hyperledger/fabric/blob/master/core/scc/lscc/lscc.go#L827 ) .

My take has been that we would NOT change the current vscc but rather we would add a new vscc and if people want to use it, they would choose it during deploy or upgrade of chaincode.  Now clearly if the vscc does not exist (i.e. in would be in v1.x and not v1.0) endorsement for the upgrade / instantiate should fail.

I'm not sure that we handle all the error scenarios with missing / wrong vscc /escc - so we should make sure we address those

Tagging [~muralisr];;;","31/May/17 7:47 PM;yacovm;{quote}Actually, block validation should not be related to channels / channel config at all. Peer's validate blocks / transactions based on the VSCC which is associated with chaincode. So validation is actually associated with chaincode and not with a channel - https://github.com/hyperledger/fabric/blob/master/core/committer/txvalidator/validator.go#L500{quote}
The code that has changed to address the issue of the time based certificate validation is in the mspimpl.go which is global in the peer and not per VSCC.
(Tagging [~adc] and [~elli-androulaki] to confirm and/or chime in on this)

ok so let me play devil's advocate here.
We have a channel and a CC with 2 orgs - orgA and orgB. The ordering service is in orgA (yeah I know that it's supposed to be separate but lets assume it's not because it's not important)
orgA has upgraded its peers and ordering service to v1.1 where the code does time-based certificate validation and orgB is still in v1.0
a peer in orgB gets a block from a peer in orgA and the block has a transaction that its endorser's certificate has expired.
How does the peer in orgB get to the point where it does not process the block at all? 
Note that this is the only thing that a peer in orgB can do since it doesn't possess the logic required to process the block as orgA since, well - the code is written in the future and orgB lives in the past.

Are you saying that orgA would upgrade all the chaincodes in the channel and put a different VSCC or something?;;;","31/May/17 8:25 PM;yacovm;Another option that we should consider is perhaps when we reach v1.1 - tell customers/users that if they want to do ""business"" with organizations that run v1.1 code, they have to apply a patch, and the patch would contain the needed protobuf addition from v1.1 + a code section that would stop processing the chain once the new populated field from v1.1 would be detected.

This requires out of band sync but we could make the migration process seamless with this.;;;","01/Jun/17 6:01 AM;binhn;[~yacovm]
{quote}This requires out of band sync but we could make the migration process seamless with this.
{quote}
In general, compatibility is much more difficult when the changes involve:
 # changing protocol (as in this case)
 # changing ledger structure

Currently we do have a protocol version defined (Header.ChannelHeader.Version) and set to 0. This header is in every transaction and proposal; however, only few places that we use this field, so the 1.0 code currently is not ready to handle forward compatibility. It will require 1.1 to patch up.

In addition, the ledger files don't contain an explicit version. Discussing with [~jyellick] and [~denyeart] on how to manage ledger compatibility, we need to have some kind of version written on the ledger so that the code can decide to load or not. We can use this JIRA to discuss a story for upgrade.

Here are my thoughts: 
 # We leverage the `version` field in the protocol in post 1.0 development
 # We increase this version to the next one (eg 1.01) if we change protocol
 # Release 1.0 doesn't know about this, so it would likely to either blow up or process incorrectly – forward compatibility issue that we will have to patch like you suggested or just require upgrade
 # Post 1.0 new code checks version and process; errors if version not supported
 # At some point post 1.0, we need to do checkpoint on block validation to weed out minority peers with incompatible releases.
 # After that (eg 2.0), we will be able to handle compatibility

In summary, this is post 1.0 

Thoughts?;;;","01/Jun/17 6:16 AM;yacovm;The channel header is in a client call though, no? This means you have to enforce that customers upgrade the clients to v1.1, because you somehow have to enforce that the client sends a proposal with the ""next"" version and that means also no ability for clients to talk to v1.1 chains/orderers (don't know that code *that* well). 
{quote}
We can use this JIRA to discuss a story for upgrade.{quote}
+1;;;","02/Jun/17 2:14 AM;binhn;Right, the message is sent from the client app, and the version is set by the sdk. So if the app wants to use the new version of the protocol, and it uses the SDK, then the SDK must be upgraded. ;;;","02/Jun/17 9:59 AM;elli-androulaki;So would we then reach to a level where transactions submitted in the channel can correspond to different protocol version and still get validated? E.g., we have tx1-> tx2 -> tx3, and then tx2 using protocol version 1, tx1 and tx3 using protocol version 2,and all being properly validated?

 

I feel that for certain cases, e.g., block format, msp version, could be easier if they were just another config parameter of the config of the channel and msp respectively, modifiable by properly authorized request.

 

In this case msp config would be enhanced with a version number, as is the block structure (as Yacov was saying).

As binaries with support of the new version of each of them are installed on the nodes:

  - old versions are still supported until the new version becomes active

  - new version is not active till a version activation config tx goes into the blockchain (from properly authorized parties) and validated

Essentially a similar mechanism as for installation/instantiation of chaincodes.

 

Regarding the FIX-VERSION of this FAB, [~yacovm], [~angelo.decaro], [~binhn], [~mastersingh24], [~jyellick] do you agree that we label this for *post v1*? Is there something that you think we ought to do for v1 related to this task?

 ;;;","02/Jun/17 3:11 PM;yacovm;{quote}Is there something that you think we ought to do for v1 related to this task?{quote}
Agree on a concrete upgrade plan and guidelines from v1.0 v1.1 so that customers that would wish to upgrade their system won't get stuck, or assert that there is no need of one, because of such and such reasons.

{quote}Release 1.0 doesn't know about this, so it would likely to either blow up or process incorrectly – forward compatibility issue that we will have to patch like you suggested or just require upgrade{quote}
[~binhn] regarding the version field of the channel header - I looked in the IDE and it doesn't seem like someone reads the value, only writes.
So if we want to make such a change we need to include it in v1.0;;;","06/Jun/17 8:39 PM;yacovm;Since this would be likely be resolved with documentation and not with code change, and there isn't really anything to do regarding to crypto, changed the component to fabric-docs;;;","30/Jul/19 11:59 AM;mastersingh24;No activity in a year or more;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Non consortium configuration are not working anymore with alpha2,FAB-4205,17231,,Story,Closed,FAB,Fabric,software,denyeart,,,Low,Done,jyellick,mffrench,mffrench,30/May/17 5:16 AM,21/Jul/18 3:53 AM,28/Oct/23 2:59 AM,02/Jun/17 10:06 AM,v1.0.0-alpha2,,,v1.0.0,,fabric-orderer,,,,,,,0,configuration,,,,,,,"Hello,

this is probably not a bug but instead a little improvement request to provide better error message. But it's not clear to me if non consortium profile configuration are still planned to be supported or not. 

So with following profile configuration : 


{code:java}
---
Profiles:

Elixir:
Orderer:
<<: *OrdererDefaults
Organizations:
- *Org0
Application:
<<: *ApplicationDefaults
Organizations:
- *Org0
- *Org1

Organizations:
- &Org0
Name: Org0
ID: Org0
MSPDIR: somedir
AdminPrincipal: Role.ADMIN
BCCSP:
Default: SW
SW:
Hash: SHA2
Security: 256
# Location of Key Store. If this is unset, a location will
# be chosen using 'MSPDir'/keystore
FileKeyStore:
KeyStore:
AnchorPeers:
- Host: p0.org0
Port: 7051

- &Org1
Name: Org1
ID: Org1
MSPDIR: somedir
AdminPrincipal: Role.ADMIN
BCCSP:
Default: SW
SW:
Hash: SHA2
Security: 256
# Location of Key Store. If this is unset, a location will
# be chosen using 'MSPDir'/keystore
FileKeyStore:
KeyStore:
AnchorPeers:
- Host: p0.org1
Port: 7051

Orderer: &OrdererDefaults
OrdererType: solo
Addresses:
- o0.org0:7050
BatchTimeout: 2s
BatchSize:
MaxMessageCount: 10
AbsoluteMaxBytes: 99 MB
PreferredMaxBytes: 512 KB
MaxChannels: 0
Kafka:
Brokers:
- 127.0.0.1:9092
Organizations:

Application: &ApplicationDefaults
Organizations:
{code}

Fabric orderer is raising following panic :


{code:java}
2017-05-29 17:47:47.750 UTC [orderer/multichain] NewManagerImpl -> CRIT 004 No system chain found
panic: No system chain found

goroutine 1 [running]:
panic(0xb03220, 0xc42025dde0)
/opt/go/src/runtime/panic.go:500 +0x1a1
github.com/hyperledger/fabric/vendor/github.com/op/go-logging.(*Logger).Panicf(0xc4201d4ab0, 0xc25168, 0x15, 0x0, 0x0, 0x0)
/opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/op/go-logging/logger.go:194 +0x127
github.com/hyperledger/fabric/orderer/multichain.NewManagerImpl(0x11af3c0, 0xc420346120, 0xc42032ad80, 0x11acbc0, 0x11f3900, 0x0, 0x0)
/opt/gopath/src/github.com/hyperledger/fabric/orderer/multichain/manager.go:139 +0x5d3
main.main()
/opt/gopath/src/github.com/hyperledger/fabric/orderer/main.go:174 +0x179d
{code}

If non consortium profile are still supported it seems to me systemChain and systemChainID should be defined in orderer/multichain/manager.go :


{code:java}
--- a/orderer/multichain/manager.go
+++ b/orderer/multichain/manager.go
@@ -130,6 +130,8 @@ func NewManagerImpl(ledgerFactory ledger.Factory, consenters map[string]Consente
consenters,
signer)
ml.chains[string(chainID)] = chain
+ ml.systemChannelID = chainID
+ ml.systemChannel = chain
chain.start()
}
{code}

If non consortium profile are not supported anymore, we should not be able to generate any ChannelTx through configtxgen and raise a configuration issue panic...

Let me know what you think.

Best,

Mathilde",,jyellick,kchristidis,mffrench,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzxxdz:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,jyellick,kchristidis,mffrench,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"30/May/17 11:07 PM;jyellick;> this is probably not a bug but instead a little improvement request to provide better error message.

Agreed that this error message may be a little cryptic.  In brief, the orderer identifies the ordering system channel, by looking for a channel with a ""Consortiums"" group defined in its configuration.  Because it is not finding one, and the orderer requires an ordering system channel to function properly, it is shutting down.

> But it's not clear to me if non consortium profile configuration are still planned to be supported or not.

It is supported to run in a configuration where there are no consortiums defined, but the configuration element, which contains an empty set of consortiums must be defined (in order to facilitate identifying the ordering system channel).

> If non consortium profile are not supported anymore, we should not be able to generate any ChannelTx through configtxgen and raise a configuration issue panic...

We could add a warning message to the configtxgen tool, if the command is invoked to generate a genesis block which is not appropriate for an ordering system channel (the standard use case).  I would be hesitant to make this a fatal error however, because configtxgen can also be used to produce block artifacts for testing which may not be intended to be used for ordering bootstrap.;;;","31/May/17 2:31 PM;jyellick;https://gerrit.hyperledger.org/r/#/c/9959/ adds a warning message to the configtxgen tool, and makes the missing system channel message more verbose.;;;","31/May/17 11:32 PM;kchristidis;> I would be hesitant to make this a fatal error however, because configtxgen can also be used to produce block artifacts for testing which may not be intended to be used for ordering bootstrap.

I'll admit my initial reaction was that this should be a fatal error. Can you name an example artifact that triggers the `doOutputBlock` path in configtxgen but won't be used for ordering bootstrap?;;;","01/Jun/17 3:11 AM;jyellick;> I'll admit my initial reaction was that this should be a fatal error. Can you name an example artifact that triggers the `doOutputBlock` path in configtxgen but won't be used for ordering bootstrap?

Rather than start an orderer, and send a channel create tx, to produce a new channel, then call deliver to receive a block (essentially, everything that {{peer channel create}} does.  Instead, {{configtxgen}} can simply create a block, with the desired parameters.  This seemed useful to me for doing things like chaincode tests, or other peer tests without standing up an ordering service.

Maybe this is not valuable enough, and we should simply make this a fatal error.  I'm open to doing this as well.;;;","01/Jun/17 3:20 AM;kchristidis;Gotcha, thanks.

[~mffrench]: Your take?;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Endorser Filters (aka Auth Handler),FAB-4207,17233,,Story,Closed,FAB,Fabric,software,denyeart,,,High,Done,yacovm,troyronda,troyronda,30/May/17 8:12 AM,21/Jul/18 3:56 AM,28/Oct/23 2:59 AM,12/Aug/17 10:33 PM,v1.0.0,,,v1.1.0,,fabric-peer,,,,,,,6,Release-planning-1.1,,,,,,,"As a fabric deployer, I would like to customize the pre-processing of a transaction proposal so that I can plugin custom validation and filters on transactions from clients in my deployment.
 * Enables pre-processing of transaction proposals from clients.
 * Pre-processing determines the validity of transaction proposals. Can stop processing if the transaction proposal hasn't been created by an appropriate client.
 * Can modify the inputs to the UCC. Can pass additional information to the UCC.
 * Is a pluggable component (can be created/used without changing fabric).
 * In more advanced cases, a filter pipeline can be created that allows chaining of a set of filters. Each filter in the chain can allow REJECT, CONTINUE, PASS logic.

*Example*
 * FAB-2447 desires pluggable validation of client certificates - a pre-processing filter could allow this.",,aleksandar.likic,binhn,daijianw,divyank,jiangyaoguo,mastersingh24,troyronda,vdods,yacovm,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-2447,FAB-3036,,,,FAB-5378,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzxxe7:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,aleksandar.likic,binhn,daijianw,divyank,jiangyaoguo,mastersingh24,troyronda,vdods,yacovm,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"27/Jun/17 4:00 AM;yacovm;So that's basically a system chaincode that does filtering on proposals and proposals that pass it - continue to the chaincode simulation, right? ;;;","03/Jul/17 2:11 AM;mastersingh24;Looks like https://github.com/hyperledger/fabric/blob/master/core/endorser/endorser.go#L368  is the entry point to validating a proposal request and that https://github.com/hyperledger/fabric/blob/master/core/common/validation/msgvalidation.go#L70 is the validation function.

If we are solely concerned with signature validation, then https://github.com/hyperledger/fabric/blob/master/core/common/validation/msgvalidation.go#L96 is where to look;;;","06/Jul/17 2:47 AM;binhn;The current architecture for replacing the peer behavior is via system chaincode, so my thought is to replace Endorser.ProcessProposal function with TransactionSystemChaincode (TSCC) that would refactor the ProcessProposal function into multiple subfunctions:

# preprocess the transaction proposal
# validate the transaction proposal (check required fields, valid values, etc)
# verify signature
# check access control
# check transaction duplication
# exec (simulate) the transaction proposal
# endorse the transaction proposal

This would allow to replace or modify any of the steps or the entire TSCC.  The advantage is that when we can use Go plugin, the SCC would fit nicely with that model.

[~troyronda] thoughts?;;;","08/Jul/17 6:58 AM;troyronda;[~binhn] - Thanks ... looks good.

(with the clarification that each subfunction can pass along context /objects, and a context /objects can be passed into the chaincode).

 ;;;","19/Jul/17 6:53 PM;mastersingh24;This should be based on the updated SCC / plugin work being defined in FAB-5378;;;","28/Jul/17 6:24 PM;yacovm;https://docs.google.com/document/d/1dzP7wi_YPS39WASGFc1eXp6ANHShS1EMQ0J_AJ47YMc/edit;;;","07/Aug/17 12:31 AM;yacovm;This issue has 5 maintainer votes.

The change sets are in gerrit and can be reviewed starting from https://gerrit.hyperledger.org/r/#/c/12187/ and ending at https://gerrit.hyperledger.org/r/#/c/12203/

https://gerrit.hyperledger.org/r/#/c/12205/ is a sample change set that would be abandoned at the end of this week.  ;;;","09/Aug/17 4:28 PM;yacovm;I made a new design document https://docs.google.com/document/d/1vaWnE4TypKmA9j-2W-gA6YmmPMkco2uFgRx-rtf9PI8/edit?usp=sharing;;;","10/Aug/17 3:38 AM;aleksandar.likic;Would it be possible to add support for plugging in external SCCs (FAB-5688) into authentication chain? An external SCC is, from Fabric point of view, just another SCC, except it's executed outside of the peer process. As a system integrator, I would like to be able to plug in custom logic into authentication flow without modifying the peer code. We could have something like:
{code:java}
func (r *HandlerLibrary) SCCAuth(sccname string) auth.Filter {
// implementation that invokes the sccname SCC
}
{code}
and
{code:java}
func (r *HandlerLibrary) SCCDecorator(sccname string) decoration.Decorator {
// implementation that invokes the sccname SCC
}{code}
added to core/handlers/library, with the ability to inject sccname via peer configuration or docker-compose, and, of course, to chain multiple instances of SCCAuth/SCCDecorators in the authentication flow.

This is assuming FAB-5688 is accepted into v1.1.;;;","08/Sep/17 5:09 AM;aleksandar.likic;[~mastersingh24] [~yacovm] If we wanted to implement a filter as a go plugin, that would require libtool's presence in the peer container (to enable dynamic linking). This is currently not the case. Is there a plan to add libtool to the peer container for 1.1 or 1.2? This would also require dynamic compilation of the peer.;;;","08/Sep/17 6:09 AM;yacovm;I thought we can't even have 1.9 in the container until we merge https://gerrit.hyperledger.org/r/#/c/13219/ and its child and push the new images ?;;;","08/Sep/17 7:50 AM;divyank;Hi [~yacovm], I experimented with pluggable filters (by upgrading base image to 1.9 locally) and found that go plugins are not compatible with statically linked golang executables.

Also mentioned here: [https://github.com/golang/go/issues/19569#issuecomment-291955357]  (and surrounding discussion)

Removing the -static flag from the makefile and supplying libtool to the peer at runtime allowed me to load endorser filters as .so plugins dynamically.;;;","12/Sep/17 12:51 AM;divyank;Update: I reported the statically linked binary issue with loading plugins and the Go maintainers acknowledged this behaviour (bug report [here|https://github.com/golang/go/issues/21822]).

The only way to enable plugins is to not build statically.

I'm working on a change set that does so.

 ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
UT - github.com/hyperledger/fabric/core/chaincode,FAB-4208,17234,16908,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,muralisr,muralisr,muralisr,30/May/17 12:43 PM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,02/Jun/17 7:53 AM,v1.0.0-alpha2,,,v1.0.0,,,,,,,,,1,,,,,,,,replace chaincode heavy weight tests with proper UT,,ChristopherFerris,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-4046,,,,,,,,,,,,,,,,FAB-5914,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxxef:",,,,,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,muralisr,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"31/May/17 8:14 PM;muralisr;removing ""review-needed"" as the only code change is to refactor a few common error code sections.;;;","31/May/17 8:17 PM;ChristopherFerris;[https://gerrit.hyperledger.org/r/#/c/9911/3]

removing review-needed as there aren't substantial code changes as [~muralisr] had originally expected.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Network setup files,FAB-4210,17237,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,mastersingh24,Amjadnz,Amjadnz,30/May/17 9:57 PM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,27/Jun/17 4:56 AM,v1.0.0-rc1,,,v1.0.0,,fabric-samples,,,,,,,0,test,v1.0,,,,,,"The ./network_setup.sh fails with the following error:
{code:java}
Creating network ""darwinamd64_default"" with the default driver
Creating peer0.org1.example.com ...
Creating orderer.example.com ...
Creating peer1.org2.example.com ...
Creating peer1.org1.example.com ...
Creating orderer.example.com
Creating peer0.org2.example.com ...
Creating peer1.org2.example.com
Creating peer0.org1.example.com
Creating peer1.org1.example.com
Creating peer0.org2.example.com ... done
Creating cli ...
Creating cli ... done
/bin/bash: ./scripts/script.sh: No such file or directory
{code}
 The scripts folder is mapped fine the CLI peer node. But the scripts.sh file is missing.

Hence this error.

Login of the cli container
{code:java}
root@3db32660ad28:/opt/gopath/src/github.com/hyperledger/fabric/peer# ls -ltr
total 0
drwxr-xr-x 4 root root 80 May 30 11:59 crypto
drwxr-xr-x 3 root root 60 May 30 11:59 channel-artifacts
drwxr-xr-x 2 root root 40 May 30 11:59 scripts
root@3db32660ad28:/opt/gopath/src/github.com/hyperledger/fabric/peer# cd scripts
root@3db32660ad28:/opt/gopath/src/github.com/hyperledger/fabric/peer/scripts# ls -ltr
total 0{code}
This is not allowing me to complete the end to end testing of ALPHA2. Please help.

This is my environment:

OS : Mac OS X El Capitan

Docker Data: 

 
{code:java}
Client:
 Version: 1.12.2
 API version: 1.24
 Go version: go1.6.3
 Git commit: bb80604
 Built: Tue Oct 11 17:00:50 2016
 OS/Arch: darwin/amd64
Server:
 Version: 17.05.0-ce
 API version: 1.29
 Go version: go1.7.5
 Git commit: 89658be
 Built: Thu May 4 21:43:09 2017
 OS/Arch: linux/amd64
{code}
 ",,Amjadnz,ChristopherFerris,mastersingh24,weeds,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"14/Jun/17 12:33 PM;Amjadnz;Screen Shot 2017-06-14 at 7.32.38 AM.png;https://jira.hyperledger.org/secure/attachment/11057/Screen+Shot+2017-06-14+at+7.32.38+AM.png","16/Jun/17 10:07 PM;Amjadnz;Screen Shot 2017-06-16 at 5.06.14 PM.png;https://jira.hyperledger.org/secure/attachment/11182/Screen+Shot+2017-06-16+at+5.06.14+PM.png",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxxev:",,,,,,,,,,,,,,,,,,,,,,,,,,,Amjadnz,ChristopherFerris,mastersingh24,weeds,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"30/May/17 11:15 PM;Amjadnz;Another interesting finding. When docker compose starts the containrs - it shows it as done. In this case it was not showing.

After running the peer individually I could find this error:

 
{code:java}
Attaching to peer1.org1.example.com, orderer.example.com, peer1.org2.example.com, peer0.org2.example.com, peer0.org1.example.com, cli
peer1.org1.example.com | panic: Fatal error when setting up MSP from directory /etc/hyperledger/fabric/msp: err Could not load a valid signer certificate from directory /etc/hyperledger/fabric/msp/signcerts, err stat /etc/hyperledger/fabric/msp/signcerts: no such file or directory
peer1.org1.example.com | 
peer1.org1.example.com | 
orderer.example.com | 2017-05-30 14:10:41.346 UTC [orderer/main] main -> INFO 001 Starting orderer with TLS enabled
peer1.org1.example.com | goroutine 1 [running]:
peer1.org1.example.com | panic(0xc25580, 0xc4202002c0)
peer1.org1.example.com | /opt/go/src/runtime/panic.go:500 +0x1a1
peer1.org1.example.com | main.main()
peer1.org2.example.com | panic: Fatal error when setting up MSP from directory /etc/hyperledger/fabric/msp: err Could not load a valid signer certificate from directory /etc/hyperledger/fabric/msp/signcerts, err stat /etc/hyperledger/fabric/msp/signcerts: no such file or directory
orderer.example.com | 2017-05-30 14:10:41.357 UTC [orderer/main] main -> CRIT 002 Failed to load ServerCertificate file '/var/hyperledger/orderer/tls/server.crt' (open /var/hyperledger/orderer/tls/server.crt: no such file or directory)
peer1.org1.example.com | /opt/gopath/src/github.com/hyperledger/fabric/peer/main.go:114 +0x69b
peer1.org2.example.com | 
peer0.org2.example.com | panic: Fatal error when setting up MSP from directory /etc/hyperledger/fabric/msp: err Could not load a valid signer certificate from directory /etc/hyperledger/fabric/msp/signcerts, err stat /etc/hyperledger/fabric/msp/signcerts: no such file or directory
peer0.org1.example.com | panic: Fatal error when setting up MSP from directory /etc/hyperledger/fabric/msp: err Could not load a valid signer certificate from directory /etc/hyperledger/fabric/msp/signcerts, err stat /etc/hyperledger/fabric/msp/signcerts: no such file or directory
peer1.org2.example.com | 
peer0.org2.example.com | 
peer0.org1.example.com | 
orderer.example.com exited with code 1
peer1.org2.example.com | goroutine 1 [running]:
peer0.org2.example.com | 
peer0.org1.example.com | 
peer1.org1.example.com exited with code 2
peer1.org2.example.com | panic(0xc25580, 0xc4202022d0)
peer0.org2.example.com | goroutine 1 [running]:
peer0.org1.example.com | goroutine 1 [running]:
peer1.org2.example.com | /opt/go/src/runtime/panic.go:500 +0x1a1
peer0.org2.example.com | panic(0xc25580, 0xc4202002c0)
peer0.org1.example.com | panic(0xc25580, 0xc42020a2d0)
peer1.org2.example.com | main.main()
peer0.org2.example.com | /opt/go/src/runtime/panic.go:500 +0x1a1
peer0.org1.example.com | /opt/go/src/runtime/panic.go:500 +0x1a1
peer1.org2.example.com | /opt/gopath/src/github.com/hyperledger/fabric/peer/main.go:114 +0x69b
peer0.org2.example.com | main.main()
peer0.org1.example.com | main.main()
peer0.org2.example.com | /opt/gopath/src/github.com/hyperledger/fabric/peer/main.go:114 +0x69b
peer0.org1.example.com | /opt/gopath/src/github.com/hyperledger/fabric/peer/main.go:114 +0x69b
peer0.org2.example.com exited with code 2
peer1.org2.example.com exited with code 2
peer0.org1.example.com exited with code 2
cli exited with code 0
 
{code}
Here also there is a mapping issue. Seems like a an issue with DOCKER rather than HYPERLEDGER.

 ;;;","01/Jun/17 9:15 PM;ChristopherFerris;[~Amjadnz] Are you using the getting started download or building from source?;;;","07/Jun/17 1:19 PM;weeds;Added Amjad as owner in hope that he will answer where he is following instructions. Thanks. ;;;","13/Jun/17 8:39 AM;ChristopherFerris;[~Amjadnz] can you please respond to my question above? Would like more information on which version and how you were running the sample.;;;","13/Jun/17 9:03 AM;Amjadnz;Sorry [~ChristopherFerris] and [~weeds] - got stuck into somethings and could not respond.

Regarding the issue itself - I'm using the building from Source on a MAC Book Pro. The same is working fine on RHEL linux. 

Docker Version Output:

 
{code:java}
Client:
 Version: 1.12.2
 API version: 1.24
 Go version: go1.6.3
 Git commit: bb80604
 Built: Tue Oct 11 17:00:50 2016
 OS/Arch: darwin/amd64
Server:
 Version: 17.05.0-ce
 API version: 1.29
 Go version: go1.7.5
 Git commit: 89658be
 Built: Thu May 4 21:43:09 2017
 OS/Arch: linux/amd64
 
{code}
Any information do let me know.

 

 

 

 ;;;","13/Jun/17 7:47 PM;ChristopherFerris;May I ask which commit level you're at? Also, which version of MacOSX? I've tried this many times and cannot recreate. Have you tried building from a more recent commit?;;;","14/Jun/17 12:33 PM;Amjadnz;!Screen Shot 2017-06-14 at 7.32.38 AM.png!;;;","14/Jun/17 12:35 PM;Amjadnz;On the commit level - 

 

 
{code:java}
Merge: 8e5f2d5 dd5b1fc
Author: Gari Singh <gari.r.singh@gmail.com>
Date: Tue May 30 10:59:01 2017 +0000
Merge ""[FAB-4116] core/policy test coverage""
{code}
 ;;;","14/Jun/17 10:33 PM;ChristopherFerris;I'd recommend that you pull a more current commit level or use the published release binaries and images. The script.sh has never been missing from the repository, so I can't imagine why it would be missing in your clone unless you deleted it.;;;","16/Jun/17 7:22 AM;mastersingh24;[~Amjadnz] Are you using Docker for Mac or Docker Toolbox?;;;","16/Jun/17 10:05 PM;Amjadnz;I have docker installed on the MAC long back - need t check. However I have this logo and the login screen looks like this if this can help.

 
{code:java}
Amjads-MacBook-Pro:~ amjad$ env | grep DOCKER
DOCKER_HOST=tcp://192.168.99.100:2376
DOCKER_MACHINE_NAME=default
DOCKER_TLS_VERIFY=1
DOCKER_CERT_PATH=/Users/amjad/.docker/machine/machines/default
Amjads-MacBook-Pro:~ amjad$
{code}
the app is in the /Applications and as far as documentation goes looks like ""Docker For Mac"" and not docker toolbox.;;;","16/Jun/17 10:07 PM;Amjadnz;!Screen Shot 2017-06-16 at 5.06.14 PM.png!;;;","16/Jun/17 10:13 PM;Amjadnz;More info on my setup:

Amjads-MacBook-Pro:~ amjad$ docker-machine ls
{code:java}
NAME ACTIVE DRIVER STATE URL SWARM DOCKER ERRORS
default * virtualbox Running tcp://192.168.99.100:2376 v17.05.0-ce {code}
Amjads-MacBook-Pro:~ amjad$ docker version
{code:java}
Client:
 Version: 1.12.2
 API version: 1.24
 Go version: go1.6.3
 Git commit: bb80604
 Built: Tue Oct 11 17:00:50 2016
 OS/Arch: darwin/amd64
Server:
 Version: 17.05.0-ce
 API version: 1.29
 Go version: go1.7.5
 Git commit: 89658be
 Built: Thu May 4 21:43:09 2017
 OS/Arch: linux/amd64
{code}




 ;;;","23/Jun/17 11:42 PM;mastersingh24;Looks like Docker Toolbox for Mac rather than Docker for Mac

As I recall, Docker Toolbox only allows you to mount external volumes located under the \{\{/Users}} folder;;;","26/Jun/17 7:32 PM;mastersingh24;I'll take this as I think we need to add some troubleshooting or FAQ about Docker Toolbox (and Docker for Mac / Windows as well) when it comes to mounting volumes;;;","26/Jun/17 11:17 PM;mastersingh24;https://gerrit.hyperledger.org/r/11149;;;","27/Jun/17 4:56 AM;mastersingh24;Here's the note in the updated RTD:   [http://hyperledger-fabric.readthedocs.io/en/latest/samples.html]

I'm going to close this for now as all signs point to this being the issue.  Please give the new rc1 images and samples a try paying attention to the note above.  If you still have the issue, please re-open this and/or create a new defect;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Cut v1.0.0-alpha3 release,FAB-4212,17239,,Task,Closed,FAB,Fabric,software,denyeart,,,High,Done,JonathanLevi,ChristopherFerris,ChristopherFerris,30/May/17 10:47 PM,27/Nov/19 3:06 AM,28/Oct/23 2:59 AM,07/Jun/17 9:07 AM,v1.0.0-alpha2,,,WON'T FIX,,fabric-build,fabric-ca-build,fabric-sdk-java,fabric-sdk-node,,,,0,build-system,,,,,,,"Prepare and publish v1.0.0-alpha3 release of Hyperledger Fabric 

 

Some related discussions also took place [here|https://docs.google.com/document/d/1mPTMjXG_b-mgZd2_EUN9W-82ez0PrWoxIiPgcAAABwE/edit#heading=h.7ylvqvqpim4]. ",,ChristopherFerris,harsha544,JonathanLevi,kchristidis,lehors,muralisr,troyronda,,,,,,,,,,,,,,57600,57600,,0%,172800,172800,,,FAB-4185,FAB-4002,FABC-262,FAB-3215,FAB-4237,FABN-263,FAB-1678,FAB-4271,FAB-3054,FABCT-22,FABJ-165,FABN-487,FABC-561,FAB-4325,,,,,,,,,,,,,,,FAB-4379,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3040,,,,,,,,,,"1|hzx473:",,,,,,,,,,,,,,,2.0,,,,,,,,,,,,ChristopherFerris,harsha544,JonathanLevi,kchristidis,lehors,muralisr,troyronda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"30/May/17 11:38 PM;ChristopherFerris;Are there any blockers? The docs are not updated, and it would be good to include some of the improvements in the pipeline.;;;","30/May/17 11:51 PM;ChristopherFerris;If FAB-4002 is going to be merged it should be in beta.;;;","30/May/17 11:53 PM;ChristopherFerris;Think fab-4097 should be merged before we cut beta;;;","30/May/17 11:54 PM;ChristopherFerris;All Highest bugs should be addressed if possible.;;;","31/May/17 12:24 AM;ChristopherFerris;Do we include (and therefore wait for) Jason's changes related to: FAB-1678?;;;","31/May/17 12:28 AM;JonathanLevi;I think we should wait for all of [~jyellick] 's FAB-1678 sub-tasks that are in review... other than the documentation ones. ;;;","31/May/17 12:52 AM;muralisr;a task to vet Getting Started for content and links ?;;;","31/May/17 12:56 AM;JonathanLevi;[~muralisr], most certainly, thanks. Here we go: https://jira.hyperledger.org/browse/FAB-4237;;;","06/Jun/17 3:44 AM;ChristopherFerris;I'm re-branding this for alpha3 since we are not ready for beta just yet. Will create a new JIRA for beta and move some of the relevant blockers over to the new JIRA issue.;;;","07/Jun/17 7:10 AM;lehors;Isn't this missing some task to upload the Getting Started tarballs as well?

This is what wasn't done until Saturday last time around, leaving everybody scrambling trying to get their hands on the script and tarball they needed.

 ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
artifact peer and orderer docker logs from behave tests,FAB-4214,17241,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,rameshthoomu,rameshthoomu,30/May/17 11:06 PM,21/Jul/18 3:54 AM,28/Oct/23 2:59 AM,03/Jun/17 5:40 AM,v1.0.0-alpha2,,,v1.0.0,,fabric-build,fabric-quality,,,,,,0,quality,,,,,,,"artifact peer and orderer docker logs from behave tests. Update below command to enable docker logs from behave tests

`behave -k -D logs=force cache-deployment-spec` [enable docker logs forcibly in both success and failure case]
`behave -k -D logs=y cache-deployment-spec` [enable docker logs in failure case]
",,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzxxfb:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"31/May/17 12:28 AM;rameshthoomu;Submitted patch and it's in review.. ;;;","03/Jun/17 5:40 AM;rameshthoomu;Patch has been submitted and merged. Now Behave tests publish docker logs in both success or failure cases. To access docker logs, click on the build number and click on docker logs showing on build job output.. ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
prepare Makefile for v1.0.0-alpha3 release,FAB-4215,17242,17239,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,greg.haskins,ChristopherFerris,ChristopherFerris,30/May/17 11:14 PM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,07/Jun/17 9:07 AM,,,,WON'T FIX,,fabric-build,,,,,,,0,build-system,,,,,,,"BASE_VERSION = 1.0.0-alpha3
 PREV_VERSION = 1.0.0-alpha2
 IS_RELEASE = true

docs/source/releases.rst should be updated with prose and link to release page

change log should be generated and linked from docs/source/releases.rst",,ChristopherFerris,,,,,,,,,,,,,,,,,,,,3600,3600,,0%,3600,3600,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-4222,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxxfj:",,,,,,,,,,,,,,,1.0,,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
prepare Makefile for v1.0.0-alpha3 release,FAB-4216,17243,17239,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,greg.haskins,ChristopherFerris,ChristopherFerris,30/May/17 11:15 PM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,07/Jun/17 9:07 AM,v1.0.0-alpha2,,,WON'T FIX,,fabric-ca-build,,,,,,,0,build-system,,,,,,,"BASE_VERSION = 1.0.0-alpha3
 IS_RELEASE = true

 ",,ChristopherFerris,,,,,,,,,,,,,,,,,,,,3600,3600,,0%,3600,3600,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-4223,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxxfr:",,,,,,,,,,,,,,,1.0,,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
prepare Makefile for v1.0.0-beta,FAB-4217,17244,17239,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,greg.haskins,ChristopherFerris,ChristopherFerris,30/May/17 11:17 PM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,07/Jun/17 9:08 AM,v1.0.0-beta,,,WON'T FIX,,fabric-ca-build,,,,,,,0,build-system,,,,,,,"PROJECT_NAME = fabric-ca
 BASE_VERSION = 1.0.0-beta
 IS_RELEASE = false",,ChristopherFerris,,,,,,,,,,,,,,,,,,,,3600,3600,,0%,3600,3600,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxxfz:",,,,,,,,,,,,,,,1.0,,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
System test 24hr multihost - 16threads,FAB-4218,17245,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,suryalnvs,suryalnvs,suryalnvs,30/May/17 11:23 PM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,10/Jul/18 3:23 AM,v1.0.0-alpha2,,,v1.0.0,,fabric-quality,,,,,,,0,quality,,,,,,,"* {color:#333333}Test Name: FAB-4218, performance 24 hr multihost - 16 threads{color}
 * {color:#333333}Component{color}{color:#333333}:  Longrun test with a concurrency of 16 and TLS disabled. {color}
 * +Description+: Send invoke transactions for 24hrs (with 1 invoke per 1 second) concurrently to 1 peer in both orgs,
 query the ledger to ensure the last transaction was written,
 calculate tps, remove network and cleanup.
 * {color:#333333}Artifact Locations{color}{color:#333333}: crypto-config{color}
 * {color:#333333}Network Topology{color}{color:#333333}: 2 Ord, 3 KB, 3 ZK, 2 Org, 8 Peers in each organization, 1 ca for each org, 2 Channel, 1 CC, 16 threads
 Launch standard network on multihosts, use PTE in longrun mode{color}
 * {color:#333333}Client Driver{color}{color:#333333}: PTE{color}
 * {color:#333333}Input: ./pte_driver.sh userInputs/runCases-longrun-i.txt{color}
 * {color:#333333}Output:
 The benchmark passes if it completes without any error.
 The benchmark fails if it encounters error or does not complete, or any query fails.{color}",,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxxg7:",,,,,,,,,,,,,,,,,,,,,,,,,,,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
prepare Makefile for v1.0.0-beta,FAB-4219,17246,17239,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,greg.haskins,ChristopherFerris,ChristopherFerris,30/May/17 11:25 PM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,07/Jun/17 9:08 AM,v1.0.0-beta,,,WON'T FIX,,fabric-build,,,,,,,0,build-system,,,,,,,"BASE_VERSION = 1.0.0-beta
 PREV_VERSION = 1.0.0-alpha3
 IS_RELEASE = false",,ChristopherFerris,,,,,,,,,,,,,,,,,,,,3600,3600,,0%,3600,3600,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxxgf:",,,,,,,,,,,,,,,1.0,,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
System test 72hr multihost - 2 threads,FAB-4220,17247,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,suryalnvs,suryalnvs,suryalnvs,30/May/17 11:26 PM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,10/Jul/18 3:23 AM,v1.0.0-alpha2,,,v1.0.0,,fabric-quality,,,,,,,0,quality,,,,,,,"* {color:#333333}Test Name: FAB-4220, performance 72 hr multi-host - 2 threads{color}
 * {color:#333333}Component{color}{color:#333333}:  Longrun test with a concurrency of 2 and TLS disabled. {color}
 * +Description+: Send invoke transactions for 72hrs (with 1 invoke per 1 second) concurrently to 1 peer in both orgs,
 query the ledger to ensure the last transaction was written,
 calculate tps, remove network and cleanup.
 * {color:#333333}Artifact Locations{color}{color:#333333}: crypto-config{color}
 * {color:#333333}Network Topology{color}{color:#333333}: 2 Ord, 3 KB, 3 ZK, 2 Org, 2 Peers in each organization, 1 ca for each org, 2 Channels, 1 CC, 2 threads
 Launch standard network on multihosts, use PTE in longrun mode{color}
 * {color:#333333}Client Driver{color}{color:#333333}: PTE{color}
 * {color:#333333}Input: ./pte_driver.sh userInputs/runCases-longrun-i.txt{color}
 * {color:#333333}Output:{color}{color:#333333}The benchmark passes if it completes without any error.
 The benchmark fails if it encounters error or does not complete, or any query fails.{color}",,akuma921,asuchit,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxxgn:",,,,,,,,,,,,,,,,,,,,,,,,,,,akuma921,asuchit,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"16/Aug/17 9:43 PM;akuma921;Any update on this task, I am getting error while invoking chaincode in multi threaded way:

 

org.hyperledger.fabric.sdk.exception.TransactionEventException: Received invalid transaction event. Transaction ID f6b36de2c9acfa73afb0add9199cdca4d9372e91f8025ae8334d5894d4465ddb status 11

                at com.aexp.blockchain.hyp.integrationTests.ParallelReq.run(ParallelReq.java:136)

                at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)

                at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)

                at java.lang.Thread.run(Thread.java:745)

Caused by: java.util.concurrent.ExecutionException: java.util.concurrent.ExecutionException: org.hyperledger.fabric.sdk.exception.TransactionEventException: Received invalid transaction event. Transaction ID f6b36de2c9acfa73afb0add9199cdca4d9372e91f8025ae8334d5894d4465ddb status 11

                at java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:357)

                at java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1895)

                at com.aexp.blockchain.hyp.integrationTests.ParallelReq.run(ParallelReq.java:131)

                ... 3 more;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
update Getting Started link to resolve to v1.0.0-alpha3 bootstrap.sh,FAB-4221,17248,17239,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ChristopherFerris,ChristopherFerris,ChristopherFerris,30/May/17 11:40 PM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,07/Jun/17 9:08 AM,v1.0.0-alpha2,,,WON'T FIX,,fabric-docs,,,,,,,0,Documentation,,,,,,,create shortened URL that resolves to v1.0.0-beta tagged version of bootstrap.sh,,ChristopherFerris,nickgaski,,,,,,,,,,,,,,,,,,,3600,3600,,0%,3600,3600,,,FAB-4325,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-4325,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxxgv:",,,,,,,,,,,,,,,1.0,,,,,,,,,,,,ChristopherFerris,nickgaski,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"01/Jun/17 11:56 PM;nickgaski;I think you can close this [~ChristopherFerris] - yes? ;;;","02/Jun/17 9:40 PM;ChristopherFerris;Yes, but we're going to need to use a different filename or we screw things up for alpha2. Basically, we need to a) change the bootstrap.sh name (could be copied to a different directory) and we are going to need to create the goo.gl short URL from the raw URL for a specific commit, and have that committed before we cut the release.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
tag v1.0.0-alpha3 release of fabric,FAB-4222,17249,17239,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,JonathanLevi,ChristopherFerris,ChristopherFerris,30/May/17 11:42 PM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,07/Jun/17 9:09 AM,v1.0.0-beta,,,WON'T FIX,,fabric-build,,,,,,,0,build-system,,,,,,,"tag release with a commit message that includes:

release notes

known vulnerabilities

other known issues

changelog link",,ChristopherFerris,,,,,,,,,,,,,,,,,,,,3600,3600,,0%,3600,3600,,,FAB-4215,FAB-4230,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxxh3:",,,,,,,,,,,,,,,1.0,,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"06/Jun/17 12:11 AM;ChristopherFerris;Note if [https://gerrit.hyperledger.org/r/#/c/10153/] is merged, then the command for creating the fabric v1.0.0-beta tag would be:

cd <fabric root dir>

git tag {{\-a v1.0.0-beta }} \-F release_notes/v1.0.0\-beta.md <commit sha>;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
tag v1.0.0-alpha3 release of fabric-ca,FAB-4223,17250,17239,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,JonathanLevi,ChristopherFerris,ChristopherFerris,30/May/17 11:44 PM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,07/Jun/17 9:09 AM,v1.0.0-beta,,,WON'T FIX,,fabric-ca-build,,,,,,,0,build-system,,,,,,,"tag release with a commit message that includes:

release notes

known vulnerabilities

other known issues

changelog link

create change log",,ChristopherFerris,,,,,,,,,,,,,,,,,,,,3600,3600,,0%,3600,3600,,,FAB-4216,FAB-4231,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxxhb:",,,,,,,,,,,,,,,1.0,,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"06/Jun/17 12:12 AM;ChristopherFerris;If https://gerrit.hyperledger.org/r/#/c/10157/ is merged, then the command for creating the fabric v1.0.0-beta tag would be:

cd <fabric-ca root dir>

git tag {{-a v1.0.0-beta }} -F release_notes/v1.0.0-beta.md <commit sha>;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
publish v1.0.0-alpha3 release node sdk,FAB-4224,17251,17239,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jimthematrix,ChristopherFerris,ChristopherFerris,30/May/17 11:46 PM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,07/Jun/17 9:10 AM,v1.0.0-alpha2,,,WON'T FIX,,fabric-sdk-node,,,,,,,0,build-system,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,28800,28800,,0%,28800,28800,,,FAB-4227,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxxhj:",,,,,,,,,,,,,,,1.0,,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
publish v1.0.0-alpha3 java sdk,FAB-4225,17252,17239,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jimthematrix,ChristopherFerris,ChristopherFerris,30/May/17 11:47 PM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,07/Jun/17 9:10 AM,v1.0.0-alpha2,,,WON'T FIX,,fabric-sdk-java,,,,,,,0,build-system,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,28800,28800,,0%,28800,28800,,,FAB-4228,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxxhr:",,,,,,,,,,,,,,,1.0,,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
tag v1.0.0-alpha3 for fabric-sdk-node,FAB-4227,17254,17239,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jimthematrix,ChristopherFerris,ChristopherFerris,31/May/17 12:14 AM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,07/Jun/17 9:09 AM,v1.0.0-alpha2,,,WON'T FIX,,fabric-sdk-node,,,,,,,0,,,,,,,,"tag release with a commit message that includes:

release notes

known vulnerabilities

other known issues

changelog link

create change log 

 ",,ChristopherFerris,,,,,,,,,,,,,,,,,,,,3600,3600,,0%,3600,3600,,,FAB-4232,,,,,,,,,,,,,,,,,,,,,,,,FAB-4224,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxxhz:",,,,,,,,,,,,,,,1.0,,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
tag v1.0.0-alpha3 release of fabric-sdk-java,FAB-4228,17255,17239,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jimthematrix,ChristopherFerris,ChristopherFerris,31/May/17 12:15 AM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,07/Jun/17 9:10 AM,v1.0.0-alpha2,,,WON'T FIX,,fabric-sdk-java,,,,,,,0,build-system,,,,,,,"tag release with a commit message that includes:

release notes

known vulnerabilities

other known issues

changelog link",,ChristopherFerris,mastersingh24,,,,,,,,,,,,,,,,,,,3600,3600,,0%,3600,3600,,,FAB-4233,,,,,,,,,,,,,,,,,,,,,,,,FAB-4225,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxxi7:",,,,,,,,,,,,,,,1.0,,,,,,,,,,,,ChristopherFerris,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"01/Jun/17 2:12 AM;mastersingh24;This should be published to Maven Central - http://central.sonatype.org/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
12 hr mix long run - 8 threads,FAB-4229,17256,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,dongming,dongming,dongming,31/May/17 12:23 AM,31/Jul/19 5:44 AM,28/Oct/23 2:59 AM,31/Jul/19 5:44 AM,,,,v1.1.0,,fabric-quality,,,,,,,0,quality,SystemTestcase,,,,,,"Test Name: -FAB-4229-, performance benchmark: long run - mix

Component: Performance

Description: Performance 12 hr mix long run

    chaincode: each channel has one chaincode, sample_cc, instantiated

    transactions: 8 threads, each thread sends 1 invoke followed by a query per second to the anchor peer of an org of each channel for 12 hours as the following:
 # thread 1 sends to org1 peer1 on channel 1
 # thread 2 sends to org2 peer1 on channel 1
 # thread 3 sends to org1 peer1 on channel 2
 # thread 4 sends to org2 peer1 on channel 2
 # thread 5 sends to org1 peer1 on channel 1
 # thread 6 sends to org2 peer1 on channel 1
 # thread 7 sends to org1 peer1 on channel 2
 # thread 8 sends to org2 peer1 on channel 2

    Each invoke has payload size of 1kb-2kb.

Artifact Location: crypto-config

Network Topology: docker containers; 2 channels, 2 organizations, 2 peers per org, 4 kafka, 3 zookeepers, 3 orderers, 2 ca, with TLS enabled

Client Driver: PTE

Input: ./pte_driver.sh userInputs/runCases-chan-longrun-i.txt

Output:
 # The benchmark passes if it  completes without any error.
 # The benchmark fails if it encounters error or does not complete, or any query fails.",,dongming,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-10080,,,,,,,,,,"1|hzxxif:",,,,,,Sprint 19 - Quality,,,,,,,,,,,,,,,,,,,,,dongming,scottz,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,,,,,,,true,"05/Jun/17 11:43 PM;dongming;execution failed due to out of memory after 44 hour run and kafka exits. Do not know if this is expected behavior for kafka, see FAB-4367.;;;","05/Jun/17 11:45 PM;kchristidis;RE: Kafka – If Kafka runs out of disk space, of course it will crash. This is not a bug.;;;","31/Oct/17 10:47 PM;scottz;For v1.1 testing, we changed this from 36 to 12 hour test.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
create release notes text for fabric,FAB-4230,17257,17239,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ChristopherFerris,ChristopherFerris,ChristopherFerris,31/May/17 12:30 AM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,07/Jun/17 9:11 AM,v1.0.0-alpha2,,,DUPLICATE,,fabric-build,,,,,,,0,build-system,,,,,,,create release notes for fabric text that generalize the nature of changes since v1.0.0-alpha2,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,3600,3600,,0%,3600,3600,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-4222,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxxin:",,,,,,,,,,,,,,,1.0,,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"05/Jun/17 11:39 PM;ChristopherFerris;https://gerrit.hyperledger.org/r/#/c/10153/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
create release notes for fabric-ca,FAB-4231,17258,17239,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,smithbk,ChristopherFerris,ChristopherFerris,31/May/17 12:32 AM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,07/Jun/17 9:11 AM,v1.0.0-alpha2,,,DUPLICATE,,fabric-ca-build,,,,,,,0,build-system,,,,,,,create release notes that generalize the changes since alpha2 to be used in release tag,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,3600,3600,,0%,3600,3600,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-4223,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxxiv:",,,,,,,,,,,,,,,1.0,,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"05/Jun/17 11:40 PM;ChristopherFerris;https://gerrit.hyperledger.org/r/#/c/10157/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
create v1.0.0-alpha3 release notes for fabric-sdk-node,FAB-4232,17259,17239,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jimthematrix,ChristopherFerris,ChristopherFerris,31/May/17 12:34 AM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,07/Jun/17 9:11 AM,v1.0.0-alpha2,,,DUPLICATE,,fabric-sdk-node,,,,,,,0,build-system,,,,,,,create release notes for v1.0.0-beta that generalize changes since v1.0.0-alpha2,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,3600,3600,,0%,3600,3600,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-4227,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxxj3:",,,,,,,,,,,,,,,1.0,,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"05/Jun/17 11:39 PM;ChristopherFerris;https://gerrit.hyperledger.org/r/#/c/10159/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
create v1.0.0-alpha3 release notes for fabric-sdk-java,FAB-4233,17260,17239,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rickr,ChristopherFerris,ChristopherFerris,31/May/17 12:36 AM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,07/Jun/17 9:11 AM,v1.0.0-alpha2,,,DUPLICATE,,fabric-sdk-java,,,,,,,0,build-system,,,,,,,create release notes that generalize the changes since v1.0.0-alpha2,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,3600,3600,,0%,3600,3600,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-4228,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxxjb:",,,,,,,,,,,,,,,1.0,,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"05/Jun/17 11:50 PM;ChristopherFerris;https://gerrit.hyperledger.org/r/#/c/10161/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fabric Documentation Images,FAB-4234,17261,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yuleeandrea,joe-alewine,joe-alewine,31/May/17 12:40 AM,21/Jul/18 3:55 AM,28/Oct/23 2:59 AM,24/Mar/18 5:19 AM,v1.0.0-alpha2,,,,,fabric-docs,,,,,,,0,Documentation,,,,,,,"The images created for this doc...

[http://hyperledger-fabric.readthedocs.io/en/latest/blockchain.html]

were either temp images created as place holders or images pulled from power points, etc. Need new images conforming to design/branding specifications.

--------

Current sections:

Introduction

Writing Your First Application ",,joe-alewine,markparz,yuleeandrea,,,,,,,,,,,,,,,,,,144000,144000,,0%,144000,144000,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,FAB-2283,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzwu5z:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,joe-alewine,markparz,yuleeandrea,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"17/Jun/17 5:41 AM;markparz;Nice stuff... right direction! I added some comments in the individual files.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
chaincode test e2e auction - 1 Week,FAB-4236,17263,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sandp125,sandp125,sandp125,31/May/17 12:44 AM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,06/Jul/18 10:53 PM,v1.0.0,,,v1.0.0,,fabric-quality,,,,,,,0,quality,,,,,,,"This story consists of adding test cases for Auction App in the Test Suite.
 * Description:Launch network, use  Auction API Driver to send invokes/queries to all channels on all chaincodes, for 1 Week, remove network and cleanup.
 * Network Topology: 2 Ord, 3 KB, 3 ZK, 2 Org, 4 Peers, 2 Chan, 2 CC, 8 total threads.
 * Client Driver: testAuctionChainCode.py, api_driver.sh.
 * Following transactions are performed on Auction App
 ** Post Users
 ** Get Users
 ** Download Images
 ** Get Items
 ** Post Auction
 ** Open Auction For Bids
 ** Submit Bids
 ** Transfer Item",,sandp125,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3507,FAB-4175,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3771,,,,,,,,,,"1|hzxxjr:",,,,,,,,,,,,,,,,,,,,,,,,,,,sandp125,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Documentation proof-reading/validation/verification (for v1.0.0-beta),FAB-4237,17264,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,nickgaski,JonathanLevi,JonathanLevi,31/May/17 12:56 AM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,08/Jun/17 6:56 PM,v1.0.0-alpha2,v1.0.0-beta,,v1.0.0-beta,,fabric-docs,,,,,,,0,Documentation,,,,,,,"Vet key documentation/guides, commands/instructions, file paths (e.g., on the various platforms) and links/URLs. Including/covering:

Getting Started
 [http://hyperledger-fabric.readthedocs.io/en/latest/getting_started.html]

Channel Configuration (configtx + configtxgen)
 [http://hyperledger-fabric.readthedocs.io/en/latest/configtx.html]

 Need to review the material before it is pushed to readthedocs, push it to readthedocs, and then confirm it is live on the public readthedocs site.",,bobbiejc,ChristopherFerris,JonathanLevi,troyronda,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,FAB-4212,FAB-4379,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"02/Jun/17 10:31 PM;bobbiejc;setglobals.sh;https://jira.hyperledger.org/secure/attachment/10902/setglobals.sh",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxxjz:",,,,,,,,,,,,,,,,,,,,,,,,,,,bobbiejc,ChristopherFerris,JonathanLevi,troyronda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"02/Jun/17 10:22 PM;bobbiejc;My comments after reading/working with ""Getting Started"" 

[http://hyperledger-fabric.readthedocs.io/en/latest/getting_started.html]
 * 
ok, so i don't lose my thoughts, will place here what i'm experiencing..
 * 
i'm doing thigns manually, so i am not really interested in the e2e part of the script
 * 
(i..e. i comment out the command: in the docker-compose script
 * 
1. pass a moderately high value for TIMEOUT (give me a clue, 60, 120?) or longer if... what effects if i need to make this longer?
 * 
2. Tell me what the docker-compose does, tell me that it spins up 1 orderer, and 4 peers, 2 per organization, and 1 cli
 * 
3. tell me a bit about CLI -- this is there because? (I think it is there because it is the only way to communicate with the network, the only other way to communicate with the network is through SDK? I think
 * 
the 4 environment variables are really clunky
 * 
it would be great to have a ""switch script"" somewhere for this... but of course, explaining
 * 
what are tehse environment variables for? that would help people understand a bit... what is MSPCONFIGPATH, LOCALMSPID, ROOTCERT_FILE....
 * 
4. this line is confusing ""you can mount your own configuration transaction with a different name""
 * 
at this point, i have no idea what a configuration transaction is...
 * 
this line ""This command returns a genesis block - ...- which we will use to join the channel""
 * 
I wo uld say ""This command creates a local file <channel-ID.block> that contains the channel genesis block (aside: , genesis blocks are not described anywhere in this document and use everywhere...), The channel genesis block is used when a peer joins a channel.""
 * 
installing sample go code on the peers does not tell me where you are getting the chaincode from. I am assuming now that it is coming from [github.com|http://github.com/], (the real github, not some local file system?), but I'm not really sure...;;;","02/Jun/17 10:24 PM;JonathanLevi;Wow, [~bobbiejc], highly appreciated!;;;","02/Jun/17 10:29 PM;bobbiejc;Install and Instantiate:

First, explain at a high level the mycc chaincode does.  Just to give context, and what this section teaches.

Second, more attention to install and instantiate – in particular instantiate.  I always tell customers that instantiate is making the meta-data or signature of the chaincode known to all peers on a channel, and it is also where the endorsement policy for a given use of chaincode is defined (i.e. you can have different endorsement policies for different channels)

 ;;;","02/Jun/17 10:35 PM;bobbiejc;Switching environment variables — woah – this is not only tedious, but confusing.... But there is an exercise that will help the user understand a bit more of the setup.  

Have them create this script in scripts.

[^setglobals.sh]

and run it on the cli peer as

. scripts/setglobals.sh 1
/* add the peer org1.peer1  to the channel */

. scripts/setglobals.sh 2

/* add the peer org2.peer0  to the channel */

. scripts/setglobals.sh 3

/* add peer org2.peer1 to the channel */

. scripts/setglobals.sh 0  <--- resets us back to org1.peer0.

A few things to note. they can create this script on their local machine, but they need to actually 'exec' into the cli container.

 ;;;","02/Jun/17 10:36 PM;bobbiejc;Somewhere in getting started we need to introduce the concept of the CLI.  Esp when you spin up the network.  The CLI is there to provide an environment to issue commands on the peers....(orderer and peers).;;;","03/Jun/17 3:29 AM;bobbiejc;One more suggestion:   When the user creates the channel, suggest that the assign the CHANNEL_NAME

CHANNEL_NAME=myfirstchannel

Then all the $CHANNEL_NAME in the scripts work ;)

 ;;;","03/Jun/17 3:39 AM;bobbiejc;There is a lot of good information in the section:
h3. ""What’s happening behind the scenes?""

While I personally really like encouraging the manual exercising of the commands as that is how you really learn what is going on, adding the commentary in the 'What's happening behind the sceneds"" session to the manual directions would be very helpful.  Is there a way to do this elegantly and integrate the ""What's happening behind the scenes"" section to the manual process, and then 'pull it all together' with teh scripts?;;;","03/Jun/17 3:58 AM;bobbiejc;More verbiage around instantiation to avoid confusion evidenced in the following dialoge:

https://chat.hyperledger.org/channel/fabric-questions?msg=NsR6pt8d3cFfiXyzr;;;","03/Jun/17 5:01 AM;bobbiejc;ok, one more very blunt piece of advice... i don't find the 'all-in-one' very useful at this point.   I find that feels like more of a 'test-case' script.  link to it, but get it out of the getting started page...;;;","06/Jun/17 12:14 AM;ChristopherFerris;[~bobbiejc] right, and there won't be one when Anthony and team are done. For beta, we won't have the updated GS content but we could use some testing of what is currently there.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Doc instruction on what data can be specified in a rich query string for couchDB,FAB-4240,17269,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,FenglianXu,FenglianXu,31/May/17 2:36 AM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,09/Mar/18 1:43 PM,,,,,,fabric-docs,fabric-ledger,,,,,,0,chaincode,Ledger,v1.0,,,,,"As a rich query user, I need an instruction to guide me on writing an ad hoc rich query string to get the query result effectively.

When I use this shim interface GetQueryResult ( shim, queryString), I have created the couchDB select string but I have faced an issue to get the query result back.

 I have had a discussion with Dave Enyeart today and discovered that Fabric shim implementation has created a wrapper string based on end user's query string.

The wrap string is automatically adding some field and prefix to the user query string.

This has caused the problem if user's query string includes below data.
 # header data
 # no data prefix required in the user data field.

This needs to be clearly documented to save the end users time cost.

 ",,denyeart,FenglianXu,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxwon:",,,,,,,,,,,,,,,,,,,,,,,,,,,denyeart,FenglianXu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"09/Mar/18 1:43 PM;denyeart;Fabric 1.1 has improved the CouchDB state database implementation.
The header and ""data"" prefix are not utilized starting in 1.1, and therefore the confusion mentioned in this work item is not an issue going forward.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
java SDK - maintaining stream b/w SDK and peer,FAB-4241,17271,15902,Sub-task,Closed,FAB,Fabric,software,denyeart,,,High,Done,rickr,jimthematrix,jimthematrix,31/May/17 2:44 AM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,06/Jun/17 12:06 AM,v1.0.0-alpha2,,,v1.0.0,,fabric-sdk-java,,,,,,,0,,,,,,,,the solution seems to be that the client needs to send keepalive pings,,mrshah-ibm,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-481,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxxkf:",,,,,,,,,,,,,,,,,,,,,,,,,,,mrshah-ibm,rickr,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"31/May/17 4:22 AM;rickr;[~bmos299] Can I get some help on recreating ?  Jim seems to know how that's possible.;;;","31/May/17 7:21 AM;rickr;Java spec says  grpc will never go to idle mode once it has left that state.
http://www.grpc.io/grpc-java/javadoc/io/grpc/ManagedChannelBuilder.html#idleTimeout-long-java.util.concurrent.TimeUnit-;;;","31/May/17 9:32 PM;rickr;[~jimthematrix] [https://gerrit.hyperledger.org/r/#/c/9955/]  I'm not sure but if I understand the issues here I think this has a reasonable chance to fix.

[~bmos299] [~mrshah-ibm] According to Jim we need bmx to test. Like to have a quick discussion on how we might be able set up an environment that might simulate this situation.;;;","31/May/17 11:03 PM;mrshah-ibm;[~rickr] we are working on putting it on bmx to test. We will try and get you a dev environment to test it. It will take at least one week to get the dev env.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Golang source code security vulnerability remediation,FAB-4242,17272,,Task,Closed,FAB,Fabric,software,denyeart,,,High,Won't Do,,ashutosh_kumar,ashutosh_kumar,31/May/17 3:34 AM,23/Jan/20 4:12 AM,28/Oct/23 2:59 AM,23/Jan/20 4:12 AM,v1.0.0-alpha2,,,v1.0.0,,,,,,,,,0,stale-item,,,,,,,"The attached report contains Golang Source Code Security Scan result. Some of them are false positives.[^FabSecScanresult05302017.html]",,ashutosh_kumar,farhan3,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,FAB-4245,FAB-4249,FAB-4251,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"31/May/17 3:34 AM;ashutosh_kumar;FabSecScanresult05302017.html;https://jira.hyperledger.org/secure/attachment/10880/FabSecScanresult05302017.html",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxxkn:",,,,,,,,,,,,,,,,,,,,,,,,,,,ashutosh_kumar,farhan3,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 4:12 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
CouchDB Errors During Stress Operations,FAB-4243,17273,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,denyeart,chris.elder,chris.elder,31/May/17 3:44 AM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,20/Jun/17 12:05 PM,v1.0.0-beta,,,v1.0.0,,fabric-ledger,,,,,,,1,,,,,,,,"CouchDB stress testing/benchmarking fails when the number of parallel transactions per chain exceeds values as low as 20.

 

The following are example lines showing the third retry for 3 GET operations in the log:

 

2017-05-30 14:24:07.682 EDT [couchdb] handleRequest -> WARN 2bca Retrying couchdb request in 500ms. Attempt:3  Error:Get http://127.0.0.1:5984/chain_0008/testChaincode%00key_000000241?attachments=true: EOF

2017-05-30 14:24:07.682 EDT [couchdb] handleRequest -> WARN 2bcb Retrying couchdb request in 500ms. Attempt:3  Error:Get http://127.0.0.1:5984/chain_0000/testChaincode%00key_000000093?attachments=true: EOF

2017-05-30 14:24:07.682 EDT [couchdb] handleRequest -> WARN 2bcc Retrying couchdb request in 500ms. Attempt:3  Error:Get http://127.0.0.1:5984/chain_0003/testChaincode%00key_000000297?attachments=true: EOF

 

The fourth attempt to GET a value will result in the following:

 

2017-05-30 14:24:07.695 EDT [couchdb] handleRequest -> DEBU 2c45 HTTP Request: GET /chain_0008/testChaincode%00key_000000222?attachments=true HTTP/1.1 | Host: 127.0.0.1:5984 | User-Agent: Go-http-client/1.1 | Accept: multipart/related | Accept-Encoding: gzip |  | 

2017-05-30 14:24:07.695 EDT [couchdb] ReadDoc -> DEBU 2c41 couchDBReturn=<nil>

panic: Error:Get http://127.0.0.1:5984/chain_0006/testChaincode%00key_000000269?attachments=true: EOF

 

The EOF looks like a response from CouchDB indicating that the attachment could not be retrieved.   

The environment in testing was a shell script calling Ledger function and CouchDB installed in a docker container.

 ",,AdnanChoudhury,binhn,chris.elder,denyeart,JonathanLevi,manish-sethi,ohori,weeds,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-4872,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx4rz:",,,,,,Sprint 16  - Ledger,,,,,,,,,,,,,,,,,,,,,AdnanChoudhury,binhn,chris.elder,denyeart,JonathanLevi,manish-sethi,ohori,weeds,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"10/Jun/17 5:33 AM;weeds;Clayton and I talked with Chris Elder. He's waiting on results of FAB 4442 where Ratnkar is testing parameters for couchdb that was suggested.  Chris ran a much heavier load directly on ledger as compared to running full end to end in this particular test that results in FAB 4243. FAB 4442 is really running full end to end the way a client will run.;;;","12/Jun/17 9:49 PM;denyeart;We don't expect a real system to be able to drive CouchDB as hard as it was driven during this isolated ledger stress test, therefore I will update to Medium.

Also, the problem does not cause any inconsistent/corrupt ledger state.  When the stress/resource problem is resolved, the system can move forward.

[~chris.elder], could you provide an update today? Are you able to reproduce at will?  Have you contacted Cloudant CouchDB experts and/or opened a CouchDB JIRA bug?;;;","13/Jun/17 3:57 AM;chris.elder;I took another look at the data in the spreadsheets.   I believe it makes sense to look at the non-Docker implementation of CouchDB and find where the processes fail.    In this case, it was specific to the number of chains (databases).  I added some server parameters but could not consistently reach 500 chains in load testing.

I will reach out to the IBM CouchDB experts to see if they have insight into large numbers of databases.;;;","14/Jun/17 4:22 AM;chris.elder;I had a discussion today with the CouchDB team.   There is a change in CouchDB 2.0 that make setting a little misleading.   

The max_dbs_open configuration setting is a misleading.   This is not the count of databases, but the number of shards.

number of shards per node = (N*Q) / (number of nodes in cluster)

This required a much higher value since our defaults values are N=1 and Q=8.   In stress testing this required a max_dbs_open setting greater than 18000.

Also, it was found that ephemeral port configuration was required for the high end of the stress test.

net.inet.tcp.msl: 1000

net.inet.ip.portrange.first: 20000

net.inet.ip.portrange.last: 65535

These settings allowed the stress tests to complete the test with 500 channels and 10 concurrent threads.

The discussion above is targeted at CouchDB running locally, not in the docker image.

The CouchDB team informed that production issues with CouchDB have been encountered with docker.  However, all of the issues have been resolved with local tuning and no changes to CouchDB code.

Overall,  I think we have the information we need to lower the severity of this defect for the beta.   The key is that the overall end to end stress testing is working. 

Work will need to continue on refining how CouchDB needs to be configured with the peer in a production environment.

 ;;;","14/Jun/17 4:24 AM;JonathanLevi;This is great news. Thank you Chris;;;","14/Jun/17 5:30 AM;binhn;[~ChristopherFerris], [~JonathanLevi],  given the new info from [~chris.elder], I am advocating to lower priority on this defect to medium and remove it from RC blocking defect.;;;","14/Jun/17 6:30 AM;JonathanLevi;Totally. Thank you Binh.

(Chris has just updated this accordingly);;;","15/Jun/17 3:31 AM;chris.elder;CouchDB stress testing/benchmarking are now passing running on a Linux environment with some environmental changes.   Tests passed with CouchDB running inside a docker container simulating the desired production environment for the peer.

Two changes were made to the OS:

#Increase the range for ephemeral ports to allow increased socket connections

sudo sysctl -w net.ipv4.ip_local_port_range=""20000 60999""

#Reduce the timeout for the time sockets stay in FIN-WAIT-2 state before timing out to 5 sec

sudo sysctl -w net.ipv4.tcp_fin_timeout=""5""

One change was made to the CouchDB local.ini file:

[couchdb]

max_dbs_open = 30000

 

This information should resolve this defect as it relates to the current level of stress testing.   Before closing there should be some additional discussion with Dave Enyeart and management about what productions levels we may expect in production and how best to make recommendations.

 

The good news from the testing is that there were no code changes required for this correction, only configuration changes.   In my opinion, the only changes that should be considered are possible changes to the CouchDB local.ini file.   These are not critical, since they can be changed at any time by the end user.;;;","15/Jun/17 10:59 PM;denyeart;[~chris.elder], can those OS config changes be made in the couch docker container? Or must they be made on the native OS on which the docker container runs?

Also, I believe you had some configuration updates prior to making these final updates (e.g. Erlang config that you mentioned earlier, and ulimit mentioned in FAB-3464).  Please summarize the entire set of config updates that were required to make CouchDB run well under stress.  We should document the minimal set of config updates, so this may require some more trials for you to determine the strict minimum number of config updates.

Once the full (and minimum) set of config updates is summarized in a defect comment, then I'd suggest switch this to fabric-docs component so that this this bug can be used to update the docs.

FAB-3464 is already opened to document ulimit.  This one will add to docs the other config updates that are required.

I'd suggest not to rush to update the fabric-couchdb image. Depending on a deployment's requirements they will need different configurations, so it is most important to get the information documented.  Later, we can update fabric-couchdb image once we have more experience with these settings and better understanding of typical workloads.;;;","17/Jun/17 12:10 AM;manish-sethi;[~chris.elder] - Were you able to get past 500 chains? On the workload front, I think that you are trying to deal with two challenges at the same time which is making it difficult to decipher. 1) number of databases 2) concurrency. Unfortunately, current test harness increases the concurrency if you increase the number of chains (The lowest tat you can set is - number concurrent client = 1 per chain).

Given what we are observing as throughput numbers in an end-to-end measurement, I would worry more about the number of databases as oppose to the concurrency.

If you can run a small experiment with a slight change in the experiment setting (if you haven't already done this and it's not very difficult for you), it would give us more insight. The proposed experiment is to reduce the number of concurrent client to 1 per chain (I guess, the default is 10) - introduce some 'think time' in the experiment code (e.g., `sleep` for a few millis at the end of function `runReadWriteClient`. This should keep us reasonably out of ephemeral ports issue because of reduced concurrency and then see if we can touch 1000, 2000 chains. If this takes us to high number of chains then we should be good for the current workload that we can anticipate. (You may like to reduce the setting `{color:#333333}NumTotalTx` for avoiding the test taking too long to complete because of the `sleep` of a few millis){color}

We can later focus on concurrency by investigating into some connection pool stuff in golang. In a nutshell, my suggestion would be to understand these two setting separately to get a better grasp of these.

 

Finally, as I discussed before, I would highly suggest to check with couch folks what is the max database numbers they have seen in their environments and what max concurrency have they experimented with. Just to be aware whether the high number of dbs are common practice and supported by them or we are the first one getting into this territory. In the latter case, I think that it would be better to use a single db for all the chains data (as we do in level) and achieve overall data balancing by the underlying shards of couch.;;;","20/Jun/17 4:25 AM;denyeart;Discussed with [~chris.elder].  The ulimit and ephemeral port settings are made on the host OS.  And the max_dbs_open setting is made in CouchDB local.ini. These should be documented using FAB-4872.

We will use this defect to increase the default setting for max_dbs_open.  Current default value for max_dbs_open in default.ini is 500.  This corresponds to 500 shards or 62 databases (there are 8 shards per database by default).  For highly concurrent environments with a large number of channels, a better default would be 1000 databases, which corresponds to max_dbs_open of 8000.  CouchDB uses LRU cache to manage open databases, and closes databases as needed. 

Perhaps more important than picking a higher default value, is that the configuration value be exposed in the CouchDB local.ini configuration file, so that consumers are aware of the setting, and can easily adjust if needed. ;;;","20/Jun/17 5:01 AM;denyeart;https://gerrit.hyperledger.org/r/#/c/10797/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Perform Input Sanitization for hazardous characters in exec.Command calls.,FAB-4245,17275,17272,Sub-task,Closed,FAB,Fabric,software,denyeart,,,High,Done,,ashutosh_kumar,ashutosh_kumar,31/May/17 4:24 AM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,10/Jul/18 3:23 AM,v1.0.0-alpha2,,,v1.0.0,,fabric-peer,,,,,,,0,,,,,,,,"Per Security Scan result attached , it is being reported  :
 # {{exec.Command(""go"", ""get"", path)}} in *fabric/core/chaincode/platforms/golang/package.go (line 102)* and 
 # {{exec.Command(""git"", ""clone"", path, codegopath)}}in *fabric/core/chaincode/platforms/java/hash.go (line 49)*.

Path parameter is being set by entity outside of chaintool module , hence it can be agent for attack vector. Following possibilities exist :
 # Implement White list (allow only characters known to chaintool module) .
 # Implement Black list(sanitize hazardous characters) and
 # Implement Black list and White list both.

Minimally , option 2 should be implemented. List of hazardous characters are :

/ [1] | (pipe sign)
    // [2] & (ampersand sign)
    // [3] ; (semicolon sign)
    // [4] $ (dollar sign)
    // OKAY [5] % (percent sign)
    // [6] @ (at sign)
    // OKAY [7] ' (single apostrophe)
    // OKAY [8] "" (quotation mark)
    // [9] \' (backslash-escaped apostrophe)
    // [10] \"" (backslash-escaped quotation mark)
    // [11] <> (triangular parenthesis)
    // [12] () (parenthesis)
    // [13] + (plus sign)
    // [14] CR (Carriage return, ASCII 0x0d)
    // [15] LF (Line feed, ASCII 0x0a)
    // OKAY [16] , (comma sign)
    // [17] \ (backslash)

 

Ideally Black List and White List , both should be implemented.

 

 [^FabSecScanresult05302017.html]",,ashutosh_kumar,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,FAB-3172,,,,,,,,,,,,,,,,,,,,,,,,FAB-4242,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"31/May/17 4:12 AM;ashutosh_kumar;FabSecScanresult05302017.html;https://jira.hyperledger.org/secure/attachment/10882/FabSecScanresult05302017.html",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxxkv:",,,,,,,,,,,,,,,,,,,,,,,,,,,ashutosh_kumar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"31/May/17 4:31 AM;ashutosh_kumar;https://jira.hyperledger.org/browse/FAB-3172 is related.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
separate out prereqs to its own doc page,FAB-4246,17276,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ChristopherFerris,ChristopherFerris,ChristopherFerris,31/May/17 4:30 AM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,02/Jun/17 9:57 AM,v1.0.0-alpha2,,,v1.0.0-beta,,fabric-docs,,,,,,,0,Documentation,,,,,,,separate out the prerequisites for use/linking to various parts of the docs.,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,3600,3600,,0%,3600,3600,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxxl3:",,,,,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"01/Jun/17 12:39 AM;ChristopherFerris;https://gerrit.hyperledger.org/r/#/c/9945/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Unexpected endorsement policy failure,FAB-4248,17278,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,xixuejia,xixuejia,31/May/17 4:54 AM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,22/Feb/18 12:34 AM,v1.0.0-alpha2,,,,,fabric-docs,,,,,,,0,,,,,,,,"*Commit level:*
 Fabric-node-sdk: b7eb1d4d48bcdeba21033591c4d0589e5a090f4d
 Fabric: 5caa571f9e1db2de02709d5400fa41b9fa8ee38f
 Fabric-ca: 8206d83294ee3d089d7f9a00081d8bf4d6da7a01

*Peer roles:*
 org1peer1:member
 org1peer2:member
 org2peer1:admin
 org2peer2:member

*Endorsement policy specified in node sdk e2eUtils.js*
 {color:#59afe1} 'endorsement-policy': \{
   identities: [
     \{ role: \{ name: 'member', mspId: ORGS['org1'].mspid }},
     \{ role: \{ name: 'member', mspId: ORGS['org2'].mspid }},
     \{ role: \{ name: 'admin', mspId: ORGS['org1'].mspid }},
     \{ role: \{ name: 'admin', mspId: ORGS['org2'].mspid }}
   ],
   policy: \{
     '2-of': [
       \{ 'signed-by': 1},
       \{ 'signed-by': 3}
     ]
   }
 }{color}

*Invoke transaction with node sdk e2e func invokeChaincode in e2eUtils.js*
 - send endorsement responses with order (Org2Member,Org2Admin) -> SUCCESS
 - send endorsement responses with order (Org2Admin, Org2Member) -> ENDORSEMENT_POLICY_FAILURE
 - only send proposal to Org2Admin, and make another copy of response from Org2Admin, to make it (Org2Admin, Org2Admin) -> SUCCESS

The problem is the order or adding peers matters. We would expect the order of adding peers should not affect endorsement results.

The 3rd case --> https://jira.hyperledger.org/browse/FAB-4252","Mac OS 10.12.4
docker for MAC: 1.13.1",ales,angelo.decaro,binhn,bmos299,denyeart,harrisob@us.ibm.com,jyellick,kchristidis,markparz,n-horiguchi,rickr,weeds,xixuejia,yacovm,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"31/May/17 11:01 PM;xixuejia;peerlogPolicyMemberFirst.log;https://jira.hyperledger.org/secure/attachment/10888/peerlogPolicyMemberFirst.log",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx2mn:",,,,,,,,,,,,,,,,,,,,,,,,,,,ales,angelo.decaro,binhn,bmos299,denyeart,harrisob@us.ibm.com,jyellick,kchristidis,markparz,n-horiguchi,rickr,weeds,xixuejia,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"31/May/17 4:43 PM;angelo.decaro;Hi [~xixuejia], not sure I'm the right person to address this. [~jimthematrix], do you have an idea of that can be that?;;;","01/Jun/17 1:02 AM;jimthematrix;[~angelo.decaro] hi Angelo, from my observation when [~xixuejia] showed me the behavior of the policy checker, this is what I think is happening:

- you have two endorsements: endorser1 as a member in org1 (E1) and endorser2 as an admin in org1 (E2)
- you have the endorsement policy: ""AND (org1.member, org1.admin)""

so the policy should be met. but what we observed was that depending on the order of the two MSP principals in the endorsement policy, the policy checking can fail. and this is why it's failing:

- the code iterates over the principals, so it takes the first one in the array: org1.member
- it then iterates over the endorsers [E2, E1] and tries to find which one satisfies the target principal: org1.member
- so it takes the first identity from the array, E2, and see that it satisfies the principal org1.member (since admin is a member)
- it now marks E2 as used
- it then moves on to the next principal: org1.admin
- and tries to iterate over the endorsers to match any unused identities, which is now E1
- because E1 is not an admin, it'll mark the policy check as failed

on the other hand, if the endorsers array is set to a different order: [E1, E2], then the above checking logic will succeed
or if the endorsement policy is specified as ""AND [org1.admin, org1.member], the checking will also succeed

in fact, the workaround I suggested to the testing team is to always specify admin identity in the policy before the member identity of the same org, which will always work regardless of the order of the endorsers. This can be used as a recommended workaround for v1.0 in case the fix is difficult. but if the fix is straightforward enough, we should get it in.
;;;","01/Jun/17 1:57 AM;xixuejia;I agree with [~jimthematrix]'s workaround, but this would be a limitation if we force users to specify endorsement policy in certain order when instantiating chaincode.

I would propose we do this from peer side. When peer evaluates the policies, it should preprocess the signed data and identities array 
- check whether there's duplicated identities to avoid unwanted attack 
    --> https://jira.hyperledger.org/browse/FAB-4252
- If there's any Admin identity, put it at the end of the array
     --> this is similar to the workaround but it's handled from peer side so the limitation would be eliminated.;;;","01/Jun/17 5:29 PM;angelo.decaro;[~xixuejia],[~jimthematrix], are we talking about the server side or the client side here?;;;","01/Jun/17 5:39 PM;angelo.decaro;Anyway, we need to assigning weights to the MSP's principal classifications.
So, I would say the following:

This is the order of checks:

if MSPPrincipal.PrincipalClassification == MSPPrincipal_IDENTITY and the principal is satisfied then SignedData is marked as used. No ambiguity here.

if MSPPrincipal.PrincipalClassification == MSPPrincipal_ORGANIZATION_UNIT then
we can have a conflict again if the identity is part of multiple organizations. We need
then a better strategy.

If MSPPrincipal.PrincipalClassification == MSPPrincipal_ROLE and the principal is satisfied then the SignedData corresponding to an administrator (if exists) is marked as used, otherwise the one corresponding to the member is marked, if exists.

Still it might happen that an identity is member of multiple organizations. In this case one can have again a failure. Therefore we need a better strategy also here.

[~ales],[~elli-androulaki], [~jyellick], what's your take here?
;;;","01/Jun/17 9:12 PM;jimthematrix;[~angelo.decaro] we were describing the server code's behavior above.

You said: _If MSPPrincipal.PrincipalClassification == MSPPrincipal_ROLE and the principal is satisfied then the SignedData corresponding to an administrator (if exists) is marked as used, otherwise the one corresponding to the member is marked, if exists._

It does sound the right logic (always check the ADMIN role on a per org basis before checking the MEMBER role). You are making a proposal for how it should be fixed right?;;;","01/Jun/17 9:30 PM;angelo.decaro;Actually, that is code touched by [~jyellick] and [~ales]. They will probably take on it.
Anyway, what I was trying to suggest is that there are multiple ways to satisfy the formula in such a way each signed data is used only once. The evaluation algorithm has to find one of those ways. I hope we are not falling in an NP-complete problem. Will see :)

Priorities on the MSP Principal classifications can definitely reduce the space of the solutions. The principal would be try to use the signed data that fits better the principal. A problem may arise if you have multiple signed data that fit better the same principal.;;;","01/Jun/17 9:51 PM;angelo.decaro;Let's recap again:

MSPPrincipal_IDENTITY is the easiest. if that principal is satisfied by a signed data. That signed data can be marked as used. No ambiguity here.

MSPPrincipal_ROLE needs to deal with members and admins with admins being also members. So what happens if you have AND(org1.admins, org2.admins) and you have a signed data corresponding to an identity
that is administrator in both orgs and another signed data that is admin only in one of the org? You will fall in the same issue, no?

For MSPPrincipal_ORGANIZATION_UNIT, a similar example as before applies, no?





 

;;;","01/Jun/17 11:12 PM;jyellick;[~ales] and I actually discussed this very potential for a long time during implementation.  Essentially, the first pass at the policy evaluation allowed a single identity to satisfy multiple principles.  This behavior was concluded to be a problem for rules which for instance, desired multiple admin principles from the same org.

I would be very reluctant to add another layer of policy evaluation logic around principle type.  This is for a number of reasons:

1. This seems to violate the whole idea of MSP abstraction.  Only the MSP itself should need to know how to interpret an MSP Principal.
2. It makes the rules of policy evaluation much more complex.  It's much easier to describe the behavior that ""satisfied principles are marked used in order"" vs. ""satisfied principles are marked used first in order of IDENTITY, then in order of OU, then in order of admin ROLE, and then in order of member role"".
3. This can already be expressed if, in authoring a policy, the principles are specified in the order of ""IDENTITY, OU, admin ROLE, member role"", so it seems like this would be reducing the power of the policy framework.
4. It does not solve all the problems, as you point out, if a signatory satisfies multiple roles of equal weights, we must still degrade to the in order processing.  The same goes for different OUs, where ordering is less obvious.

Essentially, [~ales] and I had trouble coming up with an evaluation scheme which handled all of the corner cases, and if there are still unhandled corner cases, it seems like a mistake to add significant complexity to the evaluation rules.

Although I'm not certain that I like it, the SDK could sort the policies to the desired 'sane order', or include a function or flag to do so?;;;","01/Jun/17 11:26 PM;angelo.decaro;[~jyellick] what if you have an evaluation algorithm that first checks which signed data satisfies each leaf of the formula tree. Once this is done, the algorithm searches for an assignment to the leaves such that each signed data is used only once. Would be this generic enough? The complexity of the second step is actually exponential in the number of leaf in the worst case but probably in practice this might be affordable.
;;;","01/Jun/17 11:44 PM;jyellick;[~adc] 

> Once this is done, the algorithm searches for an assignment to the leaves such that each signed data is used only once. Would be this generic enough? Not sure about the complexity of the second step, though.

I agree that this would probably be generic enough, but, this sounds like an NP hard problem to me.  For the order of magnitude we're dealing with, this might be okay, but does seem like it opens a bit of an attack vector for either injecting complex policies, or large signature sets to significantly slow the system.

Do you have any thoughts [~ales]?;;;","02/Jun/17 12:05 AM;angelo.decaro;[~jyellick], I agree, the complexity of the second step is exponential in the worst case, but maybe in practice it is affordable putting additional constraints.;;;","02/Jun/17 3:47 AM;ales;I concur with [~jyellick]: the SDK should sort the policies to the order expected by the policy engine (which is known). It's also the smallest and safest change to be made at this stage imho.;;;","02/Jun/17 6:18 AM;kchristidis;Same here: I vote for SDK + heuristics for 1.0, and we can revisit how this is handled in a later version.;;;","02/Jun/17 10:40 PM;yacovm;{quote}I concur with Jason Yellick: the SDK should sort the policies to the order expected by the policy engine (which is known). It's also the smallest and safest change to be made at this stage imho.{quote}
ditto.;;;","02/Jun/17 10:45 PM;jimthematrix;so if we want to do anything at all for v1.0, it would be for the SDKs to:
- inspect any ""Signed-By"" arrays in the policy specification, and find any group of elements belonging to the same org, if the size of the group is > 1, then ensure that they are orderer as IDENTITY > OU > Role.ADMIN > Role.MEMBER. if the size of the group = 1, do not do anything

Alternatively we could just document this edge case;;;","02/Jun/17 11:21 PM;rickr;V1 *Alternatively we could just document this edge case*   see how much of an issue it really presents itself and then act on it.;;;","02/Jun/17 11:24 PM;rickr;I thought the protobufs were the API — ?  Will the protobufs sort this ?;;;","03/Jun/17 12:42 AM;jimthematrix;Given the endorsement policy is an important part of the business contract, I don't think it's right for the SDK to modify it on the application's behalf. if the application passes in a less-than-optimal policy, we should either reject that (may be too harsh) or give them a warning so they can reference the documentation and fix it (by re-arranging the policy)

But again, I still think this is an edge case that doesn't warrant special handling in the SDK at this point. So I would recommend documenting it only.;;;","03/Jun/17 3:26 AM;weeds;per discussion with Jim Zhang, he feels this is really an edge case and should be documented,  so changing this to medium priority. Xixue if you do not agree- feel free to change back.;;;","03/Jun/17 3:58 AM;binhn;I am not sure that SDK sort would be the answer bc SDK is build on API, and we know some don't use the SDK but the API directly. Do we have the knowledge at the API level to do the sorting? How would the SDK know that an admin is the admin of multiple orgs to begin with?
{quote}have an evaluation algorithm that first checks which signed data satisfies each leaf of the formula tree
{quote}
is generic but as Jason pointed out, and I agreed, an NP problem – solvable but hard.

So I would prefer at this point (unless I missed something about SDK sort) to punt it to the application and document with example code how this should be done.;;;","05/Jun/17 11:37 PM;markparz;I agree with with [~binhn]. For now we can doc, but we should investigate a real fix for post v1.0. I opened https://jira.hyperledger.org/browse/FAB-4368, a new bug for doc'ing this issue, and will moved the target release out to v1.1.;;;","06/Jun/17 5:57 AM;bmos299;I think it is ok to fix in v1.1.  However, I think the probability of hitting this issue is high.  [~xixuejia] hit it without even trying to hit it.   The messages during endorsement policy validation are the following, assuming DEBUG is not enabled.   I understand the adding documentation about the ordering of the peer will help.  But do we think this is enough for problem determination?  If not, when an error occurs, can we provide more information on what the VSCC received and what it expected? 

 

[31m2017-05-31 03:45:51.281 UTC [txvalidator] VSCCValidateTxForCC -> ERRO 7b7[0m VSCC check failed for transaction txid=fd365645470802eda053749e856e33fb25e02e623a472c1fead42b698a5c18b0, error VSCC error: policy evaluation failed, err Failed to authenticate policy
[3
[31m2017-05-31 03:45:51.281 UTC [txvalidator] Validate -> ERRO 7b9[0m VSCCValidateTx for transaction txId = fd365645470802eda053749e856e33fb25e02e623a472c1fead42b698a5c18b0 returned error VSCCValidateTxForCC failed for cc end2endnodesdk, error VSCC error: policy evaluation failed, err Failed to authenticate policy


[33m2017-05-31 03:45:51.281 UTC [statevalidator] ValidateAndPrepareBatch -> WARN 7be[0m Block [3] Transaction index [0] marked as invalid by committer. Reason code [10]

 

 ;;;","07/Jun/17 1:33 AM;markparz;Moving to unassigned as this isn't going to be solely and SDK fix, if at all, and opened a new issue to track the doc work. as noted above.;;;","26/Oct/17 4:13 AM;markparz;[~jimthematrix] I know we discussed this one a couple of months ago, not sure if this is an issue anymore.;;;","27/Nov/17 12:23 PM;denyeart;[~jimthematrix] Sounds like you have some history on this one, what in your opinion are next steps?;;;","15/Feb/18 2:34 AM;denyeart;[~ales] [~harrisob@us.ibm.com]

Could you (re)-assess this one and provide your thoughts on an SDK update vs a doc update?;;;","15/Feb/18 2:59 AM;harrisob@us.ibm.com;The SDK's are not the place to fix this issue and no doc is required at this time as the issue has been addressed in the trouble shooting section.;;;","15/Feb/18 5:53 AM;denyeart;Thanks Bret. Could you provide a link to the troubleshooting section?  Both of the gerrit links I found were abandoned.  Just want to be sure it really made it into the docs somewhere.;;;","15/Feb/18 6:23 AM;harrisob@us.ibm.com;Well I see now that it was abandoned ... however there is a nice answer on Stackoverflow by Mark
https://stackoverflow.com/questions/44807102/hyperledger-fabric-endorsement-policy-checker-failure;;;","15/Feb/18 8:04 AM;rickr;Is this still an issue? . Been told  In v1.0.x  Peers did the endorsing as member role only. In v1.1 they'll sign with role of Peer role only.

[~jyellick] ?;;;","15/Feb/18 5:40 PM;angelo.decaro;[~rickr], in v1.1 that behaviour needs to be enabled explicitly by configuring the MSP in the proper way. ;;;","22/Feb/18 12:34 AM;denyeart;Ok, thanks for the stackoverflow link.  That is indeed where we are pointing people for troubleshooting, so let's go ahead and close this as Done.;;;",,,,,,,,,,,,,,,,,,,
TLS InsecureSkipVerify is set true,FAB-4249,17279,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,C0rWin,ashutosh_kumar,ashutosh_kumar,31/May/17 5:07 AM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,27/Nov/17 9:11 PM,v1.0.0-alpha2,,,v1.1.0,,fabric-gossip,,,,,,,0,gossip,,,,,,,"yPer attached Security scan report , following are occurances of  TLS option InsecureSkipVerify to be set to true  :
 # *fabric/gossip/comm/comm_impl.go (line 625)*
 # *fabric/gossip/comm/comm_impl.go* *(line 630).*

There are evidences of InsecureSkipVerify to be set to true in sbft module, but is not being reported as the module will be deleted very soon.**

 

After talking to [~mastersingh24] , it was evident that the TLS module reported above is being used in Server context whereas the InsecureSkipVerify flag is being set in TLS client module.Based on above fact ,it seems innocuous , but we want clean scan report.

Based on above fact , following possibilities exist :
 # Separate out TLS Client and TLS server code with Client TLS config object and Server TLS config object . In the Client TLS config object , the InsecureSkipVerify should be set to false or
 # Set InsecureSkipVerify to false.

I prefer option 1.",,ashutosh_kumar,C0rWin,ChristopherFerris,denyeart,mastersingh24,yacovm,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,FAB-4242,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"31/May/17 4:51 AM;ashutosh_kumar;FabSecScanresult05302017.html;https://jira.hyperledger.org/secure/attachment/10883/FabSecScanresult05302017.html",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxxlb:",,,,,,,,,,,,,,,,,,,,,,,,,,,ashutosh_kumar,C0rWin,ChristopherFerris,denyeart,mastersingh24,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"31/May/17 10:56 PM;yacovm;https://github.com/hyperledger/fabric/blob/master/gossip/comm/comm_impl.go#L611-L644
This is a utility method and isn't used in production program flow, only in tests.;;;","01/Jun/17 6:11 AM;C0rWin;I'd agree w/ [~yacovm] and this is not being used in production code, but for testing purposes only. However I do share your concerns [~ashutosh_kumar], therefore I'd put #review-needed as to take this out and refactor the code might require significant amount of changes, therefore would like other maintainer to weight it on how important it is to take care for v1.0.;;;","01/Jun/17 8:47 AM;mastersingh24;I don't think this poses any risk or threat and my take is that we defer this for a later date;;;","01/Jun/17 10:58 AM;ChristopherFerris;Then we need to document the exception in the AST scan.;;;","01/Jun/17 6:46 PM;C0rWin;[~ashutosh_kumar] Can you please fill the exception in AST scan as suggested above?;;;","03/Jun/17 12:21 AM;ashutosh_kumar;[~C0rWin] , I am not sure about exception process. Will check with [~ChristopherFerris]. I have changed fixed version field to 1.1.;;;","29/Aug/17 10:48 PM;yacovm;can we reduce this severity to medium? ;;;","27/Nov/17 12:25 PM;denyeart;[~C0rWin] Are you still intending to work on this one?;;;","27/Nov/17 4:09 PM;C0rWin;[~denyeart] as far as I understand this is not an issue and [~ashutosh_kumar] supposed to fill and exception, since the code used to testing and not for production use. As a matter of fact I think this ticket could be closed.;;;","27/Nov/17 9:10 PM;denyeart;Ok, I will go ahead and close.  [~ashutosh_kumar] Please re-open if you think some code fix is needed.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Endorser does not check the validity of endorsement policy when instantiating chaincode,FAB-4250,17280,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,xixuejia,xixuejia,31/May/17 5:23 AM,23/Jan/20 4:13 AM,28/Oct/23 2:59 AM,23/Jan/20 4:13 AM,v1.0.0-alpha2,,,,,fabric-peer,,,,,,,0,stale-item,,,,,,,"*Commit level:*
 Fabric-node-sdk: b7eb1d4d48bcdeba21033591c4d0589e5a090f4d
 Fabric: 5caa571f9e1db2de02709d5400fa41b9fa8ee38f
 Fabric-ca: 8206d83294ee3d089d7f9a00081d8bf4d6da7a01

If user specified the endorsement policy in node sdk e2eUtil.js like
 {color:#59afe1}'endorsement-policy': \{{color}
 {color:#59afe1}   identities: [{color}
 {color:#59afe1}     \{ role: \{ name: 'member', mspId: ORGS['org1'].mspid }}{color}
 {color:#59afe1}   ],{color}
 {color:#59afe1}   policy: \{{color}
 {color:#59afe1}      '1-of': [{color}
 {color:#59afe1}        \{ 'signed-by': 2}{color}
 {color:#59afe1}     ]{color}
 {color:#59afe1}   }{color}
 {color:#59afe1} }{color}
 _OR_

{color:#59afe1}'endorsement-policy': \{{color}
 {color:#59afe1}  identities: [{color}
 {color:#59afe1}    \{ role: \{ name: 'member', mspId: ORGS['org1'].mspid }}{color}
 {color:#59afe1}  ],{color}
 {color:#59afe1}  policy: \{{color}
 {color:#59afe1}     '2-of': [{color}
 {color:#59afe1}       \{ 'signed-by': 0}{color}
 {color:#59afe1}    ]{color}
 {color:#59afe1}  }{color}
}

These kinds of endorsement policies would never be satisfied, but current code implementation does NOT check the validity of endorsement policies nor preventing instantiating cc with such policies.",,angelo.decaro,jyellick,sykesm,xixuejia,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzxxlj:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,angelo.decaro,jyellick,sykesm,xixuejia,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"02/Jun/17 9:25 PM;angelo.decaro;I see, the policy needs to be compiled to ensure it is valid.;;;","02/Jun/17 9:50 PM;angelo.decaro;[~xixuejia], you are saying that an instantiate goes through even when the endorsement policy is malformed, correct?;;;","02/Jun/17 10:00 PM;xixuejia;Hi [~angelo.decaro], no, my original thought was that we should warn the user that the endorsement policy he/she specified during instantiating cc would never be satisfied so that user could never invoke the cc he/she instantiated. Yesterday [~jyellick] mentioned that there are corner cases that user want this kind of 'invalid' policies to prevent anyone changing. This needs to be discussed whether those corner cases apply to endorsement policies.;;;","02/Jun/17 10:11 PM;angelo.decaro;Interesting. Actually, I was asking myself if it makes sense for a committing peer to mark as valid an instantiate transaction whose endorsement policy is bogus. My answer would be no.;;;","02/Jun/17 10:22 PM;xixuejia;[~angelo.decaro] I agree with you that committing peer should mark this kind of instantiate cc transaction as invalid if nobody wants to instantiate a cc instance that could never be invoked. Any comments from others?;;;","02/Jun/17 10:25 PM;xixuejia;Or, maybe there are cases we need READ-ONLY chaincode :D;;;","02/Jun/17 10:29 PM;jyellick;> Yesterday Jason Yellick mentioned that there are corner cases that user want this kind of 'invalid' policies to prevent anyone changing. This needs to be discussed whether those corner cases apply to endorsement policies.

This comment was directed at config properties, like network membership which someone might wish to lock at their present value.  In the chaincode instantiation policy case, I'm not so sure it does make sense.;;;","02/Jun/17 10:45 PM;jyellick;Also, I would point out, that config always rejects malformed policies.  A policy which logically evaluates to false, and a policy which is not well formed are different beasts.  I would suggest any time data is not well formed, we reject the related transaction.;;;","23/Jan/20 4:13 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
TLS MinVersion too low in Kafka/util.go,FAB-4251,17281,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sanchezl,ashutosh_kumar,ashutosh_kumar,31/May/17 5:35 AM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,02/Jun/17 12:09 PM,v1.0.0-alpha2,,,v1.0.0,,fabric-orderer,,,,,,,0,kafka,,,,,,,"Per attached Security scan report , the TLS version is set to 0 in
 *   *fabric/orderer/kafka/util.go* 

Remediation :
 *        Remove MinVersion and MaxVersion from TLS config as go TLS by default support TLS 1.2 or
 * Set MinVersion also to be TLS 1.2 explicitly.

If MinVersion and MaxVersion , both are set to 0 , it means the supported TLS versions are TLS 1.0 , 1.1 and 1.2. This is what is being set in the code currently.

[~mastersingh24] , upto you , what do you want to implement : 
 # Support only TLS 1.2 or
 # Support TLS 1.0 , 1.1 and 1.2.

 ",,ashutosh_kumar,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,FAB-4242,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"31/May/17 5:34 AM;ashutosh_kumar;FabSecScanresult05302017.html;https://jira.hyperledger.org/secure/attachment/10885/FabSecScanresult05302017.html",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxxlr:",,,,,,,,,,,,,,,,,,,,,,,,,,,ashutosh_kumar,kchristidis,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"01/Jun/17 4:24 AM;kchristidis;https://gerrit.hyperledger.org/r/#/c/10003/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Peer does NOT check whether there is repeated signature identities when validating tx against endorsement policy,FAB-4252,17283,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,xixuejia,xixuejia,xixuejia,31/May/17 6:44 AM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,15/Jun/17 10:16 PM,v1.0.0-alpha2,,,v1.0.0,,fabric-peer,,,,,,,0,,,,,,,,"*Commit level:*
 Fabric-node-sdk: b7eb1d4d48bcdeba21033591c4d0589e5a090f4d
 Fabric: 5caa571f9e1db2de02709d5400fa41b9fa8ee38f
 Fabric-ca: 8206d83294ee3d089d7f9a00081d8bf4d6da7a01

*Endorsment policy specified by SDK-NODE:*
 2 of [
\{signedBy: org1mem},
\{signedBy: org1mem}
]

If SDK only received org1peer0's endorsement response, it can just make another copy of the endorsement and hence it will pass the endorsement policy check. This is unexpected Endorsement Policy PASS if the endorsement policy was to require 2 endorsement response from 2 different members of Org1.

https://github.com/hyperledger/fabric/blob/master/common/cauthdsl/cauthdsl.go#L31
Each identity in identities []*mb.MSPPrincipal should be unique, but there's no check about this",,ales,angelo.decaro,binhn,mastersingh24,muralisr,xixuejia,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-5662,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxxm7:",,,,,,,,,,,,,,,,,,,,,,,,,,,ales,angelo.decaro,binhn,mastersingh24,muralisr,xixuejia,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"01/Jun/17 5:28 PM;angelo.decaro;Hi [~xixuejia], are you talking about the client-side or the server-side check?;;;","02/Jun/17 4:07 AM;muralisr;[~adc] can you take a look and follow through please ?;;;","02/Jun/17 4:11 AM;xixuejia;Hi [~angelo.decaro], I'm talking about the server-side check, when peer evaluates policies.;;;","02/Jun/17 3:51 PM;angelo.decaro;Hi All, this is again something for [~jyellick] and [~ales]. What your take guys here?;;;","05/Jun/17 5:25 AM;muralisr;[~angelo.decaro] forgive my ignorance.. but would validation pass ? I'd have expected identical principals to be removed.;;;","05/Jun/17 5:38 AM;xixuejia;Hi [~muralisr] Yes, validation will pass if user provides 2 identical identities. Please refer to the description. Apparently the identical principals are not removed for policy evaluation.;;;","06/Jun/17 1:44 PM;xixuejia;I would like to work on this if no one has time to look into it. The fix should be simple. I would add logic in VSCC to make sure each signature in Endorsements is unique so that the duplicated signatures will be eliminated. Any comment is welcome;;;","06/Jun/17 10:37 PM;angelo.decaro;[~ales], I thought we had addressed this already in the past. May you have your take on this, please?;;;","06/Jun/17 11:18 PM;ales;This is indeed a known issue that [~jyellick] and I discussed at length. I thought we had created a FAB to track the fact that we must deduplicate signatures in the set. Seems like we haven't, it needs to be fixed indeed.;;;","06/Jun/17 11:21 PM;angelo.decaro;[~ales], may you suggest a strategy given also what [~xixuejia] has suggested?;;;","06/Jun/17 11:54 PM;ales;[~jyellick] and I converged on two options, both of which required sorting and detecting duplicates:
 # identities
 # signatures

Deduplicating identities could be done in an MSP-specific way and it may be nicer to mask implementation-specific ways of comparing certificate representations. It has the downside that if rules out two endorsements from two peers who happen to have the same cert. Deduplicating signatures has the downside that the smartest way of doing it is to compare bytes - and if a signature has two byte-level representations, it can still be duplicated.;;;","07/Jun/17 5:29 PM;angelo.decaro;[~xixuejia], would you think about [~ales]'s proposal? Is it compatible with what you had in mind?;;;","08/Jun/17 12:03 AM;xixuejia;Thanks [~ales] and [~angelo.decaro] for comments. I was thinking about deduplicating signatures because it would be easier and more efficient than comparing identities. I'm not sure why it can still be duplicated if a signature has two byte-level representations. I may miss something on this. [~ales] Would you please elaborate on this? Thanks;;;","08/Jun/17 12:15 AM;ales;sure. Imagine you have an endorsement policy that requires two sigs from org1. You managed to get one but you can't get the second one. You are malicious and so you decide to exploit this by generating the second signature to be the other byte representation of the one that you have. This way you can present ""two"" signatures (which in reality they are just different representation of a single one) and pass the endorsement policy policy. Does this make sense?;;;","08/Jun/17 1:25 AM;xixuejia;Thanks [~ales] for explanation. I could understand the basic workflow. I thought the user would sign on the hash of RWSet which is deterministic. Are you saying a malicious user could use different HASH algorithms or include some metadata to make ""two"" signatures? If so, as you mentioned, that would be more complicated to handle.;;;","08/Jun/17 4:05 AM;ales;not exactly - what I'm saying is that a signature is usually an element of a large algebraic group. This element needs to be represented as an array of bytes. If there is more than one byte-level representation of the element, an attacker might use it to turn one signature into two different ones. Does that make sense?;;;","08/Jun/17 11:36 AM;xixuejia;[~ales] Ah, yes. That makes sense. Then back to the 1st case, if two peers share the same certificate, can we take them as the same or duplicated member regarding to endorsement policy evaluation?;;;","08/Jun/17 6:28 PM;ales;if we filter out duplicate identities, then if two peers share a cert, their signatures would be counted as one. How likely is it that peers share certs? I can't think of many good reasons why this is desirable.;;;","08/Jun/17 8:34 PM;xixuejia;I also think it's not likely to share certs among peers for most cases. And even if peers did share the same cert, I think they still need to be regarded as one identity. Does that make sense to you? I asked the question because previously you mentioned the downside of deduplicating identities is _it rules out two endorsements from two peers who happen to have the same cert_. It seems like a concern to you?[~ales];;;","08/Jun/17 9:52 PM;ales;I agree with you - I was just recording this fact for the sake of completeness, but I agree that we should go with filtering duplicate identities. The way I would do it is as follows: unmarshal the identity from bytes, once you have the object you can call GetIdentifier() to retrieve

type IdentityIdentifier struct \{

 // The identifier of the associated membership service provider
 Mspid string

 // The identifier for an identity within a provider
 Id string
}

and then one can sort lexicographically on those two strings. After sorting, it should be trivial to detect identities occurring more than once. Does this make sense? Do you want to take this?;;;","09/Jun/17 9:47 PM;xixuejia;Hi [~ales] Yes, I could take it. ;;;","09/Jun/17 9:52 PM;angelo.decaro;Thank [~xixuejia] :);;;","10/Jun/17 2:55 AM;mastersingh24;You could just use a 
{code}map[string]struct{}{code}
and if the key exists you know it's a dup;;;","10/Jun/17 2:58 AM;xixuejia;Exactly. That's what I'm using, another benefit is using map does not mess up the original order of identities. Thanks [~mastersingh24];;;","10/Jun/17 6:14 AM;xixuejia;https://gerrit.hyperledger.org/r/#/c/10407/;;;","10/Jun/17 8:01 PM;muralisr;[~angelo.decaro] [~ales] can you review [https://gerrit.hyperledger.org/r/#/c/10407/] please ?;;;","14/Jun/17 5:21 PM;ales;Sorry folks, I reviewed the change set but I didn't push on the reply button and so my comments got lost. My point was that the current fix addresses only endorsements, but we use the policy system in other parts of the code, e.g. in the configtx manager part of the peer. That part would still be affected by the bug. The bug could be triggered as follows: if there is a policy requiring 3 signatures from OrgA to change parts of the channel config, an attacker in possession of one signature could repeat it three times and get a malicious change approved.

A better fix would be to change the sources of the policy code directly, as opposed to fixing each individual usage.

[~mastersingh24], [~jyellick], [~muralisr], [~angelo.decaro] please weigh in.;;;","14/Jun/17 9:17 PM;muralisr;[~ales] I remember raising that question about fixing this at a policy level so it'll apply to other scenarios (I think in a conversation) as well. Now that the issue raised by this JIRA is fixed this way, perhaps we should revisit that for post 1.0 ?;;;","14/Jun/17 9:39 PM;ales;We need to decide how bad it is that the attack that we fixed against endorsement spoofing can still take place at the level of config updates. I would vote that it is just as bad if not worse, but I'd be happy to hear what others think.;;;","15/Jun/17 12:00 AM;ales;Another option is to document the following limitation: ""v1 does not properly handle policies that require >1 signatures with the same attribute (e.g. 2 signatures from Org1)"". If this restriction is honored, the attack cannot be mounted in v1. In the meantime, we could fix it for after v1.

[~muralisr], [~ChristopherFerris], thoughts?;;;","15/Jun/17 12:17 AM;binhn;[~ales] What would the cost be to restrict the policy to only allow 1 sig per org?  We can certainly live with this restriction in 1.0 and expanding it later.;;;","15/Jun/17 12:31 AM;ales;Enforcing the restriction of only 1 sig per org may be a non-trivial code change (at this stage), so imho the simplest way would be to just document the restriction;;;","15/Jun/17 3:43 AM;muralisr;[~ales] if everyone agrees with that, perhaps open a doc JIRA and close this one out.;;;","15/Jun/17 10:17 PM;ales;Done [~muralisr] - https://jira.hyperledger.org/browse/FAB-4749;;;",,,,,,,,,,,,,,,,,,
Peer log does not contain any error message when install chaincode failed on it,FAB-4253,17284,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,xixuejia,xixuejia,xixuejia,31/May/17 10:43 AM,21/Jul/18 3:54 AM,28/Oct/23 2:59 AM,01/Jun/17 11:55 AM,v1.0.0-alpha2,,,,,fabric-peer,,,,,,,0,,,,,,,,"*Commit level:*
- Fabric-node-sdk: b7eb1d4d48bcdeba21033591c4d0589e5a090f4d
- Fabric: 5caa571f9e1db2de02709d5400fa41b9fa8ee38f
- Fabric-ca: 8206d83294ee3d089d7f9a00081d8bf4d6da7a01

When installing chaincode with fabric-sdk-node, the installation might fail due to authority issue or the chaincode already exists on the peer. The fabric-sdk-node e2e tests shows such errors on console, but looking into the peer logs, it doesn't show any error message. This should be fixed to improve serviceability.",,xixuejia,,,,,,,,,,,,,,,,,,,,7200,7200,,0%,7200,7200,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzxxmf:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,xixuejia,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"01/Jun/17 9:34 AM;xixuejia;https://gerrit.hyperledger.org/r/#/c/9991/;;;","01/Jun/17 11:54 AM;xixuejia;As [~jiangyaoguo] pointed out, https://gerrit.hyperledger.org/r/#/c/9213/13 tracked by https://jira.hyperledger.org/browse/FAB-3560 would cover this requirement. This issue is duplicated and should be closed.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
SERVICE_UNAVAILABLE when instantiate chaincode the second time,FAB-4254,17286,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,muralisr,JasonShen,JasonShen,31/May/17 11:18 AM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,09/Jun/17 8:56 PM,v1.0.0-alpha2,,,v1.0.0,,fabric-peer,,,,,,,0,chaincode,node-SDK,,,,,,"this happens when instantiate chaincode twice. Just tested alpha2 node sdk, not sure it's Fabric's bug or sdk's. 

below is how to reproduce this error:
 # download fabric-sdk-node, switch to alpha2
 # mount data to docker to persist data
 ## ca1: volumes: - ./data/volumes/hyperledger/ca1:/etc/hyperledger/fabric-ca-server
 ## ca0: volumes: - ./data/volumes/hyperledger/ca0:/etc/hyperledger/fabric-ca-server
 ## orderer.example.com: volumes: - ./data/volumes/hyperledger/orderer/:/var/hyperledger/
 ## peer0.org1.example.com: volumes: - ./data/volumes/hyperledger/peer0org1/:/var/hyperledger/
 ## peer0.org2.example.com: volumes: - ./data/volumes/hyperledger/peer0org2/:/var/hyperledger/
 # docker-compose up
 # test e2e example: node test/integration/e2e.js. Everything is fine. tests 82, pass 82.
 # restart the hyperledger dockers: docker rm -f `docker ps -a -q` && docker-compose up
 # test e2e example: node test/integration/e2e/invoke-transaction.js. tests 12, pass 12. Still fine.
 # restart hyperledger dockers again: docker rm -f `docker ps -a -q` && docker-compose up
 # test e2e example: node test/integration/e2e/invoke-transaction.js. Then errors: 
 # 
{code:java}
error: [Orderer.js]: sendDeliver - on error code 14: ""Error: Connect Failed\n at ClientDuplexStream._emitStatusIfDone (/gopath/src/github.com/hyperl
edger/fabric-sdk-node/node_modules/grpc/src/node/src/client.js:201:19)\n at ClientDuplexStream._readsDone (/gopath/src/github.com/hyperledger/fabric
-sdk-node/node_modules/grpc/src/node/src/client.js:169:8)\n at readCallback (/gopath/src/github.com/hyperledger/fabric-sdk-node/node_modules/grpc/sr
c/node/src/client.js:229:12)""
error: [Chain.js]: getChannelConfig - Failed Proposal. Error: Error: SERVICE_UNAVAILABLE
at ClientDuplexStream.<anonymous> (/gopath/src/github.com/hyperledger/fabric-sdk-node/node_modules/fabric-client/lib/Orderer.js:234:23)
at emitOne (events.js:96:13)
at ClientDuplexStream.emit (events.js:188:7)
at ClientDuplexStream._emitStatusIfDone (/gopath/src/github.com/hyperledger/fabric-sdk-node/node_modules/grpc/src/node/src/client.js:204:12)
at ClientDuplexStream._readsDone (/gopath/src/github.com/hyperledger/fabric-sdk-node/node_modules/grpc/src/node/src/client.js:169:8)
at readCallback (/gopath/src/github.com/hyperledger/fabric-sdk-node/node_modules/grpc/src/node/src/client.js:229:12)
{code}",,Clayton Sims,JasonShen,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"07/Jun/17 10:54 AM;JasonShen;docker-compose.yaml;https://jira.hyperledger.org/secure/attachment/10973/docker-compose.yaml",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxxmv:",,,,,,,,,,,,,,,,,,,,,,,,,,,Clayton Sims,JasonShen,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"02/Jun/17 7:50 AM;Clayton Sims;Murali - I think this might be peer.....so moving it to fabric-peer.    If not peer can you triage to appropriate component.

 ;;;","06/Jun/17 4:49 AM;muralisr;[~Clayton Sims] given the following

{code:java}
error: [Chain.js]: getChannelConfig - Failed Proposal. Error: Error: SERVICE_UNAVAILABLE
at ClientDuplexStream.<anonymous> (/gopath/src/github.com/hyperledger/fabric-sdk-node/node_modules/fabric-client/lib/Orderer.js:234:23)
{code}

my guess would be somethingin the orderer SDK interaction. I'll keep it in peer for now and see if I can confirm.;;;","07/Jun/17 8:09 AM;muralisr;[~JasonShen] tried the exact steps a few times at commit level a959653ab74fd2354318cd4e8e8bd5d423df4bb1 and worked just fine.

Now there is at least one  issue with +sporadic+ SERVICE_UNAVAILABLE error from orderer reported in FAB-4415. You might be running into that as well. As stated there, it should be fixed in FAB-4136. Perhaps check when that's fixed.

Meanwhile can you upload all logs so we can try and confirm the issues are same.;;;","07/Jun/17 11:20 AM;JasonShen;[~muralisr] ok, I'm gonna upload my docker-compose.yml file and logs.

[^docker-compose.yaml]this is my compose file.

 

here is sdk's log:
{code:java}
***** End-to-end flow: invoke transaction to move money *****
# getMember, name: admin, client.getUserContext(admin, true)
info: [crypto_ecdsa_aes]: This class requires a CryptoKeyStore to save keys, using the store: {""opts"":{""path"":""/tmp/hfc-test-kvs_peerOrg2""}}
info: [Client.js]: Successfully loaded user ""admin"" from local key value store
ok 1 Successfully loaded member from persistence
ok 2 Successfully enrolled user 'admin'
error: [Orderer.js]: sendDeliver - on error code 14: ""Error: Connect Failed\n at ClientDuplexStream._emitStatusIfDone (/Users/david/Desktop/work/code/gopath/src/github.com/hyperl
edger/fabric-sdk-node/node_modules/grpc/src/node/src/client.js:201:19)\n at ClientDuplexStream._readsDone (/Users/david/Desktop/work/code/gopath/src/github.com/hyperledger/fabric
-sdk-node/node_modules/grpc/src/node/src/client.js:169:8)\n at readCallback (/Users/david/Desktop/work/code/gopath/src/github.com/hyperledger/fabric-sdk-node/node_modules/grpc/sr
c/node/src/client.js:229:12)""
error: [Chain.js]: getChannelConfig - Failed Proposal. Error: Error: SERVICE_UNAVAILABLE
at ClientDuplexStream.<anonymous> (/Users/david/Desktop/work/code/gopath/src/github.com/hyperledger/fabric-sdk-node/node_modules/fabric-client/lib/Orderer.js:234:23)
at emitOne (events.js:96:13)
at ClientDuplexStream.emit (events.js:188:7)
at ClientDuplexStream._emitStatusIfDone (/Users/david/Desktop/work/code/gopath/src/github.com/hyperledger/fabric-sdk-node/node_modules/grpc/src/node/src/client.js:204:12)
at ClientDuplexStream._readsDone (/Users/david/Desktop/work/code/gopath/src/github.com/hyperledger/fabric-sdk-node/node_modules/grpc/src/node/src/client.js:169:8)
at readCallback (/Users/david/Desktop/work/code/gopath/src/github.com/hyperledger/fabric-sdk-node/node_modules/grpc/src/node/src/client.js:229:12)
error: [Chain.js]: Error: SERVICE_UNAVAILABLE
at ClientDuplexStream.<anonymous> (/Users/david/Desktop/work/code/gopath/src/github.com/hyperledger/fabric-sdk-node/node_modules/fabric-client/lib/Orderer.js:234:23)
at emitOne (events.js:96:13)
at ClientDuplexStream.emit (events.js:188:7)
at ClientDuplexStream._emitStatusIfDone (/Users/david/Desktop/work/code/gopath/src/github.com/hyperledger/fabric-sdk-node/node_modules/grpc/src/node/src/client.js:204:12)
at ClientDuplexStream._readsDone (/Users/david/Desktop/work/code/gopath/src/github.com/hyperledger/fabric-sdk-node/node_modules/grpc/src/node/src/client.js:169:8)
at readCallback (/Users/david/Desktop/work/code/gopath/src/github.com/hyperledger/fabric-sdk-node/node_modules/grpc/src/node/src/client.js:229:12)
not ok 3 Failed to enroll user 'admin'. Error: Error: SERVICE_UNAVAILABLE
---
operator: fail
at: hfc.newDefaultKeyValueStore.then.then.then (/Users/david/Desktop/work/code/gopath/src/github.com/hyperledger/fabric-sdk-node/test/integration/e2e/e2eUtils.js:548:5)
...
not ok 4 Error: Failed to enroll user 'admin'. Error: Error: SERVICE_UNAVAILABLE at hfc.newDefaultKeyValueStore.then.then.then (/Users/david/Desktop/work/code/gopath/src/github.com/
hyperledger/fabric-sdk-node/test/integration/e2e/e2eUtils.js:549:9) at process._tickCallback (internal/process/next_tick.js:109:7)
---
operator: fail
at: hfc.newDefaultKeyValueStore.then.then.then.then (/Users/david/Desktop/work/code/gopath/src/github.com/hyperledger/fabric-sdk-node/test/integration/e2e/e2eUtils.js:640:5)
...
not ok 5 Error: Error: Failed to enroll user 'admin'. Error: Error: SERVICE_UNAVAILABLE at hfc.newDefaultKeyValueStore.then.then.then (/Users/david/Desktop/work/code/gopath/src/gith
ub.com/hyperledger/fabric-sdk-node/test/integration/e2e/e2eUtils.js:549:9) at process._tickCallback (internal/process/next_tick.js:109:7) at hfc.newDefaultKeyValueStore.then.then.th
en.then (/Users/david/Desktop/work/code/gopath/src/github.com/hyperledger/fabric-sdk-node/test/integration/e2e/e2eUtils.js:641:9) at process._tickCallback (internal/process/next_tic
k.js:109:7)
---
operator: fail
at: hfc.newDefaultKeyValueStore.then.then.then.then.then (/Users/david/Desktop/work/code/gopath/src/github.com/hyperledger/fabric-sdk-node/test/integration/e2e/e2eUtils.js:658:5
)
...
not ok 6 Error: Error: Error: Failed to enroll user 'admin'. Error: Error: SERVICE_UNAVAILABLE at hfc.newDefaultKeyValueStore.then.then.then (/Users/david/Desktop/work/code/gopath/s
rc/github.com/hyperledger/fabric-sdk-node/test/integration/e2e/e2eUtils.js:549:9) at process._tickCallback (internal/process/next_tick.js:109:7) at hfc.newDefaultKeyValueStore.then.
then.then.then (/Users/david/Desktop/work/code/gopath/src/github.com/hyperledger/fabric-sdk-node/test/integration/e2e/e2eUtils.js:641:9) at process._tickCallback (internal/process/n
ext_tick.js:109:7) at hfc.newDefaultKeyValueStore.then.then.then.then.then (/Users/david/Desktop/work/code/gopath/src/github.com/hyperledger/fabric-sdk-node/test/integration/e2e/e2e
Utils.js:659:9) at process._tickCallback (internal/process/next_tick.js:109:7)
---
operator: fail
at: e2eUtils.invokeChaincode.then (/Users/david/Desktop/work/code/gopath/src/github.com/hyperledger/fabric-sdk-node/test/integration/e2e/invoke-transaction.js:38:5)
...
info: [E2E testing]: Disconnecting the event hub
# Successfully slept for 5s to wait for the transaction to be committed in all peers

1..6
# tests 6
# pass 2
# fail 4
{code}
well, I don't know where to find all docker container's logs, so here's someone of dockers' log, I will try to upload all log files if that's not enough:
{code:java}
peer0.org1.example.com | 2017-06-07 02:17:48.473 UTC [flogging] setModuleLevel -> DEBU 1c0 Module 'grpc' logger enabled for log level 'ERROR'
peer0.org2.example.com | 2017-06-07 02:17:48.491 UTC [kvledger] NewProvider -> INFO 006 ledger provider Initialized
peer0.org2.example.com | 2017-06-07 02:17:48.493 UTC [ledgermgmt] initialize -> INFO 007 ledger mgmt initialized
peer0.org2.example.com | 2017-06-07 02:17:48.506 UTC [nodeCmd] serve -> INFO 008 Starting peer with TLS enabled
peer0.org2.example.com | 2017-06-07 02:17:48.508 UTC [eventhub_producer] start -> INFO 009 Event processor started
peer0.org2.example.com | 2017-06-07 02:17:48.514 UTC [chaincode] NewChaincodeSupport -> INFO 00a Chaincode support using peerAddress: peer0.org2.example.com:7051
peer0.org2.example.com | 2017-06-07 02:17:48.515 UTC [sccapi] RegisterSysCC -> INFO 00b system chaincode cscc(github.com/hyperledger/fabric/core/scc/cscc) registered
peer0.org2.example.com | 2017-06-07 02:17:48.516 UTC [sccapi] RegisterSysCC -> INFO 00c system chaincode lscc(github.com/hyperledger/fabric/core/scc/lscc) registered
peer0.org2.example.com | 2017-06-07 02:17:48.517 UTC [sccapi] RegisterSysCC -> INFO 00d system chaincode escc(github.com/hyperledger/fabric/core/scc/escc) registered
peer0.org2.example.com | 2017-06-07 02:17:48.517 UTC [sccapi] RegisterSysCC -> INFO 00e system chaincode vscc(github.com/hyperledger/fabric/core/scc/vscc) registered
peer0.org2.example.com | 2017-06-07 02:17:48.518 UTC [sccapi] RegisterSysCC -> INFO 00f system chaincode qscc(github.com/hyperledger/fabric/core/chaincode/qscc) registered
peer0.org2.example.com | 2017-06-07 02:17:48.519 UTC [gossip/service] func1 -> INFO 010 Initialize gossip with endpoint peer0.org2.example.com:7051 and bootstrap set [127.0.0.1:7051]
peer0.org2.example.com | 2017-06-07 02:17:48.519 UTC [msp] DeserializeIdentity -> INFO 011 Obtaining identity
peer0.org2.example.com | 2017-06-07 02:17:48.527 UTC [msp] DeserializeIdentity -> INFO 012 Obtaining identity
peer0.org2.example.com | 2017-06-07 02:17:48.528 UTC [msp] DeserializeIdentity -> INFO 013 Obtaining identity
peer0.org2.example.com | 2017-06-07 02:17:48.529 UTC [gossip/discovery] NewDiscoveryService -> INFO 014 Started { [] [223 212 143 221 75 84 72 130 103 192 209 174 235 158 158 88150 49 135 12 178 109 117 228 206 165 137 119 111 29 198 2] peer0.org2.example.com:7051} incTime is 1496801868528861027
peer0.org2.example.com | 2017-06-07 02:17:48.529 UTC [gossip/gossip] NewGossipService -> INFO 015 Creating gossip service with self membership of { [] [223 212 143 221 75 84 72 130 103 192 209 174 235 158 158 88 150 49 135 12 178 109 117 228 206 165 137 119 111 29 198 2] peer0.org2.example.com:7051}
peer0.org2.example.com | 2017-06-07 02:17:48.529 UTC [msp] DeserializeIdentity -> INFO 016 Obtaining identity
peer0.org2.example.com | 2017-06-07 02:17:48.529 UTC [msp] DeserializeIdentity -> INFO 017 Obtaining identity
peer0.org2.example.com | 2017-06-07 02:17:48.530 UTC [gossip/gossip] NewGossipService -> WARN 018 External endpoint is empty, peer will not be accessible outside of its organization
peer0.org2.example.com | 2017-06-07 02:17:48.530 UTC [gossip/discovery] connect2BootstrapPeers -> INFO 019 Entering: [127.0.0.1:7051]
peer0.org2.example.com | 2017-06-07 02:17:48.530 UTC [gossip/discovery] connect2BootstrapPeers -> INFO 01a Exiting
peer0.org2.example.com | 2017-06-07 02:17:48.530 UTC [gossip/gossip] start -> INFO 01b Gossip instance peer0.org2.example.com:7051 started
peer0.org2.example.com | 2017-06-07 02:17:48.531 UTC [cscc] Init -> INFO 01c Init CSCC
peer0.org2.example.com | 2017-06-07 02:17:48.531 UTC [sccapi] deploySysCC -> INFO 01d system chaincode cscc/(github.com/hyperledger/fabric/core/scc/cscc) deployed
peer0.org2.example.com | 2017-06-07 02:17:48.531 UTC [sccapi] deploySysCC -> INFO 01e system chaincode lscc/(github.com/hyperledger/fabric/core/scc/lscc) deployed
peer0.org2.example.com | 2017-06-07 02:17:48.532 UTC [escc] Init -> INFO 01f Successfully initialized ESCC
peer0.org2.example.com | 2017-06-07 02:17:48.532 UTC [sccapi] deploySysCC -> INFO 020 system chaincode escc/(github.com/hyperledger/fabric/core/scc/escc) deployed
peer0.org2.example.com | 2017-06-07 02:17:48.533 UTC [sccapi] deploySysCC -> INFO 021 system chaincode vscc/(github.com/hyperledger/fabric/core/scc/vscc) deployed
peer0.org2.example.com | 2017-06-07 02:17:48.533 UTC [qscc] Init -> INFO 022 Init QSCC
peer0.org2.example.com | 2017-06-07 02:17:48.533 UTC [sccapi] deploySysCC -> INFO 023 system chaincode qscc/(github.com/hyperledger/fabric/core/chaincode/qscc) deployed
peer0.org2.example.com | 2017-06-07 02:17:48.533 UTC [nodeCmd] initSysCCs -> INFO 024 Deployed system chaincodess
peer0.org2.example.com | 2017-06-07 02:17:48.533 UTC [peer] Initialize -> INFO 025 Loading chain mychannel
peer0.org2.example.com | 2017-06-07 02:17:48.533 UTC [ledgermgmt] OpenLedger -> INFO 026 Opening ledger with id = mychannel
peer0.org2.example.com | 2017-06-07 02:17:48.552 UTC [ledgermgmt] OpenLedger -> INFO 027 Opened ledger with id = mychannel
peer0.org2.example.com | 2017-06-07 02:17:48.561 UTC [peer] Initialize -> WARN 028 Failed to load chain mychannel(Bad envelope: Not a tx of type CONFIG)
peer0.org2.example.com | 2017-06-07 02:17:48.562 UTC [nodeCmd] serve -> INFO 029 Starting peer with ID=[name:""peer0.org2.example.com"" ], network ID=[dev], address=[peer0.org2.example.com:7051]
peer0.org2.example.com | 2017-06-07 02:17:48.567 UTC [nodeCmd] serve -> INFO 02a Started peer with ID=[name:""peer0.org2.example.com"" ], network ID=[dev], address=[peer0.org2.example.com:7051]
{code}
Note that there are some lines seem unnormal.
{code:java}
peer0.org2.example.com | 2017-06-07 02:17:48.561 UTC [peer] Initialize -> WARN 028 Failed to load chain mychannel(Bad envelope: Not a tx of type CONFIG){code};;;","07/Jun/17 8:30 PM;muralisr;[~JasonShen] Also, did you try running on the latest master ?;;;","08/Jun/17 10:43 AM;JasonShen;[~muralisr] yes, but I really couldn't test it because when I started the hyperledger containers, I got this error: Failed connecting to orderer:7050 , error: grpc: timed out when dialing. I believe that's one of node sdk's bug. So I had to give up. ;;;","08/Jun/17 11:22 AM;muralisr;[~JasonShen]   I didn't run into connectivity issues connecting to orderer:7050. 

 _I believe that's one of node sdk's bug._

Are you referring to a known SDK bug (if so which one ) ?;;;","09/Jun/17 10:53 AM;JasonShen;[~muralisr] really thanks. I tried beta version, and this error got fixed!!!;;;","09/Jun/17 8:56 PM;Clayton Sims;Are we confident this is fixed?  If so can we close this one;;;","09/Jun/17 8:56 PM;muralisr;Thanks for testing and following through [~JasonShen].  Will close the JIRA then.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"""make release"" failed due to missing file and directory",FAB-4255,17287,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,nnao,nnao,nnao,31/May/17 3:41 PM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,11/Jun/17 6:48 AM,v1.0.0-alpha2,,,v1.0.0,,fabric-build,,,,,,,0,build-system,v1.0,,,,,,"It seems like that required file and directory related to ""release target"" in Makefile was deleted by FAB-4109 accidentally.",,ChristopherFerris,nnao,weeds,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-4132,FAB-4066,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxxn3:",,,,,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,nnao,weeds,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"01/Jun/17 11:09 AM;ChristopherFerris;https://gerrit.hyperledger.org/r/#/c/9993/;;;","09/Jun/17 8:46 PM;ChristopherFerris;It is unclear to me that we should be maintaining so many approaches to downloading the images. I think we should take stock and have a single approach. ;;;","10/Jun/17 2:02 AM;weeds;Chris- is this really a high level defect then- should it be moved to medium?  Unclear of what we should do here, please advz.;;;","10/Jun/17 2:06 AM;nnao;I agreed. This JIRA just solves the make release failure.
I think that deleting the Make release itself does not matter.
We have the bootstrap script in scripts dir.;;;","10/Jun/17 2:29 AM;nnao;Do I need to change this JIRA that deleting make release in Makefile.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[UNVERIFIED] Error at 2 peer for querying chaincode,FAB-4256,17288,,Bug,Closed,FAB,Fabric,software,denyeart,,,Low,Done,jsong1230,jsong1230,jsong1230,31/May/17 3:42 PM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,13/Jun/17 9:11 PM,v1.0.0-beta,,,v1.0.0-rc1,,fabric-peer,,,,,,,0,help-wanted,,,,,,,"I have two peers in the same org in two different machines.

I have deployed a mycc chaincode in my channel channel. Everything is working fine at peer1 but  not be able to operate at peer2.

Do you have any idea?

#####################################################################

2017-05-31 06:21:26.643 UTC [chaincode] ExecuteChaincode -> ERRO 037 Error executing chaincode: Could not get deployment transaction from LSCC for mycc:1.0 - Get ChaincodeDeploymentSpec for mycc/mychannel from LSCC error: chaincode fingerprint mismatch data mismatch

#####################################################################

 

My command for docker is as follows:

 

## host1:orderer

docker run --rm -it --network hyp-net --name orderer -p 7050:7050 \
--volume /home/ubuntu/fabric-sample/release/linux-amd64/channel-artifacts/genesis.block:/var/hyperledger/orderer/orderer.genesis.block \
--volume /home/ubuntu/fabric-sample/release/linux-amd64/crypto-config/ordererOrganizations/example.com/orderers/orderer.example.com/msp:/var/hyperledger/orderer/msp \
--volume /home/ubuntu/fabric-sample/release/linux-amd64/crypto-config/ordererOrganizations/example.com/orderers/orderer.example.com/tls:/var/hyperledger/orderer/tls \
--env ORDERER_GENERAL_LOGLEVEL=debug \
--env ORDERER_GENERAL_LISTENADDRESS=0.0.0.0 \
--env ORDERER_GENERAL_GENESISMETHOD=file \
--env ORDERER_GENERAL_GENESISFILE=/var/hyperledger/orderer/orderer.genesis.block \
--env ORDERER_GENERAL_LOCALMSPID=OrdererMSP \
--env ORDERER_GENERAL_LOCALMSPDIR=/var/hyperledger/orderer/msp \
--env ORDERER_GENERAL_TLS_ENABLED=false \
--workdir /opt/gopath/src/github.com/hyperledger/fabric \
--env CORE_VM_DOCKER_HOSTCONFIG_NETWORKMODE=hyp-net \
hyperledger/fabric-orderer:x86_64-1.0.0-alpha2 orderer

 

## host1:peer1 

docker run --rm -it --network hyp-net --name peer0.org1.example.com -p 7051:7051 -p 7053:7053 \
--volume /var/run/:/host/var/run/ \
--volume /home/ubuntu/fabric-sample/release/linux-amd64/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/msp:/etc/hyperledger/fabric/msp \
--volume /home/ubuntu/fabric-sample/release/linux-amd64/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls:/etc/hyperledger/fabric/tls \
--env CORE_PEER_ADDRESSAUTODETECT=true \
--env CORE_PEER_ID=peer0.org1.example.com \
--env CORE_PEER_ADDRESS=peer0.org1.example.com:7051 \
--env CORE_PEER_GOSSIP_EXTERNALENDPOINT=peer0.org1.example.com:7051 \
--env CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock \
--env CORE_CORE_LOGGING_LEVEL=DEBUG \
--env CORE_PEER_TLS_ENABLED=false \
--env CORE_PEER_ENDORSER_ENABLED=true \
--env CORE_PEER_GOSSIP_USELEADERELECTION=true \
--env CORE_PEER_GOSSIP_ORGLEADER=false \
--env CORE_PEER_PROFILE_ENABLED=false \
--env CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/fabric/msp \
--env CORE_PEER_LOCALMSPID=Org1MSP \
--env CORE_PEER_GOSSIP_BOOTSTRAP=peer0.org1.example.com:7051 \
--env CORE_PEER_COMMITTER_LEDGER_ORDERER=orderer.example.com:7050 \
--workdir /opt/gopath/src/github.com/hyperledger/fabric/peer \
--env CORE_VM_DOCKER_HOSTCONFIG_NETWORKMODE=hyp-net \
hyperledger/fabric-peer:x86_64-1.0.0-alpha2 peer node start --peer-defaultchain=false

 

 

## host2:peer1 

docker run --rm -it --network hyp-net --name peer1.org1.example.com -p 7051:7051 -p 7053:7053 \
--volume /var/run/:/host/var/run/ \
--volume /home/ubuntu/fabric-sample/release/linux-amd64/crypto-config/peerOrganizations/org1.example.com/peers/peer1.org1.example.com/msp:/etc/hyperledger/fabric/msp \
--volume /home/ubuntu/fabric-sample/release/linux-amd64/crypto-config/peerOrganizations/org1.example.com/peers/peer1.org1.example.com/tls:/etc/hyperledger/fabric/tls \
--env CORE_PEER_ADDRESSAUTODETECT=true \
--env CORE_PEER_ID=peer1.org1.example.com \
--env CORE_PEER_ADDRESS=peer1.org1.example.com:7051 \
--env CORE_PEER_GOSSIP_EXTERNALENDPOINT=peer1.org1.example.com:7051 \
--env CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock \
--env CORE_CORE_LOGGING_LEVEL=DEBUG \
--env CORE_PEER_TLS_ENABLED=false \
--env CORE_PEER_ENDORSER_ENABLED=true \
--env CORE_PEER_GOSSIP_USELEADERELECTION=true \
--env CORE_PEER_GOSSIP_ORGLEADER=false \
--env CORE_PEER_PROFILE_ENABLED=true \
--env CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/fabric/msp \
--env CORE_PEER_LOCALMSPID=Org1MSP \
--env CORE_PEER_GOSSIP_BOOTSTRAP=\{host1IP}:7051 \
--env CORE_PEER_COMMITTER_LEDGER_ORDERER=\{host1IP}:7050 \
--workdir /opt/gopath/src/github.com/hyperledger/fabric/peer \
--env CORE_VM_DOCKER_HOSTCONFIG_NETWORKMODE=hyp-net \
hyperledger/fabric-peer:x86_64-1.0.0-alpha2 peer node start --peer-defaultchain=false

 

 ",,ChristopherFerris,JonathanLevi,jsong1230,muralisr,scottz,weeds,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,FAB-4518,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxxnb:",,,,,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,JonathanLevi,jsong1230,muralisr,scottz,weeds,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"02/Jun/17 3:31 AM;muralisr;[~jsong1230] the installed chaincode on peer2 may not be identical to the chaincode that was used to instantiate on the channel. Can yo u make sure the installed chaincodes are identical on all peers before you instantiated ?;;;","05/Jun/17 1:11 AM;scottz;And reminder that you do have to install on every peer, not just one.

Question: does every query on peer2 fail? Did you try once, see the failure, wait a minute, and try again?;;;","05/Jun/17 8:32 PM;weeds;I put assignee as Jeff Song, since we are looking for some more information. Please reassign to Murali once question addressed. Thanks!;;;","09/Jun/17 9:08 PM;Clayton Sims;Jeff any updates on the questions back to you?  ;;;","12/Jun/17 10:28 AM;Clayton Sims;Jeff any update?;;;","12/Jun/17 8:22 PM;ChristopherFerris;I've changed the priority to low, since the reporter has not responded to multiple queries.;;;","12/Jun/17 9:32 PM;muralisr;[~jsong1230] will assume this is working for you with latest master (or beta) and close this by 12 June (in about 12 hours);;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
core/scc/cscc/configure_test.go didn't delete directory after UT,FAB-4257,17289,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,nnao,nnao,nnao,31/May/17 3:50 PM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,02/Jun/17 5:52 AM,v1.0.0-alpha2,,,v1.0.0,,fabric-peer,,,,,,,0,chaincode,quality,,,,,,"core/scc/cscc/configure_test.gomakes directory for UT. But the directory wasn't deleted after running UT.
","	os.Mkdir(""/tmp/hyperledgertest"", 0755)
...
	defer os.RemoveAll(""/tmp/hyperledgerest/"") <- wrong directory name",muralisr,nnao,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxxnj:",,,,,,,,,,,,,,,,,,,,,,,,,,,muralisr,nnao,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"02/Jun/17 4:15 AM;muralisr;[~nnao] any update on this ? Thanks!;;;","02/Jun/17 4:46 AM;nnao;I sent the patch. Thanks!
https://gerrit.hyperledger.org/r/#/c/9995/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Need instructions for starting fabric binaries in trial environment (outside of docker),FAB-4259,17309,,Story,Closed,FAB,Fabric,software,denyeart,,,High,Won't Do,,denyeart,denyeart,31/May/17 9:24 PM,23/Jan/20 4:13 AM,28/Oct/23 2:59 AM,23/Jan/20 4:13 AM,,,,,,fabric-docs,,,,,,,0,stale-item,,,,,,,"For developers wanting to test end-to-end, or for consumers wanting to do a trial with a minimal config outside docker, we need instructions for starting and running the fabric network end-to-end.

Here is what I do, although I don't know if this is the 'best' approach.

+make binaries (if in dev environment):+
 make configtxgen
 make orderer
 make peer

+In /sampleconfig/orderer.yaml, change:+
 GenesisProfile: SampleSingleMSPSolo

+start orderer:+
 orderer

+start peer:+
 CORE_LOGGING_LEVEL=DEBUG peer node start -o 127.0.0.1:7050 --peer-defaultchain=false --peer-chaincodedev=false
 +or start peer with CouchDB:+
 CORE_LOGGING_LEVEL=DEBUG CORE_LEDGER_STATE_STATEDATABASE=CouchDB peer node start --peer-defaultchain=false

+Create and join channel:+
 configtxgen -channelID myc -outputCreateChannelTx myc.tx -profile SampleSingleMSPChannel
 peer channel create -c myc -o 127.0.0.1:7050 -f myc.tx
 peer channel join -c myc -b myc.block

+Install and Instantiate chaincode, e.g. marbles02:+
 peer chaincode install -n marbles -p github.com/hyperledger/fabric/examples/chaincode/go/marbles02 -v 1 
 peer chaincode instantiate -C myc -n marbles -p github.com/hyperledger/fabric/examples/chaincode/go/marbles02 -c '\{""Args"":[""init""]}' -v 1 -o 127.0.0.1:7050

+Sample invokes for marbles02:+
 peer chaincode invoke -o 127.0.0.1:7050 -C myc -n marbles -c '\{""Args"":[""initMarble"",""marble1"",""blue"",""35"",""tom""]}'
 peer chaincode invoke -o 127.0.0.1:7050 -C myc -n marbles -c '\{""Args"":[""transferMarble"",""marble1"",""jerry""]}'
 peer chaincode invoke -o 127.0.0.1:7050 -C myc -n marbles -c '\{""Args"":[""transferMarblesBasedOnColor"",""blue"",""jerry""]}'
 peer chaincode invoke -o 127.0.0.1:7050 -C myc -n marbles -c '\{""Args"":[""delete"",""marble1""]}'

+Sample queries for marbles02:+
 peer chaincode query -C myc -n marbles -c '\{""Args"":[""readMarble"",""marble1""]}'
 peer chaincode query -C myc -n marbles -c '\{""Args"":[""getMarblesByRange"",""marble1"",""marble8""]}'
 peer chaincode query -C myc -n marbles -c '\{""Args"":[""getHistoryForMarble"",""marble1""]}'

+Sample Rich Query (Only works if CouchDB is used as state database):+
 peer chaincode query -C myc -n marbles -c '\{""Args"":[""queryMarblesByOwner"",""tom""]}'
 peer chaincode query -C myc -n marbles -c '\{""Args"":[""queryMarbles"",""\\{\""selector\"":\\{\""owner\"":\""tom\""}}""]}'",,animeshk,ChristopherFerris,denyeart,huxd,joe-alewine,muralisr,sykesm,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzx2bj:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,animeshk,ChristopherFerris,denyeart,huxd,joe-alewine,muralisr,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"31/May/17 9:30 PM;denyeart;[~muralisr] [~jyellick] Could you look at the steps above.  Is this the 'best' approach for simple trial?  Could it be made even simpler with good defaults, for example why must I change orderer.yaml to GenesisProfile: SampleSingleMSPSolo to get simple end-to-end to work?;;;","31/May/17 10:56 PM;muralisr;[~denyeart] that's what I do too. I often wished we could use an ENV var to set *GenesisProfile: SampleSingleMSPSolo*. 

I tried using SampleInsecureSolo a while back as it was the orderers default but it didn't work at that time with a user defined channel (ie, not ""testchainid"").

[~jyellick] what do you think of using SampleSingleMSPSolo as default ... or can we override via ENV so we don't have to change orderer.yaml ? Seems like a nice usability feature if the impact is not too much.;;;","01/Jun/17 12:18 AM;denyeart;I also had problems with SampleInsecureSolo in end-to-end trial.  [~jyellick] could you try that out? Maybe we need a separate defect for that?;;;","01/Jun/17 1:08 PM;animeshk;[~denyeart]  How can i have two peers in fabric binary trial environment ?should i make change to core.yml file;;;","18/Jun/17 12:27 PM;ChristopherFerris;[~denyeart] does BYFN satisfy this? If so, please close this as duplicate of FAB-4073;;;","24/Mar/18 5:34 AM;joe-alewine;[~denyeart];;;","23/Jan/20 4:13 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
add missing CCBY license to all .md and .rst files,FAB-4261,17313,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ChristopherFerris,ChristopherFerris,ChristopherFerris,31/May/17 11:57 PM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,01/Jun/17 4:49 AM,v1.0.0-alpha2,,,v1.0.0-beta,,fabric-build,,,,,,,0,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABC-561,FABCT-22,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxxvz:",,,,,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"01/Jun/17 12:42 AM;ChristopherFerris;https://gerrit.hyperledger.org/r/#/c/9977/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Improve code coverage for hyperledger/fabric/orderer/common/broadcast,FAB-4263,17315,16261,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,guoger,guoger,guoger,01/Jun/17 12:09 AM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,02/Jun/17 5:03 AM,v1.0.0-alpha2,,,v1.0.0,,fabric-orderer,,,,,,,0,,,,,,,,,,guoger,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"01/Jun/17 7:18 PM;guoger;cover.html;https://jira.hyperledger.org/secure/attachment/10895/cover.html",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxxwf:",,,,,,,,,,,,,,,,,,,,,,,,,,,guoger,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"01/Jun/17 7:17 PM;guoger;https://gerrit.hyperledger.org/r/#/c/10013/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Peer channel command fetch problem,FAB-4264,17317,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,01/Jun/17 12:44 AM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,02/Jun/17 11:28 PM,,,,v1.0.0,,fabric-peer,,,,,,,0,,,,,,,,"The peer channel fetch command has multiple problems.

1. It claims to fetch the configuration block, but actually fetches only the genesis block.
2. The seekHelper in the deliver code claims to accept a seek position start index, and returns one block, but in fact always seeks from oldest, to newest, returning an infinite number of blocks.
3. The command outputs to a fixed filename (varying only by channel name)",,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,FAB-1678,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxxwn:",,,,,,,,,,,,,,,,,,,,,,,,,,,jyellick,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"01/Jun/17 1:10 AM;jyellick;Pushed https://gerrit.hyperledger.org/r/#/c/9981/ to fix;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Peer channel update performed as create,FAB-4265,17318,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,01/Jun/17 1:36 AM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,03/Jun/17 3:00 PM,,,,v1.0.0,,fabric-peer,,,,,,,0,,,,,,,,"In the e2e test, after each org joins their peers to the network, they update their anchor peers by creating a new configtx and submitting it to the orderer.

However, this update is done via the 'peer channel create' command, which is very unintuitive.  Because the channel creation mechanism is the same as the update mechanism, it is successful, but reads oddly and is confusing to anyone looking at the e2e example.",,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,FAB-1678,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxxwv:",,,,,,,,,,,,,,,,,,,,,,,,,,,jyellick,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
PTE rename nThread to nProc,FAB-4266,17319,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,dongming,dongming,dongming,01/Jun/17 2:08 AM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,05/Jun/17 11:39 PM,,,,v1.0.0,,fabric-quality,,,,,,,0,,,,,,,,rename nThread to nProc per review,,dongming,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-2247,,,,,,,,,,"1|hzxxx3:",,,,,,Sprint 19 - Quality,,,,,,,,,,,,,,,,,,,,,dongming,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Release artifacts - Finalize release binaries build, distribution, installation approach (for non-Docker artifacts)",FAB-4267,17320,,Task,Closed,FAB,Fabric,software,denyeart,,,High,Done,,denyeart,denyeart,01/Jun/17 2:48 AM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,20/Jul/17 12:28 AM,,,,v1.0.0,,,,,,,,,0,,,,,,,,"Release makefile target is already available for:
 * configtxgen
 * cryptogen

Need to also include
 * fabric-ca-client cli
 * the upcoming config update tool (-FAB-1678-) aka configtxlator

And additionally figure out best way to distribute and install these binaries (e.g. homebrew?).",,ChristopherFerris,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-5042,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx2br:",,,,,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"02/Jun/17 1:51 AM;ChristopherFerris;For MacOS, we could easily use homebrew. What is less clear (yet) is whether we can do this directly - I am working on that (legal) aspect.

Anyway, for the homebrew formula, we need a tar file structured like this:

tar xvf hyperledger-fabric-1.0.0.tar.gz

bin/

bin/configtxgen

bin/cryptogen

 

And the formula:

class HyperledgerFabric < Formula

  desc ""Hyperledger Fabric native binaries installer""

  homepage ""https://hyperledger.org/projects/fabric""

  url ""file:///Users/cbf/dev/gocode/src/github.com/hyperledger/fabric/release/darwin-amd64/hyperledger-fabric-1.0.0.tar.gz""

  sha256 ""f71335f18149989b6ba1912c52947ff16301dcf888f08d07b59334cf91b5a332""

 

  def install

    bin.install ""cryptogen""

    bin.install ""configtxgen""

  end

 

  test do

    system ""#\{bin}/configtxgen --help""

    system ""#\{bin}/cryptogen --help""

  end

end

 ;;;","02/Jun/17 2:26 AM;ChristopherFerris;https://gerrit.hyperledger.org/r/#/c/10029/;;;","13/Jun/17 9:20 AM;ChristopherFerris;[https://gerrit.hyperledger.org/r/#/c/10413/] is more relevant, the home-brew approach is only for MacOS, but would leverage 10413. The important thing is to separate out the binaries from any sample app/demo (e.g. getting started).;;;","13/Jun/17 9:21 AM;ChristopherFerris;fabric-ca needs to be adapted to this approach (a tar file for bin/fabric-ca-client).;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
PTE adds company name option,FAB-4268,17321,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,dongming,dongming,dongming,01/Jun/17 2:49 AM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,05/Jun/17 11:39 PM,,,,v1.0.0,,fabric-quality,,,,,,,0,,,,,,,,PTE allows user to specify company name.  The default is example.com,,dongming,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-2247,,,,,,,,,,"1|hzxxxb:",,,,,,Sprint 19 - Quality,,,,,,,,,,,,,,,,,,,,,dongming,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Release artifacts - Finalize e2e sample approach and artifacts,FAB-4269,17322,,Task,Closed,FAB,Fabric,software,denyeart,,,High,Invalid,,denyeart,denyeart,01/Jun/17 2:56 AM,29/Oct/18 9:29 PM,28/Oct/23 2:59 AM,29/Oct/18 9:29 PM,,,,v1.0.0,,,,,,,,,0,,,,,,,,"Need to restructure some of the e2e_cli content, e.g. remove end-to-end.rst in favor of Getting Started instructions, review all files, etc.

Review/Finalize automation that builds out the release e2e content.

 

Questions:

Should there be a step-by-step path as well as an all-in-one path?

Pre-build the relevant artifacts rather than requiring all the scripts to be run to generate the crypto and channel material?

Provide SDK client in addition to cli client going forward?

 ",,ChristopherFerris,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABG-576,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx2bz:",,,,,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"01/Jun/17 5:19 AM;ChristopherFerris;Agree it needs restructure. I think that the e2e should have the following structure and that it should be a two-part download. e.g. (this may need more thought)

------- first part d/l binaries, scripts and README----------

/fabric-<version>

/fabric-<version>/bin

/fabric-<version>/bin/configtxgen

/fabric-<version>/bin/cryptogen

/fabric-<version>/network_setup.sh

/fabric-<version>/download_images.sh

/fabric-<version>/compose/compose-cli.yaml

/fabric-<version>/README.md

------ second part d/l e2e_cli sample --------

/fabric-<version>/e2e_cli/compose/base/peer-base.yaml

/fabric-<version>/e2e_cli/compose/base/compose-base.yaml

/fabric-<version>/e2e_cli/compose/docker-compose.in

/fabric-<version>/e2e_cli/compose/script.sh

/fabric-<version>/e2e_cli/config/configtx.yaml

/fabric-<version>/e2e_cli/config/crypto-config.yaml

 

 ;;;","02/Jun/17 1:00 AM;ChristopherFerris;Note that for BETA, we likely will not have a new Getting Started (which will actually be two things, 1) Writing your first app and chaincode and 2) Standing up a basic network (e.g. e2e), yet. That is being actively worked by @odowdaibm

1) will need a simplified fully scripted approach to starting and configuring the most basic network suitable for testing an application (one peer, one orderer (solo), one ca and a cli container)

2) will be more like e2e and I'd like to work on blending above comment with the work that [~greg.haskins] is doing in examples/cluster.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Release artifacts - Finalize docker compose approach and artifacts,FAB-4270,17323,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,denyeart,denyeart,01/Jun/17 2:59 AM,28/Jul/19 1:42 AM,28/Oct/23 2:59 AM,28/Jul/19 1:42 AM,,,,v1.0.0,,fabric-samples,,,,,,,0,,,,,,,,"Beyond the e2e sample, we should provide more generic base docker compose scripts that can be used as reference to drive all the fabric components.",,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx2c7:",,,,,,,,,,,,,,,,,,,,,,,,,,,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Release artifacts - Finalize fabric-client and fabric-ca-client node sdk approach for publishing to NPM,FAB-4271,17324,,Task,Closed,FAB,Fabric,software,denyeart,,,High,Done,jimthematrix,denyeart,denyeart,01/Jun/17 3:01 AM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,06/Jun/17 2:55 AM,,,,v1.0.0,,,,,,,,,0,,,,,,,,FAB-2802 defines overall approach.  Need to determine if this is final or if anything else is needed.,,denyeart,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,FAB-4212,FAB-4379,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx2cf:",,,,,,,,,,,,,,,,,,,,,,,,,,,denyeart,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"06/Jun/17 12:49 AM;jimthematrix;[~denyeart] [~ChristopherFerris] the node SDK CI has been fully automated and tested during alpha and alpha2 releases

[~rameshthoomu] I remember there were discussions on whether the current CI code handles beta and rc releases, I believe you have already put in the logic to handle the naming conventions (like 1.0.0-beta, 1.0.0-beta2, 1.0.0-rc1, etc.). please confirm.;;;","06/Jun/17 1:48 AM;rameshthoomu;Yes [~jimthematrix] node SDK CI is ready to accept releases with alpha, beta and rc tag.. Please look into the job configuration here https://jenkins.hyperledger.org/view/fabric-sdk-node/job/fabric-sdk-node-merge-x86_64/configure-readonly/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Release artifacts - Finalize fabric-sdk-java distribution approach,FAB-4272,17325,,Task,Closed,FAB,Fabric,software,denyeart,,,High,Done,rameshthoomu,denyeart,denyeart,01/Jun/17 3:03 AM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,02/Nov/17 4:39 AM,,,,v1.0.0,,,,,,,,,0,,,,,,,,"Should fabric-sdk-java be published to [http://central.sonatype.org|http://central.sonatype.org/] - aka Maven Central?",,denyeart,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx2cn:",,,,,,,,,,,,,,,,,,,,,,,,,,,denyeart,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"06/Jun/17 1:57 AM;rameshthoomu;[~denyeart]  published fabric-sdk-java 1.0.0-alpha2 java jar artifact to maven central repository and tested using sample APP. Please note this is a manual process and documented a draft release plan here https://github.com/rameshthoomu/sonatypejar/blob/master/Java%20Release.md. Once this FAB item (https://jira.hyperledger.org/browse/FAB-3041) is addressed will automate above mentioned process and publish java jar.

Please see the 0.6 and 1.0.0-alpha2 release artifacts here 
https://mvnrepository.com/artifact/org.hyperledger.fabric-sdk-java/fabric-sdk-java;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Release artifacts - Finalize nexus release location, structure, and download approach",FAB-4273,17326,,Task,Closed,FAB,Fabric,software,denyeart,,,High,Won't Do,rameshbabu79,denyeart,denyeart,01/Jun/17 3:07 AM,23/Jan/20 4:13 AM,28/Oct/23 2:59 AM,23/Jan/20 4:13 AM,,,,v1.0.0,,,,,,,,,0,stale-item,,,,,,,"Nexus release location needs to have a directory per release.  Should platform be a subdirectory?

Keep bootstrap.sh as the download approach?  Or was this a short term placeholder for alpha2?  If we keep the bootstrap.sh approach, it needs to be versioned per release.

How about /release get-docker-images.sh and /examples/e2e_cli download-dockerimages.sh. We need to resolve/eliminate overlapping scripts.",,ChristopherFerris,denyeart,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxxxj:",,,,,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,denyeart,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"01/Jun/17 3:32 AM;denyeart; [~mastersingh24] you had some recommendations for the release artifact download approach, to improve upon the bootstrap.sh approach that I believe was a short-term solution for alpha2. Can you post your thoughts here.  We'll need to decide if a new and improved download approach makes sense for beta or if that needs to be pushed out to rc1.

[~ChristopherFerris];;;","02/Jun/17 2:36 AM;ChristopherFerris;See FAB-4267 for the (WIP) homebrew installer approach. What it wants is a compressed tar file with just the fabric native binaries for the darwin-amd64 architecture, currently with a name that matches the package naming pattern:

hyperledger-fabric-1.0.0.tar.gz

e.g.

bin/

bin/cryptogen

bin/configtxgen

I would prefer that we have a platform-specific directory under Nexus and add the version to the tar file name as above. I think we could write simple installer for Windows and that we could also write a trivial RPM and APT package as well.;;;","06/Jun/17 8:06 PM;denyeart;Note that FAB-4267 is for packaging up the individual binaries. 

This work item (FAB-4273) is intended to finalize nexus release location, directory structure, and download approach.  I see that bootstrap.sh is now versioned as of FAB-4325, so this aspect is looking better now.;;;","23/Jan/20 4:13 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Clarify some config options in orderer.yaml,FAB-4274,17327,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sanchezl,markparz,markparz,01/Jun/17 3:10 AM,21/Jul/18 3:56 AM,28/Oct/23 2:59 AM,09/Jun/17 11:47 PM,v1.0.0,,,v1.0.0,,fabric-orderer,,,,,,,0,Usability,,,,,,,I looked through the orderer.yaml file and have some questions regarding options and how we document the parameters. I will attach a file with comments in {color:#ff0000}Red {color},,kchristidis,markparz,vpaprots,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,FAB-4410,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"01/Jun/17 3:10 AM;markparz;orderer.docx;https://jira.hyperledger.org/secure/attachment/10894/orderer.docx",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzxxxr:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,kchristidis,markparz,vpaprots,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"01/Jun/17 1:00 PM;kchristidis;Good comments/questions in there.

[~markparz]: The SBFT section will be removed by end of week (see FAB-4185) so we can ignore this.

[~elli-androulaki]: Can you tackle the MSP question?

[~vpaprots]: Can you chime in on the BVSSP part?

In both cases, if the copy should be updated, please let us know what the new copy should read like.

FYI [~sanchezl] for the rest, when you get some spare cycles -- I know you got a queue.;;;","03/Jun/17 4:39 AM;markparz;Thanks [~kchristidis] and everyone.... Luis put a gerrit item in already to start : [https://gerrit.hyperledger.org/r/#/c/10077/2]

I added some more comments in there [~sanchezl];;;","08/Jun/17 2:29 PM;vpaprots;I had BCCSP changes in [https://gerrit.hyperledger.org/r/#/c/10201/2/examples/cluster/config/orderer.yaml] but had to abandon. will resubmit when back from vacation.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Release artifacts - Prepare automated test to download/test release artifacts across platforms,FAB-4275,17328,,Task,Closed,FAB,Fabric,software,denyeart,,,High,Done,bmos299,denyeart,denyeart,01/Jun/17 3:15 AM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,10/Jul/18 3:23 AM,,,,v1.0.0,,fabric-quality,,,,,,,0,,,,,,,,"Need automated test to download/test release artifacts across all supported platforms.

Test scripts and environments need to be available prior to release.

Need to perform dry runs prior to release to validate release process.

Need to perform actual tests on day of release.

Note, this does not replace manual trials where a human confirms consumability of release artifacts.",,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-4280,FAB-4398,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxxxz:",,,,,,,,,,,,,,,,,,,,,,,,,,,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"02/Jun/17 10:26 PM;denyeart;[~bmos299] [~JonathanLevi]

I think we'll want somebody from the test lab to prepare for (semi) automated test of release artifacts.  That is, once release artifacts are uploaded for a specific release (e.g. beta), we'll want the ability in a repeatable/semi-automated way to test the download of the artifacts, installation of the artifacts, and execution (e2e sample) of the artifacts, across all supported platforms, before we announce their availability.  Of course, this should all be tested prior to the final upload, but we'll want to have the repeatable/semi-automated process and environments in place so that we can do a quick trial of the final upload with quick turnaround. Barry, could you nominate somebody from test lab to lead this activity?

FAB-4275 is for preparation of release artifact testing.

FAB-4280 is for execution of release artifact testing for beta release.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
version fabric-client and fabric-ca-client for v1.0.0-alpha3 so that npm gets updated,FAB-4276,17329,17239,Sub-task,Closed,FAB,Fabric,software,denyeart,,,High,Done,jimthematrix,denyeart,denyeart,01/Jun/17 3:24 AM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,07/Jun/17 9:12 AM,,,,WON'T FIX,,fabric-sdk-node,,,,,,,0,,,,,,,,"See instructions in FAB-2802.

In addition, since this is the trigger for the automated CI publish, the examples/balance-transfer needs to be updated to use the 1.0.0-beta artefacts:
- package.json: update dependencies for fabric-client and fabric-ca-client to point to the beta release
- docker-compose.yaml: add image tags to point to the beta release in docker hub",,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxxy7:",,,,,,,,,,,,,,,,,,,,,,,,,,,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
CI failure in peer/channel/create_test.go,FAB-4277,17330,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ChristopherFerris,ChristopherFerris,ChristopherFerris,01/Jun/17 3:31 AM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,01/Jun/17 10:54 AM,v1.0.0-alpha2,,,v1.0.0-beta,,fabric-peer,,,,,,,0,build-system,,,,,,,"*7:41:48* unit-tests_1  | --- FAIL: TestCreateChainNilCF (0.00s)*17:41:48* unit-tests_1  | 	assertions.go:225: 
                        
	Error Trace:	create_test.go:527*17:41:48* unit-tests_1  | 		
	Error:		""rpc error: code = Unavailable desc = grpc: the connection is unavailable"" does not contain ""RPC failed fast due to transport failure""",,ChristopherFerris,,,,,,,,,,,,,,,,,,,,3600,3600,,0%,3600,3600,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxxyf:",,,,,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"01/Jun/17 3:34 AM;ChristopherFerris;https://gerrit.hyperledger.org/r/#/c/9997/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
push v1.0.0-alpha3 docker images to dockerhub,FAB-4278,17331,17239,Sub-task,Closed,FAB,Fabric,software,denyeart,,,High,Done,bmos299,denyeart,denyeart,01/Jun/17 3:34 AM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,07/Jun/17 9:12 AM,,,,WON'T FIX,,,,,,,,,0,,,,,,,,,,denyeart,ishihara.shun,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxxyn:",,,,,,,,,,,,,,,,,,,,,,,,,,,denyeart,ishihara.shun,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
push v1.0.0-alpha3 release artifacts to nexus,FAB-4279,17332,17239,Sub-task,Closed,FAB,Fabric,software,denyeart,,,High,Done,bmos299,denyeart,denyeart,01/Jun/17 3:34 AM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,07/Jun/17 9:12 AM,,,,WON'T FIX,,,,,,,,,0,,,,,,,,"Push all release artifacts including:

binaries (confixtxgen, cryptogen, fabric ca client cli, config update tool)

e2e sample artifacts

docker compose artifacts",,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxxyv:",,,,,,,,,,,,,,,,,,,,,,,,,,,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
test download of v1.0.0-alpha3 release artifacts and e2e sample across all platforms,FAB-4280,17333,17239,Sub-task,Closed,FAB,Fabric,software,denyeart,,,High,Done,bmos299,denyeart,denyeart,01/Jun/17 3:39 AM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,07/Jun/17 9:13 AM,,,,WON'T FIX,,fabric-quality,,,,,,,0,,,,,,,,"Ideally use automated approach from FAB-4275, as well as manual test to ensure consumability of the download process and e2e experience.",,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-4275,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxxz3:",,,,,,,,,,,,,,,,,,,,,,,,,,,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"02/Jun/17 10:27 PM;denyeart;[~bmos299] [~JonathanLevi]

I think we'll want somebody from the test lab to prepare for (semi) automated test of release artifacts.  That is, once release artifacts are uploaded for a specific release (e.g. beta), we'll want the ability in a repeatable/semi-automated way to test the download of the artifacts, installation of the artifacts, and execution (e2e sample) of the artifacts, across all supported platforms, before we announce their availability.  Of course, this should all be tested prior to the final upload, but we'll want to have the repeatable/semi-automated process and environments in place so that we can do a quick trial of the final upload with quick turnaround. Barry, could you nominate somebody from test lab to lead this activity?

FAB-4275 is for preparation of release artifact testing.

FAB-4280 is for execution of release artifact testing for beta release.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
prepare and deliver v1.0.0-alpha3 announcement email,FAB-4281,17334,17239,Sub-task,Closed,FAB,Fabric,software,denyeart,,,High,Done,JonathanLevi,denyeart,denyeart,01/Jun/17 3:41 AM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,07/Jun/17 9:14 AM,,,,WON'T FIX,,,,,,,,,0,,,,,,,,"Prepare, review, and ultimately deliver beta announcement email to fabric mailing list.",,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxxzb:",,,,,,,,,,,,,,,,,,,,,,,,,,,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Allow patch set to be automatically merged when certain conditions met,FAB-4282,17335,,Story,Closed,FAB,Fabric,software,denyeart,,,High,Won't Do,tongliofcary,tongliofcary,tongliofcary,01/Jun/17 3:43 AM,23/Jan/20 4:13 AM,28/Oct/23 2:59 AM,23/Jan/20 4:13 AM,v1.0.0-alpha2,,,Future,,fabric-build,,,,,,,0,quality,stale-item,,,,,,"Currently, patch set reviewed with two +2 , no errors can be merged when a project maintainer pushes the button on Gerrit. When no maintainer pushes that sumit button, the patch set will be hanging there and developers will have to wait. I suggest that we make hard requirements on when a patch set should be merged and when the conditions met, merge should be automatically done by CI.

Here is the proposed conditions for various builds:
 # When a patch set with less than two +2 reviews, only affected unit test cases will run.
 # When a patch set with two or more +2 review verdicts, all unit test cases will run, if success, post full unit test case review verdict of +1 to gerrit. If fail, post full unit test case review verdict of -1 to gerrit.
 # When a patch set with two or more +2 review verdicts, full unit test case +1 verdict, do merge patch set and merge releated tests.",,sykesm,tongliofcary,,,,,,,,,,,,,,,,,,,144000,144000,,0%,144000,144000,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzxxzj:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,sykesm,tongliofcary,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 4:13 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[Node-SDK] Multiple versions of documents for the Node.js SDK confusing to users,FAB-4284,17341,,Story,Closed,FAB,Fabric,software,denyeart,,,High,Done,nickgaski,tkuhrt,tkuhrt,01/Jun/17 4:52 AM,21/Jul/18 3:55 AM,28/Oct/23 2:59 AM,23/Mar/18 5:44 AM,v1.0.0-alpha2,,,,,fabric-docs,,,,,,,0,Documentation,node-SDK,v1.0,,,,,"There are at a minimum 5 different links for Node.js SDK that are not all at the same revision. We need to standardize on a single location for documentation that can be kept up-to-date with the changes that are occurring.  

The following chat, which occurred on Rocket.Chat on May 31st in the #fabric-documentation channel, shows the problem
 * hshimo 5:45 AM 
Is this a latest Node.js SDK document for v1.0?
[https://fabric-sdk-node.readthedocs.io/en/master|https://fabric-sdk-node.readthedocs.io/en/master/]
Some links are dead, and I'm not sure which document is currently trustworthy.
[https://github.com/hyperledger/fabric-sdk-node]
hfc (dodument link is dead. looks only support v0.6)
[https://www.npmjs.com/package/hfc]
 * 
 hshimo 5:55 AM
probably this is the latest document, I guess
[http://hyperledger-fabric.readthedocs.io/en/latest/nodesdk.html]
 *  or this one... so confusing
Hyperledger Fabric SDK for node.js Index
[https://fabric-sdk-node.github.io|https://fabric-sdk-node.github.io/]
 * 
 nickgaski 6:27 AM
@hshimo - your last link ^^ is the most up to
 * Asara 8:15 AM
Hey what has newer/more correct documentation? [jimthematrix.github.io|http://jimthematrix.github.io/] or [fabric-sdk-node.github.|http://fabric-sdk-node.github.io/]
 * Asara 8:21 AM
It seems like jimthematrix matches the function names of
 * hshimo 10:07 AM
@nickgaski Thank you! I'll try it.",,tkuhrt,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzxxzr:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,tkuhrt,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,dev,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"05/Jun/17 11:54 AM;jimthematrix;it's supposed to be very straightforward: our official publication channel is NPM, so you go there and search for ""hyperledger"" or ""fabric"", and you get fabric-client and fabric-ca-client, both entries have links that point to https://fabric-sdk-node.github.io.

So we need to clean up all the rest of the noise:
- delete fabric-sdk-node.readthedocs.io [~rameshthoomu]
- update any links to the above and replace with https://fabric-sdk-node.github.io [~nickgaski];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
As an infrastructure developer I want to define the structure of a configuration items to define/update partitions,FAB-4286,17343,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,elli-androulaki,elli-androulaki,01/Jun/17 5:29 AM,21/Jul/18 3:57 AM,28/Oct/23 2:59 AM,14/Mar/18 8:15 PM,,,,,,fabric-crypto,fabric-peer,,,,,,0,,,,,,,,"Define peer partitions using a configuration transaction via special type of “policies”. Peer partition creation should specify in terms of policies the set of peers/organisations that are included in the partition.
 # would partitions be defined in an identity channel? It may be easier if partitions are to be used cross-channels, and their definition/update via configuration blocks/txs
 # who would be authorised to update the partition
 # is the partition a chaincode refers to anonymous? Should it not be anonymous?
 # do we want to consider the option of having partitions be defined/configured via a system chaincode? May be easier to leverage sideDB features there... 

 ",,elli-androulaki,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-4287,,,,,,,,,,"1|hzx5kn:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,elli-androulaki,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Allow the definition of anonymous endorsement policies for a namespace,FAB-4287,17344,,Epic,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,elli-androulaki,elli-androulaki,01/Jun/17 5:34 AM,23/Jan/20 4:14 AM,28/Oct/23 2:59 AM,23/Jan/20 4:14 AM,,,,Future,,fabric-crypto,,,,,,,0,stale-item,,,,,,,"This epic refers to the group of work items for the mechanisms to protect the data that reside in sideDB, i.e., to guarantee

 - integrity and availability of data residing in sideDB

 - confidentiality of the data residing in sideDB while data transfer

  ",,ChristopherFerris,elli-androulaki,sykesm,troyronda,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,FAB-12455,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,Unset,ghx-label-1,,Anonymous endorsement policy support,To Do,,,,Unset,,,,"1|hzx6kf:",,,,Unset,Unset,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,elli-androulaki,sykesm,troyronda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"06/Jul/18 9:49 PM;ChristopherFerris;[~elli-androulaki] still tracking this? Can it be closed?;;;","23/Jan/20 4:14 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
As infrastructure developer I want to enhance MSP with encryption capabilities,FAB-4288,17345,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,elli-androulaki,elli-androulaki,01/Jun/17 5:42 AM,21/Jul/18 3:54 AM,28/Oct/23 2:59 AM,14/Mar/18 8:15 PM,,,,v1.1.0,,fabric-crypto,,,,,,,0,,,,,,,,"We want to enhance peer MSP with encryption key provision capability: 
 * peers identities need to be enhanced with key-material for other nodes to be possible to encrypt information for them
 * peers need to be able using some seed that resides/is provided to a chain and some pre-distributed key to generate key-material that would allow to encrypt/decrypt information associated to a part of the state on a given channel.

This item refers to the design of the mechanism to allow for such encryption capabilities.",,elli-androulaki,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-4287,,,,,,,,,,"1|hzxy07:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,elli-androulaki,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"11/Aug/17 5:52 PM;elli-androulaki;This would not be required for the application level encryption library, so i would label this to be post-v1.1.;;;","14/Mar/18 8:15 PM;elli-androulaki;Closing this as it is no longer relevant.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Enhance peer partition configuration with encryption key related material,FAB-4289,17346,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,elli-androulaki,elli-androulaki,01/Jun/17 5:44 AM,21/Jul/18 3:54 AM,28/Oct/23 2:59 AM,14/Mar/18 8:16 PM,,,,v1.1.0,,,,,,,,,0,,,,,,,,"Via this work-item we aim to enhance the peer partition definition (e.g., via some transaction) to distribute proper key-material through a (configuration) transaction that sits on the chain. Key-material could also be part of the genesis of the sideDB.",,elli-androulaki,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-4287,,,,,,,,,,"1|hzxy0f:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,elli-androulaki,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"14/Mar/18 8:16 PM;elli-androulaki;Closing this as is no longer relevant.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
As an infrastructure developer i want to enable peers to encrypt confidential data approprietly,FAB-4290,17347,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,elli-androulaki,elli-androulaki,01/Jun/17 5:46 AM,21/Jul/18 3:53 AM,28/Oct/23 2:59 AM,14/Mar/18 8:17 PM,,,,,,,,,,,,,0,,,,,,,,Peers use the key mentioned in FAB-4289 to encrypt confidential sideDB data for a peer that is authorised to receive it.,,elli-androulaki,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-4287,,,,,,,,,,"1|hzxy0n:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,elli-androulaki,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"14/Mar/18 8:17 PM;elli-androulaki;Closing this as no longer relevant.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
As an infrastructure developer i want to enable peers to decrypt sideDB information aiming for them,FAB-4291,17348,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,elli-androulaki,elli-androulaki,01/Jun/17 5:47 AM,21/Jul/18 3:54 AM,28/Oct/23 2:59 AM,14/Mar/18 8:17 PM,,,,v1.1.0,,fabric-crypto,,,,,,,0,,,,,,,,Peers use their key to decrypt information associated to partitions they are involved in.,,elli-androulaki,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-4287,,,,,,,,,,"1|hzxy0v:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,elli-androulaki,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"14/Mar/18 8:17 PM;elli-androulaki;Closing this as no longer relevant.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
As an infrastructure developer I want to design partition reconfiguration access control,FAB-4292,17349,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,elli-androulaki,elli-androulaki,01/Jun/17 5:49 AM,21/Jul/18 3:54 AM,28/Oct/23 2:59 AM,14/Mar/18 8:17 PM,,,,,,fabric-crypto,,,,,,,0,,,,,,,,"In this work item we want to decide who should be allowed to update a certain partition’s state, and design the corresponding access control enforcement mechanism.",,elli-androulaki,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-4287,,,,,,,,,,"1|hzxy13:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,elli-androulaki,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
As an infrastructure developer i want to enhance peer partitions with participant peer anonymity,FAB-4293,17350,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,elli-androulaki,elli-androulaki,01/Jun/17 5:50 AM,23/Jan/20 4:14 AM,28/Oct/23 2:59 AM,23/Jan/20 4:14 AM,,,,Future,,fabric-crypto,,,,,,,0,stale-item,,,,,,,"If the partition a certain transaction refers to is assumed to be anonymous, i.e., only only peers who are member of partitions know the rest of the members of a partition, then this item refers to the design of techniques that would allow for this capability. We may also need to explore the relationship between endorsers included in endorsement policies and partitions.",,elli-androulaki,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-4287,,,,,,,,,,"1|hzws13:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,elli-androulaki,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 4:14 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
behave tests are failing as the python module (six) is not available in CI ,FAB-4294,17357,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,,rameshthoomu,rameshthoomu,01/Jun/17 1:49 PM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,03/Jun/17 5:38 AM,v1.0.0-alpha2,,,v1.0.0,,fabric-quality,,,,,,,0,build-system,quality,,,,,,"behave tests are failing as the python module (six) is not available in CI. Below is the error

{code:java}
/setuptools/py27compat.py"", line 7, in <module>
00:05:52.708         import six
00:05:52.708     ImportError: No module named six
{code}

https://jenkins.hyperledger.org/view/fabric/job/fabric-merge-behave-x86_64/929/console
also check build # 930, 931,932
",,jeffgarratt,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxy1z:",,,,,,,,,,,,,,,,,,,,,,,,,,,jeffgarratt,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"01/Jun/17 10:08 PM;rameshthoomu;today observed behave builds are working as expected on latest fabric commit levels. Issue is not reproducing consistently. ;;;","01/Jun/17 11:09 PM;jeffgarratt; 

 

[~rameshthoomu]

is this still causing problems?;;;","03/Jun/17 5:38 AM;rameshthoomu;I don't see error on recent fabric commits.. Closing this issue now assuming it's a network glitch.. Will create a new ticket if issue reproduce again.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
BDD test on FAB v1.0+,FAB-4295,17360,,Story,Closed,FAB,Fabric,software,denyeart,,,Lowest,Done,,davidkhala,davidkhala,01/Jun/17 6:51 PM,21/Jul/18 3:54 AM,28/Oct/23 2:59 AM,01/Jun/17 7:02 PM,,,,WON'T FIX,,fabric-tools,,,,,,,0,Documentation,Usability,,,,,,"These days I get in touch with FAB and try to do some stress test.

It seemed BDD tests is a good start point.

But I found the documents for Behave BDD tests look deprecated for that I have to install Virtual Box and Vagrant as dependencies.

But since the environment itself is a ubuntu Xenial in VM. Installing Virtual Box process hangs permanent. It is reasonable that install VM into VM is problematic.

Thus our group switch to write our own stress test program for runnable new FAB in Docker.

And is there any plan to provide official stress test template/scripts on new FAB?

 ",,ChristopherFerris,davidkhala,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzxy27:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,ChristopherFerris,davidkhala,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"01/Jun/17 7:01 PM;ChristopherFerris;David, yes, please look in the test/ folder in the fabric repo.

Also, for running behave, there is no longer a dependency on Vagrant. There are install instructions in a README in bddtests/ folder and there's a script for initializing the behave dependencies under scripts/ .;;;","02/Jun/17 4:06 PM;davidkhala;Just to share my discovery: \{\{}}
{code:java}
source /usr/local/bin/virtualenvwrapper.sh{code}
would not work when my python version is 3.x, it will say:
{code:java}
/home/davidliu/.pyenv/versions/3.6.1/bin/python: Error while finding module specification for 'virtualenvwrapper.hook_loader' (ModuleNotFoundError: No module named 'virtualenvwrapper')
virtualenvwrapper.sh: There was a problem running the initialization hooks.

If Python could not import the module virtualenvwrapper.hook_loader,
check that virtualenvwrapper has been installed for
VIRTUALENVWRAPPER_PYTHON=/home/davidliu/.pyenv/shims/python and that PATH is
set properly.

{code}
 Then I found that it is not about python2 or python3. Problem comes from the 'pyenv' version manger. 

 ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add core.yaml bootstrap peer warning,FAB-4296,17362,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,01/Jun/17 10:20 PM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,02/Jun/17 4:24 AM,v1.0.0-alpha2,,,v1.0.0,,fabric-gossip,,,,,,,0,,,,,,,,"Bootstrap peers need to be in the same org as the peer, or else there is a danger that the peer would send its internal endpoint to the bootstrap peer when it's in a different org.

In the core.yaml all that it is written is:
{quote} # Bootstrap set to initialize gossip with{quote}

We could at least document in the file that the endpoint needs to be an endpoint of a peer from the same org. ",,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-290,,,,,,,,,,"1|hzxy2f:",,,,,,,,,,,,,,,,,,,,,,,,,,,yacovm,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Clarification on configtx.yaml,FAB-4298,17364,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,markparz,markparz,01/Jun/17 11:41 PM,21/Jul/18 3:55 AM,28/Oct/23 2:59 AM,12/Apr/18 10:22 PM,v1.0.0-beta,,,v1.1.0,,fabric-orderer,,,,,,,1,configuration,,,,,,,"Hi, I went through the config file and listed some questions / clarification points that might help people. I cp/pst the file below and put comments in red. Let me know if you have questions and happy to help update the link in the doc I have listed below with anything you might want to add for robust clarification. Just let me know.

 

 

Copyright IBM Corp. All Rights Reserved.
 #
 # SPDX-License-Identifier: Apache-2.0
 #

—

{color:#f691b2}##########{color}{color:#f691b2}# This file is consumed by the configuration transaction generator (configtxgen) that creates configuration artifacts (orderers, peers, and channels) that are subsequently used to deploy and configure and initial blockchain network. {color}
 ################################################################################
 #
 #   {color:#f691b2}Section {color}Profiles
 #
 #   - Different configuration profiles may be encoded here to be specified
 #   as parameters to the configtxgen tool.  The profiles which specify consortiums
 #   are to be used for generating the orderer genesis block {color:#f691b2}used to bootstrap the orderer{color}.   With the correct
 #   consortium {color:#f691b2}organization {color}members defined in the orderer genesis block, channel creation
 #   requests may be generated with only the org{color:#f691b2}anization{color} member names and a consortium name
 #
 ################################################################################
 {color:#ff0000}We should also include a link to : *[http://hyperledger-fabric.readthedocs.io/en/latest/configtxgen.html?highlight=configtxgen#*] For any questions regarding this file{color}

Profiles:

    # SampleInsecureSolo defines a configuration which {color:#f691b2}<tell me why i would use this configuration first?  i.e. can be used for kicking teh tires and deveopment when a robust orderer is not requird.  It > {color}uses the Solo orderer,
     # contains no {color:#f691b2}membership services provider ({color}MSP) definitions, and allows all transactions and channel
     # creation requests for the consortium SampleConsortium.
     SampleInsecureSolo:
         Orderer:
             <<: *OrdererDefaults {color:#ff0000}use the defaults from orderer.yaml? If not using defaults what other options are there? What exactly does the syntax mean on all of these?{color}
         Application:
             <<: *ApplicationDefaults {color:#ff0000}Where are these picked up from? Are there other options?{color}
         Consortiums:
             SampleConsortium: 
                 Organizations: - {color:#ff0000}Comment that Org information will be consumed from sections below?{color}
                {color:#ff0000}#define your organizations here, as example:{color}
 {color:#ff0000}               #- *AcmeOrg{color}
 {color:#ff0000}               #- *Org1{color}

    # SampleInsecureKafka defines a configuration that differs from the
     # SampleInsecureSolo one only in that is uses the Kafka-based orderer.
     SampleInsecureKafka:
         Orderer:
             <<: *OrdererDefaults
             OrdererType: kafka
         Application:
             <<: *ApplicationDefaults
         Consortiums:
             SampleConsortium:
                 Organizations:
                {color:#ff0000}#define your organizations here, as example:{color}
 {color:#ff0000}               #- *AcmeOrg{color}
 {color:#ff0000}               #- *Org1{color}

    # SampleSingleMSPSolo defines a configuration which uses the Solo orderer,
     # and contains a single MSP definition (the MSP sampleconfig).
     # The Consortium SampleConsortium has only a single member, SampleOrg
     SampleSingleMSPSolo:
         Orderer:
             <<: *OrdererDefaults
             Organizations:
                 - *SampleOrg
         Application:
             <<: *ApplicationDefaults
             Organizations:
                 - *SampleOrg
         Consortiums:
             SampleConsortium:
                 Organizations:
                     - *SampleOrg

    # SampleEmptyInsecureChannel defines a channel with no members
     # and therefore no access control
     SampleEmptyInsecureChannel:
         Consortium: SampleConsortium
         Application:
             Organizations:

    # SampleSingleMSPChannel defines a channel with only the sample org as a
     # member.  It is designed to be used in conjunction with SampleSingleMSPSolo
     # and SampleSingleMSPKafka orderer profiles
     SampleSingleMSPChannel:
         Consortium: SampleConsortium
         Application:
             Organizations:
                 - *SampleOrg

################################################################################
 #
 #   Section: Organizations
 #
 #   - This section defines the different organizational identities which will
 #   be referenced later in the configuration.
 #
 ################################################################################
 Organizations:

    # SampleOrg defines an MSP using the sampleconfig. It should never be used
     # in production but may be used as a template for other definitions.
     - &SampleOrg
         # DefaultOrg defines the organization which is used in the sampleconfig
         # of the fabric.git development environment.
         Name: SampleOrg

        # ID to load the MSP definition as. {color:#ff0000}What does DEFAULT mean? how do you set to something not default?{color}
         ID: DEFAULT

        # MSPDir is the filesystem path which contains the MSP configuration.
         MSPDir: msp

        # AdminPrincipal dictates the type of principal used for an
         # organization's Admins policy. Today, only the values of Role.ADMIN and
         # Role.MEMBER are accepted, which indicates a principal of role type
         # ADMIN and role type MEMBER respectively.
         AdminPrincipal: Role.ADMIN

        # BCCSP: Select which crypto implementation or library to use for the
         # blockchain crypto service provider.
         BCCSP:
             Default: SW {color:#ff0000}Does this mean software? and what other options do we have?{color}
             SW:
                 # TODO: The default Hash and Security level needs refactoring to
                 # be fully configurable. Changing these defaults requires
                 # coordination SHA2 is hardcoded in several places, not only
                 # BCCSP. {color:#ff0000}Does this mean the user has to change this setting in other places? if so, we should doc this, and provide a link to what needs to happen. Plus, what are the other options SHA3, etc?{color}
                 Hash: SHA2
                 Security: 256
                 # Location of key store. If this is unset, a location will be
                 # chosen using: 'MSPDir'/keystore
                 FileKeyStore:
                     KeyStore:

        AnchorPeers:
             # AnchorPeers defines the location of peers which can be used for
             # cross-org gossip communication. Note, this value is only encoded
             # in the genesis block in the Application section context.
             - Host: 127.0.0.1
               Port: 7051

################################################################################
 #
 #   SECTION: Orderer
 #
 #   - This section defines the values to encode into a config transaction or
 #   genesis block for orderer related parameters.
 #
 ################################################################################
 Orderer: &OrdererDefaults

    # Orderer Type: The orderer implementation to start.
     # Available types are ""solo"" and ""kafka"".
     OrdererType: solo

    Addresses:
         - 127.0.0.1:7050

    # Batch Timeout: The amount of time to wait before creating a batch. {color:#ff0000}Timeout and size configs are ""or"" configs right? meaning 2s or BatchSize as defined.{color} 
     BatchTimeout: 2s

    # Batch Size: Controls the number of messages batched into a block.
     BatchSize:

        # Max Message Count: The maximum number of messages to permit in a
         # batch.
         MaxMessageCount: 10

        # Absolute Max Bytes: The absolute maximum number of bytes allowed for
         # the serialized messages in a batch. If the ""kafka"" OrdererType is
         # selected, set 'message.max.bytes' and 'replica.fetch.max.bytes' on the
         # Kafka brokers to a value that is equal to or larger than this one.
         AbsoluteMaxBytes: 99 MB

        # Preferred Max Bytes: The preferred maximum number of bytes allowed for
         # the serialized messages in a batch. A message larger than the
         # preferred max bytes will result in a batch larger than preferred max
         # bytes.
         PreferredMaxBytes: 512 KB

    # Max Channels is the maximum number of channels to allow on the ordering
     # network. When set to 0, this implies no maximum number of channels.
     MaxChannels: 0

    Kafka: {color:#ff0000}Since orderer type above is set to solo, should this section be commented out?{color}
         # Brokers: A list of Kafka brokers to which the orderer connects. {color:#ff0000}If there are multiple, do you list out all the broker ip's?{color}
         # NOTE: Use IP:port notation
         Brokers:
             - 127.0.0.1:9092

    # Organizations is the list of orgs which are defined as participants on
     # the orderer side of the network. {color:#ff0000}""orderer side of the network"" is a little confusing, I'm assuming this means which the orgs in which the orderer will communicate with.{color}
     Organizations:

################################################################################
 #
 #   SECTION: Application
 #
 #   - This section defines the values to encode into a config transaction or
 #   genesis block for application related parameters.
 #
 ################################################################################
 Application: &ApplicationDefaults

    # Organizations is the list of orgs which are defined as participants on
     # the application side of the network. {color:#ff0000}What does this really mean, is this similar of the same list that would be above in the orderer section? Why would this be different, we should do more of a write up in the doc regarding this.{color}
     Organizations:",,bobbiejc,jyellick,markparz,TiantianGao,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzxy2n:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,bobbiejc,jyellick,markparz,TiantianGao,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"01/Jun/17 11:43 PM;kchristidis;[~jyellick] FYI;;;","02/Jun/17 12:19 AM;bobbiejc;[~markparz] is Consortium defined anywhere before it appears in this file?

[~webdaford] FYI;;;","02/Jun/17 12:33 AM;markparz;[~bobbiejc] Another good note.;;;","03/Jun/17 4:23 AM;bobbiejc;lSuggestion:  Add a README file to the containing directory of these files to define what a 'configuration' even means... what can I accomplish with these .yaml files?

What do each of the files accomplish?  

All the files should contain definitions of terms (from the glossary, of course, but repeat it here)
- what is a configuration?  what is a consortium?  what is a genesis block / blocks?  I think you can assume we know what an orderer is, but what is the significance of it's relationship to thw consortium?  

e.g. i read this

Different configuration profiles may be encoded here to be specified as parameters to the configtxgen tool.

I just spent a day with ""getting started"" and ran this tool yesterday, but I now need to remember what it does — right, it generates crytographic gorp for spinning up a blockchain network without a Certificate Authority?    Are consortium members the same as org member names?

 ;;;","03/Jun/17 4:49 AM;bobbiejc;It would be very helpful to just have the structure of each of the sections defined... I might be old fashioned, but some BNF grammar would be useful here...

I read [http://hyperledger-fabric.readthedocs.io/en/latest/configtxgen.html?highlight=configtxgen|http://hyperledger-fabric.readthedocs.io/en/latest/configtxgen.html?highlight=configtxgen,]

and I'm still confused as if this file would every really be used for a real deployment?  The definition of the ""Profiles"" indicates it is just sample, not that it is where you put the real definitios of your topology;;;","17/Jun/17 4:55 AM;markparz;https://gerrit.hyperledger.org/r/#/c/10183/;;;","17/Jun/17 5:02 AM;jyellick;Just discussed with [~markparz] different Gerrit issue here.  I'll plan to take a stab at this this weekend or early next week.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Improve code coverage for hyperledger/fabric/orderer/localconfig pkg,FAB-4299,17367,16261,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,guoger,guoger,guoger,02/Jun/17 12:30 AM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,03/Jun/17 6:17 AM,v1.0.0-alpha2,,,v1.0.0,,fabric-orderer,,,,,,,0,,,,,,,,,,guoger,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"02/Jun/17 6:54 PM;guoger;cover.html;https://jira.hyperledger.org/secure/attachment/10901/cover.html",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxy2v:",,,,,,,,,,,,,,,,,,,,,,,,,,,guoger,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"02/Jun/17 6:54 PM;guoger;https://gerrit.hyperledger.org/r/#/c/10069/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Kafka and Zookeeper containers for z Systems will not start if using the alpha2 Docker images on Docker Hub,FAB-4300,17371,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,harrijk,harrijk,harrijk,02/Jun/17 1:44 AM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,07/Jun/17 9:08 PM,,,,v1.0.0-alpha2,,fabric-build,,,,,,,0,kafka,quality,zookeeper,,,,,"The alpha2 zookeeper and kafka docker image builds for z that were pushed to Docker Hub under the hyperledger account include an incorrect file permission for [docker-entrypoint.sh|http://docker-entrypoint.sh/] (the script that automatically runs when a container is created). The permission on the [docker-entrypoint.sh|http://docker-entrypoint.sh/] file is 770 and should be 755. As a result kakfa and zookeeper containers for z will not start.

To confirm:

docker pull hyperledger/fabric-zookeeper:s390x-1.0.0-alpha2
docker run --rm -it hyperledger/fabric-zookeeper:s390x-1.0.0-alpha2 ls -al /docker-entrypoint.sh

-rwxrwx---   1 root      root       873 May 15 02:54 docker-entrypoint.sh


 ",,ChristopherFerris,harrijk,JonathanLevi,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxy6f:",,,,,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,harrijk,JonathanLevi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"02/Jun/17 6:29 AM;harrijk;[~mastersingh24] [~ChristopherFerris]  Would it make sense to push corrected versions of the z Kafka and Zookeeper alpha2 images up to Docker Hub?

I was just looking for a way to expedite this.;;;","02/Jun/17 7:23 AM;harrijk;I have analyzed this issue further and it appears that the umask set by the creators of the z Systems Linux instances used for CI was set to 077.  This would prevent any access for user group users or other users.  Seeing as the Kafka and Zookeeper containers (created from the Kafka and Zookeeper images) start a script with a user other than root, the script would fail resulting in containers that will not start.

I have changed the umask to 022 (the default) for all of the z Systems Linux instances that take part in the CI process.

Now when I checkout the v1.0.0-alpha2 tag the docker-entrypoint.sh scripts have the following permissions:
-rwxr-xr-x  1 root root  873 Jun  1 18:14 docker-entrypoint.sh

I will also work with [~rameshthoomu] to add an extra step in the release jobs that will ensure that containers created from the docker images work without error before being pushed up to the Docker Hub.;;;","02/Jun/17 7:56 AM;harrijk;I would need help in determining the best method for pushing updated alpha2 Kafka and Zookeeper Docker images for z Systems to Docker Hub.  Please advise.  Thanks.;;;","07/Jun/17 12:55 AM;harrijk;[~ChristopherFerris] If there is no way to update the z Systems Kafka and Zookeeper alpha2 Docker images on Docker Hub then I suppose I can close this JIRA.  ;;;","07/Jun/17 5:04 AM;ChristopherFerris;[~harrijk] you can manually overwrite the images. [~ryjones] should be able to help with that once we have created images. ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Clarification on core.yaml,FAB-4301,17373,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,markparz,markparz,markparz,02/Jun/17 2:32 AM,21/Jul/18 3:54 AM,28/Oct/23 2:59 AM,12/Apr/18 10:05 PM,,,,v1.0.0,,fabric-crypto,fabric-gossip,fabric-peer,,,,,0,,,,,,,,"CP/psted core.yaml example and added comments for clarification in red. We may need to create a doc in the readthedocs to expand on these sections. Added each component that I added comments.

 

Copyright IBM Corp. All Rights Reserved.
#
# SPDX-License-Identifier: Apache-2.0
#

###############################################################################
#
#    LOGGING section
#
###############################################################################
logging:

    # Default logging levels are specified here.

    # Valid logging levels are case-insensitive strings chosen from

    #     CRITICAL | ERROR | WARNING | NOTICE | INFO | DEBUG

    # The logging levels specified here can be overridden in various ways,
    # listed below from strongest to weakest:
    #
    # 1. The --logging-level=<level> command line option overrides all other
    #    specifications.
    #
    # 2. The environment variable CORE_LOGGING_LEVEL otherwise applies to
    #    all peer commands if defined as a non-empty string.
    #
    # 3. Otherwise, the specifications below apply.

    # Default for all modules running within the scope of a peer
    peer:       info

    # Override levels for various 'peer' modules
    cauthdsl:   warning
    gossip:     warning
    ledger:     info
    msp:        warning
    policies:   warning
    grpc:       error

    # Message format for the peer logs
    format: '%\{color}%\{time:2006-01-02 15:04:05.000 MST} [%\{module}] %\{shortfunc} -> %\{level:.4s} %\{id:03x}%\{color:reset} %\{message}'

###############################################################################
#
#    Peer section
#
###############################################################################
peer:

    # The Peer id is used for identifying this Peer instance.
    id: jdoe

    # The networkId allows for logical seperation of networks
    networkId: dev

    # The Address at local network interface this Peer will listen on.
    # By default, it will listen on all network interfaces
    listenAddress: 0.0.0.0:7051
    # When used as peer config, represents the endpoint to other peers in the same organization
    # for peers in other organization, see gossip.externalEndpoint
    # When used as cli config, will mean the peer node's endpoint to interact with
    address: 0.0.0.0:7051
    # Whether the Peer should programmatically determine its address
    # This case is useful for docker containers.
    addressAutoDetect: false

    # Setting for runtime.GOMAXPROCS(n). If n < 1, it does not change the current setting
    gomaxprocs: -1
    workers: 2

    # Gossip related configuration
    gossip:
        # Bootstrap set to initialize gossip with
        bootstrap: 127.0.0.1:7051

        # NOTE: orgLeader and useLeaderElection parameters are mutual exclusive
        # setting both to true would result in the termination of the peer, since this is undefined
        # state.

        # Defines whenever peer will initialize dynamic algorithm for
        # ""leader"" selection, where leader is the peer to establish
        # connection with ordering service and use delivery protocol
        # to pull ledger blocks from ordering service
        useLeaderElection: false
        # Statically defines peer to be an organization ""leader"",
        # where this means that current peer will maintain connection
        # with ordering service and disseminate block across peers in
        # its own organization
        orgLeader: true

        # ID of this instance {color:#ff0000}What does this instance mean? I thought it would the peer ID listed above... Seems like it would be a name, but below is ""endpoint"".{color} 
        endpoint: {color:#ff0000}What does it mean being blank? Does it inherit the peer id?{color}
        # Maximum count of blocks we store in memory {color:#ff0000}Does this purge all blocks or just drop the first one that was received off (FIFO)?{color}
        maxBlockCountToStore: 100
        # Max time between consecutive message pushes(unit: millisecond)
        maxPropagationBurstLatency: 10ms
        # Max number of messages stored until it triggers a push to remote peers
        maxPropagationBurstSize: 10
        # Number of times a message is pushed to remote peers {color:#ff0000}Why would someone do > 1? wouldn't there be a retry if there was a failure anyway? Does this mean as I think, where it would push the message multiple times regardless of success?{color}
        propagateIterations: 1
        # Number of peers selected to push messages to {color:#ff0000}Is there a clever ratio to use based on # of pulls for # of peers in a network? or is this optimal to have the least amount of noise, while best chance of accuracy? Are these random peers that gossip picks or defined?{color}
        propagatePeerNum: 3
        # Determines frequency of pull phases(unit: second)
        pullInterval: 4s
        # Number of peers to pull from {color:#ff0000}Is there a clever ratio to use based on # of pulls for # of peers in a network? or is this optimal to have the least amount of noise, while best chance of accuracy? Are these random peers that gossip picks or defined? or the same peers as the push? {color} 
        pullPeerNum: 3
        # Determines frequency of pulling state info messages from peers(unit: second) {color:#ff0000}What are the messages above, and how are the different from the state messages noted here? Why would these be different?{color}
        requestStateInfoInterval: 4s
        # Determines frequency of pushing state info messages to peers(unit: second)
        publishStateInfoInterval: 4s
        # Maximum time a stateInfo message is kept until expired {color:#ff0000}Does blank mean keep til expired?{color}
        stateInfoRetentionInterval:
        # Time from startup certificates are included in Alive messages(unit: second)
        publishCertPeriod: 10s
        # Should we skip verifying block messages or not {color:#ff0000}reword to ""Skip verifying block messages (true/false)""{color}
        skipBlockVerification: false
        # Dial timeout(unit: second)
        dialTimeout: 3s
        # Connection timeout(unit: second)
        connTimeout: 2s
        # Buffer size of received messages
        recvBuffSize: 20
        # Buffer size of sending messages
        sendBuffSize: 20
        # Time to wait before pull engine processes incoming digests (unit: second) {color:#ff0000}We need to doc in readthedocs what these all mean in detail.{color}
        digestWaitTime: 1s
        # Time to wait before pull engine removes incoming nonce (unit: second)
        requestWaitTime: 1s
        # Time to wait before pull engine ends pull (unit: second)
        responseWaitTime: 2s
        # Alive check interval(unit: second)
        aliveTimeInterval: 5s
        # Alive expiration timeout(unit: second)
        aliveExpirationTimeout: 25s
        # Reconnect interval(unit: second)
        reconnectInterval: 25s
        # This is an endpoint that is published to peers outside of the organization.
        # If this isn't set, the peer will not be known to other organizations.
        externalEndpoint:
        # Makes gossip skip verification of remote peer signature when performing
        # the authentication handshake with remote peers {color:#ff0000}reword ""skip verification of remote peer signature when performing the authentication handshake with remote peers (true/false)""{color}
        skipHandshake: false

        # Leader election service configuration
        election:
            # Longest time peer wait for stable membership during leader election startup (unit: second) {color:#ff0000}We need to describe what this means, and what happens if it goes over grace.{color}
            startupGracePeriod: 15s
            # Interval gossip membership sampled to check its stability (unit: second) {color:#ff0000}Does this mean it will check the leader every second for a leader, and if it hits 10 consecutive seconds defined below it will start the leader election process?{color}
            membershipSampleInterval: 1s
            # Time pass since last declaration message before peer decide to go to election (unit: second)
            leaderAliveThreshold: 10s
            # Time between peer sends propose message and declare itself as a leader (sends declaration message) (unit: second)
            leaderElectionDuration: 5s

    # EventHub related configuration
    events:
        # The address that the Event service will be enabled on the validator {color:#ff0000}Need a better description, listening port for events, or something. {color}
        address: 0.0.0.0:7053

        # total number of events that could be buffered without blocking the
        # validator sends
        buffersize: 100

        # timeout duration for producer to send an event.
        # if < 0, if buffer full, unblocks immediately and not send
        # if 0, if buffer full, will block and guarantee the event will be sent out
        # if > 0, if buffer full, blocks till timeout
        timeout: 10ms

    # TLS Settings for p2p communications
    tls:
        enabled:  false
        cert:
            file: tls/server.crt
        key:
            file: tls/server.key
        rootcert:
            file: tls/ca.crt

        # The server name use to verify the hostname returned by TLS handshake
        serverhostoverride:

    # Path on the file system where peer will store data (eg ledger)
    fileSystemPath: /var/hyperledger/production

    # BCCSP (Blockchain crypto provider): Select which crypto implementation or
    # library to use
    BCCSP:
        Default: SW {color:#ff0000}Does this mean software? and what other options do we have, HW?{color}
        SW:
            # TODO: The default Hash and Security level needs refactoring to be
            # fully configurable. Changing these defaults requires coordination
            # SHA2 is hardcoded in several places, not only BCCSP {color:#ff0000}Does this mean the user has to change this setting in other places? if so, we should doc this, and provide a link to what needs to happen. Plus, what are the other options SHA3, etc?{color}
            Hash: SHA2
            Security: 256
            # Location of Key Store
            FileKeyStore:
                # If """", defaults to 'mspConfigPath'/keystore
                # TODO: Ensure this is read with fabric/core/config.GetPath() once ready
                KeyStore:

    # Path on the file system where peer will find MSP local configurations
    mspConfigPath: msp

    # Identifier of the local MSP
    # ----!!!!IMPORTANT!!!-!!!IMPORTANT!!!-!!!IMPORTANT!!!!----
    # Deployers need to change the value of the localMspId string.
    # In particular, the name of the local MSP ID of a peer needs
    # to match the name of one of the MSPs in each of the channel
    # that this peer is a member of. Otherwise this peer's messages
    # will not be identified as valid by other nodes.
    localMspId: DEFAULT

    # Used with Go profiling tools only in none production environment. In
    # production, it should be disabled (eg enabled: false)
    profile:
        enabled:     false
        listenAddress: 0.0.0.0:6060

###############################################################################
#
#    VM section
#
###############################################################################
vm:

    # Endpoint of the vm management system.  For docker can be one of the following in general
    # unix:///var/run/docker.sock
    # http://localhost:2375
    # https://localhost:2376
    endpoint: unix:///var/run/docker.sock

    # settings for docker vms
    docker:
        tls:
            enabled: false
            ca:
                file: docker/ca.crt
            cert:
                file: docker/tls.crt
            key:
                file: docker/tls.key

        # Enables/disables the standard out/err from chaincode containers for debugging purposes
        attachStdout: false

        # Parameters of docker container creating. For docker can created by custom parameters
        # If you have your own ipam & dns-server for cluster you can use them to create container efficient.
        # NetworkMode Sets the networking mode for the container. Supported standard values are: `host`(default),`bridge`,`ipvlan`,`none`
        # dns A list of DNS servers for the container to use.
        # note: not support customize for `Privileged` `Binds` `Links` `PortBindings`
        # not support set LogConfig using Environment Variables
        # LogConfig sets the logging driver (Type) and related options (Config) for Docker
        # you can refer https://docs.docker.com/engine/admin/logging/overview/ for more detail configruation.
        hostConfig:
            NetworkMode: host
            Dns:
               # - 192.168.0.1
            LogConfig:
                Type: json-file
                Config:
                    max-size: ""50m""
                    max-file: ""5""
            Memory: 2147483648

###############################################################################
#
#    Chaincode section
# 
###############################################################################
chaincode:

    # The id is used by the Chaincode stub to register the executing Chaincode
    # ID with the {color:#ff0000}Peerand ( Typo){color} is generally supplied through ENV variables
    # the Path form of ID is provided when deploying the chaincode. The name is
    # used for all other requests. The name is really a hashcode
    # returned by the system in response to the deploy transaction. In
    # development mode where user runs the chaincode, the name can be any string

{color:#ff0000}Link to writing Chaincode?{color}
    id:
        path:
        name:

    # Generic builder environment, suitable for most chaincode types
    builder: $(DOCKER_NS)/fabric-ccenv:$(ARCH)-$(PROJECT_VERSION)

    golang:
        # golang will never need more than baseos
        runtime: $(BASE_DOCKER_NS)/fabric-baseos:$(ARCH)-$(BASE_VERSION)

    car:
        # car may need more facilities (JVM, etc) in the future as the catalog
        # of platforms are expanded.  For now, we can just use baseos
        runtime: $(BASE_DOCKER_NS)/fabric-baseos:$(ARCH)-$(BASE_VERSION)

    java:
        # This is an image based on java:openjdk-8 with addition compiler
        # tools added for java shim layer packaging.
        # This image is packed with shim layer libraries that are necessary
        # for Java chaincode runtime.
        Dockerfile:  |
            from $(DOCKER_NS)/fabric-javaenv:$(ARCH)-$(PROJECT_VERSION)

    # timeout duration for starting up a container and waiting for Register
    # to come through. 1sec should be plenty for chaincode unit tests {color:#ff0000}below is set to 300s, but says 1s is plenty is that a recommendation for production timeout?{color}
    startuptimeout: 300s

    # timeout duration for invokes and initialize commands
    # this timeout is used by all chaincodes in all the channels including
    # system chaincodes. Default is 30 seconds
    executetimeout: 30s

    #timeout duration for deploying chaincode from a remote repository.
    deploytimeout: 30s

    #mode - options are ""dev"", ""net""
    #dev - in dev mode, user runs the chaincode after starting validator from
    # command line on local machine
    #net - in net mode validator will run chaincode in a docker container

    mode: net

    # keepalive in seconds. In situations where the communiction goes through a
    # proxy that does not support keep-alive, this parameter will maintain connection
    # between peer and chaincode.
    # A value <= 0 turns keepalive off
    keepalive: 0

    # system chaincodes whitelist. To add system chaincode ""myscc"" to the
    # whitelist, add ""myscc: enable"" to the list below, and register in
    # chaincode/importsysccs.go
    system:
        cscc: enable
        lscc: enable
        escc: enable
        vscc: enable
        qscc: enable

    # Logging section for the chaincode container
    logging:
      # Default level for all loggers within the chaincode container
      level:  info
      # Override default level for the 'shim' module
      shim:   warning
      # Format for the chaincode container logs
      format: '%\{color}%\{time:2006-01-02 15:04:05.000 MST} [%\{module}] %\{shortfunc} -> %\{level:.4s} %\{id:03x}%\{color:reset} %\{message}'

###############################################################################
#
#    Ledger section - ledger configuration encompases both the blockchain
#    and the state
#
###############################################################################
ledger:

  blockchain:

  state:
    # stateDatabase - options are ""goleveldb"", ""CouchDB""
    # goleveldb - default state database stored in goleveldb.
    # CouchDB - store state database in CouchDB {color:#ff0000}should we comment out the examples below and require user to update?{color}
    stateDatabase: goleveldb
    couchDBConfig:
       couchDBAddress: 127.0.0.1:5984
       username:
       password:
       # Number of retries for CouchDB errors
       maxRetries: 3
       # Number of retries for CouchDB errors during peer startup
       maxRetriesOnStartup: 10
       # CouchDB request timeout (unit: duration, e.g. 20s)
       requestTimeout: 35s

    # Limit on the number of records to return per query
    queryLimit: 10000

  history:
    # enableHistoryDatabase - options are true or false
    # Indicates if the history of key updates should be stored in goleveldb {color:#ff0000}comment out if using CouchDB?{color}
    enableHistoryDatabase: true",,denyeart,markparz,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzxy6n:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,denyeart,markparz,yacovm,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"03/Jun/17 1:54 AM;denyeart;Note on this one:

 _history:_
     _# enableHistoryDatabase - options are true or false_
     _# Indicates if the history of key updates should be stored in goleveldb {color:#ff0000}comment out if using CouchDB?{color}_
     _enableHistoryDatabase: true_

 

Even if using CouchDB as state database, history 'index' is always stored in goleveldb.  No need to comment out.;;;","03/Jun/17 4:51 AM;markparz;Excellent, thanks [~denyeart] made a change in https://gerrit.hyperledger.org/r/#/c/10089/;;;","10/Jun/17 3:02 AM;markparz;[~C0rWin] [~yacovm] Can you guys look at the Gossip section please? [~elli-androulaki] [~adc] I have a few questions in the security section. [~muralisr] a question in the Chaincode portion.;;;","10/Jun/17 3:46 AM;yacovm;{quote} # ID of this instance What does this instance mean? I thought it would the peer ID listed above... Seems like it would be a name, but below is ""endpoint"".{quote}
That's not correct and is a mistake. This isn't the ID of the instance. It just overrides the endpoint that the peer publishes to other peers, that's all. 
By the way - the peer id isn't in use... it's an ancient remnant of 0.5 and I think it maybe only affects the chaincode name of the container but not 100% sure (can check though)
{quote} endpoint: What does it mean being blank? Does it inherit the peer id?{quote}
This overrides the endpoint that the peer tells gossip. Imagine that the peer runs in a container and the container tells the peer process that its ip address is 172.20.0.2 which is a virtual ip address that only your computer can access.
However- you're in a hackathon and you want other computes to connect to your peer (running in a container). If you set this, this overrides the endpoint that gossip tells other peers and they will be able to reach you, if you put there the ip address of your laptop.

{quote} # Maximum count of blocks we store in memory Does this purge all blocks or just drop the first one that was received off (FIFO)?{quote}
Great question! 
So if this is set to 100 (for example), Upon receiving a block with index *i* , it evicts every block *j<i* in memory that its sequence number: *| i - j | > 100 *

{quote}        # Number of times a message is pushed to remote peers Why would someone do > 1? wouldn't there be a retry if there was a failure anyway? Does this mean as I think, where it would push the message multiple times regardless of success?
        propagateIterations: 1{quote}
No, if there is a failure to send a message to any peer, not only the message is dropped, but also the connection to the peer is closed.
This is because sending messages is in the critical path, and you don't want to ""waste"" resources on peers that are:
* Slow / have network problems
* Byzantine
This configuration key is used for the gossip forwarding which is optimized for speed and throughput. For data synchronization we have other mechanisms
{quote}
        # Number of peers selected to push messages to Is there a clever ratio to use based on # of pulls for # of peers in a network? or is this optimal to have the least amount of noise, while best chance of accuracy? Are these random peers that gossip picks or defined?{quote}
It should be related to number of peers in the network. We are currently evaluating the optimal formula. 
They are selected randomly. 
{quote}
        # Number of peers to pull from Is there a clever ratio to use based on # of pulls for # of peers in a network? or is this optimal to have the least amount of noise, while best chance of accuracy? Are these random peers that gossip picks or defined? or the same peers as the push? {quote}
Same - random, evaluating.

{quote}   # Determines frequency of pulling state info messages from peers(unit: second) What are the messages above, and how are the different from the state messages noted here? Why would these be different?{quote}
StateInfo messages are messages that hold the ledger height of a peer in a certain channel. 
No idea what ""state"" messages you refer to.

        # Maximum time a stateInfo message is kept until expired Does blank mean keep til expired?
{quote}        stateInfoRetentionInterval:{quote}
Oops... we need to remove this as this is not in use anymore. Didn't know this was here. 

{quote}        # Should we skip verifying block messages or not reword to ""Skip verifying block messages (true/false)""
        skipBlockVerification: false{quote}
Yeah, I'll open a JIRA to address this + the previous one. 

{quote}        # Time to wait before pull engine processes incoming digests (unit: second) We need to doc in readthedocs what these all mean in detail.
        digestWaitTime: 1s{quote}
Do you want to open a JIRA for certain documentation aspects you want to be present? 
This one is a bit complicated and IMO shouldn't be documented as this isn't something that a user should mess with at all.
It's well documented in the [code|https://github.com/hyperledger/fabric/blob/master/gossip/gossip/algo/pull.go#L28-L44].

{quote}            # Interval gossip membership sampled to check its stability (unit: second) Does this mean it will check the leader every second for a leader, and if it hits 10 consecutive seconds defined below it will start the leader election process?{quote}
Precisely. 
{quote}
        # the authentication handshake with remote peers reword ""skip verification of remote peer signature when performing the authentication handshake with remote peers (true/false)""
        skipHandshake: false{quote}
This does not exist anymore, I removed it.

{quote}            # Longest time peer wait for stable membership during leader election startup (unit: second) We need to describe what this means, and what happens if it goes over grace.
            startupGracePeriod: 15s{quote}
Can you please open a JIRA that aggregates what you think should be documented? 
{quote}
        # The address that the Event service will be enabled on the validator Need a better description, listening port for events, or something.
        address: 0.0.0.0:7053{quote}
The validator is not even something that exists anymore, it's a 0.5 relic.

;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Prevent connection to misconfigured bootstrap peers in gossip,FAB-4302,17376,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,yacovm,yacovm,yacovm,02/Jun/17 4:41 AM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,06/Jun/17 7:45 AM,v1.0.0-alpha2,,,v1.0.0,,fabric-gossip,,,,,,,5,gossip,,,,,,,"In gossip, a peer may have a [bootstrap set|https://github.com/hyperledger/fabric/blob/master/sampleconfig/core.yaml#L79] defined at configuration.
{code}
   # Gossip related configuration
    gossip:
        # Bootstrap set to initialize gossip with.
        # This is a list of peers that the peer reaches out to at startup.
        # Important: The endpoints here have to be endpoints of peers in the same
        # organization, because the connection establishment process to these peers
        # exposes the internal endpoint of this peer.
        bootstrap: 127.0.0.1:7051

        # NOTE: orgLeader and useLeaderElection parameters are mutual exclusive
        # setting both to true would result in the termination of the peer, since this is undefined
        # state.

        # Defines whenever peer will initialize dynamic algorithm for
        # ""leader"" selection, where leader is the peer to establish
        # connection with ordering service and use delivery protocol
        # to pull ledger blocks from ordering service
        useLeaderElection: false
        # Statically defines peer to be an organization ""leader"",
        # where this means that current peer will maintain connection
        # with ordering service and disseminate block across peers in
        # its own organization
        orgLeader: true
{code}

The role of the bootstrap set is to serve as synchronization point for peer membership convergence.
Even though the presence of anchor peers may make it look like there is no need of bootstrap peers, there are cases in which we want to have a bootstrap set:
* Currently, a channel creation would most likely not contain any anchor peers at all, and they are to be configured at subsequent config updates. However, in a production environment with real different organizations, the config updates may not occur with temporal proximity, for example - if we have 3 orgs in a channel and the first org creates the first channel, it might take time until the other orgs actually update their anchor peers. 
Until that time, we may want the peers in the orgs to still connect to one another, and they could use the bootstrap peers for this.
* If peers are configured not to use leader election but instead configured statically to connect (or not to connect) to the ordering service, in the case where the org doesn't have an anchor peer or the anchor peer hasn't been updated via a channel config update - the peers that are configured not to connect to the ordering service, can't find the ""leader"" peer without bootstrap peers.

In short- the bootstrap peer is still needed at this point, and we can't (and shouldn't) take it out at this point.

However, there is a small problem related to confidentiality with the bootstrap peers - when a peer connects to a bootstrap peer, the code currently assumes that the endpoint given by the network operator is an endpoint of a bootstrap peer of the peer's org. The peer, sends a MembershipRequest message to that bootstrap peer's endpoint and in that message, the internal endpoint of the peer is written.
I created FAB-4296 to document that the endpoint(s) should never contain peers of different organizations, otherwise - internal IP addresses of the org may leak to outside organizations.

I think that the gossip should be protect against mis-configurations that have a security implication, and therefore I suggest to make the bootstrap peer connection to use the same mechanism as the anchor peer connection - when a peer connects to an anchor peer, it first performs a handshake (which is authenticated), and learns about the organization of the peer behind the endpoint and only then decides whether to send its internal endpoint or not.
Therefore, the fix would be to simply:
# Delete the existing code that deals with bootstrap peer connections
# Write code similar to the code that deals with anchor peer connection that already exists, that uses the same mechanism for connecting to bootstrap peers, which is secure.

I created https://gerrit.hyperledger.org/r/#/c/10033/ and it's pretty straight forward... 

",,ashutosh_kumar,ChristopherFerris,denyeart,jyellick,lmars,yacovm,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-290,,,,,,,,,,"1|hzxy7j:",,,,,,,,,,,,,,,,,,,,,,,,,,,ashutosh_kumar,ChristopherFerris,denyeart,jyellick,lmars,yacovm,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"02/Jun/17 11:42 PM;jyellick;Just to be clear, this is a security issue because in mis-configuration, it leaks the network topology of the organization's non-external peers?

This does not leak the peer channel membership, or escalate to some other form of attack where the peer can be tricked into some other action?;;;","02/Jun/17 11:46 PM;ashutosh_kumar; 

[~yacovm] : I guess , you are referring to the problem of internal IP addresses being exposed. From Networking perspective , the internal IP address of Peer should never be exposed to outside world. The peer ip will always be NATed. So , I do not think , that is an issue.

 ;;;","02/Jun/17 11:53 PM;yacovm;[~jyellick] :
{quote}Just to be clear, this is a security issue because in mis-configuration, it leaks the network topology of the organization's non-external peers?{quote}
It leaks only the ip addresses of the misconfigured peer. the other ip addresses are not leaked.

{quote}This does not leak the peer channel membership, or escalate to some other form of attack where the peer can be tricked into some other action?{quote}
Nope. It only makes the peer send 1 message to the remote peer that says ""hey, I'm peer0. Here is my internal ip address: 192.168.1.100:7051, please tell me the membership you know""

[~ashutosh_kumar] : 
{quote}Yacov Manevich : I guess , you are referring to the problem of internal IP addresses being exposed{quote}
Yes.
{quote}
From Networking perspective , the internal IP address of Peer should never be exposed to outside world{quote}
This is not a networking issue.

{quote} The peer ip will always be NATed. So , I do not think , that is an issue.{quote}
I'm well aware of that, however - in gossip, the membership is disseminated transitively, and within the organization the ip addresses that are disseminated, are internal ip addresses. The problem with bootstrap peer support is that when they were implemented we had no notion of internal/external membership segregation policies, and bootstrap peers were initially used to connect only between peers in the organization itself.

This is an issue because the message that the peer sends to the bootstrap peer currently contains its own ip address that is internal, as the mechanism is used only to connect to peers in the own organization.

;;;","04/Jun/17 9:21 PM;denyeart;Since this is a bug fix, and the code is not huge and is similar to existing code, I vote yes.;;;","06/Jun/17 1:31 AM;ChristopherFerris;This has met the threshold of 5 maintainers votes and may be merged when ready;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Fabric reliability test: Peer misses update(s) from the orderer, make sure that it gets updated eventually",FAB-4303,17377,,Task,Closed,FAB,Fabric,software,denyeart,,,High,Done,AdnanChoudhury,AdnanChoudhury,AdnanChoudhury,02/Jun/17 4:56 AM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,04/Oct/17 5:33 AM,,,,v1.0.0,,fabric-quality,,,,,,,0,quality,,,,,,,,,AdnanChoudhury,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxy7r:",,,,,,,,,,,,,,,,,,,,,,,,,,,AdnanChoudhury,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"04/Oct/17 5:33 AM;AdnanChoudhury;The tests in the fabric-test Behave gossip feature qualify as this test.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
readthedoc entry for core.yaml expansion,FAB-4304,17378,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,markparz,markparz,markparz,02/Jun/17 5:43 AM,10/Jan/20 4:32 AM,28/Oct/23 2:59 AM,10/Jan/20 4:32 AM,,,,,,fabric-docs,,,,,,,0,Documentation,,,,,,,"There are parts of the yaml that need further explanation then what needs to be in the yaml. We need to put this in the doc, and put a pointer to it in the yaml file. Just a couple examples from the gossip config are:

      # Number of times a message is pushed to remote peers {color:#ff0000}Why would someone do > 1? wouldn't there be a retry if there was a failure anyway? Does this mean as I think, where it would push the message multiple times regardless of success?{color}
         propagateIterations: 1
         # Number of peers selected to push messages to {color:#ff0000}Is there a clever ratio to use based on # of pulls for # of peers in a network? or is this optimal to have the least amount of noise, while best chance of accuracy? Are these random peers that gossip picks or defined?{color}
         propagatePeerNum: 3
         # Determines frequency of pull phases(unit: second)
         pullInterval: 4s
         # Number of peers to pull from {color:#ff0000}Is there a clever ratio to use based on # of pulls for # of peers in a network? or is this optimal to have the least amount of noise, while best chance of accuracy? Are these random peers that gossip picks or defined? or the same peers as the push? {color} 
         pullPeerNum: 3",,markparz,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzxy7z:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,markparz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"06/Jun/17 5:22 AM;markparz;[https://gerrit.hyperledger.org/r/#/c/10183/] - for peer section (in review)

[https://gerrit.hyperledger.org/r/#/c/10089/] - Ledger updates (Complete / merged);;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add support for gRPC keepalive for GRPCServer and client connections,FAB-4305,17381,15902,Sub-task,Closed,FAB,Fabric,software,denyeart,,,High,Done,mastersingh24,mastersingh24,mastersingh24,02/Jun/17 6:05 AM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,03/Jun/17 1:31 AM,v1.0.0-alpha2,,,v1.0.0-beta,,fabric-orderer,fabric-peer,,,,,,3,,,,,,,,"In order to deal with a series of timeout errors generally caused by proxies terminating connections due to inactivity, gRPC now supports a keepalive mechanism.

This task will add support for the keepalive options for the common GRPCServer and for client connections used in the peer and orderer",,mastersingh24,muralisr,wutongtree,,,,,,,,,,,,,,,,";02/Jun/17 6:59 PM;mastersingh24;10800",,21600,10800,10800,50%,21600,10800,10800,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-5658,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxy87:",,,,,,,,,,,,,,,,,,,,,,,,,,,mastersingh24,muralisr,wutongtree,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"02/Jun/17 6:06 AM;mastersingh24;This is a bit invasive but really is the right way to deal with the bug.  But marking for review anyway just in case;;;","02/Jun/17 7:23 PM;mastersingh24;https://gerrit.hyperledger.org/r/#/c/10071/;;;","03/Jun/17 12:30 AM;muralisr;[~mastersingh24] is this still needed given your work on grpc upgrade (I'm assuming ""yes"" but let me ask the question anyway :-) ).;;;","03/Jun/17 12:46 AM;mastersingh24;[~muralisr] - so one of the main reasons for the upgrade was to take advantage of the keepalive support in the latest versions of the gRPC libraries.  So the upgrade gave us the feature and this is just a task ti exploit it;;;","03/Jun/17 12:56 AM;muralisr;[~mastersingh24] thanks, understand now.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove unused  peer.workers config,FAB-4312,17389,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,baohua,baohua,baohua,02/Jun/17 11:03 AM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,05/Jun/17 12:53 PM,,,,v1.0.0,,fabric-peer,,,,,,,0,,,,,,,," 

In examples/cluster/config/core.yaml, the config still contains this unused item.

 

 ",,baohua,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxy9r:",,,,,,,,,,,,,,,,,,,,,,,,,,,baohua,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"02/Jun/17 11:09 AM;baohua;https://gerrit.hyperledger.org/r/#/c/10051/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add vscode setting materials to gitignore,FAB-4313,17392,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,baohua,baohua,baohua,02/Jun/17 11:56 AM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,05/Jun/17 8:02 PM,,,,v1.0.0,,fabric-quality,,,,,,,0,,,,,,,,"Add vscode setting materials to gitignore, hence will not pollute the source code with vscode ide.",,baohua,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxya7:",,,,,,,,,,,,,,,,,,,,,,,,,,,baohua,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"02/Jun/17 11:58 AM;baohua;https://gerrit.hyperledger.org/r/#/c/10057/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
protolator fails to unmarshal uint32 fields in config,FAB-4317,17397,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,02/Jun/17 1:07 PM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,03/Jun/17 3:36 AM,,,,v1.0.0,,,,,,,,,0,,,,,,,,"The proto translation code was developed and tested using go 1.8, but when used in a go 1.7 environment, the json decoding fails to handle the uint32 fields, resulting in error output like:


{noformat}
*common.Config: error in PopulateFrom for field channel_group for message *common.Config: *common.DynamicChannelGroup: error in PopulateFrom for map field groups with key Orderer for message *common.DynamicChannelGroup: *orderer.DynamicOrdererGroup: error in PopulateFrom for map field values with key BatchSize for message *orderer.DynamicOrdererGroup: *orderer.DynamicOrdererConfigValue: error in PopulateFrom for field value for message *orderer.DynamicOrdererConfigValue: *orderer.BatchSize: json: cannot unmarshal number 1.03809024e+08 into Go value of type uint32
{noformat}
",,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxyc7:",,,,,,,,,,,,,,,,,,,,,,,,,,,jyellick,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fix block-listener.go to adapt fabric alpha2 (load msp info),FAB-4318,17398,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,Hangyu_FJH,Hangyu_FJH,Hangyu_FJH,02/Jun/17 1:11 PM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,06/Jun/17 9:41 PM,v1.0.0,,,v1.0.0,v1.0.0-beta,fabric-samples,,,,,,,0,v1.0,,,,,,,"When trying to use block-listener.go example in alpha2. There is this error:
{panel}
2017-06-01 02:30:48.023 JST [bccsp] GetDefault -> WARN 001 Before using BCCSP, please call InitFactories(). Falling back to bootBCCSP.
could not start chat error getting creator from MSP: could not obtain the default signing identity, err This MSP does not possess a valid default signing identity
Error creating event client
{panel}

To resolve this problem, it is necessary to load appropriate msp info here. 
also in fabric/event/consumer/consumer.go, the signerCertbytes also needs to be passed to the creator of event message.",,Hangyu_FJH,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxycf:",,,,,,,,,,,,,,,,,,,,,,,,,,,Hangyu_FJH,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
As a fabric developer I want to the committing peer checking that each transaction is signed by a writer of the channel,FAB-4319,17399,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,ales,angelo.decaro,angelo.decaro,02/Jun/17 5:19 PM,23/Jan/20 4:14 AM,28/Oct/23 2:59 AM,23/Jan/20 4:14 AM,v1.1.0,,,Future,,fabric-crypto,,,,,,,0,stale-item,,,,,,,"The committing peer should check that a transaction has been signed by a writer of a the channel it has been submitted too. Even though this check is also performed by the orderers and even though they might be considered trusted, still makes sense that the committing peers protect the ledger from bugs that might exist at the ordering service.

[~elli-androulaki], [~ales], [~binhn], [~yacovm] Wdyt?",,ales,angelo.decaro,binhn,denyeart,elli-androulaki,jyellick,kchristidis,mastersingh24,rmohta,scottz,sykesm,yacovm,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzws1j:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,ales,angelo.decaro,binhn,denyeart,elli-androulaki,jyellick,kchristidis,mastersingh24,rmohta,scottz,sykesm,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"02/Jun/17 5:55 PM;yacovm;Thinking aloud:
So at genesis block creation the channel readers and writers are encoded by the configtxgen tool into the channel. 
Do we have a way of creating a configtx.yaml such that not all channel members are writers? [~jyellick]?
If not - then with every genesis block created, all channel members are writers, and the user can't make a channel that some clients in the channel are not writers.

The only thing left is to ensure that every transaction that enters the ledger, was made by a client in the channel.
Let's separate for 2 cases:
* If the ordering service is not malicious then it checks that the client is in the channel, so we're safe here
* If the ordering service is malicious it might accept an endorsement response from a client that is not in the channel.
** The endorsement response could not have been simulated by a non-malicious peer, because it checks the signed proposal is in the ChannelApplicationWriters.
** Else, the endorsement response was simulated by a malicious peer. But, a malicious peer can anyway do whatever it wants- including giving wrong results to the simulation, so I don't think this is an option we can protect against anyway. I'd say If the chaincode instantiator is afraid of malicious endorsers it needs to protect itself by an endorsement policy that specifies at least one signature from its organization or something...;;;","02/Jun/17 6:03 PM;angelo.decaro;It might just also be because of a bug at the ordering service and a transaction is accepted in a channel even though the creator does not satisfy the channel's policy. In that case it is better that the committing peers protect the ledger at the maximum because they are the last check point in the system, no?;;;","02/Jun/17 6:33 PM;yacovm;{quote}It might just also be because of a bug at the ordering service and a transaction is accepted in a channel even though the creator does not satisfy the channel's policy{quote}
I think that bug and malicious are interchangeable in our case. I think that we should ensure that there is no such a bug in the ordering service (IIRC they had a policy filter somewhere) in any case.

Your suggestion makes sense in general, just not sure if we would want to have this now for v1.0 or not, therefore I would wait for a clarification from [~jyellick] because that prunes a branch from our decision tree.;;;","02/Jun/17 6:38 PM;ales;+1 [~angelo.decaro], it's a small and safe change and it's good to have for v1;;;","16/Jun/17 5:52 AM;binhn;[~yacovm]
{quote}Do we have a way of creating a configtx.yaml such that not all channel members are writers?
{quote}
The answer is yes. Configtx is not necessarily the config tool in production. Customers build their own admin (like Bluemix). The policy allows admins/writers/readers, so each set might be different.;;;","09/Aug/17 9:55 PM;elli-androulaki;Ok, I guess this needs to be updated to reflect the access control policy specified in RSCC for proposal processing :) I would also be up for this being checked for sanity. 

But do you think this should be considered a ""bug"" or ""improvement"" of an existing functionality?;;;","01/Sep/17 4:30 PM;elli-androulaki;Hi, pinging [~angelo.decaro], [~ales]: though the check makes sense as a sanity check/detecting switch of orderers to something beyond of our threat model, would you be fine if we lowered its priority for now (that is, given our threat model, we are already covered) ? ;;;","21/Oct/17 4:29 AM;denyeart;Based on Elli's comments, lowering to High.;;;","06/Jan/18 10:39 PM;mastersingh24;[~elli-androulaki]  [~angelo.decaro]  Are we actually doing this for 1.1?  I also don't think this is a bug given the trust model between the peer and the ordering service.  ;;;","08/Jan/18 11:28 AM;denyeart;Given that orderers are trusted I think this can be changed to Medium.  Feel free to increase priority if it is thought that this is a High issue for v1.1.;;;","09/Jan/18 2:40 AM;elli-androulaki;Also, just to note:

This item refers to code changes at tx commitment time. However, these changes are not prone to causing ledger forks. The reason is that we trust the ordering service to honor this check, and if the ordering service it at error (i.e., behaves in a byzantine manner), then our whole system is susceptible to forking attacks for other reasons.;;;","01/Feb/18 10:13 PM;elli-androulaki;Hi, given transaction lifecycle is being reworked, and we agree i think that this is not strictly speaking a bug (given our threat model), I think it makes sense to be marked for 1.2. Wdyt?

 [~denyeart], [~mastersingh24], [~angelo.decaro], [~ales]?;;;","08/Feb/18 3:40 AM;Clayton Sims;Any updates?  if not lets move to v1.2

 ;;;","19/Feb/18 11:10 AM;scottz;What is the expected behavior? What should the v1.1 orderer do with a TX that was submitted by a client that is not a writer? From what I am reading, it seems it should NOT be delivered, because the peer has no way to know, and would not mark it invalid.;;;","19/Feb/18 11:58 PM;elli-androulaki;[~scottz], assuming a tx referring to channel C, the v1.1 orderer would only consider tx for ordering within C's transactions.

Also, the v1.1 orderer would check writer permissions on tx's creator w.r.t to C's channel writers and would reject tx if the check does not pass.;;;","20/Feb/18 2:55 AM;denyeart;[~scottz] The orderer does indeed perform this check, transactions from clients without channel writers privilege are not included in blocks and are not sent to peers for commit.  That's why it is acceptable to defer this to 1.2.;;;","05/May/18 2:06 AM;jyellick;Additionally, transactions should only be endorsed if the submitter is a member of the /Channel/Application/Writers (or some other condition given by the ACLs).  So, even if the transaction were not signed by a valid writer, it would almost definitely be marked as invalid for failing to satisfy the endorsement policy.  I agree this would be a 'nice to have', but I'd prefer to put this an an improvement on the backlog.  What do you think [~angelo.decaro] ?;;;","22/May/18 3:13 AM;kchristidis;Moving this to Backlog and marking it as an improvement. If it can be tackled on time for 1.2, please update.

Let's also please not assign until we're ready to work on something. We've assigned way too many issues on [~ales].;;;","23/Jan/20 4:14 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Go installation on Ubuntu not align with fabric makefile,FAB-4320,17400,,Story,Closed,FAB,Fabric,software,denyeart,,,Low,Done,,davidkhala,davidkhala,02/Jun/17 5:54 PM,21/Jul/18 3:56 AM,28/Oct/23 2:59 AM,20/Jul/18 7:16 AM,,,,,,,,,,,,,0,,,,,,,,"I installed go via tarball to my ubuntu following this tutorial.

[https://golang.org/doc/install#tarball]

But no matter how when I attempted to run:

 
{code:java}
.../fabric$ sudo make clean
{code}
Error prompt like:

 
{code:java}
Makefile:77: *** ""No go in PATH: Check dependencies"".  Stop. {code}
I investigated line 77 in Makefile which checks whether necessary executable exist and found this flaws. 

The go installation guide said recommended GO path is

/usr/local/go/bin 

But the checking mechanism cannot detect that.

I added a symbolic link to fixed it successfully.

 
{code:java}
sudo ln -s $(which go) /usr/bin/go
{code}
Hope there will be an improvement.

 ",,davidkhala,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzxycn:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,davidkhala,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"04/Apr/18 2:39 AM;davidkhala;I think it is just local golang env problem. ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Review and update documentation for consistency,FAB-4321,17401,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,angelo.decaro,angelo.decaro,angelo.decaro,02/Jun/17 6:33 PM,23/Jan/20 4:14 AM,28/Oct/23 2:59 AM,23/Jan/20 4:14 AM,v1.0.0,v1.0.0-alpha2,,,,fabric-docs,,,,,,,0,Documentation,stale-item,,,,,,"Documentation needs to be consistent and use the right terminology. 

* arch-deep-dive.rst needs to be completely reworked to make it consistent with the current terminology and fabric's processes.
* txflow.rst needs to better adhere to what happens in fabric. For instance, MSP is not a process but a peer's component. Also, we have policies governing access control, not ACL. 
* others...",,angelo.decaro,markparz,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,FAB-4324,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzxycv:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,angelo.decaro,markparz,sykesm,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"05/Jun/17 10:48 PM;markparz;[~angelo.decaro] is this something you can start? Just as a note, the txflow.rst is suppose to be VERY high level, the plan is to make a lower level doc at some point and put under the architecture section. That means it more than likely will flow with number 1 you have listed.;;;","09/Jun/17 3:09 AM;Clayton Sims;Based on our RC, assigning Angelo.......;;;","23/Jan/20 4:14 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
improve code coverage of hyperledger/orderer/multichain pkg,FAB-4322,17402,16261,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,guoger,guoger,guoger,02/Jun/17 7:02 PM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,13/Jun/17 5:32 PM,v1.0.0-alpha2,,,v1.0.0,,fabric-orderer,,,,,,,0,,,,,,,,,,guoger,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxyd3:",,,,,,,,,,,,,,,,,,,,,,,,,,,guoger,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"10/Jun/17 10:13 PM;guoger;http://gerrit.hyperledger.org/r/10431;;;","13/Jun/17 5:32 PM;guoger;Duplicate with https://jira.hyperledger.org/browse/FAB-3931;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
improve code coverage of hyperledger/fabric/orderer/common/configtxfilter,FAB-4323,17403,16261,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,guoger,guoger,guoger,02/Jun/17 7:04 PM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,05/Jun/17 8:06 AM,v1.0.0-alpha2,,,v1.0.0,,fabric-orderer,,,,,,,0,,,,,,,,,,guoger,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"04/Jun/17 8:32 PM;guoger;cover.html;https://jira.hyperledger.org/secure/attachment/10919/cover.html",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxydb:",,,,,,,,,,,,,,,,,,,,,,,,,,,guoger,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"04/Jun/17 8:29 PM;guoger;https://gerrit.hyperledger.org/r/#/c/10131/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Re-architect getting started to iteratively build up network,FAB-4324,17405,,Story,Closed,FAB,Fabric,software,denyeart,,,High,Done,nickgaski,nickgaski,nickgaski,02/Jun/17 10:07 PM,21/Jul/18 3:55 AM,28/Oct/23 2:59 AM,22/Mar/18 6:24 AM,,,,,,fabric-docs,,,,,,,0,Documentation,,,,,,,"We need to keep our simple bootstrap script as most app developers won't care about the mechanics of building and bootstrapping a network.

However, for first time users we should bring each component up one by one and explain its purpose, prerequisites, etc...  We will have a running diagram showing all the pieces being added.

In the end the reader is left with a fabric network and a channel, on which they can run chaincode and write transactions to the ledger. 

Rather than turning this piece into a dissertation on all things fabric, we will link off to key concepts and deeper dives. ",,ChristopherFerris,fredbi,nickgaski,,,,,,,,,,,,,,,,,,57600,57600,,0%,57600,57600,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3111,FAB-4321,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzxydj:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,ChristopherFerris,fredbi,nickgaski,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"18/Jun/17 1:04 PM;ChristopherFerris;[~nickgaski] as you know, we have FAB-4073 in progress which provides a tutorial for building a network. We also have FAB-4851 which doesn't yet have any associated documentation, but for purposes of a developer (such as for Writing your first app) can get someone running with just the very basic config to do development/testing.

Given all that, can this be closed as DUPLICATE?;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
create scheme to handle version-specific bootstrap.sh,FAB-4325,17406,17239,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ChristopherFerris,ChristopherFerris,ChristopherFerris,02/Jun/17 10:07 PM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,05/Jun/17 9:44 PM,v1.0.0-alpha2,,,v1.0.0-beta,,fabric-docs,,,,,,,0,Documentation,,,,,,,we need an ability to have version-specific bootstrap.sh,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,3600,3600,,0%,3600,3600,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-4221,FAB-4212,,,,,FAB-4221,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxydr:",,,,,,,,,,,,,,,1.0,,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"02/Jun/17 10:20 PM;ChristopherFerris;https://gerrit.hyperledger.org/r/#/c/10073/;;;","02/Jun/17 10:24 PM;ChristopherFerris;Basically, move the bootstrap.sh script to scripts/ and establish a specific instance for each (planned) release. The script will not be usable until a) the tar files are published to Nexus and b) the docker images are published to GitHub.

modified the script to inline the download-dockerimages.sh as there's no need for a separate script, and only complicated by needing to have that in the downloaded content.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
PTE end-of-test queries to validate all peers,FAB-4326,17407,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sunhwei,scottz,scottz,02/Jun/17 11:07 PM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,07/Feb/18 3:11 AM,v1.0.0,,,,,fabric-quality,fabric-tools,,,,,,0,quality,,,,,,,"I believe each thread/process of PTE sends transactions to a single peer, and verifies the final result of the last invoke sent was successfully delivered and written to ledger of the targeted peer.

To be sure all peers are getting the information, all peers should be queried to ensure they all receive the same result (to prove gossip is working, and non-leaders are getting deliveries too). This should be done for each thread, before final ""pass"" result can be achieved.",,dongming,scottz,sunhwei,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-7991,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-2247,,,,,,,,,,"1|hzx2wf:",,,,,,,,,,,,,,,,,,,,,,,,,,,dongming,scottz,sunhwei,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"13/Nov/17 11:00 AM;sunhwei;Query all peers to verify the tx successful result is not necessary, since Fabric is ""Permissioned blockchain with immediate finality"" system, when the transaction  is successful on one peer, the blockchain consensus mechanism can make all peer in the same results. 

Suggest to close this issue with no change.

Please refer to : [http://hyperledger-fabric.readthedocs.io/en/latest/releases.html] ,  

Key features:

Permissioned blockchain with immediate finality Chaincode (aka smart contract) execution environments Docker container (user chaincode) In-process with peer (system chaincode) 

 

 ;;;","13/Nov/17 11:04 PM;scottz;We should NOT close it. The objective is to test that claim. To verify that it works as intended.

We do not need to verify every transaction, or even do it for every test, but our tool would be more thorough if it could do the verification requested in the description section. This is not a high priority item, but I think is a good thing to do.;;;","14/Nov/17 9:25 AM;sunhwei;[~scottz] ,[~dongming] In current PTE implementation ""InvokeCheck"" option is used to control if verification function, to  support above function,  we can add a new configuration option (for example 'InvokeCheckPeers') to let end user configure which peers PTE will verify the transaction result against, It is  compatible with current implementation.  ;;;","14/Nov/17 11:44 AM;scottz;This is open for discussion, and I will discuss with Dongming tomorrow, but here is what I was thinking:

I imagined that this function enhancement would be required for all performance tests. It is good to count and verify that the proper number of success events were all received, but it would be better to actually query the last transaction sent (by each thread). Although it would be more thorough, I did NOT imagine that PTE would verify every transaction, let alone doing it on every peer, because it would slow down the PTE and negatively impact performance results.

I thought that, after all transactions are sent (and maybe after all notifications received), in each thread, we could query the last transaction from all the peers in the channel. Typically PTE creates all channels and joins all peers to every channel, so that task would be fairly simple; the only tricky part is to determine the key and value of the last transaction +in each thread+. So, I figured each thread could do its own querying, for all the peers, after it sends it's last invoke transaction.

But, I realize that when the network and channels are created before running PTE traffic, then PTE may not know which peers are members of each channel. In that situation, it is certainly possible that your suggestion (for the user to provide a list of peers) would be the best way to do that. But, how would you correlate a list of peers with each channel, or how to determine which key,value pairs to verify on which peers and channels? Maybe the answer is simple; admittedly, I haven't looked into it.;;;","31/Jan/18 4:54 AM;dongming;We provide user a script, PTE/CITest/scripts/get_peerStats.sh, to calculate TPS for any peers and channels from the peer log specified by the user.  Use ""./get_peerStats.sh -?"" for help.  Also there are many examples in PTE/CITest/scenarios.

This might be sufficient for users to validate transactions on all peers.;;;","01/Feb/18 2:10 AM;scottz;Let's document this a little more here. This does not verify values via queries, but I suppose we can live without that based on the fact that all peers validate and agree.

The get_peerStats.sh script is called by about half of the testcases in PTE/CITest/scenarios/FAB-*. It checks the number of blocks written on a peer ledger by looking at logs. Does it count transactions too?

In the automated tests that use it, will the test fail if the numbers do not match expected values or if are unequal on all peers?

This script should be used to verify for all testcases where it makes sense, wherever we can expect PTE to have no send-failures. Do we currently use it for all existing testcases where that is true?

In the test situations where PTE has non-zero send-failures, i.e. (Attempted > TxProposalAck) or (Attempted > BroadcastAck), does PTE compare the ""successfully sent"" TXs total with ""successfully written to peer""?;;;","01/Feb/18 4:30 AM;dongming;[~scottz]

get_peerStats.sh counts both blocks and transactions in the peer logs.

Both PTE logs and get_peerStats.sh provides transaction numbers for user.  And the user will need to determine if both numbers match.

We will add get_peerStats.sh to all scenarios testcases.

 ;;;","01/Feb/18 4:34 AM;dongming;FAB-7991: PTE add get_peerstats.sh to all scenarios testcases;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Peer panics and dies,FAB-4327,17409,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,C0rWin,latitiah,latitiah,03/Jun/17 12:31 AM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,15/Jun/17 3:04 AM,,,,v1.0.0,,fabric-peer,,,,,,,0,,,,,,,,"*commit:* 506cdda3d33bdac0f6361408ac0ed157c97c1e88

*API method:*  peer cli commands

After performing a peer channel create and join using the commands below, the targeted peer panics and then dies.

*Create command*: (executed on peer0.org1.example.com)
{code:java}
CORE_PEER_MSPCONFIGPATH=/var/hyperledger/configs/3eb187a4471d11e7bd020800275fb08f/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp peer channel create --file /var/hyperledger/configs/3eb187a4471d11e7bd020800275fb08f/behavesystest-1.tx --chain behavesystest-1 --orderer orderer.example.com:7050{code}
*Join command*: (executed on peer0.org1.example.com)  
{code:java}
CORE_PEER_MSPCONFIGPATH=/var/hyperledger/configs/3eb187a4471d11e7bd020800275fb08f/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp peer channel join --blockpath /var/hyperledger/configs/3eb187a4471d11e7bd020800275fb08f/behavesystest-1.block --chain behavesystest-1 --orderer orderer.example.com:7050{code}
*Error*:

result of join command: (No error message, it just dies) 
{code:java}
2017-06-01 22:54:31.301 UTC [msp] getMspConfig -> INFO 001\x1b[0m intermediate certs folder not found at [/var/hyperledger/configs/3eb187a4471d11e7bd020800275fb08f/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp/intermediatecerts]. Skipping.: [stat /var/hyperledger/configs/3eb187a4471d11e7bd020800275fb08f/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp/intermediatecerts: no such file or directory]\n
 2017-06-01 22:54:31.301 UTC [msp] getMspConfig -> INFO 002\x1b[0m crls folder not found at [/var/hyperledger/configs/3eb187a4471d11e7bd020800275fb08f/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp/intermediatecerts]. Skipping.: [stat /var/hyperledger/configs/3eb187a4471d11e7bd020800275fb08f/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp/crls: no such file or directory]\n
 \x1b[36m2017-06-01 22:54:31.322 UTC [msp] GetLocalMSP -> DEBU 003\x1b[0m Returning existing local MSP\n
 \x1b[36m2017-06-01 22:54:31.322 UTC [msp] GetDefaultSigningIdentity -> DEBU 004\x1b[0m Obtaining default signing identity\n
 \x1b[36m2017-06-01 22:54:31.325 UTC [msp/identity] Sign -> DEBU 005\x1b[0m Sign: plaintext: 0AAF070A5C08011A0C08A7B6C2C90510...41646D696E731A080A000A000A000A00 \n
 \x1b[36m2017-06-01 22:54:31.325 UTC [msp/identity] Sign -> DEBU 006\x1b[0m Sign: digest: 9A2B5B77744B1BDA82C8BCA533CC49DE2CADE2B56931A62A70302DB1A25DBE4D \n'{code}
error on peer0.org1.example.com: 

 
{code:java}
panic: nil msg
goroutine 70 [running]:
panic(0xc48500, 0xc4202a9730)
 /opt/go/src/runtime/panic.go:500 +0x1a1
github.com/hyperledger/fabric/core/chaincode/shim.chatWithPeer.func1(0xc4213572c0, 0xc4213724e0, 0x13d4220, 0xc4213722e0, 0xc421357320, 0xc420050fc0)
 /opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/shim/chaincode.go:302 +0xe61
created by github.com/hyperledger/fabric/core/chaincode/shim.chatWithPeer
 /opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/shim/chaincode.go:324 +0x500
{code}
 

 

Orderer and peer logs are attached.",,C0rWin,holocron,latitiah,muralisr,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"03/Jun/17 1:00 AM;latitiah;behavesystest-1.block;https://jira.hyperledger.org/secure/attachment/10906/behavesystest-1.block","03/Jun/17 1:00 AM;latitiah;configtx.yaml;https://jira.hyperledger.org/secure/attachment/10905/configtx.yaml","03/Jun/17 4:44 AM;latitiah;crypto.yaml;https://jira.hyperledger.org/secure/attachment/10911/crypto.yaml","03/Jun/17 3:15 AM;latitiah;docker-compose-solo.yml;https://jira.hyperledger.org/secure/attachment/10910/docker-compose-solo.yml","03/Jun/17 12:31 AM;latitiah;orderer.log;https://jira.hyperledger.org/secure/attachment/10903/orderer.log","03/Jun/17 12:31 AM;latitiah;peer0org1examplecom.log;https://jira.hyperledger.org/secure/attachment/10904/peer0org1examplecom.log",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxydz:",,,,,,,,,,,,,,,,,,,,,,,,,,,C0rWin,holocron,latitiah,muralisr,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"03/Jun/17 1:43 AM;latitiah;Steps executed:
 # cryptogen generate --output=. --config=./configs/crypto.yaml
 # cp configtx.yaml ./ordererOrganizations/example.com/msp/config.yaml
 # cp configtx.yaml ./peerOrganizations/org1.example.com/msp/config.yaml
 # cp configtx.yaml ./peerOrganizations/org2.example.com/msp/config.yaml
 # cp configtx.yaml ./peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp/config.yaml
 # cp configtx.yaml ./peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp/config.yaml
 # configtxgen -profile SampleInsecureSolo -outputBlock orderer.block -channelID behavesystest
 # configtxgen -profile SysTestChannel -outputCreateChannelTx behavesystest.tx -channelID behavesystest
 # docker-compose -f docker-compose-solo.yml up -d --force-recreate
 # configtxgen -profile SysTestChannel -outputCreateChannelTx behavesystest-1.tx -channelID behavesystest-1
 # configtxgen -profile SampleInsecureSolo -outputBlock behavesystest-1.block -channelID behavesystest-1
 # docker exec peer0.org1.example.com /bin/bash -c ""CORE_PEER_MSPCONFIGPATH=/var/hyperledger/configs/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp peer channel create --file /var/hyperledger/configs/behavesystest-1.tx --chain behavesystest-1 --orderer orderer.example.com:7050""
 # docker exec peer0.org1.example.com /bin/bash -c ""CORE_PEER_MSPCONFIGPATH=/var/hyperledger/configs/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp peer channel join --blockpath /var/hyperledger/configs/behavesystest-1.block --chain behavesystest-1 --orderer orderer.example.com:7050""

 ;;;","03/Jun/17 2:47 AM;latitiah;Ran this scenario again, but this time adding a 5 second delay between the create and join and received the following segfault:

 
{code:java}
2017-06-02 17:44:33.317 UTC [common/config] initializeProtosStruct -> DEBU 1f7 Processing field: MSP
2017-06-02 17:44:33.317 UTC [common/config] validateMSP -> DEBU 1f8 Setting up MSP for org Org2ExampleCom
2017-06-02 17:44:33.319 UTC [common/config] validateMSP -> DEBU 1f9 Setting up MSP for org Org1ExampleCom
2017-06-02 17:44:33.320 UTC [common/config] validateMSP -> DEBU 1fa Setting up MSP for org ExampleCom
panic: runtime error: invalid memory address or nil pointer dereference
[signal SIGSEGV: segmentation violation code=0x1 addr=0x8 pc=0x935685]
goroutine 184 [running]:
panic(0xc97aa0, 0xc420016040)
 /opt/go/src/runtime/panic.go:500 +0x1a1
github.com/hyperledger/fabric/common/config.(*ApplicationGroup).Organizations(0x0, 0xc421bfc4e0)
 <autogenerated>:17 +0x5
github.com/hyperledger/fabric/core/peer.(*chainSupport).Organizations(0xc421bf08a0, 0xda5011)
 <autogenerated>:25 +0x4a
github.com/hyperledger/fabric/gossip/service.(*configEventer).ProcessConfigUpdate(0xc421a0fb20, 0x13d43a0, 0xc421bf08a0)
 /opt/gopath/src/github.com/hyperledger/fabric/gossip/service/eventer.go:71 +0x126
github.com/hyperledger/fabric/core/peer.createChain.func1(0x13ddb40, 0xc421af8dc0)
 /opt/gopath/src/github.com/hyperledger/fabric/core/peer/peer.go:191 +0xf4
github.com/hyperledger/fabric/common/configtx.(*configManager).commitCallbacks(0xc421af8dc0)
 /opt/gopath/src/github.com/hyperledger/fabric/common/configtx/manager.go:134 +0x5f
github.com/hyperledger/fabric/common/configtx.NewManagerImpl(0xc421a38210, 0x13dbf00, 0xc421a25400, 0xc421a25420, 0x2, 0x2, 0x0, 0xc4213cdcc0, 0xc421a0d5a8, 0x455ca0)
 /opt/gopath/src/github.com/hyperledger/fabric/common/configtx/manager.go:127 +0x362
github.com/hyperledger/fabric/core/peer.createChain(0xc4219ff4a0, 0xf, 0x13ddd80, 0xc421a0f8c0, 0xc421a0e6e0, 0x0, 0x0)
 /opt/gopath/src/github.com/hyperledger/fabric/core/peer/peer.go:209 +0x1f6
github.com/hyperledger/fabric/core/peer.CreateChainFromBlock(0xc421a0e6e0, 0x19f4, 0x19f4)
 /opt/gopath/src/github.com/hyperledger/fabric/core/peer/peer.go:252 +0x134
github.com/hyperledger/fabric/core/scc/cscc.joinChain(0xc42006d400, 0x19f4, 0x19f4, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0)
 /opt/gopath/src/github.com/hyperledger/fabric/core/scc/cscc/configure.go:155 +0x1ca
github.com/hyperledger/fabric/core/scc/cscc.(*PeerConfiger).Invoke(0xc42018dd60, 0x13df0a0, 0xc421a02000, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0)
 /opt/gopath/src/github.com/hyperledger/fabric/core/scc/cscc/configure.go:120 +0xa8a
github.com/hyperledger/fabric/core/chaincode/shim.(*Handler).handleTransaction.func1(0xc42030bb20, 0xc4219c2ff0)
 /opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/shim/handler.go:312 +0x770
created by github.com/hyperledger/fabric/core/chaincode/shim.(*Handler).handleTransaction
 /opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/shim/handler.go:327 +0x49
{code}
 

 ;;;","03/Jun/17 5:46 AM;muralisr;The full stack trace is 

{code:java}

panic: runtime error: invalid memory address or nil pointer dereference
[signal SIGSEGV: segmentation violation code=0x1 addr=0x8 pc=0x93a1f5]

goroutine 235 [running]:
panic(0xc9cce0, 0xc420016040)
	/opt/go/src/runtime/panic.go:500 +0x1a1
github.com/hyperledger/fabric/common/config.(*ApplicationGroup).Organizations(0x0, 0xc421db5bb0)
	<autogenerated>:17 +0x5
github.com/hyperledger/fabric/core/peer.(*chainSupport).Organizations(0xc421d9dcb0, 0xdadd6c)
	<autogenerated>:25 +0x4a
github.com/hyperledger/fabric/gossip/service.(*configEventer).ProcessConfigUpdate(0xc421bdbf20, 0x13dd380, 0xc421d9dcb0)
	/opt/gopath/src/github.com/hyperledger/fabric/gossip/service/eventer.go:71 +0x16c
github.com/hyperledger/fabric/core/peer.createChain.func1(0x13e6c00, 0xc421c87240)
	/opt/gopath/src/github.com/hyperledger/fabric/core/peer/peer.go:191 +0xf4
github.com/hyperledger/fabric/common/configtx.(*configManager).commitCallbacks(0xc421c87240)
	/opt/gopath/src/github.com/hyperledger/fabric/common/configtx/manager.go:134 +0x5f
github.com/hyperledger/fabric/common/configtx.NewManagerImpl(0xc421bc5680, 0x13e4fc0, 0xc421c02af0, 0xc421c02b10, 0x2, 0x2, 0x0, 0xc421492140, 0xc421bd95d8, 0x455ca0)
	/opt/gopath/src/github.com/hyperledger/fabric/common/configtx/manager.go:127 +0x362
github.com/hyperledger/fabric/core/peer.createChain(0xc421bd0b90, 0xf, 0x13e6e40, 0xc421bdbcc0, 0xc421bdaae0, 0x0, 0x0)
	/opt/gopath/src/github.com/hyperledger/fabric/core/peer/peer.go:209 +0x1f6
github.com/hyperledger/fabric/core/peer.CreateChainFromBlock(0xc421bdaae0, 0x19fc, 0x19fc)
	/opt/gopath/src/github.com/hyperledger/fabric/core/peer/peer.go:259 +0x134
github.com/hyperledger/fabric/core/scc/cscc.joinChain(0xc42006f400, 0x19fc, 0x19fc, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0)
	/opt/gopath/src/github.com/hyperledger/fabric/core/scc/cscc/configure.go:147 +0x1ca
github.com/hyperledger/fabric/core/scc/cscc.(*PeerConfiger).Invoke(0xc4201dec00, 0x13e80c0, 0xc421bc8a00, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0)
	/opt/gopath/src/github.com/hyperledger/fabric/core/scc/cscc/configure.go:119 +0xdc2
github.com/hyperledger/fabric/core/chaincode/shim.(*Handler).handleTransaction.func1(0xc42030a930, 0xc421bb4a50)
	/opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/shim/handler.go:312 +0x770
created by github.com/hyperledger/fabric/core/chaincode/shim.(*Handler).handleTransaction
	/opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/shim/handler.go:327 +0x49
panic: nil msg

goroutine 62 [running]:
panic(0xc4d6e0, 0xc421b86710)
	/opt/go/src/runtime/panic.go:500 +0x1a1
github.com/hyperledger/fabric/core/chaincode/shim.chatWithPeer.func1(0xc421352300, 0xc420306950, 0x13dd200, 0xc420306760, 0xc421352360, 0xc42030a930)
	/opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/shim/chaincode.go:302 +0xe61
created by github.com/hyperledger/fabric/core/chaincode/shim.chatWithPeer
	/opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/shim/chaincode.go:324 +0x500
{code}


The second panic is from the chaincode dying because peer is dying. 

The first one could be related to https://gerrit.hyperledger.org/r/#/c/8403 as that was the last change to touch core/peer code. 

[~C0rWin] can you take a look please ?;;;","03/Jun/17 6:48 PM;C0rWin;[~muralisr] sure, thing :);;;","03/Jun/17 6:59 PM;C0rWin;[~muralisr] It has nothing to do with the: 

{quote}
The first one could be related to https://gerrit.hyperledger.org/r/#/c/8403 as that was the last change to touch core/peer code. 
{quote}

according to stack traces provided, code fails before change from CR-8403 being executed. 

Based on this:

{code}
goroutine 235 [running]:
panic(0xc9cce0, 0xc420016040)
	/opt/go/src/runtime/panic.go:500 +0x1a1
github.com/hyperledger/fabric/common/config.(*ApplicationGroup).Organizations(0x0, 0xc421db5bb0)
	<autogenerated>:17 +0x5
github.com/hyperledger/fabric/core/peer.(*chainSupport).Organizations(0xc421d9dcb0, 0xdadd6c)
	<autogenerated>:25 +0x4a
github.com/hyperledger/fabric/gossip/service.(*configEventer).ProcessConfigUpdate(0xc421bdbf20, 0x13dd380, 0xc421d9dcb0)
	/opt/gopath/src/github.com/hyperledger/fabric/gossip/service/eventer.go:71 +0x16c
{code}

and {{eventer.go:71}} snippet:

{code}
	logger.Debugf(""Processing new config for channel %s"", config.ChainID())
	orgMap := cloneOrgConfig(config.Organizations())
	if ce.lastConfig != nil && reflect.DeepEqual(ce.lastConfig.orgMap, orgMap) {
		logger.Debugf(""Ignoring new config for channel %s because it contained no anchor peer updates"", config.ChainID())
		return
	}
{code}

I would suspect that {{config.Organizations()}} fails and cause to panic. Will inspect it further.;;;","05/Jun/17 10:14 PM;C0rWin;Hi [~latitiah], 

Here is the thing, you have a mistake in the way you are trying to join peer into the channel. 

{quote}
    cryptogen generate --output=. --config=./configs/crypto.yaml
    cp configtx.yaml ./ordererOrganizations/example.com/msp/config.yaml
    cp configtx.yaml ./peerOrganizations/org1.example.com/msp/config.yaml
    cp configtx.yaml ./peerOrganizations/org2.example.com/msp/config.yaml
    cp configtx.yaml ./peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp/config.yaml
    cp configtx.yaml ./peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp/config.yaml
    configtxgen -profile SampleInsecureSolo -outputBlock orderer.block -channelID behavesystest
    configtxgen -profile SysTestChannel -outputCreateChannelTx behavesystest.tx -channelID behavesystest
    docker-compose -f docker-compose-solo.yml up -d --force-recreate
    configtxgen -profile SysTestChannel -outputCreateChannelTx behavesystest-1.tx -channelID behavesystest-1
    configtxgen -profile SampleInsecureSolo -outputBlock behavesystest-1.block -channelID behavesystest-1
    docker exec peer0.org1.example.com /bin/bash -c ""CORE_PEER_MSPCONFIGPATH=/var/hyperledger/configs/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp peer channel create --file /var/hyperledger/configs/behavesystest-1.tx --chain behavesystest-1 --orderer orderer.example.com:7050""
    docker exec peer0.org1.example.com /bin/bash -c ""CORE_PEER_MSPCONFIGPATH=/var/hyperledger/configs/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp peer channel join --blockpath /var/hyperledger/configs/behavesystest-1.block --chain behavesystest-1 --orderer orderer.example.com:7050""
{quote}

in the last step

{code}
    docker exec peer0.org1.example.com /bin/bash -c ""CORE_PEER_MSPCONFIGPATH=/var/hyperledger/configs/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp peer channel join --blockpath /var/hyperledger/configs/behavesystest-1.block --chain behavesystest-1 --orderer orderer.example.com:7050""
{code}

instead of providing peer genesis block you are providing the ordering genesis block which cause peer to fail with panic and error reported. While there is no real bug here, I think it's worth to add a check and prevent peer from fail with panic, but rather return reasonable error value which indicates the problem.

*NOTE*: Additionally, while I was trying to reproduce the issue, noted that once peer fails with panic upon receiving genesis block of ordering service, restarting the peer is not helpful to heal the problem - peer keeps crashing during initialization. ;;;","12/Jun/17 7:55 AM;C0rWin;CR submitted: https://gerrit.hyperledger.org/r/#/c/10315/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Orderer genesis block defaults are broken,FAB-4328,17411,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,jyellick,jyellick,jyellick,03/Jun/17 1:11 AM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,04/Jun/17 9:22 PM,,,,v1.0.0,,fabric-orderer,,,,,,,0,configuration,,,,,,,"The configtxgen tool was originally built while testchainid was still a thing, and therefore included some defaults, in particular an application section for the genesis config even when it should not.

Additionally, the consortium config entries have a modification policy of ""Admins"" but no ""Admins"" policy to evaluate against, both of these need to be fixed.",,jyellick,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxyi7:",,,,,,,,,,,,,,,,,,,,,,,,,,,jyellick,kchristidis,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"04/Jun/17 12:41 PM;kchristidis;https://gerrit.hyperledger.org/r/#/c/10125/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Orderer panics with data-persistence and after orderer container restart ,FAB-4330,17413,,Bug,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,jyellick,rhegde,rhegde,03/Jun/17 2:25 AM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,03/Jun/17 10:35 PM,v1.0.0-alpha2,,,v1.0.0,,fabric-orderer,,,,,,,0,configuration,,,,,,,"{{We were trying the data persistence of fabric-network and found the orderer panic 2017-06-02 16:20:23.913 UTC [orderer/multichain] newLedgerResources -> CRIT 5b6 Error creating configtx manager and handlers: Bad envelope: Not a tx of type CONFIG}}

Following are the steps performed using the alpha3 release of the fabric (published by @rameshthoomu on fabric-ci channel - [https://chat.hyperledger.org/channel/fabric-ci?msg=8KeH9TZbB4aY5Y9Bb] , ({{FABRIC# -f647b6f}}))
 1. Run the fabric with data-persistence setup for peer and orderer (mounting of /var/hyperledger/production). This is using the E2E CLI however with some more organizations (5)
 2. Deploy chaincode, perform transaction. Verified - this transaction are reflected on the couch-db (and thus ledger).
 3. Restart the docker containers (orderer, peer, couchdb, ca (all)  - first time)
 4. Perform some transaction, Verified - this transaction are reflected on the couch-db.
 5. Restart the docker container - (orderer, peer, couchdb, ca (all) - second time)

 

6. Orderer panic with above error.

Can you please suggest.
{quote}{{2017-06-02 16:58:51.695 UTC [common/config] NewStandardValues -> DEBU 5b1 Initializing protos for *config.ChannelProtos}}}}
 {{2017-06-02 16:58:51.695 UTC [common/config] initializeProtosStruct -> DEBU 5b2 Processing field: HashingAlgorithm}}
 {{2017-06-02 16:58:51.695 UTC [common/config] initializeProtosStruct -> DEBU 5b3 Processing field: BlockDataHashingStructure}}
 {{2017-06-02 16:58:51.695 UTC [common/config] initializeProtosStruct -> DEBU 5b4 Processing field: OrdererAddresses}}
 {{2017-06-02 16:58:51.695 UTC [common/config] initializeProtosStruct -> DEBU 5b5 Processing field: Consortium}}
 {{2017-06-02 16:58:51.695 UTC [orderer/multichain] newLedgerResources -> CRIT 5b6 Error creating configtx manager and handlers: Bad envelope: Not a tx of type CONFIG}}
 {{panic: Error creating configtx manager and handlers: Bad envelope: Not a tx of type CONFIG}}{{goroutine 1 [running]:}}
 {{panic(0xb03100, 0xc420163800)}}
 \{\{ \{\{ /opt/go/src/runtime/panic.go:500 +0x1a1}}}}
 {{github.com/hyperledger/fabric/vendor/github.com/op/go-logging.(*Logger).Panicf(0xc420183d40, 0xc39f84, 0x30, 0xc420163640, 0x1, 0x1)}}
 \{\{ \{\{ /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/op/go-logging/logger.go:194 +0x127}}}}
 {{github.com/hyperledger/fabric/orderer/multichain.(*multiLedger).newLedgerResources(0xc42025e0f0, 0xc420cd4960, 0xc420cd4960)}}
 \{\{ \{\{ /opt/gopath/src/github.com/hyperledger/fabric/orderer/multichain/manager.go:159 +0x393}}}}
 {{github.com/hyperledger/fabric/orderer/multichain.NewManagerImpl(0x11af3c0, 0xc42032e1e0, 0xc42026c840, 0x11acbc0, 0x11f3900, 0x0, 0x0)}}
 \{\{ \{\{ /opt/gopath/src/github.com/hyperledger/fabric/orderer/multichain/manager.go:109 +0x23b}}}}
 {{main.initializeMultiChainManager(0xc4201dbd40, 0x11acbc0, 0x11f3900, 0xc420206701, 0xc420206780)}}
 \{\{ \{\{ /opt/gopath/src/github.com/hyperledger/fabric/orderer/main.go:199 +0x5c4}}}}
 {{main.main()}}
 \{\{ \{\{ /opt/gopath/src/github.com/hyperledger/fabric/orderer/main.go:59 +0xb2}}
{quote}",,jyellick,rhegde,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxyin:",,,,,,,,,,,,,,,,,,,,,,,,,,,jyellick,rhegde,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"03/Jun/17 3:11 AM;weeds;in step 2- this as in the e2e scenario- against new channel? Yes this is almost following e2e cli pattern, but we have more channels and more organizations. ;;;","03/Jun/17 3:15 AM;rhegde;Some time back Kostas had suggested - [https://chat.hyperledger.org/channel/fabric-consensus?msg=NKR286YryrpKvcPqK]

This is tried too with same result.;;;","03/Jun/17 2:08 PM;jyellick;Was able to reproduce this locally.  Please find the fix at: https://gerrit.hyperledger.org/r/#/c/10109/;;;","19/Jun/17 8:28 PM;rhegde;We tried the same procedure on the fabric-beta-release and are not able to reproduce this issue. Thanks [~jyellick]. ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Branding issues in http://hyperledger-fabric.readthedocs.io/en/latest/blockchain.html,FAB-4331,17415,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,tkuhrt,tkuhrt,tkuhrt,03/Jun/17 3:53 AM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,06/Jun/17 9:45 PM,,,,,,fabric-docs,,,,,,,0,Documentation,help-wanted,v1.0,,,,,"Hyperledger is no longer known as ""The Hyperledger Project"".  Just Hyperledger.

Excerpt from blockchain.html:

 
{noformat}
The Linux Foundation founded the Hyperledger Project in 2015 to advance cross-industry blockchain technologies. Rather than declaring a single blockchain standard, it encourages a collaborative approach to developing blockchain technologies via a community process, with intellectual property rights that encourage open development and the adoption of key standards over time.{noformat}
 

Need to switch this to 

 
{noformat}
The Linux Foundation founded Hyperledger in 2015 to advance cross-industry blockchain technologies. Rather than declaring a single blockchain standard, it encourages a collaborative approach to developing blockchain technologies via a community process, with intellectual property rights that encourage open development and the adoption of key standards over time.
{noformat}
 

 

 

 

 ",,nickgaski,tkuhrt,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxyiv:",,,,,,,,,,,,,,,,,,,,,,,,,,,nickgaski,tkuhrt,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"06/Jun/17 2:55 AM;nickgaski;[~tkuhrt] - want to grab this one?  Seems like a pretty easy fix;;;","06/Jun/17 5:34 AM;tkuhrt;https://gerrit.hyperledger.org/r/#/c/10187/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Improve PTE to send transactions to any peer in any organization.,FAB-4332,17416,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wsh_bob,holocron,holocron,03/Jun/17 5:42 AM,21/Jul/18 3:57 AM,28/Oct/23 2:59 AM,03/Aug/17 11:08 PM,v1.0.0,,,v1.0.0,,fabric-quality,fabric-tools,,,,,,0,PTE,quality,,,,,,"Currently PTE can only send transactions to the anchor peer of an organization.

It should be able to send transactions to any peer in any organization.

 ",,dongming,holocron,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-2247,,,,,,,,,,"1|hzxyj3:",,,,Unset,,Sprint 19 - Quality,,,,,,,,,,Unset,,,,,,,,,,,dongming,holocron,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"10/Jun/17 12:11 AM;dongming;Shu Han,  You may have verified that this works.  If so, then the next step will be to explore an option to send transactions to the the peers in the org specified by the user.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Improve PTE to detect peer and orderer outage and recovery, load balance accordingly.",FAB-4333,17417,,Story,Closed,FAB,Fabric,software,denyeart,,,High,Done,dongming,holocron,holocron,03/Jun/17 5:46 AM,21/Jul/18 3:54 AM,28/Oct/23 2:59 AM,12/Oct/17 3:01 AM,v1.0.0,,,v1.0.0,,fabric-quality,fabric-tools,,,,,,0,PTE,quality,,,,,,"PTE should be able to detect when a peer or orderer it is transacting with becomes unreachable, and if configured, send transactions to other configured peers/orderers.

When the lost fabric node becomes available again, PTE should detect this and resume transacting with it.",,dongming,holocron,tanyana,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-2247,,,,,,,,,,"1|hzxyjb:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,dongming,holocron,tanyana,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,,,,,,,true,"10/Oct/17 11:48 PM;dongming;Add two keys to the user input json:

peerFailover: peer failover. When this parameter is set to `TRUE`, the transaction will be sent the next peer in the peer list if fails to deliver to the targeted peer.  The list consists of all peers in the configuration json.


ordererFailover: orderer failover. When this parameter is set to `TRUE`, the transaction will be sent the next orderer in the orderer list if fails to deliver to the targeted orderer.  The list consists of all orderers in the configuration json.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Incorporate kafka and zookeeper based behave tests in CI,FAB-4334,17418,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jeffgarratt,rameshthoomu,rameshthoomu,03/Jun/17 5:50 AM,24/Apr/19 11:49 PM,28/Oct/23 2:59 AM,24/Apr/19 11:49 PM,v1.0.0-alpha2,,,v1.0.0,,fabric-build,fabric-quality,,,,,,0,quality,,,,,,,incorporate kafka and zookeeper based behave tests in CI.. Existing tests are disabled https://github.com/hyperledger/fabric/blob/master/bddtests/features/bootstrap.feature#L345.. ,,jeffgarratt,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzxyjj:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,jeffgarratt,rameshthoomu,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"08/Aug/17 11:01 PM;jeffgarratt;This functionality is available as long as all of the docker images are built (i.e. kafka, zookeeper, etc.).  You simply need to uncomment the example lines for those configs at the bottom of the bootstrap.feature file.;;;","24/Aug/17 12:19 PM;jeffgarratt;[~rameshthoomu]

I +1d the CR, but I would be very cautious with this, as it will greatly increase the amount of time it takes for the behave tests to complete.  Perhaps we should only consider this option for a more infrequently run CI process?;;;","24/Apr/19 11:49 PM;rameshthoomu;These tests are now moved fabric-test repository. Also, the repo has these tests. Closing this now.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove redundant checks on orderer/mock/util functions,FAB-4335,17421,16261,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Low,Done,kchristidis,kchristidis,kchristidis,03/Jun/17 7:58 AM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,04/Jun/17 2:19 AM,v1.0.0-alpha2,,,v1.0.0,,fabric-orderer,,,,,,,0,,,,,,,,External unit tests that call `GenerateMockPublicPrivateKeyPairPEM` shouldn't have to check for the error returned by this function. This should be checked once by the `TestGenerateMockPublicPrivateKeyPairPEM` test.,,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxyjz:",,,,,,,,,,,,,,,,,,,,,,,,,,,kchristidis,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"03/Jun/17 8:58 AM;kchristidis;https://gerrit.hyperledger.org/r/#/c/10103/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Switch partitioner tests to the assert package,FAB-4336,17422,16261,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Low,Done,kchristidis,kchristidis,kchristidis,03/Jun/17 8:01 AM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,04/Jun/17 2:25 AM,v1.0.0-alpha2,,,v1.0.0,,fabric-orderer,,,,,,,0,kafka,,,,,,,,,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxyk7:",,,,,,,,,,,,,,,,,,,,,,,,,,,kchristidis,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"03/Jun/17 8:57 AM;kchristidis;https://gerrit.hyperledger.org/r/#/c/10105/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Incorrect proto style for batchsize orderer config message,FAB-4337,17423,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,03/Jun/17 2:36 PM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,03/Jun/17 10:31 PM,,,,v1.0.0,,fabric-orderer,,,,,,,0,configuration,,,,,,,"All of the fabric protos were converted to official proto style, but this one particular message seems to have slipped through the cracks.

{noformat}
message BatchSize {
    // Simply specified as number of messages for now, in the future
    // we may want to allow this to be specified by size in bytes
    uint32 maxMessageCount = 1;
    // The byte count of the serialized messages in a batch cannot
    // exceed this value.
    uint32 absoluteMaxBytes = 2;
    // The byte count of the serialized messages in a batch should not
    // exceed this value.
    uint32 preferredMaxBytes = 3;
}
{noformat}

",,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxykf:",,,,,,,,,,,,,,,,,,,,,,,,,,,jyellick,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"03/Jun/17 2:51 PM;jyellick;This should really be very minimally invasive, and I think it should go in for v1.

It does not break the go API, or the proto ABI.  So existing clients will continue to function.

The only thing it breaks, is those working with reconfiguration based on the config field names, and since this only became possible a few days ago, now seems like the time to do this.;;;","03/Jun/17 2:51 PM;jyellick;Fix available via: https://gerrit.hyperledger.org/r/#/c/10111/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove TravisCI_Readme.md,FAB-4340,17426,,Story,Closed,FAB,Fabric,software,denyeart,,,Low,Done,kchristidis,kchristidis,kchristidis,03/Jun/17 10:50 PM,21/Jul/18 3:55 AM,28/Oct/23 2:59 AM,04/Jun/17 8:05 AM,v1.0.0-alpha2,,,v1.0.0,,,,,,,,,0,,,,,,,,"I don't understand the reason for this file's existence. Isn't a link to [https://docs.travis-ci.com/user/getting-started/] somewhere in our Wiki enough?

The text on the file — if the file were to survive for some reason — needs serious revising as well. Formatting, capitalization, and punctuation are all over the place. There are also references to ""openchain"" and the project is referred to as ""hyperledger"".",,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzxykv:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,kchristidis,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"03/Jun/17 10:56 PM;kchristidis;https://gerrit.hyperledger.org/r/#/c/10115/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Unable to instantiate chaincode using peer and orderer native binaries,FAB-4341,17427,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,muralisr,Ratnakar,Ratnakar,04/Jun/17 4:17 AM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,04/Jun/17 11:57 PM,v1.0.0-alpha2,,,v1.0.0,,fabric-peer,,,,,,,0,quality,,,,,,,"Commit Level : *0fccb28f1f79e65a8e902e6fef74ca73d222720a*

Steps to reproduce the issue:

*Terminal 1* : start orderer
{code:java}
orderer{code}
*Terminal 2* : start peer
{code:java}
peer node start -o 127.0.0.1:7050{code}
*Terminal 3*: Install and instantiate chaincode

 
{code:java}
peer chaincode install -n mycc -v 1 -p github.com/hyperledger/fabric/examples/chaincode/go/chaincode_example02
peer chaincode instantiate -o 127.0.0.1:7050 -n mycc -v 1 -c '{""Args"":[""init"", ""a"", ""100"",""b"", ""200""]}'
{code}
 

 

Instantiation fails with the following error:

 
{code:java}
Error: Error endorsing chaincode: rpc error: code = Unknown desc = Failed to deserialize creator identity, err MSP DEFAULT is unknown{code}
 
----
 
{code:java}
peer chaincode instantiate -o 127.0.0.1:7050 -n mycc -v 1 -c '{""Args"":[""init"", ""a"", ""100"",""b"", ""200""]}'
 2017-06-03 18:54:46.719 UTC [msp] getMspConfig -> INFO 001 intermediate certs folder not found at [/opt/gopath/src/github.com/hyperledger/fabric/sampleconfig/msp/intermediatecerts]. Skipping.: [stat /opt/gopath/src/github.com/hyperledger/fabric/sampleconfig/msp/intermediatecerts: no such file or directory]
 2017-06-03 18:54:46.719 UTC [msp] getMspConfig -> INFO 002 crls folder not found at [/opt/gopath/src/github.com/hyperledger/fabric/sampleconfig/msp/intermediatecerts]. Skipping.: [stat /opt/gopath/src/github.com/hyperledger/fabric/sampleconfig/msp/crls: no such file or directory]
 2017-06-03 18:54:46.746 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 003 Using default escc
 2017-06-03 18:54:46.747 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 004 Using default vscc
 Error: Error endorsing chaincode: rpc error: code = Unknown desc = Failed to deserialize creator identity, err MSP DEFAULT is unknown
 Usage:
 peer chaincode instantiate [flags]
Global Flags:
 --cafile string Path to file containing PEM-encoded trusted certificate(s) for the ordering endpoint
 -C, --chainID string The chain on which this command should be executed (default ""testchainid"")
 -c, --ctor string Constructor message for the chaincode in JSON format (default ""{}"")
 -E, --escc string The name of the endorsement system chaincode to be used for this chaincode
 -l, --lang string Language the chaincode is written in (default ""golang"")
 --logging-level string Default logging level and overrides, see core.yaml for full syntax
 -n, --name string Name of the chaincode
 -o, --orderer string Ordering service endpoint
 -p, --path string Path to chaincode
 -P, --policy string The endorsement policy associated to this chaincode
 --test.coverprofile string Done (default ""coverage.cov"")
 -t, --tid string Name of a custom ID generation algorithm (hashing and decoding) e.g. sha256base64
 --tls Use TLS when communicating with the orderer endpoint
 -u, --username string Username for chaincode operations when security is enabled
 -v, --version string Version of the chaincode specified in install/instantiate/upgrade commands
 -V, --vscc string The name of the verification system chaincode to be used for this chaincode
{code}
 ",,bmos299,harrijk,muralisr,Ratnakar,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxyl3:",,,,,,,,,,,,,,,,,,,,,,,,,,,bmos299,harrijk,muralisr,Ratnakar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"04/Jun/17 7:02 AM;harrijk;I've been able to install and instantiate chaincode when running native binaries by first setting up environments variables for both the orderer and peer.

Sample env files that I used for my testing:

{code:java}

Orderer:
#Natively start the HLF Orderer
export ORDERER_GENERAL_LOGLEVEL=debug
export ORDERER_GENERAL_LISTENADDRESS=0.0.0.0
export ORDERER_GENERAL_GENESISMETHOD=file
export ORDERER_GENERAL_GENESISFILE=/root/native-hlf/channel-artifacts/genesis.block
export ORDERER_GENERAL_LOCALMSPID=OrdererMSP
export ORDERER_GENERAL_LOCALMSPDIR=/root/native-hlf/crypto-config/ordererOrganizations/example.com/orderers/orderer.example.com/msp
# TLS options
export ORDERER_GENERAL_TLS_ENABLED=false
#export ORDERER_GENERAL_TLS_PRIVATEKEY=/var/hyperledger/orderer/tls/server.key
#export ORDERER_GENERAL_TLS_CERTIFICATE=/var/hyperledger/orderer/tls/server.crt
#export ORDERER_GENERAL_TLS_ROOTCAS=[/var/hyperledger/orderer/tls/ca.crt]

export ORDERER_FILELEDGER_LOCATION=/root/native-hlf/orderer/ledger


Peer:
# Start HLF Peer

#CORE_VM_DOCKER_HOSTCONFIG_NETWORKMODE=e2ecli_default
#export CORE_LOGGING_LEVEL=ERROR
export CORE_LOGGING_LEVEL=DEBUG
export CORE_PEER_TLS_ENABLED=false
export CORE_PEER_ENDORSER_ENABLED=true
export CORE_PEER_GOSSIP_USELEADERELECTION=false
export CORE_PEER_GOSSIP_ORGLEADER=true

# The following setting skips the gossip handshake since we are
# are not doing mutual TLS
#export CORE_PEER_GOSSIP_SKIPHANDSHAKE=true

#TLS options
#export CORE_PEER_TLS_CERT_FILE=/etc/hyperledger/fabric/tls/server.crt
#export CORE_PEER_TLS_KEY_FILE=/etc/hyperledger/fabric/tls/server.key
#export CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/fabric/tls/ca.crt

export CORE_PEER_PROFILE_ENABLED=true
export CORE_PEER_ID=peer0.org1.example.com
export CORE_PEER_ADDRESS=peer0.org1.example.com:7051
#export CORE_PEER_GOSSIP_EXTERNALENDPOINT=peer0.org1.example.com:7051
export CORE_PEER_LOCALMSPID=Org1MSP
export CORE_PEER_MSPCONFIGPATH=/root/native-hlf/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/msp
export CORE_PEER_FILESYSTEMPATH=/root/native-hlf/peer/ledger
{code}

I had setup my own crypto and channel artifacts prior to launching the orderer and peer natively.

Perhaps your goal is to have a working peer and orderer and instantiate chaincode using the default settings.;;;","04/Jun/17 8:20 AM;Ratnakar;[~harrijk] Yes goal is to use the default settings (fabric/sampleconfig and channel '*_testchainid_*').

For instance, chaincode developers might wanted to verify chaincode functionality using the default settings from CLI without generating the crypto and channel artifacts.;;;","04/Jun/17 9:34 PM;muralisr;[~Ratnakar] ""testchainid"" has been removed as of https://jira.hyperledger.org/browse/FAB-3358.  The only way to use the fabric is by creating a channel and joining it.;;;","04/Jun/17 11:54 PM;Ratnakar;Closing the issue as default channel *_testchainid_* has been removed from fabric.;;;","05/Jun/17 7:13 AM;bmos299;Hi [~muralisr], I thought you liked the test *_testchainid_* for the developer running the peer in dev mode?  I like the idea of the pure developer having some easy way to simply run the chaincode.  What do you think?;;;","05/Jun/17 8:47 AM;muralisr;[~bmos299] That's the positive. The negatives kinda outweighed (sigh)
* testchainid would have be somehow disabled in prod. We don't want that channel around in the peer in prod
* channels being such a central concept it could be argued it needs to be forefront in dev /test too

In the end its just another simple thing that developer needs to get used to. Note that docs/source/peer-chaincode-devmode.rst does not use testchainid but has instructions for create/join channels (two of them in fact !)

;;;","05/Jun/17 8:57 AM;bmos299;Ok.  Thanks [~muralisr]. I know we are swamped...but in the future, I think having a pure chaincode dev environment (IDE) is a positive.  Even using a built-in solo orderer so all they have to do is write chaincode.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Unable to create channel with default settings,FAB-4342,17428,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,Ratnakar,Ratnakar,04/Jun/17 8:54 AM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,05/Jun/17 6:32 AM,,,,v1.0.0,,fabric-orderer,,,,,,,0,,,,,,,,"Commit level : *0fccb28f1f79e65a8e902e6fef74ca73d222720a*

Unable to create and join the channel using the default settings (default orderer.yaml and crypto material from *fabric/sampleconfig*)

Followed the instructions provided here [http://hyperledger-fabric.readthedocs.io/en/latest/peer-chaincode-devmode.html]

 

Could create the channel configuration transactions (_ch1.tx and ch2.tx_ ) using *configtxgen* tool, however channel creation command fails with error mesaage _*Error: Got unexpected status: BAD_REQUEST*_ 
{code:java}
peer channel create -o 127.0.0.1:7050 -c ch1 -f ch1.tx
2017-06-03 23:22:34.968 UTC [msp] getMspConfig -> INFO 001 intermediate certs folder not found at [/opt/gopath/src/github.com/hyperledger/fabric/sampleconfig/msp/intermediatecerts]. Skipping.: [stat /opt/gopath/src/github.com/hyperledger/fabric/sampleconfig/msp/intermediatecerts: no such file or directory]
2017-06-03 23:22:34.968 UTC [msp] getMspConfig -> INFO 002 crls folder not found at [/opt/gopath/src/github.com/hyperledger/fabric/sampleconfig/msp/intermediatecerts]. Skipping.: [stat /opt/gopath/src/github.com/hyperledger/fabric/sampleconfig/msp/crls: no such file or directory]
Error: Got unexpected status: BAD_REQUEST
Usage:
 peer channel create [flags]
Global Flags:
 -b, --blockpath string Path to file containing genesis block
 --cafile string Path to file containing PEM-encoded trusted certificate(s) for the ordering endpoint
 -c, --chain string In case of a newChain command, the chain ID to create.
 -f, --file string Configuration transaction file generated by a tool such as configtxgen for submitting to orderer
 --logging-level string Default logging level and overrides, see core.yaml for full syntax
 -o, --orderer string Ordering service endpoint
 --test.coverprofile string Done (default ""coverage.cov"")
 -t, --timeout int Channel creation timeout (default 5)
 --tls Use TLS when communicating with the orderer endpoint
 -v, --version Display current version of fabric peer server
{code}
 

orderer logs indicates that a member is not incliuded in the cosortium:

*Rejecting CONFIG_UPDATE because: Attempted to include a member which is not in the consortium*

Orderer logs
{code:java}
2017-06-03 23:09:45.666 UTC [msp] getMspConfig -> INFO 001 intermediate certs folder not found at [/opt/gopath/src/github.com/hyperledger/fabric/sampleconfig/msp/intermediatecerts]. Skipping.: [stat /opt/gopath/src/github.com/hyperledger/fabric/sampleconfig/msp/intermediatecerts: no such file or directory]
2017-06-03 23:09:45.667 UTC [msp] getMspConfig -> INFO 002 crls folder not found at [/opt/gopath/src/github.com/hyperledger/fabric/sampleconfig/msp/intermediatecerts]. Skipping.: [stat /opt/gopath/src/github.com/hyperledger/fabric/sampleconfig/msp/crls: no such file or directory]
2017-06-03 23:09:45.716 UTC [orderer/multichain] NewManagerImpl -> INFO 003 Starting with system channel testchainid and orderer type solo
2017-06-03 23:09:45.716 UTC [orderer/main] NewServer -> INFO 004 Starting orderer
2017-06-03 23:09:45.716 UTC [orderer/main] main -> INFO 005 Beginning to serve requests
2017-06-03 23:22:35.001 UTC [orderer/common/broadcast] Handle -> WARN 006 Rejecting CONFIG_UPDATE because: Attempted to include a member which is not in the consortium
2017-06-03 23:22:35.005 UTC [orderer/common/deliver] Handle -> WARN 007 Error reading from stream: rpc error: code = Canceled desc = context canceled{code}",,jyellick,Ratnakar,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxylb:",,,,,,,,,,,,,,,,,,,,,,,,,,,jyellick,Ratnakar,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"04/Jun/17 3:18 PM;jyellick;A fix for this is in: https://gerrit.hyperledger.org/r/#/c/10129/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
newkeyperinvoke chaincode installation fails on cli container,FAB-4344,17430,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,muralisr,Ratnakar,Ratnakar,04/Jun/17 2:26 PM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,05/Jun/17 4:11 AM,,,,v1.0.0,,fabric-peer,,,,,,,0,chaincode,,,,,,,"Commit Level: *9ca37eefd86cfb3ac83c61fcfc278800f9dcbf65*


Installing the chaincode 'newkeyperinvoke' (from ccchecker sample) from cli container fails with the following error:


*Error: Error getting chaincode code chaincode: Error getting chaincode package bytes: Error obtaining imports: go list: failed with error: ""exec: not started""*


Steps to reproduce the error:

1. Clone the repo
{panel}
git clone https://github.com/asararatnakar/chaincodechecker
 cd chaincodechecker
{panel}
2. start the network
{panel}
./network_setup.sh restart mychannel 1
{panel}
this will start the network with the following configuration
 3 Kakfa (with 3 zookeeper)
 3 Orderering services
 2 Orgs (with 2 peers in each Org)
 A CLI container to run the ccchecker tool.

Once the network is up following ations will be performed (script.sh)
 * Installs dependent libs on cli container to run ccchecker tool
 * Create and Joins all the peers on to the channel mychannel
 * Install & Instantiate chaincode
 * Start the ccchecker tool based on the ccchecker.json and env.json configurations.

However Install step fails with the following error

 
{code:java}
Installing chaincode on all peers...
CORE_PEER_TLS_ROOTCERT_FILE=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/ca.crt
CORE_PEER_TLS_KEY_FILE=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.key
CORE_PEER_LOCALMSPID=Org1MSP
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
CORE_PEER_TLS_CERT_FILE=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.crt
CORE_PEER_TLS_ENABLED=false
CORE_PEER_MSPCONFIGPATH=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp
CORE_PEER_ID=cli
CORE_LOGGING_LEVEL=DEBUG
CORE_PEER_ADDRESS=peer0.org1.example.com:7051
2017-06-04 04:28:20.045 UTC [msp] getMspConfig -> INFO 001 intermediate certs folder not found at [/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp/intermediatecerts]. Skipping.: [stat /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp/intermediatecerts: no such file or directory]
2017-06-04 04:28:20.045 UTC [msp] getMspConfig -> INFO 002 crls folder not found at [/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp/intermediatecerts]. Skipping.: [stat /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp/crls: no such file or directory]
2017-06-04 04:28:20.046 UTC [msp] getMspConfig -> INFO 003 MSP configuration file not found at [/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp/config.yaml]: [stat /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp/config.yaml: no such file or directory]
2017-06-04 04:28:20.072 UTC [msp] GetLocalMSP -> DEBU 004 Returning existing local MSP
2017-06-04 04:28:20.072 UTC [msp] GetDefaultSigningIdentity -> DEBU 005 Obtaining default signing identity
2017-06-04 04:28:20.072 UTC [golang-platform] getCodeFromFS -> DEBU 006 getCodeFromFS github.com/hyperledger/fabric/examples/ccchecker/chaincodes/newkeyperinvoke
Error: Error getting chaincode code chaincode: Error getting chaincode package bytes: Error obtaining imports: go list: failed with error: ""exec: not started""
Usage:
 peer chaincode install [flags]
Global Flags:
 --cafile string Path to file containing PEM-encoded trusted certificate(s) for the ordering endpoint
 -C, --chainID string The chain on which this command should be executed (default ""testchainid"")
 -c, --ctor string Constructor message for the chaincode in JSON format (default ""{}"")
 -E, --escc string The name of the endorsement system chaincode to be used for this chaincode
 -l, --lang string Language the chaincode is written in (default ""golang"")
 --logging-level string Default logging level and overrides, see core.yaml for full syntax
 -n, --name string Name of the chaincode
 -o, --orderer string Ordering service endpoint
 -p, --path string Path to chaincode
 -P, --policy string The endorsement policy associated to this chaincode
 --test.coverprofile string Done (default ""coverage.cov"")
 -t, --tid string Name of a custom ID generation algorithm (hashing and decoding) e.g. sha256base64
 --tls Use TLS when communicating with the orderer endpoint
 -u, --username string Username for chaincode operations when security is enabled
 -v, --version string Version of the chaincode specified in install/instantiate/upgrade commands
 -V, --vscc string The name of the verification system chaincode to be used for this chaincode
!!!!!!!!!!!!!!! Chaincode================== ERROR !!! FAILED to execute End-2-End Scenario ==================
{code}
 

*NOTE*: This has been tested and working on the commit level ""*a01b2f93081c68def7fa960acbb0c3ff60ce1c79*"" where as fails on latest commit level",,muralisr,Ratnakar,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxylj:",,,,,,,,,,,,,,,,,,,,,,,,,,,muralisr,Ratnakar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"04/Jun/17 10:36 PM;muralisr;[~Ratnakar] worked for me on a clean build with latest master

configtxgen -channelID myc -profile SampleSingleMSPChannel -outputCreateChannelTx myc.tx

orderer #running ""GenesisProfile: SampleSingleMSPSolo""

peer channel create -c myc -f myc.tx -o 127.0.0.1:7050

peer channel join -c myc -b myc.block

CORE_LOGGING_LEVEL=debug peer node start -o 127.0.0.1:7050

peer chaincode install -n mycc -v 0 -p github.com/hyperledger/fabric/examples/ccchecker/chaincodes/newkeyperinvoke

peer channel create -c myc -f myc.tx -o 127.0.0.1:7050

peer channel join -c myc -b myc.block

peer chaincode instantiate -n mycc -v 0 -c '\{""Args"":[""""]}' -C myc -o 127.0.0.1:7050

docker ps
 CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES
 dd4ebc7826b9 dev-jdoe-mycc-0 ""chaincode -peer.a..."" 13 seconds ago Up 12 seconds dev-jdoe-mycc-0;;;","04/Jun/17 11:42 PM;Ratnakar;[~muralisr], Yes Murali install works for me when used e2e_cli sample script, However not sure why this is not working when kafka configuration is used (sounds irrelevant though).
Could you please give a try with the steps mentioned in the JIRA to reproduce the issue on your side.

As of now I am blocked since I am not able to create the channel with default settings and raised another Issue for the same https://gerrit.hyperledger.org/r/#/c/10129/;;;","05/Jun/17 12:44 AM;muralisr;[~Ratnakar] per our chat, can you make sure you are using the right orderer profile and let me know if you still see the issue please ?;;;","05/Jun/17 2:48 AM;muralisr;[~Ratnakar] Try the following change in docker-compose.yaml (btw, the compose in e2e_cli was modified for this...)
{code:java}
cli:
 container_name: cli
 #image: hyperledger/fabric-peer
 image: hyperledger/fabric-tools
 tty: true
 environment:{code}

With that change, worked for me.;;;","05/Jun/17 4:11 AM;Ratnakar;Thanks [~muralisr].

It worked once image changed from *fabric-peer* to *fabric-tools*

Closing the issue;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
non leader peers failed to get the blocks when not using USELEADERELECTION configuration,FAB-4345,17431,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,yacovm,Ratnakar,Ratnakar,04/Jun/17 5:16 PM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,07/Jun/17 3:56 AM,v1.0.0,,,Not a Bug,,fabric-gossip,,,,,,,0,gossip_component,,,,,,,"Commit Level : *2292080faecfca01e7d359ce681a7869e07232b4*

When Gossip leader election flag is disabled in e2e_cli example , non leader peers failed to get the blocks on the channel.

Following are the configuration changes:
 - Enabled ORG Leader flag (*CORE_PEER_GOSSIP_USELEADERELECTION*) for anchor peers on each org
 - Disabled both Leader election (*CORE_PEER_GOSSIP_USELEADERELECTION*) & Org Leader (*CORE_PEER_GOSSIP_ORGLEADER*) flags for non-anchor peers on each org

 * _base/peer-base.yaml_
 {color:#d04437}#- CORE_PEER_GOSSIP_USELEADERELECTION=true{color}
 {color:#d04437} #- CORE_PEER_GOSSIP_ORGLEADER=false{color}

 * _base/docker-compose-base.yaml_

diff --git a/examples/e2e_cli/base/docker-compose-base.yaml b/examples/e2e_cli/base/docker-compose-base.yaml
 index 7a97e71..b9a17ad 100644
 — a/examples/e2e_cli/base/docker-compose-base.yaml
 +++ b/examples/e2e_cli/base/docker-compose-base.yaml
 @@ -41,6 +41,8 @@ services:
 - CORE_PEER_ADDRESS=peer0.org1.example.com:7051
 - CORE_PEER_GOSSIP_EXTERNALENDPOINT=peer0.org1.example.com:7051
 - CORE_PEER_LOCALMSPID=Org1MSP
 {color:#14892c}+ - CORE_PEER_GOSSIP_USELEADERELECTION=false{color}
 {color:#14892c}+ - CORE_PEER_GOSSIP_ORGLEADER=true{color}
 volumes:
 - /var/run/:/host/var/run/
 - ../crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/msp:/etc/hyperledger/fabric/msp
 @@ -60,6 +62,8 @@ services:
 - CORE_PEER_GOSSIP_EXTERNALENDPOINT=peer1.org1.example.com:7051
 - CORE_PEER_GOSSIP_BOOTSTRAP=peer0.org1.example.com:7051
 - CORE_PEER_LOCALMSPID=Org1MSP
 {color:#14892c}+ - CORE_PEER_GOSSIP_USELEADERELECTION=false{color}
 {color:#14892c}+ - CORE_PEER_GOSSIP_ORGLEADER=false{color}
 volumes:
 - /var/run/:/host/var/run/
 - ../crypto-config/peerOrganizations/org1.example.com/peers/peer1.org1.example.com/msp:/etc/hyperledger/fabric/msp
 @@ -80,6 +84,8 @@ services:
 - CORE_PEER_GOSSIP_EXTERNALENDPOINT=peer0.org2.example.com:7051
 - CORE_PEER_GOSSIP_BOOTSTRAP=peer0.org2.example.com:7051
 - CORE_PEER_LOCALMSPID=Org2MSP
 {color:#14892c}+ - CORE_PEER_GOSSIP_USELEADERELECTION=false{color}
 {color:#14892c}+ - CORE_PEER_GOSSIP_ORGLEADER=true{color}
 volumes:
 - /var/run/:/host/var/run/
 - ../crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/msp:/etc/hyperledger/fabric/msp
 @@ -99,6 +105,8 @@ services:
 - CORE_PEER_GOSSIP_EXTERNALENDPOINT=peer1.org2.example.com:7051
 - CORE_PEER_GOSSIP_BOOTSTRAP=peer1.org2.example.com:7051
 - CORE_PEER_LOCALMSPID=Org2MSP
 {color:#14892c}+ - CORE_PEER_GOSSIP_USELEADERELECTION=false{color}
 {color:#14892c}+ - CORE_PEER_GOSSIP_ORGLEADER=false{color}
 volumes:
 - /var/run/:/host/var/run/
 - ../crypto-config/peerOrganizations/org2.example.com/peers/peer1.org2.example.com/msp:/etc/hyperledger/fabric/msp

*NOTE*: _attached the modified files._

While querying on non-leader/non-anchor peer (peer1.org2.example.com), below error is seen

 
{code:java}
2017-06-04 07:59:50.183 UTC [msp] getMspConfig -> INFO 001 intermediate certs folder not found at [/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp/intermediatecerts]. Skipping.: [stat /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp/intermediatecerts: no such file or directory]
2017-06-04 07:59:50.183 UTC [msp] getMspConfig -> INFO 002 crls folder not found at [/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp/intermediatecerts]. Skipping.: [stat /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp/crls: no such file or directory]
2017-06-04 07:59:50.183 UTC [msp] getMspConfig -> INFO 003 MSP configuration file not found at [/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp/config.yaml]: [stat /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp/config.yaml: no such file or directory]
2017-06-04 07:59:50.219 UTC [msp] GetLocalMSP -> DEBU 004 Returning existing local MSP
2017-06-04 07:59:50.219 UTC [msp] GetDefaultSigningIdentity -> DEBU 005 Obtaining default signing identity
2017-06-04 07:59:50.219 UTC [msp/identity] Sign -> DEBU 006 Sign: plaintext: 0AAC070A6608031A0B08F6FBCEC90510...6D7963631A0A0A0571756572790A0161 
2017-06-04 07:59:50.220 UTC [msp/identity] Sign -> DEBU 007 Sign: digest: 83F3439169B22ABD8FE80490DC82632023FE4178ABACFBC3F56C372DD3D1FFF4 
Error: Error endorsing query: rpc error: code = Unknown desc = failed to obtain cds for mycc - could not find chaincode with name 'mycc'
Usage:
 peer chaincode query [flags]
Flags:
 -x, --hex If true, output the query value byte array in hexadecimal. Incompatible with --raw
 -r, --raw If true, output the query value as raw bytes, otherwise format as a printable string
Global Flags:
 --cafile string Path to file containing PEM-encoded trusted certificate(s) for the ordering endpoint
 -C, --chainID string The chain on which this command should be executed (default ""testchainid"")
 -c, --ctor string Constructor message for the chaincode in JSON format (default ""{}"")
 -E, --escc string The name of the endorsement system chaincode to be used for this chaincode
 -l, --lang string Language the chaincode is written in (default ""golang"")
 --logging-level string Default logging level and overrides, see core.yaml for full syntax
 -n, --name string Name of the chaincode
 -o, --orderer string Ordering service endpoint
 -p, --path string Path to chaincode
 -P, --policy string The endorsement policy associated to this chaincode
 --test.coverprofile string Done (default ""coverage.cov"")
 -t, --tid string Name of a custom ID generation algorithm (hashing and decoding) e.g. sha256base64
 --tls Use TLS when communicating with the orderer endpoint
 -u, --username string Username for chaincode operations when security is enabled
 -v, --version string Version of the chaincode specified in install/instantiate/upgrade commands
 -V, --vscc string The name of the verification system chaincode to be used for this chaincode
!!!!!!!!!!!!!!! Query result on PEER3 is INVALID !!!!!!!!!!!!!!!!
================== ERROR !!! FAILED to execute End-2-End Scenario ==================
{code}
 ",,AdnanChoudhury,mastersingh24,Ratnakar,yacovm,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"04/Jun/17 5:16 PM;Ratnakar;docker-compose-base.yaml;https://jira.hyperledger.org/secure/attachment/10916/docker-compose-base.yaml","04/Jun/17 5:16 PM;Ratnakar;peer-base.yaml;https://jira.hyperledger.org/secure/attachment/10917/peer-base.yaml",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxylr:",,,,,,,,,,,,,,,,,,,,,,,,,,,AdnanChoudhury,mastersingh24,Ratnakar,yacovm,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"07/Jun/17 1:31 AM;mastersingh24;I think you are confusing the settings here.  What exactly are you trying to prove / test here?

Maybe the bug is that you should not be able to set both orgleader and useleadelection to false? [~yacovm] ?;;;","07/Jun/17 2:23 AM;Ratnakar;[~mastersingh24] , Sorry for the confusion with the description

 

 we try to set the anchor peers as ORG LEADER and disable both orgleader and useleadelection (set to false) on non-anchor peers

 ;;;","07/Jun/17 3:51 AM;yacovm;{quote}  
peer1.org1.example.com:
      - CORE_PEER_GOSSIP_BOOTSTRAP=peer0.org1.example.com:7051

  peer1.org2.example.com:
      - CORE_PEER_GOSSIP_BOOTSTRAP=peer1.org2.example.com:7051
{quote}

The bootstrap peer of peer1.org2 is itself, instead of peer0.org2
What happens in the e2e is as follows:
{quote}
## Create channel
echo ""Creating channel...""
createChannel

## Join all the peers to the channel
echo ""Having all peers join the channel...""
joinChannel

## Set the anchor peers for each org in the channel
echo ""Updating anchor peers for org1...""
updateAnchorPeers 0
echo ""Updating anchor peers for org2...""
updateAnchorPeers 2
{quote}

So, the genesis block contains no anchor peers, and then a config transaction is created that adds anchor peers, but peer1.org2 can't fetch it because it's configured to not connect to the ordering service.
If you try to set the bootstrap peer of peer1.org2 to be peer0.org2 you'll see that e2e finishes successfully. 
;;;","07/Jun/17 3:56 AM;mastersingh24;[~Ratnakar] - going to close this per [~yacovm] 's comment above.;;;","08/Jun/17 12:48 AM;AdnanChoudhury;[~yacovm] What is the rule/recommendation on who should be a bootstrap peer? Is that always the anchor peer ( or 1 of the anchor peers) from the same org? ;;;","08/Jun/17 12:58 AM;yacovm;no. It can be more - any list of peers from your org, i.e ""peer0:7051 peer1:7051 peer2:7051"";;;","08/Jun/17 1:21 AM;AdnanChoudhury;[~yacovm] to clarify, will the following setup work? if not, why not?

Organization1 has three peers
 1) peerA: anchor peer and leader peer, no bootstrap defined
 2) peerB: non-anchor, non leader, bootstrap set to PeerA
 2) peerC: non-anchor, non leader, bootstrap set to PeerB 

edit: what I am trying to get is that what should I set a peer's bootstrap to, or if thats needed at all for all peers.;;;","08/Jun/17 1:28 AM;yacovm;would work. the transitive closure just needs to contain all the peers, that's the rule of thumb. ;;;","08/Jun/17 1:36 AM;AdnanChoudhury;Ah ok, thanks.
And that transitive closure is based on being able to reach the *anchor* peer, right? (where the anchor peer may or may not be leader) [~yacovm];;;","08/Jun/17 3:10 AM;yacovm;anchor or bootstrap;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
GOSSIP_BOOTSTRAP configuration change with dummy values has no impact,FAB-4346,17432,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,Ratnakar,Ratnakar,04/Jun/17 5:37 PM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,05/Jun/17 8:06 PM,,,,v1.0.0,,fabric-gossip,,,,,,,0,gossip_component,,,,,,,"Commit Level : *2292080faecfca01e7d359ce681a7869e07232b4*

 

Changed CORE_PEER_GOSSIP_BOOTSTRAP with a dummy value as below in *e2e_cli* sample
{panel}
 CORE_PEER_GOSSIP_BOOTSTRAP=dummyname:1234 
{panel}
The change has no impact and e2e test has passed. Shouldn't gossip throw an error /exception ?

 

enclosed the modified file for reference",,Ratnakar,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"04/Jun/17 5:37 PM;Ratnakar;docker-compose-base.yaml;https://jira.hyperledger.org/secure/attachment/10918/docker-compose-base.yaml",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxylz:",,,,,,,,,,,,,,,,,,,,,,,,,,,Ratnakar,yacovm,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"05/Jun/17 4:52 PM;yacovm;https://gerrit.hyperledger.org/r/#/c/10141/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Install chaincode not returning proper HTTP status code on error,FAB-4347,17433,,Bug,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,muralisr,jimthematrix,jimthematrix,04/Jun/17 10:58 PM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,05/Jun/17 5:06 AM,,,,,,fabric-peer,,,,,,,0,,,,,,,,"when processing an install request but the chaincode already exists on the peer, the endorser used to return an HTTP error status that causes the gRPC client to product an error. This is not happening any longer in recent builds.

This is causing the node SDK integration test to fail in a number of test cases that check for failure conditions, such as this one:

https://jenkins.hyperledger.org/job/fabric-sdk-node-verify-x86_64/1117/console -
02:19:21 not ok 815  Failed to get an error returned :: No Error returned , should have had an error with version already exists
",,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxym7:",,,,,,,,,,,,,,,,,,,,,,,,,,,muralisr,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"05/Jun/17 12:28 AM;muralisr;[~jimthematrix] This is due to the bug fix https://gerrit.hyperledger.org/r/#/c/9213/. 

A proposal response can indicate an error from the chaincode (""inner"" Response on ProposalResponse object) or from the fabric (""outer"" response on ProposalResponse).

Example fabric (""outer"") response are Proposal ACL failures, chaincode not found, endorsement failures etc.

Example chaincode (""inner"") response are chaincode setting 500 on the response for some reason.

Prior to the fix, chaincode errors were setting fabric errors too and the call to process proposal returned error and suppressed chaincode response.  This fix returns the chaincode response with the error.

The call to install returns the following chaincode response (this is from CLI) :

{code:java}

Installed remotely response:<status:500 message:""Chaincode Error"" > payload:""\n \351o3\344^\315\007\300\207)\220\351w\336L\375h_I\0235y\\\361\006a\251`p\232O\217\022u\032k\010\364\003\022fError installing chaincode code mycc:0(chaincode /var/hyperledger/production/chaincodes/mycc.0 exists)\""\006\022\004lscc""
2017-06-04 15:06:09.036 UTC [main] main -> INFO 00f Exiting.....
{code}

The problem was that if we returned error from the fabric,  SDK may not be able to distinguish easily between fabric and chaincode errors. If the chaincode reported error and the fabric returned 200 then you'd know for sure the only error is from the chaincode.

However it may make sense for fabric to return HTTP response 500 with the special message ""chaincode error"". What do you think ?;;;","05/Jun/17 2:00 AM;muralisr;[~jimthematrix] created https://gerrit.hyperledger.org/r/#/c/10135/;;;","05/Jun/17 4:07 AM;jimthematrix;[~muralisr] I understand the rationale to distinguish the inter and out status codes. However this is very confusing in my opinion, because we are advising the chaincode developers to use HTTP status codes in the chaincode responses to indicate various errors. I would think the chaincode developers would expect that to be reflected in the HTTP status code. from the application developer's point of view, using the HTTP status code to reflect errors in the chaincode makes sense to me. A 403 means authorization error, whether it's from the fabric ACL or from the chiancode checking the Creator identity. Further like you suggested to use ""Chaincode Error"" to indicate the source is from chaincode also make sense.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Install chaincode not returning helpful error message,FAB-4348,17434,,Bug,Closed,FAB,Fabric,software,denyeart,,,Low,Done,,jimthematrix,jimthematrix,04/Jun/17 11:59 PM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,05/Jun/17 4:45 AM,v1.0.0-beta,,,Not a Bug,,fabric-peer,,,,,,,0,,,,,,,,"when processing an install request but the chaincode already exists on the peer, the error message used to be ""<chaincode:version> exists"", recently it became ""Chaincode Error"". 

A message like ""Chaincode Error: <chaincode:version> exists"" would have been much more helpful for describing the error",,,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxymf:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"05/Jun/17 4:46 AM;jimthematrix;once FAB-4347 is fixed this is not a problem any longer, since the details of the error is included in the inner response already;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Improve code coverage for hyperledger/fabric/orderer/solo,FAB-4349,17435,16261,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,guoger,guoger,guoger,05/Jun/17 12:54 AM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,11/Jun/17 10:49 AM,v1.0.0-alpha2,,,v1.0.0,,fabric-orderer,,,,,,,0,quality,,,,,,,,,guoger,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxymn:",,,,,,,,,,,,,,,,,,,,,,,,,,,guoger,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"11/Jun/17 12:15 AM;guoger;https://gerrit.hyperledger.org/r/#/c/10433/1;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"configtxgen should report version info ala peer, etc",FAB-4350,17436,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,nnao,ChristopherFerris,ChristopherFerris,05/Jun/17 4:52 AM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,10/Jun/17 12:06 AM,v1.0.0-alpha2,,,v1.0.0,v1.0.0-rc1,fabric-tools,,,,,,,0,configtxgen,Quality,,,,,,"configtxgen should report version info ala peer, etc so that users can know which version of the tool they are using.",,ChristopherFerris,mastersingh24,nnao,,,,,,,,,,,,,,,,,,28800,28800,,0%,28800,28800,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-4351,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxymv:",,,,,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,mastersingh24,nnao,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"06/Jun/17 5:20 AM;mastersingh24;[~nnao] - you might want to take a look at [https://gerrit.hyperledger.org/r/#/c/10181/]  and do things in a similar fashion.  Note I've already taken care of the Makefile is you add a metadata sub-package;;;","06/Jun/17 6:35 AM;nnao;[~mastersingh24] Thank you for advice. It helps me a lot! I have a question. Do I need to change Makefile in configtxgen target for showing the version at ""make configtxgen"" ;;;","06/Jun/17 7:01 PM;mastersingh24;[~nnao] - you won't have to change the Makefile;;;","07/Jun/17 3:44 PM;nnao;https://gerrit.hyperledger.org/r/#/c/10239/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"cryptogen should report version info ala peer, etc",FAB-4351,17437,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,mastersingh24,ChristopherFerris,ChristopherFerris,05/Jun/17 4:52 AM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,06/Jun/17 7:01 PM,v1.0.0-alpha2,,,v1.0.0,,fabric-tools,,,,,,,0,Quality,,,,,,,"cryptogen should report version info ala peer, etc so that users can know which version of the tool they are using.",,ChristopherFerris,mastersingh24,,,,,,,,,,,,,,,,,";06/Jun/17 5:18 AM;mastersingh24;3600",,28800,0,3600,12%,28800,0,3600,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-4352,,FAB-4350,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxyn3:",,,,,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,mastersingh24,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"06/Jun/17 5:18 AM;mastersingh24;http://gerrit.hyperledger.org/r/10181;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
configtxlator should report version info,FAB-4352,17438,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,mastersingh24,ChristopherFerris,ChristopherFerris,05/Jun/17 4:55 AM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,06/Jun/17 9:44 PM,v1.0.0-alpha2,,,v1.0.0,,fabric-orderer,,,,,,,0,configuration,,,,,,,configtxlator should report version info so that users can know which version of the tool they are using.,,ChristopherFerris,mastersingh24,,,,,,,,,,,,,,,,,";06/Jun/17 7:20 PM;mastersingh24;1800",,28800,0,1800,6%,28800,0,1800,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-4411,,FAB-4351,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxynb:",,,,,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,mastersingh24,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"06/Jun/17 7:03 PM;mastersingh24;http://gerrit.hyperledger.org/r/10203;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Require alternative EventHub exploitation to maximize Performance TPS,FAB-4353,17439,,Story,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,dongming,dinotone,dinotone,05/Jun/17 6:44 AM,21/Jul/18 3:56 AM,28/Oct/23 2:59 AM,25/Aug/17 1:36 AM,v1.0.0,v1.0.0-alpha2,,v1.0.0,,fabric-quality,,,,,,,0,performance,PTE,,,,,,"Current PTE EventHUB (for TPS) exploitation limits TPS. We need alternative approach for PTE to capture TPS without impeding max. TPS. Dongming/Jim Zhang suggested the following approaches for consideration:
 * direct transaction to different peer in the same org and have an eventhub talks to one peer.
 * have multiple eventhubs to talk to the same peer and have the eventhub know which block is his, then each eventhub will only parse the blocks belong to him",,bmos299,dinotone,dongming,haiheipijuan,net0410,yoheiueda,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-2247,,,,,,,,,,"1|hzxynj:",,,,Unset,,Week ending 2019-Feb-01,,,,,,,,,,Unset,,,,,,,,,,,bmos299,dinotone,dongming,haiheipijuan,net0410,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"07/Jun/17 12:41 AM;bmos299;[~ptippett] and I are wondering if this is a bug or simply the implementation.

 ;;;","07/Jun/17 1:04 AM;dinotone;From dialogue with Dongming and indirectly, Jim Zhang, this seems more about implementation, not a bug.  The other alternative we discussed with Dongming was to remove the EventHub processing from PTE, and find some alternative non-PTE approaches to determine Invoke Move TPS.  Removing EventHub is unfortunately non-trivial.;;;","08/Jun/17 11:48 PM;dongming;Per meeting with Dino and Jim etc, need to investigate performance based on per block vs per transaction event;;;","17/Aug/17 9:04 PM;dinotone;Eventhub processing continues to challenge our ability to drive consistent higher transaction rates into the HSBN env. We have alternative means to measure TPS (peerlog) which is more accurate then PTE.;;;","25/Aug/17 1:36 AM;dongming;Add a linked list to track unreceived transaction event and event listener option to PTE:

Transaction:  PTE registers a transaction listener to receive a registered transaction event. This is the default event listener.

Block:  PTE registers a block listener to receive every block event on all channels. PTE will parse the received block event for the transactions sent. 

None:  PTE will not register any event listener. ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
System test 36hr multihost - 8threads,FAB-4354,17440,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,suryalnvs,suryalnvs,suryalnvs,05/Jun/17 11:29 AM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,10/Jul/18 3:23 AM,,,,v1.0.0,,fabric-quality,,,,,,,0,,,,,,,,"* {color:#333333}Test Name: FAB-4354, System test 36hr multihost - 8threads{color}
 * {color:#333333}Component{color}{color:#333333}:  Longrun test with a concurrency of 8 and multihost {color}
 * +Description+: Send invoke transactions for 36hrs (with 1 invoke per 2 second) concurrently to 1 peer in both orgs,
 query the ledger to ensure the last transaction was written,
 calculate tps, remove network and cleanup.
 * {color:#333333}Artifact Locations{color}{color:#333333}: crypto-config{color}
 * {color:#333333}Network Topology{color}{color:#333333}: 2 Ord, 3 KB, 3 ZK, 2 Org, 4 Peers in each organization, 1 ca for each org, 2 Channel, 1 CC, 8 threads
 Launch standard network on a single machine, use PTE in longrun mode{color}
 * {color:#333333}Client Driver{color}{color:#333333}: PTE{color}
 * {color:#333333}Input: ./pte_driver.sh userInputs/runCases-longrun-i.txt{color}
 * Output:
The benchmark passes if it completes without any error.
The benchmark fails if it encounters error or does not complete, or any query fails.",,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxynr:",,,,,,,,,,,,,,,,,,,,,,,,,,,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add consortium checking in configtxgen,FAB-4355,17441,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,baohua,baohua,baohua,05/Jun/17 11:33 AM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,06/Jun/17 3:41 AM,,,,v1.0.0,,fabric-tools,,,,,,,0,common-components,,,,,,,"Configtxgen requires a Consortium config in generating ChannelCreateTX.

 

Existing code does not check that and will break by taking the default empty value.

 ",,baohua,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxynz:",,,,,,,,,,,,,,,,,,,,,,,,,,,baohua,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"05/Jun/17 12:09 PM;baohua;https://gerrit.hyperledger.org/r/#/c/10137/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Config File Updates for System Behave tests,FAB-4356,17442,16101,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,latitiah,latitiah,latitiah,05/Jun/17 12:34 PM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,14/Jun/17 12:42 AM,,,,,,fabric-quality,,,,,,,0,quality,,,,,,,"The following are the details for this work.
 * +Component+:  bootstrap for system tests
 * +Description+:  Allows the bootstrapping of a network using some set config profiles and crypto setup
 * +Artifact Locations+:  test/feature/configs
 * +Network Topology+:  N/A
 * +Client Driver+: behave",,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxyo7:",,,,,,Sprint 19 - Quality,,,,,,,,,,,,,,,,,,,,,latitiah,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"09/Jun/17 12:05 AM;latitiah;https://gerrit.hyperledger.org/r/#/c/10139/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Modify the Retry options of the Kafka-based orderer configuration,FAB-4357,17450,17054,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,kchristidis,kchristidis,kchristidis,05/Jun/17 1:39 PM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,10/Jun/17 4:39 AM,v1.0.0-alpha2,,,v1.0.0,,fabric-orderer,,,,,,,5,kafka,,,,,,,"1. Add short/long retry interval switches as suggested here

2. Expose these settings from the [sarama library|https://godoc.org/github.com/Shopify/sarama#Config] and make them settable via the orderer.yaml config file:
 * DialTimeout
 * ReadTimeout
 * WriteTimeout
 * Metadata.Retry.Max
 * Metadata.Retry.Backoff
 * Producer.Retry.Max
 * Producer.Retry.Backoff
 * Consumer.Retry.Backoff

3. Set defaults for all the new settings so that they can be skipped by the user

4. Add descriptions for each setting",,binhn,ChristopherFerris,kchristidis,muralisr,troyronda,yacovm,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxyon:",,,,,,,,,,,,,,,,,,,,,,,,,,,binhn,ChristopherFerris,kchristidis,muralisr,troyronda,yacovm,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"06/Jun/17 12:29 AM;kchristidis;See https://jira.hyperledger.org/browse/FAB-4121?focusedCommentId=24824&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-24824 and https://jira.hyperledger.org/browse/FAB-4121?focusedCommentId=25339&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-25339 for context.;;;","06/Jun/17 12:34 AM;kchristidis;ETA: This will be done today.;;;","06/Jun/17 12:40 AM;binhn;+1, I don't see much risks in exposing these parameters except that a user needs to know before changing the default values, so we should include proper comments.;;;","06/Jun/17 3:12 AM;yacovm;I vote +1 but can we please please somehow make this change backward compatible ? ;;;","06/Jun/17 5:50 AM;ChristopherFerris;+1 to backwards compatible ;;;","06/Jun/17 8:46 AM;kchristidis;While I share the concern for backwards compatibility, note that a sub-task that comes right after this one calls for expanding/repurposing the existing ""Retry"" options, for the reasons explained here (and in the message preceding that one I guess).

So we will have a breaking change anyway.;;;","06/Jun/17 2:40 PM;kchristidis;Description text updated. In order to avoid having two breaking changes (see comment above), I believe it's better to take care of all of the retry-related config changes in one go.

This changeset is good to go. Will defer from posting until I have the fix for FAB-4136 ready and tested.;;;","07/Jun/17 12:31 AM;muralisr;+1;;;","07/Jun/17 12:43 AM;kchristidis;This one has now the 5 votes necessary. Ready to be merged when it's out.;;;","07/Jun/17 7:58 PM;kchristidis;https://gerrit.hyperledger.org/r/#/c/10257/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update fabric-sdk-node example demo 'balance-transfer' into current release.,FAB-4358,17467,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jimthematrix,Aquariuslt,Aquariuslt,05/Jun/17 3:22 PM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,13/Jul/17 2:42 AM,v1.0.0-alpha2,,,,,fabric-samples,,,,,,,0,,,,,,,,"after *fabric v1.0.0alpha2* released and *fabric-sdk-node* project *{color:#333333}fabric-ca-client{color}* and *fabric-client v1.0.0alpha2* released.

I tried to using example project *balance-transformer* to have try under version *v1.0.0aplha2*.

And I created my demo base on *balance-transformer* and custom my new docker-compose files.

below is the project repository:

[https://github.com/aquariuslt/fabric-snackbar]

 

when I try to register a new user using below  command:
(my app listening port:5000 and using  little-factory.com and little-snackbar.com  as two orgs )

 
{code:java}
curl -s -X POST http://localhost:5000/users -H ""cache-control: no-cache"" -H ""content-type: application/x-www-form-urlencoded"" -d 'username=Jim&organization=little-factory.com'
{code}
 

and app side throw error:
{code:java}
fabric-ca request register failed with errors [[{""code"":400,""message"":""Authorization failure""}]]{code}
 

per my local debug for source code, I found some method level break change and arguments change in fabric-client code.

 

several function change to *promisfy.*

Could you please help update the example project code base on latest release(v1.0.0alpha2)?

Thanks.

 

 ",,Aquariuslt,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxyqv:",,,,,,,,,,,,,,,,,,,,,,,,,,,Aquariuslt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
e2e crashes because of configtxgen,FAB-4360,17469,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,mastersingh24,yacovm,yacovm,05/Jun/17 5:13 PM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,05/Jun/17 10:56 PM,v1.0.0-alpha2,,,v1.0.0,,fabric-build,,,,,,,0,,,,,,,," 

1) Pull commit hash {{ae71b2f3dc5e10c8f9729418d28acff4481cd62b}} from master branch

2) run e2e_cli

3) get following exception
{code}

{{goroutine 1 [running]:}}
 {{panic(0x8fb1c0, 0xc420014120)}}
 \{\{ /home/yacovm/OBC/go/src/runtime/panic.go:500 +0x1a1}}
 {{github.com/hyperledger/fabric/common/configtx/tool/localconfig.translatePaths(0xc42013f200, 0x51, 0xc420250060)}}
 \{\{ /home/yacovm/OBC/shared/gopath/src/github.com/hyperledger/fabric/common/configtx/tool/localconfig/config.go:268 +0x61}}
 {{github.com/hyperledger/fabric/common/configtx/tool/localconfig.(*Profile).completeInitialization(0xc42024e810, 0xc42013f200, 0x51)}}
 \{\{ /home/yacovm/OBC/shared/gopath/src/github.com/hyperledger/fabric/common/configtx/tool/localconfig/config.go:217 +0x13e}}
 {{github.com/hyperledger/fabric/common/configtx/tool/localconfig.Load(0x7fff8cdb1cfc, 0xe, 0x0)}}
 \{\{ /home/yacovm/OBC/shared/gopath/src/github.com/hyperledger/fabric/common/configtx/tool/localconfig/config.go:195 +0x63f}}
 {{main.main()}}
 \{\{ /home/yacovm/OBC/shared/gopath/src/github.com/hyperledger/fabric/common/configtx/tool/configtxgen/main.go:328 +0x4fa}}
 {code}

4) I think the *release/linux-amd64/bin/configtxgen* file needs to be updated ",,mastersingh24,yacovm,,,,,,,,,,,,,,,,,";05/Jun/17 9:40 PM;mastersingh24;900",,1800,900,900,50%,1800,900,900,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxyr3:",,,,,,,,,,,,,,,,,,,,,,,,,,,mastersingh24,yacovm,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"05/Jun/17 8:18 PM;mastersingh24;I think the problem is actually here: [https://github.com/hyperledger/fabric/blob/master/examples/e2e_cli/generateArtifacts.sh#L66] since it checks to see if configtxgen actually exists and if it does it will not try to (re)build it.

There is a make target called *release-clean* but it does not get called by the *clean* target.

So how do we want to proceed here?   Perhaps we should simple add *release-clean* to *clean* ?

[~yacovm] - what do you think?

 ;;;","05/Jun/17 8:23 PM;yacovm;{quote}So how do we want to proceed here?   Perhaps we should simple add release-clean to clean ?{quote}

Since it can be easily tested that doing it doesn't break anything if it indeed rebuilds it after the clean, I think we should do this.;;;","05/Jun/17 9:39 PM;mastersingh24;http://gerrit.hyperledger.org/r/10145;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Cannot determine if a running peer is a leader peer or not,FAB-4361,17471,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,sstone1,sstone1,05/Jun/17 6:51 PM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,11/Jun/17 9:38 PM,,,,DUPLICATE,,fabric-gossip,,,,,,,0,,,,,,,,"According to this page, a peer can be a leader peer:

[http://hyperledger-fabric.readthedocs.io/en/latest/gossip.html?highlight=leader]

The leader peer is chosen through the leader peer election process.

My peers are configured with the following environment variables:

CORE_PEER_GOSSIP_USELEADERELECTION=true

CORE_PEER_GOSSIP_ORGLEADER=false

However, by inspecting the peer logs, I cannot determine which peer is the leader peer (I've grepped for lead and leader). The election process and the leader/non-leader status of a peer should be logged somewhere so someone can figure this out!

Apparently the information can be retrieved by finding out about (from where?) and setting:

CORE_LOGGING_GOSSIP=DEBUG

But I think the ""who is a leader"" question should be answered by the standard logging - it seems to be an important thing to know when diagnosing problems in this area.",,C0rWin,sstone1,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-4512,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxyrb:",,,,,,,,,,,,,,,,,,,,,,,,,,,C0rWin,sstone1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"11/Jun/17 9:37 PM;C0rWin;Will close as duplicates another JIRA ticket.;;;","11/Jun/17 9:37 PM;C0rWin;Duplicate of https://jira.hyperledger.org/browse/FAB-4512;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Getting-Started Docs page inaccurate,FAB-4362,17474,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,mbwhite,mbwhite,05/Jun/17 9:05 PM,21/Jul/18 3:55 AM,28/Oct/23 2:59 AM,14/Sep/17 3:43 AM,,,,,,fabric-docs,,,,,,,0,docs,,,,,,,"Working through the 'Getting Started' issues found that are prevent completion. 

 

(

[https://hyperledger-fabric.readthedocs.io/en/latest/getting_started.html])

 
 * For manually creating artifacts, the commands are issued fron a bin directory. Not clear where this directory is.. there is mention later about it matching your machine. But this would be better higher up
 * There are lots of warnings from many commands, and including lots of output that makes little sense for a first time user.  If there are ignorable warnings why are they put out at all?
 * ChannelID is mentioned as being needed for several commands but not info on what this is or what it could mean. Guessed at a value
 * In the 'Run Script Section' there is a command mentioned that will clean up.. but this doesn't exist.
 * After creating the channel, and then joining the channel the command to is not clear what <channel-id.block> means… it says what is returned from the command above.


 * 
 * When running the Scripts - not clear that you have to leave the chaincode container...

When running the Scripts it is not clear that you have to cleave the chaincode container.

Early on in the guide, there are instructions to comment out a line of code in the composer file. No where is it mentioned when you should recreate this. ",,ChristopherFerris,markparz,mbwhite,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-4073,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzxyrj:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,ChristopherFerris,markparz,mbwhite,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"18/Jun/17 1:07 PM;ChristopherFerris;[~mbwhite] please see the two CRs associated with FAB-4073. If you have specific feedback relating to that you provided in the description, above, please do add comments to the CRs. Thanks.;;;","14/Sep/17 2:35 AM;markparz;Can we close this one .... seems like these are addressed, at least for the most part.;;;","14/Sep/17 3:44 AM;ChristopherFerris;agree, no longer relevant;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add IP-SANs support to cryptogen,FAB-4364,17476,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,tonyyang132,yacovm,yacovm,05/Jun/17 10:05 PM,24/Aug/21 12:49 AM,28/Oct/23 2:59 AM,01/Aug/17 6:30 PM,v1.0.0,,,v1.1.1,,fabric-tools,,,,,,,0,Usability,,,,,,,"Currently cryptogen supports only creating TLS certificates that have the DNS extension and this makes users unable to use cryptogen generated certificates when the hostname of the ordering service / peer is an ip address and not a DNS name.

",,AshishkumarLakshmanan,mastersingh24,mffrench,smukes,yacovm,ysim,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,FAB-5352,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzxyrz:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,AshishkumarLakshmanan,mastersingh24,mffrench,smukes,yacovm,ysim,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"01/Aug/17 6:30 PM;mastersingh24;https://gerrit.hyperledger.org/r/#/c/11719/;;;","24/Aug/21 12:49 AM;smukes;Hi Team

Any way to view the resolution for this issue, not able to access the git site mentioned.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
72 hrs long run (FAB-4229) failed with no space but kafka exits,FAB-4367,17488,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,kchristidis,dongming,dongming,05/Jun/17 11:18 PM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,05/Jun/17 11:30 PM,v1.0.0-alpha2,,,WON'T FIX,,fabric-orderer,fabric-quality,,,,,,0,kafka,quality,,,,,,"Execution of 72 hours long run with 8 threads,  (FAB-4229: 1 transaction per second per thread, each transaction has 1kb-2kb payload) failed after 44 hours since out of memory. However, kafka exit.  We do not know if it is expected behavior for kafka when out of space.

peer log:

2017-06-04 19:44:19.735 UTC [kvledger] Commit -> INFO 2607b Channel [mychannel2]: Created block [77866] with 8 transaction(s)
2017-06-04 19:44:20.854 UTC [kvledger] Commit -> INFO 2607c Channel [mychannel]: Created block [77875] with 6 transaction(s)
2017-06-04 19:44:21.796 UTC [gossip/state] commitBlock -> ERRO 2607d Got error while committing(Error while appending block to file: write /var/hyperledge r/production/ledgersData/chains/chains/mychannel2/blockfile_000059: no space left on device)

orderer log:

root@qa-peer05:~# docker logs orderer0.example.com
2017-06-04 19:44:22.461 UTC [orderer/kafka] listenForErrors -> ERRO 001 kafka: error while consuming mychannel/0: EOF
2017-06-04 19:44:22.469 UTC [orderer/kafka] listenForErrors -> ERRO 002 kafka: error while consuming testchainid/0: EOF
2017-06-04 19:44:22.469 UTC [orderer/kafka] listenForErrors -> ERRO 003 kafka: error while consuming mychannel2/0: EOF
2017-06-04 19:44:22.770 UTC [orderer/kafka] Enqueue -> ERRO 004 [channel: mychannel] cannot enqueue envelope: dial tcp 172.19.0.11:9092: getsockopt: connection refused
2017-06-04 19:44:22.770 UTC [orderer/kafka] Enqueue -> ERRO 005 [channel: mychannel] cannot enqueue envelope: dial tcp 172.19.0.11:9092: getsockopt: connection refused
2017-06-04 19:44:22.776 UTC [orderer/kafka] Enqueue -> ERRO 006 [channel: mychannel2] cannot enqueue envelope: dial tcp 172.19.0.12:9092: getsockopt: connection refused
2017-06-04 19:44:22.776 UTC [orderer/kafka] Enqueue -> ERRO 007 [channel: mychannel2] cannot enqueue envelope: dial tcp 172.19.0.12:9092: getsockopt: connection refused
2017-06-04 19:44:23.158 UTC [orderer/kafka] loop -> ERRO 008 [channel: mychannel] Cannot post time-to-cut message: dial tcp 172.19.0.11:9092: getsockopt: connection refused

 

kafka log:

[2017-06-04 19:37:41,024] INFO [Group Metadata Manager on Broker 2]: Removed 0 expired offsets in 0 milliseconds. (kafka.coordinator.GroupMetadataManager)
[2017-06-04 19:44:22,465] WARN [ReplicaFetcherThread-0-1], Error in fetch kafka.server.ReplicaFetcherThread$FetchRequest@64871dd6. Possible cause: java.io.IOException: Connection to 1 was disconnected before the response was read (kafka.server.ReplicaFetcherThread)
[2017-06-04 19:44:22,470] WARN [ReplicaFetcherThread-0-3], Error in fetch kafka.server.ReplicaFetcherThread$FetchRequest@3528023e. Possible cause: java.io.IOException: Connection to 3 was disconnected before the response was read (kafka.server.ReplicaFetcherThread)
[2017-06-04 19:44:28,049] INFO Creating /controller (is it secure? false) (kafka.utils.ZKCheckedEphemeral)
[2017-06-04 19:44:28,054] INFO Result of znode creation is: OK (kafka.utils.ZKCheckedEphemeral)
[2017-06-04 19:44:28,055] INFO 2 successfully elected as leader (kafka.server.ZookeeperLeaderElector)
[2017-06-04 19:44:28,195] INFO [ReplicaFetcherManager on broker 2] Removed fetcher for partitions [mychannel2,0],[mychannel,0],[testchainid,0] (kafka.server.ReplicaFetcherManager)
[2017-06-04 19:44:28,213] INFO [ReplicaFetcherThread-0-3], Shutting down (kafka.server.ReplicaFetcherThread)
[2017-06-04 19:44:28,218] INFO New leader is 2 (kafka.server.ZookeeperLeaderElector$LeaderChangeListener)
[2017-06-04 19:44:54,539] INFO [ReplicaFetcherThread-0-3], Stopped (kafka.server.ReplicaFetcherThread)
[2017-06-04 19:44:54,539] INFO [ReplicaFetcherThread-0-3], Shutdown completed (kafka.server.ReplicaFetcherThread)
[2017-06-04 19:44:54,541] INFO [ReplicaFetcherThread-0-1], Shutting down (kafka.server.ReplicaFetcherThread)
[2017-06-04 19:44:54,544] INFO [ReplicaFetcherThread-0-1], Stopped (kafka.server.ReplicaFetcherThread)
[2017-06-04 19:44:54,544] INFO [ReplicaFetcherThread-0-1], Shutdown completed (kafka.server.ReplicaFetcherThread)
[2017-06-04 19:47:41,024] INFO [Group Metadata Manager on Broker 2]: Removed 0 expired offsets in 0 milliseconds. (kafka.coordinator.GroupMetadataManager)
log4j:ERROR Failed to flush writer,
java.io.IOException: No space left on device
 at java.io.FileOutputStream.writeBytes(Native Method)
 at java.io.FileOutputStream.write(FileOutputStream.java:326)
 at sun.nio.cs.StreamEncoder.writeBytes(StreamEncoder.java:221)
 at sun.nio.cs.StreamEncoder.implFlushBuffer(StreamEncoder.java:291)
 at sun.nio.cs.StreamEncoder.implFlush(StreamEncoder.java:295)
 at sun.nio.cs.StreamEncoder.flush(StreamEncoder.java:141)

 ",,dongming,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxywf:",,,,,,,,,,,,,,,,,,,,,,,,,,,dongming,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"05/Jun/17 11:29 PM;kchristidis;This is not a bug. You've run out of disk space on your Kafka brokers.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Doc workaround for policy checker in FAB-4248,FAB-4368,17492,,Bug,Closed,FAB,Fabric,software,denyeart,,,Low,Done,markparz,markparz,markparz,05/Jun/17 11:39 PM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,16/Jun/17 6:18 AM,,,,v1.0.0,,fabric-docs,,,,,,,0,Documentation,,,,,,,"Need to doc work around in troubleshooting section. Corner case issue in policy endorsement based on admin vs member in FAB-4248

As noted by [~jimthematrix]

from my observation when [~xixuejia] showed me the behavior of the policy checker, this is what I think is happening:
 - you have two endorsements: endorser1 as a member in org1 (E1) and endorser2 as an admin in org1 (E2)
 - you have the endorsement policy: ""AND (org1.member, org1.admin)""

so the policy should be met. but what we observed was that depending on the order of the two MSP principals in the endorsement policy, the policy checking can fail. and this is why it's failing:
 - the code iterates over the principals, so it takes the first one in the array: org1.member
 - it then iterates over the endorsers [E2, E1] and tries to find which one satisfies the target principal: org1.member
 - so it takes the first identity from the array, E2, and see that it satisfies the principal org1.member (since admin is a member)
 - it now marks E2 as used
 - it then moves on to the next principal: org1.admin
 - and tries to iterate over the endorsers to match any unused identities, which is now E1
 - because E1 is not an admin, it'll mark the policy check as failed

on the other hand, if the endorsers array is set to a different order: [E1, E2], then the above checking logic will succeed
 or if the endorsement policy is specified as ""AND [org1.admin, org1.member], the checking will also succeed

in fact, the workaround I suggested to the testing team is to always specify admin identity in the policy before the member identity of the same org, which will always work regardless of the order of the endorsers. This can be used as a recommended workaround for v1.0 in case the fix is difficult. but if the fix is straightforward enough, we should get it in.",,markparz,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxywn:",,,,,,,,,,,,,,,,,,,,,,,,,,,markparz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"06/Jun/17 4:54 AM;markparz;Gerritt [https://gerrit.hyperledger.org/r/#/c/9249/]

[~jimthematrix] if you could review ^^^;;;","08/Jun/17 5:39 AM;markparz;Jim has approved the changes, this doc is a 2 piece item though.... 1 for this item and also CouchDB in FAB-4364. Once that portion is reviewed and approved both should close.;;;","16/Jun/17 6:18 AM;markparz;Moved this to low priority based on this is in the troubleshooting guide, just waiting for couchDB piece to be completed in https://jira.hyperledger.org/browse/FAB-3464;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
orderer failed to start due to sample config was not updated when building orderer docker images,FAB-4369,17495,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,hanhzf,hanhzf,hanhzf,05/Jun/17 11:55 PM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,10/Jun/17 5:30 AM,,,,v1.0.0,,fabric-orderer,,,,,,,0,,,,,,,,"I have a local dev env, which I use for continuously fetch and build latest fabric
 code, recently just found end2end test failed with error, and then found orderer container was not started, with following error:
{code:java}
2017-06-05T14:45:55.130778062Z 2017-06-05 14:45:55.130 UTC [orderer/localconfig] Load -> CRIT 001 Error unmarshaling config into struct: 1 error(s) decoding:
2017-06-05T14:45:55.130822212Z
2017-06-05T14:45:55.130838907Z * '' has invalid keys: genesis, sbftlocal
2017-06-05T14:45:55.132874783Z panic: Error unmarshaling config into struct:1 error(s) decoding:
2017-06-05T14:45:55.132889338Z
2017-06-05T14:45:55.132893771Z * '' has invalid keys: genesis, sbftlocal
2017-06-05T14:45:55.132898102Z{code}
Then check *orderer.yaml* from the orderer docker images, find *orderer.yaml* was
 not up to date, with following deprecated configuration(*which was not the same as config under fabirc/sampleconfig*/) which caused this problem:

 
{code:java}
SbftLocal:

Address to use for SBFT internal communication
 PeerCommAddr: "":6101""
 CertFile: ""sbft/testdata/cert1.pem""
 KeyFile: ""sbft/testdata/key.pem"" Directory for SBFT data (persistence)
 DataDir: ""/tmp"" {code}
 

check fabric/Makefile: 

 
{code:java}
build/sampleconfig.tar.bz2:
 (cd sampleconfig && tar -jc *) > $@{code}
 

 

So once there exist a deprecated file  build/sampleconfig.tar.bz2, Makefile will not try to recreate it even when fabirc/sampleconfig is updated.",,hanhzf,kchristidis,,,,,,,,,,,,,,,,,,,14400,14400,,0%,14400,14400,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxywv:",,,,,,,,,,,,,,,,,,,,,,,,,,,hanhzf,kchristidis,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"06/Jun/17 12:16 AM;kchristidis;This is because we removed SBFT recently. `make clean` and repeat again.;;;","06/Jun/17 12:16 AM;kchristidis;Closing this, feel free to reopen if the issue persists.;;;","06/Jun/17 12:51 AM;hanhzf;[~kchristidis] I know that SBFT is removed, I think this problem happens because Makefile is not aware of the changes of  sampleconfig, SBFT is just one of the cause of it. If other configuration has been changed, we also need to make sure sampleconfig be updated to docker container. 

I uploaded a simple patch, [https://gerrit.hyperledger.org/r/#/c/10163/,] hope it helps.;;;","06/Jun/17 3:59 AM;kchristidis;That links leads to a 404. Can you re-check?;;;","06/Jun/17 6:18 AM;kchristidis;Copying [~greg.haskins].;;;","06/Jun/17 6:19 AM;kchristidis;https://gerrit.hyperledger.org/r/#/c/10163/;;;","06/Jun/17 8:58 AM;hanhzf;yes , the comma breaks the link. Thanks ;;;","08/Jun/17 10:09 AM;kchristidis;Can you please post in #pr-review in Rocket.Chat to ask for reviews on this?;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Support endorser transactions via protolator,FAB-4370,17496,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,05/Jun/17 11:59 PM,21/Jul/18 3:56 AM,28/Oct/23 2:59 AM,05/Aug/17 6:42 AM,,,,,,fabric-peer,,,,,,,0,,,,,,,,"The protolator code was created to facilitate the inspection of configuration artifacts.  However, it is more generally useful for inspecting fabric proto messages in general.  By adding the necessary metadata to the protos, the protolator could be used for pretty printing non-configuration blocks and inspecting endorser transactions.

See the TODO in {{protos/common/common.go}}.",,jyellick,passkit,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzxyx3:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,jyellick,passkit,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"03/Aug/17 5:27 AM;jyellick;Via https://gerrit.hyperledger.org/r/#/c/12117/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Chaincode dev mode instructions needs to be corrected,FAB-4371,17500,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,nickgaski,Ratnakar,Ratnakar,06/Jun/17 12:15 AM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,27/Jun/17 12:18 AM,,,,v1.0.0,,fabric-docs,,,,,,,0,,,,,,,,"Chaincode devmode instructions needs to be updated [http://hyperledger-fabric.readthedocs.io/en/latest/peer-chaincode-devmode.html]


Following two points needs to be taken care.
1) when default settings are used orderer uses SampleInsecureSolo as the GenesisProfile instead override the same with SampleSingleMSPSolo.
Start the orderer with GenesisProfile as follows
{code:java}
ORDERER_GENERAL_GENESISPROFILE=SampleSingleMSPSolo orderer{code}

2) Split the lines from the section Create channels ch1 and ch2 , http://hyperledger-fabric.latest.readthedocs/io/en/peer-chaincode-devmode.html#create-channels-ch1-and-ch2
 
{code:java}
configtxgen -channelID ch1 -outputCreateChannelTx ch1.tx -profile SampleSingleMSPChannel 
configtxgen -channelID ch2 -outputCreateChannelTx ch2.tx -profile SampleSingleMSPChannel 
{code}
Refer https://jira.hyperledger.org/browse/FAB-3765",,nickgaski,Ratnakar,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxz0v:",,,,,,,,,,,,,,,,,,,,,,,,,,,nickgaski,Ratnakar,,,,,,,,,,,,,,,,,,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-6.11.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/tough-cookie-4.1.3,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/semver-6.3.1,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/grpc/grpc-js-1.8.17,dependabot/go_modules/high-throughput/application-go/google.golang.org/grpc-1.53.0,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/word-wrap-1.2.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-and-fabric-network-7.2.4,dependabot/go_modules/asset-transfer-basic/application-go/google.golang.org/grpc-1.53.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"15/Jun/17 3:12 AM;nickgaski;This issue is ostensibly solved through - [https://gerrit.hyperledger.org/r/#/c/10423/]

However, I also have a patch with some more thorough instructions which is -2 right now due to vagrant and compiling from source - [https://gerrit.hyperledger.org/r/#/c/10295/]

 ;;;","16/Jun/17 10:38 PM;nickgaski;There is a CR to add orderer and peer to the release directory.  That said, there is currently an unavoidable dependency to, at the very least, clone the fabric directory.  You could download the binaries through getting started, but then you would need to create a build/bin directory in the fabric tree and copy the peer and orderer executables to that dir.  In an ideal world, dev mode would work with the current structure of getting started.  However, we do not have the SingleSampleMSPSolo profile in our configtx.yaml.  Additionally, we dynamically generate new crypto material each time, so the cryptogen utility would need to be exercised OR we need to place some dummy certs and a genesis block into the tar ball (I confess I'm not precisely positive about all the minutiae of how dev mode works with regards to launching the peer and orderer; namely, I don't know the extent of the dependencies).  Lastly, the binaries are placed into a bin folder; not build/bin as they are in the fabric source tree.  Need help here if we do not want a developer to clone fabric and run a make release-all.  [~rameshthoomu] [~ChristopherFerris] [~muralisr] [~mastersingh24]

 

An alternative might be simply having a developer use docker containers in the same fashion as the getting started approach. (This would not be dev mode though).  The only downfall is they have to reinstall, and then either instantiate or upgrade the chaincode.  There are also some requisite steps to generate crypto, artifacts, and bootstrap the orderer, create/join channels, etc...  Happy to hear thoughts and would love to close this ticket;;;","17/Jun/17 5:02 AM;nickgaski;Lowering to medium until we decide upon a solution;;;","20/Jun/17 12:03 AM;nickgaski;adding notes...

when attempting to run the orderer I see {color:#333333}panic: Error while trying to create dir if missing: mkdir /var/hyperledger: permission denied{color}

**{color:#333333}meaning that a user {color}{color:#333333}will have to manually create the /var/hyperledger directory OR set CORE_PEER_FILESYSTEMPATH to a writable directory. {color}

 

{color:#333333}I also receive a consistent ""Killed 9"" response unless I set GO_TAGS=nopkcs11 along with my make.{color};;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Default channel admin policy for orderering-system-channel can never evaulate to true,FAB-4373,17502,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,jyellick,Nishi,Nishi,06/Jun/17 1:37 AM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,16/Jun/17 1:51 AM,,,,v1.0.0,,fabric-orderer,,,,,,,0,quality,,,,,,,"commit level: *670be92475a50b06e7bcb3fca15a558438d88e4a**

 

Steps:

1. Update master to commit level mentioned above. make clean configtxlator configtxgen orderer peer
 configtxlator start

2. {{rm -Rf /var/hyperledger/production/orderer && ORDERER_GENERAL_LOGLEVEL=debug build/bin/orderer}}

3. run /examples/configtxupdate/reconfig/script.sh for sanity check. (check in logs for ""[channel: testchainid] About to write block, setting its LAST_CONFIG to 1"")
 4.  Follow steps in [https://github.com/hyperledger/fabric/tree/master/examples/configtxupdate]

to update genesis config under section ""Reconfiguration example""


 [https://github.com/jyellick/fabric-gerrit/tree/configtxlator/examples/configtxupdate]
 a) peer channel fetch config config_block.proto -o 127.0.0.1:7050 -c testchainid
 b) 
 3. In step ""Edit the config, saving it as a new {{updated_config.json""}}
   update  /Channel/Writers policy in the `updated_config.json`
 It should be set from:
{code:java}
 ""policy"": \{ 
 ""policy"": \{
 ""sub_policy"": ""Readers""
 },
 ""type"": 3
 }

 {code}
to:
{code:java}
 ""policy"": \{
 ""policy"": \{
 ""identities"": [],
 ""policy"": \{
 ""n_out_of"": \{
 ""n"": 1,
 ""policies"": []
 }
 }
 },
 ""type"": 1
 }
 {code}
5. Continue with commands

6. peer channel update -f config_update_as_envelope.proto -c testchainid -o 127.0.0.1:7050

7. cd orderer/sample_clients/broadcast_timestamp
 8. go build
 9. ./broadcast_timestamp -chainID testchainid

Expected Result:

10. to see in orderer logs tx failing to commit because of new policy

Actual Result:

Step 6 failed with
{code:java}
ubuntu@hyperledger-devenv:320efe9:/opt/gopath/src/github.com/hyperledger/fabric$ peer channel update -f config_update_as_envelope.proto -c testchainid -o 127.0.0.1:7050
2017-06-05 16:06:35.572 UTC [msp] getMspConfig -> INFO 001 intermediate certs folder not found at [/opt/gopath/src/github.com/hyperledger/fabric/sampleconfig/msp/intermediatecerts]. Skipping.: [stat /opt/gopath/src/github.com/hyperledger/fabric/sampleconfig/msp/intermediatecerts: no such file or directory]
2017-06-05 16:06:35.573 UTC [msp] getMspConfig -> INFO 002 crls folder not found at [/opt/gopath/src/github.com/hyperledger/fabric/sampleconfig/msp/intermediatecerts]. Skipping.: [stat /opt/gopath/src/github.com/hyperledger/fabric/sampleconfig/msp/crls: no such file or directory]
Error: Got unexpected status: BAD_REQUEST
Usage:
 peer channel update [flags]
 {code}
 
 Orderer Logs:
{code:java}
2017-06-05 16:06:35.630 UTC [policies] GetPolicy -> DEBU 1f5 Returning policy Admins for evaluation
2017-06-05 16:06:35.630 UTC [orderer/common/broadcast] Handle -> WARN 1f6 Rejecting CONFIG_UPDATE because: Error authorizing update: Error validating DeltaSet: Policy for [Policy] /Channel/Writers not satisfied: Failed to reach implicit threshold of 2 sub-policies, required 1 remaining
{code}
 ",,jyellick,Nishi,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-4767,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxz13:",,,,,,,,,,,,,,,,,,,,,,,,,,,jyellick,Nishi,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"06/Jun/17 3:04 PM;jyellick;Fixed by https://gerrit.hyperledger.org/r/#/c/10197/;;;","16/Jun/17 1:33 AM;Nishi;Verified by updating default channel-writers's policy with :
{code:java}
""Writers"": {
""mod_policy"": ""Admins"",
""policy"": {
""value"": {
""identities"": [],
""rule"": {
""n_out_of"": {
""n"": 1,
""rules"": []
}
}
},
""type"": 1
}
}
},
{code}
 

Request failed with following message from command line:


{code:java}
Error: Got unexpected status: BAD_REQUEST

{code}
OrdererLogs:
{code:java}


2017-06-15 16:22:28.863 UTC [orderer/common/broadcast] Handle -> WARN 1f3 Rejecting broadcast message because of filter error: Rejected by rule: *sigfilter.sigFilter
2017-06-15 16:22:28.863 UTC [orderer/main] func1 -> DEBU 1f4 Closing Broadcast stream{code}
 


Could we have a better log message to help understand user what the cause of failure is in this case?
 ;;;","16/Jun/17 1:40 AM;jyellick;I'd prefer to address this in a different issue.  Could you open up an issue for {{Broadcast}} to return more fine grained errors than {{BAD_STATUS}}?;;;","16/Jun/17 1:51 AM;Nishi;Hi Jason,

Marking this as done and 
Created https://jira.hyperledger.org/browse/FAB-4767

Thank!
-Nishi;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Ledger invalid txs are encoded incorrectly (proto message not utilized),FAB-4376,17507,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,manish-sethi,jyellick,jyellick,06/Jun/17 3:08 AM,23/Jan/20 4:15 AM,28/Oct/23 2:59 AM,23/Jan/20 4:15 AM,,,,Future,,fabric-ledger,,,,,,,4,stale-item,,,,,,,"The block metadata proto specifies that block metadata fields must be encoded as {{common.Metadata}} proto structures.  This is required to support signing block metadata, as any data in the metadata section is vulnerable to undetectable tampering without it.

Although for v1 populating and validating the signature field is not in the cards, it is critical that the data be encoded properly so that we can support signatures and validation in the future.

The invalid txs are simply encoded as a raw bitmask today with no notion of versioning, so changing the format of this field is going to be very difficult if it is not handled before the v1 release.

The invalid txs should be encoded in a proto message, marshaled and set to the {{value}} field of a {{common.Metadata}} message.",,binhn,ChristopherFerris,denyeart,jyellick,manish-sethi,mastersingh24,muralisr,rickr,sykesm,,,,,,,,,,,,,,,,,,,Not a security issue,FABG-233,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzx2ev:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,binhn,ChristopherFerris,denyeart,jyellick,manish-sethi,mastersingh24,muralisr,rickr,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"10/Jun/17 2:50 AM;binhn;I wouldn't think this is critical for 1.0, so we should defer it. It is not a bug either but an improvement over the current encoding, which is fine for signing if we did. 

The change would also require other components using this field to change (and that would be SDKs)

If we want to sign this field, we would have to come up with method to collection sig's and solving compatibility, which we already deferred. ;;;","10/Jun/17 3:04 AM;jyellick;Would love to hear from the SDK teams about how difficult this change would be to handle.

The biggest reason to push this for v1, is that this is a much easier change to make now, than after v1.  If it's made now, we do not need an upgrade path for existing chains.

If we try to update this after, I don't see how we can easily do this in a backwards and forward compatible way.  Because this is not a proto field, we lose all of the proto benefits in this respect, and we will need to add custom handling not only to the fabric, but also to all of the SDKs to handle the modified format.

In my mind, this goes from a relatively straightforward fix, requiring a few days work, to something require weeks of design, addition implementation work, and a significant amount of compatibility testing.

If we decide to defer, it would be nice if we already had a clear path forward to fix it post v1.;;;","10/Jun/17 10:03 PM;denyeart;I spoke to SDK team, they said this change will not impact main path SDK consumers (e.g. get transaction, events). It will only change for consumers that want to parse through the block metadata (not common) - there will be an extra .metadata to navigate down. They said this change would make the metadata parsing consistent for consumers, and in current state it is awkward that one of the pieces of metadata does not follow the pattern of the others.

I agree with Jason, this is a relatively simple change prior to 1.0 release. I've spoken with SDK team and we can make a concurrent change.  Most consumers of beta will not notice the change, but we can mention it in the 1.0 release notes just in case.  But changing the block structure and a SDK API after 1.0 release, no matter how minor, will bring compatibility issues and therefore be a small nightmare both for us and for the many consumers of Fabric.

Although I don't like to see a change at the end of a release, the future risk of not doing this far outweighs the risk of doing it in my opinion.;;;","10/Jun/17 10:48 PM;manish-sethi;The changes on the peer side are in this CR - [https://gerrit.hyperledger.org/r/#/c/10299/.] The end to end tests will fail until SDK changes are made. Have created FAB-4505 for SDK changes. [~jimthematrix]'s idea was that the SDK team can support both the formats (current and the proposed) in the SDK so the tests pass and at a later point in time, they can remove the support for the stale format.;;;","11/Jun/17 5:22 AM;jimthematrix;The risk to do it now is relatively low because it's at the very tail of the transaction lifecycle and the only impacted component is the SDK, which we can handle rather easily.

However my understanding is that the ability to actually create the signatures would require significant design and implementation work. Isn't this the ""consensus"" round among the committers that was discussed at one point? Does anybody have an idea of how that might actually work? If it'll require introducing new APIs or modifying existing APIs anyway, why making this partial fix right now?

;;;","11/Jun/17 9:42 AM;ChristopherFerris;This suggests to me we really aren't done if every cycle, we have yet another ""omg we need to change this before 1.0"". It strongly suggests to me that we need to review the entire codebase for what we cannot easily deal with post 1.0 if we have a running blockchain and have an effective strategy for how we address change.;;;","11/Jun/17 7:17 PM;mastersingh24;After reading through everything here and thinking about this again, my vote is *NOT* to do this now.
These *little* things will keep adding up and we'll never be stable or ""done"" with a release.

There is no real hole here because we are talking about what we might / could / should do in the future.

And when it comes to making these changes in the future, it's really not that hard.;;;","11/Jun/17 8:58 PM;rickr;Is there rally a high risk of corruption in a production environment where server (Fabric) has been authenticated via a (TLS) certificate to client and the stream is protected by TLS /SSL?   A reverse case makes more sense since the server has no way to authenticate the client given we are not doing TLS mutual auth.;;;","11/Jun/17 10:08 PM;rickr;I'm probably missing the issue but have to ask.  BlockMetadata is just repeated bytes that can't be signed ?  
in V1.1 Block can't have an added a BlockMetaDataSignature across that?  The addition like this would be backward compatible ?;;;","11/Jun/17 10:54 PM;denyeart;[~mastersingh24] [~binhn] It is in fact easy to make this change in the future, in a way that breaks clients.  Just so we fully understand the risk of NOT doing this, could you provide your opinion of how this would be done in the future in a way that doesn't break clients? I believe there are ways but relatively awkward. Or are you saying that it is acceptable to simply make the change in the future and break clients?

Concerning the signature, the intent was to defer the actual signing until post-1.0, but just put the proto structure in place in 1.0 to ensure it is future-proof relative to adding a signature in the future, or any other field. ([~rickr] some of the metadata would be signed by orderer, some of the metadata would be signed by peer, that's why a single signature across all the metadata can't be used.);;;","12/Jun/17 2:04 AM;jyellick;My reading of this is:

1. We need a way to make breaking ABI changes to fabric, and assuming we have this mechanism (presumably some version set somewhere), this change is not that hard.
2. There is no way to make this change without breaking the ABI.  So, unless we address this pre-v1, we will have to wait until
    a) We have the mechanism in (1)
    b) We are okay with pushing a release that breaks ABI

Maybe the answer is we plan to have (a) in v1.1, and we have no intention of making v1.1 backwards compatible with v1 clients.  In that case, by all means, let's defer.

On the other hand, if we plan to do 6 months of design for (a) and want to wait two years before breaking the ABI, then it seems like we are leaving a long term ugly hole by deferring.;;;","12/Jun/17 10:23 PM;denyeart;Right, we MUST have a plan for the future before deciding to defer this.  If there is in fact a plan, I'm fine deferring it.;;;","15/Jun/17 11:41 AM;muralisr;Summarizing discussion in scrum and fabric-consensus

Currently we have the following structures to hold invalidtx bit array.
{code:java}
message Block {
    BlockHeader header = 1;
    BlockData data = 2;
    BlockMetadata metadata = 3;
}{code}

and
{code:java}
message BlockMetadata {
    repeated bytes metadata = 1;
}{code}
 

We use the above to set
{code:java}
block.Metadata.Metadata[common.BlockMetadataIndex_TRANSACTIONS_FILTER] = invalidTxBitMask{code}
 

The proposed solution  creates a new proto where the bit mask is part of a structure

 
{code:java}
message LedgerTxInfo {
    repeated bool invalid_txs = 1;
}{code}
 

An +existing+ signed Metadata structure is used to carry the above structure
{code:java}
block.Metadata.Metadata[common.BlockMetadataIndex_TRANSACTIONS_FILTER] = utils.MarshalOrPanic(&cb.Metadata{
         Value: utils.MarshalOrPanic(&cb. LedgerTxInfo{
         InvalidTxs: invaltxs,
    }),
    Signatures: ...,
}{code}
 


Bottom line
 * no change to existing proto but a new one added
 * clients such as SDK need to get LedgerTxInfo instead of the raw bit array from  block.Metadata.Metadata[common.BlockMetadataIndex_TRANSACTIONS_FILTER]
 * making such a change in future will invalidate past data and make it messy to handle;;;","15/Jun/17 9:38 PM;jimthematrix;[~muralisr] nice summary, but are we sure this is the case: _making such a change in future will invalidate past data and make it messy to handle_?

Why can't we support both structures at the same time when the enhancement is made some time in the future? We should be able to incrementally go through these steps:
# no signatures in v1.0
# add signatures in v1.5 and support a mix
# support signatures only in 2.0

I imagine this would not be the only proto change we would likely need to deal with so we need to be prepared to do something like the above in general.

To be honest we should be focusing our effort on making the v1.0 release much easier to use than what it is right now, by writing lots and lots of good documentations, tutorials, sample apps, tools. Every single day I hear from community users about usage errors and confusion. What we've got so far is a very solid platform but it's incredibly difficult to use and good documentation and education materials is sorely missing. Spending time on a relatively minor deficiency like this is the wrong focus.

;;;","15/Jun/17 10:28 PM;manish-sethi;BTW, an alternate strategy to not invalidate the past data with future changes - could be to store signatures into an altogether separate metadata index when we introduce that change (e.g., `common.BlockMetadataIndex_TRANSACTIONS_FILTER_SIGS`).;;;","15/Jun/17 11:24 PM;jyellick;Concluded in scrum to defer this, so moved to 'Future';;;","16/Jun/17 3:16 AM;muralisr;[~jimthematrix] Right now I totally agree doc, sample and focus on ease of use is important. However, seemed worthwhile getting to the bottom of  such a low level ledger change that could cause migration headaches later. The details hopefully helps determine the cost vs risk and steering towards right priorities.;;;","08/Aug/17 11:59 PM;rickr;[~binhn] [~mastersingh24] [~muralisr]  [~denyeart] Is this really going into v1.1 ?   If yes,  When's the ETA for this ?  Is there a pending CR ?

[~jimthematrix];;;","12/Aug/17 5:20 AM;denyeart;Discussed with [~jimthematrix], SDK could handle the change in data structure for the invalid byte array (SDK would tolerate both formats) easily enough for v1.1, but we need to think through the compatibility implications more fully, for example in the case of a mixed network of 1.0 and 1.1. The compatibility implications will be detailed out in FAB-5556 prior to proceeding with this work item.;;;","12/Aug/17 5:32 AM;jyellick;There is no strong reason to tackle this for v1.1 as far as I am concerned.  The real deficiency is if we ever want to change this field, and since we don't have a compelling reason to do so for v1.1, we can take our time and think of the best way to accomplish that change.;;;","12/Aug/17 5:52 AM;denyeart;I agree with Jason.  I'll remove the 1.1 tag, and we can consider for future once the compatibility story has settled down.;;;","23/Jan/20 4:15 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
typo long description of peer version command and some comments,FAB-4377,17508,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,nnao,nnao,nnao,06/Jun/17 3:26 AM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,06/Jun/17 7:41 AM,v1.0.0-alpha2,,,,,fabric-peer,,,,,,,0,quality,,,,,,,"peer help command shows a long description of peer version command below
“Print current version of the the fabric peer server.” It is a typo “the the”.
And I found same typos in some other source code comments
",,nnao,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxz1r:",,,,,,,,,,,,,,,,,,,,,,,,,,,nnao,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fail to start Orderer in daily chaincode test,FAB-4378,17510,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yuki-kon,yuki-kon,yuki-kon,06/Jun/17 4:05 AM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,07/Jun/17 11:07 PM,v1.0.0-alpha2,,,v1.0.0,,fabric-quality,,,,,,,0,,,,,,,,"Orderer fails to start in daily Chaincode test which works with a script ""test/regression/daily/chaincodeTests/envsetup/network_setup.sh""
The problem is that Orderer can't find genesis block correctly. Please see log messages below.
The root cause is found in ""test/regression/daily/chaincodeTests/envsetup/generateCfgTrx.sh""
The name of Orderer genesis block doesn't match the definition in docker-compose.yaml.

{code:java}
ubuntu@hyperledger-devenv:c9ecf9e:/opt/gopath/src/github.com/hyperledger/fabric$ docker logs orderer.example.com

... (snip) ...

2017-06-05 17:24:21.795 UTC [kvledger.util] logDirStatus -> DEBU 01c After creating dir - [/var/hyperledger/production/orderer/index/] exists

panic: Unable to bootstrap orderer. Error reading genesis block file: read /var/hyperledger/orderer/orderer.genesis.block: is a directory

 

goroutine 1 [running]:

panic(0xafe740, 0xc42032ca90)

        /opt/go/src/runtime/panic.go:500 +0x1a1

github.com/hyperledger/fabric/orderer/common/bootstrap/file.(*fileBootstrapper).GenesisBlock(0xc42032ca70, 0xc42001010c)

        /opt/gopath/src/github.com/hyperledger/fabric/orderer/common/bootstrap/file/bootstrap.go:44 +0x233

main.initializeBootstrapChannel(0xc420226000, 0x1179320, 0xc420328a60)

        /opt/gopath/src/github.com/hyperledger/fabric/orderer/main.go:139 +0x759

main.initializeMultiChainManager(0xc420226000, 0x11765e0, 0x11bd520, 0xc4201d9101, 0xc4201d9200)

        /opt/gopath/src/github.com/hyperledger/fabric/orderer/main.go:188 +0xa0

main.main()

        /opt/gopath/src/github.com/hyperledger/fabric/orderer/main.go:58 +0xb2

 {code}
",fabric: commit b4ed012f7e9635de4c4daf24c1d908e4bbd71956,scottz,yuki-kon,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-4081,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxz1z:",,,,,,,,,,,,,,,,,,,,,,,,,,,scottz,yuki-kon,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"07/Jun/17 12:31 AM;scottz;This looks like a duplicate of FAB-4081, for which a solution is in review: https://gerrit.hyperledger.org/r/#/c/10175/1;;;","07/Jun/17 1:14 AM;yuki-kon;Thank you, Scott. As you pointed out, this issue is duplicated. I added duplicate tag.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Cut v1.0.0-beta release,FAB-4379,17511,,Task,Closed,FAB,Fabric,software,denyeart,,,High,Done,JonathanLevi,ChristopherFerris,ChristopherFerris,06/Jun/17 4:14 AM,27/Nov/19 3:06 AM,28/Oct/23 2:59 AM,09/Jun/17 8:08 AM,v1.0.0-alpha2,,,v1.0.0-beta,,fabric-build,fabric-ca-build,fabric-sdk-java,fabric-sdk-node,,,,0,build-system,,,,,,,"Prepare and publish v1.0.0-beta release of Hyperledger Fabric 

 

Some related discussions also took place [here|https://docs.google.com/document/d/1mPTMjXG_b-mgZd2_EUN9W-82ez0PrWoxIiPgcAAABwE/edit#heading=h.7ylvqvqpim4]. ",,ChristopherFerris,david_dornseifer,Hangyu_FJH,harsha544,lehors,rameshthoomu,,,,,,,,,,,,,,,57600,57600,,0%,176400,176400,,,FAB-4185,FAB-4002,FABC-262,FAB-3215,FAB-4237,FABN-263,FAB-1678,FAB-4271,FAB-3054,FABCT-22,FABJ-165,FABN-487,FABC-561,,,,,,,,,,,,FABG-523,,,,,,FAB-4212,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3040,,,,,,,,,,"1|hzxz27:",,,,,,,,,,,,,,,2.0,,,,,,,,,,,,ChristopherFerris,david_dornseifer,Hangyu_FJH,harsha544,lehors,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"07/Jun/17 3:18 PM;lehors;I'll repeat here the comments I made on the previous ticket that is now closed:

Isn't this missing some task to upload the Getting Started tarballs as well?

This is what wasn't done until Saturday last time around, leaving everybody scrambling trying to get their hands on the script and tarball they needed.;;;","07/Jun/17 7:19 PM;ChristopherFerris;[~lehors] we should verify, but this is now part of the release process is my understanding.;;;","07/Jun/17 8:22 PM;lehors;How come? Do you mean they don't necessarily change?

I don't think that this matters. Making sure that the right tarballs and bootstrap.sh script are in place ought to be part of the release process. Otherwise there is no way to guarantee that when people follow the Getting Started doc they will get those pieces right.

 ;;;","08/Jun/17 4:06 AM;ChristopherFerris;[~lehors] they get pushed to Nexus when the tag is created per [~rameshthoomu];;;","08/Jun/17 4:32 AM;rameshthoomu;yes this job https://jenkins.hyperledger.org/view/fabric-binaries/ triggers on ref-updated gerrit event.. This happens when a release tag is created. 

[~lehors] I did pre-release testing on fabric binaries.. Pushed fabric binary snapshot tar balls to nexus snapshot URL and pulled images from rameshthoomu docker hub account. I tested this on linux-amd64, windows-amd64.. Just do curl this script which is compatible to windows and follow below commands

{code:java}
curl -L https://raw.githubusercontent.com/rameshthoomu/fabric/patch-2/scripts/bootstrap-1.0.0-alpha3.sh > bootstrap-1.0.0-alpha3.sh
chmod +x bootstrap-1.0.0-alpha3.sh
./bootstrap-1.0.0-alpha3.sh
cd release/windows-amd64
./network_setup restart beta 60
{code};;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
prepare Makefile for v1.0.0-beta release,FAB-4380,17512,17511,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ChristopherFerris,ChristopherFerris,ChristopherFerris,06/Jun/17 4:14 AM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,09/Jun/17 2:27 AM,,,,v1.0.0-beta,,fabric-build,,,,,,,0,build-system,,,,,,,"BASE_VERSION = 1.0.0-beta
 PREV_VERSION = 1.0.0-alpha2
 IS_RELEASE = true

docs/source/releases.rst should be updated with prose and link to release page

change log should be generated and linked from docs/source/releases.rst",,ChristopherFerris,JonathanLevi,,,,,,,,,,,,,,,,,,,3600,3600,,0%,3600,3600,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-4385,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxz2f:",,,,,,,,,,,,,,,1.0,,,,,,,,,,,,ChristopherFerris,JonathanLevi,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"08/Jun/17 5:15 AM;JonathanLevi;Gerrit CR: [https://gerrit.hyperledger.org/r/#/c/10261/]

Please note that the CR includes assigning LICENSE info for 2 tests as also discussed here: [https://chat.hyperledger.org/channel/fabric-release?msg=2p3pW6YjkQ3naDnKi];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
prepare Makefile for v1.0.0-beta release,FAB-4381,17513,17511,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ChristopherFerris,ChristopherFerris,ChristopherFerris,06/Jun/17 4:14 AM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,09/Jun/17 2:27 AM,v1.0.0-beta,,,v1.0.0-beta,,fabric-ca-build,,,,,,,0,build-system,,,,,,,"BASE_VERSION = 1.0.0-beta
 IS_RELEASE = true

 generate changelog",,ChristopherFerris,,,,,,,,,,,,,,,,,,,,3600,3600,,0%,3600,3600,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-4386,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxz2n:",,,,,,,,,,,,,,,1.0,,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
prepare Makefile for v1.0.0-rc1,FAB-4382,17514,17511,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ChristopherFerris,ChristopherFerris,ChristopherFerris,06/Jun/17 4:14 AM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,09/Jun/17 5:51 AM,v1.0.0-beta,,,v1.0.0,,fabric-ca-build,,,,,,,0,build-system,,,,,,,"PROJECT_NAME = fabric-ca
 BASE_VERSION = 1.0.0-rc1
 IS_RELEASE = false",,ChristopherFerris,,,,,,,,,,,,,,,,,,,,3600,3600,,0%,3600,3600,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxz2v:",,,,,,,,,,,,,,,1.0,,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"08/Jun/17 6:04 AM;ChristopherFerris;https://gerrit.hyperledger.org/r/#/c/10305/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
prepare Makefile for v1.0.0-rc1,FAB-4383,17515,17511,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ChristopherFerris,ChristopherFerris,ChristopherFerris,06/Jun/17 4:14 AM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,09/Jun/17 7:36 AM,v1.0.0-beta,,,v1.0.0,,fabric-build,,,,,,,0,build-system,,,,,,,"BASE_VERSION = 1.0.0-rc1
 PREV_VERSION = 1.0.0-beta
 IS_RELEASE = false",,ChristopherFerris,,,,,,,,,,,,,,,,,,,,3600,3600,,0%,3600,3600,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxz33:",,,,,,,,,,,,,,,1.0,,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"08/Jun/17 6:04 AM;ChristopherFerris;https://gerrit.hyperledger.org/r/#/c/10301/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
update Getting Started link to resolve to v1.0.0-beta bootstrap.sh,FAB-4384,17516,17511,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ChristopherFerris,ChristopherFerris,ChristopherFerris,06/Jun/17 4:14 AM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,09/Jun/17 2:27 AM,v1.0.0-beta,,,v1.0.0-beta,,fabric-docs,,,,,,,0,Documentation,,,,,,,"create shortened URL that resolves to v1.0.0-rc1 tagged version of bootstrap script

scripts/bootstrap-v1.0.0-rc1.sh",,ChristopherFerris,,,,,,,,,,,,,,,,,,,,3600,3600,,0%,3600,3600,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxz3b:",,,,,,,,,,,,,,,1.0,,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"07/Jun/17 8:35 AM;ChristopherFerris;https://gerrit.hyperledger.org/r/#/c/10247/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
tag v1.0.0-beta release of fabric,FAB-4385,17517,17511,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,JonathanLevi,ChristopherFerris,ChristopherFerris,06/Jun/17 4:14 AM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,09/Jun/17 2:27 AM,v1.0.0-beta,,,v1.0.0-beta,,fabric-build,,,,,,,0,build-system,,,,,,,"NOTE: Tag release with the release_notes/v1.0.0-beta.md as the tag comment

 

% git tag \-a v1.0.0-beta \-F release_notes/v1.0.0-beta.md

 

tag release with a commit message that includes:

release notes

known vulnerabilities

other known issues

changelog link",,ChristopherFerris,,,,,,,,,,,,,,,,,,,,3600,3600,,0%,3600,3600,,,FAB-4380,FAB-4391,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxz3j:",,,,,,,,,,,,,,,1.0,,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
tag v1.0.0-beta release of fabric-ca,FAB-4386,17518,17511,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,JonathanLevi,ChristopherFerris,ChristopherFerris,06/Jun/17 4:14 AM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,09/Jun/17 2:28 AM,v1.0.0-beta,,,v1.0.0-beta,,fabric-ca-build,,,,,,,0,build-system,,,,,,," 

NOTE: Tag release with the release_notes/v1.0.0-beta.md as the tag comment

 

% git tag \-a v1.0.0-beta \-F release_notes/v1.0.0-beta.md

 

tag release with a commit message that includes:

release notes

known vulnerabilities

other known issues

changelog link

create change log",,ChristopherFerris,,,,,,,,,,,,,,,,,,,,3600,3600,,0%,3600,3600,,,FAB-4381,FAB-4392,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxz3r:",,,,,,,,,,,,,,,1.0,,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
publish v1.0.0-beta release node sdk,FAB-4387,17519,17511,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jimthematrix,ChristopherFerris,ChristopherFerris,06/Jun/17 4:14 AM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,09/Jun/17 1:25 AM,v1.0.0-beta,,,v1.0.0-beta,,fabric-sdk-node,,,,,,,0,build-system,,,,,,,"See instructions in FAB-2802.

these will trigger CI to publish to npm:
fabric-client/package.json: version=1.0.0-beta
fabric-ca-client/package.json: version=1.0.0-beta

examples/balance-transfer update to target 1.0.0-beta artifacts for docker images, and fabric-client and fabric-ca-client npm",,ChristopherFerris,,,,,,,,,,,,,,,,,,,,28800,28800,,0%,28800,28800,,,FAB-4389,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxz3z:",,,,,,,,,,,,,,,1.0,,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"08/Jun/17 10:30 PM;jimthematrix;http://gerrit.hyperledger.org/r/10329;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
publish v1.0.0-beta java sdk,FAB-4388,17520,17511,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rickr,ChristopherFerris,ChristopherFerris,06/Jun/17 4:14 AM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,09/Jun/17 7:36 AM,v1.0.0-beta,,,v1.0.0-beta,,fabric-sdk-java,,,,,,,0,build-system,,,,,,,,,ChristopherFerris,rameshthoomu,,,,,,,,,,,,,,,,,,,28800,28800,,0%,28800,28800,,,FAB-4390,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxz47:",,,,,,,,,,,,,,,1.0,,,,,,,,,,,,ChristopherFerris,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"09/Jun/17 6:53 AM;rameshthoomu;Published 1.0.0-beta java jar to maven central. Followed the release process as per the steps mentioned here https://github.com/hyperledger/fabric-sdk-java/blob/master/docs/java_sdk_release.md and published to maven central.
Will take some time to sync here https://mvnrepository.com/artifact/org.hyperledger.fabric-sdk-java/fabric-sdk-java but till then you can download 1.0.0-beta version from here http://repo1.maven.org/maven2/org/hyperledger/fabric-sdk-java/fabric-sdk-java/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
tag v1.0.0-beta for fabric-sdk-node,FAB-4389,17521,17511,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jimthematrix,ChristopherFerris,ChristopherFerris,06/Jun/17 4:14 AM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,09/Jun/17 1:37 AM,v1.0.0-beta,,,v1.0.0-beta,,fabric-sdk-node,,,,,,,0,,,,,,,,"NOTE: Tag release with the release_notes/v1.0.0-beta.md as the tag comment

 

% git tag \-a v1.0.0-beta \-F release_notes/v1.0.0-beta.md

 

tag release with a commit message that includes:

release notes

known vulnerabilities

other known issues

changelog link

create change log 

 ",,ChristopherFerris,,,,,,,,,,,,,,,,,,,,3600,3600,,0%,3600,3600,,,FAB-4393,,,,,,,,,,,,,,,,,,,,,,,,FAB-4387,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxz4f:",,,,,,,,,,,,,,,1.0,,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"09/Jun/17 1:35 AM;jimthematrix;wasn't able to push to gerrit successfully because of the following error (due to the remote HEAD already moved past the tagged commit). But as a result the tag was created in github successfully.

jimzhang:fabric-sdk-node jimzhang$ git push origin v1.0.0-beta HEAD:refs/heads/master
Counting objects: 1, done.
Writing objects: 100% (1/1), 169 bytes | 0 bytes/s, done.
Total 1 (delta 0), reused 0 (delta 0)
remote: Processing changes: refs: 1, done    
To ssh://gerrit.hyperledger.org:29418/fabric-sdk-node
 * [new tag]         v1.0.0-beta -> v1.0.0-beta
 ! [rejected]        HEAD -> master (non-fast-forward)
error: failed to push some refs to 'ssh://jimthematrix@gerrit.hyperledger.org:29418/fabric-sdk-node'
hint: Updates were rejected because the tip of your current branch is behind
hint: its remote counterpart. Integrate the remote changes (e.g.
hint: 'git pull ...') before pushing again.
hint: See the 'Note about fast-forwards' in 'git push --help' for details.
;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
tag v1.0.0-beta release of fabric-sdk-java,FAB-4390,17522,17511,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rickr,ChristopherFerris,ChristopherFerris,06/Jun/17 4:14 AM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,09/Jun/17 5:20 AM,v1.0.0-beta,,,v1.0.0-beta,,fabric-sdk-java,,,,,,,0,build-system,,,,,,,"NOTE: Tag release with the release_notes/v1.0.0-beta.md as the tag comment

 

% git tag \-a v1.0.0-beta \-F release_notes/v1.0.0-beta.md

 

tag release with a commit message that includes:

release notes

known vulnerabilities

other known issues

changelog link",,ChristopherFerris,,,,,,,,,,,,,,,,,,,,3600,3600,,0%,3600,3600,,,FAB-4394,,,,,,,,,,,,,,,,,,,,,,,,FAB-4388,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxz4n:",,,,,,,,,,,,,,,1.0,,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
create release notes text for fabric,FAB-4391,17523,17511,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ChristopherFerris,ChristopherFerris,ChristopherFerris,06/Jun/17 4:14 AM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,09/Jun/17 2:28 AM,v1.0.0-alpha2,,,v1.0.0-beta,,fabric-build,,,,,,,0,build-system,,,,,,,create release notes for fabric text that generalize the nature of changes since v1.0.0-alpha2,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,3600,3600,,0%,3600,3600,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-4385,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxz4v:",,,,,,,,,,,,,,,1.0,,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"07/Jun/17 9:16 AM;ChristopherFerris;https://gerrit.hyperledger.org/r/#/c/10153/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
create release notes for fabric-ca,FAB-4392,17524,17511,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,smithbk,ChristopherFerris,ChristopherFerris,06/Jun/17 4:14 AM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,08/Jun/17 10:35 PM,v1.0.0-beta,,,DUPLICATE,,fabric-ca-build,,,,,,,0,build-system,,,,,,,create release notes that generalize the changes since alpha2 to be used in release tag,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,3600,3600,,0%,3600,3600,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-4386,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxz53:",,,,,,,,,,,,,,,1.0,,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"07/Jun/17 9:03 AM;ChristopherFerris;[https://gerrit.hyperledger.org/r/#/c/10157/]

 ;;;","08/Jun/17 10:36 PM;ChristopherFerris;merged this CR with the release CR for simplicity's sake;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
create v1.0.0-beta release notes for fabric-sdk-node,FAB-4393,17525,17511,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ChristopherFerris,ChristopherFerris,ChristopherFerris,06/Jun/17 4:14 AM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,09/Jun/17 1:37 AM,v1.0.0-alpha2,,,v1.0.0-beta,,fabric-sdk-node,,,,,,,0,build-system,,,,,,,"create release notes for v1.0.0-beta that generalize changes since v1.0.0-alpha2

generate changelog",,ChristopherFerris,,,,,,,,,,,,,,,,,,,,3600,3600,,0%,3600,3600,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-4389,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxz5b:",,,,,,,,,,,,,,,1.0,,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"07/Jun/17 9:04 AM;ChristopherFerris;https://gerrit.hyperledger.org/r/#/c/10159/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
create v1.0.0-beta release notes for fabric-sdk-java,FAB-4394,17526,17511,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ChristopherFerris,ChristopherFerris,ChristopherFerris,06/Jun/17 4:14 AM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,09/Jun/17 2:28 AM,v1.0.0-beta,,,v1.0.0-beta,,fabric-sdk-java,,,,,,,0,build-system,,,,,,,create release notes that generalize the changes since v1.0.0-alpha2,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,3600,3600,,0%,3600,3600,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-4390,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxz5j:",,,,,,,,,,,,,,,1.0,,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"07/Jun/17 9:06 AM;ChristopherFerris;https://gerrit.hyperledger.org/r/#/c/10161/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
prepare fabric-sdk-node repo for rc1 development,FAB-4395,17527,17511,Sub-task,Closed,FAB,Fabric,software,denyeart,,,High,Done,jimthematrix,denyeart,ChristopherFerris,06/Jun/17 4:14 AM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,09/Jun/17 1:25 AM,,,,v1.0.0-rc1,,fabric-sdk-node,,,,,,,0,,,,,,,,"See instructions in FAB-2802.

change versions of fabric-client and fabric-ca-client back to 1.0.0-snapshot",,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxz5r:",,,,,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"08/Jun/17 11:50 PM;jimthematrix;http://gerrit.hyperledger.org/r/10349;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
push v1.0.0-beta docker images to dockerhub,FAB-4396,17528,17511,Sub-task,Closed,FAB,Fabric,software,denyeart,,,High,Done,bmos299,denyeart,ChristopherFerris,06/Jun/17 4:14 AM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,09/Jun/17 3:18 AM,,,,v1.0.0-beta,,,,,,,,,0,,,,,,,,,,ChristopherFerris,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxz5z:",,,,,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"09/Jun/17 2:06 AM;rameshthoomu;published fabric-ca docker image to hyperledger docker hub account.. https://hub.docker.com/r/hyperledger/fabric-ca/tags/;;;","09/Jun/17 3:17 AM;rameshthoomu;Published fabric docker images to hyperledger docker hub account. https://hub.docker.com/r/hyperledger/fabric-peer/tags/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
push v1.0.0-beta release artifacts to nexus,FAB-4397,17529,17511,Sub-task,Closed,FAB,Fabric,software,denyeart,,,High,Done,bmos299,denyeart,ChristopherFerris,06/Jun/17 4:14 AM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,09/Jun/17 4:13 AM,,,,v1.0.0-beta,,,,,,,,,0,,,,,,,,"Push all release artifacts including:

binaries (confixtxgen, cryptogen, fabric ca client cli, config update tool)

e2e sample artifacts

docker compose artifacts",,ChristopherFerris,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxz67:",,,,,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"09/Jun/17 4:13 AM;rameshthoomu;published fabric-binaries to nexus releases URL.. Below is the link for reference https://nexus.hyperledger.org/content/repositories/snapshots/org/hyperledger/fabric/fabric-binary/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
test download of v1.0.0-beta release artifacts and e2e sample across all platforms,FAB-4398,17530,17511,Sub-task,Closed,FAB,Fabric,software,denyeart,,,High,Done,bmos299,denyeart,ChristopherFerris,06/Jun/17 4:14 AM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,09/Jun/17 6:50 AM,,,,v1.0.0-beta,,fabric-quality,,,,,,,0,,,,,,,,"Ideally use automated approach from FAB-4275, as well as manual test to ensure consumability of the download process and e2e experience.",,ChristopherFerris,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-4275,,,,,,,,,,,,,,,,,,,,"09/Jun/17 6:49 AM;rameshthoomu;Capture.PNG;https://jira.hyperledger.org/secure/attachment/11000/Capture.PNG",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxz6f:",,,,,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"09/Jun/17 5:19 AM;ChristopherFerris;There are some attendant issues with Windows platforms, but seems to be working as expected. JIRAs being created to add a troubleshooting section to Getting Started.;;;","09/Jun/17 6:49 AM;rameshthoomu;Pulled beta docker images, and appropriate fabric-binary tar file. Verified **e2e cli** tests using these on `x86_64`, `s390x`, `ppc64le`, darwin and windows 7 64 bit platforms and it worked as expected. Below are the CI jobs triggered based on beta docker images.

Please see the downstream jobs of the below job
 !Capture.PNG|thumbnail! https://jenkins.hyperledger.org/sandbox/job/Release_jobs/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
prepare and deliver v1.0.0-beta announcement email,FAB-4399,17531,17511,Sub-task,Closed,FAB,Fabric,software,denyeart,,,High,Done,JonathanLevi,denyeart,ChristopherFerris,06/Jun/17 4:14 AM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,09/Jun/17 8:08 AM,,,,v1.0.0-beta,,,,,,,,,0,,,,,,,,"Prepare, review, and ultimately deliver beta announcement email to fabric mailing list.",,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxz6n:",,,,,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"09/Jun/17 8:08 AM;ChristopherFerris;just needs sign-off by [~JonathanLevi];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Peer CLI to automatically find chaincode dependency and package for install,FAB-4401,17534,15060,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ghaskins,jimthematrix,jimthematrix,06/Jun/17 5:00 AM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,06/Jun/17 5:00 AM,v1.0.0-alpha2,,,v1.0.0,v1.0.0-beta,fabric-peer,,,,,,,0,,,,,,,,"see the parent JIRA for details.

this work has been accomplished by https://gerrit.hyperledger.org/r/#/c/6991/",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-4402,FAB-4403,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxz73:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
node SDK to automatically find chaincode dependency and package for install,FAB-4402,17535,15060,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid,,jimthematrix,jimthematrix,06/Jun/17 5:01 AM,30/Oct/19 1:41 AM,28/Oct/23 2:59 AM,30/Oct/19 1:41 AM,v1.0.0-alpha2,,,Future,,fabric-sdk-node,,,,,,,0,,,,,,,,"see the parent JIRA for details.
",,heatherp,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-4401,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxz7b:",,,,,,,,,,,,,,,,,,,,,,,,,,,heatherp,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"30/Oct/19 1:41 AM;heatherp;Hi, I've been working through the node sdk backlog with the maintainers and as this was raised some time ago, I'm closing.   The high-level node sdk APIs have been available for some time, and this issue may be covered by functionality provided there: https://hyperledger-fabric.readthedocs.io/en/latest/write_first_app.html  Please re-open if this issue is still affecting you, and the functionality is not available in the low-level or high-level node sdk APIs, thanks.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
java SDK to automatically find chaincode dependency and package for install,FAB-4403,17536,15060,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,jimthematrix,jimthematrix,06/Jun/17 5:02 AM,12/Sep/18 2:08 AM,28/Oct/23 2:59 AM,12/Sep/18 2:08 AM,v1.0.0-alpha2,,,Future,,fabric-sdk-java,,,,,,,0,,,,,,,,"see the parent JIRA for details.
",,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-4401,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxz7j:",,,,,,,,,,,,,,,,,,,,,,,,,,,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"12/Sep/18 2:08 AM;rickr;This is a function that is done I think with GO. The java sdk does not have this api. I don't think this should be a requirement for the Java SDK.  Users need to Vendorize their dependences. ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Create repository for ""hyperledger/fabric-tools"" docker image in hyperledger docker hub account.",FAB-4405,17539,17239,Sub-task,Closed,FAB,Fabric,software,denyeart,,,High,Done,rameshthoomu,rameshthoomu,rameshthoomu,06/Jun/17 6:40 AM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,18/Jul/17 1:44 AM,v1.0.0-alpha2,,,v1.0.0,,fabric-build,,,,,,,0,quality,,,,,,,"Create repository for ""hyperledger/fabric-tools"" docker image in hyperledger docker hub account.",,rameshthoomu,ryjones,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxz7z:",,,,,,,,,,,,,,,,,,,,,,,,,,,rameshthoomu,ryjones,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"06/Jun/17 6:48 AM;ryjones;[https://hub.docker.com/r/hyperledger/fabric-tools/]

same privileges as all other fabric repos

please give me short description and long description;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
publish hyperledger/fabric-tools docker image to hyperledger docker hub account,FAB-4406,17540,17239,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,rameshthoomu,rameshthoomu,06/Jun/17 7:12 AM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,07/Jun/17 2:08 AM,,,,v1.0.0-beta,,fabric-build,,,,,,,0,build-system,quality,,,,,,publish hyperledger/fabric-tools docker image to hyperledger docker hub account,,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxz87:",,,,,,,,,,,,,,,,,,,,,,,,,,,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"07/Jun/17 2:08 AM;rameshthoomu;patch set has been created and merged.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
update download_dockerimages.sh script with tools docker image,FAB-4407,17541,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,rameshthoomu,rameshthoomu,06/Jun/17 7:17 AM,21/Jul/18 3:56 AM,28/Oct/23 2:59 AM,09/Jun/17 8:56 AM,v1.0.0,,,v1.0.0-beta,,fabric-build,,,,,,,0,build-system,quality,,,,,,update download_dockerimages.sh script with tools docker image. https://github.com/hyperledger/fabric/blob/master/examples/e2e_cli/download-dockerimages.sh#L20,,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzxz8f:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"09/Jun/17 8:56 AM;rameshthoomu;This issue is fixed in this patch set https://gerrit.hyperledger.org/r/#/c/10261/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add retry logic to steps that should not halt the chain processing,FAB-4408,17547,17054,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,kchristidis,kchristidis,kchristidis,06/Jun/17 4:17 PM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,12/Jun/17 5:56 PM,v1.0.0-alpha2,,,v1.0.0,,fabric-orderer,,,,,,,0,kafka,,,,,,,"These steps, all part of the Chain's `Start()` method, are:
 # Producer creation
 # Posting of CONNECT message
 # Consumer creation

Each of these steps is wrapped inside a short/long retry loop.

 ",,kchristidis,troyronda,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxz8n:",,,,,,,,,,,,,,,,,,,,,,,,,,,kchristidis,troyronda,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"06/Jun/17 4:25 PM;kchristidis;Code completed and UTs pass.

Experimenting with integration tests.;;;","06/Jun/17 5:57 PM;kchristidis;Here's what needs to be revised with the current approach:

When an OSN restarts, it ranges over the existing chains and starts them one by one: [https://github.com/hyperledger/fabric/blob/master/orderer/multichain/manager.go#L133]

When a new chain creation request comes, the OSN starts it and moves along: [https://github.com/hyperledger/fabric/blob/master/orderer/multichain/manager.go#L191]

Implicit in both of these instances is the assumption that the `Chain.Start()` call will return right away.

With our fix however, this is not necessarily the case. We might bump into a channel owned by a replica that's inaccessible — in this case the multichain manager may be ""stuck"" starting that channel for the next, say, 10 hours (or whatever LongTotal is set to). This will block the loading of all other channels. This is not acceptable.

I'll think of a proper fix to this tomorrow with a clear head.

The first thought that comes to mind now (make `Chain.Start()` for Kafka a no-op, and move the `retrySetupProducer`, `retryPostConnect`, and `retrySetupConsumer` functions in the `processMessagesToBlocks` goroutine that is launched by `Chain.Start()`) strikes me as hackish.;;;","08/Jun/17 12:56 PM;kchristidis;[https://gerrit.hyperledger.org/r/#/c/10319/];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
As a fabric developer I want BCCP factory configuration to be optional,FAB-4410,17550,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,angelo.decaro,angelo.decaro,angelo.decaro,06/Jun/17 6:17 PM,21/Jul/18 3:55 AM,28/Oct/23 2:59 AM,14/Mar/18 8:59 PM,v1.0.0-alpha2,,,v1.1.1,,fabric-crypto,,,,,,,1,Documentation,quality,review-needed,Security,,,,"In order to address FAB-4274 wrt the BCCSP section, the *Hash* and *Security* fields will be made optional. This will simplify the file of the developer who does not have to care about which value to put in those fields. Defaults value will be set automatically by fabric.",,angelo.decaro,ChristopherFerris,elli-androulaki,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,FAB-4274,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzxz93:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,angelo.decaro,ChristopherFerris,elli-androulaki,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"06/Jun/17 8:33 PM;ChristopherFerris;This isn't a bug, it is an improvement.;;;","06/Jun/17 8:45 PM;angelo.decaro;Sorry for the misclassification, just updated.;;;","11/Aug/17 6:45 PM;elli-androulaki;[~angelo.decaro], is there anything else that needs to be done in this one? 

If not, we should close it :);;;","15/Sep/17 12:07 AM;ChristopherFerris;Why is this review-needed? [~elli-androulaki] [~angelo.decaro];;;","28/Sep/17 7:45 PM;kchristidis;[~elli-androulaki], [~angelo.decaro]: Bumping this up. What is the plan here? Do we revive this for 1.1? Please update.;;;","14/Mar/18 8:59 PM;elli-androulaki;Closing this, as per Angelo's request.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
orderer should report version info,FAB-4411,17552,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,mastersingh24,ChristopherFerris,mastersingh24,06/Jun/17 7:17 PM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,07/Jun/17 12:47 AM,v1.0.0-alpha2,,,v1.0.0,,fabric-orderer,,,,,,,0,configuration,,,,,,,configtxlator should report version info so that users can know which version of the tool they are using.,,mastersingh24,,,,,,,,,,,,,,,,,,";06/Jun/17 8:23 PM;mastersingh24;1800",";06/Jun/17 8:24 PM;mastersingh24;300",28800,0,2100,7%,28800,0,2100,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-4413,,FAB-4352,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxz9b:",,,,,,,,,,,,,,,,,,,,,,,,,,,mastersingh24,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"06/Jun/17 8:23 PM;mastersingh24;http://gerrit.hyperledger.org/r/10205;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
false build results on fabric go unit-tests,FAB-4412,17553,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,rameshthoomu,rameshthoomu,06/Jun/17 8:49 PM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,06/Jun/17 10:37 PM,,,,v1.0.0,v1.0.0-beta,fabric-build,,,,,,,0,,,,,,,,Observed unit-tests are failing but the build status is shows success.. Suspecting this because of the gocov is not generating html report but the corresponding change was not merged in CI.,,mastersingh24,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxz9j:",,,,,,,,,,,,,,,,,,,,,,,,,,,mastersingh24,rameshthoomu,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"06/Jun/17 10:37 PM;mastersingh24;https://gerrit.hyperledger.org/r/#/c/10207/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
peer should report version info on startup,FAB-4413,17554,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,mastersingh24,ChristopherFerris,mastersingh24,06/Jun/17 9:11 PM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,07/Jun/17 3:23 AM,v1.0.0-alpha2,,,v1.0.0,,fabric-peer,,,,,,,0,configuration,,,,,,,configtxlator should report version info so that users can know which version of the tool they are using.,,mastersingh24,,,,,,,,,,,,,,,,,,";06/Jun/17 10:34 PM;mastersingh24;2400",,28800,0,2400,8%,28800,0,2400,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-4411,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxz9r:",,,,,,,,,,,,,,,,,,,,,,,,,,,mastersingh24,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"06/Jun/17 9:13 PM;mastersingh24;One could argue this is an improvement, but given the series of updates to the tools and orderer, the peer not being consistent in behavior is now a bug IMHO;;;","06/Jun/17 10:34 PM;mastersingh24;http://gerrit.hyperledger.org/r/10213;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Sign 1.0.0-alpha3 fabric-sdk-java jar file,FAB-4414,17559,17239,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jwagantall,mastersingh24,mastersingh24,06/Jun/17 10:55 PM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,07/Jun/17 9:10 AM,v1.0.0-beta,,,WON'T FIX,,fabric-build,fabric-sdk-java,,,,,,0,,,,,,,,"Before the fabric-sdk-java release jar / artifact can be published to [http://central.sonatype.org/] (aka Maven Central, Central Repository), a detached signature needs to be created by [~ryjones] or [~jwagantall]",,mastersingh24,rickr,ryjones,,,,,,,,,,,,,,,,,,7200,7200,,0%,7200,7200,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-4417,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxz9z:",,,,,,,,,,,,,,,,,,,,,,,,,,,mastersingh24,rickr,ryjones,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Channel creation fails intermittently with kafka ordering service,FAB-4415,17562,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,Ratnakar,Ratnakar,Ratnakar,06/Jun/17 11:07 PM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,12/Jun/17 1:08 AM,v1.0.0-alpha2,,,WON'T FIX,,fabric-orderer,,,,,,,0,kafka,,,,,,,"Commit Level : *c50e0dd1ca1ea96cb69503fc83a302c53eff96a6*

Channel creation fails intermittently , with the following network configuration
{panel}
3 Kafka brokers with 3 zookeepers
 3 Ordererers
 2 Peer Organizations (each org contains two peers)
 4 CLI containers to run the ccchecker tool, which sends concurrrent transactions on to each peer
{panel}
+Gist of each component logs:+

_*CLI container logs :*_

 
{code:java}
Error: Got unexpected status: SERVICE_UNAVAILABLE
Usage:
 peer channel create [flags]
{code}
_*orderer0.example.com*_
{code:java}
2017-06-06 13:44:25.309 UTC [orderer/common/broadcast] Handle -> INFO 486 Consenter instructed us to shut down
2017-06-06 13:44:25.311 UTC [orderer/common/deliver] Handle -> WARN 487 Error reading from stream: rpc error: code = Canceled desc = context canceled{code}
*NOTE* : Attached complete logs [^success-case.tar.gz] [^failure-case.tar.gz] (both success and failure cases)

+*How to reproduce the issue:*+

Clone the repo [https://github.com/asararatnakar/chaincodechecker]
{panel}
git clone [https://github.com/asararatnakar/chaincodechecker]
 cd chaincodechecker
 ./network_setup restart
{panel}
Similar to e2e_cli sample, the docker-compose here will launch 4 cli containers and one of the cli container (org1.cli) will create the channel by connecting to the orderer (orderer0.example.com)

Fails with below error message while creating the channel

 
{code:java}
2017-06-06 13:44:25.250 UTC [msp] GetLocalMSP -> DEBU 004 Returning existing local MSP
2017-06-06 13:44:25.250 UTC [msp] GetDefaultSigningIdentity -> DEBU 005 Obtaining default signing identity
2017-06-06 13:44:25.252 UTC [channelCmd] InitCmdFactory -> INFO 006 Endorser and orderer connections initialized
2017-06-06 13:44:25.252 UTC [msp] GetLocalMSP -> DEBU 007 Returning existing local MSP
2017-06-06 13:44:25.252 UTC [msp] GetDefaultSigningIdentity -> DEBU 008 Obtaining default signing identity
2017-06-06 13:44:25.252 UTC [msp] GetLocalMSP -> DEBU 009 Returning existing local MSP
2017-06-06 13:44:25.252 UTC [msp] GetDefaultSigningIdentity -> DEBU 00a Obtaining default signing identity
2017-06-06 13:44:25.253 UTC [msp/identity] Sign -> DEBU 00b Sign: plaintext: 0AA8060A074F7267314D5350129C062D...53616D706C65436F6E736F727469756D 
2017-06-06 13:44:25.253 UTC [msp/identity] Sign -> DEBU 00c Sign: digest: 3FE77045136C16BF38B0443A01D08C9432DAFBCC6F97DBCD2BF9C6E1BA90E589 
2017-06-06 13:44:25.253 UTC [msp] GetLocalMSP -> DEBU 00d Returning existing local MSP
2017-06-06 13:44:25.253 UTC [msp] GetDefaultSigningIdentity -> DEBU 00e Obtaining default signing identity
2017-06-06 13:44:25.253 UTC [msp] GetLocalMSP -> DEBU 00f Returning existing local MSP
2017-06-06 13:44:25.253 UTC [msp] GetDefaultSigningIdentity -> DEBU 010 Obtaining default signing identity
2017-06-06 13:44:25.253 UTC [msp/identity] Sign -> DEBU 011 Sign: plaintext: 0AE0060A1608021A0608B9E3DAC90522...D5DB4D93EA23A4448C205B64A7A62DFF 
2017-06-06 13:44:25.253 UTC [msp/identity] Sign -> DEBU 012 Sign: digest: CEF13BC4FE1A10EAE549BDFE0FC0FCA5C315A3ADAC6D41E2A5C7C6E5DDEF2B5A 
Error: Got unexpected status: SERVICE_UNAVAILABLE
Usage:
 peer channel create [flags]
Global Flags:
 -b, --blockpath string Path to file containing genesis block
 --cafile string Path to file containing PEM-encoded trusted certificate(s) for the ordering endpoint
 -c, --chain string In case of a newChain command, the chain ID to create.
 -f, --file string Configuration transaction file generated by a tool such as configtxgen for submitting to orderer
 --logging-level string Default logging level and overrides, see core.yaml for full syntax
 -o, --orderer string Ordering service endpoint
 --test.coverprofile string Done (default ""coverage.cov"")
 -t, --timeout int Channel creation timeout (default 5)
 --tls Use TLS when communicating with the orderer endpoint
 -v, --version Display current version of fabric peer server
!!!!!!!!!!!!!!! Channel================== ERROR !!! FAILED to execute End-2-End Scenario ================== 
{code}",,kchristidis,Ratnakar,scottz,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"10/Jun/17 5:09 AM;Ratnakar;docker-files.zip;https://jira.hyperledger.org/secure/attachment/11013/docker-files.zip","06/Jun/17 11:05 PM;Ratnakar;failure-case.tar.gz;https://jira.hyperledger.org/secure/attachment/10946/failure-case.tar.gz","06/Jun/17 11:37 PM;Ratnakar;instantiate_failure.tar.gz;https://jira.hyperledger.org/secure/attachment/10952/instantiate_failure.tar.gz","10/Jun/17 6:13 AM;Ratnakar;script.sh;https://jira.hyperledger.org/secure/attachment/11017/script.sh","06/Jun/17 11:05 PM;Ratnakar;success-case.tar.gz;https://jira.hyperledger.org/secure/attachment/10945/success-case.tar.gz","07/Jun/17 12:57 AM;Ratnakar;with_kafka_verbose.tar.gz;https://jira.hyperledger.org/secure/attachment/10954/with_kafka_verbose.tar.gz","10/Jun/17 4:05 AM;Ratnakar;with_patch_10323.tar.gz;https://jira.hyperledger.org/secure/attachment/11012/with_patch_10323.tar.gz",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxza7:",,,,,,,,,,,,,,,,,,,,,,,,,,,kchristidis,Ratnakar,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"06/Jun/17 11:38 PM;Ratnakar;Some times after channel creation is successful, we do see failures with instantiate.

Attached  the logs [^instantiate_failure.tar.gz]

 

^Gist of error logs for reference^

 
{code:java}
Instantiating chaincode on on each Organization
CORE_PEER_TLS_ROOTCERT_FILE=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/ca.crt
CORE_PEER_TLS_KEY_FILE=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.key
CORE_PEER_LOCALMSPID=Org1MSP
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
CORE_PEER_TLS_CERT_FILE=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.crt
CORE_PEER_TLS_ENABLED=false
CORE_PEER_MSPCONFIGPATH=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp
CORE_PEER_ID=org1.cli
CORE_LOGGING_LEVEL=DEBUG
CORE_PEER_ADDRESS=peer0.org1.example.com:7051
2017-06-06 14:33:32.517 UTC [msp] getMspConfig -> INFO 001 intermediate certs folder not found at [/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp/intermediatecerts]. Skipping.: [stat /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp/intermediatecerts: no such file or directory]
2017-06-06 14:33:32.518 UTC [msp] getMspConfig -> INFO 002 crls folder not found at [/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp/intermediatecerts]. Skipping.: [stat /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp/crls: no such file or directory]
2017-06-06 14:33:32.518 UTC [msp] getMspConfig -> INFO 003 MSP configuration file not found at [/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp/config.yaml]: [stat /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp/config.yaml: no such file or directory]
2017-06-06 14:33:32.567 UTC [msp] GetLocalMSP -> DEBU 004 Returning existing local MSP
2017-06-06 14:33:32.567 UTC [msp] GetDefaultSigningIdentity -> DEBU 005 Obtaining default signing identity
2017-06-06 14:33:32.570 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 006 Using default escc
2017-06-06 14:33:32.570 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 007 Using default vscc
2017-06-06 14:33:32.570 UTC [msp/identity] Sign -> DEBU 008 Sign: plaintext: 0AB2070A6808031A0C08BCFADAC90510...324D53500A04657363630A0476736363 
2017-06-06 14:33:32.570 UTC [msp/identity] Sign -> DEBU 009 Sign: digest: 3C641BEC4F666A0FCB4B1DAA9C9C42822FF06FD7A9A2B75FE04FD0D9CF0BECC8 
2017-06-06 14:33:54.201 UTC [msp/identity] Sign -> DEBU 00a Sign: plaintext: 0AB2070A6808031A0C08BCFADAC90510...107F4C61BE9CFAD41ACA6BBE054F8D80 
2017-06-06 14:33:54.201 UTC [msp/identity] Sign -> DEBU 00b Sign: digest: 6D3272D757CD10CF09CA72E34397E6B659DE9234D1ECD4CCF4025628C2CD5250 
Error: Got unexpected status: NOT_FOUND
Usage:
 peer chaincode instantiate [flags]
Global Flags:
 --cafile string Path to file containing PEM-encoded trusted certificate(s) for the ordering endpoint
 -C, --chainID string The chain on which this command should be executed (default ""testchainid"")
 -c, --ctor string Constructor message for the chaincode in JSON format (default ""{}"")
 -E, --escc string The name of the endorsement system chaincode to be used for this chaincode
 -l, --lang string Language the chaincode is written in (default ""golang"")
 --logging-level string Default logging level and overrides, see core.yaml for full syntax
 -n, --name string Name of the chaincode
 -o, --orderer string Ordering service endpoint
 -p, --path string Path to chaincode
 -P, --policy string The endorsement policy associated to this chaincode
 --test.coverprofile string Done (default ""coverage.cov"")
 -t, --tid string Name of a custom ID generation algorithm (hashing and decoding) e.g. sha256base64
 --tls Use TLS when communicating with the orderer endpoint
 -u, --username string Username for chaincode operations when security is enabled
 -v, --version string Version of the chaincode specified in install/instantiate/upgrade commands
 -V, --vscc string The name of the verification system chaincode to be used for this chaincode
!!!!!!!!!!!!!!! Chaincode================== ERROR !!! FAILED to execute End-2-End Scenario ==================
{code}
 ;;;","07/Jun/17 12:52 AM;kchristidis;[~Ratnakar]: Please re-run with the Kafka logs on [https://github.com/hyperledger/fabric/blob/master/bddtests/dc-orderer-base.yml#L17] and attach the logs here. Seems like a configuration issue, but I'll know for sure when I see the logs.;;;","07/Jun/17 12:54 AM;kchristidis;Downgrading to Medium unless the cause turns out to be something that justifies the Highest priority.

(In general, I suggest setting to Medium when submitting and letting the assignees escalate accordingly.);;;","07/Jun/17 12:57 AM;Ratnakar;[~kchristidis] attached the requested logs [^with_kafka_verbose.tar.gz];;;","07/Jun/17 1:01 AM;kchristidis;[~Ratnakar]: As I suspected, that is because we're targeting the Kafka cluster way too early. Recall that we're bringing up two clusters (Kafka and ZK) and both need to go through leader election before we release them to the world. In our tests we're pushing transactions to them right away, and that's unrealistic.
{quote}2017-06-06 15:56:35.846 UTC [orderer/kafka] Send -> INFO 0e3[0m [channel testchainid] Failed to post blob to the Kafka cluster: kafka server: In the middle of a leadership election, there is currently no leader for this partition and hence it is unavailable for writes.
{quote}
Nonetheless, this will be fixed with FAB-4136.;;;","09/Jun/17 3:49 PM;kchristidis;[~Ratnakar]: Please fetch [this changeset|https://gerrit.hyperledger.org/r/#/c/10323/] and rebuild your Docker images:

{{make clean; }}{{make docker}}

Please note that the options in the orderer.yaml file have changed (this is why you need to ""make clean"") and you may want to adjust the values of ShortInterval, ShortTotal. As always, the `dc-*.yml` files under the `bddtests` directory provide guidance.

Also note that the ordering service is designed to drop broadcast/deliver clients when there is an error, so your client will have to reconnect if that is the case. See this thread for context: https://jira.hyperledger.org/browse/FAB-2575?focusedCommentId=25757&page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel#comment-25757

Please try to reproduce and let me know if the issue persists.

If more help is needed, let me know.;;;","10/Jun/17 4:10 AM;kchristidis;This is not a bug. As the log states:

[33m2017-06-09 19:02:58.587 UTC [orderer/kafka] Enqueue -> WARN 46a[0m [channel: testchainid] Will not enqueue, consenter for this channel hasn't started yet

You are issuing a request before the orderer has a chance to establish a connection to the Kafka cluster.

Your request is supposed to be dropped in this case.

It is the client's responsibility to repeat the request at a later time.

Let me know if that covers it, or if I'm missing something.

Thanks for repeating the experiment.;;;","10/Jun/17 4:13 AM;scottz;Ratnakar and I discussed this; it seems when we enable laptop networking, while sitting in IBM building, we are seeing some sort of interference / networking problem - which is usually first noticed when the ""create channel"" fails, although sometimes we see an error during the install or instantiate. The test is run on a laptop, using docker containers. Whatever is happening, IBM network traffic seems to be interfering with the communications between his docker containers on his laptop.
 * TEST PASS:  on his laptop, using docker containers, at his home, when he ENABLES or DISABLES Networking
 * TEST PASS:  on one vLaunch server, using docker containers
 * TEST PASS:  on his laptop, using docker containers, at his desk in B500 lab, when he DISABLES Networking
 * +TEST FAIL+:  on his laptop, using docker containers, at his desk in B500 lab, when he ENABLES Networking (either wireless or ethernet) (Fails 19/20 attempts)
 * +TEST FAIL+:  on his laptop, using docker containers, in blockchain dev common area, when he ENABLES Networking (wireless)
 * +TEST FAIL+:  on two colleagues' laptops, using docker containers, at his desk in B500 lab, when he ENABLES Networking (ethernet) (failed 2/3)

As seen in the most recent logs, the failure occurs - even when inserting ""sleep 60"" before creating a channel, and while using the recommended changeset.;;;","10/Jun/17 5:12 AM;Ratnakar;[~kchristidis], Can you please take a close look at the docker-compose files [^docker-files.zip] enclosed. 

(Increasing sleep to 120 secs didn't helped.);;;","10/Jun/17 5:43 AM;kchristidis;You talk about sleep but nowhere in this issue do I see a simple step-by-step description (not technical explanation) of the steps that this test takes. Can you please list them here?;;;","10/Jun/17 6:03 AM;kchristidis;Also, can I have the logs from the 120 second sleep run?;;;","10/Jun/17 6:13 AM;Ratnakar;The script `*./network_setup.sh*` will bootstraps the network and starts 4 cli containers.
One of the CLI containers *peer0.org1.cli* will create channel, which is similar to what you see in *e2e_cli* sample

 

It used to take 30+ secs to install *libltdl-dev* https://github.com/asararatnakar/chaincodechecker/blob/master/scripts/script.sh#L4
However now that this lib libltdl-dev is available in *fabric-tools* Image, I added 120 secs delay before creating the channel in the above [^script.sh]

Please let me know if you need more details.;;;","10/Jun/17 6:29 AM;kchristidis;Ratnakar, I'm asking for a simple step-by-step description but instead I'm being pointed to a script.

This is an example of what I'm looking for: https://jira.hyperledger.org/browse/FAB-4012?focusedCommentId=25449&page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel#comment-25449

Also, I'll need the logs of the 120 sleep run as noted earlier.;;;","10/Jun/17 6:56 PM;kchristidis;I'd also note that I'm extremely skeptical about this because `bootstrap.feature` does the exact same things (bring up an ordering service, create a channel, add members, instantiate/invoke chaincode) with none of the issues reported here.

But let's proceed as I described in the comment above.;;;","10/Jun/17 7:46 PM;kchristidis;I am reviewing your logs from yesterday. You're bringing up the orderer at 19:01.54. For the next 90 seconds (that's how long the logs are), the orderer attempts to connect to the Kafka cluster, going through the brokers one-by-one but it fails to establish a connection. For example, you see this: [sarama] 2017/06/09 19:03:26.277721 broker.go:96: Failed to connect to broker kafka0:9092: dial tcp 165.160.13.20:9092: i/o timeout

Your Kafka brokers seem to be up and running just fine though (for instance broker0 is up at 19:01:54). So as you guys noted earlier, my best guess is that is indeed a networking issue of sorts: https://jira.hyperledger.org/browse/FAB-4415?focusedCommentId=25907&page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel#comment-25907

This doesn't seem to be an issue with the orderer binary. I will close this by EOD today unless you suggest otherwise.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Daily ledger perf tests failing,FAB-4416,17563,,Task,Closed,FAB,Fabric,software,denyeart,,,High,Done,AdnanChoudhury,AdnanChoudhury,AdnanChoudhury,06/Jun/17 11:19 PM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,31/Oct/17 1:01 AM,,,,v1.0.0,,fabric-quality,,,,,,,0,quality,,,,,,,"output:


{code:java}
01:21:11  generated xml file: /w/workspace/Ledger_tests/gopath/src/github.com/hyperledger/fabric/test/regression/daily/results_ledger_lte.xml 
01:21:11 =================================== FAILURES ===================================
01:21:11 ____________ perf_goleveldb.test_FAB_3790_VaryNumParallelTxPerChain ____________
01:21:11 
01:21:11 self = <ledger_lte.perf_goleveldb testMethod=test_FAB_3790_VaryNumParallelTxPerChain>
01:21:11 
01:21:11     def test_FAB_3790_VaryNumParallelTxPerChain(self):
01:21:11         '''
01:21:11              In this Performance test, we observe the the performance (time to
01:21:11              complete a set number of Ledger operations) of the Ledger component,
01:21:11              with goleveldb as the state database. We vary the number of parallel
01:21:11              transactions per chain and observe the performance.
01:21:11     
01:21:11              Passing criteria: all subtests (8) completed successfully
01:21:11             '''
01:21:11         result = subprocess.check_output(
01:21:11                 ""./runbenchmarks.sh varyNumParallelTxPerChain"",
01:21:11                 shell=True, stderr=subprocess.STDOUT,
01:21:11                 cwd='../../tools/LTE/scripts')
01:21:11         completion_count = result.count(""PASS"")
01:21:11 >       self.assertEqual(completion_count, 8)
01:21:11 E       AssertionError: 16 != 8
01:21:11 
01:21:11 ledger_lte.py:20: AssertionError
01:21:11 __________________ perf_goleveldb.test_FAB_3795_VaryNumChain ___________________
01:21:11 
01:21:11 self = <ledger_lte.perf_goleveldb testMethod=test_FAB_3795_VaryNumChain>
01:21:11 
01:21:11     def test_FAB_3795_VaryNumChain(self):
01:21:11         '''
01:21:11              In this Performance test, we observe the the performance (time to
01:21:11              complete a set number of Ledger operations) of the Ledger component,
01:21:11              with goleveldb as the state database. We vary the number of chains
01:21:11              (ledgers).
01:21:11     
01:21:11              Passing criteria: all subtests (8) completed successfully
01:21:11             '''
01:21:11         result = subprocess.check_output(
01:21:11                 ""./runbenchmarks.sh varyNumChain"",
01:21:11                 shell=True, stderr=subprocess.STDOUT,
01:21:11                 cwd='../../tools/LTE/scripts')
01:21:11         completion_count = result.count(""PASS"")
01:21:11 >       self.assertEqual(completion_count, 8)
01:21:11 E       AssertionError: 0 != 8
01:21:11 
01:21:11 ledger_lte.py:36: AssertionError
01:21:11 ________ perf_goleveldb.test_FAB_3798_VaryNumParallelTxWithSingleChain _________
01:21:11 
01:21:11 self = <ledger_lte.perf_goleveldb testMethod=test_FAB_3798_VaryNumParallelTxWithSingleChain>
01:21:11 
01:21:11     def test_FAB_3798_VaryNumParallelTxWithSingleChain(self):
01:21:11         '''
01:21:11              In this Performance test, we observe the the performance (time to
01:21:11              complete a set number of Ledger operations) of the Ledger component,
01:21:11              with goleveldb as the state database. We vary the number of parallel
01:21:11              transactions on a single chain.
01:21:11     
01:21:11              Passing criteria: all subtests (8) completed successfully
01:21:11             '''
01:21:11         result = subprocess.check_output(
01:21:11                 ""./runbenchmarks.sh varyNumParallelTxWithSingleChain"",
01:21:11                 shell=True, stderr=subprocess.STDOUT,
01:21:11                 cwd='../../tools/LTE/scripts')
01:21:11         completion_count = result.count(""PASS"")
01:21:11 >       self.assertEqual(completion_count, 8)
01:21:11 E       AssertionError: 16 != 8
01:21:11 
01:21:11 ledger_lte.py:52: AssertionError
01:21:11 __________ perf_goleveldb.test_FAB_3799_VaryNumChainWithNoParallelism __________
01:21:11 
01:21:11 self = <ledger_lte.perf_goleveldb testMethod=test_FAB_3799_VaryNumChainWithNoParallelism>
01:21:11 
01:21:11     def test_FAB_3799_VaryNumChainWithNoParallelism(self):
01:21:11         '''
01:21:11              In this Performance test, we observe the the performance (time to
01:21:11              complete a set number of Ledger operations) of the Ledger component,
01:21:11              with goleveldb as the state database. We vary the number of chains
01:21:11              without any parallelism within a single chain.
01:21:11     
01:21:11              Passing criteria: all subtests (8) completed successfully
01:21:11             '''
01:21:11         result = subprocess.check_output(
01:21:11                 ""./runbenchmarks.sh varyNumChainWithNoParallelism"",
01:21:11                 shell=True, stderr=subprocess.STDOUT,
01:21:11                 cwd='../../tools/LTE/scripts')
01:21:11         completion_count = result.count(""PASS"")
01:21:11 >       self.assertEqual(completion_count, 8)
01:21:11 E       AssertionError: 0 != 8
01:21:11 
01:21:11 ledger_lte.py:68: AssertionError
01:21:11 _______________ perf_goleveldb.test_FAB_3800_VaryNumKeysInEachTX _______________
01:21:11 
01:21:11 self = <ledger_lte.perf_goleveldb testMethod=test_FAB_3800_VaryNumKeysInEachTX>
01:21:11 
01:21:11     def test_FAB_3800_VaryNumKeysInEachTX(self):
01:21:11         '''
01:21:11              In this Performance test, we observe the the performance (time to
01:21:11              complete a set number of Ledger operations) of the Ledger component,
01:21:11              with goleveldb as the state database. We vary the number of keys in
01:21:11              each transaction.
01:21:11     
01:21:11              Passing criteria: all subtests (5) completed successfully
01:21:11             '''
01:21:11         result = subprocess.check_output(
01:21:11                 ""./runbenchmarks.sh varyNumKeysInEachTX"",
01:21:11                 shell=True, stderr=subprocess.STDOUT,
01:21:11                 cwd='../../tools/LTE/scripts')
01:21:11         completion_count = result.count(""PASS"")
01:21:11 >       self.assertEqual(completion_count, 5)
01:21:11 E       AssertionError: 0 != 5
01:21:11 
01:21:11 ledger_lte.py:115: AssertionError
01:21:11 ___________________ perf_goleveldb.test_FAB_3801_VaryKVSize ____________________
01:21:11 
01:21:11 self = <ledger_lte.perf_goleveldb testMethod=test_FAB_3801_VaryKVSize>
01:21:11 
01:21:11     def test_FAB_3801_VaryKVSize(self):
01:21:11         '''
01:21:11              In this Performance test, we observe the the performance (time to
01:21:11              complete a set number of Ledger operations) of the Ledger component,
01:21:11              with goleveldb as the state database. We vary the size of key-value.
01:21:11     
01:21:11              Passing criteria: all subtests (5) completed successfully
01:21:11             '''
01:21:11         result = subprocess.check_output(
01:21:11                 ""./runbenchmarks.sh varyKVSize"",
01:21:11                 shell=True, stderr=subprocess.STDOUT,
01:21:11                 cwd='../../tools/LTE/scripts')
01:21:11         completion_count = result.count(""PASS"")
01:21:11 >       self.assertEqual(completion_count, 5)
01:21:11 E       AssertionError: 10 != 5
01:21:11 
01:21:11 ledger_lte.py:83: AssertionError
01:21:11 __________________ perf_goleveldb.test_FAB_3802_VaryBatchSize __________________
01:21:11 
01:21:11 self = <ledger_lte.perf_goleveldb testMethod=test_FAB_3802_VaryBatchSize>
01:21:11 
01:21:11     def test_FAB_3802_VaryBatchSize(self):
01:21:11         '''
01:21:11              In this Performance test, we observe the the performance (time to
01:21:11              complete a set number of Ledger operations) of the Ledger component,
01:21:11              with goleveldb as the state database. We vary the value of the batch
01:21:11              size
01:21:11     
01:21:11              Passing criteria: all subtests (4) completed successfully
01:21:11             '''
01:21:11         result = subprocess.check_output(
01:21:11                 ""./runbenchmarks.sh varyBatchSize"",
01:21:11                 shell=True, stderr=subprocess.STDOUT,
01:21:11                 cwd='../../tools/LTE/scripts')
01:21:11         completion_count = result.count(""PASS"")
01:21:11 >       self.assertEqual(completion_count, 4)
01:21:11 E       AssertionError: 8 != 4
01:21:11 
01:21:11 ledger_lte.py:99: AssertionError
01:21:11 ___________________ perf_goleveldb.test_FAB_3803_VaryNumTxs ____________________
01:21:11 
01:21:11 self = <ledger_lte.perf_goleveldb testMethod=test_FAB_3803_VaryNumTxs>
01:21:11 
01:21:11     def test_FAB_3803_VaryNumTxs(self):
01:21:11         '''
01:21:11              In this Performance test, we observe the the performance (time to
01:21:11              complete a set number of Ledger operations) of the Ledger component,
01:21:11              with goleveldb as the state database. We vary the number of
01:21:11              transactions carried out.
01:21:11     
01:21:11              Passing criteria: all subtests (4) completed successfully
01:21:11             '''
01:21:11         result = subprocess.check_output(
01:21:11                 ""./runbenchmarks.sh varyNumTxs"",
01:21:11                 shell=True, stderr=subprocess.STDOUT,
01:21:11                 cwd='../../tools/LTE/scripts')
01:21:11         completion_count = result.count(""PASS"")
01:21:11 >       self.assertEqual(completion_count, 4)
01:21:11 E       AssertionError: 8 != 4
01:21:11 
01:21:11 ledger_lte.py:131: AssertionError
01:21:11 =================== 8 failed, 8 skipped in 39026.55 seconds ====================
{code}",,AdnanChoudhury,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxzaf:",,,,,,,,,,,,,,,,,,,,,,,,,,,AdnanChoudhury,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"31/Oct/17 1:01 AM;AdnanChoudhury;Closing this as this is not an issue any more.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Sign v1.0.0-beta fabric-sdk-java jar file,FAB-4417,17565,17511,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jwagantall,mastersingh24,mastersingh24,06/Jun/17 11:21 PM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,20/Jul/17 12:14 AM,v1.0.0-beta,,,v1.0.0,,fabric-build,fabric-sdk-java,,,,,,0,,,,,,,,"Before the fabric-sdk-java release jar / artifact can be published to [http://central.sonatype.org/] (aka Maven Central, Central Repository), a detached signature needs to be created by [~ryjones] or [~jwagantall]",,mastersingh24,rameshthoomu,rickr,ryjones,,,,,,,,,,,,,,,,,7200,7200,,0%,7200,7200,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-4414,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxzan:",,,,,,,,,,,,,,,,,,,,,,,,,,,mastersingh24,rameshthoomu,rickr,ryjones,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"09/Jun/17 5:52 AM;rameshthoomu;Published 1.0.0-beta java jar to maven central. Followed the release process as per the steps mentioned here https://github.com/hyperledger/fabric-sdk-java/blob/master/docs/java_sdk_release.md and published to maven central.
Will take some time to sync here https://mvnrepository.com/artifact/org.hyperledger.fabric-sdk-java/fabric-sdk-java but till then you can download 1.0.0-beta version from here http://repo1.maven.org/maven2/org/hyperledger/fabric-sdk-java/fabric-sdk-java/;;;","09/Jun/17 6:51 AM;rameshthoomu;able to pull 1.0.0-beta version from maven central repository using a custom pom.xml.. ;;;","17/Jun/17 10:05 PM;rickr;[~jwagantall] [~ryjones] By  the description of this JIRA it would make it seem that publishing to Maven was not possible without it's resolution.  The beta of the SDK was published. Can I assume this is either not needed or has been done ?;;;","18/Jun/17 7:48 AM;ryjones;[~rickr] it was signed with a key that is not published, not verifiable, and is not trusted or signed by anyone

[~rameshthoomu] knows the provenance of the key;;;","14/Jul/17 10:16 PM;rickr;If this is something to be done with build ( linux foundation)  can we move it to infrastructure ?  Otherwise, I want to get an ETA when this will be *done*. It's been hanging here with no change - another week and I'm closing.

 

[~rameshthoomu] ^^^^^^^^^;;;","20/Jul/17 12:14 AM;rickr;1.0.0 was published without this.  If this needs to be done for future versions reopen with proper targeted release version. Marking as done.;;;","20/Jul/17 12:20 AM;rameshthoomu;[~rickr] I have followed the steps mentioned in the [https://github.com/hyperledger/fabric-sdk-java/blob/master/docs/java_sdk_release.md] document and we tested java sdk e2e flow with custom pom.xml (this downloaded published java jar from maven central repository). Am I missing something here?;;;","20/Jul/17 12:55 AM;rickr;[~rameshthoomu] not sure what your question is asking.  I closed this (marked done) as I don't see what work needs to be done in the java sdk. We've published now v1.0.0.

 ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Policies generated using ""SampleSingleMSPSolo"" inside genesis_block.json are confusing",FAB-4418,17566,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,Nishi,Nishi,07/Jun/17 12:18 AM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,07/Jun/17 2:10 AM,,,,v1.0.0,,fabric-orderer,,,,,,,0,quality,,,,,,,"fabric-commit level: *670be92475a50b06e7bcb3fca15a558438d88e4a*

Steps to reproduce:

From Fabric folder
 # make configtxlator
 # {{configtxlator}}
 # {{make configtxgen}}

     4. `cd e}}xamples/configtxupdate/bootstrapping`

      5. modify the `{{script.sh}}` to pass the `{{-profile SampleSingleMSPSolo` flag to the `}}{{configtxgen`}}

{{   6. Run script.sh}}

{{   7. Open generated genesis_block.json}}

 ""SampleOrg"" for ""Orderer""/""Consortium""/""Application"" policies for Admin/Writers/Readers from ""Application""/SampleOrg

{{We have it in the form policies->name->policy->policy->policy->n_out_of->policies }}

{{A sample such policy from genesis_block.json}}
{code:java}
""Application"": {
    ""groups"": {
        ""SampleOrg"": {
            ""mod_policy"": ""Admins"",
            ""policies"": {
                ""Admins"": {
                    ""mod_policy"": ""Admins"",
                    ""policy"": {
                        ""policy"": {
                            ""identities"": [{
                                ""principal"": {
                                    ""msp_identifier"": ""DEFAULT"",
                                    ""role"": ""ADMIN""
                                }
                            }],
                            ""policy"": {
                                ""n_out_of"": {
                                    ""n"": 1,
                                    ""policies"": [{
                                        ""signed_by"": 0
                                    }]
                                }
                            },
                            ""type"": 1
                        }
                    }
                }
            }
        }
  }  
}{code}
{{this is confusing.}}

 ",,jyellick,Nishi,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxzav:",,,,,,,,,,,,,,,,,,,,,,,,,,,jyellick,Nishi,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"07/Jun/17 12:22 AM;jyellick;I agree this is confusing.  These names were originally defined from the inside out, and over the course of development, the nesting has gotten to be quite nasty.

We can fix this without breaking the ABI for existing users, and to my knowledge, the only users of this API are {{configtxlator}} users, so the affected users should be quite minimal.;;;","07/Jun/17 5:18 AM;Nishi;Verified on fabric commit level  *a5a916947f8acd0de720bcb74c400f79d4a04ced*

Newer Admin Policy looks like
{code:java}
""SampleOrg"": {
   ""mod_policy"": ""Admins"",
      ""policies"": {
         ""Admins"": {
           ""mod_policy"": ""Admins"",
              ""policy"": {
                 ""type"": 1,
                    ""value"": {
                       ""identities"": [
                        {
                              ""principal"": {
                                  ""msp_identifier"": ""DEFAULT"",
                                      ""role"": ""ADMIN""
                                }
                          }
                         ],
                     ""rule"": {
                        ""n_out_of"": {
                            ""n"": 1,
                                 ""rules"": [
                                  {
                                     ""signed_by"": 0
                                  }
                                  ]
                        }
                    }
               }
          }
      },

We have it in the form policies->name->policy->rule->n_out_of->rules now ('policy/policies' in second part of policy are now replaced with 'rule'/'rules'{code};;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add C# namespaces to .proto files,FAB-4419,17567,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,StuartWilloughby,StuartWilloughby,StuartWilloughby,07/Jun/17 12:24 AM,23/Jan/20 4:15 AM,28/Oct/23 2:59 AM,23/Jan/20 4:15 AM,Future,,,,,,,,,,,,0,C#-SDK,stale-item,,,,,,"Have started to develop a C# SDK built to .NET Standard 1.6.

 

C# namespaces need to be defined in order to improve the C# code generated by protoc.exe.",,StuartWilloughby,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxzb3:",,,,,,,,,,,,,,,,,,,,,,,,,,,StuartWilloughby,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 4:15 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Ordering service logs un-wanted warnings at channel creation,FAB-4420,17569,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,yacovm,yacovm,07/Jun/17 1:10 AM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,07/Jun/17 11:43 PM,v1.0.0-alpha2,,,v1.0.0,,fabric-orderer,,,,,,,0,,,,,,,,"When submitting a create channel transaction to the ordering service, it outputs:

{quote}2017-06-06 18:27:38.770 IDT [orderer/main] main -> INFO 007 Beginning to serve requests
2017-06-06 18:27:55.984 IDT [policies] CommitProposals -> WARN 008 Current configuration has no policy '/Channel/Application/Readers', this will likely cause problems in production systems
2017-06-06 18:27:55.984 IDT [policies] CommitProposals -> WARN 009 Current configuration has no policy '/Channel/Application/Writers', this will likely cause problems in production systems
2017-06-06 18:27:55.984 IDT [policies] CommitProposals -> WARN 00a Current configuration has no policy '/Channel/Application/Admins', this will likely cause problems in production systems
2017-06-06 18:27:55.984 IDT [cauthdsl] func2 -> ERRO 00b Principal deserialization failed: (Could not deserialize a SerializedIdentity, err unexpected EOF) for identity [99 101 114 116]
2017-06-06 18:27:55.992 IDT [policies] CommitProposals -> WARN 00c Current configuration has no policy '/Channel/Application/Readers', this will likely cause problems in production systems
2017-06-06 18:27:55.992 IDT [policies] CommitProposals -> WARN 00d Current configuration has no policy '/Channel/Application/Writers', this will likely cause problems in production systems
2017-06-06 18:27:55.992 IDT [policies] CommitProposals -> WARN 00e Current configuration has no policy '/Channel/Application/Admins', this will likely cause problems in production systems
2017-06-06 18:27:55.992 IDT [cauthdsl] func2 -> ERRO 00f Principal deserialization failed: (Could not deserialize a SerializedIdentity, err unexpected EOF) for identity [99 101 114 116]
2017-06-06 18:27:55.994 IDT [cauthdsl] func2 -> ERRO 010 Principal deserialization failed: (Could not deserialize a SerializedIdentity, err unexpected EOF) for identity [99 101 114 116]{quote}

[~jyellick]


",,jyellick,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"07/Jun/17 1:10 AM;yacovm;genesis.block.txt;https://jira.hyperledger.org/secure/attachment/10955/genesis.block.txt",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxzbb:",,,,,,,,,,,,,,,,,,,,,,,,,,,jyellick,yacovm,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"07/Jun/17 1:10 PM;jyellick;Fix in https://gerrit.hyperledger.org/r/#/c/10217/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Tags used for Windows are inconsistent,FAB-4421,17570,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,lehors,lehors,07/Jun/17 1:12 AM,23/Jan/20 4:15 AM,28/Oct/23 2:59 AM,23/Jan/20 4:15 AM,,,,Future,,,,,,,,,0,stale-item,,,,,,,"Different tags are being used on Windows in different parts of the system leading to an undesirable inconsistency.

The docker images are tagged: x86_64-1.0.0-alpha2

The Getting Started tarball is called: [fabric-binary-windows-amd64-1.0.0-alpha2.tar.gz|https://nexus.hyperledger.org/content/repositories/releases/org/hyperledger/fabric/fabric-binary/windows-amd64-1.0.0-alpha2/fabric-binary-windows-amd64-1.0.0-alpha2.tar.gz]

Which contains files that unpack to: release/windows-amd64

The difference stems from the use of different commands to determine the architecture in use: either ""uname -m"" or ""go env GOARCH"".

 
{code:java}
$ uname -m
x86_64
$ go env GOARCH
amd64
{code}
 

fabric/Makefile uses GOARCH in its support of cross compilation.

It would be best to use only one name independently of the tool being used so that we have consistency.

 

 ",,lehors,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzxzbj:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,lehors,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 4:15 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Improve orderer JSON ledger type to print protolator marshaled blocks,FAB-4422,17573,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,jyellick,jyellick,07/Jun/17 2:30 AM,23/Jan/20 4:15 AM,28/Oct/23 2:59 AM,23/Jan/20 4:15 AM,v1.0.0-beta,,,,,fabric-orderer,,,,,,,0,ledger,stale-item,,,,,,"The orderer has a 'JSON' ledger as an option for block storage.  This ledger is meant to be a debugging tool, so it prints the block contents as JSON so that the user may inspect the ledger easily with cat, etc.

However, the JSON marshaling is done via the simple jsonpb marshaler, which simply converts the byte fields to base64, rather than displaying the marshaled message in a readable form.

The protolator framework was created to solve just this problem, and could be utilized by the JSON ledger to make the debugging output much more useful.",,jyellick,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzxzbr:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,jyellick,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 4:15 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Configtxgen error and help description,FAB-4424,17579,,Bug,Closed,FAB,Fabric,software,denyeart,,,Low,Done,jyellick,latitiah,latitiah,07/Jun/17 3:27 AM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,10/Jun/17 12:35 AM,,,,v1.0.0,,fabric-tools,,,,,,,0,configtxgen,,,,,,,"On commit: 38d3879dc7d311b5621d5445ab6b4f98f8289c0e

When executing the following:
{code:java}
configtxgen -profile SysTestChannel -outputAnchorPeersUpdate org2.example.comlatitiaAnchor.tx -channelID latitia -asOrg org2.example.com
{code}

An error is generated arond the -asOrg option. This parameter expects the Org Name and not the MSPID that is generally used.

Received error:
{code}
2017-06-06 18:25:58.866 UTC [common/configtx/tool] main -> INFO 001 Loading configuration
2017-06-06 18:25:58.886 UTC [common/configtx/tool] doOutputAnchorPeersUpdate -> INFO 002 Generating anchor peer update
2017-06-06 18:25:58.886 UTC [common/configtx/tool] main -> CRIT 003 Error on inspectChannelCreateTx: No org matching: org2.example.com
{code}

At the very least the description of the parameter to say to use the organization name. It says the following:
{code}
-asOrg string
    	Performs the config generation as a particular organization, only including values in the write set that org (likely) has privilege to set
{code}",,jyellick,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"07/Jun/17 6:30 AM;latitiah;configtx.yaml;https://jira.hyperledger.org/secure/attachment/10970/configtx.yaml",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxzdj:",,,,,,,,,,,,,,,,,,,,,,,,,,,jyellick,latitiah,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"07/Jun/17 11:52 PM;jyellick;In review via: https://gerrit.hyperledger.org/r/#/c/10275/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Ledger performance tests: implement logging as specified for the CI,FAB-4425,17580,,Task,Closed,FAB,Fabric,software,denyeart,,,High,Done,AdnanChoudhury,AdnanChoudhury,AdnanChoudhury,07/Jun/17 3:51 AM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,10/Jun/17 4:54 AM,,,,v1.0.0,,fabric-quality,,,,,,,0,quality,,,,,,,"The test xml should only show short pass/fail messages and the detailed output/results/log should be separated to log files.

This should be both in the python wrapper tests and LTE tool.",,AdnanChoudhury,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxzdr:",,,,,,,,,,,,,,,,,,,,,,,,,,,AdnanChoudhury,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"07/Jun/17 4:52 AM;AdnanChoudhury;https://gerrit.hyperledger.org/r/#/c/10223/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Incorrect GOSSIP_BOOTSTRAP parameter in e2e_cli docker-compose,FAB-4426,17584,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,Ratnakar,Ratnakar,Ratnakar,07/Jun/17 4:26 AM,21/Jul/18 3:56 AM,28/Oct/23 2:59 AM,12/Jun/17 8:14 PM,,,,v1.0.0,,fabric-samples,,,,,,,0,quality,,,,,,,"From the --FAB-4345-,- It is observed that GOSSIP_BOOTSTRAP parameter is set with wrong value for the peer _peer1.org2.example.com:7051_

 

where it should be updated as below
{panel}
*CORE_PEER_GOSSIP_BOOTSTRAP=peer0.org2.example.com:7051*
{panel}",,Ratnakar,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzxze7:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,Ratnakar,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Panic when trying to inspect orderer block,FAB-4427,17585,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,latitiah,latitiah,07/Jun/17 4:39 AM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,10/Jun/17 12:39 AM,,,,v1.0.0,,fabric-tools,,,,,,,0,configtxgen,,,,,,,"on commit: 38d3879dc7d311b5621d5445ab6b4f98f8289c0e

When executing the following: (note the use of the inspectBlock flag)
{code}
configtxgen -profile SampleInsecureSolo -inspectBlock ./configs/orderer.json -outputBlock ./configs/orderer.block -channelID mychannel
{code}

The following error is received:
{code}
panic: runtime error: invalid memory address or nil pointer dereference
[signal SIGSEGV: segmentation violation code=0x1 addr=0x0 pc=0x4d103d]

goroutine 1 [running]:
panic(0x8f9d20, 0xc4200100d0)
	/opt/go/src/runtime/panic.go:500 +0x1a1
github.com/hyperledger/fabric/protos/utils.ExtractEnvelope(0xc420386340, 0x0, 0x0, 0xc356a0, 0xc420386340)
	/opt/gopath/src/github.com/hyperledger/fabric/protos/utils/commonutils.go:141 +0x2d
main.doInspectBlock(0x7ffdf88bf659, 0x16, 0x7, 0x7ffdf88bf67d)
	/opt/gopath/src/github.com/hyperledger/fabric/common/configtx/tool/configtxgen/main.go:180 +0x2fc
main.main()
	/opt/gopath/src/github.com/hyperledger/fabric/common/configtx/tool/configtxgen/main.go:357 +0x7a1
{code}

It should also be noted that without the inspectBlock flag, the command executes successfully.
{code}
configtxgen -profile SampleInsecureSolo -outputBlock ./configs/orderer.block -channelID mychannel
{code}
",,jyellick,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"07/Jun/17 6:30 AM;latitiah;configtx.yaml;https://jira.hyperledger.org/secure/attachment/10971/configtx.yaml",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxzef:",,,,,,,,,,,,,,,,,,,,,,,,,,,jyellick,latitiah,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"08/Jun/17 12:01 AM;jyellick;Fixed via https://gerrit.hyperledger.org/r/#/c/10277/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Configtxgen Error about missing header in Config block during inspect,FAB-4428,17586,,Bug,Closed,FAB,Fabric,software,denyeart,,,Low,Done,jyellick,latitiah,latitiah,07/Jun/17 4:48 AM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,09/Jun/17 11:48 PM,,,,v1.0.0,,fabric-tools,,,,,,,0,configtxgen,,,,,,,"on commit: 38d3879dc7d311b5621d5445ab6b4f98f8289c0e

The following command causes a an error concerning the config header: (note the inspectChannelCreateTx flag)
{code}
configtxgen -profile SampleEmptyInsecureChannel -inspectChannelCreateTx mychannel.json -outputCreateChannelTx mychannel.tx -channelID mychannel
{code}

The following is received:
{code}
2017-06-06 18:35:23.509 UTC [common/configtx/tool] main -> INFO 001 Loading configuration
2017-06-06 18:35:23.532 UTC [common/configtx/tool] doOutputChannelCreateTx -> INFO 002 Generating new channel configtx
2017-06-06 18:35:23.534 UTC [common/configtx/tool] doOutputChannelCreateTx -> INFO 003 Writing new channel tx
2017-06-06 18:35:23.536 UTC [common/configtx/tool] doInspectChannelCreateTx -> INFO 004 Inspecting transaction
2017-06-06 18:35:23.537 UTC [common/configtx/tool] doInspectChannelCreateTx -> INFO 005 Parsing transaction
2017-06-06 18:35:23.537 UTC [common/configtx/tool] main -> CRIT 006 Error on inspectChannelCreateTx: Config block did not contain header
{code}

It's not clear what the problem is with the config since the following completes successfully:
{code}
configtxgen -profile SampleEmptyInsecureChannel -outputCreateChannelTx mychannel.tx -channelID mychannel
{code}
",,jyellick,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"07/Jun/17 6:30 AM;latitiah;configtx.yaml;https://jira.hyperledger.org/secure/attachment/10972/configtx.yaml",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxzen:",,,,,,,,,,,,,,,,,,,,,,,,,,,jyellick,latitiah,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"07/Jun/17 1:14 PM;jyellick;With both this, and FAB-4427 the {{-inspect*}} commands are being pointed at JSON files, when they only support proto files.  it appears as if the attempt is to write to a JSON file, when in fact the command is trying _read_ this JSON file, and this is causing the errors.;;;","08/Jun/17 12:24 AM;jyellick;Usage is still incorrect, but pushed a fix via https://gerrit.hyperledger.org/r/#/c/10279/ to make the incorrect usage more apparent.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
LTE tool: does not exit with 1 on invalid/empty test name ,FAB-4429,17587,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,AdnanChoudhury,AdnanChoudhury,AdnanChoudhury,07/Jun/17 4:51 AM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,10/Jun/17 4:51 AM,,,,v1.0.0,,fabric-quality,,,,,,,0,quality,,,,,,,"While executing the LTE tool via [runbenchmarks.sh], if the test name is invalid or empty, it should exit with a code 1 instead of current default (0) so if another script calls it, it can depend on the exit code.",,AdnanChoudhury,weeds,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxzev:",,,,,,,,,,,,,,,,,,,,,,,,,,,AdnanChoudhury,weeds,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"07/Jun/17 1:58 PM;weeds;what is gerrit number?;;;","07/Jun/17 10:25 PM;AdnanChoudhury;https://gerrit.hyperledger.org/r/#/c/10227/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Write Your First Application,FAB-4430,17588,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,joe-alewine,joe-alewine,joe-alewine,07/Jun/17 4:53 AM,21/Jul/18 3:56 AM,28/Oct/23 2:59 AM,23/Jun/17 9:34 PM,v1.0.0,,,v1.0.0-rc1,,fabric-docs,,,,,,,0,docs,,,,,,,Need document to enable people to create their first application.,,joe-alewine,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,FAB-4518,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzxzf3:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,joe-alewine,,,,,,,,,,,,,,,,,,,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-6.11.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/tough-cookie-4.1.3,mergify/bp/release-2.2/pr-4374,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/grpc/grpc-js-1.8.17,dependabot/go_modules/high-throughput/application-go/google.golang.org/grpc-1.53.0,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/word-wrap-1.2.4,main,mergify/bp/release-2.2/pr-3750,dependabot/go_modules/asset-transfer-basic/application-go/google.golang.org/grpc-1.53.0,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/semver-6.3.1,release-2.5,release-2.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-and-fabric-network-7.2.4,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"08/Jun/17 12:21 AM;joe-alewine;Draft of doc on gerrit here: [https://gerrit.hyperledger.org/r/#/c/10231/]

 ;;;","23/Jun/17 9:35 PM;joe-alewine;Doc written and merged. Waiting for code merge.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Enhance orderer common components API to allow consenter to report errors,FAB-4431,17589,17111,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,07/Jun/17 5:31 AM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,09/Jun/17 11:47 PM,,,,v1.0.0,,fabric-orderer,,,,,,,0,,,,,,,,"The orderer multichain consenter API currently does not provide a mechanism to provide feedback for a channel that the consenter is out of sync, or not producing new data for that channel.

This issue is to enhance this API so that Kafka can report this error, and to consume that API in the common {{Deliver}} component.",,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxzfb:",,,,,,,,,,,,,,,,,,,,,,,,,,,jyellick,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"07/Jun/17 5:34 AM;jyellick;In review via https://gerrit.hyperledger.org/r/#/c/10233/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
PTE more accurate constant rate,FAB-4433,17592,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,dongming,dongming,dongming,07/Jun/17 6:09 AM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,13/Jun/17 9:58 PM,,,,v1.0.0,,fabric-quality,,,,,,,0,quality,,,,,,,PTE to have more accurate constant rate.,,dongming,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-2247,,,,,,,,,,"1|hzxzfr:",,,,,,Sprint 19 - Quality,,,,,,,,,,,,,,,,,,,,,dongming,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
fabric go unit-tests are failing on x86 and s390x platforms,FAB-4434,17593,,Bug,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,,rameshthoomu,rameshthoomu,07/Jun/17 6:13 AM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,07/Jun/17 6:21 PM,v1.0.0-alpha2,,,v1.0.0,v1.0.0-beta,fabric-build,,,,,,,1,quality,,,,,,,"Observed fabric go unit-tests are failing intermittently on s390x and x86_64 platforms. Below is the error log

{code:java}
00:13:13.941 unit-tests_1  | # github.com/hyperledger/fabric/core/common/ccpackage
00:13:13.941 unit-tests_1  | core/common/ccpackage/ccpackage_test.go:50: unknown common.SignaturePolicyEnvelope field 'Policy' in struct literal
00:13:13.942 unit-tests_1  | FAIL	github.com/hyperledger/fabric/core/common/ccpackage [build failed]
00:13:13.942 unit-tests_1  | error: exit status 2
00:13:13.943 unit-tests_1  | panic: EOF
00:13:13.943 unit-tests_1  | 
00:13:13.944 unit-tests_1  | goroutine 1 [running]:
00:13:13.944 unit-tests_1  | panic(0x11ae00, 0xc42000a0f0)
00:13:13.945 unit-tests_1  | 	/opt/go/src/runtime/panic.go:500 +0x408
00:13:13.945 unit-tests_1  | main.main()
00:13:13.945 unit-tests_1  | 	/opt/gotools/obj/gopath/src/github.com/AlekSi/gocov-xml/gocov-xml.go:60 +0x13a
00:13:13.945 unittest_unit-tests_1 exited with code 2
00:13:13.945 Stopping unittest_vp_1 ... 
{code}

Below is the build log:
https://jenkins.hyperledger.org/view/fabric/job/fabric-merge-z/1547/consoleFull",s390x and x86_64,harrijk,harsha544,mastersingh24,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxzfz:",,,,,,,,,,,,,,,,,,,,,,,,,,,harrijk,harsha544,mastersingh24,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"07/Jun/17 6:28 AM;harrijk;Looking at the error code, it looks like the cc_package_test.go compile failed on line 50:

Policy: cauthdsl.NOutOf(1, sigspolicy),

 

The common.SignaturePolicyEnvelope structure recently made a member name change: Policy was renamed to Rule.;;;","07/Jun/17 6:20 PM;mastersingh24;https://gerrit.hyperledger.org/r/#/c/10243/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Enable existing PKI extentions through cryptogen,FAB-4436,17595,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,mffrench,mffrench,07/Jun/17 7:41 AM,23/Jan/20 4:15 AM,28/Oct/23 2:59 AM,23/Jan/20 4:15 AM,,,,,,,,,,,,,0,stale-item,,,,,,,"User story as depicted here : [https://lists.hyperledger.org/pipermail/hyperledger-fabric/2017-May/001025.html]

Note : for sure we can easily use openssl to create new certs from existing organization one but allowing cryptogen to extend existing PKI will help us centralize and maintain (potentially complex) crypto configuration. ",,mffrench,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzxzgf:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,mffrench,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 4:15 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
fix compilation error in ccpackage_test,FAB-4437,17596,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,07/Jun/17 7:53 AM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,07/Jun/17 6:10 PM,v1.0.0-alpha2,,,v1.0.0,v1.0.0-beta,fabric-peer,,,,,,,0,,,,,,,,"Master is currently broken
{code}
unit-tests_1  | # github.com/hyperledger/fabric/core/common/ccpackage
unit-tests_1  | core/common/ccpackage/ccpackage_test.go:50: unknown common.SignaturePolicyEnvelope field 'Policy' in struct literal
unit-tests_1  | FAIL	github.com/hyperledger/fabric/core/common/ccpackage [build failed]
unit-tests_1  | error: exit status 2
unit-tests_1  | panic: EOF
unit-tests_1  | 
unit-tests_1  | goroutine 1 [running]:
unit-tests_1  | panic(0x4daca0, 0xc42006a020)
unit-tests_1  | 	/opt/go/src/runtime/panic.go:500 +0x1a1
unit-tests_1  | main.main()
{code}",,mastersingh24,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxzgn:",,,,,,,,,,,,,,,,,,,,,,,,,,,mastersingh24,yacovm,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"07/Jun/17 5:54 PM;mastersingh24;How exactly did this happen?

 ;;;","07/Jun/17 6:29 PM;yacovm;Look at the verify job:
https://jenkins.hyperledger.org/job/fabric-verify-x86_64/12813/console
{code}
15:51:56 unit-tests_1  | ok  	github.com/hyperledger/fabric/core/committer	0.431s	coverage: 71.0% of statements
15:52:27 unit-tests_1  | ok  	github.com/hyperledger/fabric/core/committer/txvalidator	2.897s	coverage: 72.0% of statements
15:52:44 unit-tests_1  | # github.com/hyperledger/fabric/core/common/ccpackage
15:52:44 unit-tests_1  | core/common/ccpackage/ccpackage_test.go:50: unknown common.SignaturePolicyEnvelope field 'Policy' in struct literal
15:52:44 unit-tests_1  | FAIL	github.com/hyperledger/fabric/core/common/ccpackage [build failed]
15:52:44 unit-tests_1  | error: exit status 2
15:52:44 unit-tests_1  | failed to unmarshal coverage data: unexpected end of JSON input
15:52:44 unittest_unit-tests_1 exited with code 1
{code}
and at the merge job
{code}
17:38:52 unit-tests_1  | ok  	github.com/hyperledger/fabric/core/committer/txvalidator	2.456s	coverage: 72.0% of statements
17:39:12 unit-tests_1  | # github.com/hyperledger/fabric/core/common/ccpackage
17:39:12 unit-tests_1  | core/common/ccpackage/ccpackage_test.go:50: unknown common.SignaturePolicyEnvelope field 'Policy' in struct literal
17:39:12 unit-tests_1  | FAIL	github.com/hyperledger/fabric/core/common/ccpackage [build failed]
17:39:12 unit-tests_1  | error: exit status 2
17:39:12 unit-tests_1  | failed to unmarshal coverage data: unexpected end of JSON input
{code}
https://jenkins.hyperledger.org/job/fabric-merge-x86_64/2032/console

[~jyellick] here is the answer you were looking for;;;","07/Jun/17 6:31 PM;yacovm;opened FAB-4445 ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Potential race condition in mock ConsenterSupport WriteBlock,FAB-4438,17597,,Bug,Closed,FAB,Fabric,software,denyeart,,,Lowest,Done,kchristidis,kchristidis,kchristidis,07/Jun/17 9:44 AM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,10/Jun/17 12:34 AM,v1.0.0-alpha2,,,v1.0.0,,fabric-orderer,,,,,,,0,common-components,,,,,,,"Assume you want to test function Foo that invokes the blockcutter, then ranges over the resulting batches in order to create and write blocks. For example: [https://github.com/hyperledger/fabric/blob/master/orderer/kafka/chain.go#L338...L348]

In the unit test TestFoo, you would pass a mock `ConsenterSupport` object to Foo, to take care of the `Ordered()`, `CreateNextBlock()`, and `WriteBlock()` calls.

Assume now that you wish to inspect the blocks written by Foo when the blockcutter returns two batches (i.e. we just got a config tx in).

I believe that the only way to achieve this is via a select statement that will pick up `WriteBlockVal` from the mock `ConsenterSupport`, when its `Batches` channel is consumed. Example: [https://github.com/hyperledger/fabric/blob/master/orderer/kafka/chain_test.go#L616...L628]

However this introduces a race condition.

Before TestFoo is able to [retrieve the first `WriteBlockVal`|https://github.com/hyperledger/fabric/blob/master/orderer/kafka/chain_test.go#L618] that value is overwritten [by the second batch's CreateNextBlock/WriteBlock in Foo|https://github.com/hyperledger/fabric/blob/master/orderer/kafka/chain_test.go#L618].",,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxzgv:",,,,,,,,,,,,,,,,,,,,,,,,,,,kchristidis,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"07/Jun/17 9:56 AM;kchristidis;Assuming I am right, there are a few ways we can go about fixing this one, but the key will be to find something that's both right and minimally invasive. I'm tempted to suggest that the `Batches` channel should actually be a `Blocks` one (that returns objects of type `*cb.Block`). By returning just the slice of envelopes carried by the block we lose the ability to inspect other information carried by the block, such as its metadata.

Perhaps, instead of replacing the `Batches` channel with the `Blocks` one we can have them co-exist for now.

Or maybe there is an easier solution that I'm missing.

[~jyellick]: If you have thoughts on this, chime in.;;;","07/Jun/17 10:16 AM;kchristidis;https://gerrit.hyperledger.org/r/#/c/10249/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fix typo in README.md for configtxlator,FAB-4439,17598,,Story,Closed,FAB,Fabric,software,denyeart,,,Low,Done,yuki-kon,yuki-kon,yuki-kon,07/Jun/17 10:28 AM,21/Jul/18 3:54 AM,28/Oct/23 2:59 AM,16/Jun/17 11:36 AM,,,,v1.0.0,,fabric-orderer,,,,,,,0,configtxlator,configuration,,,,,,"Configtxlator doesn't start by following README.md ([https://github.com/hyperledger/fabric/tree/master/examples/configtxupdate/README.md|https://github.com/hyperledger/fabric/tree/master/examples/configtxupdate]).
 Please see log messages below.
{code:java}
$ configtxlator
usage: configtxlator [<flags>] <command> [<args> ...]

Utility for generating Hyperledger Fabric channel configurations

Flags:
  --help  Show context-sensitive help (also try --help-long and --help-man).

Commands:
  help [<command>...]
    Show help.

  start [<flags>]
    Start the configtxlator REST server

  version
    Show version information
{code}
We need to fix the starting command like the below.
{code:java}
$ configtxlator start
{code}",fabric: commit d43269cb45a599c09bde29d8f1c60f8e0502f5e7,yuki-kon,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzxzh3:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,yuki-kon,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"07/Jun/17 11:02 PM;yuki-kon;Posted here: https://gerrit.hyperledger.org/r/#/c/10267/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fix name in configtxgen code,FAB-4440,17601,,Story,Closed,FAB,Fabric,software,denyeart,,,Lowest,Done,baohua,baohua,baohua,07/Jun/17 10:52 AM,21/Jul/18 3:57 AM,28/Oct/23 2:59 AM,10/Jun/17 8:39 PM,,,,v1.0.0,,fabric-tools,,,,,,,0,,,,,,,,"As Jason Yellick suggested, rename ""Consortium section"" --> ""Consortium value"" in 

[common/configtx/tool/configtxgen/main.go|https://gerrit.hyperledger.org/r/#/c/10137/1/common/configtx/tool/configtxgen/main.go]

 

 ",,baohua,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzxzhr:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,baohua,kchristidis,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"07/Jun/17 2:53 PM;baohua;https://gerrit.hyperledger.org/r/#/c/10255/;;;","09/Jun/17 12:03 AM;kchristidis;Thanks for submitting this.

Please let's make sure we classify this accurately though.

This is neither a bug, nor of high priority.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Peers crashes when a burst of transactions sent to the peers using ccccheker tool,FAB-4442,17603,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,chris.elder,Ratnakar,Ratnakar,07/Jun/17 1:10 PM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,21/Jun/17 12:48 AM,v1.0.0,,,v1.0.0,,fabric-ledger,,,,,,,0,,,,,,,,"Fabric Commit Level : *c50e0dd1ca1ea96cb69503fc83a302c53eff96a6*

_*Gist of peer crash stack trace :*_

 
{code:java}
2017-06-07 00:44:15.639 UTC [kvledger] Commit -> INFO a4c Channel [mychannel0]: Created block [976] with 100 transaction(s)
2017-06-07 00:44:16.920 UTC [statecouchdb] ApplyUpdates -> ERRO a4d Error during Commit(): Put http://couchdb0:5984/mychannel0/mycc0%0039_54: dial tcp 172.20.0.3:5984: getsockopt: connection refused
panic: Error during commit to txmgr:Put http://couchdb0:5984/mychannel0/mycc0%0039_54: dial tcp 172.20.0.3:5984: getsockopt: connection refused
goroutine 407 [running]:
panic(0xc81060, 0xc42cd5eca0)
 /opt/go/src/runtime/panic.go:500 +0x1a1
github.com/hyperledger/fabric/core/ledger/kvledger.(*kvLedger).Commit(0xc4217a25c0, 0xc42978c720, 0x0, 0x0)
 /opt/gopath/src/github.com/hyperledger/fabric/core/ledger/kvledger/kv_ledger.go:229 +0x806
github.com/hyperledger/fabric/core/ledger/ledgermgmt.(*closableLedger).Commit(0xc421a06720, 0xc42978c720, 0x0, 0x0)
 <autogenerated>:1 +0x54
github.com/hyperledger/fabric/core/committer.(*LedgerCommitter).Commit(0xc42182d410, 0xc42978c720, 0x7fcae9032000, 0x0)
 /opt/gopath/src/github.com/hyperledger/fabric/core/committer/committer_impl.go:86 +0x14a
github.com/hyperledger/fabric/gossip/state.(*GossipStateProviderImpl).commitBlock(0xc4219ef680, 0xc42978c720, 0x4, 0x4)
 /opt/gopath/src/github.com/hyperledger/fabric/gossip/state/state.go:621 +0x56
github.com/hyperledger/fabric/gossip/state.(*GossipStateProviderImpl).deliverPayloads(0xc4219ef680)
 /opt/gopath/src/github.com/hyperledger/fabric/gossip/state/state.go:437 +0x478
created by github.com/hyperledger/fabric/gossip/state.NewGossipStateProvider
 /opt/gopath/src/github.com/hyperledger/fabric/gossip/state/state.go:219 +0x7d9
{code}
 

Reproduced the issue with the following steps

Clone the repo to execute the test scripts

 
{code:java}
git clone https://github.com/asararatnakar/chaincodechecker
cd chaincodechecker
./network_setup.sh{code}
 

This script will launches the local network with the following configuration
{noformat}
3 clusters (Kafka brokers + zookeepers)
3 Ordererers
2 Peer Organizations (each org contains two peers) + 4 couchdbs
4 CLI containers , mounts the ccchecker tool on each container. 
  ccchecker sends concurrrent transactions (based on configurations) on to each peer{noformat}
 

when you see the following output with the above script network_setup.sh

 
{noformat}
===================== Chaincode 'mycc' Instantiation on PEER2 on channel 'mychannel1' is successful =====================
======Pre-process execution time 94 secs==========
Ready to execute the ccchecker 
{noformat}
Execute the following commands in different terminals

 
{code:java}
docker exec -it peer0.org1.cli /bin/bash -c ""./scripts/common.sh org1""
docker exec -it peer0.org2.cli /bin/bash -c ""./scripts/common.sh org2""
docker exec -it peer1.org1.cli /bin/bash -c ""./scripts/common.sh org1""
docker exec -it peer1.org2.cli /bin/bash -c ""./scripts/common.sh org2""
{code}
 

Above commands uses default configurations 'ccchecker1.json' and sends 100 transactions on each peer.
 To send more transactions use the following configurations

 
{code:java}
docker exec -it peer0.org1.cli /bin/bash -c ""./scripts/common.sh org1 testdata/ccchecker_100th_2ch_2cc_1.json""
docker exec -it peer0.org2.cli /bin/bash -c ""./scripts/common.sh org2 testdata/ccchecker_100th_2ch_2cc_2.json""
docker exec -it peer1.org1.cli /bin/bash -c ""./scripts/common.sh org1 testdata/ccchecker_100th_2ch_2cc_1.json""
docker exec -it peer1.org2.cli /bin/bash -c ""./scripts/common.sh org2 testdata/ccchecker_100th_2ch_2cc_2.json""
{code}
 

here testdata input file ccchecker_100th_2ch_2cc_1.json
 100th - 100 (threads) concurrency
 2ch - 2 channels
 2cc - 2 chaincodes
 1,2 - Organization1 and Organization2

NOTE: Attached all the logs [^logs.zip] , except orderer logs (each orderer log size is about 2GB)",,binhn,chris.elder,denyeart,manish-sethi,mastersingh24,muralisr,Ratnakar,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"10/Jun/17 5:36 AM;Ratnakar;couchdb_peer_logs.tar.gz;https://jira.hyperledger.org/secure/attachment/11014/couchdb_peer_logs.tar.gz","07/Jun/17 1:07 PM;Ratnakar;logs.zip;https://jira.hyperledger.org/secure/attachment/10974/logs.zip",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx4rr:",,,,,,Sprint 16  - Ledger,,,,,,,,,,,,,,,,,,,,,binhn,chris.elder,denyeart,manish-sethi,mastersingh24,muralisr,Ratnakar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"07/Jun/17 9:33 PM;muralisr;The panic is from core/ledger/kvledger/kv_ledger.go 

{code:java}
        logger.Debugf(""Channel [%s]: Committing block [%d] transactions to state database"", l.ledgerID, blockNo)
        if err = l.txtmgmt.Commit(); err != nil {
                panic(fmt.Errorf(`Error during commit to txmgr:%s`, err))
        }
{code}

Removing fabric-peer for now.;;;","08/Jun/17 12:02 AM;muralisr;assigning it to me to take a first look.;;;","08/Jun/17 4:41 AM;denyeart;There are some tips for increasing resources here:

[https://wiki.apache.org/couchdb/Performance]

I typically make updates to /opt/couchdb/etc/default.ini, but I think local.ini is the better config file to document.

[~chris.elder] has been doing stress testing against CouchDB and has a list of couch and erlang config options to update.  Chris can you comment on which properties you set and how?

Assuming this defect is simply due to couchdb config, we could use this defect to update our default couchdb config (/fabric/images/couchdb/local.ini) and/or documentation.;;;","08/Jun/17 4:50 AM;denyeart;The design is to perform retries against CouchDB upon errors like this.  And if we can't commit within X retries, then the block cannot be processed and there is no option but to panic the peer and have an administrator try to understand the errors.

However in the attached logs I don't see the ""Retrying couchdb"" message as I would expect prior to the peer panic.  We'll need to understand why no retries occurred and fix that, in addition to the underlying problem.;;;","08/Jun/17 4:51 AM;muralisr;Will let [~Ratnakar] connection properties [~denyeart] [~chris.elder]... assigning it to chris now that its likely couchdb config issue;;;","08/Jun/17 9:43 PM;mastersingh24;It would also be helpful to know the configuration of the test machines, etc.

As [~denyeart] mentioned, the panic behavior is expected and if you are trying to run these types of tests on standard desktop machines, you are going to run into issues for sure.  I expect you will also need to tune things like ulimit, etc on the host machines.

 

[~denyeart] - at this point, I would not consider this to be a ""Highest"" defect but up to you;;;","09/Jun/17 12:15 AM;Ratnakar;[~chris.elder] here are the system configurations:
{code:java}
CPU : Intel® Xeon(R) CPU E3-1505M v5 @ 2.80GHz × 8
Memory : 16 GB
Disk 250 GB
Kernel : 4.8.0-53-generic
OS : Ubuntu 16.10 (yakkety)

ulimit : 1024{code};;;","09/Jun/17 12:23 AM;chris.elder;The following are some recommendations for configuring CouchDB:

1. Set an environment variable for Erlang to allow more connections on CouchDB:
export ERL_MAX_PORTS=10000

2. Increase ulimit for open files on CouchDB:
ulimit -n 100000

3. Add the following to the local.ini in image/couchdb before running ""make docker"":

[httpd]
max_connections=10000

4. This is probably not the issue, but ephemeral ports can be extended with the following:
sudo sysctl -w net.ipv4.ip_local_port_range=""1024 64000"";;;","09/Jun/17 12:49 AM;denyeart;Per Gari's suggestion I will move this to 'High', but the team will continue working this as top priority.;;;","09/Jun/17 4:17 AM;Ratnakar;As per [~chris.elder] suggestion changed the settings and ran the tests in three iterations  (About 2.5 hours)

However , would like to revert few of the changes and retry again update the results by tomorrow;;;","10/Jun/17 2:27 AM;Ratnakar;Per [~muralisr]'s suggestion reverted all the configuration settings and ran two iterations.

Unable to reproduce the issue any more.

 

Docker images : *x86_64-1.0.0-beta*;;;","10/Jun/17 4:46 AM;Ratnakar;It is observed that all peers crashes again, however this time it is because *disc space is occupied 100%*

_+VLaunch machine configurations+_:
{panel}
OS: Ubuntu 16.04.2 LTS (xenial)
 CPU: Intel(R) Xeon(R) CPU E5-2658 v2 @ 2.40GHz
 RAM: 8GB
{panel}
 * 
 ## df -h*
{code:java}
Filesystem                           Size  Used Avail Use% Mounted on
udev                                 3.9G     0  3.9G   0% /dev
tmpfs                                799M   82M  717M  11% /run
/dev/mapper/UB16--4--64SVR--vg-root   75G   71G     0 100% /
tmpfs                                3.9G  1.2M  3.9G   1% /dev/shm
tmpfs                                5.0M     0  5.0M   0% /run/lock
tmpfs                                3.9G     0  3.9G   0% /sys/fs/cgroup
/dev/sda1                            472M  228M  220M  51% /boot
tmpfs                                799M   28K  799M   1% /run/user/124
tmpfs                                799M     0  799M   0% /run/user/0
none                                  75G   71G     0 100% /var/lib/docker/aufs/mnt/e3f0904001039e8a3f8261b563a7e19da0e1f7c117a58bd9cabb2288f13c1fe2
none                                  75G   71G     0 100% /var/lib/docker/aufs/mnt/f58967866de99aec000f927f543063dce00bb0dfb5a03701c748f76bdf86c2bb
shm                                   64M     0   64M   0% /var/lib/docker/containers/45fc09f06da6367f0d069acef967ff752665f5ebc6e14549a4274f84356bc541/shm
shm                                   64M     0   64M   0% /var/lib/docker/containers/258171d899ec1c4b5ae83c73bd7b630a78d81e7885b05028af10f147ee928a29/shm
none                                  75G   71G     0 100% /var/lib/docker/aufs/mnt/5b69180112b967ea9c80fadc1a387cec2a192b6e1a724bfb7fca70d0c622b021
shm                                   64M     0   64M   0% /var/lib/docker/containers/040e2425c5e4133a705494630395051ba2f37e63e28c48ec6adbe2ed78023821/shm
none                                  75G   71G     0 100% /var/lib/docker/aufs/mnt/32cbd6e66405dc8073d83e276b87498bce7756b384f2c1fdbeef4396c07aeaa4
none                                  75G   71G     0 100% /var/lib/docker/aufs/mnt/9b3086a496431b55328c6eb55adaedb6bd8139adad2f6a8814ff34311778ec82
shm                                   64M     0   64M   0% /var/lib/docker/containers/6129b345ee22035b4965fea1b749a6117d63ba4f8d9e6d5777b5c6b1ef54e07e/shm
none                                  75G   71G     0 100% /var/lib/docker/aufs/mnt/24352086a90fb6fa9056c44a9ec956e74a936254c438a921b69096a005b19a6c
shm                                   64M     0   64M   0% /var/lib/docker/containers/6f8d4ae749f055196133760103d84e3308bb7f1c6be7ff111f6630c38c532d3c/shm
shm                                   64M     0   64M   0% /var/lib/docker/containers/2c31776d226be6500897c9e44e0ed84e97ee6b20489ab1209d36ca5abc963714/shm
none                                  75G   71G     0 100% /var/lib/docker/aufs/mnt/432b1d671441a983ac6e15e779089d547eba51098ca52a3cf36dbb7de4613cf4
none                                  75G   71G     0 100% /var/lib/docker/aufs/mnt/e9c55f73ee2598cea445996c38dee71b634b099597b88ea6c16425d30b923d33
shm                                   64M     0   64M   0% /var/lib/docker/containers/bc191b13cdeb5d7f67a1d3f757b2f75a3dee10ae3481c2458c6e86b8801c8f14/shm
none                                  75G   71G     0 100% /var/lib/docker/aufs/mnt/dcab30df339f03b99db82a33e704fcdd5bbaadec2cd3fa98bb655c8e2a1d453e
shm                                   64M     0   64M   0% /var/lib/docker/containers/c6d969e52c0ed9190c4860b6ac5dca10a21679cfeb4d8773d860df3ae6826124/shm
shm                                   64M     0   64M   0% /var/lib/docker/containers/5500d49ba3f5487de0b021b2ea5ce1040927f5ba9a129b2bf33725f6776c2738/shm
{code}

{code:java}
2017-06-09 19:09:30.892 UTC [gossip/state] directMessage -> WARN 684e Received state transfer request for channel mychannel0 while expecting channel mychannel1 skipping request...
2017-06-09 19:09:30.894 UTC [gossip/state] handleStateResponse -> WARN 684f Payload with sequence number 2846 was received earlier
2017-06-09 19:09:30.897 UTC [gossip/state] handleStateResponse -> WARN 6850 Payload with sequence number 2847 was received earlier
2017-06-09 19:09:30.899 UTC [gossip/state] handleStateResponse -> WARN 6851 Payload with sequence number 2848 was received earlier
2017-06-09 19:09:30.900 UTC [gossip/state] handleStateResponse -> WARN 6852 Payload with sequence number 2849 was received earlier
2017-06-09 19:09:30.902 UTC [gossip/state] handleStateResponse -> WARN 6853 Payload with sequence number 2850 was received earlier
2017-06-09 19:09:30.904 UTC [gossip/state] handleStateResponse -> WARN 6854 Payload with sequence number 2851 was received earlier
2017-06-09 19:09:33.440 UTC [gossip/comm] sendToEndpoint -> WARN 6855 Failed obtaining connection for peer1.org1.example.com:7051, PKIid:[67 124 78 183 187 42 148 108 146 164 250 224 124 234 37 91 104 181 113 138 120 108 203 10 88 28 232 83 238 170 114 83] reason: context deadline exceeded
2017-06-09 19:09:33.457 UTC [gossip/discovery] expireDeadMembers -> WARN 6856 Entering [[67 124 78 183 187 42 148 108 146 164 250 224 124 234 37 91 104 181 113 138 120 108 203 10 88 28 232 83 238 170 114 83]]
2017-06-09 19:09:33.458 UTC [gossip/discovery] expireDeadMembers -> WARN 6857 Closing connection to Endpoint: peer1.org1.example.com:7051, InternalEndpoint: peer1.org1.example.com:7051, PKI-ID: [67 124 78 183 187 42 148 108 146 164 250 224 124 234 37 91 104 181 113 138 120 108 203 10 88 28 232 83 238 170 114 83], Metadata: []
2017-06-09 19:09:33.458 UTC [gossip/discovery] expireDeadMembers -> WARN 6858 Exiting
2017-06-09 19:09:34.307 UTC [gossip/comm] sendToEndpoint -> WARN 6859 Failed obtaining connection for peer1.org2.example.com:7051, PKIid:[11 182 95 191 106 158 167 194 187 127 150 168 2 195 169 9 19 211 237 12 146 96 8 191 186 166 171 234 153 112 39 53] reason: context deadline exceeded
2017-06-09 19:09:34.307 UTC [gossip/discovery] expireDeadMembers -> WARN 685a Entering [[11 182 95 191 106 158 167 194 187 127 150 168 2 195 169 9 19 211 237 12 146 96 8 191 186 166 171 234 153 112 39 53]]
2017-06-09 19:09:34.307 UTC [gossip/discovery] expireDeadMembers -> WARN 685b Closing connection to Endpoint: peer1.org2.example.com:7051, InternalEndpoint: , PKI-ID: [11 182 95 191 106 158 167 194 187 127 150 168 2 195 169 9 19 211 237 12 146 96 8 191 186 166 171 234 153 112 39 53], Metadata: []
2017-06-09 19:09:34.307 UTC [gossip/discovery] expireDeadMembers -> WARN 685c Exiting
2017-06-09 19:09:36.440 UTC [gossip/comm] sendToEndpoint -> WARN 685d Failed obtaining connection for peer1.org1.example.com:7051, PKIid:[67 124 78 183 187 42 148 108 146 164 250 224 124 234 37 91 104 181 113 138 120 108 203 10 88 28 232 83 238 170 114 83] reason: context deadline exceeded
2017-06-09 19:09:36.520 UTC [statecouchdb] ApplyUpdates -> ERRO 685f Error during Commit(): Put http://couchdb0:5984/mychannel1/mycc1%0069_80: dial tcp: lookup couchdb0 on 127.0.0.11:53: no such host
panic: Error during commit to txmgr:Put http://couchdb0:5984/mychannel1/mycc1%0069_80: dial tcp: lookup couchdb0 on 127.0.0.11:53: no such host
goroutine 617 [running]:
panic(0xc816c0, 0xc421833380)
 /opt/go/src/runtime/panic.go:500 +0x1a1
github.com/hyperledger/fabric/core/ledger/kvledger.(*kvLedger).Commit(0xc42163f9c0, 0xc43ed73300, 0x0, 0x0)
 /opt/gopath/src/github.com/hyperledger/fabric/core/ledger/kvledger/kv_ledger.go:229 +0x806
github.com/hyperledger/fabric/core/ledger/ledgermgmt.(*closableLedger).Commit(0xc421309f60, 0xc43ed73300, 0x0, 0x0)
 <autogenerated>:1 +0x54
github.com/hyperledger/fabric/core/committer.(*LedgerCommitter).Commit(0xc42162c690, 0xc43ed73300, 0x7f315043a400, 0x0)
 /opt/gopath/src/github.com/hyperledger/fabric/core/committer/committer_impl.go:86 +0x14a
github.com/hyperledger/fabric/gossip/state.(*GossipStateProviderImpl).commitBlock(0xc42159b360, 0xc43ed73300, 0x4, 0x4)
 /opt/gopath/src/github.com/hyperledger/fabric/gossip/state/state.go:621 +0x56
github.com/hyperledger/fabric/gossip/state.(*GossipStateProviderImpl).deliverPayloads(0xc42159b360)
 /opt/gopath/src/github.com/hyperledger/fabric/gossip/state/state.go:437 +0x478
created by github.com/hyperledger/fabric/gossip/state.NewGossipStateProvider
 /opt/gopath/src/github.com/hyperledger/fabric/gossip/state/state.go:219 +0x7d9
 
{code}
 ;;;","10/Jun/17 5:22 AM;muralisr;[~Ratnakar] wonder if this was the issue before as well.... is the couch db log still around ? it may have something interesting.;;;","10/Jun/17 5:26 AM;Ratnakar;[~muralisr] due to disk space full issue I couldn't be able to capture the couchdb logs (I will try to see though)

I was able to capture 6GB of orderer logs earlier and hence I would say it is not the same issue before.

 

Since this issue could be due to resource limitation , reducing to medium.;;;","12/Jun/17 3:59 AM;binhn;[~Ratnakar] [~chris.elder] are we at the point where we can conclude [FAB-4243] ?;;;","17/Jun/17 1:52 AM;manish-sethi;[~Ratnakar] - The root error (`no such host` - DNS resolution error) in the panic stack seems strange in the first sight - as this appears to be too basic to fail.


{{ panic: Error during commit to txmgr:Put [http://couchdb0:5984/mychannel1/mycc1%0069_80:] dial tcp: lookup couchdb0 on 127.0.0.11:53: no such host}}


 In a primitive search, I came across posts that talks about this and link the root cause to - the concurrent request to golang function for DNS resolution under file descriptor constrained environment.

There are some tests that folks have appended in these threads for reproducing this error. You may like to run those independently to verify your environment.

 

Related posts - [https://github.com/golang/go/issues/3575] [https://github.com/AdRoll/hologram/issues/73 |https://github.com/AdRoll/hologram/issues/73,]https://github.com/golang/go/issues/16345;;;","20/Jun/17 4:42 AM;denyeart;[~Ratnakar] Further study of CouchDB under stress is resulting in these other work items:
FAB-4243 - Increase CouchDB max_dbs_open default value
FAB-3464 - Document ulimit setting for CouchDB stress environments 
FAB-4872 - Document max_dbs_open and ephemeral port settings for CouchDB stress environments
 
Given that these work items will cover the configuration needed to enable CouchDB in high stress environments, can we close this Bug (FAB-4442) at this point?;;;","21/Jun/17 12:48 AM;denyeart;Discussed with [~Ratnakar]. On his next stress trials he will use the config options mentioned above.  It *should* work with the config options in place. I will close for now, please re-open if there are additional issues.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Channel creation with peer CLI complains about invalid identities,FAB-4443,17605,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,yacovm,yacovm,07/Jun/17 5:40 PM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,10/Jun/17 12:37 AM,v1.0.0-alpha2,,,v1.0.0,,fabric-tools,,,,,,,0,configtxgen,,,,,,,"Steps:

1. Create an ordering service with the attached orderer genesis block
2. create channel with the attached .tx file
3. see error in log file
{code}
2017-06-07 01:43:47.027 IDT [cauthdsl] func2 -> ERRO 008 Principal deserialization failed: (Could not deserialize a SerializedIdentity, err unexpected EOF) for identity [99 101 114 116]
2017-06-07 01:43:47.034 IDT [cauthdsl] func2 -> ERRO 009 Principal deserialization failed: (Could not deserialize a SerializedIdentity, err unexpected EOF) for identity [99 101 114 116]
2017-06-07 01:43:47.036 IDT [cauthdsl] func2 -> ERRO 00a Principal deserialization failed: (Could not deserialize a SerializedIdentity, err unexpected EOF) for identity [99 101 114 116]
2017-06-07 01:43:47.044 IDT [cauthdsl] func2 -> ERRO 00b Principal deserialization failed: (Could not deserialize a SerializedIdentity, err unexpected EOF) for identity [99 101 114 116]
2017-06-07 01:43:47.046 IDT [cauthdsl] func2 -> ERRO 00c Principal deserialization failed: (Could not deserialize a SerializedIdentity, err unexpected EOF) for identity [99 101 114 116]
{code}
4. profit(?)",,jyellick,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"07/Jun/17 5:39 PM;yacovm;foo.tar.gz;https://jira.hyperledger.org/secure/attachment/10977/foo.tar.gz",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxzi7:",,,,,,,,,,,,,,,,,,,,,,,,,,,jyellick,yacovm,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"07/Jun/17 11:42 PM;jyellick;Fixed via https://gerrit.hyperledger.org/r/#/c/10273/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Additions to the Glossary,FAB-4444,17607,27586,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,pandrejko,odowdaibm,odowdaibm,07/Jun/17 6:26 PM,23/Jan/20 4:16 AM,28/Oct/23 2:59 AM,23/Jan/20 4:16 AM,v1.0.0-alpha2,,,Future,,fabric-docs,,,,,,11/Jun/17 12:00 AM,0,Documentation,stale-item,,,,,,Additional items for Glossary,,joe-alewine,odowdaibm,pandrejko,SjirNijssen,sykesm,,,,,,,,,,,,,,,,57600,57600,,0%,57600,57600,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx26v:",,,,,,,,,,,,,,,,,,,,,,,,,,,joe-alewine,odowdaibm,pandrejko,SjirNijssen,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"26/Mar/18 10:19 PM;pandrejko;Here are some terms I've accumulated so far that seem like they could be beneficial in the glossary:

Items in {color:#59afe1}blue{color} below would be the next highest priority items.

Assets

{color:#59afe1}Blockchain{color}
 Byzantine participant
 CA certificate authority
 Configuration block

{color:#59afe1}Collection{color}
 Couch db
 Cryptography
 Distributed Ledger Technology (DLT)
 Genesis Block
 Immutable
 JSON
 Kafka
 Level db
 {color:#59afe1}Node{color}
 {color:#59afe1}Orderer{color}
 PBFT
 {color:#59afe1}Permissioned{color}

Principal
 Privacy
 Proposal response
 Protobuffer
 Public key infrastructure (PKI)
 Public block
 SBFT
 {color:#59afe1}Smart contract{color}
 Shim
 Solo
 System of record
 System of proof
 Transaction log
 Transactions proposal

UTXO
 {color:#59afe1}World state{color}

Zookeeper;;;","29/Mar/18 12:21 AM;pandrejko;In addition to the items listed above, the following items are in the Starter Plan Glossary but are not in the HyperLedger Fabric glossary:


Business network
Client
Connection profile
HSM
Hyperledger Composer
Network
Network credentials
Network monitor
Participant
Service Credentials
User

 

 ;;;","10/May/18 9:31 PM;pandrejko;From rday in hyperledger e-mail: We should prioritize Principal.
| |
|
|*what exactly is a ""principal"", since docs are a bit confusing* 
 From: [rpjday@crashcourse.ca|mailto:rpjday@crashcourse.ca?subject=Re:%20what%20exactly%20is%20a%20%22principal%22%2C%20since%20docs%20are%20a%20bit%20confusing]
 Date: Wed, 09 May 2018 12:26:52 UTC 

from fabric docs, ""What is an Identity?"":

""Hyperledger Fabric uses certain properties in an actor’s identity to
determine permissions, and it gives them a special name – a principal.
Principals are just like userIDs or groupIDs, but a little more
flexible because they can include a wide range of an actor’s identity
properties.""

 this is a confusing definition, since it's not clear whether
""principal"" refers to the *actor*, or to some collective set of the
actor's *properties*, and the fact that the term ""principal"" is
singular only adds to the potential confusion.|
|
|;;;","23/Jan/20 4:16 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
CI merge and verify jobs may fail but still output success ,FAB-4445,17608,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,yacovm,yacovm,07/Jun/17 6:30 PM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,13/Jun/17 8:42 AM,v1.0.0-alpha2,,,DUPLICATE,,fabric-build,,,,,,,0,,,,,,,,"These 2 jobs finish with success but actually failed:
https://jenkins.hyperledger.org/job/fabric-verify-x86_64/12813/console
https://jenkins.hyperledger.org/job/fabric-merge-x86_64/2032/

from: https://gerrit.hyperledger.org/r/#/c/10215/",,mastersingh24,rameshthoomu,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxzif:",,,,,,,,,,,,,,,,,,,,,,,,,,,mastersingh24,rameshthoomu,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"07/Jun/17 6:30 PM;yacovm;[~rameshthoomu] [~greg.haskins] ;;;","07/Jun/17 7:06 PM;mastersingh24;[~rameshthoomu] - did [https://gerrit.hyperledger.org/r/#/c/10207/] fix this?;;;","07/Jun/17 7:07 PM;mastersingh24;Duplicate of https://jira.hyperledger.org/browse/FAB-4412  (I think);;;","09/Jun/17 8:48 AM;mastersingh24;[~rameshthoomu] - is this fixed now?;;;","09/Jun/17 9:00 AM;rameshthoomu;[~mastersingh24] this was fixed with patch  htIstps://gerrit.hyperledger.org/r/#/c/10207.. I don't see any false positive on builds which are rebased on above patch.. Will fix if we see this issue on latest commit.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
peer should inject TLS material as late as possible,FAB-4447,17616,,Story,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,,greg.haskins,greg.haskins,08/Jun/17 12:20 AM,21/Jul/18 3:54 AM,28/Oct/23 2:59 AM,25/Dec/17 7:09 AM,,,,v1.1.0,,fabric-peer,,,,,,,0,,,,,,,,"We currently inject the peer's TLS cert when we build the chaincode container.  This can lead to fragility, for example, when the peer updates its certificate.  We can improve this by switching to a model where we inject the TLS materlal JIT.  

Ideal solution would probably be a volume/secrets mount.  However, given the peer's relationship to dockerd (often times accessing remotely) volume mounts can be a challenge.  A more reliable if but more awkward solution is to use the upload-api as part of the launch sequence.",,greg.haskins,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-4751,,,,,FAB-3996,FAB-4894,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-10,,,,,,,,,,"1|hzxziv:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,greg.haskins,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"11/Dec/17 7:10 AM;yacovm;Hey Greg. I wasn't aware this JIRA issue existed, and I ended up opening my own https://jira.hyperledger.org/browse/FAB-6974 and now everything is uploaded dynamically at container startup.

We can close this story now.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
unit-test is breaking with latest fabric code,FAB-4448,17617,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,xixuejia,xixuejia,xixuejia,08/Jun/17 1:31 AM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,08/Jun/17 11:04 PM,v1.0.0-alpha2,,,v1.0.0-beta,,fabric-quality,,,,,,,0,,,,,,,,"Hitting the below error with Fabric commit:d43269cb45a599c09bde29d8f1c60f8e0502f5e7 when running unit-test


 _unit-tests_1 | removing dir = ledgersData_
 _unit-tests_1 | 2017-06-07 04:41:23.954 UTC [ledgermgmt] initialize -> INFO 00c Initializing ledger mgmt_
 _unit-tests_1 | 2017-06-07 04:41:23.954 UTC [kvledger] NewProvider -> INFO 00d Initializing ledger provider_
 _unit-tests_1 | 2017-06-07 04:41:24.003 UTC [kvledger] NewProvider -> INFO 00e ledger provider Initialized_
 _unit-tests_1 | 2017-06-07 04:41:24.003 UTC [ledgermgmt] initialize -> INFO 00f ledger mgmt initialized_
 _unit-tests_1 | 2017-06-07 04:41:24.016 UTC [common/configtx/tool/localconfig] Load -> CRIT 010 Error unmarshaling config into struct: 5 error(s) decoding:_
 _unit-tests_1 |_
 _unit-tests_1 | * 'Organizations[0]' has invalid keys: BCCSP_
 _unit-tests_1 | * 'Profiles[SampleSingleMSPChannel].Application.Organizations[0]' has invalid keys: BCCSP_
 _unit-tests_1 | * 'Profiles[SampleSingleMSPSolo].Application.Organizations[0]' has invalid keys: BCCSP_
 _unit-tests_1 | * 'Profiles[SampleSingleMSPSolo].Consortiums[SampleConsortium].Organizations[0]' has invalid keys: BCCSP_
 _unit-tests_1 | * 'Profiles[SampleSingleMSPSolo].Orderer.Organizations[0]' has invalid keys: BCCSP_
 _unit-tests_1 | 2017-06-07 04:41:24.017 UTC [ledgermgmt] Close -> INFO 011 Closing ledger mgmt_
 _unit-tests_1 | 2017-06-07 04:41:24.024 UTC [ledgermgmt] Close -> INFO 012 ledger mgmt closed_
 _unit-tests_1 | removing dir = ledgersData_
 _unit-tests_1 | — FAIL: TestDeploy (0.09s)_

And also

_unit-tests_1 | core/common/ccpackage/ccpackage_test.go:50: unknown common.SignaturePolicyEnvelope field 'Policy' in struct literal_
_unit-tests_1 | FAIL github.com/hyperledger/fabric/core/common/ccpackage [build failed]_
_unit-tests_1 | error: exit status 2_",,mastersingh24,xixuejia,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxzj3:",,,,,,,,,,,,,,,,,,,,,,,,,,,mastersingh24,xixuejia,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"08/Jun/17 3:57 AM;xixuejia;https://gerrit.hyperledger.org/r/#/c/10289/;;;","08/Jun/17 11:02 PM;mastersingh24;[https://gerrit.hyperledger.org/r/#/c/10243/]  is actually what fixed this issue;;;","08/Jun/17 11:11 PM;xixuejia;Hi [~mastersingh24], actually this also fixes unit-test failure issue caused by removal of BCCSP in sampleconfig/configtx.yaml. hyperledger/fabric-testenv still holds older version of configtx.yaml which contains BCCSP on local machine. This fix is to mount new version of sampleconfig directory when running hyperledger/fabric-testenv image;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
PTE unhandledPromiseRejection,FAB-4449,17621,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,dongming,dongming,dongming,08/Jun/17 3:28 AM,20/Jul/18 11:13 PM,28/Oct/23 2:59 AM,13/Jun/17 9:58 PM,v1.0.0,,,v1.0.0,,fabric-quality,,,,,,,1,PTE,quality,,,,,,"With large number of threads, PTE shows the UnhandledPromiseRejection:

stderr: (node:12825) UnhandledPromiseRejectionWarning: Unhandled promise rejection (rejection id: 394): undefined ",,dongming,holocron,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-2247,,,,,,,,,,"1|hzxzjr:",,,,,,Sprint 19 - Quality,,,,,,,,,,,,,,,,,,,,,dongming,holocron,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Deploy multi-node Fabric network on the OpenStack test environment.,FAB-4450,17622,,Epic,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,tongliofcary,jasondotstar,jasondotstar,08/Jun/17 4:38 AM,26/Feb/20 10:49 PM,28/Oct/23 3:00 AM,01/Aug/17 12:08 AM,v1.0.0,,,v1.0.0,,fabric-build,fabric-quality,,,,,,0,quality,,,,,,,"In an effort to do conduct our Fabric tests to validate that these tests pass in a multi-node Fabric environment, it has been decided that we will deploy a multi-node Fabric network inside the OpenStack test environment provided by [~tongliofcary].

h3. Test Environment

9.30.217.28/10.0.10.19: jenkins/gerrit node
9.30.217.37/10.0.10.14: runner node (ansible playbook running node)
 -9.30.217.22/10.0.10.9 : worker-1-
 -9.30.217.32/10.0.10.11: worker-2-
 -9.30.217.34/10.0.10.13: worker-3-
 -9.30.217.27/10.0.10.5 : worker-4-
 -9.30.217.31/10.0.10.8 : worker-5-
 -9.30.217.36/10.0.10.17: worker-6-",,ChristopherFerris,jasondotstar,tongliofcary,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,Unset,,,,Done,,,,Unset,,,,"1|hzxzjz:",,,,Unset,Unset,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,jasondotstar,tongliofcary,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"13/Jun/17 6:26 AM;jasondotstar;h2. Status Update
 * Jenkins and Gerrit have both been installed on the jenkins/gerrit node. This system will serve as the CI node where tests will be ran from.

 * There are limited storage resources in the OpenStack test environment, so to start off, we will deploy a 3-node Fabric network. Three of the original nodes provisioned for this effort have been decomissioned:
 ** worker-4
 ** worker-5
 ** worker-6

 * [~tongliofcary] has created a [fabric deploy repo|https://github.com/litong01/fabric-deploy] for deploying a Fabric network across multiple nodes using Ansible. This is the technique that will be employed to deploy the multi-node Fabric network across the remaining worker nodes.;;;","14/Jun/17 5:22 AM;jasondotstar;To continue the conservation of storage and compute resources on the OpenStack test environment, the remaining nodes originally deployed were decomissioned:
 * worker-1
 * worker-2
 * worker-3

The fabric deploy repo was cloned to the runner node in an effort to execute the fabric deploy playbooks against the OpenStack test environment.  After making changes to the vars/os.yml file to match environment specific data,  the playbooks ran, resulting in the deployment of the following nodes:
 * fabric001
 * fabric002
 * fabric003

Validation tests are underway to see if the multi-node fabric network was deployed successfully.;;;","28/Jun/17 8:55 AM;ChristopherFerris;;);;;","01/Aug/17 12:07 AM;tongliofcary;Fabric-deploy project has been created, please see the link to the project [https://github.com/litong01/fabric-deploy]

Currently plan is to merge the project onto cello. See the patch set for that effort. [https://gerrit.hyperledger.org/r/#/c/12059/]

This should be marked as closed.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Failing e2e_cli ,FAB-4451,17623,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,harsha544,harsha544,08/Jun/17 4:58 AM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,16/Jun/17 4:41 AM,,,,v1.0.0,,fabric-samples,,,,,,,0,,,,,,,,"Observed  e2e_cli to be failing intermittently due to timing issues. Adding a small delay in between resolves the timing issue.

2017-06-07 19:39:39.485 UTC [grpc] Printf -> DEBU 015 grpc: addrConn.resetTransport failed to create client transport: connection error: desc = ""transport: Error while dialing dial tcp: operation was canceled""; Reconnecting to {orderer.example.com:7050 <nil>}
2017-06-07 19:39:39.485 UTC [grpc] Printf -> DEBU 016 grpc: addrConn.resetTransport failed to create client transport: connection error: desc = ""transport: Error while dialing dial tcp: lookup orderer.example.com on 127.0.0.11:53: dial udp 127.0.0.11:53: operation was canceled""; Reconnecting to {orderer.example.com:7050 <nil>}
2017-06-07 19:39:39.485 UTC [grpc] Printf -> DEBU 017 grpc: addrConn.transportMonitor exits due to: grpc: the connection is closing
Usage:
  peer channel update [flags]

Global Flags:
  -b, --blockpath string           Path to file containing genesis block
      --cafile string              Path to file containing PEM-encoded trusted certificate(s) for the ordering endpoint
  -c, --chain string               In case of a newChain command, the chain ID to create.
  -f, --file string                Configuration transaction file generated by a tool such as configtxgen for submitting to orderer
      --logging-level string       Default logging level and overrides, see core.yaml for full syntax
  -o, --orderer string             Ordering service endpoint
      --test.coverprofile string   Done (default ""coverage.cov"")
  -t, --timeout int                Channel creation timeout (default 5)
      --tls                        Use TLS when communicating with the orderer endpoint
  -v, --version                    Display current version of fabric peer server

!!!!!!!!!!!!!!! Anchor peer update failed !!!!!!!!!!!!!!!!
================== ERROR !!! FAILED to execute End-2-End Scenario ==================

",,harrijk,harsha544,rameshthoomu,SriramaSharma,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxzk7:",,,,,,,,,,,,,,,,,,,,,,,,,,,harrijk,harsha544,rameshthoomu,SriramaSharma,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"08/Jun/17 5:01 AM;rameshthoomu;[~harsha544] I see this is failing on power nodes. Did you observed this issue in x86_64 or in s390x builds. ?;;;","08/Jun/17 5:10 AM;harrijk;Although I haven't seen this issue on z Systems, I'm sure that adding additional small delays to the script.sh file wouldn't be much of an issue.  Anything to help out the Power folks.;;;","08/Jun/17 3:42 PM;SriramaSharma;[~rameshthoomu] as [~harrijk] mentioned, I also haven't seen this issue on some of my Power build and development nodes. Also, I think  its occasionally seen on the sandbox system as well as the previous day's e2e tests you had run had passed. Adding sleep will just fix the stray occasional timing issue. Looks like a very low impact change. Just my 2 cents!;;;","09/Jun/17 9:01 AM;rameshthoomu;Fix has been provided here https://gerrit.hyperledger.org/r/#/c/10325/;;;","16/Jun/17 4:41 AM;Clayton Sims;merged marking done

 ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Support definition of anchor peers post channel creation,FAB-4452,17624,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jeffgarratt,jeffgarratt,jeffgarratt,08/Jun/17 5:23 AM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,15/Jun/17 5:37 AM,,,,,,,,,,,,,0,quality,,,,,,,,,jeffgarratt,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-1141,,,,,,,,,,"1|hzxzkf:",,,,,,,,,,,,,,,,,,,,,,,,,,,jeffgarratt,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"12/Jun/17 2:04 AM;jeffgarratt;Seems to work as expected, though there seems to be some strangeness wrt to submitting an update.  If the version does not match it appears to silently write the existing configuration again.  Going to open a bug and discuss with Jason.;;;","15/Jun/17 3:52 AM;jeffgarratt;Submitted CR [https://gerrit.hyperledger.org/r/#/c/10587/]

 

This CR also addresses an issue due to https://jira.hyperledger.org/browse/FAB-2487

The GUIID generated must follow the conventions as specified in this JIRA item.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
changing ledger.state.queryLimit to ledger.state.couchDBConfig.queryLimit,FAB-4455,17630,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,chris.elder,kelvinzhong,kelvinzhong,08/Jun/17 11:10 AM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,14/Jun/17 6:15 AM,v1.0.0-alpha2,,,v1.0.0,,fabric-ledger,,,,,,,0,Ledger,,,,,,,"based on the outcome of the discussion in #fabric-ledger 

[https://chat.hyperledger.org/channel/fabric-ledger?msg=kAcH9XbJjTdJ5ioy2]

Since the *queryLimit* setting only applies to couchDB, the value in core.yaml *ledger.state.queryLimit* should change to *ledger.state.couchDBConfig.queryLimit*",,denyeart,kelvinzhong,manish-sethi,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx4qn:",,,,,,Sprint 16  - Ledger,,,,,,,,,,,,,,,,,,,,,denyeart,kelvinzhong,manish-sethi,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"08/Jun/17 11:53 AM;denyeart;Chris, could you take a look next week?;;;","14/Jun/17 6:16 AM;manish-sethi;Done via https://gerrit.hyperledger.org/r/#/c/10457;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fix up jsdoc,FAB-4456,17631,15389,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jimthematrix,jimthematrix,jimthematrix,08/Jun/17 11:29 AM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,02/Jul/17 9:20 PM,,,,,,fabric-sdk-node,,,,,,,0,,,,,,,,"review and fix up any jsdoc that's not accurate, or can be formetted better for easier reading",,JonathanLevi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxzl3:",,,,,,Sprint 14 - SDK node,Sprint 15 - SDK node,,,,,,,,,,,,,,,,,,,,JonathanLevi,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"08/Jun/17 11:59 AM;jimthematrix;Part I: http://gerrit.hyperledger.org/r/10321;;;","10/Jul/17 8:13 PM;jimthematrix;Part II: https://gerrit.hyperledger.org/r/10511
Part III: https://gerrit.hyperledger.org/r/10553
Part IV: https://gerrit.hyperledger.org/r/10605
Part V: https://gerrit.hyperledger.org/r/10665
Part VI: https://gerrit.hyperledger.org/r/10715;;;","10/Jul/17 8:13 PM;JonathanLevi;Welcome back!;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add errorChan to Kafka-based consenter,FAB-4457,17632,17054,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,kchristidis,kchristidis,kchristidis,08/Jun/17 12:57 PM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,12/Jun/17 6:18 PM,v1.0.0-alpha2,,,v1.0.0,,fabric-orderer,,,,,,,0,kafka,,,,,,,,,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxzlb:",,,,,,,,,,,,,,,,,,,,,,,,,,,kchristidis,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"09/Jun/17 4:29 AM;kchristidis;[https://gerrit.hyperledger.org/r/#/c/10323/];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
provide troubleshoot guidance for downloading binaries over flakey network,FAB-4458,17634,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,phillipviana,ChristopherFerris,ChristopherFerris,08/Jun/17 6:46 PM,21/Jul/18 3:55 AM,28/Oct/23 3:00 AM,27/Apr/18 1:45 AM,v1.0.0,,,,,fabric-docs,,,,,,,0,help-wanted,quality,,,,,,"See conversation at [https://chat.hyperledger.org/channel/fabric-release?msg=XB6FjCyev7fwtW2eP]

provide troubleshoot guidance for downloading binaries over flakey network using `-C - ` option to curl to resume download at a specific point.

https://www.cyberciti.biz/faq/curl-command-resume-broken-download/

 ",,ChristopherFerris,kchristidis,phillipviana,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzxzlj:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,ChristopherFerris,kchristidis,phillipviana,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"21/Nov/17 6:51 PM;phillipviana;Do we want to simply print a message with the troubleshooting guidance (-C) or maybe try again with -C option (dropping the pipe) and tar xz'ing immediately after?;;;","01/Dec/17 5:25 AM;phillipviana;I'm working on and testing a solution right now. The design is as follows:
 - If there's no network failure the script will behave as it does today (file is extracted as it's downloaded via a pipe: | tar xz).
 - Piped tar.gz extraction will not work with the -C option (resume download). Therefore, if the download fails once, the script will try again, this time downloading the binary first (saving it locally) and extracting it only after the download completes (that is, without the pipe).
 - Since the file is saved locally, if there's another failure during the download the script will exit but the system will be left with a partial version of the file that can be resumed by using the -C option. This will happen by default on the next invocation of the bootstrap script.
 - Every time the bootstrap script is invoked it will first look for a local version of the file. If it doesn't exist the script will do the same as it does today (see first bullet point above). If a file does exist the download will resume using the -C option.;;;","11/Dec/17 2:17 AM;phillipviana;I added functionality to the bootstrap script so that the download can resume automatically if there are network errors. The following scenarios were tested (RHEL and Ubuntu):
 - Whole file downloaded at once - PASSED RHEL 7.4; PASSED UBUNTU 14.04                     
 - One failure + one incremental download - PASSED RHEL 7.4; PASSED UBUNTU 14.04              
 - One failure + several increments - PASSED RHEL 7.4; PASSED UBUNTU 14.04       
 - File is already there and complete - PASSED RHEL 7.4; PASSED UBUNTU 14.04     
 - File exists with 0 bytes - PASSED RHEL 7.4; PASSED UBUNTU 14.04             

 

By adding the functionality to the script (rather than the docs) we make use of automation and therefore keep the documentation concise while making the script more robust. Let me know if this works.;;;","24/Apr/18 11:14 PM;kchristidis;https://gerrit.hyperledger.org/r/c/16095/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Document cryptogen tool,FAB-4459,17638,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,mastersingh24,mastersingh24,08/Jun/17 9:46 PM,21/Jul/18 3:56 AM,28/Oct/23 3:00 AM,10/Jul/18 3:23 AM,v1.0.0,v1.0.0-beta,,v1.0.0,,fabric-tools,,,,,,,0,,,,,,,,"Now that we are shipping cryptogen, we should provide some basic documenttion which explains the output and how it should be used as well as a bit about the YAML config.",,Claude-ZHENG,mastersingh24,,,,,,,,,,,,,,,,,,,28800,28800,,0%,28800,28800,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzxzlr:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,Claude-ZHENG,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Make gRPC settings configurable,FAB-4461,17641,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,mastersingh24,mastersingh24,mastersingh24,08/Jun/17 10:32 PM,09/Oct/18 11:45 PM,28/Oct/23 3:00 AM,09/Oct/18 11:45 PM,v1.0.0,v1.0.0-beta,v1.0.0-rc1,v1.3.0,,fabric-orderer,fabric-peer,,,,,,4,server,,,,,,,"Currently the max message size and keepalive parameters for the common gRPC server and for gRPC client connections made by the peer will use default values (the max message size is 100MB and the keepalive is 300s).

While these setting should suffice for almost all situations, we should make them configurable.

 ",,ChristopherFerris,denyeart,mastersingh24,,,,,,,,,,,,,,,,,,28800,28800,,0%,36000,30600,5400,Not a security issue,FAB-6461,FAB-5658,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-6461,,FAB-6017,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzxzmf:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,ChristopherFerris,denyeart,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"09/Jun/17 8:16 AM;ChristopherFerris;-1 on principle - we are done making improvements per agreement. Bug fixes and new tests. Only docs and samples are to be improved.;;;","23/Mar/18 2:07 PM;denyeart;Many issues were bulk moved from v1.0 or v1.1 to v1.2 as part of a cleanup effort, and many of these issues are not high priority or actually intended to be worked for v1.2.  This issue is being bulk moved to Future.  If the issue is indeed high priority for v1.2 and/or very low effort, please move back to v1.2 and add a comment to indicate rationale.;;;","24/Sep/18 5:18 AM;denyeart;Bulk Jira update:
For remaining tasks with FixVersion v1.3.0, the Reporter should update to v1.4.0 or Future, or Close.
Add a comment with any clarification needed, so that release managers can close out v1.3.0 release cleanly.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fix cauthdsl potential nil pointer dereference,FAB-4463,17643,16603,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,08/Jun/17 11:05 PM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,10/Jun/17 2:22 AM,,,,,,fabric-orderer,,,,,,,0,,,,,,,,"In the case of a malformed config transaction, it is possible to trick the cauthdsl code into attempting to compile a nil policy.  This was discovered while testing FAB-3831.",,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxzmn:",,,,,,,,,,,,,,,,,,,,,,,,,,,jyellick,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"09/Jun/17 1:08 AM;jyellick;Fixed via: https://gerrit.hyperledger.org/r/10331;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fix configtx manager potential nil dereference,FAB-4464,17644,16603,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,08/Jun/17 11:08 PM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,10/Jun/17 2:21 AM,,,,,,fabric-orderer,,,,,,,0,,,,,,,,"When sending a specially malformed config transaction, it is possible to trick the configtx manager into attempting to dereference a nil pointer for the channel group.  This was discovered during the testing of FAB-3831.",,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxzmv:",,,,,,,,,,,,,,,,,,,,,,,,,,,jyellick,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"09/Jun/17 1:09 AM;jyellick;Fixed via: https://gerrit.hyperledger.org/r/10333;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Expose orderer orgs via config,FAB-4465,17645,16603,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,08/Jun/17 11:12 PM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,10/Jun/17 2:21 AM,,,,,,fabric-orderer,,,,,,,0,,,,,,,,"Only the application orgs are accessible via the config structures interface.  In order to support FAB-3831, it is necessary to also be able to access the orderer orgs via this interface.",,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxzn3:",,,,,,,,,,,,,,,,,,,,,,,,,,,jyellick,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"09/Jun/17 1:09 AM;jyellick;Fixed via: https://gerrit.hyperledger.org/r/10335;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Config interface cannot report whether application/orderer config is missing,FAB-4466,17646,16603,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,08/Jun/17 11:16 PM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,10/Jun/17 7:11 AM,,,,,,,,,,,,,0,,,,,,,,"Because the application and orderer config are returned as interfaces, it's not possible to perform a simple nil check to see whether they are set.  These accessor methods also need to return whether there is a backing implementation for the interface returned.",,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxznb:",,,,,,,,,,,,,,,,,,,,,,,,,,,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"09/Jun/17 1:09 AM;jyellick;Fixed via: https://gerrit.hyperledger.org/r/10337;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Allow CreateSignedEnvelope not to sign,FAB-4467,17647,16603,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,08/Jun/17 11:21 PM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,10/Jun/17 4:05 AM,,,,,,,,,,,,,0,,,,,,,,"The CreateSignedEnvelope function requires as a parameter, a signer.  This parameter cannot be nil, so it is not possible to use CreateSignedEnvelope to simply create an envelope.",,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxznj:",,,,,,,,,,,,,,,,,,,,,,,,,,,jyellick,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"09/Jun/17 1:10 AM;jyellick;Fixed via: https://gerrit.hyperledger.org/r/10339;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Create sanity checking code for configurations,FAB-4468,17648,16603,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,08/Jun/17 11:24 PM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,10/Jun/17 7:22 PM,,,,,,,,,,,,,0,,,,,,,,"The core configtx processing code does checks for correctness, ensuring that the config is well formed, and that there is nothing grossly misconfigured.

However, certain types of misconfiguration are not fatal in the main path, but it is nice to learn about them, this could should do that.",,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxznr:",,,,,,,,,,,,,,,,,,,,,,,,,,,jyellick,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"09/Jun/17 1:10 AM;jyellick;Fixed via: https://gerrit.hyperledger.org/r/10341;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Expose sanity checking API via configtxlator,FAB-4469,17649,16603,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,08/Jun/17 11:29 PM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,10/Jun/17 7:24 PM,,,,,,,,,,,,,0,,,,,,,,"The sanity checking code is not currently available through any external interface.  In order to be useful, this code needs to be added to the configtxlator REST targets.",,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxznz:",,,,,,,,,,,,,,,,,,,,,,,,,,,jyellick,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"09/Jun/17 1:10 AM;jyellick;Fixed via: https://gerrit.hyperledger.org/r/10343;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Chaincode setup instructions need to be updated,FAB-4470,17650,,Bug,Closed,FAB,Fabric,software,denyeart,,,Low,Done,nickgaski,sandp125,sandp125,08/Jun/17 11:40 PM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,24/Jun/17 3:10 PM,v1.0.0-beta,,,v1.0.0-rc1,,fabric-docs,,,,,,,0,quality,,,,,,,"[http://hyperledger-fabric.readthedocs.io/en/latest/Setup/Chaincode-setup.html]

The above document refers to fabric V0.6. Please update it.

 ",,ChristopherFerris,markparz,sandp125,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxzo7:",,,,,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,markparz,sandp125,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"16/Jun/17 6:28 AM;markparz;[~sandp125] can you please give me the path you took to get to this page.... i.e. what page did you click from to get to this CC page?;;;","16/Jun/17 11:05 PM;sandp125;I got this URL from a bug I was looking at in JIRA. I would have to check with the person who raised the bug;;;","16/Jun/17 11:25 PM;markparz;Ok, thanks we need to fix that link so it points to relevant doc. Let us know please.. .thanks!;;;","24/Jun/17 3:09 PM;ChristopherFerris;This was fixed in the doc cleanup FAB-4820. The file no longer exists.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
remove ARCH variable,FAB-4471,17651,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,mastersingh24,ChristopherFerris,ChristopherFerris,08/Jun/17 11:41 PM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,10/Jun/17 3:37 AM,v1.0.0-beta,,,WON'T FIX,,fabric-build,,,,,,,0,build-system,,,,,,,see [https://gerrit.hyperledger.org/r/#/c/10261/11/scripts/bootstrap-1.0.0-beta.sh@9] comment from Gari at line 9,,ChristopherFerris,mastersingh24,,,,,,,,,,,,,,,,,,,300,300,,0%,300,300,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxzof:",,,,,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"10/Jun/17 2:43 AM;mastersingh24;http://gerrit.hyperledger.org/r/10409;;;","10/Jun/17 2:53 AM;ChristopherFerris;I was going to close this as WONTFIX because it actually is used on line 35.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Improve documentation for block listener example,FAB-4472,17652,17398,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wlahti,wlahti,wlahti,08/Jun/17 11:43 PM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,12/Jun/17 8:16 PM,,,,v1.0.0,,,,,,,,,0,,,,,,,,"The current documentation lacks clarity on the location of the MSP directories generated by the e2e_cli example's network setup script, which makes it difficult for a new user to follow along. There are also a few steps that could use some editing and reorganization to make the document easier to use. ",,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxzon:",,,,,,,,,,,,,,,,,,,,,,,,,,,wlahti,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
use minimal cache for invoke validations,FAB-4473,17655,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,muralisr,muralisr,muralisr,09/Jun/17 12:13 AM,21/Jul/18 3:57 AM,28/Oct/23 3:00 AM,10/Aug/17 1:16 AM,v1.0.0,,,,,fabric-peer,,,,,,,0,,,,,,,,"ccprovider implements a cache to read in data from the installed chaincode package to reduce file system access. Only the InstantiationPolicy is used from the package. However the whole package with the chaincode code is cached. With large chaincodes this could become a memory hog. This improvement will cache just the ChaincodeData (contains the instantiation policy but not the code). 

 

[https://gerrit.hyperledger.org/r/#/c/10121/] has the fix.",,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzxzov:",,,,Unset,,Sprint 16  - Endorser,,,,,,,,,,Unset,,,,,,,,,,,muralisr,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Gossip:  non-leader peer fails to get synced after its disconnected temporarily ,FAB-4475,17657,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,yacovm,AdnanChoudhury,AdnanChoudhury,09/Jun/17 12:44 AM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,11/Jun/17 5:18 AM,v1.0.0,,,v1.0.0,,fabric-gossip,,,,,,,0,gossip,gossip_component,quality,,,,,"*Setup*:
 # Uses e2ecli example. 2 org and 2 peer each ( peer0, peer1 from org 1, peer2 and peer3 from org2). Static leader selected for each organization (peer0 and peer2), while setting leader-election to false. (The compose files are attached, start with docker-compose-cli.yaml)
 # After the last step in e2ecli (query peer3),  disconnect the peer3 from the network via docker network disconnect. 
 # After 15 seconds, do another invoke operation as before (in peer0) and wait 15 seconds.
 # Connect back peer3 via docket network connect, and continue to query for the value.

*What was expected*: After a short duration of few seconds, query result is 80.

*What was observed*: query result remains 90 for 5 minutes (whole test duration), or in some intermittent case, becomes the expected value 80  after ~200 seconds.",,AdnanChoudhury,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,FAB-4518,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"09/Jun/17 12:40 AM;AdnanChoudhury;docker-compose-base.yaml;https://jira.hyperledger.org/secure/attachment/10998/docker-compose-base.yaml","09/Jun/17 12:41 AM;AdnanChoudhury;docker-compose-cli.yaml;https://jira.hyperledger.org/secure/attachment/10996/docker-compose-cli.yaml","09/Jun/17 6:58 AM;AdnanChoudhury;fail_after_300_sec.zip;https://jira.hyperledger.org/secure/attachment/11001/fail_after_300_sec.zip","09/Jun/17 6:58 AM;AdnanChoudhury;pass_after_144_sec.zip;https://jira.hyperledger.org/secure/attachment/11002/pass_after_144_sec.zip","09/Jun/17 12:40 AM;AdnanChoudhury;peer-base.yaml;https://jira.hyperledger.org/secure/attachment/10997/peer-base.yaml",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxzpb:",,,,,,,,,,,,,,,,,,,,,,,,,,,AdnanChoudhury,yacovm,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"09/Jun/17 5:00 AM;AdnanChoudhury;More info: after the peer3 is connected back, if there is another additional transaction  (same invoke of transfer of 10 between b and a),  the peer gets updated within ~20 seconds.;;;","09/Jun/17 5:17 AM;yacovm;Hi. 
Is it possible to have a terminal output?
for example- using the [script |http://man7.org/linux/man-pages/man1/script.1.html]command
so I could reproduce exactly what you did.

Also - logs of all peers would be helpful... ;;;","09/Jun/17 7:00 AM;AdnanChoudhury;[~yacovm] please see the two attached zip files, they have the 1 script log and 4 peers log each. The peer that was disconnected/connected-back was peer1org2. The log level for Gossip was debug.;;;","09/Jun/17 11:24 PM;yacovm;I think I solved it.
Can you please pull https://gerrit.hyperledger.org/r/#/c/10395/ and see? ;;;","10/Jun/17 12:07 AM;AdnanChoudhury;After cherry-picking your change, I see that peer1org2 gets updated at 22nd second almost every time (the rest of the times it was faster), compared to not getting updated in 300 seconds before your change.

Is there a timing combination that would make the peer wait 22 second? [~yacovm];;;","10/Jun/17 12:35 AM;yacovm;well I'm not sure about the 22 but the state transfer has a cycle of 10 seconds so that means the ""mean"" wait time of a peer that just joined is 5 seconds, and then the wait time for the response is 3 seconds so it's already 8.
But it also takes a while for the peers to re-connect to you... 

Now, I did something different - I killed peer0.org2 and left it dead for good and it seemed that peer1.org2 got the blocks pretty fast (less than 5 seconds). Maybe I just got luckly... 

Bottom line - I wouldn't worry about it right now, as you clearly see that it works now :) 
Thanks for the catch!;;;","10/Jun/17 12:44 AM;AdnanChoudhury;I agree that 22 seconds is plausible. I would consider it solved. Thanks [~yacovm];;;","11/Jun/17 3:00 AM;Clayton Sims;To confirm .....can we mark this done?;;;","11/Jun/17 3:08 AM;AdnanChoudhury;The CR above ([https://gerrit.hyperledger.org/r/#/c/10395/]) solves it, and that CR is in review and not merged yet. That being said, I am ok with marking this as done. [~Clayton Sims];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Malicious clients may theoretically crash the orderer,FAB-4479,17665,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,09/Jun/17 2:35 AM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,10/Jun/17 12:06 AM,,,,v1.0.0,,fabric-orderer,,,,,,,0,,,,,,,,"Although the orderer makes every effort to validate all user provided data, especially when processing configuration updates, there is a very large attack surface where a specially crafted message _might_ be able to trigger a programming error like a nil pointer dereference, crashing the orderer.

Because the client threads for {{Broadcast}} and {{Deliver}} never have any direct affect on world state (ie writing to the ledger, or updating configuration), they may safely panic at any point, without worry of corrupting the orderer state.

Since these threads may panic without adversely affecting the orderer, these panics should be recovered and logged, instead of being allowed to crash the whole ordering process.",,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxzqf:",,,,,,,,,,,,,,,,,,,,,,,,,,,jyellick,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"09/Jun/17 3:06 AM;jyellick;Fixed via: https://gerrit.hyperledger.org/r/#/c/10359/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Need API to ""Leave Channel"" for Peer",FAB-4481,17667,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,,varadatibm,varadatibm,09/Jun/17 2:49 AM,08/Aug/19 10:02 PM,28/Oct/23 3:00 AM,08/Aug/19 10:02 PM,,,,Future,,fabric-peer,,,,,,,1,,,,,,,,Currently there is API to join channel... we are missing a 'leave channel' on peer.,,baohua,binhn,toddinpal,varadatibm,wbhagan,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11334,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzxzqv:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,baohua,binhn,toddinpal,varadatibm,wbhagan,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"09/Jun/17 2:58 AM;binhn;Let me add more info based on our chat.

The use-case is simply for the peer to leave the channel. The peer's cert is still valid on the network and peer might be participating in other channels.;;;","13/Jul/17 2:38 AM;jimthematrix;[~binhn] [~denyeart] this would be equivalent to deleting the channel on that peer right? since no API exists on the peer yet, I'm changing the target component to fabric-peer;;;","15/Nov/18 4:36 PM;baohua;+1, this will help complete peer's lifecycle.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Modify logging module names to more easily utilize prefix capabilities in logging specs,FAB-4482,17670,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,wlahti,wlahti,09/Jun/17 3:13 AM,11/Jun/19 1:09 AM,28/Oct/23 3:00 AM,11/Jun/19 1:09 AM,,,,Future,,fabric-quality,,,,,,,0,,,,,,,,"In order to fully take advantage of the regular expression capabilities of the peer logging commands, I propose that we use this task (creating sub-tasks as needed) to handle updating logging modules names, where applicable, to consistently follow the format:

<component>.<subcomponent>

For example, the peer CLI commands could be updated from logging module names such as ""channelCmd"" and ""chaincodeCmd"" to ""cli.channel"" and ""cli.chaincode"" in order to facilitate updating all CLI-related loggers at once, e.g. ""peer logging setlevel cli DEBUG"".

Another component that could clearly benefit from this is the ledger, which has a large number of module names that could be unified under the format ""ledger.<subcomponent>"". 

The gossip component already does this and is a great example to follow as well. ",,ChristopherFerris,muralisr,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzxzr3:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,ChristopherFerris,muralisr,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"09/Jun/17 8:14 AM;ChristopherFerris;-1 on principle - we are done with changes for v1.0;;;","09/Jun/17 10:17 PM;muralisr;[~wlahti] given we are on home stretch for 1.0 and this is not crucial for 1.0 , can we move Fix Version to ""future"" please ?;;;","09/Jun/17 10:23 PM;wlahti;Moved to Future. It isn't needed now but will be extremely helpful for serviceability in the future.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Getting Started doc needs to provide more help for Windows 7 users,FAB-4485,17677,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,lehors,lehors,lehors,09/Jun/17 7:11 AM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,10/Jun/17 12:37 AM,v1.0.0-beta,,,v1.0.0-rc1,,fabric-docs,,,,,,,0,,,,,,,,"Getting Started instruct users to execute the following command:
{code:java}
curl -sSL https://goo.gl/LQkuoh | bash{code}
Unfortunately this command fails on Windows 7 using Docker Toolbox because the curl command that comes with this environment is old and fails to follow the redirect. Users get this:
{code:java}
$ curl -sSL https://goo.gl/LGuoh | bash
bash: line 1: syntax error near unexpected token `newline'
bash: line 1: `<HTML>'{code}
Documentation should help cope with that situation.

 ",Windows 7 using Docker Toolbox,lehors,weeds,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxzs7:",,,,,,,,,,,,,,,,,,,,,,,,,,,lehors,weeds,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"10/Jun/17 12:37 AM;weeds;Gerrit is 10387;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
cryptogen should generate crls and config.yaml,FAB-4488,17680,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,baohua,baohua,baohua,09/Jun/17 10:20 AM,30/Jul/19 10:04 AM,28/Oct/23 3:00 AM,30/Jul/19 10:04 AM,,,,,,fabric-tools,,,,,,,0,,,,,,,,"By default, the configtxgen required crls and config.yaml, otherwise it will keep complaining not finding that.

 

So cryptogen should make the crls dir by default, and also create a config.yaml.",,baohua,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxzsn:",,,,,,,,,,,,,,,,,,,,,,,,,,,baohua,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"30/Jul/19 10:04 AM;mastersingh24;This is not the point of cryptogen;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
panic timeout after 20mins - core/deliverservice package unit-tests,FAB-4489,17681,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,yacovm,rameshthoomu,rameshthoomu,09/Jun/17 12:14 PM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,11/Jun/17 6:08 PM,v1.0.0,,,v1.0.0,,fabric-gossip,,,,,,,0,quality,,,,,,,"observed Intermittent *fabric-verify* build failures in both x86_64 and s390x platforms with the below error message. Execution time of this package (/core/deliverservice) is taking more than 20 mins (1200 sec's)..

00:44:12.365 unit-tests_1 | created by github.com/hyperledger/fabric/core/deliverservice/mocks.NewOrderer
 00:44:12.365 unit-tests_1 | /opt/gopath/src/github.com/hyperledger/fabric/core/deliverservice/mocks/orderer.go:47 +0x169
 {color:#d04437}00:44:12.366 unit-tests_1 | FAIL github.com/hyperledger/fabric/core/deliverservice *1200.060s{color}*
 00:44:12.367 unit-tests_1 | error: exit status 1
 00:44:12.368 unit-tests_1 | panic: EOF
 00:44:12.368 unit-tests_1 |

+Below are the build references:+
 [https://jenkins.hyperledger.org/job/fabric-verify-x86_64/13083/console]
 [https://jenkins.hyperledger.org/job/fabric-verify-x86_64/13105/console]
[https://jenkins.hyperledger.org/view/fabric/job/fabric-merge-z/1553/console]

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/13157/console",Jenkins x86_64 and s390x builds,jyellick,muralisr,rameshthoomu,yacovm,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,FAB-4518,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxzsv:",,,,,,,,,,,,,,,,,,,,,,,,,,,jyellick,muralisr,rameshthoomu,yacovm,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"09/Jun/17 12:25 PM;jyellick;Moving component to peer, although this is around an ""Orderer"" structure, this is the peer's mock of that structure.;;;","09/Jun/17 9:00 PM;muralisr;[~C0rWin] can you take a look please ?;;;","10/Jun/17 12:42 AM;Clayton Sims;moved to gossip component.;;;","10/Jun/17 1:51 AM;yacovm;Should be fixed via https://github.com/hyperledger/fabric/blob/master/core/deliverservice/client_test.go#L494-L496
;;;","10/Jun/17 1:57 AM;yacovm;actually, it seems like it doesn't... ;;;","11/Jun/17 4:00 AM;yacovm;fix in https://gerrit.hyperledger.org/r/#/c/10437/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
bash script name has to update in getting_started doc,FAB-4490,17682,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,markparz,rameshthoomu,rameshthoomu,09/Jun/17 1:15 PM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,18/Jun/17 9:35 AM,v1.0.0,,,v1.0.0,,fabric-docs,,,,,,,0,Documentation,quality,,,,,,"Bash script name has to change to `bootstrap-1.0.0-beta.sh` in getting_started.rst document

curl -sSL [https://goo.gl/LQkuoh] | bash
 This command downloads and executes a bash script -(bootstrap.sh)- (bootstrap-1.0.0-beta.sh)

http://hyperledger-fabric.readthedocs.io/en/latest/getting_started.html",,binhn,markparz,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxzt3:",,,,,,,,,,,,,,,,,,,,,,,,,,,binhn,markparz,rameshthoomu,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"10/Jun/17 5:45 AM;binhn;[~rameshthoomu] doing it that way we would have to change every time we publish a release, which will be more often now. Could we just stick with the generic filename?;;;","13/Jun/17 4:30 AM;markparz;[~rameshthoomu] I think this an issue? I just ran through the e2e again using: curl -sSL [https://goo.gl/LQkuoh] | bash

All works fine;;;","13/Jun/17 11:36 AM;rameshthoomu;[~binhn] agree with you.. But it's better to remove .sh from the file name. So that will call that as a generic bootstrap script.  We can modify like below. 
*This command downloads and executes bootstrap script..*

*[~markparz] Yes script is working as expected but reference of the file name is the issue.. We have mentioned (bootstap.sh) but we are actually executing bootstrap-1.0.0-beta.sh.*
 ;;;","13/Jun/17 11:14 PM;markparz;[~rameshthoomu] Ok, cool, I see... I pushed a fix here: [https://gerrit.hyperledger.org/r/#/c/10525/]

put you and [~binhn] as reviewers... it's extremely small, just noted in the 1 place.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Getting_Started.rst: Specify the check in directory to execute ./network_setup.sh script,FAB-4491,17683,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,rameshthoomu,rameshthoomu,09/Jun/17 1:28 PM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,09/Jun/17 11:33 PM,v1.0.0,,,v1.0.0,,fabric-docs,,,,,,,0,Documentation,quality,,,,,,"Getting_Started.rst: Specify the check in directory to execute ./network_setup.sh script. Instructions are missing to check in to the **release/<ARCH>(linux-amd64)** directory before execute **./network_setup.sh**.

http://hyperledger-fabric.readthedocs.io/en/latest/getting_started.html",,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-4494,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxztb:",,,,,,,,,,,,,,,,,,,,,,,,,,,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"09/Jun/17 11:33 PM;rameshthoomu;fix has been provided and merged. See JIRA FAB-4491;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
PTE: KeyValueStore Enhancement needed for Density,FAB-4492,17684,,Task,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,wsh_bob,wsh_bob,wsh_bob,09/Jun/17 5:42 PM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,03/Aug/17 11:09 PM,,,,v1.0.0-alpha2,,fabric-quality,,,,,,,0,quality,,,,,,,"Currently, KeyValueStore dir is: /tmp/hfc-test-kvs+'_'+org. Could you add network filter to differentiate different network?",,wsh_bob,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-2247,,,,,,,,,,"1|hzxztj:",,,,,,Week ending 2019-Feb-01,,,,,,,,,,,,,,,,,,,,,wsh_bob,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
PTE:  PID & Network mapping redesign,FAB-4493,17685,,Task,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,wsh_bob,wsh_bob,wsh_bob,09/Jun/17 5:43 PM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,03/Aug/17 11:09 PM,,,,v1.0.0-alpha2,,,,,,,,,0,quality,,,,,,,"PIDs start from 0 and only increase in 1 Org scope, not network scope. Could go with: Netid, OrgId, PID.",,wsh_bob,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-2247,,,,,,,,,,"1|hzxztr:",,,,,,Week ending 2019-Feb-01,,,,,,,,,,,,,,,,,,,,,wsh_bob,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Getting started doc is missing a step,FAB-4494,17686,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,lehors,lehors,lehors,09/Jun/17 6:36 PM,21/Jul/18 3:56 AM,28/Oct/23 3:00 AM,09/Jun/17 9:24 PM,v1.0.0-beta,,,v1.0.0-rc1,,fabric-docs,,,,,,,0,,,,,,,,"Before the user is instructed to run network_setup.sh the documentation should instruct the user to change to the proper release subdirectory after bootstrap.sh is run.

 ",,lehors,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-4491,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzxztz:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,lehors,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
As I fabric developer I want to reduce the bottleneck introduced by certificate sanitization,FAB-4496,17688,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,angelo.decaro,angelo.decaro,09/Jun/17 9:32 PM,21/Jul/18 3:55 AM,28/Oct/23 3:00 AM,29/Nov/17 9:48 PM,v1.0.0-alpha2,,,v1.1.0,,fabric-crypto,,,,,,,0,quality,Security,,,,,,"Certificate sanitization solves the issue of double representation of an ECDSA signature in the context of an x509 certificate. Unfortunately, it also introduces a bottleneck because in order to sanitise a certificate, its parent needs to be loaded. This might take time.

A possible solution would be that of caching the relevant information to perform sanitization per MSP and per peer.   

[~elli-androulaki],[~ales],[~mastersingh24],[~yacovm],[~binhn],[~muralisr],[~C0rWin],[~jyellick] what's your take on this? ",,angelo.decaro,binhn,elli-androulaki,harrijk,yacovm,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzxzuf:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,angelo.decaro,binhn,elli-androulaki,harrijk,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"09/Jun/17 9:42 PM;yacovm;so I think that if we cache this naively in the MSP we would run into a different problem, since the MSP manager is per channel, and then the cache size would be linear to the number of channels the peer / orderer is a member of - not a good idea.

Therefore perhaps we create an LRU-based cache that is shared among the MSP instances, and the keys would be the hash of the serilizedIdentity and the values would be a map from MSP-ID to msp.Identity ? ;;;","09/Jun/17 9:45 PM;angelo.decaro;Exactly what I had in mind :);;;","10/Jun/17 6:04 AM;binhn;I'll add more when I have a chance to do more code/call analysis, but I think cache would help.;;;","11/Aug/17 6:45 PM;elli-androulaki;+1 from my side. Thanks!;;;","29/Nov/17 9:49 PM;elli-androulaki;This has been taken care of by MSP cache work. [~angelo.decaro], may you bring up the related CR/JIRA item? Thanks!;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
TestEndedGoroutines fails nondeterministic with a panic ,FAB-4497,17689,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,manish-sethi,manish-sethi,09/Jun/17 9:36 PM,20/Mar/19 3:38 PM,28/Oct/23 3:00 AM,12/Jun/17 12:42 AM,,,,v1.0.0,v1.0.0-rc1,fabric-gossip,,,,,,,0,ci-flake,,,,,,,"TestEndedGoroutines fails nondeterministiclly with a panic. Not sure whether the test is indeterministic  or the underlying code - Hence marking it as high until initial investigation.

CI logs - [https://jenkins.hyperledger.org/job/fabric-verify-z/8762/consoleFull]

[~yacovm], [~C0rWin]",,manish-sethi,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxzun:",,,,,,,,,,,,,,,,,,,,,,,,,,,manish-sethi,yacovm,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"09/Jun/17 9:40 PM;yacovm;the source of the panic is test code.
This shouldn't be high.;;;","11/Jun/17 7:38 PM;yacovm;https://gerrit.hyperledger.org/r/#/c/10447/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fix words in orderer.yaml,FAB-4500,17693,,Story,Closed,FAB,Fabric,software,denyeart,,,Lowest,Done,baohua,baohua,baohua,09/Jun/17 11:39 PM,21/Jul/18 3:54 AM,28/Oct/23 3:00 AM,14/Jun/17 12:41 PM,,,,v1.0.0,,fabric-orderer,,,,,,,0,,,,,,,,"Fix duplicated words and add more comments in the orderer.yaml.

 ",,baohua,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzxzv3:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,baohua,kchristidis,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"09/Jun/17 11:41 PM;kchristidis;Make sure to edit those in examples/cluster/config/orderer.yaml as well.;;;","09/Jun/17 11:54 PM;baohua;https://gerrit.hyperledger.org/r/#/c/10399/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Need appropriate error message from create channel,FAB-4502,17696,,Story,Closed,FAB,Fabric,software,denyeart,,,Low,Done,,varadatibm,varadatibm,10/Jun/17 1:13 AM,21/Jul/18 3:56 AM,28/Oct/23 3:00 AM,10/Jul/17 9:03 PM,v1.0.0-beta,,,DUPLICATE,,fabric-orderer,,,,,,,0,common-components,,,,,,,"When creating a channel, we are unable to display a proper error message back to the user... the important one is if the channel creation failed due to insufficient signatures... and if possible which signatures are missing.",,kchristidis,varadatibm,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-4767,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzx3k7:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,kchristidis,varadatibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"16/Jun/17 5:12 AM;jimthematrix;[~varadatibm] the SDK doesn't do any error message translation when it received errors from calls to the backend. It simply relays the errors back through the API's reject() code path. So to fix the issue the orderer need to send back a more descriptive error message.;;;","20/Jun/17 10:01 AM;kchristidis;We can only work with the Status codes listed here: [https://github.com/hyperledger/fabric/blob/master/protos/common/common.proto#L27]

We can add more Status codes post v1, assuming there is an HTTP equivalent.

Either way, let me know which Status code you suggest.

Otherwise will have to close.;;;","10/Jul/17 9:02 PM;kchristidis;We'll expand BroadcastResponse with a ""details"" string field where we include the error message that the orderer sees / spits out.

This is a duplicate of FAB-4767, so I'm going to close it. Please keep track of FAB-4767.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Disable brittle test TestDisconnect ,FAB-4503,17699,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,10/Jun/17 1:36 AM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,11/Jun/17 3:20 AM,v1.0.0-beta,,,v1.0.0,,fabric-peer,,,,,,,0,,,,,,,,"This test was merged today but it seems like it sometimes fails. Disabling for now, to investigate offline",,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxzvj:",,,,,,,,,,,,,,,,,,,,,,,,,,,yacovm,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
predicting constant txn failures under normal operation owing to flow control requirement,FAB-4506,17704,,Story,Closed,FAB,Fabric,software,denyeart,,,Highest,Won't Do,,kletkeman,kletkeman,10/Jun/17 3:11 AM,23/Jan/20 4:16 AM,28/Oct/23 3:00 AM,23/Jan/20 4:16 AM,v1.0.0,,,Future,,,,,,,,,0,commit,fabric-ca,failure,flowcontrol,retry,stale-item,v1.0,"The flow control requirement for v1 fabrics has some potentially nasty implications for smart contracts with an IoT component (and indeed for any contracts with multiple event sources for the same asset).

In an IoT scenario, a large asset (e.g. aircraft) could have many sensors that report periodically or all at once, for example when the aircraft has reached the gate. This burst would be sent to an asset in the contract, which could be the aircraft itself or the flight that the aircraft has just completed (and then propagated to the aircraft asset).

Each device will send a unique event through an IoT broker and those will be mapped to a contract API and payload and then sent. We cannot flow control based on the asset ID because there is no concept of a target asset in an IoT message. It might be embedded in the payload, but brokers are not contextual in that way.

So these are likely to be processed in parallel and sent to the contract simultaneously, resulting in all but one failing when the block is committed.

In v0.6, this was not an issue of course because queries looked at committed data while invokes looked at data to be committed, so multiple invokes could build on one another. But in v1, queries and invokes alike look only at committed data, which means that the many events that arrived together and are in limbo are going to automatically clash at commit time, with all but one ultimately failing.

After pondering flow control schemes, I have come to the conclusion that there is no way to prevent key clashes via flow control. We may actually be forced to create a smart flow control queue where each transaction that is sent will be monitored and checked off, with failed txns allowed up to 'n' retries before we give up.

But this has an extremely negative property of not preserving original order unless we add an extra level of complexity to only retry the oldest pending transaction once it has reported as failed or succeeded. This has the likely result of creating ""stuck queues"" as we wait for network interruptions or fabric glitches to work themselves out.

I think this is a very serious potential issue, and I am hoping that this has been solved in some way I just don't know about. But if not, then is the expected solution a complex flow control queue as I discuss above? Perhaps that could be built into the fabric on a channel by channel basis so that we don't all have to solve the problem?",,kletkeman,scottz,smartheye,sykesm,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzxzwf:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,kletkeman,scottz,smartheye,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"10/Jun/17 3:32 AM;kletkeman;Note that this is not just an issue with simultaneous events being placed in the same block. It will also happen when events arrive on different peers in different global regions but on the same channel (where the asset resides). In this case, both will successfully execute on their regional endorsers, but using the same asset key versions, and both might even get into two separate blocks.

But that won't help, because the second one to be processed was still built on the older key versions and will fail.;;;","13/Jun/17 1:44 PM;jimthematrix;hi [~kletkeman] what you are describing, mvcc collisions, is the limitation of the current v1.0 design. There is nothing in the fabric that can be done to have much impact on improving the success rate under the conditions you are describing. 

On the other hand, the key technique to maximize success rate is to use a unique key under the chaincode for writing data. At least rotate among a list of keys that would take about the same time to iterate as the transaction latency. For example, if the average transaction latency on a particular network is 2 seconds, and your peak submission rate is 2,000 concurrent transactions per second, then use at least 4,000 different keys to save the data such that by the time those keys are iterated through, the transactions will have been committed already.

I don't know of any other techniques that would improve the success rate under the v1.0 architecture. But maybe others [~mastersingh24], [~binhn] may have additional ideas.

Based on this understanding, I'm changing the issue from a Bug to an Improvement, and moved it to Future for consideration.;;;","13/Jun/17 10:35 PM;kletkeman;Hi Jim, thanks for responding. I'm not quite understanding how the use of a unique key would work. If we have a somewhat complex data model with relationships – let's posit and aircraft with a list of installed assemblies – then we would likely model the installed assemblies as a Java object with the keys being the assembly IDs. The assemblies themselves are stored with a class identifier (the only way to properly segregate both asset state and asset state history) and then the asset's ID. Any incoming event will be targeted specifically at that asset ID (e.g. aircraft tail number, to be propagated to installed assemblies if applicable – or some similar algorithm).

In this scenario, all asset references, either externally or internally, must contain the asset class (usually interpretable from context) and the asset ID (not interpretable from context, must be explicit).

If I then use a key *other* than **asset class + asset ID**, I am going to write to the asset state of that specific asset. Using a different key each time would allow me to write it out along with someone else writing it out as well, but with a different reading against the asset. 

How would I tie these two versions of the current asset state together?

If I had 10 incoming events, how would I tie all 10 versions to the same asset? And how would I put them together when queried?

How would I build on them, since they are randomly scattered around world state?

Any index that I build under the hood almost certainly constitutes a common key once again, leading to the same rejection issue.

I feel as if I have somehow missed the point of the technique you are proposing. But I think it is more likely that there is no solution to this issue except for an intimately tied queued and extremely strict guidelines on chaincode behaviors and on incoming event cadencing. 

Which means that IoT applications that were perfectly compatible with v0.6 are almost certainly not compatible at all with v1 fabrics.

What cadence of events against an asset was envisioned when this was designed?;;;","19/Feb/18 12:54 PM;scottz;Just browsing issues, but I wonder if I understand this correctly. I am pretty sure I do not fully understand your concerns and how they relate to Flow Control, but it does seem possible, depending on the constraints, that the chaincode design could be done in such a way to make this work more smoothly. Either:
 # write a chaincode transaction that uses one key (for the particular airplane, or a subsystem of the airplane, which has a large set of sensors) and updates all the items at once, or...
 # write a chaincode that uses individual keys for each sensor, so that changing the value of one sensor would not affect or prohibit transactions that change a different sensor which has its own unique key.;;;","23/Jan/20 4:16 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add multiple orderer handling,FAB-4509,17707,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,dongming,holocron,holocron,10/Jun/17 4:03 AM,21/Jul/18 3:55 AM,28/Oct/23 3:00 AM,12/Jun/17 10:13 PM,,,,Not a Bug,,fabric-tools,,,,,,,0,Duplicate,PTE,quality,,,,,"I would like to be able to configure PTE with multiple orderers, and PTE would be able to load balance across and detect outages in the available and configured orderers.",,holocron,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzxzx3:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,holocron,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"10/Jun/17 5:10 AM;holocron;This is a duplicate of FAB-3546;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
flatter tar file for release binaries,FAB-4510,17708,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ChristopherFerris,ChristopherFerris,ChristopherFerris,10/Jun/17 4:06 AM,21/Jul/18 3:54 AM,28/Oct/23 3:00 AM,14/Jun/17 8:44 PM,v1.0.0-beta,,,v1.0.0-rc1,,fabric-build,,,,,,,0,build-system,,,,,,,"we really should have a flatter structure for the release binaries tarfile. Also, we should keep the binaries independent of the e2e sample app.

 ",,ChristopherFerris,,,,,,,,,,,,,,,,,,,,28800,28800,,0%,32400,32400,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,FAB-4518,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzxzxb:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"10/Jun/17 4:10 AM;ChristopherFerris;https://gerrit.hyperledger.org/r/#/c/10413/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update solo docker compose file,FAB-4511,17709,16101,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,latitiah,latitiah,latitiah,10/Jun/17 4:45 AM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,15/Jun/17 12:52 AM,,,,,,fabric-quality,,,,,,,0,quality,,,,,,,The docker compose file should contain the correct environment variables and volumes mounted in order to successful being up a solo-based fabric network.,,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxzxj:",,,,,,Sprint 19 - Quality,,,,,,,,,,,,,,,,,,,,,latitiah,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"10/Jun/17 4:52 AM;latitiah; http://gerrit.hyperledger.org/r/10415
;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
gossip new leader message request in INFO logs,FAB-4512,17710,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,Nishi,Nishi,10/Jun/17 5:33 AM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,12/Jun/17 6:38 PM,,,,v1.0.0,v1.0.0-rc1,fabric-gossip,,,,,,,0,quality,,,,,,,"Hi Yacov,

Can we please have a message in gossip logs @INFO level something like
 ""peer0.org1.example.com is the newly elected gossip leader for org1""

this way it might be of great help to Support team when they have to look for this message.

Thanks!

 

 

 ",,C0rWin,ChristopherFerris,Nishi,yacovm,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-4361,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxzxr:",,,,,,,,,,,,,,,,,,,,,,,,,,,C0rWin,ChristopherFerris,Nishi,yacovm,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"10/Jun/17 5:38 AM;yacovm;[~C0rWin] [~gennadyl] wdyt? 
It's really easy to do, just need to log 2 messages [here|https://github.com/hyperledger/fabric/blob/master/gossip/service/gossip_service.go#L289-L300].;;;","11/Jun/17 3:53 AM;C0rWin;I think that we need proper API to query whenever peer as a leader. As temporary solution I'm fine with increasing a logging level, while need to open followup JIRA to take care to add API.;;;","11/Jun/17 7:47 PM;yacovm;https://gerrit.hyperledger.org/r/#/c/10449/;;;","12/Jun/17 12:37 AM;ChristopherFerris;review-needed is inappropriate for a 2 line ""fix"" to add debug statements.;;;","12/Jun/17 7:48 AM;C0rWin;Awaiting for review in gerrit: https://gerrit.hyperledger.org/r/#/c/10449/;;;","13/Jun/17 5:41 AM;Nishi;Verified on peer logs @INFO level that following messages are seen, when I had two peers from the same org:

peer1.org1.example.com>>>    2017-06-12 20:34:21.352 UTC [gossip/service] func1 -> INFO 032 Elected as a leader, starting delivery service for channel mychannel

peer0.org1.example.com>>>> 2017-06-12 20:34:21.346 UTC [gossip/service] func1 -> INFO 032 Elected as a leader, starting delivery service for channel mychannel
2017-06-12 20:34:21.375 UTC [gossip/service] func1 -> INFO 033 Renounced leadership, stopping delivery service for channel mychannel

 

on commit level: *961ccabe9258d5939c3c3fb3751e0eac515539f8*;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
disable flakey test TestConnectToAnchorPeers,FAB-4513,17711,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,ChristopherFerris,ChristopherFerris,10/Jun/17 5:49 AM,21/Jul/18 3:56 AM,28/Oct/23 3:00 AM,14/Aug/17 5:42 PM,v1.0.0-beta,,,WON'T FIX,,fabric-gossip,,,,,,,0,build-system,,,,,,,"[https://logs.hyperledger.org/jobbuilder/vex-yul-hyp-jenkins-1/fabric-verify-z/8834/]

 

This test fails intermittently and is disruptive to CI... suggest it be disabled until it can be fixed, before re-enabling.",,ChristopherFerris,nnao,yacovm,,,,,,,,,,,,,,,,,,3600,3600,,0%,3600,3600,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzxzxz:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,ChristopherFerris,nnao,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"10/Jun/17 6:50 AM;ChristopherFerris;ok, apparently the test cannot be skipped - someone please fix the flakiness or disable the while file. ;;;","14/Aug/17 5:42 PM;yacovm;This test doesn't fail in CI in the last months...;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Halting Channel on Kafka-based orderer network,FAB-4514,17713,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,kchristidis,latitiah,latitiah,10/Jun/17 6:02 AM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,10/Jun/17 6:35 AM,,,,WON'T FIX,,fabric-orderer,,,,,,,0,kafka,,,,,,,"commit: 6188bbb0f1fcc2ec8a6d43ba3848f1770e774c12
API-type: cli

When attempting to create a new channel, the command returned ""Error: Got unexpected status: SERVICE_UNAVAILABLE"". I am assuming this error is due to the halting of the channel.

After bringing up the network in the attached composition file, waiting for 5 seconds, and attempting to create a new channel, the following was observed in the orderer log. 

From orderer log
{code}
2017-06-09 20:30:00.017 UTC [orderer/kafka] Enqueue -> WARN 4c1 [channel: behavesystest] Will not enqueue cause the chain has been halted
2017-06-09 20:30:00.017 UTC [orderer/common/broadcast] Handle -> INFO 4c2 Consenter instructed us to shut down
2017-06-09 20:30:00.018 UTC [orderer/main] func1 -> DEBU 4c3 Closing Broadcast stream
2017-06-09 20:30:00.019 UTC [orderer/common/deliver] Handle -> WARN 4c4 Error reading from stream: rpc error: code = Canceled desc = context canceled
2017-06-09 20:30:00.019 UTC [orderer/main] func1 -> DEBU 4c5 Closing Deliver stream
{code}

",,ChristopherFerris,kchristidis,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"10/Jun/17 6:07 AM;latitiah;docker-compose-kafka.yml;https://jira.hyperledger.org/secure/attachment/11016/docker-compose-kafka.yml",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxzy7:",,,,,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,kchristidis,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"10/Jun/17 6:11 AM;ChristopherFerris;[~latitiah]it would help to have the specifics on the command or API used to create a new channel and it would help immensely to have logs of the failure beyond a snippet;;;","10/Jun/17 6:34 AM;kchristidis;Latitia, thanks for opening this.

As noted in Rocket.Chat: [https://chat.hyperledger.org/channel/fabric-consensus?msg=8zujp4f4G6jWf99AF]

5 seconds is not nearly enough for two clusters to come up and do leader election.

What you're seeing is the correct behavior: the user should see a SERVICE_UNAVAILABLE and have its client disconnected.

What will change with a changeset that I'm merging this weekend is the logic that's internal to the orderer – its chain won't halt, it will keep on trying to reconnect to the Kafka cluster.

This is not a bug. Closing this, but if I'm missing something, or further clarifications are needed, please let me know. (Or reopen.);;;","10/Jun/17 7:33 AM;latitiah;Thanks!  I increased the time to 10 seconds and it worked without issues. ;;;","10/Jun/17 7:43 AM;kchristidis;Awesome. Thanks for the update!;;;","10/Jun/17 7:44 AM;kchristidis;FWIW, you must have a powerful machine. In `bootstrap.feature` it usually takes me 30-40 seconds before the cluster is up.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update kafka docker compose file,FAB-4516,17715,16101,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,latitiah,latitiah,latitiah,10/Jun/17 6:23 AM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,15/Jun/17 12:52 AM,,,,,,fabric-quality,,,,,,,0,quality,,,,,,,The docker compose file should contain the correct environment variables and volumes mounted in order to successful being up a kafka-based fabric network.,,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxzyn:",,,,,,Sprint 19 - Quality,,,,,,,,,,,,,,,,,,,,,latitiah,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"10/Jun/17 6:25 AM;latitiah;http://gerrit.hyperledger.org/r/10417;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
cut v1.0.0-rc1 release 06/23/2017,FAB-4518,17718,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ChristopherFerris,ChristopherFerris,ChristopherFerris,10/Jun/17 8:22 AM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,29/Jun/17 7:56 PM,v1.0.0-beta,,,v1.0.0-rc1,,fabric-release,,,,,,,0,release,,,,,,,"cut the weekly release.

IFF we can close all high and highest defects, we can consider rc1 release... otherwise, beta2.",,ChristopherFerris,harsha544,SriramaSharma,,,,,,,,,,,,,,,,,,,,,,50460,50460,,Not a security issue,FAB-4510,FAB-3831,FAB-4080,FABC-280,FAB-4155,FAB-3310,FAB-4256,FAB-4475,FAB-4489,FAB-4136,FAB-4589,FAB-4624,FABN-316,FAB-4851,FAB-4853,FAB-4644,FAB-2291,FAB-4900,FAB-4430,FAB-4967,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxzz3:",,,,,,,,,,,,,,,2.0,,,,,,,,,,,,ChristopherFerris,harsha544,SriramaSharma,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"10/Jun/17 8:59 AM;ChristopherFerris;We should have the new binary and e2e_cli release tar files created;;;","20/Jun/17 5:23 PM;ChristopherFerris;Note that [~lehors] and I have resolved the missing licenses, but FAB-3963 remains open while [~tkuhrt] runs another scan so that we can close out the process. Hence, I am removing that as a blocker.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
prepare fabric for release,FAB-4519,17719,17718,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ChristopherFerris,ChristopherFerris,ChristopherFerris,10/Jun/17 8:29 AM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,24/Jun/17 7:57 AM,v1.0.0-beta,,,v1.0.0-rc1,,fabric-release,,,,,,,0,release,,,,,,,"*MUST BE REBASED JUST BEFORE MERGING*

Check for clean CI passes

Update Makefile

{{BASE_VERSION = 1.0.0-rc1}}
 {{PREV_VERSION = 1.0.0-beta}}
 {{IS_RELEASE = true}}

{{release_notes/v1.0.0-rc1.txt should be updated}}

{{docs/source/releases.rst should be updated with prose and link to GH release page}}

{{change log should be generated just *after* *rebasing* to pick up the last minute merged CRs and linked from docs/source/releases.rst}}",,ChristopherFerris,divyank,,,,,,,,,,,,,,,,,,,7200,7200,,0%,7200,7200,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,FAB-4527,FAB-4528,FAB-4529,FAB-4523,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxzzb:",,,,,,,,,,,,,,,1.0,,,,,,,,,,,,ChristopherFerris,divyank,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"20/Jun/17 6:19 PM;ChristopherFerris;https://gerrit.hyperledger.org/r/#/c/10827/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
prepare fabric-ca for release,FAB-4520,17720,17718,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ChristopherFerris,ChristopherFerris,ChristopherFerris,10/Jun/17 8:29 AM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,24/Jun/17 7:57 AM,v1.0.0-beta,,,v1.0.0-rc1,,fabric-release,,,,,,,0,release,,,,,,,"*MUST BE REBASED JUST BEFORE MERGING*

Check for clean CI

Update Makefile

{{BASE_VERSION = 1.0.0-rc1}}
 {{PREV_VERSION = 1.0.0-beta}}
 {{IS_RELEASE = true}}

change log should be generated just *after* *rebasing* to pick up the last minute merged CRs 

 update release_notes/v1.0.0-rc1.txt",,ChristopherFerris,,,,,,,,,,,,,,,,,,,,7200,7200,,0%,7200,7200,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,FAB-4527,FAB-4529,FAB-4524,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxzzj:",,,,,,,,,,,,,,,1.0,,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"20/Jun/17 6:18 PM;ChristopherFerris;https://gerrit.hyperledger.org/r/#/c/10829/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
prepare fabric-sdk-node for release,FAB-4521,17721,17718,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ChristopherFerris,ChristopherFerris,ChristopherFerris,10/Jun/17 8:29 AM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,24/Jun/17 7:57 AM,v1.0.0-beta,,,v1.0.0-rc1,,fabric-release,,,,,,,0,release,,,,,,,"*MUST BE REBASED JUST PRIOR TO MERGING*

generate CHANGELOG.md just *after rebasing* to pick up last minute merged CRs

update release_notes/v1.0.0-rc1.txt",,ChristopherFerris,,,,,,,,,,,,,,,,,,,,7200,7200,,0%,7200,7200,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,FAB-4527,FAB-4529,FAB-4525,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxzzr:",,,,,,,,,,,,,,,1.0,,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
prepare fabric-sdk-java for release,FAB-4522,17722,17718,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ChristopherFerris,ChristopherFerris,ChristopherFerris,10/Jun/17 8:30 AM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,29/Jun/17 7:56 PM,v1.0.0-beta,,,v1.0.0,,fabric-release,,,,,,,0,release,,,,,,,"*MUST BE REBASED JUST PRIOR TO MERGING*

generate CHANGELOG.md just *after rebasing* to pick up last minute merged CRs

update release_notes/v1.0.0-rc1.txt",,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,FAB-4527,FAB-4526,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxzzz:",,,,,,,,,,,,,,,1.0,,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
prepare fabric for next release,FAB-4523,17723,17718,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ChristopherFerris,ChristopherFerris,ChristopherFerris,10/Jun/17 8:30 AM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,24/Jun/17 7:57 AM,v1.0.0-beta,,,v1.0.0-rc1,,fabric-release,,,,,,,0,release,,,,,,,"Update Makefile

{{BASE_VERSION = 1.0.0-rc2}}
 {{PREV_VERSION = 1.0.0-rc1}}
 {{IS_RELEASE = false}}",,ChristopherFerris,,,,,,,,,,,,,,,,,,,,3600,3600,,0%,3600,3600,,Not a security issue,FAB-4519,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy007:",,,,,,,,,,,,,,,1.0,,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
prepare fabric-ca for next release,FAB-4524,17724,17718,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ChristopherFerris,ChristopherFerris,ChristopherFerris,10/Jun/17 8:30 AM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,24/Jun/17 7:58 AM,v1.0.0-beta,,,v1.0.0-rc1,,fabric-release,,,,,,,0,release,,,,,,,"Update Makefile

{{BASE_VERSION = 1.0.0-rc2}}
{{PREV_VERSION = 1.0.0-rc1}}
{{IS_RELEASE = false}}",,ChristopherFerris,,,,,,,,,,,,,,,,,,,,3600,3600,,0%,3600,3600,,Not a security issue,FAB-4520,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy00f:",,,,,,,,,,,,,,,1.0,,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
prepare fabric-sdk-node for next release,FAB-4525,17725,17718,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ChristopherFerris,ChristopherFerris,ChristopherFerris,10/Jun/17 8:31 AM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,24/Jun/17 7:58 AM,v1.0.0-beta,,,v1.0.0-rc1,,fabric-release,,,,,,,0,release,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,3600,3600,,0%,3600,3600,,Not a security issue,FAB-4521,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy00n:",,,,,,,,,,,,,,,1.0,,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
prepare fabric-sdk-java for next release,FAB-4526,17726,17718,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ChristopherFerris,ChristopherFerris,ChristopherFerris,10/Jun/17 8:31 AM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,29/Jun/17 7:56 PM,v1.0.0-beta,,,v1.0.0,,fabric-release,,,,,,,0,release,,,,,,,"update

{{pom.xml}}

{{src}}{{/test/fixture/sdkintegration/.env}}

see https://gerrit.hyperledger.org/r/#/c/10327/",,ChristopherFerris,,,,,,,,,,,,,,,,,,,,3600,3600,,0%,3600,3600,,Not a security issue,FAB-4522,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy00v:",,,,,,,,,,,,,,,1.0,,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
tag repositories,FAB-4527,17727,17718,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ChristopherFerris,ChristopherFerris,ChristopherFerris,10/Jun/17 8:33 AM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,29/Jun/17 7:55 PM,v1.0.0-beta,,,v1.0.0,,fabric-release,,,,,,,0,release,,,,,,,"Tag each repository local clone with the release_notes/v1.0.0-rc1.txt as the tag comment

{{% git tag -a v1.0.0-rc1 -F release_notes/v1.0.0-rc1.txt}}

{{% git push origin v1.0.0-rc1 HEAD:refs/heads/master}}

Tag each of fabric, fabric-ca, fabric-sdk-node, fabric-sdk-java",,ChristopherFerris,,,,,,,,,,,,,,,,,,,,3600,3600,,0%,3600,3600,,Not a security issue,FAB-4519,FAB-4520,FAB-4521,FAB-4522,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy013:",,,,,,,,,,,,,,,1.0,,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"24/Jun/17 7:58 AM;ChristopherFerris;only fabric-sdk-java remains to be done;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
update GS docs with new short URL for release,FAB-4528,17728,17718,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ChristopherFerris,ChristopherFerris,ChristopherFerris,10/Jun/17 8:34 AM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,24/Jun/17 5:59 AM,v1.0.0-beta,,,DUPLICATE,,,,,,,,,0,release,,,,,,,"create shortened URL that resolves to v1.0.0-rc1 tagged version of bootstrap script

visit [https://goo.gl/] and create shortened link for:

https://raw.githubusercontent.com/hyperledger/fabric/master/scripts/bootstrap-1.0.0-rc1.sh

Update docs/source/getting_started.rst with the created short link",,ChristopherFerris,,,,,,,,,,,,,,,,,,,,3600,3600,,0%,3600,3600,,Not a security issue,FAB-4519,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy01b:",,,,,,,,,,,,,,,1.0,,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"24/Jun/17 6:00 AM;ChristopherFerris;done as part of FAB-4519;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
test download of release artifacts and e2e sample across all platforms,FAB-4529,17729,17718,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,bmos299,ChristopherFerris,ChristopherFerris,10/Jun/17 8:37 AM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,29/Jun/17 7:55 PM,v1.0.0-rc1,,,v1.0.0,,fabric-release,,,,,,,0,release,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,3600,3600,,0%,3600,3600,,Not a security issue,FAB-4519,FAB-4520,FAB-4521,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy01j:",,,,,,,,,,,,,,,1.0,,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"24/Jun/17 7:59 AM;ChristopherFerris;FAB-4985 CR submitted;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Sign fabric-sdk-java jar file,FAB-4530,17730,17511,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jwagantall,mastersingh24,ChristopherFerris,10/Jun/17 9:12 AM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,10/Jun/17 9:18 AM,v1.0.0-beta,,,v1.0.0-beta,,fabric-build,fabric-sdk-java,,,,,,0,,,,,,,,"Before the fabric-sdk-java release jar / artifact can be published to [http://central.sonatype.org/] (aka Maven Central, Central Repository), a detached signature needs to be created by [~ryjones] or [~jwagantall]",,ChristopherFerris,,,,,,,,,,,,,,,,,,,,7200,7200,,0%,7200,7200,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy01r:",,,,,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
sign fabric-sdk-java jar file and publish to maven central,FAB-4531,17731,17718,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jwagantall,ChristopherFerris,ChristopherFerris,10/Jun/17 9:20 AM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,29/Jun/17 12:25 AM,v1.0.0-rc1,,,v1.0.0,,fabric-release,fabric-sdk-java,,,,,,0,release,,,,,,,"Before the fabric-sdk-java release jar / artifact can be published to [http://central.sonatype.org/] (aka Maven Central, Central Repository), a detached signature needs to be created by [~ryjones] or [~jwagantall]",,ChristopherFerris,rameshthoomu,,,,,,,,,,,,,,,,,,,3600,3600,,0%,3600,3600,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABJ-31,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy01z:",,,,,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"27/Jun/17 10:41 PM;rameshthoomu;Published *java sdk 1.0.0-rc1* to maven repository. [http://repo1.maven.org/maven2/org/hyperledger/fabric-sdk-java/fabric-sdk-java/..|http://repo1.maven.org/maven2/org/hyperledger/fabric-sdk-java/] release is yet to sync with maven central repository (https://mvnrepository.com/artifact/org.hyperledger.fabric-sdk-java/fabric-sdk-java);;;","29/Jun/17 12:25 AM;rameshthoomu;Maven central repository is synced now with 1.0.0-rc1 release version [https://mvnrepository.com/artifact/org.hyperledger.fabric-sdk-java/fabric-sdk-java |https://mvnrepository.com/artifact/org.hyperledger.fabric-sdk-java/fabric-sdk-java]Closing this issue now.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Make deliveryclient use context-based cancellations ,FAB-4533,17735,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,11/Jun/17 3:54 AM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,11/Jun/17 9:44 AM,v1.0.0-beta,,,v1.0.0,,fabric-peer,,,,,,,0,,,,,,,,"This addresses FAB-4503 and FAB-4489
The reason for the CI failures is that apparently, closing the underlying gRPC connection doesn't always make Recv() return.
https://github.com/grpc/grpc-go/issues/1293

The solution is to use context.WithCancel and use the cancel function when Disconnect or Close are called and not only close the gRPC stream.

",,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy02n:",,,,,,,,,,,,,,,,,,,,,,,,,,,yacovm,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Use context cancellations in gossip comn layer,FAB-4534,17736,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,11/Jun/17 4:10 AM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,12/Jun/17 2:31 AM,v1.0.0-beta,,,v1.0.0,v1.0.0-rc1,fabric-gossip,,,,,,,0,,,,,,,," In gossip when a peer p closes a connection to another peer q that it initiated connection with, it simply closes the gRPC stream, but this doesn't always make the Recv() method to return and might result in a stuck goroutine. The solution would be to use a cancellation context when priming the stream object. ",,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy02v:",,,,,,,,,,,,,,,,,,,,,,,,,,,yacovm,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"11/Jun/17 6:46 AM;yacovm;https://gerrit.hyperledger.org/r/#/c/10439/;;;","11/Jun/17 6:47 AM;yacovm;https://github.com/grpc/grpc-go/issues/1293;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Use deadlines/timeouts in gossip Probing,FAB-4535,17737,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,11/Jun/17 6:27 AM,21/Jul/18 3:56 AM,28/Oct/23 3:00 AM,18/Jul/17 9:16 PM,v1.0.0-beta,,,Future,,fabric-gossip,,,,,,,0,,,,,,,,"In gossip we have an RPC call that is used to probe whether a remote peer is responsive or not:

{code}
rpc Ping (Empty) returns (Empty) {}
{code}

The implementation of the method doesn't do anything and immediately returns.
It is used to probe remote peers in 2 situations:

* [Handshake |https://github.com/hyperledger/fabric/blob/master/gossip/comm/comm_impl.go#L299]method (when probing anchor / bootstrap peers )
* When [connecting |https://github.com/hyperledger/fabric/blob/master/gossip/comm/comm_impl.go#L185-L187]to a remote peer for long term connection
* Used by the discovery layer to [probe |https://github.com/hyperledger/fabric/blob/master/gossip/comm/comm_impl.go#L281]dead peers to see if they have come back alive

A malicious peer can implement his own implementation of the server-side Ping() method that blocks indefinitely and this would slow down the peer and waste resources for it.

Therefore I suggest that we use [timeouts|https://golang.org/pkg/context/#WithTimeout] when invoking the Ping RPC call in order to defend against this.

[~C0rWin]
[~gennadyl]

",,C0rWin,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzy033:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,C0rWin,yacovm,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"11/Jun/17 6:38 AM;C0rWin;I think this is an improvement rather than bug, so yes I'd agree we need to take care of it, while I think we can do it post v1.0.;;;","11/Jun/17 6:46 AM;yacovm;Fix / improvement in https://gerrit.hyperledger.org/r/#/c/10441/ ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Investigate occasional UT failures in CI,FAB-4537,17740,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sanchezl,kchristidis,kchristidis,11/Jun/17 9:47 AM,21/Jul/18 3:55 AM,28/Oct/23 3:00 AM,20/Jun/17 10:46 AM,,,,,,fabric-build,,,,,,,0,ci,kafka,,,,,,"Unit tests from the `kafka` package seem to fail in CI occasionally.

See:

[https://jenkins.hyperledger.org/job/fabric-verify-z/8572/consoleFull]

[https://jenkins.hyperledger.org/job/fabric-verify-z/8688/consoleFull]

[https://jenkins.hyperledger.org/job/fabric-verify-x86_64/13238/consoleFull]

[https://jenkins.hyperledger.org/job/fabric-verify-x86_64/13244/consoleFull]

Need to investigate why and fix this.",,C0rWin,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-5527,,,,,,,,,,,,,,,,,,,,,,,,,,,"16/Jun/17 12:59 AM;sanchezl;test-100-panic.html;https://jira.hyperledger.org/secure/attachment/11103/test-100-panic.html","16/Jun/17 12:59 AM;sanchezl;test-100-timeout.html;https://jira.hyperledger.org/secure/attachment/11104/test-100-timeout.html",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzy03j:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,C0rWin,kchristidis,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"11/Jun/17 9:48 AM;kchristidis;[~yacovm], [~jyellick]: If you bump into more CI failures related to this (and you're not bored), please paste the links to the console outputs here. Thanks.;;;","11/Jun/17 10:16 AM;kchristidis;Notes to self:
h2. 8572
{noformat}
TestSendTimeToCut/Proper: assert.NoError(t, sendTimeToCut(producer, mockChannel, timeToCutBlockNumber, &timer), ""Expected the sendTimeToCut call to return without errors""){noformat}
 
{noformat}
panic: runtime error: invalid memory address or nil pointer dereference
{noformat}
h2. 8688
{noformat}
TestSendConnectMessage/Proper: assert.NoError(t, sendConnectMessage(producer, mockChannel), ""Expected the sendConnectMessage call to return without errors""){noformat}
 
{noformat}
panic: runtime error: invalid memory address or nil pointer dereference
{noformat}
h2. 13238
{noformat}
TestSendTimeToCut/Proper: assert.NoError(t, sendTimeToCut(producer, mockChannel, timeToCutBlockNumber, &timer), ""Expected the sendTimeToCut call to return without errors""){noformat}
{noformat}
panic: EOF
 Received unexpected error ""kafka: client has run out of available brokers to talk to (Is your cluster reachable?)""
 Expected the sendTimeToCut call to return without errors{noformat}
h2. 13244
{noformat}
TestProcessLoopRegularAndSendTimeToCutRegular: assert.Equal(t, uint64(1), counts[indexSendTimeToCutPass], ""Expected 1 TIMER event processed""){noformat}
{noformat}
Not equal: 0x1 (expected)
 != 0x0 (actual)
 Expected 1 TIMER event processed{noformat}
 ;;;","11/Jun/17 10:22 AM;kchristidis;13244 doesn't surprise me. I knew it was introducing a race condition and had added a comment along these lines. I have disabled it unconditionally in a pending changeset. (It still serves its purpose of exercising the path I'm interested in, which is why I don't remove it completely.)

8572 and 8688 are most likely getting the nil pointer dereference when accessing the +producer+ argument. 13238 indicates to me that the mock broker is closing early. Now, on to figuring out why these things happen.;;;","14/Jun/17 12:11 AM;kchristidis;I've sneaked in some changes to previous CRs that hopefully eliminate some of these issues.

Downgrading priority to lowest but will still keep an eye on it.;;;","14/Jun/17 7:23 AM;kchristidis;[https://jenkins.hyperledger.org/job/fabric-verify-z/9036/consoleFull]

[https://jenkins.hyperledger.org/job/fabric-verify-x86_64/13391/consoleFull]

[https://jenkins.hyperledger.org/job/fabric-verify-x86_64/13414/consoleFull]

[https://jenkins.hyperledger.org/job/fabric-verify-x86_64/13441/consoleFull]

[https://jenkins.hyperledger.org/job/fabric-verify-x86_64/13437/consoleFull];;;","14/Jun/17 11:24 PM;kchristidis;Upgrading this.;;;","20/Jun/17 9:55 AM;kchristidis;https://gerrit.hyperledger.org/r/#/c/10591/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Removing an org from a channel does not disconnect existing deliver clients,FAB-4538,17741,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,11/Jun/17 11:41 AM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,12/Jun/17 4:54 AM,v1.0.0-beta,,,v1.0.0,,fabric-orderer,,,,,,,0,common-components,,,,,,,"The authorization of a client to receive blocks is checked when the request is first received.  If a client's authorization is revoked, it will not be reflected until the next request is received.  Because a client may have requested all future blocks, disconnect on next request is not sufficient.",,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy03r:",,,,,,,,,,,,,,,,,,,,,,,,,,,jyellick,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"11/Jun/17 12:05 PM;jyellick;In review via: https://gerrit.hyperledger.org/r/#/c/10445/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Release v1.0.0 exit criteria checklist,FAB-4539,17742,,Task,Closed,FAB,Fabric,software,denyeart,,,High,Done,ChristopherFerris,Clayton Sims,Clayton Sims,11/Jun/17 11:44 AM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,19/Jul/17 11:54 PM,,,,v1.0.0,,,,,,,,,0,,,,,,,,"This Task is to track the exit criteria described at [https://wiki.hyperledger.org/projects/fabric/release_exit_criteria.] 

The exit criteria for a major or minor release shall be determined by consensus of the maintainers. 

 ",,ChristopherFerris,rene.mciver,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,FAB-3963,,,,,,,,,,,,,,,,,,,,,,,,FAB-5065,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3040,,,,,,,,,,"1|hzy03z:",,,,,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,rene.mciver,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"29/Jun/17 6:11 AM;ChristopherFerris;Note that given that I will be heading out on vacation 7/2-13, I have asked [~mastersingh24] to serve as co-release manager with [~JonathanLevi] for that period.;;;","19/Jul/17 11:53 PM;ChristopherFerris;Given we have cut the release, closing this even though there were a couple of items not actually satisfied.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
All of the agreed supported features are complete,FAB-4540,17743,17742,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,Clayton Sims,Clayton Sims,11/Jun/17 11:51 AM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,11/Jun/17 12:08 PM,,,,v1.0.0,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy047:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
features should comprise in total a meaningful set of functionality,FAB-4541,17744,17742,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,Clayton Sims,Clayton Sims,11/Jun/17 11:52 AM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,11/Jun/17 12:08 PM,,,,v1.0.0,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy04f:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Adequate test coverage (unit and functional/integration) to have confidence that there aren't likely to be any gotchas lurking in the untested code,",FAB-4542,17745,17742,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ChristopherFerris,Clayton Sims,Clayton Sims,11/Jun/17 11:53 AM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,02/Jul/17 1:50 AM,,,,v1.0.0,,,,,,,,,6,,,,,,,,"Adequate test coverage (unit and functional/integration) to have confidence that there aren't likely to be any gotchas lurking in the untested code,",,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy04n:",,,,,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"01/Jul/17 4:33 AM;ChristopherFerris;So, the current level of test coverage for fabric is:

*Packages*   99% *Files*   97% *Classes*   93% *Methods*   91%*Lines*   84% *Conditionals*   100%

[https://jenkins.hyperledger.org/view/fabric/job/fabric-merge-x86_64/]

fabric-ca

*Packages*   100% *Files*   100% *Classes*   100% *Methods*   93%*Lines*   82% *Conditionals*   100%

[https://jenkins.hyperledger.org/view/fabric-ca/job/fabric-ca-merge-x86_64/]

fabric-sdk-node

*Packages*   100% *Files*   100% *Classes*   100% *Methods*   83%*Lines*   86% *Conditionals*   77%

[https://jenkins.hyperledger.org/view/fabric-sdk-node/job/fabric-sdk-node-merge-x86_64/]

fabric-sdk-java

[https://jenkins.hyperledger.org/view/fabric-sdk-java/job/fabric-sdk-java-verify-x86_64/]

So, the question for we maintainers is, is this sufficient for UT? I tend to think it is for where we are. Can it be improved? Sure, but I think that we can and should as we move forward past 1.0.

Then, there is the BDD testing that handles much of our integration testing for CI, and the ever growing set of BDD tests that we are adding for our daily tests, and the performance and scale tests we are adding for our weekly tests along with the results from the manual SVT testing that the IBM team has been doing in their lab which is described [here|https://wiki.hyperledger.org/projects/fabric/quality_assurance], 

Can we close this aspect of the exit criteria? Please vote.;;;","02/Jul/17 1:50 AM;ChristopherFerris;Cool we have 6 maintainers voting for this. Going to close it as Done. Thanks!;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Maintainers have reviewed all remaining open bugs and agree on severity/priority,",FAB-4543,17746,17742,Sub-task,Closed,FAB,Fabric,software,denyeart,,,High,Done,mastersingh24,Clayton Sims,Clayton Sims,11/Jun/17 11:54 AM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,14/Jul/17 6:37 PM,v1.0.0-rc1,,,v1.0.0,,,,,,,,,0,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy04v:",,,,,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"12/Jun/17 9:02 PM;ChristopherFerris;[~mastersingh24] can you lead this please?;;;","29/Jun/17 8:57 PM;ChristopherFerris;[https://jira.hyperledger.org/issues/?filter=10706] will list all defects opened since just prior to the RC1 release. ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
0 High or Highest priority bugs remain open against v1.0.0's requirements & approved features,FAB-4544,17747,17742,Sub-task,Closed,FAB,Fabric,software,denyeart,,,High,Done,JonathanLevi,Clayton Sims,Clayton Sims,11/Jun/17 11:54 AM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,14/Jul/17 6:38 PM,v1.0.0-rc1,,,v1.0.0,,,,,,,,,0,,,,,,,,"This item is a check-mark that we have *0 High or Highest priority bugs remain open* against v1.0.0's requirements & approved features (i.e., features that are part of the v1 architecture/release plan).

 ",,JonathanLevi,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy053:",,,,,,,,,,,,,,,,,,,,,,,,,,,JonathanLevi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"11/Jul/17 9:09 PM;JonathanLevi;[~JonathanLevi]: Confirmed that this is the case.

[~mastersingh24]: Please can you double-check?;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
the preceding release candidate will have been published for a minimum of two weeks,FAB-4545,17748,17742,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,mastersingh24,Clayton Sims,Clayton Sims,11/Jun/17 11:55 AM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,14/Jul/17 6:37 PM,,,,v1.0.0,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy05b:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
No security related bugs in v1.0.0 remain open or unaddressed,FAB-4546,17749,17742,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,JonathanLevi,Clayton Sims,Clayton Sims,11/Jun/17 11:55 AM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,14/Jul/17 6:37 PM,v1.0.0-beta,v1.0.0-rc1,,v1.0.0,,,,,,,,,0,Security,,,,,,,"Context: Subject to severity of course, we consider (known) and unaddressed security bugs/issues as *SHOW STOPPERS.*

We expect all (known/reported) security related bugs in Fabric v1.0.0 to get either fixed, or a formally approved (by the maintainers) mitigating workaround is formally added to the release notes.",,ChristopherFerris,JonathanLevi,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,FABC-221,FABC-280,FAB-4751,FAB-4625,FABC-274,FABC-118,FAB-4910,FABC-345,FABC-27,FABCT-9,FAB-5147,FABC-195,FABC-406,FABC-243,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy05j:",,,,,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,JonathanLevi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"12/Jun/17 9:03 PM;ChristopherFerris;Jonathan, can you please lead this one? Thanks;;;","12/Jun/17 11:55 PM;JonathanLevi;Good morning. Most certainly. Thanks.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"There have been security scans (static and dynamic), code audit and penetration testing with all significant findings reported in JIRA,",FAB-4547,17750,17742,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ashutosh_kumar,Clayton Sims,Clayton Sims,11/Jun/17 11:56 AM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,26/Jul/17 11:46 PM,,,,v1.0.0,,,,,,,,,0,,,,,,,,,,ashutosh_kumar,ChristopherFerris,rene.mciver,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"14/Jun/17 7:53 AM;ashutosh_kumar;SecurityScanResults.zip;https://jira.hyperledger.org/secure/attachment/11053/SecurityScanResults.zip","21/Jun/17 8:05 AM;Clayton Sims;Static Code Analysis v1.0.0.docx;https://jira.hyperledger.org/secure/attachment/11300/Static+Code+Analysis+v1.0.0.docx",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy05r:",,,,,,,,,,,,,,,,,,,,,,,,,,,ashutosh_kumar,ChristopherFerris,rene.mciver,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"13/Jun/17 6:11 AM;ChristopherFerris;[~ashutosh_kumar] can you please link the various static scan results for each of:

fabric-ca, fabric, fabric-sdk-node and fabric-sdk-java. 

For fabric-baseimage, we have the DockerHub scan results.

 ;;;","13/Jun/17 6:12 AM;ChristopherFerris;We should also share any pen test results that relate to fabric or fabric-ca services.;;;","17/Jun/17 5:39 AM;Clayton Sims;Ash - I see you posted results.   What is the analysis of the items found?;;;","17/Jun/17 11:37 AM;ChristopherFerris;I reopened this because it is not complete - only static scans might be complete bt they also need to be reviewed.;;;","20/Jun/17 1:32 AM;ashutosh_kumar;Analysis uploaded in Static Code Analysis v1.0.0 doc. ;;;","21/Jun/17 8:06 AM;Clayton Sims;Attaching [^Static Code Analysis v1.0.0.docx];;;","22/Jun/17 2:21 AM;Clayton Sims;[~ChristopherFerris] the analysis is attached.   Ash performed analysis and [~binhn] helped review.    Anything else for the static analysis piece of this item?;;;","29/Jun/17 8:58 PM;ChristopherFerris;We should conduct a review of this material with the other maintainers. Maybe [~binhn] can lead that?;;;","05/Jul/17 5:24 PM;rene.mciver;Task title talks to dynamic scanning as well as pen testing and code audit. Will those results be posted here as well? If yes, any idea on timing?;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Code included in the release has been scanned for license infringements and no infringements have been found,FAB-4548,17751,17742,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ChristopherFerris,Clayton Sims,Clayton Sims,11/Jun/17 11:57 AM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,13/Jun/17 6:06 AM,,,,DUPLICATE,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3963,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy05z:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Crypto code included in the release has been audited for crypto export compliance,FAB-4549,17752,17742,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,dhuseby,Clayton Sims,Clayton Sims,11/Jun/17 11:57 AM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,21/Nov/17 4:13 AM,,,,v1.0.0,,,,,,,,,0,,,,,,,,,,ChristopherFerris,dhuseby,weeds,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy067:",,,,,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,dhuseby,weeds,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"19/Jun/17 12:55 AM;weeds;This says work is in progress- can we get a status update on this? Chris? Dave?;;;","20/Jun/17 6:16 AM;weeds;Reached out to Dave and he shared the following: We've engaged with an auditor and the estimate is four weeks. I'll ask the auditor to prioritize the fabric audit;;;","29/Jun/17 6:10 AM;ChristopherFerris;I shared with Dave that IBM has a crypto-export compliance review process that we have completed to ""ship"" our offerings. We cannot share the actual audit, but the fact that it has been completed successfully we can share.;;;","12/Jul/17 7:52 AM;dhuseby;This is underway with an outside auditor hired by HL.;;;","24/Aug/17 3:51 PM;dhuseby;We just received the final report from the auditor that Hyperledger retained.  I will be going through it tomorrow and filing any JIRA bugs that come out of it.;;;","21/Nov/17 4:13 AM;dhuseby;I completed all of the steps for legal compliance last week.  This covers Fabric, Sawtooth, and Iroha.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Release will not require users/operators to compile code to have a functioning system (Note this does not include their own code},",FAB-4550,17753,17742,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,Clayton Sims,Clayton Sims,11/Jun/17 11:58 AM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,11/Jun/17 12:09 PM,,,,v1.0.0,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy06f:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Release has met all the criteria for CII Best Practices Badge,FAB-4551,17754,17742,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,Clayton Sims,Clayton Sims,11/Jun/17 11:58 AM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,11/Jun/17 12:10 PM,,,,v1.0.0,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy06n:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Documentation sufficient to ensure that users/operators have clear guidance on how to get started and how to configure and operate. The operational aspects need to be correct and independently user tested,",FAB-4552,17755,17742,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,odowdaibm,Clayton Sims,Clayton Sims,11/Jun/17 11:59 AM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,29/Jun/17 6:18 AM,,,,v1.0.0,,,,,,,,,0,,,,,,,,,,ChristopherFerris,markparz,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy06v:",,,,,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,markparz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"12/Jun/17 9:04 PM;ChristopherFerris;[~odowdaibm] can you please drive this one? Thanks;;;","29/Jun/17 5:43 AM;markparz;People currently testing BYFN & WYFA, plus a lot of clarification has been added to .yaml files.;;;","29/Jun/17 6:19 AM;ChristopherFerris;Marking this as Done per RC1 though we can always continue to iterate and improve, I think it is adequate at this point. The SDKs could be improved most.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Any features that we choose not to support, because there is risk or they are incomplete, need to have a feature flag to disable said feature and clear guidance as to the risks attendant to enabling it,",FAB-4553,17756,17742,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,Clayton Sims,Clayton Sims,11/Jun/17 12:00 PM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,12/Jun/17 8:52 PM,,,,v1.0.0,,,,,,,,,0,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy073:",,,,,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"12/Jun/17 8:52 PM;ChristopherFerris;I believe we are done with this... all features are disabled or complete.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Signed release code (not sha1, which is what git currently uses as that is no longer secure), published images (DTR) and binaries",FAB-4554,17757,17742,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,dhuseby,Clayton Sims,Clayton Sims,11/Jun/17 12:00 PM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,19/Jul/17 11:54 PM,,,,v1.0.0,,,,,,,,,0,,,,,,,,,,dhuseby,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy07b:",,,,,,,,,,,,,,,,,,,,,,,,,,,dhuseby,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"12/Jul/17 7:56 AM;dhuseby;The best way to do this for now will be to use GPG to sign tags/commits in git.  Then use the same GPG key to sign the resulting binaries.  Managing the opsec around those keys will be tricky as well as distributing them public keys for people to use to independently verify the signatures.  The Tails OS we page has a pretty good walk through on verifying the binary .iso file they distribute.  I think we should emulate that for now, with an eye towards moving to reproducible builds in the future.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Automated release notes similar to those published by mature open source projects such as Kubernetes, or Cloud Foundry",FAB-4555,17758,17742,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,Clayton Sims,Clayton Sims,11/Jun/17 12:01 PM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,12/Jun/17 8:56 PM,,,,v1.0.0,,,,,,,,,0,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy07j:",,,,,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"12/Jun/17 8:56 PM;ChristopherFerris;https://jira.hyperledger.org/browse/FAB-3054;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fix panic in gossip_test TestEndedGoroutines,FAB-4556,17759,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,11/Jun/17 7:26 PM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,11/Jun/17 7:27 PM,,,,DUPLICATE,,,,,,,,,0,,,,,,,,"The following is a panic from parsing the stack in one of the goroutines that the test came across:

{code}
04:23:26 unit-tests_1  | --- FAIL: TestEndedGoroutines (174.15s)
04:23:26 unit-tests_1  | panic: runtime error: index out of range [recovered]
04:23:26 unit-tests_1  | 	panic: runtime error: index out of range
04:23:26 unit-tests_1  | 
04:23:26 unit-tests_1  | goroutine 269 [running]:
04:23:26 unit-tests_1  | panic(0x8066a1a0, 0xc4200160a0)
04:23:26 unit-tests_1  | 	/opt/go/src/runtime/panic.go:500 +0x408
04:23:26 unit-tests_1  | testing.tRunner.func1(0xc420474000)
04:23:26 unit-tests_1  | 	/opt/go/src/testing/testing.go:579 +0x1a2
04:23:26 unit-tests_1  | panic(0x8066a1a0, 0xc4200160a0)
04:23:26 unit-tests_1  | 	/opt/go/src/runtime/panic.go:458 +0x53c
04:23:26 unit-tests_1  | github.com/hyperledger/fabric/gossip/gossip.glob..func8(0x1a114, 0x80a1fcb0, 0x0, 0x0, 0x806858c0)
04:23:26 unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/gossip/gossip/gossip_test.go:1117 +0x52
04:23:26 unit-tests_1  | github.com/hyperledger/fabric/gossip/gossip.anyOfPredicates.func1(0x1a114, 0x80a1fcb0, 0x0, 0x0, 0x58)
04:23:26 unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/gossip/gossip/gossip_test.go:1123 +0xb0
04:23:26 unit-tests_1  | github.com/hyperledger/fabric/gossip/gossip.shouldNotBeRunningAtEnd(0x1a114, 0x80a1fcb0, 0x0, 0x0, 0x10000008003a986)
04:23:26 unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/gossip/gossip/gossip_test.go:1133 +0x1fa
04:23:26 unit-tests_1  | github.com/hyperledger/fabric/gossip/gossip.ensureGoroutineExit(0xc420474000)
04:23:26 unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/gossip/gossip/gossip_test.go:1141 +0x138
04:23:26 unit-tests_1  | github.com/hyperledger/fabric/gossip/gossip.TestEndedGoroutines(0xc420474000)
04:23:26 unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/gossip/gossip/gossip_test.go:1047 +0x4e
04:23:26 unit-tests_1  | testing.tRunner(0xc420474000, 0x80776190)
04:23:26 unit-tests_1  | 	/opt/go/src/testing/testing.go:610 +0xd8
04:23:26 unit-tests_1  | created by testing.(*T).Run
04:23:26 unit-tests_1  | 	/opt/go/src/testing/testing.go:646 +0x376
04:23:26 unit-tests_1  | FAIL	github.com/hyperledger/fabric/gossip/gossip	214.413s
04:23:26 unit-tests_1  | error: exit status 1
04:23:26 unit-tests_1  | panic: EOF
04:23:26 unit-tests_1  | 
04:23:26 unit-tests_1  | goroutine 1 [running]:
04:23:26 unit-tests_1  | panic(0x11ae00, 0xc42000a0f0)
04:23:26 unit-tests_1  | 	/opt/go/src/runtime/panic.go:500 +0x408
{code}",,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy07r:",,,,,,,,,,,,,,,,,,,,,,,,,,,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"11/Jun/17 7:27 PM;yacovm;duplicate of https://jira.hyperledger.org/browse/FAB-4497;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Gossip: Do not sign block messages,FAB-4557,17760,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,11/Jun/17 8:07 PM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,13/Jun/17 4:33 AM,v1.0.0-alpha2,,,Future,,fabric-gossip,,,,,,,1,,,,,,,,"In gossip we currently sign every message sent by the Gossip() API call by the peer's signing identity, and every message that is sent via Send() is signed in a NOOP manner (the signature is empty)
Since blocks are already signed by the ordering service there is no point in signing them.

",,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy07z:",,,,,,,,,,,,,,,,,,,,,,,,,,,yacovm,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"11/Jun/17 8:14 PM;yacovm;https://gerrit.hyperledger.org/r/#/c/10451/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
chaincode_example02: no buildable Go source files,FAB-4558,17761,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,nasht00,nasht00,11/Jun/17 10:55 PM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,02/Jul/17 9:09 PM,v1.0.0-beta,,,v1.0.0,v1.0.0-rc1,fabric-samples,,,,,,,0,Documentation,,,,,,,"First time user, trying to learn the basics.

I am following the instructions on this page: [http://hyperledger-fabric.readthedocs.io/en/latest/getting_started.html]

In the section [Want to run it now?|http://hyperledger-fabric.readthedocs.io/en/latest/getting_started.html#want-to-run-it-now] It says to run {{./network_setup.sh up}}

This is what results:


{{ 2017-06-11 13:39:39.065 UTC [msp] GetLocalMSP -> DEBU 004 Returning existing local MSP}}
{{ 2017-06-11 13:39:39.065 UTC [msp] GetDefaultSigningIdentity -> DEBU 005 Obtaining default signing identity}}
{{ 2017-06-11 13:39:39.066 UTC [golang-platform] getCodeFromFS -> DEBU 006 getCodeFromFS github.com/hyperledger/fabric/examples/chaincode/go/chaincode_example02}}
{{ Error: Error getting chaincode code chaincode: Error getting chaincode package bytes: Error obtaining imports: go list: failed with error: ""exit status 1""}}
{{ can't load package: package github.com/hyperledger/fabric/examples/chaincode/go/chaincode_example02: no buildable Go source files in /opt/gopath/src/github.com/hyperledger/fabric/examples/chaincode/go/chaincode_example02}}","macos 10.12.5 (16F73)

node v6.10.3

go version go1.8.2 darwin/amd64",bmos299,greg.haskins,markparz,mastersingh24,nasht00,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"13/Jun/17 12:08 AM;nasht00;fabric-logs.txt;https://jira.hyperledger.org/secure/attachment/11020/fabric-logs.txt",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy087:",,,,,,,,,,,,,,,,,,,,,,,,,,,bmos299,greg.haskins,markparz,mastersingh24,nasht00,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"12/Jun/17 11:49 PM;markparz;Hi, [~nasht00] try to clean everything out of your environment and run it again. I don recall what error I had the other day, but I think it was similar. I realized I had some old environment stuff up and running that was corrupting thing.  I just ran thru the instructions now and all worked fine for me, I am also on a Mac slightly back level on all my version (Mac, go & node), so that shouldn't be an issue. 

[~nickgaski] [~smithbk] head's up in case this doesn't help.;;;","13/Jun/17 12:08 AM;nasht00;Trying again. Writing here as I go.
 * Removed all docker images and containers.
 * fabric-sample directory is empty
 * Running: curl -sSL https://goo.gl/LQkuoh | bash
 * downloading ... done.
 * cd release/darwin-amd64
 * ./network_setup.sh up

Failed ...

I attached here all the logs: [^fabric-logs.txt];;;","13/Jun/17 2:11 AM;markparz;Looks like all is going well on the install... strange that's it not finding the chaincode... can you look and verify that you have chaincode example 2 on the machine via the install... should look like this :

Marks:chaincode_example02 mark$ pwd
 /Users/mark/src/github.com/hyperledger/fabric/examples/chaincode/go/chaincode_example02
 Marks:chaincode_example02 mark$ ls -al
 total 24
 drwxr-xr-x   4 mark  staff   136 Jun  8 15:13 .
 drwxr-xr-x  14 mark  staff   476 Jun  8 15:13 ..
 -rw-r--r--   1 mark  staff  5436 Jun  8 15:13 chaincode_example02.go
 -rw-r--r--   1 mark  staff  3165 Jun  8 15:13 chaincode_example02_test.go

wondering if there in a path issue of some sort;;;","13/Jun/17 5:10 PM;nasht00;nathanh-mbp:chaincode_example02 nathanh$ pwd

/Users/nathanh/Dev/fabric-sample/release/darwin-amd64/chaincode/go/chaincode_example02

nathanh-mbp:chaincode_example02 nathanh$ ls -al

total 0

drwxr-xr-x  2 nathanh  staff   68 Jun  8 20:23 .

drwxr-xr-x  4 nathanh  staff  136 Jun  8 20:23 ..

 

I guess that's not good.

Now looking again at the logs I attached, look at the very beginning of the log:

release/darwin-amd64/chaincode/go/marbles02/marbles_chaincode.go: Can't create 'release/darwin-amd64/chaincode/go/marbles02/marbles_chaincode.go' release/darwin-amd64/chaincode/go/chaincode_example02/chaincode_example02.go: Can't create 'release/darwin-amd64/chaincode/go/chaincode_example02/chaincode_example02.go' tar: Error exit delayed from previous errors.;;;","13/Jun/17 5:22 PM;nasht00;I have manually downloaded the missing files from github and it seems to solve the issues (""All GOOD, End-2-End execution completed"").

So, the problem is with the download script somehow...;;;","13/Jun/17 10:08 PM;markparz;Yes, indeed not good...  this is very strange, haven't seen this reported yet.... let me dig a little and see what I can find... thanks [~nasht00] this is a good one to find =);;;","14/Jun/17 9:00 AM;greg.haskins;[~nasht00] What do you get if you run 'ls /opt/gopath/src/github.com/hyperledger/fabric/examples/chaincode/go/chaincode_example02';;;","14/Jun/17 3:26 PM;nasht00;[~greg.haskins] I'm not sure what you mean.

Isn't it what I wrote in one of my previous comments?

{{nathanh-mbp:chaincode_example02 nathanh$ pwd}}

{{/Users/nathanh/Dev/fabric-sample/release/darwin-amd64/chaincode/go/chaincode_example02}}

{{nathanh-mbp:chaincode_example02 nathanh$ ls }}{{-al}}

{{total 0}}

{{drwxr-xr-x  2 nathanh  staff   68 Jun  8 20:23 .}}

{{drwxr-xr-x  4 nathanh  staff  136 Jun  8 20:23 ..}}

Note that the path structure you pasted in your comment (github.com/hyperledger/fabric/examples/chaincode/go/chaincode_example02) seems to be from a github clone. However as I mentioned before what I am talking about is not from git clone but rather from the bash script (fabric-sample/release/darwin-amd64/chaincode/go/chaincode_example02).;;;","15/Jun/17 3:35 AM;bmos299;Hi Nathan, in your logs I see the things you reference:
17-06-12 15:05:52.920 UTC [msp] getMspConfig -> INFO 001 intermediate certs folder not found at [/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp/intermediatecerts]. Skipping.: [stat /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp/intermediatecerts: no such file or directory]
2017-06-12 15:05:52.920 UTC [msp] getMspConfig -> INFO 002 crls folder not found at [/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp/intermediatecerts]. Skipping.: [stat /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp/crls: no such file or directory]
2017-06-12 15:05:52.921 UTC [msp] getMspConfig -> INFO 003 MSP configuration file not found at [/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp/config.yaml]: [stat /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp/config.yaml: no such file or directory]
2017-06-12 15:05:52.951 UTC [msp] GetLocalMSP -> DEBU 004 Returning existing local MSP
2017-06-12 15:05:52.951 UTC [msp] GetDefaultSigningIdentity -> DEBU 005 Obtaining default signing identity
2017-06-12 15:05:52.952 UTC [golang-platform] getCodeFromFS -> DEBU 006 getCodeFromFS github.com/hyperledger/fabric/examples/chaincode/go/chaincode_example02
Error: Error getting chaincode code chaincode: Error getting chaincode package bytes: Error obtaining imports: go list: failed with error: ""exit status 1""
can't load package: package github.com/hyperledger/fabric/examples/chaincode/go/chaincode_example02: no buildable Go source files in /opt/gopath/src/github.com/hyperledger/fabric/examples/chaincode/go/chaincode_example02

Usage:

I also see where you are in:
downloading ... done.
cd release/darwin-amd64
./network_setup.sh up

I see earlier in the logs:
                               Dload  Upload   Total   Spent    Left  Speed
100 10.2M  100 10.2M    0     0  2840k      0  0:00:03  0:00:03 --:--:-- 2840k
release/darwin-amd64/chaincode/go/marbles02/marbles_chaincode.go: Can't create 'release/darwin-amd64/chaincode/go/marbles02/marbles_chaincode.go'
release/darwin-amd64/chaincode/go/chaincode_example02/chaincode_example02.go: Can't create 'release/darwin-amd64/chaincode/go/chaincode_example02/chaincode_example02.go'
tar: Error exit delayed from previous errors.
===> Pulling fabric Images
==> FABRIC IMAGE: peer

Is it possible this is a permissions issue on your system?

Regards,
Barry
;;;","15/Jun/17 3:12 PM;nasht00;About the permission issues, why just those files and not all the other files that the script downloads?;;;","15/Jun/17 8:09 PM;greg.haskins;Sorry [~nasht00], I am crazy busy and TLDR.  I can see your result now.  Here's what I am driving at:

Your environment strikes me as strange for the following reasons:

1) You seem to be using darwin-amd64

2) You are seemingly referencing a GOPATH of ""/opt/gopath"".  While it is certainly possible that you configured your OSX environment this way, this is the GOPATH that we typically use on Linux (and also in the docker containers that we provide).

Therefore, what I am after is whether /opt/gopath is correct for your environment or whether something bled through from the Linux side. ;;;","15/Jun/17 9:00 PM;nasht00;1) Isn't darwin-amd64 the normal macOS environment? I don't know, I didn't choose this ...

2) My computer does not contain a folder /opt/gopath. 

Aren't those paths you see on the logs path from the docker images that the startup script loads? This would explain the linux-style paths...;;;","15/Jun/17 10:22 PM;markparz;Hi [~nasht00] yes, you are right on #1 that is the macOS build... which is what I have too.

Can you send the output of

>echo $GOPATH

I think we're narrowing it down and seems to by some sort of system config issue. Either as [~greg.haskins] is noting that with your path, or as Barry and I were thinking was general permissions, which I agree seems odd since you were able to lay down the rest of it. I believe in Greg :);;;","15/Jun/17 10:58 PM;nasht00;I have no value for $GOPATH or $GOROOT.

Note that I used the macOS installer as described here: [https://golang.org/doc/install#osx]

Maybe this does not setup those variables?

Note that I can still compile go files.

Maybe $GOPATH is optional to build go files, but required by fabric? (it should say so then...)

HOWEVER, something bothers me with this theory. I told you earlier:

""I have manually downloaded the missing files from github and it seems to solve the issues (""All GOOD, End-2-End execution completed"").""

It doesn't seem like I have any go-related issues then no?;;;","15/Jun/17 11:02 PM;mastersingh24;The issue is related to what was mentioned above - for some reason the chaincode files are not being extracted to your file system

https://jira.hyperledger.org/browse/FAB-4558?focusedCommentId=26119&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-26119;;;","16/Jun/17 12:48 AM;markparz;Yea, going back to some sort of odd permissions. Can you give us what you have in your darwin-amd64 directory(ls -al) plus:

>ls -al base/

>ls -al bin/

making the assumption that all the files were laid down, but want to verify, that it's only those 2 chaincodes in the 3rd directory being laid down via the tar extraction that are failing, which continues the mystery. Like we've all seen and noted you can see those 2 are the only seeming to fail:

release/darwin-amd64/chaincode/go/marbles02/marbles_chaincode.go: Can't create 'release/darwin-amd64/chaincode/go/marbles02/marbles_chaincode.go'

release/darwin-amd64/chaincode/go/chaincode_example02/chaincode_example02.go: Can't create 'release/darwin-amd64/chaincode/go/chaincode_example02/chaincode_example02.go'

 

There has to be an environmental issue, haven't been able to recreate it here so far.;;;","16/Jun/17 1:28 AM;nasht00;nathanh-mbp:release nathanh$ cd darwin-amd64/

nathanh-mbp:darwin-amd64 nathanh$ ls -al

total 168

drwxr-xr-x  18 nathanh  staff    612 Jun  8 20:23 .

drwxr-xr-x   4 nathanh  staff    136 Jun 15 17:14 ..

drwxr-xr-x   4 nathanh  staff    136 Jun  8 20:23 base

drwxr-xr-x   5 nathanh  staff    170 Jun  8 20:19 bin

drwxr-xr-x   3 nathanh  staff    102 Jun  8 20:23 chaincode

drwxr-xr-x   3 nathanh  staff    102 Jun  8 20:16 channel-artifacts

-rw-r--r--   1 nathanh  staff   5013 Jun  8 20:16 configtx.yaml

-rw-r--r--   1 nathanh  staff   3858 Jun  8 20:16 crypto-config.yaml

-rw-r--r--   1 nathanh  staff   2676 Jun  8 20:23 docker-compose-cli.yaml

-rw-r--r--   1 nathanh  staff   2005 Jun  8 20:16 docker-compose-couch.yaml

-rw-r--r--   1 nathanh  staff   2517 Jun  8 20:16 docker-compose-e2e-template.yaml

-rw-r--r--   1 nathanh  staff   2725 Jun  8 20:16 docker-compose-e2e.yaml

-rw-r--r--   1 nathanh  staff   2119 Jun  8 20:16 download-dockerimages.sh

-rw-r--r--   1 nathanh  staff  41280 Jun  8 20:16 end-to-end.rst

-rwxr-xr-x   1 nathanh  staff   3588 Jun  8 20:16 generateArtifacts.sh

drwxr-xr-x   3 nathanh  staff    102 Jun  8 20:19 install

-rwxr-xr-x   1 nathanh  staff   2504 Jun  8 20:16 network_setup.sh

drwxr-xr-x   3 nathanh  staff    102 Jun  8 20:16 scripts

nathanh-mbp:darwin-amd64 nathanh$ ls -al base/

total 24

drwxr-xr-x   4 nathanh  staff   136 Jun  8 20:23 .

drwxr-xr-x  18 nathanh  staff   612 Jun  8 20:23 ..

-rw-r--r--   1 nathanh  staff  4280 Jun  8 20:16 docker-compose-base.yaml

-rw-r--r--   1 nathanh  staff  1035 Jun  8 20:23 peer-base.yaml

nathanh-mbp:darwin-amd64 nathanh$ ls -al bin/

total 71728

drwxr-xr-x   5 nathanh  staff       170 Jun  8 20:19 .

drwxr-xr-x  18 nathanh  staff       612 Jun  8 20:23 ..

-rwxr-xr-x   1 nathanh  staff  14968000 Jun  8 20:18 configtxgen

-rwxr-xr-x   1 nathanh  staff  14093248 Jun  8 20:19 configtxlator

-rwxr-xr-x   1 nathanh  staff   7656336 Jun  8 20:19 cryptogen;;;","16/Jun/17 6:15 AM;markparz;Continuing to try and figure this out, however this has to be some sort of system issue, like not authorized to install certain file extensions (which I know you download them manually and it works). However, I don't see anyway this is a v1.0 bug, so I removed the v1.0 flag for now... let's keep cracking at it..;;;","29/Jun/17 2:23 AM;markparz;Hi [~nasht00] we could never figure out what is going on in your environment. Have you tried the new RC candidate and the getting started? Would like to know if you are running into the same issue.;;;","02/Jul/17 2:59 PM;nasht00;Could you provide me with links/instructions on running this RC?

Or is that already the live ""latest""? ;;;","02/Jul/17 3:42 PM;nasht00;OK so I followed the new documentations from scratch, which looks very different, and everything is working fine.

Note that the new documentation asks me to clone the samples via git, while the old one asked me to run a curl command that downloaded and ran some stuff. So this may be the main difference...

Either way, the new stuff works better for me!;;;","02/Jul/17 9:09 PM;mastersingh24;Great news [~nasht00]
I'll close this issue and feel free to re-open or create a new one if any other issues arise.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Peer ignores Deliver errors other than SERVICE_UNAVAILABLE,FAB-4559,17762,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,gennadyl,jyellick,jyellick,12/Jun/17 12:34 AM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,15/Jun/17 3:28 PM,,,,v1.0.0,,fabric-peer,,,,,,,0,,,,,,,,"In {{blocksprovider.go}} there is the following case in the switch statement:

{noformat}
                case *orderer.DeliverResponse_Status:
                        if t.Status == common.Status_SUCCESS {
                                logger.Warningf(""[%s] ERROR! Received success for a seek that should never complete"", b.chainID)
                                return
                        }
                        logger.Warningf(""[%s] Got error %v"", b.chainID, t)
                        if t.Status == common.Status_SERVICE_UNAVAILABLE {
                                b.client.Disconnect()
                                continue
                        }
{noformat}

Here, all status codes other then {{SUCCESS} and {{SERVICE_UNAVAILABLE}} are ignored.  There are additionally {{BAD_REQUEST}} and {{FORBIDDEN}} as well as {{INTERNAL_SERVER_ERROR}} which should all be handled, as well as a default case for errors not enumerated here.",,gennadyl,jyellick,muralisr,yacovm,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy08f:",,,,,,,,,,,,,,,,,,,,,,,,,,,gennadyl,jyellick,muralisr,yacovm,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"12/Jun/17 10:27 PM;muralisr;[~jyellick] all errors should be handled with a disconnect in that code ?
{code:java}
case *orderer.DeliverResponse_Status:
     if t.Status == common.Status_SUCCESS {
        logger.Warningf(""[%s] ERROR! Received success for a seek that should never complete"", b.chainID)
        return
     }
     logger.Warningf(""[%s] Got error %v"", b.chainID, t)
     b.client.Disconnect()
     continue{code};;;","12/Jun/17 10:31 PM;gennadyl;Seconded;;;","12/Jun/17 11:41 PM;muralisr;[~gennadyl] perhaps my question should have been to you and [~C0rWin] .. what do you think ?;;;","13/Jun/17 12:03 AM;jyellick;I would say that's logically correct.  However, I would say {{SERVICE_UNAVAILABLE}} should be warning, {{BAD_REQUEST}} or {{FORBIDDEN}} should be critical, and especially in the case of those latter two, I'm a bit concerned about the retry logic.  We should have the peer back off rather than spam for a channel it doesn't have access to as fast as it can.;;;","13/Jun/17 5:53 PM;gennadyl;So far, I just made obvious change, suggested by Murali, with logging levels differentiation by types. Retry logic now ignores message type, uses only number of attempts and timeout, both reset after connection established.;;;","13/Jun/17 6:40 PM;yacovm;I don't think that BAD_REQUEST or FORBIDDEN should be critical, this is only related to a single channel and not to all channels. 
I'd say that ERROR is a more suitable level, don't you agree [~jyellick] ? 

Also - if we get FORBIDDEN  shouldn't we abort? it means the peer is evicted from the channel no?;;;","13/Jun/17 11:04 PM;jyellick;> I'd say that ERROR is a more suitable level

I'm a bit torn between error and critical for those log messages.  The reason why I suggested critical, is because this breaks the end to end flow, and it's something the admin should definitely be aware of.  Of course, it could be argued that error is right for that level, but we output messages at an error level which are much less severe than this, so it is easy to get lost in the noise.  I see merits to both,and would leave it up to the implementor.

> Also - if we get FORBIDDEN shouldn't we abort? it means the peer is evicted from the channel no?

Usually, but what about the scenario where a peer is just added to the channel? If the peer attempts to connect to an orderer which has not yet received the updated config (this is admittedly a race, but a plausible one), then it will get back a FORBIDDEN.  In a few seconds most likely, the error will go away, so aborting forever would seem inappropriate in this case.

On the other hand, BAD_REQUEST seems unlikely to go away, unless there is a code bug in the orderer.;;;","14/Jun/17 12:45 AM;gennadyl;ChangeSet with fix ready for review: https://gerrit.hyperledger.org/r/#/c/10471/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Improper update of channel config seems to create a new config_update of same values as prior config_update in channel,FAB-4560,17763,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jeffgarratt,jeffgarratt,12/Jun/17 2:06 AM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,13/Jun/17 7:26 AM,v1.0.0-beta,,,v1.0.0,,fabric-orderer,,,,,,,0,configuration,,,,,,,"Seeing this behavior, creating this bug to bookmark for discussions with [~jyellick]",,jeffgarratt,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy08n:",,,,,,,,,,,,,,,,,,,,,,,,,,,jeffgarratt,jyellick,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"13/Jun/17 4:32 AM;jyellick;Fixed via: https://gerrit.hyperledger.org/r/#/c/10489/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Build Timeout: x86_64 build nodes are taking longer time,FAB-4561,17764,,Bug,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,rameshthoomu,rameshthoomu,rameshthoomu,12/Jun/17 8:50 AM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,21/Jun/17 6:36 AM,v1.0.0,,,v1.0.0,,fabric-build,,,,,,,0,build-system,,,,,,,"Observed x86_64 build nodes are taking longer time today to process the build steps.. In result, many builds are failing with build timeout error message. Below are the few builds for reference.

x86_64 node configuration:

4 core and 4 GB RAM

Behave tests

[https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/7331/console]

[https://jenkins.hyperledger.org/view/fabric/job/fabric-verify-behave-x86_64/7329/console]

[https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/7331/console]

 

Unit-tests

[https://jenkins.hyperledger.org/view/fabric/job/fabric-merge-x86_64/2084/console]

[https://jenkins.hyperledger.org/view/fabric/job/fabric-verify-x86_64/13277/console]

 ",x86_64,muralisr,rameshthoomu,ryjones,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-4564,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy08v:",,,,,,,,,,,,,,,,,,,,,,,,,,,muralisr,rameshthoomu,ryjones,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"12/Jun/17 8:51 AM;rameshthoomu;Behave tests are failing after 40 mins build timeout specified in CI configuration and unit-tests are failing after 240 mins. This needs to be addressed.. I see many developers are complaining about these issues..;;;","12/Jun/17 10:20 PM;muralisr;The timeouts occur at different places for the same test ... perhaps infra issues [~rameshthoomu] ?

 

For instance look at chaincode tests which typically take 2-3 secs these days. In one of the UT failures, it take 6+ sec  and in another .. the later reasonably enough proceeded further than the former before timing out.

 
{code:java}
20:10:13 unit-tests_1 | ok github.com/hyperledger/fabric/core/chaincode 6.055s coverage: 73.6% of statements
21:36:08 unit-tests_1 | ok github.com/hyperledger/fabric/core/chaincode 4.393s coverage: 73.6% of statements
{code}
 ;;;","13/Jun/17 12:00 AM;rameshthoomu;It's far better today..  Below are the comparison between yesterday and today build times..

yesterday's Build
*00:31:01.277* {color:#00cd00}unit-tests_1  |{color} Running tests...
Today's build:
*00:14:19.999* {color:#00cd00}unit-tests_1  |{color} Running tests...
[~ryjones] Do you have any inputs on this why builds took so longer time to finish yesterday.. I see many people are complaining about these issues..;;;","13/Jun/17 12:56 AM;ryjones;[~rameshthoomu] I'll ask our provider if something happened yesterday;;;","13/Jun/17 1:30 AM;rameshthoomu;Thanks [~ryjones]. That helps..;;;","13/Jun/17 11:20 AM;Clayton Sims;Ramesh did this get resolved?;;;","13/Jun/17 11:26 AM;rameshthoomu;[~Clayton Sims] Today I don't see build failures due to the time out issue.. [~ryjones] is checking with provider. We may get some information tomorrow on this. Will post the status here.;;;","13/Jun/17 10:18 PM;rameshthoomu;[~Clayton Sims] X86_64 nodes are responding very slow since yesterday evening and causing build failures with timeout errors.;;;","15/Jun/17 12:42 AM;rameshthoomu;@ry opened a ticket with service provider yet to receive updates from them. Assigning this to [~ryjones];;;","16/Jun/17 10:24 PM;rameshthoomu;[~ryjones] Any update on the ticket you have created with service provider?;;;","17/Jun/17 6:00 AM;ryjones;no update. I will ping them again;;;","21/Jun/17 6:36 AM;ryjones;The hosting provider says there was an issue which caused a migration during that period.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
behave tests are failing with (StatusCode.DEADLINE_EXCEEDED),FAB-4564,17767,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,rameshthoomu,rameshthoomu,rameshthoomu,12/Jun/17 2:14 PM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,22/Jun/17 3:15 AM,v1.0.0,,,v1.0.0,,fabric-build,,,,,,,0,behave,quality,,,,,,"observed behave tests are failing with (StatusCode.DEADLINE_EXCEEDED) in CI and in result many builds are failing though the patchset is not related to behave tests. Below build logs may helpful to debug this issue.
*00:36:10.194*       Traceback (most recent call last):*00:36:10.194*         File ""/w/workspace/fabric-verify-behave-x86_64/gopath/src/github.com/hyperledger/fabric/venv/local/lib/python2.7/site-packages/behave/model.py"", line 1456, in run*00:36:10.194*           match.run(runner.context)*00:36:10.194*         File ""/w/workspace/fabric-verify-behave-x86_64/gopath/src/github.com/hyperledger/fabric/venv/local/lib/python2.7/site-packages/behave/model.py"", line 1903, in run*00:36:10.194*           self.func(context, *args, **kwargs)*00:36:10.194*         File ""steps/endorser_impl.py"", line 124, in step_impl*00:36:10.194*           resultsDict =  dict(zip(endorsers, [respFuture.result() for respFuture in proposalResponseFutures]))*00:36:10.194*         File ""/w/workspace/fabric-verify-behave-x86_64/gopath/src/github.com/hyperledger/fabric/venv/local/lib/python2.7/site-packages/grpc/_channel.py"", line 294, in result*00:36:10.194*           raise self*00:36:10.194*       _Rendezvous: <_Rendezvous of RPC that terminated with (StatusCode.DEADLINE_EXCEEDED, Deadline Exceeded)>*00:36:10.194*       
[https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/7248/console]

[https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/7335/console]

[https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/7328/console]

https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/7248/",x86_64,jeffgarratt,muralisr,rameshthoomu,weeds,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-4561,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy09j:",,,,,,,,,,,,,,,,,,,,,,,,,,,jeffgarratt,muralisr,rameshthoomu,weeds,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"13/Jun/17 12:03 AM;jeffgarratt;The failure appears to be due to the peer taking too long to instantiate the chaincode.  The most recent behave tests seem to be passing.;;;","13/Jun/17 12:14 AM;rameshthoomu;today's it's far better.. Below is the difference between yesterday's and today's build.

Today's Build time before starting behave tests:
*00:12:30.008* @bootstrap
Yesterday's build time before starting behave tests:
*00:33:42.354* @bootstrap
This could be the issue with build timeouts. Checking with [~ryjones] on this..;;;","13/Jun/17 11:21 AM;Clayton Sims;is this resolved?  anything left to do?;;;","13/Jun/17 11:31 AM;rameshthoomu;today, I don't see build failures with timeout errors and they are working as configured.. [~ryjones] is checking with CI infra provider and will get some information tomorrow.;;;","13/Jun/17 9:32 PM;muralisr;[~rameshthoomu] I did see a failure [https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/7409/] ... trying a rebase now.;;;","13/Jun/17 10:12 PM;rameshthoomu;yes Murali. Observed many builds are failing with timeout error since yesterday evening.. Will wait for [~ryjones] inputs on this issue.;;;","15/Jun/17 12:45 AM;rameshthoomu;@ry opened ticket with LF infra  service provider. Will update the details here once we receive some update from them..

Intermittently we are seeing this issue now..;;;","20/Jun/17 3:40 AM;weeds;this is tracked in fab 4561;;;","20/Jun/17 3:44 AM;rameshthoomu;@ry is checking with service provider to improvise the build timeout on x86_64 build nodes. ;;;","22/Jun/17 3:15 AM;rameshthoomu;@ry updated comments in https://jira.hyperledger.org/browse/FAB-4561 regarding x86_64 build nodes slowness root cause. I don't see build failures with slowness of the x86_64 in recent days.. Closing this issue now.. Will create a new JIRA item if issue occurs again.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"e2e fails with ""getCodeFromFS: Error getting chaincode code chaincode"" (chaincode_example02)",FAB-4565,17768,,Bug,Closed,FAB,Fabric,software,denyeart,,,Low,Done,nickgaski,zamrokk,zamrokk,12/Jun/17 6:29 PM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,13/Jun/17 1:32 AM,v1.0.0-beta,,,Not a Bug,,fabric-docs,,,,,,,0,,,,,,,,"I followed the instructions from the V1.0.0-beta

on this step ""Installing chaincode on org1/peer0..."", it fails here

 
{code:java}
2017-06-12 09:09:29.912 UTC [golang-platform] getCodeFromFS -> DEBU 006 getCodeFromFS github.com/hyperledger/fabric/examples/chaincode/go/chaincode_example02
Error: Error getting chaincode code chaincode: Error getting chaincode package bytes: Error obtaining imports: go list: failed with error: ""exit status 1""
can't load package: package github.com/hyperledger/fabric/examples/chaincode/go/chaincode_example02: no buildable Go source files in /opt/gopath/src/github.com/hyperledger/fabric/examples/chaincode/go/chaincode_example02
{code}
 

 

see full logs on attached file

I copied manually the example folder from the source code on Gerrit to my local FS at /opt/gopath/src/github.com/hyperledger/fabric/ , but it still produces the same error :(

I don't know when this command is launched where it should find the files ... ? ",,ChristopherFerris,JonathanLevi,zamrokk,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"12/Jun/17 6:23 PM;zamrokk;logs.txt;https://jira.hyperledger.org/secure/attachment/11019/logs.txt",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy09r:",,,,,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,JonathanLevi,zamrokk,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"13/Jun/17 12:10 AM;zamrokk;hum ... i fix it. When we download the project with curl at first step (
curl -sSL https://goo.gl/LQkuoh | bash
), the folder chaincode that is mounted by the containers is empty. So i copied the examples in it and it works.

 

Please update the project on the curl url or change the path to point to examples.

Here I did a git pull on the V1.0.0-beta and copied manually the missing examples
{code:java}
17:08:33-[benjamins-mbp:~/Desktop/fabric-sample/release/darwin-amd64] benjaminfuentes$ cp -r /opt/gopath/src/github.com/hyperledger/fabric/examples/chaincode/go/* ./chaincode/go/{code};;;","13/Jun/17 12:11 AM;JonathanLevi;Reported/discussed here: https://chat.hyperledger.org/channel/fabric?msg=J5qhCPSBTN58cE7ax;;;","13/Jun/17 1:14 AM;ChristopherFerris;The problem is that the chaincode directory is missing... you basically need to have examples/chaincode available to run. I found this when trying to refactor the network_setup.sh script in a separate directory outside fabric repo clone.

The simplest fix is to change the following line in docker-compose-cli.yaml

../chaincode/go/:/opt/gopath/src/github.com/hyperledger/fabric/examples/chaincode/go

to

./examples/chaincode/go/:/opt/gopath/src/github.com/hyperledger/fabric/examples/chaincode/go

 

Note that it works as advertised in the Getting Started configuration from the bootstrap, only when copying the e2e_cli directory and relocating will you have this problem.

 ;;;","13/Jun/17 4:45 AM;JonathanLevi;[~nickgaski], this item is closed, but adding you FYI (in case we want to mention this anywhere, going forward). Thanks ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
images missing in blockchain.rst,FAB-4568,17771,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,markparz,markparz,markparz,12/Jun/17 11:21 PM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,13/Jun/17 6:03 AM,,,,v1.0.0,,fabric-docs,,,,,,,0,Documentation,,,,,,,Several images missing in key concepts of doc.,,joe-alewine,markparz,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy0a7:",,,,,,,,,,,,,,,,,,,,,,,,,,,joe-alewine,markparz,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"12/Jun/17 11:25 PM;markparz;Added the missing issues. in Gerrit https://gerrit.hyperledger.org/r/#/c/10467/;;;","14/Jun/17 2:02 AM;joe-alewine;There is already a fab for this issue: https://jira.hyperledger.org/browse/FAB-4234

 ;;;","14/Jun/17 2:37 AM;markparz;[~joe-alewine]

FAB-4234 is the improvement of these images... this was to get the temp images in.... they didn't get merged and just said ..image/XXX.png =)

But it's now fixed and merged, so the images are showing up.;;;","14/Jun/17 2:47 AM;joe-alewine;[~markparz] 

Ah, okay. I thought they had been deliberately left out because there was an objection to them (IBM specific images or something like that). At least that's what I've been telling people.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Demonstrate adding new peer organization to network,FAB-4570,17775,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,jeffgarratt,jeffgarratt,jeffgarratt,13/Jun/17 2:15 AM,23/Jan/20 6:49 AM,28/Oct/23 3:00 AM,23/Jan/20 6:49 AM,,,,,,,,,,,,,2,stale-item,,,,,,,*strong text*,,akdj,JaredLiO,jeffgarratt,sykesm,toddinpal,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-1141,,,,,,,,,,"1|hzy0av:",,,,,,,,,,,,,,,,,,,,,,,,,,,akdj,JaredLiO,jeffgarratt,sykesm,toddinpal,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"13/Jul/17 12:33 AM;jeffgarratt;Have it working.  Considering options for delivery (e.g. video vs BDD feature update);;;","23/Jan/20 6:49 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
address missing licenses fabric-chaintool,FAB-4571,17776,16795,Sub-task,Closed,FAB,Fabric,software,denyeart,,,High,Done,ChristopherFerris,ChristopherFerris,ChristopherFerris,13/Jun/17 2:30 AM,27/Nov/19 3:11 AM,28/Oct/23 3:00 AM,14/Jun/17 12:36 AM,v1.0.0-beta,,,v1.0.0,,,,,,,,,0,Quality,,,,,,,address missing licenses fabric-chaintool,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,3600,3600,,0%,3600,3600,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy0b3:",,,,,,,,,,,,,,,1.0,,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"13/Jun/17 3:30 AM;ChristopherFerris;https://gerrit.hyperledger.org/r/#/c/10479/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
address missing license headers fabric-ca,FAB-4572,17777,16795,Sub-task,Closed,FAB,Fabric,software,denyeart,,,High,Done,ChristopherFerris,ChristopherFerris,ChristopherFerris,13/Jun/17 2:31 AM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,14/Jun/17 2:00 AM,v1.0.0-beta,,,v1.0.0,,fabric-ca,,,,,,,0,Quality,,,,,,,address missing license headers fabric-ca,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy0bb:",,,,,,,,,,,,,,,1.0,,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"13/Jun/17 3:29 AM;ChristopherFerris;https://gerrit.hyperledger.org/r/#/c/10483/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
address missing license headers fabric-sdk-node,FAB-4573,17778,16795,Sub-task,Closed,FAB,Fabric,software,denyeart,,,High,Done,ChristopherFerris,ChristopherFerris,ChristopherFerris,13/Jun/17 2:31 AM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,13/Jun/17 7:18 PM,v1.0.0-beta,,,v1.0.0,,fabric-sdk-node,,,,,,,0,Quality,,,,,,,address missing license headers fabric-sdk-node,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy0bj:",,,,,,,,,,,,,,,1.0,,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"13/Jun/17 5:14 AM;ChristopherFerris;https://gerrit.hyperledger.org/r/#/c/10497/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
address missing license headers fabric-sdk-java,FAB-4574,17779,16795,Sub-task,Closed,FAB,Fabric,software,denyeart,,,High,Done,ChristopherFerris,ChristopherFerris,ChristopherFerris,13/Jun/17 2:31 AM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,13/Jun/17 8:16 AM,v1.0.0-beta,,,v1.0.0,,fabric-sdk-java,,,,,,,0,Quality,,,,,,,address missing license headers fabric-sdk-java,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy0br:",,,,,,,,,,,,,,,1.0,,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"13/Jun/17 4:39 AM;ChristopherFerris;https://gerrit.hyperledger.org/r/#/c/10491/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
address missing license headers fabric-baseimage,FAB-4575,17780,16795,Sub-task,Closed,FAB,Fabric,software,denyeart,,,High,Done,ChristopherFerris,ChristopherFerris,ChristopherFerris,13/Jun/17 2:32 AM,27/Nov/19 2:17 AM,28/Oct/23 3:00 AM,13/Jun/17 7:18 PM,v1.0.0-beta,,,v1.0.0,,,,,,,,,0,Quality,,,,,,,address missing license headers fabric-baseimage,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy0bz:",,,,,,,,,,,,,,,1.0,,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"13/Jun/17 3:29 AM;ChristopherFerris;https://gerrit.hyperledger.org/r/#/c/10481/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
address missing license headers fabric,FAB-4576,17781,16795,Sub-task,Closed,FAB,Fabric,software,denyeart,,,High,Done,ChristopherFerris,ChristopherFerris,ChristopherFerris,13/Jun/17 2:32 AM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,13/Jun/17 7:17 PM,v1.0.0-beta,,,v1.0.0,,fabric-build,,,,,,,0,Quality,,,,,,,address missing license headers fabric,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy0c7:",,,,,,,,,,,,,,,1.0,,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"13/Jun/17 4:39 AM;ChristopherFerris;https://gerrit.hyperledger.org/r/#/c/10487/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
add missing license headers to fabric-test-resources,FAB-4577,17782,16795,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ChristopherFerris,ChristopherFerris,ChristopherFerris,13/Jun/17 3:38 AM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,14/Jun/17 9:25 AM,v1.0.0-beta,,,,,fabric-build,,,,,,,0,quality,,,,,,,add missing license headers to fabric-test-resources,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,3600,3600,,0%,3600,3600,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy0cf:",,,,,,,,,,,,,,,1.0,,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"13/Jun/17 3:39 AM;ChristopherFerris;https://gerrit.hyperledger.org/r/#/c/10485/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Name files consistently in docs/source,FAB-4579,17784,,Story,Closed,FAB,Fabric,software,denyeart,,,Low,Won't Do,,kchristidis,kchristidis,13/Jun/17 3:52 AM,23/Jan/20 6:49 AM,28/Oct/23 3:00 AM,23/Jan/20 6:49 AM,v1.0.0-beta,,,,,fabric-docs,,,,,,,0,stale-item,,,,,,,"We've got underscored_filenames, filenames-with-dashes, filenames that are just multiple words merged into one (smartcontract.rst), uppercased folder names, etc.

Can we apply a coherent naming strategy?

This would apply to everything under `docs/source` including subfolders. (So images as well.)",,kchristidis,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzy0cn:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,kchristidis,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"13/Jun/17 3:53 AM;kchristidis;[~ChristopherFerris]: FYI since you've been involved in such linting efforts in the past. Feel free to re-prioritize, etc. as you see fit.;;;","23/Jan/20 6:49 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
mark version as released in JIRA,FAB-4580,17785,17718,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ChristopherFerris,kchristidis,kchristidis,13/Jun/17 4:46 AM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,24/Jun/17 8:01 AM,,,,,,,,,,,,,0,,,,,,,,https://jira.hyperledger.org/projects/FAB?selectedItem=com.atlassian.jira.jira-projects-plugin:release-page&status=unreleased,,kchristidis,,,,,,,,,,,,,,,,,,,,60,60,,0%,60,60,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy0cv:",,,,,,,,,,,,,,,,,,,,,,,,,,,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Improve gossip core.yaml documentation,FAB-4581,17786,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,13/Jun/17 4:46 AM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,13/Jun/17 7:24 AM,v1.0.0-beta,,,v1.0.0,,fabric-gossip,,,,,,,0,Documentation,,,,,,,There are some incorrect phrases in the gossip section in core.yaml,,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy0d3:",,,,,,,,,,,,,,,,,,,,,,,,,,,yacovm,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Correct comment in gossip proto file,FAB-4582,17787,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,13/Jun/17 4:51 AM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,13/Jun/17 7:25 AM,v1.0.0-beta,,,v1.0.0,,fabric-gossip,,,,,,,0,,,,,,,,"The gossip proto file has the following section for channel_mac:

{code}
    // channel_MAC is an authentication code that proves
    // that the peer that sent this message knows
    // the name of the channel.
    // The channel name that this message relates to
    // can only be computed by a peer that has joined
    // the channel
{code}

This is a bit misleading since the name of the channel can be computed by dictionary attacks where the name of the channel is guessed, and also by simply knowing the name of the channel beforehand.",,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy0db:",,,,,,,,,,,,,,,,,,,,,,,,,,,yacovm,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
ERRO 00a Principal deserialization failed when sending invoke tx immediately after a join-channel,FAB-4583,17789,,Story,Closed,FAB,Fabric,software,denyeart,,,Low,Done,,Nishi,Nishi,13/Jun/17 4:58 AM,21/Jul/18 3:56 AM,28/Oct/23 3:00 AM,20/Jun/17 4:44 AM,v1.0.0-beta,,,WON'T FIX,,fabric-orderer,,,,,,,0,common-components,,,,,,,"On fabric commit level *961ccabe9258d5939c3c3fb3751e0eac515539f8**

using fabric-sdk-node e2e tests from *91bac30fec921775e21bf7f59de4d162f2462341*

When I send a invoke tx immediately after a join-channel, tx fails on node client and from orderer logs
{code:java}
2017-06-12 17:54:57.749 UTC [cauthdsl] func2 -> ERRO 00a Principal deserialization failed: (The supplied identity is not valid, Verify() returned x509: certificate has expired or is not yet valid) for identity [10 7 79 114 103 50 77 83 80 18 221 5 45 45 45 45 45 66 69 71 73 78 32 67 69 82 84 73 70 73 67 65 84 69 45 45 45 45 45 10 77 73 73 66 56 68 67 67 65 90 101 103 65 119 73 66 65 103 73 85 66 105 72 65 79 113 110 55 49 73 80 76 54 76 84 86 85 73 118 77 82 55 110 98 49 90 89 119 67 103 89 73 75 111 90 73 122 106 48 69 65 119 73 119 10 99 122 69 76 77 65 107 71 65 49 85 69 66 104 77 67 86 86 77 120 69 122 65 82 66 103 78 86 66 65 103 84 67 107 78 104 98 71 108 109 98 51 74 117 97 87 69 120 70 106 65 85 66 103 78 86 66 65 99 84 68 86 78 104 10 98 105 66 71 99 109 70 117 89 50 108 122 89 50 56 120 71 84 65 88 66 103 78 86 66 65 111 84 69 71 57 121 90 122 73 117 90 88 104 104 98 88 66 115 90 83 53 106 98 50 48 120 72 68 65 97 66 103 78 86 66 65 77 84 10 69 50 78 104 76 109 57 121 90 122 73 117 90 88 104 104 98 88 66 115 90 83 53 106 98 50 48 119 72 104 99 78 77 84 99 119 78 106 69 121 77 84 99 49 77 68 65 119 87 104 99 78 77 84 103 119 78 84 69 121 77 68 69 49 10 77 68 65 119 87 106 65 81 77 81 52 119 68 65 89 68 86 81 81 68 69 119 86 104 90 71 49 112 98 106 66 90 77 66 77 71 66 121 113 71 83 77 52 57 65 103 69 71 67 67 113 71 83 77 52 57 65 119 69 72 65 48 73 65 10 66 69 66 65 85 79 71 69 106 66 78 83 77 79 49 52 77 110 72 56 47 54 50 73 74 121 105 83 106 70 110 73 99 49 51 82 82 71 108 100 97 43 52 84 77 100 82 70 121 117 109 67 119 74 119 119 82 65 54 49 105 112 80 120 10 68 52 55 113 87 43 122 83 119 121 109 110 119 116 66 69 103 121 43 88 113 72 67 106 98 68 66 113 77 65 52 71 65 49 85 100 68 119 69 66 47 119 81 69 65 119 73 67 66 68 65 77 66 103 78 86 72 82 77 66 65 102 56 69 10 65 106 65 65 77 66 48 71 65 49 85 100 68 103 81 87 66 66 84 79 66 111 72 71 51 65 88 43 48 76 121 99 112 83 90 81 118 74 113 57 49 50 73 102 54 122 65 114 66 103 78 86 72 83 77 69 74 68 65 105 103 67 68 110 10 55 117 77 99 80 80 120 51 87 47 115 90 84 119 66 90 77 121 116 120 101 79 80 108 67 114 51 107 106 89 90 102 117 68 83 117 112 100 88 114 74 84 65 75 66 103 103 113 104 107 106 79 80 81 81 68 65 103 78 72 65 68 66 69 10 65 105 66 97 68 80 49 78 67 116 84 75 69 113 113 74 72 76 79 86 72 88 76 117 70 110 53 54 47 88 97 85 97 86 98 104 81 43 117 43 112 77 88 87 86 81 73 103 90 86 110 56 78 75 90 54 113 100 68 66 57 87 101 76 10 78 116 70 104 117 103 69 68 98 81 57 70 115 80 48 86 89 48 80 70 78 75 69 88 101 80 103 61 10 45 45 45 45 45 69 78 68 32 67 69 82 84 73 70 73 67 65 84 69 45 45 45 45 45 10]{code}
 

Eventually tx commits successfully after few trials.

In my env I had to wait for around 3-3.5 minutes to be able to send tx successfully.

Figured out that this could happen when client time is ahead of server. I had my orderer container and node client running inside vagrant with only 2-3 seconds apart on time.

Can we log a better or more readable message to end user that why there was an invalid certificate (as in my case starting time for cert might have been met until few minutes on client elapsed)",,kchristidis,Nishi,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzy0dj:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,kchristidis,Nishi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"13/Jun/17 6:32 AM;kchristidis;Isn't BAD_REQUEST the error that the end user sees?

What would be a more appropriate response code?

This works as it should as far as I can tell, but perhaps I'm missing something.;;;","20/Jun/17 12:58 AM;Nishi;[~kchristidis] This is not a BAD_REQUEST error, was requesting to log a more detailed message as to why ""returned x509: certificate has expired or is not yet valid) for identity"" certificate is not valid, 

When I read the message now it is informative, but thought actual reason like of non-validity like- ""Container (orderer) time lags from the time on client"" - could be more helpful, not sure if that is reasonable to ask.

Since transaction goes through after some wait time - may be by fixing start time in crypto-gen to one day earlier could also fix the issue.

;;;","20/Jun/17 4:44 AM;kchristidis;Discussed this with [~jyellick] and I agree that that ""the certificate has expired or is not yet valid"" is the right message to log here. Closing this.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
could we have a one line message to indicate we are ready for chaincode tx business,FAB-4584,17796,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,Nishi,Nishi,13/Jun/17 5:17 AM,23/Jan/20 6:50 AM,28/Oct/23 3:00 AM,23/Jan/20 6:50 AM,,,,,,fabric-peer,,,,,,,0,stale-item,,,,,,,"Right now join-channel results in the following messages on each peer that has joined on the channel
{code:java}
2017-06-12 19:38:12.227 UTC [ledgermgmt] CreateLedger -> INFO 024 Creating ledger [mychannel] with genesis block
2017-06-12 19:38:12.232 UTC [kvledger] Commit -> INFO 025 Channel [mychannel]: Created block [0] with 1 transaction(s)
2017-06-12 19:38:12.235 UTC [ledgermgmt] CreateLedger -> INFO 026 Created ledger [mychannel] with genesis block
2017-06-12 19:38:12.247 UTC [cscc] Init -> INFO 027 Init CSCC
2017-06-12 19:38:12.247 UTC [sccapi] deploySysCC -> INFO 028 system chaincode cscc/mychannel(github.com/hyperledger/fabric/core/scc/cscc) deployed
2017-06-12 19:38:12.249 UTC [sccapi] deploySysCC -> INFO 029 system chaincode lscc/mychannel(github.com/hyperledger/fabric/core/scc/lscc) deployed
2017-06-12 19:38:12.250 UTC [escc] Init -> INFO 02a Successfully initialized ESCC
2017-06-12 19:38:12.252 UTC [sccapi] deploySysCC -> INFO 02b system chaincode escc/mychannel(github.com/hyperledger/fabric/core/scc/escc) deployed
2017-06-12 19:38:12.253 UTC [sccapi] deploySysCC -> INFO 02c system chaincode vscc/mychannel(github.com/hyperledger/fabric/core/scc/vscc) deployed
2017-06-12 19:38:12.253 UTC [qscc] Init -> INFO 02d Init QSCC
2017-06-12 19:38:12.253 UTC [sccapi] deploySysCC -> INFO 02e system chaincode qscc/mychannel(github.com/hyperledger/fabric/core/chaincode/qscc) deployed
2017-06-12 19:38:12.254 UTC [eventhub_producer] SendProducerBlockEvent -> INFO 02f Channel [mychannel]: Sending event for block number [0]{code}
 

Could we have one line message something similar to what we have when websphere is ready for e-business like

""[mychannel] is ready for blockchain-business""

 

This would help customers, supports to quickly validate that we got all things ready to send chaincode transactions for blockchain business.",,Nishi,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzy1fz:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,Nishi,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 6:50 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
PTE: update to v1.0 beta,FAB-4585,17798,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,dongming,dongming,dongming,13/Jun/17 6:12 AM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,03/Aug/17 11:09 PM,,,,,,fabric-quality,,,,,,,0,,,,,,,,update PTE to v1.0 beta,,dongming,holocron,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-2247,,,,,,,,,,"1|hzy1g7:",,,,,,Sprint 19 - Quality,,,,,,,,,,,,,,,,,,,,,dongming,holocron,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"14/Jun/17 12:38 AM;holocron;{color:#333333}Breakage in beta when creating a channel (TLS enabled):{color}

 

{{{color:#333333}vmorris{color}{color:#999999}@pte{color}{color:#008080}-1{color}{color:#333333}:{color}{color:#009926}~/go/{color}{color:#333333}src{color}{color:#009926}/github.com/{color}{color:#333333}hyperledger{color}{color:#009926}/fabric-sdk-node/{color}{color:#333333}test{color}{color:#009926}/PTE$ GOPATH: /{color}{color:#333333}home{color}{color:#009926}/vmorris/{color}{color:#333333}go{color}}}
{{{color:#333333}input {color}{color:#dd1144}parameters:{color}{color:#333333} Nid={color}{color:#008080}0{color}{color:#333333}, uiFile=userInputs/samplecc-chan1-create-TLS.json, tStart={color}{color:#008080}1497293912324{color}}}
{{{color:#dd1144}chaincode_id:{color} {color:#008080}0{color}{color:#333333}, {color}{color:#dd1144}chaincode_ver:{color}{color:#333333} sample_cc_ch1, {color}{color:#dd1144}chain_id:{color}{color:#333333} v0 testchainid_ch1{color}}}
{{{color:#dd1144}TLS:{color}{color:#333333} ENABLED{color}}}
{{{color:#dd1144}channelName:{color}{color:#333333} mychannel{color}}}
{{{color:#333333}channelOrgName.{color}{color:#dd1144}length:{color} {color:#008080}1{color}{color:#333333}, {color}{color:#dd1144}channelOrgName:{color}{color:#333333} org1{color}}}
{{{color:#333333}svcFile; SCFiles/config-chan1-TLS.json{color}}}
{{{color:#333333}[performance_main] org= org1, org Name= Org1MSP{color}}}
{{{color:#333333}[createOneChannel] org= org1, org name= Org1MSP{color}}}
{{{color:#333333}[createOneChannel] user= admin, secret= adminpw{color}}}
{{{color:#333333}[clientNewOrderer] {color}{color:#dd1144}orderer:{color} {color:#dd1144}grpcs:{color}{color:#999988}//0.0.0.0:7050{color}}}
{{{color:#333333}[pushMSP] {color}{color:#dd1144}key:{color}{color:#333333} orderer, ORGS[key].{color}{color:#dd1144}mspid:{color}{color:#333333} OrdererMSP{color}}}
{{{color:#333333}[readAllFiles] looking at {color}{color:#dd1144}file :{color}{color:#333333}:{color}{color:#009926}/home/{color}{color:#333333}vmorris{color}{color:#009926}/go/{color}{color:#333333}src{color}{color:#009926}/github.com/{color}{color:#333333}hyperledger{color}{color:#009926}/fabric/{color}{color:#333333}examples{color}{color:#009926}/e2e_cli/{color}{color:#333333}crypto-config{color}{color:#009926}/ordererOrganizations/{color}{color:#333333}example.com{color}{color:#009926}/msp/{color}{color:#333333}cacerts/ca.example.com-cert.pem{color}}}
{{{color:#333333}[readAllFiles] looking at {color}{color:#dd1144}file :{color}{color:#333333}:{color}{color:#009926}/home/{color}{color:#333333}vmorris{color}{color:#009926}/go/{color}{color:#333333}src{color}{color:#009926}/github.com/{color}{color:#333333}hyperledger{color}{color:#009926}/fabric/{color}{color:#333333}examples{color}{color:#009926}/e2e_cli/{color}{color:#333333}crypto-config{color}{color:#009926}/ordererOrganizations/{color}{color:#333333}example.com{color}{color:#009926}/msp/{color}{color:#333333}admincerts/Admin{color}{color:#999999}@example{color}{color:#333333}.com-cert.pem{color}}}
{{{color:#009926}/home/{color}{color:#333333}vmorris{color}{color:#009926}/go/{color}{color:#333333}src{color}{color:#009926}/github.com/{color}{color:#333333}hyperledger{color}{color:#009926}/fabric-sdk-node/{color}{color:#333333}test{color}{color:#009926}/PTE/{color}{color:#333333}pte-main.{color}{color:#dd1144}js:{color}{color:#008080}738{color}}}
{{{color:#333333} msps.push(client.newMSP(msp));{color}}}
{{{color:#333333} ^{color}}}
{{{color:#990073}
TypeError:{color}{color:#333333} client.newMSP is not a function{color}}}
{{{color:#333333} at pushMSP ({color}{color:#009926}/home/{color}{color:#333333}vmorris{color}{color:#009926}/go/{color}{color:#333333}src{color}{color:#009926}/github.com/{color}{color:#333333}hyperledger{color}{color:#009926}/fabric-sdk-node/{color}{color:#333333}test{color}{color:#009926}/PTE/{color}{color:#333333}pte-main.{color}{color:#dd1144}js:{color}{color:#008080}738{color}{color:#333333}:{color}{color:#008080}30{color}{color:#333333}){color}}}
{{{color:#333333} at createOneChannel ({color}{color:#009926}/home/{color}{color:#333333}vmorris{color}{color:#009926}/go/{color}{color:#333333}src{color}{color:#009926}/github.com/{color}{color:#333333}hyperledger{color}{color:#009926}/fabric-sdk-node/{color}{color:#333333}test{color}{color:#009926}/PTE/{color}{color:#333333}pte-main.{color}{color:#dd1144}js:{color}{color:#008080}766{color}{color:#333333}:{color}{color:#008080}9{color}{color:#333333}){color}}}
{{{color:#333333} at performance_main ({color}{color:#009926}/home/{color}{color:#333333}vmorris{color}{color:#009926}/go/{color}{color:#333333}src{color}{color:#009926}/github.com/{color}{color:#333333}hyperledger{color}{color:#009926}/fabric-sdk-node/{color}{color:#333333}test{color}{color:#009926}/PTE/{color}{color:#333333}pte-main.{color}{color:#dd1144}js:{color}{color:#008080}1146{color}{color:#333333}:{color}{color:#008080}17{color}{color:#333333}){color}}}
{{{color:#333333} at Object.<anonymous> ({color}{color:#009926}/home/{color}{color:#333333}vmorris{color}{color:#009926}/go/{color}{color:#333333}src{color}{color:#009926}/github.com/{color}{color:#333333}hyperledger{color}{color:#009926}/fabric-sdk-node/{color}{color:#333333}test{color}{color:#009926}/PTE/{color}{color:#333333}pte-main.{color}{color:#dd1144}js:{color}{color:#008080}482{color}{color:#333333}:{color}{color:#008080}1{color}{color:#333333}){color}}}
{{{color:#333333} at Module._compile (module.{color}{color:#dd1144}js:{color}{color:#008080}570{color}{color:#333333}:{color}{color:#008080}32{color}{color:#333333}){color}}}
{{{color:#333333} at Object.Module._extensions..js (module.{color}{color:#dd1144}js:{color}{color:#008080}579{color}{color:#333333}:{color}{color:#008080}10{color}{color:#333333}){color}}}
{{{color:#333333} at Module.load (module.{color}{color:#dd1144}js:{color}{color:#008080}487{color}{color:#333333}:{color}{color:#008080}32{color}{color:#333333}){color}}}
{{{color:#333333} at tryModuleLoad (module.{color}{color:#dd1144}js:{color}{color:#008080}446{color}{color:#333333}:{color}{color:#008080}12{color}{color:#333333}){color}}}
{{{color:#333333} at Function.Module._load (module.{color}{color:#dd1144}js:{color}{color:#008080}438{color}{color:#333333}:{color}{color:#008080}3{color}{color:#333333}){color}}}
{{{color:#333333} at Module.runMain (module.{color}{color:#dd1144}js:{color}{color:#008080}604{color}{color:#333333}:{color}{color:#008080}10{color}{color:#333333}){color}}};;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Gossip: non-leader peer fails to get synced after its stopped temporarily,FAB-4586,17800,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,yacovm,AdnanChoudhury,AdnanChoudhury,13/Jun/17 6:30 AM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,14/Jun/17 12:20 AM,,,,v1.0.0,,fabric-gossip,,,,,,,0,gossip,gossip_component,quality,,,,,"*Setup*:
 # Uses e2ecli example. 2 org and 2 peer each ( peer0, peer1 from org 1, peer2 and peer3 from org2). Leader selection is on, and leader set to false for all.
 # After the last step in e2ecli (query peer3),  find the non-leader peer in Org2 (via going through the log) and stop it via docker stop \{peername}. 
 # After 15 seconds, do another invoke operation as before (in peer0) and wait 15 seconds.
 # Start the non-leader peer again via docker start, and continue to query for the value.

*What was expected*: After a short duration of few seconds, query result is 80.

*What was observed*: query result remains 90 for 5 minutes (whole test duration), or in some intermittent case, becomes the expected value 80  after ~150 seconds.

The log from the script command and the peer logs are attached in the zip file.

Note: this is similar to -FAB-4475-, but the container is stopped-started here vs disconnecting from network in 4475. ",,AdnanChoudhury,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"13/Jun/17 6:34 AM;AdnanChoudhury;gossip_nonleader_stopstart_fail.zip;https://jira.hyperledger.org/secure/attachment/11024/gossip_nonleader_stopstart_fail.zip",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy1gf:",,,,,,,,,,,,,,,,,,,,,,,,,,,AdnanChoudhury,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"13/Jun/17 7:30 AM;yacovm;I did what you described twice and it works for me... I changed simply the e2e script to ""wait"" in the following sections and it works:

{code}
echo ""!!!!!!!!!!!!!!!!!!!!!!!!!!""
echo docker stop peer1.org2.example.com
sleep 20

#Invoke on chaincode on Peer0/Org1
echo ""Sending invoke transaction on org1/peer0...""
chaincodeInvoke 0

echo ""!!!!!!!!!!!!!!!!!!!!!!!!!!!!""
echo docker start peer1.org2.example.com
sleep 30

## Install chaincode on Peer3/Org2
echo ""Installing chaincode on org2/peer3...""
installChaincode 3

#Query on chaincode on Peer3/Org2, check if the result is 90
echo ""Querying chaincode on org2/peer3...""
chaincodeQuery 3 90
{code};;;","13/Jun/17 7:31 AM;yacovm;can we do a hangout tomorrow to understand the cause for the manifestation of the problem on your computer?

will also try to look at the logs tomorrow but can you upload the compose files and also the git hash? ;;;","13/Jun/17 5:49 PM;yacovm;This is weird:
* Why are your logs in JSON format? the e2e_cli doesn't output such logs 
* I went over the logs and it seems like all peers are in the same org...  ;;;","14/Jun/17 12:21 AM;AdnanChoudhury;After pulling the latest and rebuilding the peer, the issue was not observed with multiple attempts. marking it as DONE (not a bug);;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Sending instantiateTransaction to orderer hangs,FAB-4588,17802,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,muralisr,andrasfe,andrasfe,13/Jun/17 7:55 AM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,22/Jun/17 9:07 AM,v1.0.0-alpha2,,,v1.0.0,,fabric-peer,,,,,,16/Jun/17 12:00 AM,0,,,,,,,,"Running End2endIT.java unit test results in sendTransaction hanging at the time of chain code instantiation. Issue has been observed in both versions 1.0.0-alpha2 and 1.0.0-beta.

*Java logs shown below:*

2017-06-12 22:35:10,465 DEBUG Channel:2083 - Channel foo send proposal to peer peer0.org1.example.com at url grpc://localhost:7051

2017-06-12 22:35:10,466 DEBUG Peer:147 - peer.sendProposalAsync name: peer0.org1.example.com, url: grpc://localhost:7051

2017-06-12 22:35:10,467 DEBUG Channel:2083 - Channel foo send proposal to peer peer1.org1.example.com at url grpc://localhost:7056

2017-06-12 22:35:10,477 DEBUG Peer:147 - peer.sendProposalAsync name: peer1.org1.example.com, url: grpc://localhost:7056

2017-06-12 22:35:11,700 DEBUG Channel:2098 - Channel foo got back from peer peer0.org1.example.com status: 200, message: OK

2017-06-12 22:35:11,709 DEBUG Channel:2098 - Channel foo got back from peer peer1.org1.example.com status: 200, message: OK

Succesful instantiate proposal response Txid: c604a9ebcce27ee03c3f7702fccbb4956b15ed7af48673c4a6e4cd3c3160a615 from peer peer0.org1.example.com

Succesful instantiate proposal response Txid: c604a9ebcce27ee03c3f7702fccbb4956b15ed7af48673c4a6e4cd3c3160a615 from peer peer1.org1.example.com

Received 2 instantiate proposal responses. Successful+verified: 2 . Failed: 0

Sending instantiateTransaction to orderer with a and b set to 100 and 200 respectively

2017-06-12 22:35:11,737 DEBUG Channel:2253 - Channel foo sending transaction to orderer(s) with TxID c604a9ebcce27ee03c3f7702fccbb4956b15ed7af48673c4a6e4cd3c3160a615

2017-06-12 22:35:11,738 DEBUG Orderer:122 - Order.sendTransaction name: orderer.example.com, url: grpc://localhost:7050

2017-06-12 22:35:11,748 DEBUG OrdererClient:107 - resp status value: 200, resp: SUCCESS

2017-06-12 22:35:11,749 DEBUG OrdererClient:147 - Done waiting for reply! Got:status: SUCCESS

 

2017-06-12 22:35:11,749 DEBUG Channel:2281 - Channel foo successful sent to Orderer transaction id: c604a9ebcce27ee03c3f7702fccbb4956b15ed7af48673c4a6e4cd3c3160a615

 

*Peer logs:*

*docker logs peer0.org1.example.com:*

2017-06-12 22:35:11.662 UTC [chaincode] Execute -> DEBU 35b chaincode canonical name: example_cc_go:1

2017-06-12 22:35:11.662 UTC [chaincode] sendExecuteMessage -> DEBU 35c [c604a9eb]Inside sendExecuteMessage. Message INIT

2017-06-12 22:35:11.662 UTC [chaincode] setChaincodeProposal -> DEBU 35d Setting chaincode proposal context...

2017-06-12 22:35:11.662 UTC [chaincode] setChaincodeProposal -> DEBU 35e Proposal different from nil. Creating chaincode proposal context...

2017-06-12 22:35:11.662 UTC [chaincode] sendExecuteMessage -> DEBU 35f [c604a9eb]sendExecuteMsg trigger event INIT

2017-06-12 22:35:11.662 UTC [chaincode] processStream -> DEBU 360 [c604a9eb]Move state message INIT

2017-06-12 22:35:11.662 UTC [chaincode] HandleMessage -> DEBU 361 [c604a9eb]Fabric side Handling ChaincodeMessage of type: INIT in state ready

2017-06-12 22:35:11.662 UTC [chaincode] filterError -> DEBU 362 Ignoring NoTransitionError: no transition

2017-06-12 22:35:11.662 UTC [chaincode] processStream -> DEBU 363 [c604a9eb]sending state message INIT

2017-06-12 22:35:11.669 UTC [chaincode] processStream -> DEBU 364 [c604a9eb]Received message PUT_STATE from shim

2017-06-12 22:35:11.670 UTC [chaincode] HandleMessage -> DEBU 365 [c604a9eb]Fabric side Handling ChaincodeMessage of type: PUT_STATE in state ready

2017-06-12 22:35:11.670 UTC [chaincode] filterError -> DEBU 366 Ignoring NoTransitionError: no transition

2017-06-12 22:35:11.670 UTC [chaincode] func1 -> DEBU 367 [c604a9eb]state is ready

2017-06-12 22:35:11.670 UTC [chaincode] func1 -> DEBU 368 [c604a9eb]Completed PUT_STATE. Sending RESPONSE

2017-06-12 22:35:11.671 UTC [chaincode] 1 -> DEBU 369 [c604a9eb]enterBusyState trigger event RESPONSE

2017-06-12 22:35:11.671 UTC [chaincode] processStream -> DEBU 36a [c604a9eb]Move state message RESPONSE

2017-06-12 22:35:11.671 UTC [chaincode] HandleMessage -> DEBU 36b [c604a9eb]Fabric side Handling ChaincodeMessage of type: RESPONSE in state ready

2017-06-12 22:35:11.671 UTC [chaincode] filterError -> DEBU 36c Ignoring NoTransitionError: no transition

2017-06-12 22:35:11.671 UTC [chaincode] processStream -> DEBU 36d [c604a9eb]sending state message RESPONSE

2017-06-12 22:35:11.675 UTC [chaincode] processStream -> DEBU 36e [c604a9eb]Received message PUT_STATE from shim

2017-06-12 22:35:11.675 UTC [chaincode] HandleMessage -> DEBU 36f [c604a9eb]Fabric side Handling ChaincodeMessage of type: PUT_STATE in state ready

2017-06-12 22:35:11.675 UTC [chaincode] filterError -> DEBU 370 Ignoring NoTransitionError: no transition

2017-06-12 22:35:11.676 UTC [chaincode] func1 -> DEBU 371 [c604a9eb]state is ready

2017-06-12 22:35:11.676 UTC [chaincode] func1 -> DEBU 372 [c604a9eb]Completed PUT_STATE. Sending RESPONSE

2017-06-12 22:35:11.676 UTC [chaincode] 1 -> DEBU 373 [c604a9eb]enterBusyState trigger event RESPONSE

2017-06-12 22:35:11.677 UTC [chaincode] processStream -> DEBU 374 [c604a9eb]Move state message RESPONSE

2017-06-12 22:35:11.677 UTC [chaincode] HandleMessage -> DEBU 375 [c604a9eb]Fabric side Handling ChaincodeMessage of type: RESPONSE in state ready

2017-06-12 22:35:11.677 UTC [chaincode] filterError -> DEBU 376 Ignoring NoTransitionError: no transition

2017-06-12 22:35:11.677 UTC [chaincode] processStream -> DEBU 377 [c604a9eb]sending state message RESPONSE

2017-06-12 22:35:11.686 UTC [chaincode] processStream -> DEBU 378 [c604a9eb]Received message COMPLETED from shim

2017-06-12 22:35:11.686 UTC [chaincode] HandleMessage -> DEBU 379 [c604a9eb]Fabric side Handling ChaincodeMessage of type: COMPLETED in state ready

2017-06-12 22:35:11.687 UTC [chaincode] HandleMessage -> DEBU 37a [c604a9ebcce27ee03c3f7702fccbb4956b15ed7af48673c4a6e4cd3c3160a615]HandleMessage- COMPLETED. Notify

2017-06-12 22:35:11.687 UTC [chaincode] notify -> DEBU 37b notifying Txid:c604a9ebcce27ee03c3f7702fccbb4956b15ed7af48673c4a6e4cd3c3160a615

2017-06-12 22:35:11.687 UTC [chaincode] Execute -> DEBU 37c Exit

2017-06-12 22:35:11.687 UTC [endorser] callChaincode -> DEBU 37d Exit

2017-06-12 22:35:11.687 UTC [lockbasedtxmgr] GetTxSimulationResults -> DEBU 37e Simulation completed, getting simulation results

2017-06-12 22:35:11.688 UTC [lockbasedtxmgr] Done -> DEBU 37f Done with transaction simulation / query execution [0e0d0a37-c692-4c60-9c68-b94ddb092963]

2017-06-12 22:35:11.689 UTC [endorser] simulateProposal -> DEBU 380 Exit

2017-06-12 22:35:11.689 UTC [endorser] endorseProposal -> DEBU 381 Entry - txid: c604a9ebcce27ee03c3f7702fccbb4956b15ed7af48673c4a6e4cd3c3160a615 channel id: foo chaincode id: name:""lscc"" 

2017-06-12 22:35:11.689 UTC [endorser] endorseProposal -> DEBU 382 info: escc for chaincode id name:""lscc""  is escc

2017-06-12 22:35:11.689 UTC [endorser] callChaincode -> DEBU 383 Entry - txid: c604a9ebcce27ee03c3f7702fccbb4956b15ed7af48673c4a6e4cd3c3160a615 channel id: foo version: 1.0.0-beta

2017-06-12 22:35:11.689 UTC [ccprovider] NewCCContext -> DEBU 384 NewCCCC (chain=foo,chaincode=escc,version=1.0.0-beta,txid=c604a9ebcce27ee03c3f7702fccbb4956b15ed7af48673c4a6e4cd3c3160a615,syscc=true,proposal=0xc421afdc20,canname=escc:1.0.0-beta

2017-06-12 22:35:11.689 UTC [chaincode] Launch -> DEBU 385 chaincode is running(no need to launch) : escc:1.0.0-beta

2017-06-12 22:35:11.689 UTC [chaincode] Execute -> DEBU 386 Entry

2017-06-12 22:35:11.689 UTC [chaincode] Execute -> DEBU 387 chaincode canonical name: escc:1.0.0-beta

2017-06-12 22:35:11.690 UTC [chaincode] sendExecuteMessage -> DEBU 388 [c604a9eb]Inside sendExecuteMessage. Message TRANSACTION

2017-06-12 22:35:11.690 UTC [chaincode] setChaincodeProposal -> DEBU 389 Setting chaincode proposal context...

2017-06-12 22:35:11.690 UTC [chaincode] setChaincodeProposal -> DEBU 38a Proposal different from nil. Creating chaincode proposal context...

2017-06-12 22:35:11.690 UTC [chaincode] sendExecuteMessage -> DEBU 38b [c604a9eb]sendExecuteMsg trigger event TRANSACTION

2017-06-12 22:35:11.691 UTC [chaincode] processStream -> DEBU 38c [c604a9eb]Move state message TRANSACTION

2017-06-12 22:35:11.691 UTC [chaincode] HandleMessage -> DEBU 38d [c604a9eb]Fabric side Handling ChaincodeMessage of type: TRANSACTION in state ready

2017-06-12 22:35:11.691 UTC [chaincode] filterError -> DEBU 38e Ignoring NoTransitionError: no transition

2017-06-12 22:35:11.691 UTC [chaincode] processStream -> DEBU 38f [c604a9eb]sending state message TRANSACTION

2017-06-12 22:35:11.691 UTC [shim] func1 -> DEBU 390 [c604a9eb]Received message TRANSACTION from shim

2017-06-12 22:35:11.691 UTC [shim] handleMessage -> DEBU 391 [c604a9eb]Handling ChaincodeMessage of type: TRANSACTION(state:ready)

2017-06-12 22:35:11.691 UTC [shim] beforeTransaction -> DEBU 392 [c604a9eb]Received TRANSACTION, invoking transaction on chaincode(Src:ready, Dst:ready)

2017-06-12 22:35:11.691 UTC [escc] Invoke -> DEBU 393 ESCC starts: 8 args

2017-06-12 22:35:11.694 UTC [escc] Invoke -> DEBU 394 ESCC exits successfully

2017-06-12 22:35:11.694 UTC [shim] func1 -> DEBU 395 [c604a9eb]Transaction completed. Sending COMPLETED

2017-06-12 22:35:11.694 UTC [shim] func1 -> DEBU 396 [c604a9eb]Move state message COMPLETED

2017-06-12 22:35:11.694 UTC [shim] handleMessage -> DEBU 397 [c604a9eb]Handling ChaincodeMessage of type: COMPLETED(state:ready)

2017-06-12 22:35:11.695 UTC [shim] func1 -> DEBU 398 [c604a9eb]send state message COMPLETED

2017-06-12 22:35:11.695 UTC [chaincode] processStream -> DEBU 399 [c604a9eb]Received message COMPLETED from shim

2017-06-12 22:35:11.695 UTC [chaincode] HandleMessage -> DEBU 39a [c604a9eb]Fabric side Handling ChaincodeMessage of type: COMPLETED in state ready

2017-06-12 22:35:11.695 UTC [chaincode] HandleMessage -> DEBU 39b [c604a9ebcce27ee03c3f7702fccbb4956b15ed7af48673c4a6e4cd3c3160a615]HandleMessage- COMPLETED. Notify

2017-06-12 22:35:11.695 UTC [chaincode] notify -> DEBU 39c notifying Txid:c604a9ebcce27ee03c3f7702fccbb4956b15ed7af48673c4a6e4cd3c3160a615

2017-06-12 22:35:11.696 UTC [chaincode] Execute -> DEBU 39d Exit

2017-06-12 22:35:11.696 UTC [endorser] callChaincode -> DEBU 39e Exit

2017-06-12 22:35:11.697 UTC [endorser] endorseProposal -> DEBU 39f Exit

2017-06-12 22:35:11.697 UTC [lockbasedtxmgr] Done -> DEBU 3a0 Done with transaction simulation / query execution [0e0d0a37-c692-4c60-9c68-b94ddb092963]

2017-06-12 22:35:11.697 UTC [endorser] ProcessProposal -> DEBU 3a1 Exit

2017-06-12 22:35:15.882 UTC [deliveryClient] StartDeliverForChannel -> DEBU 3a2 This peer will pass blocks from orderer service to other peers for channel foo

2017-06-12 22:35:18.883 UTC [ConnProducer] NewConnection -> ERRO 3a3 Failed connecting to orderer.example.com:7050 , error: context deadline exceeded

2017-06-12 22:35:18.883 UTC [deliveryClient] connect -> ERRO 3a4 Failed obtaining connection: Could not connect to any of the endpoints: [orderer.example.com:7050]

2017-06-12 22:35:22.885 UTC [ConnProducer] NewConnection -> ERRO 3a5 Failed connecting to orderer.example.com:7050 , error: context deadline exceeded

2017-06-12 22:35:22.885 UTC [deliveryClient] connect -> ERRO 3a6 Failed obtaining connection: Could not connect to any of the endpoints: [orderer.example.com:7050]

2017-06-12 22:35:27.887 UTC [ConnProducer] NewConnection -> ERRO 3a7 Failed connecting to orderer.example.com:7050 , error: context deadline exceeded

2017-06-12 22:35:27.887 UTC [deliveryClient] connect -> ERRO 3a8 Failed obtaining connection: Could not connect to any of the endpoints: [orderer.example.com:7050]

2017-06-12 22:35:34.892 UTC [ConnProducer] NewConnection -> ERRO 3a9 Failed connecting to orderer.example.com:7050 , error: context deadline exceeded

2017-06-12 22:35:34.892 UTC [deliveryClient] connect -> ERRO 3aa Failed obtaining connection: Could not connect to any of the endpoints: [orderer.example.com:7050]

2017-06-12 22:35:46.021 UTC [ConnProducer] NewConnection -> ERRO 3ab Failed connecting to orderer.example.com:7050 , error: context deadline exceeded

2017-06-12 22:35:46.022 UTC [deliveryClient] connect -> ERRO 3ac Failed obtaining connection: Could not connect to any of the endpoints: [orderer.example.com:7050]

2017-06-12 22:36:05.023 UTC [ConnProducer] NewConnection -> ERRO 3ad Failed connecting to orderer.example.com:7050 , error: context deadline exceeded

2017-06-12 22:36:05.024 UTC [deliveryClient] connect -> ERRO 3ae Failed obtaining connection: Could not connect to any of the endpoints: [orderer.example.com:7050]

2017-06-12 22:36:40.026 UTC [ConnProducer] NewConnection -> ERRO 3af Failed connecting to orderer.example.com:7050 , error: context deadline exceeded

2017-06-12 22:36:40.026 UTC [deliveryClient] connect -> ERRO 3b0 Failed obtaining connection: Could not connect to any of the endpoints: [orderer.example.com:7050]

2017-06-12 22:37:47.027 UTC [ConnProducer] NewConnection -> ERRO 3b1 Failed connecting to orderer.example.com:7050 , error: context deadline exceeded

2017-06-12 22:37:47.028 UTC [deliveryClient] connect -> ERRO 3b2 Failed obtaining connection: Could not connect to any of the endpoints: [orderer.example.com:7050]

2017-06-12 22:39:58.029 UTC [ConnProducer] NewConnection -> ERRO 3b3 Failed connecting to orderer.example.com:7050 , error: context deadline exceeded

2017-06-12 22:39:58.029 UTC [deliveryClient] connect -> ERRO 3b4 Failed obtaining connection: Could not connect to any of the endpoints: [orderer.example.com:7050]

2017-06-12 22:44:17.030 UTC [ConnProducer] NewConnection -> ERRO 3b5 Failed connecting to orderer.example.com:7050 , error: context deadline exceeded

2017-06-12 22:44:17.030 UTC [deliveryClient] connect -> ERRO 3b6 Failed obtaining connection: Could not connect to any of the endpoints: [orderer.example.com:7050]

2017-06-12 22:44:17.030 UTC [blocksProvider] DeliverBlocks -> WARN 3b7 [foo] Receive error: Attempts (10) or elapsed time (9m1.14813744s) exhausted

*Orderer logs:*

*docker logs orderer.example.com*

2017-06-12 22:35:11.759 UTC [cauthdsl] func2 -> DEBU 818 Principal evaluation succeeds: (&\{0}) (used [false])

2017-06-12 22:35:11.759 UTC [cauthdsl] func1 -> DEBU 819 Gate evaluation succeeds: (&\{n:1 rules:<signed_by:0 > })

2017-06-12 22:35:11.759 UTC [orderer/common/sigfilter] Apply -> DEBU 81a Forwarding validly signed message for policy &\{%!s(*common.ImplicitMetaPolicy=&\{Writers 0}) %!s(int=1) [%!s(*policies.implicitMetaPolicy=&\{0xc420aa2160 1 [0xc420024bb0 0xc420024c48]}) %!s(*policies.implicitMetaPolicy=&\{0xc4207b1aa0 1 [0xc420024b08]})]}

2017-06-12 22:35:11.760 UTC [orderer/common/blockcutter] Ordered -> DEBU 81b Enqueuing message into batch

2017-06-12 22:35:13.760 UTC [orderer/solo] main -> DEBU 81c Batch timer expired, creating block

2017-06-12 22:35:13.760 UTC [fsblkstorage] retrieveBlockByNumber -> DEBU 81d retrieveBlockByNumber() - blockNum = [0]

2017-06-12 22:35:13.760 UTC [fsblkstorage] newBlockfileStream -> DEBU 81e newBlockfileStream(): filePath=[/var/hyperledger/production/orderer/chains/foo/blockfile_000000], startOffset=[0]

2017-06-12 22:35:13.761 UTC [fsblkstorage] nextBlockBytesAndPlacementInfo -> DEBU 81f Remaining bytes=[9674], Going to peek [8] bytes

2017-06-12 22:35:13.761 UTC [fsblkstorage] nextBlockBytesAndPlacementInfo -> DEBU 820 Returning blockbytes - length=[9672], placementInfo=\{fileNum=[0], startOffset=[0], bytesOffset=[2]}

2017-06-12 22:35:13.762 UTC [orderer/multichain] addBlockSignature -> DEBU 821 &\{ledgerResources:0xc42033a140 chain:0xc42031d530 cutter:0xc4202e4780 filters:0xc42033a660 signer:0x1261e08 lastConfig:0 lastConfigSeq:1}

2017-06-12 22:35:13.762 UTC [orderer/multichain] addBlockSignature -> DEBU 822 &\{}

2017-06-12 22:35:13.762 UTC [msp] GetLocalMSP -> DEBU 823 Returning existing local MSP

2017-06-12 22:35:13.762 UTC [msp] GetDefaultSigningIdentity -> DEBU 824 Obtaining default signing identity

2017-06-12 22:35:13.763 UTC [msp] GetLocalMSP -> DEBU 825 Returning existing local MSP

2017-06-12 22:35:13.763 UTC [msp] GetDefaultSigningIdentity -> DEBU 826 Obtaining default signing identity

2017-06-12 22:35:13.763 UTC [msp/identity] Sign -> DEBU 827 Sign: plaintext: 0AD4060A0A4F7264657265724D535012...26E0F43D0CD16973BDF27E3683998226 

2017-06-12 22:35:13.763 UTC [msp/identity] Sign -> DEBU 828 Sign: digest: 736AE0BA0E1A8E9F2115F4D869564A9364E05B25F6E88B3F2AC2EC7A441F8338 

2017-06-12 22:35:13.764 UTC [msp] GetLocalMSP -> DEBU 829 Returning existing local MSP

2017-06-12 22:35:13.764 UTC [msp] GetDefaultSigningIdentity -> DEBU 82a Obtaining default signing identity

2017-06-12 22:35:13.764 UTC [orderer/multichain] addLastConfigSignature -> DEBU 82b [channel: foo] About to write block, setting its LAST_CONFIG to 0

2017-06-12 22:35:13.764 UTC [msp] GetLocalMSP -> DEBU 82c Returning existing local MSP

2017-06-12 22:35:13.764 UTC [msp] GetDefaultSigningIdentity -> DEBU 82d Obtaining default signing identity

2017-06-12 22:35:13.764 UTC [msp/identity] Sign -> DEBU 82e Sign: plaintext: 0AD4060A0A4F7264657265724D535012...26E0F43D0CD16973BDF27E3683998226 

2017-06-12 22:35:13.764 UTC [msp/identity] Sign -> DEBU 82f Sign: digest: 8CE6F3E9629784CFE67D1F2B55BCEFFB95560837D68E53692E5B43050CC770B4 

2017-06-12 22:35:13.778 UTC [fsblkstorage] indexBlock -> DEBU 830 Indexing block [blockNum=1, blockHash=[]byte\{0xd3, 0xa, 0xde, 0xc1, 0xe, 0x52, 0xc3, 0xa2, 0xc4, 0xab, 0x4b, 0x6e, 0xca, 0x83, 0x31, 0xd7, 0xf, 0x3b, 0x92, 0x15, 0x76, 0x3a, 0xc9, 0x21, 0x60, 0x32, 0xc7, 0xbd, 0x1f, 0x64, 0x84, 0xc1} txOffsets=

txId=c604a9ebcce27ee03c3f7702fccbb4956b15ed7af48673c4a6e4cd3c3160a615 locPointer=offset=70, bytesLength=4709

]

2017-06-12 22:35:13.778 UTC [fsblkstorage] updateCheckpoint -> DEBU 831 Broadcasting about update checkpointInfo: latestFileChunkSuffixNum=[0], latestFileChunksize=[16379], isChainEmpty=[false], lastBlockNumber=[1]

2017-06-12 22:35:13.778 UTC [orderer/multichain] WriteBlock -> DEBU 832 [channel: foo] Wrote block 1

 ",,andrasfe,binhn,muralisr,pvrbharg,rickr,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABJ-178,,,,,,,,,,,,,,,,,,,,"14/Jun/17 2:49 AM;andrasfe;orderer.log;https://jira.hyperledger.org/secure/attachment/11045/orderer.log",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy1gv:",,,,,,,,,,,,,,,,,,,,,,,,,,,andrasfe,binhn,muralisr,pvrbharg,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"13/Jun/17 9:58 AM;rickr;Error are in the endorser not java sdk.  ;;;","13/Jun/17 9:59 AM;rickr;Describe exactly the scenario you've set up.  Where did you download ?  alpha2 and beta did you have match sdk and fabric too ?

 

 ;;;","13/Jun/17 10:08 AM;rickr;Provide docker ps -a output when this occurrs 

 ;;;","13/Jun/17 7:44 PM;rickr;Just downloaded v1.0.0-beta zip. from [https://github.com/hyperledger/fabric-sdk-java/releases]
 Went to src/test/fixture/sdkintegration did _./fabric.sh up_ 
 Opened another terminal window went to the root directory of the sdk
 _mvn clean install -DskipITs=false -Dmaven.test.failure.ignore=false javadoc:javadoc_

......

[INFO] ------------------------------------------------------------------------
 [INFO] BUILD SUCCESS
 [INFO] ------------------------------------------------------------------------
 [INFO] Total time: 02:00 min
 [INFO] Finished at: 2017-06-13T06:35:34-04:00
 [INFO] Final Memory: 49M/635M
 [INFO] -----------------------------------------------

 

I seen no issues.

 

 

 

Have you followed the above steps ? ;;;","13/Jun/17 9:08 PM;muralisr;[~andrasfe] can you get output from *docker logs orderer.example.com* after starting e2e ?;;;","14/Jun/17 2:40 AM;andrasfe;I'll describe all steps in detail. Using MacBook Pro (Retina, 13-inch, Mid 2014), Mac OS Sierra. I'm behind a corporate firewall, if that makes a difference.

 

Steps as follows:

git clone https://github.com/hyperledger/fabric-sdk-java

cd fabric-sdk-java/

mvn install

cd src/test/fixtures/sdkintegration

//fixed .env file

docker-compose -f docker-compose.yaml up -d

cd ../../../..

mvn -Dtest=End2endIT test

 ;;;","14/Jun/17 2:51 AM;andrasfe;[~muralisr], I uploaded the orderer logs, and also provided the details of how I run the test in my prior comment. Please note that I am not the only one experiencing this issue in our environment. thanks!!;;;","14/Jun/17 2:53 AM;andrasfe;[~rickr], FYI. the details of test described above. Thanks!!;;;","14/Jun/17 3:30 AM;rickr;Please try the steps I outlined.  Download the beta as zip.  Clean up docker images,   remove all docker ps -a, clean  docker images

unzip the beta.

do then the steps outlined.  *Do not change anything.*

 ;;;","14/Jun/17 12:37 PM;pvrbharg;Hi Rich Rine and Murali,

Are you waiting on our customer for anything? Please let us know and this is [bvperepa@us.ibm.com|mailto:bvperepa@us.ibm.com] at customer site. Thanks.;;;","14/Jun/17 10:19 PM;muralisr;[~pvrbharg] We tried the exact steps but couldn't recreate. From the information it sounds like hostname resolution issue at docker level as clearly the orderer appears to be running and should be resolvable at orderer.example.com:7050. 

Given you are on site, would you be able to help look into hostname resolution issues around docker and help ?

 ;;;","14/Jun/17 11:45 PM;pvrbharg;Hi Murali,

 

Yes I would get Rohit to help us checkout the docker container DNS setup. Do you have anything specific that you want us to perform and capture logs for you? Here is URL for Container DNS configuration: [https://docs.docker.com/engine/userguide/networking/default_network/configure-dns/.|https://docs.docker.com/engine/userguide/networking/default_network/configure-dns/]

Get into containers and ping each other by hostname? (however ping may not work if the containers do not have ping packages or support).

Let us know what specific steps we should do if you have in mind. Thanks.;;;","15/Jun/17 2:54 AM;binhn;This looks like environmental related, so I am lower the priority to medium.;;;","15/Jun/17 5:02 AM;pvrbharg;Hi Murali,

 

Rohit tried the ping test and here is the output:

 

peer0.org2.example.com    | 2017-06-14 19:41:20.288 UTC [ConnProducer] NewConnection -> ERRO 40d Failed connecting to orderer:7050 , error: grpc: timed out when dialing

peer0.org2.example.com    | 2017-06-14 19:41:20.288 UTC [deliveryClient] connect -> ERRO 40e Failed obtaining connection: Could not connect to any of the endpoints: [orderer:7050]

 

root@c86290b86108:/opt/gopath/src/github.com/hyperledger/fabric/peer# ping orderer.example.com

PING orderer.example.com (172.29.0.2) 56(84) bytes of data.

64 bytes from orderer.example.com.sdkintegration_default (172.29.0.2): icmp_seq=1 ttl=64 time=0.113 ms

 

root@c86290b86108:/opt/gopath/src/github.com/hyperledger/fabric/peer# ping a6f631cbba80

PING a6f631cbba80 (172.29.0.2) 56(84) bytes of data.

64 bytes from orderer.example.com.sdkintegration_default (172.29.0.2): icmp_seq=1 ttl=64 time=0.185 ms

 

If you notice the failing step - the hostname is not fully qualified hostname. We can not ping orderer host but can orderer.example.com. 

We can identify anything that changed in customer setup scripts. Can you let us know what are next steps?

Also - can you tell how we can set grpc time out to a longer time or 0 (sits for ever) - to isolate the issue - if the problem is timeout or DNS problem?

 

Thanks.

 

 

 ;;;","15/Jun/17 5:26 AM;andrasfe;[~pvrbharg], could be the proxy setting.;;;","15/Jun/17 5:45 PM;muralisr;[~andrasfe] [~pvrbharg] The fact that you have both orderer and orderer.example.com showing up is suspicious.

[~rickr] how does the SDK sample generate the genesis block ... I think there's a discrepancy with the compose file and bootstrap artifacts (in particular, configtx.yaml if that's being used to generate the channel genesis block).;;;","15/Jun/17 9:24 PM;rickr;configtx.yaml   Ah [~muralisr] how does it work on all environments but the one being affected ?;;;","18/Jun/17 1:18 AM;muralisr;[~rickr] I don't know ...was just trying to pull a thread based on the ""orderer"" vs ""orderer.example.com"" in the logs.

[~andrasfe] [~pvrbharg] any further info on this ?;;;","18/Jun/17 1:45 AM;pvrbharg;Dear Rick and Murali,

The last I know we were trying to pull down the beta/alpha2 images and see if we could replicate the issue in our sandbox and lab machine environments. I would help us get a clearer picture on Monday we I go back on site and work with Andras and Rohit. Thanks.;;;","18/Jun/17 1:49 AM;muralisr;[~pvrbharg] If it is allowed at the environment, we could do screen share and try to figure this out together on Monday. Let me know please.;;;","22/Jun/17 12:41 AM;pvrbharg;Hi Murali,

 

Just heard from AMEX team that the hang problem was fixed in alpha2 but not in Beta images.

AMEX is able to replicate the hand using Beta drivers on two of their developer workstations.

As of now - this is a blocking issue for their progress to deliver on their project deadline.

Thanks.;;;","22/Jun/17 12:44 AM;andrasfe;Update: 

It appears that issue is *not yet fixed for 1.0.0-beta*. Just to be sure I'm performing all the right steps, here is what I've done. *Please note that the issue went away for 1.0.0-alpha2.*
{code:java}
docker stop $(docker ps -a -q)
docker rm $(docker ps -a -q)
docker rmi -f $(docker images -a -q)

git clone https://github.com/hyperledger/fabric-sdk-java
cd fabric-sdk-java/src
mvn install

cd ./fabric-sdk-java/src/test/fixture/sdkintegration

// fixed .env to point to beta

// back to src
mvn -Dtest=End2endIT test{code}
behavior as before:

 

 

 

Output of JUnit test:

_....._

_Sending instantiateTransaction to orderer with a and b set to 100 and 200 respectively_

_2017-06-21 15:35:44,443 DEBUG Channel:2150 - Channel foo sending transaction to orderer(s) with TxID 19f5f6ed39c3c6c550abedc46ce17d14f2b21fe3790b9f7decc79af81d9d7bb5_ 

_2017-06-21 15:35:44,444 DEBUG Orderer:122 - Order.sendTransaction name: orderer.example.com, url: grpc://localhost:7050_

_2017-06-21 15:35:44,458 DEBUG OrdererClient:135 - resp status value: 200, resp: SUCCESS_

_2017-06-21 15:35:44,458 DEBUG OrdererClient:173 - Done waiting for reply! Got:status: SUCCESS_

 __ 

_2017-06-21 15:35:44,459 DEBUG Channel:2178 - Channel foo successful sent to Orderer transaction id: 19f5f6ed39c3c6c550abedc46ce17d14f2b21fe3790b9f7decc79af81d9d7bb5_

 ;;;","22/Jun/17 1:01 AM;rickr;It looks to me you're running the latest against the beta which won't work.

the releases can be downloaded here [https://github.com/hyperledger/fabric-sdk-java/releases]

There should be NO NEED to edit anything!;;;","22/Jun/17 1:05 AM;andrasfe;[~rickr], I was running beta against tag x86_64-1.0.0-beta. Will try the release and let you know shortly

 ;;;","22/Jun/17 1:11 AM;rickr;Just to be absolutely  certain running against the beta image .. You should delete all docker images before starting it up and see it freshly pull down the  beta fabric

 ;;;","22/Jun/17 9:03 AM;andrasfe;happy to confirm that issue no longer exists. As far as I'm concerned, you can close this bug.;;;","22/Jun/17 9:05 AM;muralisr;thanks [~andrasfe] . Can you let us know what  the problem was please  (education and helping others) ?;;;",,,,,,,,,,,,,,,,,,,,,,,,,
ensure that CI picks up new tar file created out of this process,FAB-4589,17808,17708,Sub-task,Closed,FAB,Fabric,software,denyeart,,,High,Done,rameshthoomu,ChristopherFerris,ChristopherFerris,13/Jun/17 8:48 AM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,20/Jun/17 5:21 PM,v1.0.0-beta,,,WON'T FIX,,fabric-build,,,,,,,0,build-system,,,,,,,The publishing of the Fabric binaries needs to pick up the tar file created as a result of the parent task.,,ChristopherFerris,rameshthoomu,,,,,,,,,,,,,,,,,,,3600,3600,,0%,3600,3600,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,FAB-4518,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy1h3:",,,,,,,,,,,,,,,1.0,,,,,,,,,,,,ChristopherFerris,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"20/Jun/17 3:39 AM;rameshthoomu;Waiting for this patch (https://gerrit.hyperledger.org/r/#/c/10475/) merge to trigger a fabric-binaries job to publish fabric-binaries and fabric-byfn folder to nexus2. This patch https://gerrit.hyperledger.org/r/#/c/10475/ has to merge before Thursday to trigger CI job to publish binaries to nexus2 

;;;","20/Jun/17 5:21 PM;ChristopherFerris;[~rameshthoomu] I have abandoned that CR in favor of setting up the fabric-samples repo with the various samples. Hence, I don't think that we need to worry about creating a tarfile for the sample code any longer as the process will be to simply clone the fabric-samples repo.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fabric Tool (or Peer) fails to instantiate chaincode containing external package,FAB-4590,17809,,Bug,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,greg.haskins,rhegde,rhegde,13/Jun/17 9:01 AM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,15/Jun/17 4:15 AM,v1.0.0-beta,,,v1.0.0,,fabric-tools,,,,,,,0,,,,,,,,"# Our chaincode refers to the external package not part of the cc-env package.
 # Chaincode installation is success using the Peer CLI/fabric-tool approach however chaincode instantiation fails.

Note - this used to pass on the alpha-release (19th May Build) and fails on the Beta-Release.

 Added logs indicating what is part of the installation (deployment payload).

 Impact: Currently our fabric-network is bootstrapped using Peer CLI approach, this means even the Upgrade of Chaincode will fail.

This can be reproduced by modifying the chaincode02 example as below:

 
{quote}diff --git a/examples/chaincode/go/chaincode_example02/chaincode_example02.go b/examples/chaincode/go/chaincode_example02/chaincode_example02.go
 index 5343806..94bf24e 100644
 — a/examples/chaincode/go/chaincode_example02/chaincode_example02.go
 +++ b/examples/chaincode/go/chaincode_example02/chaincode_example02.go
 @@ -26,6 +26,7 @@ import (
         ""fmt""
         ""strconv""
  
 +        ""github.com/shopspring/decimal""
         ""github.com/hyperledger/fabric/core/chaincode/shim""
         pb ""github.com/hyperledger/fabric/protos/peer""
  )
 @@ -68,6 +69,11 @@ func (t *SimpleChaincode) Init(stub shim.ChaincodeStubInterface) pb.Response \{
         if err != nil \{
                 return shim.Error(err.Error())
         }
 +       
 +       n, err := decimal.NewFromString(""1.2345678912345678e+100"")
 +       if err == nil \{
 +               fmt.Println(""value:"", n, "" Exponent: "", n.Exponent(), "" sign: "", n.Sign())
 +       }
  
         return shim.Success(nil)
  }
{quote}
 

 
{quote}— a/examples/e2e_cli/docker-compose-cli.yaml
 +++ b/examples/e2e_cli/docker-compose-cli.yaml
 @@ -57,6 +57,7 @@ services:
      command: /bin/bash -c './scripts/script.sh $\{CHANNEL_NAME}; sleep $TIMEOUT'
      volumes:
          - /var/run/:/host/var/run/
 +        - ../../../../shopspring/decimal/:/opt/gopath/src/github.com/shopspring/decimal/
          - ../chaincode/go/:/opt/gopath/src/github.com/hyperledger/fabric/examples/chaincode/go
          - ./crypto-config:/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/

 


Here is the proposed/potential fix for review:

{{developer@rahul-Inspiron-3442:~/workspace/playtime/go-workspace/src/github.com/hyperledger/fabric$ git diff core/chaincode/platforms/golang/platform.go}}
{{diff --git a/core/chaincode/platforms/golang/platform.go b/core/chaincode/platforms/golang/platform.go}}
{{index cbe905f..eb2107e 100644}}
{{--- a/core/chaincode/platforms/golang/platform.go}}
{{+++ b/core/chaincode/platforms/golang/platform.go}}
{{@@ -244,6 +244,8 @@ func (goPlatform *Platform) GetDeploymentPayload(spec *pb.ChaincodeSpec) ([]byte}}
{{ deps := make(map[string]bool)}}

{{ for _, pkg := range imports \{}}
{{+ deps[pkg] = true}}
{{+}}
{{ _deps, err := listDeps(env, pkg)}}
{{ if err != nil \{}}
{{ return nil, fmt.Errorf(""Error obtaining dependencies for %s: %s"", pkg, err)}}
{quote}",,greg.haskins,mastersingh24,muralisr,rhegde,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-4819,,,,,,,,,,,,,,,"13/Jun/17 9:07 AM;rhegde;install.trail.txt;https://jira.hyperledger.org/secure/attachment/11027/install.trail.txt",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy1hb:",,,,,,,,,,,,,,,,,,,,,,,,,,,greg.haskins,mastersingh24,muralisr,rhegde,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"13/Jun/17 5:55 PM;mastersingh24;[~rhegde] - You need to vendor any external dependencies with your chaincode.  You can use govendor to accomplish this;;;","13/Jun/17 7:18 PM;rhegde;[~mastersingh24]

I did the following but that didn't work, am I missing something? 

1. cd to chaincode folder

2. ` govendor init `

3. ` govendor add +external `;;;","13/Jun/17 9:05 PM;muralisr;[~rhegde] vendoring should have worked. Will try and update.;;;","13/Jun/17 10:54 PM;mastersingh24;[~muralisr] Vendoring is not working actually.  Something very odd here.;;;","14/Jun/17 12:07 AM;greg.haskins;Vendoring should technically no longer be necessary if you use the CLI to package the deployment (SDKs still haven't caught up).  IIUC there is some kind of bug in the auto-vendoring logic (CR 6991);;;","14/Jun/17 12:22 AM;muralisr;[~greg.haskins] is that because the CLI env will pick up the external dependency and vendor automatically into the install package ?;;;","14/Jun/17 1:13 AM;muralisr;Moving JIRA to [~greg.haskins]

 ;;;","14/Jun/17 4:34 AM;greg.haskins;Fix submitted: https://gerrit.hyperledger.org/r/#/c/10539/;;;","14/Jun/17 4:35 AM;greg.haskins;[~muralisr] it's supposed to (as of CR 6991) but this was a bug in that CR.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fix log message formatting,FAB-4591,17811,,Bug,Closed,FAB,Fabric,software,denyeart,,,Low,Done,yuki-kon,yuki-kon,yuki-kon,13/Jun/17 9:18 AM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,13/Jun/17 8:02 PM,v1.0.0-beta,,,v1.0.0,,fabric-peer,,,,,,,0,,,,,,,,"Log formatting is not correct in some codes.
There are log messages with format designator called by ""Debug"", ""Warning"" or ""Info"".
These logging messages should be called by ""Debugf"", ""Warningf"" or ""Infof"".",fabric: commit 9fd3d2dd133724157cd7e35ffd5c82fe52854b6f,yuki-kon,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy1hj:",,,,,,,,,,,,,,,,,,,,,,,,,,,yuki-kon,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"13/Jun/17 11:04 AM;yuki-kon;Posted here: https://gerrit.hyperledger.org/r/#/c/10509/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Error: Error sending transaction invoke: Got unexpected status: NOT_FOUND,FAB-4593,17813,,Bug,Closed,FAB,Fabric,software,denyeart,,,Lowest,Done,kchristidis,zhaochong,zhaochong,13/Jun/17 11:40 AM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,13/Jun/17 3:51 PM,v1.0.0-alpha1,,,WON'T FIX,,fabric-orderer,,,,,,,0,,,,,,,,"1、Ubuntu 16.04, install go, install docker, install nodejs
2、clone fabric, checkout v1.0.0-alpha, make native
3、start 3 terminal:
first one, start orderer:
{code:java}
$ orderer{code}
second one:
{code:java}
$ peer node start{code}
thrid one:
{code:java}
$ peer channel create -o 127.0.0.1:7050 -c ch1
$ peer channel join -b ch1.block
$ peer chaincode install -n mycc -v 0 -p
github.com/hyperledger/fabric/examples/chaincode/go/chaincode_example02
$ peer chaincode instantiate -n mycc -v 0 -c
'{""Args"":[""init"",""a"",""100"",""b"",""200""]}' -o 127.0.0.1:7050 -C ch1
$ peer chaincode invoke -n mycc -c '{""Args"":[""invoke"",""a"",""b"",""10""]}' -o
127.0.0.1:7050 -C ch1
$ peer chaincode query -n mycc -c '{""Args"":[""query"",""a""]}' -o 127.0.0.1:7050
-C ch1{code}
then, restart orderer in the first terminal, restart peer in the second terminal.
And in the third terminal:
{code:java}
$ peer chaincode invoke -n mycc -c '{""Args"":[""invoke"",""a"",""b"",""10""]}' -o
127.0.0.1:7050 -C ch1{code}
gives error:
{code:java}
Error: Error sending transaction invoke: Got unexpected status: NOT_FOUND{code}
 [^orderer-before-restart.log]
 [^orderer-after-restart.log]",,kchristidis,zhaochong,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"13/Jun/17 11:37 AM;zhaochong;orderer-after-restart.log;https://jira.hyperledger.org/secure/attachment/11028/orderer-after-restart.log","13/Jun/17 11:37 AM;zhaochong;orderer-before-restart.log;https://jira.hyperledger.org/secure/attachment/11029/orderer-before-restart.log","13/Jun/17 3:10 PM;zhaochong;orderer.yaml;https://jira.hyperledger.org/secure/attachment/11030/orderer.yaml",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy1hz:",,,,,,,,,,,,,,,,,,,,,,,,,,,kchristidis,zhaochong,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"13/Jun/17 3:02 PM;kchristidis;Can you attach your `orderer.yaml`?

Fairly certain what's going on here but I'd like to be certain.

Also, is there any reason you're still on alpha-1, and not on the latest version?;;;","13/Jun/17 3:11 PM;zhaochong;Here is the `orderer.yaml` file:

[^orderer.yaml] 

We used the fabric-v1.0.0-beta, but there were other issues as well;;;","13/Jun/17 3:23 PM;kchristidis;Can you be a bit more specific? What kind of issues?;;;","13/Jun/17 3:30 PM;zhaochong;Okay, when we start orderer, we have the following error：

 

 
{code:java}
2017-06-13 14:25:41.587 CST [msp] getMspConfig -> INFO 001 intermediate certs folder not found at [/home/baoquan/go/src/github.com/hyperledger/fabric/sampleconfig/msp/intermediatecerts]. Skipping.: [stat /home/baoquan/go/src/github.com/hyperledger/fabric/sampleconfig/msp/intermediatecerts: no such file or directory]
2017-06-13 14:25:41.587 CST [msp] getMspConfig -> INFO 002 crls folder not found at [/home/baoquan/go/src/github.com/hyperledger/fabric/sampleconfig/msp/intermediatecerts]. Skipping.: [stat /home/baoquan/go/src/github.com/hyperledger/fabric/sampleconfig/msp/crls: no such file or directory]{code}
 ;;;","13/Jun/17 3:50 PM;kchristidis;As I suspected, this is the problem right here:

 
{noformat}
FileLedger:
# Location: The directory to store the blocks in.
 # NOTE: If this is unset, a temporary location will be chosen using
 # the prefix specified by Prefix.
 Location:
{noformat}
 

You are leaving this field empty so a new _temporary_ location is chosen every time you start the ordering service.

Notice how you end up with a different folder in `/tmp` in your two runs.

Set that file to a directory in your system, restart the orderer, and everything should work fine.;;;","13/Jun/17 3:51 PM;kchristidis;Closing this but feel free to re-open if I missed something.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Cannot install chaincode via CLI (fabric v1.0 beta),FAB-4594,17814,,Bug,Closed,FAB,Fabric,software,denyeart,,,Low,Done,jsong1230,jsong1230,jsong1230,13/Jun/17 6:18 PM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,20/Jun/17 3:23 PM,v1.0.0-beta,,,v1.0.0,,fabric-docs,,,,,,,0,,,,,,,,"Although I created and joined the channel, I could not install test chaincode via CLI. It was successful when I am using Alpha2.

I have the following error message at CLI:

 
root@18599095828d:/opt/gopath/src/[github.com/hyperledger/fabric/peer#|http://github.com/hyperledger/fabric/peer] peer chaincode install -n mycc -v 1.0 -p [github.com/hyperledger/fabric/examples/chaincode/go/chaincode_example02|http://github.com/hyperledger/fabric/examples/chaincode/go/chaincode_example02]
[2017-06-13|http://airmail.calendar/2017-06-13%2012:00:00%20GMT+9] [08:09:17.401 UTC|http://airmail.calendar/2017-06-13%2017:09:17%20GMT+9] [msp] getMspConfig -> INFO 001 intermediate certs folder not found at [/[opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com|mailto:opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com]/msp/intermediatecerts]. Skipping.: [stat /[opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com|mailto:opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com]/msp/intermediatecerts: no such file or directory]
[2017-06-13|http://airmail.calendar/2017-06-13%2012:00:00%20GMT+9] [08:09:17.401 UTC|http://airmail.calendar/2017-06-13%2017:09:17%20GMT+9] [msp] getMspConfig -> INFO 002 crls folder not found at [/[opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com|mailto:opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com]/msp/intermediatecerts]. Skipping.: [stat /[opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com|mailto:opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com]/msp/crls: no such file or directory]
[2017-06-13|http://airmail.calendar/2017-06-13%2012:00:00%20GMT+9] [08:09:17.401 UTC|http://airmail.calendar/2017-06-13%2017:09:17%20GMT+9] [msp] getMspConfig -> INFO 003 MSP configuration file not found at [/[opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com|mailto:opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com]/msp/config.yaml]: [stat /[opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com|mailto:opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com]/msp/config.yaml: no such file or directory]
[2017-06-13|http://airmail.calendar/2017-06-13%2012:00:00%20GMT+9] [08:09:17.424 UTC|http://airmail.calendar/2017-06-13%2017:09:17%20GMT+9] [msp] GetLocalMSP -> DEBU 004 Returning existing local MSP
[2017-06-13|http://airmail.calendar/2017-06-13%2012:00:00%20GMT+9] [08:09:17.424 UTC|http://airmail.calendar/2017-06-13%2017:09:17%20GMT+9] [msp] GetDefaultSigningIdentity -> DEBU 005 Obtaining default signing identity
[2017-06-13|http://airmail.calendar/2017-06-13%2012:00:00%20GMT+9] [08:09:17.425 UTC|http://airmail.calendar/2017-06-13%2017:09:17%20GMT+9] [golang-platform] getCodeFromFS -> DEBU 006 getCodeFromFS [github.com/hyperledger/fabric/examples/chaincode/go/chaincode_example02|http://github.com/hyperledger/fabric/examples/chaincode/go/chaincode_example02]
Error: Error getting chaincode code chaincode: Error getting chaincode package bytes: Error obtaining imports: go list: failed with error: ""exec: not started""
 
Usage:
  peer chaincode install [flags]
 
Global Flags:
      --cafile string              Path to file containing PEM-encoded trusted certificate(s) for the ordering endpoint
  -C, --chainID string             The chain on which this command should be executed (default ""testchainid"")
  -c, --ctor string                Constructor message for the chaincode in JSON format (default ""\{}"")
  -E, --escc string                The name of the endorsement system chaincode to be used for this chaincode
  -l, --lang string                Language the chaincode is written in (default ""golang"")
      --logging-level string       Default logging level and overrides, see core.yaml for full syntax
  -n, --name string                Name of the chaincode
  -o, --orderer string             Ordering service endpoint
  -p, --path string                Path to chaincode
  -P, --policy string              The endorsement policy associated to this chaincode
      --test.coverprofile string   Done (default ""coverage.cov"")
  -t, --tid string                 Name of a custom ID generation algorithm (hashing and decoding) e.g. sha256base64
      --tls                        Use TLS when communicating with the orderer endpoint
  -u, --username string            Username for chaincode operations when security is enabled
  -v, --version string             Version of the chaincode specified in install/instantiate/upgrade commands
  -V, --vscc string                The name of the verification system chaincode to be used for this chaincode
 
root@18599095828d:/opt/gopath/src/[github.com/hyperledger/fabric/peer#|http://github.com/hyperledger/fabric/peer]
 
Thanks.",,ChristopherFerris,jsong1230,markparz,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy1i7:",,,,,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,jsong1230,markparz,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"15/Jun/17 8:52 PM;mastersingh24;[~jsong1230] - the issue is that you can no longer use the peer container as the CLI.  You should use the fabric-tools container instead.
Please note the change in the e2e compose file here:   https://github.com/hyperledger/fabric/blob/master/examples/e2e_cli/docker-compose-cli.yaml#L42

Please try the fabric-tools image and things should work

FYI - the error is due to the fact that the Go compiler is no included in the fabric-peer image and it is now required when using the CLI to package chaincode;;;","15/Jun/17 9:04 PM;mastersingh24;[~markparz] [~nickgaski]  Is there something we can do in the docs to update people on the fact that we changed to using the fabric-tools and that using the peer CLI for installing chaincode now requires the Go compiler to be accessible on the system;;;","15/Jun/17 10:15 PM;markparz;[~mastersingh24] Yea, I think we have a few options... We could note in these:

Troubleshooting, S.O. .... [~nickgaski] and I can talk about it some more, he'll have good ideas.;;;","16/Jun/17 4:27 AM;Clayton Sims;not a code debug.....moving to doc.;;;","16/Jun/17 5:52 AM;markparz;This is good stuff... I added an update in stack overflow at : [https://stackoverflow.com/questions/44576816/can-not-install-chaincode-via-cli/44576819#44576819]

reducing priority to low since it's doc'ed now.;;;","16/Jun/17 6:01 AM;markparz;[~jsong1230] [~nickgaski] is working on a couchDB issue in https://jira.hyperledger.org/browse/FAB-3464 plus a merge conflict, if you are ok with it, I'm hoping he can add this in there at the same time.;;;","20/Jun/17 3:24 PM;ChristopherFerris;closing this as the CR for FAB-3464 includes the guidance on use of fabric-tools container image.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Unable to do query on a deployed chaincode,FAB-4595,17817,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,anshul201,anshul201,13/Jun/17 8:48 PM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,16/Jun/17 4:10 AM,v0.6,,,WON'T FIX,,fabric-build,,,,,,,0,,,,,,,,"I am trying to deploy chaincode using the guide [http://hyperledger-fabric.readthedocs.io/en/latest/Setup/Chaincode-setup.html#vagrant] with Docker for mac option. I have followed all the steps. I do not get ""Received REGISTERED, ready for invocations "" message after following command 

CORE_CHAINCODE_ID_NAME=mycc CORE_PEER_ADDRESS=0.0.0.0:7051 ./chaincode_example02

Rather I receive 

2017-06-13 16:29:33.494 IST [shim] SetupChaincodeLogging -> INFO 001 Chaincode log level not provided; defaulting to: INFO

2017-06-13 16:29:33.495 IST [shim] SetupChaincodeLogging -> INFO 002 Chaincode (build level: ) starting up ...

 

When I proceed further using rest API, I get deploy and invoke success messages. The request and response are as follows: 

POST: localhost:7050/registrar

\{
 ""enrollId"": ""jim"",
 ""enrollSecret"": ""6avZQLwcUe9b""
}

Response: \{
 ""OK"": ""Login successful for user 'jim'.""
}

POST: localhost:7050/chaincode

\{ ""jsonrpc"": ""2.0"",
""method"": ""deploy"",
""params"": \{ ""type"": 1,

""chaincodeID"":\{ ""path"":""github.com/hyperledger/fabric/examples/chaincode/go/chaincode_example02"",
""name"":""mycc"" }, 
""ctorMsg"": \{ ""args"":[""init"", ""a"", ""100"",""b"",""200""] },
""secureContext"": ""jim""
}, ""id"": 1 }

Response: 

\{
 ""jsonrpc"": ""2.0"",
 ""result"": \{
 ""status"": ""OK"",
 ""message"": ""mycc""
 },
 ""id"": 1
}

POST: localhost:7050/chaincode

\{
 ""jsonrpc"": ""2.0"",
 ""method"": ""invoke"",
 ""params"": \{
 ""type"": 1,
 ""chaincodeID"":\{
 ""name"":""mycc""
 },
 ""ctorMsg"": \{
 ""args"":[""invoke"",""a"", ""b"", ""10""]
 },
 ""secureContext"": ""jim""
 },
 ""id"": 3
}

Response: 

\{
 ""jsonrpc"": ""2.0"",
 ""result"": \{
 ""status"": ""OK"",
 ""message"": ""733b0959-5e68-4447-a0bf-c4e0ffc04749""
 },
 ""id"": 3
}

POST: localhost:7050/chaincode

\{
 ""jsonrpc"": ""2.0"",
 ""method"": ""query"",
 ""params"": \{
 ""type"": 1,
 ""chaincodeID"":\{
 ""name"":""mycc""
 },
 ""ctorMsg"": \{
 ""args"":[""query"", ""a""]
 },
 ""secureContext"": ""jim""
 },
 ""id"": 5
}

Response: 

\{
 ""jsonrpc"": ""2.0"",
 ""error"": \{
 ""code"": -32003,
 ""message"": ""Query failure"",
 ""data"": ""Error when querying chaincode: Error:Failed to launch chaincode spec(Could not get deployment transaction for mycc - LedgerError - ResourceNotFound: ledger: resource not found)""
 },
 ""id"": 5
}",Docker for Mac,anshul201,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy1if:",,,,,,,,,,,,,,,,,,,,,,,,,,,anshul201,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"15/Jun/17 10:54 PM;mastersingh24;[~anshul201] - seems like you are using fabric v0.6?;;;","16/Jun/17 4:10 AM;mastersingh24;marking as WON'T FIX as this is related to v0.6.

Please move to the latest 1.0.0-beta release.  You can follow the instructions here:  http://hyperledger-fabric.readthedocs.io/en/latest/getting_started.html;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
remove unwanted flags from docker-compose files,FAB-4597,17820,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,Ratnakar,Ratnakar,Ratnakar,13/Jun/17 10:40 PM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,20/Jun/17 8:43 PM,v1.0.0-beta,,,v1.0.0-rc1,,fabric-samples,,,,,,,0,quality,Usability,,,,,,"*CORE_PEER_ENDORSER_ENABLED* & *CORE_PEER_COMMITTER_LEDGER_ORDERER* are no more available. however these configurations are used  in few samples, tools and bdd tests. 

With this task the flags will be cleaned up.",,Ratnakar,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy1iv:",,,,,,,,,,,,,,,,,,,,,,,,,,,Ratnakar,scottz,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"14/Jun/17 8:39 AM;scottz;https://gerrit.hyperledger.org/r/#/c/10527/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Create a project (or sub of fabric) to use ansible to build, config, deploy and test fabric components on multiple nodes",FAB-4598,17821,,Story,Closed,FAB,Fabric,software,denyeart,,,High,Done,tongliofcary,tongliofcary,tongliofcary,13/Jun/17 10:49 PM,21/Jul/18 3:55 AM,28/Oct/23 3:00 AM,01/Aug/17 12:08 AM,,,,,,fabric-build,,,,,,,0,,,,,,,,"Currently at dev environment or CI environment, fabric network is always an all-in-one network, all components run on one node which is not how real fabric network will be in production. This project will develop a set of ansible scripts to allow one easily build, deploy, test fabric on multiple nodes. All the following items will be dynamic:
 # Number of nodes (servers) which fabric will run on, either provisioned from a cloud or existing nodes.
 # Number of organizations.
 # Number of each component such as peers, orderers.
 # Number of kafka nodes participating in one kafka cluster.

Here is the flow of the script:
 # Provisioning virtual nodes from a cloud if desired (can be skipped if using existing node)
 # Initialize all the nodes with installation of all required libraries and software
 # Configure overlay network flannel to ensure containers can communicate with each other on different node
 # Configure hostnames
 # Build fabric binaries and images
 # Generate various keys, certificates
 # Deploy containers onto each node according to the configuration
 # Run various tests",,jasondotstar,tongliofcary,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-4450,,,,,,,,,,"1|hzy1j3:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,jasondotstar,tongliofcary,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"01/Aug/17 12:08 AM;tongliofcary;Fabric-deploy project has been created, please see the link to the project [https://github.com/litong01/fabric-deploy]

Currently plan is to merge the project onto cello. See the patch set for that effort. [https://gerrit.hyperledger.org/r/#/c/12059/]

This should be marked as closed.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Improve summary on introduction page,FAB-4599,17822,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,markparz,markparz,markparz,13/Jun/17 11:01 PM,21/Jul/18 3:56 AM,28/Oct/23 3:00 AM,14/Sep/17 2:26 AM,,,,,,fabric-docs,,,,,,,0,Documentation,,,,,,,change the introductory paragraph to be a bit more descriptive on the introduction page.,,markparz,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzy1jb:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,markparz,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"13/Jun/17 11:25 PM;markparz;Pushed here: https://gerrit.hyperledger.org/r/#/c/10523/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"when fabric and fabric-ca are not under hyperledger folder, make should detect the pre-requirements are missing and failed the build ",FAB-4600,17825,,Story,Closed,FAB,Fabric,software,denyeart,,,Low,Won't Do,,SandySun2000,SandySun2000,13/Jun/17 11:14 PM,23/Jan/20 6:50 AM,28/Oct/23 3:00 AM,23/Jan/20 6:50 AM,v1.0.0-beta,,,Future,,fabric-build,,,,,,,0,stale-item,,,,,,,"I was trying to set up my fabric-sdk-java environment on a fresh Linux ubuntu system. I cloned fabric and fabric-ca directly under github.com. When I was trying to install and run JAVA-SDK end to end testing, I got the following error:
 * 
generate platform-specific docker build: Error returned from build: 2 ""# [github.com/example_cc|http://github.com/example_cc]
chaincode/input/src/[github.com/example_cc/example_cc.go:67|http://github.com/example_cc/example_cc.go:67]: stub.GetTransient undefined (type shim.ChaincodeStubInterface has no field or method GetTransient)
chaincode/input/src/[github.com/example_cc/example_cc.go:159|http://github.com/example_cc/example_cc.go:159]: stub.GetTransient undefined (type shim.ChaincodeStubInterface has no field or method GetTransient)
"", cause=null}
java.lang.Exception: io.grpc.StatusRuntimeException: UNKNOWN: Error starting container: Failed to generate platform-specific docker build: Error returned from build: 2 ""# [github.com/example_cc|http://github.com/example_cc]
chaincode/input/src/[github.com/example_cc/example_cc.go:67|http://github.com/example_cc/example_cc.go:67]: stub.GetTransient undefined (type shim.ChaincodeStubInterface has no field or method GetTransient)
chaincode/input/src/[github.com/example_cc/example_cc.go:159|http://github.com/example_cc/example_cc.go:159]: stub.GetTransient undefined (type shim.ChaincodeStubInterface has no field or method GetTransient)
""
at [org.hyperledger.fabric.sdk.Channel.sendProposalToPeers|http://org.hyperledger.fabric.sdk.channel.sendproposaltopeers/](Channel.java:2136)
at [org.hyperledger.fabric.sdk.Channel.sendInstantiationProposal|http://org.hyperledger.fabric.sdk.channel.sendinstantiationproposal/](Channel.java:1257)
at org.hyperledger.fabric.sdkintegration.End2endIT.runChannel([End2endIT.java:326|http://end2endit.java:326/])
at org.hyperledger.fabric.sdkintegration.End2endIT.setup([End2endIT.java:195|http://end2endit.java:195/])
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
at sun.reflect.NativeMethodAccessorImpl.invoke([NativeMethodAccessorImpl.java:62|http://nativemethodaccessorimpl.java:62/])
at sun.reflect.DelegatingMethodAccessorImpl.invoke([DelegatingMethodAccessorImpl.java:43|http://delegatingmethodaccessorimpl.java:43/])
at java.lang.reflect.Method.invoke([Method.java:498|http://method.java:498/])
at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall([FrameworkMethod.java:50|http://frameworkmethod.java:50/])
at [org.junit.internal.runners.model.ReflectiveCallable.run|http://org.junit.internal.runners.model.reflectivecallable.run/](ReflectiveCallable.java:12)
 * 
the other problem I saw it complains about stub.GetTransientIt looks like the mismatch between the chaincode API and the chaincode library.          After I correct my directories structure. I was successfully installed and run the end to end test for SDK-JAVA.                                                                                                    To prevent the similar issue by the other users. It will be good that the make should pre-require ""github.com/hyperledger/fabric"" and  ""github.com/hyperledger/fabric-ca"".",,rickr,SandySun2000,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzy1jz:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,rickr,SandySun2000,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"13/Jun/17 11:31 PM;rickr;This really isn't part of java sdk building the fabric.  fabric make should have failed rather than complete successfully and have docker images that are not usable.;;;","23/Jan/20 6:50 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Parallelize implicit policy evaluation,FAB-4601,17826,,Story,Closed,FAB,Fabric,software,denyeart,,,Low,Won't Do,,jyellick,jyellick,13/Jun/17 11:36 PM,23/Jan/20 6:50 AM,28/Oct/23 3:00 AM,23/Jan/20 6:50 AM,v1.0.0,,,,,fabric-orderer,,,,,,,0,performance,stale-item,,,,,,"The orderer checks the Writers policy for each incoming transaction, in general, this requires recursing through multiple policies, to attempt to find one which is satisfied.  This is done in a serial way and is likely slowing us down.  It would be a relatively trivial fix to parallelize this process.",,jyellick,kchristidis,sykesm,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzy1k7:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,jyellick,kchristidis,sykesm,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"12/Jul/17 11:24 AM;jyellick;This has been implemented, but not pushing for the moment.  Want to do some performance testing to verify the additional complexity and mangling of the logs is justified by the improved performance.;;;","14/Aug/17 2:47 AM;jyellick;Because of pending changes to the MSP interface, integrating this work into v1.1 is likely to simply cause more problems down the line.  Moving to the backlog.;;;","08/Mar/18 12:24 AM;kchristidis;Where do we stand on this w/r/t those MSP changes?

Put differently, do you see this as a 1.2 item, or backlog for now?;;;","23/Jan/20 6:50 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Artifact fabric-sdk-node debug.log,FAB-4602,17828,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,rameshthoomu,rameshthoomu,13/Jun/17 11:54 PM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,15/Jun/17 12:28 AM,v1.0.0,,,v1.0.0,,fabric-build,,,,,,,0,build-system,,,,,,,Copy debug.log file from /tmp directory to Jenkins WORKSPACE directory to artificat fabric-sdk-node debug.log file after completion of the test.,,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy1kn:",,,,,,,,,,,,,,,,,,,,,,,,,,,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"15/Jun/17 12:28 AM;rameshthoomu;patch set has been submitted and merged.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Set multiple events per Chaincode invocation,FAB-4603,17829,,Story,Closed,FAB,Fabric,software,denyeart,,,High,Won't Do,,philT,philT,13/Jun/17 11:54 PM,23/Jan/20 6:50 AM,28/Oct/23 3:00 AM,23/Jan/20 6:50 AM,,,,,,fabric-peer,,,,,,,1,chaincode,stale-item,,,,,,"The current situation in the method shim.SetEvent()
[https://github.com/hyperledger/fabric/blob/master/core/chaincode/shim/chaincode.go#L710]

does not allow me to submit more then one event per Chaincode invocation.

 

Please extend to allow multiple events per Chaincode invocation, which will not be overridden.

 ",,binhn,DannyWong,philT,sykesm,,,,,,,,,,,,,,,,,28800,28800,,0%,28800,28800,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzy1kv:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,binhn,DannyWong,philT,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"15/Jun/17 2:48 AM;binhn;[~philT] I consider this as an improvement request, so I changed the type accordingly;;;","23/Jan/20 6:50 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Individual concept icons,FAB-4604,17830,17261,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,joe-alewine,SarahMills,SarahMills,14/Jun/17 12:00 AM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,10/Feb/18 1:33 AM,,,,,,,,,,,,,0,,,,,,,,"The component icons that make up the larger graphics.

Image inventory: https://docs.google.com/spreadsheets/d/1-kGOuaOW73-U4ufojDKbYnZ0bN9xoZhXA1hb-mgWMvA/edit?usp=sharing

Attached are 2 file types—we recommend using the svg files for presentations or to modify as they are vector files.",,habpy,odowdaibm,SarahMills,seanbarclay,tkuhrt,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"24/Jun/17 2:57 AM;SarahMills;application-dev-identity.png;https://jira.hyperledger.org/secure/attachment/11329/application-dev-identity.png","24/Jun/17 2:57 AM;SarahMills;application-dev-identity.svg;https://jira.hyperledger.org/secure/attachment/11330/application-dev-identity.svg","24/Jun/17 2:57 AM;SarahMills;application-developer.png;https://jira.hyperledger.org/secure/attachment/11331/application-developer.png","24/Jun/17 2:57 AM;SarahMills;application-developer.svg;https://jira.hyperledger.org/secure/attachment/11332/application-developer.svg","24/Jun/17 2:57 AM;SarahMills;application.png;https://jira.hyperledger.org/secure/attachment/11333/application.png","24/Jun/17 2:57 AM;SarahMills;application.svg;https://jira.hyperledger.org/secure/attachment/11334/application.svg","24/Jun/17 2:57 AM;SarahMills;bank.png;https://jira.hyperledger.org/secure/attachment/11335/bank.png","24/Jun/17 2:57 AM;SarahMills;bank.svg;https://jira.hyperledger.org/secure/attachment/11336/bank.svg","24/Jun/17 2:57 AM;SarahMills;block.png;https://jira.hyperledger.org/secure/attachment/11337/block.png","24/Jun/17 2:57 AM;SarahMills;block.svg;https://jira.hyperledger.org/secure/attachment/11338/block.svg","24/Jun/17 2:57 AM;SarahMills;car.png;https://jira.hyperledger.org/secure/attachment/11339/car.png","24/Jun/17 2:57 AM;SarahMills;car.svg;https://jira.hyperledger.org/secure/attachment/11340/car.svg","24/Jun/17 2:57 AM;SarahMills;certificate.png;https://jira.hyperledger.org/secure/attachment/11341/certificate.png","24/Jun/17 2:57 AM;SarahMills;certificate.svg;https://jira.hyperledger.org/secure/attachment/11342/certificate.svg","20/Jun/17 1:13 AM;tkuhrt;hyperledger-slide-pallette.png;https://jira.hyperledger.org/secure/attachment/11201/hyperledger-slide-pallette.png","24/Jun/17 2:57 AM;SarahMills;ledger.png;https://jira.hyperledger.org/secure/attachment/11345/ledger.png","24/Jun/17 2:57 AM;SarahMills;ledger.svg;https://jira.hyperledger.org/secure/attachment/11346/ledger.svg","24/Jun/17 2:57 AM;SarahMills;lock-privacy.png;https://jira.hyperledger.org/secure/attachment/11347/lock-privacy.png","24/Jun/17 2:57 AM;SarahMills;lock-privacy.svg;https://jira.hyperledger.org/secure/attachment/11348/lock-privacy.svg","24/Jun/17 2:57 AM;SarahMills;orderer.png;https://jira.hyperledger.org/secure/attachment/11349/orderer.png","24/Jun/17 2:57 AM;SarahMills;orderer.svg;https://jira.hyperledger.org/secure/attachment/11350/orderer.svg","24/Jun/17 2:57 AM;SarahMills;participant-organization_1.png;https://jira.hyperledger.org/secure/attachment/11351/participant-organization_1.png","24/Jun/17 2:57 AM;SarahMills;participant-organization_1.svg;https://jira.hyperledger.org/secure/attachment/11352/participant-organization_1.svg","24/Jun/17 2:57 AM;SarahMills;participant-organization_2.png;https://jira.hyperledger.org/secure/attachment/11353/participant-organization_2.png","24/Jun/17 2:57 AM;SarahMills;participant-organization_2.svg;https://jira.hyperledger.org/secure/attachment/11354/participant-organization_2.svg","24/Jun/17 2:57 AM;SarahMills;peer.png;https://jira.hyperledger.org/secure/attachment/11355/peer.png","24/Jun/17 2:57 AM;SarahMills;peer.svg;https://jira.hyperledger.org/secure/attachment/11356/peer.svg","24/Jun/17 2:57 AM;SarahMills;smart-contract.png;https://jira.hyperledger.org/secure/attachment/11357/smart-contract.png","24/Jun/17 2:57 AM;SarahMills;smart-contract.svg;https://jira.hyperledger.org/secure/attachment/11358/smart-contract.svg","24/Jun/17 2:57 AM;SarahMills;traditional ledger.png;https://jira.hyperledger.org/secure/attachment/11359/traditional+ledger.png","24/Jun/17 2:57 AM;SarahMills;traditional ledger.svg;https://jira.hyperledger.org/secure/attachment/11360/traditional+ledger.svg","24/Jun/17 2:57 AM;SarahMills;transaction-proposal.png;https://jira.hyperledger.org/secure/attachment/11361/transaction-proposal.png","24/Jun/17 2:57 AM;SarahMills;transaction-proposal.svg;https://jira.hyperledger.org/secure/attachment/11362/transaction-proposal.svg","24/Jun/17 2:57 AM;SarahMills;transaction.png;https://jira.hyperledger.org/secure/attachment/11363/transaction.png","24/Jun/17 2:57 AM;SarahMills;transaction.svg;https://jira.hyperledger.org/secure/attachment/11364/transaction.svg","24/Jun/17 2:57 AM;SarahMills;truck.png;https://jira.hyperledger.org/secure/attachment/11365/truck.png","24/Jun/17 2:57 AM;SarahMills;truck.svg;https://jira.hyperledger.org/secure/attachment/11366/truck.svg","24/Jun/17 2:57 AM;SarahMills;unlock-access.png;https://jira.hyperledger.org/secure/attachment/11367/unlock-access.png","24/Jun/17 2:57 AM;SarahMills;unlock-access.svg;https://jira.hyperledger.org/secure/attachment/11368/unlock-access.svg","24/Jun/17 2:57 AM;SarahMills;wallet.png;https://jira.hyperledger.org/secure/attachment/11369/wallet.png","24/Jun/17 2:57 AM;SarahMills;wallet.svg;https://jira.hyperledger.org/secure/attachment/11370/wallet.svg",,,,,,,,,,,,,,,,,,,"1|hzy1l3:",,,,,,,,,,,,,,,,,,,,,,,,,,,habpy,odowdaibm,SarahMills,seanbarclay,tkuhrt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"17/Jun/17 1:46 AM;tkuhrt;The SDK icon looks more like a settings icon.  Here are a few alternatives that might be interesting to pull pieces from:
 * [https://imagga-com-assets.azureedge.net/static/images/api-icon.svg]
 * [https://docs.microsoft.com/en-us/azure/app-service-api/media/index/app-service-api.svg]

Maybe combine the two and replacing the plug ends in the first with the interface symbol in the second.;;;","17/Jun/17 1:47 AM;tkuhrt;Can you verify with the Hyperledger marketing committee that the peer icon is not too close to the Hyperledger brand symbol?;;;","17/Jun/17 1:48 AM;tkuhrt;Not a big fan of the green.  Need to check with someone who is green color blind to ensure that the icons work for them.;;;","19/Jun/17 12:41 AM;SarahMills;Thank-you [~tkuhrt] for the links to the images, very helpful!;;;","19/Jun/17 12:50 PM;seanbarclay;[~tkuhrt] would a more blueish-green/aqua color work better? 
Also, can you explain why specifically you're not a fan of the green? For instance, would a different type of green work better in your mind. 
We chose green to get a way from blue- which is predominantly used in corporate branding. 

[~SarahMills] - nice job. feedback for the icons:

*SDK* - Think of the SDK as a box of goodies or set of tools that are at your disposal to build apps with. A toolbox, a kit of some kind could be a better alternative. 

*Wallet*- have the right fasten wrap around to give the sense it's secure. 

*Transaction* - tx is too small to read when it's reduced in size. Have TX larger to be the dominant part of the icon. 

*peer*- this is tricky because the original Hyperledger logo was meant to be a lot of different things, including peers communicating with one another. But a peer can also have multiple runtimes working together on a single machine- hence another type of network. Anyhow, I suggest representing a physical machine that is connected like in Andrea's V1 motion graphic animation. 

*lock privacy*- to me it doesn't look enough like a lock. 

*car/truck*- we give dimension inconsistently in the icons. e.g. the wallet has dimension but these don't. I would suggest giving all the icons a sense of depth and/or dimension to be consistent. i think that would help to evoke a sense of tangibility as well. ;;;","20/Jun/17 1:26 AM;tkuhrt;[~seanbarclay]: Ideally, we would use one of the colors in the palette used by Hyperledger-branded slide decks:

  !hyperledger-slide-pallette.png!

Skipping the White color, here are the Hex codes for the colors in the palette:

{{#00adf0     #959395}}

{{#3392d3     #404047}}

{{#018de3     #262426}}

{{#1278bb     #141214}}

{{#225e88     #0d0d17}}

 ;;;","21/Jun/17 7:35 AM;seanbarclay;[~tkuhrt] Thanks for sharing. From what I understand from the Marketing Committee, each project will have unique qualities (e.g. colors) to help viewers and users identify with. Therefore, I don't think reusing the exact same palette as the Hyperledger Project is the correct way to go. A possible solutions is we use the grays with the green (or a different green) to help align but at the same time distinguish. 

[~gtewallace] I know you're coming close to determining guidelines, but let me know if you disagree with my assertion. ;;;","21/Jun/17 7:49 AM;tkuhrt;[~seanbarclay]: I was under the impression that was for logos. I don't see any reason that the blockchain concept icons couldn't be re-used by other Hyperledger projects and their documentation.;;;","21/Jun/17 7:19 PM;SarahMills;[~tkuhrt] the logos + color palette that is chosen for Fabric will influence the colors of the icons and the design of documentation.

Our intention for supplying svg files was so that anyone in the community could go to a tool like this: [http://editor.method.ac/], drag and drop the svg, and change the color to whatever they need (or their project's branding colors) without losing image quality. They could also add or remove vector information and re-upload for others to use.;;;","24/Jun/17 4:38 AM;tkuhrt;[~SarahMills]: Like the new colors and changes that have been made to the icons!;;;","24/Jun/17 7:30 PM;SarahMills;Thank you [~tkuhrt]!;;;","26/Jun/17 5:59 PM;odowdaibm;ledger.png has a blockchain in it.  The ledger has 2 components, a blockchain and a state.;;;","26/Jun/17 6:00 PM;odowdaibm;orderer.png is nice as a png, but are people really going to draw that by hand on a board?;;;","26/Jun/17 6:01 PM;odowdaibm;peer.png.  Why a hexagon?  What is the significance of this shape?;;;","14/Jul/17 4:20 AM;SarahMills;ready to be inserted;;;","31/Jul/17 6:26 PM;habpy;Hi Sarah,

I'm missing the icon for the SDK. Have a look at page 120 and 121 of the hyperledger-fabricdocs.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Modify policy framework to take deserialized identities, rather than raw ones",FAB-4605,17831,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ales,jyellick,jyellick,14/Jun/17 12:00 AM,17/Apr/21 4:13 AM,28/Oct/23 3:00 AM,17/Apr/21 4:13 AM,v1.0.0,,,,,fabric-orderer,,,,,,,0,performance,,,,,,,"The {{cauthdsl}} code invokes the MSP deserialize identity function on the assorted identities.  It does this multiple times for the same identity, even within the same policy.  This is amplified when mulitiple policies must be evaluated for the same signature set.  Instead, the signature set should have the identities deserialized once, and then passed into the policy framework.",,jyellick,kchristidis,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-5753,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzy1lb:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,jyellick,kchristidis,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"14/Aug/17 2:50 AM;jyellick;There are pending changes to the MSP api which will force this work to be undone post v1.1.  Because of this, it makes no sense to merge this more extensive change.

Created FAB-5753 to track the deduplication this series also addressed.;;;","08/Mar/18 12:24 AM;kchristidis;Where do we stand on this w/r/t those MSP changes?

Put differently, do you see this as a 1.2 item, or backlog for now?;;;","17/Apr/21 4:12 AM;jyellick;This work is implemented, closing.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Change configtxmanager ChainID to ChannelID,FAB-4607,17833,,Story,Closed,FAB,Fabric,software,denyeart,,,Low,Done,,jyellick,jyellick,14/Jun/17 12:42 AM,08/Apr/20 11:16 PM,28/Oct/23 3:00 AM,08/Apr/20 11:16 PM,v1.0.0,,,,,fabric-orderer,,,,,,,0,configuration,help-wanted,,,,,,"The configtx manager interface was designed before the name 'channel' was settled on to represent the individual blockchain data structures.  Conseqeuntly, the ID was referred to as the ChainID and not the channel ID.  This is confusing when reading the code and should be fixed.",,guoger,indirajith,jyellick,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzy1lr:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,guoger,indirajith,jyellick,kchristidis,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"01/Aug/17 6:24 PM;guoger;This would require substantial renaming cross multiple components, not only in `configtx/api` pkg, primarily due to the embedding of this interface. Do we want to wipe out all `ChainID()` in the codebase? cc [~jyellick] [~kchristidis];;;","01/Aug/17 11:08 PM;kchristidis;I am OK with this.

Let's use Jason's pending changeset stack as the basis for this work so as to minimize the need for rebasing. This _may_ be this: [https://gerrit.hyperledger.org/r/#/c/11925/] but Jason will confirm.;;;","04/Aug/17 2:28 AM;jyellick;Thankfully, the bulk of the raw churn from that CR series is past.  If you could base off of 11925 as Kostas indicates, it would be appreciated, but I actually hope the number of conflicts will be minimal regardless.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Refactor the docker composition files for the test network topologies,FAB-4608,17834,19362,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,latitiah,latitiah,latitiah,14/Jun/17 12:52 AM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,14/Oct/17 4:23 AM,,,,,,fabric-quality,,,,,,,0,quality,,,,,,,"Currently, each network topology is defined in its own single file. It would prove useful for maintaining and reading if there were a single base component file that each network setup can use when setting up Fabric networks for system tests.",,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy1lz:",,,,,,Sprint 19 - Quality,,,,,,,,,2.0,,,,,,,,,,,,latitiah,,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Rename `ChainID` to `ChannelID` in comments, helper msg and code",FAB-4609,17835,,Story,Backlog,FAB,Fabric,software,denyeart,,,Medium,,,guoger,guoger,14/Jun/17 1:00 AM,20/Aug/19 5:52 PM,28/Oct/23 3:00 AM,,,,,,,fabric-peer,,,,,,,0,,,,,,,,"For the sake of consistency, we should rename all `ChainID` to `ChannelID` in comments, helper message, as well as implementations, such method names.",,binhn,guoger,iamksseo2,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-2167,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzy1m7:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,binhn,guoger,iamksseo2,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"14/Jun/17 2:02 AM;binhn;Interfaces and documents, including online help messages, should only talk about channel, so we should change any instances of ""chain"" to ""channel"".

We can't and shouldn't do the same for code at this point; it would be additionally unnecessary risks, and some usage of the word ""chain"" is not equivalent to ""channel"" in the code.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Consolidate CLI to address usability,FAB-4610,17836,,Story,To Do,FAB,Fabric,software,denyeart,,,Medium,,TopJohn,binhn,binhn,14/Jun/17 1:45 AM,14/Oct/19 12:30 PM,28/Oct/23 3:00 AM,,,,,Future,,fabric-tools,,,,,,,0,,,,,,,,"Currently we have a variety of command line tools:

# peer commands which contain subcommands
# crypto commands
# configtx commands

These commands don't follow the same format and the inline help text is confusing. We need to consolidate and standardize the commands for Fabric. We also should separate the commands from the Peer executable.",,binhn,bpbuch,lehors,muralisr,TopJohn,troyronda,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzy1mf:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,binhn,bpbuch,lehors,muralisr,TopJohn,troyronda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"24/Mar/18 1:23 AM;lehors;Had an interesting discussion about this on RocketChat, see: https://chat.hyperledger.org/channel/fabric-scrum?msg=JqX9nhe3KgaAmEKDc;;;","24/Apr/18 11:44 PM;lehors;So, to try and make some progress on this, let me resume the discussion by restating where I think we stand. We essentially have three options:

The Go SDK provides a more powerful CLI that is not worth competing with/duplicating. However, reusing the SDK CLI would require vendoring it into fabric and creating a sort of circular dependency that will require careful handling when changes in fabric require changes to the CLI. Essentially the vendored version would have to be fixed locally and the changes pushed into the SDK so that they can eventually be vendored back in. Some think this is heresy.

If we do reuse the SDK CLI we could then dedicate the peer command to just that - the peer - and remove all other commands we currently have.

One question is whether we could then do away with the core.yaml config file. I'll admit I'm not sure.

The main advantage of this option is reduction of code and increase in power of the CLI. The main drawback is the circular dependency.

If we choose not to reuse the SDK CLI, we could merely separate the current fabric CLI functions (without adding anything) from the peer command. I've done a quick surgery as an experiment and it seems doable. But I think both the peer and CLI would still depend on the core.yaml file.

The main advantage of this option is that we don't introduce any circular dependency with the SDK. The main drawback is that we break current usage for relatively little gain.

The last option is to do nothing. Accept that we have a limited CLI in fabric mixed in with the peer command and point people to the Go SDK CLI for advanced functionality.

The main advantage of this option is that we don't introduce any circular dependency and don't break current usage. The main drawback is that it does nothing to improve the status quo.;;;","27/Apr/18 2:56 AM;binhn;[~lehors] Thanks for the analysis Arnaud. 

I was thinking about the dependency like this  CLI -> Go SDK -> Peer | Orderer. This way we would not run into cyclic dependency. [~troyronda] please correct if I am wrong. 

CLI would be a separate build (from the peer) to produce the executable. It would involve quite a bit of work to pull this off, but I think we should proceed with a prototype branch so that we can collaborate.

Regarding the core.yaml, this is the default config for the Peer and should remain for that, but I don't think we need it for the new CLI.

Troy points me to this CLI sample built with Go SDK [https://github.com/securekey/fabric-examples/tree/master/fabric-cli/]. We should take a closer look.

I will start a google doc so that we can collaborate on the design.

 ;;;","27/Apr/18 3:31 AM;troyronda;Just to give a bit more clarity, there is no cyclic dependency (in the Go sense) between Go SDK and fabric/fabric-ca. All re-used code from fabric and fabric-ca repo is actually copied into SDK rather than vendored (including protos).
into here: [https://github.com/hyperledger/fabric-sdk-go/tree/master/internal/github.com/hyperledger]
and here: [https://github.com/hyperledger/fabric-sdk-go/tree/master/third_party/github.com/hyperledger/fabric]

The dependency is when a new feature is added to fabric and the CLI needs to be updated, and that update requires the SDK to be updated. But still, the update to the SDK is independent from the update to Fabric due to not actually vendoring fabric or fabric-ca.

The real dependency between Fabric and Go SDK happens with integration tests - i.e., when the SDK runs tests against various docker tags of Fabric. Even in this case, we can imagine a workflow that enables the SDK integration tests once the Fabric change is merged. ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Systest 24hr multihost TLS 16 threads, 8 peers per 2 orgs, set gossip orgleaders",FAB-4611,17838,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,suryalnvs,scottz,scottz,14/Jun/17 2:01 AM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,10/Jul/18 3:23 AM,v1.0.0,,,v1.0.0,,fabric-quality,,,,,,,0,quality,,,,,,,"* {color:#333333}Test Name: FAB-4611, performance 24hr multihost TLS 16 threads, set gossip orgleaders{color}
 * {color:#333333}Component{color}{color:#333333}:  Longrun test with a concurrency of 16 and TLS enabled{color}
 * +Description+: (1) For each of threads concurrently: send invoke transactions for 24hrs (with 1 invoke per 1 second) to 1 peer. Distribute threads among orgs.
 (2) After specified time duration, query the ledger to ensure the last transaction was written, (3) setting 2 gossip orgleaders in each orgnization, and (4) calculate tps, and remove network and cleanup.
 * {color:#333333}Artifact Locations{color}{color:#333333}: crypto-config{color}
 * {color:#333333}Network Topology{color}{color:#333333}: 3 Ord, 4 KB, 3 ZK, 2 Org, 8 Peers in each organization, 1 ca for each org, 2 Channel, 1 CC, 16 threads
 Launch standard network on multihosts, use PTE in longrun mode{color}
 * {color:#333333}Client Driver{color}{color:#333333}: PTE{color}
 * {color:#333333}Input: ./pte_driver.sh userInputs/runCases-longrun-i-TLS.txt{color}
 * {color:#333333}Output:
The benchmark passes if it completes without any error.
The benchmark fails if it encounters error or does not complete, or any query fails.{color}",,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3771,,,,,,,,,,"1|hzy1mv:",,,,,,,,,,,,,,,,,,,,,,,,,,,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add channel metadata info to debug logs,FAB-4612,17840,,Story,Closed,FAB,Fabric,software,denyeart,,,Low,Done,,Nishi,Nishi,14/Jun/17 2:57 AM,21/Jul/18 3:53 AM,28/Oct/23 3:00 AM,10/Jul/17 8:59 PM,,,,WON'T FIX,,fabric-orderer,,,,,,,0,kafka,,,,,,,"Similat to the output we see in this command:

 ./kafka-topics.sh --zookeeper zookeeper0:2181 --describe --topic mychannel
{color:#654982}*{color:#d04437} Topic:mychannel    PartitionCount:1    ReplicationFactor:3    Configs:
     Topic: mychannel    Partition: 0    Leader: 2    Replicas: 1,0,2    Isr: 2,0{color}*{color}

 

Whenever the values get updated ?

Thinking that when kafka brokers stop unexepectedly, support would know which kafka brokers to restart, to be able to send a transaction successfully.

 ",,kchristidis,Nishi,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzy1n3:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,kchristidis,Nishi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"14/Jun/17 4:26 AM;kchristidis;Hi Nishi. I see the thinking behind this.

But support should invoke that tool when the brokers stop to figure out what's up.

Adding it to the code (even in the DEBUG level) is expensive.;;;","14/Jun/17 4:56 AM;Nishi;Hi Kostas,

Another thing kafka (from my observation) logs do not carry information of who the leader is for a ""channel"".
Thus information we see in kafka logs is not accurate.

If we cannnot get info on leader for a given channel from Kafka logs or Orderer logs would that be costly at times, from support perspective?

What tool did you mean in your comments - for support to invoke? Is there any doc on that?

Thanks!
-Nishi;;;","14/Jun/17 5:24 AM;kchristidis;Hi Nishi, see comments below:

> Another thing kafka logs do not carry information of who the leader is for a ""channel"". Thus information we see in kafka logs is not accurate.

The information that you see is accurate, but there is a mixup between what you call the leader of the partition and what the logs show as leader (this is not the leader of the partition, but the controller of the Kafka cluster).

The logs do not carry this information for the same reason as noted above. We could consider it as a low-priority improvement post v1. I will re-open this JIRA and mark it as such. 

> If we cannnot get leader info from Kafka logs or Orderer logs would that be costly at times, from support perspective?

It would. There's always a trade-off.

> What tool did you mean in your comments - for support to invoke? Is there any doc on that?

I was referring to the `./kafka-topics.sh` script that's provided by the Kafka folks. There is not and there won't be any doc from us on this front, as we're now deep into pure Kafka territory. Whoever supports the Kafka-based ordering service needs to know how to maintain a Kafka cluster.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Warning logs flooding in orderer nodes and peers,FAB-4613,17842,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,xixuejia,xixuejia,xixuejia,14/Jun/17 3:30 AM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,15/Jun/17 2:56 PM,v1.0.0-beta,,,v1.0.0,,fabric-peer,,,,,,,0,,,,,,,,"*Fabric commit level*: 897ca825e216d3a2d88d106a92ab28eff90d4340
 *Issue*: logs flood in orderer node, 100+ msgs per second 
 2017-06-13 18:01:18.783 UTC [orderer/common/deliver] Handle -> WARN 53f25 Rejecting deliver request because of consenter error

Steps to reproduce:
 1. bring up network with config [here|https://github.com/suryalnvs/fabric-docker-compose-svt]. 3 orderer nodes, 3 zookeeper nodes and 4 kafka nodes.
2. create an application channel named *mychannel*
3. Enter one of kafka docker container and issue command below
{code}root@778d597fd546:/opt/kafka/bin# ./kafka-topics.sh --zookeeper zookeeper0:2181 --describe --topic mychannel
 Topic:mychannel PartitionCount:1 ReplicationFactor:3 Configs:
 Topic: mychannel Partition: 0 Leader: 3 Replicas: 3,0,1 Isr: 3,0,1{code}
4. stop a non-leader kafka broker, say kafka0
{code}root@1cb032fc5ecf:/opt/kafka/bin# ./kafka-topics.sh --zookeeper zookeeper0:2181 --describe --topic mychannel
Topic:mychannel	PartitionCount:1	ReplicationFactor:3	Configs:
	Topic: mychannel	Partition: 0	Leader: 3	Replicas: 3,0,1	Isr: 3,1{code}
{color:red}*5. stop the leader kafka3, bad things happen to all of the 3 orderer nodes. Logs are flooding*{color}
{code}root@1cb032fc5ecf:/opt/kafka/bin# ./kafka-topics.sh --zookeeper zookeeper0:2181 --describe --topic mychannel
Topic:mychannel	PartitionCount:1	ReplicationFactor:3	Configs:
	Topic: mychannel	Partition: 0	Leader: 1	Replicas: 3,0,1	Isr: 1{code}
6. start kafka0. After 2 minutes or so, orderers recover to work and we can send trans to orderer
{code}root@1cb032fc5ecf:/opt/kafka/bin# ./kafka-topics.sh --zookeeper zookeeper0:2181 --describe --topic mychannel
Topic:mychannel	PartitionCount:1	ReplicationFactor:3	Configs:
	Topic: mychannel	Partition: 0	Leader: 1	Replicas: 3,0,1	Isr: 1,0{code}",,kchristidis,xixuejia,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy1nb:",,,,,,,,,,,,,,,,,,,,,,,,,,,kchristidis,xixuejia,yacovm,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"14/Jun/17 4:39 AM;kchristidis;You have set the sarama/Kafka logs to true (ORDERER_KAFKA_VERBOSE=true) and you have operations in the background running over all brokers every couple of hundred of milliseconds repeatedly:

[https://github.com/hyperledger/fabric/blob/master/sampleconfig/orderer.yaml#L181]

[https://github.com/hyperledger/fabric/blob/master/sampleconfig/orderer.yaml#L187]

 

What you see is normal. If you want to silence the logs, set the verbosity of the Kafka logs to FALSE.;;;","14/Jun/17 8:45 PM;xixuejia;Hi [~kchristidis], thanks for comment. The flooding log is at WARN level and there were more than 100 WARNING messages per second. Apparently, it's not caused by the retry mechanism. I apologize that I didn't check peer logs. Actually, in peer log, there were also WARNING log flooding below
{code}
2017-06-14 03:42:28.633 UTC [blocksProvider] DeliverBlocks -> WARN 1803 [mychannel] Got error &{SERVICE_UNAVAILABLE}{code}
I looked into the peer code here [https://github.com/hyperledger/fabric/blob/master/core/deliverservice/blocksprovider/blocksprovider.go#L133-L136]
 I believe that's the root cause of log flooding. When ordering service becomes SERVICE_UNAVAILABLE, peer disconnects with orderer nodes and continues the loop, reconnects with orderer nodes and still receives SERVICE_UNAVAILABLE... infinite loop without any retry mechanism here;;;","15/Jun/17 12:20 AM;kchristidis;[~C0rWin]: As far as I can see, the connection attempt happens using a backoff algorithm:

[https://github.com/hyperledger/fabric/blob/a069559d342ce2d5ac15fcf9a5d4e15290cbcb7b/core/deliverservice/client.go#L67]

Any idea what brings about this issue?;;;","15/Jun/17 12:31 AM;kchristidis;Xixue, we'll also need those logs – at least a decent piece of them if they're too big.;;;","15/Jun/17 12:41 AM;xixuejia;Hi [~kchristidis], they are repeated single line WARNING messages.
For peers
{code}2017-06-14 03:42:28.633 UTC [blocksProvider] DeliverBlocks -> WARN 1803 [mychannel] Got error &{SERVICE_UNAVAILABLE}{code}
for orderer nodes
{code}2017-06-13 18:01:18.783 UTC [orderer/common/deliver] Handle -> WARN 53f25 Rejecting deliver request because of consenter error{code};;;","15/Jun/17 12:46 AM;xixuejia;I think the reason why backoff algorithm does not take effect is that err is nil while SERVICE_UNAVAILABLE Status is just a part of *resp* in L126
https://github.com/hyperledger/fabric/blob/master/core/deliverservice/client.go#L115-L126;;;","15/Jun/17 1:53 AM;yacovm;https://gerrit.hyperledger.org/r/#/c/10471/;;;","15/Jun/17 2:35 AM;xixuejia;Thanks [~yacovm]! The retry mechanism added in that changeset should also fix this issue.;;;","15/Jun/17 4:04 AM;yacovm;Merged. can you check?;;;","15/Jun/17 5:06 AM;xixuejia;Hi [~yacovm], I retried with the latest patchset. It did work at the very start, WARNING logs stop flooding even if we got SERVICE_UNAVAILABLE. But after a couple of minutes, currDelay overflows and becomes negative and finally it becomes 0 which bypasses the retry mechanism just added

 [https://github.com/hyperledger/fabric/blob/master/core/deliverservice/blocksprovider/blocksprovider.go#L156]
{code:java}
2017-06-14 19:59:59.185 UTC [blocksProvider] DeliverBlocks -> WARN 108 [mychannel] Got error &{SERVICE_UNAVAILABLE}
2017-06-14 20:00:09.186 UTC [blocksProvider] DeliverBlocks -> ERRO 109 maxDelay: 10000000000.000000
2017-06-14 20:00:09.186 UTC [blocksProvider] DeliverBlocks -> ERRO 10a currDelay: 4611686018427387904.000000
2017-06-14 20:00:09.186 UTC [blocksProvider] DeliverBlocks -> ERRO 10b statusCounter: 55
2017-06-14 20:00:09.190 UTC [blocksProvider] DeliverBlocks -> WARN 10c [mychannel] Got error &{SERVICE_UNAVAILABLE}
2017-06-14 20:00:09.190 UTC [blocksProvider] DeliverBlocks -> ERRO 10d maxDelay: 10000000000.000000
2017-06-14 20:00:09.190 UTC [blocksProvider] DeliverBlocks -> ERRO 10e currDelay: -9223372036854775808.000000
2017-06-14 20:00:09.190 UTC [blocksProvider] DeliverBlocks -> ERRO 10f statusCounter: 56
2017-06-14 20:00:09.195 UTC [blocksProvider] DeliverBlocks -> WARN 110 [mychannel] Got error &{SERVICE_UNAVAILABLE}
2017-06-14 20:00:09.195 UTC [blocksProvider] DeliverBlocks -> ERRO 111 maxDelay: 10000000000.000000
2017-06-14 20:00:09.195 UTC [blocksProvider] DeliverBlocks -> ERRO 112 currDelay: 0.000000
2017-06-14 20:00:09.195 UTC [blocksProvider] DeliverBlocks -> ERRO 113 statusCounter: 57
2017-06-14 20:00:09.200 UTC [blocksProvider] DeliverBlocks -> WARN 114 [mychannel] Got error &{SERVICE_UNAVAILABLE}
2017-06-14 20:00:09.200 UTC [blocksProvider] DeliverBlocks -> ERRO 115 maxDelay: 10000000000.000000
2017-06-14 20:00:09.200 UTC [blocksProvider] DeliverBlocks -> ERRO 116 currDelay: 0.000000
2017-06-14 20:00:09.201 UTC [blocksProvider] DeliverBlocks -> ERRO 117 statusCounter: 58
2017-06-14 20:00:09.205 UTC [blocksProvider] DeliverBlocks -> WARN 118 [mychannel] Got error &{SERVICE_UNAVAILABLE}{code};;;","15/Jun/17 5:57 AM;yacovm;Thanks for testing it for enough time and not declaring it to be fixed after a short while.

If you could cast it to an unsigned int or something like that and try again, that'd be great.

Edit - actually, it won't help. I guess maybe check that it's negative or some condition, up to you.

 

Thanks again.;;;","15/Jun/17 6:37 AM;xixuejia;Verified locally and this should fix the overflow issue

https://gerrit.hyperledger.org/r/#/c/10601/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Skip processing if received message cannot be unmarshaled,FAB-4616,17857,,Bug,Closed,FAB,Fabric,software,denyeart,,,Lowest,Done,kchristidis,kchristidis,kchristidis,14/Jun/17 7:17 AM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,14/Jun/17 1:26 PM,v1.0.0-rc1,,,v1.0.0-beta,,fabric-orderer,,,,,,,0,kafka,,,,,,,"Even though that path (error in unmarshaling + type switch) was activated in the tests without issues, there is (might be? it's up to the `proto` package) a non-zero chance we can end up with a non-nil error and a nil message, which will result in a nil panic dereference. A `continue` statement prevents this from happening.",,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy1pj:",,,,,,,,,,,,,,,,,,,,,,,,,,,kchristidis,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"14/Jun/17 7:22 AM;kchristidis;https://gerrit.hyperledger.org/r/#/c/10549/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
As a fabric developer I would want to ignore certificate expiration taking in account validation chains,FAB-4617,17858,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,angelo.decaro,yacovm,yacovm,14/Jun/17 8:19 AM,29/Jan/19 5:13 AM,28/Oct/23 3:00 AM,11/Aug/17 6:52 PM,v1.0.0-beta,,,Future,,fabric-crypto,,,,,,,0,,,,,,,,"When the msp [computes|https://github.com/hyperledger/fabric/blob/master/msp/mspimpl.go#L997-L1010] the x509 verify options in order to ignore expiration of certificates, it adds 1 second to the time of the certificate:

{code}
	var tempOpts x509.VerifyOptions
	tempOpts.Roots = msp.opts.Roots
	tempOpts.DNSName = msp.opts.DNSName
	tempOpts.Intermediates = msp.opts.Intermediates
	tempOpts.KeyUsages = msp.opts.KeyUsages
	tempOpts.CurrentTime = cert.NotBefore.Add(time.Second)
{code}

But alas - this is sometimes not enough as the x509.Verify not only verifies the validity of the certificate itself but also of its [chain|https://golang.org/src/crypto/x509/verify.go] in line 309.

This in turn calls:
{code}
err = root.isValid(rootCertificate, currentChain, opts)
{code}

which then does:
{code}
	if now.Before(c.NotBefore) || now.After(c.NotAfter) {

		return CertificateInvalidError{c, Expired}

	}
{code}

So in case of a signing identity that has expiration time of:
{code}
            Not Before: Jun 13 18:51:00 2017 GMT
            Not After : Jun 13 18:51:00 2018 GMT
{code}

but a root CA cert that has expiration of:
{code}
            Not Before: Jun 13 18:54:19 2017 GMT
            Not After : Jun 11 18:54:19 2027 GMT
{code}

1 second just isn't enough, but however - 5 minutes (I checked) are enough.

Attached below a msp.tar.gz for testing.
When the peer starts up it crashes with:
{code}
panic: Error when setting up MSP from directory /var/hyperledger/peer/config/msp: err The supplied identity is not valid, Verify() returned x509: 
certificate has expired or is not yet valid
{code}


I think the code needs to be changed to something like:

{code}
	var tempOpts x509.VerifyOptions
	tempOpts.Roots = msp.opts.Roots
	tempOpts.DNSName = msp.opts.DNSName
	tempOpts.Intermediates = msp.opts.Intermediates
	tempOpts.KeyUsages = msp.opts.KeyUsages

	latestNotBefore := cert.NotBefore
	for _, cert := range rootCertsAndIntermediateCerts {
		if cert.NotBefore.After(latestNotBefore) {
			latestNotBefore = cert.NotBefore
		}
	}
	tempOpts.CurrentTime = latestNotBefore.Add(time.Minute)
	return tempOpts
{code}

where the rootCertsAndIntermediateCerts  is a slice of all the x509.Certificates of the intermediate and root certs. 

[~angelo.decaro] [~elli-androulaki] [~ales] ",,angelo.decaro,elli-androulaki,mastersingh24,smithbk,yacovm,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"14/Jun/17 8:17 AM;yacovm;msp.tar.gz;https://jira.hyperledger.org/secure/attachment/11054/msp.tar.gz",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy1pr:",,,,,,,,,,,,,,,,,,,,,,,,,,,angelo.decaro,elli-androulaki,mastersingh24,smithbk,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"14/Jun/17 5:39 PM;yacovm;Thanks [~angelo.decaro] for the quick fix https://gerrit.hyperledger.org/r/#/c/10563/ ;;;","14/Jun/17 6:24 PM;angelo.decaro;[~yacovm], thanks a lot for having spotted that. The solution that I have proposed in https://gerrit.hyperledger.org/r/#/c/10563 goes in the direction that you suggested but does checks more carefully what is the best CurrentTime to be used. In more details: As you said validation of a certificate involves validation of its entire chain of trust. Therefore, we have to find a CurrentTime that makes the entire chain of trust valid without having, at this time, the chain of trust.
What is done is then finding a CurrentTime that is between cert.NotBefore and cert.NotAfter that matches most of the certificates in msp.rootCerts and msp.intermediateCerts.
So if we have the following setup (for the sake of simplicity, we only specify intervals):
cert               valid from 13 - 14 (signed by ICA2)
root CA            valid from 11 - 30
intermediate CA 1  valid from 16 - 17 (signed by root CA)
intermediate CA 2  valid from 12 - 16 (signed by root CA)
For sure, cert could not have been signed by ICA1, and its NotBefore is after cert's NotAfter, therefore it needs to be discarded.

What do you think? Thanks again for the feedback.
;;;","14/Jun/17 6:40 PM;angelo.decaro;Let me add also this: what we are discussing here are just heuristics. The ultimate solution would be that that constructs the chain of trust for the certificate without validating the dates but in order to do so we would have to extract the part of the golang library that does that. Probably, this is doable but an assessment is needed.

In addition, as you were saying in a private chat, the issue is caused by the fact that the CA has a NotBefore date that is after the NotBefore date of the certificate which is weird.;;;","14/Jun/17 6:49 PM;yacovm;{quote}
Let me add also this: what we are discussing here are just heuristics
{quote}
Yeah yeah I know, I wrote that solution of mine just because I thought it makes sense that fabric-CA would output certificates that these stuff ""works"" for them. 

{quote}
In addition, as you were saying in a private chat, the issue is caused by the fact that the CA has a NotBefore date that is after the NotBefore date of the certificate which is weird.
{quote}
Well look at the sample I uploaded. Isn't that the case? 

I think what we need to do, to be certain and fix this 100% is just to implement the logic in *buildChains*.  It's a recursive function that finds the validation chain and you can then use it and it will work for all the corner cases.;;;","16/Jun/17 1:42 AM;Clayton Sims;moving to in review.;;;","16/Jun/17 10:19 PM;mastersingh24;[~adc] [~yacovm] While it is technically possible to to create certificates which have not before / not after outside the scope of the not before / not after of the roots / intermediates in their chain, is this actually something that should / would really happen in practice?  And even so, does this in any way create non-deterministic behavior for processing of blocks?;;;","18/Jun/17 10:23 PM;yacovm;{quote}
[~adc] [~yacovm] While it is technically possible to to create certificates which have not before / not after outside the scope of the not before / not after of the roots / intermediates in their chain, is this actually something that should / would really happen in practice? 
{quote}
 [~mastersingh24]
Didn't see this until now from some odd reason... I guess due to too many emails from JIRA.
So the thing is - this issue was reported by a user that created these using fabric-CA (from what he told me).

{quote}  And even so, does this in any way create non-deterministic behavior for processing of blocks?{quote}
I believe not. The peer would simply crash.;;;","19/Jun/17 3:48 PM;angelo.decaro;[~yacovm][~mastersingh24], I'm not sure the best thing to do is to to implement the login in buildChains because every time that the x509 library changes we would have to update fabric as well. Therefore, either we get in the heuristic or we just fail by saying that the root certificate cannot start be valid after a user certificate.

[~smithbk], may you have your say on the fabric-ca side? Thanks.;;;","20/Jun/17 4:39 AM;smithbk;I agree that fabric CA should not issue certs with not before / not after outside the scope of the not before / not after of the roots / intermediates in their chain, so I added to the fabric-ca component.  Do you know how to reproduce?  I'm wondering if this happened because of clock skew between the root and intermediate CA or for some other reason.;;;","20/Jun/17 6:38 AM;smithbk;By default, fabric CA issues certificates with a NotBefore time which is 5 minutes in the past.  This is CFSSL's default behavior which seems reasonable in order to allow for clock skew, but it is also configurable on a *per profile basis*.
What happened in this case is that the root CA cert was generated using cryptogen, which doesn't backdate the cert.  The intermediate CA cert was generated by fabric CA and was therefore backdated, thus the earlier NotBefore.;;;","29/Jun/17 10:35 PM;elli-androulaki;Btw, having already discussed this, shall we list this as ""WONT FIX"" as is part of the expected behavior?

[~smithbk] when the certificates are renewed, do they preserve the old NOTBEFORE value? or a new one is added? If the former we may have a small period of time when certificates are failing... ;;;","11/Aug/17 6:51 PM;elli-androulaki;Ok, an update for this. 

It is indeed the case that the certificates should not exceed the NOT_AFTER indication of their parent. If this is done, it is wrong. 

In the case of renewal of a root/intermediate CA certificate the NOT_BEFORE is not preserved. However, certificates that a CA issues would expire before its certificate expires. To avoid CA availability issues for issuing certificates, there is an period of time where two certificates are valid for the same CA: the old one (used to validate certificates signed by the CA's old certificate), and the new one (used to serve certificate issuing requests.).

Will therefore mark this item as ""DONE"".;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Rest API with reponse:(56) Recv failure: Connection reset by peer,FAB-4618,17859,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,davidkhala,davidkhala,14/Jun/17 12:20 PM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,16/Jun/17 4:17 AM,v1.0.0-alpha2,,,Not a Bug,,,,,,,,,0,,,,,,,,"I followed the ""getting started"" section and tried to use Rest API to get blockchain information.

Then I turn to tried as mentioned
{code:java}
# get the peer IP
$ sudo docker inspect peer0.org1.example.com | grep IPAddress | cut -d '""' -f 4
172.18.0.3 
$ curl 172.18.0.3:7051/chain
curl: (56) Recv failure: Connection reset by peer
�
{code}
Do I missed some steps?

More info:
{code:java}
$ sudo docker ps
CONTAINER ID        IMAGE                                 COMMAND                  CREATED             STATUS              PORTS                                            NAMES
ebfbbf1f9729        dev-peer0.org1.example.com-mycc-1.0   ""chaincode -peer.a...""   9 minutes ago       Up 9 minutes                                                         dev-peer0.org1.example.com-mycc-1.0
92acad677a7c        hyperledger/fabric-peer               ""/bin/bash -c './s...""   9 minutes ago       Up 9 minutes                                                         cli
c7a1c286ff6e        hyperledger/fabric-peer               ""peer node start -...""   9 minutes ago       Up 9 minutes        0.0.0.0:7051->7051/tcp, 0.0.0.0:7053->7053/tcp   peer0.org1.example.com
b31075373853        hyperledger/fabric-orderer            ""orderer""                9 minutes ago       Up 9 minutes        0.0.0.0:7050->7050/tcp                           orderer.example.com

{code}",,davidkhala,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy1pz:",,,,,,,,,,,,,,,,,,,,,,,,,,,davidkhala,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"16/Jun/17 4:16 AM;mastersingh24;There is no REST API for v1.0.0.  There is only a gRPC-based API.
Please have a look at https://github.com/hyperledger/fabric-sdk-node/blob/master/examples/balance-transfer/app/query.js  which demonstrates how to use the NodeSDK to obtain this info

[~markparz] [~nickgaski] - we might want to think about adding something to the getting started which allows you to query the status of a chain;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Figure out easier way to set Kafka version,FAB-4619,17866,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sanchezl,kchristidis,kchristidis,14/Jun/17 2:37 PM,21/Jul/18 3:56 AM,28/Oct/23 3:00 AM,25/Jun/17 3:23 AM,v1.0.0-beta,,,v1.1.0,,fabric-orderer,,,,,,,0,kafka,,,,,,,"As thing stand right now, if you wanted to run the orderers with a Kafka cluster that runs on Kafka 0.10 (or anything other than our default of 0.9.0.1), you would need to edit the `Version` field of the `defaults` struct in `orderer/localconfig/config.go` to `sarama.V0_10_0_1`, then rebuild the binary.

This is of course not user-friendly. (It is in fact a horrible way of going at it.) It was a however shortcut we had to take because of the type of that value, and an improvement that slipped through the cracks.

We should reconsider our approach here.

Off the top of my head, we can duplicate the functionality of the unexported `newKafkaVersion()` in `sarama/utils.go`, create a new `Kafka.Version`` field in `orderer.yaml` and add a comment to it enumerating the versions supported by the version of the vendored sarama library.

It's still not as clean and easy as it could be, but it beats the current implementation.",,kchristidis,sanchezl,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzy273:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,kchristidis,sanchezl,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"23/Jun/17 6:27 AM;kchristidis;https://gerrit.hyperledger.org/r/#/c/11017/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update sample Docker Compose configurations,FAB-4620,17868,,Story,Closed,FAB,Fabric,software,denyeart,,,Low,Done,kchristidis,kchristidis,kchristidis,14/Jun/17 2:54 PM,21/Jul/18 3:56 AM,28/Oct/23 3:00 AM,15/Jun/17 6:30 AM,v1.0.0-beta,,,v1.0.0-rc1,,fabric-orderer,,,,,,,0,kafka,,,,,,,,,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzy27b:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,kchristidis,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"14/Jun/17 3:01 PM;kchristidis;https://gerrit.hyperledger.org/r/#/c/10557/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Modify channel name in tests to comply with channel naming restrictions,FAB-4621,17869,,Story,Closed,FAB,Fabric,software,denyeart,,,Low,Done,kchristidis,kchristidis,kchristidis,14/Jun/17 3:07 PM,21/Jul/18 3:54 AM,28/Oct/23 3:00 AM,15/Jun/17 6:30 AM,v1.0.0-beta,,,v1.0.0-rc1,,fabric-orderer,,,,,,,0,kafka,,,,,,,"With -FAB-2487- in, uppercase characters are no longer allowed in channel names. This doesn't affect the channel names we use in the tests since they do not run through the validate function that was modified in -FAB-2487-, but we should give them valid names nonetheless for consistency.",,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-617,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzy27j:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,kchristidis,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"14/Jun/17 3:11 PM;kchristidis;https://gerrit.hyperledger.org/r/#/c/10559/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Improve Retry description text in orderer.yaml,FAB-4622,17870,,Story,Closed,FAB,Fabric,software,denyeart,,,Lowest,Done,kchristidis,kchristidis,kchristidis,14/Jun/17 3:13 PM,21/Jul/18 3:55 AM,28/Oct/23 3:00 AM,15/Jun/17 6:31 AM,v1.0.0-beta,,,v1.0.0-rc1,,fabric-orderer,,,,,,,0,,,,,,,,,,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzy27r:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,kchristidis,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"14/Jun/17 3:15 PM;kchristidis;https://gerrit.hyperledger.org/r/#/c/10561/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
create tarfile for BYFN,FAB-4624,17874,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,ChristopherFerris,ChristopherFerris,14/Jun/17 8:46 PM,21/Jul/18 3:53 AM,28/Oct/23 3:00 AM,19/Jun/17 12:09 AM,v1.0.0-beta,,,v1.0.0-rc1,,fabric-build,,,,,,,0,build-system,,,,,,,create tarfile to distribute build your first network (examples/byfn) FAB-4073,,ChristopherFerris,rameshthoomu,,,,,,,,,,,,,,,,,,,28800,28800,,0%,28800,28800,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,FAB-4518,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzy287:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,ChristopherFerris,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"16/Jun/17 4:58 AM;rameshthoomu;Patch has been submitted. Unable to test this patch https://gerrit.hyperledger.org/r/#/c/10657/ in sandbox CI environment due to the maven credentials are not stored. Once this patch is merged will test snapshots.. ;;;","19/Jun/17 12:09 AM;rameshthoomu;Patch has been merged.. Once this patch https://gerrit.hyperledger.org/r/#/c/10657/ is merged. Will run this job https://jenkins.hyperledger.org/view/fabric-binaries/job/fabric-binaries-x86_64/ and test fabric binaries.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[SECURITY] Cryptographic material should not be reused across protocols,FAB-4625,17876,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,ales,ales,14/Jun/17 10:10 PM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,21/Jun/17 3:00 AM,v1.0.0-beta,,,DUPLICATE,,fabric-crypto,fabric-peer,,,,,,0,Security,v1.0,,,,,,"The peer uses MSP keys for two different purposes:
 * signing and verifying fabric protocol messages
 * engaging in TLS handshakes

This is a security anti-pattern: key material should only be used in the context of a single protocol to perform one specific function.

While no immediate exploitations of this vulnerability has been found, the following should be evidence enough that we should fix it: any entity that has the right to invoke or query a chaincode receives ESCC signatures in response. If the same keypair that generates this signature is also used in the course of a TLS handshake, it is conceivable that an adversary may use ESCC as a signing oracle and use the responses to attempt to conduct a successful TLS handshake, pretending to be the peer.

 

[~ellaki], [~elli-androulaki], [~adc], [~adecaro], [~angelo.decaro], [~mastersingh24]: your thoughts?",,ales,binhn,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,FAB-4626,,,,,,,,,,,,,,,,,,,,,,,,FAB-4546,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy28f:",,,,,,,,,,,,,,,,,,,,,,,,,,,ales,binhn,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"14/Jun/17 11:32 PM;binhn;It looks like this one depends on FAB-4626;;;","21/Jun/17 2:59 AM;binhn;Marked this as dup of FAB-4626;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"[SECURITY] Inconsistency of features available for fabric (MSP) and TLS certificates (revocation, expiration)",FAB-4626,17897,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,angelo.decaro,elli-androulaki,elli-androulaki,14/Jun/17 10:59 PM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,23/Jun/17 11:46 PM,v1.0.0-beta,,,v1.0.0,,fabric-crypto,,,,,,,0,Security,,,,,,,"MSP interface was extended with functions to return the list of CAs an MSP is configured with, with the goal to be used for TLS certificate validation purposes; currently it is the same list of CAs that is used for TLS certification as for enrollment certificate certificate at least as it appears from the FabricMSPConfig object. In this way we have assigned from a configuration perspective a dual role to a certain CA, i.e., signing a TLS cert or/and signing an enrollment cert. This is generally security malpractice and in the long term would need to be avoided. 
  
 However, there are some additional concerns here related to the difference of what we provide with enrollment/tls certificates:
 * for enrollment certificates we do not consider expiration that we do for tls certificates
 * for enrollment certificates we consider revocation that we do not consider for tls certificates.

 

It seems that if there is a CA that is used for both types of certificates an enrollment certificate can be used to establish a TLS connection, and even if this certificate is revoked, it will not impact TLS connectivity of that node. In the same spirit certificates expired on TLS layer may be considered valid at the enrollment/ fabric layer. 
  
 [ Relevant tls attack FAB-4625 ]
  
 *Recommended solutions -* also addressing FAB-4625, and FAB-4750 (discussed with [~ales], [~angelo.decaro], [~mastersingh24], and [~mrshah]/[~mrshah-ibm]) :

 
 *Solution 1:* We suggest that we modify FabricMSPConfig to allow for specifying TLS-specific certificates, that are subsequently parsed by fabric MSP and maintained to a group of CAs separated by the fabric ones.
 Certificates of TLS CAs will be exportable by the MSP interface such that TLS certificates can be certified properly. Components that generate these CA certificates (needed for system bootstrap) need to be updated, i.e., cryptogen tool and fabric-ca.
 This solution would require the following:
  - update of msp.FabricMSPConfig proto message
  - update of msp.setup function
  - update of msp.getIntermediateCAs, and msp.getRootCAs function (could even make sense to update their names)
  - update of documentation
  - update of cryptogen tool
  - update of configtxgen tool
  - update of fabric-ca config generation
 It is a code change consistent to how admin certs have been organised in the msp configuration.
  
 *Solution 2:* We suggest the inclusion of a distinguishing mark inside the TLS CA certificates, e.g., by leveraging the ""KeyUsage"" field of certs associated to TLS root/intermediate CAs. These CA certs will be exportable by the MSP interface such that TLS certificates can be certified properly.
 This solution would require the following:
  - update of msp.setup function
  - update of msp.getIntermediateCAs, and msp.getRootCAs function (could even make sense to update their names)
  - update of documentation
  - update of cryptogen tool
  - update of fabric-ca config generation

*Solution 3*: We suggest the inclusion of a distinguishing mark inside the TLS client/peer/orderer certificates, e.g., by leveraging the ""KeyUsage"" field of their certs. E.g., KeyUsageDigitalSignature can be used for platform certs and ExtKeyUsageServerAuth / ExtKeyUsageClientAuth can be used for TLS certificates. Validation of identity (referred to platform identities) would need to ensure that KeyUsageDigitalSignature is listed in the KeyUsage field of the certificate, while validation of TLS certificates (should this be provided via some additional function in the MSP interface /may be already given for free by TLS handshake checks) would look for ""ExtKeyUsageServerAuth/ExtKeyUsageClientAuth"" in the respective field. Such a solution is much less intrusive, as it requires:
    - update of the msp.validateIdentity function
    - update of the documentation
    - update of cryptogen/fabric-ca (to put the right keyUsage for the respective certs?)",,angelo.decaro,binhn,elli-androulaki,jeffgarratt,JonathanLevi,mastersingh24,smithbk,yacovm,,,,,,,,,,,,,,,,,46800,7500,41100,Not a security issue,FAB-5146,,,,,,,,,,,,,,,,,,,,,,,,FAB-4625,,,,,,,,,,,FAB-4750,,,,,FAB-4886,FAB-5147,FABCT-9,FABN-413,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy2b3:",,,,,,,,,,,,,,,,,,,,,,,,,,,angelo.decaro,binhn,elli-androulaki,jeffgarratt,JonathanLevi,mastersingh24,smithbk,yacovm,,,,,,,,,,,,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-6.11.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/tough-cookie-4.1.3,mergify/bp/release-2.2/pr-4374,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/grpc/grpc-js-1.8.17,dependabot/go_modules/high-throughput/application-go/google.golang.org/grpc-1.53.0,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/word-wrap-1.2.4,main,dependabot/go_modules/asset-transfer-basic/application-go/google.golang.org/grpc-1.53.0,mergify/bp/release-2.2/pr-3750,dev,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/semver-6.3.1,release-2.5,release-2.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-and-fabric-network-7.2.4,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"14/Jun/17 11:07 PM;elli-androulaki;Adding [~ales], [~angelo.decaro], [~binhn], [~mastersingh24], [~yacovm].;;;","15/Jun/17 12:03 AM;yacovm;My thoughts: 
{quote} As immediate actions we require that the ""inconsistency"" is to be documented, and we add to the ""best practices"" the advice for users to use separate CAs for TLS certification and enrollment identities. {quote}

{quote}We also need to update cryptogen code accordingly.{quote}
Makes sense, should we open a new JIRA as a follow-up?

{quote}and even if this certificate is revoked, it will not impact TLS connectivity of that node{quote}
I don't see this as a problem if the certificate is of a peer
* When a connection to a peer is attempted, the gossip handshake takes care of that - the TLS connection can be established but the handshake would fail
* If it's a peer connecting to an ordering service, it signs the SeekInfo and the orderer would use the policy filter and reject it

However if it's a certificate of an ordering service and it's revoked it can be a problem and the ordering service needs to be evicted from the configuration immediately - otherwise the peer would connect to it, and the ordering service can just wait indefinitely  and not send any blocks - hence starving the peers.
However - We currently do not support byzantine ordering services.;;;","15/Jun/17 8:32 PM;mastersingh24;Unfortunately, as far as I can tell in the fabric code, there's no way to enforce separate CAs for enrollment and TLS.  From a quick review of the code, it does not look like we enforce key usage so we would still end up in a situation where a cert issued for TLS could be used as an enrollment / signing certificate ( [~adc] can verify whether or not this is true).

I'm not sure that this is really a big ""hole"" right now and not sure that we are really more vulnerable to compromise.  On the other hand, I can see the case where someone may want to get TLS certificates from a different authority (e.g. Verisign, etc) and we don't support this today - the assumption / assertion is that you use the same CA to issue all certificates.

We could in the future add separate fields to the MSP for TLS authorities if that would make things more clear but I also think that we could use the current structures as well and support using the same CA for TLS / enrollment as well as separate CAs for TLS / enrollment is we enforce key usage for enrollment / signing certificates.;;;","15/Jun/17 10:22 PM;mastersingh24;see also https://jira.hyperledger.org/browse/FAB-4750;;;","16/Jun/17 6:53 PM;elli-androulaki;So, updated the description with two main alternatives discussed with [~ales] and [~adc]. We could go either way, but perhaps the second option is less invasive. But the first option maybe cleaner.

[~mastersingh24], [~JonathanLevi], [~binhn], [~keithsmith] what do you think?

Adding [~jimthematrix@gmail.com]/[~jimthematrix] for awareness.

Also, [~keithsmith] do you think that someone from fabric-ca could help with the changes associated to fabric-ca? 

 ;;;","16/Jun/17 7:56 PM;mastersingh24;[~elli-androulaki] I think we should most definitely modify the the certificate validation code used by the MSP implementation to restrict the KeyUsages.  If you look at  https://github.com/hyperledger/fabric/blob/master/msp/mspimpl.go#L1007, it would be a trivial change to restrict the KeyUsages to KeyUsageDigitalSignature.

But I also just checked the KeyUsages for some TLS certificates signed by 3rd party CAs such as DigiCert, GeoTrust, etc and they all have KeyUsageDigitalSignature and ExtKeyUsageServerAuth / ExtKeyUsageClientAuth so it seems that in any case TLS certificates could also be used to sign.

So if we really want to *optionally* separate trusted roots for TLS from trusted roots for signing certs, we'd need to go with option 1.

But I don't think they are as many updates required as you think - e.g. we don't need to change configtxgen (since it just uses the MSP code anyway).

Given that it looks like option 1 is the only solution that would be able to guarantee the separation, I think that's the way to go.

But I think we need to decide when to do this.  While sure one could say it's a best practice to separate duties, it's likely that most enterprises will use a single CA (especially those who use their own and not fabric-ca).  So the only gap we have right now is that if someone wanted to use separate CAs they will not be able to do so

;;;","16/Jun/17 11:07 PM;elli-androulaki;Hi [~mastersingh24], I just realised what you meant. I added a third option that as you say seems to be way less invasive. 

We can go ahead with that one, if you all agree.;;;","16/Jun/17 11:13 PM;binhn;At this point, I would prefer option 3, but are these KeyUsageDigitalSignature and ExtKeyUsageServerAuth / ExtKeyUsageClientAuth mutually exclusive?  If not, a cert could contain both KeyUsageDigitalSignature and ExtKeyUsageServerAuth then we would be back to square 1, wouldn't we?;;;","16/Jun/17 11:24 PM;smithbk;fabric-ca already supports this as follows ... though we should change the default config to already contain the ""tls"" profile below.

Add the following ""tls"" profile to fabric-ca-server-config.yaml:
{code}
signing:
    default:
      usage:
        - cert sign
      expiry: 8760h
    profiles:
      ca:
         usage:
           - cert sign
         expiry: 43800h
         caconstraint:
           isca: true
           maxpathlen: 0
      tls:
         usage:
           - server auth
           - client auth
         expiry: 8760h
{code}

To get a TLS certificate:
{code}
# fabric-ca-client enroll --enrollment.profile tls -u http://<enrollmentID>:<secret>@localhost:7054
{code}

Here's the resulting cert:
{code}
Certificate:
    Data:
        Version: 3 (0x2)
        Serial Number:
            15:c9:19:84:05:40:5c:5e:89:08:90:81:a3:ea:d4:a2:72:60:98:b8
        Signature Algorithm: ecdsa-with-SHA256
        Issuer: C=US, ST=North Carolina, O=Hyperledger, OU=Fabric, CN=fabric-ca-server
        Validity
            Not Before: Jun 16 14:13:00 2017 GMT
            Not After : Jun 16 14:13:00 2018 GMT
        Subject: C=US, ST=North Carolina, O=Hyperledger, OU=Fabric, CN=a
        Subject Public Key Info:
            Public Key Algorithm: id-ecPublicKey
            EC Public Key:
                pub: 
                    04:c4:2e:88:36:a0:0c:7b:50:3f:33:bb:f6:f2:4a:
                    69:6d:41:87:f9:63:5f:dc:aa:f7:6f:5f:ef:32:bf:
                    bd:b7:e8:61:d1:87:2f:f4:f6:05:2a:82:47:e1:ab:
                    41:c0:f2:7a:20:ab:e2:88:79:7b:32:8a:d4:2f:13:
                    92:de:74:ad:af
                ASN1 OID: prime256v1
        X509v3 extensions:
            X509v3 Extended Key Usage: 
                TLS Web Server Authentication, TLS Web Client Authentication
            X509v3 Basic Constraints: critical
                CA:FALSE
            X509v3 Subject Key Identifier: 
                58:E8:3A:82:BF:F2:A4:E2:B7:B6:FB:B8:0B:4A:25:F6:40:03:5A:31
            X509v3 Authority Key Identifier: 
                keyid:E4:38:12:AC:85:88:AA:74:9E:CB:1E:3B:38:B8:6B:C8:5A:8F:5E:0C

            X509v3 Subject Alternative Name: 
                DNS:Keiths-MBP.nc.rr.com
    Signature Algorithm: ecdsa-with-SHA256
        30:44:02:20:04:df:bd:7b:7d:86:db:4e:9a:40:ad:99:8e:b9:
        04:b9:2a:74:f2:c1:65:3f:c6:68:0b:cd:9e:61:31:dc:8d:a9:
        02:20:7c:2b:a1:68:68:43:d3:36:da:b9:89:84:56:8f:36:51:
        27:22:07:cc:07:ba:15:3c:3f:6f:ad:28:d0:77:42:ab
{code}
;;;","16/Jun/17 11:26 PM;smithbk;What should be the default expiration for TLS certs?;;;","16/Jun/17 11:54 PM;binhn;Thanks [~smithbk] for the detail. I don't have a strong recommendation on default expiration, but following fiscal year renewal might be a right choice. [~mastersingh24], [~elli-androulaki]

[~angelo.decaro], re the key `X509v3 Extended Key Usage`, we should put that in the yaml just in case not everyone using the same key.;;;","19/Jun/17 9:07 PM;angelo.decaro;So, one way to implement solution 3) is to enforce that the certificates of x509-based MSP identities have KeyUsage=KeyUsageDigitalSignature and do not have any of  ExtKeyUsageAny or ExtKeyUsageClientAuth or ExtKeyUsageServerAuth or ExtKeyUsageNetscapeServerGatedCrypto or ExtKeyUsageMicrosoftServerGatedCrypto as ExtKeyUsage.

But for this. we have change cryptogen to generate certificates with those key usages. 
As a consequence of that would be to generate different tbs certificates. 
Would that be fine? [~mastersingh24][~elli-androulaki][~yacovm][~binhn];;;","19/Jun/17 9:15 PM;mastersingh24;[~adc] Are we really going to prohibit people who want to use the same certs for both TLS and endorsement from doing so?  We can claim it's a best practice, but not sure that I agree that we should 100% prohibit this.

We can definitely make changes to cryptogen.  We'd have to basically separate out the generation of TLS and identity certificates (was going to do this in the future anyway but we were trying to limit the scope of changes).;;;","19/Jun/17 9:19 PM;angelo.decaro;So, solution 3 is not the right one in this case and the other solutions looks anyway more complex in terms of impact on the code. 
Anyway, best practices tell us that one should not reuse the same cryptographic material so I would be schooled if fabric would forbid it.;;;","19/Jun/17 9:26 PM;yacovm;So regarding your change set, [~adc] - if we just want to enforce the fabric not to use the same certificates for TLS and MSP why enforce it via the extensions?
Why can't we instead have some local ""registry"" in the peer / orderer that each certificate that is used for something (loading the cert for TLS or loading the cert for MSP) would be registered into that registry, and then when a subsequent register for that cert for a different usage would be attempted at the peer / orderer startup, it would prevent it with an error message that says that the user can't use the same cert for both TLS and MSP ? ;;;","19/Jun/17 9:28 PM;angelo.decaro;[~yacovm], that's definitely an option. I sounds like having a bigger impact on the code w.r.t. what I have submitted :(;;;","19/Jun/17 9:33 PM;mastersingh24;[~yacovm] - I don't think we need to even go that far.  I think the solution that fits best with the current design constructs would be to simply add a ""tlscerts"" or ""tlsrootcerts"" field to the MSP structure.  So we simply need to modify the msp proto to have this field and add he ability to load certs from a directory with the same name (just like the rest of the MSP).  

The question is how badly do we need this for v1.0.0?

BTW - with TLS, we need not worry about separating the root and intermediate certs (this is handled by the TLS stack) like we do for the roots/intermediates for the MSP identity certs.;;;","19/Jun/17 10:31 PM;mastersingh24;[~adc][~elli-androulaki] On second thought, I'm ok if we really want to restrict MSP identity certs to digital signature usage only.  We would of course need to document this, but I don't think this will have a major impact on the code or the tests.  I think there might be a whole in the fact that I think you can still use those certs for TLS (not all stacks enforce usage), but we can also add those checks in our TLS code as well if needed.   Let me know.

So this would allow us to still have a single CA - but we would actually enforce key usage - which is good and prevent people from using the same certs for TLS and MSP signing identity.  I think that is actually OK;;;","19/Jun/17 10:41 PM;angelo.decaro;That's good then, cryptogen needs to be modified as well. Do you want to take on that, [~mastersingh24]?;;;","19/Jun/17 10:47 PM;mastersingh24;Yeah - let's create some tasks under this JIRA.  I'm happy to take on cryptogen;;;","19/Jun/17 11:01 PM;elli-androulaki;Ok, great; sounds good to me. 
Btw, this will not fix the issue for commercial CA support for TLS right?;;;","20/Jun/17 12:44 AM;smithbk;So everyone is OK with the fabric-ca default config change I mentioned previously, right?  If yes, I'll go ahead and push the change set.;;;","20/Jun/17 12:50 AM;binhn;[~smithbk] [~elli-androulaki] [~adc]  just chatted with Elli on this https://jira.hyperledger.org/browse/FAB-4626?focusedCommentId=26721&page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel#comment-26721

It sounds to me like impedance mismatch, no?;;;","20/Jun/17 8:40 PM;elli-androulaki;Related CR:

https://gerrit.hyperledger.org/r/#/c/10825;;;","21/Jun/17 1:55 AM;Clayton Sims;moving status to review;;;","22/Jun/17 3:06 AM;elli-androulaki;CR [https://gerrit.hyperledger.org/r/#/c/10915] is also related to this item.;;;","22/Jun/17 9:50 PM;elli-androulaki;Changing the status to ""In Progress"" given there are few sub-tasks that are not yet done.;;;",,,,,,,,,,,,,,,,,,,,,,,,,
Deliver clients drop grpc connection with orderers when restarted the kafka broker,FAB-4627,17898,,Bug,Closed,FAB,Fabric,software,denyeart,,,Lowest,Done,kchristidis,suryalnvs,suryalnvs,14/Jun/17 11:30 PM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,15/Jun/17 6:53 AM,v1.0.0-alpha2,,,WON'T FIX,,fabric-orderer,fabric-peer,,,,,,0,kafka,quality,,,,,,"When tried to restart the kafka brokers sequentially, deliver clients drop the grpc connection with orderers.

*Fabric commit:* 076ef432fd3657b5448b07ef07df6df644a82d46, *Date:* Tue Jun 13 20:42:21 2017 +0000.

*Network Configuration:* 3 orderers, 4 kafka brokers, 3 zookeepers, 2 orgs with 2 peers in each.

*Steps:*
 The test case is to restart the kafka brokers sequentially while sending in the traffic using broadcast client and receiving through deliver client with OTE.
 *Step 1:* Run the testcase ORD94 in OTE
         {color:#14892c}go test -run ORD94 -timeout 45m{color}
 This will launch the network with the configuration mentioned above, starts the deliver clients first and each client will be connected to each orderer, starts broadcast clients for each orderer and starts sending the traffic to the orderers. Then a separate thread will be used to restart the kafka broker one after the other with 2 minutes time gap between them. During this restart process, when a kafka broker is taken down, to which the orderers are connected to, the deliver clients grpc connection are being dropped with SERVICE_UNAVAILABLE. All deliver clients encountered this error and dropped grpc connections at same time, when we stopped one particular kafka broker (not the first one) - so we suspect the orderers were all connected to that one.

Attached the logs for the reference.

*Expected:*
 Taking down one kafka broker out of 4, should not affect the orderer connections as relication factor is set to 3, minimum ISR is set to 2. 
*This worked as expected with the beta commit level: no grpc connections were dropped.*","vagrant, ubuntu16.04",C0rWin,kchristidis,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"15/Jun/17 12:10 AM;suryalnvs;docker-compose-base.yaml;https://jira.hyperledger.org/secure/attachment/11068/docker-compose-base.yaml","15/Jun/17 4:31 AM;suryalnvs;kafka0_FAB4627.txt;https://jira.hyperledger.org/secure/attachment/11071/kafka0_FAB4627.txt","15/Jun/17 4:31 AM;suryalnvs;kafka1_FAB4627.txt;https://jira.hyperledger.org/secure/attachment/11072/kafka1_FAB4627.txt","15/Jun/17 4:31 AM;suryalnvs;kafka2_FAB4627.txt;https://jira.hyperledger.org/secure/attachment/11073/kafka2_FAB4627.txt","15/Jun/17 4:31 AM;suryalnvs;kafka3_FAB4627.txt;https://jira.hyperledger.org/secure/attachment/11074/kafka3_FAB4627.txt","15/Jun/17 4:31 AM;suryalnvs;ote_FAB4627.txt;https://jira.hyperledger.org/secure/attachment/11075/ote_FAB4627.txt",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy2bb:",,,,,,,,,,,,,,,,,,,,,,,,,,,C0rWin,kchristidis,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"14/Jun/17 11:42 PM;kchristidis;This bug is filed as HIGH priority yet the orderer logs do not include any orderer logging statements. (Only from the Kafka library.) Why are these omitted? We should be logging at DEBUG level.;;;","14/Jun/17 11:54 PM;kchristidis;Also, the Docker Compose configuration files are missing.;;;","15/Jun/17 12:13 AM;suryalnvs;In the above mentioned test case, we are sending 300000 transactions which is making the log files grow large in size, when loglevel set to debug, which I am not able to add in here.;;;","15/Jun/17 12:17 AM;kchristidis;But it's impossible for me to debug without a log file.

Let's post the file on Dropbox or Google Drive if we have to and add the link here.;;;","15/Jun/17 12:18 AM;kchristidis;Even an extract of the log files is better than nothing.;;;","15/Jun/17 12:18 AM;kchristidis;It might also be helpful to turn the Kafka verbosity to off (`KAFKA_VERBOSE=FALSE`) so that we can get the output of the orderer only.;;;","15/Jun/17 12:41 AM;suryalnvs;Here is the link for the orderer logs with debug logging level [https://drive.google.com/drive/u/0/folders/0Bwi1M8GROKyQdFp0ZGFCcTB3U0k. 
|https://drive.google.com/drive/u/0/folders/0Bwi1M8GROKyQdFp0ZGFCcTB3U0k]

If you need any information/execution steps, do not hesitate to reach out to me.;;;","15/Jun/17 2:21 AM;kchristidis;How did you address this? https://jira.hyperledger.org/browse/FAB-4415

And what steps are you taking to make sure this doesn't happen?

I see these printouts in the logs:
{noformat}
[sarama] 2017/06/14 15:20:20.289551 client.go:620: client/metadata got error from broker while fetching metadata: dial tcp 9.42.20.87:9092: getsockopt: connection refused
[sarama] 2017/06/14 15:20:20.298898 client.go:620: client/metadata got error from broker while fetching metadata: dial tcp 9.42.20.81:9092: getsockopt: connection refused
[sarama] 2017/06/14 15:20:20.306592 client.go:620: client/metadata got error from broker while fetching metadata: dial tcp 9.37.200.4:9092: getsockopt: connection refused{noformat}
Which make me thing that the local networking issues you were facing FAB-4415 persist.;;;","15/Jun/17 2:25 AM;kchristidis;What is the timestamp in the log when you bring the first broker down? (What about the second one?)

Approximate timestamps will do.

Please update the JIRA with this information.;;;","15/Jun/17 2:39 AM;kchristidis;Just to confirm:
{quote}During this restart process, when a kafka broker is taken down, to which the orderers are connected to, the deliver clients grpc connection are being dropped with SERVICE_UNAVAILABLE. All deliver clients encountered this error and dropped grpc connections at same time, when we stopped one particular kafka broker (not the first one) - so we suspect the orderers were all connected to that one.
{quote}
If you keep that broker down, will you be able to have your Deliver RPCs served eventually?

The answer should be yes. In which case this is not a bug. (If I'm wrong, please let me know.)
{quote}Taking down one kafka broker out of 4, should not affect the orderer connections as relication factor is set to 3, minimum ISR is set to 2.
{quote}
I can see why you would expect that but this is not how things work. (And this is because of the way Kafka works.)

Even if you take down a number of brokers that's well within your crash fault tolerance limits (as is the case with your experiment), the connected clients will return SERVICE_UNAVAILABLE and will drop the connection. If you reconnect, the request will go through. This is needed because Kafka/ZK needs to assign a different leader to the channel, and the orderer needs to establish a connection to the new leader for that channel. (If you suggest that the orderer should hold off a little while, see if they can get a connection to the new broker, and _then_ trigger the SERVICE_UNAVAILABLE response, I can assure you that this gets tricky fast, and has repercussions on the orderer's responsiveness in general. It something that we could maybe look into later down the road, but it's low in my list of priorities.)

This is also inline with the Kafka semantics BTW: a failing consumer should keep retrying.;;;","15/Jun/17 2:40 AM;kchristidis;(Downgrading this and expecting confirmation from Surya on the above.);;;","15/Jun/17 4:01 AM;suryalnvs;No, when I take down a kafka broker, deliver client's grpc connection is dropped with the orderer and its not able to serve anymore requests.;;;","15/Jun/17 4:11 AM;kchristidis;Got it. Please address the rest of the comments above.;;;","15/Jun/17 4:46 AM;suryalnvs;regarding the timestamps, took down the kafka0 broker at *Stopping kafka0 at  2017-06-14 19:02:02.967123925 +0000 UTC*, kafka1 at *Stopping kafka1 at  2017-06-14 19:04:35.665246601 +0000 UTC*, kafka2 at *Stopping kafka2 at 2017-06-14 19:07:09.04119599 +0000 UTC*

Uploaded the latest logs, refer them with the timestamps mentioned above(added new orderer logs to [https://drive.google.com/drive/u/0/folders/0Bwi1M8GROKyQdFp0ZGFCcTB3U0k]).

 

When I ran same testcase using *beta version*, I haven't seen this behaviour of dropping grpc connection during sequential restart of the kafka-brokers;;;","15/Jun/17 5:23 AM;C0rWin;[~suryalnvs] can you please also share peers logs as well? I need them to correlate with orderers log files.;;;","15/Jun/17 6:37 AM;kchristidis;Surya to post an update here.

Not a bug, this behavior is caused by the fact that the test uses a deliver client w/o retry logic.

After the beta we made it so that the orderer will disconnect all connected deliver clients if there is an issue with the orderer-to-Kafka communication. See: [https://gerrit.hyperledger.org/r/#/c/10323/]

The issue here is that the test is bringing down the broker that is the leader for the channel in question. When that broker goes down, the orderer will return a service_unavailable (and disconnect the deliver client) while it establishes a connection to the new leader. This last for a second or two usually.

A deliver client w/ retry logic, such as the one the peer is equipped with, will handle this w/o issues.;;;","15/Jun/17 6:44 AM;suryalnvs;[~C0rWin] the test is not using peers, but simulating the process using deliver clients in OTE  (orderer traffic engine tool).

As per the discussion with Kostas, wiith the changes mentioned in this patchset [https://gerrit.hyperledger.org/r/#/c/10323/,] the grpc connection with the delivery clients will be closed, once the leader kafka broker is restarted, this is working as expected. Thank you [~kchristidis];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
test bug to debug query,FAB-4642,17916,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,,Clayton Sims,Clayton Sims,15/Jun/17 12:34 AM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,20/Jul/17 2:01 AM,v1.0.0-beta,,,Future,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy2br:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
add peer and orderer to release binaries,FAB-4644,17919,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ChristopherFerris,ChristopherFerris,ChristopherFerris,15/Jun/17 2:00 AM,21/Jul/18 3:54 AM,28/Oct/23 3:00 AM,20/Jun/17 6:10 PM,v1.0.0-beta,,,v1.0.0-rc1,,,,,,,,,1,build-system,,,,,,,add peer and orderer to release binaries,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,3600,3600,,0%,3600,3600,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,FAB-4518,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzy2bz:",,,,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"15/Jun/17 2:08 AM;ChristopherFerris;https://gerrit.hyperledger.org/r/#/c/10583/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Ledger performance test: with goleveldb and varying number of parallel transactions per chain,FAB-4646,17923,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,AdnanChoudhury,Clayton Sims,Clayton Sims,15/Jun/17 4:18 AM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,18/May/18 12:17 AM,,,,v1.0.0,v1.1.0,fabric-quality,,,,,,,0,ContinuousDelivery,SystemTestcase,,,,,,"* ++Test Name:+  -FAB-3795-_Ledger_Performance_Goleveldb_VaryNumChain+
 * +Component+:  Ledger
 * +Artifact Locations+:  {{fabric/test/tools/LTE}}
 * +Network Topology+: Not Applicable, as it tests the component only
 * +Input+:  To run, from {{fabric}} folder 
 {{cd /test/regression/daily}}
 run: 
 {{py.test v -junitxml results.xml ./test_ledger_benchmark.py -k '-FAB-3790-_Goleveldb_VaryNumParallelTxPerChain' }}

 * +Description+: In this test, we observe the the performance (operations per second) of the Ledger component, with goleveldb as the state database, as we vary the number of parallel transactions per chain. We use the Ledger test harness tool (LTE).
 * +Output+: the output is in the log file:
 {{output_VaryNumParallelTxPerChain.log}}
 The summary is saved in the file:
 {{results.csv}}",,AdnanChoudhury,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-10083,,,,,,,,,,"1|hzy2c7:",,,,,,,,,,,,,,,,,,,,,,,,,,,AdnanChoudhury,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"22/Sep/17 3:58 AM;AdnanChoudhury;Marking this as done as this test is is in fabric-test repo and being run by CI.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Ledger performance test: with goleveldb and varying number of chains,FAB-4647,17924,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,AdnanChoudhury,Clayton Sims,Clayton Sims,15/Jun/17 4:19 AM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,18/May/18 12:17 AM,,,,v1.0.0,v1.1.0,fabric-quality,,,,,,,0,ContinuousDelivery,SystemTestcase,,,,,,"* ++Test Name:+  -FAB-3795-_Ledger_Performance_Goleveldb_VaryNumChain+
 * +Component+:  Ledger
 * +Artifact Locations+:  {{fabric/test/tools/LTE}}
 * +Network Topology+: Not Applicable, as it tests the component only
 * +Input+:  To run, from \{\{fabri}}c folder 
 {{cd /test/regression/daily}}
 run: 
 {{py.test -v --junitxml results.xml ./test_ledger_benchmark.py}}

 * +Description+: In this Performance test, we observe the the performance (operations per second) of the Ledger component, with goleveldb as the state database, as we vary the number of chains (ledgers). We the Ledger test harness tool (LTE).
 * +Output+: the output is in the log file:
 {{output_VaryNumChain.log}}
 The summary is saved in the file:
 {{results.csv}}",,AdnanChoudhury,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-10083,,,,,,,,,,"1|hzy2cf:",,,,,,,,,,,,,,,,,,,,,,,,,,,AdnanChoudhury,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"28/Nov/17 12:50 AM;AdnanChoudhury;Test exists in the LTE.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Ledger component perf. test: GolevelDB, varying number of chains without parallel transactions in inside each chain",FAB-4648,17925,13309,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,AdnanChoudhury,Clayton Sims,Clayton Sims,15/Jun/17 4:20 AM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,28/Nov/17 12:52 AM,,,,v1.0.0,,fabric-quality,,,,,,,0,,,,,,,,"* ++Test Name:+   -FAB-3799-_Ledger_Performance_Goleveldb_VaryNumChainWithNoParallelissm+
 * +Component+:  Ledger
 * +Artifact Locations+:  {{fabric/test/tools/LTE}}
 * +Network Topology+: Not Applicable, as it tests the component only
 * +Input+:  To run, from {{fabric}} folder 
 {{cd /test/regression/daily}}
 run: 
 {{py.test -v --junitxml results.xml ./test_ledger_benchmark.py}}

 * +Description+: In this test, we observe the the performance (operations per second) of the Ledger component, with goleveldb as the state database, as we vary the number of chains without any parallelism within a single chain. We the Ledger test harness tool (LTE).
 * +Output+: the output is in the log file:
 {{output_VaryNumChainWithNoParallelissm.log}}
 The summary is saved in the file:
 {{results.csv}}",,AdnanChoudhury,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy2cn:",,,,,,,,,,,,,,,,,,,,,,,,,,,AdnanChoudhury,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"28/Nov/17 12:51 AM;AdnanChoudhury;Test exists in LTE in fabric-test repo.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Ledger performance test: with goleveldb and varying number of chains without any parallelism within a single chain.,FAB-4649,17926,13309,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,AdnanChoudhury,Clayton Sims,Clayton Sims,15/Jun/17 4:21 AM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,22/Sep/17 3:58 AM,,,,v1.0.0,,fabric-quality,,,,,,,0,,,,,,,,"* ++Test Name:+  FAB-4646_Ledger_Performance_Goleveldb_VaryNumParallelTxPerChain+
 * +Component+:  Ledger
 * +Artifact Locations+:  {{fabric/test/tools/LTE}}
 * +Network Topology+: Not Applicable, as it tests the component only
 * +Input+:  To run, from \{\{fabri}}c folder 
{{cd /test/regression/daily}}
run: 
{{py.test -v --junitxml results.xml ./test_ledger_benchmark.py}}

 * +Description+: In this test, we observe the the performance (operations per second) of the Ledger component, with goleveldb as the state database, as we vary the number of parallel transactions per chain. We the Ledger test harness tool (LTE).
 * +Output+: the output is in the log file:
{{output_VaryNumParallelTxPerChain.log}}
The summary is saved in the file:
{{results.csv}}",,AdnanChoudhury,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy2cv:",,,,,,,,,,,,,,,,,,,,,,,,,,,AdnanChoudhury,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"22/Sep/17 3:58 AM;AdnanChoudhury;Marking this as done as this test is is in fabric-test repo and being run by CI.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Ledger performance test: with goleveldb and varying size of key-value.,FAB-4650,17927,13309,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,AdnanChoudhury,Clayton Sims,Clayton Sims,15/Jun/17 4:22 AM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,22/Sep/17 3:58 AM,,,,v1.0.0,,fabric-quality,,,,,,,0,,,,,,,,"* ++Test Name:+  -FAB-3801-_Ledger_Performance_Goleveldb_VaryKVSize+VaryKVSize
 * +Component+:  Ledger
 * +Artifact Locations+:  {{fabric/test/tools/LTE}}
 * +Network Topology+: Not Applicable, as it tests the component only
 * +Input+:  To run, from \{\{fabri}}c folder 
 {{cd /test/regression/daily}}
 run: 
 {{py.test -v --junitxml results.xml ./test_ledger_benchmark.py}}

 * +Description+:In this test, we observe the the performance (operations per second) of the Ledger component, with goleveldb as the state database, varying the size of key-value. We the Ledger test harness tool (LTE).
 * +Output+: the output is in the log file:
 {{output_VaryKVSize.log}}
 The summary is saved in the file:
 {{results.csv}}",,AdnanChoudhury,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy2d3:",,,,,,,,,,,,,,,,,,,,,,,,,,,AdnanChoudhury,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"22/Sep/17 3:58 AM;AdnanChoudhury;Marking this as done as this test is is in fabric-test repo and being run by CI.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Ledger performance test: with goleveldb and varying value of the batch size,FAB-4651,17928,13309,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,AdnanChoudhury,Clayton Sims,Clayton Sims,15/Jun/17 4:22 AM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,22/Sep/17 3:58 AM,,,,v1.0.0,,fabric-quality,,,,,,,0,,,,,,,,"* ++Test Name:+    -FAB-3802-_Ledger_Performance_Goleveldb_VaryBatchSize+
 * +Component+:  Ledger
 * +Artifact Locations+:  {{fabric/test/tools/LTE}}
 * +Network Topology+: Not Applicable, as it tests the component only
 * +Input+:  To run, from {{fabric}} folder 
 {{cd /test/regression/daily}}
 run: 
 {{py.test -v --junitxml results.xml ./test_ledger_benchmark.py }}

 * +Description+: In this test, we observe the the performance (operations per second) of the Ledger component, with goleveldb as the state database, as we vary the value of the batch size. We use the Ledger test harness tool (LTE).
 * +Output+: the output is in the log file:
 {{output_VaryBatchSize.log}}
 The summary is saved in the file:
 {{results.csv}}",,AdnanChoudhury,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy2db:",,,,,,,,,,,,,,,,,,,,,,,,,,,AdnanChoudhury,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"22/Sep/17 3:58 AM;AdnanChoudhury;Marking this as done as this test is is in fabric-test repo and being run by CI.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Ledger performance test: with goleveldb and varying number of transactions carried out.,FAB-4652,17929,13309,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,AdnanChoudhury,Clayton Sims,Clayton Sims,15/Jun/17 4:23 AM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,22/Sep/17 3:59 AM,,,,v1.0.0,,fabric-quality,,,,,,,0,,,,,,,,"* ++Test Name:+  -FAB-3803-_Ledger_Performance_Goleveldb_VaryNumTxs+
 * +Component+:  Ledger
 * +Artifact Locations+:  {{fabric/test/tools/LTE}}
 * +Network Topology+: Not Applicable, as it tests the component only
 * +Input+:  To run, from {{fabric}} folder 
 {{cd /test/regression/daily}}
 run: 
 {{py.test -v --junitxml results.xml ./test_ledger_benchmark.py }}

 * +Description+: IIn this test, we observe the the performance (operations per second) of the Ledger component, with goleveldb as the state database, as we vary the number of transactions carried out. We use the Ledger test harness tool (LTE).
 * +Output+: the output is in the log file:
 {{output_VaryNumTxs.log}}
 The summary is saved in the file:
 {{results.csv}}",,AdnanChoudhury,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy2dj:",,,,,,,,,,,,,,,,,,,,,,,,,,,AdnanChoudhury,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"22/Sep/17 3:59 AM;AdnanChoudhury;Marking this as done as this test is is in fabric-test repo and being run by CI.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Ledger component perf. test: GolevelDB, varying number of keys in each transaction",FAB-4653,17930,13309,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,AdnanChoudhury,Clayton Sims,Clayton Sims,15/Jun/17 4:23 AM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,22/Sep/17 3:59 AM,,,,v1.0.0,,fabric-quality,,,,,,,0,,,,,,,,"* ++Test Name:+   -FAB-3800-_Ledger_Performance_Goleveldb_VaryNumKeysInEachTX+
 * +Component+:  Ledger
 * +Artifact Locations+:  {{fabric/test/tools/LTE}}
 * +Network Topology+: Not Applicable, as it tests the component only
 * +Input+:  To run, from {{fabric}} folder 
 {{cd /test/regression/daily}}
 run: 
 {{py.test -v --junitxml results.xml ./test_ledger_benchmark.py }}

 * +Description+:In this test, we observe the the performance (operations per second) of the Ledger component, with goleveldb as the state database, as we vary the number of keys in each transaction. We use the Ledger test harness tool (LTE).
 * +Output+: the output is in the log file:
 {{output_VaryNumKeysInEachTX.log}}
 The summary is saved in the file:
 {{results.csv}}",,AdnanChoudhury,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy2dr:",,,,,,,,,,,,,,,,,,,,,,,,,,,AdnanChoudhury,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"22/Sep/17 3:59 AM;AdnanChoudhury;Marking this as done as this test is is in fabric-test repo and being run by CI.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Ledger performance test: with couchdb and varying number of parallel transactions per chain,FAB-4654,17931,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,AdnanChoudhury,Clayton Sims,Clayton Sims,15/Jun/17 4:23 AM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,18/May/18 12:17 AM,,,,v1.0.0,v1.1.0,fabric-quality,,,,,,,0,ContinuousDelivery,SystemTestcase,,,,,,"* ++Test Name:+ 
 * +Component+:  Ledger
 * +Artifact Locations+:  To be contributed
 * +Network Topology+: Not Applicable, as it tests the component only
 * +Input+: To be contributed

 * +Description+: In this test, we observe the the performance (operations per second) of the Ledger component, with Couchdb as the state database, as we vary the number of parallel transactions per chain. We use the Ledger test harness tool (LTE).
 * +Output+: to be added",,AdnanChoudhury,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-10083,,,,,,,,,,"1|hzy2dz:",,,,,,,,,,,,,,,,,,,,,,,,,,,AdnanChoudhury,,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,,true,"14/Sep/17 1:30 AM;AdnanChoudhury;https://gerrit.hyperledger.org/r/#/c/13423/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Ledger performance test: with couchdb and varying number chains,FAB-4655,17933,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,AdnanChoudhury,Clayton Sims,Clayton Sims,15/Jun/17 4:24 AM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,18/May/18 12:17 AM,,,,v1.0.0,v1.1.0,fabric-quality,,,,,,,0,ContinuousDelivery,SystemTestcase,,,,,,"* ++Test Name:+ 
 * +Component+:  Ledger
 * +Artifact Locations+:  To be contributed
 * +Network Topology+: Not Applicable, as it tests the component only
 * +Input+: To be contributed

 * +Description+: In this Performance test, we observe the the performance (operations per second) of the Ledger component, with CouchDB as the state database, as we vary the number of chains (ledgers). We the Ledger test harness tool (LTE).
 * +Output+: to be added",,AdnanChoudhury,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-10083,,,,,,,,,,"1|hzy2e7:",,,,,,,,,,,,,,,,,,,,,,,,,,,AdnanChoudhury,,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,,true,"14/Sep/17 1:30 AM;AdnanChoudhury;https://gerrit.hyperledger.org/r/#/c/13423/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Ledger component perf. test: couchdb, varying number of chains without parallel transactions in inside each chain	",FAB-4656,17934,13309,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,AdnanChoudhury,Clayton Sims,Clayton Sims,15/Jun/17 4:25 AM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,22/Sep/17 3:42 AM,,,,v1.0.0,,fabric-quality,,,,,,,0,,,,,,,,"* ++Test Name:+ 
 * +Component+:  Ledger
 * +Artifact Locations+:  To be contributed
 * +Network Topology+: Not Applicable, as it tests the component only
 * +Input+: To be contributed

 * +Description+: In this test, we observe the the performance (operations per second) of the Ledger component, with CouchDB as the state database, as we vary the number of chains without any parallelism within a single chain. We the Ledger test harness tool (LTE).
 * +Output+: to be added",,AdnanChoudhury,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy2ef:",,,,,,,,,,,,,,,,,,,,,,,,,,,AdnanChoudhury,,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,,true,"14/Sep/17 1:30 AM;AdnanChoudhury;https://gerrit.hyperledger.org/r/#/c/13423/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Ledger performance test: with couchdb and varying number of chains without any parallelism within a single chain.,FAB-4657,17935,13309,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,AdnanChoudhury,Clayton Sims,Clayton Sims,15/Jun/17 4:25 AM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,22/Sep/17 3:43 AM,,,,v1.0.0,,fabric-quality,,,,,,,0,,,,,,,,"* ++Test Name:+ 
 * +Component+:  Ledger
 * +Artifact Locations+:  To be contributed
 * +Network Topology+: Not Applicable, as it tests the component only
 * +Input+: To be contributed

 * +Description+: In this test, we observe the the performance (operations per second) of the Ledger component, with CouchDB as the state database, as we vary the number of parallel transactions per chain. We the Ledger test harness tool (LTE).
 * +Output+: to be added",,AdnanChoudhury,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy2en:",,,,,,,,,,,,,,,,,,,,,,,,,,,AdnanChoudhury,,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,,true,"14/Sep/17 1:31 AM;AdnanChoudhury;https://gerrit.hyperledger.org/r/#/c/13423/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Ledger performance test: with couchdb and varying size of key-value.,FAB-4658,17936,13309,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,AdnanChoudhury,Clayton Sims,Clayton Sims,15/Jun/17 4:25 AM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,22/Sep/17 3:43 AM,,,,v1.0.0,,fabric-quality,,,,,,,0,,,,,,,,"* ++Test Name:+ 
 * +Component+:  Ledger
 * +Artifact Locations+:  To be contributed
 * +Network Topology+: Not Applicable, as it tests the component only
 * +Input+: To be contributed

 * +Description+:In this test, we observe the the performance (operations per second) of the Ledger component, with couchdb as the state database, varying the size of key-value. We the Ledger test harness tool (LTE).
 * +Output+: to be added",,AdnanChoudhury,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy2ev:",,,,,,,,,,,,,,,,,,,,,,,,,,,AdnanChoudhury,,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,,true,"14/Sep/17 1:31 AM;AdnanChoudhury;https://gerrit.hyperledger.org/r/#/c/13423/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Ledger performance test: with couchdb and varying value of the batch size,FAB-4659,17937,13309,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,AdnanChoudhury,Clayton Sims,Clayton Sims,15/Jun/17 4:26 AM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,22/Sep/17 3:43 AM,,,,v1.0.0,,fabric-quality,,,,,,,0,,,,,,,,"* ++Test Name:+ 
 * +Component+:  Ledger
 * +Artifact Locations+:  To be contributed
 * +Network Topology+: Not Applicable, as it tests the component only
 * +Input+: To be contributed

 * +Description+: In this test, we observe the the performance (operations per second) of the Ledger component, with goleveldb as the state database, as we vary the value of the batch size. We use the Ledger test harness tool (LTE).
 * +Output+: to be added",,AdnanChoudhury,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy2f3:",,,,,,,,,,,,,,,,,,,,,,,,,,,AdnanChoudhury,,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,,true,"14/Sep/17 1:31 AM;AdnanChoudhury;https://gerrit.hyperledger.org/r/#/c/13423/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Ledger component perf. test: Couchdb, varying number of keys in each transaction",FAB-4660,17938,13309,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,AdnanChoudhury,Clayton Sims,Clayton Sims,15/Jun/17 4:26 AM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,22/Sep/17 3:43 AM,,,,v1.0.0,,fabric-quality,,,,,,,0,,,,,,,,"* ++Test Name:+ 
 * +Component+:  Ledger
 * +Artifact Locations+:  To be contributed
 * +Network Topology+: Not Applicable, as it tests the component only
 * +Input+: To be contributed

 * +Description+:In this test, we observe the the performance (operations per second) of the Ledger component, with couchdb as the state database, as we vary the number of keys in each transaction. We use the Ledger test harness tool (LTE).
 * +Output+: to be added",,AdnanChoudhury,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy2fb:",,,,,,,,,,,,,,,,,,,,,,,,,,,AdnanChoudhury,,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,,true,"14/Sep/17 1:31 AM;AdnanChoudhury;https://gerrit.hyperledger.org/r/#/c/13423/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Ledger performance test: with couchdb and varying number of transactions carried out.,FAB-4661,17939,13309,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,AdnanChoudhury,Clayton Sims,Clayton Sims,15/Jun/17 4:26 AM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,22/Sep/17 3:43 AM,,,,v1.0.0,,fabric-quality,,,,,,,0,,,,,,,,"* ++Test Name:+ 
 * +Component+:  Ledger
 * +Artifact Locations+:  To be contributed
 * +Network Topology+: Not Applicable, as it tests the component only
 * +Input+: To be contributed

 * +Description+: IIn this test, we observe the the performance (operations per second) of the Ledger component, with couchdb as the state database, as we vary the number of transactions carried out. We use the Ledger test harness tool (LTE).
 * +Output+: to be added",,AdnanChoudhury,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy2fj:",,,,,,,,,,,,,,,,,,,,,,,,,,,AdnanChoudhury,,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,,true,"14/Sep/17 1:32 AM;AdnanChoudhury;https://gerrit.hyperledger.org/r/#/c/13423/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Test for core function of recording invalid transactions as first/middle/last transaction of a block.,FAB-4662,17940,13309,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,Ratnakar,Clayton Sims,Clayton Sims,15/Jun/17 4:27 AM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,17/Jun/17 7:55 AM,,,,v1.0.0,,fabric-quality,,,,,,,0,,,,,,,," 

Test Name : _Test for core function of recording invalid transactions as first/middle/last transaction of a block._

Component: _Ledger_

Description :

Test for core function of recording invalid transactions as first/middle/last transaction of a block. Spin up minimal Fabric network, with batchsize=3 and batchtimeout=10s (default, is long enough to easily send all the transactions).
 Send 4 trans that update the same key in the same block (could use example02), using same channel and chaincode. Immediately after, also send another (5th) transaction which uses a DIFFERENT chaincode instance in the same channel. Expected: MVCC check should Validate the 1st and last transaction, and mark as Invalid all the others. Confirm exactly that by querying afterwards. (It is important to send that 4th transaction quickly enough before the first block of transactions is ordererd and written to ledger, so that it uses the same KV precondition as the first 3 transactions.)
 BLOCK1=[ Valid , Invalid , Invalid ] , BLOCK2=[ Invalid , Valid ]
 * _+How to test+_ *_+:+_*
{panel}
Fabric commit level: d4a8aab0d6ff62f160d27ccc287f768806591372
 Fabric-ca commit level: 1424b3378df7086a651c533280cdcc3a2055b033
{panel}

_Node SDK modules:_
{panel}
fabric-client@1.0.0-snapshot.80
 fabric-ca-client@1.0.0-snapshot.80
{panel}
Network used : Standard Network

Node test framework has been used from this repo: [https://github.com/asararatnakar/FabricNodeApp1.0]

framework commit level : *3e43f974a04bdccc09a6ff763fbcf5ffb043121b*

Enclosed the test script [^test.sh]
  

+Artifact Locations+:  see How to test section above

+Network Topology+: Standard network

 ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"17/Jun/17 5:54 AM;Ratnakar;test.sh;https://jira.hyperledger.org/secure/attachment/11191/test.sh",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy2fr:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Gossip test:In a leader-election setup, a non-leader peer goes offline (network disconnect) temporarily and comes back up--- is expected to catch up all blocks quickly.",FAB-4663,17942,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,AdnanChoudhury,Clayton Sims,Clayton Sims,15/Jun/17 4:35 AM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,18/May/18 12:17 AM,,,,v1.0.0,v1.1.0,fabric-quality,,,,,,,0,ContinuousDelivery,SystemTestcase,,,,,,"*Component*: Gossip data-dissemination
*Network topology*: 2 org, 4 peer with 2 peer for each org.
*Test description*:
Leveraging the \{\{e2ecli}} example available at \{\{fabric/example/e2ecli}},
 # find the non-leader peer of org. 2 by looking at the gossip log.
 #  disconnect it from the network
 # run an invoke in in a peer of org. 1
 # connect back the non-leader
 # *check:* query that peer to see if it has updated value.",,AdnanChoudhury,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-10084,,,,,,,,,,"1|hzy2g7:",,,,,,,,,,,,,,,,,,,,,,,,,,,AdnanChoudhury,scottz,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,,,,,,,true,"15/Aug/17 11:34 PM;AdnanChoudhury;https://gerrit.hyperledger.org/r/#/c/12767/;;;","17/May/18 7:32 AM;scottz;Reopening this for execution in v1.2 system test.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Gossip test: In a leader-election setup, A non-leader peer, goes down (docker stop) temporarily and comes back up--- is expected to catch up all blocks quickly.",FAB-4664,17943,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,AdnanChoudhury,Clayton Sims,Clayton Sims,15/Jun/17 4:36 AM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,18/May/18 12:17 AM,,,,v1.0.0,v1.1.0,fabric-quality,,,,,,,0,ContinuousDelivery,SystemTestcase,,,,,,"*Component*: Gossip data-dissemination
*Network topology*: 2 org, 4 peer with 2 peer for each org.
*Test description:*

Leveraging the {{e2ecli}} example available at {{fabric/example/e2ecli}},
 # find the non-leader peer of org. 2 by looking at the gossip log.
 #  stop the peer container.
 # run an invoke in in a peer of org. 1
 # Restart the non-leader peer.
 # *check:* query that peer to see if it has updated value.",,AdnanChoudhury,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-10084,,,,,,,,,,"1|hzy2gf:",,,,,,,,,,,,,,,,,,,,,,,,,,,AdnanChoudhury,scottz,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,,,,,,,true,"26/Aug/17 4:38 AM;AdnanChoudhury;https://gerrit.hyperledger.org/r/#/c/12447/;;;","17/May/18 7:32 AM;scottz;Reopening this for execution in v1.2 system test.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Gossip test: In a leader-election setup, A non-leader peer, freezes temporarily (docker pause) temporarily and comes back up--- is expected to catch up all blocks quickly.",FAB-4665,17944,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,AdnanChoudhury,Clayton Sims,Clayton Sims,15/Jun/17 4:37 AM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,18/May/18 12:17 AM,,,,v1.0.0,v1.1.0,fabric-quality,,,,,,,0,ContinuousDelivery,SystemTestcase,,,,,,"*Component*: Gossip data-dissemination
*Network topology*: 2 org, 4 peer with 2 peer for each org.
*Test description:*

Leveraging the {{e2ecli}} example available at {{fabric/example/e2ecli}},
 # find the non-leader peer of org. 2 by looking at the gossip log.
 #  Pause the peer container.
 # run an invoke in in a peer of org. 1
 # Unpause the non-leader peer.
 # *check:* query that peer to see if it has updated value.",,AdnanChoudhury,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-10084,,,,,,,,,,"1|hzy2gn:",,,,,,,,,,,,,,,,,,,,,,,,,,,AdnanChoudhury,scottz,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,,,,,,,true,"26/Aug/17 4:38 AM;AdnanChoudhury;https://gerrit.hyperledger.org/r/#/c/12767/;;;","17/May/18 7:32 AM;scottz;Reopening this for execution in v1.2 system test.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Gossip test: In a leader-election setup, A non-leader peer, that spawns and joins an already-active channel-----is expected to have all the blocks eventually. ",FAB-4666,17945,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,AdnanChoudhury,Clayton Sims,Clayton Sims,15/Jun/17 4:37 AM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,18/May/18 12:17 AM,,,,v1.0.0,v1.1.0,fabric-quality,,,,,,,0,ContinuousDelivery,SystemTestcase,,,,,,"*Component*: Gossip data-dissemination
*Network topology*: 2 org, 4 peer with 2 peer for each org.
*Test description:*

Leveraging the {{e2ecli}} example available at {{fabric/example/e2ecli}},
 # Stop  a peer container before it joins a channel. For the other 3 peers join/invoke/query as usual
 #  start the container and join the channel and install the chaincode.
 # *check:* query that peer to see if it has updated value.",,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-10084,,,,,,,,,,"1|hzy2gv:",,,,,,,,,,,,,,,,,,,,,,,,,,,scottz,,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,release-1.1,release-1.2,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,release-1.3,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-1.4,release-2.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,,,true,"17/May/18 7:32 AM;scottz;Reopening this for execution in v1.2 system test.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Gossip test: In a leader-election setup, A leader peer, goes offline temporarily and comes back up (AFTER a new leader is elected) - is expected to catch up all blocks evntually. Retry using down-time of different lengths - 15 or 30 or 90 secs...",FAB-4667,17946,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,AdnanChoudhury,Clayton Sims,Clayton Sims,15/Jun/17 4:38 AM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,18/May/18 12:17 AM,,,,v1.0.0,v1.1.0,fabric-quality,,,,,,,0,ContinuousDelivery,SystemTestcase,,,,,,"*Component*: Gossip data-dissemination
 *Network topology*: 2 org, 4 peer with 2 peer for each org.
 *Test description:*

Leveraging the {{e2ecli}} example available at {{fabric/example/e2ecli}},
 # find the leader peer of org. 2 by looking at the gossip log.
 #  disconnect the peer container.
 # run an invoke in in a peer of org. 1
 # Connect the leader peer after 30 second and make sure the other peer is selected leader.
 # *check:* query that peer to see if it has updated value.",,AdnanChoudhury,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-10084,,,,,,,,,,"1|hzy2h3:",,,,,,,,,,,,,,,,,,,,,,,,,,,AdnanChoudhury,scottz,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,,,,,,,true,"13/Sep/17 12:43 AM;AdnanChoudhury;https://gerrit.hyperledger.org/r/#/c/12889/;;;","17/May/18 7:32 AM;scottz;Reopening this for execution in v1.2 system test.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"sequential restarts to test recovery of each node in network, set orgLeaders",FAB-4669,17949,13898,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,dongming,scottz,scottz,15/Jun/17 4:42 AM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,10/Jul/18 3:23 AM,v1.0.0,,,v1.0.0,,fabric-quality,,,,,,,0,,,,,,,,"* Test Name: FAB-4669, performance sequential restarts
 * Component: recovery/robustness/stability
 * Description: This testcase uses chaincodes sample_cc, single host TLS 4 threads, 2 peers X 2 orgs, *Select TWO gossip orgleader* *peers in each org*: CORE_PEER_GOSSIP_ORGLEADER=true *, and set* CORE_PEER_GOSSIP_ORGLEADER=false *for all other peers.  Also, for every peer, set* CORE_PEER_GOSSIP_USELEADERELECTION=false. During traffic, restart each node (peers,orderers) one at a time. (1) For each of threads concurrently: send invoke transactions for duration of test (with 1 invoke per 1 second) to 1 peer. Distribute threads among orgs. (2) After specified time duration, query the ledger to ensure the last transaction was written and remove network and cleanup.
 * Artifact Locations: crypto-config
 * Network Topology: 4 Ord, 4 KB, 4 ZK, 2 Channels, 2 Org each each channel with 2 Peers and 1 ca for each org,
 Launch network on single host, use PTE in longrun mode, using 2 Channel, 1 CC, 4 threads
 * Client Driver: PTE
 * Input: ./pte_driver.sh userInputs/runCases-longrun-i.txt
 * Output:
 The benchmark passes if it completes without any error.
 The benchmark fails if it encounters error or does not complete, or any query fails.

 ",,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy2hb:",,,,,,Sprint 8 - Quality,Sprint 9 - Quality,Sprint 10 - Quality,Sprint 11 - Quality,Sprint 12 - Quality,Sprint 13 - Quality,Sprint 14 - Quality,Sprint 15 - Quality,,,,,,,,,,,,,,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"sequential restarts to test recovery of each node in network, useLeaderElection",FAB-4670,17950,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,dongming,scottz,scottz,15/Jun/17 4:44 AM,30/Jul/19 11:42 AM,28/Oct/23 3:00 AM,30/Jul/19 11:42 AM,v1.0.0,,,v1.0.0,v1.1.0,fabric-quality,,,,,,,0,SystemTestcase,,,,,,,"* Test Name: FAB-4670, performance sequential restarts,useLeaderElection
 * Component: recovery/robustness/stability
 * Description: This testcase uses chaincodes sample_cc, single host TLS 4 threads, 2 peers X 2 orgs, For all peers, set *CORE_PEER_GOSSIP_ORGLEADER=false* and *CORE_PEER_GOSSIP_USELEADERELECTION=true*.  During traffic, restart each node (peers,orderers) one at a time. (1) For each of threads concurrently: send invoke transactions for duration of test (with 1 invoke per 1 second) to 1 peer. Distribute threads among orgs. (2) After specified time duration, query the ledger to ensure the last transaction was written, and calculate tps, and remove network and cleanup.
 * Artifact Locations: crypto-config
 * Network Topology: 4 Ord, 4 KB, 4 ZK, 2 Org with 2 Peers each, and 1 ca for each org,
 Launch network on single hosts, use PTE in longrun mode, using 2 Channel, 1 CC, 4 threads
 * Client Driver: PTE
 * Input: ./pte_driver.sh userInputs/runCases-longrun-i.txt
 * Output:
 The benchmark passes if it completes without any error.
 The benchmark fails if it encounters error or does not complete, or any query fails.",,mastersingh24,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-10084,,,,,,,,,,"1|hzy2hj:",,,,,,,,,,,,,,,,,,,,,,,,,,,mastersingh24,scottz,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,,true,"30/Jul/19 11:42 AM;mastersingh24;Open 1 year or more with no activity ... time to cleanup;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Gossup test: In a leader-election setup, A leader peer, goes down temporarily and comes back up (AFTER a new leader is elected)  is expected to catch up all blocks evntually. Retry using down-time of different lengths - 15 or 30 or 90 secs.",FAB-4671,17953,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,AdnanChoudhury,Clayton Sims,Clayton Sims,15/Jun/17 4:53 AM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,18/May/18 12:17 AM,,,,v1.0.0,v1.1.0,fabric-quality,,,,,,,0,ContinuousDelivery,SystemTestcase,,,,,,"*Component*: Gossip data-dissemination
 *Network topology*: 2 org, 4 peer with 2 peer for each org.
 *Test description:*

Leveraging the {{e2ecli}} example available at {{fabric/example/e2ecli}},
 # find the leader peer of org. 2 by looking at the gossip log.
 #  stop the peer container.
 # run an invoke in in a peer of org. 1
 # Start the leader peer after 30 second and make sure the other peer is selected leader.
 # *check:* query that peer to see if it has updated value.",,AdnanChoudhury,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-10084,,,,,,,,,,"1|hzy2hr:",,,,,,,,,,,,,,,,,,,,,,,,,,,AdnanChoudhury,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"13/Sep/17 12:43 AM;AdnanChoudhury;https://gerrit.hyperledger.org/r/#/c/12889/;;;","17/May/18 7:32 AM;scottz;Reopening this for execution in v1.2 system test.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Gossip test: In a leader-election setup, A leader peer, freezes temporarily and comes back up (AFTER a new leader is elected) is expected to catch up all blocks evntually. Retry using down-time of different lengths - 15 or 30 or 60 or 90 secs",FAB-4672,17954,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,AdnanChoudhury,Clayton Sims,Clayton Sims,15/Jun/17 4:53 AM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,18/May/18 12:17 AM,,,,v1.0.0,v1.1.0,fabric-quality,,,,,,,0,ContinuousDelivery,SystemTestcase,,,,,,"*Component*: Gossip data-dissemination
 *Network topology*: 2 org, 4 peer with 2 peer for each org.
 *Test description:*

Leveraging the {{e2ecli}} example available at {{fabric/example/e2ecli}},
 # find the leader peer of org. 2 by looking at the gossip log.
 # Pause the peer container.
 # run an invoke in in a peer of org. 1
 # Unpsause the leader peer after 30 second and make sure the other peer is selected leader.
 # *check:* query that peer to see if it has updated value.",,AdnanChoudhury,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-10084,,,,,,,,,,"1|hzy2hz:",,,,,,,,,,,,,,,,,,,,,,,,,,,AdnanChoudhury,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"13/Sep/17 12:44 AM;AdnanChoudhury;https://gerrit.hyperledger.org/r/#/c/12889/;;;","17/May/18 7:32 AM;scottz;Reopening this for execution in v1.2 system test.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Gossip test: In a leader-election setup, A leader peer, goes offline temporarily (network disconnect) and comes back up (BEFORE a new leader is elected), is expected to catch up all blocks evntually and with no problems with any peers.",FAB-4673,17955,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,AdnanChoudhury,Clayton Sims,Clayton Sims,15/Jun/17 4:54 AM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,18/May/18 12:17 AM,,,,v1.0.0,v1.1.0,fabric-quality,,,,,,,0,ContinuousDelivery,SystemTestcase,,,,,,"*Component*: Gossip data-dissemination
*Network topology*: 2 org, 4 peer with 2 peer for each org.
*Test description:*

Leveraging the {{e2ecli}} example available at {{fabric/example/e2ecli}},
 # find the leader peer of org. 2 by looking at the gossip log.
 # Disconnect the peer container.
 # Connect the leader peer after 4/5 second and make sure the other peer is not selected leader yet.
 # *check:* query that peer to see if it has updated value.",,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-10084,,,,,,,,,,"1|hzy2i7:",,,,,,,,,,,,,,,,,,,,,,,,,,,scottz,,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,release-2.4,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,lindluni-patch-1,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,,,,,,,true,"17/May/18 7:32 AM;scottz;Reopening this for execution in v1.2 system test.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Gossip test: In a leader-election setup, A leader peer, goes down temporarily and comes back up (BEFORE a new leader is elected) is expected to catch up all blocks evntually and with no problems with any peers.",FAB-4674,17956,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,AdnanChoudhury,Clayton Sims,Clayton Sims,15/Jun/17 4:54 AM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,18/May/18 12:17 AM,,,,v1.0.0,v1.1.0,fabric-quality,,,,,,,0,ContinuousDelivery,SystemTestcase,,,,,,"*Component*: Gossip data-dissemination
 *Network topology*: 2 org, 4 peer with 2 peer for each org.
 *Test description:*

Leveraging the {{e2ecli}} example available at {{fabric/example/e2ecli}},
 # find the leader peer of org. 2 by looking at the gossip log.
 # stop the peer container.
 # Start the leader peer after 4/5 second and make sure the other peer is not selected leader yet.
 # *check:* query that peer to see if it has updated value.",,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-10084,,,,,,,,,,"1|hzy2if:",,,,,,,,,,,,,,,,,,,,,,,,,,,scottz,,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,,,,,,,true,"17/May/18 7:32 AM;scottz;Reopening this for execution in v1.2 system test.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Gossip test: In a leader-election setup, A leader peer, freezes temporarily and comes back up (BEFORE a new leader is elected) is expected to catch up all blocks evntually and with no problems with any peers.",FAB-4675,17957,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,AdnanChoudhury,Clayton Sims,Clayton Sims,15/Jun/17 4:55 AM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,18/May/18 12:17 AM,,,,v1.0.0,v1.1.0,fabric-quality,,,,,,,0,ContinuousDelivery,SystemTestcase,,,,,,"*Component*: Gossip data-dissemination
*Network topology*: 2 org, 4 peer with 2 peer for each org.
*Test description:*

Leveraging the {{e2ecli}} example available at {{fabric/example/e2ecli}},
 # find the leader peer of org. 2 by looking at the gossip log.
 # Pause the peer container.
 # Unpause the leader peer after 4/5 second and make sure the other peer is not selected leader yet.
 # *check:* query that peer to see if it has updated value.",,AdnanChoudhury,scottz,SjirNijssen,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-10084,,,,,,,,,,"1|hzy2in:",,,,,,,,,,,,,,,,,,,,,,,,,,,AdnanChoudhury,scottz,SjirNijssen,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,,,,,,,true,"04/Oct/17 4:49 AM;AdnanChoudhury;https://gerrit.hyperledger.org/r/#/c/13377/;;;","17/May/18 7:32 AM;scottz;Reopening this for execution in v1.2 system test.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Gossip test: In a leader-election setup, all peers from one organization goes offline temporarily, (network disconnect) and comes back up----it is expected that all peers in the org will catch up all blocks eventually.",FAB-4676,17958,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,AdnanChoudhury,Clayton Sims,Clayton Sims,15/Jun/17 4:55 AM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,18/May/18 12:17 AM,,,,v1.0.0,v1.1.0,fabric-quality,,,,,,,0,ContinuousDelivery,SystemTestcase,,,,,,"*Component*: Gossip data-dissemination
*Network topology*: 2 org, 4 peer with 2 peer for each org.
*Test description:*

Leveraging the {{e2ecli}} example available at {{fabric/example/e2ecli}},
 # find the leader peer of org. 2 by looking at the gossip log.
 # Disconnect both the peer container of org2.
 # Run an invoke in a peer of org1.
 # Connect the peers.
 # *check:* query those 2 peer to see if they have updated value.",,AdnanChoudhury,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-10084,,,,,,,,,,"1|hzy2iv:",,,,,,,,,,,,,,,,,,,,,,,,,,,AdnanChoudhury,scottz,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,,true,"04/Oct/17 4:44 AM;AdnanChoudhury;[https://gerrit.hyperledger.org/r/#/c/13443/];;;","17/May/18 7:32 AM;scottz;Reopening this for execution in v1.2 system test.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Gossip test: In a leader-election setup, all peers from one organization stops temporarily, (docker stop) and comes back up----it is expected that all peers in the org will catch up all blocks eventually.",FAB-4677,17959,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,AdnanChoudhury,Clayton Sims,Clayton Sims,15/Jun/17 4:55 AM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,18/May/18 12:17 AM,,,,v1.0.0,v1.1.0,fabric-quality,,,,,,,0,ContinuousDelivery,SystemTestcase,,,,,,"*Component*: Gossip data-dissemination
*Network topology*: 2 org, 4 peer with 2 peer for each org.
*Test description:*

Leveraging the {{e2ecli}} example available at {{fabric/example/e2ecli}},
 # find the leader peer of org. 2 by looking at the gossip log.
 # Stop both the peer container of org2.
 # Run an invoke in a peer of org1.
 # Restart those 2 peers.
 # *check:* query those 2 peer to see if they have updated value.",,AdnanChoudhury,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-10084,,,,,,,,,,"1|hzy2j3:",,,,,,,,,,,,,,,,,,,,,,,,,,,AdnanChoudhury,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"04/Oct/17 4:44 AM;AdnanChoudhury;[https://gerrit.hyperledger.org/r/#/c/13443/];;;","17/May/18 7:32 AM;scottz;Reopening this for execution in v1.2 system test.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Gossip test: In a leader-election setup, all peers from one organization freezes temporarily, and comes back up, it is expected that all peers in the org will catch up all blocks eventually.",FAB-4678,17960,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,AdnanChoudhury,Clayton Sims,Clayton Sims,15/Jun/17 4:56 AM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,18/May/18 12:17 AM,,,,v1.0.0,v1.1.0,fabric-quality,,,,,,,0,ContinuousDelivery,SystemTestcase,,,,,,"*Component*: Gossip data-dissemination
*Network topology*: 2 org, 4 peer with 2 peer for each org.
*Test description:*

Leveraging the {{e2ecli}} example available at {{fabric/example/e2ecli}},
 # find the leader peer of org. 2 by looking at the gossip log.
 # Pause both the peer container of org2.
 # Run an invoke in a peer of org1.
 # Unpause those 2 peers.
 # *check:* query those 2 peer to see if they have updated value.",,AdnanChoudhury,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-10084,,,,,,,,,,"1|hzy2jb:",,,,,,,,,,,,,,,,,,,,,,,,,,,AdnanChoudhury,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"04/Oct/17 4:04 AM;AdnanChoudhury;https://gerrit.hyperledger.org/r/#/c/13443/;;;","17/May/18 7:32 AM;scottz;Reopening this for execution in v1.2 system test.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Gossip test: In a leader-selection setup, a non-leader peer goes offline (network disconnect) temporarily and comes back up--- is expected to catch up all blocks quickly.",FAB-4679,17961,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,AdnanChoudhury,Clayton Sims,Clayton Sims,15/Jun/17 4:56 AM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,18/May/18 12:17 AM,,,,v1.0.0,v1.1.0,fabric-quality,,,,,,,0,ContinuousDelivery,SystemTestcase,,,,,,"*Component*: Gossip data-dissemination
*Network topology*: 2 org, 4 peer with 2 peer for each org.
*Docker compose setup:* gossip leader election set to false, select peer0 of each org as leader.
*Test description:*
Leveraging the {{e2ecli}} example available at {{fabric/example/e2ecli}},
 # find the non-leader peer of org2 (from the docker-compose).
 #  disconnect it from the network
 # run an invoke in in a peer of org. 1
 # connect back the non-leader
 # *check:* query that peer to see if it has updated value.",,AdnanChoudhury,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-10084,,,,,,,,,,"1|hzy2jj:",,,,,,,,,,,,,,,,,,,,,,,,,,,AdnanChoudhury,scottz,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,,,,,,,true,"04/Oct/17 4:02 AM;AdnanChoudhury;https://gerrit.hyperledger.org/r/#/c/14159/;;;","17/May/18 7:32 AM;scottz;Reopening this for execution in v1.2 system test.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Gossip test: In a leader-selection setup, A non-leader peer, goes down (docker stop) temporarily and comes back up--- is expected to catch up all blocks quickly.",FAB-4680,17962,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,AdnanChoudhury,Clayton Sims,Clayton Sims,15/Jun/17 4:57 AM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,18/May/18 12:17 AM,,,,v1.0.0,v1.1.0,fabric-quality,,,,,,,0,ContinuousDelivery,SystemTestcase,,,,,,"*Component*: Gossip data-dissemination
*Network topology*: 2 org, 4 peer with 2 peer for each org.
*Docker compose setup:* gossip leader election set to false, select peer0 of each org as leader.
*Test description:*
Leveraging the {{e2ecli}} example available at {{fabric/example/e2ecli}},
 # find the non-leader peer of org2 (from the docker-compose).
 #  stop that container.
 # run an invoke in in a peer of org. 1
 # restart with the non-leader
 # *check:* query that peer to see if it has updated value.",,AdnanChoudhury,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-10084,,,,,,,,,,"1|hzy2jr:",,,,,,,,,,,,,,,,,,,,,,,,,,,AdnanChoudhury,scottz,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,,,,,,,true,"04/Oct/17 4:02 AM;AdnanChoudhury;https://gerrit.hyperledger.org/r/#/c/14159/;;;","17/May/18 7:32 AM;scottz;Reopening this for execution in v1.2 system test.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Gossip test: In a leader-selection setup, A non-leader peer, freezes temporarily (docker pause) temporarily and comes back up--- is expected to catch up all blocks quickly.",FAB-4681,17963,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,AdnanChoudhury,Clayton Sims,Clayton Sims,15/Jun/17 4:57 AM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,18/May/18 12:17 AM,,,,v1.0.0,v1.1.0,fabric-quality,,,,,,,0,ContinuousDelivery,SystemTestcase,,,,,,"*Component*: Gossip data-dissemination
*Network topology*: 2 org, 4 peer with 2 peer for each org.
*Docker compose setup:* gossip leader election set to false, select peer0 of each org as leader.
*Test description:*
Leveraging the {{e2ecli}} example available at {{fabric/example/e2ecli}},
 # find the non-leader peer of org2 (from the docker-compose).
 #  Pause the peer container.
 # run an invoke in in a peer of org. 1
 # Pause the non-leader
 # *check:* query that peer to see if it has updated value.",,AdnanChoudhury,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-10084,,,,,,,,,,"1|hzy2jz:",,,,,,,,,,,,,,,,,,,,,,,,,,,AdnanChoudhury,scottz,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,,,,,,,true,"04/Oct/17 4:02 AM;AdnanChoudhury;https://gerrit.hyperledger.org/r/#/c/14159/;;;","17/May/18 7:32 AM;scottz;Reopening this for execution in v1.2 system test.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Gossip test: n a leader-selection setup, A non-leader peer, that spawns and joins an already-active channel-----is expected to have all the blocks eventually. ",FAB-4682,17964,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,AdnanChoudhury,Clayton Sims,Clayton Sims,15/Jun/17 4:57 AM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,18/May/18 12:17 AM,,,,v1.0.0,v1.1.0,fabric-quality,,,,,,,0,ContinuousDelivery,SystemTestcase,,,,,,"*Component*: Gossip data-dissemination
*Network topology*: 2 org, 4 peer with 2 peer for each org.
*Docker compose setup:* gossip leader election set to false, select peer0 of each org as leader.
*Test description:*
Leveraging the {{e2ecli}} example available at {{fabric/example/e2ecli}},
 # Stop  a peer container before it joins a channel. For the other 3 peers join/invoke/query as usual
 #  start the container and join the channel and install the chaincode.
 # *check:* query that peer to see if it has updated value.",,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-10084,,,,,,,,,,"1|hzy2k7:",,,,,,,,,,,,,,,,,,,,,,,,,,,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"17/May/18 7:32 AM;scottz;Reopening this for execution in v1.2 system test.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Gossip test: In a leader-selection setup,  A leader peer, goes offline temporarily and comes back up--- is expected to catch up all blocks evntually. Retry using down-time of different lengths - 15 or 60 or 90 secs.",FAB-4683,17965,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,AdnanChoudhury,Clayton Sims,Clayton Sims,15/Jun/17 4:58 AM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,18/May/18 12:17 AM,,,,v1.0.0,v1.1.0,fabric-quality,,,,,,,0,ContinuousDelivery,SystemTestcase,,,,,,"*Component*: Gossip data-dissemination
*Network topology*: 2 org, 4 peer with 2 peer for each org.
*Docker compose setup:* gossip leader election set to false, select peer0 of each org as leader.
*Test description:*
Leveraging the {{e2ecli}} example available at {{fabric/example/e2ecli}},
 # find the leader peer of org. 2 (from the docker compose).
 #  disconnect the peer container.
 # run an invoke in in a peer of org. 1
 # Connect the leader peer after 30 second total.
 # *check:* query that peer to see if it has updated value.
 ",,AdnanChoudhury,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-10084,,,,,,,,,,"1|hzy2kf:",,,,,,,,,,,,,,,,,,,,,,,,,,,AdnanChoudhury,scottz,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,,true,"12/Oct/17 11:16 PM;AdnanChoudhury;https://gerrit.hyperledger.org/r/#/c/14431/;;;","17/May/18 7:32 AM;scottz;Reopening this for execution in v1.2 system test.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Gossip test: In a leader-selection setup, A leader peer, goes down temporarily and comes back up  is expected to catch up all blocks evntually. Retry using down-time of different lengths - 15 or 60 or 90 secs.",FAB-4684,17966,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,AdnanChoudhury,Clayton Sims,Clayton Sims,15/Jun/17 4:58 AM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,18/May/18 12:17 AM,,,,v1.0.0,v1.1.0,fabric-quality,,,,,,,0,ContinuousDelivery,SystemTestcase,,,,,,"*Component*: Gossip data-dissemination
*Network topology*: 2 org, 4 peer with 2 peer for each org.
*Docker compose setup:* gossip leader election set to false, select peer0 of each org as leader.
*Test description:*
Leveraging the {{e2ecli}} example available at {{fabric/example/e2ecli}},
 # find the leader peer of org. 2 (from the docker compose).
 #  stop the peer container.
 # run an invoke in in a peer of org. 1
 # start the leader peer after 30 second total.
 # *check:* query that peer to see if it has updated value.
 ",,AdnanChoudhury,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-10084,,,,,,,,,,"1|hzy2kn:",,,,,,,,,,,,,,,,,,,,,,,,,,,AdnanChoudhury,scottz,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,,,,,,,true,"12/Oct/17 11:16 PM;AdnanChoudhury;https://gerrit.hyperledger.org/r/#/c/14431/;;;","17/May/18 7:32 AM;scottz;Reopening this for execution in v1.2 system test.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Gossip test: In a leader-selection setup, A leader peer, freezes temporarily (docker pause) and comes back up --- is expected to catch up all blocks evntually and with no problems with any peers.",FAB-4685,17967,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,AdnanChoudhury,Clayton Sims,Clayton Sims,15/Jun/17 4:58 AM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,18/May/18 12:17 AM,,,,v1.0.0,v1.1.0,fabric-quality,,,,,,,0,ContinuousDelivery,SystemTestcase,,,,,,"*Component*: Gossip data-dissemination
*Network topology*: 2 org, 4 peer with 2 peer for each org.
*Docker compose setup:* gossip leader election set to false, select peer0 of each org as leader.
*Test description:*
Leveraging the {{e2ecli}} example available at {{fabric/example/e2ecli}},
 # find the leader peer of org. 2 (from the docker compose).
 # Pause the peer container.
 # run an invoke in in a peer of org. 1
 # Unpause the leader peer after 30 second total.
 # *check:* query that peer to see if it has updated value.
 ",,AdnanChoudhury,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-10084,,,,,,,,,,"1|hzy2kv:",,,,,,,,,,,,,,,,,,,,,,,,,,,AdnanChoudhury,scottz,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,,true,"12/Oct/17 11:16 PM;AdnanChoudhury;https://gerrit.hyperledger.org/r/#/c/14431/;;;","17/May/18 7:32 AM;scottz;Reopening this for execution in v1.2 system test.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Behave execution of removing all and bringing back some kafka brokers,FAB-4686,17968,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,latitiah,latitiah,latitiah,15/Jun/17 5:02 AM,07/Nov/19 2:52 AM,28/Oct/23 3:00 AM,18/May/18 12:17 AM,v1.0.0,,,v1.1.0,,fabric-quality,,,,,,,0,ContinuousDelivery,quality,SystemTestcase,,,,,"* +Component+:  orderer
 * +Description+: Test taking down all kafka brokers and bringing back 3.
 * +Artifact Locations+:  test/feature/orderer.feature
 * +Network Topology+:  3 kafka-based orderers, 3 zookeepers, 4 kafka brokers, 2 Orgs, 2 peers per org (4 peers total)
 * +Client Driver+: behave
 ",,latitiah,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-10084,,,,,,,,,,"1|hzy2l3:",,,,,,Sprint 19 - Quality,,,,,,,,,,,,,,,,,,,,,latitiah,scottz,,,,,,,,,,,,,,,,,,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,main,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,lindluni-patch-1,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,mergify/bp/release-2.2/pr-3750,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,release-1.4,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,mergify/bp/release-2.2/pr-4374,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,mergify/bp/release-2.5/pr-3782,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,mergify/bp/release-2.4/pr-3646,true,"22/Jun/17 11:48 PM;latitiah;https://gerrit.hyperledger.org/r/11007;;;","17/May/18 5:38 AM;scottz;Reopened this so it appears on our v1.2 systemtest regression list todo.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Orderer bootstrap is incomplete when delayed after channel created; failure to execute invoke transaction",FAB-4687,17969,,Bug,Closed,FAB,Fabric,software,denyeart,,,Low,Done,,Ratnakar,Ratnakar,15/Jun/17 5:05 AM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,15/Jun/17 11:32 AM,v1.0.0-beta,,,WON'T FIX,,fabric-orderer,,,,,,,0,orderer,quality,,,,,,"* Create _genesis_block_ and channel _configuration transaction_

Three orderers included in configtx.yaml under OrdererType kafka (enclosed [^configtx.yaml] )
{code:java}
OrdererType: kafka
Addresses:
 - orderer0:7050
 - orderer1:7050
 - orderer2:7050
{code}
 * Launch the network with following configuration (enclosed [^docker-compose.yaml] & [^base.yaml]files)

 - 4 kafka brokers and 3 zookeepers
 - Bootstrap 2 Orderers  _orderer0_ and _orderer1_ (*make sure orderer2 is not started yet*)
 - & 4 peers (Two organizations contains 2 peers each)

 * wait for 60 seconds to allow the clusters (KB and ZK) to bootstrap and elect leaders etc., remember *orderer 2* is not started

 * Create a channel '*mychannel*' and join all the peers to the channel 'mychannel'

 * Install *example02 chaincode* on the _anchor peers_ of each organization

 * Now, start the container for _orderer 2_.
{panel}
docker-compose -f docker-compose.yaml up -d orderer2.example.com
{panel}

This will bootstrap the orderer2, wait for 60 seconds while this orderer sync with other orderers 
 * Now instantiate a _*example02 chaincode*_ (with initialized values a=100, b=200 ) on anchor peer of Org2 on the channel '*_mychannel_*' by connecting to the orderer0

 * Query chaincode for value ""a"" on _anchor peer_ of _Org1_ and validate the query result. (result should be 100)

 * Send a transaction (transfer 10 from a to b) to the _anchor peer_ of _Org1_ on the channel '_*mychannel*_' by connecting to the orderer _orderer2_

During this step transaction fails with the below error message

_*Error: Error getting broadcast client: Error connecting to orderer2.example.com:7050 due to tls: first record does not look like a TLS handshake*_

After chaincode Instantiate orderer2 logs indicates that it syncs with other orderers (_orderer0_ and _orderer1_), However while sending a transaction fails with the following error

_*transport: http2Server.HandleStreams received bogus greeting from client: ""\x16\x03\x01\x00\xa9\x01\x00\x00\xa5\x03\x03\x8foD#\x9e\x86\xd1%#\x14W\x18*_

Gist of _*Orderer2*_ logs

 
{code:java}
2017-06-14 16:58:33.713 UTC [fsblkstorage] updateCheckpoint -> DEBU 6ea Broadcasting about update checkpointInfo: latestFileChunkSuffixNum=[0], latestFileChunksize=[38727], isChainEmpty=[false], lastBlockNumber=[3]
2017-06-14 16:58:33.713 UTC [orderer/multichain] WriteBlock -> DEBU 6eb [channel: mychannel] Wrote block 3
2017-06-14 16:58:33.713 UTC [orderer/kafka] processTimeToCut -> DEBU 6ec [channel: mychannel] Proper time-to-cut received, just cut block 3
2017-06-14 16:58:33.713 UTC [orderer/kafka] processMessagesToBlocks -> DEBU 6ed [channel: mychannel] Successfully unmarshalled consumed message, offset is 7. Inspecting type...
2017-06-14 16:58:33.713 UTC [orderer/kafka] processTimeToCut -> DEBU 6ee [channel: mychannel] It's a time-to-cut message for block 3
2017-06-14 16:58:33.713 UTC [orderer/kafka] processTimeToCut -> DEBU 6ef [channel: 
mychannel] Ignoring stale time-to-cut-message for block 3
2017-06-14 16:58:33.713 UTC [orderer/kafka] processMessagesToBlocks -> DEBU 6f0 [channel: mychannel] Successfully unmarshalled consumed message, offset is 8. Inspecting type...
2017-06-14 16:58:33.713 UTC [orderer/kafka] processTimeToCut -> DEBU 6f1 [channel: mychannel] It's a time-to-cut message for block 3
2017-06-14 16:58:33.713 UTC [orderer/kafka] processTimeToCut -> DEBU 6f2 [channel: mychannel] Ignoring stale time-to-cut-message for block 3
2017-06-14 16:58:44.954 UTC [grpc] Printf -> DEBU 6f3 transport: http2Server.HandleStreams received bogus greeting from client: ""\x16\x03\x01\x00\xa9\x01\x00\x00\xa5\x03\x03\x8foD#\x9e\x86\xd1%#\x14W\x18{code}
 

NOTE: When all the orderers (orderer0, orderer1 & orderer2 ) are bootstrapped together, do not  see the above issue. and transactions are going through
 Enclosed both successful (when all orderers are bootstraped together) and failure logs",,bmos299,kchristidis,Ratnakar,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"15/Jun/17 4:39 AM;Ratnakar;Failure-case-logs.tar.gz;https://jira.hyperledger.org/secure/attachment/11078/Failure-case-logs.tar.gz","15/Jun/17 4:39 AM;Ratnakar;Success-case-logs.tar.gz;https://jira.hyperledger.org/secure/attachment/11077/Success-case-logs.tar.gz","15/Jun/17 4:39 AM;Ratnakar;base.yaml;https://jira.hyperledger.org/secure/attachment/11076/base.yaml","15/Jun/17 4:39 AM;Ratnakar;configtx.yaml;https://jira.hyperledger.org/secure/attachment/11079/configtx.yaml","15/Jun/17 4:39 AM;Ratnakar;docker-compose.yaml;https://jira.hyperledger.org/secure/attachment/11080/docker-compose.yaml",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy2lb:",,,,,,,,,,,,,,,,,,,,,,,,,,,bmos299,kchristidis,Ratnakar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"15/Jun/17 5:11 AM;bmos299;This one could be borderline high.  Let's get [~kchristidis] thoughts. ;;;","15/Jun/17 5:31 AM;kchristidis;Something's going on in the gRPC layer, between the broadcasting client and the orderer (gRPC server).

Quickly glancing at the code, and it looks like ""the client preface is not valid."" I defer to [~mastersingh24] who's handling the server component. Any idea what we're seeing here?

Question to [~Ratnakar]: What happens if you have another client attempting to Broadcast after you see this? Does it go through?;;;","15/Jun/17 6:28 AM;kchristidis;Not sure if Gari will chime in here, but via Rocket.Chat:
{noformat}
it usually means that one side is not using TLS{noformat}
Are you using your modified `broadcast_timestamp` client for this?

Something's up with the configuration there?

 ;;;","15/Jun/17 7:08 AM;Ratnakar;[~kchristidis]

I am not using *broadcast_timestamp* client for this. I am using *e2e_cli* sample hence *CLI container* is the client here.

when (3rd orderer) *Orderer2* is started along with rest of the orderers (Orderer0 and Orderer1) I couldn't see the issue.;;;","15/Jun/17 7:16 AM;Ratnakar;[~kchristidis] Apologies, It is my bad. when Orderer2 is started TLS is disabled.

It is due to the environment variable configuration, where *ENABLE_TLS* is empty hence *TLS* is not enabled.
{panel}
- ORDERER_GENERAL_TLS_ENABLED=$\{ENABLE_TLS}
{panel};;;","15/Jun/17 11:32 AM;kchristidis;[~Ratnakar]: No problem, this happens. Closing this then. Feel free to re-open if we missed something.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Test chaincode upgrade using the chaincodes example02 ,FAB-4688,17970,19360,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,Clayton Sims,Clayton Sims,15/Jun/17 5:05 AM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,10/Jul/18 3:23 AM,,,,v1.0.0,,fabric-quality,,,,,,,0,,,,,,,,,,Nishi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy2lj:",,,,,,,,,,,,,,,,,,,,,,,,,,,Nishi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"16/Jun/17 3:22 AM;Nishi;Test Name: e2e_test_chaincodeExample02_upgrade.sh
Component: endorser
Description:Upgrade chaincode_example02 and verify that invoke transactions can be sent after upgrade from CLI.

Artifact Locations: fabric/test/regression/daily/chaincodetests
Network Topology: e2e_cli
Client Driver: python
Input: ./runChaincode.sh (from fabric/test/regression/daily/chaincodetests/envsetup)
Output: testYourChaincode.py::ChaincodeAPI::test_<FABXXXX>_chaincode_upgrade_test PASSED;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Drive concurrent end-to-end transactions using one chaincode using ccchecker (also with  node/cli tool),FAB-4689,17971,19361,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,Clayton Sims,Clayton Sims,15/Jun/17 5:05 AM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,10/Jul/18 3:23 AM,,,,v1.0.0,,fabric-quality,,,,,,,0,,,,,,,,"*Test Name*: Drive concurrent end-to-end transactions using one chaincode with ccchecker tool
 *Component*: Endorser/Peer
 *Description*:  Drive concurrent end-to-end transactions using one chaincode with ccchecker tool
 _+Steps to run the test:+_
 1. generate certs for two orgs and orderer org
 2. Create orderer genesis block and channel configuration transaction
 3. Launch the standard network with CLI container, by mounting ccchecker binary to the CLI container
 4. create channel 'mychannel' using Admin certs from the CLI conatiner
 5. Join all the peers to the channel 'mychannel'
 6. Install chaincode newKeyPerInvoke 
 7. Instantiate chaincode newKeyPerInvoke
 8. ./ccchecker
 *Artifact Locations:* NA
 *Network Topology*:  Standard + CLI Conatiner
 *Client Driver*:  _ccchecker_
 *Input*:
{panel}
./ccchecker -e env.json -c ccchecker.json
{panel}
*Output:*  
{code:java}
Time for invokes(ms): 1375
    Num successful invokes: 100(100)
    Num successful queries: 100(100)
Test complete{code}",,Ratnakar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy2lr:",,,,,,,,,,,,,,,,,,,,,,,,,,,Ratnakar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"10/Jul/17 11:43 PM;Ratnakar;Machine details:
 Core: 8
 CPU Speed: 2.8000 GHz
 CPU Type: Intel (R) Xeon (R) CPU E3-1505M v5
 OS: Ubuntu 16.04

 

Time for invokes(ms): 22928
 Num successful invokes: 10000(10000)
 Num successful queries: 10000(10000)
 Test complete;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Drive concurrent end-to-end transactions using different chaincodes using ccchecker (also with  node/cli tool),FAB-4690,17972,19361,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,Clayton Sims,Clayton Sims,15/Jun/17 5:05 AM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,10/Jul/18 3:23 AM,,,,v1.0.0,,fabric-quality,,,,,,,0,,,,,,,,"*Test Name*: Drive concurrent end-to-end transactions using different chaincode with ccchecker tool
 *Component*: Endorser/Peer
 *Description*:  Drive concurrent end-to-end transactions using different chaincode with ccchecker tool
 _+Steps to run the test:+_
 1. generate certs for two orgs and orderer org
 2. Create orderer genesis block and channel configuration transaction
 3. Launch the standard network with CLI container, by mounting ccchecker binary to the CLI container
 4. create channel 'mychannel' using Admin certs from the CLI conatiner
 5. Join all the peers to the channel 'mychannel'
 6. Install chaincodes newKeyPerInvoke with name mycc1, mycc2
 7. Instantiate chaincode newKeyPerInvoke  on channel mychannel
 8. ./ccchecker -e env.json -c ccchecker.json ## Make sure you  update cchcecker.json with two chaincodes
 *Artifact Locations:* NA
 *Network Topology*:  Standard + CLI Conatiner
 *Client Driver*:  _ccchecker_
 *Input*:
{panel}
./ccchecker -e env.json -c ccchecker.json
{panel}
*Output:*  
{code:java}
Time for invokes(ms): 1375
    Num successful invokes: 100(100)
    Num successful queries: 100(100)
Test complete
Time for invokes(ms): 1367
    Num successful invokes: 100(100)
    Num successful queries: 100(100)
Test complete{code}",,Ratnakar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy2lz:",,,,,,,,,,,,,,,,,,,,,,,,,,,Ratnakar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"10/Jul/17 10:52 PM;Ratnakar;copying some email data

 

 

 
{code:java}
Machine details:
Core: 8
CPU Speed: 2.8000 GHz
CPU Type: Intel (R) Xeon (R) CPU E3-1505M v5
OS: Ubuntu 16.04{code}
 

 

Did the 400 client threads run on the same machine or different machines?
All the client threads ran on the same machine

Why 400 threads? Was that to saturate the peer CPU, and what % of CPU during the run?
the reason for using 400 threads is to stress the peer/endorser. I didn't capture the % of the CPU during these runs.

You said 40k invokes, why the data shows both 10k invokes and 10k queries?
A ccchecker client was started on each channel, two chaincodes each. That is 4 x 10K invokes within ~43 secs. 
The time doesn't capture queries duration - just the time to send the invokes into the orderer.

What exactly does each invoke (and query) do?
Each invoke inserts a record with a unique key/value pair. Obviously only one endorsement is obtained, from the one peer.
And the query validates whether each invoke is successful or not, as this app doesn't include block listener.

Why using 4 chaincodes instead of 1?
The goal was not to get highest tps, but rather to stress the peer code using concurrent threads on the 2 channels each with 2 chaincodes.

 

 

*Results :*
{code:java}
Time for invokes(ms): 43183
 Num successful invokes: 10000(10000)
 Num successful queries: 10000(10000)
 Time for invokes(ms): 43186
 Num successful invokes: 10000(10000)
 Num successful queries: 10000(10000)

 Time for invokes(ms): 43260
 Num successful invokes: 10000(10000)
 Num successful queries: 10000(10000)
 Time for invokes(ms): 43262
 Num successful invokes: 10000(10000)
 Num successful queries: 10000(10000){code};;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Test channel creation using different channel configuration properties,FAB-4691,17973,16637,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,Clayton Sims,Clayton Sims,15/Jun/17 5:06 AM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,10/Jul/18 3:23 AM,,,,v1.0.0,,fabric-quality,,,,,,,0,,,,,,,,"*Test Name*: Test channel creation using different channel configuration properties

*Component*: Peer

*Description*: Test channel creation using different channel configuration properties
 *Artifact Locations:* NA
 *Network Topology*:  Standard + CLI Conatiner
 *Client Driver*:  _e2e_cli sample_
 *Input*
{panel}
peer channel create -o orderer:7050 -c mychannel -f mychannel.tx --tls true --cafile <ca-cert>
 peer channel create -o orderer:7050 -c mychannel -f mychannel.tx
{panel}
*Output:*  ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy2m7:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"boot with kafka, and list of Configtx_Orderer_Kafka_Brokers",FAB-4692,17974,16112,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,latitiah,Clayton Sims,Clayton Sims,15/Jun/17 5:06 AM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,27/Oct/17 5:39 AM,,,,v1.0.0,,fabric-quality,,,,,,,0,,,,,,,,"Test Name: FAB_4692 bootstrap kafka KB list
 Component: orderer bootstrap
 Description: boot with non-default genesis parm: orderertype=kafka, and a list of two of the Configtx_Orderer_Kafka_Brokers. After ensuring connectivity, and invoke and query transactions, stop the first KB in the list (so the orderers will then connect to the 2nd one in the list), and confirm again the invoke and query transactions.
 Artifact Locations: fabric/test/feature/bootstrap.feature
 Network Topology: ""standard"" network of 3 orderers (kafka), 4 kafka brokers, 3 zookeepers, 2 organizations with 2 peers each
 Client Driver: behave
 Input: 
 Output: ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy2mf:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Validation policy for a chaincode, using CLI:  OR policy with 2 orgs, and manually confirmed AND-negative",FAB-4693,17975,16637,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,Clayton Sims,Clayton Sims,15/Jun/17 5:06 AM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,10/Jul/18 3:23 AM,,,,v1.0.0,,fabric-quality,,,,,,,0,,,,,,,," 
 *Test Name:* Validation policy for a chaincode, using CLI: OR policy with 2 orgs, and manually confirmed AND-negative

*Component*: Endorser/Peer
 *Description*: Validation policy for a chaincode, using CLI: OR policy with 2 orgs, and manually confirmed AND-negative

_+Steps to run the test:+_
 1. generate certs for two orgs and orderer org
 2. Create orderer genesis block and channel configuration transaction
 3. Launch the standard network with CLI container, by mounting ccchecker binary to the CLI container
 4. create channel 'mychannel' using Admin certs from the CLI conatiner
 5. Join all the peers to the channel 'mychannel'
 6. Install chaincodes newKeyPerInvoke
 7. Instantiate chaincode newKeyPerInvoke on channel mychannel with validation policy with *OR*

    {color:#24292e} -P {color}{color:#032f62}""{color}OR ('Org1MSP.member','Org2MSP.member'){color:#032f62}""{color} 
 
 _*End to End test must pass.*_
 
 8. Repeat Steps 1 - 6, with validation policy *AND*
 
 -P {color:#032f62}""{color}AND ('Org1MSP.member','Org2MSP.member'){color:#032f62}""{color}

_*End to End test will fails,  Using CLI we cannot get the endorsers signatures form multiple orgs*_

*Artifact Locations:* NA
 *Network Topology*:  Standard + CLI Conatiner (e2e_sample based configuration)
 *Client Driver*:  e2e_sample
 *Input*:
{panel}
./network_setup.sh restart
{panel}
*Output:*  
{code:java}
echo ""===================== All GOOD, End-2-End execution completed ===================== ""{code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy2mn:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Test peer channel ""join"" command from CLI with various options",FAB-4695,17977,16637,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,Clayton Sims,Clayton Sims,15/Jun/17 5:07 AM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,10/Jul/18 3:23 AM,,,,v1.0.0,,fabric-quality,,,,,,,0,,,,,,,,"*Test Name*: Test peer channel ""join"" command from CLI with various options

*Component*: Peer

*Description*: Test peer channel ""join"" command from CLI with following options
 * wIth TLS enabled/disabled
 * Using Admin user certs/ non-admin user certs (must fail)
 * -b , provide valid / invalid genesis block
 * -c , provide correct/incorect channel name
 * -o , Valid/Invalid orderer address

*Artifact Locations:* NA
 *Network Topology*:  e2e_cli based network topology
 *Client Driver*:  _e2e_cli sample_
 *Input*
{panel}
peer channel create -o orderer:7050 -b mychannel.block
{panel}
*Output:*  

Test Pass
  ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy2mv:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
bootstrap channel creation and then verify chaincode framework initialization,FAB-4696,17978,16637,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,Clayton Sims,Clayton Sims,15/Jun/17 5:08 AM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,10/Jul/18 3:23 AM,,,,v1.0.0,,fabric-quality,,,,,,,0,,,,,,,,"*Test Name*: bootstrap channel creation and then verify chaincode framework initialization

*Component*: Ledger/Channel
  *Description*:  modify e2e_cli sample scripts to verify the following cases
 # With channel creation and join, instantiate the chaincode on the channel and verify the result
 # With channel creation and join, try to instantiate the chaincode (must fail)

*Artifact Locations:* NA
  *Network Topology*:  e2e_cli based network topology 
  *Client Driver*:  _e2e_cli sample_
  *Output:*  Test Passes with following message when created , however it failed when no channel available to process the instantiate transaction
{code:java}
===================== All GOOD, End-2-End execution completed ====================={code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy2n3:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Query configuration block of a chain (the first, genesis block)",FAB-4697,17979,16637,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,Clayton Sims,Clayton Sims,15/Jun/17 5:08 AM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,10/Jul/18 3:23 AM,,,,v1.0.0,,fabric-quality,,,,,,,0,,,,,,,," *Test Name:* Query configuration block of a chain (the first, genesis block)

*Component:* Peer

*Description*: after channel creation fetch the configuration block and verify if that matches with config block retrieved  after channel creation.

Inspect the blocks using configtxgen configtxlator tools

*Artifact* *Locations*:

*Network* *Topology*: Standard Network

*Client* *Driver*: Peer cli

*Input*:
{code:java}
peer channel fetch -o orderer:7050 -c mychannel -f mychannel.tx {code}
*Output*:
{code:java}
Retrieves configuration block of the channel mychannel
mychannel.block
{code}
 ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy2nb:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
test systemchaincode query functions with bad args,FAB-4698,17980,16637,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,Clayton Sims,Clayton Sims,15/Jun/17 5:09 AM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,10/Jul/18 3:23 AM,,,,v1.0.0,,fabric-quality,,,,,,,0,,,,,,,,"*Test Name*: {color:#000000}test systemchaincode query functions with bad args{color}

*Component*: Peer/system chaincode

*Description*: Verify system chaincode  query functions and test must fail with rejections

_example_: Negative scenarios
 * _queryBlockByNumber_ - on channel with wrong peer
 * _queryBlockByHash_ - on channel with wrong peer
 * _queryTransactionByID_ - valid/Invalid trxnId  and peer which is not joined on the channel
 * _queryChannelInfo_ - peer which is not joined on the channel
 * _query InstalledChaincodes -_ Invalid peer + non-admincerts
 * _query Instantiated Chaincodes -_ peer which is not joined the channel + non-admincerts

*Artifact Locations:* NA
 *Network Topology*: node-sdk fixtures based docker-compose
 *Client Driver*:  _node balance-transfer sample app_
 *Input*
{panel}
use testAPIs script and alter the values for systemchaincode queries section
{panel}
*Output:*  

 Test must fail when bad args passed in all the queries",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy2nj:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Verify e2e_cli sample with mutual TLS enabled/disabled configurations,FAB-4699,17981,16637,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,Clayton Sims,Clayton Sims,15/Jun/17 5:09 AM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,10/Jul/18 3:23 AM,,,,v1.0.0,,fabric-quality,,,,,,,0,,,,,,,,"*Test Name*: Verify e2e_cli sample with mutual TLS enabled/disabled configurations

*Component*: Ledger/Channel
  *Description*:  modify e2e_cli sample scripts to enabled/disabled TLS configurations and also verify with  invalid TLS certs(must fail)

*Artifact Locations:* NA
  *Network Topology*:  e2e_cli based network topology 
  *Client Driver*:  _e2e_cli sample_
  *Output:*  Test  passed with valid certs and failed with invalid certs. 

output when test passed:
{code:java}
===================== All GOOD, End-2-End execution completed ====================={code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy2nr:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Verify chaincode instantiation when stateDatabase is set to couchDB,FAB-4700,17982,16637,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,Clayton Sims,Clayton Sims,15/Jun/17 5:09 AM,20/Jul/18 11:13 PM,28/Oct/23 3:00 AM,10/Jul/18 3:23 AM,,,,v1.0.0,,fabric-quality,,,,,,,0,,,,,,,,"*Test Name*:Verify chaincode instantiation when stateDatabase is set to couchDB

*Component*: endorser/ledger/committer/orderer
  *Description*:  start e2e_cli sample with couchdb enabled and verify instantiation/invoke and query

*Artifact Locations:* NA
  *Network Topology*:  same as e2e_cli based network topology 
  *Client Driver*:  _e2e_cli sample_
  *Output:*  Instantiated the chaincode and Invoke/query are successful and Test passed
{code:java}
===================== All GOOD, End-2-End execution completed ====================={code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy2nz:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
