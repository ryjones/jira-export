Summary,Issue key,Issue id,Parent id,Issue Type,Status,Project key,Project name,Project type,Project lead,Project description,Project url,Priority,Resolution,Assignee,Reporter,Creator,Created,Updated,Last Viewed,Resolved,Affects Version/s,Affects Version/s,Affects Version/s,Affects Version/s,Affects Version/s,Fix Version/s,Fix Version/s,Fix Version/s,Fix Version/s,Fix Version/s,Component/s,Component/s,Component/s,Due Date,Votes,Labels,Labels,Labels,Labels,Labels,Description,Environment,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Log Work,Original Estimate,Remaining Estimate,Time Spent,Work Ratio,Σ Original Estimate,Σ Remaining Estimate,Σ Time Spent,Security Level,Inward issue link (Blocks),Inward issue link (Blocks),Inward issue link (Blocks),Inward issue link (Blocks),Outward issue link (Blocks),Outward issue link (Blocks),Outward issue link (Blocks),Outward issue link (Blocks),Inward issue link (Cloners),Inward issue link (Cloners),Outward issue link (Cloners),Inward issue link (Duplicate),Inward issue link (Duplicate),Inward issue link (Duplicate),Inward issue link (Duplicate),Outward issue link (Duplicate),Outward issue link (Duplicate),Outward issue link (Duplicate),Inward issue link (Git Code Review),Outward issue link (Git Code Review),Inward issue link (Relates),Inward issue link (Relates),Inward issue link (Relates),Outward issue link (Relates),Outward issue link (Relates),Outward issue link (Relates),Outward issue link (Relates),Outward issue link (Relates),Outward issue link (Relates),Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Custom field (Authorized Watchers),Custom field (Authorized Watchers),Custom field (Authorized Watchers),Custom field (Authorized Watchers),Custom field (Authorized Watchers),Custom field (Authorized Watchers),Custom field (Business Value),Custom field (Commit Levels),Custom field (Current Status),Custom field (Design),Custom field (Design Status),Custom field (Documentation Impact),Custom field (Documentation Status),Custom field (Epic Color),Custom field (Epic Link),Custom field (Epic Name),Custom field (Epic Status),Custom field (Executed),Custom field (Found in Commit),Custom field (Function Test Status),Custom field (Must Fix),Custom field (Original story points),Custom field (Parent Link),Custom field (Rank),Custom field (Release Note),Custom field (Release Note Required),Custom field (Root Cause Analysis),Custom field (SDK Impact),Custom field (Sample/Tutorial),Sprint,Sprint,Custom field (Steps to Reproduce),Custom field (Story Points),Custom field (System Test Impact),Custom field (Target end),Custom field (Target start),Custom field (Team),Custom field (Team),Custom field (Test Plan),Custom field (Test Result),Custom field (Test Result Details),Custom field (Test Type),Custom field (Triaged),Custom field (Usage),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Workaround),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitCommitsReferenced),Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment
PTE adds n burst modes to input json,FAB-11444,32485,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,dongming,dongming,dongming,02/Aug/18 2:20 AM,02/Aug/18 10:14 PM,28/Oct/23 3:03 AM,02/Aug/18 10:14 PM,,,,,,,,,,,,,,,0,,,,,,Add n burst modes to input json,,dongming,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-2247,,,No,,Unset,No,,,"1|hzzl7b:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),dongming,,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,true,"02/Aug/18 2:51 AM;dongming;https://gerrit.hyperledger.org/r/#/c/25029/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Chaincode image should be built at time of install,FAB-11445,32489,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,mastersingh24,mastersingh24,mastersingh24,02/Aug/18 4:03 AM,23/Jan/20 7:32 AM,28/Oct/23 3:03 AM,23/Jan/20 7:32 AM,v1.2.0,,,,,Future,,,,,fabric-peer,,,,1,hygiene,stale-item,,,,"In the current chaincode install and instantiate model, installing chaincode simply means the peer writes the chaincode packages bytes to the filesystem.   When chaincode is instantiated, the chaincode image is built and then an instance of the container is created.  (This flow is actually leftover from the old Fabric model where the chaincode bytes were deployed as an actual deploy transaction).

This flow is problematic for several reasons:
 # The user is left with the false impression that the chaincode package will compile and deploy.  This is not the case (especially for Go where the code is actually compiled as part of the image build process).
 # It can take time to actually build the image and depending on the host system this leads to unnecessary timeouts.
 # There are times when the peer host does not have Docker, the correct CC builder or base OS images installed.  It would be better to know this up front

 

The proposal here is to actual build the chaincode image at install time.

 

 ",,mastersingh24,sykesm,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzl87:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),mastersingh24,sykesm,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"02/Aug/18 4:30 AM;mastersingh24;I'll start the work on this for v1.3 but will target future for now;;;","23/Jan/20 7:32 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Chaos, ServDisc, SideDB: Restart All Nodes Sequentially, Verify Tx On All Peers",FAB-11447,32493,,Test Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,dongming,scottz,scottz,02/Aug/18 7:31 AM,09/Jan/20 2:29 AM,28/Oct/23 3:03 AM,31/Jul/19 5:56 AM,v1.4.0,,,,,,,,,,fabric-quality,,,,0,help-wanted,,,,,"Enhance testcase to leverage a new PTE capability to verify/query one or more transactions from the ledger of ALL peers. This will guarantee that gossip distributed transactions quickly throughout the orgs peers.

As a first step, we should modify the ""service-discovery restarts"" testcase (FAB-10191), to also verify (some) invokes on ALL peers. This capability was added to PTE using [https://gerrit.hyperledger.org/r/#/c/24723/] with FAB-10903. The current plan is to add 10191 to the daily test suite.

Second: this testcase could start with 10191 and add SideDB traffic too (and add more restarts). This sidedb traffic of course will use named collections (per FABN-843) for the invokes and the service discovery requests. Refer also to FAB-10130 ""sidedb restarts"" which is being deprecated because of this 11447 and 12833/12834/12835.

NOTICE: Due to time constraints, v1.3 is not including sidedb reconciliations, which means we cannot test this until v1.4.  The systest team will simply reexecute FAB-10191 in v1.3 and v1.4 as was done in v1.2. Since 10191 and 12833/12834/12835 tests cover the same basic scenarios in v1.4, then this testcase 11447 is more of a ""would be nice"" rather than a ""required"" testcase. Since this is a complicated solution test enveloping several things in combination - it could be deferred until time allows.",,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12834,FAB-12835,,,,FAB-10191,FAB-16072,,FAB-10903,FAB-10130,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-10084,,,No,,Unset,No,,,"1|hzzl8n:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,System Test,,(Please add usage information),scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Implement PutStateUInt64 helper in Go chaincode,FAB-11448,32504,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,EvansChang,angelo.decaro,angelo.decaro,02/Aug/18 11:12 PM,27/Feb/19 4:33 AM,28/Oct/23 3:03 AM,27/Feb/19 4:33 AM,,,,,,v2.1.0,,,,,,,,,0,,,,,,"Implement a utility function in the Go chaincode so that there is a common way to serialize an uint64. Operations and chaincode both need to understand how an uint64 is represented in byte format.

Method signature:

PutStateUInt64(key string, value uint64) error

 

See the epic design doc for more information.",,angelo.decaro,grapebaba,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzla7:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),angelo.decaro,grapebaba,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"29/Aug/18 6:56 PM;grapebaba;[~angelo.decaro] can we take this task?;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Implement GetStateUInt64 helper in Go chaincode,FAB-11449,32505,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,EvansChang,angelo.decaro,angelo.decaro,02/Aug/18 11:13 PM,27/Feb/19 4:33 AM,28/Oct/23 3:03 AM,27/Feb/19 4:33 AM,,,,,,v2.1.0,,,,,,,,,0,,,,,,"Implement a utility function in the Go chaincode so that there is a common way to serialize an uint64. Operations and chaincode both need to understand how an uint64 is represented in byte format.

Method signature:

GetStateUInt64(key string) uint64, error

 

See the epic design doc for more information.",,angelo.decaro,grapebaba,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzlaf:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),angelo.decaro,grapebaba,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"29/Aug/18 6:56 PM;grapebaba;[~angelo.decaro] can we take this task?;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Provide config option for CouchDB _global_changes,FAB-11450,32506,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,chris.elder,chris.elder,chris.elder,03/Aug/18 12:02 AM,06/Aug/18 10:21 PM,28/Oct/23 3:03 AM,06/Aug/18 10:21 PM,,,,,,,,,,,fabric-ledger,,,,0,,,,,,"The system database _global_changes is an optional database in CouchDB.  This can introduce overhead for tracking changes in CouchDB.

This is a follow-on task for FAB-8722  in fabric-baseimage.

 ",,chris.elder,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwtof:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),chris.elder,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove need for Peer access to Docker Socket,FAB-11453,32510,,Documentation,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid,sykesm,rhegde,rhegde,03/Aug/18 1:08 AM,20/Sep/19 7:49 PM,28/Oct/23 3:03 AM,20/Sep/19 7:49 PM,,,,,,,,,,,,,,,0,,,,,,"*Reduce Peer privileges on Docker Socket.*

The Fabric Peers currently need access to the docker socket to enable them to create peer chaincode containers.

Full access to the docker socket will allow a peer to create a container with inappropriate privileges that would allow for the escalation of privileges on the host by at least the following two ways
 # Creating a bind mounted storage with inappropriate mount point
 # Creating a host privileged container

 The FABRIC chaincode does not need either of these privileges.

 To conform to best security practices we would like to restrict the peer to carry out only actions it actually  needs.

 One suggested way would be as we are using  Docker Swarm as our co-ordination engine to send the container creation request to the Docker UCP using the UCP client bundle.  However the initial attempt at this has failed as it appears that the UCP does not always return the same return codes as Docker Socket.  For example containers/create where the  image does not exist returns error code 404 with the docker socket and 500 with UCP.

 

We would like to hear if this is been tried by Fabric Community and have documentation around it for others.",,mastersingh24,rhegde,rsherwood,silliman,simsc,YashGanthe,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzlb3:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),mastersingh24,rhegde,rsherwood,silliman,simsc,YashGanthe,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"02/Feb/19 5:48 AM;Clayton Sims;This one came up while talking to CLS.   Matt can you give us your view?;;;","09/Feb/19 12:40 AM;sykesm;The peers currently need access to the docker daemon - that does not mean we need access to /var/run/docker.sock. In existing code, the peer can be configured to use TLS connections to docker in the vm section of core.yaml by pointing to a network based endpoint instead of the bind mounted socket.

Use of Docker swarm is not something the open source project supports and is not on the roadmap. We are, however, considering a pluggable launch mechanism that would allow custom build and launch implementations in custom deployments of the peer without having to rebuild the peer.;;;","20/Sep/19 7:49 PM;mastersingh24;Matt Sykes comment covers this;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Not correct variable for debug messages in gossip,FAB-11454,32512,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,nnao,nnao,nnao,03/Aug/18 1:37 AM,04/Aug/18 12:20 AM,28/Oct/23 3:03 AM,04/Aug/18 12:20 AM,v1.2.0,,,,,v1.3.0,,,,,fabric-gossip,,,,0,,,,,,"I got an error message(%!v(MISSING)) as below.
{code}
2018-08-01 23:51:15.404 UTC [gossip/comm] readFromStream -> DEBU 19b9 rpc error: code = Canceled desc = context canceled Got error, aborting: %!v(MISSING)
{code}
 
the source code of this message is as follow. at gossip/comm/conn.go L352 
{code}
errChan <- err
conn.logger.Debugf(""Got error, aborting: %v"", err)
return
{code}
 
A channel of ""errChan"" receives a value from ""err"" and a value of ""err"" becomes empty.
Maybe ""err"" should be replaced with ""errChan"".
",,nnao,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzz4qf:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),nnao,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"03/Aug/18 2:43 AM;nnao;https://gerrit.hyperledger.org/r/#/c/25063/;;;","04/Aug/18 12:18 AM;nnao;I misunderstand. 
It has been fixed in the latest code. Sorry. 

{code}
2018-08-03 15:15:03.711 UTC [gossip/comm] readFromStream -> DEBU 3db Got error, aborting: rpc error: code = Canceled desc = context canceled
{code};;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
peer side changes to support pagination,FAB-11455,32516,33216,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,Senthil1,Senthil1,Senthil1,03/Aug/18 4:11 AM,14/Sep/18 1:24 PM,28/Oct/23 3:03 AM,09/Sep/18 6:50 AM,,,,,,v1.3.0,,,,,,,,,0,,,,,,"We need to make necessary changes in the core/chaincode/handler.go for pagination. Currently, the handler.go in the peer calls the ledger to execute queries (range query, rich query). On an execution of a query, the ledger returns an iterator. Using the iterator, peer constructs the query response with records and send the response to chaincode.

When a pagination is enabled (i.e., when the query metadata is passed with pageSize and a bookmark for range/rich queries), the peer would call the new pagination enabled range/rich query APIs at ledger which would return a response metadata in addition to an iterator. The response metadata would contain the next bookmark and the number of records fetched for the query. Peer retrieves all fetched records from ledger, constructs a query response including both records and response metadata. The chaincode can pass on the bookmark in the response metadata to the application/sdk.",,Senthil1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzlbb:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),Senthil1,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"03/Aug/18 5:20 AM;Senthil1;https://gerrit.hyperledger.org/r/c/25071/5;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add marbles and marbles private chaincode support to ATD/PTE,FAB-11456,32523,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,suryalnvs,suryalnvs,suryalnvs,03/Aug/18 6:24 AM,31/Aug/18 12:07 AM,28/Oct/23 3:03 AM,31/Aug/18 12:07 AM,,,,,,,,,,,,,,,0,,,,,,Add marbles chaincode to ATD/PTE to run marbles chaincode related tests and marbles private chaincode to run sidedb tests,,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-10054,,,No,,Unset,No,,,"1|hzzld3:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"27/Aug/18 11:57 PM;suryalnvs;https://gerrit.hyperledger.org/r/#/c/25901/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Set up new fabric-cli repo with README,FAB-11457,32524,31201,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,lehors,lehors,lehors,03/Aug/18 7:06 AM,07/Aug/18 1:07 AM,28/Oct/23 3:03 AM,07/Aug/18 1:07 AM,,,,,,,,,,,,,,,0,,,,,,,,lehors,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzldb:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),lehors,,,,,,,,,,,,,,,,,,,,,,,,,,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"07/Aug/18 1:07 AM;lehors;https://gerrit.hyperledger.org/r/#/c/25081/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Manual Temper with chain's data file,FAB-11458,32526,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Invalid: Works as Expected,mastersingh24,pankajcheema,pankajcheema,03/Aug/18 2:08 PM,04/Aug/18 1:34 AM,28/Oct/23 3:03 AM,04/Aug/18 12:09 AM,,,,,,,,,,,fabric-peer,,,,0,,,,,,"Hi Experts,

 I found a case while testing files of ledger.after creating channel and doing some transaction .I inspect the ledger file here */var/hyperledger/production/ledgersData/chains/chains/mychannel* on the peer container of the docker. I am using Byfn. On the above location i found the file which contains data for chain named as *blockfile_000000* .  Now i changed the content of this file manually using my editor and append some string in last of the file.

After doing all the above step I again initiated a invoke to move 10 from A to B as given in byfn. I completed this transaction without any issue. But it should not happen because i corrupted that file.

After doing the transaction new data is appended into old file with my previously added data.",,denyeart,meghagupta0305,pankajcheema,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-6486,,,,,,,,,,,,,,,,,lehors,mastersingh24,meghagupta0305,tkuhrt,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzldj:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,meghagupta0305,pankajcheema,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"03/Aug/18 3:24 PM;yacovm;You corrupted the file, but you did that after the world state has changed. This works as expected. I'm closing this.;;;","03/Aug/18 4:18 PM;pankajcheema;I got a case more .
1->>I cleared everything from */var/hyperledger/production/ledgersData/chains/chains/mychannel*

2->>also cleared everything  from */var/hyperledger/production/ledgersData/chains/index*

After this i again initiated a invoke for transferring 10 from A to B .I was able to do successful transaction again on the same peer from where i erased everything.

Why this is happening.This time i also erased indexes.

And if gossip updated the peer with new data then why not again all the data come backk in the respective directories.;;;","03/Aug/18 5:03 PM;yacovm;did you restart the peer after you deleted? The file descriptors are still open while a process is running;;;","03/Aug/18 5:53 PM;pankajcheema;[~yacovm] after restarting the peer i got files back but data is empty there 

Location :*/var/hyperledger/production/ledgersData/chains/chains/mychannel*

file :blockfile_000000

content on peer which is not corrupted by me is [content|https://hastebin.com/buxefofuda.makefile]

content on the peer where i corrupt the file is empty nothing 

What are the reasons;;;","03/Aug/18 6:36 PM;meghagupta0305;Hi everyone, 

I have done the same think as [~pankajcheema] did. 

I think actual issue is if we corrupting the file in one of the peer,then how it going to correct by it self? 

According to my understanding it should get corrected by peer with help of other peers or ordering service. But its not happening. 

 ;;;","03/Aug/18 6:41 PM;meghagupta0305;According to block chain basic concept if we change the data in block then data hash of that block will change and we will not able to reach that block. 

If we want to test/Verify  this feature how we can do that ?

 ;;;","04/Aug/18 12:08 AM;denyeart;[~pankajcheema] [~meghagupta0305]
If you tamper with the block files, the peer will not automatically detect this (imagine how expensive it would be to constantly recalculate hashes for millions of blocks). But you can audit the integrity of the blockchain by running a utility to check the hashes.  One such utility can be found at: https://github.com/C0rWin/ledgerfsck
There was a proposal to have such a verify utility within the peer itself, but current thinking is to use external verify tools.  See discussion in FAB-6486.

If you stop peer, delete the chains directory, and then try to invoke chaincode on a channel, you will get an error since peer wasn't able to initialize the chain upon restart.  I tested and confirmed, and will therefore close since it is working as designed.

A few comments:
- If you find your chain has been deleted or tampered, you will need to re-build your peer and re-join the channel.  Peer will get blocks from ordering service or another peer.
- If you believe your chain indexes or state database is not correct, you can stop peer, delete them, and re-start peer.  Peer will automatically rebuild indexes and state database based on the blockchain.
- The important concept in blockchain is - if you tamper with your own local copy of the blockchain, it is detectable and you will not be able to convince the network of other peers that your copy of the ledger is correct.  The integrity of the network cannot be compromised by a rogue organization/peer.;;;","04/Aug/18 12:36 AM;meghagupta0305;Thanks [~denyeart] for detail description on integrity of system. This information is very helpful. 

I am totally agree that calculating all the hashes is a costly operation even if we are doing with tool. 

But how we know that data has corrupted on one of the peer. 

Why can't we have some listener on block chain file which get called on every update on file to check its valid update or not. 

If its not valid update can send some kind of warning alarm. 

valid update means file update as a part of broadcast service or not. 

Its just my thought I might don't know the complication of system.  

 ;;;","04/Aug/18 1:34 AM;denyeart;[~meghagupta0305] The peer should run in a secured and locked down environment.  The peer has to trust its own system administrator is not malicious. A malicious system administrator could anyways stop the listener process while they tamper with the blocks, and while they are at it tamper with the validator code.  The important thing is that external tools can validate the integrity of the blockchain, and one rogue organization/peer/administrator cannot compromise all the other peers.;;;",,,,,,,,,,,,,,,,,,,,,,,,
Programming Model doc - Developing Applications topic,FAB-11459,32528,,Epic,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,odowdaibm,odowdaibm,odowdaibm,03/Aug/18 6:25 PM,23/Jan/20 7:33 AM,28/Oct/23 3:03 AM,23/Jan/20 7:33 AM,v1.3.0,,,,,v1.4.0,,,,,fabric-docs,,,,0,stale-item,,,,,Relates to JIRAs FAB-,,denyeart,isaacwch,latitiah,odowdaibm,SjirNijssen,Specia1,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-10868,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Most important doc topics merged.,(Please add high level design or a link to the design),Not Required,Unset,Required,ghx-label-9,,Programming Model doc - Developing Applications topic,To Do,No,,Not Required,No,,,"1|hzzldr:",,,,No,Required,,,(Please add steps to reproduce),,Unset,,,,,Still Needed.,Unset,,Unset,,(Please add usage information),denyeart,isaacwch,latitiah,odowdaibm,SjirNijssen,Specia1,sykesm,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"03/Aug/18 6:26 PM;odowdaibm;This feature provides the documentation for epics FAB-11246 and FAB-10741;;;","03/Aug/18 6:29 PM;odowdaibm;Documentation for developing applications starting with the programming model changes introduced in Fabric 1.3 for SDK and Smart contracts;;;","03/Aug/18 6:36 PM;odowdaibm;[~SjirNijssen] [~andrew-coleman] [~EdProsser] [~sstone1] [~davidkel] [~mbwhite] [~denyeart]

 

Heads up that this feature is raised for Developing Applications topic.  We're going to get a basic structure in place today based on DWG feedback.  I'll get a CR up sometime today so folks can kick it around and comment.  Sjir's provided a really good initial pass, which I'll use.  Thanks!;;;","11/Sep/18 10:56 PM;denyeart;Based on discussions, moving to v1.4.0 (early beta in v1.4.0).;;;","31/Oct/18 10:18 PM;latitiah;This epic still needs a test plan summary associated with it. Here is a quick guide for what the summary should contain. Thanks!
{code}
Functional Tests:
 - FAB-XXX1: Make sure config is accepted and turns on feature (Integration) - PersonA
 - FAB-XXX2: What happens when config is set wrong (unit) - PersonA
 - FAB-XXX3: When FeatureX is turned on in both ComponentA and ComponentB (End-to-end) - PersonB
 - FAB-XXX4: When FeatureX is turned on in ComponentA and not ComponentB (End-to-end) - PersonA

System Tests:
 - FAB-XXX5: How is performace impacted when sending 5 packets per second for 3 hours? - PersonC
   * Be sure to set the following config values on ComponentA as such:
     - FEATUREX=true
     - FEATURE_PATH=/some/path/for/my/feature
   * Be sure to send the messages using the foo SDK
 - FAB-XXX6: Is the feature and component stable when executing 10 packets per second for 1 week? - PersonC
   * Be sure to set the following config values on ComponentA as such:
     - FEATUREX=true
     - FEATURE_PATH=/some/path/for/my/feature
{code};;;","23/Jan/20 7:33 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,
.NET Chaincode Shim,FAB-11460,32530,,Epic,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,tkuhrt,ManuelRauber,ManuelRauber,03/Aug/18 7:04 PM,23/Jan/20 7:33 AM,28/Oct/23 3:03 AM,23/Jan/20 7:33 AM,,,,,,,,,,,,,,,0,stale-item,,,,,"I want to propose a new Chaincode Shim written as a .NET Standard Library which allows writing Hyperledger Fabric Chaincode in C# or F#. I've already started the implementation, the repo is here [https://github.com/thinktecture/fabric-chaincode-netcore|https://github.com/thinktecture/fabric-chaincode-netcore/tree/develop], and a NuGet is available there [https://www.nuget.org/packages/Thinktecture.HyperledgerFabric.Chaincode|https://www.nuget.org/packages/Thinktecture.HyperledgerFabric.Chaincode] The implementation is based on HLF 1.2, so it's currently working with that version. The implementation has the same API surface as the other shims. The codebase itself is unit tested (not yet integration tested), coverage around 90 % using the same test values as the Node.js version. I've also included two samples, a very simple AssetHolding and the FabCar sample. 
Additionally, within the repo, there's a modified fabric-ccenv which includes the .NET Core Runtime to run the Chaincode Shim. So far, the chaincode has to be called with language ""node"" to get it installed and running.

I'd love to contribute to HLF and enhance to further, so HLF will officially support C# Chaincode. The motivation behind the new shim is that our customers are mostly .NET developers. The .NET shim enables them to use their existing C#/F# knowledge, develop chaincode for HLF and can enhance their products/applications with Blockchain technology - if needed.

The library itself is a .NET Standard Library. It can be used with .NET Core (which allows running on Linux, macOS and Windows - therefore it's compatible with fabric-ccenv docker) as well as the full .NET Framework 4.6.1+.

If .NET is relevant for HLF, I would also be available for contributing a .NET SDK as well. Haven't started on this yet, since I want to get some feedback on .NET@HLF in general before starting a bigger port of the SDK.",,ChristopherFerris,isaacwch,jmason900,ManuelRauber,maxpiva,pandagopal,sstone1,sykesm,tkuhrt,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11510,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"03/Aug/18 7:04 PM;ManuelRauber;2018-07-31_16-23-05 (2).png;https://jira.hyperledger.org/secure/attachment/15446/2018-07-31_16-23-05+%282%29.png","03/Aug/18 7:04 PM;ManuelRauber;2018-07-31_16-23-06 (1).png;https://jira.hyperledger.org/secure/attachment/15444/2018-07-31_16-23-06+%281%29.png","03/Aug/18 7:04 PM;ManuelRauber;2018-07-31_16-23-06.png;https://jira.hyperledger.org/secure/attachment/15445/2018-07-31_16-23-06.png",,,,,,,,,,,,,,"Working Prototype and Samples are available, Code needs some more work & refactoring, Docs and a tutorialt",(Please add high level design or a link to the design),Not Required,Unset,Required,ghx-label-11,,net-shim,To Do,No,,Required,No,,,"1|hzzldz:",,,,Yes,Required,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ChristopherFerris,isaacwch,jmason900,ManuelRauber,maxpiva,pandagopal,sstone1,sykesm,tkuhrt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"05/Aug/18 9:16 PM;jmason900;I think .Net SDK and .Net shim for chaincode is a great idea. It should make it easier for the .Net developer community to leverage Fabric.

I assume the pre-reqs for the runtime listed here are accurate?

[https://docs.microsoft.com/en-us/dotnet/core/linux-prerequisites?tabs=netcore2x]

You mention Visual Studio 2017 as an IDE. I assume Visual Studio Code ( 1.2.x or later ) will work also as an IDE in Linux?

Thanks

 

 ;;;","06/Aug/18 3:23 PM;ManuelRauber;Hi [~jmason900]

yes, the pre-reqs for the runtime are accurate. And it's working so far with the docker fabric-ccenv modified by me within the repository.

Developing is possible with every code editor you want, preferably (by me): JetBrains Rider (Linux, macOS, Windows), Visual Studio Code (also all three platforms) or Visual Studio (Windows only). So there's enough freedom of choice to use any editor someone wants. :);;;","08/Aug/18 6:04 AM;pandagopal;it would be good , if someone creates a Fabric .Net SDK project , so that people from community could start working.;;;","15/Aug/18 11:06 PM;ManuelRauber;I've just updated the code to support TLS GPRC connections.;;;","16/Aug/18 3:47 PM;ManuelRauber;I've moved the samples to there own repo, so the preview-build does not run automatically when the samples are changing:

- Asset Holding: https://github.com/thinktecture/hlf-sample-asset-holding-netcore
- FabCar: https://github.com/thinktecture/hlf-sample-fabcar-netcore;;;","29/Aug/18 7:46 PM;ManuelRauber;The Shim has been updated to include the upcoming Contract-based API. :);;;","10/Dec/18 2:13 PM;maxpiva;Hello, i already ported the Fabric SDK from Java. [https://github.com/maxpiva/fabric-sdk-net]

The shim is also ported. [https://github.com/maxpiva/fabric-chaincode-net]

v1.1 is working as expected and v1.3 is coming nicely.

but my proficiency and knowledge on GO is almost Zero, so i need some help on that part (Platform, and docker creation).

 ;;;","11/Dec/18 12:53 AM;ChristopherFerris;Maybe this should be set up as a Hyperledger Lab project? [~tkuhrt], thoughts?;;;","11/Dec/18 1:02 AM;ManuelRauber;[~ChristopherFerris] That was indeed the first idea, I've already talked to several people about that ([~mbwhite], [~denyeart] and [~davidkel]). However, due to business, I was not able to attend one of the Hyperledger Maintainers Community Meetings. 

I'll be more than happy to set this up within the Hyperledger Project.;;;","11/Dec/18 1:03 AM;tkuhrt;Not sure how this managed to escape my view for so long. We could definitely make this a lab. [~ChristopherFerris]  is this something you would sponsor? Or do you have someone in mind?;;;","18/Dec/18 5:38 AM;maxpiva;Any news on this? Help on fabric, and some guidelines will be really appreciated.

I need to create the shim nuget for 1.4, to start playing with the docker creation, and worried about Copyright issues of publishing something like that on the nuget repository.

 

 ;;;","23/Jan/20 7:33 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,
Improve documentation for Fabric permissions,FAB-11461,32534,,Documentation,Closed,FAB,Fabric,software,denyeart,,,High,Won't Do,,denyeart,denyeart,03/Aug/18 9:27 PM,23/Jan/20 7:29 AM,28/Oct/23 3:03 AM,23/Jan/20 7:29 AM,,,,,,v1.3.0,,,,,fabric-docs,,,,2,stale-item,,,,,"I think two things are needed:

1) Need an overview document on Fabric permissions to explain the different levels of permissions. For example there is a good document about ACLs http://hyperledger-fabric.readthedocs.io/en/latest/access_control.html , but it needs to be more clear that these are only for channel-scoped resources.  There are also peer-scoped resources such as chaincode installation on a peer and channel joining on a peer that require peer admin permission.  Peer admin permissions are not described anywhere as far as I can tell, except for some indirect mention on the Membership concepts page about local MSPs.  And then there are coarser-grained channel readers/writers policies that also come into play.  And then there is chaincode instantiation policy, which will be changing somewhat with the new lifecycle.

2) Need each of the peer commands in the command reference https://hyperledger-fabric.readthedocs.io/en/latest/command_ref.html to include information about permissions required to execute each command.  Some require peer admin and some require specific channel ACL permissions.

This question on stack overflow highlights the confusion in the community:

https://stackoverflow.com/questions/51670810/implementing-acl-in-hyperledger-fabric-v1-2",,denyeart,joe-alewine,odowdaibm,SjirNijssen,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzlen:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,joe-alewine,odowdaibm,SjirNijssen,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"03/Aug/18 10:05 PM;joe-alewine;I completely agree this needs to be done, and some of this work is already underway, as encapsulated by this jira: https://jira.hyperledger.org/browse/FAB-10890

Sjir and Anthony are leading that effort, with my help. I can't speak exactly to the timeframe, but we have a call this morning and can discuss it.;;;","03/Aug/18 10:15 PM;SjirNijssen;Joe, thank you for your clear statement of support. 
I believe we can best most productively solve this problem by producing the conceptual model of this subarea (declarative knowledge)  providing concrete illustrations and thereafter go through a selected set of scenarios such that all WHY DO WE HAVE IT and WHAT IS IT questions are answered. 
I think this work could be more productive if we had available all old design docs. There is relatively little in the chat channels as they seem occupied with other problems, while policies are a very strong element in Fabric!;;;","03/Aug/18 10:25 PM;odowdaibm;Started discussion this on DWG last week, and I agree. There are a couple of aspects - the permissions on specific resources, and the policies that can be applied. 

 

There's also a good conversation to be had on the most helpful type of constitutions for how organizations agree fabric configuration changes.;;;","03/Aug/18 10:31 PM;SjirNijssen;[~denyeart] Thank you for the clear description of the permission problem. Could you please let me know the parts of the code where I can find more info, I would appreciate those pointers.;;;","23/Jan/20 7:29 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,
Feature to be able to use SASL/Plaintext auth with kafka,FAB-11462,32535,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,mastersingh24,mrshah-ibm,mrshah-ibm,03/Aug/18 10:02 PM,12/Aug/18 10:46 AM,28/Oct/23 3:03 AM,12/Aug/18 10:46 AM,v1.2.0,,,,,v1.3.0,,,,,fabric-orderer,,,,0,,,,,,The orderer should be able to use kafka with SASL/Plaintext authentication. This will help to run orderer with the hosted Kafka services.,,mastersingh24,mrshah-ibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11490,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzlev:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),mastersingh24,mrshah-ibm,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"11/Aug/18 8:57 PM;mastersingh24;https://gerrit.hyperledger.org/r/25451;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fabric Modularity Documentation / Question,FAB-11463,32536,,Documentation,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,Tecnalia,Tecnalia,03/Aug/18 10:04 PM,23/Jan/20 7:29 AM,28/Oct/23 3:03 AM,23/Jan/20 7:29 AM,,,,,,,,,,,,,,,0,stale-item,,,,,"According to fabric documentation, it is said to be modular, to have a pluggable consensus etc...but

We couldn't find in any docs, any information about what are the steps to follow to add support for any other kind of state persistency mechanism. I mean, currently leveldb and couchdb are supported, but we would like to know how a new state can be implemented using lets say other software such as redis, mongodb, etc.

We think the clear step is to download fabric latest core and make the required modifications, but is there any documentation about it? How we should proceed?",,sykesm,Tecnalia,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzlf3:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,Tecnalia,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 7:29 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Feature to be able to reuse kafka cluster for multiple ordering services,FAB-11464,32537,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,mrshah-ibm,mrshah-ibm,03/Aug/18 10:08 PM,23/Jan/20 7:32 AM,28/Oct/23 3:03 AM,23/Jan/20 7:32 AM,Future,,,,,,,,,,fabric-orderer,,,,0,stale-item,,,,,"We should be able to use the same kafka cluster for running multiple ordering services.

 

Not sure this is the correct way - but the idea is if orderer can use the ""network id"" in the topics it creates in kafka, we can run multiple ordering services with unique ""network id"" for each ordering services.",,mrshah-ibm,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzlfb:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),mrshah-ibm,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 7:32 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fabric components should be able to pick up new TLS certs without restart,FAB-11465,32538,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,mrshah-ibm,mrshah-ibm,03/Aug/18 10:16 PM,23/Jan/20 7:32 AM,28/Oct/23 3:03 AM,23/Jan/20 7:32 AM,Future,,,,,v1.2.0,,,,,,,,,0,stale-item,,,,,"The TLS Certificates are bound to expire. These certificates need to be updated (renewed).

There should be a way to renew the certificates on peers/orderers without needing a restart.",,mrshah-ibm,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzlfj:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),mrshah-ibm,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 7:32 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"When a peer starts, it should automatically launch chaincodes",FAB-11466,32539,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,mastersingh24,mastersingh24,03/Aug/18 10:24 PM,23/Jan/20 7:32 AM,28/Oct/23 3:03 AM,23/Jan/20 7:32 AM,v1.2.0,,,,,,,,,,fabric-peer,,,,1,stale-item,,,,,"When a peer is stopped or restarted, all chaincode containers essentially stop (they actually ""crash"" as they are only kept running by maintaining a connection to a running peer).   This results is multiple issues and causes confusion for users of Fabric.

There is no reason why the peer cannot actually automatically start the containers for chaincode which should be running.",,mastersingh24,patefon,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzlfr:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),mastersingh24,patefon,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 7:32 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Client app design FAQ,FAB-11467,32541,,Documentation,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,joe-alewine,pandrejko,pandrejko,03/Aug/18 10:49 PM,09/Aug/18 12:34 PM,28/Oct/23 3:03 AM,09/Aug/18 5:17 AM,v1.2.0,,,,,v1.2.0,,,,,fabric-docs,,,,0,,,,,,"We need documentation that explains that transactions will be rejected when chain code container is not yet up and running.

error of the code- ""transaction fails if chain code is being launched""


 at application- when you receive batch of transactions- you can put a message queue that will hold transaction until successful


 2nd way of doing- not running chain code as normal chaincode and building the peer with that part of the chaincode- so it can make sure that chain code is always running (we don't support that on IBP-- that is a custom peer you build)

Possible location: in the FAQ under the the Application-side Programming Model.

 

[~jyellick] is familiar with this problem and we should consult them for context/details.",,pandrejko,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzlg7:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),pandrejko,,,,,,,,,,,,,,,,,,,,,,,,,,release-1.2,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Several peer commands do not print error message upon failure,FAB-11468,32542,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,denyeart,denyeart,denyeart,03/Aug/18 11:25 PM,04/Aug/18 9:08 PM,28/Oct/23 3:03 AM,04/Aug/18 9:08 PM,,,,,,v1.2.1,v1.3.0,,,,,,,,0,,,,,,"Several peer commands print a 500 error code upon failure, but do not print the corresponding error message, making it impossible to troubleshoot.",,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwtn3:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,release-1.2,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"03/Aug/18 11:33 PM;denyeart;v1.3 (master): https://gerrit.hyperledger.org/r/#/c/25107/

v1.2.1 https://gerrit.hyperledger.org/r/#/c/25109/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Sample chaincode making use of built-in operations,FAB-11469,32543,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,sheehan,sheehan,sheehan,03/Aug/18 11:34 PM,25/Nov/20 12:33 AM,28/Oct/23 3:03 AM,25/Nov/20 12:33 AM,,,,,,v2.1.0,,,,,fabric-peer,,,,0,,,,,,Build a sample chaincode making use of the built-in operations so that chaincode developers can better understand how the feature works.,,manish-sethi,sheehan,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Yes,Unset,,FAB-10711,,,No,,Unset,No,,,"1|i01fvb:zy",,,,No,Unset,,,(Please add steps to reproduce),,No,,,,,,Unset,,Unset,,(Please add usage information),manish-sethi,sheehan,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"25/Nov/20 12:33 AM;manish-sethi;Closing individual tasks of the epic ""Enhanced Concurrency Control"". See epic closure comments;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Create new application capability for enhanced concurrency control,FAB-11470,32545,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,ales,sheehan,sheehan,03/Aug/18 11:38 PM,23/Jan/20 7:32 AM,28/Oct/23 3:03 AM,23/Jan/20 7:32 AM,,,,,,v2.1.0,,,,,fabric-peer,,,,0,stale-item,,,,,"Create a new application capability so that features built can be gated behind the capability and potentially not exposed. This will allow us to develop enhanced concurrency control features in the master branch and only expose the features in a release when they meet production requirements.

See

https://gerrit.hyperledger.org/r/c/21247/19/core/chaincode/handler.go",,sheehan,sykesm,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,No,Unset,,FAB-10711,,,No,,Unset,No,,,"1|hzzlgv:",,,,No,Unset,,,(Please add steps to reproduce),,No,,,,,,Unset,,Unset,,(Please add usage information),sheehan,sykesm,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 7:32 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Limit the maximum number of concurrent streams/connections to the deliver service,FAB-11471,32548,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,mastersingh24,mastersingh24,mastersingh24,03/Aug/18 11:58 PM,23/Jan/20 7:32 AM,28/Oct/23 3:03 AM,23/Jan/20 7:32 AM,v1.2.0,,,,,,,,,,fabric-orderer,fabric-peer,,,0,stale-item,,,,,"Client applications make connections to the channel delivery service in order to receive the status of transactions they submit.  Clients should not open multiple streams as a single steam can serve multiple transactions.  In order to prevent issues caused by poorly written and/or malicious clients, the peer should provide a configuration setting to limit the total number of concurrent deliver streams.",,jyellick,mastersingh24,sykesm,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzlhb:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),jyellick,mastersingh24,sykesm,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"18/Aug/18 3:41 AM;mastersingh24;I'm not sure that there's a great solution to this.  We can limit the total number of streams, but there's no built-in functionality in grpc-go to actually have a per client limit (which I think is what we are after).

[~jyellick] - thoughts?;;;","19/Aug/18 1:58 AM;yacovm;shouldn't we just prevent clients from opening 2 or more deliver streams at the same time?

Meaning - detect the identity of the client, and record it and delete it upon stream disconnect.

 

IMO interceptors might be a double-edges sword because if we set the number of concurrent streams too low, a single client can open that many streams and prevent all other clients to pull events, and also - if you suddenly have more clients but you set the config value to be too low - you need to restart the node...;;;","19/Aug/18 9:09 PM;mastersingh24;[~yacovm] We can use interceptors to track per client limits.  Of course we need to define the properties which make a client unique.

We can also look at other ways and remove the dependency on interceptors in we desire.;;;","19/Aug/18 10:11 PM;yacovm;How do you associate a stream to a client?
 * You can't use the source IP because it would mean people can't connect behind NAT
 * You can't use source IP || port, because some clients might open more than 1 connection and then you don't block them.

Perhaps we can just do it in the application layer via keeping track of the certificates of the clients that are connected? This is not as simple as it looks though, because the client might be disconnected while the gRPC dispatching goroutine is stuck on waiting for the block iterator, and then it might prevent the client from re-connecting, but I'm sure we can work something out;;;","20/Aug/18 10:33 PM;jyellick;> because the client might be disconnected while the gRPC dispatching goroutine is stuck on waiting for the block iterator

Hopefully this is largely fixed.  We now check for client cancellation while waiting for new blocks.

> I'm not sure that there's a great solution to this.  We can limit the total number of streams, but there's no built-in functionality in grpc-go to actually have a per client limit (which I think is what we are after).

Really, I suspect we want both.  Per client, and total.  Per client so that a single client cannot eat up the total DoS others, but also total to avoid a DDoS style attack which crashes the peer.  The 'per client' though is the most important to prevent poorly written applications from causing problems for the peer.

[~sykesm] I believe you said that CF had implemented a suite of connection limiting stuff, do you have any thoughts?;;;","20/Aug/18 10:54 PM;yacovm;{quote}Hopefully this is largely fixed. We now check for client cancellation while waiting for new blocks.
{quote}
What I meant to say is - it may be that the client cancellation never comes. I might be wrong, but consider the following scenario: 
 The client is connected to the peer and between them there is a router that is shut down. 
 The select in the deliver waits on the gRPC context.Done() or on the erroredChan of the chain, or on the block iterator. 
 Will the gRPC context fire the Done() because of the router shut down? I tend to think not, even in spite of keepalives (I might be wrong though... )

 
{quote}Really, I suspect we want both. Per client, and total. Per client so that a single client cannot eat up the total DoS others
{quote}
At least to my knowledge - usually you use kind of firewall module or some proxy to do that,  though I guess if we really want to limit TCP connections we can just implement our own *net.Listener* to do the work, but - then we don't know if the connection comes from NAT or not.

 ;;;","23/Jan/20 7:32 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
Add option to ATD/PTE to skip admin tasks,FAB-11472,32549,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,suryalnvs,suryalnvs,suryalnvs,04/Aug/18 12:04 AM,31/Aug/18 12:07 AM,28/Oct/23 3:03 AM,31/Aug/18 12:07 AM,,,,,,,,,,,,,,,0,,,,,,By adding option to ATD/PTE to skip admin tasks while executing a test,,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-10054,,,No,,Unset,No,,,"1|hzzlhj:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"27/Aug/18 11:57 PM;suryalnvs;https://gerrit.hyperledger.org/r/#/c/25901/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
PTE excessive log message with getPeers(),FAB-11473,32550,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,dongming,dongming,dongming,04/Aug/18 12:04 AM,09/Aug/18 1:26 AM,28/Oct/23 3:03 AM,09/Aug/18 1:26 AM,,,,,,,,,,,fabric-quality,,,,0,,,,,,"With

fabric-ca-client@1.3.0-snapshot.14

fabric-client@1.3.0-snapshot.14, 

channel.getPeers() returns message as follow:

info: [PTE 0 main]: stdout: info: [PTE 0 exec]: [Nid:chan:org:id=0:testorgschannel1:org1:0 assignThreadOrgAnchorPeer] Peers: _mspid=undefined, _name=testorgschannel1, , _anchor_peers=[], , _kafka_brokers=[], _keySize=256, _hashAlgo=SHA2, domain=null, , _eventsCount=0, _maxListeners=undefined, domain=null, , _eventsCount=0, _maxListeners=undefined, silent=false, raw=false, name=console, formatter=undefined, level=undefined, handleExceptions=false, exceptionsLevel=error, humanReadableUnhandledException=false, json=false, colorize=true, prettyPrint=false, timestamp=false, showLevel=true, label=null, logstash=false, depth=null, align=false, error=true, debug=true, eol=
, _onError=function () \{ [native code] }, _names=[console], padLevels=false, error=0, warn=1, info=2, verbose=3, debug=4, silly=5, error=function () {
 if (arguments.length > 0) {
 arguments[0] = '[' + loggerName + ']: ' + arguments[0];
 }

f.apply(context, arguments);
 }, warn=function () {
 if (arguments.length > 0) {
 arguments[0] = '[' + loggerName + ']: ' + arguments[0];
 }

f.apply(context, arguments);
 }, info=function () {
 if (arguments.length > 0) {
 arguments[0] = '[' + loggerName + ']: ' + arguments[0];
 }

f.apply(context, arguments);
 }, verbose=function (msg) {
 // build argument list (level, msg, ... [string interpolate], [\{metadata}], [callback])
 var args = [level].concat(Array.prototype.slice.call(arguments));
 target.log.apply(target, args);
 }, debug=function () {
 if (arguments.length > 0) {
 arguments[0] = '[' + loggerName + ']: ' + arguments[0];
 }

f.apply(context, arguments);
 }, silly=function (msg) {
 // build argument list (level, msg, ... [string interpolate], [\{metadata}], [callback])
 var args = [level].concat(Array.prototype.slice.call(arguments));
 target.log.apply(target, args);
 }, id=null, level=info, emitErrs=false, stripColors=false, exitOnError=true, , , rewriters=[], filters=[], _dir=/tmp/hfc-test-kvs_0_PeerOrg1, superClass=class extends api.KeyValueStore {

/**
 * constructor
 *
 * @param \{Object} options contains a single property <code>path</code> which points to the top-level directory
 * for the store
 */
 constructor(options) {
 logger.debug('constructor', \{ options: options });

if (!options || !options.path) {
 throw new Error('Must provide the path to the directory to hold files for the store.');
 }

// Create the keyValStore instance
 super();

var self = this;
 this._dir = options.path;
 return new Promise(function (resolve, reject) {
 fs.mkdirs(self._dir, function (err) {
 if (err) {
 logger.error('constructor, error creating directory, code: %s' , err.code);
 return reject(err);
 }
 return resolve(self);
 });
 });
 }

getValue(name) {
 logger.debug('getValue', \{ key: name });

var self = this;

return new Promise(function (resolve, reject) {
 var p = path.join(self._dir, name);
 fs.readFile(p, 'utf8', function (err, data) {
 if (err) {
 if (err.code !== 'ENOENT') {
 return reject(err);
 } else {
 return resolve(null);
 }
 }
 return resolve(data);
 });
 });
 }

setValue(name, value) {
 logger.debug('setValue', \{ key: name });

var self = this;

return new Promise(function (resolve, reject) {
 var p = path.join(self._dir, name);
 fs.writeFile(p, value, function (err) {
 if (err) {
 reject(err);
 } else {
 return resolve(value);
 }
 });
 });
 }
}, path=/tmp/hfc-test-kvs_0_PeerOrg1, _getKeyStore=function () {
 const CKS = require('./impl/CryptoKeyStore.js');

const self = this;
 return new Promise((resolve, reject) => {
 if (self._store === null) {
 self.logger.debug(util.format('This class requires a CryptoKeyStore to save keys, using the store: %j', self._storeConfig));

CKS(self._storeConfig.superClass, self._storeConfig.opts)
 .then((ks) => {
 self.logger.debug('_getKeyStore returning ks');
 self._store = ks;
 return resolve(self._store);
 }).catch((err) => {
 reject(err);
 });
 } else {
 self.logger.debug('_getKeyStore resolving store');
 return resolve(self._store);
 }
 });

}, _curveName=secp256r1, type=short, negative=0, words=[67108863, 67108863, 67108863, 262143, 0, 0, 0, 1024, 67043328, 4194303, 0], length=10, red=null, $ref=$[0][""_channel""][""_clientContext""][""_cryptoSuite""][""_ecdsaCurve""][""curve""][""p""], prime=null, shift=260, negative=0, words=[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1], length=11, red=null, negative=0, words=[768, 0, 66060288, 67108863, 67108859, 67108799, 67108863, 66584575, 16777215, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], length=10, $ref=$[0][""_channel""][""_clientContext""][""_cryptoSuite""][""_ecdsaCurve""][""curve""][""red""], negative=0, words=[0, 12, 67108352, 32767, 2097152, 0, 67108861, 255, 67100672, 262143], length=10, red=null, negative=0, words=[67108863, 67108863, 67108863, 66846719, 67108863, 67108863, 67108863, 67106815, 65535, 62914560, 0], length=10, red=null, negative=0, words=[0], length=1, $ref=$[0][""_channel""][""_clientContext""][""_cryptoSuite""][""_ecdsaCurve""][""curve""][""red""], negative=0, words=[16, 0, 0, 62914560, 67108863, 67108863, 67108863, 67092479, 1048575, 0, 0], length=9, $ref=$[0][""_channel""][""_clientContext""][""_cryptoSuite""][""_ecdsaCurve""][""curve""][""red""], negative=0, words=[32, 0, 0, 58720256, 67108863, 67108863, 67108863, 67076095, 2097151, 0, 0], length=9, $ref=$[0][""_channel""][""_clientContext""][""_cryptoSuite""][""_ecdsaCurve""][""curve""][""red""], negative=0, words=[6497617, 41070783, 32001851, 45522014, 62711546, 67108863, 67108863, 1023, 67043328, 4194303, 0], length=10, red=null, $ref=$[0][""_channel""][""_clientContext""][""_cryptoSuite""][""_ecdsaCurve""][""curve""], type=affine, step=4, points=[$ref=$[0][""_channel""][""_clientContext""][""_cryptoSuite""][""_ecdsaCurve""][""curve""][""g""], $ref=$[0][""_channel""][""_clientContext""][""_cryptoSuite""][""_ecdsaCurve""][""curve""], type=affine, precomputed=null, negative=0, words=[7321605, 2987055, 40599691, 20709259, 25701895, 34592037, 53443628, 29942139, 921659, 1267954, 5985795, 23846700, 15347602, 7090906, 28474176, 8931200, 49294835, 11581115, 238368, 3246789], length=10, $ref=$[0][""_channel""][""_clientContext""][""_cryptoSuite""][""_ecdsaCurve""][""curve""][""red""], negative=0, words=[35912118, 7297354, 25686769, 37405401, 57084977, 23083640, 6437809, 8912241, 52829950, 1292254, 50818772, 16908648, 6428529, 40457592, 41599142, 18666950, 52576144, 60462591, 28078227, 1087445], length=10, $ref=$[0][""_channel""][""_clientContext""][""_cryptoSuite""][""_ecdsaCurve""][""curve""][""red""], inf=false, $ref=$[0][""_channel""][""_clientContext""][""_cryptoSuite""][""_ecdsaCurve""][""curve""], type=affine, precomputed=null, negative=0, words=[43282375, 37743013, 23939181, 34763497, 17808493, 63793237, 21118608, 25887631, 23268825, 3208838, 1100514, 56887945, 65662982, 24337302, 51506363, 46508542, 54949895, 57261259, 16586609, 2457728], length=10, $ref=$[0][""_channel""][""_clientContext""][""_cryptoSuite""][""_ecdsaCurve""][""curve""][""red""], negative=0, words=[64346291, 66502899, 10872435, 9840511, 7359356, 9180840, 39329781, 60092851, 45880533, 2520359, 3567724, 34021376, 39477777, 48249459, 4765140, 1647733, 58815125, 594977, 52701986, 3188619], length=10, $ref=$[0][""_channel""][""_clientContext""][""_cryptoSuite""][""_ecdsaCurve""][""curve""][""red""], inf=false, $ref=$[0][""_channel""][""_clientContext""][""_cryptoSuite""][""_ecdsaCurve""][""curve""], type=affine, precomputed=null, negative=0, words=[11754020, 46372525, 47146866, 7175082, 30979584, 24008192, 58516601, 7769251, 44572600, 2655156, 2608851, 1481207, 52305463, 30385450, 36190313, 61245857, 22002620, 15118050, 55112042, 3439937],",,dongming,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-2247,,,No,,Unset,No,,,"1|hzzlhr:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),dongming,,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,true,"07/Aug/18 11:56 PM;dongming;https://gerrit.hyperledger.org/r/#/c/25205/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As a Fabric user, I want to be able to order my transactions using a barebones etcd/raft-based ordering service",FAB-11474,32551,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,guoger,kchristidis,kchristidis,04/Aug/18 12:06 AM,16/Jan/19 8:07 AM,28/Oct/23 3:03 AM,13/Nov/18 12:15 AM,,,,,,v2.0.0,,,,,fabric-orderer,,,,0,raft,,,,,"Acceptance criteria:

# User edits {{configtx.yaml}} so as to have a network with a single-node etcd/raft-based ordering service and a system channel that is also an application channel. Assume {{BatchSize}} is set to 10 and {{Batch.Timeout}} is set to a reasonably high value, e.g. 120s.
 # User launches single-node etcd/raft-based ordering service.
 # User invokes the Broadcast RPC to send {{BatchSize}} transactions ({{foo-1}} to {{foo-10}}) to the ordering service within {{Batch.Timeout}}. User receives a SUCCESS response for each of those calls.
# Once {{batch.size}} transactions have been sent successfully to the ordering service, user invokes the Deliver RPC and receives the genesis block and a block containing transactions {{foo-1}} to {{foo-10}}.",,kchristidis,tock,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11798,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-6135,,,No,,Unset,No,,,"1|hzzlhz:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),kchristidis,tock,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"16/Oct/18 7:50 AM;kchristidis;[~tock] to run a final round of manual tests before marking this Story as Done.;;;","11/Nov/18 7:06 PM;tock;[~kchristidis]:

Manual tests conducted successfully. 

This subtask (https://jira.hyperledger.org/browse/FAB-12762) adds a etcd/raft consensus-type to fabric-samples first-network. Single etcd/raft node. The CR merge is deferred until v1.4 is cut from master.  ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Allow protolator to work with orderer type-related matadata,FAB-11476,32553,32551,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid,kchristidis,kchristidis,kchristidis,04/Aug/18 12:12 AM,08/Aug/18 8:42 AM,28/Oct/23 3:03 AM,08/Aug/18 8:42 AM,,,,,,,,,,,,,,,0,,,,,,,,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzli7:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Define consenter metadata for etcd/raft plugin,FAB-11477,32554,32551,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid,kchristidis,kchristidis,kchristidis,04/Aug/18 12:13 AM,08/Aug/18 8:42 AM,28/Oct/23 3:03 AM,08/Aug/18 8:42 AM,,,,,,,,,,,,,,,0,,,,,,,,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzlif:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Allow a configtxlator user to create a genesis block that defines and uses an etcd/raft-based ordering service,FAB-11478,32555,32551,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,kchristidis,kchristidis,kchristidis,04/Aug/18 12:14 AM,15/Aug/18 1:18 AM,28/Oct/23 3:03 AM,15/Aug/18 1:18 AM,,,,,,,,,,,,,,,0,,,,,,,,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzlin:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"08/Aug/18 10:01 AM;kchristidis;https://gerrit.hyperledger.org/r/c/25235/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Build failures,FAB-11480,32558,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,rickr,rickr,rickr,04/Aug/18 2:34 AM,06/Aug/18 9:36 PM,28/Oct/23 3:03 AM,06/Aug/18 9:36 PM,v1.3.0,,,,,v1.3.0,,,,,fabric-sdk-java,,,,0,,,,,,"Periodic build failures can happen with networkconfig integration test since it test both peers but only makes sure that one is listening to the events.

Gerrit https://gerrit.hyperledger.org/r/#/c/25121/",,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzlj3:",,,,Unset,Unset,,,Run the tests long enough,,Unset,,,,,,Unset,,Unset,,(Please add usage information),rickr,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Dev chaincode host dir not mounted in chaincode container,FAB-11482,32564,,Documentation,Closed,FAB,Fabric,software,denyeart,,,Low,Won't Do,,yousefzoq,yousefzoq,05/Aug/18 3:51 PM,23/Jan/20 7:29 AM,28/Oct/23 3:03 AM,23/Jan/20 7:29 AM,,,,,,,,,,,fabric-docs,,,,0,stale-item,,,,,"In the Chaincode for Developers Tutorial: 

http://hyperledger-fabric.readthedocs.io/en/latest/chaincode4ade.html

The developer creates a chaincode file in their GOPATH and uses it throughout the tutorial:
{code:java}
mkdir -p $GOPATH/src/sacc && cd $GOPATH/src/sacc 
{code}
 But the docker-compose file used to start the network, mounts the wrong chaincode file. This is the line in fabric-samples/chaincode-docker-devmode that mounts the chaincode volume:

{code:java}
- ./../chaincode:/opt/gopath/src/chaincode  {code}
 

This mismatch means any changes made to the files initially setup are never actually run.",,sykesm,yousefzoq,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzljz:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,yousefzoq,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 7:29 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Create metakey string constant,FAB-11483,32565,33221,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ales,ales,ales,05/Aug/18 6:14 PM,26/Aug/18 1:17 AM,28/Oct/23 3:03 AM,18/Aug/18 12:30 AM,,,,,,,,,,,,,,,0,,,,,,,,ales,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzlk7:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ales,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update Test documentation,FAB-11484,32572,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,latitiah,latitiah,latitiah,06/Aug/18 9:55 PM,10/Aug/18 4:43 AM,28/Oct/23 3:03 AM,10/Aug/18 4:43 AM,,,,,,,,,,,,,,,0,,,,,,The documentation for testing needs to be updated to include the Integration information. This is for read-the-docs (RTD) as well as a README in the integration folder.,,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzlmn:",,,,Unset,Unset,,,(Please add steps to reproduce),1.0,Unset,,,,,,Unset,,Unset,,(Please add usage information),latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"08/Aug/18 10:32 PM;latitiah;https://gerrit.hyperledger.org/r/#/c/25143/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fabric SDK Service Discovery Sample,FAB-11486,32576,,Story,Closed,FAB,Fabric,software,denyeart,,,Highest,Won't Do,Vishal3152,arman19940326,arman19940326,06/Aug/18 11:11 PM,23/Jan/20 7:32 AM,28/Oct/23 3:03 AM,23/Jan/20 7:32 AM,v1.2.0,,,,,,,,,,,,,,0,stale-item,,,,,"With the introduction of Fabric 1.2, there is a new feature called Service Discovery. I want to use this feature in balance-transfer Fabric sample. What should I do to do so? Is there any Fabric SDK sample which implements this feature?",,arman19940326,mplisov,sykesm,Vishal3152,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzlnb:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),arman19940326,mplisov,sykesm,Vishal3152,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 7:32 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Error should be returned immediately if the peer fails to send a message to the chaincode container,FAB-11487,32583,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,sykesm,mastersingh24,mastersingh24,06/Aug/18 11:41 PM,10/Aug/18 4:09 AM,28/Oct/23 3:03 AM,10/Aug/18 4:09 AM,v1.1.0,v1.2.0,,,,v1.1.2,v1.2.1,v1.3.0,,,fabric-peer,,,,0,,,,,,"If
{code:java}
handler.serialSend{code}
( [https://github.com/hyperledger/fabric/blob/release-1.1/core/chaincode/handler.go#L145] ) fails (for example the cc in not available or is hung ... typically results in a gRPC context cancelled), the error is not propagated back to the calling Execute method and instead one must wait for the execute timeout to be triggered.",,mastersingh24,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzlnj:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),mastersingh24,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,release-1.1,main,release-1.2,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"06/Aug/18 11:43 PM;mastersingh24;[~sykesm] - FYI just to ensure that the analysis of the issue is correct;;;","09/Aug/18 4:35 AM;sykesm;The wiring if serialSendAsync is odd. I don't really understand why the ""sendErr"" flag was added but it's been largely been preserved to keep chaincode changes incremental.

The sendErr flag is currently only set when invoking chaincode through execute. On that path, if the request fails, we tear down the connection to the target chaincode but we never release the caller of execute.

For other transactions, serialSendAsync is called with sendErr set to false. This implies that if we fail to send a response chaincode, we simply carry on. I can't explain this asymmetric behavior.

Putting that to the side, it's pretty easy to provide an error response to callers of execute when send fails. To keep most of the structure intact, I think that may be as simple as calling notify with an error response from serialSendAsync. This would be a targeted change while the asymmetric behavior is evaluated.;;;","09/Aug/18 9:51 PM;sykesm;master:
https://gerrit.hyperledger.org/r/25351 [FAB-11487] provide error response when send fails
https://gerrit.hyperledger.org/r/25353 [FAB-11487] always propagate send fail errors;;;","09/Aug/18 10:08 PM;mastersingh24;[~sykesm]  - Can we safely backport this to v1.2 and v1.1?;;;","10/Aug/18 12:21 AM;sykesm;v1.2: https://gerrit.hyperledger.org/r/c/25357/

Making a targeted change in 1.1 but the tests are pretty badly structured there. It doesn't look like the change will have a negative impact so I'm building the CR now without an explicit test and will rely on our pipeline to detect regressions...;;;","10/Aug/18 1:56 AM;sykesm;v1.1: https://gerrit.hyperledger.org/r/c/25365/

No additional tests here.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,
Update maven-metadata.xml URL reference,FAB-11488,32587,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,rameshthoomu,rameshthoomu,07/Aug/18 1:02 AM,21/Sep/18 2:45 AM,28/Oct/23 3:03 AM,21/Sep/18 2:45 AM,,,,,,v1.3.0,,,,,fabric-samples,,,,0,,,,,,Observed maven-metadata.xml is not pointing to the correct URL in byfn_eyfn.sh script.,,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzlnz:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-6.11.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/tough-cookie-4.1.3,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/semver-6.3.1,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/grpc/grpc-js-1.8.17,dependabot/go_modules/high-throughput/application-go/google.golang.org/grpc-1.53.0,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/word-wrap-1.2.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-and-fabric-network-7.2.4,dependabot/go_modules/asset-transfer-basic/application-go/google.golang.org/grpc-1.53.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"07/Aug/18 1:23 AM;rameshthoomu;[https://gerrit.hyperledger.org/r/#/c/25153/ (master)|https://gerrit.hyperledger.org/r/#/c/25153/];;;","07/Aug/18 5:15 AM;rameshthoomu;[https://gerrit.hyperledger.org/r/#/c/25169/] (release-1.2);;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
PTE Connection Profile Converter,FAB-11489,32596,,Test Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,arjun-raghavan-00,arjun-raghavan-00,arjun-raghavan-00,07/Aug/18 2:56 AM,02/Oct/18 5:54 AM,28/Oct/23 3:03 AM,15/Aug/18 2:23 AM,,,,,,v1.3.0,,,,,fabric-quality,,,,0,,,,,,A command-line tool for converting Hyperledger Fabric blockchain networks' connection profiles to a JSON file in a format compatible with Fabric's Performance Traffic Engine (PTE).,,arjun-raghavan-00,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-2247,,,No,,Unset,No,,,"1|hzzlpz:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,System Test,,(Please add usage information),arjun-raghavan-00,scottz,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,release-1.1,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,release-1.2,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,true,"07/Aug/18 2:57 AM;arjun-raghavan-00;The Github repository for this tool is located at [this link|https://github.com/arjun-raghavan-00/fabric-pte-cprof-convert].;;;","07/Aug/18 3:49 AM;arjun-raghavan-00;Link to Gerrit change here: https://gerrit.hyperledger.org/r/#/c/25165/;;;","02/Oct/18 5:52 AM;scottz;Cherrypick to v1.1 branch:   [https://gerrit.hyperledger.org/r/#/c/26705/]

Cherrypick to v1.2 branch:  [https://gerrit.hyperledger.org/r/#/c/26706/]

 ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Support SASL Plain provider for authentication between OSN and Kafka cluster,FAB-11490,32597,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,mastersingh24,mastersingh24,mastersingh24,07/Aug/18 3:29 AM,09/Aug/18 5:29 AM,28/Oct/23 3:03 AM,09/Aug/18 5:29 AM,,,,,,v1.3.0,,,,,fabric-orderer,,,,0,,,,,,The communication between the ordering service node and Kafka brokers currently supports using mutual TLS for authentication.  There are some cloud deployments of Kafka which require leveraging the SASL Plain mechanism.,,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11462,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzlq7:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
NL should support custom Organization Names and MSP IDs,FAB-11491,32598,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,vramaiitkgp,vramaiitkgp,vramaiitkgp,07/Aug/18 3:33 AM,31/Jul/19 5:45 AM,28/Oct/23 3:03 AM,25/Aug/18 12:41 AM,,,,,,,,,,,fabric-build,,,,0,,,,,,"Currently Network Launcher (`hyperledger/fabric-test/tools/NL`) allows the user to specify a network (to launch) purely in numerical terms. Organization names are set to `org1`, `org2`, etc. and MSP IDs are set to `PeerOrg1`, `PeerOrg2`, etc.

 

But such networks won't work to benchmark chaincode that has organization and MSP names embedded in its logic. Therefore, we need a feature whereby a chaincode designer can specify custom organization and MSP names, and have NL create channel artifacts, keys and certificates, and a docker-compose file with the user-specified names.",,dongming,vramaiitkgp,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-6742,,,No,,Unset,No,,,"1|hzzlqf:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),dongming,vramaiitkgp,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,main,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,mergify/bp/release-2.2/pr-3750,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,mergify/bp/release-2.2/pr-4374,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,true,"09/Aug/18 5:33 PM;vramaiitkgp;Checked in [https://gerrit.hyperledger.org/r/c/25331/]

Please review.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
PTE should be sensitive to chaincode access control policies,FAB-11492,32599,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,vramaiitkgp,vramaiitkgp,vramaiitkgp,07/Aug/18 3:42 AM,11/Sep/18 3:35 AM,28/Oct/23 3:03 AM,11/Sep/18 3:35 AM,,,,,,,,,,,fabric-build,,,,0,,,,,,"The current PTE execution engine assumes that any organization user may trigger any transaction. But this assumption does not hold when chaincode is sensitive to organization names (or MSP IDs) and performs access control on that basis.

We need to add a feature whereby an appropriate user (signing identity) is selected for a given transaction (identified by function name) to ensure the success of that transaction.

The chaincode developer should be able to specify the access control policy as a mapping of chaincode function name to a list of organization MSP IDs. The PTE driver will load (or enroll) an appropriate user and associate it with the Fabric client handle used to invoke the transaction.",,dongming,vramaiitkgp,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-2247,,,No,,Unset,No,,,"1|hzzlqn:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),dongming,vramaiitkgp,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,release-1.3,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,release-1.4,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,true,"13/Aug/18 10:44 PM;vramaiitkgp;https://gerrit.hyperledger.org/r/c/25453/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
High Throughput tutorial for 1.1 is not correct,FAB-11493,32607,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,EthanFox,EthanFox,EthanFox,07/Aug/18 6:27 AM,23/Jan/20 7:32 AM,28/Oct/23 3:03 AM,23/Jan/20 7:32 AM,v1.1.0,,,,,,,,,,fabric-samples,,,,0,stale-item,,,,,"Hello-

The High throughput tutorial's README is very buggy/leaves a lot for the user to infer that can make it difficult to setup the network.  I would like to update the documentation, as well as update the chaincode slightly in order to allow traditional 'standard' assets to be deleted from the network, since currently there is no way to do so.  

 

This pertains to the 'release-1.1' branch of the repository.  I understand the latest is v1.2, however a lot of the clients i work with still prefer 1.1 so it is worthwhile to update this documentation.

 

I have attached the new chaincode which includes the updates.  All it is is a simple `delstandard` function, that works in tandem with `putstandard()` and `getstandard()` in order to facilitate deleting something on the network if it is put on using the traditional way.",,EthanFox,sykesm,,,,,,,,,,,,,,,,,,,,,,,,"Since this is a CR regarding work that I have already done, there is no time remaining.;09/Aug/18 11:09 PM;EthanFox;144000",,0,144000,,,0,144000,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"07/Aug/18 7:28 AM;EthanFox;high-throughput.go;https://jira.hyperledger.org/secure/attachment/15466/high-throughput.go",,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Yes,Unset,,,,,No,,Unset,No,,,"1|hzwsef:",,,,Yes,Unset,,,(Please add steps to reproduce),,No,,,,,,Unset,,Unset,,(Please add usage information),EthanFox,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"08/Aug/18 4:29 AM;EthanFox;Bumping for visibility.;;;","09/Aug/18 5:06 AM;EthanFox;Bump;;;","23/Jan/20 7:32 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Where are block data and state data stored?,FAB-11494,32610,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,aspring,aspring,07/Aug/18 10:19 AM,31/Oct/18 6:26 AM,28/Oct/23 3:03 AM,31/Oct/18 6:26 AM,,,,,,,,,,,,,,,0,,,,,,"I'm looking at the fabcar and some sample queries (query: retrieval and invoke to write).

Even for the invoke with nodeJS, i see new car are simply array append.  Sure, as proposed new block, it needs endorsement/validation prior to being appended to the chain.  I'd love to see nodeJS code touching on the process of having approved new block appended to the chain/ledger and state change/update as well.

Does the ""fabric-samples"" cover that?  If so, where can I see such code?

Thanks in advance.

 ",,aspring,ChanderGovindarajan,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzlrr:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),aspring,ChanderGovindarajan,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"08/Aug/18 3:48 PM;ChanderGovindarajan;Appending a new block to the chain and updating the state database happens at the peers belonging to the channel. The Node SDK code is purely on the application/client side and has no direct visibility into this.

You can look into the Fabric code to understand how this works. As such the block and state data can be found in ""/var/hyperledger/production/ledgersData"". https://github.com/hyperledger/blockchain-explorer may also help.

However, what you can do at the client level is listen for events (https://fabric-sdk-node.github.io/tutorial-channel-events.html) from a peer (for a channel) to know when a block has been added or when a Transaction has been completed. This is used in `balance-transfer` for example.;;;","08/Aug/18 6:58 PM;aspring;[~ChanderGovindarajan] thank you.  I'll revisit this issue once I solve the basic network setup problem with Fabric first.;;;","09/Aug/18 10:35 AM;aspring;[~ChanderGovindarajan] I'm less interested in using a third party tool like blockchain explorer at this point but rather at low level, fabric network topology, directory structure, data workflow such as a new block proposed, endorsed/validated, appended to the ledger and replicated across the chain (the entire process, which involved with state index and ledger data etc.).  Any resource recommendation along this line of thought?

Thanks in advance.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
As a token client developer I want to implement the issue capability using local interfaces to denote the communication with the peer and represent client identity,FAB-11498,32629,32188,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,KaoutarEL,KaoutarEL,KaoutarEL,07/Aug/18 8:19 PM,12/Jun/20 12:30 AM,28/Oct/23 3:03 AM,20/Oct/18 2:10 AM,,,,,,,,,,,,,,,0,fabtoken,,,,,,,elli-androulaki,KaoutarEL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwqfl:v",,,,Unset,Unset,To Do,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),elli-androulaki,KaoutarEL,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"16/Aug/18 11:58 PM;elli-androulaki;https://gerrit.hyperledger.org/r/#/c/25189/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
As a token client developer I define a signed command protobuf message for import,FAB-11499,32630,32188,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,angelo.decaro,KaoutarEL,KaoutarEL,07/Aug/18 8:46 PM,12/Jun/20 12:30 AM,28/Oct/23 3:03 AM,22/Aug/18 3:33 PM,,,,,,,,,,,,,,,0,fabtoken,,,,,,,elli-androulaki,KaoutarEL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11349,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwqfl:w",,,,Unset,Unset,To Do,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),elli-androulaki,KaoutarEL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"16/Aug/18 11:52 PM;elli-androulaki;https://gerrit.hyperledger.org/r/#/c/25193/;;;","22/Aug/18 3:33 PM;elli-androulaki;This is a duplicate of FAB-11349. ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
As a token client developer I want to implement the client local interface for prover peer issue request (method ImportRequest) without establishing a GRPC connection,FAB-11500,32631,32188,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,KaoutarEL,KaoutarEL,KaoutarEL,07/Aug/18 8:47 PM,12/Jun/20 12:30 AM,28/Oct/23 3:03 AM,20/Oct/18 2:56 AM,,,,,,,,,,,,,,,0,fabtoken,,,,,The assumption for the implementation of this local client interface is that the GRPC connection is represented by a client-wide interface that is mocked.,,elli-androulaki,KaoutarEL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwqfl:x",,,,Unset,Unset,To Do,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),elli-androulaki,KaoutarEL,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"16/Aug/18 11:59 PM;elli-androulaki;https://gerrit.hyperledger.org/r/#/c/25487/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
fabcar sample installs incorrect fabric-client,FAB-11501,32632,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ChristopherFerris,ChristopherFerris,ChristopherFerris,07/Aug/18 9:35 PM,08/Aug/18 9:46 PM,28/Oct/23 3:03 AM,08/Aug/18 9:17 PM,v1.2.0,,,,,v1.2.1,,,,,fabric-samples,,,,0,,,,,,the package.json specifies that the 'unstable' release of fabric-client and fabric-ca-client should be installed. This is incorrect. For v1.2.x should install >=1.2.0,,ChristopherFerris,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzlwf:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ChristopherFerris,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"08/Aug/18 9:46 PM;denyeart;I've opened FAB-11515 for the more general solution in release-1.2.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Test: investigate intermittent failures in privateData e2e tests,FAB-11502,32633,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,nirro,nirro,nirro,07/Aug/18 9:59 PM,27/Sep/18 12:33 AM,28/Oct/23 3:03 AM,27/Sep/18 12:33 AM,,,,,,v1.4.0,,,,,fabric-gossip,,,,0,,,,,,"we are seeing the following issue in private data e2e tests:
1. ledger height in p0.org1 is 10 (latest block is 9).
2. spawing a new peer p1.org1 and running fetch newest block. getting as a response ""Received block: 9""
3. checking p1.org1 ledger height and getting ledger height lower than 10.
4. only after waiting several seconds, ledger height of the new peer is 10.

* as a result, the new peer p1.org1 don't have the most up to date data (don't see instantiation of the chaincode) and therefore the test fails.

https://sourcegraph.com/github.com/hyperledger/fabric@master/-/blob/integration/pvtdata/e2e_test.go#L324

need to check the scenario manually in order to see if there is a real problem in production, or maybe it is a problem with the tests.",,firas.qutishat,nirro,troyronda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-5108,,,No,,Unset,No,,,"1|hzzlwn:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),firas.qutishat,nirro,troyronda,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"09/Aug/18 9:13 PM;nirro;disable failed tests until doing the investigation - https://gerrit.hyperledger.org/r/25345
;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
update marbles chaincode with pagination APIs,FAB-11503,32637,33216,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,Senthil1,Senthil1,Senthil1,07/Aug/18 11:03 PM,09/Sep/18 6:50 AM,28/Oct/23 3:03 AM,09/Sep/18 6:50 AM,,,,,,v1.3.0,,,,,,,,,0,,,,,,"Use the following two chaincode APIs in the marbles chaincodes

(1) GetStateByRangeWithOptions

(2) GetQueryResultsWithOptions

The usage of GetStateByPartialCompositeKeyWithOptions() for pagination would be similar to that of GetStateByRangeWithOptions().",,Senthil1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzlx3:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),Senthil1,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Set the fabric-client and fabric-server versions to use 1.2 in release-1.2 branch,FAB-11504,32644,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,latitiah,latitiah,latitiah,08/Aug/18 1:27 AM,08/Aug/18 10:50 PM,28/Oct/23 3:03 AM,08/Aug/18 10:50 PM,,,,,,,,,,,,,,,0,,,,,,The package.json files still reference the unstable builds of fabric-client and fabric-server. These need to be updated.,,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzlxz:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,release-1.2,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"08/Aug/18 1:30 AM;latitiah;https://gerrit.hyperledger.org/r/25207;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Unable to decode Config Envelope,FAB-11506,32646,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,jyellick,varadatibm,varadatibm,08/Aug/18 2:31 AM,11/Aug/18 4:59 AM,28/Oct/23 3:03 AM,11/Aug/18 4:58 AM,v1.2.0,,,,,v1.3.0,,,,,fabric-tools,,,,0,configtxlator,,,,,"When I decode a config envelope with last update, I get the following error

 

*common.ConfigEnvelope: error in PopulateTo for field last_update for message *common.ConfigEnvelope: *common.Envelope: error in PopulateTo for field payload for message *common.Envelope: *common.Payload: error in PopulateTo for field data for message *common.Payload: *common.ConfigUpdateEnvelope: error in PopulateTo for field config_update for message *common.ConfigUpdateEnvelope: *common.ConfigUpdate: error in PopulateTo for field read_set for message *common.ConfigUpdate: *common.DynamicChannelGroup: error in PopulateTo for map field groups and key Consortiums for message *common.DynamicChannelGroup: *common.DynamicConsortiumsGroup: error in PopulateTo for map field groups and key SampleConsortium for message *common.DynamicConsortiumsGroup: *common.DynamicConsortiumGroup: error in PopulateTo for map field values and key ChannelCreationPolicy for message *common.DynamicConsortiumGroup: *common.DynamicConsortiumConfigValue: error in PopulateTo for field value for message *common.DynamicConsortiumConfigValue: *common.Policy: error in PopulateTo for field value for message *common.Policy: unable to decode policy type: 0\n",,kchristidis,varadatibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzlyf:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),kchristidis,varadatibm,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"11/Aug/18 4:59 AM;kchristidis;If this indeed a High Priority bug, do we need a patch for the next minor release in 1.2?;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove Build Process,FAB-11507,32647,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,swetharepakula,swetharepakula,swetharepakula,08/Aug/18 3:01 AM,04/Sep/18 4:57 AM,28/Oct/23 3:03 AM,04/Sep/18 4:57 AM,,,,,,v1.3.0,,,,,,,,,0,,,,,,"Since we are moving away from system chaincode plugins, we should remove the build process and update the README accordingly. As part of this we should stop publishing an image.",,swetharepakula,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FABCE-4,,,No,,Unset,No,,,"1|hzzlyn:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),swetharepakula,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"21/Aug/18 4:45 AM;swetharepakula;https://gerrit.hyperledger.org/r/#/c/25717/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add support for consenter metadata to channel configuration,FAB-11508,32648,32551,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,kchristidis,kchristidis,kchristidis,08/Aug/18 3:41 AM,15/Aug/18 1:18 AM,28/Oct/23 3:03 AM,15/Aug/18 1:18 AM,,,,,,,,,,,,,,,0,,,,,,"h2. Goal

As a consensus plugin author, I need access to the consenter (replica) set configuration

This is a joint proposal with [~jyellick].

h2. Why are we doing this?

When the Raft-based ordering service is bootstrapped, all Raft nodes (i.e. all Raft-enabled OSNs) need to know each other's addresses so that they can reach out to each other and form a cluster.

This has broader applicability; we will need this for other implementations as well, the BFT one being the first that comes to mind.

h2. Why can't we do this today?

The closest thing we have to this today is the {{Orderer.Kafka.Brokers}} key in {{configtx.yaml}}, whose value is accessible via the {{KafkaBrokers}} getter of the the {{ChannelConfig.Orderer}} interface. (Note that as a consensus plugin author, you have access to the {{consensus.ConsenterSupport}} interface, and by extension to the {{channelconfig.Orderer}} interface.)

That is, obviously, Kafka-specific.

h2. What are the suggested approaches?

We _could_ do something similar for Raft, with an {{Orderer.RaftNodes}} key, and a {{RaftNodes}} getter in the {{ChannelConfig.Orderer}} interface.

Then, for BFT — or any other implementation for that matter — we'd do the same.

The first problem with this approach is that it takes an already big interface {{ChannelConfig.Orderer}} interface, and expands it even further, as the number of supported implementations increases.

We therefore need _a more generic getter_, call it {{Nodes}}, that retrieves the value of an {{Orderer.Nodes}} key in {{configtx.yaml}}. (N.B. The field/method names provided here are not _fixed_.)

_But_ —

If we have all implementations sharing the same message definition for {{Orderer.Nodes}}, then extensibility takes a hit. Consider for instance the case where you may want to assign an initial weight to each node in the BFT replica set.

*So, this generic getter will have to _return an opaque bytes field_, whose underlying/unmarshaled type depends on the consensus type.*

Note that the Fabric codebase will _not_ add implementation-specific getters to its external-facing interfaces; it will be up to the caller to retrieve that byte slice and parse it accordingly.

Fabric will also _not_ perform any sanity checking/validation on the submitted {{Orderer.Nodes}} values. The risk here is that without validation a bad configuration block may put the system into an unrecoverable state. This stands in contrast to some checks we have elsewhere in the system (see validation of admin certs added to MSPs, or barebones sanity checking for IP addresses in Kafka brokers). At the end of the day however, this is a risk that we should live with: we cannot guard _effectively_ against bad user input anyway.

-One additional issue with the proposed approach has to do with the attack described in FAB-7559: _just_ getting the address of a consenter in our consenter set is not safe. We need to know the owning org, so we can load _just_ this org's TLS root CA when establishing the connection and avoid the BJP hijacking attack described in FAB-7559.-

-Therefore, the owning org is a field that should be present in all message definitions that correspond to {{Orderer.Node}}.-

-(This attack is actually only relevant in the BFT case, but we may as well tackle it in time for Raft to build on top of, so that we keep the number of moving pieces to a minimum when transitioning from Raft to BFT.)-

Instead of adding an {{owning_org}} field to the {{XXX_Consenter}} message definition as initially suggested, let's do TLS pinning. We identify the exact TLS certificate that a consenting node should present before they're allowed to participate in consensus. So, we replace the {{owning_org}} field with a {{tls_cert}} one.

h2. Suggested proposal

Change from [https://github.com/hyperledger/fabric/blob/release-1.1/protos/orderer/configuration.proto#L31] to:
{code:java}
message ConsensusType {
	string type = 1; // Possible values: kafka, raft, pbft, etc.
	bytes metadata = 2; // Opaque metadata, dependent on consensus type.
}

{code}
 
Add a new method to [https://github.com/hyperledger/fabric/blob/cd075b71b637e9adba226b945cd41d6150303b77/common/channelconfig/api.go#L81]:
{code:java}
ConsensusMetadata() []byte
{code}

h2. How does this relate to FAB-7559 and listing orderer endpoints (addresses) inside the orderer orgs?

Addresses (endpoints) in orderer org configuration group denote org nodes that satisfy the {{AtomicBroadcast}} interface, i.e. that respond to {{Broadcast}} and {{Deliver}} RPCs. We call these nodes *ordering nodes*. (Example consumers of these addresses: the delivery service clients.)

Addresses listed in the slice contained in the {{ConsensusType.metadata}} field denote nodes participating in the _consensus mechanism_ of Fabric. We call this nodes *consenting nodes*. (Example consumers of these addresses: Raft and PBFT nodes.)

This implies that:
 # An ordering node is not necessarily a consenting node, and vice-versa.
 # When we tackle FAB-7559, we will need to introduce settings in {{orderer.yaml}} that disable the {{AtomicBroadcast}} service and the consensus module.",,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzlyv:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"08/Aug/18 10:01 AM;kchristidis;https://gerrit.hyperledger.org/r/c/25237/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Unable to join fabric network,FAB-11509,32652,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,aspring,aspring,08/Aug/18 6:49 AM,15/Aug/18 12:00 AM,28/Oct/23 3:03 AM,15/Aug/18 12:00 AM,,,,,,,,,,,,,,,0,,,,,,"Hi,

I have two Ubuntu VM instances running.  Say, one is named UbuntuVM1 and the other UbuntuVM2.   The basic-network sample runs fine for each of them independently.  CA service running, Orderer service running, peer0.org1.example.com running and couchDB for state management running as well for UbuntuVM1.  Same is true for UbuntuVM2 (replace peer0 with peer everything else stays put).  In addition, UbuntuVM1 also created a channel named ""mychannel"".

Fyi, this is Fabric 1.1.

However, here we're talking a blockchain network, even just for testing.   Thus, it makes sense to make peer1 to join the ""mychannel"".   Hence, I edited the start.sh script under ""basic-network"" directory of the ""fabric-sample"" to the following:

docker exec -e ""CORE_PEER_LOCALMSPID=Org1MSP"" -e ""CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/msp/users/Admin@org1.example.com/msp"" peer1.org1.example.com peer channel join -b mychannel.block

Well, it resulted in error.  err msg:

""Error response from daemon: Container 60a10fa37d2ef33fc23d60dbedee7e4a6a66e0a13acc44552e0650f9f268f95f is not running""

It seems that the peer1 was looking for peer0 on the same vm instance, that is, my UbuntuVM2 instead of my UbuntuVM1.

And here's the thing.  ifconfig indicates that the docker0 under both UbuntuVM1 and UbuntuVM2 are running on an identical IP of 127.17.0.1.  So, no wonder that error.

It's said if we add the IP of each peer to the /etc/hosts file and map IP to peer such as

127.17.0.1 peer0

127.18.0.1 peer1

then,  peers on the same network would be able to identify each other.  Is such understanding correct?  If so, how could we assign some specific IP address to each peer?

Or?

Thanks in advance.

 

 

 

 ",,aspring,ChanderGovindarajan,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzlzb:",,,,Unset,Unset,,,"1. create two Ubuntu VMs
2. launch them
3. install Hyperledger Fabric samples (fabric-samples) for fabric 1.1 onto both
4. cd to the ""basic-network"" directory for vm1 and run start.sh script to load up the basic network with the essential services including peer0 node.
5. cd to the ""basic-network"" directory for vm2, edit the docker-compose.yml file (replace all the references of peer0 with peer1), 
edit the start.sh: 
(a) comment out the ""create channel"" line
(b) replace peer0 with peer1
Now, run start.sh script.
",,Unset,,,,,,Unset,,Unset,,(Please add usage information),aspring,ChanderGovindarajan,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"08/Aug/18 3:26 PM;ChanderGovindarajan;The docker containers are on 2 completely different networks and will not be able to reach each other.

You have 2 options:
1. Use host network with your docker containers and expose ports as needed. Use the public ip:port (not the internal 127.0.0.0/8 loopback ip) on both sides to refer to each other.
2. Use a docker overlay network (using swarm) to be able to refer to containers using their names (like peer1.org1.example.com) from one VM to another. See of eg: https://docs.docker.com/network/overlay/. This (https://medium.com/@wahabjawed/hyperledger-fabric-on-multiple-hosts-a33b08ef24f) is a blog on running Fabric containers on multiple hosts using this approach.
;;;","08/Aug/18 6:43 PM;aspring;[~ChanderGovindarajan] thanks for your informative response.  A thought was if Option 1 would be a quicker solution I'll take router first but if that's not then I'll go with Option 2.  For option 1, here's my VM1's ifconfig result:

br-8bed47f5baa1: flags=4099<UP,BROADCAST,MULTICAST>  mtu 1500
        inet 172.18.0.1  netmask 255.255.0.0  broadcast 0.0.0.0
        ether 02:42:a0:43:de:fe  txqueuelen 0  (Ethernet)
        RX packets 0  bytes 0 (0.0 B)
        RX errors 0  dropped 0  overruns 0  frame 0
        TX packets 0  bytes 0 (0.0 B)
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0

br-c1cd2f49d8a5: flags=4099<UP,BROADCAST,MULTICAST>  mtu 1500
        inet 172.22.0.1  netmask 255.255.0.0  broadcast 0.0.0.0
        ether 02:42:11:95:a9:10  txqueuelen 0  (Ethernet)
        RX packets 0  bytes 0 (0.0 B)
        RX errors 0  dropped 0  overruns 0  frame 0
        TX packets 0  bytes 0 (0.0 B)
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0

docker0: flags=4099<UP,BROADCAST,MULTICAST>  mtu 1500
        inet 172.17.0.1  netmask 255.255.0.0  broadcast 0.0.0.0
        ether 02:42:89:50:3f:90  txqueuelen 0  (Ethernet)
        RX packets 0  bytes 0 (0.0 B)
        RX errors 0  dropped 0  overruns 0  frame 0
        TX packets 0  bytes 0 (0.0 B)
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0

enp0s3: flags=4163<UP,BROADCAST,RUNNING,MULTICAST>  mtu 1500
        inet 10.0.2.15  netmask 255.255.255.0  broadcast 10.0.2.255
        inet6 fe80::14f0:968b:a497:7151  prefixlen 64  scopeid 0x20<link>
        ether 08:00:27:68:c1:41  txqueuelen 1000  (Ethernet)
        RX packets 1049  bytes 1075641 (1.0 MB)
        RX errors 0  dropped 0  overruns 0  frame 0
        TX packets 448  bytes 64941 (64.9 KB)
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0

lo: flags=73<UP,LOOPBACK,RUNNING>  mtu 65536
        inet 127.0.0.1  netmask 255.0.0.0
        inet6 ::1  prefixlen 128  scopeid 0x10<host>
        loop  txqueuelen 1000  (Local Loopback)
        RX packets 299  bytes 20187 (20.1 KB)

Here's my VM2's ifconfig result:

br-39c1d48adfe6: flags=4099<UP,BROADCAST,MULTICAST>  mtu 1500
        inet 172.18.0.1  netmask 255.255.0.0  broadcast 0.0.0.0
        ether 02:42:8e:32:2c:4a  txqueuelen 0  (Ethernet)
        RX packets 0  bytes 0 (0.0 B)
        RX errors 0  dropped 0  overruns 0  frame 0
        TX packets 0  bytes 0 (0.0 B)
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0

docker0: flags=4099<UP,BROADCAST,MULTICAST>  mtu 1500
        inet 172.17.0.1  netmask 255.255.0.0  broadcast 0.0.0.0
        ether 02:42:07:a4:89:11  txqueuelen 0  (Ethernet)
        RX packets 0  bytes 0 (0.0 B)
        RX errors 0  dropped 0  overruns 0  frame 0
        TX packets 0  bytes 0 (0.0 B)
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0

enp0s3: flags=4163<UP,BROADCAST,RUNNING,MULTICAST>  mtu 1500
        inet 10.0.2.15  netmask 255.255.255.0  broadcast 10.0.2.255
        inet6 fe80::ee58:744f:192c:8120  prefixlen 64  scopeid 0x20<link>
        ether 08:00:27:19:cb:f0  txqueuelen 1000  (Ethernet)
        RX packets 1025  bytes 1074143 (1.0 MB)
        RX errors 0  dropped 0  overruns 0  frame 0
        TX packets 433  bytes 63730 (63.7 KB)
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0

lo: flags=73<UP,LOOPBACK,RUNNING>  mtu 65536
        inet 127.0.0.1  netmask 255.0.0.0
        inet6 ::1  prefixlen 128  scopeid 0x10<host>
        loop  txqueuelen 1000  (Local Loopback)
        RX packets 214  bytes 15990 (15.9 KB)
        RX errors 0  dropped 0  overruns 0  frame 0
        TX packets 214  bytes 15990 (15.9 KB)
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0

But none of them indicate my actually public IP address, which is 73.237.253.1xx

So, could you elaborate on how to go about with Option 1?

Much appreciated.

 

 ;;;","08/Aug/18 7:55 PM;ChanderGovindarajan;You would need to ensure that the 2 VMs are able to communicate with each other. Follow corresponding tutorials for your hypervisor (for eg for VirtualBox, https://superuser.com/questions/626342/ssh-from-one-virtual-machine-to-another-in-virtualbox).

Please do close this issue as it is not really a bug in Fabric.

In any case, I recommend moving this discussion to RocketChat (https://chat.hyperledger.org/).
;;;","09/Aug/18 10:25 AM;aspring;[~ChanderGovindarajan] ""You would need to ensure that the 2 VMs are able to communicate with each other. "", that's exactly what I intended to achieve.  While I appreciate the info, however, none of the suggestions posted in 2013 solved the IP differentiation of two VMs created via virtualbox v 5.2.14.

Sure, I'll close this ticket as soon as we make some progress on this peer to peer connection problem.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
create a Fabric .net SDK ,FAB-11510,32653,,Epic,Closed,FAB,Fabric,software,denyeart,,,Highest,Won't Do,ManuelRauber,pandagopal,pandagopal,08/Aug/18 7:02 AM,23/Jan/20 7:33 AM,28/Oct/23 3:03 AM,23/Jan/20 7:33 AM,,,,,,,,,,,,,,,0,stale-item,,,,,"Hi ,

We have popular SDK's already being built, it will be helpful if the community agrees to approve for .Net SDk for  fabric. 

I plan is to write it from scratch using .net Core .

I am not planning to port from Java or nodejs  based SDK nor i am planning to write a wrapper around Go SDK. 

Pure and simple in .Net core.",,maxpiva,pandagopal,sstone1,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11460,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Once community approves ,i can start working on this.",Unset,Unset,Unset,ghx-label-1,,Fabric .Net SDK(FABNET),To Do,No,,Unset,No,,,"1|hzzlzj:",,,,Yes,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),maxpiva,pandagopal,sstone1,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"10/Dec/18 2:08 PM;maxpiva;v1.1 All unit test and integration testing working.

v1.3 Unit test working, CA integration testing working, SDK integration testing WIP.

 

[https://github.com/maxpiva/fabric-sdk-net|https://github.com/maxpiva/fabric-sdk-net]


 ;;;","23/Jan/20 7:33 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
fabric-test-daily-lte-master-x86_64 fails for varyNumKeysInEachTx test for both level and CouchDB,FAB-11511,32654,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid: Works as Expected,AdnanChoudhury,AdnanChoudhury,AdnanChoudhury,08/Aug/18 7:59 AM,19/Mar/19 8:13 PM,28/Oct/23 3:03 AM,11/Oct/18 12:44 AM,v1.3.0,,,,,v1.3.0,,,,,fabric-ci,fabric-quality,,,0,ci-failure,,,,,"
{code:java}
self = <ledger_lte.perf_goleveldb testMethod=test_FAB_3800_VaryNumKeysInEachTx>

    def test_FAB_3800_VaryNumKeysInEachTx(self):
        '''
             In this Performance test, we observe the performance (time to
             complete a set number of Ledger operations) of the Ledger component,
             with goleveldb as the state database. We vary the number of keys in
             each transaction.
    
             Passing criteria: Underlying LTE test completed successfully with
             exit code 0
            '''
        logfile = open(""output_VaryNumKeysInEachTx.log"", ""w"")
        returncode = subprocess.call(
                ""./runbenchmarks.sh -f parameters_daily_CI.sh ""
                ""varyNumKeysInEachTx"",
                shell=True, stderr=subprocess.STDOUT, stdout=logfile,
                cwd=tool_directory)
        logfile.close()
        self.assertEqual(returncode, 0, msg=""varyNumKeysInEachTx performance ""
                ""test failed. \nPlease check the logfile ""+logfile.name
>               +"" for more details."")
E       AssertionError: varyNumKeysInEachTx performance test failed. 
E       Please check the logfile output_VaryNumKeysInEachTx.log for more details.

ledger_lte.py:154: AssertionError
{code}
",,AdnanChoudhury,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzlzr:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),AdnanChoudhury,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,true,"13/Aug/18 6:13 AM;sambhavdutt;The latest test for ledger_lte is failing in *fabric-test-daily-lte-master-x86_64*, the following errors are observed.

*Commit: 474f9d2*
{code:java}
01:09:30 ledger_lte.py::perf_couchdb::test_FAB_3871_VaryNumChain FAILED

02:05:09 ===============FAILURES==========================
02:05:09 ___________________ perf_couchdb.test_FAB_3871_VaryNumChain ____________________
02:05:09 
02:05:09 self = <ledger_lte.perf_couchdb testMethod=test_FAB_3871_VaryNumChain>
02:05:09 
02:05:09     def test_FAB_3871_VaryNumChain(self):
02:05:09         '''
02:05:09              In this Performance test, we observe the performance (time to
02:05:09              complete a set number of Ledger operations) of the Ledger component,
02:05:09              with couchdb as the state database. We vary the number of chains
02:05:09              (ledgers).
02:05:09     
02:05:09              Passing criteria: Underlying LTE test completed successfully with
02:05:09              exit code 0
02:05:09             '''
02:05:09         logfile = open(""output_VaryNumChains_couchdb.log"", ""w"")
02:05:09         returncode = subprocess.call(
02:05:09                 ""./runbenchmarks.sh -f parameters_couchdb_daily_CI.sh ""
02:05:09                 ""varyNumChains"",shell=True, stderr=subprocess.STDOUT,
02:05:09                 stdout=logfile, cwd=tool_directory)
02:05:09         logfile.close()
02:05:09         self.assertEqual(returncode, 0, msg=""VaryNumChains performance test""
02:05:09                 ""for CouchDB failed. \nPlease check the logfile ""+logfile.name+
02:05:09 >               "" for more "" ""details."")
02:05:09 E       AssertionError: VaryNumChains performance testfor CouchDB failed. 
02:05:09 E       Please check the logfile output_VaryNumChains_couchdb.log for more details.
02:05:09 
02:05:09 ledger_lte.py:239: AssertionError
02:05:09 ======= ==1 failed, 17 passed in 12573.48 seconds====================
{code}

*Build Logs*

https://jenkins.hyperledger.org/view/Daily/job/fabric-test-daily-lte-master-x86_64/5/console

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-daily-lte-master-x86_64/5/;;;","11/Oct/18 12:43 AM;AdnanChoudhury;closing this as tests as latest builds (48, 49, 50) are passing;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Cleanup imports in ledger package files,FAB-11512,32658,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,manish-sethi,manish-sethi,manish-sethi,08/Aug/18 11:06 AM,01/Dec/20 1:13 AM,28/Oct/23 3:03 AM,01/Dec/20 1:13 AM,,,,,,,,,,,fabric-ledger,,,,0,,,,,,Import statements in some of the files in the ledger package need a cleanup.,,denyeart,manish-sethi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwrme:z9",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,manish-sethi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"02/Dec/19 9:29 PM;denyeart;Need to revive
https://gerrit.hyperledger.org/r/#/c/fabric/+/25243/;;;","01/Dec/20 1:13 AM;manish-sethi;The ledger code is refactored a lot in the recent past and this is no longer an issue.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add main to convert evm into user chaincode,FAB-11513,32659,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,swetharepakula,swetharepakula,swetharepakula,08/Aug/18 11:12 AM,04/Sep/18 4:57 AM,28/Oct/23 3:03 AM,04/Sep/18 4:57 AM,,,,,,v1.3.0,,,,,,,,,0,,,,,,User chaincode requires that in the main `shim.Start` is called. Must add that to the EVM main function,,swetharepakula,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FABCE-4,,,No,,Unset,No,,,"1|hzzm0v:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),swetharepakula,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"09/Aug/18 4:43 AM;swetharepakula;https://gerrit.hyperledger.org/r/#/c/25315/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As a token application developer, I want to be able to configure a client wallet library using a yaml file",FAB-11514,32664,32176,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,KaoutarEL,KaoutarEL,KaoutarEL,08/Aug/18 6:56 PM,12/Jun/20 12:30 AM,28/Oct/23 3:03 AM,14/Jan/19 11:10 PM,,,,,,,,,,,,,,,0,fabtoken,,,,,,,elli-androulaki,KaoutarEL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwqfl:y",,,,Unset,Unset,To Do,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),elli-androulaki,KaoutarEL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"21/Aug/18 3:37 PM;elli-androulaki;https://gerrit.hyperledger.org/r/#/c/25269/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Pin fabric-samples to node.js ""~1.2.0""",FAB-11515,32668,31585,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,denyeart,denyeart,denyeart,08/Aug/18 9:03 PM,12/Aug/18 7:48 PM,28/Oct/23 3:03 AM,09/Aug/18 9:20 PM,,,,,,v1.2.0,,,,,fabric-samples,,,,0,,,,,,"After creating release-1.2 branch, pin the fabric samples to use version ""~1.2.0"" of node sdk and node chaincode.  This will forever align fabric samples in release-1.2 branch with the 1.2.x node.js releases. 

fabric-samples master branch continues to use ""unstable"" to pick up the latest and greatest node.js releases.

This should be merged in release-1.2 branch, before fabric-samples is tagged with ""v1.2.0"".",,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-8920,FAB-11330,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzzm1z:",,,,,,,,,,,,,,,,,,,,,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"08/Aug/18 9:27 PM;denyeart;https://gerrit.hyperledger.org/r/#/c/25271/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Daily PTE tests fail in release-1.2 as one of the fabric-ca-client module was not found during test.,FAB-11516,32670,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,sambhavdutt,sambhavdutt,08/Aug/18 10:37 PM,19/Mar/19 8:13 PM,28/Oct/23 3:03 AM,15/Aug/18 12:36 AM,v1.3.0,,,,,v1.3.0,,,,,fabric-quality,,,,0,ci-failure,,,,,"The *fabric-test-pte-release-1.2-x86_64* has been failing as the following error was observed in the PTE tests. 
The failure is caused by the sdk node renaming the 'FabricCAClient' to `FabricClientCAImpl` to match the export name `FabricClientServices` in fabric-sdk-node commit: `b7e528d23ffc0e58cf356068808aadd4911bac44`

{code:java}
23:05:40     throw err;
23:05:40     ^
23:05:40 
23:05:40 Error: Cannot find module 'fabric-ca-client/lib/FabricCAClientImpl.js'
23:05:40     at Function.Module._resolveFilename (module.js:538:15)
23:05:40     at Function.Module._load (module.js:468:25)
23:05:40     at Module.require (module.js:587:17)
23:05:40     at require (internal/module.js:11:18)
23:05:40     at Object.<anonymous> (/w/workspace/fabric-test-daily-pte-release-1.2-x86_64/gopath/src/github.com/hyperledger/fabric-test/tools/PTE/pte-util.js:29:18)
23:05:40     at Module._compile (module.js:643:30)
23:05:40     at Object.Module._extensions..js (module.js:654:10)
23:05:40     at Module.load (module.js:556:32)
23:05:40     at tryModuleLoad (module.js:499:12)
23:05:40     at Function.Module._load (module.js:491:3)
23:05:40 module.js:540
23:05:40     throw err;
{code}


*Build Log*

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-daily-pte-release-1.2-x86_64/2/

https://jenkins.hyperledger.org/view/Daily/job/fabric-test-daily-pte-release-1.2-x86_64/2/consoleFull",,rameshthoomu,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11443,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,bb8133490cc59fd84d75f87840d3aa3df6cc967d,Unset,No,,,"1|hzzm27:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rameshthoomu,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"15/Aug/18 12:36 AM;sambhavdutt;The pte tests have been passing from several builds
https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-pte-release-1.2-x86_64/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
fabric-unit-tests are failing in release-1.0 s390x(z) platform as testenv image fails to build.,FAB-11517,32672,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,sambhavdutt,sambhavdutt,08/Aug/18 11:15 PM,19/Mar/19 8:13 PM,28/Oct/23 3:03 AM,04/Oct/18 11:06 PM,v1.1.0,,,,,v1.1.0,,,,,fabric-build,,,,0,ci-failure,,,,,"The fabric unit-tests are failing in release-1.0 and release-1.1 jobs, s390x(z) platform, the fabric-testenv image fails to build.

*fabric release-1.0 commit: b23007c5d4c398c7c71bfd3dd1a0d1dfeab4607b*
*fabric release-1.1 commit: 095f8815a8ea1e3450595a76e0a464416a145692*

{code:java}
20:37:40 Building build/docker/bin/orderer
20:37:54 mkdir -p build/image/testenv/payload
20:37:54 cp build/docker/bin/orderer build/docker/bin/peer build/sampleconfig.tar.bz2 images/testenv/install-softhsm2.sh build/image/testenv/payload
20:37:54 Building docker testenv-image
20:37:54 docker build  -t hyperledger/fabric-testenv build/image/testenv
20:37:54 Sending build context to Docker daemon  49.95MB

20:37:54 Step 1/10 : FROM hyperledger/fabric-buildenv:s390x-1.0.7-snapshot-b23007c
20:37:54  ---> 0988df429d93
.
.
.
20:56:58 W: Failed to fetch http://security.debian.org/dists/jessie/updates/InRelease  Unable to find expected entry 'main/binary-s390x/Packages' in Release file (Wrong sources.list entry or malformed file)
20:56:58 
20:56:58 E: Some index files failed to download. They have been ignored, or old ones used instead.
20:56:59 The command '/bin/sh -c bash /tmp/install-softhsm2.sh && rm -f install-softhsm2.sh' returned a non-zero code: 100
20:56:59 Makefile:305: recipe for target 'build/image/testenv/.dummy-s390x-1.1.2-snapshot-095f881' failed
20:56:59 make: *** [build/image/testenv/.dummy-s390x-1.1.2-snapshot-095f881] Error 100
20:57:00 Build step 'Execute shell' marked build as failure
{code}

*Build Logs*
https://jenkins.hyperledger.org/view/Daily/job/fabric-unit-test-daily-release-1.1-s390x/77/consoleFull

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-unit-test-daily-release-1.1-s390x/77/
",,C0rWin,rameshthoomu,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,fabric release-1.1 commit: b23007c5d4c398c7c71bfd3dd1a0d1dfeab4607b fabric release-1.0 commit: 095f8815a8ea1e3450595a76e0a464416a145692,Unset,No,,,"1|hzzm2f:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),C0rWin,rameshthoomu,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"29/Sep/18 5:59 AM;rameshthoomu;[https://gerrit.hyperledger.org/r/#/c/26378/] _- Merged

[https://gerrit.hyperledger.org/r/#/c/26629/  - Merged|https://gerrit.hyperledger.org/r/#/c/26629/];;;","04/Oct/18 11:05 PM;sambhavdutt;This unit tests in s390x are not failing because of testenv.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Balance transfer  code in fabric samples has typo and unused imports,FAB-11518,32679,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,clydedacruz,clydedacruz,clydedacruz,09/Aug/18 2:44 AM,10/Aug/18 4:02 AM,28/Oct/23 3:03 AM,10/Aug/18 4:02 AM,,,,,,v1.3.0,,,,,fabric-samples,,,,0,quality,,,,,"The balance transfer code in fabric-samples has a typo  here:

[https://github.com/hyperledger/fabric-samples/blob/master/balance-transfer/app/instantiate-chaincode.js#L120]  

The above line has *until.format* as opposed to *util.format*.

It also has unused imports in the JavaScript files in *fabric-samples/balance-transfer/app*

 ",,clydedacruz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzm3j:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),clydedacruz,,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-6.11.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/tough-cookie-4.1.3,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/semver-6.3.1,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/grpc/grpc-js-1.8.17,dependabot/go_modules/high-throughput/application-go/google.golang.org/grpc-1.53.0,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/word-wrap-1.2.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-and-fabric-network-7.2.4,dependabot/go_modules/asset-transfer-basic/application-go/google.golang.org/grpc-1.53.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"09/Aug/18 5:23 PM;clydedacruz;CR for this issue : [https://gerrit.hyperledger.org/r/#/c/25297/] ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Define new chaincode lifecycle namespace,FAB-11519,32681,31192,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,09/Aug/18 4:02 AM,17/Aug/18 4:54 PM,28/Oct/23 3:03 AM,17/Aug/18 4:54 PM,,,,,,,,,,,,,,,0,,,,,,,,jyellick,MichaelWang,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzm3r:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),jyellick,MichaelWang,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add implementation for installing chaincode to back new lifecycle SCC,FAB-11520,32682,31192,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,09/Aug/18 4:10 AM,23/Aug/18 2:19 PM,28/Oct/23 3:03 AM,23/Aug/18 2:19 PM,,,,,,,,,,,,,,,0,,,,,,,,jyellick,MichaelWang,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzm3z:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),jyellick,MichaelWang,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Have chaincode persistence return a hash on store,FAB-11521,32683,31192,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,09/Aug/18 4:12 AM,23/Aug/18 2:19 PM,28/Oct/23 3:03 AM,23/Aug/18 2:19 PM,,,,,,,,,,,,,,,0,,,,,,,,jyellick,MichaelWang,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzm47:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),jyellick,MichaelWang,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As a peer admin, I need a chaincode API to query installed chaincode packages",FAB-11522,32684,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,09/Aug/18 4:34 AM,10/Jan/19 6:10 PM,28/Oct/23 3:03 AM,10/Jan/19 6:10 PM,,,,,,v1.4.0,,,,,,,,,0,,,,,,,,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-11237,,,No,,Unset,No,,,"1|hzzm4f:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add basic implementation,FAB-11523,32685,32684,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,09/Aug/18 4:35 AM,03/Nov/18 8:02 PM,28/Oct/23 3:03 AM,03/Nov/18 8:02 PM,,,,,,,,,,,,,,,0,,,,,,This needs to be done prior to refactoring the common code,,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzm4n:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As a token infrastructure (peer) developer, I want to accommodate “issue proof” requests assuming mockup proof computation mechanism",FAB-11524,32692,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,angelo.decaro,angelo.decaro,angelo.decaro,09/Aug/18 5:51 PM,12/Jun/20 12:30 AM,28/Oct/23 3:03 AM,26/Nov/18 4:51 PM,,,,,,Future,,,,,fabric-crypto,fabric-peer,,,0,fabtoken,,,,,"*Acceptance*: A fabric client can be built to submit an “issue” request to a peer. The peer validates the request and checks that the request's creator has the rights to submit that request. If this is case, a mockup RequestImport object is created which is then embedded in a TokenTransaction message. This message is returned back to the client via response.

*Remarks:* access control can be performed in multiple way. Example are:
 # request's creator is a writer of the channel the request targets;
 # request's creator is a writer of the channel the request targets AND the creator is in the contacted peer's organisation; ",,angelo.decaro,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11343,,,,,,,FAB-11701,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-11149,,,No,,Unset,No,,,"1|hzwqfl:z",,,,Unset,Unset,To Do,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),angelo.decaro,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"09/Aug/18 5:54 PM;angelo.decaro;https://gerrit.hyperledger.org/r/#/c/25273/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As a token infrastructure (peer) developer, I want to define an internal representation of a token",FAB-11525,32695,32186,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,mathiasb303,mathiasb303,mathiasb303,09/Aug/18 6:15 PM,21/Aug/18 11:41 PM,28/Oct/23 3:03 AM,21/Aug/18 11:41 PM,,,,,,,,,,,,,,,0,fabtoken,,,,,"In this task we aim to design an internal representation of a _token_, that can be used by the other TMS components.",,mathiasb303,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11350,,,,FAB-11540,FAB-11541,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzm5r:",,,,Unset,Unset,Next Items- Ledger,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),mathiasb303,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"21/Aug/18 11:41 PM;mathiasb303;https://gerrit.hyperledger.org/r/#/c/25337/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As a token infrastructure (peer) developer, I want to accommodate “transfer proof” requests assuming mockup proof computation mechanism",FAB-11526,32697,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,angelo.decaro,angelo.decaro,angelo.decaro,09/Aug/18 9:36 PM,26/Nov/18 10:30 PM,28/Oct/23 3:03 AM,26/Nov/18 10:30 PM,,,,,,Future,,,,,fabric-crypto,fabric-peer,,,0,fatoken,,,,,"*Acceptance*: A fabric client can be built to submit a “transfer” request to a peer. The peer validates the request and checks that the request's creator has the rights to submit that request. If this is case, the TokenManagerSystem bound to the channel specified in the request is used to generate a RequestTransfer object which is then embedded in a TokenTransaction message. This message is returned back to the client via response.

*Remarks:* access control can be performed in multiple way. Example are:
 # request's creator is a writer of the channel the request targets;
 # request's creator is a writer of the channel the request targets AND the creator is in the contacted peer's organisation; ",,angelo.decaro,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-11149,,,No,,Unset,No,,,"1|hzwzxz:",,,,Unset,Unset,Next Items- Ledger,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),angelo.decaro,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"09/Aug/18 9:51 PM;angelo.decaro;https://gerrit.hyperledger.org/r/#/c/25343/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As a token client developer, I want to implement the transfer capability using a local interface to represent the prover peer exchange",FAB-11527,32699,32190,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,KaoutarEL,KaoutarEL,KaoutarEL,09/Aug/18 11:43 PM,12/Jun/20 12:30 AM,28/Oct/23 3:03 AM,20/Oct/18 3:25 AM,,,,,,,,,,,,,,,0,,,,,,,,elli-androulaki,KaoutarEL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwqfm:",,,,Unset,Unset,To Do,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),elli-androulaki,KaoutarEL,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"22/Aug/18 5:41 PM;elli-androulaki;https://gerrit.hyperledger.org/r/#/c/25361/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
PTE bare bones test does not create Logs dir,FAB-11528,32705,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,dongming,dongming,dongming,10/Aug/18 2:40 AM,10/Aug/18 11:03 PM,28/Oct/23 3:03 AM,10/Aug/18 11:03 PM,,,,,,,,,,,,,,,0,,,,,,"PTE test case, bare bones, does not remove old config json, nor create Logs dir for PTE logs",,dongming,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-8089,,,No,,Unset,No,,,"1|hzzm6n:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),dongming,,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,true,"10/Aug/18 5:27 AM;dongming;https://gerrit.hyperledger.org/r/#/c/25383/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
remove redandunt function definitions from transient store,FAB-11529,32707,18822,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,Senthil1,Senthil1,Senthil1,10/Aug/18 4:14 AM,23/Jan/20 7:31 AM,28/Oct/23 3:03 AM,23/Jan/20 7:31 AM,,,,,,v1.3.0,,,,,,,,,0,stale-item,,,,,"# remove _Persist()_ and rename _PersistWithConfig()_ to _Persist()_
 # remove _Next()_ and rename _NextWithConfig()_ to _Next()_
 # remove _EndorserPvtSimulationResults struct_ and rename _EndorserPvtSimulationResultsWithConfig_ to _EndorserPvtSimulationResults_

Make gossip to use _Persist()/Next()_ APIs instead of _PersistWithConfig()/NextWithConfig()_",,Senthil1,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzm73:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),Senthil1,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 7:31 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As a fabric admin, I need a way to query the currently installed chaincode packages",FAB-11530,32716,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,10/Aug/18 2:21 PM,23/Jan/19 1:25 PM,28/Oct/23 3:03 AM,23/Jan/19 1:25 PM,,,,,,v2.0.0,,,,,fabric-peer,,,,0,,,,,,,,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-11237,,,No,,Unset,No,,,"1|hzzm87:",,,,Unset,Unset,,,(Please add steps to reproduce),1.0,Unset,,,,,,Unset,,Unset,,(Please add usage information),jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As a chaincode admin, I need to be able to package in the new chaincode format using the peer CLI.",FAB-11531,32717,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wlahti,jyellick,jyellick,10/Aug/18 2:35 PM,19/Jan/19 5:30 AM,28/Oct/23 3:03 AM,19/Jan/19 5:30 AM,,,,,,v1.4.0,,,,,,,,,0,,,,,,"We need to add the ability to package chaincode in the new chaincode package format for the updated lifecycle.

This should come in the form of an extension to the ""peer chaincode package"" command.  It should take the same options for 'language' (type), and 'path', but it should refuse to allow the 'name', 'version', or 'instantiation policy' to be specified.  Additionally, the '-s' flag should not be allowed.

As with all peer chaincode commands utilizing the new chaincode lifecycle, it should indicate that the new lifecycle should be used with the flag ""-N' for use of the new +lifecycle chaincode.

The operation should package the code along with the type and path into the new tar gz chaincode package format and write it to disk.",,jyellick,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-11237,,,No,,Unset,No,,,"1|hzzm8f:",,,,Unset,Unset,,,(Please add steps to reproduce),3.0,Unset,,,,,,Unset,,Unset,,(Please add usage information),jyellick,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"11/Aug/18 4:47 AM;wlahti;Going to rework https://gerrit.hyperledger.org/r/c/25443. We will be using a tar.gz chaincode package format instead of the ChaincodeInstallPackage. Starting on a new package CLI CR.;;;","23/Aug/18 12:27 AM;wlahti;https://gerrit.hyperledger.org/r/c/25443/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As a fabric admin, I need a way to inspect the new chaincode package format.",FAB-11532,32718,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,jyellick,jyellick,10/Aug/18 2:40 PM,23/Aug/18 12:44 AM,28/Oct/23 3:03 AM,23/Aug/18 12:44 AM,,,,,,Abandoned,,,,,fabric-peer,,,,0,,,,,,"Because in the new lifecycle scheme, we will require that the package hashes are consistent, users will need to share chaincode packages.  However, there should be no centralized point of trust, so each user should be able to verify that the chaincode package contains the expected code.

Therefore, we need to extend the ""peer chaincode package"" command to be able to extract a chaincode package and write it out to disk.  

This should be accomplished with a new chaincode sub-command 'inspectpackage'.  It should take a path to the chaincode package, and optionally a location to extract it to (defaulting to the current directory).  It should then extract the embedded code package.",,jyellick,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-11237,,,No,,Unset,No,,,"1|hzzm8n:",,,,Unset,Unset,,,(Please add steps to reproduce),3.0,Unset,,,,,,Unset,,Unset,,(Please add usage information),jyellick,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Aug/18 12:43 AM;wlahti;Instead of using a marshaled GRPC proto as the install package, we have switched to using a tar.gz package format to make it easy to inspect chaincode packages with existing tools. Abandoning this item.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As a fabric admin, I need a way to install a new chaincode package.",FAB-11533,32719,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wlahti,jyellick,jyellick,10/Aug/18 2:44 PM,17/Jan/19 1:57 AM,28/Oct/23 3:03 AM,17/Jan/19 1:57 AM,,,,,,v1.4.0,,,,,fabric-peer,,,,0,,,,,,"This is to exercise the new +lifecycle.InstallChaincode API.

It should extend the existing 'peer chaincode install' command.  It should require that a package be provided as input (to avoid non-deterministic multiple-packaging), and invoke SCC function.  It should require the 'name' and 'version' parameters, but the 'language' and 'path' parameters should not be allowed. 

Like the other new lifecycle commands, it should distinguish itself from the old APIs by requiring a ""-N"" parameter.",,jyellick,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-11237,,,No,,Unset,No,,,"1|hzzm8v:",,,,Unset,Unset,,,(Please add steps to reproduce),3.0,Unset,,,,,,Unset,,Unset,,(Please add usage information),jyellick,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"16/Aug/18 1:51 AM;wlahti;https://gerrit.hyperledger.org/r/c/25573/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As a fabric admin, I need a way to query installed chaincode packages from the new lifecycle.",FAB-11534,32720,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wlahti,jyellick,jyellick,10/Aug/18 2:46 PM,17/Jan/19 5:02 AM,28/Oct/23 3:03 AM,17/Jan/19 5:02 AM,,,,,,v1.4.0,,,,,fabric-peer,,,,0,,,,,,"This story is to extend the existing 'peer chaincode list"" command to support listing installed chaincodes via the new chaincode API.

The operation should be the same as before, but it should add a new '-N' parameter to indicate that the new lifecycle should be utilized, instead of the old.  It should invoke the '+lifecycle.QueryInstalledChaincodes' API, and print a list of name, version, hash.

Note, for the time being it is necessary to only allow querying installed chaincodes with '-N', the instantiated chaincodes will be covered in another story.",,jyellick,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-11237,,,No,,Unset,No,,,"1|hzzm93:",,,,Unset,Unset,,,(Please add steps to reproduce),2.0,Unset,,,,,,Unset,,Unset,,(Please add usage information),jyellick,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"16/Aug/18 11:41 PM;wlahti;Temporarily blocked waiting for some of the other lifecycle changes related to the new "".tar.gz"" chaincode package. Returning this to ""to do."";;;","21/Aug/18 12:51 AM;wlahti;https://gerrit.hyperledger.org/r/c/25703/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add round trip usage of the new chaincode install and query installed chaincodes function to e2e,FAB-11535,32721,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wlahti,jyellick,jyellick,10/Aug/18 2:49 PM,24/Jan/19 3:42 AM,28/Oct/23 3:03 AM,24/Jan/19 3:42 AM,,,,,,v2.0.0,,,,,fabric-peer,,,,0,,,,,,"With the implementation of the peer chaincode package, peer chaincode install, and peer chaincode list for the new lifecycle, it should be possible to test these using the e2e framework.

There is likely no need to create an entire new suite for this with a new network, but extending an existing suite should be straightforward.

The test should package a chaincode, install that package, and verify that the package is returned as installed.",,jyellick,MichaelWang,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11717,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-11237,,,No,,Unset,No,,,"1|hzzm9b:",,,,Unset,Unset,,,(Please add steps to reproduce),2.0,Unset,,,,,,Unset,,Unset,,(Please add usage information),jyellick,MichaelWang,wlahti,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"27/Sep/18 3:43 AM;wlahti;https://gerrit.hyperledger.org/r/c/26609;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Peer service start improvement,FAB-11536,32723,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,baohua,baohua,baohua,10/Aug/18 5:11 PM,11/Sep/18 12:40 PM,28/Oct/23 3:03 AM,10/Sep/18 11:04 PM,,,,,,v1.3.0,,,,,fabric-peer,,,,0,,,,,,"Currently there are several serviced started with peer node start.

However, the existing process is complicated and confusing.

This patchset will move the chaincode service start into separate method.",,baohua,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11571,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzm9j:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),baohua,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Configtxgen issue: Unable to create channel,FAB-11537,32724,,Bug,Closed,FAB,Fabric,software,denyeart,,,Highest,Invalid: Works as Expected,,premkumarbujji,premkumarbujji,10/Aug/18 5:53 PM,22/Sep/18 1:10 AM,28/Oct/23 3:03 AM,21/Sep/18 11:51 PM,v1.2.0,,,,,,,,,,,,,,0,,,,,,"When executing the following:

configtxgen -profile TwoOrgsOrdererGenesis -outputCreateChannelTx ./channel-artifacts/channel.tx -channelID $CHANNEL_NAME

 

Receiving an error:

2018-08-09 15:24:12.896 UTC [common/tools/configtxgen] main -> INFO 001 Loading configuration

2018-08-09 15:24:12.904 UTC [common/tools/configtxgen] doOutputChannelCreateTx -> INFO 002 Generating new channel configtx

2018-08-09 15:24:12.904 UTC [common/tools/configtxgen] main -> CRIT 003 Error on outputChannelCreateTx: config update generation failure: cannot define a new channel with no Application section

 

Not sure, where to add the Application section, and what to add. 


This is what the Application section in configtx.yaml looks:

################################################################################

#

#   SECTION: Application

#

#   - This section defines the values to encode into a config transaction or

#   genesis block for application related parameters

#

################################################################################

Application: &ApplicationDefaults

 

    # Organizations is the list of orgs which are defined as participants on

    # the application side of the network

    Organizations:",,denyeart,jyellick,mastersingh24,premkumarbujji,rcaballeron,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"31/Aug/18 6:31 PM;rcaballeron;configtx.yaml;https://jira.hyperledger.org/secure/attachment/15764/configtx.yaml",,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzm9r:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,jyellick,mastersingh24,premkumarbujji,rcaballeron,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"12/Aug/18 7:27 PM;mastersingh24;[~premkumarbujji]  - You are going to need to post your entire configtx.yaml here in order for us to be able to help;;;","31/Aug/18 6:31 PM;rcaballeron;Hi Gari,

I also have the same problem. Please find attached my configtx.yaml file. To put you also in context, I'm following the book ""Hands-On Blockchain with Hyperledger"".

Kind regards,

Roque

[^configtx.yaml];;;","21/Sep/18 11:18 PM;denyeart;[~jyellick] can you take a quick look?;;;","21/Sep/18 11:50 PM;jyellick;The profile you have selected is a 'genesis profile' for the orderer system channel {{TwoOrgsOrdererGenesis}}.

The orderer system channel is not an application channel, so it does not define an application section.  Instead, I believe you will find a {{TwoOrgsChannel}} profile that you can use to create channel creation transactions.;;;","22/Sep/18 12:41 AM;rcaballeron;Hi Jason,

Many thanks for your feedback. Is there any way for fixing the attached file?  I'm quite new to Hyperledger.

Kind regards,

Roque;;;","22/Sep/18 1:10 AM;jyellick;[~rcaballeron] The attached configtx.yaml file defines a {{FourOrgsTradeChannel}} profile.  I expect that passing this as the profile name for channel creation should succeed.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,
Discovery CLI produces malformed endpoint when discovering peers,FAB-11538,32725,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid: Test Error,,nagaraja_sr,nagaraja_sr,10/Aug/18 7:04 PM,22/Aug/18 5:02 PM,28/Oct/23 3:03 AM,22/Aug/18 4:31 PM,,,,,,,,,,,,,,,0,,,,,,"when i run the service discovery cli tool i get a malformed endpoint (there is no : separating the host and port)

 
```discover peers --configFile discovery-config.yaml --server peer0.myorg.mydomain:7151 --channel channel1 [ { ""MSPID"": ""myMSP"", ""LedgerHeight"": 3, ""Endpoint"": ""peer0.myorg.mydomain7051"", ""Identity"": ""-BEGIN CERTIFICATE\nedited\n-END CERTIFICATE---\n"", ""Chaincodes"": [ ""mycc"" ] },

{ ""MSPID"": ""myMSP"", ""LedgerHeight"": 3, ""Endpoint"": ""peer1.myorg.mydomain7051"", ""Identity"": ""-----BEGIN CERTIFICATE-----\nnedited\n-----END CERTIFICATE-----\n"", ""Chaincodes"": [ ""mycc"" ] }

]```",,denyeart,goobe,nagaraja_sr,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzm9z:",,,,Unset,Unset,,,"generate a fabric network with 3 organizations and try to use discover CLI to discover peers associated with one organization.
",,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,goobe,nagaraja_sr,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"22/Aug/18 2:01 AM;denyeart;[~yacovm] Any ideas?;;;","22/Aug/18 2:23 AM;yacovm;[~nagaraja_sr] can you please post your configuration? Could it be that the peers have CORE_PEER_GOSSIP_EXTERNAL_ENDPOINT configured without "":"" ?;;;","22/Aug/18 2:25 AM;yacovm;Also please post where you got the binary from? Nexus? or compiled yourself? etc.;;;","22/Aug/18 3:18 PM;goobe;Thanks, indeed it was an error in the environment variable. Apologies for the false bug report.

BTW, it is CORE_PEER_GOSSIP_EXTERNALENDPOINT (not CORE_PEER_GOSSIP_EXTERNAL_ENDPOINT);;;","22/Aug/18 4:31 PM;nagaraja_sr;due to misconfigured peer environment variable CORE_PEER_GOSSIP_EXTERNALENDPOINT;;;","22/Aug/18 5:02 PM;yacovm;{quote}Thanks, indeed it was an error in the environment variable. Apologies for the false bug report.
{quote}
 

No problem, always good to know your code works as expected.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,
As a token client developer I want to implement the local interface for prover peer for transfer without initiating a grpc connection to the peer,FAB-11539,32730,32190,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,KaoutarEL,KaoutarEL,KaoutarEL,10/Aug/18 9:22 PM,12/Jun/20 12:30 AM,28/Oct/23 3:03 AM,20/Oct/18 4:23 AM,,,,,,,,,,,,,,,0,fabtoken,,,,,,,elli-androulaki,KaoutarEL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwqfm:1",,,,Unset,Unset,To Do,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),elli-androulaki,KaoutarEL,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"22/Aug/18 5:40 PM;elli-androulaki;https://gerrit.hyperledger.org/r/#/c/25519/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As a token infrastructure (peer) developer, I want to implement an internal, in-memory pool of unspent tokens",FAB-11540,32734,32186,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,mathiasb303,mathiasb303,mathiasb303,10/Aug/18 11:46 PM,14/Sep/18 11:48 PM,28/Oct/23 3:03 AM,14/Sep/18 11:47 PM,,,,,,Future,,,,,,,,,0,fabtoken,,,,,"In this task we aim to design an internal representation of a _pool_, that can be used by the other TMS components. The pool stores the unspent tokens in an in-memory data structure, and does not communicate with any ledger. This pool can therefore be used for developing and testing the rest of the TMS, but shall not be used in production.",,elli-androulaki,mathiasb303,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11525,,,,,,,,,,,,,,,FAB-11171,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzman:",,,,Unset,Unset,Next Items- Ledger,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),elli-androulaki,mathiasb303,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"16/Aug/18 11:51 PM;elli-androulaki;https://gerrit.hyperledger.org/r/#/c/25425/;;;","14/Sep/18 11:48 PM;elli-androulaki;This CR is merged with the CR for FAB-11171 and as such, this Jira is no longer relevant.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As a token infrastructure (peer) developer, I want to implement an internal, in-memory history of token transactions",FAB-11541,32735,32186,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,mathiasb303,mathiasb303,mathiasb303,10/Aug/18 11:48 PM,14/Sep/18 11:47 PM,28/Oct/23 3:03 AM,14/Sep/18 11:46 PM,,,,,,Future,,,,,,,,,0,fabtoken,,,,,"In this task we aim to design an internal representation of a _history_, that can be used by the other TMS components. The history stores the token transactions in an in-memory data structure, and does not communicate with any ledger. This history can therefore be used for developing and testing the rest of the TMS, but shall not be used in production.",,elli-androulaki,mathiasb303,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11525,,,,,,,,,,,,,,,FAB-11171,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzmav:",,,,Unset,Unset,Next Items- Ledger,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),elli-androulaki,mathiasb303,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"21/Aug/18 3:32 PM;elli-androulaki;https://gerrit.hyperledger.org/r/#/c/25669/;;;","14/Sep/18 11:47 PM;elli-androulaki;This CR was merged with the CR addressing FAB-11171, so the Jira is no longer relevant.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Change the logs fetching location from jenkins in test viewer,FAB-11542,32736,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,suryalnvs,suryalnvs,suryalnvs,11/Aug/18 12:11 AM,13/Aug/18 9:19 PM,28/Oct/23 3:03 AM,13/Aug/18 9:19 PM,v1.3.0,,,,,v1.3.0,,,,,fabric-quality,,,,0,quality,,,,,"As the CI job names for PTE, OTE, LTE are changed, need to update the logs locations in test viewer to reflect the latest performance numbers in test viewer.

https://gerrit.hyperledger.org/r/#/c/25433/",,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzmb3:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,true,"11/Aug/18 4:13 AM;suryalnvs;https://gerrit.hyperledger.org/r/#/c/25433/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Move test viewer from kubernetes cluster to cloud foundry,FAB-11543,32737,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,suryalnvs,suryalnvs,suryalnvs,11/Aug/18 12:19 AM,22/Aug/18 11:23 PM,28/Oct/23 3:03 AM,22/Aug/18 11:23 PM,,,,,,,,,,,fabric-quality,,,,0,,,,,,"Currently, test viewer is on kubernetes cluster, which should be maintained by the team. If we move test viewer to cloud foundry, we can setup delivery pipeline to deploy if they are any changes to test-viewer. A DNS name will also be given to the url by the cloudfoundry.",,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11657,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzmbb:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"22/Aug/18 2:43 AM;suryalnvs;https://testviewer.mybluemix.net/#/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add Java SDK code for calling fabric APIs,FAB-11544,32740,,Test Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,latitiah,latitiah,latitiah,11/Aug/18 1:14 AM,20/Dec/18 10:31 PM,28/Oct/23 3:03 AM,20/Dec/18 10:31 PM,,,,,,v1.4.0,,,,,,,,,0,,,,,,"The tests should be capable of executing the basic SDK operations that include:
* invoke
* query
* join

The JavaSDK should be able to execute the same current tests that are executed in NodeSDK tests.
",,latitiah,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-536,,,FAB-11618,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-11619,,,No,,Unset,No,,,"1|hzzmbz:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Pass,,Unset,,(Please add usage information),latitiah,scottz,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,true,"11/Aug/18 1:20 AM;latitiah;The code will be located in feature/sdk/java in fabric-test.
;;;","11/Aug/18 1:46 AM;scottz;we can open up testtask items for executing testcases for each Behave test that indicates the SDK type, which we will expand to use JavaSDK too with 11544 is done : 
 ```
 fabric-test/feature$ grep -n ""SDK"" *feature
 fabric-test/feature$ grep -n ""CLI "" *feature
 ```

The tests must satisfy these criteria in order to appear and be tracked on the dashboard: project in (FAB, FABJ, FABN, ""Fabric CA"") AND issuetype = ""Test Task"" AND ""Test Type"" in (""System Test"", ""Interoperability Test"") AND fixVersion = 1.3;;;","29/Nov/18 2:00 AM;latitiah;https://gerrit.hyperledger.org/r/27785;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
PTE timeoutOpt input incorrect,FAB-11545,32742,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,dongming,dongming,dongming,11/Aug/18 2:48 AM,14/Aug/18 10:23 PM,28/Oct/23 3:03 AM,11/Aug/18 5:48 AM,,,,,,,,,,,,,,,0,,,,,,Fix PTE timeoutOpt input in release 1.1,,dongming,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-2247,,,No,,Unset,No,,,"1|hzzmcf:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),dongming,,,,,,,,,,,,,,,,,,,,,,,,,,release-1.1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"11/Aug/18 2:53 AM;dongming;https://gerrit.hyperledger.org/r/#/c/25429/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Integration tests are failing in CI job for the release-1.2 branch.,FAB-11546,32743,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,latitiah,sambhavdutt,sambhavdutt,11/Aug/18 3:23 AM,19/Mar/19 8:12 PM,28/Oct/23 3:03 AM,14/Aug/18 10:58 PM,v1.3.0,,,,,v1.3.0,,,,,fabric-quality,,,,0,ci-failure,,,,,"The fabric-test-nightly-build for release-1.2 is failing in the integration tests, noticed this error

{code:java}
21:51:24 [e][orderer-org.orderer0] 2018-08-09 01:51:22.436 UTC [orderer/common/server] initializeGrpcServer -> CRIT 00f Failed to listen: listen tcp 127.0.0.1:44444: bind: address already in use
21:51:24 
21:51:24 ------------------------------
21:51:24 • Failure in Spec Setup (BeforeEach) [2.846 seconds]
21:51:24 Network solo network [BeforeEach] deploys and executes chaincode (simple) 
21:51:24 /w/workspace/fabric-nightly-release-job-release-1.2-x86_64/gopath/src/github.com/hyperledger/fabric/integration/nwo/network_test.go:77
21:51:24 
21:51:24   Timed out after 1.000s.
21:51:24   Expected
21:51:24       <<-chan struct {} | len:0, cap:0>: 0xc42028cb40
21:51:24   to be closed
21:51:24 
21:51:24   /w/workspace/fabric-nightly-release-job-release-1.2-x86_64/gopath/src/github.com/hyperledger/fabric/integration/nwo/network_test.go:67
21:51:24 ------------------------------
21:52:26 • [SLOW TEST:61.624 seconds]
21:52:26 Network kafka network deploys and executes chaincode (the hard way) 
21:52:26 /w/workspace/fabric-nightly-release-job-release-1.2-x86_64/gopath/src/github.com/hyperledger/fabric/integration/nwo/network_test.go:128
21:52:26 ------------------------------
21:52:26 
21:52:26 
21:52:26 Summarizing 1 Failure:
21:52:26 
21:52:26 [Fail] Network solo network [BeforeEach] deploys and executes chaincode (simple) 
21:52:26 /w/workspace/fabric-nightly-release-job-release-1.2-x86_64/gopath/src/github.com/hyperledger/fabric/integration/nwo/network_test.go:67
21:52:26 
21:52:26 Ran 2 of 2 Specs in 80.148 seconds
21:52:26 FAIL! -- 1 Passed | 1 Failed | 0 Pending | 0 Skipped
21:52:26 --- FAIL: TestNewWorldOrder (80.15s)
21:52:26 FAIL
21:53:58 [1533779251] Pluggable endorsement and validation EndToEnd Suite - 1/1 spec
{code}

*Build Log*

https://jenkins.hyperledger.org/view/Daily/job/fabric-nightly-release-job-release-1.2-x86_64/

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-nightly-release-job-release-1.2-x86_64/64/
",,rameshthoomu,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,559f6752e1bffc46b489999d2823816c2457e30f,Unset,No,,,"1|hzzmcn:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rameshthoomu,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"14/Aug/18 10:57 PM;sambhavdutt;The Integration tests are successful from last four builds. Looks good now.

https://jenkins.hyperledger.org/view/Daily/job/fabric-nightly-release-job-release-1.2-x86_64/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add an orderer to a network at runtime,FAB-11547,32747,,Test Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,suryalnvs,suryalnvs,11/Aug/18 4:39 AM,31/Jul/19 5:45 AM,28/Oct/23 3:03 AM,31/Jul/19 5:45 AM,Future,,,,,,,,,,fabric-quality,,,,0,,,,,,Add an orderer to a network at runtime to ensure it gets connected to kafka and serve the requests.,,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-10081,,,No,,Unset,No,,,"1|hzzmdj:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,System Test,,(Please add usage information),suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Change signature of TransactionValidator interface,FAB-11548,32755,28450,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ales,ales,ales,11/Aug/18 8:49 PM,24/Aug/18 3:41 AM,28/Oct/23 3:03 AM,24/Aug/18 3:41 AM,,,,,,,,,,,,,,,0,,,,,,"The TransactionValidator needs to be adapted to match that of the default validation plugin. This way, state-based validation can be integrated inside the validation logic, leaving the default plugin implementation clean and readable.",,ales,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzmev:",,,,Unset,Unset,Sprint 6 - NextGen Endorseme 2,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ales,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Split validation logic into own package,FAB-11549,32756,28450,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ales,ales,ales,11/Aug/18 8:54 PM,28/Aug/18 9:49 PM,28/Oct/23 3:03 AM,28/Aug/18 9:49 PM,,,,,,,,,,,,,,,0,,,,,,"The validation logic needs to be into its own package. This way, different versions of fabric can simply clone that package and make changes therein. The benefits are that

1) the validation code from previous releases is immutable

2) new releases aren't forced to contain awkward case switches to handle different flavours of validation",,ales,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzmf3:",,,,Unset,Unset,Sprint 6 - NextGen Endorseme 2,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ales,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Expose 1.3 validation capability,FAB-11550,32757,28450,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ales,ales,ales,11/Aug/18 8:57 PM,28/Aug/18 9:49 PM,28/Oct/23 3:03 AM,28/Aug/18 9:49 PM,,,,,,,,,,,,,,,0,,,,,,The capability for 1.3-style validation needs to be exposed through the application capability interface. This capability implies state-based endorsement and new chaincode lifecycle.,,ales,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzmfb:",,,,Unset,Unset,Sprint 6 - NextGen Endorseme 2,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ales,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Clone v1.2 validation logic,FAB-11551,32758,28450,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ales,ales,ales,11/Aug/18 9:00 PM,11/Sep/18 5:42 PM,28/Oct/23 3:03 AM,28/Aug/18 9:49 PM,,,,,,,,,,,,,,,0,,,,,,The validation logic for 1.2 should be cloned for 1.3. The idea is that the 1.2 validation logic is no longer changed. All edits for 1.3 release go into the 1.3 clone.,,ales,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzmfj:",,,,Unset,Unset,Sprint 6 - NextGen Endorseme 2,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ales,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Call appropriate validator given the capability,FAB-11552,32759,28450,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ales,ales,ales,11/Aug/18 9:02 PM,28/Aug/18 9:49 PM,28/Oct/23 3:03 AM,28/Aug/18 9:49 PM,,,,,,,,,,,,,,,0,,,,,,"Validation logic might change across releases. If this happens, the validation logic is cloned, the default validation plugin instantiates the validation logic for all releases that are still supported and capabilities are used to determine which validation logic is used.",,ales,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzmfr:",,,,Unset,Unset,Sprint 6 - NextGen Endorseme 2,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ales,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Split LSCC validation,FAB-11553,32760,28450,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ales,ales,ales,11/Aug/18 9:05 PM,28/Aug/18 9:49 PM,28/Oct/23 3:03 AM,28/Aug/18 9:49 PM,,,,,,,,,,,,,,,0,,,,,,"For the sake of readability, the validation logic for lscc is split into its own compilation unit.",,ales,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzmfz:",,,,Unset,Unset,Sprint 6 - NextGen Endorseme 2,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ales,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove deduplicateIdentity,FAB-11554,32761,28450,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ales,ales,ales,11/Aug/18 9:07 PM,28/Aug/18 9:49 PM,28/Oct/23 3:03 AM,28/Aug/18 9:49 PM,,,,,,,,,,,,,,,0,,,,,,The deduplicateIdentity function is no longer required given that the policy engine already deduplicates identities.,,ales,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzmg7:",,,,Unset,Unset,Sprint 6 - NextGen Endorseme 2,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ales,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Useful troubleshooting info for connection problems for chaincode shim,FAB-11556,32763,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,yacovm,yacovm,11/Aug/18 9:52 PM,23/Jan/20 7:32 AM,28/Oct/23 3:03 AM,23/Jan/20 7:32 AM,,,,,,,,,,,fabric-peer,,,,0,hygiene,stale-item,,,,"Currently, when the chaincode shim can't connect to the peer - it prints the same error message that gives little information about the actual problem to whoever inspects the shim container logs:

 
{code:java}
error trying to connect to local peergithub.com/hyperledger/fabric/core/chaincode/shim.userChaincodeStreamGetter/opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/shim/chaincode.go:111github.com/hyperledger/fabric/core/chaincode/shim.Start/opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/shim/chaincode.go:150main.main/chaincode/input/src/github.com/chaincode/example02/go/example02.go:195runtime.main/opt/go/src/runtime/proc.go:195runtime.goexit/opt/go/src/runtime/asm_amd64.s:2337 {code}

It would be useful to:
# Print the endpoint the shim is trying to connect to
# Whether it uses TLS or not
# To try to connect via *tls.Dial* (in case TLS is used) so that any TLS handshake errors would be propagated back to the caller, instead of an error saying the gRPC context deadline has passed.

",,G-DazWilkin,mastersingh24,sykesm,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzmgn:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),G-DazWilkin,mastersingh24,sykesm,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"11/Aug/18 9:56 PM;yacovm;[~sykesm] not sure if this qualifies as a Hygiene item...  but FAB-11122 (remove the event hub) and FAB-11445 (Chaincode image should be built at time of install) were also labeled Hygiene so I figured this can also be qualified as such.;;;","23/Jan/20 7:32 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
expect more common Endorsement Policy description,FAB-11557,32767,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,mallocpie,mallocpie,13/Aug/18 5:12 AM,23/Jan/20 7:32 AM,28/Oct/23 3:03 AM,23/Jan/20 7:32 AM,,,,,,,,,,,fabric-peer,,,,0,endorsement,stale-item,,,,"There are two kinds of  endorsement policy descriptions,  EXPR(E[, E...]) expressions in cli and n-of identities strategy in sdk. But when a new participant joins in a channel, the endorsement policy seems out of date, and we will have to propose a new transaction to upgrade chaincode config,  more participants means  higher complexity. More often, in some scenes, we just want to get more than 1/2 or 2/3 votes, so I think current endorsement policy is not flexible.

Some features like distinguished user levels or dynamic set  or some special symbols (not affected by participants join or quit)  can be considered ? For example, we assume A as a set of all organizations and B as a set of some organizations (admin organizations of channels), may be policy is 2/3 agreements from A and all agreements from B. Then when another organization joins in,  it will join set A automatically and the endorsement policy can keep using.",,mallocpie,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Yes,Unset,,,,,No,,Unset,No,,,"1|hzzmh3:",,,,Yes,Unset,,,(Please add steps to reproduce),,Yes,,,,,,Unset,,Unset,,(Please add usage information),mallocpie,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 7:32 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Behave test fails in Gossip and Orderer tests due to Assertion error.,FAB-11558,32768,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,latitiah,sambhavdutt,sambhavdutt,13/Aug/18 8:06 AM,19/Mar/19 8:13 PM,28/Oct/23 3:03 AM,01/Sep/18 12:03 AM,v1.3.0,,,,,v1.3.0,,,,,fabric-quality,,,,0,ci-failure,,,,,"Gossip feature tests and Orderer service fail in behave tests, The errors are copied below

{code:java}
gossip.Gossip Service.[FAB-4682] In leader-selection, a non-leader peer, that joins an already-active channel--is expected to have all the blocks eventually.

Failing step: Then a user receives a success response of 940 from ""peer1.org2.example.com"" ... failed in 0.001s
Location: gossip.feature:407
Assertion Failed: Expected response was 940; received 1000
When a user queries on the chaincode named ""mycc"" with args [""query"",""a""] on ""peer1.org2.example.com"" ... passed in 26.049s
    Then a user receives a success response of 940 from ""peer1.org2.example.com"" ... failed in 0.001s
    When a user invokes on the chaincode named ""mycc"" with args [""invoke"",""a"",""b"",""40""] on ""peer1.org2.example.com"" ... skipped in 0.000s
    And I wait ""5"" seconds ... skipped in 0.000s
    And a user queries on the chaincode named ""mycc"" with args [""query"",""a""] on ""peer1.org2.example.com"" ... skipped in 0.000s
    Then a user receives a success response of 900 from ""peer1.org2.example.com"" ... skipped in 0.000s
{code}


{code:java}
orderer.Orderer Service.FAB-3859: Message Sizes with Configuration Tweaks -- @1.1 
Failing step: Then a user receives a response containing a value of length 1048576 ... failed in 0.000s
Location: orderer.feature:148
Assertion Failed: Expected response to be of length 1048576; received length 3; Result: """"
@daily
  Scenario Outline: FAB-3859: Message Sizes with Configuration Tweaks -- @1.1 
    Given the ORDERER_ABSOLUTEMAXBYTES environment variable is 20 MB ... passed in 0.001s
    And the ORDERER_PREFERREDMAXBYTES environment variable is 2 MB ... passed in 0.000s
    And the KAFKA_MESSAGE_MAX_BYTES environment variable is 2 MB ... passed in 0.000s
    And the KAFKA_REPLICA_FETCH_MAX_BYTES environment variable is 2 MB ... passed in 0.000s
    And the KAFKA_REPLICA_FETCH_RESPONSE_MAX_BYTES environment variable is 20 MB ... passed in 0.000s
    Given I have a bootstrapped fabric network of type kafka ... passed in 28.022s
    And I use the NodeJS SDK interface ... passed in 85.261s
    When an admin sets up a channel named ""configsz"" ... passed in 49.365s
    And an admin deploys chaincode at path ""github.com/hyperledger/fabric/examples/chaincode/go/map"" with args [""init""] with name ""mapIt"" on channel ""configsz"" ... passed in 60.799s
    When a user invokes on the channel ""configsz"" using chaincode named ""mapIt"" with random args [""put"",""g"",""{random_value}""] of length 1048576 ... passed in 4.070s
    And I wait ""10"" seconds ... passed in 10.010s
    And a user queries on the channel ""configsz"" using chaincode named ""mapIt"" for the random key with args [""get"",""g""] on ""peer0.org1.example.com"" ... passed in 3.685s
    Then a user receives a response containing a value of length 1048576 ... failed in 0.000s
    And a user receives a response with the random value ... skipped in 0.000s
{code}

*Build Log*

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-daily-behave-master-x86_64/1/

https://jenkins.hyperledger.org/view/Daily/job/fabric-test-daily-behave-master-x86_64/1/consoleFull",,latitiah,rameshthoomu,sambhavdutt,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,474f9d2c686dc0b2ead57fd312cc80b5a2371bad,Unset,No,,,"1|hzzmhb:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),latitiah,rameshthoomu,sambhavdutt,scottz,,,,,,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,true,"01/Sep/18 12:02 AM;sambhavdutt;The orderer and gossip tests are passing from several builds in the daily behave tests.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Declare explicit dependency of ledger on chaincode lifecycle,FAB-11559,32769,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,manish-sethi,manish-sethi,manish-sethi,13/Aug/18 10:17 AM,30/Oct/18 11:27 PM,28/Oct/23 3:03 AM,30/Oct/18 11:27 PM,,,,,,v1.4.0,,,,,fabric-ledger,,,,0,,,,,,"Some of the functions of ledger depends on chaincode lifecycle. These functions include the following
 * Fetching collection configuration (e.g., BlockToLive for purging private data)
 * Maintaining collection configuration history (required by gossip to decide the eligibility of a peer to receive private data for a collection)
 * Ledger In ledger code many places the assumption is made about how lscc persists its data
 * Listening for chaincode lifecycle events to create indexes in underlying db
 * Checking the existence of a collection for validating a simulation request

In the current code, these functions have tight coupling with lscc storage. Now, with new lifecycle, it's better to decouple these functions from how lifecycle code decided to persist it's information in the form of key-values.",,manish-sethi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-11237,,,No,,Unset,No,,,"1|hzzmhj:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),manish-sethi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Introduce query capability on committed + uncommitted state,FAB-11560,32770,32769,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,manish-sethi,manish-sethi,manish-sethi,13/Aug/18 10:26 AM,24/Aug/18 4:19 AM,28/Oct/23 3:03 AM,24/Aug/18 4:19 AM,,,,,,v1.3.0,,,,,fabric-ledger,,,,0,,,,,,"Chaincode lifecycle will need a query executor that operates on the committed + final state update (that needs to be committed as a result of block processing).

This in intended to be used by lifecycle code for serving the invocation about the chaincode/collection related information",,manish-sethi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzmhr:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),manish-sethi,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"14/Aug/18 8:43 AM;manish-sethi;https://gerrit.hyperledger.org/r/#/c/25459/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Enhance StateListener interface to take post commit query executor,FAB-11561,32771,32769,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,manish-sethi,manish-sethi,manish-sethi,13/Aug/18 10:30 AM,24/Aug/18 4:19 AM,28/Oct/23 3:03 AM,24/Aug/18 4:19 AM,,,,,,v1.3.0,,,,,fabric-ledger,,,,0,,,,,,"At present, this enhancement is intended to be used by lifecycle code but this could be useful in general for other StateListeners as well",,manish-sethi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzmhz:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),manish-sethi,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"14/Aug/18 8:44 AM;manish-sethi;https://gerrit.hyperledger.org/r/#/c/25461/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Introduce an interface 'DeployedCCInfoProvider' for getting information from lifecycle code,FAB-11562,32772,32769,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,manish-sethi,manish-sethi,manish-sethi,13/Aug/18 10:33 AM,11/Sep/18 5:44 AM,28/Oct/23 3:03 AM,24/Aug/18 10:54 PM,,,,,,v1.3.0,,,,,fabric-ledger,,,,0,,,,,,This interface is expected to be implemented by lifecycle code and ledger is expected to declare an explicit dependency on this,,manish-sethi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzmi7:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),manish-sethi,,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,main,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,lindluni-patch-1,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,mergify/bp/release-2.2/pr-3750,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,mergify/bp/release-2.2/pr-4374,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,mergify/bp/release-2.5/pr-3782,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,mergify/bp/release-2.4/pr-3646,true,"14/Aug/18 8:45 AM;manish-sethi;https://gerrit.hyperledger.org/r/#/c/25463/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Implement interface 'DeployedCCInfoProvider',FAB-11563,32773,32769,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,manish-sethi,manish-sethi,manish-sethi,13/Aug/18 10:37 AM,28/Aug/18 12:41 PM,28/Oct/23 3:03 AM,28/Aug/18 12:41 PM,,,,,,v1.3.0,,,,,fabric-ledger,,,,0,,,,,,Implement the interface  'DeployedCCInfoProvider' based on the current logic that is based on lscc namespace. This helps ledger to use this as a dependency and this can be implemented differently based on the new key-value design of the lifecycle,,manish-sethi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzmif:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),manish-sethi,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"14/Aug/18 8:45 AM;manish-sethi;https://gerrit.hyperledger.org/r/#/c/25465/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove lscc reference from ledger/confighistory package,FAB-11564,32774,32769,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,manish-sethi,manish-sethi,manish-sethi,13/Aug/18 10:39 AM,21/Oct/18 10:07 PM,28/Oct/23 3:03 AM,21/Oct/18 10:07 PM,,,,,,v1.3.0,,,,,fabric-ledger,,,,0,,,,,,,,manish-sethi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzmin:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),manish-sethi,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"14/Aug/18 8:46 AM;manish-sethi;https://gerrit.hyperledger.org/r/#/c/25467/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove lscc/collectionstore reference from pvtdata policy (BTL) code,FAB-11565,32775,32769,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,manish-sethi,manish-sethi,manish-sethi,13/Aug/18 10:41 AM,21/Oct/18 11:01 PM,28/Oct/23 3:03 AM,21/Oct/18 11:01 PM,,,,,,v1.3.0,,,,,fabric-ledger,,,,0,,,,,,,,manish-sethi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzmiv:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),manish-sethi,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"14/Aug/18 8:46 AM;manish-sethi;https://gerrit.hyperledger.org/r/#/c/25469/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove lscc reference for listening lifecycle events in cceventmgmt package,FAB-11566,32776,32769,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,manish-sethi,manish-sethi,manish-sethi,13/Aug/18 10:44 AM,25/Oct/18 2:40 AM,28/Oct/23 3:03 AM,25/Oct/18 2:40 AM,,,,,,v1.3.0,,,,,fabric-ledger,,,,0,,,,,,,,manish-sethi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzmj3:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),manish-sethi,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"14/Aug/18 8:47 AM;manish-sethi;https://gerrit.hyperledger.org/r/#/c/25471/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove lscc/scc reference for query current chaincode status from package ledger/cceventmgmt,FAB-11567,32777,32769,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,manish-sethi,manish-sethi,manish-sethi,13/Aug/18 10:46 AM,27/Oct/18 12:06 AM,28/Oct/23 3:03 AM,21/Oct/18 11:02 PM,,,,,,v1.3.0,,,,,fabric-ledger,,,,0,,,,,,,,manish-sethi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzmjb:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),manish-sethi,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"14/Aug/18 8:47 AM;manish-sethi;https://gerrit.hyperledger.org/r/#/c/25473/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove lscc reference from txsimulation for validating collection name,FAB-11568,32778,32769,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,manish-sethi,manish-sethi,manish-sethi,13/Aug/18 10:47 AM,27/Oct/18 6:02 AM,28/Oct/23 3:03 AM,27/Oct/18 6:02 AM,,,,,,v1.3.0,,,,,fabric-ledger,,,,0,,,,,,,,manish-sethi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzmjj:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),manish-sethi,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"14/Aug/18 9:00 AM;manish-sethi;https://gerrit.hyperledger.org/r/#/c/25475/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fix public update + sideDB update to combineUpdate,FAB-11569,32779,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,baohua,baohua,baohua,13/Aug/18 2:03 PM,13/Aug/18 10:35 PM,28/Oct/23 3:03 AM,13/Aug/18 10:35 PM,,,,,,v1.3.0,,,,,fabric-ledger,,,,0,,,,,,"Currently, when submitting the commits of both public updates and sideDB updates into the database, they are done in the same `s.VersionedDB.ApplyUpdates(updates.PubUpdates.UpdateBatch, height)` call.

However, the variable in use is PubUpdates, which actually includes both pub and private data.

Hence after discussion with manish, a quick fix to this is to introduce a combined updates result.",,baohua,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzmjr:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),baohua,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"13/Aug/18 10:35 PM;denyeart;https://gerrit.hyperledger.org/r/#/c/25477/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Endorsing error(for 2 org) using Service Discovery,FAB-11570,32780,,Bug,Closed,FAB,Fabric,software,denyeart,,,Low,Done,rickr,nedoli,nedoli,13/Aug/18 4:23 PM,20/Sep/18 6:37 AM,28/Oct/23 3:03 AM,20/Sep/18 6:37 AM,v1.2.0,,,,,v1.3.0,,,,,fabric-sdk-java,,,,0,,,,,,"gerrit https://gerrit.hyperledger.org/r/#/c/25701/

I instantiated the chaincode with below policy.

AND ('Org1MSP.member', 'Org2MSP.member')

 

And then, I did call xxx.sendTransactionProposalToEndorsers() and I got the error as below.

""""Received invalid transaction event.""""

 

I found the HFClient get only one peer info using Servic Discovery. (required is 1. )

 

Does SDK support only OR policy??

 

Thank you.",,denyeart,nedoli,rickr,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"14/Aug/18 8:15 PM;nedoli;trace.zip;https://jira.hyperledger.org/secure/attachment/15575/trace.zip",,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzmjz:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,nedoli,rickr,yacovm,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"13/Aug/18 7:09 PM;rickr;Need to get trace level logging probably from the start to the point where your getting the single endorsement;;;","14/Aug/18 8:41 AM;nedoli;Network is below and using EndorsementSelector.ENDORSEMENT_SELECTION_RANDOM
 * 2 org and 2 peer per org - peer1.org1.cello, peer2.org1.cello, peer2.org2.cello, peer2.org2.cello

 

I found the some wrong in trace log.

SDK found the 4 peer using Service Discovery. Required is 2.

But, SDK send proposal to peers in same org(Org2).  peer1.org2.cello, peer2.org2.cello.

I think that SDK have to send each peer in org. e.g> peer1.org1.cello, peer2.org2.cello.

[08-14 08:23:44:546] TRACE [org.hyperledger.fabric.sdk.Channel] - Attempts: 1, chaincode discovery state: SDChaindcode(name: distributeddb, layouts: [{color:#de350b}SDLayout(required: 2, endorsed:0, endorsers: [SDEndorser-Org2MSP-peer1.org2.cello:9051, SDEndorser-Org2MSP-peer2.org2.cello:10051, SDEndorser-Org1MSP-peer1.org1.cello:7051, SDEndorser-Org1MSP-peer2.org1.cello:8051]){color}])
 [08-14 08:23:44:546] TRACE [org.hyperledger.fabric.sdk.Channel] - Sending block event 'Channel c000 eventqueue got block event with block number: 42 for channel: c000, from Peer: peer2.org2.cello:10051' to block listener BLOCK_LISTENER_HANDLEb7ddee22-0e19-4ba8-b4af-9279dc8128efBLOCK_LISTENER_HANDLE
 [08-14 08:23:44:546] DEBUG [org.hyperledger.fabric.sdk.Channel] - is peer true, is filtered: false
 [08-14 08:23:44:546] TRACE [org.hyperledger.fabric.sdk.Channel] - Channel c000, chaincode distributeddb attempts: 1 requested endorsements: {color:#de350b}SDEndorser-Org2MSP-peer2.org2.cello:10051SDEndorser-Org2MSP-peer1.org2.cello:9051{color}

{color:#de350b}....{color}

{color:#172b4d}[08-14 08:23:44:660] TRACE [org.hyperledger.fabric.sdk.Channel] - {color}{color:#de350b}Channel c000, chaincode distributeddb attempts 1 good endorsements: peer2.org2.cello:10051{color}{color:#172b4d}
 [08-14 08:23:44:660] TRACE [org.hyperledger.fabric.sdk.Channel] - Channel c000, chaincode distributeddb attempts 1 good endorsements: peer1.org2.cello:9051{color}
 [08-14 08:23:44:660] DEBUG [org.hyperledger.fabric.sdk.Channel] - Channel c000, chaincode distributeddb got all needed endorsements: Peer peer1.org2.cello:9051 url: grpcs://peer1.org2.cello:9051, Peer peer2.org2.cello:10051 url: grpcs://peer2.org2.cello:10051
 [08-14 08:23:44:661] INFO [HLFabricTest] - [HLFABRIC] Successful transaction proposal response Tx ID: d60baf431e06d66e077735ff85d19c648095028e8926bdb0b54b5f8b050d653b from peer peer1.org2.cello:9051
 [08-14 08:23:44:661] INFO [HLFabricTest] - [HLFABRIC] Successful transaction proposal response Tx ID: d60baf431e06d66e077735ff85d19c648095028e8926bdb0b54b5f8b050d653b from peer peer2.org2.cello:10051
 
 ...

{color:#172b4d}Exception in thread ""main"" java.util.concurrent.ExecutionException: org.hyperledger.fabric.sdk.exception.TransactionEventException: Received invalid transaction event. Transaction ID b8e2b4cb8099eed37cd9a2d6104fbfc6f094e8d0c1a38af521b44f8ecd1344d4 status 9Exception in thread ""main"" java.util.concurrent.ExecutionException: org.hyperledger.fabric.sdk.exception.TransactionEventException: Received invalid transaction event. Transaction ID b8e2b4cb8099eed37cd9a2d6104fbfc6f094e8d0c1a38af521b44f8ecd1344d4 status 9 at java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:357) at java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1895) at HLFabricTest.main(HLFabricTest.java:218)Caused by: org.hyperledger.fabric.sdk.exception.TransactionEventException: Received invalid transaction event. Transaction ID b8e2b4cb8099eed37cd9a2d6104fbfc6f094e8d0c1a38af521b44f8ecd1344d4 status 9 at org.hyperledger.fabric.sdk.Channel$TL.lambda$fire$2(Channel.java:5599) at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) at java.lang.Thread.run(Thread.java:748){color}

 ;;;","14/Aug/18 9:51 AM;rickr;I think the SDK is doing what is expected given the data from discovery. 
[SDLayout(required: 2, endorsed:0, endorsers: [SDEndorser-Org2MSP-peer1.org2.cello:9051, SDEndorser-Org2MSP-peer2.org2.cello:10051, SDEndorser-Org1MSP-peer1.org1.cello:7051, SDEndorser-Org1MSP-peer2.org1.cello:8051])])

That's saying any two from that list is ok.  To have what you wanted one from each organization there should have been two layouts requiring two with each layount haveng one endorser/peer from each organization. ;;;","14/Aug/18 9:56 AM;nedoli;How do I separate layout?? I don't know the solution for AND policy.

OR Policy seems to provide like what you say.

 

AND Policy is..

""Layouts"": [""Layouts"": [ \{ ""quantities_by_group"": { ""G0"": 1, ""G1"": 1 } } ]

 

OR Policy is...

""Layouts"": [""Layouts"": [ \{ ""quantities_by_group"": { ""G0"": 1 } }, \{ ""quantities_by_group"": { ""G1"": 1 } } ];;;","14/Aug/18 10:15 AM;rickr;Try using the indpendent discovery tool [~yacovm] talked about following the rocket chat link to get an indpendent view ->

https://chat.hyperledger.org/channel/fabric-sdk-java?msg=ADdi6mJin9BjRSfwQ
;;;","14/Aug/18 10:34 AM;nedoli;As you know, ""discover peers"" show just all peer in channel.

It seems that there is no function for re-org layout.;;;","14/Aug/18 10:37 AM;rickr;I'm not familar with the tool I was hoping it would also report the layout :(
;;;","14/Aug/18 10:41 AM;rickr;https://hyperledger-fabric.readthedocs.io/en/release-1.2/discovery-cli.html#endorsers-query
;;;","14/Aug/18 12:07 PM;nedoli;I'm sorry bothering you.

There is no information for re-org layout. just query.... :(;;;","14/Aug/18 4:32 PM;yacovm;[~nedoli] can you run the *discover endorsers* command like in the tutorial Rick linked and post here the output?;;;","14/Aug/18 4:37 PM;nedoli;[{
		""Chaincode"": ""distributeddb"",
		""EndorsersByGroups"": {
			""G0"": [{
					""MSPID"": ""Org1MSP"",
					""LedgerHeight"": 47,
					""Endpoint"": ""peer2.org1.cello:8051"",
					""Identity"": ""-----BEGIN CERTIFICATE-----\nMIICCDCCAa6gAwIBAgIRAI02gS/GLEzdE9Y6Ya7QqZMwCgYIKoZIzj0EAwIwZzEL\nMAkGA1UEBhMCVVMxEzARBgNVBAgTCkNhbGlmb3JuaWExFjAUBgNVBAcTDVNhbiBG\ncmFuY2lzY28xEzARBgNVBAoTCm9yZzEuY2VsbG8xFjAUBgNVBAMTDWNhLm9yZzEu\nY2VsbG8wHhcNMTgwNjE5MDcwMzQyWhcNMjgwNjE2MDcwMzQyWjBVMQswCQYDVQQG\nEwJVUzETMBEGA1UECBMKQ2FsaWZvcm5pYTEWMBQGA1UEBxMNU2FuIEZyYW5jaXNj\nbzEZMBcGA1UEAxMQcGVlcjIub3JnMS5jZWxsbzBZMBMGByqGSM49AgEGCCqGSM49\nAwEHA0IABNfsvEse/4BukcwGb1ljYCb5wGZA4y5EBe+6vRyrPXP2i4DW8asUneJx\nvOUtJz47JU/vRFU/8mnZxKOil7w/rgqjTTBLMA4GA1UdDwEB/wQEAwIHgDAMBgNV\nHRMBAf8EAjAAMCsGA1UdIwQkMCKAIH8aE5blyDL0J29PBHh5ptHo69RFYlqj1DuU\nKn1a+wxLMAoGCCqGSM49BAMCA0gAMEUCIQCIIHrdnPAAcJp7HVmSQAmUuKgoHX7b\n/QVJSS9SkdymTwIgC+8uqk1mFRuXU8Lgs4ppcRPMFseEHJU9b7LfZ4nYJ5Y=\n-----END CERTIFICATE-----\n"",
					""Chaincodes"": null
				}, {
					""MSPID"": ""Org1MSP"",
					""LedgerHeight"": 47,
					""Endpoint"": ""peer1.org1.cello:7051"",
					""Identity"": ""-----BEGIN CERTIFICATE-----\nMIICCDCCAa6gAwIBAgIRANyXi95Feb3Ydr3SXqW1puYwCgYIKoZIzj0EAwIwZzEL\nMAkGA1UEBhMCVVMxEzARBgNVBAgTCkNhbGlmb3JuaWExFjAUBgNVBAcTDVNhbiBG\ncmFuY2lzY28xEzARBgNVBAoTCm9yZzEuY2VsbG8xFjAUBgNVBAMTDWNhLm9yZzEu\nY2VsbG8wHhcNMTgwNjE5MDcwMzQyWhcNMjgwNjE2MDcwMzQyWjBVMQswCQYDVQQG\nEwJVUzETMBEGA1UECBMKQ2FsaWZvcm5pYTEWMBQGA1UEBxMNU2FuIEZyYW5jaXNj\nbzEZMBcGA1UEAxMQcGVlcjEub3JnMS5jZWxsbzBZMBMGByqGSM49AgEGCCqGSM49\nAwEHA0IABJind7UNiWtWfadPhBoPGqt1euw9UFSODxOy64QGW9TaY/ahn0/LhQ0U\nlL16zz9zzHepKhLb1C+lIl2hzOB5CCejTTBLMA4GA1UdDwEB/wQEAwIHgDAMBgNV\nHRMBAf8EAjAAMCsGA1UdIwQkMCKAIH8aE5blyDL0J29PBHh5ptHo69RFYlqj1DuU\nKn1a+wxLMAoGCCqGSM49BAMCA0gAMEUCIQDlzzd5tCfBRdwF2JS7GGqEYEb/5GxU\nU0YHRcUs5VJp3AIgJ3XdmBdlIf4ft9K35wWlmHr04OOiRIO9d/sT8xkKNtQ=\n-----END CERTIFICATE-----\n"",
					""Chaincodes"": null
				}
			],
			""G1"": [{
					""MSPID"": ""Org2MSP"",
					""LedgerHeight"": 47,
					""Endpoint"": ""peer1.org2.cello:9051"",
					""Identity"": ""-----BEGIN CERTIFICATE-----\nMIICBzCCAa6gAwIBAgIRANZU7D63Q+HIFBU1ewx5fFMwCgYIKoZIzj0EAwIwZzEL\nMAkGA1UEBhMCVVMxEzARBgNVBAgTCkNhbGlmb3JuaWExFjAUBgNVBAcTDVNhbiBG\ncmFuY2lzY28xEzARBgNVBAoTCm9yZzIuY2VsbG8xFjAUBgNVBAMTDWNhLm9yZzIu\nY2VsbG8wHhcNMTgwNjE5MDcwMzQyWhcNMjgwNjE2MDcwMzQyWjBVMQswCQYDVQQG\nEwJVUzETMBEGA1UECBMKQ2FsaWZvcm5pYTEWMBQGA1UEBxMNU2FuIEZyYW5jaXNj\nbzEZMBcGA1UEAxMQcGVlcjEub3JnMi5jZWxsbzBZMBMGByqGSM49AgEGCCqGSM49\nAwEHA0IABJ8ENFHBEiu22KzCE3QPoAJssv8LuC4Q0IzUbxfyRuTEYz6zoQ8AB4V2\njwCH/PRWq1BMDe4fdg8MvHGonUc3TjejTTBLMA4GA1UdDwEB/wQEAwIHgDAMBgNV\nHRMBAf8EAjAAMCsGA1UdIwQkMCKAIJUP0Y5rbb7X4BB7ehfUQytWwgNp5FI1Apvi\nQPQY74rOMAoGCCqGSM49BAMCA0cAMEQCIHJ8rjCIqKUTlS+HbKpjaV4BKWHZaTV+\nJuu270uxzmTnAiB97XxOh48ybVB3fd9bW6U3lK1X89p/tzZhP/qjQdkPzA==\n-----END CERTIFICATE-----\n"",
					""Chaincodes"": null
				}, {
					""MSPID"": ""Org2MSP"",
					""LedgerHeight"": 47,
					""Endpoint"": ""peer2.org2.cello:10051"",
					""Identity"": ""-----BEGIN CERTIFICATE-----\nMIICBjCCAa2gAwIBAgIQWi4tGw/TjhIlYCaKAumfdDAKBggqhkjOPQQDAjBnMQsw\nCQYDVQQGEwJVUzETMBEGA1UECBMKQ2FsaWZvcm5pYTEWMBQGA1UEBxMNU2FuIEZy\nYW5jaXNjbzETMBEGA1UEChMKb3JnMi5jZWxsbzEWMBQGA1UEAxMNY2Eub3JnMi5j\nZWxsbzAeFw0xODA2MTkwNzAzNDJaFw0yODA2MTYwNzAzNDJaMFUxCzAJBgNVBAYT\nAlVTMRMwEQYDVQQIEwpDYWxpZm9ybmlhMRYwFAYDVQQHEw1TYW4gRnJhbmNpc2Nv\nMRkwFwYDVQQDExBwZWVyMi5vcmcyLmNlbGxvMFkwEwYHKoZIzj0CAQYIKoZIzj0D\nAQcDQgAEiwRMDroOkEfH46TYKRPgJveAx0Fg62mGPOSC8S36jLAUCneQycDWw5gz\nwOPrKiCbLIj2p59foJAxdlmnFZTjKaNNMEswDgYDVR0PAQH/BAQDAgeAMAwGA1Ud\nEwEB/wQCMAAwKwYDVR0jBCQwIoAglQ/RjmttvtfgEHt6F9RDK1bCA2nkUjUCm+JA\n9Bjvis4wCgYIKoZIzj0EAwIDRwAwRAIgEm8XgWSqhQA0O9nNe5/X7HeYAdNOlhKl\n4m5iOff1epQCIAzInVMfH7uVLUDjQc4WTJ9dqGIMGvJsAp979aKaB5Wy\n-----END CERTIFICATE-----\n"",
					""Chaincodes"": null
				}
			]
		},
		""Layouts"": [{
				""quantities_by_group"": {
					""G0"": 1,
					""G1"": 1
				}
			}
		]
	}
];;;","14/Aug/18 4:41 PM;yacovm;[~rickr] - looks like there is only 1 layout and you need 1 of each org, so doesn't look like a peer issue ;) 

[~nedoli] - thanks. We should wait for Rick to see if he has any idea what could be the problem.;;;","14/Aug/18 7:39 PM;rickr;Can you get the full logs from the time you initialize the channel to the discovery  zip them up .
;;;","14/Aug/18 8:16 PM;nedoli;I did upload. :)
Thank you.;;;","21/Aug/18 9:17 PM;rickr;[~nedoli] *if* I get a fix in 1.2.1-SNAPSHOT  can you test anytime soon ?;;;","22/Aug/18 9:59 AM;nedoli;[~rickr] where do I get snapshot? I can't find it.;;;","22/Aug/18 7:07 PM;rickr;Not available yet.  That's why i said if    I  can't merge my own changes so the processes of getting any code in takes forever and a day  
https://gerrit.hyperledger.org/r/#/c/25701/
;;;","22/Aug/18 10:00 PM;rickr;If you're inclined you can get that gerrit patch  Download -> Checkout  build and run;;;","28/Aug/18 1:41 AM;rickr;It's published to 1.2.1-SNAPSHOT

You'll need to add to your host file any peers/orders to resolve the localhost IF you're using docker;;;","28/Aug/18 1:46 AM;rickr;for snapshot you need to add this to your pom.xml 
<repositories>
        <repository>
            <id>snapshots-repo</id>
            <url>https://oss.sonatype.org/content/repositories/snapshots</url>
            <releases>
                <enabled>false</enabled>
            </releases>
            <snapshots>
                <enabled>true</enabled>
            </snapshots>
        </repository>
    </repositories>;;;","20/Sep/18 6:37 AM;denyeart;Looks like it is merged in both master and release-1.2.

If something else remains, please re-open.;;;",,,,,,,,,,,,
Improve peer gossip init,FAB-11571,32782,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,baohua,baohua,baohua,13/Aug/18 5:23 PM,21/Aug/18 8:37 PM,28/Oct/23 3:03 AM,21/Aug/18 8:36 PM,,,,,,v1.3.0,,,,,fabric-peer,,,,0,,,,,,"This patchset cleans up the peer start process by moving the gossip
service separately in a single method.

There will be several following-up patchsets to improve the entire start
process of the peer node. Keep each change small and focused.
",,baohua,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11536,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzmk7:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),baohua,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update Kafka client library,FAB-11573,32786,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,mastersingh24,mastersingh24,mastersingh24,13/Aug/18 8:11 PM,21/Aug/19 5:58 PM,28/Oct/23 3:03 AM,18/Aug/18 5:07 AM,,,,,,v1.3.0,,,,,fabric-orderer,,,,0,,,,,,We use the Shopify Sarama package as the embedded client for communicating with Kafka clusters.  As part of routine maintenance we need to stay current,,mastersingh24,sanchezl,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11574,,,,,,,,,,,,,,,,,,,FAB-11977,FAB-16366,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzmkn:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),mastersingh24,sanchezl,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"16/Aug/18 4:35 AM;mastersingh24;https://gerrit.hyperledger.org/r/25585;;;","13/Sep/18 10:20 AM;sanchezl;We should back port to older fabric releases to pick up fixes in the client library. Specifically [sarama issue #1021|https://github.com/Shopify/sarama/issues/1021], for example, is needed after a Kafka version upgrade.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Kafka orderer needs option to create topics when auto create is disabled,FAB-11574,32787,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,mastersingh24,mastersingh24,mastersingh24,13/Aug/18 8:16 PM,18/Aug/18 5:07 AM,28/Oct/23 3:03 AM,18/Aug/18 5:07 AM,,,,,,v1.3.0,,,,,fabric-orderer,,,,0,,,,,,"The Kafka orderer currently relies on having the broker property `auto.create.topics.enable` set to true (which is the default).  Kafka best practices recommend setting this property to false for production deployments.

As people start to deploy the Kafka orderer in production, they may choose to use one of the hosted Kafka services (such as IBM Message Hub or Confluent's managed service).  Following best practices, both of these services set `auto.create.topics.enable`  to false.

Kafka nows support an AdminClient API which allows topics to be created.  In order to implement this story, we will leverage that API.",,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11573,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzmkv:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"16/Aug/18 4:35 AM;mastersingh24;https://gerrit.hyperledger.org/r/25581;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Missing collection config error not clear,FAB-11575,32788,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,denyeart,denyeart,denyeart,13/Aug/18 8:29 PM,24/Aug/18 7:32 AM,28/Oct/23 3:03 AM,24/Aug/18 7:32 AM,,,,,,v1.2.1,v1.3.0,,,,fabric-ledger,,,,0,,,,,,"Fix the error message ""collection config not define for namespace"".",,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwtnj:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,release-1.2,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"13/Aug/18 8:33 PM;denyeart;https://gerrit.hyperledger.org/r/#/c/25483/ master (merged)
https://gerrit.hyperledger.org/r/#/c/25833/ release-1.2 (merged);;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Avoid Exposing Vulnerable Zookeeper Version,FAB-11576,32789,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,vramaiitkgp,vramaiitkgp,vramaiitkgp,13/Aug/18 8:47 PM,25/Aug/18 12:40 AM,28/Oct/23 3:03 AM,25/Aug/18 12:39 AM,,,,,,,,,,,fabric-build,,,,0,,,,,,"The version of Kafka that Hyperledger Fabric uses is dependent on Zookeeper version 3.4.9, which has the following security vulnerability: [https://www.cvedetails.com/cve/CVE-2018-8012/.|https://www.cvedetails.com/cve/CVE-2018-8012/]

If we run Fabric, especially within enterprises, we may get flagged by periodic security scanners.

To limit our scope to NL, we can mitigate the effects of this vulnerability by preventing exposure of Zookeeper service ports (in the containers) to external machines, and instead just expose them to the Kafka containers. This will not impact functionality, and will prevent the service from getting flagged as vulnerable.",,dongming,vramaiitkgp,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-6742,,,No,,Unset,No,,,"1|hzzml3:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),dongming,vramaiitkgp,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,true,"13/Aug/18 10:43 PM;vramaiitkgp;https://gerrit.hyperledger.org/r/c/25489/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[fabric-samples] Balance transfer fails to install Chaincode,FAB-11577,32799,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yuki-kon,yuki-kon,yuki-kon,14/Aug/18 3:51 AM,11/Sep/18 12:43 AM,28/Oct/23 3:03 AM,11/Sep/18 12:43 AM,v1.2.0,,,,,v1.3.0,,,,,,,,,0,,,,,,"Balance transfer fails to install Chaincode since a variable “tx_id” is not defined.
We need to update the sample code to install Chaincode correctly.

{noformat}
(snip)
[2018-08-13 17:17:32.544] [ERROR] install-chaincode - ReferenceError: tx_id is not defined
    at Object.installChaincode (/opt/gopath/src/github.com/hyperledger/fabric-samples/balance-transfer/app/install-chaincode.js:33:9)
    at <anonymous>
[2018-08-13 17:17:32.544] [ERROR] install-chaincode - Failed to install due to:ReferenceError: tx_id is not defined
(node:18215) UnhandledPromiseRejectionWarning: Error: Failed to install due to:ReferenceError: tx_id is not defined
    at Object.installChaincode (/opt/gopath/src/github.com/hyperledger/fabric-samples/balance-transfer/app/install-chaincode.js:86:9)
    at <anonymous>
(node:18215) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)
(node:18215) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.
{noformat}
",,yuki-kon,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,bfdc0b6e7a7caab2174c4b05779cf3cbc9b73cb5,Unset,No,,,"1|hzzmmf:",,,,Unset,Unset,,,"- Clone the fabric-samples repository
- cd balance-transfer
- Run runApp.sh
- Run testAPI.sh",,Unset,,,,,,Unset,,Unset,,(Please add usage information),yuki-kon,,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-6.11.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/tough-cookie-4.1.3,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/semver-6.3.1,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/grpc/grpc-js-1.8.17,dependabot/go_modules/high-throughput/application-go/google.golang.org/grpc-1.53.0,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/word-wrap-1.2.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-and-fabric-network-7.2.4,dependabot/go_modules/asset-transfer-basic/application-go/google.golang.org/grpc-1.53.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"14/Aug/18 5:39 AM;yuki-kon;CR is posted here. https://gerrit.hyperledger.org/r/#/c/25507/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
ChannelEventHub reports DuplicatePeer error when PTE is run with Mutual TLS enabled,FAB-11578,32801,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,dongming,vramaiitkgp,vramaiitkgp,14/Aug/18 4:03 AM,22/Aug/18 11:45 PM,28/Oct/23 3:03 AM,22/Aug/18 11:45 PM,,,,,,,,,,,fabric-build,,,,0,,,,,,"Running PTE in constant mode with MutualTLS produces errors of the following kind:
{quote}info: [PTE 0 main]: stdout: info: [PTE 0 exec]: [Nid:chan:org:id=0:testorgschannel1:org1:0 channelAdd1Peer]

info: [PTE 0 main]: stdout: info: [PTE 1534185243791 util]: [getTLSCert] key: org1, subkey: peer1

info: [PTE 0 main]: stderr: error: [Channel.js]: Peer localhost:7061 already exists

info: [PTE 0 main]: stderr: error: [ChannelEventHub.js]: DuplicatePeer: Peer localhost:7061 already exists
 at Channel.addPeer (/opt/gopath/src/gerrit/fabric-test/tools/PTE/node_modules/fabric-client/lib/Channel.js:547:19)
 at channelAdd1Peer (/opt/gopath/src/gerrit/fabric-test/tools/PTE/pte-execRequest.js:858:33)
 at setTargetPeers (/opt/gopath/src/gerrit/fabric-test/tools/PTE/pte-execRequest.js:1092:9)
 at invokeValidation (/opt/gopath/src/gerrit/fabric-test/tools/PTE/pte-execRequest.js:1331:5)
 at postEventProc (/opt/gopath/src/gerrit/fabric-test/tools/PTE/pte-execRequest.js:1362:5)
 at EventRegistration.eh.registerBlockEvent [as onEvent] (/opt/gopath/src/gerrit/fabric-test/tools/PTE/pte-execRequest.js:1407:29)
 at Object.keys.forEach (/opt/gopath/src/gerrit/fabric-test/tools/PTE/node_modules/fabric-client/lib/ChannelEventHub.js:1094:14)
 at Array.forEach (<anonymous>)
 at ChannelEventHub._processBlockEvents (/opt/gopath/src/gerrit/fabric-test/tools/PTE/node_modules/fabric-client/lib/ChannelEventHub.js:1091:41)
 at ClientDuplexStream._stream.on (/opt/gopath/src/gerrit/fabric-test/tools/PTE/node_modules/fabric-client/lib/ChannelEventHub.js:357:11)

info: [PTE 0 main]: stderr: error: [ChannelEventHub.js]: ChannelEventHub has detected an error DuplicatePeer: Peer localhost:7061 already exists
{quote}
I tracked down this error to the following commit: [https://github.com/hyperledger/fabric-test/commit/133aed11560c0a098fd4b4eefa95c27cddf75e3e#diff-7453cb0420b7c76888b2560308a85159]

(The error doesn't appear with older commits.)

 ",,dongming,vramaiitkgp,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-2247,,,No,133aed11560c0a098fd4b4eefa95c27cddf75e3e,Unset,No,,,"1|hzzmmv:",,,,Unset,Unset,,,"Navigate to 'NL' folder and run the following to start a network:

    ./networkLauncher.sh -o 3 -x 6 -r 6 -p 2 -k 3 -z 3 -n 3 -t kafka -f test -w localhost -S enabled

Navigate to 'PTE' folder and drive a constant load:

    ./pte_driver.sh sampleccInputs/runCases-chan-create-MutualTLS.txt
    ./pte_driver.sh sampleccInputs/runCases-chan-join-MutualTLS.txt
    ./pte_driver.sh sampleccInputs/runCases-chan-install-MutualTLS.txt
    ./pte_driver.sh sampleccInputs/runCases-chan-instantiate-MutualTLS.txt
    ./pte_driver.sh sampleccInputs/runCases-constant-i1-MutualTLS.txt

The last command produces the errors mentioned above.",,Unset,,,,,,Unset,,Unset,,(Please add usage information),dongming,vramaiitkgp,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,true,"14/Aug/18 5:15 AM;dongming;in creating network, use option ""-S clientauth"" instead of ""-S enabled"", see README:
 * *TLS*: TLS setting for the test

 ** disabled: TLS is disabled
 ** serverauth: server authentication, TLS
 ** clientauth: client authentication, mutual TLS;;;","14/Aug/18 4:22 PM;vramaiitkgp;[~dongming]: sorry for using the wrong parameter. But I'm getting the same error with `clientauth`. The test eventually completes and generates a report, but it also drops the following kinds of errors before terminating:
{quote}info: [PTE 0 exec]: [Nid:chan:org:id=0:testorgschannel1:org2:0 channelAdd1Peer]
info: [PTE 1534230930617 util]: [getTLSCert] key: org2, subkey: peer1

info: [PTE 0 main]: stderr: error: [Channel.js]: Peer localhost:7063 already exists
/opt/gopath/src/gerrit/fabric-test/tools/PTE/node_modules/fabric-client/lib/Channel.js:551
 throw error;
 ^

DuplicatePeer: Peer localhost:7063 already exists
 at Channel.addPeer (/opt/gopath/src/gerrit/fabric-test/tools/PTE/node_modules/fabric-client/lib/Channel.js:547:19)
 at channelAdd1Peer (/opt/gopath/src/gerrit/fabric-test/tools/PTE/pte-execRequest.js:858:33)
 at setTargetPeers (/opt/gopath/src/gerrit/fabric-test/tools/PTE/pte-execRequest.js:1092:9)
 at invokeValidation (/opt/gopath/src/gerrit/fabric-test/tools/PTE/pte-execRequest.js:1331:5)
 at postEventProc (/opt/gopath/src/gerrit/fabric-test/tools/PTE/pte-execRequest.js:1362:5)
 at Timeout._onTimeout (/opt/gopath/src/gerrit/fabric-test/tools/PTE/pte-execRequest.js:1240:17)
 at ontimeout (timers.js:475:11)
 at tryOnTimeout (timers.js:310:5)
 at Timer.listOnTimeout (timers.js:270:5)

info: [PTE 0 main]: Child proc exited, procId=2 ,exit code=1
{quote}
 

 ;;;","14/Aug/18 9:19 PM;vramaiitkgp;Debugging revealed that 'peerList' in the following line is empty, so no peer gets removed from the channel. Subsequently, 'addPeer' fails because the peer already exists.

https://github.com/hyperledger/fabric-test/blob/master/tools/PTE/pte-execRequest.js#L1327

 

I updated the code to add 'removePeer' before 'addPeer' troughout the code. I don't see the error now. This probably isn't the ideal way to fix the issue (assuming this needs fixing and I'm not making any other mistake), but I'll let you decide that.

 

My patch: [https://gerrit.hyperledger.org/r/c/25525/];;;","15/Aug/18 2:21 AM;dongming;https://gerrit.hyperledger.org/r/#/c/25539/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
IBMBlockchain Docker Images cannot be started using user docker tag,FAB-11580,32803,,Bug,Closed,FAB,Fabric,software,denyeart,,,Highest,Invalid: Not Supported,sanchezl,rhegde,rhegde,14/Aug/18 4:28 AM,22/Aug/18 2:15 AM,28/Oct/23 3:03 AM,22/Aug/18 2:15 AM,,,,,,,,,,,,,,,0,,,,,,"IBMBlockchain images does not adhere to the hyperledger fabric approach. There is a need to specify user detail like UID, GID. This breaks the principle of using the default support provided by docker using the user tag. Apart this causes the causes to be launched using root privileges which enterprise deployment will never like.

This is applicable for peer, orderer, zk, kafka.",,Clayton Sims,denyeart,rhegde,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzmn3:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),Clayton Sims,denyeart,rhegde,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"22/Aug/18 2:15 AM;denyeart;Not an open source Fabric issue, closing from Fabric Jira.
Issue will be tracked by vendor separately.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
MockStateRangeQueryIterator doesn't support one-sided open-ended queries,FAB-11581,32804,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,DanDulaney,DanDulaney,14/Aug/18 4:29 AM,23/Jan/20 7:34 AM,28/Oct/23 3:03 AM,23/Jan/20 7:34 AM,,,,,,Future,,,,,fabric-ledger,,,,0,stale-item,,,,,"These do not work:
{code:java}
mockStub.GetStateByRange(""startKey"", """")
mockStub.GetStateByRange("""", ""endKey"")
{code}
 

Open-ended queries only work if both *startKey* and *endKey* are empty strings.

 

This needs to be fixed in 2 places:

1. [In *HasNext()*|https://github.com/hyperledger/fabric/blob/release-1.2/core/chaincode/shim/mockstub.go#L422]

2. [In *Next**()*|https://github.com/hyperledger/fabric/blob/release-1.2/core/chaincode/shim/mockstub.go#L459]",,DanDulaney,denyeart,manish-sethi,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzmnb:",,,,Unset,Unset,,,See description,,Unset,,,,,,Unset,,Unset,,(Please add usage information),DanDulaney,denyeart,manish-sethi,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"22/Aug/18 2:08 AM;denyeart;GetStateByRange(""startKey"", """") is valid in the real implementation.  [~DanDulaney] are you just stating that the mocks are incorrect?

It would help to include the file location in the Bug.;;;","22/Aug/18 2:11 AM;DanDulaney;Right, only the mock implementation is broken. I linked the 2 file locations in the description.;;;","01/Dec/18 2:39 AM;manish-sethi;This mock implementation is in the chaincode package. Changing the component to fabric-peer.;;;","04/Dec/18 7:22 AM;denyeart;Technically it is in chaincode but since we don't have a chaincode component it is most related to ledger functions, I'll move back to fabric-ledger.;;;","04/Dec/18 7:45 AM;manish-sethi;May then we should have a component with name chaincode? Custom written mocks are expected to be maintained by the package that write them for local testing.;;;","23/Jan/20 7:34 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade to latest stable image from pulled published images of prev release - Automation Test,FAB-11582,32807,,Test Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,suryalnvs,scottz,scottz,14/Aug/18 6:36 AM,31/Jul/19 4:05 AM,28/Oct/23 3:03 AM,31/Jul/19 4:05 AM,,,,,,Future,,,,,fabric-quality,fabric-samples,,,0,,,,,,"Create scripts and jobs to automate upgrade test in master branch, to upgrade from the previous major/minor release (e.g. v1.3.0) to the latest images in Nexus based on master branch.

fabric-samples contains a byfn.sh script which contains an ""upgrade"" option; however, no jenkins jobs execute it. Another problem is that it upgrades to the latest _released_ version (useful only for a single test when a new release branch is created and images are released) - instead of to the current branch latest/stable image. This is helpful to external consumers wishing to upgrade their production environment - but it is not useful to development stream, where we could benefit from automation of an upgrade test to catch and regressions/bugs in the upgrade process.

Tasks to do:
 # Edit the byfn script(s) to provide a way for users to upgrade from the prior release (pulled images) to the latest master branch stable images.
 # Add an upgrade test to a daily jenkins job that tests the ""stable"" tagged images, that uses the byfn ""upgrade to master"" option to upgrade fabric software by pulling and starting a network with the current public version (currently v1.3.0) and upgrading to the most recent ""latest"" master images. This will require a FABCI task, once the step-1 capability is implemented in fabric-samples byfn, to pull the released images (from v1.3.0) and pull the ""latest"".
 # FABCI-32: updates a release job to run a byfn upgrade with pulled released images from prev-release (e.g., 1.2.0) to the most recent current-release (1.3.0). The jenkins job should be written in such a way to simply change the value of parameters like PREVIOUS_RELEASE and CURRENT_RELEASE, once future releases are made available.

 ",,scottz,suryalnvs,TiantianGao,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11778,,,,,,,,,,,,,,,,,,,,FAB-11778,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-10085,,,Manual,,Unset,No,,,"1|hzzmnr:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Pass,,System Test,,(Please add usage information),scottz,suryalnvs,TiantianGao,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"22/Sep/18 2:47 AM;scottz;BYFN code was already modified with [https://gerrit.hyperledger.org/r/#/c/26168/] for FAB-11778.

Refer also to jenkins scripts for similar test implemented in the release job: [https://gerrit.hyperledger.org/r/#/c/26091/18..22/regression/release/run_byfn_cli_release_tests.sh] in FABCI-32. We shoud something similar to that in a daily or weekly job.;;;","31/Jul/19 4:05 AM;suryalnvs;BYFN does support upgrade. An upgrade test can be automated using BYFN and integrated with CI ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Configtxlator adds Anchor Peer for an Organization that omit' Anchor Peer definition,FAB-11583,32808,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,rhegde,rhegde,14/Aug/18 12:04 PM,19/Jan/19 2:04 AM,28/Oct/23 3:03 AM,12/Sep/18 10:12 PM,v1.2.0,,,,,v1.2.2,v1.3.0,,,,fabric-tools,,,,0,configtxgen,,,,,"*Steps to Reproduce*
 * Define organization that does not contain Anchor Peer definition.
 * Generate the channel.tx that includes the organization using configtxlator

 

Now channel creation fails using the same  .tx file

 
 +peer cli logs:+

2018-08-12 23:36:32.785 UTC [msp/identity] Sign -> DEBU 00f Sign: digest: 09F3E67D09442E6B92E78D28D1026E3528E4F502049AD8705B3B81B2F6BC99DD
 Error: got unexpected status: BAD_REQUEST – error authorizing update: error validating DeltaSet: attempted to set key [Value]  /Channel/Application/clsbgb65/AnchorPeers to version 1, but key does not exist
 Usage:
   peer channel create [flags]

+orderer logs+
 2018-08-12 23:36:32.796 UTC [orderer/common/broadcast] Handle -> WARN ca2 [channel: testbnk] Rejecting broadcast of config message from 172.18.0.11:33734 because of error: error authorizing update: error validating DeltaSet: attempted to set key [Value]  /Channel/Application/clsbgb65/AnchorPeers to version 1, but key does not exist
 2018-08-12 23:36:32.796 UTC [orderer/common/server] func1 -> DEBU ca3 Closing Broadcast stream
 2018-08-12 23:36:32.798 UTC [grpc] Printf -> DEBU ca4 transport: http2Server.HandleStreams failed to read frame: read tcp 172.18.0.18:7050->172.18.0.11:33734: read: connection reset by peer
 2018-08-12 23:36:32.798 UTC [common/deliver] Handle -> WARN ca5 Error reading from 172.18.0.11:33732: rpc error: code = Canceled desc = context canceled
 2018-08-12 23:36:32.798 UTC [orderer/common/server] func1 -> DEBU ca6 Closing Deliver stream
   
 *Reason and workaround as put by [~jyellick]*
 Looks like you have discovered a bug in configtxgen introduced in v1.2.  You may work around this problem by adding a (fake) anchor peer section to your org definition.  This will not result in anchor peers being added, but will simply fix the generation of the channel creation transaction.

You can find an example: [https://github.com/hyperledger/fabric/blob/9e9ebe651225104823d228a09e94432592252ca3/sampleconfig/configtx.yaml#L52-L57|https://usmail.prod.local/owa/redir.aspx?C=TJ179BYkKlCJfBugBEh8nWS4J_elgQrYsHpronXW3SsrAPnsjQHWCA..&URL=https%3a%2f%2fgithub.com%2fhyperledger%2ffabric%2fblob%2f9e9ebe651225104823d228a09e94432592252ca3%2fsampleconfig%2fconfigtx.yaml%23L52-L57]",,denyeart,jyellick,rhegde,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzmnz:",,,,Unset,Unset,,,"Steps to Reproduce
- Define organization that does not contain Anchor Peer definition
- Generate the channel.tx that includes the organization using configtxlator
- use the same *.tx file to generate the channel",,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,jyellick,rhegde,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,release-1.2,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"11/Sep/18 1:12 PM;denyeart;[~jyellick] What's the plan for this one?;;;","11/Sep/18 3:11 PM;jyellick;There is a workaround for this (add an empty anchor peers section in the configtx.yaml).  However, I think I can put a quick code fix together, will get to it ASAP.;;;","11/Sep/18 11:34 PM;jyellick;In review via: https://gerrit.hyperledger.org/r/c/26225/;;;","11/Oct/18 12:13 AM;denyeart;[~jyellick] It looks like you tagged this one as FixVersion v1.2.1 as well, but did not backport yet.  Is it feasible to backport for v1.2.2?;;;","19/Jan/19 2:04 AM;jyellick;This was fixed on release-v1.2 via https://gerrit.hyperledger.org/r/c/26915;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,
Implement base communication infrastructure,FAB-11585,32823,31897,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,15/Aug/18 12:29 AM,27/Aug/18 8:18 AM,28/Oct/23 3:03 AM,27/Aug/18 8:18 AM,,,,,,,,,,,,,,,0,,,,,,,,kchristidis,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzmpj:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),kchristidis,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"27/Aug/18 8:18 AM;kchristidis;https://gerrit.hyperledger.org/r/c/25535/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Implement top communication infrastructure,FAB-11586,32824,31897,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,15/Aug/18 12:30 AM,13/Sep/18 6:40 PM,28/Oct/23 3:03 AM,13/Sep/18 6:40 PM,,,,,,,,,,,,,,,0,,,,,,,,guoger,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzmpr:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),guoger,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"13/Sep/18 6:16 PM;guoger;is this still _in review_?;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add a tar based chaincode package parser,FAB-11587,32826,31192,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,15/Aug/18 1:03 AM,19/Nov/18 2:38 PM,28/Oct/23 3:03 AM,19/Nov/18 2:38 PM,,,,,,v1.3.0,,,,,,,,,0,,,,,,,,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzmq7:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update package provider to use new package parser,FAB-11588,32827,31192,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,15/Aug/18 1:04 AM,19/Nov/18 2:39 PM,28/Oct/23 3:03 AM,19/Nov/18 2:39 PM,,,,,,v1.3.0,,,,,,,,,0,,,,,,,,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzmqf:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As a Fabric user, I want my barebones, single-instance etcd/raft-based ordering service to resume from where it left off, if it crashes",FAB-11589,32829,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,guoger,kchristidis,kchristidis,15/Aug/18 1:12 AM,31/Jan/19 11:47 PM,28/Oct/23 3:03 AM,31/Jan/19 11:47 PM,,,,,,v2.0.0,,,,,,,,,0,raft,,,,,"h2. Acceptance criteria

h3. Scenario 1 (check for persistence)
 # User edits {{configtx.yaml}} so as to have a network with a single-node etcd/raft-based ordering service and a system channel that is also an application channel. Assume {{BatchSize}} is set to 10 and {{Batch.Timeout}} is set to a reasonably high value, e.g. 120s.
 # User launches single-node etcd/raft-based ordering service.
 # User invokes the Broadcast RPC to send {{BatchSize}} transactions ({{foo-1}} to {{foo-10}}) to the ordering service within {{Batch.Timeout}}. User receives a SUCCESS response for each of those calls.
 # Once {{BatchSize}} transactions have been sent successfully to the ordering service, user invokes the Deliver RPC and receives the genesis block and a block containing transactions {{foo-1}} to {{foo-10}}.
 # User restarts the OSN.
 # User re-issues Deliver RPC to the OSN and expects to receive the same blocks as in Step 4.

h3. Scenario 2 (check that crashed leader does not persist incomplete batches)
 # User edits {{configtx.yaml}} so as to have a network with a single-node etcd/raft-based ordering service and a system channel that is also an application channel. Assume {{BatchSize}} is set to 10 and {{Batch.Timeout}} is set to a reasonably high value, e.g. 120s.
 # User launches single-node etcd/raft-based ordering service.
 # User invokes the Broadcast RPC to send *less than* {{BatchSize}} transactions to the ordering service: {{foo-1}}, {{foo-2}}, {{foo-3}}. User receives a SUCCESS response for each of those calls.
 # User restarts the OSN before {{Batch.Timeout}} has elapsed since the OSN received the first transaction ({{foo-1}}). The goal is to prevent the OSN from cutting a block based on elapsed time.
 # User invokes the Broadcast RPC and successfully sends transactions {{bar-1}} to {{bar-10}} to the ordering service.
 # User issues a Deliver RPC to the OSN and expects to get only two blocks: the genesis block, and a block containing transactions {{bar-1}} to {{bar-10}}.",,C0rWin,guoger,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-6135,,,No,,Unset,No,,,"1|hzzmqv:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),C0rWin,guoger,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"15/Aug/18 1:14 AM;kchristidis;The possible subtasks related to this story are captured in the Week 2 sheet (rows 3-5): [https://docs.google.com/spreadsheets/d/1R02-xjdl4hNw90kN4NZ1kX0f4QoIYn51_1UHlwy-GQs/edit#gid=724692156]

Break them down and expand on them as you see fit.;;;","06/Sep/18 9:48 AM;kchristidis;Jay's note on why {{raftexample}} is not quite right in the way they're approaching crash-fault tolerance: https://chat.hyperledger.org/channel/fabric-orderer-dev?msg=qRESNebBjdjpCGEqx;;;","06/Sep/18 5:21 PM;guoger;A quick scan of {{etcd}} and {{swarmkit}} shows that their state machines are *idempotent*, meaning _it doesn't matter if an applied message is being applied again_, i.e. with /'my-key': 'foo'/, it doesn't matter if we set 'my-key' to 'foo' again during restart.

However, it's not the case for orderer, as we must not write a block to ledger more than once.

Luckily, {{etcd/raft}} provides a nice config [option|https://github.com/etcd-io/etcd/blob/master/raft/raft.go#L145-L149] *Applied uint64* to prevent raft from reporting already applied messages. So I propose to *persist raft {{Index}} in every block metadata*, which is used to restart a raft node. This is similar to what we have today for kafka.

wdyt, [~kchristidis];;;","19/Oct/18 9:14 AM;kchristidis;I had missed that comment when it was originally posted, sorry. Just to close the loop on this, I'm onboard with the idea, and this is in the CR that you submitted, so we're good. Thanks for capturing this in JIRA.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As a Fabric user, I want to be able to reconfigure my barebones, single-instance etcd/raft-based ordering service",FAB-11590,32830,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,C0rWin,kchristidis,kchristidis,15/Aug/18 2:07 AM,16/Jan/19 8:07 AM,28/Oct/23 3:03 AM,19/Oct/18 7:06 AM,,,,,,v2.0.0,,,,,,,,,0,raft,,,,,"N.B. In this story we will work with the following configuration updates:
 # Type A updates that are _not_ channel creation requests: e.g. a configuration updates that modifies {{BatchSize}}. The channel creation requests will be covered as a sub-task in FAB-11591.
 # Type B updates that do not expand the consenter set: e.g. a configuration update that modifies {{MaxSizePerMsg}}, or the current consenter's client TLS certificate. The transactions that expand the consenter set should be covered as a sub-task in FAB-11161.

h2. Notation
 * Type A configuration transaction: a configuration update that modifies anything but the {{ConsensusType.Metadata}} field, where we store the list of Raft consenters.
 * Type B configuration transaction: The opposite of a Type A configuration.

For more info, [the design doc is your best friend|https://docs.google.com/document/d/138Brlx2BiYJm5bzFk_B0csuEUKYdXXr7Za9V7C76dwo/edit].
h2. Acceptance criteria
h3. Scenario 1 (Type A gets processed w/o issues)
 # User edits {{configtx.yaml}} so as to have a network with a single-node etcd/raft-based ordering service and a system channel that is also an application channel. Assume {{BatchSize}} is set to 1.
 # User launches single-node etcd/raft-based ordering service.
 # User invokes the Broadcast RPC to send a Type A configuration update, e.g. one that increases {{BatchSize}} to 2. A SUCCESS status is returned. (For now, avoid any channel-creation requests. These are technically Type A as well.)
 # User invokes the Deliver RPC and receives the genesis block and a configuration block that lists the {{BatchSize}} as having a value of 2.

h3. Scenario 2 (Type B that expands consenter set gets rejected)
 # User edits {{configtx.yaml}} so as to have a network with a single-node etcd/raft-based ordering service and a system channel that is also an application channel. Assume {{BatchSize}} is set to 1.
 # User launches single-node etcd/raft-based ordering service.
 # User invokes the Broadcast RPC to send a Type B configuration update that expands the consenter. This request is rejected.

h3. Scenario 3 (Type B gets processed w/o issues)
 # User edits {{configtx.yaml}} so as to have a network with a single-node etcd/raft-based ordering service and a system channel that is also an application channel.
 # User launches single-node etcd/raft-based ordering service.
 # User invokes the Broadcast RPC to send a Type B configuration update that modifies one of the configuration settings introduced in FAB-11861. A SUCCESS status is returned.
 # User invokes the Deliver RPC and receives the genesis block and a configuration block that shows that the updated value in Step 3 above.",,adarshsaraf123,C0rWin,huikang,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11861,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-6135,,,No,,Unset,No,,,"1|hzzmr3:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),adarshsaraf123,C0rWin,huikang,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"15/Aug/18 2:08 AM;kchristidis;For the possible sub-tasks involved here, consult sheet ""Week 3"": [https://docs.google.com/spreadsheets/d/1R02-xjdl4hNw90kN4NZ1kX0f4QoIYn51_1UHlwy-GQs/edit#gid=1451154482]

Break down into sub-tasks and expand them as you see fit.;;;","16/Aug/18 9:55 PM;kchristidis;[~guoger] will rework the {{Chain}}+{{FSM}} codebase slightly (once [~C0rWin]'s CR for FAB-11163 is in) so that we can work on FAB-11589 and this one concurrently.;;;","17/Aug/18 12:44 AM;adarshsaraf123;I am looking into this currently towards a task breakdown.;;;","01/Sep/18 6:06 AM;adarshsaraf123;Since the {{ConsensusType}} value in the {{Orderer}} group contains both the {{type}} of the orderer and an opaque {{metadata}}, any updates to the metadata would lead to the configuration update being of Type B (NOTE: updating the {{type}} is never allowed). The {{metadata}} contains a list of {{Consenters}}. As part of this story, there will only be a single {{Consenter}}. Any updates to any of the fields of this single {{Consenter}} viz; {{Host}}, {{Port}}, {{ClientTlsCert}} and {{ServerTlsCert}} would lead to the configuration update being of Type B. For this story, we will be rejecting such configuration updates.

Eventually such Type B updates will also include the following updates to the {{Consenter}} list itself of which _we only allow one at a time_:

1. update of the fields of any single {{Consenter}},
 2. addition of a {{Consenter}},
 3. removal of a {{Consenter}}.;;;","05/Sep/18 5:11 AM;kchristidis;^^ This is spot on. Note that your work in FAB-11861 may change this assumption though, let's keep an eye on this.;;;","05/Sep/18 11:25 PM;C0rWin;Shouldn't we split this into two subsequent stories or tasks as we decided to parallelize work on Type A and Type B config updates? /cc [~kchristidis] ;;;","06/Sep/18 6:32 AM;kchristidis;Artem: you are correct. (Also see first comment.) Adarsh's Type A work is one subtask, and the work on Type B transactions that you're undertaking should be captured in one or more subtasks as well.;;;","06/Sep/18 2:01 PM;adarshsaraf123;[~kchristidis] [~C0rWin] From the [Raft Jira breakdown|https://docs.google.com/spreadsheets/d/1R02-xjdl4hNw90kN4NZ1kX0f4QoIYn51_1UHlwy-GQs/edit#gid=1451154482], what I am working on is the Week 3 task. Processing type B configurations is part of Weeks 5-7 and I think better fits as part of FAB-11161 based on the description of Weeks 5-7.

Also from the description of this JIRA:
{quote}_For now, we allow only Type A configuration updates in. (And no channel creation requests yet - these are technically Type A as well.)_
{quote}
Of course, we can also consider expanding the scope of this JIRA.;;;","06/Sep/18 10:27 PM;kchristidis;[~adarshsaraf123]: Ah, you are correct. I'd gone back and forth on the spreadsheet with this one. Now that we can test Type B processing w/o the need for multiple nodes (because a Type B transaction can just modify, say, the {{MaxSizePerMsg}} that will be stored in your work in FAB-11861), I think it makes sense to put Type B work back in here. Will update the story now.;;;","06/Sep/18 10:41 PM;kchristidis;Story updated and task created for Adarsh's current WIP. If more clarifications are needed, or you see something wrong, please let me know.;;;",,,,,,,,,,,,,,,,,,,,,,,
"As a Fabric user, I want to ensure that my barebones, single-instance etcd/raft-based ordering service can handle multiple channels",FAB-11591,32832,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,C0rWin,kchristidis,kchristidis,15/Aug/18 3:06 AM,21/Jan/19 12:46 AM,28/Oct/23 3:03 AM,21/Jan/19 12:46 AM,,,,,,v2.0.0,,,,,fabric-orderer,,,,0,raft,,,,,"Acceptance criteria:

# User edits {{configtx.yaml}} so as to have a network with a single-node etcd/raft-based ordering service and a system channel that is also an application channel. Assume {{BatchSize}} is set to 1.
 # User launches single-node etcd/raft-based ordering service.
 # User invokes the Broadcast RPC to submit a channel creation request (for, say. channel {{foo}}). User immediately receives a SUCCESS response.
# User invokes the Deliver RPC on channel {{foo}} and receives its genesis block.
# User restarts the OSN and repeats the previous step with the same result.",,C0rWin,kchristidis,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12729,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-6135,,,No,,Unset,No,,,"1|i000tb:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),C0rWin,kchristidis,yacovm,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"15/Aug/18 3:07 AM;kchristidis;Remember that each channel results in the creation of a new Raft cluster. Need to ensure that a new cluster is created, even though this check is silly with only 1 node in the ensemble. Remember that client RPC invocations need to be tagged with the channel/cluster they belong to, and the server handler should maintain a mapping from cluster/channel to the appropriate Raft FSM.;;;","15/Aug/18 3:07 AM;kchristidis;{quote}Remember that client RPC invocations need to be tagged with the channel/cluster they belong to, and the server handler should maintain a mapping from cluster/channel to the appropriate Raft FSM.{quote}

[~yacovm]: Can you comment on the validity of the above, given the work you're doing in the comm layer? I suspect that some of that is now inaccurate.;;;","15/Aug/18 3:43 AM;yacovm;Yeah that's accurate. Every message sent to a remote node that has a channel field in it - should populate the channel.
It's needed because the communication layer manages TLS pinning on a per-channel basis, so without the channel you don't know what TLS certificate to expect to see;;;","31/Oct/18 8:49 PM;C0rWin;https://gerrit.hyperledger.org/r/#/c/27283/;;;","13/Nov/18 2:33 AM;kchristidis;We should not close this story until FAB-12729 and FAB-13180 are resolved.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,
PTE should support rerunning testcases,FAB-11592,32833,,Task,Closed,FAB,Fabric,software,denyeart,,,Low,Won't Do,,scottz,scottz,15/Aug/18 6:51 AM,30/Jul/19 11:41 AM,28/Oct/23 3:03 AM,30/Jul/19 11:41 AM,v1.3.0,,,,,Future,,,,,fabric-quality,,,,0,,,,,,"This is a request for PTE to support rerunning the same testcase on the same network. Use unique key names, logfile names, etc, to avoid collisions. This should be true for rerunning invokes as well as queries testcases. This would be useful to run the same tests multiple times - either simultaneously or over a long time period such as in a long-running network like a live production network.

It seems necessary that PTE would need to create a unique TestRunID; we may wish to also allow the user to specify one, in order for them to coordinate multiple testcases and testruns (e.g. a set of invokes and a set of queries).

You might be thinking ""we can already do that!"". If so, you may be thinking about the samplecc chaincode,which happens to be designed to allow rerunning over and over. However, other chaincodes cannot be run multiple times, including the marbles chaincodes that are used in some testcases.

With this capability, users would not have to worry about testing and retesting with only certain chaincodes. This will be more useful as we modify PTE to easily execute any pluggable chaincodes.

 ",,mastersingh24,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-2247,,,No,,Unset,No,,,"1|hzzmrz:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),mastersingh24,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"30/Jul/19 11:41 AM;mastersingh24;Open 1 year or more with no activity ... time to cleanup;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Enhance Ledger APIs for missing data,FAB-11593,32836,32194,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,manish-sethi,manish-sethi,manish-sethi,15/Aug/18 12:22 PM,12/Jun/20 12:30 AM,28/Oct/23 3:03 AM,22/Aug/18 1:44 AM,,,,,,v1.3.0,,,,,,,,,0,,,,,,"Enhance Ledger APIs to
 * Query about the missing data
 * Accept the pvt data only for commit",,manish-sethi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwqfm:2",,,,Unset,Unset,To Do,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),manish-sethi,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"16/Aug/18 7:09 AM;manish-sethi;https://gerrit.hyperledger.org/r/#/c/24431/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
issue with fabric and docker swarm,FAB-11594,32843,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid: Environment Issue,,satish67,satish67,15/Aug/18 8:15 PM,31/Jul/19 5:45 AM,28/Oct/23 3:03 AM,22/Aug/18 2:10 AM,v1.0.0,,,,,,,,,,,,,,0,v1.0,,,,,"Hi.. I am trying to implement fabric samples on different hosts.. I connected all the hosts through docker swarm, with an overlay network. when i am implement the stack command it opens too many conatiners in peers. while the manager/leader node is working fine,, Does anyone have any idea .. thanks in advance",,denyeart,satish67,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzmtj:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,satish67,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"22/Aug/18 2:10 AM;denyeart;This is not a Fabric bug.

Please use rocket.chat or Fabric mailing list for questions.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
As a Fabric core developer I would like to implement a Validation plugin for FabToken txs based on local interfaces for TMS,FAB-11596,32845,31920,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,angelo.decaro,angelo.decaro,angelo.decaro,15/Aug/18 9:50 PM,12/Jun/20 12:30 AM,28/Oct/23 3:03 AM,08/Nov/18 6:21 PM,,,,,,,,,,,,,,,0,,,,,,,,angelo.decaro,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwqfm:3",,,,Unset,Unset,To Do,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),angelo.decaro,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"28/Aug/18 5:34 PM;angelo.decaro;https://gerrit.hyperledger.org/r/#/c/25565/;;;","08/Nov/18 6:21 PM;angelo.decaro;The validation has been moved to the transaction processing directly.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
As a Fabric core developer I would like to implement a Transaction Processors for FabToken txs based on local interfaces for TMS,FAB-11597,32846,31920,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,angelo.decaro,angelo.decaro,angelo.decaro,15/Aug/18 10:05 PM,12/Jun/20 12:30 AM,28/Oct/23 3:03 AM,08/Nov/18 6:22 PM,,,,,,,,,,,,,,,0,fabtoken,,,,,"The Token Transaction Processor should do the following things:
 # unmarshal the envelope
 # retriever a TMS token committer for the channel the transaction targets to
 # invoke the committer to generate the RW set
 # return the generate RW set",,angelo.decaro,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwqfm:4",,,,Unset,Unset,To Do,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),angelo.decaro,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"28/Aug/18 5:34 PM;angelo.decaro;https://gerrit.hyperledger.org/r/#/c/25567/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Test: recociliation gossip side unit-tests,FAB-11598,32847,32193,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,nirro,nirro,nirro,15/Aug/18 10:17 PM,06/Sep/18 4:19 AM,28/Oct/23 3:03 AM,06/Sep/18 4:19 AM,,,,,,v1.3.0,,,,,fabric-gossip,,,,0,unit-test,,,,,add unit tests to the reconciler that is implemented in gossip layer,,nirro,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11301,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzmun:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),nirro,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"20/Aug/18 9:41 PM;nirro;https://gerrit.hyperledger.org/r/#/c/25263/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Document private data reconciliation,FAB-11599,32848,,Documentation,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,joe-alewine,pandrejko,pandrejko,15/Aug/18 10:20 PM,07/Dec/18 1:11 PM,28/Oct/23 3:03 AM,07/Dec/18 1:11 PM,,,,,,v1.4.0,,,,,fabric-docs,,,,0,,,,,,,,denyeart,joe-alewine,pandrejko,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-5108,,,No,,Unset,No,,,"1|hzwru7:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,joe-alewine,pandrejko,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"23/Aug/18 11:10 PM;pandrejko;On scrum this morning Dave indicated minimal doc is required here. Just a few additional sentences stating that automatic reconciliation occurs when a peer is added. ....;;;","30/Nov/18 8:02 AM;joe-alewine;When Manish has finished his work on this he will be collaborating with me on the language.;;;","06/Dec/18 2:09 AM;joe-alewine;https://gerrit.hyperledger.org/r/c/27968/;;;","07/Dec/18 5:23 AM;denyeart;One CR merged, a second is https://gerrit.hyperledger.org/r/#/c/27997/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Document java chaincode,FAB-11600,32850,,Documentation,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,,pandrejko,pandrejko,15/Aug/18 10:43 PM,17/Sep/18 5:13 AM,28/Oct/23 3:03 AM,17/Sep/18 5:13 AM,,,,,,v1.3.0,,,,,fabric-docs,,,,0,,,,,,,,denyeart,pandrejko,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABCJ-202,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FABCJ-7,,,No,,Unset,No,,,"1|hzwtev:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,pandrejko,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"17/Sep/18 5:13 AM;denyeart;We'll use FAB-11749 for the java chaincode docs.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
idemix role field must be an int rather than a boolean,FAB-11601,32849,,Bug,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,rtorres,smithbk,smithbk,15/Aug/18 10:35 PM,12/Jun/20 12:30 AM,28/Oct/23 3:03 AM,19/Sep/18 9:41 PM,v1.3.0,,,,,v1.3.0,,,,,fabric-crypto,,,,1,idemix,,,,,"The role field which is a protocol level field is currently a boolean, but it should be an int as represented in MSP.
So we switch from a boolean to an integer (that is a 4-bit mask).
To justify using int here: 
We are planning to support more than one role at once for a combined principal (encoded in a single attribute in a credential for optimisation). So one can combine multiple Enum values in a single attribute (int - bitmask) in a credential. One can also prove predicates about that int and support more than 4 roles in the future.
Now we support only 2 roles (Peer cannot use Idemix for now) with 1-1 mapping between int and MSPRole, but this change is done for backwards compatibility for the future (more roles, multiple roles, predicates about roles).",,denyeart,dubovitskaya,JonathanLevi,smithbk,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FABC-592,,,No,,Unset,No,,,"1|hzwqfm:5",,,,Unset,Unset,To Do,,,,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,dubovitskaya,JonathanLevi,smithbk,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"06/Sep/18 8:07 PM;denyeart;[~smithbk] [~dubovitskaya] [~skarim] What is the plan for this one?;;;","13/Sep/18 1:55 AM;JonathanLevi;Why not 2 bits? ;);;;","13/Sep/18 8:21 PM;dubovitskaya;OK, we got the integration test passing. Will prepare the CRs now. 4-bit mask is to allocate for multiple roles in one credential (attribute).;;;","14/Sep/18 12:01 AM;dubovitskaya;Submitted as sub-tasks

Fabric: https://gerrit.hyperledger.org/r/26285
Fabric-CA: https://gerrit.hyperledger.org/r/#/c/26289/
Java-SDK: https://gerrit.hyperledger.org/r/#/c/26291/;;;","14/Sep/18 5:54 PM;dubovitskaya;Submitted 3 CRs at once because the change is touching all 3 components. 
To test the Java and CA part one would need to check out all 3 CRs and run the E2E test locally (because without merging SDK and CA the E2E will always fail).

For us it works:
Tests run: 49, Failures: 0, Errors: 0, Skipped: 2, Time elapsed: 648.809 sec - in org.hyperledger.fabric.sdkintegration.IntegrationSuite
Results :
Tests run: 49, Failures: 0, Errors: 0, Skipped: 2;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,
Chaincode access control with MSP support,FAB-11602,32854,,Epic,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,mne,mne,16/Aug/18 12:48 AM,23/Jan/20 7:33 AM,28/Oct/23 3:03 AM,23/Jan/20 7:33 AM,,,,,,Future,,,,,fabric-crypto,,,,1,stale-item,,,,,"The chaincode should be able to reason in terms of who the creator of a proposal is and what their roles are. This functionality enables implementation of chaincode-level access control mechanisms: the chaincode can check that the right creator performs the right operation. If the endorsement policy is properly set, honest peers will have to perform this check. Each way of fulfilling the endorsement policy must include at least 1 honest peer.

An example use case: as client ‘bob’ I’m storing an asset at ‘bank1’. I set ‘bob’ to the ""owner"" of the asset and set ‘bank1’ as the endorsement policy (it is the most trusted org with peers). Now only client ‘bob’ can initiate transactions that update the asset (e.g. transfer it away from myself), and only ‘bank1’ can endorse such transactions.

The corresponding access control check needs to be able to store this ""ownership"" information associated with the asset and evaluate it with respect to the proposal creator.

Relationship to CID: Currently the chaincode can parse the creator identity by using the cid (client identity) library. What is needed, however, is the ability to reason about this and other identities through the channel's MSP - the cid library is limited to x509 identities and duplicates code that is already present in x509 peer MSP code. Also, the cid library is just a parser, it can not evaluate, e.g. channel membership. This means its usefulness is mostly limited to identities from a trusted source, such as the transaction creator, but not arbitrary identities supplied via parameters or stored on the ledger, as those have not passed the channel MSP.

 ",,ales,angelo.decaro,denyeart,ellaki,mne,qsmen,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-8792,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Required,Unset,Required,ghx-label-5,,Chaincode access control with MSP support,To Do,No,,Required,No,,,"1|hzzmvj:",,,,Unset,Required,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ales,angelo.decaro,denyeart,ellaki,mne,qsmen,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"21/Aug/18 7:15 PM;denyeart;[~mne] [~adc] Besides the child FAB-7506, what else is needed here?  In prior discussions I thought I heard that there was other work underway in this area.  Could you link those jiras or create child stories here?

Also, concerning ""Currently the chaincode is unable to gain any insight into the creator beyond the basic identity bytes"", it's not just the basic identity bytes that are available, there is the Client Identity package that can provide some other information:
https://github.com/hyperledger/fabric/tree/master/core/chaincode/lib/cid
In the description could you be more specific about what is currently available why that it still lacking?;;;","21/Aug/18 8:05 PM;angelo.decaro;Hi [~denyeart], let me point to what [~mne] wrote: "" There’s no way to for instance check that they are an admin, or a client, or part of some OU etc. without doing custom parsing of the serialized identity"". Indeed, this is what the *cid* package does. What this FAB is asking for, in connection with FAB-7506, there might be some overlapping actually, is to have a way for the chaincode to leverage the MSP infrastructure at the peer side to reason about the creator of a transaction. [~mne], please, jump in if I'm missing or misinterpreted something. 

Actually, FAB-7506 needs an update. It still refers to RSCC, for example.

 ;;;","21/Aug/18 11:49 PM;mne;Hi [~denyeart], indeed what [~adc] writes captures it quite nicely: we need to make certain MSP functionality available to the chaincode beyond cid. I'll make this more clear. It's captured in large parts by FAB-7506, which is part of this epic and needs an overhaul as Angelo indicated. Also we need means to store this ""ownership"" information - corresponding Jira items will follow.;;;","12/Sep/18 6:40 AM;denyeart;[~angelo.decaro] [~mne]

I've updated the epic name to be ""Chaincode-level access control with MSP support"" to indicate the MSP aspect.

The last sentence in the description gives a hint about this: ""What is needed though still is the ability to reason about this identity through the MSP.""  Could you expand on that sentence in the description, maybe provide an example.

And yes, it would be good to include a child Story for each distinct aspect.;;;","10/Oct/18 3:39 AM;mne;[~denyeart] I added more motivation + an extra story with subtasks. Feedback is very appreciated (even though this is now targeted ""future"")!;;;","23/Jan/20 7:33 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,
Production Simulation Lab with long-running updated Fabric network,FAB-11603,32855,,Epic,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,suryalnvs,suryalnvs,suryalnvs,16/Aug/18 1:02 AM,01/Aug/19 10:15 AM,28/Oct/23 3:03 AM,01/Aug/19 10:15 AM,,,,,,v1.3.0,,,,,fabric-quality,,,,0,,,,,,"Setting up a production level fabric network lab for running everlasting longruns with multiple combinations of organizations in multiple channels, multiple chaincodes running in the channels using different traffic patterns.

 

Setup a cluster on IKS

Setup Block Storage to use for storing data

Launch the fabric network keeping the lab current with stable images from fabric master branch

Create multiple channels and join peers to channels

Install and instantiate different chaincodes on channels

Different long running traffic patterns using different chaincodes (samplecc, samplejs, marbles02, marbles02 with private data) using separate PTE clients",,scottz,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11609,FAB-11610,FAB-11611,FAB-11612,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,ghx-label-7,,Production Simulation Lab,To Do,No,,Unset,No,,,"1|hzzmvr:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),scottz,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
ReadTheDoc icons are broken when doc links reside inside a folder in github,FAB-11604,32859,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,pandrejko,pandrejko,16/Aug/18 3:34 AM,30/Nov/18 1:42 PM,28/Oct/23 3:03 AM,30/Nov/18 1:42 PM,,,,,,,,,,,fabric-docs,,,,0,,,,,,"Problem: The 4 icons in upper left corner of the ReadTheDocs (GitHub, StackOverflow, RocketChat, YouTubeChannel) are messed up when you click on a link in the toc that points to a topic that resides inside a folder in the source tree.

 

[~rameshthoomu] - I think you fixed this problem earlier, but maybe we did not notice that the fix does not work when the documentation content does not reside at the root of the /source tree. 

 

 ",,joe-alewine,pandrejko,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwrt3:",,,,Unset,Unset,,,"To reproduce the problem

1. Click on this link:

https://hyperledger-fabric.readthedocs.io/en/latest/

==> Notice the 4 icons in the upper left above the TOC list. They are aligned and there is no text on them.

2. Click on Key Concepts > Private Data

Expected Results: 4 icons should be aligned as in step 1 above.

Actual results: 4 icons are misaligned.",,Unset,,,,,,Unset,,Unset,,(Please add usage information),joe-alewine,pandrejko,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"22/Aug/18 4:44 AM;joe-alewine;Comments from [~EdProsser] and myself about this: 



Ed: Basically, if you start a link with a / it starts looking at the root of the tree, but the root in our case would be /en/release-1.2/_static/images/github_button.png
At least, from memory it's something like that
And then that change would only fix that release.

Edward Prosser [3:52 AM]
The core problem is that layout.html is applied to every document when they're resolved to html
And because some of the docs are at differing levels in the directory structure, the image link breaks.
There are 3 possible fixes that I can see which will also fix for all potential versions and potential translations.

Edward Prosser [3:57 AM]
1. Change the build system so that layout.html is resolved first somehow. I don't really know too much about the docs build for fabric, but this might be difficult.

Edward Prosser [3:59 AM]
2. Keep the image links as they are, but move all docs into one directory, this would work, but is a little brute force and I'm not a big fan. It is the lowest effort solution though.

Edward Prosser [4:01 AM]
3. Make the image links resolve correctly for the docs in subdirectories by adding a `../` to the link. Then move all docs into subdirectories grouped by topic or chapter. This is the middle effort solution but I suspect we'll run into problems with the landing pages for each chapter being outside the folders. I might grab a dev from Hursley to have a look and recommend a solution. (edited)

 

Me: Personally, #1 is ideal. #2 is a hard no. And #3, while preferable to #2, would still present huge challenges given the upside (making some image icons look better).

 

[~rameshthoomu], what is the feasibility of ensuring that layout.html resolves first?;;;","12/Nov/18 3:20 PM;rameshthoomu;[~pandrejko] This seems fixed with this change [https://github.com/hyperledger/fabric/commit/5d9d96d898d61e9196274388e795e63d30d66ca2]

Could you please confirm;;;","30/Nov/18 1:42 PM;rameshthoomu;This issue is addressed here [https://github.com/hyperledger/fabric/commit/5d9d96d898d61e9196274388e795e63d30d66ca2]

Closing this issue. Please open new issue if you see again.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"PTE documentation---remove outdated items in ""future work""",FAB-11605,32861,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,AdnanChoudhury,AdnanChoudhury,AdnanChoudhury,16/Aug/18 4:05 AM,17/Aug/18 6:55 AM,28/Oct/23 3:03 AM,17/Aug/18 6:55 AM,v1.2.0,,,,,v1.2.1,,,,,fabric-quality,,,,0,,,,,,"Both of the items listed in ""Future Items"" has already been added. The README needs to reflect that.",,AdnanChoudhury,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-2247,,,No,,Unset,No,,,"1|hzzmwn:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),AdnanChoudhury,,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fix duplicate word in sentence,FAB-11606,32863,,Documentation,Closed,FAB,Fabric,software,denyeart,,,Lowest,Done,Specia1,Specia1,Specia1,16/Aug/18 3:15 PM,17/Aug/18 8:50 PM,28/Oct/23 3:03 AM,17/Aug/18 7:24 AM,,,,,,v1.2.1,v1.3.0,,,,fabric-docs,,,,0,,,,,,"https://hyperledger-fabric.readthedocs.io/en/release-1.2/blockchain.html

*look look -> look*
{quote}A high level *look look* at a sample transaction flow.
{quote}
->
{quote}A high level *look* at a sample transaction flow.
{quote}
 

https://hyperledger-fabric.readthedocs.io/en/release-1.2/network/network.html

*the the -> the*
{quote}In most cases, multiple organizations come together as a consortium to form the network and their permissions are determined by a set of policies that are agreed to by *the the* consortium when the network is originally configured
{quote}
->
{quote}In most cases, multiple organizations come together as a consortium to form the network and their permissions are determined by a set of policies that are agreed to by *the* consortium when the network is originally configured
{quote}
 

https://hyperledger-fabric.readthedocs.io/en/release-1.2/private-data/private-data.html

*private private -> private*
{quote}Using this example, peers owned by the Distributor will have multiple *private private* databases inside their ledger which includes the private data from the Distributor, Farmer and Shipper relationship and the Distributor and Wholesaler relationship. Because these databases are kept separate from the database that holds the channel ledger, private data is sometimes referred to as “SideDB”.
{quote}
->
{quote}Using this example, peers owned by the Distributor will have multiple *private* databases inside their ledger which includes the private data from the Distributor, Farmer and Shipper relationship and the Distributor and Wholesaler relationship. Because these databases are kept separate from the database that holds the channel ledger, private data is sometimes referred to as “SideDB”.
{quote}",,denyeart,Specia1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzmwv:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,Specia1,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,release-1.2,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"17/Aug/18 6:53 AM;denyeart;https://gerrit.hyperledger.org/r/#/c/25593/ release-1.2
https://gerrit.hyperledger.org/r/#/c/25615/ master;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
State-based endorsement E2E,FAB-11607,32864,28456,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,mne,mne,mne,16/Aug/18 5:06 PM,09/Sep/18 4:58 AM,28/Oct/23 3:03 AM,09/Sep/18 4:58 AM,,,,,,v1.3.0,,,,,,,,,0,,,,,,"Functional e2e test for state based endorsement to start up a fabric network and perform the following operations via the sample chaincode (FAB-8824):
 * Org1 sets sb EP to Org1 (succeeds) - Verify: Org1 lists orgs in sb EP
 * Org1 sets the value (succeeds) - Verify: Org1 reads the value
 * Org2 sets the value (fails) - Verify: Org1 reads the value
 * Org1 adds Org2 to the sb EP (succeeds) - Verify: Org1 lists orgs in sb EP
 * Org2 sets the value (fails) - Verify: Org1 reads the value
 * Org1+Org2 set the value (succeeds) - Verify: Org1 reads the value
 * Org2 removes Org1 from the sb EP (fails) - Verify: Org1 lists orgs in sb EP
 * Org1+Org2 remove Org1 from the sb EP (succeeds) - Verify: Org1 lists orgs in sb EP
 * Org2 sets the value via cc2cc (succeeds) - Verify: Org1 reads the value
 * Org1 sets the value via cc2cc (fails) - Verify: Org1 reads the value",,mne,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzmx3:",,,,Unset,Unset,Sprint 6 - NextGen Endorseme 2,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Integration Test,,(Please add usage information),mne,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"22/Aug/18 12:14 AM;mne;https://gerrit.hyperledger.org/r/#/c/25757/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Optimize gossip alive message verification,FAB-11608,32867,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,16/Aug/18 7:51 PM,15/Jul/19 8:29 PM,28/Oct/23 3:03 AM,13/Dec/18 6:35 PM,v1.4.0,,,,,v1.1.2,v1.2.2,v1.4.0,v2.0.0,,fabric-gossip,,,,0,hygiene,,,,,"Whenever an alive message reaches the [gossip layer|https://github.com/hyperledger/fabric/blob/release-1.2/gossip/gossip/gossip_impl.go#L418-L421] [from the communication layer|https://github.com/hyperledger/fabric/blob/release-1.2/gossip/gossip/gossip_impl.go#L315], its [signature is verified|https://github.com/hyperledger/fabric/blob/release-1.2/gossip/gossip/gossip_impl.go#L1061] at the gossip layer before being dispatched [by the membership package|https://github.com/hyperledger/fabric/blob/release-1.2/gossip/discovery/discovery_impl.go#L310]. 

If an alive message has a logical timestamp that is lower or equal to a message that was received from the same node - it is verified and then discarded inside the membership package. 

It is wasteful because when alive messages are gossiped, they might be received by the same peer several times, and instead we should immediately discard it and not waste CPU cycles on verifying it",,denyeart,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzmxb:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.3,release-1.4,release-2.5,release-2.4,release-1.1,main,release-1.2,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"22/Aug/18 2:20 AM;denyeart;[~inbarbadian] I'll tag for v1.3.0 for now, but you can move to Future if this can't be done in v1.3.0 timeframe.;;;","06/Sep/18 12:35 AM;yacovm;-Moving this to v1.4, and you (Amber) can backport it to v1.3.1 once it's merged in latest master.- 

I'll take this one from you if you don't mind

 ;;;","07/Dec/18 8:11 PM;yacovm;[https://gerrit.hyperledger.org/r/#/c/27964/];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Longrun forever samplecc go in CommunityLongrunProductionLab,FAB-11609,32879,,Test Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,suryalnvs,scottz,scottz,16/Aug/18 11:12 PM,07/Dec/18 8:28 AM,28/Oct/23 3:03 AM,07/Dec/18 8:28 AM,,,,,,v1.3.0,,,,,fabric-quality,,,,0,SystemTestcase,,,,,"In the Production Simulation Lab network, run a test scenario forever to exercise GO chaincode sampleCC in commonchannel (for 3 orgs), requiring a peer in 3 orgs to do the endorsements. Set debug logs to ERROR, and monitor them for errors. Use a low traffic rate (a tx for every 5 sec) so this will run a long time before the lab runs out of disk space.",,scottz,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11603,,,,,,,,,,,,,,,,,,,,FAB-11610,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-10080,,,Manual,,Unset,No,,,"1|hzzmxz:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,System Test,,(Please add usage information),scottz,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"05/Sep/18 7:43 AM;suryalnvs;Started this test by sending a transaction per 5 sec to 1 peer in each org in the community-longrunning lab.;;;","07/Dec/18 8:28 AM;scottz;During v1.4 system testing, we can skip some tests from the regression bucket, including: the v1.3 longrunning tests (3 of them, low volume traffic for a week) and the old v1.3 sidedb performance tests (deprecated and replaced by more tests in v.14).;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Longrun forever samplejs node in CommunityLongrunProductionLab,FAB-11610,32880,,Test Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,suryalnvs,scottz,scottz,16/Aug/18 11:17 PM,07/Dec/18 8:28 AM,28/Oct/23 3:03 AM,07/Dec/18 8:28 AM,,,,,,v1.3.0,,,,,fabric-quality,,,,0,SystemTestcase,,,,,"In the Production Simulation Lab network, run a test scenario forever to exercise NODE chaincode sampleJS in commonchannel, requiring a peer in 3 orgs to do the endorsements. Set debug logs to ERROR, and monitor them for errors. Use a low traffic rate (max 1 tps) so this will run a long time before the lab runs out of disk space.

Use different peers in different orgs than the ones used for FAB-11609, the sampleCC go chaincode running in the same channelOne.",,scottz,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11603,,,,,,,,,,,,,,,,,,,,,,,FAB-11609,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-10080,,,Manual,,Unset,No,,,"1|hzzmy7:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,System Test,,(Please add usage information),scottz,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"05/Sep/18 8:55 AM;suryalnvs;Started the run by sending a transaction every 5 sec to a peer in each orgs.;;;","07/Dec/18 8:28 AM;scottz;During v1.4 system testing, we can skip some tests from the regression bucket, including: the v1.3 longrunning tests (3 of them, low volume traffic for a week) and the old v1.3 sidedb performance tests (deprecated and replaced by more tests in v.14).;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Longrun forever Marbles RichQueries, with and without Service Disc, in CommunityLongrunProductionLab",FAB-11611,32881,,Test Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,suryalnvs,scottz,scottz,16/Aug/18 11:24 PM,07/Dec/18 8:28 AM,28/Oct/23 3:03 AM,07/Dec/18 8:28 AM,,,,,,v1.3.0,,,,,fabric-quality,,,,0,SystemTestcase,,,,,"In the Production Simulation Lab network, run a test scenario forever to exercise marbles chaincode with rich queries in its own channel (e.g. marbleschannel), requiring a peer in 2 orgs to do the endorsements. Set debug logs to ERROR, and monitor them for errors.

Use a low traffic rate (max 1 Tx per minute) so this will run a long time before the lab runs out of disk space.

Using the same channel and chaincode and testcase, one runCases thread should specify the endorser peers, and another can run simultaneously run using Service Discovery.",,scottz,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11603,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-10080,,,Manual,,Unset,No,,,"1|hzzmyf:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,System Test,,(Please add usage information),scottz,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"05/Sep/18 11:06 PM;suryalnvs;Started the run without service discovery and sending the transactions at 1 per minute with Mix mode and rich queries.;;;","07/Dec/18 8:28 AM;scottz;During v1.4 system testing, we can skip some tests from the regression bucket, including: the v1.3 longrunning tests (3 of them, low volume traffic for a week) and the old v1.3 sidedb performance tests (deprecated and replaced by more tests in v.14).;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Longrun for Marbles PrivateDB, with and without Service Disc, in CommunityLongrunProductionLab",FAB-11612,32882,,Test Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,suryalnvs,scottz,scottz,16/Aug/18 11:36 PM,09/Jan/20 2:29 AM,28/Oct/23 3:03 AM,31/Jul/19 4:07 AM,,,,,,v1.4.0,,,,,fabric-quality,,,,0,,,,,,"In the Production Simulation Lab network, run a test scenario forever to exercise marbles_private chaincode using the SideDB. Run in its own channel (e.g. channelThree), requiring a peer in 2 orgs to do the endorsements. Set debug logs to ERROR, and monitor them for errors.

Use peers in Org0 (which is a member of every channel) and a unique org that is the only other org in this channel - a channel which is used for nothing else. We potentailly could use this channel in future for other traffic tests which use SideDB (using same or different peers within same two orgs).

Use a low traffic rate (max 1 Tx per minute) so this will run a long time before the lab runs out of disk space.

Using the same channel and chaincode and testcase, one runCases thread should specify the endorser peers, and another can run simultaneously run using Service Discovery.",,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11603,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-10080,,,Manual,,Unset,No,,,"1|hzzmyn:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Pass,,System Test,,(Please add usage information),scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
PTE to support CouchDB Pagination,FAB-11613,32883,,Test Task,Closed,FAB,Fabric,software,denyeart,,,High,Done,dongming,AdnanChoudhury,AdnanChoudhury,16/Aug/18 11:37 PM,22/Sep/18 4:18 AM,28/Oct/23 3:03 AM,22/Sep/18 4:18 AM,v1.3.0,,,,,v1.3.0,,,,,fabric-quality,,,,0,,,,,,PTE currently does not support the upcoming feature of CouchDB Pagination. Support for this feature will enable System tests.,,AdnanChoudhury,dongming,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-8824,,,,FAB-11715,FAB-11714,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-2247,,,No,,Unset,No,,,"1|hzzmyv:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,System Test,,(Please add usage information),AdnanChoudhury,dongming,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,,,,,,true,"20/Sep/18 2:46 AM;dongming;https://gerrit.hyperledger.org/r/#/c/26393/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"State Based Endorsement: TPS for 100K invokes, 50% keys with SBE",FAB-11614,32884,,Test Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,AdnanChoudhury,AdnanChoudhury,AdnanChoudhury,16/Aug/18 11:54 PM,03/Aug/19 4:18 AM,28/Oct/23 3:03 AM,04/Jan/19 7:39 AM,,,,,,v1.3.0,,,,,fabric-quality,,,,0,SystemTestcase,,,,,"*Setup*: 
Network Topology: 2 channels, 2 org, 2 peers per org, 4 kafka, 3 zookeepers, 3 orderers, 2 ca, TLS enabled, both org associate with all channels. CouchDB as StateDB, endorsement policy is 2-Org AND. 
Client Driver: PTE
*Test Steps*:
1) *chaincode*: each channel has one chaincode,  (EndorsementCC), instantiated
2) *100K transactions (initial phase)*
 4 threads, each thread sends 25000 invokes concurrently. thread 1 and 2 to set key values only and no SBEP, thread 2 and 4 to set both value and SBEP  
         thread 1 sends to org1 peer1 on channel 1
         thread 2 sends to org2 peer1 on channel 1
         thread 3 sends to org1 peer1 on channel 2
         thread 4 sends to org2 peer1 on channel 2
3) *100K transactions (test phase)*
 4 threads, each thread sends 25000 invokes concurrently. All 4 threads to update the values only.
*Result*:
1)hardware setup
2) TPS (invokes per second) achieved for step 3
3) CPU and memory usage for the Peers ",,AdnanChoudhury,MichaelWang,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11901,,,,,,,,,,,,,,,,,,,,,,,FAB-11615,FAB-16066,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-10083,,,Manual,,Unset,No,,,"1|hzzmz3:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,System Test,,(Please add usage information),AdnanChoudhury,MichaelWang,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,true,"11/Oct/18 12:14 AM;AdnanChoudhury;With the CC-only Endorsement policy:

{code:java}
=======  CONSTANT INVOKE Overall Performance Summary  =======
    CONSTANT INVOKE Overall number of PTE: 2
    CONSTANT INVOKE Overall processes: 2
    CONSTANT INVOKE Overall transactions: sent 100000 received 100000
    CONSTANT INVOKE Overall failures: proposal 0 transactions 0
    CONSTANT INVOKE Overall event: received 100000 timeout 0 unreceived 0
    CONSTANT INVOKE Overall time: start 1537465708507 end 1537468760911 duration 3052404
    CONSTANT INVOKE Overall CONSTANT INVOKE *TPS 32.76*
    CONSTANT INVOKE Overall latency summary
        CONSTANT INVOKE Overall proposals latency 100000 min 7 ms max 988 ms avg 49.97 ms
        CONSTANT INVOKE Overall transactions latency 100000 min 5 ms max 13339 ms avg 9.81 ms
        CONSTANT INVOKE Overall events latency 100000 min 5 ms max 27493 ms avg 2852.52 ms

{code}



With each SBEP for all keys,

{code:java}
=======  CONSTANT INVOKE Overall Performance Summary  =======
    CONSTANT INVOKE Overall number of PTE: 2
    CONSTANT INVOKE Overall processes: 2
    CONSTANT INVOKE Overall transactions: sent 100000 received 100000
    CONSTANT INVOKE Overall failures: proposal 0 transactions 0
    CONSTANT INVOKE Overall event: received 100000 timeout 0 unreceived 0
    CONSTANT INVOKE Overall time: start 1539179385679 end 1539182501350 duration 3115671
    CONSTANT INVOKE Overall CONSTANT INVOKE TPS *32.10*
    CONSTANT INVOKE Overall latency summary
        CONSTANT INVOKE Overall proposals latency 100000 min 7 ms max 1143 ms avg 51.24 ms
        CONSTANT INVOKE Overall transactions latency 100000 min 5 ms max 5289 ms avg 9.66 ms
        CONSTANT INVOKE Overall events latency 100000 min 751 ms max 8226 ms avg 2808.69 ms
        CONSTANT INVOKE Overall TEST RESULTS PASSED
{code}

From the TPS and other metrics, The SBEP does NOT seem to change the Invoke performance. This specific run saw only a 2% performance change, within the margin of error. 

Tested on a Vlaunch server, will be re-tested on a cluster. ;;;","25/Oct/18 10:34 PM;AdnanChoudhury;https://gerrit.hyperledger.org/r/#/c/27034/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"State Based Endorsement: TPS for 100K invokes, all keys with SBE",FAB-11615,32885,,Test Task,Closed,FAB,Fabric,software,denyeart,,,High,Done,AdnanChoudhury,AdnanChoudhury,AdnanChoudhury,16/Aug/18 11:55 PM,09/Jan/20 4:57 AM,28/Oct/23 3:03 AM,04/Jan/19 7:34 AM,,,,,,v1.3.0,,,,,fabric-quality,,,,0,SystemTestcase,,,,,"*Setup*: 
Network Topology: 2 channels, 2 org, 2 peers per org, each peer, 4 kafka, 3 zookeepers, 3 orderers, 2 ca, TLS enabled, both org associate with all channels. CouchDB as StateDB, endorsement policy is 2-Org AND. 
Client Driver: PTE
*Test Steps*:
1) *chaincode*: each channel has one chaincode,  (EndorsementCC), instantiated
2) *100K transactions (initial phase)*
 4 threads, each thread sends 25000 invokes concurrently. All the threads to set both value and SBEP  
         thread 1 sends to org1 peer1 on channel 1
         thread 2 sends to org2 peer1 on channel 1
         thread 3 sends to org1 peer1 on channel 2
         thread 4 sends to org2 peer1 on channel 2
3) *100K transactions (test phase)*
 4 threads, each thread sends 25000 invokes concurrently. All 4 threads to update the values only.
*Result*:
1)hardware setup
2) TPS (invokes per second) achieved for step 3
3) CPU and memory usage for the Peers",,AdnanChoudhury,MichaelWang,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11901,,,,,,,,,,,,,,,,,,,,FAB-11614,FAB-16066,,FAB-17328,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-10083,,,Manual,,Unset,No,,,"1|hzzmzb:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Pass,,System Test,,(Please add usage information),AdnanChoudhury,MichaelWang,scottz,,,,,,,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,true,"21/Sep/18 6:51 AM;AdnanChoudhury;With the CC-only Endorsement policy:

{code:java}
=======  CONSTANT INVOKE Overall Performance Summary  =======
    CONSTANT INVOKE Overall number of PTE: 2
    CONSTANT INVOKE Overall processes: 2
    CONSTANT INVOKE Overall transactions: sent 100000 received 100000
    CONSTANT INVOKE Overall failures: proposal 0 transactions 0
    CONSTANT INVOKE Overall event: received 100000 timeout 0 unreceived 0
    CONSTANT INVOKE Overall time: start 1537465708507 end 1537468760911 duration 3052404
    CONSTANT INVOKE Overall CONSTANT INVOKE *TPS 32.76*
    CONSTANT INVOKE Overall latency summary
        CONSTANT INVOKE Overall proposals latency 100000 min 7 ms max 988 ms avg 49.97 ms
        CONSTANT INVOKE Overall transactions latency 100000 min 5 ms max 13339 ms avg 9.81 ms
        CONSTANT INVOKE Overall events latency 100000 min 5 ms max 27493 ms avg 2852.52 ms

{code}



With each SBEP for all keys,

{code:java}
=======  CONSTANT INVOKE Overall Performance Summary  =======
    CONSTANT INVOKE Overall number of PTE: 2
    CONSTANT INVOKE Overall processes: 2
    CONSTANT INVOKE Overall transactions: sent 100000 received 100000
    CONSTANT INVOKE Overall failures: proposal 0 transactions 0
    CONSTANT INVOKE Overall event: received 100000 timeout 0 unreceived 0
    CONSTANT INVOKE Overall time: start 1537475643536 end 1537478712637 duration 3069101
    CONSTANT INVOKE Overall CONSTANT INVOKE *TPS 32.58*
    CONSTANT INVOKE Overall latency summary
        CONSTANT INVOKE Overall proposals latency 100000 min 7 ms max 1331 ms avg 50.82 ms
        CONSTANT INVOKE Overall transactions latency 100000 min 5 ms max 942 ms avg 9.07 ms
        CONSTANT INVOKE Overall events latency 100000 min 645 ms max 6496 ms avg 2797.57 ms

{code}

From the TPS and other metrics, The SBEP does NOT seem to change the Invoke performance. This specific run saw only a 0.5% performance change, within the margin of error. 

Tested on a Vlaunch server, will be re-tested on a cluster. ;;;","27/Sep/18 12:46 AM;AdnanChoudhury;https://gerrit.hyperledger.org/r/#/c/26526/;;;","19/Dec/18 8:13 AM;scottz;In 1.4, we decided it is not necessary to run this, since we are running the similar test with 50% SBE keys.;;;","19/Dec/18 8:19 AM;scottz;In v1.4, we don't need to run this, as it is very similar to another testcase.;;;","04/Jan/19 7:39 AM;AdnanChoudhury;For 1.4, this testcase was run.
Ran on a cluster of 4 nodes... each node has 16cpu * 16 GB
With CC-only endorsement policy:

{code:java}
=======  CONSTANT INVOKE Overall Performance Summary  =======
    CONSTANT INVOKE Overall number of PTE: 2
    CONSTANT INVOKE Overall processes: 2
    CONSTANT INVOKE Overall transactions: sent 100000 received 100000
    CONSTANT INVOKE Overall failures: proposal 0 transactions 0
    CONSTANT INVOKE Overall event: received 100000 timeout 0 unreceived 0
    CONSTANT INVOKE Overall time: start 1546543865239 end 1546546818169 duration 2952930
    CONSTANT INVOKE Overall CONSTANT INVOKE TPS 33.86
    CONSTANT INVOKE Overall latency summary
        CONSTANT INVOKE Overall proposals latency 100000 min 22 ms max 11680 ms avg 24.79 ms
        CONSTANT INVOKE Overall transactions latency 100000 min 21 ms max 1182 ms avg 32.56 ms
        CONSTANT INVOKE Overall events latency 100000 min 54 ms max 3241 ms avg 1193.50 ms
        CONSTANT INVOKE Overall TEST RESULTS PASSED

{code}
With each SBEP for all keys

{code:java}
=======  CONSTANT INVOKE Overall Performance Summary  =======
    CONSTANT INVOKE Overall number of PTE: 2
    CONSTANT INVOKE Overall processes: 2
    CONSTANT INVOKE Overall transactions: sent 100000 received 100000
    CONSTANT INVOKE Overall failures: proposal 0 transactions 0
    CONSTANT INVOKE Overall event: received 100000 timeout 0 unreceived 0
    CONSTANT INVOKE Overall time: start 1546547087412 end 1546550037163 duration 2949751
    CONSTANT INVOKE Overall CONSTANT INVOKE TPS 33.90
    CONSTANT INVOKE Overall latency summary
        CONSTANT INVOKE Overall proposals latency 100000 min 22 ms max 1553 ms avg 24.85 ms
        CONSTANT INVOKE Overall transactions latency 100000 min 18 ms max 1565 ms avg 32.38 ms
        CONSTANT INVOKE Overall events latency 100000 min 56 ms max 3199 ms avg 1210.71 ms
        CONSTANT INVOKE Overall TEST RESULTS PASSED

{code}


;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,
"State Based Endorsement: TPS for 100K invokes, all keys with SBE, concurrency factor of 4",FAB-11616,32887,,Test Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,AdnanChoudhury,AdnanChoudhury,AdnanChoudhury,17/Aug/18 12:09 AM,01/Aug/19 10:41 AM,28/Oct/23 3:03 AM,01/Aug/19 10:41 AM,,,,,,v1.3.0,,,,,fabric-quality,,,,0,SystemTestcase,,,,,"Setup: 
Network Topology: 2 channels, 2 org, 2 peers per org, 4 kafka, 3 zookeepers, 3 orderers, 2 ca, TLS enabled, both org associate with all channels. CouchDB as StateDB, endorsement policy is 2-Org AND. 
Batchsize 500 or more
GOMAXPROCS set to 4
Client Driver: PTE
Test Steps:
1) chaincode: each channel has one chaincode, (EndorsementCC), instantiated
2) 100K transactions (initial phase)
4 threads, each thread sends 25000 invokes concurrently. All the threads to set both value and SBEP 
in the same peer and same channel.
3) 100K transactions (test phase)
4 threads, each thread sends 25000 invokes concurrently. 2 threads to do value update only, 2 threads to do SBEP updates only, for the same keys.
Result:
1)hardware setup
2) TPS (invokes per second) achieved for step 3
3) CPU and memory usage for the Peers.",,AdnanChoudhury,MichaelWang,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11901,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-10083,,,Manual,,Unset,No,,,"1|hzzmzr:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Pass,,System Test,,(Please add usage information),AdnanChoudhury,MichaelWang,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"01/Aug/19 10:41 AM;scottz;A similar test with fewer transactions was completed.
There are no plans to do more, nor to automate this test.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
run fabric-test-daily-pte-master-x86_64 in a public IKS cluster,FAB-11617,32890,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,suryalnvs,scottz,scottz,17/Aug/18 2:08 AM,31/Jul/19 4:10 AM,28/Oct/23 3:03 AM,31/Jul/19 4:10 AM,v1.2.0,,,,,,,,,,fabric-ci,fabric-quality,,,0,,,,,,"Run the PTE SVT daily test suite, [https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-pte-master-x86_64/,] which includes some performance tests, in IKS cluster instead of in LF machine pool. The latter provides wildly fluctuating TPS test results over several days, and also produces intermittent test failures due to resource contention issues. Referring to the attachment ""CI vs IKS"", after running some tests for 5 days on both environments, it seems clear that a dedicated IKS cluster is more stable with less variability in the TPS results. There may be additional factors influencing the test results even in the IKS cluster, since it does not give perfectly consistent results, which we can troubleshoot further as we strive for more stable consistent performance test results.

We may wish to consider in future to move other jobs as well to the IKS environment, especially performance tests.

This story involves several tasks, such as: setting up a dedicated IKS cluster solely for this purpose, sharing the kubeconfig with the job, altering the job to use the IKS cluster instead of allocation a VM from LF pool, running the PTE tests using ATD in the network (instead of PTE running NL itself for each testcase), and possibly modifying testcases to run in the new environment.

 ",,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16061,,,,,,,,,,,,,,"17/Aug/18 2:00 AM;scottz;CI vs IKS.xlsx;https://jira.hyperledger.org/secure/attachment/15600/CI+vs+IKS.xlsx",,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,No,Unset,,,,,No,,Unset,No,,,"1|hzzn1r:",,,,No,Unset,,,(Please add steps to reproduce),,No,,,,,,Unset,,Unset,,(Please add usage information),scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Java SDK Test Message Payloads,FAB-11618,32891,,Test Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,latitiah,latitiah,latitiah,17/Aug/18 2:37 AM,01/Aug/19 11:42 AM,28/Oct/23 3:03 AM,01/Aug/19 11:42 AM,,,,,,v1.3.0,v2.0.0,,,,fabric-quality,,,,0,,,,,,"* Test Name: Message Payloads Using JavaSDK
* Description: The Orderer and peers should be able to handle payloads of differing sizes using the JavaSDK.
* Artifact Locations:  fabric/test/features
* Network Topology:  1 orderer, 3 kafka brokers (both solo and kafka orderers)
* Client Driver:  behave
* Input:  behave -n ""Message Payloads Using JavaSDK""
* Output: 2 steps passed, 0 failed ",,latitiah,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3851,FAB-11544,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzn1z:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Interoperability Test,,(Please add usage information),latitiah,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"01/Aug/19 11:42 AM;scottz;With the reworking of the interop tests, this will be covered (as much as deemed necessary) in java sdk IT tests being used for interop.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Function Test - Interoperability suite,FAB-11619,32893,,Epic,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,latitiah,latitiah,latitiah,17/Aug/18 2:48 AM,24/Jan/19 4:05 AM,28/Oct/23 3:03 AM,24/Jan/19 12:05 AM,,,,,,v1.3.0,v1.4.0,,,,fabric-quality,,,,0,,,,,,Any tests that are executed across multiple components across multiple repositories.,,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Core interop tests added. Other tests will be added incrementally.,"https://github.com/hyperledger/fabric/blob/release-1.3/testingInfo.rst

https://drive.google.com/file/d/1jBmym8DkIRvFmiHiLib9CFxOgql743jl/view",Available,Unset,Not Required,ghx-label-11,,Function Test - Interoperability suite,To Do,No,,Required,No,,,"1|hzzn2f:",,,,No,Not Required,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Standup an IKS cluster for running fabric-test-daily-pte-master-x86_64,FAB-11620,32895,32890,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,suryalnvs,suryalnvs,suryalnvs,17/Aug/18 3:02 AM,27/Aug/18 10:17 PM,28/Oct/23 3:03 AM,27/Aug/18 10:17 PM,,,,,,v1.3.0,,,,,fabric-quality,,,,0,,,,,,Standup an IKS Cluster for running pte daily tests from fabric-test repository.,,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzn2v:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"27/Aug/18 10:17 PM;suryalnvs;Created an IKS cluster and named it as Capricorn;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Java SDK Test with different chaincode languages,FAB-11621,32896,,Test Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,latitiah,latitiah,latitiah,17/Aug/18 3:04 AM,23/Jan/19 2:08 PM,28/Oct/23 3:03 AM,23/Jan/19 2:08 PM,,,,,,v1.3.0,v1.4.0,,,,fabric-quality,,,,0,,,,,,"* Test Name: Using JavaSDK with chaincode languages in Go, Node, and Java
* Description: The chaincodes should successfully execute using JavaSDK.
* Artifact Locations:  fabric/test/features
* Network Topology:  1 orderer, 3 kafka brokers (both solo and kafka orderers)
* Client Driver:  behave
* Input:  behave -n ""Using JavaSDK with chaincode""
* Output: 2 steps passed, 0 failed ",,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-11619,,,No,,Unset,No,,,"1|hzzn33:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Interoperability Test,,(Please add usage information),latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"29/Nov/18 2:00 AM;latitiah;https://gerrit.hyperledger.org/r/27785;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Provide the kubeconfig files of IKS cluster to run daily pte builds in CI ,FAB-11622,32897,32890,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,suryalnvs,suryalnvs,suryalnvs,17/Aug/18 3:12 AM,11/Jan/21 2:35 AM,28/Oct/23 3:03 AM,11/Jan/21 2:35 AM,,,,,,v1.3.0,,,,,fabric-ci,fabric-quality,,,0,,,,,,"To use IKS cluster from CI, build requires kubeconfig files of the created cluster to run pte daily tests against the cluster. Determine how these files will be maintained in the CI.",,btl5037,jwagantall,rameshthoomu,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzn3b:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),btl5037,jwagantall,rameshthoomu,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"17/Aug/18 6:01 AM;rameshthoomu;[~suryalnvs] Could you please provide more information on where to store these files in LF machines (Consider it as a ububutu machine) and what are the pre-requisties to install and do you suggest any PATH updates or Configuration Updates in CI machines..

So what I understand from the discussion or from this Story description is:

We have to copy the kubeconfig files in *master Jenkins* to kick off the tests on IKS (IBM Kubernetes environment) instead of using LF machines. Is this correct? If possible, could you please provide some Arch. diagram.

FYI [~tijohnson] [~jwagantall] Need your help here.;;;","17/Aug/18 8:09 AM;jwagantall; we talking about configuration files? 

If so, yes, we can store them as a custom settings file. ;;;","21/Aug/18 2:34 AM;rameshthoomu;[~jwagantall] Yes. We are planning to trigger tests from LF Jenkins but the tests will run on IBM kubernetes cluseter. This is because we are seeing lot of variablity in TPS numbers on  Performance tests.

[~suryalnvs] Will provide KubeConfig file to you in email. Once that done, could you please setup these config files in Jenkins to use them in Daily Jobs to trigger tests on IBM kubernetes cluster.

FYI [~bmos299]

 ;;;","20/Jan/19 1:21 AM;rameshthoomu;[~suryalnvs] [~scottz] Let's discuss this on monday and take a call on this task.;;;","07/Jan/20 1:05 AM;rameshthoomu;Assigning this to Surya as he made progress on running system tests using Azure CI pipeline on IKS cluster.;;;","11/Jan/21 2:10 AM;btl5037;As part of backlog grooming closing issue as stale. Issue can be reopened in the future.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,
Performance Baseline Test Set with Barebones Network - Add Threads,FAB-11623,32898,,Test Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,scottz,scottz,17/Aug/18 3:30 AM,10/Jan/20 5:51 AM,28/Oct/23 3:03 AM,26/Oct/18 1:38 AM,,,,,,v1.4.0,,,,,fabric-ci,fabric-quality,,,0,SystemTestcase,,,,,"Add testcase https://jira.hyperledger.org/browse/FAB-10677 into the release test suite or weekly test suite, once we are able to run jobs to grab a kubeconfig and use HFRD to start a network in IKS. This may require some changes in fabric-test/tools/ATD/, and jenkins job control.

That testcase 10677 was executed in vLaunch environment in v1.4, v1.3, v1.2, v1.1.",,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-10677,,,FAB-17350,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-10082,,,Manual,,Unset,No,,,"1|hzzn3j:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,System Test,,(Please add usage information),scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"13/Sep/18 5:35 AM;scottz;Dongming ran this test.

The automation part remains to be done.

We could put this into our weekly test suite run from CI. Or we could use this as the pilot test to run in K8S cluster with new test framework in development.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Create a script to run pte daily tests in CI using cello and ATD,FAB-11624,32900,32890,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,suryalnvs,suryalnvs,17/Aug/18 3:45 AM,23/Jan/20 4:14 AM,28/Oct/23 3:03 AM,23/Jan/20 4:14 AM,,,,,,v1.3.0,,,,,fabric-quality,,,,0,stale-item,,,,,"Automate the pte daily tests to run in CI using cello/ATD. Create another script inside fabric-test/regression/daily/ for this (which will be our new chosen alternative to runDailyPteTestSuite.sh). We may need to edit the fabric-test/Makefile as well, to execute this script.",,scottz,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzn3r:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),scottz,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Change Testviewer to graph the results from pte daily tests against IKS,FAB-11625,32901,32890,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,suryalnvs,suryalnvs,17/Aug/18 3:48 AM,23/Jan/20 4:16 AM,28/Oct/23 3:03 AM,23/Jan/20 4:16 AM,,,,,,v1.3.0,,,,,fabric-quality,,,,0,stale-item,,,,,"Change test-viewer to graph the results from pte daily tests being run in the IKS cluster.

If both jobs are running daily (in LF and IKS), create 2 charts of displays; but if the LF job is deleted, then of course delete the testviewer chart of the LF job.",,scottz,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzn3z:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),scottz,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Enable pte daily tests in CI against IKS using cello/ATD,FAB-11626,32902,32890,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,rameshthoomu,suryalnvs,suryalnvs,17/Aug/18 4:19 AM,15/Aug/19 11:46 PM,28/Oct/23 3:03 AM,15/Aug/19 11:46 PM,,,,,,v1.3.0,,,,,fabric-ci,fabric-quality,,,0,,,,,,Enable running pte daily tests in CI against IKS using cello/ATD,,rameshthoomu,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzn47:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rameshthoomu,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"20/Jan/19 1:22 AM;rameshthoomu;[~suryalnvs] Will discuss this on monday.;;;","15/Aug/19 11:46 PM;rameshthoomu;Confirmed with Surya, This request is no more valid.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Create necessary environment files for cello and ATD in fabric-test to run pte daily tests,FAB-11627,32903,32890,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,suryalnvs,suryalnvs,17/Aug/18 4:22 AM,23/Jan/20 4:15 AM,28/Oct/23 3:03 AM,23/Jan/20 4:15 AM,,,,,,v1.3.0,,,,,fabric-quality,,,,0,stale-item,,,,,Create necessary environment files for cello and ATD in fabric-test repository to run pte daily tests in IKS cluster,,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzn4f:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Standardize gossip PKI-ID log entries,FAB-11628,32905,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,inbarbadian,yacovm,yacovm,17/Aug/18 7:52 AM,28/Dec/18 7:22 AM,28/Oct/23 3:03 AM,28/Dec/18 7:22 AM,v1.4.0,,,,,,,,,,fabric-gossip,,,,0,hygiene,,,,,"Gossip prints the peer's PKI-ID in several ways, some of them are just as byte slices, and some of them as gibberish:
{code}
2018-08-16 22:44:21.141 UTC [gossip/gossip] ValidateAliveMsg -> DEBU 241 Fetched identity of [251 246 50 166 180 106 213 191 88 226 160 5 151 65 12 184 65 38 60 148 64 89 135 255 44 253 18 255 217 125 59 37] from identity store
2018-08-16 22:44:21.143 UTC [gossip/discovery] handleAliveMessage -> DEBU 242 Got alive message about ourselves, GossipMessage: tag:EMPTY alive_msg:<membership:<endpoint:""peer0.org1.example.com:7051"" pki_id:""\373\3662\246\264j\325\277X\342\240\005\227A\014\270A&<\224@Y\207\377,\375\022\377\331};%"" > timestamp:<inc_num:1534459441049472870 seq_num:17 > > , Envelope: 83 bytes, Signature: 71 bytes Secret payload: 29 bytes, Secret Signature: 71 bytes
2018-08-16 22:44:21.143 UTC [gossip/discovery] handleAliveMessage -> DEBU 243 Exiting
2018-08-16 22:44:21.146 UTC [gossip/discovery] handleAliveMessage -> DEBU 244 Entering GossipMessage: tag:EMPTY alive_msg:<membership:<endpoint:""peer1.org1.example.com:7051"" pki_id:""C\000?\252\001\266\254{Ttp\2720\213\313I%\240\266~j\275\225\375h\236Cj\325\235 \320"" > timestamp:<inc_num:1534459439254973591 seq_num:17 > > , Envelope: 83 bytes, Signature: 70 bytes Secret payload: 29 bytes, Secret Signature: 71 bytes
2018-08-16 22:44:21.146 UTC [gossip/gossip] ValidateAliveMsg -> DEBU 245 Fetched identity of [67 0 63 170 1 182 172 123 84 116 112 186 48 139 203 73 37 160 182 126 106 189 149 253 104 158 67 106 213 157 32 208] from identity store
2018-08-16 22:44:21.149 UTC [gossip/discovery] learnExistingMembers -> DEBU 246 Entering: learnedMembers={[GossipMessage: tag:EMPTY alive_msg:<membership:<endpoint:""peer1.org1.example.com:7051"" pki_id:""C\000?\252\001\266\254{Ttp\2720\213\313I%\240\266~j\275\225\375h\236Cj\325\235 \320"" > timestamp:<inc_num:1534459439254973591 seq_num:17 > > , Envelope: 83 bytes, Signature: 70 bytes Secret payload: 29 bytes, Secret Signature: 71 bytes]}
2018-08-16 22:44:21.149 UTC [gossip/discovery] learnExistingMembers -> DEBU 247 updating membership:<endpoint:""peer1.org1.example.com:7051"" pki_id:""C\000?\252\001\266\254{Ttp\2720\213\313I%\240\266~j\275\225\375h\236Cj\325\235 \320"" > timestamp:<inc_num:1534459439254973591 seq_num:17 > 
2018-08-16 22:44:21.149 UTC [gossip/discovery] learnExistingMembers -> DEBU 248 Updating aliveness data: membership:<endpoint:""peer1.org1.example.com:7051"" pki_id:""C\000?\252\001\266\254{Ttp\2720\213\313I%\240\266~j\275\225\375h\236Cj\325\235 \320"" > timestamp:<inc_num:1534459439254973591 seq_num:17 > 
2018-08-16 22:44:21.149 UTC [gossip/discovery] learnExistingMembers -> DEBU 249 Replacing GossipMessage: tag:EMPTY alive_msg:<membership:<endpoint:""peer1.org1.example.com:7051"" pki_id:""C\000?\252\001\266\254{Ttp\2720\213\313I%\240\266~j\275\225\375h\236Cj\325\235 \320"" > timestamp:<inc_num:1534459439254973591 seq_num:16 > > , Envelope: 83 bytes, Signature: 71 bytes Secret payload: 29 bytes, Secret Signature: 70 bytes in aliveMembership
{code}

We'd want to standardize the PKI-ID printing to be all [hex-encoded|https://golang.org/pkg/encoding/hex/#EncodeToString]. ",,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzn4v:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
De-vipererize gossip and use config structs instead,FAB-11629,32906,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,hagarm,yacovm,yacovm,17/Aug/18 8:08 AM,26/Feb/19 6:41 PM,28/Oct/23 3:03 AM,26/Feb/19 6:41 PM,v2.0.0,,,,,,,,,,fabric-gossip,,,,0,hygiene,,,,,"Currently, a large part of gossip configuration relies on viper getter invocations.
This creates problems in tests, because viper isn't thread safe.

 

We should instead inject configuration via structs, and have the viper config at higher levels.",,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzn53:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Differentiate between error and nil policy while fetching the collection policy from the collection store,FAB-11630,33003,18801,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,nirro,Senthil1,Senthil1,17/Aug/18 6:12 PM,14/Oct/18 11:22 PM,28/Oct/23 3:03 AM,14/Oct/18 11:22 PM,,,,,,v1.3.0,,,,,fabric-gossip,,,,0,,,,,,"The return type of accessPolicyForCollection should be (policy, error). If an error occurred due to the unavailability of database, we should stop committing blocks for the associated chain.

The policy can never be nil for a valid collection.

For collections which were never defined, the policy would be nil and we can safely move on to the next collection.",,C0rWin,denyeart,manish-sethi,nirro,Senthil1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzn5j:",,,,Unset,Unset,Next Items- Ledger,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),C0rWin,denyeart,manish-sethi,nirro,Senthil1,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"17/Aug/18 6:13 PM;Senthil1;[~C0rWin] [~manish-sethi] [~denyeart] Should we make a CR for v1.2 release too?;;;","17/Aug/18 8:58 PM;denyeart;[~Senthil1] If there is a negative impact to v1.2 users, yes a fix can be backported to release-1.2 for the next fixpack v1.2.1.  The impact to users is not clear to me yet...;;;","18/Aug/18 12:16 AM;manish-sethi;This may not be mandatory for 1.2 as we were already proceeding with missing data and among other reasons, this one has the rare possibility to cause the missing data.;;;","18/Aug/18 1:10 AM;C0rWin;IMO we can make it for v1.2, the fix is not very complex.;;;","18/Aug/18 2:09 AM;manish-sethi;Sure [~C0rWin] - Yes, its simple enough to back port.;;;","18/Aug/18 2:20 AM;C0rWin;I'm going to be out for next two, week, [~manish-sethi] could you please reach out [~nirro] to contain fix into v1.3?;;;","30/Aug/18 11:25 PM;nirro;https://gerrit.hyperledger.org/r/25979;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
GetPrivateDataByRange iterator throws nil pointer panic exception when there are no transactions,FAB-11631,33004,,Bug,Closed,FAB,Fabric,software,denyeart,,,Highest,Invalid: Environment Issue,Tony12345,HellBoy_23,HellBoy_23,17/Aug/18 6:17 PM,05/Dec/18 6:23 AM,28/Oct/23 3:03 AM,05/Dec/18 6:23 AM,v1.2.0,,,,,,,,,,fabric-ledger,fabric-peer,,,0,,,,,,"func (t *SimpleChaincode) getAllData(collection string) pb.Response {
 //_,args:=stub.GetFunctionAndParameters()
 var stub1 shim.ChaincodeStubInterface
 *{color:#de350b}//----------> The below line throws panic as the state is empty <----------{color}*

resultsIterator, err := stub1.GetPrivateDataByRange(collection, """", """") 
 if resultsIterator != nil {

if err != nil

{ return shim.Error(err.Error()) }
 
 fmt.Println(""resultsIterator"")
 fmt.Println(resultsIterator)
 
 mp := make(map[string]string)
 
 for i := 0; resultsIterator.HasNext(); i++ {
 responseRange, err := resultsIterator.Next()
 if err != nil
 \{ return shim.Error(err.Error()) }

fmt.Println(""Key: "" + string(responseRange.Key))
 fmt.Println(""Value: "" + string(responseRange.Value))
 mp[string(responseRange.Key)] = string(responseRange.Value)
 }
 defer resultsIterator.Close()
 jsonStr, _ := json.Marshal(mp)
 fmt.Println(jsonStr)

return shim.Success(jsonStr)
 } else {
 return shim.Success([]byte(`{}`))
 }

}",,denyeart,HellBoy_23,manish-sethi,sykesm,Tony12345,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzn5r:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,HellBoy_23,manish-sethi,sykesm,Tony12345,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"17/Aug/18 8:30 PM;denyeart;[~HellBoy_23] Do you see an error message, or does the peer panic and shut down? 
Please paste the error/panic message.
Which database are you using?;;;","20/Aug/18 3:46 PM;HellBoy_23;[~denyeart] Iam using the default database.The error i got is:

panic: runtime error: invalid memory address or nil pointer dereference
panic: runtime error: invalid memory address or nil pointer dereference
[signal SIGSEGV: segmentation violation code=0x1 addr=0x30 pc=0x8e55a6]

goroutine 42 [running]:
github.com/hyperledger/fabric/core/chaincode/shim.(*Handler).triggerNextState(0xc42007ade0, 0x0, 0xc420084c60)
/opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/shim/handler.go:35 +0x26
github.com/hyperledger/fabric/core/chaincode/shim.(*Handler).handleTransaction.func1.1(0xc42007ade0, 0xc4206e1ec8, 0xc420084c60)
/opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/shim/handler.go:247 +0x42
panic(0xa71400, 0x10a9c50)
/opt/go/src/runtime/panic.go:505 +0x229
main.(*SimpleChaincode).getAllData(0x111b058, 0xc420035c66, 0x4, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0)
/chaincode/input/src/chain197/example_cc.go:328 +0x11d
main.(*SimpleChaincode).STORE_197(0x111b058, 0xbb5660, 0xc4201b6dc0, 0xc420030520, 0x8, 0x8, 0x0, 0x0, 0x0, 0x0, ...)
/chaincode/input/src/chain197/example_cc.go:242 +0x15f3
main.(*SimpleChaincode).Invoke(0x111b058, 0xbb5660, 0xc4201b6dc0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0)
/chaincode/input/src/chain197/example_cc.go:69 +0x610
github.com/hyperledger/fabric/core/chaincode/shim.(*Handler).handleTransaction.func1(0xc42007ade0, 0xc420084c60, 0xc4206f2000)
/opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/shim/handler.go:273 +0x4f9
created by github.com/hyperledger/fabric/core/chaincode/shim.(*Handler).handleTransaction
/opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/shim/handler.go:242 +0x53;;;","06/Sep/18 9:11 PM;denyeart;[~manish-sethi] Can you take a look?;;;","06/Sep/18 9:12 PM;denyeart;[~Tony12345] I just noticed that you are assigned.  Are you working on this one?;;;","06/Sep/18 11:47 PM;manish-sethi;The issue is not an empty state. Most likely, following is happening

In the call `GetPrivateDataByRange(collection, """", """") `, the collection that is being passed not defined in the collection configuration. In this case, ledger will return a `nil` iterator and an error \{""collection [...] not defined in the collection config for chaincode [...]""}.

Chaincode handler not checking for error or passing on to the chaincode and end up accessing the `nil` iterator on the Next call

[~sykesm] - can you look at this in the chaincode handler.;;;","07/Sep/18 2:28 AM;sykesm;If this is the code you're using, I'm pretty sure you're dereferencing a nil stub:

 var stub1 shim.ChaincodeStubInterface
 //----------> The below line throws panic as the state is empty <----------

resultsIterator, err := stub1.GetPrivateDataByRange(collection, """", """") 
 if resultsIterator != nil {

Your stub is uninitialized.

If this isn't the code, please attach the logs.;;;","07/Sep/18 2:31 AM;sykesm;Correction:

If this *is* the code, please fix the code. If this *isn't* the code, please attach logs.;;;","05/Dec/18 6:23 AM;sykesm;Appears to be a chaincode implementation issue. No updates so closing.

If you continue to have problems, please update the issue.

Thanks.;;;",,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade grpc-go package to version 1.15.0,FAB-11632,33005,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,mastersingh24,mastersingh24,mastersingh24,17/Aug/18 6:22 PM,29/Sep/18 8:13 AM,28/Oct/23 3:03 AM,29/Sep/18 8:13 AM,,,,,,v1.4.0,,,,,fabric-orderer,fabric-peer,,,0,hygiene,,,,,Basic hygiene so that we don't fall behind grpc-go releases and have to make major changes if/when upgrading in the future,,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzn5z:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
ReadSets value in RWSet is empty.,FAB-11633,33000,,Bug,Closed,FAB,Fabric,software,denyeart,,,Low,Invalid: Works as Expected,,nedoli,nedoli,17/Aug/18 1:21 PM,21/Aug/18 12:27 AM,28/Oct/23 3:03 AM,21/Aug/18 12:27 AM,v1.1.0,v1.2.0,,,,,,,,,,,,,0,,,,,,"Our system is getting block from block listener since v1.0.
In 1.0, block has the ""ReadSet"" for key version.
But, in 1.1, 1.2, there is no ReadSet value.

In 1.0,
{
	""writeSet"": [{
			""isDelete"": ""false"",
			""value"": ""2"",
			""key"": ""a""
		}
	],
	""readSet"": [{
                        ""version"": ""block_num: 27"",
			""key"": ""a""
		}
	]
}

In 1.1, 1.2,
{
	""writeSet"": [{
			""isDelete"": ""false"",
			""value"": ""2"",
			""key"": ""a""
		}
	],
	""readSet"": []
}
",,denyeart,nedoli,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzn5b:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,nedoli,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"17/Aug/18 10:14 PM;rickr;The SDK code has not changed and it just gives the result from the fabric.  The fact that it got the matching writeSet strongly suggest the api it self is working. 
The only things to me that makes sense is  the chaincode is no longer really doing a read, Something wrong with the chaincode shim, ledger is not recording the read. 
Can you put trace code in your chaincode that outputs to log value of a read. ;;;","17/Aug/18 10:19 PM;rickr;[~denyeart] thoughts ?;;;","18/Aug/18 12:28 PM;denyeart;I tested on v1.2 peer, and the readset is populated for me.  As proof I tried two conflicting transactions with same readset dependency, and sure enough the second one got invalidated.  This proves that there was a readset in the block's transaction.

Perhaps the user chaincode isn't doing any reads?  Anyways, will ask [~nedoli] to provide some more evidence that readset is missing.;;;","18/Aug/18 1:55 PM;nedoli;I did use the shim function as below in chain code.
first step, stub.PutState(""a"", ""1"") <- generate in block_num 27
second step, stub.PutState(""a"", ""2"") <- generate in block_num 27+...

In 1.0, I found the read set for 'a' in second step.
I think that 'a' key version must be included in second step for endorsement.

{
""writeSet"": [
{ ""isDelete"": ""false"", ""value"": ""2"", ""key"": ""a"" }
],
""readSet"": [
{ ""version"": ""block_num: 27"", ""key"": ""a"" }
]
}

but, in 1.2, there is no read set for 'a' in second step.
In 1.1, 1.2,
{
""writeSet"": [
{ ""isDelete"": ""false"", ""value"": ""2"", ""key"": ""a"" }
],
""readSet"": []
}
;;;","18/Aug/18 10:30 PM;denyeart;[~nedoli] If you do a PutState() but not GetState(), it is expected that the readset will be empty.;;;","18/Aug/18 11:50 PM;nedoli;[~denyeart] In transaction, is the readset version for key(used writeset)?? 

Regarding ""https://jira.hyperledger.org/secure/attachment/10585/HyperledgerFabric_LedgerV1_20170315.pptx"",

--- Logical structure of a ReadWriteSet ---

Block{

   Transactions [

       {

            ""Id"" : txUUID2

            ""Invoke"" : “Method(arg1, arg2,..,argN)""

            “TxRWSet"" : [

         { ”Chaincode” : “ccId”

{color:#FF0000}   “Reads”:[\{""key"" : “key1"", ""version” : “v1” }]{color}

   “Writes”:[\{""key"" : “key1"", ”value"" : bytes1}]

         }// end chaincodeRWSet

    ] // end TxRWSet

       },  // end transaction with ""Id"" txUUID2

 

      \{ // another transaction }, 

   ] // end Transactions

}// end Block

-------------------------

Endorsing Peer (Simulation):
•Simulates transaction and generates ReadWriteSet
Committing Peer (Validation/Commit):
•Read set is utilized by MVCC validation check to ensure values read during simulation have not changed (ensures serializable isolation).
•Block is added to chain and each valid tran’sWrite Set is applied to state database
 ;;;","19/Aug/18 4:14 AM;denyeart;I don't understand the question... in the example from the pptx there was both a GetState() and PutState() call in the chaincode simulation, that's why there is a readset and writeset.;;;","20/Aug/18 8:45 PM;nedoli;I'm sorry for bothering you. I misunderstood regarding read/write set.

Thank you.

 ;;;",,,,,,,,,,,,,,,,,,,,,,,,,
Add script for executing interoperability tests in CI,FAB-11634,33012,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,latitiah,latitiah,latitiah,18/Aug/18 12:59 AM,31/Oct/18 3:14 AM,28/Oct/23 3:03 AM,23/Aug/18 11:42 PM,,,,,,,,,,,,,,,0,,,,,,"Add a script for executing interoperability tests in CI. These tests will be executed whenever merges from upstream jobs take place. Builds will only be published once these tests pass.

Use the @interop tag when executing these tests.",,latitiah,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzn7b:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),latitiah,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,true,"18/Aug/18 1:10 AM;latitiah;https://gerrit.hyperledger.org/r/25627;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
fabric-test daily PTE tests stderr msgs for missing optional files,FAB-11635,33013,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,scottz,scottz,scottz,18/Aug/18 2:50 AM,19/Mar/19 8:13 PM,28/Oct/23 3:03 AM,20/Nov/18 11:33 PM,v1.2.0,v1.3.0,v1.4.0,,,,,,,,fabric-quality,,,,0,ci-failure,,,,,"Some error msgs are confusing people that examine logs after automated test jobs. These seem to be msgs that can be ignored, because they are not actually indicative of (or causing) test failures. We should clean them up, at least in master branch, assuming there are no conditions that require them to be printed.
 # Can't find a suitable configuration file in this directory or any
 parent. Are you in the right directory?

Supported filenames: docker-compose.yml, docker-compose.yaml
 # ls: cannot access 'CITest/FAB-3832-4i/preconfig/channels/runCases*update*': No such file or directory

 

*+Probable Solution for #1+*: This error comes from executing a PTE test for the first time, when no network is running yet. The error msg comes from any typcial test_nl.sh script for virtually every PTE test, for example PTE/CITest/FAB-3832-4i/test_nl.sh. All the tests use the default docker-compose.yml filename, so none of them bother to specify the yml filename on the command line `./networkLauncher.sh -a down`. The solution is to fix the NL/cleanNetwork.sh shell script, to check if a docker-compose.yml or .yaml file exists; and if yes then call ""docker-compose down"" as usual to clean up a network, else (to cover all usecases) we can echo a line to stdout such as ""cannot clean up any network; cannot find docker-compose.yaml file"". Currently, when running a group of PTE tests, each one always tries to clean up any network leftover from previous test and then creates its own network. Obviously the first one will try to cleanup a network that does not exist - thus leading to the stderr msg.

 

*+Probable Solution for #2:+*  this is produced when certain optional files (for config updates for anchor peers) do not exist in the testcase. When inside PTE/CITest/scripts/test_channel.sh, a script used by virtually all PTE testcases, we could redirect stderr to /dev/null during the execution of the ""ls"" command (see below), since we know the files named '**update**' are optional. The subsequent lines in test_channel.sh obviously allow for the fact that there could be Probable Solution for #1no files listed, so it is ok to actually hide the stderr msg that is triggered by executing the ""ls"" command in line 43 of [https://gerrit.hyperledger.org/r/#/c/24477/4/tools/PTE/CITest/scripts/test_channel.sh|https://gerrit.hyperledger.org/r/#/c/24477/4/tools/PTE/CITest/scripts/test_channel.s]

Change this from old (current):

    runUpdate=`ls CITest/$PrecfgDir/preconfig/channels/runCases*update*`

Change to new:

    runUpdate=`ls CITest/$PrecfgDir/preconfig/channels/runCases*update* 2>/dev/null`

Note: Similar enhancement could conceivably be made to other similar lines in this same script file, too, including the following, if it is determined that these could be optional too in any testcases:

    runCreate=`ls CITest/$PrecfgDir/preconfig/channels/runCases*create`

and

    runJoin=`ls CITest/$PrecfgDir/preconfig/channels/runCases*join*`",,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzn7j:",,,,Unset,Unset,,,"For #1, run any pte test scenario in PTE/CITest/scenarios/.
For #2, run any test in master branch (except the one or two sidedb tests that actually use the anchor peer config updates.",,Unset,,,,,,Unset,,Unset,,(Please add usage information),scottz,,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,true,"18/Aug/18 5:52 AM;scottz;Rajesh, we would like to assign this to you; the 2nd error msg was introduced with your sidedb changeset for the anchorpeers channel config updates. The first error msg has been there awhile, but we just figured out the root cause today. We triaged and propose solutions to both errors, so I am sure you could do this very quickly. Thanks!;;;","03/Oct/18 11:45 PM;scottz;This bug is not BLOCKing any CI tests, but fixing as described would certainly reduce clutter in the stdout/stderr logs which would allow people to focus on the true problems and aid debugging efforts.;;;","17/Nov/18 4:36 AM;scottz;https://gerrit.hyperledger.org/r/#/c/27614/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Typo in warning messages at configtxgen,FAB-11636,33014,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,nnao,nnao,nnao,18/Aug/18 3:08 AM,19/Aug/18 4:30 AM,28/Oct/23 3:03 AM,19/Aug/18 4:30 AM,v1.2.0,,,,,v1.3.0,,,,,fabric-tools,,,,0,,,,,,"There is a typo(specificiations -> specifications)  in the warning message at common/tools/configtxgen/encoder/encoder.go
L143:
{code} 
if len(conf.Policies) == 0 {
logger.Warningf(""Default policy emission is deprecated, please include policy specificiations for the channel group in configtx.yaml"")
addImplicitMetaPolicyDefaults(channelGroup)
{code}
Also L193, L255, L274 and L312 have same typo.",,nnao,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzn7r:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),nnao,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"18/Aug/18 7:37 AM;nnao;https://gerrit.hyperledger.org/r/#/c/25639/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
fabric-test tests python reports failure when subprocess shell returns exit code 1 with a count of 0 from grep -c command,FAB-11637,33015,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,scottz,scottz,scottz,18/Aug/18 3:53 AM,19/Mar/19 8:13 PM,28/Oct/23 3:03 AM,22/Aug/18 11:15 PM,v1.3.0,,,,,v1.3.0,,,,,fabric-quality,,,,0,ci-failure,,,,,"A value of zero can be an acceptable outcome when using the counter option of the grep command, but when that happens the shell returns exit code 1 instead of 0 thinking it is an error. Observe the following code in regression/daily/systest_pte.py. When the grep returns 0 instances of the search string, it errors out and we do not even get to execute the assertEqual command. The error reported by the script indicates a shell return code of 1 (which would normally be interpreted as suggesting an execution failure of the grep command itself) instead of saying the assertion failed to match the expected number of occurances.

invokeTxSucceeded = subprocess.check_output(
 ""grep -c \""Channel: all, tx Num: 40000,\"" result_FAB-3832-4i.log"",
 cwd=scenarios_directory, shell=True)
 self.assertEqual(int(invokeTxSucceeded.strip()), 2)

This makes it laborious to troubleshoot the root cause of issues. A proposed solution is to rework the `grep -c pattern logfile` implementation in every test, instead use `grep pattern logfile | wc -l` which will always return an exit code of 0 along with a line count (even if the linecount is 0 whenever there are no instances of pattern in logfile).

This was discovered during investigation of errors in this daily pte test suite test run:

[https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-pte-release-1.2-x86_64/8/testReport/junit/systest_pte/Perf_Stress_CouchDB/test_FAB3832_4i_FAB3834_4q/]

 ",,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11186,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzn7z:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),scottz,,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
PTE testcase: stability after long rest,FAB-11638,33016,,Test Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,dongming,dongming,dongming,18/Aug/18 5:19 AM,07/Dec/18 5:35 AM,28/Oct/23 3:03 AM,07/Dec/18 5:35 AM,v1.2.0,,,,,v1.3.0,,,,,fabric-quality,,,,0,SystemTestcase,,,,,"(This was created in response to a customer support request; an issue was seen in the customer site.)

PTE testcase (using node sdk): stability after long rest
 # bring up a network (1 channel, 2 org, 2 peers per org, 1 orderers, kafka, levelDB) and create/join channel and install/instantiate chaincode (optional)
 # execute 10000 transactions to the first peer of each org and validate all transactions on all peers
 # rest for 2 days
 # execute 10000 transactions to the first peer of each org and validate all transactions on all peers

result:

pass if all transactions are validated successfully

fail otherwise",,dongming,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12032,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-10080,,,Manual,,Unset,No,,,"1|hzzn87:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,System Test,,(Please add usage information),dongming,scottz,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,release-2.4,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,lindluni-patch-1,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,,,,,,true,"08/Sep/18 5:19 AM;dongming;https://gerrit.hyperledger.org/r/#/c/26173/;;;","11/Sep/18 1:15 AM;scottz;As discussed, I will merge this passing testcase now, but we should keep open the Jira issue in order to address the improvement items identified during the code review.;;;","12/Sep/18 10:30 PM;dongming;[https://gerrit.hyperledger.org/r/#/c/26249/]

This CR is to enhance this testcase with

1. add timestamp when the long rest start and end

2. create 3 orderers to increase idle

3. add warning msg in gen_PTEcfg.js;;;","18/Sep/18 3:03 AM;scottz;FAB-12032 has been opened to address in future the additional feedback comments requested during the inspection of this 11638 solution.;;;","07/Dec/18 5:35 AM;scottz;This was completed and executed in 1.3, but we are withdrawing now with Resolution=""Won't Do"" in 1.4 because of this being a not-very-useful testcase which takes 3 days to do nothing. We can revisit and possibly run in next release.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,
Address data races in gossip/discovery,FAB-11639,33017,31531,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wael,yacovm,yacovm,18/Aug/18 6:54 AM,13/Jan/19 6:26 AM,28/Oct/23 3:03 AM,01/Jan/19 8:31 PM,v1.4.0,,,,,,,,,,fabric-gossip,,,,0,hygiene,,,,,,,wael,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzn8f:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),wael,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"06/Dec/18 10:33 PM;wael;https://gerrit.hyperledger.org/r/27986;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Address data races in gossip/identity,FAB-11640,33018,31531,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wael,yacovm,yacovm,18/Aug/18 6:55 AM,23/Nov/18 6:41 AM,28/Oct/23 3:03 AM,23/Nov/18 6:41 AM,v1.4.0,,,,,,,,,,fabric-gossip,,,,0,hygiene,,,,,,,wael,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzn8n:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),wael,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"18/Nov/18 9:27 PM;wael;https://gerrit.hyperledger.org/r/27627;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Address data races in gossip/integration,FAB-11641,33019,31531,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wael,yacovm,yacovm,18/Aug/18 6:55 AM,23/Nov/18 6:41 AM,28/Oct/23 3:03 AM,23/Nov/18 6:41 AM,v1.4.0,,,,,,,,,,fabric-gossip,,,,0,hygiene,,,,,,,C0rWin,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzn8v:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),C0rWin,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"12/Nov/18 10:12 PM;C0rWin;https://gerrit.hyperledger.org/r/#/c/27505/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Address data races in gossip/service,FAB-11642,33020,31531,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ronenschafferibm,yacovm,yacovm,18/Aug/18 7:00 AM,20/Jun/19 9:23 PM,28/Oct/23 3:03 AM,20/Jun/19 9:23 PM,v1.4.0,,,,,v2.0.0,,,,,fabric-gossip,,,,0,hygiene,,,,,"{quote}
==================
WARNING: DATA RACE
Write at 0x00c00058b5d0 by goroutine 1632:
  github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*clientStream).CloseSend()
      /Users/bartem/golang/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/stream.go:751 +0x5e
  github.com/hyperledger/fabric/protos/gossip.(*gossipGossipStreamClient).CloseSend()
      <autogenerated>:1 +0x62
  github.com/hyperledger/fabric/gossip/comm.(*connection).close()
      /Users/bartem/golang/src/github.com/hyperledger/fabric/gossip/comm/conn.go:239 +0x1d6
  github.com/hyperledger/fabric/gossip/comm.(*connectionStore).onConnected()
      /Users/bartem/golang/src/github.com/hyperledger/fabric/gossip/comm/conn.go:169 +0x189
  github.com/hyperledger/fabric/gossip/comm.(*commImpl).GossipStream()
      /Users/bartem/golang/src/github.com/hyperledger/fabric/gossip/comm/comm_impl.go:580 +0x3bf
  github.com/hyperledger/fabric/protos/gossip._Gossip_GossipStream_Handler()
      /Users/bartem/golang/src/github.com/hyperledger/fabric/protos/gossip/message.pb.go:2758 +0xcd
  github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*Server).processStreamingRPC()
      /Users/bartem/golang/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/server.go:1170 +0x1602
  github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*Server).handleStream()
      /Users/bartem/golang/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/server.go:1249 +0x130c
  github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*Server).serveStreams.func1.1()
      /Users/bartem/golang/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/server.go:685 +0xac

Previous read at 0x00c00058b5d0 by goroutine 1506:
  github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*clientStream).SendMsg()
      /Users/bartem/golang/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/stream.go:668 +0xf8
  github.com/hyperledger/fabric/protos/gossip.(*gossipGossipStreamClient).Send()
      /Users/bartem/golang/src/github.com/hyperledger/fabric/protos/gossip/message.pb.go:2725 +0x6a
  github.com/hyperledger/fabric/gossip/comm.(*connection).writeToStream()
      /Users/bartem/golang/src/github.com/hyperledger/fabric/gossip/comm/conn.go:314 +0x1fc

Goroutine 1632 (running) created at:
  github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*Server).serveStreams.func1()
      /Users/bartem/golang/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/server.go:683 +0xb8
  github.com/hyperledger/fabric/vendor/google.golang.org/grpc/internal/transport.(*http2Server).operateHeaders()
      /Users/bartem/golang/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/internal/transport/http2_server.go:419 +0x1481
  github.com/hyperledger/fabric/vendor/google.golang.org/grpc/internal/transport.(*http2Server).HandleStreams()
      /Users/bartem/golang/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/internal/transport/http2_server.go:459 +0x37a
  github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*Server).serveStreams()
      /Users/bartem/golang/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/server.go:681 +0x170
  github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*Server).handleRawConn.func1()
      /Users/bartem/golang/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/server.go:643 +0x50

Goroutine 1506 (finished) created at:
  github.com/hyperledger/fabric/gossip/comm.(*connection).serviceConnection()
      /Users/bartem/golang/src/github.com/hyperledger/fabric/gossip/comm/conn.go:288 +0x12c
{quote}",,C0rWin,ronenschafferibm,wael,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzn93:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),C0rWin,ronenschafferibm,wael,yacovm,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"19/Nov/18 12:05 AM;wael;https://gerrit.hyperledger.org/r/27630;;;","15/Jan/19 8:37 AM;C0rWin;https://gerrit.hyperledger.org/r/#/c/28702/;;;","20/Jun/19 9:23 PM;ronenschafferibm;This race doesn't pop anymore. closing...;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Address data races in gossip/state,FAB-11643,33021,31531,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wael,yacovm,yacovm,18/Aug/18 7:03 AM,25/Jan/19 10:49 AM,28/Oct/23 3:03 AM,01/Jan/19 8:31 PM,v1.4.0,,,,,v2.0.0,,,,,fabric-gossip,,,,0,hygiene,,,,,,,wael,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzn9b:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),wael,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"28/Nov/18 6:36 PM;wael;https://gerrit.hyperledger.org/r/27771;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Support to build fabric for arm64,FAB-11645,33024,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,xue35,xue35,xue35,18/Aug/18 12:11 PM,23/Jan/20 7:32 AM,28/Oct/23 3:03 AM,23/Jan/20 7:32 AM,v1.2.0,,,,,Not a Bug,,,,,fabric-build,,,,0,stale-item,,,,,"Hello,

This is to add support arm64 hyperledger fabric build.

Cheers,",,mastersingh24,sykesm,xue35,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzn9z:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),mastersingh24,sykesm,xue35,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"28/Feb/19 8:57 PM;mastersingh24;The problem here is that we have no ability to actually test this anywhere;;;","23/Jan/20 7:32 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Ability to add gRPC interceptors to the common gRPC server,FAB-11646,33027,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,mastersingh24,mastersingh24,mastersingh24,18/Aug/18 6:43 PM,22/Aug/18 7:24 AM,28/Oct/23 3:03 AM,22/Aug/18 7:24 AM,,,,,,,,,,,fabric-orderer,fabric-peer,,,0,,,,,,"All of the gRPC servers currently use the core/comm package to create gRPC servers.  The comm.GRPCServer does not currently expose the capability to add stream and unary interceptors which can be quite useful for tasks such as monitoring, auditing, auth checks, etc.",,kchristidis,mastersingh24,smartheye,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11471,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,No,Unset,,,,,No,,Unset,No,,,"1|hzznan:",,,,No,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),kchristidis,mastersingh24,smartheye,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"18/Aug/18 6:46 PM;mastersingh24;[go-grpc-middleware|https://github.com/grpc-ecosystem/go-grpc-middleware/blob/master/DOC.md] looks like a nice solution to allow for chaining of interceptors

;;;","22/Aug/18 7:24 AM;kchristidis;https://gerrit.hyperledger.org/r/c/25667/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Vendor go-grpc-middleware package,FAB-11647,33028,33027,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,mastersingh24,mastersingh24,mastersingh24,18/Aug/18 6:48 PM,22/Aug/18 7:24 AM,28/Oct/23 3:03 AM,22/Aug/18 7:24 AM,,,,,,v1.3.0,,,,,,,,,0,,,,,,,,kchristidis,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzznav:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),kchristidis,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"22/Aug/18 7:24 AM;kchristidis;https://gerrit.hyperledger.org/r/c/25667/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Release closeMarkerLock earlier,FAB-11648,33031,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,troyronda,troyronda,troyronda,18/Aug/18 8:57 PM,24/Sep/18 4:38 AM,28/Oct/23 3:03 AM,24/Sep/18 4:38 AM,,,,,,v1.3.0,,,,,fabric-ledger,,,,0,,,,,,"blocksItr.Next() currently checks for shouldClose condition by copying the logic of shouldClose.

This change calls shouldClose() instead. This also causes the closeMarkerLock to be released earlier.",,denyeart,troyronda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11651,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzznbj:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,troyronda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"18/Aug/18 10:49 PM;denyeart;https://gerrit.hyperledger.org/r/#/c/25659/;;;","24/Sep/18 4:38 AM;denyeart;[~troyronda] Please re-open or open another if desired, based on the CR discussion...;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Add image map support to RST files for images that ""drill into"" html detail files",FAB-11649,33032,,Story,Backlog,FAB,Fabric,software,denyeart,,,High,,odowdaibm,jmason900,jmason900,19/Aug/18 12:17 AM,04/Dec/19 10:26 PM,28/Oct/23 3:03 AM,,,,,,,Future,,,,,fabric-docs,,,,0,,,,,,"*Add image map support to RST files for images that ""drill into"" html detail files*
h4. See attached doc for details
h4. Why add image map support to RST files?

Hyperledger Fabric is a flexible, complex framework with multiple layers of abstraction: business network, application layer, nodes, overlay network, tcp network. The easiest way for users to consume complex systems is to visually abstract them by layer. If a user needs more information on an item, they can drill into it for more detail. Other users don’t need the detail and can read at the current level of abstraction productively.

 

HTML image maps provide a simple visual abstraction that is intuitively understood by users and simple to implement in the current RST file system. If I see an image map with nodes in a channel, I can “drill down” into an endorser peer for more details on that node and a new HTML page opens next to my current page. I can explore the details on the peer page, close it when I’m done returning to the parent channel page.

 

 ",,jmason900,pandrejko,pdina,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"19/Aug/18 2:31 AM;jmason900;hf-docs-jira-Request-add image maps to RST files.docx;https://jira.hyperledger.org/secure/attachment/15710/hf-docs-jira-Request-add+image+maps+to+RST+files.docx",,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Yes,Unset,,,,,No,,Unset,No,,,"1|hzznbr:",,,,No,Unset,,,(Please add steps to reproduce),,No,,,,,,Unset,,Unset,,(Please add usage information),jmason900,pandrejko,pdina,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"19/Aug/18 12:21 AM;jmason900;The attached document details 2 different options to add image maps to RST files as well as methods to easily generate images maps for a given image;;;","23/Aug/18 5:44 AM;pandrejko;[~jmason900] Would you be able to point us to a good example of a working implementation of this?;;;","24/Aug/18 10:21 AM;jmason900;I used jspwiki as a Web CMS for documentation. I created many logical network maps using their built-in plugin for image maps.

This is the html code for an image map 
https://www.w3schools.com/tags/tryit.asp?filename=tryhtml_areamap

This free online tool lets you graphically generate custom image maps over any image.
http://imagemap-generator.dariodomi.de/

With RST files you have 2 options to embed image maps

Option 1> just use the raw directive to enclose the html for the image map

.. raw:: html
    <img src=""planets.gif"" width=""145"" height=""126"" alt=""Planets"" usemap=""#planetmap"">
    <map name=""planetmap"">
    <area shape=""rect"" coords=""0,0,82,126"" alt=""Sun"" href=""sun.htm"">
    <area shape=""circle"" coords=""90,58,3"" alt=""Mercury"" href=""mercur.htm"">
    <area shape=""circle"" coords=""124,58,15"" alt=""Earth"" href=""venus.htm"">
    </map>

Option 2> create an image map directive for Sphinx using Python

Let me know if you need anything else.

Thanks

 ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Inject gRPC server instance into gossip tests instead of having gossip create it,FAB-11650,33033,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,hagarm,yacovm,yacovm,19/Aug/18 2:08 AM,19/Feb/19 9:48 PM,28/Oct/23 3:03 AM,19/Feb/19 9:48 PM,v1.4.0,,,,,,,,,,fabric-gossip,,,,0,hygiene,,,,,"Currently, all unit tests of gossip that use a gRPC server - have the gossip's communication layer create the gRPC service on its own by generating a self signed TLS certificates and also setting InsecureSkipVerify in the TLS server/client configuration. 
In addition, the port number is passed from the constructor and ripples down to the gRPC server creation function.

This is problematic because:
 * The port should be ephemeral, to enable concurrent execution of tests
 * InsecureSkipVerify in the production code should really not be used
 * There needs to be a single constructor and not one for the production and one for the test.

 

We need to:
 # Delete the test constructor NewCommInstanceWithServer and the createGRPCLayer method.
 # Modify the tests to first create the gRPC server on an ephemeral port, and then pass the port to the gossip instance constructor's endpoint, and pass the gRPC server to the production comm constructor.
 # ????
 # Profit

 ",,sykesm,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzznbz:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Ensure Close is called on iterators,FAB-11651,33034,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,troyronda,troyronda,20/Aug/18 12:36 AM,23/Jan/20 7:32 AM,28/Oct/23 3:03 AM,23/Jan/20 7:32 AM,,,,,,,,,,,,,,,0,stale-item,,,,,"Needs more investigation, but I assume funcs like:
func GetBlock(rl Reader, index uint64) *cb.Block

(https://github.com/hyperledger/fabric/blob/master/common/ledger/blockledger/util.go#L81)

should be calling Close on the iterator.

",,sykesm,troyronda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11648,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzznc7:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,troyronda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 7:32 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
make all command in fabric directory  results in failed unit test and some other error,FAB-11652,33035,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid: Works as Expected,,thakurnikk,thakurnikk,20/Aug/18 2:33 PM,21/Sep/18 11:43 PM,28/Oct/23 3:03 AM,21/Sep/18 11:43 PM,v1.2.0,,,,,,,,,,fabric-orderer,fabric-peer,,,1,,,,,,"I have pulled github.com/hyperledger/fabric  v1.2.0 and using an ubuntu machine.

i was trying to create binaries (peer, orderer, etc...) using the make all commmand in the github.com/hyperledger/fabric/  directory, but it results in some issues during the execution of the Makefile and eventually results in a failed unit test.

issue 1 :  cannot create the /.cache directory
{code:java}
Building dockerized gotools
 make[1]: Entering directory '/opt/gopath/src/github.com/hyperledger/fabric'
 Building github.com/maxbrunsfeld/counterfeiter -> counterfeiter
 go: disabling cache (/.cache/go-build) due to initialization failure: mkdir /.cache: permission denied
 make[1]: Leaving directory '/opt/gopath/src/github.com/hyperledger/fabric'
 make[1]: Entering directory '/opt/gopath/src/github.com/hyperledger/fabric'
 Building github.com/golang/dep v0.4.1 -> dep
 go: disabling cache (/.cache/go-build) due to initialization failure: mkdir /.cache: permission denied
 make[1]: Leaving directory '/opt/gopath/src/github.com/hyperledger/fabric'
 make[1]: Entering directory '/opt/gopath/src/github.com/hyperledger/fabric'
 Building github.com/golang/lint/golint -> golint
 go: disabling cache (/.cache/go-build) due to initialization failure: mkdir /.cache: permission denied
 make[1]: Leaving directory '/opt/gopath/src/github.com/hyperledger/fabric'
 make[1]: Entering directory '/opt/gopath/src/github.com/hyperledger/fabric'
 Building golang.org/x/tools/cmd/goimports -> goimports
 go: disabling cache (/.cache/go-build) due to initialization failure: mkdir /.cache: permission denied
 make[1]: Leaving directory '/opt/gopath/src/github.com/hyperledger/fabric'
 make[1]: Entering directory '/opt/gopath/src/github.com/hyperledger/fabric'
 Building github.com/golang/protobuf/protoc-gen-go -> protoc-gen-go
 go: disabling cache (/.cache/go-build) due to initialization failure: mkdir /.cache: permission denied
 make[1]: Leaving directory '/opt/gopath/src/github.com/hyperledger/fabric'
 make[1]: Entering directory '/opt/gopath/src/github.com/hyperledger/fabric'
 Building github.com/onsi/ginkgo/ginkgo -> ginkgo
 go: disabling cache (/.cache/go-build) due to initialization failure: mkdir /.cache: permission denied
 make[1]: Leaving directory '/opt/gopath/src/github.com/hyperledger/fabric'
 make[1]: Entering directory '/opt/gopath/src/github.com/hyperledger/fabric'
 Building github.com/axw/gocov/gocov -> gocov
 go: disabling cache (/.cache/go-build) due to initialization failure: mkdir /.cache: permission denied
 make[1]: Leaving directory '/opt/gopath/src/github.com/hyperledger/fabric'
 make[1]: Entering directory '/opt/gopath/src/github.com/hyperledger/fabric'
 Building github.com/AlekSi/gocov-xml -> gocov-xml
 go: disabling cache (/.cache/go-build) due to initialization failure: mkdir /.cache: permission denied
 make[1]: Leaving directory '/opt/gopath/src/github.com/hyperledger/fabric'
 make[1]: Entering directory '/opt/gopath/src/github.com/hyperledger/fabric'
 Building github.com/client9/misspell/cmd/misspell -> misspell
 go: disabling cache (/.cache/go-build) due to initialization failure: mkdir /.cache: permission denied
 make[1]: Leaving directory '/opt/gopath/src/github.com/hyperledger/fabric'
 make[1]: Entering directory '/opt/gopath/src/github.com/hyperledger/fabric'
 Building github.com/vektra/mockery/cmd/mockery -> mockery
 go: disabling cache (/.cache/go-build) due to initialization failure: mkdir /.cache: permission denied{code}
 

issue 2:
{code:java}
 debconf: unable to initialize frontend: Dialog
 debconf: (TERM is not set, so the dialog frontend is not usable.)
 debconf: falling back to frontend: Readline
 debconf: unable to initialize frontend: Readline
 debconf: (This frontend requires a controlling tty.)
 debconf: falling back to frontend: Teletype
 dpkg-preconfigure: unable to re-open stdin:{code}
 

 

issue 3:  Setting TEST_PKGS  and JOB_TYPE variable
{code:java}
 WARNING: The TEST_PKGS variable is not set. Defaulting to a blank string.
 WARNING: The JOB_TYPE variable is not set. Defaulting to a blank string{code}
 

Why did the unit test fail?
{code:java}
unit-test_unit-tests_1 exited with code 1
Aborting on container exit...
Stopping couchdb                ... done
Makefile:190: recipe for target 'unit-test' failed
make: *** [unit-test] Error 1
{code}
 ",,denyeart,medhak19,pankajcheema,Specia1,sykesm,thakurnikk,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"20/Aug/18 2:32 PM;thakurnikk;logs.txt;https://jira.hyperledger.org/secure/attachment/15711/logs.txt",,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzncf:",,,,Unset,Unset,,,"Step 1 :  Open the github.com/hyperledger/fabric directory

Step 2 : Run make all command to create the binaries.",,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,medhak19,pankajcheema,Specia1,sykesm,thakurnikk,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"28/Aug/18 2:30 PM;pankajcheema;[~mastersingh24]
I also face the same situation with ubuntu 16.04 LTS 64 bit.;;;","04/Sep/18 11:02 PM;sykesm;The first 3 issues are non-fatal warnings and should be ignored.

The unit test failures can be caused by lots of different things. Some of the unit tests are flaky (due to timing issues) and some can fail if the docker daemon is not used exclusively by the build process. You'll want to run the run the unit tests manually to see if they fail consistently, where, and how.

Running a subset of tests is documented in docs/source/dev-setup/built.rst.;;;","21/Sep/18 11:43 PM;denyeart;Since no defect expected and no response from reporter, closing.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Vendor a bitmap package,FAB-11653,33037,32194,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,Senthil1,Senthil1,Senthil1,20/Aug/18 3:52 PM,12/Jun/20 12:30 AM,28/Oct/23 3:03 AM,29/Aug/18 12:29 AM,,,,,,,,,,,,,,,0,,,,,,"As a bitmap is required to denote the txNum within a block which misses a private data, we need vendor a simple bitmap package. We can choose [https://github.com/willf/bitset] as it is popular and also used in [https://github.com/RoaringBitmap/RoaringBitmap]",,Senthil1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11318,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwqfm:6",,,,Unset,Unset,To Do,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),Senthil1,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"PTE performance summary min and max are printed as the same, and wrong",FAB-11656,33048,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,dongming,scottz,scottz,21/Aug/18 3:25 AM,30/Aug/18 5:44 AM,28/Oct/23 3:03 AM,30/Aug/18 5:44 AM,v1.3.0,,,,,v1.3.0,,,,,fabric-quality,,,,0,,,,,,"Run any PTE scenario tstcase. Look at the Logs/results_*.log file, such as the following, and observe PTE performance summary min and max  time for Queries are printed as the same, and wrong

https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/1734/artifact/gopath/src/github.com/hyperledger/fabric-test/tools/PTE/CITest/scenarios/result_FAB-3833-2i.log

Peer Log Data Summary Report Peer: peer0.org1.example.com Channel: all, start time: 15:34:22:939, end time: 15:40:07:808, total time: 344869 ms Channel: all, blk Num: 199, BPS: 0.58 Channel: all, tx Num: 19999, TPS: 57.99 Peer: peer0.org1.example.com Channel: testorgschannel1, start time: 15:34:22:939, end time: 15:40:07:808, total time: 344869 ms Channel: testorgschannel1, blk Num: 199, BPS: 0.58 Channel: testorgschannel1, tx Num: 19999, TPS: 57.99 Peer: peer0.org2.example.com Channel: all, start time: 15:34:22:962, end time: 15:40:07:768, total time: 344806 ms Channel: all, blk Num: 199, BPS: 0.58 Channel: all, tx Num: 19999, TPS: 58.00 Peer: peer0.org2.example.com Channel: testorgschannel1, start time: 15:34:22:962, end time: 15:40:07:768, total time: 344806 ms Channel: testorgschannel1, blk Num: 199, BPS: 0.58 Channel: testorgschannel1, tx Num: 19999, TPS: 58.00 [32minfo[39m: [PTE 1 main]: Test Summary[0]: [Nid:chan:org:id=0:testorgschannel1:org2:0 invoke_query_const] pte-exec:completed 10000 transaction INVOKE(QUERY) in 174488 ms, timestamp: start 1534607190532 end 1534607365020,Throughput=57.31 TPS [32minfo[39m: [PTE 1 main]: Test Summary (sample_cc_ch1):Total QUERY transaction=10000, the Min duration is 174488 ms,the Max duration is 174488 ms,Avg duration=174488 ms, total throughput=57.31 TPS [32minfo[39m: [PTE 1 main]: Aggregate Test Summary (sample_cc_ch1):Total QUERY transaction 10000, start 1534607190532 end 1534607365020 duration is 174488 ms, TPS 57.31 [32minfo[39m: [PTE 0 main]: Test Summary[0]: [Nid:chan:org:id=0:testorgschannel1:org1:0 invoke_query_const] pte-exec:completed 10000 transaction INVOKE(QUERY) in 176646 ms, timestamp: start 1534607190532 end 1534607367178,Throughput=56.61 TPS [32minfo[39m: [PTE 0 main]: Test Summary (sample_cc_ch1):Total QUERY transaction=10000, the Min duration is 176646 ms,the Max duration is 176646 ms,Avg duration=176646 ms, total throughput=56.61 TPS [32minfo[39m: [PTE 0 main]: Aggregate Test Summary (sample_cc_ch1):Total QUERY transaction 10000, start 1534607190532 end 1534607367178 duration is 176646 ms, TPS 56.61

 ",,dongming,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-2247,,,No,latest (Aug 20),Unset,No,,,"1|hzznen:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),dongming,scottz,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,release-1.3,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-1.4,release-2.5,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,true,"28/Aug/18 11:27 PM;dongming;https://gerrit.hyperledger.org/r/#/c/25926/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fix testviewer urls in the readme's,FAB-11657,33050,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,scottz,suryalnvs,suryalnvs,21/Aug/18 3:44 AM,28/Aug/18 3:41 AM,28/Oct/23 3:03 AM,28/Aug/18 3:41 AM,,,,,,v1.3.0,,,,,fabric-quality,,,,0,,,,,,"Fix testviewer urls in the readme's - Community Readthedocs and fabric-test/tools/TestViewer readme.

Cloud Foundry location is https://testviewer.mybluemix.net/#/",,scottz,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11543,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzznf3:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),scottz,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,main,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,mergify/bp/release-2.2/pr-3750,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,mergify/bp/release-2.2/pr-4374,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,true,"23/Aug/18 3:22 AM;scottz;[https://gerrit.hyperledger.org/r/#/c/25807/]  fabric-test/tools/Testviewer/README;;;","23/Aug/18 4:08 AM;scottz;[https://gerrit.hyperledger.org/r/#/c/25809/] fabric/docs/source/testing.rst;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Certain keys cause errors when running shim.PutState,FAB-11658,33051,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,swetharepakula,swetharepakula,swetharepakula,21/Aug/18 4:32 AM,04/Sep/18 4:57 AM,28/Oct/23 3:03 AM,04/Sep/18 4:57 AM,,,,,,,,,,,,,,,0,,,,,,"Certain keys have non UTF characters causing shim.GetState and shim.PutState to fail when using TLS.

Errors from the chaincode container
{code:java}
 2018-08-20 19:25:32.326 UTC [shim] handlePutState -> ERRO 001 [2bd925ba]Received ERROR. Payload: PUT_STATE failed: transaction ID: 2bd925bac22aa786a768ab18032fa1f227c4ae4dcbaff5bb1e3b64fad88aa995: unmarshal failed: proto: invalid UTF-8 string
 2018-08-20 19:25:32.328 UTC [shim] handlePutState -> ERRO 002 [2bd925ba]Received ERROR. Payload: PUT_STATE failed: transaction ID: 2bd925bac22aa786a768ab18032fa1f227c4ae4dcbaff5bb1e3b64fad88aa995: unmarshal failed: proto: invalid UTF-8 string
 2018-08-20 19:25:32.329 UTC [shim] handlePutState -> ERRO 003 [2bd925ba]Received ERROR. Payload: PUT_STATE failed: transaction ID: 2bd925bac22aa786a768ab18032fa1f227c4ae4dcbaff5bb1e3b64fad88aa995: unmarshal failed: proto: invalid UTF-8 string
 2018-08-20 19:25:32.331 UTC [shim] handlePutState -> ERRO 004 [2bd925ba]Received ERROR. Payload: PUT_STATE failed: transaction ID: 2bd925bac22aa786a768ab18032fa1f227c4ae4dcbaff5bb1e3b64fad88aa995: unmarshal failed: proto: invalid UTF-8 string
 2018-08-20 19:25:32.331 UTC [shim] handlePutState -> ERRO 005 [2bd925ba]Received ERROR. Payload: PUT_STATE failed: transaction ID: 2bd925bac22aa786a768ab18032fa1f227c4ae4dcbaff5bb1e3b64fad88aa995: unmarshal failed: proto: invalid UTF-8 string
 2018-08-20 19:26:55.878 UTC [shim] handleGetState -> ERRO 006 [72a9e3d2]GetState received error ERROR
 {code}
Error message from peer cli:
{code:java}
Error: endorsement failure during query. response: status:500 message:""failed to execute contract: call error: GET_STATE failed: transaction ID: 72a9e3d23935898fe2b564bd195f043fd99ea52cfece2f7c12cc93492b8524cb: unmarshal failed: proto: invalid UTF-8 string""{code}
 

Steps to Reproduce:

1. Run a network with tls enabled and install the evmcc
2. Using the peer cli install the voting smart contract:
{code:java}
peer chaincode invoke -n evmcc -C mychannel --tls true --cafile /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/ordererOrganizations/example.com/tlsca/tlsca.example.com-cert.pem -c '{""Args"":[""0000000000000000000000000000000000000000"",""608060405234801561001057600080fd5b50604051610d8b380380610d8b833981018060405281019080805182019291905050506000336000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555060018060008060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060000181905550600090505b81518110156101735760026040805190810160405280848481518110151561010657fe5b90602001906020020151600019168152602001600081525090806001815401808255809150509060018203906000526020600020906002020160009091929091909150600082015181600001906000191690556020820151816001015550505080806001019150506100e2565b5050610c07806101846000396000f30060806040526004361061008e576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff1680630121b93f14610093578063013cf08b146100c05780632e4176cf146101105780635c19a95c14610167578063609ff1bd146101aa5780639e7b8d61146101d5578063a3ec138d14610218578063e2ba53f0146102b4575b600080fd5b34801561009f57600080fd5b506100be600480360381019080803590602001909291905050506102e7565b005b3480156100cc57600080fd5b506100eb6004803603810190808035906020019092919050505061040d565b6040518083600019166000191681526020018281526020019250505060405180910390f35b34801561011c57600080fd5b50610125610440565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b34801561017357600080fd5b506101a8600480360381019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050610465565b005b3480156101b657600080fd5b506101bf61088a565b6040518082815260200191505060405180910390f35b3480156101e157600080fd5b50610216600480360381019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050610905565b005b34801561022457600080fd5b50610259600480360381019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050610b4f565b60405180858152602001841515151581526020018373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200182815260200194505050505060405180910390f35b3480156102c057600080fd5b506102c9610bac565b60405180826000191660001916815260200191505060405180910390f35b6000600160003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002090508060010160009054906101000a900460ff161515156103b1576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252600e8152602001807f416c726561647920766f7465642e00000000000000000000000000000000000081525060200191505060405180910390fd5b60018160010160006101000a81548160ff02191690831515021790555081816002018190555080600001546002838154811015156103eb57fe5b9060005260206000209060020201600101600082825401925050819055505050565b60028181548110151561041c57fe5b90600052602060002090600202016000915090508060000154908060010154905082565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b600080600160003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002091508160010160009054906101000a900460ff16151515610530576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260128152602001807f596f7520616c726561647920766f7465642e000000000000000000000000000081525060200191505060405180910390fd5b3373ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff16141515156105d4576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252601e8152602001807f53656c662d64656c65676174696f6e20697320646973616c6c6f7765642e000081525060200191505060405180910390fd5b5b600073ffffffffffffffffffffffffffffffffffffffff16600160008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060010160019054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1614151561077b57600160008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060010160019054906101000a900473ffffffffffffffffffffffffffffffffffffffff1692503373ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff1614151515610776576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260198152602001807f466f756e64206c6f6f7020696e2064656c65676174696f6e2e0000000000000081525060200191505060405180910390fd5b6105d5565b60018260010160006101000a81548160ff021916908315150217905550828260010160016101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550600160008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002090508060010160009054906101000a900460ff161561086e5781600001546002826002015481548110151561084b57fe5b906000526020600020906002020160010160008282540192505081905550610885565b816000015481600001600082825401925050819055505b505050565b6000806000809150600090505b60028054905081101561090057816002828154811015156108b457fe5b90600052602060002090600202016001015411156108f3576002818154811015156108db57fe5b90600052602060002090600202016001015491508092505b8080600101915050610897565b505090565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff161415156109ef576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260288152602001807f4f6e6c79206368616972706572736f6e2063616e20676976652072696768742081526020017f746f20766f74652e00000000000000000000000000000000000000000000000081525060400191505060405180910390fd5b600160008273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060010160009054906101000a900460ff16151515610ab4576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260188152602001807f54686520766f74657220616c726561647920766f7465642e000000000000000081525060200191505060405180910390fd5b6000600160008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060000154141515610b0557600080fd5b60018060008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206000018190555050565b60016020528060005260406000206000915090508060000154908060010160009054906101000a900460ff16908060010160019054906101000a900473ffffffffffffffffffffffffffffffffffffffff16908060020154905084565b60006002610bb861088a565b815481101515610bc457fe5b9060005260206000209060020201600001549050905600a165627a7a72305820a9e475626173c5190d9a5bdfd9a0000a01dd17edee4803594abd1029361d068100290000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000000261000000000000000000000000000000000000000000000000000000000000006200000000000000000000000000000000000000000000000000000000000000""]}'{code}
This step should cause errors to show up in the evmcc container logs.
The output of this step will give the contract address in the payload for the next step.

3. Run `votingContract.proposals(0)` using the peer cli. Following is querying the first object of an array.
{code:java}
peer chaincode query -n evmcc -C mychannel -c '{""Args"":[""<previous-paylod>"",""013cf08b0000000000000000000000000000000000000000000000000000000000000000""]}'{code}

This will cause an error the GetState error.",,swetharepakula,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FABCE-4,,,No,,Unset,No,,,"1|hzznfb:",,,,Unset,Unset,,,Steps to Reproduce are in the description,,Unset,,,,,,Unset,,Unset,,(Please add usage information),swetharepakula,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"21/Aug/18 4:46 AM;swetharepakula;https://gerrit.hyperledger.org/r/#/c/25719/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fabric UT Failure - bind address already in use - fabric/core/comm,FAB-11659,33055,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,harsha544,harsha544,harsha544,21/Aug/18 6:33 AM,03/Sep/18 3:56 AM,28/Oct/23 3:03 AM,21/Aug/18 8:21 PM,,,,,,v1.3.0,,,,,fabric-ci,,,,0,,,,,,"Executing make unit-test or `go test -v` on github.com/hyperledger/fabric/core/comm results in failure aspost 8358 is already occupied by {color:#333333}TestSetServeRootCAs{color} with following error. Updating the ports should resolve this conflict.

FWIW a snippet of error :-

{color:#0747a6}{color:#333333}— FAIL: TestNewConnection (0.09s) — PASS: TestNewConnection/client_/_server_same_port (0.01s) — FAIL: TestNewConnection/server_TLS_pinning_success (0.01s) client_test.go:348: {color}{color:#0086b3}error{color}{color:#333333} creating{color}{color:#0086b3} server {color}{color:#333333}for{color}{color:#333333} test: listen tcp 127.0.0.1:8358: bind:{color}{color:#0086b3} address {color}{color:#333333}already {color}{color:#333333}in{color}{color}{color:#333333}{color:#0747a6} use — PASS: TestNewConnection/client_TLS_/_server_TLS_client_cert (0.02s){color} {color}

More can be found in the attached logs[^fabric_ppc64le_UT.txt]

****",,harsha544,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"21/Aug/18 6:28 AM;harsha544;fabric_ppc64le_UT.txt;https://jira.hyperledger.org/secure/attachment/15716/fabric_ppc64le_UT.txt",,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzznfz:",,,,Unset,Unset,,, make unit-test or `go test -v` on github.com/hyperledger/fabric/core/comm,,Unset,,,,,,Unset,,Unset,,(Please add usage information),harsha544,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"21/Aug/18 7:08 AM;harsha544;Post updating ports in TestSetServerRootCAs & TestSetMessageSize to *1**8358* & *18359* go test on github.com/hyperledger/fabric/core/comm passes as expected.

FWIW, enclosing manual testing O/P on ppc64le 

jenkins@blockchain-6:~/go/src/github.com/hyperledger/fabric/core/comm$ for i in 0 1 2 3 4 5 6 7 8 9 10; do echo $i; go clean -cache; go test .; done
0
ok github.com/hyperledger/fabric/core/comm 7.080s
1
ok github.com/hyperledger/fabric/core/comm 7.084s
2
ok github.com/hyperledger/fabric/core/comm 7.088s
3
ok github.com/hyperledger/fabric/core/comm 7.084s
4
ok github.com/hyperledger/fabric/core/comm 7.080s
5
ok github.com/hyperledger/fabric/core/comm 7.094s
6
ok github.com/hyperledger/fabric/core/comm 7.159s
7
ok github.com/hyperledger/fabric/core/comm 7.083s
8
ok github.com/hyperledger/fabric/core/comm 7.081s
9
ok github.com/hyperledger/fabric/core/comm 7.079s
10
ok github.com/hyperledger/fabric/core/comm 7.093s
jenkins@blockchain-6:~/go/src/github.com/hyperledger/fabric/core/comm$;;;","21/Aug/18 7:14 AM;harsha544;PR - https://gerrit.hyperledger.org/r/25735;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
issue in if statement,FAB-11660,33056,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ping40,ping40,ping40,21/Aug/18 10:53 AM,21/Aug/18 8:08 PM,28/Oct/23 3:03 AM,21/Aug/18 7:17 PM,,,,,,v1.3.0,,,,,,,,,0,,,,,,"{code:java}
in gossip/discovery/discovery_impl.go

func (d *gossipDiscoveryImpl) learnExistingMembers(aliveArr []*proto.SignedGossipMessage) {
   ...
   ...
   for _, m := range aliveArr {
      am := m.GetAliveMsg()
      if m == nil {         ----> line 797
         d.logger.Warning(""Expected alive message, got instead:"", m)
         return
      }
      d.logger.Debug(""updating"", am)
      ...
      ...      
   }
}
{code}
the line 797 should be changed to  [ if am == nil ]

 

 ",,ping40,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzng7:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ping40,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"21/Aug/18 8:08 PM;ping40;https://gerrit.hyperledger.org/r/#/c/25739/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
fix wrong description,FAB-11661,33057,,Documentation,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,ping40,ping40,21/Aug/18 11:10 AM,24/Aug/18 10:08 PM,28/Oct/23 3:03 AM,24/Aug/18 10:08 PM,,,,,,,,,,,,,,,0,,,,,," 
{code:java}
in gossip/election/election_test.go


func TestInitPeersStartAtIntervals(t *testing.T) {
   t.Parallel()
   // Scenario: Peers are spawned one by one in a slow rate
   // expected outcome: the first peer is the leader although its ID is lowest
   peers := createPeers(getStartupGracePeriod()+getLeadershipDeclarationInterval(), 3, 2, 1, 0)
   waitForLeaderElection(t, peers)
   assert.True(t, peers[0].IsLeader())
}
{code}
'although its ID is lowest'  should be changed to 'although its ID is highest'",,ping40,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzngf:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ping40,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"24/Aug/18 10:08 PM;ping40;https://gerrit.hyperledger.org/r/#/c/25741/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Chaincode execution hangs during chaincode is being upgraded,FAB-11662,33058,,Story,Backlog,FAB,Fabric,software,denyeart,,,Medium,,,yoheiueda,yoheiueda,21/Aug/18 2:59 PM,13/Jun/19 5:38 PM,28/Oct/23 3:03 AM,,,,,,,Future,,,,,fabric-ledger,fabric-peer,,,0,,,,,,"When chaincode is being upgraded, chaincode execution hangs.  This behavior is not acceptable for mission-critical systems.  I devise a possible workaround for this issue, but it is too complicated to carry out the whole steps without mistakes. 

 

I'd like Fabric to handle chaincode upgrade requests without intermission of transaction processing.

 

The root cause of this issue is the Reader/Writer lock of the lock-based transaction manager.  Lock-based transaction manager uses a Reader/Writer Lock to guarantee repeatable read of multiple GetState calls from a chaincode invocation. Read Lock is acquired to run a chaincode transaction. Write Lock is acquired to update StateDB when transactions are committed.

 

The problem here is that Reader Lock is acquired during the time-consuming chaincode build process. This Read Lock blocks a subsequent Write Lock  for transaction commits, and the pending Write Lock blocks subsequent Read Locks for chaincode execution at the same peer.

Please see the attached PDF file for more details.

 

I come up with three possible solutions:
 # Stop acquiring Read Lock during time-consuming chaincode build process
 # Separate the Lock for system and application chaincode
 # Prepare a lock per chaincode since namespaces of StateDB are isolated per chaincode (special care is necessary for stub.InvokeChaincode)

 

I also devise a workaround for this issue as described in the Page 3 of the attached PDF file. Please comment on whether the workaround is actually feasible or not.

 

 ",,denyeart,k_yuka,manish-sethi,MichaelWang,minollo,moriohara,sunhwei,sykesm,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11702,,,,,,,,,"31/Aug/18 5:31 PM;yoheiueda;Chaincode Upgrade Flow.pdf;https://jira.hyperledger.org/secure/attachment/15763/Chaincode+Upgrade+Flow.pdf",,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzyzo:",,,,Unset,Unset,,,Please see Page 2 of the attached PDF file.,,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,k_yuka,manish-sethi,MichaelWang,minollo,moriohara,sunhwei,sykesm,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"22/Aug/18 2:26 AM;denyeart;[~manish-sethi] What's your opinion?;;;","31/Aug/18 5:34 PM;yoheiueda;[~yacovm] taught me that gossip (and org leadership) is not related to this issue, so I simplified the workaround method described in the attached PDF file.;;;","04/Sep/18 10:23 PM;sykesm;[~denyeart] I'm unable to change work item types. Can you change the type of this item from Bug to a Story? As far as I can tell, what we have right now is not broken, simply sub-optimal; ie. not a bug.;;;","05/Sep/18 7:28 PM;denyeart;[~yoheiueda] You mention chaincode hangs, what is the ultimate result in that scenario?  Do the chaincode executions eventually succeed?  Or do they time out and fail, requiring the client to resubmit?

In any case, clients must handle chaincode execution errors and have ability to resubmit.;;;","05/Sep/18 7:29 PM;denyeart;[~sykesm] You can change type by going to More–>Move.  Unfortunately the Jira wizard is required now that different issue types have different fields.  Let's see how Yohei responds first, to understand how bad the experience is.;;;","05/Sep/18 10:35 PM;yoheiueda;[~denyeart]

sendTransactionProposal returns with a timeout error. I guess it eventually returns successfully if I set a very long timeout value. Resubmitting transactions is OK. We don't mind VERSION_CONFLICT errors when chaincode upgrade is committed.

The point is that upgrading chaincode causes down time for several minutes. Resubmitting the transaction again during chaincode upgrade results in an timeout error again.  I am not sure whether this behavior is documented or not.

Even if this is not a bug, we hope this issue will be fixed in near future.  There is a workaround if we have multiple peers in an org, but the workaround complicates our management procedures.

sendUpgradeProposal can send upgrade requests to multiple peers, and building chaincode on all peers is processed in parallel. However, we can't use this feature because of the hang issue. We need to upgrade chaincode on each peer one by one, while stopping sending transactions from clients to the peer. 

 

 

 ;;;","06/Sep/18 4:59 AM;manish-sethi;[~yoheiueda] - you are right that the lock based model is not suitable for log running simulations. I would prefer either of the two approaches.

1) Generic lock free simulation/commit approach which will work not only for the above scenario but for any long running business transaction as well (if they happen to be there). Also, in general, this is expected to increase the overall transaction throughput. This will be implemented based on variation of timestamp-based concurrency control technique. This should not very difficult to implement because since beginning, this option was kept open and the existing txmgr implementation was managed behind a set of interfaces.

2) The solution number one that you suggested in the your list above. In which, in the endorser/peer, the TxSimulator is obtained either before or after the build process - as in the lock based implementation TxSimulator is a costly resource and should be acquired only for state related changes - [~sykesm] - is this something easily doable?

Other approaches listed above would really create more complications of managing case specific locks (e.g., commit would anyway require lock on all the chaincodes) and has potential to create other problems in chaincode-to-chaincode invocations - and hence not worth in my opinion - Instead, I would simply prefer generic lock free approach (mentioned above) as this will give protection against long running business transactions as well and also has potential to increase throughput (especially good-throuput - since a portion of transaction conflicts would be detected at the simulation time itself).;;;","06/Sep/18 5:10 AM;denyeart;I'll tag as v1.4.0 to keep this on the radar.;;;","13/Jun/19 5:38 PM;yoheiueda;[~manish-sethi] [~sykesm] [~denyeart]

I prototyped the first solution in the list of Manish's comment. Please see FAB-11702

I conducted an experiment with the prototype, and I confirmed that service interruption due to chaincode upgrade is alleviated as described in the design doc.

[https://docs.google.com/document/d/1GSRnlZLOqZvupUara0w2emEsVeQgO4cxUq9T0QwMEts/edit#heading=h.kf53oz92t4o0];;;",,,,,,,,,,,,,,,,,,,,,,,,
Use dynamically allocated ports for tests in core/comm package,FAB-11663,33060,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,mastersingh24,mastersingh24,mastersingh24,21/Aug/18 4:33 PM,02/Oct/18 1:17 AM,28/Oct/23 3:03 AM,02/Oct/18 1:17 AM,,,,,,v1.4.0,,,,,,,,,0,hygiene,,,,,"Rather than specifying a fixed  ""host:port"" combination for tests, should leverage dynamic port assignment using ""localhost:0"" syntax",,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzznhb:",,,,Unset,Unset,,,(Please add steps to reproduce),1.0,Unset,,,,,,Unset,,Unset,,(Please add usage information),mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"29/Sep/18 10:03 PM;mastersingh24;https://gerrit.hyperledger.org/r/26684;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Service discovery remap Orderer endpoint.,FAB-11665,33073,,Task,Backlog,FAB,Fabric,software,denyeart,,,Medium,,,rickr,rickr,22/Aug/18 12:46 AM,05/May/19 1:50 AM,28/Oct/23 3:03 AM,,,,,,,,,,,,,,,,0,,,,,,"Considering the use case where your Peers and Orderers  are behind a firewall  and connect internally and clients SDKs should connect via other endpoints provided via firewall service. Service discovery should allow in discovery data only the external endpoints of the Orderer.  There seems to be a solution for peers with CORE_PEER_GOSSIP_EXTERNALENDPOINT.  The equivalent should be provided  for the Orderer. 

This actually happens when using docker too.  Currently the SDKs have a *solution* to remap all addresses reported by service discovery which are the internal endpoints to localhost.   CORE_PEER_GOSSIP_EXTERNALENDPOINT would be solution for that for peers but nothing seems equivalent for Orderers.
",,mastersingh24,rickr,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-15297,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzniv:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),mastersingh24,rickr,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"22/Aug/18 12:52 AM;mastersingh24;[~rickr]  - I don't think that this is actually needed.  The orderer endpoints are actually stored in the channel config blocks ... those endpoints *MUST* be accessible in order for the channel to even function.  The internal / external peer endpoints are a different matter because it is possible for an org's peers to communicate privately.;;;","22/Aug/18 12:57 AM;yacovm;external endpoints are used for peers to publish their address to foreign organizations.
When a peer doesn't have an external endpoint, it is only visible to its own organization.

The discovery service gets the addresses of the orderers from the config block, so - unless some support in the config block is added, I don't see a way of doing this.

An easy ""way out"" which I see, is to have in the config block - all entries of orderers, those that are accessible only behind the FW and those that are accessible also from ""in front"" of the FW, and then the clients would simply try to connect to whatever can be connected.

 

What we are *not going to do*, is - have the peer decide for the client what the client can access and what it can not, and then filter it for the client - because the peer can be in a network that is different than the client.

 

 

Inviting [~jyellick] , [~kchristidis] , [~mastersingh24] to chime in as well.;;;","22/Aug/18 12:58 AM;yacovm;By the way I admit I don't understand what you're doing with localhost, but:

 
{quote}remap all addresses reported by service discovery which are the internal endpoints to localhost.
{quote}
 

There are no internal endpoints reported by discovery so far. Peers without an external endpoints are filtered out.;;;","22/Aug/18 1:03 AM;rickr;[~mastersingh24] So there's no real requirement to keep Orderer and Peers connecting internally via a set of addresses that should never be exposed to the outside  and clients (sdk) connect via a different address exposed only via a firewall ? 
;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Scalability Test Set - Add Peers,FAB-11666,33077,,Test Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,suryalnvs,Ratnakar,Ratnakar,22/Aug/18 4:31 AM,09/Jan/20 2:26 AM,28/Oct/23 3:03 AM,31/Jul/19 4:11 AM,v1.3.0,,,,,v1.4.0,,,,,fabric-quality,,,,0,,,,,,"*Test Description* : 
Run a series of similar tests to gather TPS data, each differing from the previous one by only a network configuration change to join additional peers and distributing traffic to the additional peers. We will create a basic network with two org and one peer in each org, with one channel and samplecc go chaincode, using couchdb, and create 64 threads to send invokes traffic (and obtain separate measurement for pure query traffic). All transaction proposals will require a single endorsement.

For each TPS measurement, for a few minutes (or maybe send 1000 transactions per thread, total 64,000 TXs), distribute the threads to send transaction endorsement proposals using ""Constant"" mode to send at max rate to each of the peers. Repeat for the queries.

 
 # 2 peers X 32 threads, 1 peer per org, 2 orgs
 # 4 peers X 16 threads, 2 peers per org
 # 8 peers X 8 threads, 4 peers per org
 # 16 peers X 4 threads, 8 peers per org
 # 32 peers X 2 threads, 16 peers per org
 # 64 peers X 1 thread, 32 peers per org

 

*Test Environment* : IKS Cluster
 *Tools to be used* : Cello, ATD, PTE
 *T**asks to be completed, in order to create the network and to display measurements and automate weekly* :
 # Test Driver will go under fabric-test repo
 # Enhance Cello to take config params
 # Required testviewer changes to display the results
 # ATD enhancements required to Collect logs (Save 7/180 days ?)
 # Scripts/Tools required to create new peer and update *SCFile*

 *        Create/add new peer using cello
 *        Update SC file with new + all old peers
 *        Create new channel and join the new peers to the channel
 *        Install / Instantiate CC.

 

Also: 
 * create a permanent IKS cluster network
 * provide kubeconfig (and provide updated token every month) of the established network to the CI team so they can create a new jenkins job that runs weekly
 * Testviewer enhancements to display the results of peer scalability tests in a new chart

 ",,Ratnakar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-10055,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-10081,,,Manual,,Unset,No,,,"1|hzznjb:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Pass,,System Test,,(Please add usage information),Ratnakar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fix broken links in docs,FAB-11667,33080,,Documentation,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid,joe-alewine,pandrejko,pandrejko,22/Aug/18 5:15 AM,07/Jan/20 7:01 AM,28/Oct/23 3:03 AM,07/Jan/20 7:01 AM,,,,,,,,,,,fabric-docs,,,,0,,,,,,"Latest report from Jason Clark is available here:

[https://jenkins.hyperledger.org/sandbox/job/fabric-docs-build-x86_64/2/console]

 

Search on the text `broken`

 

Some are true positives some are false positives, we should get back to jason with information about which ones are false positives and fix the rest.",,joe-alewine,pandrejko,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwrtj:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),joe-alewine,pandrejko,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"22/Aug/18 5:18 AM;pandrejko;{color:#454545}Fabric{color}{color:#454545} broken links {color}[https://jenkins.hyperledger.org/sandbox/job/fabric-docs-build-x86_64/1/console] [https://jenkins.hyperledger.org/sandbox/job/fabric-docs-build-x86_64/2/console]
 * False Positive {color:#13679a}link checker mistakenly thinks#/q/status:open refers to an anchor {color}: (line 121) broken [https://gerrit.hyperledger.org/r/#/q/status:open] - Anchor '/q/status:open' not found
 * False Positive: (line 22) broken [https://gerrit.hyperledger.org/r/#/admin/projects/fabric] - Anchor '/admin/projects/fabric' not found
 * False Positive: (line 12) broken [https://gerrit.hyperledger.org/r/#/admin/projects/fabric] - Anchor '/admin/projects/fabric' not found
 * False Positive (line 186) broken [https://gerrit.hyperledger.org/r/#/dashboard/self] - Anchor '/dashboard/self' not found
 * False Positive(line 50) broken [https://gerrit.hyperledger.org/r/#/admin/projects/] - Anchor '/admin/projects/' not found
 * False Positive(line 197) broken [https://gerrit.hyperledger.org/r/#/q/project:fabric] - Anchor '/q/project:fabric' not found
 * False Positive(line 207) broken [https://gerrit.hyperledger.org/r/#/dashboard/self] - Anchor '/dashboard/self' not found
 * False Positive (line 60) broken [https://gerrit.hyperledger.org/r/#/admin/projects/fabric] - Anchor '/admin/projects/fabric' not found
 * {color:#de350b}True Positive{color} build_network.rst (line 174) broken [https://fabric-shim.github.io/ChaincodeStub.html] - 404 Client Error: Not Found for url: [https://fabric-shim.github.io/ChaincodeStub.html]
 * {color:#de350b}True Positive{color} chaincode4ade.rst (line 55) broken [https://fabric-shim.github.io/ChaincodeStub.html] - 404 Client Error: Not Found for url: [https://fabric-shim.github.io/ChaincodeStub.html]
 * {color:#de350b}True Positive{color} chaincode4ade.rst (line 43) broken [https://fabric-shim.github.io/ChaincodeInterface.html] - 404 Client Error: Not Found for url: [https://fabric-shim.github.io/ChaincodeInterface.html]
 * {color:#de350b}True Positive{color} chaincode4noah.rst (line 393) broken [https://github.com/hyperledger/fabric/tree/master/core/scc/escc] - 404 Client Error: Not Found for url: [https://github.com/hyperledger/fabric/tree/master/core/scc/escc]
 * {color:#de350b}True Positive{color} chaincode4noah.rst(line 396) broken [https://github.com/hyperledger/fabric/tree/master/core/scc/vscc] - 404 Client Error: Not Found for url: [https://github.com/hyperledger/fabric/tree/master/core/scc/vscc]
 * False positive kafka (line 79) broken [https://kafka.apache.org/documentation/#upgrade_11_message_format] - Anchor 'upgrade_11_message_format' not found
 * False positive releases (line 4) broken [https://github.com/hyperledger/fabric#releases] - Anchor 'releases' not found
 * False positive submit_cr (line 4) broken [https://gerrit.hyperledger.org/r/#/admin/projects/fabric] - Anchor '/admin/projects/fabric' not found
 * False positive submit_cr (line 56) broken [https://gerrit.hyperledger.org/r/#/admin/projects/] - Anchor '/admin/projects/' not found
 * False positive submit_cr (line 48) broken [https://gerrit.hyperledger.org/r/#/admin/projects/lf-sandbox,branches] - Anchor '/admin/projects/lf-sandbox,branches' not found
 * {color:#de350b}True positive{color} testing.rst (line 68) broken [https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-weekly-results-x86_64/test_results_analyzer/] - 404 Client Error: Not Found for url: [https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-weekly-results-x86_64/test_results_analyzer/]
 * False {color:#de350b}(True-ish) positive{color} whatis.rst (line 305) broken [https://docs.google.com/document/d/1DQ6PqoeIH0pCNJSEYiw7JVbExDvWh_ZRVhWkuioG4k0/edit#heading=h.t3gztry2ja8i] - Anchor 'heading=h.t3gztry2ja8i' not found; SHOULD WE JUST CHANGE THE LINK TO {color:#de350b}[https://docs.google.com/document/d/1DQ6PqoeIH0pCNJSEYiw7JVbExDvWh_ZRVhWkuioG4k0 |https://docs.google.com/document/d/1DQ6PqoeIH0pCNJSEYiw7JVbExDvWh_ZRVhWkuioG4k0]{color}

 ;;;","05/Sep/18 6:21 AM;pandrejko;[~jtclark] Basically any URL which includes a `#` fails the link checker... I wonder if there is a way to filter these out of the report?  When you have a few minutes, let's talk and see what can be done here.;;;","05/Sep/18 6:26 AM;pandrejko;[~joe-alewine] Would you have time to fix the broken links identified as {color:#de350b}True positive{color} above?;;;","06/Sep/18 5:44 AM;joe-alewine;So the broken links for ESCC and VSCC are a result of the change in the code around pluggable endorsement and validation. I thought we had removed all references to them in the doc (Yacov asked me to), but these were apparently missed (or perhaps we only changed them in release-1.1). In any case, that's why the links are broken — the code for endorsement and validation is now contained here: [https://github.com/hyperledger/fabric/tree/79aeb95737507f5341da555b6645e0f8bf61d74a/core/handlers]

The best thing to do in chaincode4noah.rst imo is to delete these links and the corresponding references to ESCC and VSCC being system chaincodes and replace that with a short sentence saying that they're no longer SCCs and pointing to the Pluggable Endorsement doc. That will probably require a separate jira/CR (which I'll create).

The chaincode shim links should be pretty easy to fix — these are just regular broken links from a change in the folder structure in the chaincode shim docs.

Not sure about the testing doc link. [~scottz] or [~rameshthoomu] could you help?;;;","06/Sep/18 10:27 PM;scottz;For now, the testdoc link should be the following. Maybe [~rameshthoomu] could explain why the data for the weekly pte testrun is not displayed correctly in a chart, but at least the page should be found.  https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-svt-weekly-pte-x86_64/test_results_analyzer/;;;","30/Oct/18 12:22 AM;pandrejko;Latest broken link report is available here: [https://jenkins.hyperledger.org/sandbox/job/fabric-docs-build-x86_64/21/console]

 

 

 ;;;","07/Jan/20 7:00 AM;pandrejko;Closing this out for now because the broken link checker no longer runs in the new pipeline. 
;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
Encoding for uint64 for reverse order byte comparison,FAB-11668,33084,32194,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,manish-sethi,manish-sethi,manish-sethi,22/Aug/18 7:04 AM,12/Jun/20 12:30 AM,28/Oct/23 3:03 AM,23/Aug/18 2:59 AM,,,,,,v1.3.0,,,,,fabric-ledger,,,,0,,,,,,"We need to answer the queries such that MostRecentBelow(givenBlockNumber). This requires that the byte order comparison this encoding ensures that the property `encode(A) > encode(B), If B > A` is maintained.

Further, since it is expected to have many entries for the missing private data, especially for the collections that the peer is not a member of, a custom compression of the encoded value will help in saving the storage space.",,manish-sethi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwqfm:7",,,,Unset,Unset,To Do,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),manish-sethi,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Support using TLS pem content from connection profile in peer CLI,FAB-11669,33087,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,TiantianGao,TiantianGao,22/Aug/18 2:54 PM,23/Jan/20 7:32 AM,28/Oct/23 3:03 AM,23/Jan/20 7:32 AM,,,,,,,,,,,fabric-peer,,,,0,stale-item,,,,,"# FAB-9556 add the ability to get multiple endorsements from an connection profile. Currently peer CLI only reads `tlsCACerts.path`, but there are users that put pem content in `tlsCACerts.pem`, we need to support this use case.

 

The connection profile snippet looks like below

 
{code:java}
peers:
   peer2:
     url: peer2.top:
     tlsCACerts:
       pem: |
        ----BEGIN CERTIFICATE----
        aaaaaaaaaaaaaaaaaaaa
        ----END CERTIFICATE---- {code}",,sykesm,TiantianGao,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzznkn:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,TiantianGao,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Aug/18 12:32 AM;wlahti;This should be marked as a new feature / improvement request. ;;;","23/Aug/18 11:24 AM;TiantianGao;That's right, already changed the type to task.;;;","23/Jan/20 7:32 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
As a token application developer I want to allow the token client to setup a server side TLS authenticated GRPC connection to prover peer,FAB-11670,33089,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,,elli-androulaki,elli-androulaki,22/Aug/18 5:46 PM,17/Jan/19 1:31 AM,28/Oct/23 3:03 AM,17/Jan/19 1:30 AM,,,,,,,,,,,fabric-token,,,,0,fabtoken,,,,,,,elli-androulaki,wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-11153,,,No,,Unset,No,,,"1|hzws2n:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),elli-androulaki,wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"17/Jan/19 1:31 AM;wenjian;This is covered by FAB-11675.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As a token-based system client developer, I can request from a peer to compute a token redemption proof matching my token redemption needs",FAB-11671,33090,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wenjian,elli-androulaki,elli-androulaki,22/Aug/18 5:50 PM,03/Dec/19 3:04 AM,28/Oct/23 3:03 AM,20/Feb/19 8:30 AM,,,,,,,,,,,fabric-token,,,,0,fabtoken,,,,,"{color:#333333}*Acceptance:* A client function (cwLib) takes as arguments the identifiers of tokens to be redeemed via a token redemption process. As a result the function would request from a peer to construct the corresponding token redemption proof. {color}

The redemption proof is returned to the client and the function will return successfully only if the returned issue proof is correctly computed.",,elli-androulaki,wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-11153,,,No,,Unset,No,,,"1|hzwrzb:",,,,Unset,Unset,,,(Please add steps to reproduce),5.0,Unset,,,,,,Unset,,Unset,,(Please add usage information),elli-androulaki,wenjian,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"31/Oct/18 5:29 AM;wenjian;CR: [https://gerrit.hyperledger.org/r/#/c/27279/]

 ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
As a token client developer I want to implement the redemption capability using local interfaces to denote the communication with the peer,FAB-11672,33091,33090,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wenjian,elli-androulaki,elli-androulaki,22/Aug/18 5:52 PM,20/Feb/19 8:30 AM,28/Oct/23 3:03 AM,20/Feb/19 8:30 AM,,,,,,v2.0.0,,,,,,,,,0,fabtoken,,,,,,,elli-androulaki,wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzznl3:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),elli-androulaki,wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"31/Oct/18 5:30 AM;wenjian;It is covered by CRs in FAB-11671;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
As a token client developer I want to implement the client local interface for prover peer redemption request (method RedeemRequest) without establishing a GRPC connection,FAB-11673,33092,33090,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,wenjian,elli-androulaki,elli-androulaki,22/Aug/18 5:53 PM,16/Nov/18 3:32 AM,28/Oct/23 3:03 AM,16/Nov/18 3:27 AM,,,,,,,,,,,,,,,0,,,,,,This refers to the definition of prover peer protobuf messages for redemption and the implementation of the client local interface for prover peer using another local interface representing the actual GRPC connection establishment.,,elli-androulaki,wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11674,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzznlb:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),elli-androulaki,wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"16/Nov/18 3:27 AM;wenjian;This is covered by FAB-11674.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
As a token client developer I want to allow that invocation of redemption request on the client side results into a communication with the prover peer,FAB-11674,33093,33090,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wenjian,elli-androulaki,elli-androulaki,22/Aug/18 5:54 PM,27/Nov/18 1:08 AM,28/Oct/23 3:03 AM,27/Nov/18 1:06 AM,,,,,,v2.0.0,,,,,,,,,0,fabtoken,,,,,,,elli-androulaki,wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11673,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzznlj:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),elli-androulaki,wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"16/Nov/18 3:25 AM;wenjian;CR: https://gerrit.hyperledger.org/r/#/c/27159/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As a token application/client developer, I want to enhance token client to send requests/transactions using real grpc client and signing identity",FAB-11675,33095,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wenjian,elli-androulaki,elli-androulaki,22/Aug/18 6:15 PM,03/Dec/19 3:04 AM,28/Oct/23 3:03 AM,17/Jan/19 1:35 AM,,,,,,,,,,,fabric-token,,,,0,fabtoken,,,,,"This refers to the implementation of signing identity local interfaces for the client to be able to actually sign a transaction using its long term fabric signing identity. Token client should be able to send requests to a prover peer and submit transactions to an orderer via real grpc client (instead of mocked local interface)

 

*Acceptance*: Token client is setup using a statically assigned MSP signing identity. Fabric client is able to sign messages (e.g., prover peer signedCommands, or Transactions) using this signing identity and send requests/transactions to prover peer and orderer.",,elli-androulaki,wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11344,FAB-11348,FAB-11366,FAB-11373,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-11153,,,No,,Unset,No,,,"1|hzws1r:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),elli-androulaki,wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"24/Oct/18 12:51 AM;elli-androulaki;Covered by the CR of FAB-11300 [https://gerrit.hyperledger.org/r/#/c/26461/];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As a token-based application/client developer, I can submit a transaction for redeeming tokens into the system",FAB-11676,33098,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,,elli-androulaki,elli-androulaki,22/Aug/18 6:19 PM,20/Feb/19 8:33 AM,28/Oct/23 3:03 AM,20/Feb/19 8:33 AM,,,,,,,,,,,,,,,0,,,,,,Here the client token library leverages the responses from the prover peer to create a token transaction for redemption that is submitted to the ordering service.,,elli-androulaki,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11343,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-11153,,,No,,Unset,No,,,"1|hzws1z:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),elli-androulaki,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"24/Oct/18 12:54 AM;elli-androulaki;This is covered by this CR: https://jira.hyperledger.org/browse/FAB-12574;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As a token infrastructure (committing peer) developer, I can recognise and process a “redeem tokens"" transaction without impacting the ledger state",FAB-11677,33106,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,wenjian,elli-androulaki,elli-androulaki,22/Aug/18 6:34 PM,14/Nov/18 5:31 AM,28/Oct/23 3:03 AM,14/Nov/18 5:31 AM,,,,,,,,,,,fabric-crypto,fabric-peer,,,0,,,,,,"*Acceptance*: A (simulated) client generates a ""redeem tokens"" transaction. Upon receiving this transaction, a committing peer redirects its processing to its FabToken specific validation & commit components.  The transaction is to be marked as valid during validation and invalid in the end of commit phase and will have no impact on the ledger state.

In more details, these are the points of entry:
 * *Enabling FabToken Transaction Processor*: Customised transaction processors are setup with a call to *ledgermgmt.Initialize(...)*. This function is invoked in two places: *peer/peer.go* and *node/start.go*. In order to enable fabtoken transaction processing, those two entry points will be modified to include also *fabtoken.TxProcessor*.
 * *Enabling FabToken Validation:* FabToken Validation is to be considered as a _statically compiled handler_, therefore a new method called *FabTokenValidation* will be added to *library.HandleLibray*. * *The new method will return an instance of *fabtoken.ValidationFactory*.",,elli-androulaki,wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11678,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-11144,,,No,,Unset,No,,,"1|hzwrz3:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),elli-androulaki,wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"14/Nov/18 5:31 AM;wenjian;This issue has been covered by FAB-11678.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As a token infrastructure (committing peer) developer, I can fully process a “redeem tokens"" transaction	",FAB-11678,33110,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wenjian,elli-androulaki,elli-androulaki,22/Aug/18 6:43 PM,03/Dec/19 3:04 AM,28/Oct/23 3:03 AM,16/Nov/18 3:21 AM,,,,,,,,,,,fabric-crypto,,,,0,,,,,,"*Acceptance*: A (simulated) fabric client can be built to redeem a specific set of tokens. Validation assumes the input identities match the one of the transaction creator of input owners. If this is not the case, the transaction is rejected at validation time. If the inputs correspond to  outputs that have already been consumed, the transaction is rejected at commit time. 
 
The ledger APIs can be used to retrieve the committed data. I can observe
inputs have been marked as spent.",,elli-androulaki,wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11677,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-11144,,,No,,Unset,No,,,"1|hzwryv:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),elli-androulaki,wenjian,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"16/Nov/18 3:21 AM;wenjian;CR is https://gerrit.hyperledger.org/r/#/c/27159/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As a token infrastructure (peer) developer, I want to accommodate “redemption proof” requests assuming mockup proof computation mechanism	",FAB-11679,33111,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wenjian,elli-androulaki,elli-androulaki,22/Aug/18 6:51 PM,15/Nov/18 5:42 PM,28/Oct/23 3:03 AM,15/Nov/18 5:42 PM,,,,,,,,,,,fabric-crypto,,,,0,fabtoken,,,,,*Acceptance*: A fabric client can be built to submit an “redemption proof” request to a peer. The peer validates the request and checks that the request's creator has the rights to submit that request. ,,elli-androulaki,wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-11149,,,No,,Unset,No,,,"1|hzwry7:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),elli-androulaki,wenjian,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"19/Oct/18 5:22 AM;wenjian;CR is https://gerrit.hyperledger.org/r/#/c/27041/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As a token infrastructure (peer) developer, I want the peer to accommodate requests to compute an redemption proof given specific parameters",FAB-11680,33112,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wenjian,elli-androulaki,elli-androulaki,22/Aug/18 6:53 PM,03/Dec/19 3:03 AM,28/Oct/23 3:03 AM,01/Feb/19 4:32 PM,,,,,,,,,,,fabric-crypto,,,,0,fabtoken,,,,,"*Acceptance*: A (simulated) client constructs a request to construct an redemption proof by 
providing the identifier of tokens to be introduced into the system, and invokes 
the peer API. The peer would need to construct the corresponding redemption proof and return it to the (simulated) client. Acceptance would require that the constructed proof matches the input parameters of the request.",,elli-androulaki,wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-11149,,,No,,Unset,No,,,"1|hzwryf:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),elli-androulaki,wenjian,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"19/Oct/18 5:24 AM;wenjian;Implement RequestRedeem in transactor.go. CR is: https://gerrit.hyperledger.org/r/#/c/27094/ ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Reduce logging noise from msp/configbuilder at info level,FAB-11682,33118,,Task,Closed,FAB,Fabric,software,denyeart,,,Low,Done,sykesm,sykesm,sykesm,22/Aug/18 9:25 PM,23/Aug/18 1:07 AM,28/Oct/23 3:03 AM,23/Aug/18 1:07 AM,,,,,,,,,,,,,,,0,,,,,,"This message adds very little value at info level as it includes no context and is issued all the time.

2018-08-22 08:02:49.002 EDT [msp] getMspConfig -> INFO 001 Loading NodeOUs
2018-08-22 08:02:49.003 EDT [msp] getMspConfig -> INFO 002 Loading NodeOUs
2018-08-22 08:02:49.003 EDT [msp] getMspConfig -> INFO 003 Loading NodeOUs
2018-08-22 08:02:49.004 EDT [msp] getMspConfig -> INFO 004 Loading NodeOUs
2018-08-22 08:02:49.005 EDT [msp] getMspConfig -> INFO 005 Loading NodeOUs
2018-08-22 08:02:49.006 EDT [msp] getMspConfig -> INFO 006 Loading NodeOUs

The message should be cut at debug level (if at all).",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzznm7:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"22/Aug/18 9:26 PM;sykesm;https://gerrit.hyperledger.org/r/25793;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Data race related to GenerateDockerBuild,FAB-11683,33122,,Bug,Closed,FAB,Fabric,software,denyeart,,,Low,Done,sykesm,sykesm,sykesm,22/Aug/18 9:45 PM,26/Aug/18 9:11 PM,28/Oct/23 3:03 AM,26/Aug/18 9:11 PM,,,,,,v1.3.0,,,,,,,,,0,race,,,,,"{code}
==================
WARNING: DATA RACE
Read at 0x00c42061c248 by goroutine 101:
  github.com/hyperledger/fabric/core/chaincode/platforms/util.DockerBuild()
      /usr/local/Cellar/go/1.10.3/libexec/src/bytes/buffer.go:66 +0x11f8
  github.com/hyperledger/fabric/core/chaincode/platforms/golang.(*Platform).GenerateDockerBuild()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/chaincode/platforms/golang/platform.go:520 +0x74a
  github.com/hyperledger/fabric/core/chaincode/platforms.(*Registry).StreamDockerBuild()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/chaincode/platforms/platforms.go:171 +0x411
  github.com/hyperledger/fabric/core/chaincode/platforms.(*Registry).GenerateDockerBuild.func1()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/chaincode/platforms/platforms.go:201 +0x229

Previous write at 0x00c42061c248 by goroutine 67:
  bytes.(*Buffer).grow()
      /usr/local/Cellar/go/1.10.3/libexec/src/bytes/buffer.go:149 +0x276
  bytes.(*Buffer).Write()
      /usr/local/Cellar/go/1.10.3/libexec/src/bytes/buffer.go:174 +0x14f
  github.com/hyperledger/fabric/vendor/github.com/docker/docker/pkg/stdcopy.StdCopy()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/github.com/docker/docker/pkg/stdcopy/stdcopy.go:174 +0x52d
  github.com/hyperledger/fabric/vendor/github.com/fsouza/go-dockerclient.(*Client).hijack.func1.1()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/github.com/fsouza/go-dockerclient/client.go:801 +0x169

Goroutine 101 (running) created at:
  github.com/hyperledger/fabric/core/chaincode/platforms.(*Registry).GenerateDockerBuild()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/chaincode/platforms/platforms.go:198 +0x50c
  github.com/hyperledger/fabric/core/container.(*PlatformBuilder).Build()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/container/controller.go:138 +0x130
  github.com/hyperledger/fabric/core/container/dockercontroller.(*DockerVM).Start()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/container/dockercontroller/dockercontroller.go:245 +0x1810
  github.com/hyperledger/fabric/core/container.StartContainerReq.Do()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/container/controller.go:148 +0x102
  github.com/hyperledger/fabric/core/container.(*StartContainerReq).Do()
      <autogenerated>:1 +0xb9
  github.com/hyperledger/fabric/core/container.(*VMController).Process()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/container/controller.go:180 +0x14f
  github.com/hyperledger/fabric/core/chaincode.(*ContainerRuntime).Start()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/chaincode/container_runtime.go:77 +0x8ee
  github.com/hyperledger/fabric/core/chaincode.(*RuntimeLauncher).Launch.func1()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/chaincode/runtime_launcher.go:55 +0x181

Goroutine 67 (finished) created at:
  github.com/hyperledger/fabric/vendor/github.com/fsouza/go-dockerclient.(*Client).hijack.func1()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/github.com/fsouza/go-dockerclient/client.go:787 +0x21d
==================
{code}",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzznn3:",,,,Unset,Unset,,,run tests with the race detector,,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"22/Aug/18 9:49 PM;sykesm;Appears to have been (re-)introduced with FAB-10835. (There was a similar race fixed for 1.2).;;;","22/Aug/18 11:06 PM;sykesm;Correction - It was not introduced with FAB-10835; it was introduced by FAB-11303

https://github.com/hyperledger/fabric/commit/b766b282061d54406fe268666151cf57c215bebd#diff-61bd59edcead4aa25e81cd146dda1e40R243;;;","22/Aug/18 11:21 PM;sykesm;https://gerrit.hyperledger.org/r/25798;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Data race related to blockledger/ram,FAB-11684,33126,,Bug,Closed,FAB,Fabric,software,denyeart,,,Low,Done,sykesm,sykesm,sykesm,22/Aug/18 10:42 PM,26/Aug/18 9:12 PM,28/Oct/23 3:03 AM,26/Aug/18 9:12 PM,,,,,,v1.3.0,,,,,,,,,0,race,,,,,"{code}
==================
WARNING: DATA RACE
Write at 0x00c42035a9c0 by goroutine 34:
  github.com/hyperledger/fabric/common/ledger/blockledger/ram.(*ramLedger).appendBlock()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/common/ledger/blockledger/ram/impl.go:153 +0x148
  github.com/hyperledger/fabric/common/ledger/blockledger/ram.(*ramLedger).Append()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/common/ledger/blockledger/ram/impl.go:148 +0x1d5
  github.com/hyperledger/fabric/orderer/common/multichannel.(*ChainSupport).Append()
      <autogenerated>:1 +0x82
  github.com/hyperledger/fabric/orderer/common/multichannel.(*BlockWriter).commitBlock()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/orderer/common/multichannel/blockwriter.go:169 +0x126
  github.com/hyperledger/fabric/orderer/common/multichannel.(*BlockWriter).WriteBlock.func1()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/orderer/common/multichannel/blockwriter.go:155 +0x9e

Previous read at 0x00c42035a9c0 by goroutine 32:
  github.com/hyperledger/fabric/common/ledger/blockledger/ram.(*cursor).Next()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/common/ledger/blockledger/ram/impl.go:47 +0x8b
  github.com/hyperledger/fabric/orderer/common/multichannel.TestManagerImpl()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/orderer/common/multichannel/registrar_test.go:159 +0x758
  testing.tRunner()
      /usr/local/Cellar/go/1.10.3/libexec/src/testing/testing.go:777 +0x16d

Goroutine 34 (running) created at:
  github.com/hyperledger/fabric/orderer/common/multichannel.(*BlockWriter).WriteBlock()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/orderer/common/multichannel/blockwriter.go:153 +0xc4
  github.com/hyperledger/fabric/orderer/common/multichannel.(*ChainSupport).WriteBlock()
      <autogenerated>:1 +0x83
  github.com/hyperledger/fabric/orderer/common/multichannel.(*mockChain).Start.func1()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/orderer/common/multichannel/util_test.go:95 +0x790

Goroutine 32 (running) created at:
  testing.(*T).Run()
      /usr/local/Cellar/go/1.10.3/libexec/src/testing/testing.go:824 +0x564
  testing.runTests.func1()
      /usr/local/Cellar/go/1.10.3/libexec/src/testing/testing.go:1063 +0xa4
  testing.tRunner()
      /usr/local/Cellar/go/1.10.3/libexec/src/testing/testing.go:777 +0x16d
  testing.runTests()
      /usr/local/Cellar/go/1.10.3/libexec/src/testing/testing.go:1061 +0x4e1
  testing.(*M).Run()
      /usr/local/Cellar/go/1.10.3/libexec/src/testing/testing.go:978 +0x2cd
  main.main()
      _testmain.go:116 +0x324
==================
{code}",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzznnj:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Data race related to shim logging setup in tests,FAB-11685,33128,,Bug,Closed,FAB,Fabric,software,denyeart,,,Low,Done,sykesm,sykesm,sykesm,22/Aug/18 11:19 PM,26/Aug/18 9:10 PM,28/Oct/23 3:03 AM,26/Aug/18 9:10 PM,,,,,,v1.3.0,,,,,,,,,0,race,,,,,"The chaincode shim still uses go-logging for compatibility reason and is still subject to all of the data races in that package. In production, this shouldn't be a problem as chaincode runs in its own process but it  does impact tests.

Work around the racing by making logging setup run exactly once in the tests; change the logging related tests to use an unexported function.",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzznnr:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"22/Aug/18 11:21 PM;sykesm;https://gerrit.hyperledger.org/r/25797;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
PTE adds target peers option to gen_cfgInputs.sh,FAB-11686,33130,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,dongming,dongming,dongming,22/Aug/18 11:28 PM,23/Aug/18 10:20 PM,28/Oct/23 3:03 AM,23/Aug/18 10:20 PM,,,,,,,,,,,,,,,0,,,,,,"For scalability benchmark, need to add target peers option to gen_cfgInputs.sh",,dongming,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-2247,,,No,,Unset,No,,,"1|hzzno7:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),dongming,,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,true,"23/Aug/18 12:46 AM;dongming;https://gerrit.hyperledger.org/r/#/c/25800/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As a Fabric application developer, I'd like to build browser-based applications which directly interact with Fabric nodes",FAB-11687,33131,,Story,Backlog,FAB,Fabric,software,denyeart,,,High,,mastersingh24,mastersingh24,mastersingh24,23/Aug/18 12:14 AM,01/May/20 7:40 PM,28/Oct/23 3:03 AM,,,,,,,v2.2.0,,,,,,,,,3,,,,,,"The core Fabric APIs are gRPC-based.  This makes it difficult to directly interact with Fabric nodes from web browsers as gRPC makes use of parts of the HTTP/2 spec which are not currently supported in web browsers.  Today, many people try to put REST servers in front of Fabric nodes which is OK but has multiple issues in terms of protocol translation and even key management.",,iwinoto,Koptan,mastersingh24,sykesm,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11019,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Yes,Unset,,,,,No,,Unset,No,,,"1|hzznof:",,,,No,Unset,,,(Please add steps to reproduce),3.0,Yes,,,,,,Unset,,Unset,,(Please add usage information),iwinoto,Koptan,mastersingh24,sykesm,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Aug/18 12:19 AM;mastersingh24;While one option is to natively embed a REST API or HTTP POST API within Fabric, we'd still have potential translation issues and/or we'd be moving protobuf manipulation into the browser.  In the meantime, work is underway on several implementations of the [gRPC Web|https://github.com/grpc/grpc/blob/master/doc/PROTOCOL-WEB.md] protocol.

My initial research and focus will center on gRPC Web and I'll post a preliminary design document after some initial prototyping to ensure this is a viable concept;;;","23/Jan/20 7:32 AM;sykesm;Stale;;;","01/May/20 7:15 PM;mastersingh24;I'm going to pick this back up!  Need a fun project;;;","01/May/20 7:40 PM;mastersingh24;There's no impact to existing SDKs .... we can build a new SDK at some point if desired.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Data race related to multichannel/registrar,FAB-11688,33132,,Bug,Closed,FAB,Fabric,software,denyeart,,,Low,Done,sykesm,sykesm,sykesm,23/Aug/18 12:16 AM,26/Aug/18 9:11 PM,28/Oct/23 3:03 AM,26/Aug/18 9:11 PM,,,,,,v1.3.0,,,,,,,,,0,race,,,,,"{code}
==================
WARNING: DATA RACE
Write at 0x00c4201d2e70 by goroutine 29:
  github.com/hyperledger/fabric/orderer/common/multichannel.(*Registrar).newChain()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/orderer/common/multichannel/registrar.go:286 +0x453
  github.com/hyperledger/fabric/orderer/common/multichannel.(*BlockWriter).WriteConfigBlock()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/orderer/common/multichannel/blockwriter.go:118 +0x47a
  github.com/hyperledger/fabric/orderer/common/multichannel.(*ChainSupport).WriteConfigBlock()
      <autogenerated>:1 +0x83
  github.com/hyperledger/fabric/orderer/consensus/solo.(*chain).main()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/orderer/consensus/solo/consensus.go:160 +0x57b

Previous read at 0x00c4201d2e70 by goroutine 37:
  github.com/hyperledger/fabric/orderer/common/server.deliverSupport.GetChain()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/orderer/common/multichannel/registrar.go:224 +0x54
  github.com/hyperledger/fabric/common/deliver.(*Handler).deliverBlocks()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/common/deliver/deliver.go:186 +0x74a
  github.com/hyperledger/fabric/common/deliver.(*Handler).Handle()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/common/deliver/deliver.go:153 +0x3b8
  github.com/hyperledger/fabric/orderer/common/server.(*server).Deliver()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/orderer/common/server/server.go:182 +0x3af
  github.com/hyperledger/fabric/orderer/common/performance.(*BenchmarkServer).CreateDeliverClient.func1()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/orderer/common/performance/server.go:174 +0x68

Goroutine 29 (running) created at:
  github.com/hyperledger/fabric/orderer/consensus/solo.(*chain).Start()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/orderer/consensus/solo/consensus.go:67 +0x4c
  github.com/hyperledger/fabric/orderer/common/multichannel.(*ChainSupport).start()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/orderer/common/multichannel/chainsupport.go:87 +0x53
  github.com/hyperledger/fabric/orderer/common/multichannel.NewRegistrar()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/orderer/common/multichannel/registrar.go:188 +0x13de
  github.com/hyperledger/fabric/orderer/common/server.initializeMultichannelRegistrar()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/orderer/common/server/main.go:258 +0x2fb
  github.com/hyperledger/fabric/common/viperutil.unmarshalJSON()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/common/viperutil/config_util.go:79 +0x10c
  github.com/hyperledger/fabric/common/viperutil.getKeysRecursively()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/common/viperutil/config_util.go:52 +0x383
  github.com/hyperledger/fabric/common/viperutil.getKeysRecursively()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/common/viperutil/config_util.go:51 +0x2cd
  github.com/hyperledger/fabric/common/viperutil.getKeysRecursively()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/common/viperutil/config_util.go:48 +0xb93
  github.com/hyperledger/fabric/common/viperutil.EnhancedExactUnmarshal()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/common/viperutil/config_util.go:294 +0xe4
  github.com/hyperledger/fabric/common/tools/configtxgen/localconfig.Load()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/common/tools/configtxgen/localconfig/config.go:278 +0x83c
  github.com/hyperledger/fabric/orderer/common/server.initializeBootstrapChannel()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/orderer/common/server/main.go:199 +0x663
  github.com/hyperledger/fabric/orderer/common/server.initializeMultichannelRegistrar()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/orderer/common/server/main.go:249 +0xe0
  fmt.(*ss).doScanf()
      /usr/local/Cellar/go/1.10.3/libexec/src/fmt/scan.go:1193 +0x345
  fmt.Fscanf()
      /usr/local/Cellar/go/1.10.3/libexec/src/fmt/scan.go:143 +0xf5
  fmt.Sscanf()
      /usr/local/Cellar/go/1.10.3/libexec/src/fmt/scan.go:114 +0xbb
  github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage.fsParseName()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage/file_storage.go:571 +0x16c
  github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage.(*fileStorage).List()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage/file_storage.go:386 +0x2b0
  fmt.Sscanf()
      /usr/local/Cellar/go/1.10.3/libexec/src/fmt/scan.go:114 +0xbb
  github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage.fsParseName()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage/file_storage.go:585 +0x239
  fmt.(*ss).doScanf()
      /usr/local/Cellar/go/1.10.3/libexec/src/fmt/scan.go:1193 +0x345
  fmt.Fscanf()
      /usr/local/Cellar/go/1.10.3/libexec/src/fmt/scan.go:143 +0xf5
  fmt.Sscanf()
      /usr/local/Cellar/go/1.10.3/libexec/src/fmt/scan.go:114 +0xbb
  github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage.fsParseName()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage/file_storage.go:571 +0x16c
  github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage.(*fileStorage).List()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage/file_storage.go:386 +0x2b0
  github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.(*DB).checkAndCleanFiles()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db_util.go:52 +0x2e6
  github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.openDB()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db.go:129 +0xa4c
  fmt.Sscanf()
      /usr/local/Cellar/go/1.10.3/libexec/src/fmt/scan.go:114 +0xbb
  github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage.fsParseName()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage/file_storage.go:571 +0x16c
  github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage.(*fileStorage).List()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage/file_storage.go:386 +0x2b0
  fmt.(*ss).doScanf()
      /usr/local/Cellar/go/1.10.3/libexec/src/fmt/scan.go:1193 +0x345
  fmt.Fscanf()
      /usr/local/Cellar/go/1.10.3/libexec/src/fmt/scan.go:143 +0xf5
  fmt.Sscanf()
      /usr/local/Cellar/go/1.10.3/libexec/src/fmt/scan.go:114 +0xbb
  github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage.fsParseName()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage/file_storage.go:571 +0x16c
  github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage.(*fileStorage).List()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage/file_storage.go:386 +0x2b0
  fmt.(*ss).doScanf()
      /usr/local/Cellar/go/1.10.3/libexec/src/fmt/scan.go:1193 +0x345
  fmt.Fscanf()
      /usr/local/Cellar/go/1.10.3/libexec/src/fmt/scan.go:143 +0xf5
  fmt.Sscanf()
      /usr/local/Cellar/go/1.10.3/libexec/src/fmt/scan.go:114 +0xbb
  github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage.fsParseName()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage/file_storage.go:571 +0x16c
  github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage.(*fileStorage).List()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage/file_storage.go:386 +0x2b0
  fmt.Sscanf()
      /usr/local/Cellar/go/1.10.3/libexec/src/fmt/scan.go:114 +0xbb
  github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage.fsParseName()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage/file_storage.go:585 +0x239
  fmt.(*ss).doScanf()
      /usr/local/Cellar/go/1.10.3/libexec/src/fmt/scan.go:1193 +0x345
  fmt.Fscanf()
      /usr/local/Cellar/go/1.10.3/libexec/src/fmt/scan.go:143 +0xf5
  fmt.Sscanf()
      /usr/local/Cellar/go/1.10.3/libexec/src/fmt/scan.go:114 +0xbb
  github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage.fsParseName()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage/file_storage.go:571 +0x16c
  github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage.(*fileStorage).List()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage/file_storage.go:386 +0x2b0
  github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.(*DB).recoverJournal()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db.go:475 +0xd9
  github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.openDB()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db.go:124 +0xa28
  github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.Open()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db.go:196 +0x186
  github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage.fsParseName()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage/file_storage.go:571 +0x16c
  github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage.(*fileStorage).List()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage/file_storage.go:386 +0x2b0
  fmt.(*ss).doScanf()
      /usr/local/Cellar/go/1.10.3/libexec/src/fmt/scan.go:1193 +0x345
  fmt.Fscanf()
      /usr/local/Cellar/go/1.10.3/libexec/src/fmt/scan.go:143 +0xf5
  fmt.Sscanf()
      /usr/local/Cellar/go/1.10.3/libexec/src/fmt/scan.go:114 +0xbb
  github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage.fsParseName()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage/file_storage.go:571 +0x16c
  github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage.(*fileStorage).List()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage/file_storage.go:386 +0x2b0
  github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.(*session).recover.func1()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/session.go:113 +0xc3
  github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.(*session).recover()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/session.go:121 +0x1860
  github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.Open()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db.go:182 +0xc8
  github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.OpenFile()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db.go:218 +0x9f
  github.com/hyperledger/fabric/common/ledger/util/leveldbhelper.(*DB).Open()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/common/ledger/util/leveldbhelper/leveldb_helper.go:78 +0x1e1
  github.com/hyperledger/fabric/common/ledger/util/leveldbhelper.NewProvider()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/common/ledger/util/leveldbhelper/leveldb_provider.go:40 +0x211
  github.com/hyperledger/fabric/common/ledger/blkstorage/fsblkstorage.NewProvider()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/common/ledger/blkstorage/fsblkstorage/fs_blockstore_provider.go:34 +0xa0
  github.com/hyperledger/fabric/common/ledger/blockledger/file.New()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/common/ledger/blockledger/file/factory.go:71 +0x143
  github.com/hyperledger/fabric/orderer/common/server.createLedgerFactory()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/orderer/common/server/util.go:32 +0x5cf
  github.com/hyperledger/fabric/orderer/common/server.initializeMultichannelRegistrar()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/orderer/common/server/main.go:246 +0x6b
  github.com/hyperledger/fabric/orderer/common/server.Start()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/orderer/common/server/main.go:96 +0x3de

Goroutine 37 (finished) created at:
  github.com/hyperledger/fabric/orderer/common/performance.(*BenchmarkServer).CreateDeliverClient()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/orderer/common/performance/server.go:173 +0x195
  github.com/hyperledger/fabric/orderer/common/performance.WaitForChannels.func1()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/orderer/common/performance/utils.go:119 +0x116
==================
{code}",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzznon:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"23/Aug/18 6:05 AM;sykesm;[~kchristidis], please take a peek when you get a moment. 

https://gerrit.hyperledger.org/r/c/25814/

It's a blind change to serialize access to the {{chains}} map and I'm not sure it's the best path.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Data race related to fabric/msp,FAB-11689,33134,,Bug,Closed,FAB,Fabric,software,denyeart,,,Low,Done,sykesm,sykesm,sykesm,23/Aug/18 12:18 AM,20/Mar/19 3:48 PM,28/Oct/23 3:03 AM,28/Sep/18 6:37 PM,,,,,,v1.4.0,,,,,,,,,0,race,,,,,"{code}
==================
WARNING: DATA RACE
Write at 0x00c4203e7bf8 by goroutine 49:
  github.com/hyperledger/fabric/msp.(*bccspmsp).setupCrypto()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/msp/mspimplsetup.go:82 +0x48
  github.com/hyperledger/fabric/msp.(*bccspmsp).preSetupV1()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/msp/mspimplsetup.go:382 +0x5d
  github.com/hyperledger/fabric/msp.(*bccspmsp).setupV1()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/msp/mspimplsetup.go:367 +0x46
  github.com/hyperledger/fabric/msp.(*bccspmsp).(github.com/hyperledger/fabric/msp.setupV1)-fm()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/msp/mspimpl.go:112 +0x4b
  github.com/hyperledger/fabric/msp.(*bccspmsp).Setup()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/msp/mspimpl.go:225 +0x224
  github.com/hyperledger/fabric/msp/cache.(*cachedMSP).Setup()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/msp/cache/cache.go:101 +0x6a
  github.com/hyperledger/fabric/msp/mgmt/testtools.LoadMSPSetupForTesting()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/msp/mgmt/testtools/config.go:28 +0xb9
  github.com/hyperledger/fabric/peer/chaincode.initMSP()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/peer/chaincode/upgrade_test.go:31 +0x33
  sync.(*Once).Do()
      /usr/local/Cellar/go/1.10.3/libexec/src/sync/once.go:44 +0xe1
  github.com/hyperledger/fabric/peer/chaincode.InitMSP()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/peer/chaincode/upgrade_test.go:27 +0x46
  github.com/hyperledger/fabric/peer/chaincode.TestChaincodeInvokeOrQuery_waitForEvent()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/peer/chaincode/common_test.go:537 +0x67
  testing.tRunner()
      /usr/local/Cellar/go/1.10.3/libexec/src/testing/testing.go:777 +0x16d

Previous read at 0x00c4203e7bf8 by goroutine 36:
  github.com/hyperledger/fabric/msp.(*signingidentity).Sign()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/msp/identities.go:234 +0x7b
  github.com/hyperledger/fabric/common/localmsp.(*mspSigner).Sign()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/common/localmsp/signer.go:68 +0x19d
  github.com/hyperledger/fabric/protos/utils.CreateSignedEnvelopeWithTLSBinding()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/protos/utils/txutils.go:100 +0x47e
  github.com/hyperledger/fabric/peer/chaincode.createDeliverEnvelope()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/peer/chaincode/common.go:729 +0x48f
  github.com/hyperledger/fabric/peer/chaincode.(*deliverGroup).ClientConnect()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/peer/chaincode/common.go:618 +0x40e

Goroutine 49 (running) created at:
  testing.(*T).Run()
      /usr/local/Cellar/go/1.10.3/libexec/src/testing/testing.go:824 +0x564
  testing.runTests.func1()
      /usr/local/Cellar/go/1.10.3/libexec/src/testing/testing.go:1063 +0xa4
  testing.tRunner()
      /usr/local/Cellar/go/1.10.3/libexec/src/testing/testing.go:777 +0x16d
  testing.runTests()
      /usr/local/Cellar/go/1.10.3/libexec/src/testing/testing.go:1061 +0x4e1
  testing.(*M).Run()
      /usr/local/Cellar/go/1.10.3/libexec/src/testing/testing.go:978 +0x2cd
  main.main()
      _testmain.go:190 +0x324

Goroutine 36 (finished) created at:
  github.com/hyperledger/fabric/peer/chaincode.(*deliverGroup).Connect()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/peer/chaincode/common.go:585 +0x149
  github.com/hyperledger/fabric/peer/chaincode.TestDeliverGroupConnect()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/peer/chaincode/common_test.go:432 +0x15c8
  testing.tRunner()
      /usr/local/Cellar/go/1.10.3/libexec/src/testing/testing.go:777 +0x16d
==================
==================
WARNING: DATA RACE
Write at 0x00c4203e7b88 by goroutine 49:
  github.com/hyperledger/fabric/msp.(*bccspmsp).setupSigningIdentity()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/msp/mspimplsetup.go:279 +0x2b9
  github.com/hyperledger/fabric/msp.(*bccspmsp).preSetupV1()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/msp/mspimplsetup.go:407 +0x152
  github.com/hyperledger/fabric/msp.(*bccspmsp).setupV1()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/msp/mspimplsetup.go:367 +0x46
  github.com/hyperledger/fabric/msp.(*bccspmsp).(github.com/hyperledger/fabric/msp.setupV1)-fm()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/msp/mspimpl.go:112 +0x4b
  github.com/hyperledger/fabric/msp.(*bccspmsp).Setup()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/msp/mspimpl.go:225 +0x224
  github.com/hyperledger/fabric/msp/cache.(*cachedMSP).Setup()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/msp/cache/cache.go:101 +0x6a
  github.com/hyperledger/fabric/msp/mgmt/testtools.LoadMSPSetupForTesting()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/msp/mgmt/testtools/config.go:28 +0xb9
  github.com/hyperledger/fabric/peer/chaincode.initMSP()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/peer/chaincode/upgrade_test.go:31 +0x33
  sync.(*Once).Do()
      /usr/local/Cellar/go/1.10.3/libexec/src/sync/once.go:44 +0xe1
  github.com/hyperledger/fabric/peer/chaincode.InitMSP()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/peer/chaincode/upgrade_test.go:27 +0x46
  github.com/hyperledger/fabric/peer/chaincode.TestChaincodeInvokeOrQuery_waitForEvent()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/peer/chaincode/common_test.go:537 +0x67
  testing.tRunner()
      /usr/local/Cellar/go/1.10.3/libexec/src/testing/testing.go:777 +0x16d

Previous read at 0x00c4203e7b88 by goroutine 36:
  github.com/hyperledger/fabric/msp.(*bccspmsp).GetDefaultSigningIdentity()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/msp/mspimpl.go:258 +0x8e
  github.com/hyperledger/fabric/msp/cache.(*cachedMSP).GetDefaultSigningIdentity()
      <autogenerated>:1 +0x5f
  github.com/hyperledger/fabric/common/localmsp.(*mspSigner).Sign()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/common/localmsp/signer.go:63 +0x57
  github.com/hyperledger/fabric/protos/utils.CreateSignedEnvelopeWithTLSBinding()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/protos/utils/txutils.go:100 +0x47e
  github.com/hyperledger/fabric/peer/chaincode.createDeliverEnvelope()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/peer/chaincode/common.go:729 +0x48f
  github.com/hyperledger/fabric/peer/chaincode.(*deliverGroup).ClientConnect()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/peer/chaincode/common.go:618 +0x40e

Goroutine 49 (running) created at:
  testing.(*T).Run()
      /usr/local/Cellar/go/1.10.3/libexec/src/testing/testing.go:824 +0x564
  testing.runTests.func1()
      /usr/local/Cellar/go/1.10.3/libexec/src/testing/testing.go:1063 +0xa4
  testing.tRunner()
      /usr/local/Cellar/go/1.10.3/libexec/src/testing/testing.go:777 +0x16d
  testing.runTests()
      /usr/local/Cellar/go/1.10.3/libexec/src/testing/testing.go:1061 +0x4e1
  testing.(*M).Run()
      /usr/local/Cellar/go/1.10.3/libexec/src/testing/testing.go:978 +0x2cd
  main.main()
      _testmain.go:190 +0x324

Goroutine 36 (finished) created at:
  github.com/hyperledger/fabric/peer/chaincode.(*deliverGroup).Connect()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/peer/chaincode/common.go:585 +0x149
  github.com/hyperledger/fabric/peer/chaincode.TestDeliverGroupConnect()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/peer/chaincode/common_test.go:432 +0x15c8
  testing.tRunner()
      /usr/local/Cellar/go/1.10.3/libexec/src/testing/testing.go:777 +0x16d
==================
{code}",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzznov:",,,,Unset,Unset,,,"go test -race ./peer/chaincode/... -count 1
",,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"22/Sep/18 2:45 AM;sykesm;https://gerrit.hyperledger.org/r/26460 [FAB-11689] address race from repeated InitMSP;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Discovery Service fails request for unknown chaincodes,FAB-11691,33141,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Invalid: Works as Expected,,harrisob@us.ibm.com,harrisob@us.ibm.com,23/Aug/18 4:02 AM,05/Sep/18 2:49 AM,28/Oct/23 3:03 AM,05/Sep/18 2:49 AM,,,,,,v1.3.0,,,,,fabric-peer,,,,0,,,,,,"If an single query that has an interest in a chaincode is unknown or has any issues, the entire request fails, including other queries.

Could there be a meaningful result in the array of query results that indicates that the chaincode interest has an issue. This defeats the purpose of being able to submit multiple queries at the same time if one of them does not have results and it causes the failure all the other queries. This will force the client code to have to query one at a time for each chaincode(s) and then for config, local peers and channel peers.",,harrisob@us.ibm.com,sykesm,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzznq7:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),harrisob@us.ibm.com,sykesm,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"04/Sep/18 10:15 PM;sykesm;/cc [~yacovm];;;","04/Sep/18 10:50 PM;yacovm;[~sykesm] thanks a lot for the tagging, appreciate it :)

[~harrisob@us.ibm.com] : 



This is by design.... let me explain.
 * You can ask SD for several interests in the same query, and then they all either succeed or fail together
 * You can ask SD for several queries with a single interest in each of them, and then they succeed or fail independently.


If you follow the stuff below you'll see that if you put each chaincode interest in its own query it will work:

I did the following on my laptop and I don't experience what you said:

1) I added to the discover CLI an additional query for a chaincode that doesn't exist:
 In the place [where the endorser request is built|https://github.com/hyperledger/fabric/blob/release-1.2/discovery/cmd/endorsers.go#L94], I added a bogus chaincode:
{code:java}
	req.AddEndorsersQuery(&ChaincodeInterest{Chaincodes: []*ChaincodeCall{
		{
			Name: ""unknownChaincode"",
		},
	}})
{code}
2) I recompiled *discover* via *make discover* and ran the *e2e_cli* and replaced the *discover* binary with my compiled binary via *docker cp*.
 3) I issued a standard endorser query via the *discover* CLI and looked at the logs of the peer via *docker logs peer0.org1.example.com 2>&1 | grep discovery | grep -v gossip*
{code:java}
2018-09-04 13:28:41.802 UTC [discovery] Discover -> DEBU a79b Processing request from 172.26.0.14:37138: authentication:<client_identity:""\n\007Org1MSP\022\252\006-----BEGIN CERTIFICATE-----\nMIICKTCCAdCgAwIBAgIQALdoQjeUfT6vl16qLeG2LjAKBggqhkjOPQQDAjBzMQsw\nCQYDVQQGEwJVUzETMBEGA1UECBMKQ2FsaWZvcm5pYTEWMBQGA1UEBxMNU2FuIEZy\nYW5jaXNjbzEZMBcGA1UEChMQb3JnMS5leGFtcGxlLmNvbTEcMBoGA1UEAxMTY2Eu\nb3JnMS5leGFtcGxlLmNvbTAeFw0xODA5MDQxMzIwMjhaFw0yODA5MDExMzIwMjha\nMGwxCzAJBgNVBAYTAlVTMRMwEQYDVQQIEwpDYWxpZm9ybmlhMRYwFAYDVQQHEw1T\nYW4gRnJhbmNpc2NvMQ8wDQYDVQQLEwZjbGllbnQxHzAdBgNVBAMMFlVzZXIxQG9y\nZzEuZXhhbXBsZS5jb20wWTATBgcqhkjOPQIBBggqhkjOPQMBBwNCAAT8L8akkzfb\n7BVeuyFl4GDF9+5uupS9Gdi/vveeIT1iyj7/hy2/xNIG97lHy+voEjYNhtvospVq\nFfCioViAtksPo00wSzAOBgNVHQ8BAf8EBAMCB4AwDAYDVR0TAQH/BAIwADArBgNV\nHSMEJDAigCBZIicH0KWKYkGGapeWtOlUI1mwpYDVjfkaOkkxqv+mJjAKBggqhkjO\nPQQDAgNHADBEAiAXZS3MSf1BIgLGyjRkfBiS/Iep8Uf7av6QiNODYSjovQIgHuAf\nX/Otmf9Vy4sC3YNya6zU+qoesU+OsOlR/9XXvwU=\n-----END CERTIFICATE-----\n"" client_tls_cert_hash:""K\354\225\242\376K\345r\275\266\274c?uTKnN\0053\313/\031\346.\007\357(Q\210\201\310"" > queries:<channel:""mychannel"" cc_query:<interests:<chaincodes:<name:""mycc"" > > > > queries:<channel:""mychannel"" cc_query:<interests:<chaincodes:<name:""unknownChaincode"" > > > > 
{code}
Notice the ""unknown chaincode"" at the end of the request.

Afterwards - the peer logs had:
{code:java}
2018-09-04 13:28:41.804 UTC [discovery/lifecycle] Metadata -> DEBU a7d9 Returning metadata for channel mychannel , chaincode mycc : {mycc 1.0 [18 12 18 10 8 2 18 2 8 0 18 2 8 1 26 13 18 11 10 7 79 114 103 49 77 83 80 16 3 26 13 18 11 10 7 79 114 103 50 77 83 80 16 3] [8 250 161 231 83 21 222 199 137 25 225 35 118 157 140 128 143 154 93 181 79 192 13 127 210 80 110 225 172 36 207 199] []}
2018-09-04 13:28:41.805 UTC [discovery/lifecycle] Metadata -> DEBU a7da Returning metadata for channel mychannel , chaincode mycc : {mycc 1.0 [18 12 18 10 8 2 18 2 8 0 18 2 8 1 26 13 18 11 10 7 79 114 103 49 77 83 80 16 3 26 13 18 11 10 7 79 114 103 50 77 83 80 16 3] [8 250 161 231 83 21 222 199 137 25 225 35 118 157 140 128 143 154 93 181 79 192 13 127 210 80 110 225 172 36 207 199] []}
2018-09-04 13:28:41.805 UTC [discovery/endorsement] func1 -> DEBU a7db {peer1.org2.example.com:7051 [] [232 232 56 182 23 49 61 21 250 165 222 30 117 226 86 31 171 216 213 69 120 130 105 223 8 175 166 200 81 205 40 48]  <nil> payload:""\030\001*P\n?\n\033peer1.org2.example.com:7051\032 \350\3508\266\0271=\025\372\245\336\036u\342V\037\253\330\325Ex\202i\337\010\257\246\310Q\315(0\022\r\010\356\345\364\257\202\251\315\250\025\020\342\001"" signature:""0E\002!\000\336a/\02092rL|w\243\316:M\267\252\364*[R\254_\n'om\373\352\272\242\355\250\002 Kz\324\227)\370\301\344\373}\033Xs\021\\\354o:\251\354\314\322@N\271}\263lZH\272\306"" } satisfies principal principal:""\n\007Org2MSP\020\003"" 
2018-09-04 13:28:41.805 UTC [discovery/endorsement] func1 -> DEBU a7dc {peer0.org2.example.com:7051 [] [221 252 76 171 123 246 170 214 65 1 13 220 16 61 13 252 172 152 25 46 28 162 0 161 116 238 124 234 23 183 218 51]  <nil> payload:""\030\001*P\n?\n\033peer0.org2.example.com:7051\032 \335\374L\253{\366\252\326A\001\r\334\020=\r\374\254\230\031.\034\242\000\241t\356|\352\027\267\3323\022\r\010\320\264\270\240\203\251\315\250\025\020\345\001"" signature:""0E\002!\000\364&\307d\240\263E\350\257D\226\010\331\3115\343\307\301m\332\2401'D\256I\031\031\273\000\000\334\002 \005\223\352+,\321H!qH\343\255\240\024gp\265\016\321\302Ztj\312A_>\365Y\203BT"" } satisfies principal principal:""\n\007Org2MSP\020\003"" 
2018-09-04 13:28:41.805 UTC [discovery/endorsement] func1 -> DEBU a7dd {peer0.org1.example.com:7051 [] [238 166 214 37 177 29 214 159 144 39 39 228 155 86 126 146 184 54 125 222 18 131 230 121 102 72 60 98 34 101 137 210]  <nil> payload:""\030\001*P\n?\n\033peer0.org1.example.com:7051\032 \356\246\326%\261\035\326\237\220''\344\233V~\222\2706}\336\022\203\346yfH<b\""e\211\322\022\r\010\350\253\265\314\204\251\315\250\025\020\346\001"" } doesn't satisfy principal principal:""\n\007Org2MSP\020\003""  : the identity is a member of a different MSP (expected Org2MSP, got Org1MSP)
2018-09-04 13:28:41.805 UTC [discovery/endorsement] func1 -> DEBU a7de {peer1.org2.example.com:7051 [] [232 232 56 182 23 49 61 21 250 165 222 30 117 226 86 31 171 216 213 69 120 130 105 223 8 175 166 200 81 205 40 48]  <nil> payload:""\030\001*P\n?\n\033peer1.org2.example.com:7051\032 \350\3508\266\0271=\025\372\245\336\036u\342V\037\253\330\325Ex\202i\337\010\257\246\310Q\315(0\022\r\010\356\345\364\257\202\251\315\250\025\020\342\001"" signature:""0E\002!\000\336a/\02092rL|w\243\316:M\267\252\364*[R\254_\n'om\373\352\272\242\355\250\002 Kz\324\227)\370\301\344\373}\033Xs\021\\\354o:\251\354\314\322@N\271}\263lZH\272\306"" } doesn't satisfy principal principal:""\n\007Org1MSP\020\003""  : the identity is a member of a different MSP (expected Org1MSP, got Org2MSP)
2018-09-04 13:28:41.805 UTC [discovery/endorsement] func1 -> DEBU a7df {peer0.org2.example.com:7051 [] [221 252 76 171 123 246 170 214 65 1 13 220 16 61 13 252 172 152 25 46 28 162 0 161 116 238 124 234 23 183 218 51]  <nil> payload:""\030\001*P\n?\n\033peer0.org2.example.com:7051\032 \335\374L\253{\366\252\326A\001\r\334\020=\r\374\254\230\031.\034\242\000\241t\356|\352\027\267\3323\022\r\010\320\264\270\240\203\251\315\250\025\020\345\001"" signature:""0E\002!\000\364&\307d\240\263E\350\257D\226\010\331\3115\343\307\301m\332\2401'D\256I\031\031\273\000\000\334\002 \005\223\352+,\321H!qH\343\255\240\024gp\265\016\321\302Ztj\312A_>\365Y\203BT"" } doesn't satisfy principal principal:""\n\007Org1MSP\020\003""  : the identity is a member of a different MSP (expected Org1MSP, got Org2MSP)
2018-09-04 13:28:41.805 UTC [discovery/endorsement] func1 -> DEBU a7e0 {peer0.org1.example.com:7051 [] [238 166 214 37 177 29 214 159 144 39 39 228 155 86 126 146 184 54 125 222 18 131 230 121 102 72 60 98 34 101 137 210]  <nil> payload:""\030\001*P\n?\n\033peer0.org1.example.com:7051\032 \356\246\326%\261\035\326\237\220''\344\233V~\222\2706}\336\022\203\346yfH<b\""e\211\322\022\r\010\350\253\265\314\204\251\315\250\025\020\346\001"" } satisfies principal principal:""\n\007Org1MSP\020\003"" 
2018-09-04 13:28:41.805 UTC [discovery/lifecycle] DeployedChaincodes -> INFO a7e3 Chaincode unknownChaincode isn't instantiated
2018-09-04 13:28:41.805 UTC [discovery/lifecycle] DeployedChaincodes -> DEBU a7e4 Returning []
2018-09-04 13:28:41.805 UTC [discovery/lifecycle] Metadata -> INFO a7e6 Chaincode unknownChaincode isn't defined in channel mychannel
2018-09-04 13:28:41.805 UTC [discovery] chaincodeQuery -> ERRO a7e7 Failed constructing descriptor for chaincode chaincodes:<name:""unknownChaincode"" > ,: No metadata was found for chaincode unknownChaincode in channel mychannel
{code}
and afterwards the peer returns a request that contains a valid endorsement descriptor for the chaincode mycc and an error for the other chaincode:
{code:java}
2018-09-04 13:28:41.806 UTC [discovery] Discover -> DEBU a7e8 Returning to 172.26.0.14:37138 a response containing: [cc_query_res:<content:<chaincode:""mycc"" endorsers_by_groups:<key:""G0"" value:<peers:<state_info:<payload:""\030\005zk\022\024\010\216\377\227\204\253\251\315\250\025\020\271\303\242\376\372\252\315\250\025\032 \356\246\326%\261\035\326\237\220''\344\233V~\222\2706}\336\022\203\346yfH<b\""e\211\322\"" s\334n0\373\355\014!\322\325*IO\204\362\007\033\306$\010\207\315\274\024\260/\214\033\014\263\261\360*\017\010\005\032\013\n\004mycc\022\0031.0"" signature:""0D\002 1R?\307\""\304\337\tq:\035\2276\351\271\035Q+\3003]\356C\016Z\315*\007Ux\242\246\002 '\255{x\346B\336\315\017\304L:@/\013\371-\220\264\003<='m\2667j\212\366O\327\327"" > membership_info:<payload:""\030\001*P\n?\n\033peer0.org1.example.com:7051\032 \356\246\326%\261\035\326\237\220''\344\233V~\222\2706}\336\022\203\346yfH<b\""e\211\322\022\r\010\350\253\265\314\204\251\315\250\025\020\346\001"" > identity:""\n\007Org1MSP\022\252\006-----BEGIN CERTIFICATE-----\nMIICKTCCAc+gAwIBAgIRAJ6wPgDvzUhu2sRKisz1AzcwCgYIKoZIzj0EAwIwczEL\nMAkGA1UEBhMCVVMxEzARBgNVBAgTCkNhbGlmb3JuaWExFjAUBgNVBAcTDVNhbiBG\ncmFuY2lzY28xGTAXBgNVBAoTEG9yZzEuZXhhbXBsZS5jb20xHDAaBgNVBAMTE2Nh\nLm9yZzEuZXhhbXBsZS5jb20wHhcNMTgwOTA0MTMyMDI4WhcNMjgwOTAxMTMyMDI4\nWjBqMQswCQYDVQQGEwJVUzETMBEGA1UECBMKQ2FsaWZvcm5pYTEWMBQGA1UEBxMN\nU2FuIEZyYW5jaXNjbzENMAsGA1UECxMEcGVlcjEfMB0GA1UEAxMWcGVlcjAub3Jn\nMS5leGFtcGxlLmNvbTBZMBMGByqGSM49AgEGCCqGSM49AwEHA0IABEQUBtJuA6+n\nsaiFP079jKRmpjuRRqQlOGIa4seX8+wpim/jLl0O7BaMDkmuPgL5njDCn5dwNXbx\nY/7le1SADe6jTTBLMA4GA1UdDwEB/wQEAwIHgDAMBgNVHRMBAf8EAjAAMCsGA1Ud\nIwQkMCKAIFkiJwfQpYpiQYZql5a06VQjWbClgNWN+Ro6STGq/6YmMAoGCCqGSM49\nBAMCA0gAMEUCIQDGb1YweC7NO/dTSUb+GIJyZ2OXAJbKMWhkgrUpsmrj9gIgbP/N\n0Jsei1VMsqHyP8Hf95WA/cykomz64ousohm8pAM=\n-----END CERTIFICATE-----\n"" > > > endorsers_by_groups:<key:""G1"" value:<peers:<state_info:<payload:""\030\005zk\022\024\010\230\203\260\222\305\251\315\250\025\020\220\367\203\201\373\252\315\250\025\032 \350\3508\266\0271=\025\372\245\336\036u\342V\037\253\330\325Ex\202i\337\010\257\246\310Q\315(0\"" \332\212K\366\205\227g\225\233Z\352\315\177\034\364\021\232hi\231\365\331\372\334\341\277\235\221\353\013;\374*\017\010\005\032\013\n\004mycc\022\0031.0"" signature:""0E\002!\000\347\233GV\r\246\031Dbz\003\014\331\020q\240\367L&X]\004\271\036\220\001\004\336 \r\026\010\002 \0022\202\262\314\310n\352\254\364\360\234\315\235H]\260\345-\007*\375\211\362\314L/\004\203qI\027"" > membership_info:<payload:""\030\001*P\n?\n\033peer1.org2.example.com:7051\032 \350\3508\266\0271=\025\372\245\336\036u\342V\037\253\330\325Ex\202i\337\010\257\246\310Q\315(0\022\r\010\356\345\364\257\202\251\315\250\025\020\342\001"" signature:""0E\002!\000\336a/\02092rL|w\243\316:M\267\252\364*[R\254_\n'om\373\352\272\242\355\250\002 Kz\324\227)\370\301\344\373}\033Xs\021\\\354o:\251\354\314\322@N\271}\263lZH\272\306"" > identity:""\n\007Org2MSP\022\252\006-----BEGIN CERTIFICATE-----\nMIICKTCCAc+gAwIBAgIRAJKUXOK5ABcAcXkShW7+OUYwCgYIKoZIzj0EAwIwczEL\nMAkGA1UEBhMCVVMxEzARBgNVBAgTCkNhbGlmb3JuaWExFjAUBgNVBAcTDVNhbiBG\ncmFuY2lzY28xGTAXBgNVBAoTEG9yZzIuZXhhbXBsZS5jb20xHDAaBgNVBAMTE2Nh\nLm9yZzIuZXhhbXBsZS5jb20wHhcNMTgwOTA0MTMyMDI4WhcNMjgwOTAxMTMyMDI4\nWjBqMQswCQYDVQQGEwJVUzETMBEGA1UECBMKQ2FsaWZvcm5pYTEWMBQGA1UEBxMN\nU2FuIEZyYW5jaXNjbzENMAsGA1UECxMEcGVlcjEfMB0GA1UEAxMWcGVlcjEub3Jn\nMi5leGFtcGxlLmNvbTBZMBMGByqGSM49AgEGCCqGSM49AwEHA0IABOM6mQFuTvOg\nK37vNZqJq3FNDvbRGclIU1JG8oxpF8cflpS0bTmu9X2Seq6Qht0v83xgcZ5jAuoC\nMemyoBjBosKjTTBLMA4GA1UdDwEB/wQEAwIHgDAMBgNVHRMBAf8EAjAAMCsGA1Ud\nIwQkMCKAINP4vAnWtwox9YN3A2ZZ0Kp3v8LotXN0oUCgDPjLSiapMAoGCCqGSM49\nBAMCA0gAMEUCIQCq4buzq02Y1Xn5NCr+BfeTcQD1l1yqTcVpEJniH5aiyQIgJVck\n6/kcx1+uLuNqS4LsSzX9B827YoDqeBeHeF3oh9w=\n-----END CERTIFICATE-----\n"" > peers:<state_info:<payload:""\030\005zk\022\024\010\255\254\304\304\274\251\315\250\025\020\207\325\321\367\372\252\315\250\025\032 \335\374L\253{\366\252\326A\001\r\334\020=\r\374\254\230\031.\034\242\000\241t\356|\352\027\267\3323\"" \333f\202z\337\204j\255E\002\027d\305R\025\273d\215\200\361P\241L\253\217\372<*s\336\226\320*\017\010\005\032\013\n\004mycc\022\0031.0"" signature:""0E\002!\000\3751\215\303\354\314\350\007>\000\263\345\261f\240\324!\004+\315\377\260\004of\212\244\322\273\016\232\352\002 \026\362%\014z\2615\205\017\227p\376=\2419\315\315\313?\037\266\221\303\214\240\351\365~L\307P9"" > membership_info:<payload:""\030\001*P\n?\n\033peer0.org2.example.com:7051\032 \335\374L\253{\366\252\326A\001\r\334\020=\r\374\254\230\031.\034\242\000\241t\356|\352\027\267\3323\022\r\010\320\264\270\240\203\251\315\250\025\020\345\001"" signature:""0E\002!\000\364&\307d\240\263E\350\257D\226\010\331\3115\343\307\301m\332\2401'D\256I\031\031\273\000\000\334\002 \005\223\352+,\321H!qH\343\255\240\024gp\265\016\321\302Ztj\312A_>\365Y\203BT"" > identity:""\n\007Org2MSP\022\246\006-----BEGIN CERTIFICATE-----\nMIICJzCCAc6gAwIBAgIQMDcw9f9oa2ueBAIpKjb8RTAKBggqhkjOPQQDAjBzMQsw\nCQYDVQQGEwJVUzETMBEGA1UECBMKQ2FsaWZvcm5pYTEWMBQGA1UEBxMNU2FuIEZy\nYW5jaXNjbzEZMBcGA1UEChMQb3JnMi5leGFtcGxlLmNvbTEcMBoGA1UEAxMTY2Eu\nb3JnMi5leGFtcGxlLmNvbTAeFw0xODA5MDQxMzIwMjhaFw0yODA5MDExMzIwMjha\nMGoxCzAJBgNVBAYTAlVTMRMwEQYDVQQIEwpDYWxpZm9ybmlhMRYwFAYDVQQHEw1T\nYW4gRnJhbmNpc2NvMQ0wCwYDVQQLEwRwZWVyMR8wHQYDVQQDExZwZWVyMC5vcmcy\nLmV4YW1wbGUuY29tMFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAEXjIj9hhR2c0y\nR4DVZEqFrid/P9O2wzN5hBjEDj0R6QebZnIon1ocXGl3zN9Y9DnkNgt7IOH/sNKH\nTjoQdi7Os6NNMEswDgYDVR0PAQH/BAQDAgeAMAwGA1UdEwEB/wQCMAAwKwYDVR0j\nBCQwIoAg0/i8Cda3CjH1g3cDZlnQqne/wui1c3ShQKAM+MtKJqkwCgYIKoZIzj0E\nAwIDRwAwRAIgDLOfUOvWdmUomSRAQ2JpAzqkEXMTlR7a0o5t8q+gIv0CIDR3btwQ\n98MNZlEoQ4Q35pcZyhIMWuIidgtFJ+wLogPa\n-----END CERTIFICATE-----\n"" > > > layouts:<quantities_by_group:<key:""G0"" value:1 > quantities_by_group:<key:""G1"" value:1 > > > >  error:<content:""failed constructing descriptor for chaincodes:<name:\""unknownChaincode\"" > "" > ]
{code}
The peer returns a ""good"" response to the CLI although I made another request with a bogus chaincode as you saw above.
{code:java}
root@747502c6191c:/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/User1@org1.example.com# discover endorsers --configFile conf.yaml --server peer0.org1.example.com:7051 --channel mychannel --chaincode mycc
[
	{
		""Chaincode"": ""mycc"",
		""EndorsersByGroups"": {
			""G0"": [
				{
					""MSPID"": ""Org1MSP"",
					""LedgerHeight"": 5,
					""Endpoint"": ""peer0.org1.example.com:7051"",
					""Identity"": ""-----BEGIN CERTIFICATE-----\nMIICKTCCAc+gAwIBAgIRAJ6wPgDvzUhu2sRKisz1AzcwCgYIKoZIzj0EAwIwczEL\nMAkGA1UEBhMCVVMxEzARBgNVBAgTCkNhbGlmb3JuaWExFjAUBgNVBAcTDVNhbiBG\ncmFuY2lzY28xGTAXBgNVBAoTEG9yZzEuZXhhbXBsZS5jb20xHDAaBgNVBAMTE2Nh\nLm9yZzEuZXhhbXBsZS5jb20wHhcNMTgwOTA0MTMyMDI4WhcNMjgwOTAxMTMyMDI4\nWjBqMQswCQYDVQQGEwJVUzETMBEGA1UECBMKQ2FsaWZvcm5pYTEWMBQGA1UEBxMN\nU2FuIEZyYW5jaXNjbzENMAsGA1UECxMEcGVlcjEfMB0GA1UEAxMWcGVlcjAub3Jn\nMS5leGFtcGxlLmNvbTBZMBMGByqGSM49AgEGCCqGSM49AwEHA0IABEQUBtJuA6+n\nsaiFP079jKRmpjuRRqQlOGIa4seX8+wpim/jLl0O7BaMDkmuPgL5njDCn5dwNXbx\nY/7le1SADe6jTTBLMA4GA1UdDwEB/wQEAwIHgDAMBgNVHRMBAf8EAjAAMCsGA1Ud\nIwQkMCKAIFkiJwfQpYpiQYZql5a06VQjWbClgNWN+Ro6STGq/6YmMAoGCCqGSM49\nBAMCA0gAMEUCIQDGb1YweC7NO/dTSUb+GIJyZ2OXAJbKMWhkgrUpsmrj9gIgbP/N\n0Jsei1VMsqHyP8Hf95WA/cykomz64ousohm8pAM=\n-----END CERTIFICATE-----\n""
				}
			],
			""G1"": [
				{
					""MSPID"": ""Org2MSP"",
					""LedgerHeight"": 5,
					""Endpoint"": ""peer1.org2.example.com:7051"",
					""Identity"": ""-----BEGIN CERTIFICATE-----\nMIICKTCCAc+gAwIBAgIRAJKUXOK5ABcAcXkShW7+OUYwCgYIKoZIzj0EAwIwczEL\nMAkGA1UEBhMCVVMxEzARBgNVBAgTCkNhbGlmb3JuaWExFjAUBgNVBAcTDVNhbiBG\ncmFuY2lzY28xGTAXBgNVBAoTEG9yZzIuZXhhbXBsZS5jb20xHDAaBgNVBAMTE2Nh\nLm9yZzIuZXhhbXBsZS5jb20wHhcNMTgwOTA0MTMyMDI4WhcNMjgwOTAxMTMyMDI4\nWjBqMQswCQYDVQQGEwJVUzETMBEGA1UECBMKQ2FsaWZvcm5pYTEWMBQGA1UEBxMN\nU2FuIEZyYW5jaXNjbzENMAsGA1UECxMEcGVlcjEfMB0GA1UEAxMWcGVlcjEub3Jn\nMi5leGFtcGxlLmNvbTBZMBMGByqGSM49AgEGCCqGSM49AwEHA0IABOM6mQFuTvOg\nK37vNZqJq3FNDvbRGclIU1JG8oxpF8cflpS0bTmu9X2Seq6Qht0v83xgcZ5jAuoC\nMemyoBjBosKjTTBLMA4GA1UdDwEB/wQEAwIHgDAMBgNVHRMBAf8EAjAAMCsGA1Ud\nIwQkMCKAINP4vAnWtwox9YN3A2ZZ0Kp3v8LotXN0oUCgDPjLSiapMAoGCCqGSM49\nBAMCA0gAMEUCIQCq4buzq02Y1Xn5NCr+BfeTcQD1l1yqTcVpEJniH5aiyQIgJVck\n6/kcx1+uLuNqS4LsSzX9B827YoDqeBeHeF3oh9w=\n-----END CERTIFICATE-----\n""
				},
				{
					""MSPID"": ""Org2MSP"",
					""LedgerHeight"": 5,
					""Endpoint"": ""peer0.org2.example.com:7051"",
					""Identity"": ""-----BEGIN CERTIFICATE-----\nMIICJzCCAc6gAwIBAgIQMDcw9f9oa2ueBAIpKjb8RTAKBggqhkjOPQQDAjBzMQsw\nCQYDVQQGEwJVUzETMBEGA1UECBMKQ2FsaWZvcm5pYTEWMBQGA1UEBxMNU2FuIEZy\nYW5jaXNjbzEZMBcGA1UEChMQb3JnMi5leGFtcGxlLmNvbTEcMBoGA1UEAxMTY2Eu\nb3JnMi5leGFtcGxlLmNvbTAeFw0xODA5MDQxMzIwMjhaFw0yODA5MDExMzIwMjha\nMGoxCzAJBgNVBAYTAlVTMRMwEQYDVQQIEwpDYWxpZm9ybmlhMRYwFAYDVQQHEw1T\nYW4gRnJhbmNpc2NvMQ0wCwYDVQQLEwRwZWVyMR8wHQYDVQQDExZwZWVyMC5vcmcy\nLmV4YW1wbGUuY29tMFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAEXjIj9hhR2c0y\nR4DVZEqFrid/P9O2wzN5hBjEDj0R6QebZnIon1ocXGl3zN9Y9DnkNgt7IOH/sNKH\nTjoQdi7Os6NNMEswDgYDVR0PAQH/BAQDAgeAMAwGA1UdEwEB/wQCMAAwKwYDVR0j\nBCQwIoAg0/i8Cda3CjH1g3cDZlnQqne/wui1c3ShQKAM+MtKJqkwCgYIKoZIzj0E\nAwIDRwAwRAIgDLOfUOvWdmUomSRAQ2JpAzqkEXMTlR7a0o5t8q+gIv0CIDR3btwQ\n98MNZlEoQ4Q35pcZyhIMWuIidgtFJ+wLogPa\n-----END CERTIFICATE-----\n""
				}
			]
		},
		""Layouts"": [
			{
				""quantities_by_group"": {
					""G0"": 1,
					""G1"": 1
				}
			}
		]
	}
]
{code}
This is because the query processing is done in the following manner on the server side:
{code:java}
func (s *service) Discover(ctx context.Context, request *discovery.SignedRequest) (*discovery.Response, error) {
	addr := util.ExtractRemoteAddress(ctx)
	req, err := validateStructure(ctx, request, s.config.TLS, comm.ExtractCertificateHashFromContext)
	if err != nil {
		logger.Warningf(""Request from %s is malformed or invalid: %v"", addr, err)
		return nil, err
	}
	logger.Debugf(""Processing request from %s: %v"", addr, req)
	var res []*discovery.QueryResult
	for _, q := range req.Queries {
		res = append(res, s.processQuery(q, request, req.Authentication.ClientIdentity, addr))
	}
	logger.Debugf(""Returning to %s a response containing: %v"", addr, res)
	return &discovery.Response{
		Results: res,
	}, nil
}
{code}
As you see - as long as your request is ""valid"" (passes validateStructure) - then the code can't return an error for everything, and just returns an array of responses in which - each response is independent of the other one.;;;","04/Sep/18 10:53 PM;yacovm;Also, not that from the protobuf schema, there is no way of reporting back a partial success for a query. It either fails entirely, or just succeeds entirely.

 
{quote}This will force the client code to have to query one at a time for each chaincode(s) and then for config, local peers and channel peers.
{quote}
That's not the case... you can put as many queries in a single request as you want.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
PTE must summarize TPS without using peer logs,FAB-11692,33144,,Task,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,dongming,suryalnvs,suryalnvs,23/Aug/18 5:07 AM,30/Aug/18 11:34 PM,28/Oct/23 3:03 AM,30/Aug/18 11:34 PM,v1.3.0,,,,,,,,,,fabric-quality,,,,0,,,,,,PTE to change the summarizing the TPS numbers from invoke and query logs but not from peer logs (getpeerstats.sh),,dongming,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-2247,,,No,,Unset,No,,,"1|hzznqv:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),dongming,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,release-1.3,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-1.4,release-2.5,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,true,"30/Aug/18 5:43 AM;dongming;https://gerrit.hyperledger.org/r/#/c/25960/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Test without client.cryptoconfig configuration entries,FAB-11693,33145,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid: Works as Expected,aleksandar.likic,aleksandar.likic,aleksandar.likic,23/Aug/18 5:32 AM,23/Aug/18 7:45 AM,28/Oct/23 3:03 AM,23/Aug/18 7:45 AM,,,,,,,,,,,fabric-sdk-go,,,,0,,,,,,"Client should be allowed to create a new SDK instance without client.cryptoconfig entries, for example when all user certs/keys are embedded or are in the MSP path. This change makes sure that this scenario is tested.",,aleksandar.likic,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzznr3:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),aleksandar.likic,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Improve user management test coverage,FAB-11694,33147,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,aleksandar.likic,aleksandar.likic,23/Aug/18 7:47 AM,23/Jan/20 7:32 AM,28/Oct/23 3:03 AM,23/Jan/20 7:32 AM,,,,,,,,,,,fabric-sdk-go,,,,0,stale-item,,,,,"Add test cases for:
 * configuration with only users embedded in client configuration
 * configuration with only users in orgs' msp directories",,aleksandar.likic,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzznrb:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),aleksandar.likic,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/go_modules/golang.org/x/crypto-0.1.0,dependabot/go_modules/test/performance/golang.org/x/net-0.7.0,dependabot/go_modules/golang.org/x/net-0.7.0,main,dependabot/go_modules/github.com/prometheus/client_golang-1.11.1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"23/Jan/20 7:32 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add Python SDK support for the deliver service,FAB-11695,33148,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,tylerwince,tylerwince,tylerwince,23/Aug/18 8:45 AM,23/Jan/20 7:32 AM,28/Oct/23 3:03 AM,23/Jan/20 7:32 AM,,,,,,,,,,,fabric-sdk-py,,,,0,stale-item,,,,,The Python SDK has mention of the eventhub but with no capability. We should remove this and add support for the new delivery service.,,sykesm,tylerwince,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzznrj:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,tylerwince,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 7:32 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
peer CLI should use the peer with the same MSP of client to get orderer information,FAB-11696,33149,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,TiantianGao,TiantianGao,23/Aug/18 11:45 AM,23/Jan/20 7:32 AM,28/Oct/23 3:03 AM,23/Jan/20 7:32 AM,,,,,,,,,,,,,,,0,stale-item,,,,,"When using peer CLI chaincode invoke by given a connection profile, sometimes will report error:
{code:java}
error: error getting channel (channelterraform) orderer endpoint: error endorsing GetConfigBlock: rpc error: code = Unknown desc = access denied: channel [] creator org [terraform0MSP] {code}
The reason is the channel contains three organizations, only one of them is the same with localMSP. When do invoking CLI will pick the first peer from the connection profile to get the channel config, but sometimes the first peer may not be in the same MSP with localMSP, so this error happened.",,sykesm,TiantianGao,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzznrr:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,TiantianGao,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 7:32 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Implement changes needed to support pluggable statedb,FAB-11697,33151,28230,Sub-task,To Do,FAB,Fabric,software,denyeart,,,Medium,,ChanderGovindarajan,ChanderGovindarajan,ChanderGovindarajan,23/Aug/18 2:24 PM,28/Aug/20 5:15 AM,28/Oct/23 3:03 AM,,,,,,,,,,,,,,,,1,,,,,,"To support pluggable state database, we need:

1. Configuration variables enabling the plugin, specifying the path to the file etc
2. Ledger side changes to load the plugin and use the plugin's VersionedDB implementation
",,ChanderGovindarajan,denyeart,magpie73,ultimatt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzns7:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ChanderGovindarajan,denyeart,magpie73,ultimatt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Aug/18 2:49 PM;ChanderGovindarajan;https://gerrit.hyperledger.org/r/#/c/25816/;;;","27/Feb/19 1:52 PM;denyeart;Chander, thank you for the contribution. We do intend to analyze pluggable state db deeper in 2019, and that that time, we will consider restoring this CR.;;;","26/Aug/19 8:40 AM;magpie73;It has been passed since your last comment. Is there any changes for this issue?

I wanna use mongodb as statedb because of the poor performance of couchdb - especially on write action.

In my lab, I changed statedb to mongodb plugin( with official mongodb driver) and I can get almost almost same TPS with goleveldb.;;;","28/Aug/20 5:15 AM;ultimatt;I'm at MongoDB so let me know if there is anything we can do to help with supporting MongoDB in Fabric. It totally makes sense to support a pluggable architecture. I see other tickets saying transactions was important and features historically associated with RDBMSs, and MongoDB does now support ACID transactions across a distributed cluster of any size. Without knowing all the requirements, I can't say how good a fit it is, but being around 10 years now we have many features expected in databases and very active development. I searched for more info around pluggable storage architecture in the docs and didn't see more information. if someone has docs or Jira ticket for a pluggable storage architecture, please link/include them. ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add integration test for pluggable statedb,FAB-11698,33152,28230,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,ChanderGovindarajan,ChanderGovindarajan,ChanderGovindarajan,23/Aug/18 2:36 PM,23/Jan/20 7:31 AM,28/Oct/23 3:03 AM,23/Jan/20 7:31 AM,,,,,,,,,,,,,,,0,stale-item,,,,,"Create a simple map based kv store as a go plugin.

Create an integration test using the above plugin as the state database.",,ChanderGovindarajan,denyeart,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzznsf:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ChanderGovindarajan,denyeart,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"27/Aug/18 8:06 PM;ChanderGovindarajan;https://gerrit.hyperledger.org/r/#/c/25857/;;;","27/Feb/19 1:53 PM;denyeart;Chander, thank you for the contribution. We do intend to analyze pluggable state db deeper in 2019, and that that time, we will consider restoring this CR.;;;","23/Jan/20 7:31 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add ledger cache for optimized retrieval of KVS value and metadata,FAB-11699,33153,33223,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,manish-sethi,mne,mne,23/Aug/18 5:39 PM,18/Jan/19 12:19 AM,28/Oct/23 3:03 AM,18/Jan/19 12:18 AM,,,,,,,,,,,,,,,0,,,,,,"Optimize metadata retrieval from the ledger, potentially by adding a cache.",,mne,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-103,,,,,,,,FAB-11328,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzznsn:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),mne,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Skip SBE validation if not enabled,FAB-11700,33154,33223,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,manish-sethi,mne,mne,23/Aug/18 6:01 PM,22/Sep/18 1:44 AM,28/Oct/23 3:03 AM,22/Sep/18 1:44 AM,,,,,,v1.3.0,,,,,,,,,0,,,,,,Optimize SBE validation path: skip checking for key-level validation parameters if none have been set for a given namespace.,,denyeart,manish-sethi,mne,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12047,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzznsv:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,manish-sethi,mne,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"19/Sep/18 9:34 PM;denyeart;I've confirmed that this one will cause a performance degradation for customers upgrading from v1.2 to v1.3, especially CouchDB users since individual key retrieves are more expensive against CouchDB.  Therefore this one if must-do for v1.3.;;;","21/Sep/18 10:19 AM;manish-sethi;https://gerrit.hyperledger.org/r/#/c/26443/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Prover Peer protobuf messages (with import request),FAB-11701,33155,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,angelo.decaro,angelo.decaro,angelo.decaro,23/Aug/18 6:41 PM,28/Aug/18 12:41 AM,28/Oct/23 3:03 AM,28/Aug/18 12:41 AM,,,,,,,,,,,,,,,0,,,,,,"Define the protobuf messages and services needed to allow a client to request the execution of specific *command*, (i.e.: request import, transfer, list tokens, and so on). The messages should guarantee the following properties:
 * client request and prover peer response are authenticated 
 * prover peer response is cryptographically bound to the corresponding request. The link must be succinct and it should not be possible to derive from it the response's content.

As example of the available commands, an import request command will be defined as well.",,angelo.decaro,elli-androulaki,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11524,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-11149,,,No,,Unset,No,,,"1|hzznt3:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),angelo.decaro,elli-androulaki,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"28/Aug/18 12:41 AM;elli-androulaki;This item is a duplicate of a subtask of FAB-11524.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Optimistic TX manager that alleviates  lock contention of the lock-based TX manager ,FAB-11702,33156,,Story,Backlog,FAB,Fabric,software,denyeart,,,Medium,,yoheiueda,yoheiueda,yoheiueda,23/Aug/18 7:30 PM,13/Mar/21 5:49 PM,28/Oct/23 3:03 AM,,,,,,,,,,,,fabric-peer,,,,1,performance,,,,,"The current implementation of [lock-based transaction manager|https://github.com/hyperledger/fabric/tree/v2.0.0-alpha/core/ledger/kvledger/txmgmt/txmgr/lockbasedtxmgr] causes lock contention when workload is high. It always acquires a read [lock|https://github.com/hyperledger/fabric/blob/v2.0.0-alpha/core/ledger/kvledger/txmgmt/txmgr/lockbasedtxmgr/lockbased_txmgr.go#L41] during the whole simulation of a transaction. If each transaction simulation takes a long time, frequent execution of transactions interferes committer that acquires a write lock under heavy load. This lock contention also leads to service interruption during chaincode upgrade as described in FAB-11662.

We propose Optimistic Transaction Manager, which causes less lock contention for better scalability with high-latency transactions. Its design and initial performance results are described in this document.

 *Design document*: [https://docs.google.com/document/d/1GSRnlZLOqZvupUara0w2emEsVeQgO4cxUq9T0QwMEts]

 

Our main idea is as follows:
 * Check the version number of each GetState in RWset
 ** Peer checks latest block number at the beginning of chaincode execution
 ** Peer checks whether a version number of each GetState result is greater than latest block number after chaincode execution finishes (If the version number is greater than the latest block number, it violates snapshot isolation)
 * Set version = 0 in read set for a GetState call that violates snapshot isolation
 * Do MVCC check at commit phase as usual

 

 We implemented an initial [prototype|https://gerrit.hyperledger.org/r/c/fabric/+/31884] and  conducted performance evaluation.  We obtained *15%* on average, and up to *48%* TPS improvement. (Our current prototype is based on our previous proposal in which violated simulations are replayed immediately.)",,ChristopherFerris,sunhwei,xuqiang,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11662,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzntb:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ChristopherFerris,sunhwei,xuqiang,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"13/Jun/19 5:24 PM;yoheiueda;I upload my prototype code: [https://gerrit.hyperledger.org/r/c/fabric/+/31884];;;","13/Jun/19 5:30 PM;yoheiueda;[~ChristopherFerris] [~bmos299]

This is the JIRA issue about Optimistic Transaction Manager I talked with you previously.

I prepared a design doc, implemented a prototype, and conducted performance evaluation. We obtained 15*%* on average, and up to 48*%* TPS improvement.

[https://docs.google.com/spreadsheets/d/1S7ppaHAXfksSWB1PaqcKjNxfxYCDIsQXnnh4qQmvHAs/edit?usp=sharing]

 ;;;","19/Jun/19 5:31 AM;ChristopherFerris;[~yoheiueda] can you share the tests and results somewhere? Thanks

 ;;;","19/Jun/19 4:24 PM;yoheiueda;[~ChristopherFerris]

Our testing scripts are available at [https://github.com/yoheiueda/ccperf]

The used chaincode is this [https://github.com/yoheiueda/ccperf/blob/master/go/src/ccperf/ccperf.go]

 

I uploaded performance numbers here.

https://docs.google.com/spreadsheets/d/1S7ppaHAXfksSWB1PaqcKjNxfxYCDIsQXnnh4qQmvHAs/edit?usp=sharing;;;","22/Jun/19 4:41 PM;yoheiueda;I come up with the following idea after discussion. This approach don't need replays, and simplifies implementation.  I will update my prototype using this idea.

Solution without replays:
 * Record version=0 in read set for a GetState call that violates snapshot isolation
 * Do MVCC check at tx commit as usual

Example:
 # Suppose the block height is 1000 at the beginning of the chaincode simulation
 # Chaincode simulation with two GetState calls is executed with the following result
 GetState(“key1”) → \{value:“val1”, version:999}
 GetState(“key2”) → \{value:“val2”, version:1001}
 # This indicates that the second GetState call violates snapshot isolation level. In this case, read set is modified to the following one.
 [ \{ key:”key1”, version:999}, \{key:”key2”, version:0} ]
 (version:0 is the smallest version number that indicates the value of “key2” is stale)
 # MVCC checks at commit phase can invalidate this transaction.  

This solution does not need neither simulation replays nor modification of the MVCC logic.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,
Enable chains to communicate w/ each other and form clusters,FAB-11703,33157,31897,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,guoger,guoger,guoger,23/Aug/18 7:39 PM,17/Oct/18 5:41 AM,28/Oct/23 3:03 AM,17/Oct/18 5:41 AM,,,,,,,,,,,,,,,0,,,,,,"The barebones etcd/raft-based chain objects implemented in FAB-11162 and FAB-11163 should be able to communicate with each other to form a cluster.
h2. Acceptance Criteria
 # Elect a leader, where normal transactions can be ordered and cut into blocks
 # Blocks are consented via underlying etcd/raft cluster
 # Consented blocks are written into ledger
 # Upon leader failure or network partition, a follower should be able to step up as leader and perform tasks described in 2 & 3
 # If ex-leader rejoins the network, it should step down as follower, purge its blockcutter and stop timer
 # Stale leader should not be able to propose block due to lagged term",,guoger,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzztyn:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),guoger,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"06/Sep/18 10:44 PM;kchristidis;[~guoger]: Reverted this back to In Progress since I think we've abandoned the original CR. LMK if I'm wrong.;;;","13/Sep/18 6:15 PM;guoger;https://gerrit.hyperledger.org/r/c/25479;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Nominate Matt Sykes as Fabric maintainer,FAB-11704,33159,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,denyeart,denyeart,denyeart,23/Aug/18 8:40 PM,24/Aug/18 2:04 AM,28/Oct/23 3:03 AM,24/Aug/18 2:04 AM,,,,,,,,,,,,,,,0,,,,,,Nominate Matt Sykes as Fabric maintainer,,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwtnr:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"24/Aug/18 2:01 AM;denyeart;https://gerrit.hyperledger.org/r/#/c/25819/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Large transactions don't pass validation with with latest protobuf version,FAB-11705,33160,,Bug,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,yacovm,yacovm,yacovm,23/Aug/18 9:57 PM,24/Aug/18 1:01 AM,28/Oct/23 3:03 AM,23/Aug/18 11:33 PM,,,,,,v1.3.0,,,,,fabric-peer,,,,0,,,,,,"The deduplicateIdentity has a logical flaw in it that is related to [how bytes are appended|https://github.com/hyperledger/fabric/blob/release-1.2/core/handlers/validation/builtin/validation_logic.go#L746-L753].

The offending code is:

{code}
signatureSet = append(signatureSet, &common.SignedData{
			// set the data that is signed; concatenation of proposal response bytes and endorser ID
Data: append(prespBytes, endorsement.Endorser...),
{code}

If the proposal response payload (prespBytes) has a capacity that can contain its length + the endorser's identity - then a new slice isn't allocated, and the endorser's identity is then copied into the proposal response payload slice.

In v1.2 it didn't affect anything, because the probobuf version used always allocated field slices with the capacity of the length, so the prespBytes ended up always to be allocated inline.
However - the latest protobuf version in fabric doesn't have this property, and thus if we send a transaction with a payload (i.e - via a big PutState) that is large enough - we have a problem with multi-signature endorsements because identities (in the appended slice) always overwrite identities of previous iterations. 




*To reproduce:*
Clone latest master, and apply the following git patch:
{code}
diff --git a/examples/chaincode/go/example02/chaincode.go b/examples/chaincode/go/example02/chaincode.go
index 87629f4..cd990b7 100644
--- a/examples/chaincode/go/example02/chaincode.go
+++ b/examples/chaincode/go/example02/chaincode.go
@@ -127,6 +127,12 @@ func (t *SimpleChaincode) invoke(stub shim.ChaincodeStubInterface, args []string
 		return shim.Error(err.Error())
 	}
 
+	// Put 50KB in ""blabla""
+	err = stub.PutState(""blabla"", make([]byte, 1024 * 50))
+	if err != nil {
+		return shim.Error(err.Error())
+	}
+
 	return shim.Success(nil)
 }
 
diff --git a/examples/e2e_cli/scripts/script.sh b/examples/e2e_cli/scripts/script.sh
index 72c0fa8..4a813f5 100755
--- a/examples/e2e_cli/scripts/script.sh
+++ b/examples/e2e_cli/scripts/script.sh
@@ -260,7 +260,7 @@ chaincodeInvoke () {
         peer chaincode invoke -o orderer.example.com:7050  --tls --cafile $ORDERER_CA -C $CHANNEL_NAME -n mycc $PEER_CONN_PARMS -c '{""Args"":[""invoke"",""a"",""b"",""10""]}' >&log.txt
 	fi
 	res=$?
-	cat log.txt
+	#cat log.txt
 	verifyResult $res ""Invoke execution on PEER$PEER failed ""
 	echo ""===================== Invoke transaction successful on $PEERS on channel '$CHANNEL_NAME' ===================== ""
 	echo

{code}

And then run the e2e_cli.

*The peers log the following:*
{code}
2018-08-23 13:06:28.415 UTC [vscc] deduplicateIdentity -> DEBU 13d4 Signature set is of size 2 out of 2 endorsement(s)
2018-08-23 13:06:28.422 UTC [vscc] Validate -> WARN 13d7 Endorsement policy failure for transaction txid=2d4af3921d52eed1c8cb26f2892fac39afdfdae6e2dd15d4bd3aecd5f5364c3f, err: signature set did not satisfy policy
2018-08-23 13:06:28.422 UTC [vscc] Validate -> DEBU 13d8 block 4, namespace: mycc, tx 0 validation results is: VSCC error: endorsement policy failure, err: signature set did not satisfy policy
2018-08-23 13:06:28.422 UTC [committer/txvalidator] ValidateWithPlugin -> DEBU 13d9 Transaction 2d4af3921d52eed1c8cb26f2892fac39afdfdae6e2dd15d4bd3aecd5f5364c3f appears to be invalid: VSCC error: endorsement policy failure, err: signature set did not satisfy policy
2018-08-23 13:06:28.422 UTC [committer/txvalidator] VSCCValidateTx -> DEBU 13da VSCCValidateTx completes env bytes 0xc424830000
2018-08-23 13:06:28.422 UTC [committer/txvalidator] validateTx -> ERRO 13db VSCCValidateTx for transaction txId = 2d4af3921d52eed1c8cb26f2892fac39afdfdae6e2dd15d4bd3aecd5f5364c3f returned error: VSCC error: endorsement policy failure, err: signature set did not satisfy policy

{code}

",,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzntr:",,,,Unset,Unset,,,"1. Write a chaincode that has PutState of a big value, say - a few KBs of size.
2. Instantiate the chaincode with endorsement policy of AND with at least 2 principals
3. Collect 2 endorsements from 2 different peers, and send to ordering and wait for the block to be sent to the peer
4. Profit (the transaction is invalid because of signature verification failure)",,Unset,,,,,,Unset,,Unset,,(Please add usage information),yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"23/Aug/18 10:11 PM;yacovm;https://gerrit.hyperledger.org/r/#/c/25820/

I see there is a change set by [~ales] and [~mne] that removes the function. 
But we still have a problem if the channel runs in v1.2 mode and lower. 

So I recommend the change to be merged as soon as possible so that a v1.3 binary would act like a v1.2 and lower binary, with respect to channels at levels lower than 1.3;;;","24/Aug/18 1:01 AM;yacovm;[~bmos299] - I think it could be very helpful if this case will be tested in system tests.

The 2 ingredients to reproduce this are:
 * A chaincode that writes a few KB of data, I think over 10K is sufficient for sure
 * An endorsement policy of AND of 2 orgs.

 ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update Read The Docs Testing page with Interoperability Info,FAB-11706,33162,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,latitiah,latitiah,latitiah,23/Aug/18 10:10 PM,24/Sep/18 7:14 PM,28/Oct/23 3:03 AM,24/Sep/18 7:14 PM,,,,,,v1.3.0,,,,,,,,,0,,,,,,The Read The Docs page needs to be updated with Interoperability details.,,denyeart,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzznu7:",,,,Unset,Unset,,,(Please add steps to reproduce),1.0,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"05/Sep/18 9:50 PM;latitiah;https://gerrit.hyperledger.org/r/#/c/25821/;;;","15/Sep/18 2:45 PM;denyeart;[~latitiah] First CR merged, but we'll need another one to fix up the broken link at:

https://github.com/hyperledger/fabric/blob/master/testingInfo.rst#unit-test;;;","24/Sep/18 4:36 AM;denyeart;[~latitiah] can you fix the broken link?;;;","24/Sep/18 4:22 PM;latitiah;https://gerrit.hyperledger.org/r/26497;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Chaincode pagination - integration test,FAB-11707,33164,,Test Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,chris.elder,denyeart,denyeart,23/Aug/18 10:51 PM,11/Sep/18 11:19 PM,28/Oct/23 3:03 AM,11/Sep/18 11:19 PM,,,,,,v1.3.0,,,,,,,,,0,,,,,,Chaincode pagination - integration test,,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-2809,,,No,,Unset,No,,,"1|hzznun:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Integration Test,,(Please add usage information),denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"11/Sep/18 11:18 PM;denyeart;Chaincode integration tests done in FAB-11455.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[Pen Test Finding - HSM] Required to Set CKA_EXTRACTABLE set to CK_FALSE,FAB-11708,30647,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ashutosh_kumar,rhegde,rhegde,26/May/18 1:10 AM,25/Aug/18 3:09 AM,28/Oct/23 3:03 AM,25/Aug/18 3:09 AM,v1.0.6,,,,,v1.2.1,v1.3.0,,,,,,,,0,,,,,,"Release - Fabric v1.0.6

Here is the Pen Test finding for the Signing Key generated by Fabric CA Client

 
{code:java}
Key may be vulnerable to wrapping attacks.
Consequences: Possible compromise of sensitive keys stored on the HSM.
Explanation: Keys generated with CKA_EXTRACTABLE set to CK_TRUE can be wrapped (encrypted) by other keys for transport and backup. There are a number of security issues associated to key wrapping in PKCS#11 to the extend that it is best avoided completely unless absolutely necessary. If an encrypted backup of a key is required, it should be taken immediately using the C_WrapKey function and then the CKA_EXTRACTABLE attribute should be set to CK_FALSE.
{code}
 

 ",,ashutosh_kumar,denyeart,rhegde,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-10390,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzzcqf:",,,,,,,,,,,,,,,,,,,,,ashutosh_kumar,denyeart,rhegde,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,release-1.2,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"30/May/18 4:54 AM;ashutosh_kumar;Can you provide some more information ? Are you using Node SDK Client ?;;;","06/Jun/18 6:18 AM;kchristidis;[~ashutosh_kumar] When you get a chance can you confirm whether this is an issue with 1.1.0 as well? (If so, we'll need to issue a fix for 1.1.1.);;;","06/Jun/18 8:01 AM;ashutosh_kumar;This is not an issue as this attribute is being set by user. Will close the issue after having a look one more time.;;;","06/Jun/18 11:21 PM;ashutosh_kumar;Value for CKA_EXTRACTABLE is configurable. Closing this issue.;;;","29/Jun/18 10:51 PM;ashutosh_kumar;The default implementation sets CKA_EXTRACTABLE to true , whereas it should be set to false. Needs document update also.
h1.  ;;;","17/Jul/18 12:46 AM;ashutosh_kumar;I am removing user ability to set value of CKA_extractable attribute. Hardcoding it to false.;;;","18/Jul/18 4:23 AM;ashutosh_kumar;The change set  : https://gerrit.hyperledger.org/r/#/c/24465/;;;","18/Jul/18 4:33 AM;ashutosh_kumar;New Key generated will have CKA_EXTRACTABLE to false. Old key will be repaired by https://jira.hyperledger.org/browse/FAB-11111.  FAB-11111 provide an ability for the end user , which is System User in most of the case , to repair infected Private Keys in current slot by changing CKA_EXTRACTBLE attribute to false for all Private Keys , if it has been set as true.

[~rhegde] [~Clayton Sims] [~sanchezl];;;","24/Aug/18 1:47 AM;denyeart;Merged in master: https://gerrit.hyperledger.org/r/#/c/24465/
Cherry picked and merged in release-1.2: https://gerrit.hyperledger.org/r/#/c/25827/;;;","24/Aug/18 1:53 AM;denyeart;Previously known as FAB-10391.;;;",,,,,,,,,,,,,,,,,,,,,,,
https://github.com/hyperledger/fabric not compatible with go1.11 modules,FAB-11709,33169,,Bug,Closed,FAB,Fabric,software,denyeart,,,Low,Duplicate,,voutasaurus,voutasaurus,24/Aug/18 2:12 AM,01/Dec/18 8:22 PM,28/Oct/23 3:03 AM,01/Dec/18 8:22 PM,,,,,,,,,,,fabric-common,,,,0,,,,,,"Go packages that import packages from [https://github.com/hyperledger/fabric] cannot use go1.11 module management capabilities. This is due to an old version of github.com/docker/docker being vendored (which in turn improperly vendors github.com/sirupsen/logrus as github.com/Sirupsen/logrus). This was fixed in docker/docker in July 2017.

To fix: revendor docker/docker at later version and do appropriate functional tests.

Workaround for those who wish to import fabric with go1.11 module functionality prior to this being resolved:


{{go mod init}}
{{go get github.com/docker/docker@v0.0.0-20180422163414-57142e89befe}}
{{go test ./...}}

{{}}

See [https://github.com/golang/go/issues/26208] for more details",,denyeart,mastersingh24,voutasaurus,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzznvr:",,,,Unset,Unset,,,"0) Install go1.11 (rc1 or rc2)
1) Create a new go package
2) Import fabric in package
3) go mod init
4) go test ./...
5) This will fail saying: case-insensitive import collision: ""github.com/Sirupsen/logrus"" and ""github.com/sirupsen/logrus""",,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,mastersingh24,voutasaurus,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"29/Aug/18 4:24 PM;mastersingh24;[~voutasaurus] - this should not be a problem with Fabric v1.2 and later as we updated the dependency.;;;","01/Dec/18 8:22 PM;denyeart;Already fixed, closing...;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
PTE includes latency mode results in pteReport,FAB-11710,33171,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,dongming,dongming,dongming,24/Aug/18 2:34 AM,30/Aug/18 5:44 AM,28/Oct/23 3:03 AM,30/Aug/18 5:44 AM,,,,,,,,,,,fabric-quality,,,,0,,,,,,PTE includes latency mode result into pteReport.,,dongming,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-2247,,,No,,Unset,No,,,"1|hzznw7:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),dongming,scottz,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,release-1.3,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-1.4,release-2.5,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,true,"28/Aug/18 11:26 PM;dongming;https://gerrit.hyperledger.org/r/#/c/25926/;;;","30/Aug/18 1:35 AM;scottz;latency mode pteReport.txt:


{{======= PTE 0 main Test Summary: executed at Wed Aug 29 2018 09:12:27 GMT-0400 (EDT) =======}}
{{(testorgschannel1:sample_cc_ch1): LATENCY INVOKE transaction stats}}
{{(testorgschannel1:sample_cc_ch1): Total transactions sent 20 received 20}}
{{(testorgschannel1:sample_cc_ch1): failures: proposal 0 transactions 0}}
{{(testorgschannel1:sample_cc_ch1): event: received 20 timeout 0 unreceived 0}}
{{(testorgschannel1:sample_cc_ch1): start 1535548360334 end 1535548382089 duration 21755 ms}}
{{(testorgschannel1:sample_cc_ch1): Latency 1087.75 ms}}
{{(testorgschannel1:sample_cc_ch1): peer latency stats (endorsement)}}
{{(testorgschannel1:sample_cc_ch1): total transactions: 20 total time: 392 ms}}
{{(testorgschannel1:sample_cc_ch1): min: 10 ms max: 50 ms avg: 19.60 ms}}
{{(testorgschannel1:sample_cc_ch1): orderer latency stats (transaction ack)}}
{{(testorgschannel1:sample_cc_ch1): total transactions: 20 total time: 565 ms}}
{{(testorgschannel1:sample_cc_ch1): min: 9 ms max: 164 ms avg: 28.25 ms}}
{{(testorgschannel1:sample_cc_ch1): event latency stats (end-to-end)}}
{{(testorgschannel1:sample_cc_ch1): total transactions: 20 total time: 43090 ms}}
{{(testorgschannel1:sample_cc_ch1): min: 1863 ms max: 2472 ms avg: 2154.50 ms}}

 ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Scalability test: endorsements,FAB-11711,33172,,Test Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,dongming,dongming,dongming,24/Aug/18 2:51 AM,31/Jul/19 5:51 AM,28/Oct/23 3:03 AM,31/Jul/19 5:51 AM,Future,,,,,Future,,,,,fabric-quality,,,,0,,,,,,"TBD. The idea is to increase the number of endorsements required per transaction. Run a set of tests, all other things being equal.

 ",,dongming,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-8414,FAB-8384,FAB-16061,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-10081,,,No,,Unset,No,,,"1|hzznwf:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,System Test,,(Please add usage information),dongming,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"31/Jul/19 5:51 AM;scottz;Two multiple-endorser tests were done and scripted (linked).
We will ensure something like that is included in the system test suite FAB-16061.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Bad error message if trying to instantiate with private data collection but no V1_2 capability,FAB-11712,33173,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,mastersingh24,denyeart,denyeart,24/Aug/18 3:12 AM,27/Aug/18 5:49 PM,28/Oct/23 3:03 AM,27/Aug/18 5:49 PM,v1.2.0,,,,,v1.2.1,v1.3.0,,,,fabric-peer,,,,0,,,,,,"Bad error message if trying to instantiate chaincode with private data collection, but the V1_2 application capability was not defined on the channel.  The error message sent back to the client is:

Error: could not assemble transaction, err proposal response was not successful, error code 500, msg invalid number of arguments to lscc: 7",,denyeart,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwtnz:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,release-1.2,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"27/Aug/18 7:28 AM;mastersingh24;https://gerrit.hyperledger.org/r/25892;;;","27/Aug/18 11:42 AM;denyeart;Cherry picked to release-1.2 as well, since people have been hitting this on v1.2 and it is low risk:
https://gerrit.hyperledger.org/r/25895;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"CouchDB Pagination: Query TPS test with page-sizes within explicit paging limit (page size 10, 50, 100)",FAB-11714,33181,,Test Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,AdnanChoudhury,AdnanChoudhury,AdnanChoudhury,24/Aug/18 4:20 AM,10/Jan/20 5:46 AM,28/Oct/23 3:03 AM,01/Aug/19 10:42 AM,,,,,,v1.3.0,,,,,fabric-quality,,,,0,SystemTestcase,,,,,"Setup: 
Network Topology: 2 channels, 2 org, 2 peers per org, each peer with CouchDB container for stateDB, 4 kafka, 3 zookeepers, 3 orderers, 2 ca, TLS enabled, both org associate with all channels.
Client Driver: PTE
Test Steps:
1) chaincode: each channel has one chancode, marbles02 go chaincode, instantiated
2) 100K transactions: 4 threads, each thread sends 25000 invokes concurrently with tx id from 1 to 25000

         thread 1 sends to org1 peer1 on channel 1
         thread 2 sends to org2 peer1 on channel 1
         thread 3 sends to org1 peer1 on channel 2
         thread 4 sends to org2 peer1 on channel 2
3) do the following:
 Query Chaincode with pagesizes of a)10, b) 50, c) 100 among the 4 threads on the 2 channels, that eventually traverses through all records.

Result:
1)hardware setup
2) RPS (request per second) achieved for queries for scenarios (a, b, c)
3) CPU and memory usage for the Peers and CouchDB containers for scenarios (a, b, c)",,AdnanChoudhury,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11613,,,,,,,,,,,,,,,,,,,,,,,FAB-17348,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-10083,,,Manual,,Unset,No,,,"1|hzzny7:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Pass,,System Test,,(Please add usage information),AdnanChoudhury,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"25/Sep/18 12:03 AM;AdnanChoudhury;Initial results with marblesCC driving the pagination feature are below. These will be replaced with cluster results with 4 threads.

Results:
(In Vlaunch machine, with 1 thread, *unindexed* marblecc chaincode)
With 100K records, The <pagesize> and <TPS-while-traversing-all-records> are:

Pagesize       TPS
5                    58
10                   59       
50                   37
100                 31
500                 9
;;;","09/Oct/18 5:57 AM;AdnanChoudhury;Results:
(In Vlaunch machine, with 4 threads, *indexed* marblecc chaincode, pages traverse through and exhaust the records)
With 100K records, The <pagesize> and <TPS-while-traversing-all-records> are:


||Pagesize||Query per Second||

|5|	90|
|10|	79.73|
|25|	62.29|
|50|	48.13|
|100|	32.79|
;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"CouchDB Pagination: Query TPS test with page-sizes within implicit paging limit (page size 250, 500, 1000) ",FAB-11715,33182,,Test Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,AdnanChoudhury,AdnanChoudhury,AdnanChoudhury,24/Aug/18 4:22 AM,10/Jan/20 5:47 AM,28/Oct/23 3:03 AM,01/Aug/19 10:43 AM,,,,,,v1.3.0,,,,,fabric-quality,,,,0,SystemTestcase,,,,,"Setup: 
Network Topology: 2 channels, 2 org, 2 peers per org, each peer with CouchDB container for stateDB, 4 kafka, 3 zookeepers, 3 orderers, 2 ca, TLS enabled, both org associate with all channels.
Client Driver: PTE
Test Steps:
1) chaincode: each channel has one chancode, marbles02 go chaincode, instantiated
2) 100K transactions: 4 threads, each thread sends 25000 invokes concurrently with tx id from 1 to 25000

         thread 1 sends to org1 peer1 on channel 1
         thread 2 sends to org2 peer1 on channel 1
         thread 3 sends to org1 peer1 on channel 2
         thread 4 sends to org2 peer1 on channel 2
3) do the following:
 Query Chaincode with pagesizes of a)250, b) 500, c) 1000 among the 4 threads on the 2 channels, that eventually traverses through all records.

Result:
1)hardware setup
2) RPS (request per second) achieved for queries for scenarios (a, b, c)
3) CPU and memory usage for the Peers and CouchDB containers for scenarios (a, b, c)To be added.",,AdnanChoudhury,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11613,FABN-949,,,,,,,,,,,,,,,,,,,,,,FAB-17349,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-10083,,,Manual,,Unset,No,,,"1|hzznyf:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Pass,,System Test,,(Please add usage information),AdnanChoudhury,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"09/Oct/18 6:00 AM;AdnanChoudhury;Results:
(In Vlaunch machine, with 4 thread, *indexed* marblecc chaincode, pages traverse through and exhaust the records)
With 100K records, The <pagesize> and <TPS-while-traversing-all-records> are:


||Pagesize||Query per Second||
|250|	17.53|
|500|	9.97|
|1000|	5.5|
;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
PTE supports cc2cc,FAB-11716,33183,,Test Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,dongming,dongming,dongming,24/Aug/18 5:12 AM,22/Jan/20 6:23 AM,28/Oct/23 3:03 AM,22/Jan/20 6:23 AM,v1.3.0,,,,,Future,,,,,fabric-quality,,,,0,,,,,,"PTE supports cc2cc and collection, see FAB-11374",,dongming,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-949,,,,FAB-11725,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-2247,,,No,,Unset,No,,,"1|i00whf:k",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,System Test,,(Please add usage information),dongming,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"22/Jan/20 5:28 AM;scottz;FAB-11374 and FAB-11382 are marked stale (and will likely be closed within a week).  Is any of this PTE enhancement still needed or useful? [~dongming];;;","22/Jan/20 6:05 AM;dongming;[~scottz] at this moment, we do not have PTE plan or enhancement related to cc2cc.  We can mark this as stale.  ;;;","22/Jan/20 6:23 AM;scottz;Fabric and sdk code was never developed that would necessitate this tool enhancement.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add ability to package chaincode to nwo,FAB-11717,33186,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wlahti,wlahti,wlahti,24/Aug/18 6:05 AM,05/Sep/18 12:14 AM,28/Oct/23 3:03 AM,05/Sep/18 12:14 AM,,,,,,,,,,,,,,,0,,,,,,"As a first step towards switching to the new +lifecycle, the nwo for integration tests should have the ability to package chaincode for use during install. The flow with +lifecycle will be: package -> install -> define (aka instantiate in the current terminology). ",,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11535,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-11237,,,No,,Unset,No,,,"1|hzznzb:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"24/Aug/18 9:16 PM;wlahti;https://gerrit.hyperledger.org/r/c/25843/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
FIx broken build,FAB-11718,33187,,Bug,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,manish-sethi,manish-sethi,manish-sethi,24/Aug/18 6:21 AM,24/Aug/18 7:09 AM,28/Oct/23 3:03 AM,24/Aug/18 7:09 AM,,,,,,v1.3.0,,,,,fabric-ledger,,,,0,,,,,,"Because of merge of two conflicting CRs ([https://gerrit.hyperledger.org/r/#/c/24385/)] and ([https://gerrit.hyperledger.org/r/#/c/21775/)] one of the tests is failing in compilation.

 ",,manish-sethi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzznzj:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),manish-sethi,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Better Markup of Document,FAB-11719,33189,,Documentation,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ynamiki,ynamiki,ynamiki,24/Aug/18 9:34 AM,24/Aug/18 7:09 PM,28/Oct/23 3:03 AM,24/Aug/18 7:09 PM,v1.2.0,,,,,v1.3.0,,,,,fabric-docs,,,,0,,,,,,"https://hyperledger-fabric.readthedocs.io/en/release-1.2/build_network.html#configuration-transaction-generator

The first paragraph of the above section is markuped as follows:

{noformat}
The ``configtxgen tool`` is ...
{noformat}

It is better to be markuped as follows since only a name of file/command is quoted in other part of the document page.

{noformat}
The ``configtxgen`` tool is ...
{noformat}
",,ynamiki,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzznzz:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ynamiki,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"24/Aug/18 9:47 AM;ynamiki;https://gerrit.hyperledger.org/r/25844;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"chaincode invoke fixed only user cc works,but qscc invoke timeout",FAB-11720,33191,,Bug,Closed,FAB,Fabric,software,denyeart,,,Highest,Invalid: Works as Expected,,zerppen,zerppen,24/Aug/18 10:54 AM,26/Apr/20 11:14 PM,28/Oct/23 3:03 AM,26/Apr/20 11:14 PM,v1.2.0,,,,,,,,,,fabric-peer,,,,0,,,,,," *my operation*: peer chaincode query -C mychannel -n qscc -c '

{""Args"":[""GetBlockByNumber"",""mychannel"",""1""]}

' （docker command line operation  using fabric-sdk-go  same result ）

*result:*  _Error: endorsement failure during query. response: status:500 message:""failed to execute transaction 5270da85cb878e93eb503db6e6d191a55aa760dd4318ebf08488c2ff1157205f: error sending: timeout expired while executing transaction""_

*_other information:_*  1. my chaincode `invoke` and `query` works

                                  2. my peer contains up 3 weeks, and it worked (chaincode including qscc invoke) until today

                                  3. peer contain restarts and it works again",,denyeart,gombiuda,manish-sethi,mastersingh24,rajanashutosh,rajasushanth,sykesm,yoheiueda,zerppen,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-9968,,,,FAB-11094,,,,,FAB-10540,,,,,,,,,"20/Sep/18 12:59 AM;rajasushanth;Docker images.jpg;https://jira.hyperledger.org/secure/attachment/15835/Docker+images.jpg","18/Sep/18 7:18 PM;rajanashutosh;Error_SIGABRT_18_09_2018.logs;https://jira.hyperledger.org/secure/attachment/15829/Error_SIGABRT_18_09_2018.logs","18/Sep/18 7:18 PM;rajanashutosh;Qscc_18_09_2018_issue.txt;https://jira.hyperledger.org/secure/attachment/15830/Qscc_18_09_2018_issue.txt","30/Aug/18 9:16 PM;rajanashutosh;Qscc_invoke_timeout.txt;https://jira.hyperledger.org/secure/attachment/15760/Qscc_invoke_timeout.txt","31/Aug/18 12:57 AM;rajanashutosh;SIG_KILL.txt;https://jira.hyperledger.org/secure/attachment/15761/SIG_KILL.txt","20/Sep/18 1:19 PM;rajanashutosh;image-2018-09-20-09-49-14-879.png;https://jira.hyperledger.org/secure/attachment/15839/image-2018-09-20-09-49-14-879.png","21/Sep/18 2:17 PM;rajanashutosh;image-2018-09-21-10-47-26-084.png;https://jira.hyperledger.org/secure/attachment/15847/image-2018-09-21-10-47-26-084.png","19/Sep/18 8:45 PM;rajasushanth;qscc_error.txt;https://jira.hyperledger.org/secure/attachment/15834/qscc_error.txt",,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzo0f:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,gombiuda,manish-sethi,mastersingh24,rajanashutosh,rajasushanth,sykesm,yoheiueda,zerppen,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"24/Aug/18 11:00 AM;zerppen;@[~sykesm]  thanks your  confirm and I open an issue new.

Cause you are know the code flow of this issue,can you be assignee?
 ;;;","30/Aug/18 9:17 PM;rajanashutosh;Yes, we are facing the same issue while invoking ""qscc"" chaincode using rest Api backed by Java SDK.  Please find the logs attached taken from peer container.

[^Qscc_invoke_timeout.txt];;;","30/Aug/18 9:41 PM;denyeart;[~zerppen] [~rajanashutosh] This may be the issue that was fixed in FAB-11094, which will be included in upcoming v1.2.1.
If you are able to build fabric local, could you try latest release-1.2 or master branch? 
If you are not able to build fabric local, we'll provide you an instruction on how to pull down latest built images from our nexus location (we just added this, so we need to provide the instructions still).;;;","31/Aug/18 12:39 AM;rajanashutosh;[~denyeart] Thanks.

We would give a try to build fabric in local. Also, would request you to please provide us instructions as well on pulling the images from nexus. 

 ;;;","31/Aug/18 12:57 AM;rajanashutosh;Also attached logs as required after {{kill -SIGABRT[^SIG_KILL.txt]}};;;","31/Aug/18 7:44 AM;sykesm;Someone from ledger will probably need to look at this. There are 41 go routines waiting to acquire the blocksAPIsRWLock in the kvLedger. It looks like {{qscc}} times out because of the locking. The locking is impacting more than just query so things are pretty unhealthy.

{code}
$ curl -s 'https://jira.hyperledger.org/secure/attachment/15761/SIG_KILL.txt' | cat | grep -B1 -A11 0xc422e2014c

goroutine 392 [semacquire, 26 minutes]:
sync.runtime_Semacquire(0xc422e2014c)
	/opt/go/src/runtime/sema.go:56 +0x39
sync.(*RWMutex).RLock(0xc422e20140)
	/opt/go/src/sync/rwmutex.go:50 +0x49
github.com/hyperledger/fabric/core/ledger/kvledger.(*kvLedger).GetBlockchainInfo(0xc421d61bd0, 0x0, 0x0, 0x0)
	/opt/gopath/src/github.com/hyperledger/fabric/core/ledger/kvledger/kv_ledger.go:177 +0x7c
github.com/hyperledger/fabric/core/committer.(*LedgerCommitter).LedgerHeight(0xc421d23e80, 0x49b46b, 0x2540be400, 0xc423b200a0)
	/opt/gopath/src/github.com/hyperledger/fabric/core/committer/committer_impl.go:140 +0x37
github.com/hyperledger/fabric/gossip/state.(*GossipStateProviderImpl).antiEntropy(0xc420165380)
	/opt/gopath/src/github.com/hyperledger/fabric/gossip/state/state.go:584 +0x1c9
created by github.com/hyperledger/fabric/gossip/state.NewGossipStateProvider
	/opt/gopath/src/github.com/hyperledger/fabric/gossip/state/state.go:241 +0x6a3
--
goroutine 29944 [semacquire, 26 minutes]:
sync.runtime_Semacquire(0xc422e2014c)
	/opt/go/src/runtime/sema.go:56 +0x39
sync.(*RWMutex).RLock(0xc422e20140)
	/opt/go/src/sync/rwmutex.go:50 +0x49
github.com/hyperledger/fabric/core/ledger/kvledger.(*kvLedger).GetBlockchainInfo(0xc421d61bd0, 0x0, 0x0, 0x0)
	/opt/gopath/src/github.com/hyperledger/fabric/core/ledger/kvledger/kv_ledger.go:177 +0x7c
github.com/hyperledger/fabric/common/ledger/blockledger/file.(*FileLedger).Iterator(0xc421d22880, 0xc42355fcc0, 0xc421d22880, 0xc42426d2c0, 0x4)
	/opt/gopath/src/github.com/hyperledger/fabric/common/ledger/blockledger/file/impl.go:103 +0x1aa
github.com/hyperledger/fabric/common/deliver.(*Handler).deliverBlocks(0xc42044b800, 0x114a2c0, 0xc423881d10, 0xc42020bba0, 0xc423881d70, 0x0, 0x0)
	/opt/gopath/src/github.com/hyperledger/fabric/common/deliver/deliver.go:227 +0x1124
github.com/hyperledger/fabric/common/deliver.(*Handler).Handle(0xc42044b800, 0x114a2c0, 0xc423881d10, 0xc42020bba0, 0xc42355f590, 0x0)
	/opt/gopath/src/github.com/hyperledger/fabric/common/deliver/deliver.go:153 +0x293
--
goroutine 32066 [semacquire, 14 minutes]:
sync.runtime_Semacquire(0xc422e2014c)
	/opt/go/src/runtime/sema.go:56 +0x39
sync.(*RWMutex).RLock(0xc422e20140)
	/opt/go/src/sync/rwmutex.go:50 +0x49
github.com/hyperledger/fabric/core/ledger/kvledger.(*kvLedger).GetBlockchainInfo(0xc421d61bd0, 0x0, 0x0, 0x0)
	/opt/gopath/src/github.com/hyperledger/fabric/core/ledger/kvledger/kv_ledger.go:177 +0x7c
github.com/hyperledger/fabric/core/scc/qscc.getChainInfo(0x1152680, 0xc422fd0120, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0)
	/opt/gopath/src/github.com/hyperledger/fabric/core/scc/qscc/query.go:181 +0x67
github.com/hyperledger/fabric/core/scc/qscc.(*LedgerQuerier).Invoke(0xc4203f40e0, 0x1154180, 0xc422e94960, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0)
	/opt/gopath/src/github.com/hyperledger/fabric/core/scc/qscc/query.go:108 +0x958
github.com/hyperledger/fabric/core/chaincode/shim.(*Handler).handleTransaction.func1(0xc421d2b5c0, 0xc420303f20, 0xc423bef5c0)
	/opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/shim/handler.go:273 +0x4f9
--
goroutine 32041 [semacquire, 14 minutes]:
sync.runtime_Semacquire(0xc422e2014c)
	/opt/go/src/runtime/sema.go:56 +0x39
sync.(*RWMutex).RLock(0xc422e20140)
	/opt/go/src/sync/rwmutex.go:50 +0x49
github.com/hyperledger/fabric/core/ledger/kvledger.(*kvLedger).GetBlockchainInfo(0xc421d61bd0, 0x0, 0x0, 0x0)
	/opt/gopath/src/github.com/hyperledger/fabric/core/ledger/kvledger/kv_ledger.go:177 +0x7c
github.com/hyperledger/fabric/common/ledger/blockledger/file.(*FileLedger).Iterator(0xc421d22880, 0xc4239f1840, 0xc421d22880, 0xc424e35880, 0x4)
	/opt/gopath/src/github.com/hyperledger/fabric/common/ledger/blockledger/file/impl.go:103 +0x1aa
github.com/hyperledger/fabric/common/deliver.(*Handler).deliverBlocks(0xc42044b800, 0x114a2c0, 0xc423722720, 0xc423b89ba0, 0xc423722780, 0x0, 0x0)
	/opt/gopath/src/github.com/hyperledger/fabric/common/deliver/deliver.go:227 +0x1124
github.com/hyperledger/fabric/common/deliver.(*Handler).Handle(0xc42044b800, 0x114a2c0, 0xc423722720, 0xc423b89ba0, 0xc4239f1110, 0x0)
	/opt/gopath/src/github.com/hyperledger/fabric/common/deliver/deliver.go:153 +0x293
--
goroutine 30206 [semacquire, 26 minutes]:
sync.runtime_Semacquire(0xc422e2014c)
	/opt/go/src/runtime/sema.go:56 +0x39
sync.(*RWMutex).RLock(0xc422e20140)
	/opt/go/src/sync/rwmutex.go:50 +0x49
github.com/hyperledger/fabric/core/ledger/kvledger.(*kvLedger).GetBlockchainInfo(0xc421d61bd0, 0x0, 0x0, 0x0)
	/opt/gopath/src/github.com/hyperledger/fabric/core/ledger/kvledger/kv_ledger.go:177 +0x7c
github.com/hyperledger/fabric/common/ledger/blockledger/file.(*FileLedger).Iterator(0xc421d22880, 0xc425ce3f40, 0xc421d22880, 0xc426aed8c0, 0x4)
	/opt/gopath/src/github.com/hyperledger/fabric/common/ledger/blockledger/file/impl.go:103 +0x1aa
github.com/hyperledger/fabric/common/deliver.(*Handler).deliverBlocks(0xc42044b800, 0x114a2c0, 0xc425cab380, 0xc42516fba0, 0xc425cab3e0, 0x0, 0x0)
	/opt/gopath/src/github.com/hyperledger/fabric/common/deliver/deliver.go:227 +0x1124
github.com/hyperledger/fabric/common/deliver.(*Handler).Handle(0xc42044b800, 0x114a2c0, 0xc425cab380, 0xc42516fba0, 0xc425ce3810, 0x0)
	/opt/gopath/src/github.com/hyperledger/fabric/common/deliver/deliver.go:153 +0x293
--
goroutine 30188 [semacquire, 26 minutes]:
sync.runtime_Semacquire(0xc422e2014c)
	/opt/go/src/runtime/sema.go:56 +0x39
sync.(*RWMutex).RLock(0xc422e20140)
	/opt/go/src/sync/rwmutex.go:50 +0x49
github.com/hyperledger/fabric/core/ledger/kvledger.(*kvLedger).GetBlockchainInfo(0xc421d61bd0, 0x0, 0x0, 0x0)
	/opt/gopath/src/github.com/hyperledger/fabric/core/ledger/kvledger/kv_ledger.go:177 +0x7c
github.com/hyperledger/fabric/core/scc/qscc.getChainInfo(0x1152680, 0xc422fd0120, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0)
	/opt/gopath/src/github.com/hyperledger/fabric/core/scc/qscc/query.go:181 +0x67
github.com/hyperledger/fabric/core/scc/qscc.(*LedgerQuerier).Invoke(0xc4203f40e0, 0x1154180, 0xc421616320, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0)
	/opt/gopath/src/github.com/hyperledger/fabric/core/scc/qscc/query.go:108 +0x958
github.com/hyperledger/fabric/core/chaincode/shim.(*Handler).handleTransaction.func1(0xc421d2b5c0, 0xc420303f20, 0xc425c986c0)
	/opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/shim/handler.go:273 +0x4f9
--
goroutine 30259 [semacquire, 24 minutes]:
sync.runtime_Semacquire(0xc422e2014c)
	/opt/go/src/runtime/sema.go:56 +0x39
sync.(*RWMutex).RLock(0xc422e20140)
	/opt/go/src/sync/rwmutex.go:50 +0x49
github.com/hyperledger/fabric/core/ledger/kvledger.(*kvLedger).GetBlockchainInfo(0xc421d61bd0, 0x0, 0x0, 0x0)
	/opt/gopath/src/github.com/hyperledger/fabric/core/ledger/kvledger/kv_ledger.go:177 +0x7c
github.com/hyperledger/fabric/common/ledger/blockledger/file.(*FileLedger).Iterator(0xc421d22880, 0xc4237d92b0, 0xc421d22880, 0xc424808a00, 0x4)
	/opt/gopath/src/github.com/hyperledger/fabric/common/ledger/blockledger/file/impl.go:103 +0x1aa
github.com/hyperledger/fabric/common/deliver.(*Handler).deliverBlocks(0xc42044b800, 0x114a2c0, 0xc423f7de60, 0xc422e9bba0, 0xc423f7def0, 0x0, 0x0)
	/opt/gopath/src/github.com/hyperledger/fabric/common/deliver/deliver.go:227 +0x1124
github.com/hyperledger/fabric/common/deliver.(*Handler).Handle(0xc42044b800, 0x114a2c0, 0xc423f7de60, 0xc422e9bba0, 0xc4237d8b80, 0x0)
	/opt/gopath/src/github.com/hyperledger/fabric/common/deliver/deliver.go:153 +0x293
--
goroutine 30055 [semacquire, 26 minutes]:
sync.runtime_Semacquire(0xc422e2014c)
	/opt/go/src/runtime/sema.go:56 +0x39
sync.(*RWMutex).RLock(0xc422e20140)
	/opt/go/src/sync/rwmutex.go:50 +0x49
github.com/hyperledger/fabric/core/ledger/kvledger.(*kvLedger).GetBlockByTxID(0xc421d61bd0, 0xc42430e100, 0x40, 0xc42284fe00, 0x40, 0xc42430e100)
	/opt/gopath/src/github.com/hyperledger/fabric/core/ledger/kvledger/kv_ledger.go:213 +0x7f
github.com/hyperledger/fabric/core/scc/qscc.getBlockByTxID(0x1152680, 0xc422fd0120, 0xc42284fe00, 0x40, 0x40, 0x0, 0x0, 0x0, 0x0, 0x0, ...)
	/opt/gopath/src/github.com/hyperledger/fabric/core/scc/qscc/query.go:195 +0xb9
github.com/hyperledger/fabric/core/scc/qscc.(*LedgerQuerier).Invoke(0xc4203f40e0, 0x1154180, 0xc421ef6aa0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0)
	/opt/gopath/src/github.com/hyperledger/fabric/core/scc/qscc/query.go:110 +0xa5a
github.com/hyperledger/fabric/core/chaincode/shim.(*Handler).handleTransaction.func1(0xc421d2b5c0, 0xc420303f20, 0xc4215a9ce0)
	/opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/shim/handler.go:273 +0x4f9
--
goroutine 29977 [semacquire, 26 minutes]:
sync.runtime_Semacquire(0xc422e2014c)
	/opt/go/src/runtime/sema.go:56 +0x39
sync.(*RWMutex).RLock(0xc422e20140)
	/opt/go/src/sync/rwmutex.go:50 +0x49
github.com/hyperledger/fabric/core/ledger/kvledger.(*kvLedger).GetBlockByTxID(0xc421d61bd0, 0xc423197040, 0x40, 0xc423196d40, 0x40, 0xc423197040)
	/opt/gopath/src/github.com/hyperledger/fabric/core/ledger/kvledger/kv_ledger.go:213 +0x7f
github.com/hyperledger/fabric/core/scc/qscc.getBlockByTxID(0x1152680, 0xc422fd0120, 0xc423196d40, 0x40, 0x40, 0x0, 0x0, 0x0, 0x0, 0x0, ...)
	/opt/gopath/src/github.com/hyperledger/fabric/core/scc/qscc/query.go:195 +0xb9
github.com/hyperledger/fabric/core/scc/qscc.(*LedgerQuerier).Invoke(0xc4203f40e0, 0x1154180, 0xc4220a21e0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0)
	/opt/gopath/src/github.com/hyperledger/fabric/core/scc/qscc/query.go:110 +0xa5a
github.com/hyperledger/fabric/core/chaincode/shim.(*Handler).handleTransaction.func1(0xc421d2b5c0, 0xc420303f20, 0xc422830780)
	/opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/shim/handler.go:273 +0x4f9
--
goroutine 30366 [semacquire, 24 minutes]:
sync.runtime_Semacquire(0xc422e2014c)
	/opt/go/src/runtime/sema.go:56 +0x39
sync.(*RWMutex).RLock(0xc422e20140)
	/opt/go/src/sync/rwmutex.go:50 +0x49
github.com/hyperledger/fabric/core/ledger/kvledger.(*kvLedger).GetBlockByTxID(0xc421d61bd0, 0xc4238e5f00, 0x40, 0xc4238e5c00, 0x40, 0xc4238e5f00)
	/opt/gopath/src/github.com/hyperledger/fabric/core/ledger/kvledger/kv_ledger.go:213 +0x7f
github.com/hyperledger/fabric/core/scc/qscc.getBlockByTxID(0x1152680, 0xc422fd0120, 0xc4238e5c00, 0x40, 0x40, 0x0, 0x0, 0x0, 0x0, 0x0, ...)
	/opt/gopath/src/github.com/hyperledger/fabric/core/scc/qscc/query.go:195 +0xb9
github.com/hyperledger/fabric/core/scc/qscc.(*LedgerQuerier).Invoke(0xc4203f40e0, 0x1154180, 0xc422e959a0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0)
	/opt/gopath/src/github.com/hyperledger/fabric/core/scc/qscc/query.go:110 +0xa5a
github.com/hyperledger/fabric/core/chaincode/shim.(*Handler).handleTransaction.func1(0xc421d2b5c0, 0xc420303f20, 0xc423aec660)
	/opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/shim/handler.go:273 +0x4f9
--
goroutine 30441 [semacquire, 24 minutes]:
sync.runtime_Semacquire(0xc422e2014c)
	/opt/go/src/runtime/sema.go:56 +0x39
sync.(*RWMutex).RLock(0xc422e20140)
	/opt/go/src/sync/rwmutex.go:50 +0x49
github.com/hyperledger/fabric/core/ledger/kvledger.(*kvLedger).GetBlockchainInfo(0xc421d61bd0, 0x0, 0x0, 0x0)
	/opt/gopath/src/github.com/hyperledger/fabric/core/ledger/kvledger/kv_ledger.go:177 +0x7c
github.com/hyperledger/fabric/common/ledger/blockledger/file.(*FileLedger).Iterator(0xc421d22880, 0xc420273550, 0xc421d22880, 0xc422f98c40, 0x4)
	/opt/gopath/src/github.com/hyperledger/fabric/common/ledger/blockledger/file/impl.go:103 +0x1aa
github.com/hyperledger/fabric/common/deliver.(*Handler).deliverBlocks(0xc42044b800, 0x114a2c0, 0xc42281a4e0, 0xc423b8bba0, 0xc42281a570, 0x0, 0x0)
	/opt/gopath/src/github.com/hyperledger/fabric/common/deliver/deliver.go:227 +0x1124
github.com/hyperledger/fabric/common/deliver.(*Handler).Handle(0xc42044b800, 0x114a2c0, 0xc42281a4e0, 0xc423b8bba0, 0xc420272e10, 0x0)
	/opt/gopath/src/github.com/hyperledger/fabric/common/deliver/deliver.go:153 +0x293
--
goroutine 32137 [semacquire, 14 minutes]:
sync.runtime_Semacquire(0xc422e2014c)
	/opt/go/src/runtime/sema.go:56 +0x39
sync.(*RWMutex).RLock(0xc422e20140)
	/opt/go/src/sync/rwmutex.go:50 +0x49
github.com/hyperledger/fabric/core/ledger/kvledger.(*kvLedger).GetBlockchainInfo(0xc421d61bd0, 0x0, 0x0, 0x0)
	/opt/gopath/src/github.com/hyperledger/fabric/core/ledger/kvledger/kv_ledger.go:177 +0x7c
github.com/hyperledger/fabric/common/ledger/blockledger/file.(*FileLedger).Iterator(0xc421d22880, 0xc42209f060, 0xc421d22880, 0xc423299a40, 0x4)
	/opt/gopath/src/github.com/hyperledger/fabric/common/ledger/blockledger/file/impl.go:103 +0x1aa
github.com/hyperledger/fabric/common/deliver.(*Handler).deliverBlocks(0xc42044b800, 0x114a2c0, 0xc423182630, 0xc4244bfba0, 0xc4231826c0, 0x0, 0x0)
	/opt/gopath/src/github.com/hyperledger/fabric/common/deliver/deliver.go:227 +0x1124
github.com/hyperledger/fabric/common/deliver.(*Handler).Handle(0xc42044b800, 0x114a2c0, 0xc423182630, 0xc4244bfba0, 0xc42209e670, 0x0)
	/opt/gopath/src/github.com/hyperledger/fabric/common/deliver/deliver.go:153 +0x293
--
goroutine 32158 [semacquire, 14 minutes]:
sync.runtime_Semacquire(0xc422e2014c)
	/opt/go/src/runtime/sema.go:56 +0x39
sync.(*RWMutex).RLock(0xc422e20140)
	/opt/go/src/sync/rwmutex.go:50 +0x49
github.com/hyperledger/fabric/core/ledger/kvledger.(*kvLedger).GetBlockByTxID(0xc421d61bd0, 0xc4204fe140, 0x40, 0xc421eb7d00, 0x40, 0xc4204fe140)
	/opt/gopath/src/github.com/hyperledger/fabric/core/ledger/kvledger/kv_ledger.go:213 +0x7f
github.com/hyperledger/fabric/core/scc/qscc.getBlockByTxID(0x1152680, 0xc422fd0120, 0xc421eb7d00, 0x40, 0x40, 0x0, 0x0, 0x0, 0x0, 0x0, ...)
	/opt/gopath/src/github.com/hyperledger/fabric/core/scc/qscc/query.go:195 +0xb9
github.com/hyperledger/fabric/core/scc/qscc.(*LedgerQuerier).Invoke(0xc4203f40e0, 0x1154180, 0xc42032c460, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0)
	/opt/gopath/src/github.com/hyperledger/fabric/core/scc/qscc/query.go:110 +0xa5a
github.com/hyperledger/fabric/core/chaincode/shim.(*Handler).handleTransaction.func1(0xc421d2b5c0, 0xc420303f20, 0xc4202385a0)
	/opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/shim/handler.go:273 +0x4f9
--
goroutine 29854 [semacquire, 26 minutes]:
sync.runtime_Semacquire(0xc422e2014c)
	/opt/go/src/runtime/sema.go:56 +0x39
sync.(*RWMutex).RLock(0xc422e20140)
	/opt/go/src/sync/rwmutex.go:50 +0x49
github.com/hyperledger/fabric/core/ledger/kvledger.(*kvLedger).GetBlockchainInfo(0xc421d61bd0, 0x0, 0x0, 0x0)
	/opt/gopath/src/github.com/hyperledger/fabric/core/ledger/kvledger/kv_ledger.go:177 +0x7c
github.com/hyperledger/fabric/common/ledger/blockledger/file.(*FileLedger).Iterator(0xc421d22880, 0xc422637bd0, 0xc421d22880, 0xc42024f8c0, 0x4)
	/opt/gopath/src/github.com/hyperledger/fabric/common/ledger/blockledger/file/impl.go:103 +0x1aa
github.com/hyperledger/fabric/common/deliver.(*Handler).deliverBlocks(0xc42044b800, 0x114a2c0, 0xc4244b0780, 0xc425169ba0, 0xc4244b07e0, 0x0, 0x0)
	/opt/gopath/src/github.com/hyperledger/fabric/common/deliver/deliver.go:227 +0x1124
github.com/hyperledger/fabric/common/deliver.(*Handler).Handle(0xc42044b800, 0x114a2c0, 0xc4244b0780, 0xc425169ba0, 0xc4226374a0, 0x0)
	/opt/gopath/src/github.com/hyperledger/fabric/common/deliver/deliver.go:153 +0x293
--
goroutine 29914 [semacquire, 26 minutes]:
sync.runtime_Semacquire(0xc422e2014c)
	/opt/go/src/runtime/sema.go:56 +0x39
sync.(*RWMutex).RLock(0xc422e20140)
	/opt/go/src/sync/rwmutex.go:50 +0x49
github.com/hyperledger/fabric/core/ledger/kvledger.(*kvLedger).GetBlockByTxID(0xc421d61bd0, 0xc4217e9700, 0x40, 0xc4217e93c0, 0x40, 0xc4217e9700)
	/opt/gopath/src/github.com/hyperledger/fabric/core/ledger/kvledger/kv_ledger.go:213 +0x7f
github.com/hyperledger/fabric/core/scc/qscc.getBlockByTxID(0x1152680, 0xc422fd0120, 0xc4217e93c0, 0x40, 0x40, 0x0, 0x0, 0x0, 0x0, 0x0, ...)
	/opt/gopath/src/github.com/hyperledger/fabric/core/scc/qscc/query.go:195 +0xb9
github.com/hyperledger/fabric/core/scc/qscc.(*LedgerQuerier).Invoke(0xc4203f40e0, 0x1154180, 0xc421d312c0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0)
	/opt/gopath/src/github.com/hyperledger/fabric/core/scc/qscc/query.go:110 +0xa5a
github.com/hyperledger/fabric/core/chaincode/shim.(*Handler).handleTransaction.func1(0xc421d2b5c0, 0xc420303f20, 0xc423d89620)
	/opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/shim/handler.go:273 +0x4f9
--
goroutine 29982 [semacquire, 26 minutes]:
sync.runtime_Semacquire(0xc422e2014c)
	/opt/go/src/runtime/sema.go:56 +0x39
sync.(*RWMutex).RLock(0xc422e20140)
	/opt/go/src/sync/rwmutex.go:50 +0x49
github.com/hyperledger/fabric/core/ledger/kvledger.(*kvLedger).GetBlockByTxID(0xc421d61bd0, 0xc423197e00, 0x40, 0xc423197a40, 0x40, 0xc423197e00)
	/opt/gopath/src/github.com/hyperledger/fabric/core/ledger/kvledger/kv_ledger.go:213 +0x7f
github.com/hyperledger/fabric/core/scc/qscc.getBlockByTxID(0x1152680, 0xc422fd0120, 0xc423197a40, 0x40, 0x40, 0x0, 0x0, 0x0, 0x0, 0x0, ...)
	/opt/gopath/src/github.com/hyperledger/fabric/core/scc/qscc/query.go:195 +0xb9
github.com/hyperledger/fabric/core/scc/qscc.(*LedgerQuerier).Invoke(0xc4203f40e0, 0x1154180, 0xc4220a2780, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0)
	/opt/gopath/src/github.com/hyperledger/fabric/core/scc/qscc/query.go:110 +0xa5a
github.com/hyperledger/fabric/core/chaincode/shim.(*Handler).handleTransaction.func1(0xc421d2b5c0, 0xc420303f20, 0xc422831020)
	/opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/shim/handler.go:273 +0x4f9
--
goroutine 30310 [semacquire, 24 minutes]:
sync.runtime_Semacquire(0xc422e2014c)
	/opt/go/src/runtime/sema.go:56 +0x39
sync.(*RWMutex).RLock(0xc422e20140)
	/opt/go/src/sync/rwmutex.go:50 +0x49
github.com/hyperledger/fabric/core/ledger/kvledger.(*kvLedger).GetBlockByTxID(0xc421d61bd0, 0xc4243a4040, 0x40, 0xc4247532c0, 0x40, 0xc4243a4040)
	/opt/gopath/src/github.com/hyperledger/fabric/core/ledger/kvledger/kv_ledger.go:213 +0x7f
github.com/hyperledger/fabric/core/scc/qscc.getBlockByTxID(0x1152680, 0xc422fd0120, 0xc4247532c0, 0x40, 0x40, 0x0, 0x0, 0x0, 0x0, 0x0, ...)
	/opt/gopath/src/github.com/hyperledger/fabric/core/scc/qscc/query.go:195 +0xb9
github.com/hyperledger/fabric/core/scc/qscc.(*LedgerQuerier).Invoke(0xc4203f40e0, 0x1154180, 0xc422e76d20, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0)
	/opt/gopath/src/github.com/hyperledger/fabric/core/scc/qscc/query.go:110 +0xa5a
github.com/hyperledger/fabric/core/chaincode/shim.(*Handler).handleTransaction.func1(0xc421d2b5c0, 0xc420303f20, 0xc4248fa4e0)
	/opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/shim/handler.go:273 +0x4f9
--
goroutine 30148 [semacquire, 26 minutes]:
sync.runtime_Semacquire(0xc422e2014c)
	/opt/go/src/runtime/sema.go:56 +0x39
sync.(*RWMutex).RLock(0xc422e20140)
	/opt/go/src/sync/rwmutex.go:50 +0x49
github.com/hyperledger/fabric/core/ledger/kvledger.(*kvLedger).GetBlockByTxID(0xc421d61bd0, 0xc4238e4900, 0x40, 0xc4238e4500, 0x40, 0xc4238e4900)
	/opt/gopath/src/github.com/hyperledger/fabric/core/ledger/kvledger/kv_ledger.go:213 +0x7f
github.com/hyperledger/fabric/core/scc/qscc.getBlockByTxID(0x1152680, 0xc422fd0120, 0xc4238e4500, 0x40, 0x40, 0x0, 0x0, 0x0, 0x0, 0x0, ...)
	/opt/gopath/src/github.com/hyperledger/fabric/core/scc/qscc/query.go:195 +0xb9
github.com/hyperledger/fabric/core/scc/qscc.(*LedgerQuerier).Invoke(0xc4203f40e0, 0x1154180, 0xc421ef7220, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0)
	/opt/gopath/src/github.com/hyperledger/fabric/core/scc/qscc/query.go:110 +0xa5a
github.com/hyperledger/fabric/core/chaincode/shim.(*Handler).handleTransaction.func1(0xc421d2b5c0, 0xc420303f20, 0xc426bb08a0)
	/opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/shim/handler.go:273 +0x4f9
--
goroutine 30179 [semacquire, 26 minutes]:
sync.runtime_Semacquire(0xc422e2014c)
	/opt/go/src/runtime/sema.go:56 +0x39
sync.(*RWMutex).RLock(0xc422e20140)
	/opt/go/src/sync/rwmutex.go:50 +0x49
github.com/hyperledger/fabric/core/ledger/kvledger.(*kvLedger).GetBlockchainInfo(0xc421d61bd0, 0x0, 0x0, 0x0)
	/opt/gopath/src/github.com/hyperledger/fabric/core/ledger/kvledger/kv_ledger.go:177 +0x7c
github.com/hyperledger/fabric/common/ledger/blockledger/file.(*FileLedger).Iterator(0xc421d22880, 0xc426d7ea50, 0xc421d22880, 0xc426ac1140, 0x4)
	/opt/gopath/src/github.com/hyperledger/fabric/common/ledger/blockledger/file/impl.go:103 +0x1aa
github.com/hyperledger/fabric/common/deliver.(*Handler).deliverBlocks(0xc42044b800, 0x114a2c0, 0xc426d01f50, 0xc423645ba0, 0xc426dd0000, 0x0, 0x0)
	/opt/gopath/src/github.com/hyperledger/fabric/common/deliver/deliver.go:227 +0x1124
github.com/hyperledger/fabric/common/deliver.(*Handler).Handle(0xc42044b800, 0x114a2c0, 0xc426d01f50, 0xc423645ba0, 0xc426d7e320, 0x0)
	/opt/gopath/src/github.com/hyperledger/fabric/common/deliver/deliver.go:153 +0x293
--
goroutine 29937 [semacquire, 26 minutes]:
sync.runtime_Semacquire(0xc422e2014c)
	/opt/go/src/runtime/sema.go:56 +0x39
sync.(*RWMutex).RLock(0xc422e20140)
	/opt/go/src/sync/rwmutex.go:50 +0x49
github.com/hyperledger/fabric/core/ledger/kvledger.(*kvLedger).GetBlockchainInfo(0xc421d61bd0, 0x0, 0x0, 0x0)
	/opt/gopath/src/github.com/hyperledger/fabric/core/ledger/kvledger/kv_ledger.go:177 +0x7c
github.com/hyperledger/fabric/common/ledger/blockledger/file.(*FileLedger).Iterator(0xc421d22880, 0xc42355f450, 0xc421d22880, 0xc42426d0c0, 0x4)
	/opt/gopath/src/github.com/hyperledger/fabric/common/ledger/blockledger/file/impl.go:103 +0x1aa
github.com/hyperledger/fabric/common/deliver.(*Handler).deliverBlocks(0xc42044b800, 0x114a2c0, 0xc4238814d0, 0xc42025fba0, 0xc423881530, 0x0, 0x0)
	/opt/gopath/src/github.com/hyperledger/fabric/common/deliver/deliver.go:227 +0x1124
github.com/hyperledger/fabric/common/deliver.(*Handler).Handle(0xc42044b800, 0x114a2c0, 0xc4238814d0, 0xc42025fba0, 0xc42355ed20, 0x0)
	/opt/gopath/src/github.com/hyperledger/fabric/common/deliver/deliver.go:153 +0x293
--
goroutine 30106 [semacquire, 26 minutes]:
sync.runtime_Semacquire(0xc422e2014c)
	/opt/go/src/runtime/sema.go:56 +0x39
sync.(*RWMutex).RLock(0xc422e20140)
	/opt/go/src/sync/rwmutex.go:50 +0x49
github.com/hyperledger/fabric/core/ledger/kvledger.(*kvLedger).GetBlockchainInfo(0xc421d61bd0, 0x0, 0x0, 0x0)
	/opt/gopath/src/github.com/hyperledger/fabric/core/ledger/kvledger/kv_ledger.go:177 +0x7c
github.com/hyperledger/fabric/common/ledger/blockledger/file.(*FileLedger).Iterator(0xc421d22880, 0xc425abf000, 0xc421d22880, 0xc425927c00, 0x4)
	/opt/gopath/src/github.com/hyperledger/fabric/common/ledger/blockledger/file/impl.go:103 +0x1aa
github.com/hyperledger/fabric/common/deliver.(*Handler).deliverBlocks(0xc42044b800, 0x114a2c0, 0xc425ac04e0, 0xc4232d1ba0, 0xc425ac0540, 0x0, 0x0)
	/opt/gopath/src/github.com/hyperledger/fabric/common/deliver/deliver.go:227 +0x1124
github.com/hyperledger/fabric/common/deliver.(*Handler).Handle(0xc42044b800, 0x114a2c0, 0xc425ac04e0, 0xc4232d1ba0, 0xc425abe8d0, 0x0)
	/opt/gopath/src/github.com/hyperledger/fabric/common/deliver/deliver.go:153 +0x293
--
goroutine 29964 [semacquire, 26 minutes]:
sync.runtime_Semacquire(0xc422e2014c)
	/opt/go/src/runtime/sema.go:56 +0x39
sync.(*RWMutex).RLock(0xc422e20140)
	/opt/go/src/sync/rwmutex.go:50 +0x49
github.com/hyperledger/fabric/core/ledger/kvledger.(*kvLedger).GetBlockchainInfo(0xc421d61bd0, 0x0, 0x0, 0x0)
	/opt/gopath/src/github.com/hyperledger/fabric/core/ledger/kvledger/kv_ledger.go:177 +0x7c
github.com/hyperledger/fabric/common/ledger/blockledger/file.(*FileLedger).Iterator(0xc421d22880, 0xc42284a850, 0xc421d22880, 0xc42426d600, 0x4)
	/opt/gopath/src/github.com/hyperledger/fabric/common/ledger/blockledger/file/impl.go:103 +0x1aa
github.com/hyperledger/fabric/common/deliver.(*Handler).deliverBlocks(0xc42044b800, 0x114a2c0, 0xc423aaacc0, 0xc423647ba0, 0xc423aaad50, 0x0, 0x0)
	/opt/gopath/src/github.com/hyperledger/fabric/common/deliver/deliver.go:227 +0x1124
github.com/hyperledger/fabric/common/deliver.(*Handler).Handle(0xc42044b800, 0x114a2c0, 0xc423aaacc0, 0xc423647ba0, 0xc42284a120, 0x0)
	/opt/gopath/src/github.com/hyperledger/fabric/common/deliver/deliver.go:153 +0x293
--
goroutine 30491 [semacquire, 24 minutes]:
sync.runtime_Semacquire(0xc422e2014c)
	/opt/go/src/runtime/sema.go:56 +0x39
sync.(*RWMutex).RLock(0xc422e20140)
	/opt/go/src/sync/rwmutex.go:50 +0x49
github.com/hyperledger/fabric/core/ledger/kvledger.(*kvLedger).GetBlockByTxID(0xc421d61bd0, 0xc421eb7a80, 0x40, 0xc421eb7780, 0x40, 0xc421eb7a80)
	/opt/gopath/src/github.com/hyperledger/fabric/core/ledger/kvledger/kv_ledger.go:213 +0x7f
github.com/hyperledger/fabric/core/scc/qscc.getBlockByTxID(0x1152680, 0xc422fd0120, 0xc421eb7780, 0x40, 0x40, 0x0, 0x0, 0x0, 0x0, 0x0, ...)
	/opt/gopath/src/github.com/hyperledger/fabric/core/scc/qscc/query.go:195 +0xb9
github.com/hyperledger/fabric/core/scc/qscc.(*LedgerQuerier).Invoke(0xc4203f40e0, 0x1154180, 0xc421d30b40, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0)
	/opt/gopath/src/github.com/hyperledger/fabric/core/scc/qscc/query.go:110 +0xa5a
github.com/hyperledger/fabric/core/chaincode/shim.(*Handler).handleTransaction.func1(0xc421d2b5c0, 0xc420303f20, 0xc423bef860)
	/opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/shim/handler.go:273 +0x4f9
--
goroutine 30283 [semacquire, 24 minutes]:
sync.runtime_Semacquire(0xc422e2014c)
	/opt/go/src/runtime/sema.go:56 +0x39
sync.(*RWMutex).RLock(0xc422e20140)
	/opt/go/src/sync/rwmutex.go:50 +0x49
github.com/hyperledger/fabric/core/ledger/kvledger.(*kvLedger).GetBlockchainInfo(0xc421d61bd0, 0x0, 0x0, 0x0)
	/opt/gopath/src/github.com/hyperledger/fabric/core/ledger/kvledger/kv_ledger.go:177 +0x7c
github.com/hyperledger/fabric/common/ledger/blockledger/file.(*FileLedger).Iterator(0xc421d22880, 0xc422ea1260, 0xc421d22880, 0xc424809040, 0x4)
	/opt/gopath/src/github.com/hyperledger/fabric/common/ledger/blockledger/file/impl.go:103 +0x1aa
github.com/hyperledger/fabric/common/deliver.(*Handler).deliverBlocks(0xc42044b800, 0x114a2c0, 0xc4242784b0, 0xc422e9fba0, 0xc424278570, 0x0, 0x0)
	/opt/gopath/src/github.com/hyperledger/fabric/common/deliver/deliver.go:227 +0x1124
github.com/hyperledger/fabric/common/deliver.(*Handler).Handle(0xc42044b800, 0x114a2c0, 0xc4242784b0, 0xc422e9fba0, 0xc422ea0b30, 0x0)
	/opt/gopath/src/github.com/hyperledger/fabric/common/deliver/deliver.go:153 +0x293
--
goroutine 30161 [semacquire, 26 minutes]:
sync.runtime_Semacquire(0xc422e2014c)
	/opt/go/src/runtime/sema.go:56 +0x39
sync.(*RWMutex).RLock(0xc422e20140)
	/opt/go/src/sync/rwmutex.go:50 +0x49
github.com/hyperledger/fabric/core/ledger/kvledger.(*kvLedger).GetBlockchainInfo(0xc421d61bd0, 0x0, 0x0, 0x0)
	/opt/gopath/src/github.com/hyperledger/fabric/core/ledger/kvledger/kv_ledger.go:177 +0x7c
github.com/hyperledger/fabric/common/ledger/blockledger/file.(*FileLedger).Iterator(0xc421d22880, 0xc426cf4530, 0xc421d22880, 0xc426aece80, 0x4)
	/opt/gopath/src/github.com/hyperledger/fabric/common/ledger/blockledger/file/impl.go:103 +0x1aa
github.com/hyperledger/fabric/common/deliver.(*Handler).deliverBlocks(0xc42044b800, 0x114a2c0, 0xc426c11f80, 0xc422e01ba0, 0xc426cee000, 0x0, 0x0)
	/opt/gopath/src/github.com/hyperledger/fabric/common/deliver/deliver.go:227 +0x1124
github.com/hyperledger/fabric/common/deliver.(*Handler).Handle(0xc42044b800, 0x114a2c0, 0xc426c11f80, 0xc422e01ba0, 0xc426c43e00, 0x0)
	/opt/gopath/src/github.com/hyperledger/fabric/common/deliver/deliver.go:153 +0x293
--
goroutine 32078 [semacquire, 14 minutes]:
sync.runtime_Semacquire(0xc422e2014c)
	/opt/go/src/runtime/sema.go:56 +0x39
sync.(*RWMutex).RLock(0xc422e20140)
	/opt/go/src/sync/rwmutex.go:50 +0x49
github.com/hyperledger/fabric/core/ledger/kvledger.(*kvLedger).GetBlockchainInfo(0xc421d61bd0, 0x0, 0x0, 0x0)
	/opt/gopath/src/github.com/hyperledger/fabric/core/ledger/kvledger/kv_ledger.go:177 +0x7c
github.com/hyperledger/fabric/common/ledger/blockledger/file.(*FileLedger).Iterator(0xc421d22880, 0xc4225fd280, 0xc421d22880, 0xc423bc9240, 0x4)
	/opt/gopath/src/github.com/hyperledger/fabric/common/ledger/blockledger/file/impl.go:103 +0x1aa
github.com/hyperledger/fabric/common/deliver.(*Handler).deliverBlocks(0xc42044b800, 0x114a2c0, 0xc42475a3c0, 0xc4244c1ba0, 0xc42475a450, 0x0, 0x0)
	/opt/gopath/src/github.com/hyperledger/fabric/common/deliver/deliver.go:227 +0x1124
github.com/hyperledger/fabric/common/deliver.(*Handler).Handle(0xc42044b800, 0x114a2c0, 0xc42475a3c0, 0xc4244c1ba0, 0xc4225fcb40, 0x0)
	/opt/gopath/src/github.com/hyperledger/fabric/common/deliver/deliver.go:153 +0x293
--
goroutine 31565 [semacquire, 18 minutes]:
sync.runtime_Semacquire(0xc422e2014c)
	/opt/go/src/runtime/sema.go:56 +0x39
sync.(*RWMutex).RLock(0xc422e20140)
	/opt/go/src/sync/rwmutex.go:50 +0x49
github.com/hyperledger/fabric/core/ledger/kvledger.(*kvLedger).GetBlockchainInfo(0xc421d61bd0, 0x0, 0x0, 0x0)
	/opt/gopath/src/github.com/hyperledger/fabric/core/ledger/kvledger/kv_ledger.go:177 +0x7c
github.com/hyperledger/fabric/common/ledger/blockledger/file.(*FileLedger).Iterator(0xc421d22880, 0xc421684f40, 0xc421d22880, 0xc4239d8380, 0x4)
	/opt/gopath/src/github.com/hyperledger/fabric/common/ledger/blockledger/file/impl.go:103 +0x1aa
github.com/hyperledger/fabric/common/deliver.(*Handler).deliverBlocks(0xc42044b800, 0x114a2c0, 0xc4231f3590, 0xc4246bfba0, 0xc4231f3620, 0x0, 0x0)
	/opt/gopath/src/github.com/hyperledger/fabric/common/deliver/deliver.go:227 +0x1124
github.com/hyperledger/fabric/common/deliver.(*Handler).Handle(0xc42044b800, 0x114a2c0, 0xc4231f3590, 0xc4246bfba0, 0xc421684810, 0x0)
	/opt/gopath/src/github.com/hyperledger/fabric/common/deliver/deliver.go:153 +0x293
--
goroutine 31601 [semacquire, 18 minutes]:
sync.runtime_Semacquire(0xc422e2014c)
	/opt/go/src/runtime/sema.go:56 +0x39
sync.(*RWMutex).RLock(0xc422e20140)
	/opt/go/src/sync/rwmutex.go:50 +0x49
github.com/hyperledger/fabric/core/ledger/kvledger.(*kvLedger).GetBlockByTxID(0xc421d61bd0, 0xc42388db80, 0x40, 0xc42388d800, 0x40, 0xc42388db80)
	/opt/gopath/src/github.com/hyperledger/fabric/core/ledger/kvledger/kv_ledger.go:213 +0x7f
github.com/hyperledger/fabric/core/scc/qscc.getBlockByTxID(0x1152680, 0xc422fd0120, 0xc42388d800, 0x40, 0x40, 0x0, 0x0, 0x0, 0x0, 0x0, ...)
	/opt/gopath/src/github.com/hyperledger/fabric/core/scc/qscc/query.go:195 +0xb9
github.com/hyperledger/fabric/core/scc/qscc.(*LedgerQuerier).Invoke(0xc4203f40e0, 0x1154180, 0xc422e777c0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0)
	/opt/gopath/src/github.com/hyperledger/fabric/core/scc/qscc/query.go:110 +0xa5a
github.com/hyperledger/fabric/core/chaincode/shim.(*Handler).handleTransaction.func1(0xc421d2b5c0, 0xc420303f20, 0xc422822360)
	/opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/shim/handler.go:273 +0x4f9
--
goroutine 31554 [semacquire, 18 minutes]:
sync.runtime_Semacquire(0xc422e2014c)
	/opt/go/src/runtime/sema.go:56 +0x39
sync.(*RWMutex).RLock(0xc422e20140)
	/opt/go/src/sync/rwmutex.go:50 +0x49
github.com/hyperledger/fabric/core/ledger/kvledger.(*kvLedger).GetBlockchainInfo(0xc421d61bd0, 0x0, 0x0, 0x0)
	/opt/gopath/src/github.com/hyperledger/fabric/core/ledger/kvledger/kv_ledger.go:177 +0x7c
github.com/hyperledger/fabric/common/ledger/blockledger/file.(*FileLedger).Iterator(0xc421d22880, 0xc4216845d0, 0xc421d22880, 0xc4239d8080, 0x4)
	/opt/gopath/src/github.com/hyperledger/fabric/common/ledger/blockledger/file/impl.go:103 +0x1aa
github.com/hyperledger/fabric/common/deliver.(*Handler).deliverBlocks(0xc42044b800, 0x114a2c0, 0xc4231f2000, 0xc426d1dba0, 0xc4231f2090, 0x0, 0x0)
	/opt/gopath/src/github.com/hyperledger/fabric/common/deliver/deliver.go:227 +0x1124
github.com/hyperledger/fabric/common/deliver.(*Handler).Handle(0xc42044b800, 0x114a2c0, 0xc4231f2000, 0xc426d1dba0, 0xc426257ea0, 0x0)
	/opt/gopath/src/github.com/hyperledger/fabric/common/deliver/deliver.go:153 +0x293
...
{code};;;","31/Aug/18 8:07 AM;sykesm;The lock that the routines are waiting on was introduced in FAB-7595.

The lock is acquired and held here:

{code}
goroutine 391 [semacquire, 26 minutes]:
sync.runtime_SemacquireMutex(0xc422db083c, 0xc422e74900)
	/opt/go/src/runtime/sema.go:71 +0x3d
sync.(*Mutex).Lock(0xc422db0838)
	/opt/go/src/sync/mutex.go:134 +0x108
github.com/hyperledger/fabric/common/ledger/blkstorage/fsblkstorage.(*blockfileMgr).updateCheckpoint(0xc422d87200, 0xc4200372e0)
	/opt/gopath/src/github.com/hyperledger/fabric/common/ledger/blkstorage/fsblkstorage/blockfile_mgr.go:431 +0x3b
github.com/hyperledger/fabric/common/ledger/blkstorage/fsblkstorage.(*blockfileMgr).addBlock(0xc422d87200, 0xc421709320, 0x1, 0x1)
	/opt/gopath/src/github.com/hyperledger/fabric/common/ledger/blkstorage/fsblkstorage/blockfile_mgr.go:319 +0x6c2
github.com/hyperledger/fabric/common/ledger/blkstorage/fsblkstorage.(*fsBlockStore).AddBlock(0xc422d98a40, 0xc421709320, 0x0, 0x0)
	/opt/gopath/src/github.com/hyperledger/fabric/common/ledger/blkstorage/fsblkstorage/fs_blockstore.go:43 +0x39
github.com/hyperledger/fabric/core/ledger/ledgerstorage.(*Store).CommitWithPvtData(0xc422d9acc0, 0xc420305cb0, 0x0, 0x0)
	/opt/gopath/src/github.com/hyperledger/fabric/core/ledger/ledgerstorage/store.go:126 +0x32a
github.com/hyperledger/fabric/core/ledger/kvledger.(*kvLedger).CommitWithPvtData(0xc421d61bd0, 0xc420305cb0, 0x0, 0x0)
	/opt/gopath/src/github.com/hyperledger/fabric/core/ledger/kvledger/kv_ledger.go:266 +0x2db
github.com/hyperledger/fabric/core/committer.(*LedgerCommitter).CommitWithPvtData(0xc421d23e80, 0xc420305cb0, 0xc42516fd40, 0xdf8475800)
	/opt/gopath/src/github.com/hyperledger/fabric/core/committer/committer_impl.go:105 +0x6b
github.com/hyperledger/fabric/gossip/privdata.(*coordinator).StoreBlock(0xc421ef74a0, 0xc421709320, 0x0, 0x0, 0x0, 0xc423937e78, 0x7329db)
	/opt/gopath/src/github.com/hyperledger/fabric/gossip/privdata/coordinator.go:236 +0xc3b
github.com/hyperledger/fabric/gossip/state.(*GossipStateProviderImpl).commitBlock(0xc420165380, 0xc421709320, 0x0, 0x0, 0x0, 0x0, 0x0)
	/opt/gopath/src/github.com/hyperledger/fabric/gossip/state/state.go:771 +0x6c
github.com/hyperledger/fabric/gossip/state.(*GossipStateProviderImpl).deliverPayloads(0xc420165380)
	/opt/gopath/src/github.com/hyperledger/fabric/gossip/state/state.go:558 +0x3c5
created by github.com/hyperledger/fabric/gossip/state.NewGossipStateProvider
	/opt/gopath/src/github.com/hyperledger/fabric/gossip/state/state.go:239 +0x681
{code};;;","31/Aug/18 8:20 AM;sykesm;go routine 391 is waiting to acquire the lock associated with the blockfileMgr.cpInfoCond condition variable. This looks like it may be FAB-11094 or at least related.;;;","31/Aug/18 8:22 AM;sykesm;FAB-11094 was not included in 1.2.0 but merged into the release-1.2 tree.;;;","31/Aug/18 10:26 AM;manish-sethi;Thanks [~sykesm] for digging out out the traces. Yes, to me much likely this seems the issue FAB-11094 - specially with the presence of the following trace..

 

{noformat}
goroutine 23376 [semacquire, 28 minutes]:
 sync.runtime_SemacquireMutex(0xc422db083c, 0xc4232d3600)
 /opt/go/src/runtime/sema.go:71 +0x3d
 sync.(*Mutex).Lock(0xc422db0838)
 /opt/go/src/sync/mutex.go:134 +0x108
 github.com/hyperledger/fabric/common/ledger/blkstorage/fsblkstorage.(*blocksItr).Close(0xc4216ccdb0)
 /opt/gopath/src/github.com/hyperledger/fabric/common/ledger/blkstorage/fsblkstorage/blocks_itr.go:98 +0x82
 github.com/hyperledger/fabric/core/ledger/kvledger.(*blocksItr).Close(0xc421f15ec0)
 /opt/gopath/src/github.com/hyperledger/fabric/core/ledger/kvledger/kv_ledger.go:342 +0x34
 github.com/hyperledger/fabric/common/ledger/blockledger/file.(*fileLedgerIterator).Close(0xc421f15ee0)
 /opt/gopath/src/github.com/hyperledger/fabric/common/ledger/blockledger/file/impl.go:92 +0x34
 github.com/hyperledger/fabric/common/deliver.(*Handler).deliverBlocks(0xc42044b800, 0x114a2c0, 0xc4216cc780, 0xc4232d3ba0, 0xc4216cc7e0, 0x11332c0, 0xc421df7e60)
 /opt/gopath/src/github.com/hyperledger/fabric/common/deliver/deliver.go:262 +0x1ef7
 github.com/hyperledger/fabric/common/deliver.(*Handler).Handle(0xc42044b800, 0x114a2c0, 0xc4216cc780, 0xc4232d3ba0, 0xc422ffc910, 0x0)
 /opt/gopath/src/github.com/hyperledger/fabric/common/deliver/deliver.go:153 +0x293
 github.com/hyperledger/fabric/core/peer.(*server).Deliver(0xc4202dc1d0, 0x114e760, 0xc422ffc910, 0x0, 0x0)
 /opt/gopath/src/github.com/hyperledger/fabric/core/peer/deliverevents.go:135 +0x195
 github.com/hyperledger/fabric/protos/peer._Deliver_Deliver_Handler(0xf1e8c0, 0xc4202dc1d0, 0x114d0e0, 0xc4203bba20, 0x19a09e8, 0xc4216cc780)
 /opt/gopath/src/github.com/hyperledger/fabric/protos/peer/events.pb.go:1099 +0xb2
 github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*Server).processStreamingRPC(0xc4200e02c0, 0x114dbc0, 0xc422716a80, 0xc4228e5680, 0xc42044b890, 0x188dc80, 0xc4216cc750, 0x0, 0x0)
 /opt/gopath/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/server.go:1059 +0xa12
 github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*Server).handleStream(0xc4200e02c0, 0x114dbc0, 0xc422716a80, 0xc4228e5680, 0xc4216cc750)
 /opt/gopath/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/server.go:1152 +0x12b1
 github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*Server).serveStreams.func1.1(0xc421724260, 0xc4200e02c0, 0x114dbc0, 0xc422716a80, 0xc4228e5680)
 /opt/gopath/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/server.go:637 +0x9f
 created by github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*Server).serveStreams.func1
 /opt/gopath/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/server.go:635 +0xa1
{noformat}

And following is the single routine that's holding up this lock
{noformat}
goroutine 28324 [semacquire, 28 minutes]:
sync.runtime_SemacquireMutex(0xc4226745ec, 0xbeda208d1768d500)
	/opt/go/src/runtime/sema.go:71 +0x3d
sync.(*Mutex).Lock(0xc4226745e8)
	/opt/go/src/sync/mutex.go:134 +0x108
github.com/hyperledger/fabric/common/ledger/blkstorage/fsblkstorage.(*blocksItr).shouldClose(0xc4226bf590, 0x1086c00)
	/opt/gopath/src/github.com/hyperledger/fabric/common/ledger/blkstorage/fsblkstorage/blocks_itr.go:64 +0x34
github.com/hyperledger/fabric/common/ledger/blkstorage/fsblkstorage.(*blocksItr).waitForBlock(0xc4226bf590, 0x24, 0x0)
	/opt/gopath/src/github.com/hyperledger/fabric/common/ledger/blkstorage/fsblkstorage/blocks_itr.go:42 +0xe5
github.com/hyperledger/fabric/common/ledger/blkstorage/fsblkstorage.(*blocksItr).Next(0xc4226bf590, 0x0, 0x0, 0x0, 0x0)
	/opt/gopath/src/github.com/hyperledger/fabric/common/ledger/blkstorage/fsblkstorage/blocks_itr.go:72 +0x26f
github.com/hyperledger/fabric/core/ledger/kvledger.(*blocksItr).Next(0xc4231921a0, 0xc424423778, 0x465620, 0xc422dd670c, 0xc424423798)
	/opt/gopath/src/github.com/hyperledger/fabric/core/ledger/kvledger/kv_ledger.go:332 +0x38
github.com/hyperledger/fabric/common/ledger/blockledger/file.(*fileLedgerIterator).Next(0xc4231921c0, 0xc4244237c0, 0xb06787)
	/opt/gopath/src/github.com/hyperledger/fabric/common/ledger/blockledger/file/impl.go:69 +0x38
github.com/hyperledger/fabric/common/deliver.(*Handler).deliverBlocks.func1(0x1143340, 0xc4231921c0, 0xc4216a89d0, 0xc4216f7b80, 0xc422ecce40)
	/opt/gopath/src/github.com/hyperledger/fabric/common/deliver/deliver.go:255 +0x31
created by github.com/hyperledger/fabric/common/deliver.(*Handler).deliverBlocks
	/opt/gopath/src/github.com/hyperledger/fabric/common/deliver/deliver.go:254 +0x128e
{noformat};;;","31/Aug/18 11:09 AM;denyeart;[~rajanashutosh] [~zerppen] You can pull the latest release-1.2 images by copying the content of this script to a local file:
https://gerrit.hyperledger.org/r/#/c/23361/6/scripts/pull_build_artifacts.sh

Then run it with:

{code:java}
STABLE_VERSION=1.2.1-stable RELEASE_VERSION=1.2.1 ./pull_Build_Artifacts.sh --pull_Fabric_Images --pull_Ca_Images
{code}

It will pull down the latest 1.2.1 images from nexus and tag as latest.
;;;","31/Aug/18 12:31 PM;zerppen;[~denyeart] [~sykesm] thank you so much!;;;","31/Aug/18 12:32 PM;rajanashutosh;[~denyeart] - Thank you ;;;","05/Sep/18 12:53 AM;sykesm;If 1.2.1 does not resolve the issue, please reopen and provide updated logs that include the go routines after signally the peer.;;;","05/Sep/18 12:54 AM;sykesm;This appears to be FAB-11094. If, after pulling down 1.2.1, you continue to see this problem, please signal the deadlocked peer and collect goroutine dumps.;;;","18/Sep/18 7:18 PM;rajanashutosh;[~sykesm] [~denyeart][^Qscc_18_09_2018_issue.txt] [^Error_SIGABRT_18_09_2018.logs] - We tested out as told above with Fabric version 1.2.1 and found that issue still persists. Attached logs.;;;","19/Sep/18 8:45 PM;rajasushanth;Facing the same issue, Fyi I'm using 1.2.1 version. Attached the goroutine dumps [^qscc_error.txt];;;","19/Sep/18 10:02 PM;denyeart;[~sykesm] what's your opinion?;;;","19/Sep/18 11:26 PM;manish-sethi;[~rajasushanth] - can you check your version again? In the following trace

{noformat}
goroutine 23200 [semacquire, 45 minutes]:
sync.runtime_SemacquireMutex(0xc421f119c4, 0xc425125600)
	/opt/go/src/runtime/sema.go:71 +0x3d
sync.(*Mutex).Lock(0xc421f119c0)
	/opt/go/src/sync/mutex.go:134 +0x108
github.com/hyperledger/fabric/common/ledger/blkstorage/fsblkstorage.(*blocksItr).Close(0xc422448390)
	/opt/gopath/src/github.com/hyperledger/fabric/common/ledger/blkstorage/fsblkstorage/blocks_itr.go:98 +0x82
github.com/hyperledger/fabric/core/ledger/kvledger.(*blocksItr).Close(0xc422eb8080)
	/opt/gopath/src/github.com/hyperledger/fabric/core/ledger/kvledger/kv_ledger.go:342 +0x34
github.com/hyperledger/fabric/common/ledger/blockledger/file.(*fileLedgerIterator).Close(0xc422eb80a0)
	/opt/gopath/src/github.com/hyperledger/fabric/common/ledger/blockledger/file/impl.go:92 +0x34
github.com/hyperledger/fabric/common/deliver.(*Handler).deliverBlocks(0xc42056fd40, 0x114a2c0, 0xc42202d920, 0xc425125ba0, 0xc42202d980, 0x11332c0, 0xc425a0a540)
	/opt/gopath/src/github.com/hyperledger/fabric/common/deliver/deliver.go:262 +0x1ef7
github.com/hyperledger/fabric/common/deliver.(*Handler).Handle(0xc42056fd40, 0x114a2c0, 0xc42202d920, 0xc425125ba0, 0xc422e374a0, 0x0)
	/opt/gopath/src/github.com/hyperledger/fabric/common/deliver/deliver.go:153 +0x293
github.com/hyperledger/fabric/core/peer.(*server).Deliver(0xc4204df720, 0x114e760, 0xc422e374a0, 0x0, 0x0)
	/opt/gopath/src/github.com/hyperledger/fabric/core/peer/deliverevents.go:135 +0x195
github.com/hyperledger/fabric/protos/peer._Deliver_Deliver_Handler(0xf1e8c0, 0xc4204df720, 0x114d0e0, 0xc421ec3c30, 0x19a09e8, 0xc42202d920)
	/opt/gopath/src/github.com/hyperledger/fabric/protos/peer/events.pb.go:1099 +0xb2
github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*Server).processStreamingRPC(0xc4200ca580, 0x114dbc0, 0xc424de0a80, 0xc423be9b80, 0xc42056fdd0, 0x188dc80, 0xc42202d8f0, 0x0, 0x0)
	/opt/gopath/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/server.go:1059 +0xa12
github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*Server).handleStream(0xc4200ca580, 0x114dbc0, 0xc424de0a80, 0xc423be9b80, 0xc42202d8f0)
	/opt/gopath/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/server.go:1152 +0x12b1
github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*Server).serveStreams.func1.1(0xc422254480, 0xc4200ca580, 0x114dbc0, 0xc424de0a80, 0xc423be9b80)
	/opt/gopath/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/server.go:637 +0x9f
created by github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*Server).serveStreams.func1
	/opt/gopath/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/server.go:635 +0xa1
{noformat}

look at the wait for lock at line 98
{noformat}
/opt/gopath/src/github.com/hyperledger/fabric/common/ledger/blkstorage/fsblkstorage/blocks_itr.go:98 +0x82
{noformat}

This line was 'lock' in the previous version and in fact, is 'unlock' in the latest 1.2 code - https://github.com/hyperledger/fabric/commit/912e6a9ad217040e89e03eb5aed7060fbdc25632#diff-966eaadc030a649476d4c98594455f7aL98;;;","19/Sep/18 11:32 PM;manish-sethi;[~rajanashutosh] - I see the same stack in your logs as well...so the above comment is applicable to your environment as well.;;;","20/Sep/18 12:38 AM;sykesm;Where did the 1.2.1 images come from? I ask as docker hub does not include any 1.2.1 images, there isn't a GitHub release for 1.2.1, and there are no tags in the repo for 1.2.1.

If you manually created the image, what's the SHA of the commit you created it from? ;;;","20/Sep/18 12:54 AM;rajasushanth;[~sykesm] I have pulled the images as per this [comment|https://jira.hyperledger.org/browse/FAB-11720?focusedCommentId=49666&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-49666];;;","20/Sep/18 1:00 AM;rajasushanth;[~sykesm] Also I have verified the docker images, attached snapshot of it. Could you verify if these are the expected images

!Docker images.jpg!;;;","20/Sep/18 1:11 AM;rajanashutosh;[~sykesm] Images were pulled from Nexus location which [~denyeart] had shared.

[https://gerrit.hyperledger.org/r/#/c/23361/6/scripts/pull_build_artifacts.sh];;;","20/Sep/18 5:54 AM;sykesm;What's the commit SHA? It's listed as part of the version output.

{code}
docker run hyperledger/fabric-peer:amd64-1.2.0 peer version
{code}

You'll want to use the 1.2.1 tag for your local image.;;;","20/Sep/18 1:19 PM;rajanashutosh;[~sykesm] Attached as requested

!image-2018-09-20-09-49-14-879.png!;;;","21/Sep/18 12:22 AM;sykesm;The code from the SHA you've listed[1] does not match the tracebacks from qscc_error.txt. The trace does match the code without the fix [2] so I still don't believe you're running with the expected level.

{code}
goroutine 23200 [semacquire, 45 minutes]:
sync.runtime_SemacquireMutex(0xc421f119c4, 0xc425125600)
	/opt/go/src/runtime/sema.go:71 +0x3d
sync.(*Mutex).Lock(0xc421f119c0)
	/opt/go/src/sync/mutex.go:134 +0x108
github.com/hyperledger/fabric/common/ledger/blkstorage/fsblkstorage.(*blocksItr).Close(0xc422448390)
	/opt/gopath/src/github.com/hyperledger/fabric/common/ledger/blkstorage/fsblkstorage/blocks_itr.go:98 +0x82
github.com/hyperledger/fabric/core/ledger/kvledger.(*blocksItr).Close(0xc422eb8080)
	/opt/gopath/src/github.com/hyperledger/fabric/core/ledger/kvledger/kv_ledger.go:342 +0x34
github.com/hyperledger/fabric/common/ledger/blockledger/file.(*fileLedgerIterator).Close(0xc422eb80a0)
	/opt/gopath/src/github.com/hyperledger/fabric/common/ledger/blockledger/file/impl.go:92 +0x34
github.com/hyperledger/fabric/common/deliver.(*Handler).deliverBlocks(0xc42056fd40, 0x114a2c0, 0xc42202d920, 0xc425125ba0, 0xc42202d980, 0x11332c0, 0xc425a0a540)
	/opt/gopath/src/github.com/hyperledger/fabric/common/deliver/deliver.go:262 +0x1ef7
github.com/hyperledger/fabric/common/deliver.(*Handler).Handle(0xc42056fd40, 0x114a2c0, 0xc42202d920, 0xc425125ba0, 0xc422e374a0, 0x0)
	/opt/gopath/src/github.com/hyperledger/fabric/common/deliver/deliver.go:153 +0x293
github.com/hyperledger/fabric/core/peer.(*server).Deliver(0xc4204df720, 0x114e760, 0xc422e374a0, 0x0, 0x0)
	/opt/gopath/src/github.com/hyperledger/fabric/core/peer/deliverevents.go:135 +0x195
github.com/hyperledger/fabric/protos/peer._Deliver_Deliver_Handler(0xf1e8c0, 0xc4204df720, 0x114d0e0, 0xc421ec3c30, 0x19a09e8, 0xc42202d920)
	/opt/gopath/src/github.com/hyperledger/fabric/protos/peer/events.pb.go:1099 +0xb2
github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*Server).processStreamingRPC(0xc4200ca580, 0x114dbc0, 0xc424de0a80, 0xc423be9b80, 0xc42056fdd0, 0x188dc80, 0xc42202d8f0, 0x0, 0x0)
	/opt/gopath/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/server.go:1059 +0xa12
github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*Server).handleStream(0xc4200ca580, 0x114dbc0, 0xc424de0a80, 0xc423be9b80, 0xc42202d8f0)
	/opt/gopath/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/server.go:1152 +0x12b1
github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*Server).serveStreams.func1.1(0xc422254480, 0xc4200ca580, 0x114dbc0, 0xc424de0a80, 0xc423be9b80)
	/opt/gopath/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/server.go:637 +0x9f
created by github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*Server).serveStreams.func1
	/opt/gopath/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/server.go:635 +0xa1
{code}

[1]: https://github.com/hyperledger/fabric/blob/78a3a8dadf2a82c2e535bcacaeb95fbdd4fbafde/common/ledger/blkstorage/fsblkstorage/blocks_itr.go
[2]: https://github.com/hyperledger/fabric/blob/bb27f42c582070b4b358e5d55d237d544a0c0461/common/ledger/blkstorage/fsblkstorage/blocks_itr.go;;;","21/Sep/18 12:23 AM;sykesm;Please check again to make sure the peers that you're testing with are using the 1.2.1 image. Thanks.;;;","21/Sep/18 2:20 PM;rajanashutosh;[~sykesm] - Please find all list of containers and images running, we don't have any other docker images available in this environment. Please let us know if in case if there is some other environment or location from which we can pull images and try out this again. 

!image-2018-09-21-10-47-26-084.png!;;;","21/Sep/18 11:03 PM;sykesm;The version information should be logged by the peer during startup as well so you may want to ensure that the peer you're capturing the go routines from is logging the expected SHA.

I've pointed you to the code at the commits before and after the deadlock fix and you can see for yourself that the line numbers match the code from before the changes.

aside - please try to attach text instead of screen shots.

Thanks.;;;","16/Jun/19 2:13 AM;mastersingh24;[~sykesm] - Do we know if this is still an issue?;;;","18/Jun/19 5:24 AM;sykesm;[~mastersingh24] I believe this issue was resolved in 1.3. Other than this one, I haven't seen any reports to the contrary.;;;","26/Apr/20 11:14 PM;denyeart;Believe this one is resolved.

If you still see the problem, please re-open.;;;"
Improve unit tests for pullstore,FAB-11721,33198,,Bug,Closed,FAB,Fabric,software,denyeart,,,Lowest,Done,ping40,ping40,ping40,24/Aug/18 9:58 PM,31/Aug/18 3:57 AM,28/Oct/23 3:03 AM,31/Aug/18 3:57 AM,,,,,,,,,,,,,,,0,,,,,,"Improve unit tests for gossip/gossip/pull/pullstore_test.go
{code:java}
func TestDigestsFilters(t *testing.T) {
...
peer2pullInst := make(map[string]*pullInstance)
df1 := createDigestsFilter(2)
inst1 := createPullInstanceWithFilters(""localhost:5611"", peer2pullInst, nil, df1)
inst2 := createPullInstance(""localhost:5612"", peer2pullInst)
{code}
inst1,inst2 are connected, so the following code is useless:
{code:java}
// inst1 sends hello to inst2
sMsg, _ := helloMsg().NoopSign()
inst2.mediator.HandleMessage(inst1.wrapPullMsg(sMsg))
{code}
we should make that inst1 and  inst2 are disconnected.",,ping40,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzo2f:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ping40,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"25/Aug/18 10:29 AM;ping40;https://gerrit.hyperledger.org/r/#/c/25858/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
ACL test failed - acl_happy_path has failed in fabric-test-daily-ca-master-x86_64 due to Permissioning error.,FAB-11722,33200,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,smithbk,sambhavdutt,sambhavdutt,24/Aug/18 11:14 PM,19/Mar/19 8:13 PM,28/Oct/23 3:03 AM,29/Sep/18 5:59 AM,v1.3.0,,,,,v1.3.0,,,,,fabric-quality,,,,0,ci-failure,,,,,"Observed fails in Regression ACL tests in the latest build,

{code:java}
acl_happy_path.ACL.test_FAB6490_Using_FCA_With_ACL_Permissioning (from pytest) 

CalledProcessError: Command '['./start.sh']' returned non-zero exit status 1

self = <acl_happy_path.ACL testMethod=test_FAB6490_Using_FCA_With_ACL_Permissioning>

    def test_FAB6490_Using_FCA_With_ACL_Permissioning(self):
        '''
             In this ACL test, we execute the fabric-ca sample that
             is located in the fabric-sample repository. This sample executes a
             ""happy path"" scenario to ensure that the when a user is given limited
             access, that the ACL rule is followed as expected.
    
             Passing criteria: The sample executes with a congratulatory message.
            '''
        self.assertTrue(os.path.exists(fca_sample_directory), msg=""The fabric-ca chaincode test does not exist in this directory setup"")
>       output = subprocess.check_output([""./start.sh""], shell=True, cwd=fca_sample_directory)

acl_happy_path.py:25: 

{code}

*Build Logs*

https://jenkins.hyperledger.org/view/Daily/job/fabric-test-daily-ca-master-x86_64/13/testReport/acl_happy_path/ACL/test_FAB6490_Using_FCA_With_ACL_Permissioning/

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-daily-ca-master-x86_64/13/",,latitiah,rameshthoomu,sambhavdutt,scottz,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-6869,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,b2bf181fe704c26fbe3814fc46de9bf2248995be,Unset,No,,,"1|hzzo2v:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),latitiah,rameshthoomu,sambhavdutt,scottz,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"26/Aug/18 3:52 AM;sambhavdutt;The Permissioning error is still happening in the ACL tests in the latest build 

https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-ca-master-x86_64/14/testReport/acl_happy_path/ACL/test_FAB6490_Using_FCA_With_ACL_Permissioning/;;;","05/Sep/18 1:08 AM;sambhavdutt;The last two tests in ACL do not fail with the Permissioning error.

*Build Logs*

https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-ca-master-x86_64/test_results_analyzer/

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-daily-ca-master-x86_64/18/;;;","14/Sep/18 11:29 PM;sambhavdutt;The ACL test is failing again with the Permissioning error in the latest daily test *fabric-test-daily-ca-master-x86_64*


*Build Logs*
https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-ca-master-x86_64/22/testReport/acl_happy_path/ACL/test_FAB6490_Using_FCA_With_ACL_Permissioning/

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-daily-ca-master-x86_64/22/;;;","29/Sep/18 5:59 AM;sambhavdutt;The permissioning error is not observed from several builds in the acl happy path test.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Developing Applications: Sample part 1 -- contract,FAB-11723,33202,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,odowdaibm,odowdaibm,odowdaibm,24/Aug/18 11:46 PM,15/Oct/18 7:52 PM,28/Oct/23 3:03 AM,15/Oct/18 7:52 PM,v1.3.0,,,,,v1.4.0,,,,,fabric-samples,,,,0,,,,,,Sample code moved to fabric-samples repository,,denyeart,mbwhite,odowdaibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Yes,Unset,,FAB-11459,,,No,,Unset,No,,,"1|hzzo3b:",,,,No,Unset,,,(Please add steps to reproduce),,No,,,,,,Unset,,Unset,,(Please add usage information),denyeart,mbwhite,odowdaibm,,,,,,,,,,,,,,,,,,,,,,,,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-6.11.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/tough-cookie-4.1.3,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/semver-6.3.1,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/grpc/grpc-js-1.8.17,dependabot/go_modules/high-throughput/application-go/google.golang.org/grpc-1.53.0,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/word-wrap-1.2.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-and-fabric-network-7.2.4,dependabot/go_modules/asset-transfer-basic/application-go/google.golang.org/grpc-1.53.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"25/Aug/18 9:52 PM;denyeart;[~odowdaibm] If this is going to be a standalone work item, I'd prefer if it have no parent 'Epic'.  If you expect multiple Stories will be needed, then the Epic umbrella is appropriate.

Also we have a new issue type of 'Documentation'.  Unless you really wanted this to be a Story, we could do a Move-->Move and change this to a Documentation issue type.;;;","15/Oct/18 7:52 PM;mbwhite;Gerrit link [https://gerrit.hyperledger.org/r/#/c/25864/]

This has been merged succesfully...;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
PTE supports java chaincode,FAB-11724,33204,,Test Task,Closed,FAB,Fabric,software,denyeart,,,High,Done,dongming,dongming,dongming,24/Aug/18 11:51 PM,13/Sep/18 5:44 AM,28/Oct/23 3:03 AM,13/Sep/18 5:44 AM,v1.3.0,,,,,v1.3.0,,,,,fabric-quality,,,,0,,,,,,"PTE supports java chaincode, see FAB-8063",,dongming,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11726,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-2247,,,No,,Unset,No,,,"1|hzzo3r:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,System Test,,(Please add usage information),dongming,,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,true,"13/Sep/18 2:50 AM;dongming;https://gerrit.hyperledger.org/r/#/c/26260/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Service Discovery cc2cc node SDK,FAB-11725,33206,,Test Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,scottz,dongming,dongming,24/Aug/18 11:54 PM,01/Aug/19 10:44 AM,28/Oct/23 3:03 AM,01/Aug/19 10:44 AM,v1.4.0,,,,,Future,,,,,fabric-quality,,,,0,,,,,,"Test name: Performance test: cc2cc performance (see FAB-11374 for cc2cc description)
 Component: Performance test
 Description: performance events per channel with levelDB
     chaincode: each channel has two chancodes, example2 and example7 go chaincode, instantiated

    collection:
     service discovery: 4 threads, each thread sends 10000 service discovery concurrently

Network Topology: docker containers; 2 channels, 2 org, 2 peers per org, 4 kafka, 3 zookeepers, 3 orderers, 2 ca, TLS enabled

Client Driver: PTE

Results:
 The test passes if
     the execution completes without error",,dongming,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-842,FAB-11716,,,,,,,,,,,,,,,,,,,,,,FAB-13004,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-10083,,,No,,Unset,No,,,"1|hzzo47:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,System Test,,(Please add usage information),dongming,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"13/Nov/18 4:27 AM;scottz;I created another testtask to add some functional tests into Behave framework, to use node SDK with our cc2cc tests. That is desirable if those test usecases are not covered by existing node-sdk Integration tests. However, FAB-13004 has limitations: our Behave framework does not support service discovery; and, those tests execute only a few transactions but do not run traffic. 

To write and run this test, the PTE must be enhanced to run tests with chaincodes calling other chaincodes (cc2cc, per FAB-11716).

Note PTE already supports service discovery - although I am not sure if it needs enhancements. Some work is being done in node sdk in v1.4;  are there any new API being added in the node-sdk for service discovery to work with cc2cc?

The node-sdk in v1.4 is expected to deliver a new algorithm for the service discovery traffic to be distributed randomly (instead of always choosing the first layout discovered). Since that should be available as the new default, other regression tests would test that new algorithm code.

This test would send traffic, using service discovery, for cc2cc code. Being a user-oriented test (focusing on the behavior of chaincodes), it is considered to be lower in priority and thus gated as ""future"" instead of v1.4.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Java Chaincode Performance Test with PTE and Node SDK,FAB-11726,33207,,Test Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,dongming,dongming,dongming,25/Aug/18 12:03 AM,02/Dec/18 3:38 AM,28/Oct/23 3:03 AM,14/Sep/18 4:21 AM,v1.3.0,,,,,v1.3.0,,,,,fabric-quality,,,,0,SystemTestcase,,,,,"Test name: Performance test: filtered block events, 2 channels
 Component: Performance test
 Description: performance events per channel with levelDB
     chaincode: each channel has one chancode, sample_cc java chaincode, instantiated
     transactions: 4 threads, each thread sends 10000 invokes concurrently
         thread 1 sends to org1 peer1 on channel 1, registers events for channel1
         thread 2 sends to org2 peer1 on channel 1, registers events for channel1
         thread 3 sends to org1 peer1 on channel 2, registers events for channel2
         thread 4 sends to org2 peer1 on channel 2, registers events for channel2

Network Topology: docker containers; 2 channels, 2 org, 2 peers per org, 4 kafka, 3 zookeepers, 3 orderers, 2 ca, TLS enabled, both org associate with both channels
 Client Driver: PTE
 Results:
 The test passes if
     the execution completes without error
      each thread receives all events associated with the channel it registered, and verifies events received for every transaction it sent itself
     each thread does not receive any event that not associated with the channel it registered
 The TPS (transactions per second) will be calculated and documented.",,dongming,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11724,FAB-11900,,,,,,,,,,,,,,,,,,,FABCJ-7,,,FAB-11975,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-10083,,,Automated,,Unset,No,,,"1|hzzo4f:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Pass,,System Test,,(Please add usage information),dongming,scottz,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,,,,,,true,"28/Aug/18 2:24 AM;scottz;This testcase depends on:
 * the PTE enhancement being done (fab-11724)
 * the work to translate samplecc from go to java; we requested feature developer to do this for us.;;;","07/Sep/18 2:28 AM;scottz;java version of samplecc;;;","13/Sep/18 5:57 AM;dongming;https://gerrit.hyperledger.org/r/#/c/26268/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
TestChaincodeInvokeChaincode intermittent failures on ppc64le,FAB-11727,33208,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wlahti,harsha544,harsha544,25/Aug/18 12:06 AM,30/Aug/18 7:39 AM,28/Oct/23 3:03 AM,30/Aug/18 7:39 AM,v1.3.0,,,,,,,,,,fabric-ci,,,,0,fabric,fabric-ci,,,,"Fabric UT :- github.com/hyperledger/fabric/core/chaincode fails intermittently on ppc64le node, specifically at func `{color:#333333}TestChaincodeInvokeChaincode{color}` . 

I have ran {color:#333333}go test -run ""TestChaincodeInvokeChaincode{color} to see if this can be reproduced, however {color:#333333}go test -run ""TestChaincodeInvokeChaincode{color} and `*go test -v*` passes from  $GOPATH/src/github.com/hyperledger/fabric/code/chaincode . 

Enclosing logs[^consoleText]",,denyeart,harsha544,muralisr,SriramaSharma,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"25/Aug/18 12:06 AM;harsha544;consoleText;https://jira.hyperledger.org/secure/attachment/15749/consoleText","30/Aug/18 4:34 AM;harsha544;consoleText_output_with_PR_25956;https://jira.hyperledger.org/secure/attachment/15758/consoleText_output_with_PR_25956",,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzo4n:",,,,Unset,Unset,,,make unit-test,,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,harsha544,muralisr,SriramaSharma,wlahti,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"25/Aug/18 7:09 AM;denyeart;[~muralisr] I think you have background with this test... could you take a look at why it may be failing unit test intermittently?;;;","25/Aug/18 9:03 PM;wlahti;Harsha reached out to me yesterday and already provided access to a ppc64le machine where the issue can be reproduced. I've started looking into it and will reach out to Murali if I have any questions regarding the test. ;;;","25/Aug/18 11:00 PM;muralisr;Sounds good [~wlahti]

 

This is the error we are talking about correct ?
{code:java}
unit-tests_1  | removing dir = /tmp/hyperledger/test/tmpdb/ledgersDataunit-tests_1  | removing dir = /tmp/hyperledger/test/tmpdb/ledgersDataunit-tests_1  | --- FAIL: TestChaincodeInvokeChaincode (177.66s)unit-tests_1  |     --- FAIL: TestChaincodeInvokeChaincode/GOLANG (68.52s)unit-tests_1  |      exectransaction_test.go:675: Error invoking <cc_go_927067>: Error invoking chaincode: Failed to invoke chaincode. Got error: INVOKE_CHAINCODE failed: transaction ID: 36d9b34b-4d28-4536-8ae0-6836905f7c67: cannot retrieve package for chaincode cc_go_820744/0, error open /tmp/hyperledger/test/tmpdb/chaincodes/cc_go_820744.0: no such file or directory{code};;;","26/Aug/18 3:03 AM;harsha544;[~muralisr] That's right, that's the failing func i.e TestChaincodeInvokeChaincode.
[~wlahti] do correct me if my understanding is wrong.;;;","26/Aug/18 8:34 PM;denyeart;Ok, sorry for the confusion [~wlahti]!  I talked to Harsha and I thought he was saying he assigned to you because you reported the problem to him, not because you are working it. Thanks for looking into it!;;;","30/Aug/18 1:50 AM;wlahti;Well I tried entirely too many different things with refactoring tests / ccprovider code before stepping back and starting from the beginning. Think I found the root cause and it's an easy fix. I've run ""make unit-test"" a few times now on the ppc64le machine and each run has been successful so far. I'll have a CR available shortly. ;;;","30/Aug/18 2:20 AM;wlahti;https://gerrit.hyperledger.org/r/c/25956/;;;","30/Aug/18 4:31 AM;harsha544;Thank you for the fix [~wlahti] 

Have triggered multiple jobs in Sandbox Env ([https://jenkins.hyperledger.org/sandbox/job/fabric-daily-ppc64le/)] with Will's PR, reported  UT now consistently passes on ppc64le nodes. 

FWIW,  the latest fabric-daily-ppc64le status is here https://jenkins.hyperledger.org/sandbox/job/fabric-daily-ppc64le/8/console;;;",,,,,,,,,,,,,,,,,,,,,,,,,
Test Identity Mixer using idemix certs - happy path,FAB-11728,33212,,Test Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ChandraLekhaChavva,latitiah,latitiah,25/Aug/18 3:22 AM,04/Sep/19 3:55 AM,28/Oct/23 3:03 AM,04/Sep/19 3:55 AM,,,,,,v1.3.0,v1.4.0,v2.0.0,,,,,,,0,,,,,,Test Identity Mixer using idemix certs for the client and x509 for other nodes.,,ChandraLekhaChavva,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"27/Dec/18 1:57 AM;ChandraLekhaChavva;image-2018-12-26-11-57-20-791.png;https://jira.hyperledger.org/secure/attachment/16490/image-2018-12-26-11-57-20-791.png",,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,Automated,,Unset,No,,,"1|hzzo7j:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Executing,,Interoperability Test,,(Please add usage information),ChandraLekhaChavva,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"27/Dec/18 1:59 AM;ChandraLekhaChavva;!image-2018-12-26-11-57-20-791.png!

Here is the first block to test this FAB. Trying to fix this now.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Test Identity Mixer using x509 certs,FAB-11729,33213,,Test Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,latitiah,latitiah,latitiah,25/Aug/18 3:24 AM,23/Jan/20 7:34 AM,28/Oct/23 3:03 AM,23/Jan/20 7:34 AM,,,,,,Future,,,,,,,,,0,stale-item,,,,,"Test Identity Mixer using x509 certs for the client and other nodes.

Expected behavior: With the attribute-based chaincode, the transactions should fail if the channel is using an idemix MSP.",,latitiah,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzo7r:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Interoperability Test,,(Please add usage information),latitiah,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 7:34 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Identity Mixer Test Long Run Invokes and Queries,FAB-11730,33214,,Test Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,latitiah,latitiah,latitiah,25/Aug/18 3:27 AM,28/Nov/18 8:49 AM,28/Oct/23 3:03 AM,19/Sep/18 2:21 AM,,,,,,v1.3.0,,,,,fabric-quality,,,,0,,,,,,"This should perform invokes and queries over a 72-hour period. This test should verify:
 * successfully transactions (invokes and queries)

Also note the time spent on these transactions.

 ",,latitiah,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,Automated,,Unset,No,,,"1|hzzo7z:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Pass,,System Test,,(Please add usage information),latitiah,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"07/Sep/18 12:06 AM;scottz;Trial runs have been started, to debug test code. Plan to start the Long run shortly.;;;","19/Sep/18 2:21 AM;latitiah;Long running test executed for 72-hours successfully as well as 1 week successfully.;;;","28/Nov/18 8:46 AM;scottz;Test harness was hacked; we cannot automate or rerun this in future releases.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As a (go) chaincode client, I would like to page through chaincode query results",FAB-11731,33216,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,chris.elder,denyeart,denyeart,25/Aug/18 6:19 AM,20/May/20 6:33 PM,28/Oct/23 3:03 AM,17/Sep/18 2:51 PM,,,,,,v1.3.0,,,,,fabric-ledger,,,,0,,,,,,"Acceptance:
Chaincode client can pass pagesize and bookmark parameters to range, composite key, and rich query shim APIs in order to drive pagination.",,denyeart,troyronda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11732,FABCN-24,,,,,,,,,,,,,,FAB-17919,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Yes,Unset,,FAB-2809,,,No,,Unset,No,,,"1|hzzo8f:",,,,No,Unset,,,(Please add steps to reproduce),,Yes,,,,,,Unset,,Unset,,(Please add usage information),denyeart,troyronda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As a chaincode client, I would like to page through chaincode private data query results",FAB-11732,33218,,Story,To Do,FAB,Fabric,software,denyeart,,,High,,yalmonte,denyeart,denyeart,25/Aug/18 6:28 AM,04/May/23 11:45 PM,28/Oct/23 3:03 AM,,,,,,,,,,,,fabric-ledger,,,,3,GetPrivateStateByRangeWithPagination,help-wanted,,,,"Acceptance:
Chaincode client can pass pagesize and bookmark parameters to private data range, composite key, and rich query shim APIs in order to drive pagination.",,akoita,davidkhala,denyeart,guoger,icarrascol,joaquimpedrooliveira,mcudden,mffrench,mikarios,Pancham,Senthil1,troyronda,yalmonte,ymlbright,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11731,FAB-17919,,,,,,,,,,,,FAB-17919,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Yes,Unset,,FAB-5108,,,No,,Unset,No,,,"1|hzymdg:",,,,No,Unset,Next Items - Hygiene,,(Please add steps to reproduce),,Yes,,,,,,Unset,,Unset,,(Please add usage information),akoita,davidkhala,denyeart,guoger,icarrascol,joaquimpedrooliveira,mcudden,mffrench,mikarios,Pancham,Senthil1,troyronda,yalmonte,ymlbright,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"26/Mar/19 5:11 PM;davidkhala;I start to watch this since I find an implicit iterator ""size"" limit ==100,  in StateQueryInterator  returned from `GetPrivateDataByRange` or `GetStateByRange`. 
In this limitation, when I try to get the 100th `KV` with iterrator.next(), 
error such as following will prompt:

QUERY_STATE_NEXT failed: transaction ID: c84cb2a85b169e4f515c304199c38b22c8c818d55ed3cbf2c4cb91dfb67b0250: query iterator not found

For people seeing same problem, I prepared a quick and dirty work-around here to share. 
https://github.com/davidkhala/fabric-common-chaincode-golang/blob/master/stateIterator.go ;;;","26/Mar/19 6:37 PM;davidkhala;https://gerrit.hyperledger.org/r/#/c/30400/;;;","28/Nov/19 3:34 PM;guoger;[~davidkhala] are you still interested in continuing the work via Github?;;;","24/May/20 7:13 AM;chanioxaris;To implement this feature, changes are needed on two separate repositories:
 * fabric-chaincode-go ([https://github.com/hyperledger/fabric-chaincode-go)|https://github.com/hyperledger/fabric-chaincode-go]

Introduce a new API function on ChaincodeStubInterface interface, GetPrivateDataQueryResultWithPagination() that accepts a collection, query, pageSize and bookmark parameters.
 * fabric ([https://github.com/hyperledger/fabric)|https://github.com/hyperledger/fabric]

Changes need to be applied on chaincode handler function HandleGetQueryResult() with a new case to  take into account if collection and metadata for pagination are set.

Also a new API function ExecuteQueryOnPrivateDataWithMetadata() is needed for QueryExecutor interface that accepts namespace, collection, query  and metadata parameters, that returns the already implemented ExecuteQueryWithMetadata() of state db interface

Finally a new API function ExecuteQueryOnPrivateDataWithMetadata() is needed for DB interface that accepts 

 

 I have already implemented a first version of this feature, although for v1.4 and needs to be ported to v2, that seems to working as expected after comparing the chaincode results with the CouchDB direct mango query results. If anyone is interested, can have a look at these changes at this specific commit [https://github.com/tradeline-tech/fabric/commit/67e4d5842bac3bd1951bd30ed74d16a123170250] of the forked fabric repo.

 

 ;;;","24/May/20 7:47 AM;davidkhala;[~guoger] FYR, in 1.x branch I find a special behavior that this 100 limit will not happens in nodejs chaincode. So I guess it is language-specific problem that not related fabric state storage itselft. ;;;","27/May/20 4:20 AM;Senthil1;[~manish-sethi] [~denyeart] Do you see value in adding new data export APIs to chaincode? If data export at a chaincode or collection level is required, we can also introduce new peer CLI commands exploiting snapshot APIs. I am not sure whether smart-contract can be used to export data out of a peer. In the longer run, such a private data export using peer CLI is anyway needed for data backup.;;;","27/May/20 5:30 PM;chanioxaris;The motivation and the reason i am looking to implement this feature, to use pagination on rich query results for private data collections, is that currently we are using a frontend client to preview documents from an organisation private collection. Some queries need to be run against sensitive data. (e.g. price range) The frontend is handling this by using pagination on the response data.

Currently the option to achieve this, is to query CouchDB and then filter the results on smart-contract level, to only return the desired subset. I think that's not viable, that each time i want a part of documents (e.g. 20) to retrieve the top limit a peer can return (e.g. 10000). I believe that the CouchDB must handle the pagination, in the same way is happening for the ledger data.;;;","15/Sep/20 9:52 PM;denyeart;Agreed that it will be more efficient to handle pagination of private data natively in new chaincode shim APIs.
In the meantime you can do sorted queries.
For key range queries, pass the startKey of where you'd like to start or resume.
For JSON queries, utilize a sort and add a filter condition on the sorted field(s) of where you'd like to start or resume.
As you iterate through results in chaincode, it will retrieve from CouchDB in batches of 1000, as configured in core.yaml peer.ledger.state.couchDBConfig.internalQueryLimit.;;;","29/Nov/20 1:06 PM;Pancham;[~chanioxaris] Are you working on this?

I have also started to work on this issue. If you are not actively working on this issue, can you please assign this issue to me? Otherwise, will liek co-ordinate our efforts.;;;","29/Nov/20 8:55 PM;chanioxaris;Hello [~Pancham].

Unfortunately i am not working on this issue.

I have assigned to you;;;","16/Dec/20 6:04 PM;mcudden;I guess there is no progress on this ticket, Do we know if it will make it into 2021 at all?;;;","22/Jan/21 10:59 PM;icarrascol;any progress on this? the alternative suggested isnt good enough as you cant retrieve small batches (less than 1000) because the limit on custom query isnt being respected.;;;","01/Sep/21 9:36 PM;akoita;Hello,
Just to say that I am trying to implement the pagination in my project and I also feel the need for this feature as well.;;;","07/Mar/22 10:33 PM;yalmonte;Hello, I would like to continue with this ticket, in our team we need to implement this functionality. 

If someone started to work on that please contact me.;;;","20/May/22 8:08 PM;mffrench;Hello,

that is a a missing feature more and more clients are requesting. Do we have an idea when that feature will be available in HLF ? Maybe [~yalmonte] do you have one ? 

Also awaiting that feature, maybe would it be a good idea to provide some example tutorial of your workaround [~denyeart] ? Maybe is there an example already documented ? Let me know.

Best;;;","04/May/23 11:45 PM;denyeart;This work item will be tracked in GitHub going forward:

https://github.com/hyperledger/fabric/issues/4197;;;",,,,,,,,,,,,,,,,,
BCCSP PKCS11 tests are broken,FAB-11733,33219,,Bug,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,mastersingh24,mastersingh24,mastersingh24,25/Aug/18 7:24 AM,27/Aug/18 9:09 PM,28/Oct/23 3:03 AM,27/Aug/18 9:09 PM,v1.2.1,v1.3.0,,,,v1.2.1,v1.3.0,,,,,,,,0,,,,,,,,denyeart,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzo8v:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,release-1.2,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"26/Aug/18 9:15 PM;denyeart;https://gerrit.hyperledger.org/r/#/c/25882/ master (merged)
https://gerrit.hyperledger.org/r/#/c/25888/ release-1.2;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
BYFN tutorial may fail because chaincode is not manually installed into Org2 Peer0,FAB-11734,33220,,Documentation,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,javapriyan,ekc 2,ekc 2,25/Aug/18 3:35 PM,15/Dec/18 7:50 AM,28/Oct/23 3:03 AM,15/Dec/18 7:50 AM,v1.2.0,,,,,v1.4.0,v2.0.0,,,,fabric-docs,,,,0,,,,,,"Upon invocation of  mycc with argument -c '{""Args"":[""invoke"",""a"",""b"",""10""]}' as documented in Invoke step at [https://hyperledger-fabric.readthedocs.io/en/latest/build_network.html#invoke|http://example.com/] , we get the following error 

{{Error: could not assemble transaction: ProposalResponsePayloads do not match - proposal response: version:1 response:<status:200 > payload:""...""\013\022\004mycc\032\0031.0"" endorsement:<endorser:""\n\007Org1MSP\022\252\006-----BEGIN CERTIFICATE-----\n...\n-----END CERTIFICATE-----\n"" signature:""...""}}

The known solution/workaround is to install the chaincode into Org2 - Peer0 as well

{{CORE_PEER_MSPCONFIGPATH=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp CORE_PEER_ADDRESS=peer0.org2.example.com:7051 CORE_PEER_LOCALMSPID=""Org2MSP"" CORE_PEER_TLS_ROOTCERT_FILE=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/ca.crt peer chaincode install -n mycc -v 1.0 -p github.com/chaincode/chaincode_example02/go/}}

This is also documented in stackoverflow - [https://stackoverflow.com/questions/51490272/failed-to-invoke-in-fabric-v1-2-tutorialbuild-your-first-network]

 

The automatic byfn.sh -> scripts/script.sh also install chain code in Org2 - Peer0 as in the following code snippet

{{## Install chaincode on peer0.org1 and peer0.org2}}
 {{echo ""Installing chaincode on peer0.org1...""}}
 {{installChaincode 0 1}}
 {{echo ""Install chaincode on peer0.org2...""}}
 {{installChaincode 0 2}}

 ",,ekc 2,pandrejko,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzo93:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ekc 2,pandrejko,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"14/Dec/18 6:03 AM;pandrejko;Update text to something like:
If you want additional peers to interact with ledger, then you will need to join them to the channel, and install the same name, version and language of the chaincode source onto the appropriate peer’s filesystem. A chaincode container will be launched for each peer as soon as they try to interact with that specific chaincode. Again, be cognizant of the fact that the Node.js images will be slower to compile.
 ;;;","14/Dec/18 6:30 AM;pandrejko;Set the chaincode endorsement policy back to OR so the tutorial will work and then explained how you can set it to AND but you need to ensure you install the chaincode on peers in both orgs.

 

https://gerrit.hyperledger.org/r/28164

 ;;;","14/Dec/18 7:14 AM;pandrejko;Dave E. suggested we keep this consistent with the automated script so I abandonded the previous CR and created this new one which installs the cc on the second peer:
https://gerrit.hyperledger.org/r/28167;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As a chaincode client using key-level endorsement policies, I want the underlying ledger infrastructure to support key-level endorsement policies",FAB-11735,33221,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,manish-sethi,denyeart,denyeart,25/Aug/18 10:13 PM,26/Aug/18 12:04 AM,28/Oct/23 3:03 AM,25/Aug/18 10:14 PM,,,,,,v1.3.0,,,,,fabric-ledger,,,,0,,,,,,"Acceptance criteria:
Ledger layer can support key-level endorsement policies in endorsement path and validation/commit path.",,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,No,Unset,,FAB-8812,,,No,,Unset,No,,,"1|hzzo9b:",,,,No,Unset,,,(Please add steps to reproduce),,No,,,,,,Unset,,Unset,,(Please add usage information),denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Optimizations for state-based endorsement (key-level metadata),FAB-11737,33223,,Story,In Progress,FAB,Fabric,software,denyeart,,,Medium,,manish-sethi,denyeart,denyeart,26/Aug/18 12:09 AM,11/Jan/21 3:35 PM,28/Oct/23 3:03 AM,,,,,,,v2.1.0,,,,,fabric-ledger,,,,0,,,,,,,,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12221,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,No,Unset,,FAB-8812,,,No,,Unset,No,,,"1|hzwqrk:5iwr4rb0zyw3",,,,No,Unset,,,(Please add steps to reproduce),,Yes,,,,,,Unset,,Unset,,(Please add usage information),denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"19/Sep/18 4:49 AM;denyeart;I believe at least FAB-11700 is must-do for v1.3 to avoid performance regression.;;;","22/Sep/18 2:41 AM;denyeart;FAB-11700 is now merged for v1.3.  I'll update FixVersion to v1.4.0 for the other optimizations.;;;","14/Mar/19 11:54 PM;denyeart;Will be handled as part of larger validation refactor in FAB-12221.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As a (go) chaincode client, I want chaincode APIs for managing key-level endorsement policies",FAB-11738,33224,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,mne,denyeart,denyeart,26/Aug/18 12:20 AM,09/Sep/18 5:11 AM,28/Oct/23 3:03 AM,09/Sep/18 5:11 AM,,,,,,v1.3.0,,,,,,,,,0,,,,,,"Acceptance critieria:
Chaincode can set and get key-level endorsement policies.",,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Yes,Unset,,FAB-8812,,,No,,Unset,No,,,"1|hzzo9z:",,,,No,Unset,,,(Please add steps to reproduce),,Yes,,,,,,Unset,,Unset,,(Please add usage information),denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"26/Aug/18 12:21 AM;denyeart;This story will group together the various chaincode subtasks.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As a channel administrator, I want to ensure version compatibility for state-based endorsement by using channel capabilities",FAB-11739,33225,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ales,denyeart,denyeart,26/Aug/18 12:58 AM,11/Sep/18 10:50 PM,28/Oct/23 3:03 AM,11/Sep/18 10:50 PM,,,,,,v1.3.0,,,,,,,,,0,,,,,,,,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-8812,,,No,,Unset,No,,,"1|hzzoa7:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
All the x-86_64 nodes are down in CI and no jobs are getting triggered.,FAB-11740,33226,,Bug,Closed,FAB,Fabric,software,denyeart,,,Highest,Invalid: Test Error,rameshthoomu,sambhavdutt,sambhavdutt,26/Aug/18 1:56 AM,26/Aug/18 1:59 AM,28/Oct/23 3:03 AM,26/Aug/18 1:59 AM,v1.3.0,,,,,,,,,,fabric-ci,,,,0,,,,,,"The x nodes are down in production Jenkins, there are no jobs triggering for verify, build or timed/scheduled cron. Many already triggered jobs are waiting for the nodes to be online.",,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzoaf:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade to Go 1.11.1,FAB-11742,33232,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,mastersingh24,mastersingh24,26/Aug/18 10:00 PM,19/Nov/18 1:30 PM,28/Oct/23 3:03 AM,19/Nov/18 1:30 PM,,,,,,v1.4.0,,,,,,,,,0,maintenance,,,,,,,mastersingh24,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzobr:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),mastersingh24,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"02/Oct/18 6:08 PM;sykesm;1.11.1 was tagged and has started to propagate. Release notes are not ready but the list of changes is in the milestone: https://github.com/golang/go/issues?q=milestone%3AGo1.11.1 ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"fabric-test-verify,merge,daily is failing Ledger LTE tests due to Assertion error(VaryNumTxs )",FAB-11743,33233,,Bug,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,chris.elder,sambhavdutt,sambhavdutt,26/Aug/18 11:31 PM,19/Mar/19 8:13 PM,28/Oct/23 3:03 AM,11/Sep/18 8:28 AM,v1.3.0,,,,,v1.3.0,,,,,fabric-quality,,,,0,ci-failure,,,,,"The smoke test suite is failing  in ledger_lte_smoke for CouchDB. Posting the errors observed.

{code:java}
ledger_lte_smoke.smoke_ledger.test_FAB_9708_CouchDB_VaryNumTxs (from pytest)
Failing for the past 4 builds (Since Unstable#1767 )
Took 11 sec.
Error Message

AssertionError: VaryNumTxs performance test failed.  Please check the logfile output_Smoke_CouchDB_VaryNumTxs.log for more details.

Stacktrace

self = <ledger_lte_smoke.smoke_ledger testMethod=test_FAB_9708_CouchDB_VaryNumTxs>

    def test_FAB_9708_CouchDB_VaryNumTxs(self):
        '''
             In this smoke test, we conduct a single, hopefully short-lived,
             test-run to verify LTE with CouchDB is working
    
             Passing criteria: Underlying LTE test completed successfully with
             exit code 0
            '''
        logfile = open(""output_Smoke_CouchDB_VaryNumTxs.log"", ""w"")
        returncode = subprocess.call(
                ""./runbenchmarks.sh -f parameters_couchdb_smoke_CI.sh ""
                ""varyNumTxs"",
                shell=True, stderr=subprocess.STDOUT, stdout=logfile,
                cwd=tool_directory)
        logfile.close()
        self.assertEqual(returncode, 0, msg=""VaryNumTxs ""
                ""performance test failed. \nPlease check the logfile ""
>               +logfile.name+"" for more details."")
E       AssertionError: VaryNumTxs performance test failed. 
E       Please check the logfile output_Smoke_CouchDB_VaryNumTxs.log for more details.

ledger_lte_smoke.py:49: AssertionError
{code}


*Build Log*
https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-verify-x86_64/1770/testReport/ledger_lte_smoke/smoke_ledger/

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-verify-x86_64/1770/",,AdnanChoudhury,nnao,rameshthoomu,sambhavdutt,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,60aecaa141ff9caae49d6df08f148004f63f5148,Unset,No,,,"1|hzzobz:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),AdnanChoudhury,nnao,rameshthoomu,sambhavdutt,scottz,,,,,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,true,"28/Aug/18 6:41 AM;sambhavdutt;The *ledger_lte_smoke* tests are still failing in the latest builds for fabric-test verify and merge jobs(daily tests) due to Varying number of transactions.


{code:java}

 test_FAB_9708_CouchDB_VaryNumTxs
 test_FAB_9708_LevelDB_VaryNumTxs

{code}


*Build Logs*

https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-merge-x86_64/416/consoleFull

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-merge-x86_64/416/;;;","31/Aug/18 11:47 PM;scottz;[https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-merge-x86_64/test_results_analyzer/]

it looks like these tests passed Aug 23 9pm but have been failing in all jobs since then.;;;","06/Sep/18 12:12 AM;AdnanChoudhury;[~chris.elder] Can you please take a look? This LTE test failures look like due to Fabric code change that happened in Aug 24. The error message from the log is :

{code:java}
../chainmgmt/chains.go:52:23: too many arguments in call to ledgermgmt.Initialize
	have (nil, *platforms.Registry)
	want (*ledgermgmt.Initializer) 
{code}

The daily tests are failing with the same error. 


;;;","06/Sep/18 1:21 AM;nnao;newChainsMgr function in tools/LTE/chainmgmt/chains.go calls ""ledgermgmt.Initialize"". But it was changed arguments of ""ledgermgmt.initialize"" by FAB-11562. It needs to change the argument of the function at L 52 in tools/LTE/chainmgmt/chains.go

I made a patch that fixed this problem. If not in work on, May I became Assignee and send the patch?;;;","06/Sep/18 4:13 AM;AdnanChoudhury;Thats great [~nnao], I think [~chris.elder] would be ok with it too, right?;;;","06/Sep/18 4:25 AM;scottz;Sounds great to me, [~nnao]. Add Adnan and Chris as inspectors. Thanks!;;;","06/Sep/18 8:26 AM;nnao;https://gerrit.hyperledger.org/r/c/26124/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
Implement Dispatcher,FAB-11744,33235,31897,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,27/Aug/18 4:56 AM,30/Aug/18 12:09 AM,28/Oct/23 3:03 AM,30/Aug/18 12:09 AM,,,,,,,,,,,fabric-orderer,,,,0,,,,,,"The dispatcher, implements the Dispatcher interface from the communication upper layer, and routes the Submit/Step requests to the right Chain instance, and returns a result if applicable. ",,kchristidis,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzocf:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),kchristidis,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"27/Aug/18 11:17 PM;kchristidis;https://gerrit.hyperledger.org/r/c/25891/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Definition of ledger,FAB-11745,33236,,Documentation,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid,,ShajalAhamed,ShajalAhamed,27/Aug/18 1:23 PM,10/Jan/20 4:40 AM,28/Oct/23 3:03 AM,10/Jan/20 4:40 AM,v1.2.0,,,,,,,,,,fabric-docs,,,,0,,,,,,"In the transaction flow document ""The chaincode (containing a set of key value pairs representing the initial state of the radish market) is installed on the peers and instantiated on the channel"" this line talks talks about chaincode. But I think this definition is about ledger .",,ShajalAhamed,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-9082,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzocn:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ShajalAhamed,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Return cached alive message in gossip membership response instead of a fresh one,FAB-11746,33237,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,inbarbadian,yacovm,yacovm,27/Aug/18 4:05 PM,06/Dec/18 8:10 AM,28/Oct/23 3:03 AM,06/Dec/18 8:10 AM,v1.4.0,,,,,v1.4.0,,,,,fabric-gossip,,,,0,hygiene,,,,,"When a peer send another peer a membership request, the latter responds with a membership response which is a snapshot of all alive messages that the former is considered to be eligible of receiving.

Currently, whenever the membership response is created - [the peer creates its own alive message|https://github.com/hyperledger/fabric/blob/release-1.2/gossip/discovery/discovery_impl.go#L411] and attaches it to the membership response.

However - this results in signing a message, which is a waste.

Ideally we'd take advantage of the [periodical alive message generation|https://github.com/hyperledger/fabric/blob/release-1.2/gossip/discovery/discovery_impl.go#L718-L730] in order to cache the produced alive messages and whenever a membership request comes - return the cached alive message instead of signing a new one.",,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzocv:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Refactor gossip shutdown logic,FAB-11747,33238,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,inbarbadian,yacovm,yacovm,27/Aug/18 4:09 PM,03/Oct/18 9:53 PM,28/Oct/23 3:03 AM,30/Aug/18 1:30 AM,v1.4.0,,,,,v1.4.0,,,,,fabric-gossip,,,,0,hygiene,,,,,"* Instead of waiting on a stop message from a stop channel, close the channel and interpret the closing as a shutdown signal
 * Make Stop() thread safe",,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzod3:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
CLONE - SECURITY enforce that TLSv1.0 is not used,FAB-11748,33239,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Duplicate,mastersingh24,khi0227,khi0227,27/Aug/18 4:44 PM,29/Aug/18 4:24 PM,28/Oct/23 3:03 AM,29/Aug/18 4:16 PM,,,,,,v1.0.0,,,,,fabric-crypto,fabric-peer,,,0,security,Security,,,,"TLS version 1.0 is broken since years, there's a ton of literature showing why and how it's insecure. Unfortunately, fabric will accept to talk TLSv1.0, as shown here

{{// MinVersion contains the minimum SSL/TLS version that is acceptable.}}
{{// If zero, then TLS 1.0 is taken as the minimum.}}
{{MinVersion uint16}}

The fix should be that we set MinVersion to be TLSv1.2.

_FWIW: this is a stopship for most proprietary products._",,ales,ChristopherFerris,khi0227,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,3600,3600,,0%,3600,3600,,Not a security issue,,,,,,,,,,,,,,,,FAB-4848,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzzodb:",,,,,,,,,,,,,,,,,,,,,ales,ChristopherFerris,khi0227,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"29/Aug/18 4:14 PM;mastersingh24;[~khi0227] This was actually done in the Fabric v1.0 release.

In any case, when it comes to the actual gRPC endpoints, you must use TLS 1.2 anyway as gRPC will fail when using TLS 1.0 or 1.1 as it required ALPN support which is only in TLS 1.2;;;","29/Aug/18 4:24 PM;khi0227;[~mastersingh24]



Oops, I'm so sorry.

When I researched about this, It was cloned by my mistakes but I don't know how can i remove.

Anyway, thanks for your reply and could you please remove this?;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
PKCS11 unit tests are not actually run in CI job,FAB-11753,33247,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,mastersingh24,mastersingh24,mastersingh24,27/Aug/18 9:55 PM,28/Aug/18 4:57 AM,28/Oct/23 3:03 AM,28/Aug/18 4:57 AM,v1.2.0,v1.3.0,,,,v1.2.1,v1.3.0,,,,fabric-build,,,,0,,,,,,"`unit-test/run.sh` sets 


{code:java}
pkcs11_packages=(
    ""github.com/hyperledger/fabric/bccsp""
)
{code}

but this only runs tests in the top-level bccsp pkg and not any subpackages (where PKCS11 code actually resides.

It's a simple fix:
{code:java}
pkcs11_packages=(
    ""github.com/hyperledger/fabric/bccsp/...""
)
{code}",,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzoen:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,release-1.2,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"28/Aug/18 3:59 AM;mastersingh24;https://gerrit.hyperledger.org/r/25910  (master)

[https://gerrit.hyperledger.org/r/25911]  (release-1.2);;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Restructure ATD with latest cello and add marbles02,FAB-11754,33250,21029,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,suryalnvs,suryalnvs,suryalnvs,27/Aug/18 11:41 PM,31/Aug/18 12:06 AM,28/Oct/23 3:03 AM,31/Aug/18 12:06 AM,,,,,,v1.3.0,,,,,fabric-quality,,,,0,,,,,,"Restructuring the ATD with PTE directory structure w.r.t admin and client functionalities and reuse common code. Add support for marbles02.

 

https://gerrit.hyperledger.org/r/#/c/25901/",,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzof3:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,release-1.3,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-1.4,release-2.5,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
PvtDataStore Recovery After a Rollback or peer crash,FAB-11755,33256,32194,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,manish-sethi,Senthil1,Senthil1,28/Aug/18 2:17 AM,12/Jun/20 12:30 AM,28/Oct/23 3:03 AM,04/Dec/18 12:37 AM,,,,,,v1.4.0,,,,,fabric-ledger,,,,0,,,,,,"As [~manish-sethi] suggested, we need the following recovery mechanism for PvtDataStore.
 * In the current PvtDataStore, first, we store dataEntries, expiryEntries, and missingDataEntries.
 * Second, the block is written to the BlockStore.
 * Third, commit() is called on the PvtDataStore.

After the step 1, there is a possibility of rollback on step 3 or a peer can crash. When a peer starts again and try to commit the same block, we must consider the existing entries in the PvtDataStore. Otherwise, we might be storing incorrect missingDataEntries and expiryEntries.

For e.g., assume that ns-1:coll-1, and ns-2:coll-1 PvtData were missing during the first commit (before failure). During the commit of the same block next time, assume that only the PvtData of ns-1:coll-1 is missing. If we do not consider the existing missingDataEntries, we would have a missingDataEntry for ns-2:coll-1 in the store which is incorrect. Similarly, we can have incorrect expiryEntries.

During the second commit of the same block, if we consider the existing missingDataEntries and expiryEntries, we can avoid storing incorrect details into PvtDataStore.",,denyeart,Senthil1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11318,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwqfm:8",,,,Unset,Unset,To Do,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,Senthil1,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"03/Dec/18 1:02 AM;denyeart;https://gerrit.hyperledger.org/r/#/c/27798/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade doc from 1.2 to 1.3,FAB-11756,33257,,Documentation,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,joe-alewine,pandrejko,pandrejko,28/Aug/18 2:22 AM,24/Sep/18 4:11 AM,28/Oct/23 3:03 AM,24/Sep/18 4:11 AM,v1.3.0,,,,,,,,,,fabric-docs,,,,0,,,,,,[~scottz] We will need to work with you on this.,,joe-alewine,pandrejko,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11778,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwrq7:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),joe-alewine,pandrejko,scottz,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"28/Aug/18 3:39 AM;pandrejko;per Barry - Need to be sure and include the term `migrate` in the instructions too.;;;","28/Aug/18 10:14 PM;scottz;Sure, [~pandrejko].   [~suryalnvs] can help you. He is working on FAB-11582, and is familiar with upgrade procedures used in past release. It will be very similar this time around.;;;","08/Sep/18 4:41 AM;joe-alewine;WIP here: https://gerrit.hyperledger.org/r/c/26171/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add the term migrate to upgrade docs,FAB-11757,33258,,Documentation,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,pandrejko,pandrejko,pandrejko,28/Aug/18 2:26 AM,20/Sep/18 1:32 AM,28/Oct/23 3:03 AM,20/Sep/18 1:32 AM,v1.1.0,v1.2.0,,,,v1.1.2,v1.2.1,,,,fabric-docs,,,,0,,,,,,"Customers are expecting to see Migration instructions when migrating between releases. The Fabric docs use the term `upgrade` instead of `migrate`.

Add the term migrate to the 1.1 and 1.2 upgrade instructions so if they search for migrate or migrating, it takes them to our upgrade instructions.

Going forward in our upgrade docs (FAB-11756)  we should also use the term migrate.",,bmos299,pandrejko,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwtfz:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bmos299,pandrejko,,,,,,,,,,,,,,,,,,,,,,,,,release-1.1,release-1.2,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"28/Aug/18 2:52 AM;pandrejko;1.1 instructions [https://gerrit.hyperledger.org/r/25906]

1.2 instructions [https://gerrit.hyperledger.org/r/25909]

 ;;;","28/Aug/18 3:58 AM;bmos299;Thanks Pam. ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove dead constant XXXDefaultChannelMSPID,FAB-11758,33259,,Bug,Closed,FAB,Fabric,software,denyeart,,,Lowest,Done,sykesm,sykesm,sykesm,28/Aug/18 2:44 AM,28/Aug/18 11:08 AM,28/Oct/23 3:03 AM,28/Aug/18 11:08 AM,,,,,,v1.3.0,,,,,,,,,0,,,,,,,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzogn:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Change 'Obtaining identity' log level to debug,FAB-11759,33260,,Bug,Closed,FAB,Fabric,software,denyeart,,,Lowest,Done,sykesm,sykesm,sykesm,28/Aug/18 2:46 AM,28/Aug/18 11:08 AM,28/Oct/23 3:03 AM,28/Aug/18 11:08 AM,,,,,,v1.3.0,,,,,,,,,0,,,,,,,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzogv:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
As token client developer i want to export client interfaces to represent token redemption capabilities,FAB-11760,33261,33090,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wenjian,elli-androulaki,elli-androulaki,28/Aug/18 2:56 AM,20/Feb/19 8:30 AM,28/Oct/23 3:03 AM,20/Feb/19 8:30 AM,,,,,,v2.0.0,,,,,,,,,0,fabtoken,,,,,,,elli-androulaki,Garrett,wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzoh3:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),elli-androulaki,Garrett,wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"16/Nov/18 3:30 AM;wenjian;CR: https://gerrit.hyperledger.org/r/#/c/27279/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove support for Python2.7,FAB-11761,33262,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,tylerwince,tylerwince,tylerwince,28/Aug/18 3:53 AM,23/Jan/20 7:32 AM,28/Oct/23 3:03 AM,23/Jan/20 7:32 AM,,,,,,,,,,,fabric-sdk-py,,,,0,stale-item,,,,,The py-sdk will target Python 3.6+ in order to take advantage of Type Hints and the newest improvements to Python. Support for Python2.7 will be removed as it is being deprecated in the greater Python community within the next 16 months.,,sykesm,tylerwince,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzohb:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,tylerwince,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 7:32 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Better doc around channel config,FAB-11762,33264,,Documentation,Backlog,FAB,Fabric,software,denyeart,,,Medium,,,pandrejko,pandrejko,28/Aug/18 4:42 AM,07/Jan/20 7:03 AM,28/Oct/23 3:03 AM,,,,,,,,,,,,fabric-docs,,,,0,,,,,,"Q: How does authentication and authorization works for the orderer?
e.g. what determines who can connect to the orderer rpc and call deliver/broadcast?
A: ==> If mutual TLS is enabled, the orderer takes the union of all TLS CAs from all channels for the TLS layer. If mutual TLS is not enabled, then there is no client auth to be had. Orderers never communicate directly with each other (as of v1.2) but instead communicate through Kafka which has its own TLS authentication mechanisms.
 
Q: How does the orderer know who can create channels?
==>A: The orderer system channel has one or more consortium definitions. The consortium definition defines the orgs in the consortium (including their MSPs) and a channel creation policy (by default, any admin of the orgs in the consortium). This policy is evaluated at channel creation time (selected by the consortium name specified in the channel creation)
Q: What about call broadcast/deliver on specific channels?
A: ==> The channel configuration defines policies, the /Channel/Readers, and /Channel/Writers policies (which authenticate Deliver and Broadcast respectively). By default, these correspond to any member of any org in the channel.
 
Q: What has to be true for peers to accept blocks delivered and signed by the orderer?
==>A: The orderer group in `configtx.yaml` defines a `BlockValidation` policy. Peers check that this policy is satisfied before accepting a block. By default, any member of the ordering org may sign blocks.  `configtx.yaml` is only used to generate bootstrapping elements (and some limited updates). Therefore, each channel's config transaction determines the block validation policy
 
In the channel configuration, it would canonically be called the `/Channel/Orderer/BlockValidation` policy.
When a channel is created, it inherits this policy from the orderer system channel, and usually this policy is uniform across all channels (though it could be managed independently)
Config is hiercharcial, and at the top level split into orderer parameters and application parameters
The orderer parameters include things like the batch size, and the block validation parameters.
The application parameters include things like the application orgs, acls, and application level policies.
The actual channel creation process first creates a 'template configuration' based on the orderer system channel. It copies the orderer configuration as is, and creates a template for the application portion based on the consortium definition.
Then, it applies the 'channel creation transaction' as an update. This update must follow the modification rules dictated by the template configuration. To modify the 'application' parameters, requires satisfying the channel creation policy. To modify the orderer parameters, like the block validation policy, requires satisfying the /Channel/Orderer/Admins policy (by default).
So, you may safely allow application admins without worrying about them modifying parameters in ordering they should not have access to.
If you wanted, you could certainly not allow consortium members to create channels for themselves, and instead require an orderer admin to do so.
If that were the case, then you can modify the channel creation policy to require the approval of an orderer member, instead of an application admin.
Although you did not ask, I would also mention that the individaul orgs also have their own modification rules. So, for instance, when creating a channel, the org's MSP cannot be corrupted by the creator.
The idea is, that if an admin sees a genesis block signed by the orderer, it has assurance that all of the org definitions are correct according to the consortium definition (as attested by the orderer)
 
'/Channel/Orderer/Admins' refer to that item in the config tree.
The config tree is organized into three types. Groups, Policies, and Values. Each group may have sub-groups, values, and policies. You may think of 'groups' as nodes in a tree, where 'values' and 'policies' are leafs. So, for a policy path `/Channel/Orderer/BlockValidation`, we really mean `/<group>/<group>/<policy>`. The root group is the `Channel` group. It has a sub-group named `Orderer`, which has a policy named `BlockValidation`. Using a tool like `configtxlator` you can see the structure. The `jq` type path would be `.channel_group.groups.Orderer.policies.BlockValidation`
Some of this is documented [https://hyperledger-fabric.readthedocs.io/en/latest/config_update.html]
[https://hyperledger-fabric.readthedocs.io/en/latest/policies.html]
[https://hyperledger-fabric.readthedocs.io/en/latest/configtx.html]
 
How does the channel msp differ from the local msp (and the differences between client/peer/orderer msps)?",,joe-alewine,pandrejko,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzws07:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),joe-alewine,pandrejko,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"28/Aug/18 4:52 AM;pandrejko; 
 From J. Yellick RocketChat coversation on the orderers channel:
  
 Q: How does authentication and authorization works for the orderer? e.g. what determines who can connect to the orderer rpc and call deliver/broadcast?
 A:  If mutual TLS is enabled, the orderer takes the union of all TLS CAs from all channels for the TLS layer. If mutual TLS is not enabled, then there is no client auth to be had. Orderers never communicate directly with eachother (as of v1.2) but instead communicate through Kafka which has its own TLS authentication mechanisms.
  
 Q: How does the orderer know who can create channels?
 A: The orderer system channel has one or more consortium definitions. The consortium definition defines the orgs in the consortium (including their MSPs) and a channel creation policy (by default, any admin of the orgs in the consortium). This policy is evaluated at channel creation time (selected by the consortium name specified in the channel creation)
  
 Q: What about call broadcast/deliver on specific channels? 
 A: The channel configuration defines policies, the /Channel/Readers, and /Channel/Writers policies (which authenticate Deliver and Broadcast respectively). By default, these correspond to any member of any org in the channel.
  
 Q: What has to be true for peers to accept blocks delivered and signed by the orderer?
 A: The orderer group in `configtx.yaml` defines a `BlockValidation` policy. Peers check that this policy is satisfied before accepting a block. By default, any member of the ordering org may sign blocks. `configtx.yaml` is only used to generate bootstrapping elements (and some limited updates). Typically, the value is specified in `configtx.yaml`, but is encoded into the channel configuration. Therefore, each channel's config transaction determines the block validation policy.In the channel configuration, it would canonically be called the `/Channel/Orderer/BlockValidation` policy.
 When a channel is created, it inherits this policy from the orderer system channel, and usually this policy is uniform across all channels (though it could be managed independently).
  
 Config is hiercharcial, and at the top level split into orderer parameters and application parameters.
 The orderer parameters include things like the batch size, and the block validation parameters.
 The application parameters include things like the application orgs, acls, and application level policies.
 The actual channel creation process first creates a 'template configuration' based on the orderer system channel. It copies the orderer configuration as is, and creates a template for the application portion based on the consortium definition.
 Then, it applies the 'channel creation transaction' as an update. This update must follow the modification rules dictated by the template configuration. To modify the 'application' parameters, requires satisfying the channel creation policy. To modify the orderer parameters, like the block validation policy, requires satisfying the /Channel/Orderer/Admins policy (by default).
 So, you may safely allow application admins without worrying about them modifying parameters in ordering they should not have access to.
 If you wanted, you could certainly not allow consortium members to create channels for themselves, and instead require an orderer admin to do so.
 If that were the case, then you can modify the channel creation policy to require the approval of an orderer member, instead of an application admin.
 Although you did not ask, I would also mention that the individaul orgs also have their own modification rules. So, for instance, when creating a channel, the org's MSP cannot be corrupted by the creator.
 The idea is, that if an admin sees a genesis block signed by the orderer, it has assurance that all of the org definitions are correct according to the consortium definition (as attested by the orderer)
  
 Note: The path '/Channel/Orderer/Admins' refers to that item in the config tree.The config tree is organized into three types. Groups, Policies, and Values. Each group may have sub-groups, values, and policies. You may think of 'groups' as nodes in a tree, where 'values' and 'policies' are leafs. So, for a policy path `/Channel/Orderer/BlockValidation`, we really mean `/<group>/<group>/<policy>`. The root group is the `Channel` group. It has a sub-group named `Orderer`, which has a policy named `BlockValidation`. Using a tool like `configtxlator` you can see the structure. The `jq` type path would be `.channel_group.groups.Orderer.policies.BlockValidation`
 Some of this is documented [https://hyperledger-fabric.readthedocs.io/en/latest/config_update.html]
 [https://hyperledger-fabric.readthedocs.io/en/latest/policies.html]
 [https://hyperledger-fabric.readthedocs.io/en/latest/configtx.html]

[https://hyperledger-fabric.readthedocs.io/en/latest/configtx.html#orderer-system-channel-configuration]
  
  
 Q: How do the channel msp differ from the local msp (and the differences between client/peer/orderer msps) 

A: Start with MSP doc...;;;","07/Jan/20 7:03 AM;pandrejko;[~joe-alewine] For consideration in the new operations guide topics..;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Improve unit tests for gossip/gossip/channel/channel_test,FAB-11763,33267,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,ping40,ping40,ping40,28/Aug/18 10:14 AM,20/Sep/18 10:17 PM,28/Oct/23 3:03 AM,19/Sep/18 5:24 PM,,,,,,,,,,,,,,,0,,,,,,{color:#000080}func {color}TestChannelPull(t *testing.T)   should confirm two proto.SignedGossipMessages.,,ping40,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzohr:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ping40,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"28/Aug/18 5:30 PM;ping40;https://gerrit.hyperledger.org/r/#/c/25919/;;;","19/Sep/18 5:24 PM;ping40;the old testcase is no wrong.

 

there is no need to increase test scope.,;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add test for endorsement plugin,FAB-11764,33268,,Test Task,Closed,FAB,Fabric,software,denyeart,,,Lowest,Done,diizuka,diizuka,diizuka,28/Aug/18 10:47 AM,11/Sep/18 8:16 PM,28/Oct/23 3:03 AM,11/Sep/18 8:16 PM,v1.2.0,,,,,v1.3.0,,,,,fabric-ledger,,,,0,,,,,,Add test for core/handlers/endorsement/plugin/ to achieve 100% coverage.,,diizuka,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzohz:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unit Test,,(Please add usage information),diizuka,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
StateDB: commit pvt data of old blocks,FAB-11765,33269,32194,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,Senthil1,Senthil1,Senthil1,28/Aug/18 1:24 PM,12/Jun/20 12:30 AM,28/Oct/23 3:03 AM,21/Nov/18 5:16 AM,,,,,,v1.4.0,,,,,,,,,0,,,,,,Commit the valid pvt data of old blocks to the stateDB,,Senthil1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11388,FAB-11766,FAB-12887,FAB-12888,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwqfm:9",,,,Unset,Unset,To Do,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),Senthil1,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
pvtStore: Commit pvt data of old blocks and update expiry & missingData entries,FAB-11766,33270,32194,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,Senthil1,Senthil1,Senthil1,28/Aug/18 2:45 PM,12/Jun/20 12:30 AM,28/Oct/23 3:03 AM,14/Nov/18 5:51 AM,,,,,,v1.4.0,,,,,,,,,0,,,,,,"In the current implementation, pvtStore API for block commit accepts a block and associated private data. A new API to be added that would accept the pvt data of old blocks.

In the implementation
 - Update the missingDataEntries, expiryEntries
 - Store the pvt data
 - Return the actually stored pvt data to the ledger store",,Senthil1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11765,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwqfm:a",,,,Unset,Unset,To Do,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),Senthil1,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
As a chaincode developer I need to have available a good API to use in SmartContracts,FAB-11767,33275,,Story,Closed,FAB,Fabric,software,denyeart,,,High,Won't Do,,mbwhite,mbwhite,28/Aug/18 5:36 PM,02/Oct/19 1:02 AM,28/Oct/23 3:03 AM,02/Oct/19 1:02 AM,v2.0.0,,,,,,,,,,,,,,0,,,,,,"Proposals on updates to the stub api have been made.

 
 - Update the 'clientindenity' accessor method so that this object is only created on demand, and not for every transaciton. Creating this object is a very expensive operation and if the contract implemetnation doesn't need it ... don't do it",,mbwhite,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABCN-307,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-11246,,,No,,Unset,No,,,"1|hzzoj3:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),mbwhite,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
As a any developer associated with fabric - I want to have good assurance on the code quality,FAB-11768,33276,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,mbwhite,mbwhite,mbwhite,28/Aug/18 5:38 PM,30/Aug/19 1:39 AM,28/Oct/23 3:03 AM,30/Aug/19 1:39 AM,,,,,,,,,,,,,,,0,,,,,,"Additional test rationalization and increase in coverage required. 

* Move unit tests to be under each module

/cc   [~nkl199]",,mbwhite,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-11246,,,No,,Unset,No,,,"1|hzzojb:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),mbwhite,,,,,,,,,,,,,,,,,,,,,,,,,,release-2.4,purge-pd,main-emeritius,main,correct-nodeenv-version,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"30/Aug/18 4:51 PM;mbwhite;- Initial CR for 100% code coverage with structure as it is today
  https://gerrit.hyperledger.org/r/25965;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Transactions that only update metadata should be validated by the validation plugin,FAB-11769,33279,28450,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ales,ales,ales,28/Aug/18 8:39 PM,05/Sep/18 1:08 AM,28/Oct/23 3:03 AM,05/Sep/18 1:08 AM,,,,,,,,,,,,,,,0,,,,,,"Currently, transactions are validated by a validation plugin for a namespace if they write to keys into that namespace. More specifically, if the write set is not the empty set for that namespace. With state-based endorsement, this conditions should be changed to ensure that transactions that only modify metadata in a namespace also undergo validation.",,ales,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzojz:",,,,Unset,Unset,Sprint 6 - NextGen Endorseme 2,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ales,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
SIdeDB - Reconciliation - Add New Peer to Channel,FAB-11770,33280,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid,rlalgowdar,rlalgowdar,rlalgowdar,28/Aug/18 9:22 PM,28/Aug/18 10:16 PM,28/Oct/23 3:03 AM,28/Aug/18 10:10 PM,,,,,,Future,,,,,fabric-quality,,,,0,SystemTestcase,,,,,"+*Setup:*+ 
 Network Topology: 1 channel, 2 orgs, 2 peers per org, each peer with CouchDB container for stateDB, 2  kafka, 2 zookeepers, 2 orderers, 2 ca, TLS enabled, both org associate with all channels.
 Client Driver: PTE
 +*Test Steps:*+
 1) chaincode: each channel has one chancode, marbles02_private go chaincode, instantiated
 2) 100000 transactions
 transactions: 4 threads, each thread sends 25000 transactions

         thread 1 sends to org1 peer1 on channel 1
          thread 2 sends to org2 peer1 on channel 1
          thread 3 sends to org1 peer2 on channel 1
          thread 4 sends to org2 peer2 on channel 1

3) do the following 

Add a new peer to channel with a large amount of private data history, ensure it can reconcile old private data efficiently.

Then Send new transactions to Newly Added Peer.

a) 100000 transactions. 

b) 200000 private data queries on specific peers.

 

+*Result:*+
 1)hardware setup
 2) RPS (request per second) achieved for queries
 3) CPU and memory usage for the Peers and CouchDB containers
  ",,rlalgowdar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11771,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-10084,,,,,,,,,"1|hzzok7:",,,,,,,,,,,,,,,,,,,,,rlalgowdar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
SIdeDB - Reconciliation - Add New Org to Collection,FAB-11771,33284,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid,rlalgowdar,rlalgowdar,rlalgowdar,28/Aug/18 9:57 PM,28/Aug/18 10:12 PM,28/Oct/23 3:03 AM,28/Aug/18 10:12 PM,,,,,,Future,,,,,fabric-quality,,,,0,SystemTestcase,,,,,"+*Setup:*+ 
 Network Topology: 1 channel, 2 orgs, 2 peers per org, each peer with CouchDB container for stateDB, 2  kafka, 2 zookeepers, 2 orderers, 2 ca, TLS enabled, both org associate with all channels.
 Client Driver: PTE
 +*Test Steps:*+
 1) chaincode: each channel has one chancode, marbles02_private go chaincode, instantiated
 2) 100000 transactions
 transactions: 4 threads, each thread sends 25000 transactions

         thread 1 sends to org1 peer1 on channel 1
          thread 2 sends to org2 peer1 on channel 1
          thread 3 sends to org1 peer2 on channel 1
          thread 4 sends to org2 peer2 on channel 1

3) do the following 

Add a new Org to SideDB collection policy with a large amount of private data history, ensure it can reconcile old private data efficiently.

Then Send new transactions to Newly Added Peer.

a) 100000 transactions. 

b) 200000 private data queries on specific peers.

 

+*Result:*+
 1)hardware setup
 2) RPS (request per second) achieved for queries
 3) CPU and memory usage for the Peers and CouchDB containers
  ",,rlalgowdar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11770,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-10084,,,,,,,,,"1|hzzokf:",,,,,,,,,,,,,,,,,,,,,rlalgowdar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
SIdeDB - Reconciliation - Add New Peer to Channel,FAB-11772,33285,,Test Task,Closed,FAB,Fabric,software,denyeart,,,High,Done,dongming,rlalgowdar,rlalgowdar,28/Aug/18 10:08 PM,10/Jan/20 8:30 AM,28/Oct/23 3:03 AM,01/Aug/19 12:51 AM,v1.4.0,,,,,v1.4.0,,,,,fabric-quality,,,,0,help-wanted,,,,,"+*Setup:*+ 
Network Topology: 1 channel, 2 orgs, 2 peers per org, each peer with CouchDB container for stateDB, 3 kafka, 1 zookeepers, 3 orderers, 2 ca, TLS enabled, put all peers in both orgs in the private collection from the start, require only any 1 peer endorsement, BTL=0,  *push/required=0*.
When start network, join only org1peer0 to the channel;  do not join the other 3 peers yet.
Client Driver: PTE

*Note:* Since PTE cannot join only some peers of an org, we'll need to fix up PTE first. Or we can do this step manually by joining org1peer0 by CLI command.  Or, maybe we could start network with 2 orgs and 2 peers per org - but INSTALL cc ONLY on org1peer0 (if PTE is able to do that).

+*Test Steps:*+

1) chaincode: install only one chaincode, https://github.com/hyperledger/fabric/blob/master/examples/chaincode/go/map/map.go; and join only org1peer0 to channel1, but still include all peers in the privatedb collection, and instantiate on channel1 on org1peer0

2) Using 1 (or more threads if that is not enough), send 1000 invoke getPutPrivate transactions with private data to org1peer0

*  thread 1 invokes 1000 TXs to org1 peer0
*  [  ...  thread <n> invokes 1000 TXs to org1 peer0  ]

3) *Add/join a new peer org1peer1 to channel1*, with a large amount of private data history. (Or install cc on org1peer1 now.)

4) Ensure org1peer1 can reconcile old private data efficiently: simultaneously send transactions to both peers, WHILE Query ALL the transactions on the newly joined peer:

*  thread 2 invokes 1000 TXs to org1 peer0
*  thread 3 invokes 1000 TXs to org1 peer1 and then validates/queries the last few TXs
*  thread 4 queries on org1peer1 all 2000 TXs with reconciled data from threads 1 and 2

Analyze TPS on all peers, and ensure all queries work. Note: we may need to use longer pte query timeout values. And/or to configure a reduced timeout value in the peer from 60 secs to 1 or 2 secs to hurry things along (refer to FAB-10599 for details).

+*Report Results in fields TestResult and TestDetails:*+
1) hardware setup
2) Observe if TPS achieved for queries is too slow, or any other problems
3) CPU and memory usage for the Peers and CouchDB containers",,rlalgowdar,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11773,,,,,,,,,,,,FAB-5093,FAB-16074,,FAB-13416,FAB-13417,FAB-12834,FAB-12835,FAB-17363,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-10084,,,No,,Unset,No,,,"1|i00uza:zi",,,,Unset,Unset,In Progress,,(Please add steps to reproduce),,Unset,,,,,,Pass,,System Test,,(Please add usage information),rlalgowdar,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"31/Jul/19 5:59 AM;scottz;This should be run in system test suite network after the other sidedb traffic tests (linked).;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
SIdeDB - Reconciliation - Add New Org to Collection,FAB-11773,33286,,Test Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,dongming,rlalgowdar,rlalgowdar,28/Aug/18 10:10 PM,10/Jan/20 8:28 AM,28/Oct/23 3:03 AM,14/Dec/18 6:53 AM,v1.4.0,,,,,v1.4.0,,,,,fabric-quality,,,,0,help-wanted,,,,,"*+*Setup:*+ 
Network Topology: 1 channel, 2 orgs, 2 peers per org, each peer with CouchDB container for stateDB, 3 kafka, 1 zookeepers, 3 orderers, 2 ca, TLS enabled, put only the peers in org1 (NOT org2) in the private collection from the start, require only any 1 peer endorsement, BTL=0,  *push/required=0*.
When start network, join only org1 peers to the channel;  *do not join the peers in org2 yet*.  Do submit both the anchor peer updates for both orgs.
Client Driver: PTE

+*Test Steps:*+

1) chaincode: install only one chaincode on all peers, https://github.com/hyperledger/fabric/blob/master/examples/chaincode/go/map/map.go
Join only the peers in org1 to the channel1, but still include all peers in the privatedb collection, and instantiate on channel1 on org1peer0.

2) Using 1 (or more threads if that is not enough), send 1000 invoke getPutPrivate transactions with private data to org1peer0

*  thread 1 invokes 1000 TXs to org1 peer0
*  [  ...  thread <n> invokes 1000 TXs to org1 peer0  ]

3) *Add org2 to the collection*:
* Perform a cc upgrade (instantiate a new chaincode version) along with a new privatedb collection file.
* Add/join a peer in a new org, org2peer0, to the channel1, which already contains a large chain with large amount of private data history, to force reconciliation.

4) Ensure org2peer0 can reconcile old private data efficiently: simultaneously send transactions to both peers, WHILE Query ALL the transactions on the newly joined org peer:

*  thread 2 invokes 1000 TXs to org1 peer0
*  thread 3 invokes 1000 TXs to org2 peer0 and then validates/queries the last few TXs
*  thread 4 queries on org2peer0 all 2000 TXs with reconciled data from threads 1 and 2

Analyze TPS on all peers, and ensure all queries work. Note: we may need to use longer pte query timeout values. And/or to configure a reduced timeout value in the peer from 60 secs to 1 or 2 secs to hurry things along (refer to FAB-10599 for details).

+*Report Results in fields TestResult and TestDetails:*+
1) hardware setup
2) Observe if TPS achieved for queries is too slow, or any other problems
3) CPU and memory usage for the Peers and CouchDB containers",,rlalgowdar,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11774,,FAB-11772,,,,,,,,,,FAB-5093,FAB-16074,,FAB-13416,FAB-13417,FAB-17362,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-10084,,,No,,Unset,No,,,"1|hzzokv:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Pass,,System Test,,(Please add usage information),rlalgowdar,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
SIdeDB - Reconciliation - MisConfigure and Reconfigure Gossip,FAB-11774,33288,,Test Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,dongming,rlalgowdar,rlalgowdar,28/Aug/18 10:19 PM,31/Jul/19 6:01 AM,28/Oct/23 3:03 AM,31/Jul/19 6:01 AM,v1.4.0,,,,,v1.4.0,,,,,fabric-quality,,,,0,help-wanted,,,,,"+*Setup:*+ 
Network Topology: 1 channel, 2 orgs, 2 peers per org, each peer with CouchDB container for stateDB, 3 kafka, 1 zookeepers, 3 orderers, 2 ca, TLS enabled, put all peers in both orgs in the private collection from the start, require only any 1 peer endorsement, BTL=0,  *push/required=1*.
When start network, join all peers in all orgs to the channel. However, *DO NOT submit any anchor peer updates* yet; we want the orgs to be isolated at first.
Client Driver: PTE

+*Test Steps:*+

1) chaincode: install only one chaincode on all peers, https://github.com/hyperledger/fabric/blob/master/examples/chaincode/go/map/map.go
Join all peers in both orgs to the channel1, include all peers in the privatedb collection, and instantiate on channel1 on any peer.

2) Using 1 thread per peer, send 1000 invokes getPutPrivate transactions with private data:

*  thread 1 invokes 1000 TXs to org1 peer0
*  thread 2 invokes 1000 TXs to org2 peer0
*  thread 3 invokes 1000 TXs to org1 peer1
*  thread 4 invokes 1000 TXs to org2 peer1

3) Fix the configuration by submitting both channel config anchor peer updates.

4) Ensure all peers can reconcile old private data efficiently: simultaneously send new invokes TXs and query all the old TXs:

*  thread 5 invokes 1000 TXs to org1 peer0, then query/validates the last <n> of these same TXs on ALL peers
*  thread 6 invokes 1000 TXs to org2 peer0, then query/validates the last <n> of these same TXs on ALL peers
*  thread 7 invokes 1000 TXs to org1 peer1, then query/validates the last <n> of these same TXs on ALL peers
*  thread 8 invokes 1000 TXs to org2 peer1, then query/validates the last <n> of these same TXs on ALL peers
*  thread 9 queries the first 4000 TXs on org1 peer0 from threads 1,2,3,4 to verify data is reconciled
*  thread 10 queries the first 4000 TXs on org2 peer0 from threads 1,2,3,4 to verify data is reconciled
*  thread 11 queries the first 4000 TXs on org1 peer1 from threads 1,2,3,4 to verify data is reconciled
*  thread 12 queries the first 4000 TXs on org2 peer1 from threads 1,2,3,4 to verify data is reconciled

Analyze TPS on all peers, and ensure all queries work. Note: we may need to use longer pte query timeout values. And/or to configure a reduced timeout value in the peer from 60 secs to 1 or 2 secs to hurry things along (refer to FAB-10599 for details).

+*Report Results in fields TestResult and TestDetails:*+
1) hardware setup
2) Observe if TPS achieved for queries is too slow, or any other problems
3) CPU and memory usage for the Peers and CouchDB containers",,rlalgowdar,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11773,,,,,,,,,,FAB-5093,FAB-10599,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-10084,,,No,,Unset,No,,,"1|hzzol3:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Pass,,System Test,,(Please add usage information),rlalgowdar,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Usability: Default logging level not one to rule them all,FAB-11775,33289,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wlahti,latitiah,latitiah,28/Aug/18 11:17 PM,26/Sep/18 3:28 AM,28/Oct/23 3:03 AM,26/Sep/18 3:28 AM,,,,,,,,,,,,,,,0,,,,,,"The logging level setup is backwards. It acts as if there is a logging variable to rule them all as opposed to a logging level to be used if the others are not set.

This means that if I want to turn off gossip logging, for example, that I must list all the other log levels and NOT set the overall log level (CORE_LOGGING_LEVEL).

This is a usability issue.",,latitiah,mastersingh24,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzolb:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),latitiah,mastersingh24,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"29/Aug/18 8:13 AM;mastersingh24;This is not a bug unless you are saying that some behavior has actually changed.

Are you referring to the fact that there are override settings for specific modules defined in `core.yaml`?;;;","30/Aug/18 11:08 PM;wlahti;I was actually just talking to [~sykesm] about this yesterday after I noticed we're finally using the zap logging package. 

What Latitia noted here has been on my mental to-do list for a while (though I kept forgetting to open a JIRA item). The behavior did end up changing a number of months ago when we were having concurrency issues with op/go-logging. The override settings for specific modules don't really work any more, at least not how they were originally intended and that's what Latitia is pointing out here. ;;;","11/Sep/18 6:02 AM;wlahti;[~latitiah] I believe a majority of what you reported here will be fixed via FAB-11836. Some of the code that the peer command uses to initialize logging was inadvertently clearing the existing module levels. That created issues at startup as well as when updating levels using the ""peer logging setlevel"" command. 

If you have a chance, can you try out https://gerrit.hyperledger.org/r/c/26140/ to see if the behavior is more in line with what you expect? There are still major issues related to logging that may require significant/breaking changes in a subsequent release but I think things will be improved in time for 1.3 with this fix. ;;;","12/Sep/18 5:41 AM;wlahti;Even easier, the aforementioned CR has now been merged into master. ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Service Discovery stress test discover requests using sidedb collection name,FAB-11776,33295,,Test Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,dongming,scottz,scottz,29/Aug/18 12:25 AM,28/Nov/18 6:02 AM,28/Oct/23 3:03 AM,28/Nov/18 6:02 AM,v1.4.0,,,,,,,,,,fabric-quality,,,,0,,,,,,"This requires:
 * some PTE code development to pass in the collection name from the user testcase, if provided
 * writing a testcase to similar to FAB-10581 that sends the service-discovery requests repeatedly to the fabric - but this one requests layouts WITH private collection name(s).

Refer to FAB-5108 SideDB Reconciliation feature for more info. FABN-843 provides the new functionality in the node sdk.

Once this is in place in PTE, we can proceed with writing service discovery testcases with sidedb using named collection(s).",,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-843,FAB-13006,,,,,,,,,,,,,,,,,,,FAB-10581,,,FAB-10581,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-10082,,,No,,Unset,No,,,"1|hzzolj:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,System Test,,(Please add usage information),scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"28/Nov/18 5:55 AM;scottz;In an attempt to stress the fabric layer in previous release, we did a similar test, without the collection name, which did nothing but send serv disc requests repeatedly. Nothing interesting happened there, so I think we can skip this test (which is not a realistic scenario anyways). The PTE code being implemented with FAB-13006 will exercise the relevant node-sdk code of course under normal network scenarios with other sidedb service discovery tests, such as FAB-11447.;;;","28/Nov/18 6:02 AM;scottz;Not a normal usecase testcase. And if we did this, it seems it would essentially retest a mechanism that was already tested in previous release with FAB-10581.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Expose LevelDB configuration,FAB-11777,33297,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,firas.qutishat,firas.qutishat,29/Aug/18 1:02 AM,23/Jan/20 7:32 AM,28/Oct/23 3:03 AM,23/Jan/20 7:32 AM,,,,,,,,,,,fabric-ledger,,,,0,stale-item,,,,,,,firas.qutishat,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzolr:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),firas.qutishat,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 7:32 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade to v1.3,FAB-11778,33298,,Test Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,suryalnvs,scottz,scottz,29/Aug/18 1:40 AM,26/Nov/18 1:42 AM,28/Oct/23 3:03 AM,21/Sep/18 10:01 PM,,,,,,v1.3.0,,,,,fabric-quality,fabric-samples,,,0,,,,,,"Revise and replace [https://github.com/hyperledger/fabric-samples/blob/master/first-network/scripts/upgrade_to_v12.sh] with a v1.3 version.

This is a newer version (in v1.3) of the v1.2 testcase FAB-10199; refer to that for more details of this upgrade test.",,scottz,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11582,,,,,,,,,,,,,,,,FAB-11756,FAB-11859,FAB-12987,FAB-11582,FAB-11879,FAB-12724,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-10085,,,Manual,,Unset,No,,,"1|hzzolz:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Pass,,System Test,,(Please add usage information),scottz,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-6.11.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/tough-cookie-4.1.3,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/semver-6.3.1,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/grpc/grpc-js-1.8.17,dependabot/go_modules/high-throughput/application-go/google.golang.org/grpc-1.53.0,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/word-wrap-1.2.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-and-fabric-network-7.2.4,dependabot/go_modules/asset-transfer-basic/application-go/google.golang.org/grpc-1.53.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"08/Sep/18 2:09 AM;suryalnvs;[https://gerrit.hyperledger.org/r/#/c/26168/];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Rapid performance degradation during stress test,FAB-11779,33302,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid: Environment Issue,,aleksandar.likic,aleksandar.likic,29/Aug/18 7:19 AM,16/Apr/19 9:36 PM,28/Oct/23 3:03 AM,31/Aug/18 6:17 AM,v1.2.0,v1.3.0,,,,,,,,,fabric-ledger,,,,0,,,,,,"After running a stress test for several hours, the system performance rapidly degrades. We observe hight increase in IO and the whole network slowing down significantly. CPU is at the maximum during the whole test, and goes down significantly when the high IO starts happening.

The issue is very similar to [https://github.com/ethereum/go-ethereum/issues/17020.] 

Perhaps the issue can be fixed by moving goleveldb to revision c4c61651e9e37fa117f53c5a906d3b63090d8445, which has this fix: [https://github.com/syndtr/goleveldb/pull/227].",,aleksandar.likic,baohua,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwrnj:",,,,Unset,Unset,,,"Run a stress test for several hours. Typically, the issue happens shortly after the ledger block hight goes over 20000.",,Unset,,,,,,Unset,,Unset,,(Please add usage information),aleksandar.likic,baohua,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"29/Aug/18 4:53 PM;mastersingh24;[~aleksandar.likic]  - given you have some type of stress test environment, can you try doing the update to goleveldb to see if it has any effect?;;;","30/Aug/18 10:27 PM;aleksandar.likic;Yes, we tried it with goleveldb c4c61651e9e37fa117f53c5a906d3b63090d8445 and it didn't fix the problem. We'll keep investigating. At this point we cannot conclusively say that this is a problem with core fabric.;;;","31/Aug/18 6:16 AM;aleksandar.likic;Turned out the test environment was IO and CPU bound and couldn't recover from instability caused by leveldb compaction. Once we increased the resources enough to bridge the period of leveldb compaction we saw IO and CPU utilization going back to the values before the compaction.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
initialize membership info during ledger initiaitizon,FAB-11780,33309,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,nirro,nirro,nirro,29/Aug/18 4:44 PM,27/Sep/18 4:24 AM,28/Oct/23 3:03 AM,27/Sep/18 4:24 AM,,,,,,v1.4.0,,,,,fabric-gossip,,,,0,,,,,,need to init membership info provider while initializing ledger as part of reconciliation work,,nirro,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-5093,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-5108,,,No,,Unset,No,,,"1|hzzoof:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),nirro,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"29/Aug/18 9:18 PM;nirro;https://gerrit.hyperledger.org/r/25947;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Test: add e2e tests for private data reconciliation,FAB-11781,33310,,Test Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,nirro,nirro,nirro,29/Aug/18 4:47 PM,28/Nov/18 10:27 PM,28/Oct/23 3:03 AM,27/Nov/18 11:47 PM,,,,,,v1.4.0,,,,,fabric-gossip,,,,0,,,,,,,,nirro,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-13013,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-5108,,,No,,Unset,No,,,"1|hzzoon:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Integration Test,,(Please add usage information),nirro,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"14/Sep/18 4:25 AM;nirro;https://gerrit.hyperledger.org/r/26293;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Define SBE interfaces in more appropriate location,FAB-11783,33312,28450,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ales,ales,ales,29/Aug/18 6:12 PM,01/Sep/18 12:43 AM,28/Oct/23 3:03 AM,01/Sep/18 12:43 AM,,,,,,,,,,,,,,,0,,,,,,Interfaces should be defined where they are used and not where their implementation resides,,ales,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzop3:",,,,Unset,Unset,Sprint 6 - NextGen Endorseme 2,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ales,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As a (java) chaincode client, I would like to page through chaincode query results",FAB-11792,33326,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,gennadyl,denyeart,denyeart,29/Aug/18 9:29 PM,21/Nov/18 4:28 AM,28/Oct/23 3:03 AM,21/Nov/18 4:28 AM,,,,,,v1.4.0,,,,,fabric-ledger,,,,0,,,,,,"Acceptance:
Chaincode client can pass pagesize and bookmark parameters to range, composite key, and rich query shim APIs in order to drive pagination.",,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABCN-24,,,,,FABCJ-29,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Yes,Unset,,FABCJ-1,,,No,,Unset,No,,,"1|hzwzyf:",,,,No,Unset,Next Items- Ledger,,(Please add steps to reproduce),,Yes,,,,,,Unset,,Unset,,(Please add usage information),denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
TEST: the v1.3 validation logic should run in the validation package UTs,FAB-11794,33329,28450,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ales,ales,ales,29/Aug/18 11:27 PM,05/Sep/18 1:08 AM,28/Oct/23 3:03 AM,05/Sep/18 1:08 AM,,,,,,,,,,,,,,,0,,,,,,,,ales,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzoqv:",,,,Unset,Unset,Sprint 6 - NextGen Endorseme 2,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ales,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Import etcdraft in configtxlator,FAB-11795,33330,32551,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,adarshsaraf123,adarshsaraf123,adarshsaraf123,30/Aug/18 5:56 AM,06/Sep/18 3:25 AM,28/Oct/23 3:03 AM,06/Sep/18 3:25 AM,,,,,,,,,,,,,,,0,,,,,,"Currently, configtxlator does not import etcdraft and therefore etcdraft's consenter metadata factory is not registered with ConsensusTypeMetadataMap. This leads to configtxlator not being able to encode/decode the raft consenter metadata.",,adarshsaraf123,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzor3:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),adarshsaraf123,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"30/Aug/18 6:23 AM;adarshsaraf123;https://gerrit.hyperledger.org/r/#/c/25961/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
fabric-samples/high-throughput: Remove the unnecessary prunesafe function,FAB-11796,33336,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yuki-kon,yuki-kon,yuki-kon,30/Aug/18 11:07 AM,22/Feb/19 9:58 PM,28/Oct/23 3:03 AM,22/Feb/19 9:58 PM,v1.2.0,,,,,v2.0.0,,,,,fabric-samples,,,,0,help-wanted,,,,,"fabric-samples/high-throughput is a sample Chaincode for delta-based transaction model. When executing `update`, a new delta for a particular variable is updated to the ledger. The sum of a variable is updated to ledger by deleting all of its delta rows while computing the sum.

The current Chaincode has two types of pruning functions `pruneFast` and `pruneSafe`.  However, there is no difference between them in terms of Fabric’s transaction processing model.
Current logic has a wrong assumption that a part of RW-sets are committed and the others are not committed within a transaction due to some failures. Two function has incorrect descriptions below.
- pruneFast: This function is NOT safe as any failures or errors during pruning will result in an undefined final value for the variable and loss of data. Use pruneSafe if data integrity is important.
- pruneSafe: It provides data backups in case the prune fails. The final aggregate value is computed before any deletion occurs and is backed up to a new row. This back-up row is deleted only after the new aggregate delta has been successfully written to the ledger.

These descriptions are not correct because RW-sets are committed to the ledger after endorsement and validation. If Chaincode fails to run `pruneFast` or `pruneSafe` at simulation phase, nothing is committed to the ledger.
We need to remove the unnecessary `pruneSafe` function to make this sample follow the Fabric’s transaction processing model correctly. We also need to improve README.
",,denyeart,yuki-kon,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-9572,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,"fabric-samples, bfdc0b6e7a7caab2174c4b05779cf3cbc9b73cb5",Unset,No,,,"1|hzzosf:",,,,Unset,Unset,,,No steps are required.,,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,yuki-kon,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-6.11.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/tough-cookie-4.1.3,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/semver-6.3.1,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/grpc/grpc-js-1.8.17,dependabot/go_modules/high-throughput/application-go/google.golang.org/grpc-1.53.0,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/word-wrap-1.2.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-and-fabric-network-7.2.4,dependabot/go_modules/asset-transfer-basic/application-go/google.golang.org/grpc-1.53.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"31/Aug/18 1:26 AM;yuki-kon;CR is posted here. https://gerrit.hyperledger.org/r/#/c/25990/;;;","20/Sep/18 5:47 AM;denyeart;I'll label as help-wanted to see if somebody can do peer review.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Transient field cannot be passed when instantiating chaincode using peer cli,FAB-11797,33340,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,Hangyu_FJH,Hangyu_FJH,Hangyu_FJH,30/Aug/18 2:56 PM,27/Sep/18 8:46 AM,28/Oct/23 3:03 AM,27/Sep/18 8:46 AM,v1.2.1,v1.3.0,,,,v1.2.0,,,,,fabric-tools,,,,0,,,,,,"When using peer cli to instantiate chaincode, the transient field is actually not being passed to chaincode container.  (nil value is currently being used ) And this should be fixed",,Hangyu_FJH,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzotb:",,,,Unset,Unset,,,it can be reproduced using peer cli to instantiate chaincode with transient field,,Unset,,,,,,Unset,,Unset,,(Please add usage information),Hangyu_FJH,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Wire consenter into multichannel registrar,FAB-11798,33344,32551,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,30/Aug/18 4:52 PM,16/Oct/18 7:54 AM,28/Oct/23 3:03 AM,16/Oct/18 7:52 AM,,,,,,,,,,,fabric-orderer,,,,0,,,,,,"Once the etcd/raft consenter is finished (FAB-11163), we'll need to add it into the registrar [consenters mapping|https://github.com/hyperledger/fabric/blob/release-1.2/orderer/common/server/main.go#L256-L260] that maps the type of consensus to the instance of the consenter.

A challenge in doing this, is that the communication layer of the etcdraft that handles intra-cluster messaging needs to route messages to instances of chains, which are only reachable from within the registrar.
 In order to do this, we'd need the consenter to have a reference of the registrar, while the registrar itself is created with being given the reference to the map of consenter types mapping.

If we create the registrar with an empty map, it won't work because the registrar's initialization logic scans the map at creation time.

A way around this, is to extract the registrar's initialization logic into an exported method, and then to:
 # Create the consenter type mapping without populating it
 # Create the registrar with the empty mapping
 # Create the etcdraft consenter with the reference to the registrar
 # Initialize the registrar with the newly exported method which extracts the initialization logic.

How do we wire the etcraft consenter into the registrar?
 * The registrar, or a wrapper around it, is going to need to implement [ReceiverGetter|https://github.com/hyperledger/fabric/blob/master/orderer/consensus/etcdraft/dispatcher.go#L32-L35] in order for the Dispatcher to route messages from the [communication layer|https://github.com/hyperledger/fabric/blob/master/orderer/common/cluster/comm.go#L39-L40] to the chain instances inside the registrar.

This is problematic in a way, because the Chain objects in the registrar shouldn't be aware of being of being of any specific consensus type.
 A way around it, I think - is to have the Dispatcher to be initialized with an instance of an interface that is a subset of the Registrar:
{code:java}
type ChainGetter interface {
              GetChain(chainID string) (*ChainSupport, bool)
}
{code}
instead of with ReceiverGetter, and simply work with ChainGetter and do an explicit cast to the instance of the etcdraft.Chain from the consensus.Chain instance, knowing that the chains returned by the etcdraft consenter would be of the etcdraft.Chain instance.

[~kchristidis] [~sykesm] [~jyellick] wdyt?",,kchristidis,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11474,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzotz:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),kchristidis,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"16/Oct/18 7:53 AM;kchristidis;Associated CRs:

[https://gerrit.hyperledger.org/r/#/c/26037/]

[https://gerrit.hyperledger.org/r/#/c/26039/];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update CI Scripts to permit first publishing of NPM module,FAB-11799,33345,,Task,Closed,FAB,Fabric,software,denyeart,,,High,Done,rameshthoomu,mbwhite,mbwhite,30/Aug/18 5:25 PM,15/Sep/18 4:57 AM,28/Oct/23 3:03 AM,15/Sep/18 4:57 AM,,,,,,,,,,,,,,,0,,,,,,For the new `fabric-contract-api` the ci scripts make the assumption that the module is already published,,mbwhite,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzou7:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),mbwhite,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"15/Sep/18 4:57 AM;rameshthoomu;Updated CI scripts to publish fabric-contract-api node module.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
There are duplicate words in the document.,FAB-11801,33351,,Documentation,Closed,FAB,Fabric,software,denyeart,,,Lowest,Done,Specia1,Specia1,Specia1,30/Aug/18 8:22 PM,01/Sep/18 1:01 AM,28/Oct/23 3:03 AM,01/Sep/18 1:01 AM,,,,,,v1.2.1,v1.3.0,,,,,,,,0,,,,,,"h1. Using Private Data in Fabric

https://hyperledger-fabric.readthedocs.io/en/release-1.2/private_data_tutorial.html
https://hyperledger-fabric.readthedocs.io/en/master/private_data_tutorial.html
*can can -> can*
{quote}But only peers in Org1 *can can* store and transact with the {{price}} private data in an additional private database.
{quote}
->
{quote}But only peers in Org1 *can* store and transact with the {{price}} private data in an additional private database.
{quote}
 
h1. Using CouchDB


https://hyperledger-fabric.readthedocs.io/en/release-1.2/couchdb_tutorial.html
https://hyperledger-fabric.readthedocs.io/en/master/couchdb_tutorial.html
*and and -> and*
{quote}Client applications interact with the blockchain ledger through chaincode. As such we need to install the chaincode on every peer that will execute and endorse our transactions *and and* instantiate the chaincode on the channel.
{quote}
->
{quote}Client applications interact with the blockchain ledger through chaincode. As such we need to install the chaincode on every peer that will execute and endorse our transactions *and* instantiate the chaincode on the channel.
{quote}
 
h1. Access Control Lists (ACL)


https://hyperledger-fabric.readthedocs.io/en/release-1.2/access_control.html
https://hyperledger-fabric.readthedocs.io/en/master/access_control.html
*of of -> of*
{quote}This policy construct can be interpreted as: _the policy named {{MyPolicy}} can only be satisfied by the signature *of of* an identity with role of “a peer from Org1” or “a peer from Org2”_.
{quote}
->
{quote}This policy construct can be interpreted as: _the policy named {{MyPolicy}} can only be satisfied by the signature *of* an identity with role of “a peer from Org1” or “a peer from Org2”_.
{quote}",,Specia1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzov3:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),Specia1,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,release-1.2,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
State-based validator must at least check the CC EP,FAB-11802,33358,28450,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ales,ales,ales,30/Aug/18 10:33 PM,05/Sep/18 1:08 AM,28/Oct/23 3:03 AM,05/Sep/18 1:08 AM,,,,,,,,,,,,,,,0,,,,,,"FAB-9473 addressed the following issue: if a transaction doesn't perform writes in the namespace of a chaincode, that chaincode's EP must still be checked for the chaincode that is being invoked directly (and not by way of a cc2cc invocation). This behaviour must not change with the state-based validator. However, we cannot adopt the 1.2 behaviour of always checking the chaincode EP as that would invalidate the premise of state-based endorsement. The following approach is taken: the state-based validator will always validate the chaincode endorsement policy in case the transaction did not require checking any other endorsement policy (notably, any state-based one).",,ales,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzovj:",,,,Unset,Unset,Sprint 6 - NextGen Endorseme 2,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ales,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
There is a typo in the document.,FAB-11803,33359,,Documentation,Closed,FAB,Fabric,software,denyeart,,,Lowest,Done,Specia1,Specia1,Specia1,30/Aug/18 10:41 PM,01/Sep/18 12:59 AM,28/Oct/23 3:03 AM,01/Sep/18 12:59 AM,,,,,,v1.3.0,,,,,,,,,0,,,,,,"h1. Blockchain network

[https://hyperledger-fabric.readthedocs.io/en/master/network/network.html]

*de -> be*
{quote}It’s these transactions responses that are packaged together with the transaction proposal to form a fully endorsed transaction, which can de distributed to the entire network.
{quote}
->
{quote}It’s these transactions responses that are packaged together with the transaction proposal to form a fully endorsed transaction, which can *be* distributed to the entire network.
{quote}
 

*done done -> done*
{quote}For example, channel configuration CC2 can subsequently be updated to add organizations to support network growth, but this can only be *done done* by R2 or R3.
{quote}
->
{quote}For example, channel configuration CC2 can subsequently be updated to add organizations to support network growth, but this can only be *done* by R2 or R3.
{quote}",,Specia1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzovr:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),Specia1,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Document using client identity for chaincode access control,FAB-11804,33365,,Documentation,Closed,FAB,Fabric,software,denyeart,,,High,Done,joe-alewine,denyeart,denyeart,30/Aug/18 11:32 PM,03/Sep/18 4:02 AM,28/Oct/23 3:03 AM,03/Sep/18 4:02 AM,,,,,,v1.3.0,,,,,fabric-docs,,,,0,,,,,,"One of the most common chaincode patterns is using client (submitter) identity for access control decisions, whether that is based on client identity itself, or the org identity, or a client identity attribute.  For example an asset that is represented as a key/value may include the client's identity, and only this client may be authorized to make updates to the key/value.  The client identity library has APIs that chaincode can use to retrieve this submitter information to make such access control decisions.  It is well documented in the client identity library README at https://github.com/hyperledger/fabric/blob/release-1.2/core/chaincode/lib/cid/README.md , but most people can't find this.

This documentation needs to be pulled into fabric readthedocs.
Of course, even the core chaincode APIs are not documented well in fabric readthedocs, we simply point to the chaincode shim interface and provide samples.  So in the short term, simply mentioning this pattern and pointing to the client identity library README may be more feasible.",,denyeart,joe-alewine,pandrejko,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwtfb:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,joe-alewine,pandrejko,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"31/Aug/18 12:24 AM;joe-alewine;So it seems like the best place for this would be in our Access Control documentation.

[https://hyperledger-fabric.readthedocs.io/en/release-1.2/access_control.html]

Agreed?;;;","31/Aug/18 9:56 PM;denyeart;That access control topic deals with access to functions on a channel and is more of an administrative thing, therefore that topic makes sense in the operations guide. The newly proposed topic deals with access control within chaincode logic, in fact at the key/value level, which is a very different thing. Unfortunately I don't think we have a good topic on chaincode to put this in, beyond the chaincode tutorial https://hyperledger-fabric.readthedocs.io/en/release-1.2/chaincode4ade.html. So perhaps for now mention it in the chaincode tutorial as another set of APIs available to chaincode authors, and link to the client identity library readme similar to how we link to the core chaincode api interface. And in https://hyperledger-fabric.readthedocs.io/en/release-1.2/access_control.html you can simply put a notice that for access control within chaincode, see the chaincode tutorial topic that describes it.;;;","01/Sep/18 1:45 AM;pandrejko;https://gerrit.hyperledger.org/r/#/c/26026/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Store only validTx's pvtData,FAB-11805,33366,32194,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,Senthil1,Senthil1,Senthil1,30/Aug/18 11:42 PM,12/Jun/20 12:30 AM,28/Oct/23 3:03 AM,17/Nov/18 5:57 AM,,,,,,v1.4.0,,,,,fabric-ledger,,,,0,,,,,,"Currently, gossip constructs pvtData only for validTx as per VSCC. Hence, we are not not going to store all pvtData of a block. 

In the ledger, we are storing pvtData of invalidTx (i.e., failed MVCC checks) too. To be consistent, we can store the pvtData of only validTx after the MVCC check. 




 ",,Senthil1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12895,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwqfm:b",,,,Unset,Unset,To Do,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),Senthil1,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Recover StateDB using lastUpdatedOldBlocksList ,FAB-11806,33367,32194,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,Senthil1,Senthil1,Senthil1,31/Aug/18 12:01 AM,12/Jun/20 12:30 AM,28/Oct/23 3:03 AM,30/Nov/18 12:22 AM,,,,,,v1.4.0,,,,,fabric-ledger,,,,0,,,,,,"Once the pvtData of old blocks are committed to pvtStore, we need to check whether the stateDB needs to be updated. If so, we should commit the pvtData to the stateDB.

As a peer can fail after committing pvtData of old blocks, we might end up with a stateDB which is out of sync from the pvtStore. Hence, we need to implement a recovery mechanism.",,Senthil1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwqfm:c",,,,Unset,Unset,To Do,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),Senthil1,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Create a fabric deployment guide,FAB-11807,33369,,Documentation,Closed,FAB,Fabric,software,denyeart,,,High,Duplicate,joe-alewine,pandrejko,pandrejko,31/Aug/18 12:38 AM,31/Aug/18 12:52 AM,28/Oct/23 3:03 AM,31/Aug/18 12:52 AM,,,,,,,,,,,fabric-docs,,,,0,,,,,,"Here are my notes from the meeting with Gari and Chris:

Customers want to know how to deploy an e2e fabric solution, using the fabric CA client to generate their certs.

How to set things up?

How to modify the network?

Describe `here are the things you need to do...` -
 * What info do you need and how do you get it?
 * You need an ordering service then you Stand up peers that may or may not be connected. How to set it up incrementally?
 * Where is the ordering service, how do I set up the ordering service? How to bring it up?
 *  How do I create the genesis block?

 * When you setup a peer/here are things you need to know to setup a peer
 * Now that I have a remote peer, what can I do with it?
 * Where am I connecting it to - an anchor peer in another org? What info do you need to connect it. 
 * How do I setup an anchor peer
 * If you want to use TLS, what do you need to do? How to get the TLS cert?
 * How do you configure peers and get them to work together?
 * How do I create a channel?
 * What info do I need from the orgs (msps)
 * How to use Join channel api on the peer?
 * How to fetch the genesis block?
 * How to install & instantiate chaincode?
 * How to use the fabric-ca vs embed own cryptographic material externally
 * Guidance on setup for HA
 * What monitoring do I need to do?Here’s the processes you need to be monitoring. Here’s your log files…..
 * There’s a network running over here - how do I connect to that network?
 * We support Kafka - recommended config is: Min 4 Kafka brokers, replica config of 3. Get the Orderer config info from your kafka cluster
 * Message hub - Kafka as a service in blue mix - ibm event streams = message hub for icp - need to document - use this for 6 months and then switch over to RAFT

 ",,pandrejko,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11240,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwtfr:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),pandrejko,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"31/Aug/18 12:52 AM;pandrejko;closing in favor of FAB-11240;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As a chaincode developer, I want to implement the business logic of my contract's transactions with minimal fabric boilerplate ",FAB-11809,33371,,Story,Closed,FAB,Fabric,software,denyeart,,,High,Won't Do,awjh-ibm,awjh-ibm,awjh-ibm,31/Aug/18 12:57 AM,13/Jan/20 11:31 PM,28/Oct/23 3:03 AM,13/Jan/20 11:31 PM,,,,,,,,,,,fabric-common,,,,0,stale-item,,,,,"* Implement Contract class and stub API delegation framework
 * Unit and Integration tests
 * Documentation
 * Tutorials",,awjh-ibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Yes,Unset,,FAB-11246,,,No,,Unset,No,,,"1|hzzowv:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),awjh-ibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"31/Aug/18 1:00 AM;awjh-ibm;CR -> https://gerrit.hyperledger.org/r/#/c/25801/;;;","10/Oct/18 9:24 PM;awjh-ibm;Returned to backlog to wait until 2.0

 ;;;","13/Jan/20 11:31 PM;awjh-ibm;Replaced by [FABCAG-1|https://jira.hyperledger.org/browse/FABCAG-1];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
fabric-unit-test-daily-master-x86_64 job failed as invalid charecter was found in host name and the test timed out.,FAB-11810,33372,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid: Environment Issue,,sambhavdutt,sambhavdutt,31/Aug/18 12:58 AM,19/Mar/19 8:13 PM,28/Oct/23 3:03 AM,20/Sep/18 5:49 AM,v1.3.0,,,,,v1.3.0,,,,,fabric-build,,,,0,ci-failure,,,,,"The *fabric-unit-test-daily-master-x86_64* fails as invalid charecter was found in Host name and the test timed out, Posting the errors below,


{code:java}
20:15:49 unit-tests_1  | ok  	github.com/hyperledger/fabric/core/ledger/util	0.029s	coverage: 93.0% of statements
20:15:58 unit-tests_1  | 2018-08-30 00:15:49.821 UTC [couchdb] CreateConnectionDefinition -> ERRO 001 URL parse error: parse http://http:%2F%2Fhost.com%7C5432: invalid URL escape ""%2F""
20:15:58 unit-tests_1  | 2018-08-30 00:15:49.821 UTC [couchdb] GetDatabaseInfo -> ERRO 002 URL parse error: parse http://host.com|5432: invalid character ""|"" in host name
20:15:58 unit-tests_1  | 2018-08-30 00:15:49.821 UTC [couchdb] CreateCouchDatabase -> ERRO 003 Error calling CouchDB CreateDatabaseIfNotExist() for dbName: baddbtest, error: error parsing CouchDB URL: http://host.com|5432: parse http://host.com|5432: invalid character ""|"" in host name
20:15:58 unit-tests_1  | 2018-08-30 00:15:49.821 UTC [couchdb] GetDatabaseInfo -> ERRO 004 URL parse error: parse http://host.com|5432: invalid character ""|"" in host name
20:15:58 unit-tests_1  | 2018-08-30 00:15:49.821 UTC [couchdb] CreateSystemDatabasesIfNotExist -> ERRO 005 Error calling CouchDB CreateDatabaseIfNotExist() for system dbName: _users, error: error parsing CouchDB URL: http://host.com|5432: parse http://host.com|5432: invalid character ""|"" in host name
20:15:58 unit-tests_1  | 2018-08-30 00:15:49.822 UTC [couchdb] GetDatabaseInfo -> ERRO 006 URL parse error: parse http://host.com|5432: invalid character ""|"" in host name
20:15:58 unit-tests_1  | 2018-08-30 00:15:49.822 UTC [couchdb] GetDatabaseInfo -> ERRO 007 URL parse error: parse http://host.com|5432: invalid character ""|"" in host name
20:15:58 unit-tests_1  | 2018-08-30 00:15:49.822 UTC [couchdb] VerifyCouchConfig -> ERRO 008 URL parse error: parse http://host.com|5432: invalid character ""|"" in host name
20:15:58 unit-tests_1  | 2018-08-30 00:15:49.822 UTC [couchdb] EnsureFullCommit -> ERRO 009 URL parse error: parse http://host.com|5432: invalid character ""|"" in host name
.
.
.
20:15:58 unit-tests_1  | 2018-08-30 00:15:53.220 UTC [couchdb] handleRequest -> WARN 023 Retrying couchdb request in 125ms. Attempt:1  Error:Get http://couchdb:5984/: net/http: request canceled while waiting for connection (Client.Timeout exceeded while awaiting headers)
20:15:58 unit-tests_1  | --- FAIL: TestDBRequestTimeout (0.16s)
20:15:58 unit-tests_1  | 	test_util.go:103: Error should have been thown while trying to create a couchdb instance with a connection timeout
{code}

*Build Logs*

https://jenkins.hyperledger.org/view/Daily/job/fabric-unit-test-daily-master-x86_64/177/consoleFull
https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-unit-test-daily-master-x86_64/177/

",,denyeart,huikang,rameshthoomu,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,2ed55377d4a07be747d4d07986e82c377b10727b,Unset,No,,,"1|hzzox3:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,huikang,rameshthoomu,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"06/Sep/18 2:03 AM;huikang;Looks like this is a hiccup. Later job does not have such error [1]

[1] https://jenkins.hyperledger.org/view/Daily/job/fabric-unit-test-daily-master-x86_64/184/consoleFull;;;","20/Sep/18 5:49 AM;denyeart;I will close, please re-open if you see this problem again.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Introduce dispatcher for commands in the prover peer,FAB-11811,33373,,Story,Closed,FAB,Fabric,software,denyeart,,,Low,Won't Do,,sykesm,sykesm,31/Aug/18 1:36 AM,23/Jan/20 7:32 AM,28/Oct/23 3:03 AM,23/Jan/20 7:32 AM,,,,,,,,,,,,,,,0,stale-item,,,,,"This is a lower priority item that can be detached from the parent as a separate chore if needed.

The prover peer is responsible for handling a small number of different kinds of commands requests. In support of these, each command can have its own processor that manages validation, parsing, execution, and response.

We can choose to implement this in a middleware style invocation chain or as commands that encapsulate the request and use independently tested components.

Relates to: https://gerrit.hyperledger.org/r/c/25273/27/token/server/prover.go#54",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-13209,,,No,,Unset,No,,,"1|hzzoxb:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 7:32 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update suite description for java chaincode,FAB-11812,33378,,Task,Closed,FAB,Fabric,software,denyeart,,,Lowest,Done,sykesm,sykesm,sykesm,31/Aug/18 3:09 AM,05/Sep/18 2:38 AM,28/Oct/23 3:03 AM,05/Sep/18 2:38 AM,,,,,,,,,,,,,,,0,,,,,,,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzoyf:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"31/Aug/18 3:10 AM;sykesm;https://gerrit.hyperledger.org/r/26003;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Changing Endorsement Policy and Private data collections with same Chaincode version.,FAB-11813,33379,,Test Task,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,,Mihir2.0,Mihir2.0,31/Aug/18 3:59 AM,17/May/19 12:08 AM,28/Oct/23 3:03 AM,17/May/19 12:08 AM,,,,,,,,,,,,,,,1,fabric-peer,,,,,"Currently, Fabric needs us to upgrade the chaincode to a different version for changing the endorsement policy or private data collections for a channel.

However, it is more desirable to upgrade the chaincode with the same version for changes made in endorsement policy or private data collections. This is because the chaincode.go remains the same while changing endorsement policy or private data collections.

Hence, upgrading chaincode to a different version makes no sense.

 ",,denyeart,jyellick,MariWade,Mihir2.0,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-11237,,,Automated,,Unset,No,,,"1|i008rj:ji",,,,Unset,Unset,v2.0,,(Please add steps to reproduce),,Unset,,,,,,Pass,,Unset,,(Please add usage information),denyeart,jyellick,MariWade,Mihir2.0,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"04/Oct/18 5:06 AM;MariWade;I opened this issue and then found this one: https://jira.hyperledger.org/browse/FAB-12292

We are hitting this issue in practice often.;;;","04/Oct/18 2:01 PM;denyeart;[~jyellick] I've added this to the v2.0 lifecycle epic.  Please add your thoughts on whether you'd like to track as is or create a different story that is closer tied to v2.0 lifecycle (but with same end goal).;;;","07/Jan/19 1:24 PM;jyellick;I've unassigned Artem from this.  I believe that the new lifecycle has this handled/covered.  But leaving here/open to confirm/track that it is.;;;","17/May/19 12:08 AM;wlahti;An integration test that changes both the endorsement policy and the private data collection using the same chaincode version was merged via FAB-14632. ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Swimlane anchor is missing from arch-deep dive,FAB-11814,33380,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,pandrejko,pandrejko,pandrejko,31/Aug/18 4:05 AM,31/Aug/18 10:30 PM,28/Oct/23 3:03 AM,31/Aug/18 10:30 PM,,,,,,,,,,,fabric-docs,,,,0,,,,,,"Content here [https://hyperledger-fabric.readthedocs.io/en/release-1.1/txflow.html] (scroll down to the very bottom) refers to a swimlane diagram. 
 Note: See the swimlane diagram to better understand the server side flow and the protobuffers.

I believe this text is referring to the swimlane image `flow-4.png` in the architecture deep dive topic.

**Note**: See the :ref:`swimlane` diagram to better understand the server side flow and the protobuffers.

 

The fix for this problem is to add an anchor 

.. _swimlane:

above the image in the arch-deep-dive.rst content.

 ",,pandrejko,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzoyv:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),pandrejko,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,release-1.1,release-1.2,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"31/Aug/18 4:19 AM;pandrejko;[v1.1: https://gerrit.hyperledger.org/r/26005|https://gerrit.hyperledger.org/r/26005]

v1.2: https://gerrit.hyperledger.org/r/#/c/26010/

master: [https://gerrit.hyperledger.org/r/26007] ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Install on packaged chaincode fails due to invalid couch database index file,FAB-11815,33381,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,muralisr,rhegde,rhegde,31/Aug/18 4:16 AM,08/Sep/18 11:54 PM,28/Oct/23 3:03 AM,08/Sep/18 4:03 AM,v1.2.0,v1.2.1,,,,v1.2.1,v1.3.0,,,,fabric-peer,fabric-tools,,,1,,,,,,"at least fabric v1.2 provides a functionality to define couch database indexes in the chaincode folder. this gets picked up and gets created across the required channel (couch database).

Steps:

1.  add a couch database index file
{code:java}
Any index in the chaincode’s META-INF/statedb/couchdb/indexes directory will be packaged up with the chaincode for deployment{code}
  

2. Package the chaincode  

command using fabric-tool:peer as cli

peer chaincode package -n "" + chaincode_name + -v  + chaincode_version -p chaincode_src_path -s -S -i "" + instantiation_policy chaincode_dst_pkg_path

 

3.  Install chaincode using the package chaincode

Following is the error received from peer CLI

2018-08-30 03:46:03.716 UTC [grpc] Printf -> DEBU 042 pickfirstBalancer: HandleSubConnStateChange: 0xc420173b10, READY
 2018-08-30 03:46:03.717 UTC [msp] GetDefaultSigningIdentity -> DEBU 043 Obtaining default signing identity
 Error: error extracting chaincode deployment spec(illegal file detected in payload: ""META-INF/statedb/couchdb/indexes/duplicatecheck.json"")

 

Please note: I have tried installing the chaincode using chaicode source (i.e. w/o using package). This works good. I can see indexes getting created across channels.",,denyeart,mplisov,muralisr,rhegde,sanchezl,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzoz3:",,,,Unset,Unset,,,,,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,mplisov,muralisr,rhegde,sanchezl,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,release-1.2,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"31/Aug/18 4:58 AM;rhegde;Impact - High

This issue is visible during onboarding organization resulting into new channel since couch database are not created by peer until the first data appear in it. Data would appear only if endorsement is successful and endorsement is successful only if index is available for use and to create index manually (approach used in v1.0.x), there is a need to have database available. This is catch-22.

 ;;;","01/Sep/18 1:40 AM;denyeart;[~muralisr] is an expert on chaincode packaging and agreed to assess.;;;","03/Sep/18 11:40 PM;muralisr;The validator strictly checks for /src and not /META-INF. Will add the check to permit that.

However note [~rhegde] please - this happens only if you use the `-s` option and strongly suggest not to use that (it was a futuristic option that is likely not going to be used  given the direction of chaincode ""Life Cycle"" work.);;;","04/Sep/18 9:23 AM;muralisr;[https://gerrit.hyperledger.org/r/#/c/26061/] [~denyeart]  [~mastersingh24]

 

[https://gerrit.hyperledger.org/r/#/c/26071/] - release-1.2;;;","08/Sep/18 2:47 AM;Clayton Sims;we need to ensure this gets into 1.2.1

 ;;;","08/Sep/18 11:54 PM;denyeart;Merged in master (for v1.3.0) and release-1.2 (for v1.2.1).;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,
fabric-chaincode-node-merge-s390x job failed as endorser client failed to connect to peer0.org1.example.com,FAB-11816,33382,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid: Environment Issue,mbwhite,sambhavdutt,sambhavdutt,31/Aug/18 4:24 AM,19/Mar/19 8:13 PM,28/Oct/23 3:03 AM,10/Sep/18 6:11 PM,v1.3.0,,,,,v1.3.0,,,,,,,,,0,ci-failure,,,,,"The chaincode-node tests failed in *fabric-chaincode-node-merge-s390x* job as peer failed to connect, Posting the errors below,

{code:java}
14:25:18 2018-08-30 18:25:15.268 UTC [grpc] switchBalancer -> DEBU 03b ClientConn switching balancer to ""pick_first""
14:25:18 2018-08-30 18:25:15.268 UTC [grpc] HandleSubConnStateChange -> DEBU 03c pickfirstBalancer: HandleSubConnStateChange: 0xc4205cc910, CONNECTING
14:25:18 2018-08-30 18:25:15.269 UTC [grpc] createTransport -> DEBU 03d grpc: addrConn.createTransport failed to connect to {peer0.org1.example.com:7051 0  <nil>}. Err :connection error: desc = ""transport: Error while dialing dial tcp 172.19.0.2:7051: connect: connection refused"". Reconnecting...
14:25:18 2018-08-30 18:25:15.269 UTC [grpc] HandleSubConnStateChange -> DEBU 03e pickfirstBalancer: HandleSubConnStateChange: 0xc4205cc910, TRANSIENT_FAILURE
14:25:18 2018-08-30 18:25:16.269 UTC [grpc] HandleSubConnStateChange -> DEBU 03f pickfirstBalancer: HandleSubConnStateChange: 0xc4205cc910, CONNECTING
14:25:18 2018-08-30 18:25:16.269 UTC [grpc] createTransport -> DEBU 040 grpc: addrConn.createTransport failed to connect to {peer0.org1.example.com:7051 0  <nil>}. Err :connection error: desc = ""transport: Error while dialing dial tcp 172.19.0.2:7051: connect: connection refused"". Reconnecting...
14:25:18 2018-08-30 18:25:16.271 UTC [grpc] HandleSubConnStateChange -> DEBU 041 pickfirstBalancer: HandleSubConnStateChange: 0xc4205cc910, TRANSIENT_FAILURE
14:25:18 2018-08-30 18:25:17.753 UTC [grpc] HandleSubConnStateChange -> DEBU 042 pickfirstBalancer: HandleSubConnStateChange: 0xc4205cc910, CONNECTING
14:25:18 2018-08-30 18:25:17.754 UTC [grpc] createTransport -> DEBU 043 grpc: addrConn.createTransport failed to connect to {peer0.org1.example.com:7051 0  <nil>}. Err :connection error: desc = ""transport: Error while dialing dial tcp 172.19.0.2:7051: connect: connection refused"". Reconnecting...
14:25:18 2018-08-30 18:25:17.754 UTC [grpc] HandleSubConnStateChange -> DEBU 044 pickfirstBalancer: HandleSubConnStateChange: 0xc4205cc910, TRANSIENT_FAILURE
14:25:18 Error: error getting endorser client for channel: endorser client failed to connect to peer0.org1.example.com:7051: failed to create new connection: context deadline exceeded
14:25:18 !!!!!!!!!!!!!!! After 5 attempts, PEER0 has failed to Join the Channel !!!!!!!!!!!!!!!!
14:25:18 ================== ERROR !!! FAILED to execute Test Init ==================
14:25:18 
14:25:18 [14:25:18] 'channel-init' errored after 24 s
14:25:18 [14:25:18] Error in plugin ""gulp-shell""
14:25:18 Message:
14:25:18     Command `docker exec cli /etc/hyperledger/config/channel-init.sh` failed with exit code 1
14:25:18 Build step 'Execute shell' marked build as failure
{code}

*Build  Logs*

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-chaincode-node-merge-s390x/77/",,mbwhite,rameshthoomu,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,5e6a1e98024ec256323b2869d11a05e24f702473,Unset,No,,,"1|hzzozb:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),mbwhite,rameshthoomu,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"10/Sep/18 6:11 PM;mbwhite;Problem was intermittent; and has been resolved by adjusting the timeouts.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Detect collection eligibility change event,FAB-11817,33386,32194,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,manish-sethi,manish-sethi,manish-sethi,31/Aug/18 8:13 AM,12/Jun/20 12:30 AM,28/Oct/23 3:03 AM,03/Oct/18 7:52 AM,,,,,,v1.3.0,,,,,fabric-ledger,,,,0,,,,,,"Listen to the chaincode upgrade transactions and detect when the peer/org becomes eligible for an existing collection (for which, the peer was ineligible previously).

Upon detecting the above mentioned situation, invoke the private data store with an event so that the private data store can enable itself to ask the gossip to pull the existing private data for the collection",,manish-sethi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwqfm:d",,,,Unset,Unset,To Do,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),manish-sethi,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"01/Sep/18 1:25 AM;manish-sethi;https://gerrit.hyperledger.org/r/#/c/26014/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
CouchDB indexing test failed in daily behave tests as peer0.org1.example.com-mycc3-1 is not running.,FAB-11818,33387,,Bug,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,,sambhavdutt,sambhavdutt,31/Aug/18 9:48 AM,19/Mar/19 8:13 PM,28/Oct/23 3:03 AM,29/Sep/18 5:55 AM,v1.3.0,,,,,v1.3.0,,,,,fabric-quality,,,,0,ci-failure,,,,,"CouchDB index testing failed in Regression tests, for *fabric-test-daily-behave-master-x86_64* job as peer0.org1.example.com-mycc3-1 is not running, Posting the errors observed,


{code:java}
CouchDB_index.Testing Fabric CouchDB indexing.FAB-7270, FAB-7271, FAB-7272: Test CouchDB indexing using CC upgrade with marbles chaincode using NODE with 3 channels and 3 upgrade -- @1.2 

Error Message

The expected chaincode container 38553828ac3f11e8876ffa163ec5f729-peer0.org1.example.com-mycc3-1 is not running

Stacktrace

Failing step: And an admin upgrades the chaincode with name ""mycc3"" on channel ""mychannel3"" to version ""1"" with args [""""] ... failed in 128.130s
Location: CouchDB_index.feature:207
Assertion Failed: The expected chaincode container 38553828ac3f11e8876ffa163ec5f729-peer0.org1.example.com-mycc3-1 is not running
.
.
Captured stdout:
testConfigs: configs/38553828ac3f11e8876ffa163ec5f729
['index_behave_test_v1.json', 'index_behave_test_3.json', 'index_behave_test_2.json', 'index_behave_test_1.json', 'index_behave_test.json', 'indexOwner.json']
.
.
And an admin upgrades the chaincode with name ""mycc2"" on channel ""mychannel2"" to version ""1"" with args [""""] ... passed in 44.277s
    And an admin installs chaincode at path ""../../fabric-samples/chaincode/marbles02/node"" of language ""NODE"" as version ""1"" with args [""""] with name ""mycc3"" ... passed in 6.998s
    And an admin upgrades the chaincode with name ""mycc3"" on channel ""mychannel3"" to version ""1"" with args [""""] ... failed in 128.130s
    When a user queries on the channel ""mychannel1"" using chaincode named ""mycc1"" with args [""queryMarbles"", ""{\\""selector\\"":{\\""docType\\"":\\""marble\\"",\\""owner\\"":\\""matt\\"", \\""color\\"":\\""green\\""}, \\""use_index\\"":[\\""_design/indexdoc_behave_test\\"", \\""index_behave_test\\""]}""] on ""peer0.org1.example.com"" ... skipped in 0.000s
.
.
10:35:20.271 UTC [chaincodeCmd] upgrade -> DEBU 04e\x1b[0m endorse upgrade proposal, get response <status:500 message:""error starting container: error starting container: Failed to generate platform-specific docker build: Error returned from build: 1 \\""npm WARN deprecated @types/winston@2.4.4: This is a stub types definition. winston provides its own type definitions, so you do not need this installed.\\nnpm ERR! code EINTEGRITY\\nnpm ERR! sha512-xmhA11h2XhqpSVzDAmoQAYdNQ+swILXpKOiRpAEQ2kX55ioxVADc6v7SkS4zQBxm4klhQHgGqpGKvoL6LGx4VQ== integrity checksum failed when using sha512: wanted sha512-
{code}

*Build Logs*

https://jenkins.hyperledger.org/job/fabric-test-daily-behave-master-x86_64/19/testReport/CouchDB_index/Testing%20Fabric%20CouchDB%20indexing/FAB_7270__FAB_7271__FAB_7272__Test_CouchDB_indexing_using_CC_upgrade_with_marbles_chaincode_using_NODE_with_3_channels_and_3_upgrade_____1_2_/

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-daily-behave-master-x86_64/19/",,latitiah,rameshthoomu,sambhavdutt,scottz,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12040,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,2ed55377d4a07be747d4d07986e82c377b10727b,Unset,No,,,"1|hzzp07:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),latitiah,rameshthoomu,sambhavdutt,scottz,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"05/Sep/18 12:45 AM;sambhavdutt;CouchDB indexing tests failed due to chaincode instantiation on mychannel2, Posting the latest fails observed in fabric-test behave daily tests.

{code:java}
CouchDB_index.Testing Fabric CouchDB indexing.FAB-7262: Test CouchDB indexing using install-after-instantiate with marbles chaincode using NODE with 3 channels and 3 indexes -- @1.2 

Failing step: And an admin instantiates the chaincode on channel ""mychannel2"" on peer ""peer0.org1.example.com"" ... failed in 784.918s
Location: CouchDB_index.feature:304

Assertion Failed: The expected chaincode container 1bb4a8d4affa11e88886fa163e42ee12-peer0.org1.example.com-mycc2-0 is not running
.
.
And an admin installs chaincode at path ""../../fabric-samples/chaincode/marbles02/node"" of language ""NODE"" as version ""0"" with args [""""] with name ""mycc2"" to ""peer0.org2.example.com"" ... passed in 10.194s
    And an admin instantiates the chaincode on channel ""mychannel2"" on peer ""peer0.org1.example.com"" ... failed in 784.918s
    And an admin installs chaincode at path ""../../fabric-samples/chaincode/marbles02/node"" of language ""NODE"" as version ""0"" with args [""""] with name ""mycc3"" to ""peer0.org1.example.com"" ... skipped in 0.000s
    And an admin installs chaincode at path ""../../fabric-samples/chaincode/marbles02/node"" of language ""NODE"" as version ""0"" with args [""""] with name ""mycc3"" to ""peer1.org2.example.com"" ... skipped in 0.000s
{code}

*Build Logs*

https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-behave-master-x86_64/21/testReport/CouchDB_index/Testing%20Fabric%20CouchDB%20indexing/FAB_7262__Test_CouchDB_indexing_using_install_after_instantiate_with_marbles_chaincode_using_NODE_with_3_channels_and_3_indexes_____1_2_/

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-daily-behave-master-x86_64/21/
;;;","05/Sep/18 2:00 AM;scottz;[~sambhavdutt] The new chaincode instantiation problem is a different testcase and different problem than indexing test failing because a peer is not running. If you have another bug for chaincode instantiation problems, then add your latest note to the other bug. If not, create a new bug.;;;","12/Sep/18 10:12 PM;sambhavdutt;I see that the nightly build for master branch triggered last night that ran all daily tests. I see the CouchDB indexing test fail in the Behave tests.


{code:java}
CouchDB_index.Testing Fabric CouchDB indexing.FAB-7269: Test CouchDB indexing using CC upgrade with marbles chaincode using NODE with 3 channels and 1 upgrade -- @1.2 
.
The expected chaincode container 6d03cceab64111e8b0d5fa163e4de16d-peer0.org1.example.com-mycc1-0 is not running
.
Failing step: And an admin deploys chaincode at path ""../../fabric-samples/chaincode/marbles02/node"" with version ""0"" with args [""""] with name ""mycc1"" with language ""NODE"" on channel ""mychannel1"" ... failed in 350.955s
Location: CouchDB_index.feature:147
Assertion Failed: The expected chaincode container 6d03cceab64111e8b0d5fa163e4de16d-peer0.org1.example.com-mycc1-0 is not running
Captured stdout:
testConfigs: configs/6d03cceab64111e8b0d5fa163e4de16d
['index_behave_test_3.json', 'index_behave_test_2.json', 'index_behave_test_1.json', 'index_behave_test.json', 'indexOwner.json']
[/bin/bash -c ""CORE_PEER_MSPCONFIGPATH=/var/hyperledger/configs/6d03cceab64111e8b0d5fa163e4de16d/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp CORE_PEER_LOCALMSPID=org1.example.com CORE_PEER_ID=peer0.org1.example.com 
.
.
.
04:12:51.704 UTC [msp/identity] Sign -> DEBU 04c\x1b[0m Sign: digest: B0BD5E5E1B635CD52C2E9DB97A74ADC91511679EEFACBA9ABDAE12C6BEAF1617 \nError: could not assemble transaction, err proposal response was not successful, error code 500, msg error starting container: error starting container: Failed to generate platform-specific docker build: Error returned from build: 1 ""npm WARN deprecated @types/winston@2.4.4: This is a stub types definition. winston provides its own type definitions, so you do not need this installed.\nnpm ERR! code EINTEGRITY\nnpm ERR! sha512-xmhA11h2XhqpSVzDAmoQAYdNQ+swILXpKOiRpAEQ2kX55ioxVADc6v7SkS4zQBxm4klhQHgGqpGKvoL6LGx4VQ== integrity checksum failed when using sha512: wanted sha512-xmhA11h2XhqpSVzDAmoQAYdNQ+swILXpKOiRpAEQ2kX55ioxVADc6v7SkS4zQBxm4klhQHgGqpGKvoL6LGx4VQ== but got sha512-zy1cxmJKFfhSsdpZqYJCXwe8xrx9zJighss0RNN5jWHQVEdydmmJXOz/cngF6dV5jM4IGtNg7uf5NiGyBkLueg==. (261518 bytes)\n\nnpm ERR! A complete log of this run can be found in:\nnpm ERR!     /root/.npm/_logs/2018-09-12T04_12_58_555Z-debug.log\n""\n'}}

{code}

*Build Logs*

https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-behave-master-x86_64/22/testReport/CouchDB_index/Testing%20Fabric%20CouchDB%20indexing/FAB_7269__Test_CouchDB_indexing_using_CC_upgrade_with_marbles_chaincode_using_NODE_with_3_channels_and_1_upgrade_____1_2_/

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-daily-behave-master-x86_64/22/;;;","29/Sep/18 5:53 AM;sambhavdutt;This is being taken care on in FAB-12040;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Typo in document,FAB-11819,33392,,Documentation,Closed,FAB,Fabric,software,denyeart,,,Lowest,Duplicate,,Specia1,Specia1,31/Aug/18 1:44 PM,10/Jan/19 1:07 AM,28/Oct/23 3:03 AM,10/Jan/19 1:07 AM,,,,,,v1.2.1,v1.3.0,,,,,,,,0,,,,,,"h1. Service Discovery Command Line Interface (discover)

*followng -> following*
{quote}The *followng* is an example of a local peer membership query which loads administrator credentials
{quote}
->
{quote}The *following* is an example of a local peer membership query which loads administrator credentials
{quote}",,Specia1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11820,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzp1b:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),Specia1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"01/Sep/18 4:35 PM;Specia1;I finished this issue. https://jira.hyperledger.org/browse/FAB-11820

Sorry. I forgot that I had created this issue.

Please. Close this issue.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Typo in the document.,FAB-11820,33393,,Documentation,Closed,FAB,Fabric,software,denyeart,,,Lowest,Done,Specia1,Specia1,Specia1,31/Aug/18 1:54 PM,10/Jan/19 1:07 AM,28/Oct/23 3:03 AM,01/Sep/18 1:00 AM,,,,,,v1.2.1,v1.3.0,,,,,,,,0,,,,,,"h1. Service Discovery Command Line Interface (discover)

*followng -> following*
{quote}The *followng* is an example of a local peer membership query which loads administrator credentials:
{quote}
 
{quote}The *following* is an example of a local peer membership query which loads administrator credentials:
{quote}",,Specia1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11819,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzp1j:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),Specia1,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,release-1.2,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Extraneous logging is confusing,FAB-11821,33394,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,ryjones,ryjones,31/Aug/18 3:13 PM,31/Aug/18 10:21 PM,28/Oct/23 3:03 AM,31/Aug/18 10:21 PM,,,,,,v1.3.0,,,,,fabric-common,,,,0,,,,,,"When we are iterating over a MockStateRangeQueryIterator, the Next() method will set Current to nil after the last element is processed.

https://gerrit.hyperledger.org/r/#/c/25790/",,ryjones,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzp1r:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ryjones,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Correct Typescript node chaincode defnitions.,FAB-11824,33401,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,mbwhite,mbwhite,mbwhite,31/Aug/18 6:49 PM,10/Sep/18 6:11 PM,28/Oct/23 3:03 AM,10/Sep/18 6:11 PM,,,,,,,,,,,,,,,0,,,,,,"- Correct spelling of unkown to unknown
- Assign values to typed variables in the typescript test.. so errors can be found.",,mbwhite,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzp33:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),mbwhite,,,,,,,,,,,,,,,,,,,,,,,,,,release-2.4,purge-pd,main-emeritius,main,correct-nodeenv-version,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"31/Aug/18 7:06 PM;mbwhite;Gerrit --> https://gerrit.hyperledger.org/r/26020;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update amcl library in Go with the multithread fix,FAB-11825,33403,,Bug,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,rtorres,dubovitskaya,dubovitskaya,31/Aug/18 10:16 PM,06/Sep/18 9:00 PM,28/Oct/23 3:03 AM,06/Sep/18 9:00 PM,v1.4.0,,,,,,,,,,,,,,0,,,,,,,,dubovitskaya,rtorres,Tecnalia,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11856,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-10120,,,No,,Unset,No,,,"1|hzzp3j:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),dubovitskaya,rtorres,Tecnalia,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"06/Sep/18 7:48 PM;Tecnalia;[~rtorres] can you check your latest contribution to fabric-amcl crypto lib?

It seems that generates next error:

{{../vendor/github.com/hyperledger/fabric/idemix/util.go:60:11: not enough arguments in call to E.ToBytes}}
{{ have ([]byte)}}
{{ want ([]byte, bool)}}

{{Thanks}};;;","06/Sep/18 8:38 PM;rtorres;Hi,

Its fixed in the latest one. That method now requires an extra argument.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
func TestTxOpsPreparationMetadataUpdates intermittent failure on ppc64le,FAB-11826,33405,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,harsha544,harsha544,harsha544,01/Sep/18 12:41 AM,03/Sep/18 7:00 AM,28/Oct/23 3:03 AM,03/Sep/18 7:00 AM,v1.3.0,,,,,v1.3.0,,,,,fabric-ci,,,,0,ledger,Ledger,,,,"Fabric UT :-
func *TestTxOpsPreparationMetadataUpdates* of 
github.com/hyperledger/fabric/core/ledger/kvledger/txmgmt/validator/valinternal fails intermittently whenever issued make unit-test. 

However reported func doesn't fail when explicitly run via *go test -v* *.***
Most likely the issue is arising because of race condition. Where-in parallely executing UT is cleaning up same path i.e */tmp/fabric/ledgertests/kvledger/txmgmt/validator/.*
Enclosing logs for further reference.",,harsha544,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"01/Sep/18 12:41 AM;harsha544;Console.log;https://jira.hyperledger.org/secure/attachment/15765/Console.log",,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzp3r:",,,,Unset,Unset,,,make unit-test,,Unset,,,,,,Unset,,Unset,,(Please add usage information),harsha544,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"01/Sep/18 12:54 AM;harsha544;[~manish-sethi] Can you kindly suggest as to why this UT is failing and kindly suggest as to what can be done next ?;;;","03/Sep/18 3:53 AM;harsha544;Pushed a PR via [https://gerrit.hyperledger.org/r/#/c/26045/] to address above issue.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Rename package names/directories for validator,FAB-11827,33406,28450,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ales,ales,ales,01/Sep/18 12:48 AM,05/Sep/18 1:08 AM,28/Oct/23 3:03 AM,05/Sep/18 1:08 AM,,,,,,,,,,,,,,,0,,,,,,"In order to be more compliant with the go naming conventions, packages/directories defined to contain 1.2 and 1.3 validation logic should be renamed.

Thx for bringing it to my attention [~sykesm]",,ales,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzp3z:",,,,Unset,Unset,Sprint 6 - NextGen Endorseme 2,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ales,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Create ""what's new in v1.3"" documentation",FAB-11828,33407,,Documentation,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,joe-alewine,joe-alewine,joe-alewine,01/Sep/18 2:40 AM,25/Sep/18 7:53 AM,28/Oct/23 3:03 AM,25/Sep/18 2:09 AM,,,,,,v1.3.0,,,,,fabric-docs,,,,0,,,,,,"Essentially, the v1.3 version of this doc:

[https://hyperledger-fabric.readthedocs.io/en/release-1.2/whatsnew.html]

With State based endorsement, chaincode pagination, updates to the ""network"" topic, and anything else we're documenting for v1.3.",,joe-alewine,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11873,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwrqf:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),joe-alewine,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"24/Sep/18 11:57 PM;joe-alewine;https://gerrit.hyperledger.org/r/c/26511/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add discovery DEBUG logging for requests,FAB-11829,33410,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,01/Sep/18 3:45 AM,16/Sep/18 4:17 PM,28/Oct/23 3:03 AM,16/Sep/18 4:17 PM,,,,,,,,,,,,,,,0,,,,,,,,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzp4f:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,release-1.2,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"01/Sep/18 4:01 AM;yacovm;https://gerrit.hyperledger.org/r/#/c/26028/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Code hygiene for key-level validation tests,FAB-11830,33411,28450,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ales,ales,ales,01/Sep/18 4:34 AM,05/Sep/18 1:08 AM,28/Oct/23 3:03 AM,05/Sep/18 1:08 AM,,,,,,,,,,,,,,,0,,,,,,"* avoid using sleeps
 * use keyed fields
 * log seed of randomness in case of assert violations",,ales,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzp4n:",,,,Unset,Unset,Sprint 6 - NextGen Endorseme 2,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ales,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fix GetActionFromEnvelope() name in protoutils,FAB-11831,33416,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,Senthil1,Senthil1,Senthil1,01/Sep/18 5:59 PM,06/Dec/18 11:33 PM,28/Oct/23 3:03 AM,06/Dec/18 11:33 PM,,,,,,v1.4.0,,,,,,,,,0,,,,,,"The `GetActionFromEnvelope()` calls `GetEnvelopeFromBlock()` with argument as a txEnvelope and it is so confusing/wrong. 


We should rename 
 * `GetActionFromEnvelope()` to `GetActionFromEnvelopeBytes()`
 * `GetEnvelopeFromBlock()``GetEnvelopeFromBytes()`",,denyeart,Senthil1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-5108,,,No,,Unset,No,,,"1|hzzp5j:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,Senthil1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"24/Sep/18 4:47 AM;denyeart;https://gerrit.hyperledger.org/r/#/c/25885/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Separate registrar initialization logic from its instance creation,FAB-11832,33417,32551,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,02/Sep/18 3:05 AM,16/Oct/18 7:55 AM,28/Oct/23 3:03 AM,15/Oct/18 1:28 AM,,,,,,,,,,,,,,,0,,,,,,,,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzv7z:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"02/Sep/18 3:08 AM;yacovm;https://gerrit.hyperledger.org/r/#/c/26037/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Future does not complete when sending endorsments to orderer,FAB-11834,33419,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,rickr,alacambra,alacambra,02/Sep/18 4:53 AM,02/Sep/18 5:28 PM,28/Oct/23 3:03 AM,02/Sep/18 5:28 PM,,,,,,,,,,,fabric-sdk-java,,,,0,,,,,,"When sending proposals to orderer, if some of the peers is off, the CF will not complete until the peer is available again. Even the transaction has succeed because other organization peers has commited the blocks, the client will not be able to confirm until producing a timeout an querying to some other peers.

 

Method called:

CompletableFuture<TransactionEvent> sendTransaction(Collection<ProposalResponse> proposalResponses{color:#cc7832}, {color}Collection<Orderer> orderers);

 

Logs produceds:
2018-09-01 19:43:29,102 grpc-default-executor-0 WARN PeerEventServiceClient:280 - Received error on peer eventing service on channel policies-channel, peer peer0.lacambra.tech, url grpc://192.168.99.100:27051, attempts 51. UNAVAILABLE: io exception
2018-09-01 19:43:54,459 grpc-default-executor-0 WARN PeerEventServiceClient:280 - Received error on peer eventing service on channel policies-channel, peer peer0.lacambra.tech, url grpc://192.168.99.100:27051, attempts 101. UNAVAILABLE: io exception
2018-09-01 19:44:19,826 grpc-default-executor-2 WARN PeerEventServiceClient:280 - Received error on peer eventing service on channel policies-channel, peer peer0.lacambra.tech, url grpc://192.168.99.100:27051, attempts 151. UNAVAILABLE: io exception
2018-09-01 19:44:45,212 grpc-default-executor-0 WARN PeerEventServiceClient:280 - Received error on peer eventing service on channel policies-channel, peer peer0.lacambra.tech, url grpc://192.168.99.100:27051, attempts 201. UNAVAILABLE: io exception
2018-09-01 19:45:10,562 grpc-default-executor-0 WARN PeerEventServiceClient:280 - Received error on peer eventing service on channel policies-channel, peer peer0.lacambra.tech, url grpc://192.168.99.100:27051, attempts 251. UNAVAILABLE: io exception",,alacambra,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzp5r:",,,,Unset,Unset,,,Stop some peer and send a TX.,,Unset,,,,,,Unset,,Unset,,(Please add usage information),alacambra,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"02/Sep/18 5:33 AM;rickr;From what I see described this is _working as designed._  The default is to check all eventing  peers on the channel for acknowledgement the transaction has been committed (via events)  . The application can also select which peers it would like to see complete -- or none at all.   Applications need to put on the future a time out.  If the future times out as opposed to being successful or in error, the application needs to determine what it needs to do to recover. It can just ignore it or query the specific peers it deems necessary/adequate to having committed the transaction.;;;","02/Sep/18 5:26 PM;alacambra;Ok. Than it'S clear. I will close the  bug;;;","02/Sep/18 5:28 PM;alacambra;What is described as a bug, is actually the desired behaviour;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add Step method to Chain interface,FAB-11835,33420,32551,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,02/Sep/18 5:49 AM,16/Oct/18 7:55 AM,28/Oct/23 3:03 AM,15/Oct/18 1:27 AM,,,,,,,,,,,,,,,0,,,,,,,,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzp5z:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"02/Sep/18 5:55 AM;yacovm;https://gerrit.hyperledger.org/r/#/c/26039/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
peer logging command no longer honors regex matching,FAB-11836,33424,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wlahti,denyeart,denyeart,02/Sep/18 8:55 PM,15/Sep/18 10:15 PM,28/Oct/23 3:03 AM,12/Sep/18 4:46 AM,,,,,,v1.3.0,,,,,fabric-peer,,,,0,,,,,,"In v1.2 and prior master builds I could turn off all gossip debug with a peer command like:

{code:java}
peer logging setlevel gossip ERROR
{code}

or

{code:java}
peer logging setlevel gossip* ERROR
{code}


In recent master builds I have to specify each gossip component/subcomponent exactly:

{code:java}
peer logging setlevel gossip/discovery ERROR
{code}


The prior behavior should be restored.",,denyeart,sykesm,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzp6n:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,sykesm,wlahti,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"02/Sep/18 8:55 PM;denyeart;[~wlahti] [~sykesm] Any idea what changed?;;;","04/Sep/18 10:26 PM;wlahti;I'll handle this task. There are a few items related to logging, including this, that need to be looked into now that we're using the new zap logging package as our backend for most of Fabric (everything other than chaincode containers, as far as I know). ;;;","05/Sep/18 1:12 AM;sykesm;admin service should be using {{SetModuleLevels}} instead of {{SetModuleLevel}}.;;;","05/Sep/18 2:44 AM;wlahti;Ah yes, I remember you mentioning that, Matt. Thanks. Think it makes sense to have both SetModuleLevel and SetModuleLevels exposed via the admin service? That way we're explicit that SetLevel only sets one module's level while SetLevels can use a regular expression.;;;","05/Sep/18 3:03 AM;sykesm;> Think it makes sense to have both SetModuleLevel and SetModuleLevels exposed via the admin service?

No. I think we need to avoid adding operations.

The current service is already weird with extra cruft like GetStatus and StartServer (that only return a constant ServerStatus_STARTED) and adding different mechanisms to change the logging level is just additional complexity that is unwarranted with drags to proto, service, tests, etc.

We should just fix the current issue and move on.;;;","07/Sep/18 1:46 AM;wlahti;https://gerrit.hyperledger.org/r/c/26140/

This is the first step in re-enabling set log levels via regular expressions. There is further planned work to address FAB-11775, which points out that the log levels at peer startup no longer function as expected. ;;;","15/Sep/18 10:15 PM;denyeart;I'm late to the game, but as the reporter I just wanted to confirm that the fix does indeed work for me now.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
Track gossip per channel membership changes,FAB-11837,33425,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,inbarbadian,yacovm,yacovm,02/Sep/18 9:07 PM,29/Nov/18 10:13 PM,28/Oct/23 3:03 AM,29/Nov/18 10:13 PM,v1.4.0,,,,,v1.4.0,,,,,fabric-gossip,,,,1,serviceability,,,,,"Knowing the peers in the channel on a periodical basis might be useful for troubleshooting private data dissemination scenarios. 

I suggest adding a periodical task  to the [channel|https://github.com/hyperledger/fabric/blob/release-1.2/gossip/gossip/channel/channel.go] object via the [periodicalInvocation|https://github.com/hyperledger/fabric/blob/release-1.2/gossip/gossip/channel/channel.go#L281], that would log whenever a membership change is detected, and log the endpoint(s) of the peers that appear in the delta.


",,denyeart,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzu73:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"02/Sep/18 9:43 PM;denyeart;Agreed.  And I suggest:

Use Warning level if there are 0 internal or 0 external peers detected (after initialization and then again if it goes from N back to 0).

Use Warning level if there are no anchor peers configured, and provide hint as to where it should be configured.

We will need to be careful to strike the correct balance... we don't want verbose and repeating Warning or Info log messages, but one-time messages such as the above will be helpful to provide immediate feedback, for example in scenarios where private data is not getting disseminated.

The warning messages need to be worded carefully, to not panic people that are just testing with one peer, or who don't need gossip, but convey that it will impact scenarios such as private data dissemination.

Additionally, the messages for private data push and pull failure should clearly indicate if there are 0 internal/external peers known.;;;","02/Sep/18 9:57 PM;yacovm;{quote}Use Warning level if there are no anchor peers configured, and provide hint as to where it should be configured.{quote}

We always have no anchor peers when we join the channel, and they are added for each org incrementally...  
In any case - this isn't related to this task. ;;;","02/Sep/18 11:11 PM;denyeart;If you are printing a message about 0 peers found, it would be useful to know if anchor peers are configured, it does seem related to this task.;;;","03/Sep/18 3:21 AM;yacovm;{quote}If you are printing a message about 0 peers found, it would be useful to know if anchor peers are configured, it does seem related to this task.{quote}


All right, then if 0 peers of external organizations are found - we shall print in a warning that this may be due to lack of anchor peers, in case no anchor peers are configured. ;;;","24/Sep/18 5:11 AM;denyeart;[~inbarbadian] [~yacovm] Last chance for v1.3...;;;","24/Sep/18 5:18 AM;denyeart;Bulk Jira update:
For remaining tasks with FixVersion v1.3.0, the Reporter should update to v1.4.0 or Future, or Close.
Add a comment with any clarification needed, so that release managers can close out v1.3.0 release cleanly.;;;","24/Sep/18 6:41 AM;yacovm;Since this wasn't done in time for v1.3, and time machines are hard to come by these days (so we can't implement it in the future and include it in v1.3) - there is no choice but to defer to v1.4.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
Log anchor peers in JoinChannel ,FAB-11838,33426,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,02/Sep/18 9:09 PM,04/Sep/18 9:00 PM,28/Oct/23 3:03 AM,04/Sep/18 8:59 PM,,,,,,v1.2.1,v1.3.0,,,,fabric-gossip,,,,0,serviceability,,,,,"It can be useful for troubleshooting, if the join channel invocation would log the anchor peer addresses. ",,denyeart,DinghaoLI 1,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzp6v:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,DinghaoLI 1,yacovm,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,release-1.2,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"02/Sep/18 9:21 PM;yacovm;https://gerrit.hyperledger.org/r/#/c/26042/;;;","03/Sep/18 11:12 AM;DinghaoLI 1;Good Job for troubleshooting;;;","04/Sep/18 9:00 PM;denyeart;[https://gerrit.hyperledger.org/r/#/c/26043/] for release-1.2.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Developing Applications topic: transaction hooks,FAB-11840,33432,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,odowdaibm,odowdaibm,odowdaibm,03/Sep/18 2:52 PM,23/Jan/19 12:59 PM,28/Oct/23 3:03 AM,23/Jan/19 12:59 PM,v1.3.0,,,,,v1.4.0,,,,,fabric-docs,,,,0,,,,,,Short topic on transaction handlers,,denyeart,mbwhite,odowdaibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Yes,Unset,,FAB-11459,,,No,,Unset,No,,,"1|hzwrs7:",,,,No,Unset,,,(Please add steps to reproduce),,No,,,,,,Unset,,Unset,,(Please add usage information),denyeart,mbwhite,odowdaibm,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"23/Jan/19 12:59 PM;denyeart;https://gerrit.hyperledger.org/r/#/c/26051/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Restart Fabric Containers,FAB-11841,33434,,Bug,Closed,FAB,Fabric,software,denyeart,,,Highest,Invalid: Works as Expected,,arman19940326,arman19940326,03/Sep/18 4:41 PM,03/Sep/18 10:35 PM,28/Oct/23 3:03 AM,03/Sep/18 10:35 PM,v1.1.0,,,,,,,,,,,,,,0,,,,,,"I have two organizations in my fabric network. Something in one of the organizations happened and all of its containers stopped. I tried to restart all the containers by using the command: docker start [container name/ID]

All the containers started working except the ones that related to the chaincode (the ones that are created from images that are created when instantiating the chaincode). In my case one of these containers is named ""dev-peer1.org2.example.com-mycc-v0"".

When I run the command: docker start -ai dev-peer1.org2.example.com-mycc-v0

This error appears on the screen:

 

2018-09-03 07:38:57.505 UTC [shim] userChaincodeStreamGetter -> ERRO 001 x509: certificate signed by unknown authority (possibly because of ""x509: ECDSA verification failure"" while trying to verify candidate authority certificate ""serial:275482415651089174706268299809265189231"")
 error trying to connect to local peer
 github.com/balance/vendor/github.com/hyperledger/fabric/core/chaincode/shim.userChaincodeStreamGetter
 /chaincode/input/src/github.com/balance/vendor/github.com/hyperledger/fabric/core/chaincode/shim/chaincode.go:111
 github.com/balance/vendor/github.com/hyperledger/fabric/core/chaincode/shim.Start
 /chaincode/input/src/github.com/balance/vendor/github.com/hyperledger/fabric/core/chaincode/shim/chaincode.go:150
 main.main
 /chaincode/input/src/github.com/balance/balance.go:793
 runtime.main
 /opt/go/src/runtime/proc.go:195
 runtime.goexit
 /opt/go/src/runtime/asm_amd64.s:2337
 Error creating new Smart Contract: error trying to connect to local peer: x509: certificate signed by unknown authority (possibly because of ""x509: ECDSA verification failure"" while trying to verify candidate authority certificate ""serial:275482415651089174706268299809265189231"")

 

What should I do to bring the stopped organization back to the network?

Is there any tutorial on how to bring back stopped organizations/peers and make sure that they're in sync with the rest of the network? How can I make sure that after restarting a stopped peer container its version of blockchain is not in conflict with the rest of the peers? Does this restarted peer fetch the missed blocks and sync with other peers automatically?",,arman19940326,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzp8f:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),arman19940326,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"03/Sep/18 9:12 PM;arman19940326;I was able to solve this on my own!;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Use sync.map in msp/mgmt for better performance,FAB-11843,33437,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,yoheiueda,yoheiueda,03/Sep/18 6:57 PM,05/Dec/18 5:49 AM,28/Oct/23 3:03 AM,11/Sep/18 6:21 PM,,,,,,,,,,,,,,,0,,,,,,"I'd like to replace map and Mutex in MSP mgmt code with sync.map and RWMutex for better performance. sync.map is a thread-safe version of map, and become available from Go 1.9.


Originally this patch was included in the change for [FAB-11321] (MSP cache optimization), but the original patch includes code that are not directly related to MSP cache.

Based on a review comment in https://gerrit.hyperledger.org/r/c/24797/4/msp/mgmt/mgmt.go
I split the original patch into two parts, and this JIRA issue is about the remaining part.",,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzp8v:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"03/Sep/18 7:06 PM;yoheiueda;https://gerrit.hyperledger.org/r/26055;;;","03/Sep/18 7:15 PM;yoheiueda;[~yacovm] [~ales]

Based on a review comment in [https://gerrit.hyperledger.org/r/c/24797/4/msp/mgmt/mgmt.go]

I raised this Jira issue for the reaming part of FAB-11321

Could you please review the CR as well?;;;","11/Sep/18 6:21 PM;yoheiueda;I opened a new issue FAB-11946 based on [~ales]'s advise.

[https://gerrit.hyperledger.org/r/c/26055/3/msp/mgmt/mgmt.go#52];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update vendored fabric-amcl to the latest version,FAB-11844,33443,,Bug,Closed,FAB,Fabric,software,denyeart,,,Highest,Duplicate,angelo.decaro,angelo.decaro,angelo.decaro,03/Sep/18 9:55 PM,11/Sep/18 9:19 PM,28/Oct/23 3:03 AM,11/Sep/18 9:19 PM,,,,,,,,,,,fabric-ca,fabric-crypto,,,0,,,,,,The latest version of fabric-amcl brings in patches to issues when using the library in multi-thread settings. Fabric and fabric-ca need to vendor the latest version to make idemix safe in multi-thread settings.,,angelo.decaro,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11869,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzp93:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),angelo.decaro,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"03/Sep/18 10:01 PM;angelo.decaro;https://gerrit.hyperledger.org/r/#/c/26056/;;;","11/Sep/18 9:17 PM;denyeart;https://gerrit.hyperledger.org/r/#/c/26103/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
An invalid charecter in xml file in TESTS-chaincode shows a false negative report in the daily-svt job for v1.2,FAB-11845,33444,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,,sambhavdutt,sambhavdutt,04/Sep/18 12:07 AM,19/Mar/19 8:13 PM,28/Oct/23 3:03 AM,15/Sep/18 10:32 PM,v1.2.0,,,,,v1.2.0,,,,,fabric-quality,,,,0,ci-failure,,,,,"A false negative is obseved in the *fabric-test-daily-svt-release-1.2-x86_64* due to TESTS-chaincodes xml file generated, 


{code:java}
Failed to read test report file /w/workspace/fabric-test-daily-svt-release-1.2-x86_64/gopath/src/github.com/hyperledger/fabric-test/regression/daily/TESTS-chaincodes.xml
org.dom4j.DocumentException: Error on line 357 of document  : An invalid XML character (Unicode: 0x1b) was found in the value of attribute ""message"" and element is ""failure"". Nested exception: An invalid XML character (Unicode: 0x1b) was found in the value of attribute ""message"" and element is ""failure"".
	at org.dom4j.io.SAXReader.read(SAXReader.java:482)
	at org.dom4j.io.SAXReader.read(SAXReader.java:343)
	at hudson.tasks.junit.SuiteResult.parse(SuiteResult.java:178)
	at hudson.tasks.junit.TestResult.parse(TestResult.java:348)
	at hudson.tasks.junit.TestResult.parsePossiblyEmpty(TestResult.java:281)
	at hudson.tasks.junit.TestResult.parse(TestResult.java:206)
	at hudson.tasks.junit.TestResult.parse(TestResult.java:178)
	at hudson.tasks.junit.TestResult.<init>(TestResult.java:143)
	at hudson.tasks.junit.JUnitParser$ParseResultCallable.invoke(JUnitParser.java:146)
	at hudson.tasks.junit.JUnitParser$ParseResultCallable.invoke(JUnitParser.java:118)
	at hudson.FilePath$FileCallableWrapper.call(FilePath.java:2913)
	at hudson.remoting.UserRequest.perform(UserRequest.java:212)
	at hudson.remoting.UserRequest.perform(UserRequest.java:54)
	at hudson.remoting.Request$2.run(Request.java:369)
	at hudson.remoting.InterceptingExecutorService$1.call(InterceptingExecutorService.java:72)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.xml.sax.SAXParseException; lineNumber: 357; columnNumber: 895; An invalid XML character (Unicode: 0x1b) was found in the value of attribute ""message"" and element is ""failure"".
{code}

*Build Logs*

https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-svt-release-1.2-x86_64/23/testReport/TESTS-chaincodes/xml/_failed_to_read_/

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-daily-svt-release-1.2-x86_64/23/
",,latitiah,rameshthoomu,sambhavdutt,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,93ee0e65017f767adf0140e4b64188941a52a7a0,Unset,No,,,"1|hzzp9b:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),latitiah,rameshthoomu,sambhavdutt,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"15/Sep/18 10:33 PM;sambhavdutt;This error has not been happening from multiple tests.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Kafka short total interval does not work,FAB-11846,33445,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid: Environment Issue,,bh4rtp,bh4rtp,04/Sep/18 11:18 AM,05/Sep/18 12:03 PM,28/Oct/23 3:03 AM,05/Sep/18 12:03 PM,,,,,,,,,,,,,,,0,,,,,,"In the fabric/sampleconfig/orderer.yaml, kafka setting:

Kafka:
  Retry:
    ShortInterval: 5s
    ShortTotal: 10m
    LongInterval: 5m
    LongTotal: 12h

It is thought that every 5 seconds reconnection will continue for 10 minutes. But actually, about 30 seconds it will trigger long interval timeout, i.e. 5 minutes for 12 hours.

Here is the logs of orderer.

 

2018-09-04 10:04:24.454 CST [localconfig] completeInitialization -> INFO 001 Kafka.Version unset, setting to 0.10.2.0
2018-09-04 10:04:24.455 CST [bccsp_sw] openKeyStore -> DEBU 002 KeyStore opened at [/var/hyperledger/orderer/msp/keystore]...done
2018-09-04 10:04:24.464 CST [bccsp] initBCCSP -> DEBU 003 Initialize BCCSP [SW]

...

2018-09-04 10:04:56.270 CST [orderer/consensus/kafka/sarama] withRecover -> DEBU 200 Failed to connect to broker kafka3.energyx.com:9092: dial tcp 172.24.0.19:9092: connect: connection refused
2018-09-04 10:04:56.277 CST [orderer/consensus/kafka] try -> DEBU 201 [channel: energyx-orderer-syschan] Initial attempt failed = error creating topic [energyx-orderer-syschan]; failed to retrieve metadata for the cluster
2018-09-04 10:04:56.277 CST [orderer/consensus/kafka] try -> DEBU 202 [channel: energyx-orderer-syschan] Retrying every 5m0s for a total of 12h0m0s

 ",,bh4rtp,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzp9j:",,,,Unset,Unset,,,"1) compile the latest master fabric.
2) start the network with kafka orderer type.
3) check the logs of orderer.example.com container.",,Unset,,,,,,Unset,,Unset,,(Please add usage information),bh4rtp,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"05/Sep/18 9:48 AM;bh4rtp;Notice that orderer started up at 2018-09-04 10:04:24.454, and retrying every 5m for a total of 12h triggered at 2018-09-04 10:04:56.277.;;;","05/Sep/18 9:56 AM;bh4rtp;Sorry, please close this issue. I have overwritten the environment variables in docker-compose.yaml file.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Developing Applications topic: Application,FAB-11847,33446,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,odowdaibm,odowdaibm,odowdaibm,04/Sep/18 2:52 PM,23/Jan/19 1:00 PM,28/Oct/23 3:03 AM,23/Jan/19 1:00 PM,v1.3.0,,,,,v1.4.0,,,,,fabric-docs,,,,0,,,,,,,,odowdaibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Yes,Unset,,FAB-11459,,,No,,Unset,No,,,"1|hzwrsn:",,,,No,Unset,,,(Please add steps to reproduce),,No,,,,,,Unset,,Unset,,(Please add usage information),odowdaibm,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As a token infrastructure (peer) developer, I want to implement a TMS verifier than validates import transactions",FAB-11848,33448,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,mathiasb303,mathiasb303,mathiasb303,04/Sep/18 5:04 PM,14/Jan/20 12:11 AM,28/Oct/23 3:03 AM,14/Jan/20 12:11 AM,,,,,,,,,,,,,,,0,fabtoken,stale-item,,,,"*Acceptance:* An import transaction is passed to the Validate function of the TMS verifier, and the verifier returns success for well-formed import transactions, since there is nothing to check at validation time for import transactions for plain TMS. If the transaction is malformed, or is not an import transaction, an error is returned.",,mathiasb303,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzpa7:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),mathiasb303,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"05/Sep/18 4:39 PM;mathiasb303;Functionality implemented as part of the following CR:

https://gerrit.hyperledger.org/r/#/c/25671/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Change orderer cluster logging to use flogging logging package,FAB-11852,33454,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,04/Sep/18 7:12 PM,27/Nov/18 6:22 PM,28/Oct/23 3:03 AM,27/Nov/18 6:22 PM,,,,,,,,,,,,,,,0,,,,,,,,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzpbj:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"04/Sep/18 8:51 PM;yacovm;https://gerrit.hyperledger.org/r/#/c/26069/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Serviceability - Improve troubleshooting,FAB-11853,33455,,Epic,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,sykesm,mastersingh24,mastersingh24,04/Sep/18 8:06 PM,23/Jan/20 7:33 AM,28/Oct/23 3:03 AM,23/Jan/20 7:33 AM,,,,,,v1.4.0,,,,,,,,,0,serviceability,stale-item,,,,Fabric is very complex in terms of the number of components required to process a transaction.  This epic will track stories geared towards making it easier to debug and troubleshoot both component and cross-component level interactions.,,latitiah,mastersingh24,nnao,paragsomeshwar,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Logging level improvements merged to fabric.,(Please add high level design or a link to the design),Not Required,Unset,Required,ghx-label-3,,Serviceability - Improve troubleshooting,To Do,No,,Required,No,,,"1|hzzpbr:",,,,No,Not Required,,,(Please add steps to reproduce),,Unset,,,,,"Functional Tests:

- FAB-12265: Dynamic log levels for the orderer
* Use the new orderer admin service to get and set log specs for the orderer and observe that new log specs take effect. (Will also be covered by integration tests in fabric.)


System Tests:

FAB-12357: no system test or function test should be required but the release notes should be examined to ensure appropriate and accurate information exists to help with the migration from the older logging module configuration. In particular, loggers are now named and level specification should be simpler.
",Unset,,Unset,,(Please add usage information),latitiah,mastersingh24,nnao,paragsomeshwar,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"31/Oct/18 10:15 PM;latitiah;This epic still needs a test plan summary associated with it. Here is a quick guide for what the summary should contain. Thanks!
{code}
Functional Tests:
 - FAB-XXX1: Make sure config is accepted and turns on feature (Integration) - PersonA
 - FAB-XXX2: What happens when config is set wrong (unit) - PersonA
 - FAB-XXX3: When FeatureX is turned on in both ComponentA and ComponentB (End-to-end) - PersonB
 - FAB-XXX4: When FeatureX is turned on in ComponentA and not ComponentB (End-to-end) - PersonA

System Tests:
 - FAB-XXX5: How is performace impacted when sending 5 packets per second for 3 hours? - PersonC
   * Be sure to set the following config values on ComponentA as such:
     - FEATUREX=true
     - FEATURE_PATH=/some/path/for/my/feature
   * Be sure to send the messages using the foo SDK
 - FAB-XXX6: Is the feature and component stable when executing 10 packets per second for 1 week? - PersonC
   * Be sure to set the following config values on ComponentA as such:
     - FEATUREX=true
     - FEATURE_PATH=/some/path/for/my/feature
{code};;;","23/Jan/20 7:33 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Improve ability to debug and trace gRPC interactions,FAB-11854,33456,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,mastersingh24,mastersingh24,04/Sep/18 8:28 PM,10/Oct/18 12:48 AM,28/Oct/23 3:03 AM,10/Oct/18 12:47 AM,,,,,,,,,,,,,,,0,serviceability,,,,,"* TLS errors - minimally log TLS errors where possible
* Trace-level information for gRPC connections
* Cross component transaction tracing",,mastersingh24,smartheye,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwu3z:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),mastersingh24,smartheye,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"10/Oct/18 12:48 AM;sykesm;Extracted remaining task to a separate story.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Log TLS server errors,FAB-11855,33457,33456,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,mastersingh24,mastersingh24,mastersingh24,04/Sep/18 8:31 PM,06/Sep/18 7:36 PM,28/Oct/23 3:03 AM,05/Sep/18 10:09 AM,,,,,,,,,,,,,,,0,Usability,,,,,"gRPC does not log TLS errors unless you turn on debug logging.
comm.GRPCServer actually uses custom TransportCredentials and we should leverage this to log TLS errors at log level ""error""",,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11892,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzpbz:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"05/Sep/18 5:58 AM;mastersingh24;https://gerrit.hyperledger.org/r/26085;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fabric integrity broken,FAB-11856,33459,,Bug,Closed,FAB,Fabric,software,denyeart,,,Highest,Duplicate,,Tecnalia,Tecnalia,04/Sep/18 9:42 PM,06/Sep/18 9:20 PM,28/Oct/23 3:03 AM,06/Sep/18 9:20 PM,v1.2.0,,,,,v1.3.0,,,,,fabric-amcl,fabric-build,fabric-common,,0,,,,,,"An update on fabric-amcl library has broken fabric integrity and thus, it is not able to build

Tested branches are:
 * release-1.2
 * master

An idemix function at line 60 of idemix/util.go (https://github.com/hyperledger/fabric/blob/release-1.2/idemix/util.go) with next signature

{{func appendBytesG1(data []byte, index int, E *FP256BN.ECP) int {}}
 {{   length := 2*FieldBytes + 1}}
 {{   E.ToBytes(data[index : index+length])}}
 {{   return index + length}}
 }

breaks fabric compilation because function E.ToBytes() of package fabric-amcl was renamed to

{{func (E *ECP) ToBytes(b []byte,compress bool)}}

generating next issue:

{{have([]byte)}}
 {{want([]byte, bool}}

caused by commit

https://github.com/hyperledger/fabric-amcl/commit/6b78f7a22d950103fb2669aabb969f56d42d283b

we either need to update idemix function or rollback to previous fabric-amcl signature to be able to compile fabric and deploy new smart contracts",,denyeart,dubovitskaya,Tecnalia,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11869,,,FAB-11825,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzpcf:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,dubovitskaya,Tecnalia,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"06/Sep/18 9:00 PM;denyeart;[~rtorres] [~dubovitskaya] [~adc] Please take a look.;;;","06/Sep/18 9:05 PM;dubovitskaya;[https://gerrit.hyperledger.org/r/#/c/26103/] it is fixed here already;;;","06/Sep/18 9:20 PM;denyeart;Fix merged in FAB-11869;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
fabric-test-daily PTE (master branch) is failing due to AssertionError.,FAB-11858,33469,,Bug,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,scottz,sambhavdutt,sambhavdutt,05/Sep/18 12:13 AM,19/Mar/19 8:13 PM,28/Oct/23 3:03 AM,05/Sep/18 9:07 AM,v1.3.0,,,,,v1.3.0,,,,,fabric-quality,,,,0,ci-failure,,,,,"The daily PTE tests for master branch are failing due to Assertion, Copying the errors observed,

{code:java}
systest_pte.Perf_Stress_CouchDB.test_FAB3832_4i_FAB3834_4q (from pytest) 

22:56:51 systest_pte.py::Perf_Stress_CouchDB::test_FAB3832_4i_FAB3834_4q FAILED
23:24:23 systest_pte.py::Perf_Stress_CouchDB::test_FAB3833_2i_FAB3810_2q FAILED
23:48:53 systest_pte.py::Perf_Stress_LevelDB::test_FAB3807_4i_FAB3835_4q FAILED
00:12:55 systest_pte.py::Perf_Stress_LevelDB::test_FAB3808_2i_FAB3811_2q FAILED

Error Message

AssertionError: 0 != 2

        self.assertEqual(returncode, 0, msg=""Test Failed; check for errors in fabric-test/tools/PTE/CITest/Logs/"")
        
# tear down the network, including all the nodes docker containers
        returncode = subprocess.call(""./networkLauncher.sh -a down"", cwd=nl_directory, shell=True)
    
        # (#orgs * #chaincodes * #channels * #threads per org * 10,000 TX per thread):
        #     2*1*1*2*10000=40000
        # and the expected count of occurances will be the number of orgs:
        #     2
        invokeTxSucceeded = subprocess.check_output(
                ""grep \""Channel: all, tx Num: 40000,\"" result_FAB-3832-4i.log | wc -l"",
                cwd=scenarios_directory, shell=True)
        self.assertEqual(int(invokeTxSucceeded.strip()), 2)
    
        # (#chaincodes * #channels * #threads per org * 10,000 TX per thread):
        #     1*1*2*10000=20000
        # and compute the count of occurances as (#orgs * #threads per org * #channels):
        #     2*1*1=2
        queryTxSucceeded = subprocess.check_output(
                ""grep \""Total QUERY transaction 20000,\"" result_FAB-3832-4i.log | wc -l"",
                cwd=scenarios_directory, shell=True)
>       self.assertEqual(int(queryTxSucceeded.strip()), 2)
E       AssertionError: 0 != 2

systest_pte.py:164: AssertionError
{code}

*Build Logs*

https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-pte-master-x86_64/22/testReport/systest_pte/Perf_Stress_CouchDB/test_FAB3832_4i_FAB3834_4q/

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-daily-pte-master-x86_64/22/",,dongming,latitiah,rameshthoomu,sambhavdutt,scottz,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,2f246ad6e1bb15afce247886522592bf6248618d,Unset,No,,,"1|hzzpe7:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),dongming,latitiah,rameshthoomu,sambhavdutt,scottz,suryalnvs,,,,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,true,"05/Sep/18 1:51 AM;scottz;[~sambhavdutt]  When was the first failure? Has it failed at least two days in a row? Did this pass on previous days?;;;","05/Sep/18 6:01 AM;scottz;https://gerrit.hyperledger.org/r/#/c/26084/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
change fabric-test frameworks to start networks with  V1_3 capabilities enabled by default,FAB-11859,33471,,Test Task,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,scottz,scottz,scottz,05/Sep/18 12:36 AM,24/Sep/18 5:23 AM,28/Oct/23 3:03 AM,05/Sep/18 9:08 AM,,,,,,v1.3.0,,,,,fabric-quality,,,,0,,,,,,"In fabric-test, we are running all tests with v1.2 capabilities only.

{{PTE/OTE with NL:}}
 {{ .../fabric-test/tools/NL$ grep -i v1_[23] * 2>/dev/null}}
 \{{ configtx.yaml-in: V1_2: true}}
 \{{ .../fabric-test/tools/NL$ }}

{{Behave tests:}}
 {{ .../fabric-test/feature$ grep -i v1_[23]  *  **/** 2>/dev/null}}
 \{{ configs/configtx.yaml: V1_2: true}}
 \{{ .../fabric-test/feature$ }}

We might also want to identify any other changes to the configtx.yml files... but let's use this task to simply update the release number.",,scottz,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11879,FAB-11778,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-6742,,,No,,Unset,No,,,"1|hzzpen:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),scottz,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,true,"05/Sep/18 12:46 AM;suryalnvs;[~scottz] when we use v1.3 based images to launch fabric network, those images will have configtx.yaml with v1_3 capabilities enabled by default. So we are using the v1.3 capabilities when we launch fabric network with v1.3 images. When generating configtx.yaml from NL, v1_3 capabilities should be included and then generate channel artifacts.;;;","05/Sep/18 6:01 AM;scottz;https://gerrit.hyperledger.org/r/#/c/26082/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Use correct capability for key-level validation,FAB-11860,33473,28450,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ales,ales,ales,05/Sep/18 1:11 AM,06/Sep/18 12:08 AM,28/Oct/23 3:03 AM,06/Sep/18 12:08 AM,,,,,,,,,,,,,,,0,,,,,,"The KeyLevelEndorsement capability was mistakenly assigned to 1.2 peers, while the feature was not yet available. As such, the capability can no longer be used to gate behaviour of the validator code for 1.3. The .V1_3Validation capability should be used instead.",,ales,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzpf3:",,,,Unset,Unset,Sprint 6 - NextGen Endorseme 2,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ales,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add configuration defaults to plugin Metadata definition,FAB-11861,33475,32551,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,adarshsaraf123,adarshsaraf123,adarshsaraf123,05/Sep/18 1:40 AM,10/Oct/18 6:11 AM,28/Oct/23 3:03 AM,10/Oct/18 6:11 AM,,,,,,,,,,,,,,,0,,,,,,,,adarshsaraf123,guoger,kchristidis,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11590,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzpfj:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),adarshsaraf123,guoger,kchristidis,yacovm,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"05/Sep/18 4:56 AM;kchristidis;Adarsh, thanks for creating this! When you take a moment, let's use the Description field to capture what we're doing, and why we're doing it.;;;","05/Sep/18 5:15 AM;kchristidis;[~guoger]: Based on what we discussed in {{fabric-orderer-dev}} earlier today, what we're talking about here is the definition and setting of defaults for, say, the following Raft FSM-specific settings:
 * TickInterval
 * ElectionTick
 * HeartbeatTick
 * MaxSizePerMsg
 * MaxInflightMsgs

These would be copied by the system channel to any newly-created channel, and from there, they'd be read and adopted by every participating Raft node in that channel.

My question however is: are these settings update-able? And if they are, i.e. if a channel configuration is submitted that, say, modifies the {{MaxSizePerMsg}}, what does the Raft node for that channel have to do so that this change takes effect? Halt and restart? If that is the case, we run into an issue of all nodes for that channel halting concurrently. We need to think this flow through. Please chime in with thoughts.;;;","05/Sep/18 4:25 PM;guoger;[~kchristidis] Unfortunately or fortunately, these are not updateable at runtime in etcd/raft.

+Q1. should they be _global_ *or* _per channel_?+
 First of all, both should work.
 - if we follow the pattern of kafka, then they should be global. Essentially they carry similar responsibilities as {{kafka}} section in {{orderer.yaml}}, deciding how raft works *internally* without affecting Fabric. I don't see an obvious reason in practice why a channel wants different {{ElectionTick}} than others, therefore we shouldn't provide unnecessary flexibility by burdening _channel admins_ with these options.
 - if we want configs to be self-contained for consensus plugins, then we could have them parsed from {{Orderer.ConsensusMetadata}} in {{consenter}}.

+Q2. should they be enforced to be consistent across all raft nodes? what would happen if they are not?+
 Yes, even though this mechanism is no provided by etcd/raft out-of-box.
 - if {{ElectionTick}} or {{HeartbeatTick}} are different, cluster should still function, since it depends on terms and index. According to [etcd tunning|https://github.com/etcd-io/etcd/blob/master/Documentation/tuning.md]
{quote}The heartbeat interval and election timeout value should be the same for all members in one cluster. Setting different values for etcd members may disrupt cluster stability.
{quote}
 - if {{MaxSizePerMsg}} or {{MaxInflightMsgs}} are different, cluster should still function, because they take effect on leaders only. (basically, if another node is elected as leader in new term, we would be using different values from that node)
 - for other config options, I haven't studied the consequence of inconsistency. I could if necessary.

+Q3. what do {{etcd}} (not raftexample) and {{swarmkit}} configure these?+
||Option||etcd||swarmkit||fabric||
|TickInterval|configurable (default: 100ms)|hardcoded 1s|we should follow etcd|
|HeartbeatTick|configurable (default: 1)|hardcoded 1|maximum of average round-trip time (RTT) between members|
|ElectionTick|configurable (deafult: 10)|hardcoded 10|it's suggested to be at least 10 times of heartbeat|
|MaxSizePerMsg|hardcoded 1*1024*1024|hardcoded math.MaxUint16|TBD|
|MaxInflightMsgs|hardcoded 512|hardcoded 256|TBD|
|CheckQuorum|hardcoded true|hardcoded true|hardcoded true|
|ReadOnlyOption|hardcoded ReadOnlySafe|hardcoded ReadOnlySafe|hardcoded ReadOnlySafe|
|DisableProposalForwarding|default false| |hardcoded true because only leader can produce blocks|

 

ultimately, what really matters are {{TickInterval}}, {{ElectionTick}} and {{HeartbeatTick}};;;","05/Sep/18 5:12 PM;adarshsaraf123;IMO, these should be part of the channel config just to _ensure consistency across the orderer nodes_. If these are set locally in  {{orderer.yaml}} then we run the risks of them not being same across the orderer nodes leading to cluster instability as mentioned above.

If we do agree on the lack of a need to allow these to be configurable, we can still restrict updates to them in the same manner as we are restricting updates to the {{Consenters}} set in the {{Metadata}}.;;;","05/Sep/18 5:55 PM;guoger;[~adarshsaraf123] I could live with it, as long as we have default value inherited from system chain :) ideally, we should have plugin level configurations.;;;","05/Sep/18 10:46 PM;yacovm;I think for now (1.4) - for election ticks, HB ticks, etc. (all raft Node config) we can just change the fabric config and then have the node restarted to pick the latest values.

Since raft.Node doesn't support changing this dynamically, I guess that optimizing for a scenario that is unlikely to happen in v1.4 is pointless.

 

[~kchristidis] ?;;;","06/Sep/18 3:39 AM;kchristidis;Jay: Thanks for the detailed breakdown! Back when I was researching this, I had also bumped into [this thread|https://github.com/etcd-io/etcd/issues/4887] where the creator of Raft chimed in. Might also be useful when we're extracting sensible defaults, though what you have in the table should get us going. My notes were:
 * We get a heartbeat per tick
 * A tick is usually larger than the expected RTT
 * The election timeout is 10*ticks by default
 * Default heartbeat tick is ~100 ms

These values should be organized on the channel level (as Yacov and Adarsh have suggested), and will be inherited from the system channel defaults (as Jay noted, and as we do today with other values in the /Channel/Orderer part of the tree).

I agree with Yacov's proposal of not being too clever with the processing of these updates for now. If a node wishes to pick up the new values, the administrator will have to reboot it. The issue is that someone may reboot the node, and someone else may not, so we have two nodes running on different settings, but I honestly don't expect anyone to touch these settings anyway, and if they do, they should get on the phone and be ready to reboot.

Adarsh: let me know if you have a clear path forward!;;;","06/Sep/18 1:44 PM;adarshsaraf123;[~kchristidis] Yes I do have a clear path forward. Thanks.;;;","06/Sep/18 4:31 PM;guoger;Also, we need to validate raft configs to prevent it from crash. Logic can be taken [here|https://github.com/etcd-io/etcd/blob/master/raft/raft.go#L201-L231]

cc [~adarshsaraf123];;;","06/Sep/18 10:04 PM;kchristidis;^^ Great catch, thanks!;;;","11/Sep/18 4:02 PM;adarshsaraf123;https://gerrit.hyperledger.org/r/#/c/26178/;;;",,,,,,,,,,,,,,,,,,,,,,
TestMembershipReconfiguration fails intermittently,FAB-11862,33489,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,harsha544,harsha544,05/Sep/18 4:47 AM,05/Sep/18 7:19 PM,28/Oct/23 3:03 AM,05/Sep/18 7:19 PM,v1.2.1,v1.3.0,,,,v1.3.0,,,,,fabric-ci,,,,0,,,,,,"*_make unit-test_* results in partial success of the UT on ppc64le, failing at func {color:#333333}TestMembershipReconfiguration{color} which is part of package *cluster_test*

{color:#000080}21{color}{color:#333333}:{color}{color:#008080}18{color}{color:#333333}:{color}{color:#008080}47{color}{color:#333333} unit-tests_1 | --- {color}{color:#000080}FAIL{color}{color:#333333}: TestMembershipReconfiguration ({color}{color:#008080}0.37s{color}{color:#333333}) {color}{color:#008080}21{color}{color:#333333}:{color}{color:#008080}18{color}{color:#333333}:{color}{color:#008080}47{color}{color:#333333} unit-tests_1 | assertions.{color}{color:#000080}go{color}{color:#333333}:{color}{color:#008080}247{color}{color:#333333}: Error {color}{color:#000080}Trace{color}{color:#333333}: comm_test.{color}{color:#000080}go{color}{color:#333333}:{color}{color:#008080}612{color} {color:#008080}21{color}{color:#333333}:{color}{color:#008080}18{color}{color:#333333}:{color}{color:#008080}47{color}{color:#333333} unit-tests_1 | {color}{color:#000080}Error{color}{color:#333333}: Received unexpected {color}{color:#000080}error{color}{color:#333333}: {color}{color:#008080}21{color}{color:#333333}:{color}{color:#008080}18{color}{color:#333333}:{color}{color:#008080}47{color}{color:#333333} unit-tests_1 | context deadline exceeded{color}

FWIW, the logs are accessible in the below URL.
[https://jenkins.hyperledger.org/sandbox/job/fabric-daily-ppc64le/29/]",,harsha544,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzpif:",,,,Unset,Unset,,,make unit-test,,Unset,,,,,,Unset,,Unset,,(Please add usage information),harsha544,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"05/Sep/18 4:49 AM;harsha544;[~yacovm] request you for our suggestion.;;;","05/Sep/18 6:58 AM;yacovm;[https://gerrit.hyperledger.org/r/#/c/26083/] tell me if it fixes the problem and i'll remove my -2;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Placeholder for backlogged Raft sub-tasks,FAB-11863,33490,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,adarshsaraf123,kchristidis,kchristidis,05/Sep/18 4:49 AM,02/Dec/19 5:11 PM,28/Oct/23 3:03 AM,02/Dec/19 5:11 PM,,,,,,v2.0.0,,,,,fabric-orderer,,,,0,raft,,,,,Sub-tasks that do not have an assignee in this story are up for grabs for new contributors :),,adarshsaraf123,guoger,huikang,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-14077,,,FAB-11937,FAB-14380,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-6135,,,No,,Unset,No,,,"1|i008an:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),adarshsaraf123,guoger,huikang,kchristidis,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"30/Nov/18 1:47 AM;kchristidis;[~guoger], [~adarshsaraf123]: What are your thoughts on labeling this story as help-wanted and issuing out a call for interested parties to contribute? (I am talking about the ""unassigned"" tasks.)

At a quick glance, it looks like this a set of tasks that can be managed with somewhat moderate guidance from our part. I might be underestimating the difficulty involved though. LMK what you think.;;;","30/Nov/18 2:20 AM;guoger;[~kchristidis] I'm planning to take care of FAB-12998 once current CR stack settles. FAB-12709 needs special care as that switch would cause many UT to fail.

Other than these two, this story can be marked help-wanted safely IMO. Good idea!;;;","30/Nov/18 3:30 PM;adarshsaraf123;[~kchristidis] Agreed.;;;","22/Jan/19 3:11 AM;kchristidis;I'll be adding here a few bugs that should be backlogged.

https://jira.hyperledger.org/browse/FAB-13779;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Expand local configuration with client TLS certificate key,FAB-11864,33491,32551,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,kchristidis,kchristidis,05/Sep/18 4:52 AM,10/Oct/18 6:11 AM,28/Oct/23 3:03 AM,10/Oct/18 6:11 AM,,,,,,,,,,,,,,,0,,,,,,See: https://chat.hyperledger.org/channel/fabric-orderer-dev?msg=ivh9uMbvMpb7RqfLE,,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzpin:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"06/Sep/18 3:47 AM;kchristidis;https://gerrit.hyperledger.org/r/c/26089/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Option to enable gRPC http/2 tracing,FAB-11865,33495,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid,mastersingh24,mastersingh24,mastersingh24,05/Sep/18 7:14 AM,16/Mar/19 4:24 AM,28/Oct/23 3:03 AM,16/Mar/19 4:24 AM,,,,,,,,,,,,,,,0,,,,,,,,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-11853,,,No,,Unset,No,,,"1|hzzpk7:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"31/Dec/18 7:10 PM;mastersingh24;It turns out we enable tracing for gRPC and we already have a flag to turn on profiling which will enable the default http server.  This will expose the gRPC trace endpoint as well;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
remove duplicated code in unit-test,FAB-11866,33496,,Bug,Closed,FAB,Fabric,software,denyeart,,,Low,Done,ping40,ping40,ping40,05/Sep/18 10:47 AM,05/Sep/18 10:50 PM,28/Oct/23 3:03 AM,05/Sep/18 10:50 PM,,,,,,,,,,,,,,,0,,,,,,"in gossip/gossip/certstore_test.go:

 
{code:java}
func TestCertExpiration(t *testing.T) {
   ....

   // Backup original usageThreshold value
   idUsageThreshold := identity.GetIdentityUsageThreshold()
   identity.SetIdentityUsageThreshold(time.Second)
   // Restore original usageThreshold value
   defer identity.SetIdentityUsageThreshold(idUsageThreshold)

   // Backup original identityInactivityCheckInterval value
   usageThreshold := identity.GetIdentityUsageThreshold()
   identity.SetIdentityUsageThreshold(time.Second)
   // Restore original identityInactivityCheckInterval value
   defer func() {
      identity.SetIdentityUsageThreshold(usageThreshold)
   }()
{code}
the above codes are duplicated.",,ping40,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzpkf:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ping40,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"05/Sep/18 10:50 PM;yacovm;https://gerrit.hyperledger.org/r/#/c/26092/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Developing Applications: Sample part 2 -- application,FAB-11867,33498,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,odowdaibm,odowdaibm,odowdaibm,05/Sep/18 3:45 PM,15/Oct/18 7:51 PM,28/Oct/23 3:03 AM,15/Oct/18 7:51 PM,v1.3.0,,,,,v1.4.0,,,,,fabric-samples,,,,0,,,,,,The application part of the sample,,mbwhite,odowdaibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Yes,Unset,,FAB-11459,,,No,,Unset,No,,,"1|hzzpkv:",,,,No,Unset,,,(Please add steps to reproduce),,No,,,,,,Unset,,Unset,,(Please add usage information),mbwhite,odowdaibm,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-6.11.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/tough-cookie-4.1.3,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/semver-6.3.1,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/grpc/grpc-js-1.8.17,dependabot/go_modules/high-throughput/application-go/google.golang.org/grpc-1.53.0,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/word-wrap-1.2.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-and-fabric-network-7.2.4,dependabot/go_modules/asset-transfer-basic/application-go/google.golang.org/grpc-1.53.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"15/Oct/18 7:51 PM;mbwhite;Gerrit link is [https://gerrit.hyperledger.org/r/#/c/26095/]

This has been merged succesfully.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Documentation Enhancement,FAB-11868,33499,,Documentation,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ynamiki,ynamiki,ynamiki,05/Sep/18 4:01 PM,18/Jan/19 1:08 PM,28/Oct/23 3:03 AM,18/Jan/19 1:08 PM,,,,,,,,,,,fabric-docs,,,,0,,,,,,"https://hyperledger-fabric.readthedocs.io/en/latest/chaincode4ade.html

This page has the following issues:

* Confusion of {{`}} (link) and {{``}} (literal): {{the called chaincode on a different channel is only a `Query`,}}
* Non-terminated: {{`documented here <https://github.com/hyperledger/fabric/blob/release-1.2/core/chaincode/lib/cid/README.md`_}}
* Link to a specific release: {{`documented here <https://github.com/hyperledger/fabric/blob/release-1.2/core/chaincode/lib/cid/README.md>`_}}",,ynamiki,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzpl3:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ynamiki,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"05/Sep/18 4:14 PM;ynamiki;https://gerrit.hyperledger.org/r/26096;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Revendor amcl library in fabric (Go),FAB-11869,33500,,Task,Closed,FAB,Fabric,software,denyeart,,,High,Done,rtorres,dubovitskaya,dubovitskaya,05/Sep/18 5:33 PM,17/Oct/18 12:48 AM,28/Oct/23 3:03 AM,06/Sep/18 9:19 PM,,,,,,v1.3.0,,,,,,,,,0,idemix,,,,,,,dubovitskaya,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11856,FAB-11844,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-10120,,,No,,Unset,No,,,"1|hzzplb:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),dubovitskaya,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"05/Sep/18 11:47 PM;dubovitskaya;https://gerrit.hyperledger.org/r/#/c/26103/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove KeyLevelEndorsement capability from 1.2 stream,FAB-11870,33505,28450,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ales,ales,ales,05/Sep/18 6:38 PM,06/Sep/18 12:33 AM,28/Oct/23 3:03 AM,06/Sep/18 12:33 AM,,,,,,v1.2.1,,,,,,,,,0,,,,,,"The KeyLevelEndorsement capability was mistakenly assigned to 1.2 peers, while
 the development of [FAB-8812] wasn't complete yet. ",,ales,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzplr:",,,,Unset,Unset,Sprint 6 - NextGen Endorseme 2,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ales,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,release-1.2,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
gethistoryforkey returns empty when called using InvokeChaincode() if both chaincodes are on different channel,FAB-11871,33510,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Won't Do,manish-sethi,Rachit_gaur,Rachit_gaur,05/Sep/18 9:07 PM,23/Jan/20 7:34 AM,28/Oct/23 3:03 AM,23/Jan/20 7:34 AM,,,,,,,,,,,fabric-ledger,fabric-peer,,,0,chaincode,CrossChannel,getHistoryForKey,InvokeChaincode,stale-item,"I have a chaincode which is instantiated on 2 different channels ""channel1"" and ""channel2""

The chaincode has functions such as invoke,query,history,invokeanotherchaincode

The invokeanotherchaincode uses stub inbuilt function:
 invokeArgs:=util.ToChaincodeArgs(f, args[0])
 result := stub.InvokeChaincode(chaincodeName,invokeArgs,channel)
 And returns the value successfully
  
 The history function uses stub inbuilt function:
resultsIterator, err := stub.GetHistoryForKey(recordKey)
And iterates through result to get each value and txid in context of key while resultsIterator.HasNext() is applicable,
 
Both functions are working fine perfectly
When invokeanotherchaincode calls history function the response returned is correct if both chaincodes are on same channel
But when the chaincodes are on different channels the payload returns empty as resultsIterator has no values
 
Although when  invokeanotherchaincode calls query function , correct value is returned
 
 
 ",,ChanderGovindarajan,MallikarjunC,manish-sethi,mastersingh24,Rachit_gaur,sykesm,toddinpal,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwrmn:",,,,Unset,Unset,,,"Create a chaincode with the functions mentioned in description
Instantiate the chaincode on 2 different channels having one or more peers in common
Invoke values against any id for eg ""1"".
Call the chaincode such that InvokeChaincode calls query function of chaincode deployed on another channel to query against id ""1""
Call the chaincode such that InvokeChaincode calls history function of chaincode deployed on another channel to getHistoryFromKey for id ""1""
",,Unset,,,,,,Unset,,Unset,,(Please add usage information),ChanderGovindarajan,MallikarjunC,manish-sethi,mastersingh24,Rachit_gaur,sykesm,toddinpal,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"08/Sep/18 7:11 PM;mastersingh24;[~manish-sethi] [~denyeart]  - can you take a look?;;;","11/Sep/18 12:18 AM;manish-sethi;As far as ledger code is concerned, the response should not matter as long as correct ledger instance (for the channel) is used and the correct chaincode name is passed. My wild guess would be that somewhere in chaincode->chaincode call on different channels, one of the names being passed down may be incorrect. To verify his hypothesis further, [~Rachit_gaur] can you attach the debug logs for both the scenarios (the scenario that works for you when both the chainocdes are on same channel and the scenario that does not work for you when both the chaincodes are on different channels)?;;;","23/Jan/20 7:34 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove MetadataLifecycle capability from 1.3 stream,FAB-11872,33511,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ales,ales,ales,05/Sep/18 9:13 PM,07/Jan/19 1:21 PM,28/Oct/23 3:03 AM,07/Jan/19 1:21 PM,,,,,,,,,,,,,,,0,,,,,,"The new lifecycle work will not be available in the 1.3 release and so the MetadataLifecycle capability must be decoupled with the ""V1_3"" application capability of a channel.",,ales,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-11237,,,No,,Unset,No,,,"1|hzzpmf:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ales,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update What's New for v1.3,FAB-11873,33512,,Documentation,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,,pandrejko,pandrejko,05/Sep/18 9:25 PM,05/Sep/18 9:26 PM,28/Oct/23 3:03 AM,05/Sep/18 9:26 PM,v1.3.0,,,,,,,,,,fabric-docs,,,,0,,,,,,,,pandrejko,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11828,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwtfj:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),pandrejko,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
core/chaincode/chaincode_support_test fails with go 1.11,FAB-11874,33517,,Bug,Closed,FAB,Fabric,software,denyeart,,,Low,Done,sykesm,sykesm,sykesm,06/Sep/18 1:29 AM,07/Sep/18 11:52 PM,28/Oct/23 3:03 AM,07/Sep/18 11:52 PM,,,,,,,,,,,,,,,0,,,,,,"When running tests locally:

{code}
# github.com/hyperledger/fabric/core/chaincode
core/chaincode/chaincode_support_test.go:1199: Handler.isValidTxSim format %s has arg 12345 of wrong type int
{code}",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzpmv:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"06/Sep/18 2:32 AM;sykesm;https://gerrit.hyperledger.org/r/26107;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add best practices on programming against fabric,FAB-11875,33518,,Documentation,To Do,FAB,Fabric,software,denyeart,,,Medium,,pandrejko,pandrejko,pandrejko,06/Sep/18 2:58 AM,14/Jan/20 3:26 AM,28/Oct/23 3:03 AM,,,,,,,Future,,,,,fabric-docs,,,,1,BestPractices,,,,,"We've gotten feedback from customers around their experience with writing client applications and chaincode and need to include this in our fabric documentation.

 

Specifically,

1) Orderer settings/parms availabile for tuning

2) CoucDB: Use indexes, db query recommendations when the result set > 10000 (and pagination is not available), breakup chaincode for performance.

3) Writing non-deterministic chaincode - sorting the result set so it is always in the same order, etc.

4) Setting timeouts for Install, instantiate, invocattions, etc.

5) Mention GRPC timeouts & the recommendation to use the ones recommended in the connx profile.  - [https://github.ibm.com/IBM-Blockchain/ui-development/issues/2543. |https://github.ibm.com/IBM-Blockchain/ui-development/issues/2543]From Gari S - . these are the settings which are needed (we can adjust the values), but these work:
`""grpcOptions"":

{ ""grpc.keepalive_time_ms"": 120000, ""grpc.http2.min_time_between_pings_ms"": 120000, ""grpc.keepalive_timeout_ms"": 20000, ""grpc.http2.max_pings_without_data"": 0, ""grpc.keepalive_permit_without_calls"": 1 }

If customers are not using the connection profile then they need to manually add these settings to their client app.

The most important one is the `""grpc.http2.max_pings_without_data"": 0,`. grpc defaults to 2 seconds for this one so if there is no activity for 2 secs the connection is dropped. 0 means infinite..

Therefore: Add gRPC options so that gRPC keepalive pings are sent during periods that the application is idle

6) -Reuse Client, Channel, and Peer Node SDK objects

7) Use the ChannelEventHub (rather than the EventHub) and make sure that the application isn't constantly connecting and disconnecting
how to appropriately receive and consume events from Fabric (https://jira.hyperledger.org/browse/FABN-907) <<Fabric SDK Doc

Suggestion is  to put this in a best practices topic, could also go in FAQ...

 ",,isaacwch,MichaelWang,mplisov,pandrejko,pdina,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwrrr:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),isaacwch,MichaelWang,mplisov,pandrejko,pdina,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"14/Jan/20 2:37 AM;pandrejko;[~joe-alewine][~negupta]There may be some good nuggets in here for the deployment and operations guide - let's evaluate and capture that before we close this out.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
msp/idemixmsp.Validate writes too much noise to the log,FAB-11876,33519,,Bug,Closed,FAB,Fabric,software,denyeart,,,Lowest,Done,sykesm,sykesm,sykesm,06/Sep/18 3:38 AM,07/Sep/18 12:43 PM,28/Oct/23 3:03 AM,07/Sep/18 12:43 PM,,,,,,v1.3.0,,,,,,,,,0,,,,,,"example:

{code}
2018-09-05 14:24:23.568 EDT [msp] Validate -> INFO 040 Validating identity &{%!s(*msp.idemixidentity=&{0xc0005206a0 0xc000030380 0xc000521fc0 0xc000030100 0xc0000be240 0xc00012c000}) %!s(*amcl.RAND=&{[1406264955 2950908165 2749857345 3794835818 1390838502 1801563132 514611332 1572337655 4109348201 2435923963 1746004934 3541598485 1019991327 136356869 731419505 1907209501 3082403043 3188117376 1733040231 708049670 1343902777] 12 1 0 [36 31 8 199 240 70 234 93 225 155 26 238 207 133 127 239 249 241 11 167 191 190 138 241 135 62 41 157 103 200 116 74]}) a:<x:""\035Z!\264Q\244\007\031\r\177\206\361a`b0\376\034\235\301\363\324\315;G\317i\017\201\016O\\"" y:""\211\256\207n\220%\343\n\302n\201!vN\010\237\251\345\""ao\310\306Z\n\353#\217\022\032\251\301"" > b:<x:""\330[\274\017\320I\273\304o\202\357\0375\233\027@_1\3611q\331\267G\351[1\243x\301F~"" y:""\036\177\357q\361a\031E\301\026\202\014\023,\275Ro\302\275r\240i\212\020\236\246i\332\253\035U;"" > e:""[Mf\014\006d7\242Gq\224\265\256\355\310^\243~8(\351*\262\254\031f\323\262hB\327\261"" s:""A\021\210\362\016Qb\005\317;\253\005\002\027\035~\2442\023\035\235g\373\031Te\234H=\376\226\273"" attrs:""\231\355\271\250k\361%\370\0206|\345t\303\""q\\\242#\246\014~z\023\204\0052\252\304\363\311y"" attrs:""\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000"" attrs:""\230\300\362\304a\220\024\266\311\202\317\346V\333\260C3js_\370\334\365\032\277\230\200urIN\021"" attrs:""\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\001""  %!s(*FP256BN.BIG=&{[15967206521479674 3286068684342944 47033723286953489 43875988339361772 2042315942]}) %!s(*FP256BN.BIG=&{[37814709321572616 59912339180914016 9934912655151982 35998893858682518 1034296825]}) enrollid1}
{code}

To avoid the noise, changing the log level to debug and only logging the result of GetMSPIdentifier. If additional information is needed, the maintainers need to determine what and how to present it in logs.",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzpn3:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"06/Sep/18 3:41 AM;sykesm;https://gerrit.hyperledger.org/r/26108;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
'make thirdparty-pin' is broken on macos,FAB-11877,33520,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid: Works as Expected,aleksandar.likic,aleksandar.likic,aleksandar.likic,06/Sep/18 3:41 AM,22/May/19 2:50 AM,28/Oct/23 3:03 AM,22/May/19 2:50 AM,,,,,,,,,,,fabric-sdk-go,,,,0,,,,,,,,aleksandar.likic,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwrnz:",,,,Unset,Unset,,,run 'make thirdparty-pin',,Unset,,,,,,Unset,,Unset,,(Please add usage information),aleksandar.likic,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"22/May/19 2:50 AM;aleksandar.likic;This is out of date, cannot reproduce neither in v1.0.0-alpha5 or in master.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
msp.TestNew fails with go 1.11,FAB-11878,33521,,Bug,Closed,FAB,Fabric,software,denyeart,,,Low,Done,sykesm,sykesm,sykesm,06/Sep/18 3:43 AM,07/Sep/18 11:52 PM,28/Oct/23 3:03 AM,07/Sep/18 11:52 PM,,,,,,,,,,,,,,,0,,,,,,"{code}
--- FAIL: TestNew (0.00s)
        Error Trace:    factory_test.go:40
        Error:      	Not equal: 
                    	expected: ""github.com/hyperledger/fabric/msp.(*bccspmsp).setupV1-fm""
                    	actual  : ""github.com/hyperledger/fabric/msp.(*bccspmsp).(github.com/hyperledger/fabric/msp.setupV1)-fm""
        Test:       	TestNew
        Error Trace:    factory_test.go:41
        Error:      	Not equal: 
                    	expected: ""github.com/hyperledger/fabric/msp.(*bccspmsp).validateIdentityOUsV1-fm""
                    	actual  : ""github.com/hyperledger/fabric/msp.(*bccspmsp).(github.com/hyperledger/fabric/msp.validateIdentityOUsV1)-fm""
        Test:       	TestNew
        Error Trace:    factory_test.go:47
        Error:      	Not equal: 
                    	expected: ""github.com/hyperledger/fabric/msp.(*bccspmsp).setupV11-fm""
                    	actual  : ""github.com/hyperledger/fabric/msp.(*bccspmsp).(github.com/hyperledger/fabric/msp.setupV11)-fm""
        Test:       	TestNew
        Error Trace:    factory_test.go:48
        Error:      	Not equal: 
                    	expected: ""github.com/hyperledger/fabric/msp.(*bccspmsp).validateIdentityOUsV11-fm""
                    	actual  : ""github.com/hyperledger/fabric/msp.(*bccspmsp).(github.com/hyperledger/fabric/msp.validateIdentityOUsV11)-fm""
        Test:       	TestNew
FAIL
FAIL	github.com/hyperledger/fabric/msp	0.076s
{code}

The test assumes the compiler symbol representation of a function will never change; bad assumption.",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzpnb:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"06/Sep/18 3:52 AM;sykesm;https://gerrit.hyperledger.org/r/26110;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update application capabilities to V1_3,FAB-11879,33522,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,denyeart,denyeart,denyeart,06/Sep/18 4:24 AM,24/Sep/18 5:22 AM,28/Oct/23 3:03 AM,24/Sep/18 3:34 AM,,,,,,v1.3.0,,,,,,,,,0,,,,,,"Update application capabilities to V1_3 in fabric repository configtx files, this is required to enable validation at v1.3 level.",,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11778,FAB-11859,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzpnj:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"06/Sep/18 4:26 AM;denyeart;https://gerrit.hyperledger.org/r/#/c/26113/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update baseimage release version in fabric master branch,FAB-11880,33524,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,rameshthoomu,rameshthoomu,06/Sep/18 4:38 AM,09/Sep/18 10:16 PM,28/Oct/23 3:03 AM,09/Sep/18 10:16 PM,v1.3.0,,,,,v1.3.0,,,,,,,,,0,,,,,,"Update baseimage release version in fabric master branch

Update BASEIMAGE Release Version to 0.4.11 in fabric Makefile",,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzxej3:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Linter test is failing consistently in fabric-verify jobs.,FAB-11881,33527,,Bug,Closed,FAB,Fabric,software,denyeart,,,Highest,Duplicate,,sambhavdutt,sambhavdutt,06/Sep/18 5:13 AM,19/Mar/19 8:13 PM,28/Oct/23 3:03 AM,06/Sep/18 5:44 AM,v1.3.0,,,,,v1.3.0,,,,,fabric-build,,,,0,ci-failure,,,,,"The make linter test is failing consistently in the fabric verify jobs from some time,

{code:java}
15:51:44 github.com/grpc-ecosystem/go-grpc-middleware: hash of vendored tree not equal to digest in Gopkg.lock  (CHECK IGNORED: marked noverify in Gopkg.toml)
15:51:45 LINT: Running code checks..
15:51:47 Checking with gofmt
15:51:50 Checking with goimports
15:52:09 Checking with go vet
15:52:32 # github.com/hyperledger/fabric/gossip/privdata
15:52:32 gossip/privdata/reconcile.go:171:33: pvtDataInfo.ChaincodeName undefined (type *""github.com/hyperledger/fabric/core/ledger"".MissingCollectionPvtDataInfo has no field or method ChaincodeName)
15:52:32 gossip/privdata/reconcile.go:172:33: pvtDataInfo.CollectionName undefined (type *""github.com/hyperledger/fabric/core/ledger"".MissingCollectionPvtDataInfo has no field or method CollectionName)
15:52:32 gossip/privdata/reconcile.go:176:74: pvtDataInfo.ChaincodeName undefined (type *""github.com/hyperledger/fabric/core/ledger"".MissingCollectionPvtDataInfo has no field or method ChaincodeName)
15:52:32 gossip/privdata/reconcile.go:176:101: pvtDataInfo.CollectionName undefined (type *""github.com/hyperledger/fabric/core/ledger"".MissingCollectionPvtDataInfo has no field or method CollectionName)
15:52:32 gossip/privdata/reconcile.go:185:29: pvtDataInfo.CollectionName undefined (type *""github.com/hyperledger/fabric/core/ledger"".MissingCollectionPvtDataInfo has no field or method CollectionName)
15:52:32 gossip/privdata/reconcile.go:186:29: pvtDataInfo.ChaincodeName undefined (type *""github.com/hyperledger/fabric/core/ledger"".MissingCollectionPvtDataInfo has no field or method ChaincodeName)
15:52:46 # github.com/hyperledger/fabric/gossip/privdata
15:52:46 gossip/privdata/reconcile.go:171:33: pvtDataInfo.ChaincodeName undefined (type *""github.com/hyperledger/fabric/core/ledger"".MissingCollectionPvtDataInfo has no field or method ChaincodeName)
15:52:46 gossip/privdata/reconcile.go:172:33: pvtDataInfo.CollectionName undefined (type *""github.com/hyperledger/fabric/core/ledger"".MissingCollectionPvtDataInfo has no field or method CollectionName)
15:52:46 gossip/privdata/reconcile.go:176:74: pvtDataInfo.ChaincodeName undefined (type *""github.com/hyperledger/fabric/core/ledger"".MissingCollectionPvtDataInfo has no field or method ChaincodeName)
15:52:46 gossip/privdata/reconcile.go:176:101: pvtDataInfo.CollectionName undefined (type *""github.com/hyperledger/fabric/core/ledger"".MissingCollectionPvtDataInfo has no field or method CollectionName)
15:52:46 gossip/privdata/reconcile.go:185:29: pvtDataInfo.CollectionName undefined (type *""github.com/hyperledger/fabric/core/ledger"".MissingCollectionPvtDataInfo has no field or method CollectionName)
15:52:46 gossip/privdata/reconcile.go:186:29: pvtDataInfo.ChaincodeName undefined (type *""github.com/hyperledger/fabric/core/ledger"".MissingCollectionPvtDataInfo has no field or method ChaincodeName)
15:52:46 gossip/privdata/reconcile_test.go:58:23: unknown field 'CollectionName' in struct literal of type ""github.com/hyperledger/fabric/core/ledger"".MissingCollectionPvtDataInfo
15:52:46 gossip/privdata/reconcile_test.go:58:46: unknown field 'ChaincodeName' in struct literal of type ""github.com/hyperledger/fabric/core/ledger"".MissingCollectionPvtDataInfo
15:52:46 gossip/privdata/reconcile_test.go:94:23: unknown field 'CollectionName' in struct literal of type ""github.com/hyperledger/fabric/core/ledger"".MissingCollectionPvtDataInfo
15:52:46 gossip/privdata/reconcile_test.go:94:46: unknown field 'ChaincodeName' in struct literal of type ""github.com/hyperledger/fabric/core/ledger"".MissingCollectionPvtDataInfo
15:52:46 gossip/privdata/reconcile_test.go:94:46: too many errors
15:52:55 Makefile:213: recipe for target 'linter' failed
15:52:55 make: *** [linter] Error 2
15:52:55 + '[' 2 = 0 ']'
15:52:55 + echo '------> make basic-checks FAILED'
15:52:55 ------> make basic-checks FAILED
{code}



*Build Logs*

https://jenkins.hyperledger.org/view/fabric/job/fabric-verify-build-checks-x86_64/4796/console

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-build-checks-x86_64/4796/",,denyeart,rameshthoomu,sambhavdutt,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11883,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,60c6548233155a325fcc0fdd95c0b0c1c1d05e43,Unset,No,,,"1|hzzpof:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,rameshthoomu,sambhavdutt,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
peer is failing it build in the fabric jobs for CI builds and on local host.,FAB-11882,33528,,Bug,Closed,FAB,Fabric,software,denyeart,,,Highest,Duplicate,,sambhavdutt,sambhavdutt,06/Sep/18 5:26 AM,19/Mar/19 8:13 PM,28/Oct/23 3:03 AM,06/Sep/18 5:44 AM,v1.3.0,,,,,v1.3.0,,,,,fabric-build,,,,0,ci-failure,,,,,"The make peer-docker is failing to build the peer in the fabric builds in CI and on local machines too, 


{code:java}
15:54:38 -----> FABRIC_COMMIT : 8942f7f
15:54:41 Building .build/docker/bin/peer
15:54:43 go: disabling cache (/.cache/go-build) due to initialization failure: mkdir /.cache: permission denied
15:54:57 # github.com/hyperledger/fabric/gossip/privdata
15:54:57 gossip/privdata/reconcile.go:171:33: pvtDataInfo.ChaincodeName undefined (type *""github.com/hyperledger/fabric/core/ledger"".MissingCollectionPvtDataInfo has no field or method ChaincodeName)
15:54:57 gossip/privdata/reconcile.go:172:33: pvtDataInfo.CollectionName undefined (type *""github.com/hyperledger/fabric/core/ledger"".MissingCollectionPvtDataInfo has no field or method CollectionName)
15:54:57 gossip/privdata/reconcile.go:176:74: pvtDataInfo.ChaincodeName undefined (type *""github.com/hyperledger/fabric/core/ledger"".MissingCollectionPvtDataInfo has no field or method ChaincodeName)
15:54:57 gossip/privdata/reconcile.go:176:101: pvtDataInfo.CollectionName undefined (type *""github.com/hyperledger/fabric/core/ledger"".MissingCollectionPvtDataInfo has no field or method CollectionName)
15:54:57 gossip/privdata/reconcile.go:185:29: pvtDataInfo.CollectionName undefined (type *""github.com/hyperledger/fabric/core/ledger"".MissingCollectionPvtDataInfo has no field or method CollectionName)
15:54:57 gossip/privdata/reconcile.go:186:29: pvtDataInfo.ChaincodeName undefined (type *""github.com/hyperledger/fabric/core/ledger"".MissingCollectionPvtDataInfo has no field or method ChaincodeName)
15:54:58 Makefile:229: recipe for target '.build/docker/bin/peer' failed
15:54:58 make: *** [.build/docker/bin/peer] Error 2
15:54:58 Build step 'Execute shell' marked build as failure
{code}


{code:java}
Building .build/docker/bin/peer
# github.com/hyperledger/fabric/gossip/privdata
gossip/privdata/reconcile.go:171:33: pvtDataInfo.ChaincodeName undefined (type *""github.com/hyperledger/fabric/core/ledger"".MissingCollectionPvtDataInfo has no field or method ChaincodeName)
gossip/privdata/reconcile.go:172:33: pvtDataInfo.CollectionName undefined (type *""github.com/hyperledger/fabric/core/ledger"".MissingCollectionPvtDataInfo has no field or method CollectionName)
gossip/privdata/reconcile.go:176:74: pvtDataInfo.ChaincodeName undefined (type *""github.com/hyperledger/fabric/core/ledger"".MissingCollectionPvtDataInfo has no field or method ChaincodeName)
gossip/privdata/reconcile.go:176:101: pvtDataInfo.CollectionName undefined (type *""github.com/hyperledger/fabric/core/ledger"".MissingCollectionPvtDataInfo has no field or method CollectionName)
gossip/privdata/reconcile.go:185:29: pvtDataInfo.CollectionName undefined (type *""github.com/hyperledger/fabric/core/ledger"".MissingCollectionPvtDataInfo has no field or method CollectionName)
gossip/privdata/reconcile.go:186:29: pvtDataInfo.ChaincodeName undefined (type *""github.com/hyperledger/fabric/core/ledger"".MissingCollectionPvtDataInfo has no field or method ChaincodeName)
make: *** [.build/docker/bin/peer] Error 2 
{code}


*Build Logs*
https://jenkins.hyperledger.org/job/fabric-ca-verify-end-2-end-x86_64/692/console

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-ca-verify-end-2-end-x86_64/692/",,denyeart,rameshthoomu,sambhavdutt,scottz,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11883,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,8942f7fdcb9cf6fee7d80bad131f4b4f77f44251,Unset,No,,,"1|hzzpon:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,rameshthoomu,sambhavdutt,scottz,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fix broken master,FAB-11883,33529,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,manish-sethi,manish-sethi,manish-sethi,06/Sep/18 5:32 AM,06/Sep/18 5:51 AM,28/Oct/23 3:03 AM,06/Sep/18 5:51 AM,,,,,,v1.3.0,,,,,,,,,0,,,,,,[https://gerrit.hyperledger.org/r/#/c/25263/] created a compilation issue.,,denyeart,manish-sethi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11881,FAB-11882,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzpov:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,manish-sethi,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"06/Sep/18 5:39 AM;denyeart;https://gerrit.hyperledger.org/r/#/c/26119/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fix metalinter warnings,FAB-11884,33530,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid,,troyronda,troyronda,06/Sep/18 5:44 AM,06/Sep/18 6:10 AM,28/Oct/23 3:03 AM,06/Sep/18 6:10 AM,,,,,,,,,,,,,,,0,,,,,,,,troyronda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzpp3:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),troyronda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Support for custom SW key store ,FAB-11885,33531,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,,aleksandar.likic,aleksandar.likic,06/Sep/18 5:56 AM,06/Sep/18 6:33 AM,28/Oct/23 3:03 AM,06/Sep/18 6:33 AM,,,,,,,,,,,fabric-sdk-go,,,,0,,,,,,This change takes advantage of key marshalling methods from FABG-427 to demonstrate how one can configure the SDK with a custom key store that stores SW keys as bytes.,,aleksandar.likic,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwrnr:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),aleksandar.likic,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"06/Sep/18 6:33 AM;aleksandar.likic;Duplicate of FABG-427;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove references to ESCC and VSCC in chaincode4noah.rst,FAB-11886,33533,33080,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,joe-alewine,joe-alewine,joe-alewine,06/Sep/18 6:21 AM,08/Sep/18 4:43 AM,28/Oct/23 3:03 AM,08/Sep/18 4:43 AM,v1.2.0,v1.3.0,,,,v1.2.0,v1.3.0,,,,fabric-docs,,,,0,Documentation,,,,,"With pluggable endorsement and validation, need to remove outdated references these system chaincodes.",,joe-alewine,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzppj:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),joe-alewine,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"07/Sep/18 12:53 AM;joe-alewine;https://gerrit.hyperledger.org/r/c/26141/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"fabric-sdk-go-tests-verify job has been failing on x and z nodes.(On x due to integration fail, and on z due to script error)",FAB-11887,33534,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,,sambhavdutt,sambhavdutt,06/Sep/18 6:30 AM,19/Mar/19 8:13 PM,28/Oct/23 3:03 AM,09/Oct/18 3:46 AM,v1.3.0,,,,,v1.3.0,,,,,fabric-sdk-go,,,,0,ci-failure,,,,,"The *fabric-sdk-go-tests-verify-x86_64* and *fabric-sdk-go-tests-verify-s390x* have been failing from several builds, Posting the errors observed.

*fabric-sdk-go-tests-verify-x86_64*

{code:java}
16:11:13 integration-tests_1  | 	multiple_orgs_test.go:441: verifyErrorFromCC status.FromError s: Client Status Code: (7) MULTIPLE_ERRORS. Description: Multiple errors occurred: 
16:11:13 integration-tests_1  | 		Transaction processing for endorser [peer0.org2.example.com:8051]: Chaincode status Code: (500) UNKNOWN. Description: Unknown function call
16:11:13 integration-tests_1  | 		Transaction processing for endorser [peer0.org1.example.com:7051]: Chaincode status Code: (500) UNKNOWN. Description: Unknown function call, ok: true
16:11:13 integration-tests_1  | 	multiple_orgs_test.go:273: QueryBlock return error: Number of responses 1 is less than MinTargets 2
16:11:13 integration-tests_1  | FAIL
16:11:13 integration-tests_1  | FAIL	github.com/hyperledger/fabric-sdk-go/test/integration/e2e/orgs	11.882s
16:11:14 fabsdkgo_integration-tests_1 exited with code 1
.
.
16:11:26 Makefile:316: recipe for target 'integration-tests-prev' failed
16:11:26 make[1]: *** [integration-tests-prev] Error 1
{code}

*fabric-sdk-go-tests-verify-s390x*


{code:java}
19:54:03 ---> create-netrc.sh
19:54:04 [fabric-sdk-go-tests-verify-s390x] $ /bin/bash -l /tmp/jenkins31278409727449894.sh
19:54:04 ++ mktemp /tmp/requirements-XXXX.txt
19:54:04 + REQUIREMENTS_FILE=/tmp/requirements-3tGI.txt
19:54:04 + cat
19:54:04 + pip install --user --quiet --upgrade pip==18.0 setuptools==40.0.0
19:54:04 Traceback (most recent call last):
19:54:04   File ""/usr/local/bin/pip"", line 7, in <module>
19:54:04     from pip import main
19:54:04 ImportError: cannot import name main
19:54:04 [fabric-sdk-go-tests-verify-s390x] $ /bin/bash /tmp/jenkins1991446166073674501.sh
19:54:04 [description-setter] Could not determine description.
19:54:04 Build step 'Execute Scripts' changed build result to UNSTABLE

{code}


*Build Logs*

https://jenkins.hyperledger.org/view/fabric-sdk-go/job/fabric-sdk-go-tests-verify-s390x/3912/consoleFull

https://jenkins.hyperledger.org/view/fabric-sdk-go/job/fabric-sdk-go-tests-verify-x86_64/3832/consoleFull

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-sdk-go-tests-verify-x86_64/3832/",,rameshthoomu,sambhavdutt,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,6d7af5d9b0e7d00728b867b994f840f272e2200a,Unset,No,,,"1|hzzppr:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rameshthoomu,sambhavdutt,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"02/Oct/18 8:39 PM;sambhavdutt;The *fabric-sdk-go-tests-merge-s390x* is failing the Integration tests, Observed these errors,


{code:java}
12:53:31 integration-tests_1  | --- FAIL: TestFabricSelection (10.84s)
12:53:31 integration-tests_1  |     --- FAIL: TestFabricSelection/Policy:_Org1_or_Org2 (0.02s)
12:53:31 integration-tests_1  |     	assertions.go:247: 
                          
	Error Trace:	fabricselection_test.go:109
12:53:31 integration-tests_1  |     		
	Error:      	Received unexpected error:
12:53:31 integration-tests_1  |     		
	            	Multiple errors occurred: 
12:53:31 integration-tests_1  |     		
	            	Transaction processing for endorser [peer0.org2.example.com:8051]: Chaincode status Code: (500) UNKNOWN. Description: chaincode with name 'example_cc_020180930125014milu7p3xmy' already exists
12:53:31 integration-tests_1  |     		
	            	Transaction processing for endorser [peer1.org2.example.com:9051]: Chaincode status Code: (500) UNKNOWN. Description: chaincode with name 'example_cc_020180930125014milu7p3xmy' already exists
12:53:31 integration-tests_1  |     		
	            	Transaction processing for endorser [peer1.org1.example.com:7151]: Chaincode status Code: (500) UNKNOWN. Description: chaincode with name 'example_cc_020180930125014milu7p3xmy' already exists
12:53:31 integration-tests_1  |     		
	            	Transaction processing for endorser [peer0.org1.example.com:7051]: Chaincode status Code: (500) UNKNOWN. Description: chaincode with name 'example_cc_020180930125014milu7p3xmy' already exists
12:53:31 integration-tests_1  |     		
	            	sending deploy transaction proposal failed
12:53:31 integration-tests_1  |     		
	Test:       	TestFabricSelection/Policy:_Org1_or_Org2
12:53:31 integration-tests_1  | FAIL
12:53:31 integration-tests_1  | FAIL	github.com/hyperledger/fabric-sdk-go/test/integration/pkg/client/common/selection	11.066s
{code}

*Build Log*

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-sdk-go-tests-merge-s390x/850/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
fix wrong description,FAB-11888,33535,,Bug,Closed,FAB,Fabric,software,denyeart,,,Low,Invalid: Works as Expected,ping40,ping40,ping40,06/Sep/18 10:22 AM,12/Sep/18 4:59 PM,28/Oct/23 3:03 AM,12/Sep/18 4:59 PM,,,,,,,,,,,fabric-gossip,,,,0,,,,,," 

in gossip/state/state.go
{code:java}
// addPayload add new payload into state. It may (or may not) block according to the
// given parameter. If it gets a block while in blocking mode - it would wait until
// the block is sent into the payloads buffer.
// Else - it may drop the block, if the payload buffer is too full.
func (s *GossipStateProviderImpl) addPayload(payload *proto.Payload, blockingMode bool) error {
{code}
it don't drop the block, just sleep 100ms, if the payload buffer is too full.

 

 ",,denyeart,ping40,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzppz:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,ping40,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"06/Sep/18 10:27 AM;ping40;https://gerrit.hyperledger.org/r/#/c/26125/;;;","11/Sep/18 9:40 PM;denyeart;[~ping40] I see CR is abandoned, what is the plan for this one?;;;","12/Sep/18 4:59 PM;ping40;the origin description is ok.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Peer doesn't fetch private data when BTL lower than 10,FAB-11889,33536,,Documentation,To Do,FAB,Fabric,software,denyeart,,,Medium,,denyeart,ymlbright,ymlbright,06/Sep/18 11:28 AM,12/Mar/20 7:57 PM,28/Oct/23 3:03 AM,,v1.2.0,,,,,v1.4.7,v2.0.0,,,,fabric-docs,,,,0,,,,,,"Peer has a config option named ""btlPullMargin"" which default value is 10. In config comment describes, it use a buffer to prevent peer from trying to pull private data from peers that is soon to be purged in next N blocks.

If blockToLive in _collection_config.json_ lower than 10, peer that newly join channel or newly scaled won't fetch any private data from other peers.",,denyeart,jyellick,mastersingh24,pandrejko,ymlbright,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwrtb:",,,,Unset,Unset,,,"1. Follow private data tutorials https://hyperledger-fabric.readthedocs.io/en/release-1.2/private_data_tutorial.html, deploy chaincode and store private data
2. create a new peer peer3 that belongs to Org1
3. send command to peer3, makes it join channel mychannel
4. query marble private details on peer3",,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,jyellick,mastersingh24,pandrejko,ymlbright,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"06/Sep/18 8:56 PM;denyeart;This is the designed behavior for btlPullMargin.  Let's use this Jira issue to document it more clearly.;;;","20/Sep/18 3:03 AM;pandrejko;[~denyeart]  Where we describe blockToLive, do we want to say something like:

Note: If blockToLive is <= `10`, new peers that join the channel who are authorized to the private data will be prevented from fetching the private data due to another configurable option `btlPullMargin` which has a default value of `10`. This parameter can be configured <how?> and its purpose is to prevent new peers from trying to pull private data from peers when it is to be purged in the next N blocks.  <What is the use case for this?>;;;","20/Sep/18 6:36 PM;ymlbright;[~pandrejko] `btlPullMargin` may configured by environment variable CORE_PEER_GOSSIP_PVTDATA_BTLPULLMARGIN or change config file(core.yaml) directly.

I curious about the use case of this variable too.;;;","09/Oct/18 9:54 PM;pandrejko;[~denyeart] Happy to add this to our docs if you could validate the wording above and provide a use case. 

 ;;;","04/Dec/18 10:22 PM;pandrejko;[~denyeart] ^^^;;;","06/Dec/18 8:15 PM;denyeart;[~pandrejko] I'll have more time for doc such as this one the week after RC1 is out.;;;","30/Jun/19 8:24 PM;mastersingh24;[~denyeart]  - Do we actually plan to do this doc update for 1.4.2?;;;","25/Sep/19 1:15 AM;jyellick;[~pandrejko] what's the status on documenting this?;;;","25/Sep/19 1:54 AM;pandrejko;[~denyeart] My proposal is to add this to docs if you could approve the text and provide a use case.
```Note: If blockToLive is <= `10`, new peers that join the channel who are authorized to the private data will be prevented from fetching the private data due to another configurable option `btlPullMargin` which has a default value of `10`. This parameter can be configured <how?> and its purpose is to prevent new peers from trying to pull private data from peers when it is to be purged in the next N blocks. ```;;;",,,,,,,,,,,,,,,,,,,,,,,,
Unit test failures on TestGoodChannelCreateConfigUpdate,FAB-11891,33538,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,mastersingh24,denyeart,denyeart,06/Sep/18 12:18 PM,19/Mar/19 7:57 PM,28/Oct/23 3:03 AM,07/Sep/18 3:10 AM,,,,,,v1.3.0,,,,,,,,,0,ci-flake,,,,,"A large number of CI unit tests fail at TestGoodChannelCreateConfigUpdate.

One example in:

[https://gerrit.hyperledger.org/r/#/c/26125/]

[https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/4369/consoleFull]

 
{noformat}
02:37:29 unit-tests_1  | 2018-09-06 02:37:00.022 UTC [bccsp] GetDefault -> WARN 00a Before using BCCSP, please call InitFactories(). Falling back to bootBCCSP.
02:37:29 unit-tests_1  | --- FAIL: TestGoodChannelCreateConfigUpdate (0.82s)
02:37:29 unit-tests_1  | 	assertions.go:247: 
                          
	Error Trace:	encoder_test.go:95
02:37:29 unit-tests_1  | 		
	Error:      	Should be true
02:37:29 unit-tests_1  | 		
	Test:       	TestGoodChannelCreateConfigUpdate
02:37:29 unit-tests_1  | 		
	Messages:   	the config used has had no updates, so should equal default
02:37:29 unit-tests_1  | 2018-09-06 02:37:03.538 UTC [common/tools/configtxgen/encoder] NewApplicationGroup -> WARN 00b Default policy emission is deprecated, please include policy specifications for the application group in configtx.yaml
02:37:29 unit-tests_1  | 2018-09-06 02:37:03.539 UTC [common/tools/configtxgen/encoder] NewApplicationOrgGroup -> WARN 00c Default policy emission is deprecated, please include policy specifications for the application org group SampleOrg in configtx.yaml
02:37:29 unit-tests_1  | 2018-09-06 02:37:05.285 UTC [common/tools/configtxgen/encoder] NewChannelGroup -> WARN 00d Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
02:37:29 unit-tests_1  | 2018-09-06 02:37:05.731 UTC [common/tools/configtxgen/encoder] NewApplicationGroup -> WARN 00e Default policy emission is deprecated, please include policy specifications for the application group in configtx.yaml
02:37:29 unit-tests_1  | 2018-09-06 02:37:06.501 UTC [common/tools/configtxgen/encoder] NewOrdererGroup -> WARN 00f Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
02:37:29 unit-tests_1  | 2018-09-06 02:37:07.319 UTC [common/tools/configtxgen/encoder] NewOrdererGroup -> WARN 010 Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml
02:37:29 unit-tests_1  | 2018-09-06 02:37:07.320 UTC [common/tools/configtxgen/encoder] NewOrdererOrgGroup -> WARN 011 Default policy emission is deprecated, please include policy specifications for the orderer org group SampleOrg in configtx.yaml
02:37:29 unit-tests_1  | 2018-09-06 02:37:08.503 UTC [common/tools/configtxgen/encoder] New -> PANI 012 Error creating channel group: missing orderer config section
02:37:29 unit-tests_1  | FAIL
02:37:29 unit-tests_1  | coverage: 90.3% of statements
02:37:29 unit-tests_1  | FAIL	github.com/hyperledger/fabric/common/tools/configtxgen/encoder	10.990s
{noformat}",,denyeart,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzpqf:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"07/Sep/18 2:14 AM;mastersingh24;— FAIL: TestGoodChannelCreateConfigUpdate (0.47s)
 encoder_test.go:95: configUpdate:
 channel_id:""channel.id"" read_set:<groups:<key:""Application"" value:<groups:<key:""SampleOrg"" value:<> > > > values:<key:""Consortium"" value:<> > > write_set:<groups:<key:""Application"" value:<version:1 groups:<key:""SampleOrg"" value:<> > values:<key:""Capabilities"" value:<value:""\n\010\n\004V1_2\022\000\n\010\n\*{color:#de350b}004V1_3{color}*\022\000"" mod_policy:""Admins"" > > policies:<key:""Admins"" value:<policy:<type:3 value:""\n\006Admins\020\002"" > mod_policy:""Admins"" > > policies:<key:""Readers"" value:<policy:<type:3 value:""\n\007Readers"" > mod_policy:""Admins"" > > policies:<key:""Writers"" value:<policy:<type:3 value:""\n\007Writers"" > mod_policy:""Admins"" > > mod_policy:""Admins"" > > values:<key:""Consortium"" value:<value:""\n\020SampleConsortium"" > > >

encoder_test.go:96: defaultConfigUpdate:
 channel_id:""channel.id"" read_set:<groups:<key:""Application"" value:<groups:<key:""SampleOrg"" value:<> > > > values:<key:""Consortium"" value:<> > > write_set:<groups:<key:""Application"" value:<version:1 groups:<key:""SampleOrg"" value:<> > values:<key:""Capabilities"" value:<value:""\n\010\n\004V1_3\022\000\n\010\n\*{color:#de350b}004V1_2{color}*\022\000"" mod_policy:""Admins"" > > policies:<key:""Admins"" value:<policy:<type:3 value:""\n\006Admins\020\002"" > mod_policy:""Admins"" > > policies:<key:""Readers"" value:<policy:<type:3 value:""\n\007Readers"" > mod_policy:""Admins"" > > policies:<key:""Writers"" value:<policy:<type:3 value:""\n\007Writers"" > mod_policy:""Admins"" > > mod_policy:""Admins"" > > values:<key:""Consortium"" value:<value:""\n\020SampleConsortium"" > > >

 

 

--- FAIL: TestGoodChannelCreateConfigUpdate (1.25s)

 encoder_test.go:95: configUpdate:

 channel_id:""channel.id"" read_set:<groups:<key:""Application"" value:<groups:<key:""SampleOrg"" value:<> > > > values:<key:""Consortium"" value:<> > > write_set:<groups:<key:""Application"" value:<version:1 groups:<key:""SampleOrg"" value:<> > values:<key:""Capabilities"" value:<value:""\n\010\n\004V1_3\022\000\n\010\n\{color:#de350b}*004V1_2*{color}\022\000"" mod_policy:""Admins"" > > policies:<key:""Admins"" value:<policy:<type:3 value:""\n\006Admins\020\002"" > mod_policy:""Admins"" > > policies:<key:""Readers"" value:<policy:<type:3 value:""\n\007Readers"" > mod_policy:""Admins"" > > policies:<key:""Writers"" value:<policy:<type:3 value:""\n\007Writers"" > mod_policy:""Admins"" > > mod_policy:""Admins"" > > values:<key:""Consortium"" value:<value:""\n\020SampleConsortium"" > > > 

 

 encoder_test.go:96: defaultConfigUpdate:

 channel_id:""channel.id"" read_set:<groups:<key:""Application"" value:<groups:<key:""SampleOrg"" value:<> > > > values:<key:""Consortium"" value:<> > > write_set:<groups:<key:""Application"" value:<version:1 groups:<key:""SampleOrg"" value:<> > values:<key:""Capabilities"" value:<value:""\n\010\n\004V1_2\022\000\n\010\n\{color:#de350b}*004V1_3*{color}\022\000"" mod_policy:""Admins"" > > policies:<key:""Admins"" value:<policy:<type:3 value:""\n\006Admins\020\002"" > mod_policy:""Admins"" > > policies:<key:""Readers"" value:<policy:<type:3 value:""\n\007Readers"" > mod_policy:""Admins"" > > policies:<key:""Writers"" value:<policy:<type:3 value:""\n\007Writers"" > mod_policy:""Admins"" > > mod_policy:""Admins"" > > values:<key:""Consortium"" value:<value:""\n\020SampleConsortium"" > > >;;;","07/Sep/18 2:14 AM;mastersingh24;https://gerrit.hyperledger.org/r/26144;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Unit test failures on TestCreds,FAB-11892,33539,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,mastersingh24,denyeart,denyeart,06/Sep/18 12:27 PM,19/Mar/19 7:57 PM,28/Oct/23 3:03 AM,07/Sep/18 1:44 PM,,,,,,v1.3.0,,,,,,,,,0,ci-flake,,,,,"Many CI unit test jobs fail at TestCreds.

One example at:

[https://gerrit.hyperledger.org/r/#/c/26113/]

[https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/4373/consoleFull]

 
{noformat}
03:15:13 unit-tests_1  | 2018-09-06 03:13:34.153 UTC [ConnProducer] DisableEndpoint -> WARN 001 Only 1 endpoint remained, will not black-list it
03:15:13 unit-tests_1  | 2018-09-06 03:13:36.176 UTC [bccsp] GetDefault -> WARN 002 Before using BCCSP, please call InitFactories(). Falling back to bootBCCSP.
03:15:13 unit-tests_1  | 2018-09-06 03:13:36.176 UTC [bccsp] GetDefault -> WARN 003 Before using BCCSP, please call InitFactories(). Falling back to bootBCCSP.
03:15:13 unit-tests_1  | 2018-09-06 03:13:37.202 UTC [bccsp] GetDefault -> WARN 004 Before using BCCSP, please call InitFactories(). Falling back to bootBCCSP.
03:15:13 unit-tests_1  | 2018-09-06 03:13:37.223 UTC [bccsp] GetDefault -> WARN 005 Before using BCCSP, please call InitFactories(). Falling back to bootBCCSP.
03:15:13 unit-tests_1  | 2018-09-06 03:13:37.227 UTC [bccsp] GetDefault -> WARN 006 Before using BCCSP, please call InitFactories(). Falling back to bootBCCSP.
03:15:13 unit-tests_1  | --- FAIL: TestCreds (0.01s)
03:15:13 unit-tests_1  | 	assertions.go:247: 
                          
	Error Trace:	creds_test.go:104
03:15:13 unit-tests_1  | 		
	Error:      	"""" does not contain ""TLS handshake failed with error""
03:15:13 unit-tests_1  | 		
	Test:       	TestCreds
03:15:13 unit-tests_1  | 2018-09-06 03:13:37.680 UTC [ConnProducer] NewConnection -> ERRO 008 Failed connecting to a , error: Failed connecting to a
03:15:13 unit-tests_1  | 2018-09-06 03:13:37.704 UTC [ConnProducer] NewConnection -> ERRO 009 Failed connecting to c , error: Failed connecting to c
03:15:13 unit-tests_1  | 2018-09-06 03:13:37.704 UTC [ConnProducer] NewConnection -> ERRO 00a Failed connecting to a , error: Failed connecting to a
03:15:13 unit-tests_1  | 2018-09-06 03:13:37.704 UTC [ConnProducer] NewConnection -> ERRO 00b Failed connecting to b , error: Failed connecting to b
03:15:13 unit-tests_1  | 2018-09-06 03:13:38.383 UTC [comm] GetPeerCredentials -> WARN 00c Failed adding certificates to peer's client TLS trust pool: asn1: syntax error: data truncated
03:15:13 unit-tests_1  | 2018-09-06 03:13:38.705 UTC [comm] GetDeliverServiceCredentials -> ERRO 00d Attempted to obtain root CA certs of a non existent channel: C
03:15:13 unit-tests_1  | FAIL
03:15:13 unit-tests_1  | coverage: 90.6% of statements
03:15:13 unit-tests_1  | FAIL	github.com/hyperledger/fabric/core/comm	10.616s{noformat}",,denyeart,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11855,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzpqn:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"06/Sep/18 7:35 PM;denyeart;[~mastersingh24] Seems to be related to the recent merge of FAB-11855 .;;;","06/Sep/18 10:38 PM;mastersingh24;https://gerrit.hyperledger.org/r/26136;;;","07/Sep/18 1:44 PM;denyeart;https://gerrit.hyperledger.org/r/#/c/26149/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Code hygiene: remove unused const,FAB-11893,33542,28450,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ales,ales,ales,06/Sep/18 4:59 PM,06/Sep/18 9:29 PM,28/Oct/23 3:03 AM,06/Sep/18 9:29 PM,,,,,,,,,,,,,,,0,,,,,,Part of the restructuring of the validator lead to the removal of the identity deduplication code. A constant used by that code is no longer referenced and can be removed.,,ales,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzprb:",,,,Unset,Unset,Sprint 6 - NextGen Endorseme 2,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ales,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fix gossip state transfer,FAB-11894,33543,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,C0rWin,C0rWin,C0rWin,06/Sep/18 5:29 PM,20/Sep/18 7:05 AM,28/Oct/23 3:03 AM,07/Sep/18 6:06 AM,v1.2.1,v1.3.0,,,,v1.2.1,v1.3.0,,,,,,,,0,,,,,,"Currently when gossip state transfer tries to complete block via state transfer it checks for peers which has more advanced ledger height and send appropriate request, the code which handles it works as following:

{code}
			ourHeight, err := s.ledger.LedgerHeight()
			if err != nil {
				// Unable to read from ledger continue to the next round
				logger.Errorf(""Cannot obtain ledger height, due to %+v"", errors.WithStack(err))
				continue
			}
			if ourHeight == 0 {
				logger.Error(""Ledger reported block height of 0 but this should be impossible"")
				continue
			}
			maxHeight := s.maxAvailableLedgerHeight()
			if ourHeight >= maxHeight {
				continue
			}

			s.requestBlocksInRange(uint64(ourHeight), uint64(maxHeight))
{code}

where the request produced after the 

{code}
s.requestBlocksInRange(uint64(ourHeight), uint64(maxHeight))
{code}

with

{code}
// GetBlocksInRange capable to acquire blocks with sequence
// numbers in the range [start...end].
func (s *GossipStateProviderImpl) requestBlocksInRange(start uint64, end uint64) {
	atomic.StoreInt32(&s.stateTransferActive, 1)
	defer atomic.StoreInt32(&s.stateTransferActive, 0)

	for prev := start; prev <= end; {
		next := min(end, prev+defAntiEntropyBatchSize)

		gossipMsg := s.stateRequestMessage(prev, next)
{code}

The actual problem is that it considers peers ledger height as next available sequence to request missing block, however since we count blocks from zero, it has to be actually peers ledger height minus one. Therefore it might cause for following issue

{quote}
2018-09-04 22:48:57.152 UTC [kvledger] CommitWithPvtData -> INFO 1e28[0m Channel [consortium]: Committed block [6657] with 2 transaction(s)
[31m2018-09-04 22:48:59.101 UTC [gossip/state] handleStateRequest -> ERRO 1e29[0m cannot read block number 6658 from ledger, because Entry not found in index, skipping...
[31m2018-09-04 22:48:59.105 UTC [gossip/state] handleStateRequest -> ERRO 1e2a[0m cannot read block number 6658 from ledger, because Entry not found in index, skipping...
[31m2018-09-04 22:48:59.109 UTC [gossip/state] handleStateRequest -> ERRO 1e2b[0m cannot read block number 6658 from ledger, because Entry not found in index, skipping...
[31m2018-09-04 22:48:59.113 UTC [gossip/state] handleStateRequest -> ERRO 1e2c[0m cannot read block number 6658 from ledger, because Entry not found in index, skipping...
[31m2018-09-04 22:48:59.139 UTC [gossip/state] handleStateRequest -> ERRO 1e2d[0m cannot read block number 6658 from ledger, because Entry not found in index, skipping...
2018-09-04 22:48:59.561 UTC [kvledger] CommitWithPvtData -> INFO 1e2e[0m Channel [consortium]: Committed block [6658] with 1 transaction(s)
{quote}

the fix is pretty simple, we should do the range query for open range as following:

{code}
// GetBlocksInRange capable to acquire blocks with sequence
// numbers in the range [start...end).
func (s *GossipStateProviderImpl) requestBlocksInRange(start uint64, end uint64) {
	atomic.StoreInt32(&s.stateTransferActive, 1)
	defer atomic.StoreInt32(&s.stateTransferActive, 0)

	for prev := start; prev < end; {
		next := min(end-1, prev+defAntiEntropyBatchSize)
{code}",,C0rWin,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-10544,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzprj:",,,,Unset,Unset,,,"In order to reproduce the issue we need to spin off one peer, invoke and submit transactions, after a while need to bootstrap a second peer and wait until it will start to sync up, i.e. doing state transfer.",,Unset,,,,,,Unset,,Unset,,(Please add usage information),C0rWin,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,release-1.2,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"06/Sep/18 5:38 PM;C0rWin;https://gerrit.hyperledger.org/r/26129;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
func TestNoTLSCertificate & TestReconnect fails intermittently,FAB-11895,33544,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,harsha544,harsha544,harsha544,06/Sep/18 6:27 PM,06/Sep/18 10:01 PM,28/Oct/23 3:03 AM,06/Sep/18 10:01 PM,v1.3.0,,,,,Future,,,,,fabric-ci,fabric-orderer,,,0,Orderer,unit-test,,,,"*_make unit-test_* results in partial success of the UT on ppc64le, failing at func TestNoTLSCertificate & TestReconnect which is part of package *cluster_test*
 FWIW,  
 [https://jenkins.hyperledger.org/sandbox/job/fabric-daily-ppc64le/51/console]
 [https://jenkins.hyperledger.org/sandbox/job/fabric-daily-ppc64le/47/console]


 *07:10:29* {color:#cdcd00}unit-tests_1 |{color} /opt/go/src/runtime/asm_ppc64x.s:1467*07:10:29* {color:#cdcd00}unit-tests_1 |{color} Test: *TestReconnect**07:10:29* {color:#cdcd00}unit-tests_1 |{color} panic: runtime error: invalid memory address or nil pointer dereference [recovered]*07:10:29* {color:#cdcd00}unit-tests_1 |{color} panic: runtime error: invalid memory address or nil pointer dereference

 


 *08:57:25* {color:#cdcd00}unit-tests_1 |{color} 2018-09-05 03:25:33.878 UTC [test] updateStubInMapping -> INFO 066 Allocating a new stub for node 5 with endpoint of 127.0.0.1:46090*08:57:25* {color:#cdcd00}unit-tests_1 |{color} 2018-09-05 03:25:33.878 UTC [test] updateStubInMapping -> INFO 067 Deactivating node 5 with endpoint of 127.0.0.1:46090 due to TLS certificate change*08:57:25* {color:#cdcd00}unit-tests_1 |{color} — FAIL: *TestNoTLSCertificate* (0.22s)*08:57:25* {color:#cdcd00}unit-tests_1 |{color} assertions.go:247:

Error Trace: comm_test.go:499*08:57:25* {color:#cdcd00}unit-tests_1 |{color} Error: Received unexpected error:*08:57:25* {color:#cdcd00}unit-tests_1 |{color} context deadline exceeded",,harsha544,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzprr:",,,,Unset,Unset,,,make unit-test ,,Unset,,,,,,Unset,,Unset,,(Please add usage information),harsha544,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"06/Sep/18 6:28 PM;harsha544;Based on Yacov's [https://gerrit.hyperledger.org/r/#/c/26083] will be formulating a PR ASAP.
 Push the PR and test in sandbox.;;;","06/Sep/18 7:44 PM;harsha544;Pushed a PR via https://gerrit.hyperledger.org/r/#/c/26131/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Exercise v1.2 and v1.3 validation in tests,FAB-11896,33551,28450,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ales,ales,ales,06/Sep/18 10:33 PM,12/Sep/18 4:20 AM,28/Oct/23 3:03 AM,12/Sep/18 4:20 AM,,,,,,,,,,,,,,,0,,,,,,FAB-11551 introduces a split in the validation logic based on whether the channel operates with a 1.2 or 1.3 capability. This change set extends the validation logic to test with either validator and assert that the behaviour either doesn't change or it changes as expected.,,ales,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzpsf:",,,,Unset,Unset,Sprint 6 - NextGen Endorseme 2,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ales,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Enable processing of Type A config updates,FAB-11897,33552,32830,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,adarshsaraf123,kchristidis,kchristidis,06/Sep/18 10:35 PM,16/Oct/18 9:13 PM,28/Oct/23 3:03 AM,16/Oct/18 9:13 PM,,,,,,,,,,,,,,,0,,,,,,,,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzpsn:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"06/Sep/18 10:35 PM;kchristidis;https://gerrit.hyperledger.org/r/c/26104/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
TestViewer does not show data from pte daily tests,FAB-11898,33555,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,scottz,scottz,scottz,07/Sep/18 12:00 AM,19/Sep/18 4:24 AM,28/Oct/23 3:03 AM,13/Sep/18 6:14 AM,v1.2.0,v1.3.0,,,,v1.3.0,,,,,fabric-quality,,,,0,,,,,,"Master branch fabric-test/Makefile:  the PTE/CITest/scenarios/result_*.log files are not archived, which explains why Testviewer does not display any data. (They are archived ok in the 1.2 branch.)

{{For both master and 1.2 release branches of fabric-test, for PTE (and also other test results for OTE and LTE too):  Testviewer/server/src/metrics.js should be changed to grab data from new directory location in nexus which stores up to 6 months of tests results, instead of jenkins:}}

{{[https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-daily-pte-master-x86_64/$]{buildnum}/PTE_Test_Logs/result_${fab}.log}}

 

Also, after fixing Testviewer, rebuild and redeploy to testviewer.mybluemix.net.",,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11914,FAB-12046,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzpt3:",,,,Unset,Unset,,,"(Please add steps to reproduce)
https://testviewer.mybluemix.net/#/
They are missing even from the nexus repository, where the pte test logs are present but the result_*.log files are missing. Refer to https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-daily-pte-master-x86_64/22/PTE_Test_Logs/",,Unset,,,,,,Unset,,Unset,,(Please add usage information),scottz,,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,true,"07/Sep/18 1:00 AM;scottz;[https://gerrit.hyperledger.org/r/#/c/26142/]

 - in master branch: to fix the archive function for pte results files and LTE results.csv file, and to fix TestViewer to retrieve data from Nexus for PTE and OTE and LTE.;;;","12/Sep/18 6:42 AM;scottz;Commit message:

[FAB-11898] archive data for Testviewer WIP
 
 Fix the daily/runPte and daily/runLte scripts to
 correctly and consistently archive all the daily
 test suites result logfiles for PTE, OTE, and
 LTE tests from jenkins into Nexus.
 
 Apparently some output log files had been renamed
 recently, so they will now be archived from those
 new correct output locations in jenkins to the
 new standardized archive locations in Nexus by
 the fabric-test/regression/daily/run* scripts,
 
 Also this fixes the TestViewer tool metrics.js to
 retrieve test data (up to 6 months) from the NEW
 archived locations in Nexus.
 
 With https://gerrit.hyperledger.org/r/#/c/26198/
 also being fixed today, along with another change
 last week to produce a new pte report summary
 file, the PTE results formats have changed - plus
 the output filenames of the CI automated PTE
 tests have changed to
 CITest/Logs/$TESTCASE-pteReport.log. That is why
 now we are editing the test suite script files
 smoke/systest_pte.py and daily/systest_pte.py to
 check for new result strings in new log file names.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
PTE includes nProcPerOrg in Report file,FAB-11899,33556,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,dongming,dongming,dongming,07/Sep/18 12:04 AM,07/Sep/18 11:14 PM,28/Oct/23 3:03 AM,07/Sep/18 11:14 PM,,,,,,,,,,,fabric-quality,,,,0,,,,,,PTE includes number of threads to the report txt,,dongming,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-2247,,,No,,Unset,No,,,"1|hzzptb:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),dongming,,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,release-1.3,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-1.4,release-2.5,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,true,"07/Sep/18 3:31 AM;dongming;https://gerrit.hyperledger.org/r/#/c/26078/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
java samplecc,FAB-11900,33557,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,gennadyl,dongming,dongming,07/Sep/18 2:07 AM,13/Sep/18 10:48 PM,28/Oct/23 3:03 AM,13/Sep/18 10:48 PM,,,,,,v1.3.0,,,,,fabric-quality,,,,0,,,,,,"In order to compare the performance of chaincode, need a java version samplecc chaincode.

There are two versions of samplecc, go and node js, located in [https://github.com/hyperledger/fabric-test/tree/master/chaincodes/samplecc]


Please check in to the same repository with new directory, namely java.",,dongming,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11726,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FABCJ-7,,,No,,Unset,No,,,"1|hzzptj:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),dongming,,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
PTE to support new Chaincode EndorseCC for SBE,FAB-11901,33562,,Test Task,Closed,FAB,Fabric,software,denyeart,,,High,Done,dongming,AdnanChoudhury,AdnanChoudhury,07/Sep/18 5:53 AM,17/Sep/18 10:27 PM,28/Oct/23 3:03 AM,17/Sep/18 10:27 PM,v1.3.0,,,,,v1.3.0,,,,,fabric-quality,,,,0,,,,,,PTE currently does not support the proposed chaincode for state-based Endorsement. Support for this feature will enable System tests.,,AdnanChoudhury,dongming,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11616,FAB-11615,FAB-11614,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-2247,,,No,,Unset,No,,,"1|hzzpu7:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,System Test,,(Please add usage information),AdnanChoudhury,dongming,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,,,,,,true,"15/Sep/18 3:58 AM;dongming;https://gerrit.hyperledger.org/r/#/c/26318/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
State based endorsement tests timed out in CI,FAB-11902,33563,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ales,sykesm,sykesm,07/Sep/18 6:17 AM,19/Mar/19 7:57 PM,28/Oct/23 3:03 AM,08/Sep/18 12:51 AM,,,,,,,,,,,,,,,0,ci-flake,,,,,"{code}
00:25:38.055 unit-tests_1  | panic: test timed out after 20m0s
00:25:38.056 unit-tests_1  | 
00:25:38.057 unit-tests_1  | goroutine 1062 [running]:
00:25:38.058 unit-tests_1  | testing.(*M).startAlarm.func1()
00:25:38.059 unit-tests_1  | 	/opt/go/src/testing/testing.go:1240 +0xfc
00:25:38.059 unit-tests_1  | created by time.goFunc
00:25:38.060 unit-tests_1  | 	/opt/go/src/time/sleep.go:172 +0x44
00:25:38.060 unit-tests_1  | 
00:25:38.061 unit-tests_1  | goroutine 1 [chan receive, 19 minutes]:
00:25:38.061 unit-tests_1  | testing.tRunner.func1(0xc4200e8000)
00:25:38.062 unit-tests_1  | 	/opt/go/src/testing/testing.go:753 +0x11d
00:25:38.062 unit-tests_1  | testing.tRunner(0xc4200e8000, 0xc42066dd90)
00:25:38.063 unit-tests_1  | 	/opt/go/src/testing/testing.go:783 +0xf2
00:25:38.064 unit-tests_1  | testing.runTests(0xc420304880, 0x13f68e0, 0x17, 0x17, 0x7160fd)
00:25:38.065 unit-tests_1  | 	/opt/go/src/testing/testing.go:1061 +0x2c4
00:25:38.065 unit-tests_1  | testing.(*M).Run(0xc42046a100, 0x0)
00:25:38.066 unit-tests_1  | 	/opt/go/src/testing/testing.go:978 +0x171
00:25:38.066 unit-tests_1  | main.main()
00:25:38.068 unit-tests_1  | 	_testmain.go:136 +0x208
00:25:38.069 unit-tests_1  | 
00:25:38.070 unit-tests_1  | goroutine 5 [syscall, 20 minutes]:
00:25:38.070 unit-tests_1  | os/signal.signal_recv(0x0)
00:25:38.071 unit-tests_1  | 	/opt/go/src/runtime/sigqueue.go:139 +0xa6
00:25:38.072 unit-tests_1  | os/signal.loop()
00:25:38.073 unit-tests_1  | 	/opt/go/src/os/signal/signal_unix.go:22 +0x22
00:25:38.074 unit-tests_1  | created by os/signal.init.0
00:25:38.075 unit-tests_1  | 	/opt/go/src/os/signal/signal_unix.go:28 +0x41
00:25:38.076 unit-tests_1  | 
00:25:38.077 unit-tests_1  | goroutine 36 [chan receive, 19 minutes]:
00:25:38.078 unit-tests_1  | github.com/hyperledger/fabric/core/common/validation/statebased.runFunctions(0xc4200e90e0, 0x5b9191d9, 0xc420764da0, 0x3, 0x3)
00:25:38.079 unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/core/common/validation/statebased/vpmanager_test.go:145 +0x1b3
00:25:38.080 unit-tests_1  | github.com/hyperledger/fabric/core/common/validation/statebased.TestPvtDependencyConflict(0xc4200e90e0)
00:25:38.080 unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/core/common/validation/statebased/vpmanager_test.go:391 +0x614
00:25:38.081 unit-tests_1  | testing.tRunner(0xc4200e90e0, 0xe502a8)
00:25:38.081 unit-tests_1  | 	/opt/go/src/testing/testing.go:777 +0xd0
00:25:38.083 unit-tests_1  | created by testing.(*T).Run
00:25:38.083 unit-tests_1  | 	/opt/go/src/testing/testing.go:824 +0x2e0
00:25:38.084 unit-tests_1  | 
00:25:38.085 unit-tests_1  | goroutine 37 [chan send, 19 minutes]:
00:25:38.086 unit-tests_1  | testing.tRunner.func1(0xc4200e91d0)
00:25:38.087 unit-tests_1  | 	/opt/go/src/testing/testing.go:772 +0x183
00:25:38.087 unit-tests_1  | testing.tRunner(0xc4200e91d0, 0xe501c8)
00:25:38.088 unit-tests_1  | 	/opt/go/src/testing/testing.go:783 +0xf2
00:25:38.089 unit-tests_1  | created by testing.(*T).Run
00:25:38.089 unit-tests_1  | 	/opt/go/src/testing/testing.go:824 +0x2e0
00:25:38.090 unit-tests_1  | 
00:25:38.091 unit-tests_1  | goroutine 38 [chan send, 19 minutes]:
00:25:38.091 unit-tests_1  | testing.tRunner.func1(0xc4200e92c0)
00:25:38.092 unit-tests_1  | 	/opt/go/src/testing/testing.go:772 +0x183
00:25:38.093 unit-tests_1  | testing.tRunner(0xc4200e92c0, 0xe50280)
00:25:38.094 unit-tests_1  | 	/opt/go/src/testing/testing.go:783 +0xf2
00:25:38.095 unit-tests_1  | created by testing.(*T).Run
00:25:38.096 unit-tests_1  | 	/opt/go/src/testing/testing.go:824 +0x2e0
00:25:38.097 unit-tests_1  | 
00:25:38.099 unit-tests_1  | goroutine 39 [chan send, 19 minutes]:
00:25:38.100 unit-tests_1  | testing.tRunner.func1(0xc4200e93b0)
00:25:38.101 unit-tests_1  | 	/opt/go/src/testing/testing.go:772 +0x183
00:25:38.101 unit-tests_1  | testing.tRunner(0xc4200e93b0, 0xe501c0)
00:25:38.102 unit-tests_1  | 	/opt/go/src/testing/testing.go:783 +0xf2
00:25:38.102 unit-tests_1  | created by testing.(*T).Run
00:25:38.103 unit-tests_1  | 	/opt/go/src/testing/testing.go:824 +0x2e0
00:25:38.103 unit-tests_1  | 
00:25:38.104 unit-tests_1  | goroutine 40 [chan send, 19 minutes]:
00:25:38.104 unit-tests_1  | testing.tRunner.func1(0xc4200e94a0)
00:25:38.105 unit-tests_1  | 	/opt/go/src/testing/testing.go:772 +0x183
00:25:38.105 unit-tests_1  | testing.tRunner(0xc4200e94a0, 0xe502c0)
00:25:38.106 unit-tests_1  | 	/opt/go/src/testing/testing.go:783 +0xf2
00:25:38.106 unit-tests_1  | created by testing.(*T).Run
00:25:38.107 unit-tests_1  | 	/opt/go/src/testing/testing.go:824 +0x2e0
00:25:38.107 unit-tests_1  | 
00:25:38.108 unit-tests_1  | goroutine 41 [chan send, 19 minutes]:
00:25:38.108 unit-tests_1  | testing.tRunner.func1(0xc4200e9590)
00:25:38.109 unit-tests_1  | 	/opt/go/src/testing/testing.go:772 +0x183
00:25:38.109 unit-tests_1  | testing.tRunner(0xc4200e9590, 0xe50200)
00:25:38.110 unit-tests_1  | 	/opt/go/src/testing/testing.go:783 +0xf2
00:25:38.110 unit-tests_1  | created by testing.(*T).Run
00:25:38.111 unit-tests_1  | 	/opt/go/src/testing/testing.go:824 +0x2e0
00:25:38.112 unit-tests_1  | 
00:25:38.113 unit-tests_1  | goroutine 1058 [chan receive, 19 minutes]:
00:25:38.114 unit-tests_1  | testing.runTests.func1.1(0xc4200e8000)
00:25:38.115 unit-tests_1  | 	/opt/go/src/testing/testing.go:1068 +0x3b
00:25:38.117 unit-tests_1  | created by testing.runTests.func1
00:25:38.118 unit-tests_1  | 	/opt/go/src/testing/testing.go:1068 +0xa2
00:25:38.119 unit-tests_1  | 
00:25:38.120 unit-tests_1  | goroutine 1053 [semacquire, 19 minutes]:
00:25:38.121 unit-tests_1  | sync.runtime_Semacquire(0xc420014630)
00:25:38.121 unit-tests_1  | 	/opt/go/src/runtime/sema.go:56 +0x39
00:25:38.122 unit-tests_1  | sync.(*RWMutex).Lock(0xc420014628)
00:25:38.122 unit-tests_1  | 	/opt/go/src/sync/rwmutex.go:98 +0x6e
00:25:38.123 unit-tests_1  | github.com/hyperledger/fabric/core/common/validation/statebased.(*validationContext).getOrCreateDependencyByTxnum(0xc420014628, 0x0, 0x0)
00:25:38.124 unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/core/common/validation/statebased/vpmanagerimpl.go:166 +0xd5
00:25:38.124 unit-tests_1  | github.com/hyperledger/fabric/core/common/validation/statebased.(*KeyLevelValidationParameterManagerImpl).SetTxValidationResult(0xc420014600, 0xe2436d, 0x2, 0x1, 0x0, 0x0, 0x0)
00:25:38.125 unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/core/common/validation/statebased/vpmanagerimpl.go:313 +0x61
00:25:38.125 unit-tests_1  | github.com/hyperledger/fabric/core/common/validation/statebased.TestPvtDependencyConflict.func2()
00:25:38.126 unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/core/common/validation/statebased/vpmanager_test.go:396 +0x56
00:25:38.126 unit-tests_1  | github.com/hyperledger/fabric/vendor/github.com/stretchr/testify/assert.didPanic.func1(0xc420820ea8, 0xc420820ea7, 0xc420764d80)
00:25:38.127 unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/stretchr/testify/assert/assertions.go:791 +0x57
00:25:38.127 unit-tests_1  | github.com/hyperledger/fabric/vendor/github.com/stretchr/testify/assert.didPanic(0xc420764d80, 0xc42057dc80, 0xc4200120b8, 0x75a510)
00:25:38.128 unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/stretchr/testify/assert/assertions.go:793 +0x4c
00:25:38.128 unit-tests_1  | github.com/hyperledger/fabric/vendor/github.com/stretchr/testify/assert.NotPanics(0xe9e8e0, 0xc4200e90e0, 0xc420764d80, 0xc420820f78, 0x2, 0x2, 0x1)
00:25:38.129 unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/stretchr/testify/assert/assertions.go:833 +0x32
00:25:38.129 unit-tests_1  | github.com/hyperledger/fabric/core/common/validation/statebased.runFunctions.func1(0xc4200e90e0, 0xc420764da0, 0x3, 0x3, 0x1, 0x5b9191d9, 0xc420012180)
00:25:38.130 unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/core/common/validation/statebased/vpmanager_test.go:140 +0xda
00:25:38.134 unit-tests_1  | created by github.com/hyperledger/fabric/core/common/validation/statebased.runFunctions
00:25:38.134 unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/core/common/validation/statebased/vpmanager_test.go:139 +0x177
00:25:38.135 unit-tests_1  | 
00:25:38.136 unit-tests_1  | goroutine 1052 [semacquire, 19 minutes]:
00:25:38.137 unit-tests_1  | sync.runtime_notifyListWait(0xc420319990, 0xc400000000)
00:25:38.138 unit-tests_1  | 	/opt/go/src/runtime/sema.go:510 +0x10b
00:25:38.139 unit-tests_1  | sync.(*Cond).Wait(0xc420319980)
00:25:38.140 unit-tests_1  | 	/opt/go/src/sync/cond.go:56 +0x80
00:25:38.141 unit-tests_1  | github.com/hyperledger/fabric/core/common/validation/statebased.(*txDependency).waitForAndRetrieveValidationResult(0xc420859220, 0xe2436d, 0x2, 0x0, 0x0)
00:25:38.141 unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/core/common/validation/statebased/vpmanagerimpl.go:89 +0xe0
00:25:38.142 unit-tests_1  | github.com/hyperledger/fabric/core/common/validation/statebased.(*validationContext).waitForValidationResults(0xc420014628, 0xc4200cbcf0, 0x1, 0x1, 0x0, 0x0)
00:25:38.143 unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/core/common/validation/statebased/vpmanagerimpl.go:194 +0x17d
00:25:38.143 unit-tests_1  | github.com/hyperledger/fabric/core/common/validation/statebased.(*KeyLevelValidationParameterManagerImpl).GetValidationParameterForKey(0xc420014600, 0xe2436d, 0x2, 0xe24b03, 0x4, 0xe24622, 0x3, 0x1, 0x1, 0x0, ...)
00:25:38.144 unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/core/common/validation/statebased/vpmanagerimpl.go:268 +0x1ab
00:25:38.144 unit-tests_1  | github.com/hyperledger/fabric/core/common/validation/statebased.TestPvtDependencyConflict.func3()
00:25:38.144 unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/core/common/validation/statebased/vpmanager_test.go:399 +0x96
00:25:38.145 unit-tests_1  | github.com/hyperledger/fabric/vendor/github.com/stretchr/testify/assert.didPanic.func1(0xc42004f6a8, 0xc42004f6a7, 0xc4204c4870)
00:25:38.146 unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/stretchr/testify/assert/assertions.go:791 +0x57
00:25:38.146 unit-tests_1  | github.com/hyperledger/fabric/vendor/github.com/stretchr/testify/assert.didPanic(0xc4204c4870, 0xc420327800, 0x14, 0xf)
00:25:38.147 unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/stretchr/testify/assert/assertions.go:793 +0x4c
00:25:38.147 unit-tests_1  | github.com/hyperledger/fabric/vendor/github.com/stretchr/testify/assert.NotPanics(0xe9e8e0, 0xc4200e90e0, 0xc4204c4870, 0xc4200cbf78, 0x2, 0x2, 0x5b9191d9)
00:25:38.148 unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/stretchr/testify/assert/assertions.go:833 +0x32
00:25:38.148 unit-tests_1  | github.com/hyperledger/fabric/core/common/validation/statebased.runFunctions.func1(0xc4200e90e0, 0xc420764da0, 0x3, 0x3, 0x2, 0x5b9191d9, 0xc420012180)
00:25:38.149 unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/core/common/validation/statebased/vpmanager_test.go:140 +0xda
00:25:38.150 unit-tests_1  | created by github.com/hyperledger/fabric/core/common/validation/statebased.runFunctions
00:25:38.151 unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/core/common/validation/statebased/vpmanager_test.go:139 +0x177
00:25:38.152 unit-tests_1  | FAIL	github.com/hyperledger/fabric/core/common/validation/statebased	1200.052s
{code}

https://gerrit.hyperledger.org/r/c/26149/",,ales,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"07/Sep/18 6:20 AM;sykesm;console-timestamp.log.gz.txt;https://jira.hyperledger.org/secure/attachment/15785/console-timestamp.log.gz.txt",,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzpuf:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ales,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"07/Sep/18 6:36 PM;ales;Thanks Matt - it's a deadlock indeed - will push a fix shortly and paste a longer explanation of the problem and the fix.;;;","07/Sep/18 7:41 PM;ales;Matthias and I did a root cause analysis, here's the result: the stack traces below

{noformat}
goroutine 1053 [semacquire, 19 minutes]:
sync.runtime_Semacquire(0xc420014630)
	/opt/go/src/runtime/sema.go:56 +0x39
sync.(*RWMutex).Lock(0xc420014628)
	/opt/go/src/sync/rwmutex.go:98 +0x6e
github.com/hyperledger/fabric/core/common/validation/statebased.(*validationContext).getOrCreateDependencyByTxnum(0xc420014628, 0x0, 0x0)
	/opt/gopath/src/github.com/hyperledger/fabric/core/common/validation/statebased/vpmanagerimpl.go:166 +0xd5
github.com/hyperledger/fabric/core/common/validation/statebased.(*KeyLevelValidationParameterManagerImpl).SetTxValidationResult(0xc420014600, 0xe2436d, 0x2, 0x1, 0x0, 0x0, 0x0)
	/opt/gopath/src/github.com/hyperledger/fabric/core/common/validation/statebased/vpmanagerimpl.go:313 +0x61
github.com/hyperledger/fabric/core/common/validation/statebased.TestPvtDependencyConflict.func2()
	/opt/gopath/src/github.com/hyperledger/fabric/core/common/validation/statebased/vpmanager_test.go:396 +0x56
github.com/hyperledger/fabric/vendor/github.com/stretchr/testify/assert.didPanic.func1(0xc420820ea8, 0xc420820ea7, 0xc420764d80)
	/opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/stretchr/testify/assert/assertions.go:791 +0x57
github.com/hyperledger/fabric/vendor/github.com/stretchr/testify/assert.didPanic(0xc420764d80, 0xc42057dc80, 0xc4200120b8, 0x75a510)
	/opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/stretchr/testify/assert/assertions.go:793 +0x4c
github.com/hyperledger/fabric/vendor/github.com/stretchr/testify/assert.NotPanics(0xe9e8e0, 0xc4200e90e0, 0xc420764d80, 0xc420820f78, 0x2, 0x2, 0x1)
	/opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/stretchr/testify/assert/assertions.go:833 +0x32
github.com/hyperledger/fabric/core/common/validation/statebased.runFunctions.func1(0xc4200e90e0, 0xc420764da0, 0x3, 0x3, 0x1, 0x5b9191d9, 0xc420012180)
	/opt/gopath/src/github.com/hyperledger/fabric/core/common/validation/statebased/vpmanager_test.go:140 +0xda
created by github.com/hyperledger/fabric/core/common/validation/statebased.runFunctions
	/opt/gopath/src/github.com/hyperledger/fabric/core/common/validation/statebased/vpmanager_test.go:139 +0x177

goroutine 1052 [semacquire, 19 minutes]:
sync.runtime_notifyListWait(0xc420319990, 0xc400000000)
	/opt/go/src/runtime/sema.go:510 +0x10b
sync.(*Cond).Wait(0xc420319980)
	/opt/go/src/sync/cond.go:56 +0x80
github.com/hyperledger/fabric/core/common/validation/statebased.(*txDependency).waitForAndRetrieveValidationResult(0xc420859220, 0xe2436d, 0x2, 0x0, 0x0)
	/opt/gopath/src/github.com/hyperledger/fabric/core/common/validation/statebased/vpmanagerimpl.go:89 +0xe0
github.com/hyperledger/fabric/core/common/validation/statebased.(*validationContext).waitForValidationResults(0xc420014628, 0xc4200cbcf0, 0x1, 0x1, 0x0, 0x0)
	/opt/gopath/src/github.com/hyperledger/fabric/core/common/validation/statebased/vpmanagerimpl.go:194 +0x17d
github.com/hyperledger/fabric/core/common/validation/statebased.(*KeyLevelValidationParameterManagerImpl).GetValidationParameterForKey(0xc420014600, 0xe2436d, 0x2, 0xe24b03, 0x4, 0xe24622, 0x3, 0x1, 0x1, 0x0, ...)
	/opt/gopath/src/github.com/hyperledger/fabric/core/common/validation/statebased/vpmanagerimpl.go:268 +0x1ab
github.com/hyperledger/fabric/core/common/validation/statebased.TestPvtDependencyConflict.func3()
	/opt/gopath/src/github.com/hyperledger/fabric/core/common/validation/statebased/vpmanager_test.go:399 +0x96
github.com/hyperledger/fabric/vendor/github.com/stretchr/testify/assert.didPanic.func1(0xc42004f6a8, 0xc42004f6a7, 0xc4204c4870)
	/opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/stretchr/testify/assert/assertions.go:791 +0x57
github.com/hyperledger/fabric/vendor/github.com/stretchr/testify/assert.didPanic(0xc4204c4870, 0xc420327800, 0x14, 0xf)
	/opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/stretchr/testify/assert/assertions.go:793 +0x4c
github.com/hyperledger/fabric/vendor/github.com/stretchr/testify/assert.NotPanics(0xe9e8e0, 0xc4200e90e0, 0xc4204c4870, 0xc4200cbf78, 0x2, 0x2, 0x5b9191d9)
	/opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/stretchr/testify/assert/assertions.go:833 +0x32
github.com/hyperledger/fabric/core/common/validation/statebased.runFunctions.func1(0xc4200e90e0, 0xc420764da0, 0x3, 0x3, 0x2, 0x5b9191d9, 0xc420012180)
	/opt/gopath/src/github.com/hyperledger/fabric/core/common/validation/statebased/vpmanager_test.go:140 +0xda
created by github.com/hyperledger/fabric/core/common/validation/statebased.runFunctions
	/opt/gopath/src/github.com/hyperledger/fabric/core/common/validation/statebased/vpmanager_test.go:139 +0x177
{noformat}

show two goroutines in a deadlock. The reason is the following: Key-level validation establishes a producer/consumer pattern, where

* the producer is the goroutine performing validation of a transaction that modifies the key-level validation params of a key, signalling its validation result
* the consumer is the goroutine performing validation of a transaction that retrieves the key-level validation params for the same key

A deadlock existed in the code because the consumer was holding a lock (namely, validationContext.mutex, acquired in waitForValidationResults) while entering the sleep state to wait for the producer (in waitForAndRetrieveValidationResult). The producer on the other hand was prevented from signalling the validation result and broadcast the conditional variable that would have caused the consumer's sleep state to be interrupted, because it needed to obtain the same validationContext.mutex.;;;","07/Sep/18 7:47 PM;ales;tentative fix: https://gerrit.hyperledger.org/r/#/c/26161/;;;","07/Sep/18 7:55 PM;ales;This is the side-by-side scheduling of the two threads that lead to the deadlock

{noformat}
SetTxValidationResult                           GetValidationParameterForKey
============================================================================
getOrCreateDependencyByTxnum
                                                waitForValidationResults
                                                c.mutex.RLock()
                                                waitForAndRetrieveValidationResult
                                                d.mutex.Lock()
                                                d.cond.Wait()
c.mutex.Lock() => deadlock!
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
c.mutex.Unlock()
signalValidationResult
d.mutex.Lock()
d.validationResultMap[ns] = err
d.cond.Broadcast()
...                                             d.mutex.Unlock()
                                                c.mutex.RUnlock()
                                                ...
{noformat}
;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
fabric-sample for Private Data feature using Node SDK ,FAB-11903,33567,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,sheetal-hlf,sheetal-hlf,sheetal-hlf,07/Sep/18 6:04 PM,23/Jan/20 7:32 AM,28/Oct/23 3:03 AM,23/Jan/20 7:32 AM,,,,,,,,,,,fabric-samples,,,,0,stale-item,,,,,"fabric-sample available in v1.2 does not have a working example of private data with Node SDK.

The intent of this ticket is to develop a sample application to demonstrate end-to-end implementation of new private data feature in v1.2.

The application would consist of 
 # Network Setup
 # goLang Chaincode 
 # NodeSDK

 ",,medhak19,sheetal-hlf,silliman,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"01/Nov/18 3:31 PM;sheetal-hlf;Supply-Chain Private-Data.docx;https://jira.hyperledger.org/secure/attachment/16195/Supply-Chain+Private-Data.docx",,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzp9r:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),medhak19,sheetal-hlf,silliman,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"01/Nov/18 3:26 PM;sheetal-hlf;[~denyeart], [~mastersingh24] could you please have a look at the attached document which elaborates use of private data in supply-chain management?

I have added a few restrictions as its a PoC.

Let me know your thoughts on the use-case.;;;","15/Nov/18 4:07 PM;sheetal-hlf;https://gerrit.hyperledger.org/r/#/c/27568/;;;","23/Jan/20 7:32 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Ledgers Not Synchronised,FAB-11904,33568,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid: Works as Expected,,rishabh1102,rishabh1102,07/Sep/18 7:30 PM,01/Dec/18 8:19 PM,28/Oct/23 3:03 AM,01/Dec/18 8:19 PM,,,,,,,,,,,,,,,0,,,,,,"I created the following Setup:

2 Chaincodes - 1) a.go 2)a.go-mod (made a logical change in one invoke function in a.go)

I had 2 organisations, where I installed a.go on Org1 and a.go-mod on the other org (Org2) under the same chaincode name and chaincode version. The endorsement policy was set to the default, ie, Sign of any 1 organisation.

Firstly, the code successully instantiated, which I believe should not have happened.
Second, even after this had happened, I ran an invoke on Org2, the invoke was successful, after which, when I queried all the ledgers, the Org1 ledgers gave me a data mismatch error and I couldn't perform any other activity (invoke or query) on them.

My concern is the second point. Even if in such a scenario, the chaincode setup does get instantiated (which it ideally shouldn't), I should not be able to commit a change on any of the ledgers because it leads to them becoming unsynchorinsed.",,denyeart,mastersingh24,rishabh1102,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzpvb:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,mastersingh24,rishabh1102,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"08/Sep/18 7:15 PM;mastersingh24;[~rishabh1102]  - Did you instantiate the chaincode on the Org2 peer?  From what you posted, that's what I would infer.

 ;;;","08/Sep/18 7:28 PM;rishabh1102;[~mastersingh24] - Yes, I did. Are there guidelines with respect to which peers the chaincode can be instantiated on? Because I assumed that the deployment of chaincode containers was taken care of by the gossip service.;;;","11/Sep/18 9:09 PM;denyeart;When you instantiate on org2 peer, the chaincode fingerprint from org2 peer will be used on the channel.

For any peer with chaincode matching this fingerprint, chaincode can be invoked/queried.

Org 1 chaincode does not match this fingerprint, and therefore it cannot be invoked/queried later.

Just because org1 installed the wrong chaincode, we don't want to block the entire channel from instantiating/invoking the chaincode.

So I think this is working as designed.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Discovery client should provide full set of endorsers in filter,FAB-11905,33570,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,bstasyszyn,bstasyszyn,bstasyszyn,07/Sep/18 9:49 PM,21/Sep/18 10:00 PM,28/Oct/23 3:03 AM,21/Sep/18 10:00 PM,,,,,,v1.3.0,,,,,,,,,0,,,,,,"Currently the PrioritySelector only provides two endorsers at a time (ExclusionFilter provides only one) and this is not enough information for some types of prioritization algorithms. For example, the Go SDK added a filter based on block height threshold (see FABG-755). This filter calculates the highest block height of the full set of endorsers and prioritizes the endorsers that are within a certain threshold of that block height.",,bstasyszyn,ChristopherFerris,denyeart,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzpvr:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bstasyszyn,ChristopherFerris,denyeart,yacovm,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"20/Sep/18 5:47 AM;ChristopherFerris;https://gerrit.hyperledger.org/r/c/26163/;;;","20/Sep/18 6:57 AM;denyeart;[~yacovm]

Are there any concerns about API change between releases here? Release note needed? Doc needed?

Are you advocating for this to go into v1.3 or v1.4?;;;","20/Sep/18 7:37 AM;yacovm;It's only an API that can be consumed if someone writes their own discovery client, and imports the code from the fabric core to his/her convenience. 
Bob provided a method (NewFilter) that accepts the old arguments and returns the new type, therefore the modification to the new API is trivial.

Furthermore, I see this as a good change that enhances the expression power of the endorsers selection. 
Without it, you can't prioritize endorsers while looking at all possible endorsers you have.

So yes, let's merge this to v1.3 :) ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Data races in state based validation,FAB-11906,33580,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ales,sykesm,sykesm,08/Sep/18 2:31 AM,22/Sep/18 1:56 AM,28/Oct/23 3:03 AM,22/Sep/18 1:56 AM,v1.1.3,,,,,,,,,,,,,,0,race,,,,,"{code}
==================
WARNING: DATA RACE
Write at 0x00c0000447b0 by goroutine 364:
  github.com/hyperledger/fabric/core/common/validation/statebased.(*mockState).Done()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/common/validation/statebased/vpmanager_test.go:52 +0x3e
  github.com/hyperledger/fabric/core/common/validation/statebased.(*KeyLevelValidationParameterManagerImpl).GetValidationParameterForKey()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/common/validation/statebased/vpmanagerimpl.go:326 +0x4da
  github.com/hyperledger/fabric/core/common/validation/statebased.TestForRaces.func1()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/common/validation/statebased/vpmanager_test.go:676 +0x215
  github.com/hyperledger/fabric/vendor/github.com/stretchr/testify/assert.didPanic.func1()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/github.com/stretchr/testify/assert/assertions.go:791 +0x68
  github.com/hyperledger/fabric/vendor/github.com/stretchr/testify/assert.didPanic()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/github.com/stretchr/testify/assert/assertions.go:793 +0x5d
  github.com/hyperledger/fabric/vendor/github.com/stretchr/testify/assert.NotPanics()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/github.com/stretchr/testify/assert/assertions.go:833 +0x3f
  github.com/hyperledger/fabric/core/common/validation/statebased.runFunctions.func1()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/common/validation/statebased/vpmanager_test.go:140 +0xf8

Previous write at 0x00c0000447b0 by goroutine 54:
  github.com/hyperledger/fabric/core/common/validation/statebased.(*mockState).Done()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/common/validation/statebased/vpmanager_test.go:52 +0x3e
  github.com/hyperledger/fabric/core/common/validation/statebased.(*KeyLevelValidationParameterManagerImpl).GetValidationParameterForKey()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/common/validation/statebased/vpmanagerimpl.go:326 +0x4da
  github.com/hyperledger/fabric/core/common/validation/statebased.TestForRaces.func1()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/common/validation/statebased/vpmanager_test.go:676 +0x215
  github.com/hyperledger/fabric/vendor/github.com/stretchr/testify/assert.didPanic.func1()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/github.com/stretchr/testify/assert/assertions.go:791 +0x68
  github.com/hyperledger/fabric/vendor/github.com/stretchr/testify/assert.didPanic()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/github.com/stretchr/testify/assert/assertions.go:793 +0x5d
  github.com/hyperledger/fabric/vendor/github.com/stretchr/testify/assert.NotPanics()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/github.com/stretchr/testify/assert/assertions.go:833 +0x3f
  github.com/hyperledger/fabric/core/common/validation/statebased.runFunctions.func1()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/common/validation/statebased/vpmanager_test.go:140 +0xf8

Goroutine 364 (running) created at:
  github.com/hyperledger/fabric/core/common/validation/statebased.runFunctions()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/common/validation/statebased/vpmanager_test.go:139 +0x1b3
  github.com/hyperledger/fabric/core/common/validation/statebased.TestForRaces()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/common/validation/statebased/vpmanager_test.go:682 +0x781
  testing.tRunner()
      /usr/local/Cellar/go/1.11/libexec/src/testing/testing.go:827 +0x162

Goroutine 54 (finished) created at:
  github.com/hyperledger/fabric/core/common/validation/statebased.runFunctions()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/common/validation/statebased/vpmanager_test.go:139 +0x1b3
  github.com/hyperledger/fabric/core/common/validation/statebased.TestForRaces()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/common/validation/statebased/vpmanager_test.go:682 +0x781
  testing.tRunner()
      /usr/local/Cellar/go/1.11/libexec/src/testing/testing.go:827 +0x162
==================
==================
WARNING: DATA RACE
Write at 0x00c0000447b0 by goroutine 213:
  github.com/hyperledger/fabric/core/common/validation/statebased.(*mockState).Done()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/common/validation/statebased/vpmanager_test.go:52 +0x3e
  github.com/hyperledger/fabric/core/common/validation/statebased.(*KeyLevelValidationParameterManagerImpl).GetValidationParameterForKey()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/common/validation/statebased/vpmanagerimpl.go:326 +0x4da
  github.com/hyperledger/fabric/core/common/validation/statebased.TestForRaces.func1()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/common/validation/statebased/vpmanager_test.go:676 +0x215
  github.com/hyperledger/fabric/vendor/github.com/stretchr/testify/assert.didPanic.func1()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/github.com/stretchr/testify/assert/assertions.go:791 +0x68
  github.com/hyperledger/fabric/vendor/github.com/stretchr/testify/assert.didPanic()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/github.com/stretchr/testify/assert/assertions.go:793 +0x5d
  github.com/hyperledger/fabric/vendor/github.com/stretchr/testify/assert.NotPanics()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/github.com/stretchr/testify/assert/assertions.go:833 +0x3f
  github.com/hyperledger/fabric/core/common/validation/statebased.runFunctions.func1()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/common/validation/statebased/vpmanager_test.go:140 +0xf8

Previous write at 0x00c0000447b0 by goroutine 54:
  github.com/hyperledger/fabric/core/common/validation/statebased.(*mockState).Done()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/common/validation/statebased/vpmanager_test.go:52 +0x3e
  github.com/hyperledger/fabric/core/common/validation/statebased.(*KeyLevelValidationParameterManagerImpl).GetValidationParameterForKey()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/common/validation/statebased/vpmanagerimpl.go:326 +0x4da
  github.com/hyperledger/fabric/core/common/validation/statebased.TestForRaces.func1()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/common/validation/statebased/vpmanager_test.go:676 +0x215
  github.com/hyperledger/fabric/vendor/github.com/stretchr/testify/assert.didPanic.func1()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/github.com/stretchr/testify/assert/assertions.go:791 +0x68
  github.com/hyperledger/fabric/vendor/github.com/stretchr/testify/assert.didPanic()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/github.com/stretchr/testify/assert/assertions.go:793 +0x5d
  github.com/hyperledger/fabric/vendor/github.com/stretchr/testify/assert.NotPanics()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/github.com/stretchr/testify/assert/assertions.go:833 +0x3f
  github.com/hyperledger/fabric/core/common/validation/statebased.runFunctions.func1()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/common/validation/statebased/vpmanager_test.go:140 +0xf8

Goroutine 213 (running) created at:
  github.com/hyperledger/fabric/core/common/validation/statebased.runFunctions()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/common/validation/statebased/vpmanager_test.go:139 +0x1b3
  github.com/hyperledger/fabric/core/common/validation/statebased.TestForRaces()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/common/validation/statebased/vpmanager_test.go:682 +0x781
  testing.tRunner()
      /usr/local/Cellar/go/1.11/libexec/src/testing/testing.go:827 +0x162

Goroutine 54 (finished) created at:
  github.com/hyperledger/fabric/core/common/validation/statebased.runFunctions()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/common/validation/statebased/vpmanager_test.go:139 +0x1b3
  github.com/hyperledger/fabric/core/common/validation/statebased.TestForRaces()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/common/validation/statebased/vpmanager_test.go:682 +0x781
  testing.tRunner()
      /usr/local/Cellar/go/1.11/libexec/src/testing/testing.go:827 +0x162
==================
==================
WARNING: DATA RACE
Write at 0x00c0000447b0 by goroutine 352:
  github.com/hyperledger/fabric/core/common/validation/statebased.(*mockState).Done()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/common/validation/statebased/vpmanager_test.go:52 +0x3e
  github.com/hyperledger/fabric/core/common/validation/statebased.(*KeyLevelValidationParameterManagerImpl).GetValidationParameterForKey()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/common/validation/statebased/vpmanagerimpl.go:326 +0x4da
  github.com/hyperledger/fabric/core/common/validation/statebased.TestForRaces.func1()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/common/validation/statebased/vpmanager_test.go:676 +0x215
  github.com/hyperledger/fabric/vendor/github.com/stretchr/testify/assert.didPanic.func1()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/github.com/stretchr/testify/assert/assertions.go:791 +0x68
  github.com/hyperledger/fabric/vendor/github.com/stretchr/testify/assert.didPanic()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/github.com/stretchr/testify/assert/assertions.go:793 +0x5d
  github.com/hyperledger/fabric/vendor/github.com/stretchr/testify/assert.NotPanics()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/github.com/stretchr/testify/assert/assertions.go:833 +0x3f
  github.com/hyperledger/fabric/core/common/validation/statebased.runFunctions.func1()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/common/validation/statebased/vpmanager_test.go:140 +0xf8

Previous write at 0x00c0000447b0 by goroutine 54:
  github.com/hyperledger/fabric/core/common/validation/statebased.(*mockState).Done()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/common/validation/statebased/vpmanager_test.go:52 +0x3e
  github.com/hyperledger/fabric/core/common/validation/statebased.(*KeyLevelValidationParameterManagerImpl).GetValidationParameterForKey()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/common/validation/statebased/vpmanagerimpl.go:326 +0x4da
  github.com/hyperledger/fabric/core/common/validation/statebased.TestForRaces.func1()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/common/validation/statebased/vpmanager_test.go:676 +0x215
  github.com/hyperledger/fabric/vendor/github.com/stretchr/testify/assert.didPanic.func1()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/github.com/stretchr/testify/assert/assertions.go:791 +0x68
  github.com/hyperledger/fabric/vendor/github.com/stretchr/testify/assert.didPanic()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/github.com/stretchr/testify/assert/assertions.go:793 +0x5d
  github.com/hyperledger/fabric/vendor/github.com/stretchr/testify/assert.NotPanics()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/github.com/stretchr/testify/assert/assertions.go:833 +0x3f
  github.com/hyperledger/fabric/core/common/validation/statebased.runFunctions.func1()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/common/validation/statebased/vpmanager_test.go:140 +0xf8

Goroutine 352 (running) created at:
  github.com/hyperledger/fabric/core/common/validation/statebased.runFunctions()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/common/validation/statebased/vpmanager_test.go:139 +0x1b3
  github.com/hyperledger/fabric/core/common/validation/statebased.TestForRaces()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/common/validation/statebased/vpmanager_test.go:682 +0x781
  testing.tRunner()
      /usr/local/Cellar/go/1.11/libexec/src/testing/testing.go:827 +0x162

Goroutine 54 (finished) created at:
  github.com/hyperledger/fabric/core/common/validation/statebased.runFunctions()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/common/validation/statebased/vpmanager_test.go:139 +0x1b3
  github.com/hyperledger/fabric/core/common/validation/statebased.TestForRaces()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/common/validation/statebased/vpmanager_test.go:682 +0x781
  testing.tRunner()
      /usr/local/Cellar/go/1.11/libexec/src/testing/testing.go:827 +0x162
==================
==================
WARNING: DATA RACE
Write at 0x00c0000447b0 by goroutine 394:
  github.com/hyperledger/fabric/core/common/validation/statebased.(*mockState).Done()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/common/validation/statebased/vpmanager_test.go:52 +0x3e
  github.com/hyperledger/fabric/core/common/validation/statebased.(*KeyLevelValidationParameterManagerImpl).GetValidationParameterForKey()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/common/validation/statebased/vpmanagerimpl.go:326 +0x4da
  github.com/hyperledger/fabric/core/common/validation/statebased.TestForRaces.func1()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/common/validation/statebased/vpmanager_test.go:676 +0x215
  github.com/hyperledger/fabric/vendor/github.com/stretchr/testify/assert.didPanic.func1()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/github.com/stretchr/testify/assert/assertions.go:791 +0x68
  github.com/hyperledger/fabric/vendor/github.com/stretchr/testify/assert.didPanic()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/github.com/stretchr/testify/assert/assertions.go:793 +0x5d
  github.com/hyperledger/fabric/vendor/github.com/stretchr/testify/assert.NotPanics()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/github.com/stretchr/testify/assert/assertions.go:833 +0x3f
  github.com/hyperledger/fabric/core/common/validation/statebased.runFunctions.func1()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/common/validation/statebased/vpmanager_test.go:140 +0xf8

Previous write at 0x00c0000447b0 by goroutine 54:
  github.com/hyperledger/fabric/core/common/validation/statebased.(*mockState).Done()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/common/validation/statebased/vpmanager_test.go:52 +0x3e
  github.com/hyperledger/fabric/core/common/validation/statebased.(*KeyLevelValidationParameterManagerImpl).GetValidationParameterForKey()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/common/validation/statebased/vpmanagerimpl.go:326 +0x4da
  github.com/hyperledger/fabric/core/common/validation/statebased.TestForRaces.func1()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/common/validation/statebased/vpmanager_test.go:676 +0x215
  github.com/hyperledger/fabric/vendor/github.com/stretchr/testify/assert.didPanic.func1()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/github.com/stretchr/testify/assert/assertions.go:791 +0x68
  github.com/hyperledger/fabric/vendor/github.com/stretchr/testify/assert.didPanic()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/github.com/stretchr/testify/assert/assertions.go:793 +0x5d
  github.com/hyperledger/fabric/vendor/github.com/stretchr/testify/assert.NotPanics()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/github.com/stretchr/testify/assert/assertions.go:833 +0x3f
  github.com/hyperledger/fabric/core/common/validation/statebased.runFunctions.func1()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/common/validation/statebased/vpmanager_test.go:140 +0xf8

Goroutine 394 (running) created at:
  github.com/hyperledger/fabric/core/common/validation/statebased.runFunctions()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/common/validation/statebased/vpmanager_test.go:139 +0x1b3
  github.com/hyperledger/fabric/core/common/validation/statebased.TestForRaces()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/common/validation/statebased/vpmanager_test.go:682 +0x781
  testing.tRunner()
      /usr/local/Cellar/go/1.11/libexec/src/testing/testing.go:827 +0x162

Goroutine 54 (finished) created at:
  github.com/hyperledger/fabric/core/common/validation/statebased.runFunctions()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/common/validation/statebased/vpmanager_test.go:139 +0x1b3
  github.com/hyperledger/fabric/core/common/validation/statebased.TestForRaces()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/common/validation/statebased/vpmanager_test.go:682 +0x781
  testing.tRunner()
      /usr/local/Cellar/go/1.11/libexec/src/testing/testing.go:827 +0x162
==================
--- FAIL: TestForRaces (0.31s)
    testing.go:771: race detected during execution of test
{code}",,ales,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzpxb:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ales,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"08/Sep/18 2:33 AM;sykesm;Appears the hand-crafted mock does not have any serialization around the {{DoneCalled}} flag.;;;","11/Sep/18 10:19 PM;ales;Thanks Matt - yes, the manual mocks are at fault. I've fixed them, I'll stick with them a little longer while I experiment with different mocking framework.

Fix is here: https://gerrit.hyperledger.org/r/26223;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Data races in core/deliverservice TestDisconnectAndDisableEndpoint,FAB-11907,33581,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,sykesm,sykesm,08/Sep/18 2:41 AM,12/Sep/18 5:26 AM,28/Oct/23 3:03 AM,12/Sep/18 12:12 AM,v1.3.0,,,,,v1.3.0,,,,,,,,,0,race,,,,,"The locking inside of the delivery service client needs a thorough review. The conn and endpoint fields are not consistently referenced with locks and previous ""tactical"" attempts to introduce locking for races hasn't really worked.
{code:java}
==================
WARNING: DATA RACE
Read at 0x00c000190d70 by goroutine 24:
  github.com/hyperledger/fabric/core/deliverservice.(*broadcastClient).doAction()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/deliverservice/client.go:113 +0x42
  github.com/hyperledger/fabric/core/deliverservice.(*broadcastClient).try()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/deliverservice/client.go:91 +0x24f
  github.com/hyperledger/fabric/core/deliverservice.(*broadcastClient).Recv()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/deliverservice/client.go:58 +0x5f
  github.com/hyperledger/fabric/core/deliverservice.TestDisconnectAndDisableEndpoint.func6()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/deliverservice/client_test.go:718 +0x38


Previous write at 0x00c000190d70 by goroutine 74:
  github.com/hyperledger/fabric/core/deliverservice.(*broadcastClient).afterConnect()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/deliverservice/client.go:169 +0x26b
  github.com/hyperledger/fabric/core/deliverservice.(*broadcastClient).connect()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/deliverservice/client.go:153 +0x624
  github.com/hyperledger/fabric/core/deliverservice.(*broadcastClient).doAction()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/deliverservice/client.go:114 +0x106
  github.com/hyperledger/fabric/core/deliverservice.(*broadcastClient).try()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/deliverservice/client.go:91 +0x24f
  github.com/hyperledger/fabric/core/deliverservice.(*broadcastClient).Recv()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/deliverservice/client.go:58 +0x5f
  github.com/hyperledger/fabric/core/deliverservice.TestDisconnectAndDisableEndpoint.func9()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/deliverservice/client_test.go:742 +0x38


Goroutine 24 (running) created at:
  github.com/hyperledger/fabric/core/deliverservice.TestDisconnectAndDisableEndpoint()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/deliverservice/client_test.go:717 +0x4bc
  testing.tRunner()
      /usr/local/Cellar/go/1.11/libexec/src/testing/testing.go:827 +0x162


Goroutine 74 (running) created at:
  github.com/hyperledger/fabric/core/deliverservice.TestDisconnectAndDisableEndpoint()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/deliverservice/client_test.go:741 +0x6c9
  testing.tRunner()
      /usr/local/Cellar/go/1.11/libexec/src/testing/testing.go:827 +0x162
================== {code}
[~yacovm], this might be something you want to review.",,sykesm,troyronda,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzpxj:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,troyronda,yacovm,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"08/Sep/18 2:43 AM;sykesm;Additional races:
{code:java}
==================
WARNING: DATA RACE
Write at 0x00c0001901a0 by goroutine 62:
  github.com/hyperledger/fabric/core/deliverservice.(*broadcastClient).Disconnect()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/deliverservice/client.go:235 +0x1f3
  github.com/hyperledger/fabric/core/deliverservice/blocksprovider.(*blocksProviderImpl).UpdateOrderingEndpoints()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/deliverservice/blocksprovider/blocksprovider.go:216 +0x216
  github.com/hyperledger/fabric/core/deliverservice.(*deliverServiceImpl).UpdateEndpoints()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/deliverservice/deliveryclient.go:115 +0x216
  github.com/hyperledger/fabric/core/deliverservice.TestDeliverServiceUpdateEndpoints()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/deliverservice/deliveryclient_test.go:288 +0x603
  testing.tRunner()
      /usr/local/Cellar/go/1.11/libexec/src/testing/testing.go:827 +0x162


Previous read at 0x00c0001901a0 by goroutine 79:
  github.com/hyperledger/fabric/core/deliverservice.(*broadcastClient).doAction()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/deliverservice/client.go:113 +0x42
  github.com/hyperledger/fabric/core/deliverservice.(*broadcastClient).try()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/deliverservice/client.go:91 +0x24f
  github.com/hyperledger/fabric/core/deliverservice.(*broadcastClient).Recv()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/deliverservice/client.go:58 +0x5f
  github.com/hyperledger/fabric/core/deliverservice/blocksprovider.(*blocksProviderImpl).DeliverBlocks()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/deliverservice/blocksprovider/blocksprovider.go:125 +0xf0
  github.com/hyperledger/fabric/core/deliverservice.(*deliverServiceImpl).launchBlockProvider()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/deliverservice/deliveryclient.go:174 +0xfb


Goroutine 62 (running) created at:
  testing.(*T).Run()
      /usr/local/Cellar/go/1.11/libexec/src/testing/testing.go:878 +0x650
  testing.runTests.func1()
      /usr/local/Cellar/go/1.11/libexec/src/testing/testing.go:1119 +0xa8
  testing.tRunner()
      /usr/local/Cellar/go/1.11/libexec/src/testing/testing.go:827 +0x162
  testing.runTests()
      /usr/local/Cellar/go/1.11/libexec/src/testing/testing.go:1117 +0x4ee
  testing.(*M).Run()
      /usr/local/Cellar/go/1.11/libexec/src/testing/testing.go:1034 +0x2ee
  main.main()
      _testmain.go:94 +0x221


Goroutine 79 (running) created at:
  github.com/hyperledger/fabric/core/deliverservice.(*deliverServiceImpl).StartDeliverForChannel()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/deliverservice/deliveryclient.go:161 +0x7f5
  github.com/hyperledger/fabric/core/deliverservice.TestDeliverServiceUpdateEndpoints()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/deliverservice/deliveryclient_test.go:278 +0x421
  testing.tRunner()
      /usr/local/Cellar/go/1.11/libexec/src/testing/testing.go:827 +0x162
==================
==================
WARNING: DATA RACE
Write at 0x00c000190190 by goroutine 62:
  github.com/hyperledger/fabric/core/deliverservice.(*broadcastClient).Disconnect()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/deliverservice/client.go:236 +0x219
  github.com/hyperledger/fabric/core/deliverservice/blocksprovider.(*blocksProviderImpl).UpdateOrderingEndpoints()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/deliverservice/blocksprovider/blocksprovider.go:216 +0x216
  github.com/hyperledger/fabric/core/deliverservice.(*deliverServiceImpl).UpdateEndpoints()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/deliverservice/deliveryclient.go:115 +0x216
  github.com/hyperledger/fabric/core/deliverservice.TestDeliverServiceUpdateEndpoints()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/deliverservice/deliveryclient_test.go:288 +0x603
  testing.tRunner()
      /usr/local/Cellar/go/1.11/libexec/src/testing/testing.go:827 +0x162


Previous read at 0x00c000190190 by goroutine 79:
  github.com/hyperledger/fabric/core/deliverservice.(*broadcastClient).Recv.func1()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/deliverservice/client.go:62 +0xe6
  github.com/hyperledger/fabric/core/deliverservice.(*broadcastClient).doAction()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/deliverservice/client.go:120 +0x5c
  github.com/hyperledger/fabric/core/deliverservice.(*broadcastClient).try()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/deliverservice/client.go:91 +0x24f
  github.com/hyperledger/fabric/core/deliverservice.(*broadcastClient).Recv()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/deliverservice/client.go:58 +0x5f
  github.com/hyperledger/fabric/core/deliverservice/blocksprovider.(*blocksProviderImpl).DeliverBlocks()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/deliverservice/blocksprovider/blocksprovider.go:125 +0xf0
  github.com/hyperledger/fabric/core/deliverservice.(*deliverServiceImpl).launchBlockProvider()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/deliverservice/deliveryclient.go:174 +0xfb


Goroutine 62 (running) created at:
  testing.(*T).Run()
      /usr/local/Cellar/go/1.11/libexec/src/testing/testing.go:878 +0x650
  testing.runTests.func1()
      /usr/local/Cellar/go/1.11/libexec/src/testing/testing.go:1119 +0xa8
  testing.tRunner()
      /usr/local/Cellar/go/1.11/libexec/src/testing/testing.go:827 +0x162
  testing.runTests()
      /usr/local/Cellar/go/1.11/libexec/src/testing/testing.go:1117 +0x4ee
  testing.(*M).Run()
      /usr/local/Cellar/go/1.11/libexec/src/testing/testing.go:1034 +0x2ee
  main.main()
      _testmain.go:94 +0x221


Goroutine 79 (running) created at:
  github.com/hyperledger/fabric/core/deliverservice.(*deliverServiceImpl).StartDeliverForChannel()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/deliverservice/deliveryclient.go:161 +0x7f5
  github.com/hyperledger/fabric/core/deliverservice.TestDeliverServiceUpdateEndpoints()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/deliverservice/deliveryclient_test.go:278 +0x421
  testing.tRunner()
      /usr/local/Cellar/go/1.11/libexec/src/testing/testing.go:827 +0x162
================== {code};;;","08/Sep/18 2:43 AM;sykesm;these are on top of master @ 3bd6e845c83acc95b20237e14ce98e6953ada8ca;;;","08/Sep/18 4:29 AM;yacovm;{quote}

and previous ""tactical"" attempts to introduce locking for races hasn't really worked.

{quote}

 

How about attempts that have no tact such as [https://gerrit.hyperledger.org/r/#/c/26170/] ?;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade to grpc-go 1.15,FAB-11908,33582,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,mastersingh24,mastersingh24,mastersingh24,08/Sep/18 3:39 AM,02/Apr/21 7:11 PM,28/Oct/23 3:03 AM,02/Oct/18 2:15 AM,,,,,,v1.4.0,,,,,fabric-orderer,fabric-peer,,,0,maintenance,,,,,"There are a few new features of interest:

TLS client errors  - [https://github.com/grpc/grpc-go/issues/2266]

Client Retry / Backoff - https://github.com/grpc/grpc-go/issues/1037",,denyeart,mastersingh24,wuqiaomin,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11909,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzpxr:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,mastersingh24,wuqiaomin,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"30/Sep/18 7:55 PM;mastersingh24;https://gerrit.hyperledger.org/r/26686;;;","01/Oct/18 11:29 PM;denyeart;[~mastersingh24] We can't close due to the child subtask.  Were you going to look at that as well, or should we assign to somebody else?;;;","02/Oct/18 1:18 AM;mastersingh24;I'm on it;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Modify gRPC client connections to use FailOnNonTempDialError,FAB-11909,33583,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,mastersingh24,mastersingh24,mastersingh24,08/Sep/18 3:41 AM,05/Mar/19 9:06 AM,28/Oct/23 3:03 AM,02/Jan/19 9:42 PM,,,,,,v2.0.0,,,,,,,,,0,,,,,,Hopefully this will work as advertised and we can combine FailOnNonTempDialError and WithBlock to actually capture connection errors (especially TLS failures) rather than just context failed,,huikang,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11908,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzpxz:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),huikang,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"01/Jan/19 11:14 PM;mastersingh24;https://gerrit.hyperledger.org/r/28440;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Describe best practices for couchdb queries in absence of pagination,FAB-11910,33584,33518,Sub-task,Closed,FAB,Fabric,software,denyeart,,,High,Won't Do,joe-alewine,pandrejko,pandrejko,08/Sep/18 5:23 AM,23/Jan/20 7:31 AM,28/Oct/23 3:03 AM,23/Jan/20 7:31 AM,,,,,,v1.2.0,,,,,fabric-docs,,,,0,BestPractices,stale-item,,,,,,pandrejko,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzpy7:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),pandrejko,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"25/Sep/18 4:23 AM;pandrejko;For Fabric 1.2 for customers dealing with large result sets, in order to avoid couchDB timeouts, we should document these configurable parameters in core.yaml

v1.2 Community timeouts
If you want more than ~100k records
set core.yaml on the fabric peer:
CORE_LEDGER_STATE_COUCHDBCONFIG_QUERYLIMIT=50000 (default 10000)
CORE_CHAINCODE_EXECUTETIMEOUT=300s (default 30s)
(also recommended the one below, I did not need it but may be a bottleneck with large DBs)
CORE_LEDGER_STATE_COUCHDBCONFIG_REQUESTTIMEOUT=200s (default 35s)

 

Here is the error message they will see in the log when the timeout occurrs:

 

{{�[33m2018-09-11 21:36:45.475 UTC [couchdb] handleRequest -> WARN ef72�[0m Retrying couchdb request in 1s. Attempt:4 Error:Post [http://localhost:5984/adnan_marbles/_find:] net/http: request canceled (Client.Timeout exceeded while awaiting headers)}};;;","23/Jan/20 7:31 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Address review comments from chaincode shim/handler CRs,FAB-11911,33585,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,08/Sep/18 6:12 AM,11/Sep/18 2:46 AM,28/Oct/23 3:03 AM,11/Sep/18 2:46 AM,,,,,,,,,,,,,,,0,,,,,,I made a number of comments on the state based endorsement CR chain that were deferred. I'm addressing some of them so they do not inadvertently get lost.,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzpyf:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"08/Sep/18 6:23 AM;sykesm;https://gerrit.hyperledger.org/r/26175;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Where can the fabric-javaenv image be built?,FAB-11913,33587,,Story,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,SashaPESIC,sang,sang,08/Sep/18 7:41 AM,13/Jan/20 11:39 PM,28/Oct/23 3:03 AM,13/Jan/20 11:39 PM,,,,,,,,,,,,,,,0,stale-item,,,,,"I am trying to build Fabric on raspnerry pi, but I didn't find where I could build the fabric-javaenv image.  Is it a necessary image at all? If it is, how can we build it?",,sang,SashaPESIC,ymlbright,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzpyv:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sang,SashaPESIC,ymlbright,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"09/Sep/18 2:34 AM;SashaPESIC;Hello [~sang],
To my knowledge, javeenv is used to run Java chaincode. There are some quick-browsing uttorials to chek out [here|https://medium.com/@lkolisko/hyperledger-fabric-sdk-java-basics-tutorial-a67b2b898410], and [here|https://medium.com/@lkolisko/tutorial-invoking-chaincode-from-hyperledger-fabric-java-sdk-e8dea535a1be]. To get started developing Java chaincode see [this page|https://openblockchain.readthedocs.io/en/latest/Setup/JAVAChaincode/].  

In [release 1.1|https://github.com/hyperledger/fabric/tree/release-1.1/images] the javaenv image was in fabric/images folder. I have built that for ARM in previous iteration. For release 1.2, I did not find the image. However, it can be so that is built by some other images...I would have to check this. 

Someone closer to development of fabric could weigh in here, I would appreciate the help.

Regards,
SP



;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Intermittent PTE test fails, test_FAB7929_8i , observed in fabric-test-verify/merge jobs.",FAB-11914,33590,,Bug,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,dongming,sambhavdutt,sambhavdutt,09/Sep/18 12:22 AM,19/Mar/19 8:13 PM,28/Oct/23 3:03 AM,12/Sep/18 10:19 PM,v1.3.0,,,,,v1.3.0,,,,,fabric-quality,,,,0,ci-failure,,,,,"Observed intermittent errors in systest_PTE in verify and merge jobs in the Smoketest,

{code:java}
systest_pte.PTE_Functions.test_FAB7929_8i (from pytest) 

./run_scenarios.sh: line 120: ../Logs/FAB-7929-8i-pteReport.txt: No such file or directory
Removing network nl_default
Network nl_default not found.
#x1B[34m2018-09-08 13:24:23.247 UTC [common/tools/configtxgen] main -> INFO 001#x1B[0m Loading configuration
#x1B[34m2018-09-08 13:24:23.278 UTC [common/tools/configtxgen] doOutputBlock -> INFO 002#x1B[0m Generating genesis block
.
.

Creating peer1.org1.example.com ... #x1B[32mdone#x1B[0m
#x1B[2B#x1B[31merror#x1B[39m: [PTE 0 main]: Failed to enroll user 'admin'. Error: ENOENT: no such file or directory, scandir '/w/workspace/fabric-test-verify-x86_64/gopath/src/github.com/hyperledger/fabric-test/fabric/common/tools/cryptogen/crypto-config/peerOrganizations/org3.example.com/users/Admin@org3.example.com/msp/keystore'
#x1B[31merror#x1B[39m: [Orderer.js]: sendDeliver - rejecting - status:NOT_FOUND
#x1B[31merror#x1B[39m: [Orderer.js]: sendDeliver - rejecting - status:NOT_FOUND
#x1B[31merror#x1B[39m: [PTE 0 main]: Error: Invalid results returned ::NOT_FOUND
    at ClientDuplexStream.deliver.on (/w/workspace/fabric-test-verify-x86_64/gopath/src/github.com/hyperledger/fabric-test/tools/PTE/node_modules/fabric-client/lib/Orderer.js:266:23)
    at emitOne (events.js:116:13)
    at ClientDuplexStream.emit (events.js:211:7)
    at addChunk (_stream_readable.js:263:12)
    at readableAddChunk (_stream_readable.js:250:11)
    at ClientDuplexStream.Readable.push (_stream_readable.js:208:10)
    at readCallback (/w/workspace/fabric-test-verify-x86_64/gopath/src/github.com/hyperledger/fabric-test/tools/PTE/node_modules/grpc/src/client.js:312:14)
#x1B[31merror#x1B[39m: [PTE 0 main]: Error: Invalid results returned ::NOT_FOUND
    at ClientDuplexStream.deliver.on (/w/workspace/fabric-test-verify-x86_64/gopath/src/github.com/hyperledger/fabric-test/tools/PTE/node_modules/fabric-client/lib/Orderer.js:266:23)
    at emitOne (events.js:116:13)
    at ClientDuplexStream.emit (events.js:211:7)
    at addChunk (_stream_readable.js:263:12)
    at readableAddChunk (_stream_readable.js:250:11)
    at ClientDuplexStream.Readable.push (_stream_readable.js:208:10)
    at readCallback (/w/workspace/fabric-test-verify-x86_64/gopath/src/github.com/hyperledger/fabric-test/tools/PTE/node_modules/grpc/src/client.js:312:14)
{code}

*Build Logs*

https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-verify-x86_64/1814/testReport/systest_pte/PTE_Functions/test_FAB7929_8i/

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-verify-x86_64/1814/
",,dongming,rameshthoomu,sambhavdutt,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11898,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-2247,,,No,b87ce4216b792f8b7e3b99ce394b7625af814975,Unset,No,,,"1|hzzpzj:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),dongming,rameshthoomu,sambhavdutt,scottz,,,,,,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,true,"10/Sep/18 2:24 AM;sambhavdutt;PTE tests are still failing in smoke tests, Observed the fail in recent fabric-test-verify job

*Build Log*
https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-verify-x86_64/1822/testReport/systest_pte/PTE_Functions/test_FAB7929_8i/

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-verify-x86_64/1822/;;;","11/Sep/18 1:41 AM;scottz;Looks like a problem in run_scenarios.sh, which need to create the Logs directory.;;;","11/Sep/18 2:18 AM;dongming;https://gerrit.hyperledger.org/r/#/c/26198/;;;","12/Sep/18 6:46 AM;scottz;Dongming's update is a partial solution. Several moving parts here. The rest of the solution for this bug to get the smoke test 7929 working will be submitted among the fixes included with FAB-11898.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Continue work on state based endorsement documentation,FAB-11915,33591,28454,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,joe-alewine,joe-alewine,joe-alewine,09/Sep/18 3:13 AM,16/Sep/18 9:01 AM,28/Oct/23 3:03 AM,16/Sep/18 9:01 AM,,,,,,v1.3.0,,,,,fabric-docs,,,,0,,,,,,"Doc was merged but more work still needs to be done, (hopefully) before release of v1.3.",,joe-alewine,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzpzr:",,,,Unset,Unset,Sprint 6 - NextGen Endorseme 2,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),joe-alewine,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fix remaining review comments for paginated chaincode APIs,FAB-11916,33592,33216,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,chris.elder,denyeart,denyeart,09/Sep/18 4:22 AM,11/Sep/18 12:39 PM,28/Oct/23 3:03 AM,11/Sep/18 12:39 PM,,,,,,v1.3.0,,,,,fabric-ledger,,,,0,,,,,,"See review comments for interfaces.go:

[https://gerrit.hyperledger.org/r/#/c/24755/47/core/chaincode/shim/interfaces.go]

Also there were some small remaining comments in peer chaincode handler and tests:

[https://gerrit.hyperledger.org/r/#/c/25071/]

 ",,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzpzz:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add marbles02 pagination examples to fabric-samples,FAB-11917,33593,33216,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,chris.elder,denyeart,denyeart,09/Sep/18 6:56 AM,17/Sep/18 2:51 PM,28/Oct/23 3:03 AM,17/Sep/18 2:51 PM,,,,,,v1.3.0,,,,,,,,,0,,,,,,"FAB-11503 added pagination example to fabric /examples.

Need same updates merged to fabric-samples as well (let's make sure they stay in sync).

Also, note the TODOs above the pagination examples in the chaincode.",,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-9386,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzq07:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"17/Sep/18 2:50 PM;denyeart;Adding to fabric-samples in FAB-9386.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Support WAL in etcdraft-based Chain,FAB-11918,33597,32829,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,guoger,guoger,guoger,09/Sep/18 6:40 PM,09/Nov/18 12:30 AM,28/Oct/23 3:03 AM,09/Nov/18 12:30 AM,,,,,,,,,,,,,,,0,,,,,,"The etcd/raft-based chain should be able to persist log entries on disk using the etcd/wal library. When the chain is restarted, it reads the WAL data and resume from where it was left off.

It's worth to call out two terms:
 # *committed*: messages that are consented by the majority of cluster.
 # *applied*: messages that are applied to state machine; in our case, written into ledger

Given a series of persisted messages, we may have:
{code:java}
|      applied      |         committed         |  unstable  |
--------------------------------------------------------------
{code}
We can recover {{Commit}} index from {{HardState}}, but *not* {{Applied}}.

A quick scan of {{etcd}} and {{swarmkit}} shows that their state machines are *idempotent*, meaning _it doesn't matter if an applied message is being applied again_, i.e. with /'my-key': 'foo'/, it doesn't matter if we set 'my-key' to 'foo' again during restart.

However, this is not the case for orderer, as we must not write a block to ledger more than once.

-Luckily, {{etcd/raft}} provides a nice config [option|https://github.com/etcd-io/etcd/blob/master/raft/raft.go#L145-L149] *Applied uint64* to prevent raft from reporting already applied messages.- This does not work due to [this issue|https://github.com/etcd-io/etcd/issues/10217]. Luckily we have the check [here|https://github.com/hyperledger/fabric/blob/3b0e8171b7827afadb7a229ff891b630b0cf4236/orderer/consensus/etcdraft/chain.go#L528-L546]

We should *persist raft {{Index}} in every block metadata*, which is used to restart a raft node. This is similar to what we have today for Kafka.
",,guoger,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzq13:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),guoger,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"09/Sep/18 6:41 PM;guoger;CR https://gerrit.hyperledger.org/r/c/26178;;;","18/Oct/18 4:08 AM;kchristidis;[~guoger]: Thanks for the write-up.

Committed then means: we have a quorum, but I didn't get a chance to apply them to my state machine yet?;;;","19/Oct/18 9:08 PM;guoger;[~kchristidis] yes;;;","29/Oct/18 6:53 AM;kchristidis;https://gerrit.hyperledger.org/r/c/27108/;;;","29/Oct/18 11:30 PM;kchristidis;https://gerrit.hyperledger.org/r/c/27249/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,
Support snapshot,FAB-11919,33598,32829,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,guoger,guoger,guoger,09/Sep/18 6:41 PM,01/Dec/18 3:22 PM,28/Oct/23 3:03 AM,24/Nov/18 9:13 PM,,,,,,v1.4.0,,,,,,,,,0,raft,,,,,"A summary of snapshotting in etcd/raft.

We will use *application* to denote component that interacts with etcd/raft node API, e.g. read data from {{Ready()}}, {{tick}} raft node, etc. We will be referring to etcd/raft node as *raft*.
h2. workflow in swarmkit (snapshot data encapsulated in raft snapshot message)
 # *application* takes snapshot at its own pace (e.g. per N entries, blocks, etc)
 -- collect _data_ to be stored in a snapshot. Application should be able to reconstruct state from _data_
 -- call {{MemoryStorage.CreateSnapshot()}} with data to create a {{snap raftpb.Snapshot}}
 -- persist {{snap}} to {{WAL}} with {{WAL.SaveSnapshot}}
 -- persist {{snap}} to _disk_ with {{Snapshotter.SaveSnap}}
 -- purge raft entries _in memory_ with {{MemoryStorage.Compact}}
 # when *raft leader* detects _local missing entries_ (purged in 1.) requested by a slow *raft follower*, it retrieves most recent snapshot and sends to that follower (via {{Ready.Messages}}, which contains _data_ that is used to reconstruct state)
 # *application* is responsible to send this message to follower via _transport_
 -- call {{Node.ReportSnapshot}} with either {{SnapshotFinish}} or {{SnapshotFailure}}
 # when *application* of slow follower receives this snapshot encapsulated in {{Ready.Messages}}, it calls {{Node.Step()}} of underlying *raft* as usual
 # slow *raft follower* presents this snapshot in {{Ready.Snapshot}} to *application*
 # *application* should handle this {{snap raftpb.Snapshot}} in following ways:
 -- persist {{snap}} to {{WAL}} with {{WAL.SaveSnapshot}}
 -- persist {{snap}} to _disk_ with {{Snapshotter.SaveSnap}}
 -- apply {{snap}} to memory with {{MemoryStorage.ApplySnapshot}}
 -- apply {{data}} in {{snap}} to local state machine to reconstruct state

h2. workflow in etcd (snapshot data is pushed from leader to follower)
workflow in etcd differs from that in swarmkit mainly in how {{Snapshot}} in {{Ready.Messages}} is handled.
 # *application* takes snapshot at its own pace (e.g. per N entries, blocks, etc)
 -- collect _data_ to be stored in a snapshot. Application should be able to reconstruct state from _data_
 -- call {{MemoryStorage.CreateSnapshot()}} with data to create a {{snap raftpb.Snapshot}}
 -- persist {{snap}} to {{WAL}} with {{WAL.SaveSnapshot}}
 -- persist {{snap}} to _disk_ with {{Snapshotter.SaveSnap}}
 -- purge raft entries _in memory_ with {{MemoryStorage.Compact}}
 # when *raft leader* detects _local missing entries_ (purged in 1.) requested by a slow *raft follower*, it retrieves most recent snapshot and sends to that follower (via {{Ready.Messages}}, which contains _data_ that is used to reconstruct state). *Note* that this message of type {{raftpb.MsgSnap}} is *not* actually sent to follower via transport, see [this|https://github.com/etcd-io/etcd/blob/master/etcdserver/raft.go#L363]
 # *application* _push_ snap data to follower node by invoking an application-specific API
 -- call {{Node.ReportSnapshot}} with either {{SnapshotFinish}} or {{SnapshotFailure}}

h2. workflow in fabric (snapshot should be pulled from other orderers on demand)
what we should do in fabric is a _pull_ based flow, as pointed in design doc (it differs from swarmkit only in very last bullet).
{quote}apply {{data}} in {{snap}} to local state machine to reconstruct state
{quote}
use `BlockFetcher` (implemented in FAB-12398) to fetch missing blocks from other orderer",,guoger,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-13091,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzq1b:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),guoger,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"29/Oct/18 9:40 AM;kchristidis;(Excellent write-up, thanks!);;;","29/Oct/18 9:41 AM;kchristidis;CRs:
https://gerrit.hyperledger.org/r/c/27127/
https://gerrit.hyperledger.org/r/c/27128/
https://gerrit.hyperledger.org/r/c/27129/;;;","29/Oct/18 9:41 AM;kchristidis;[~guoger]: Let's update this with what work is missing in order to mark this sub-task as complete.;;;","06/Nov/18 4:16 AM;kchristidis;Integration test: https://gerrit.hyperledger.org/r/c/27330/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
How to create directory and add files under Fabric CLI?,FAB-11920,33601,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,,aspring,aspring,10/Sep/18 5:50 AM,12/Sep/18 6:04 AM,28/Oct/23 3:03 AM,12/Sep/18 6:04 AM,,,,,,,,,,,,,,,0,,,,,,"Environment:  Hyperledger Fabric v 1.1.0

When we go to Fabric CLI command prompt ( docker exec -it cli bash ) when cli container has been created, and then issue invoke or query command, which peer/node are we at?
How can we find out which node/peer we are at?
(The ""peer node"" command does not seem to have a way to provide such vital info)

More importantly, when we are at Fabric CLI command prompt, *how do we create new folder and add files to chaincode base*?
For instance, if we choose -l (language) = node
For the first-network (byfn) under fabric-samples
for the chaincode, ""mycc"",
it's at the following path:
/opt/gopath/src/[github.com/chaincode/chaincode_example02/node/|http://www.google.com/url?q=http%3A%2F%2Fgithub.com%2Fchaincode%2Fchaincode_example02%2Fnode%2F&sa=D&sntz=1&usg=AFQjCNEf4xD1yyoTPEW0_OHXgQCPt76PuQ]

what if I want to create a new chaincode, ""mycc2"" and to create a new directory
called ""chaincode_example03"" under /opt/gopath/src/[github.com/chaincode/|http://www.google.com/url?q=http%3A%2F%2Fgithub.com%2Fchaincode%2F&sa=D&sntz=1&usg=AFQjCNEYf_uPuVQPkc4aO1RXzwOv4ZLi9w]  ?

under Fabric CLI command prompt we seem unable to use bash command(s) such as mkdir etc.  Other sdk do we have any flexible way to get them done?

Thanks.",,aspring,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzq1z:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),aspring,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"12/Sep/18 6:04 AM;aspring;Never mind.  I figured it out.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
SBE CC for SVT,FAB-11921,33602,32884,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,mne,mne,mne,10/Sep/18 3:20 PM,17/Sep/18 10:46 PM,28/Oct/23 3:03 AM,17/Sep/18 10:46 PM,,,,,,,,,,,,,,,0,,,,,,"SVT for SBE requires a chaincode with the following API:
 * createRecord(<name>, <value>, <optional SBEP>)
 * updateRecordSBEP(<name>, <SBEP>)
 * updateRecordVal<name>, <value>)
 * getRecord(<name>) returns name, val, SBEP if there",,mne,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzq27:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),mne,,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,,,,,,true,"10/Sep/18 5:43 PM;mne;https://gerrit.hyperledger.org/r/#/c/26188/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Invalidate quote/nested policy string,FAB-11922,33603,,Bug,Closed,FAB,Fabric,software,denyeart,,,Low,Won't Do,diizuka,diizuka,diizuka,10/Sep/18 4:12 PM,23/Jan/20 7:34 AM,28/Oct/23 3:03 AM,23/Jan/20 7:34 AM,v1.1.0,v1.2.0,v1.3.0,,,Future,,,,,fabric-crypto,,,,0,stale-item,,,,,"Change endorsement policy string disallow quote(‘) and escape(\),
except for principal definition quotes (e.g. ‘A.member’).

In current endorsement policy manual:
https://hyperledger-fabric.readthedocs.io/en/release-1.3/endorsement-policies.html ,
there are no quotes nor escapes to define policy string,
except for principal definition.

But current implementation permits quotes/escapes.
e.g. the following 3 policies are same meaning:
  outof(1, outof(1, 'A.member', 'B.member'))
  outof(1, 'outof(1, \'A.member\', \'B.member\')')
  outof(1, 'outof(1, \\\'A.member\\\', \\\'B.member\\\')')

Current implementation permits complex policy definition,
which is hard to understand for human. Also, administrator may
write policy definition which contains quotes/escapes intentionally,
current implementation does not check them,
this results unexpected policy checking.

This is because calling govaluate’s Evaluate() method 3 times.
Each time Evaluate() is called, quote/escape is removed,
so (nested) quoted/escaped policy string may be valid,

Calling Evaluate() only 1 time solve this problem,
because quoted and/or escaped policy string become invalid.
",,ales,denyeart,diizuka,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzq2f:",,,,Unset,Unset,,,"Set endorsement policy
  outof(1, 'outof(1, \'A.member\', \'B.member\')')
or
  outof(1, 'outof(1, \\\'A.member\\\', \\\'B.member\\\')')

These are treated as:
  outof(1, outof(1, 'A.member', 'B.member'))

This specification is hard to understand for human.",,Unset,,,,,,Unset,,Unset,,(Please add usage information),ales,denyeart,diizuka,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"11/Sep/18 1:23 PM;denyeart;https://gerrit.hyperledger.org/r/#/c/26185/;;;","04/Dec/18 5:32 AM;denyeart;[~ales] Would you recommend v1.4.0 or v2.0.0 for this fix?;;;","04/Dec/18 6:29 PM;ales;To be honest I don't see it as a problem - the parser doesn't fail when the string contains extra escape sequences: that's not bad. I'm inclined to return because WAD - thoughts?;;;","04/Dec/18 6:48 PM;denyeart;Ok, I've returned the bug to the reporter. [~diizuka] can you explain why you think this is required? Otherwise can you close?;;;","08/Jan/19 4:48 PM;diizuka;I understand that permitting extra escape sequence is not problem. I'll close this issue.

Instead, I posted FAB-13548, to support policy string error correction for administrator.
If policy string is wrong, It shows an error location (offset from head of policy string).

;;;","23/Jan/20 7:34 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,
Code hygiene: remove unused functions,FAB-11925,33621,28450,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ales,ales,ales,10/Sep/18 11:29 PM,12/Sep/18 4:20 AM,28/Oct/23 3:03 AM,12/Sep/18 4:20 AM,,,,,,,,,,,,,,,0,,,,,,,,ales,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzq5b:",,,,Unset,Unset,Sprint 6 - NextGen Endorseme 2,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ales,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
UT - TestNoTLSCertificate fails intermittently,FAB-11927,33624,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,harsha544,harsha544,10/Sep/18 11:55 PM,11/Sep/18 1:18 PM,28/Oct/23 3:03 AM,11/Sep/18 1:18 PM,v1.3.0,,,,,v1.3.0,,,,,fabric-build,fabric-ci,,,0,orderer,,,,,"make unit-test on ppc64le fails at
*13:25:24* {color:#cdcd00}unit-tests_1  |{color} ]*13:25:24* {color:#cdcd00}unit-tests_1  |{color} 2018-09-10 07:52:38.694 UTC [test] updateStubInMapping -> INFO 04c Allocating a new stub for node 4 with endpoint of 127.0.0.1:34231*13:25:24* {color:#cdcd00}unit-tests_1  |{color} 2018-09-10 07:52:38.694 UTC [test] updateStubInMapping -> INFO 04d Deactivating node 4 with endpoint of 127.0.0.1:34231 due to TLS certificate change*13:25:24* {color:#cdcd00}unit-tests_1  |{color} --- FAIL: TestNoTLSCertificate (0.33s)*13:25:24* {color:#cdcd00}unit-tests_1  |{color} panic: runtime error: invalid memory address or nil pointer dereference [recovered]*13:25:24* {color:#cdcd00}unit-tests_1  |{color} 	panic: runtime error: invalid memory address or nil pointer dereference*13:25:24* {color:#cdcd00}unit-tests_1  |{color} [signal SIGSEGV: segmentation violation code=0x1 addr=0x170 pc=0x10685b68]*13:25:24* {color:#cdcd00}unit-tests_1  |{color} 
which is coming from

[https://github.com/hyperledger/fabric/blob/master/orderer/common/cluster/comm_test.go#L504] 


FWIW logs are here  [https://jenkins.hyperledger.org/sandbox/job/fabric-daily-ppc64le/2/consoleFull]{color:#444444}  {color}",,denyeart,harsha544,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzq5z:",,,,Unset,Unset,,,make unit-test,,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,harsha544,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"11/Sep/18 12:13 PM;harsha544;https://gerrit.hyperledger.org/r/#/c/26204/;;;","11/Sep/18 1:18 PM;denyeart;[https://gerrit.hyperledger.org/r/#/c/26204/] merged.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add ability to get attributes from Idemix credential in chaincode,FAB-11928,33626,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,skarim,skarim,skarim,11/Sep/18 2:12 AM,12/Jan/19 4:23 AM,28/Oct/23 3:03 AM,15/Sep/18 12:08 PM,,,,,,v1.3.0,,,,,,,,,0,,,,,,"Add a new function in the chaincode library that allows the caller get back attribute values from an Idemix Credential. Currently only two attributes are supported for Idemix, they are 'ou' and 'role'.

Chaincode can continue to use the GetAttributeValue function to get back values for attributes. For Idemix, the only attributes that are going to be available will be 'ou' and 'role'.

Also, the cid and attrmgr code was moved down to the shim to make it easier for chaincode writers by removing extra dependencies they have to import.",,JonathanLevi,skarim,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12075,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzq6f:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),JonathanLevi,skarim,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"11/Sep/18 2:27 AM;skarim;https://gerrit.hyperledger.org/r/26199;;;","15/Sep/18 12:09 PM;JonathanLevi;Thank you;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Code hygiene for key-level shim capabilities,FAB-11929,33627,33225,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,ales,ales,ales,11/Sep/18 2:39 AM,11/Sep/18 2:58 AM,28/Oct/23 3:03 AM,11/Sep/18 2:58 AM,,,,,,,,,,,,,,,0,,,,,,,,ales,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzq6n:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ales,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Provide metrics for the endorser service / endpoint,FAB-11930,33629,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,,mastersingh24,mastersingh24,11/Sep/18 3:07 AM,12/Jan/19 1:10 AM,28/Oct/23 3:03 AM,12/Jan/19 1:10 AM,,,,,,,,,,,fabric-peer,,,,0,operations,,,,,,,mastersingh24,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-13088,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-3388,,,No,,Unset,No,,,"1|hzzq73:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),mastersingh24,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"19/Nov/18 8:51 AM;muralisr;[~wlahti] Some error/failure metrics users frequently encounter that would be good to capture
{code:java}
core/endorser
---------------
proposal validation failure - https://github.com/hyperledger/fabric/blob/master/core/endorser/endorser.go#L343
user chaincode ACL failure - https://github.com/hyperledger/fabric/blob/release-1.3/core/endorser/endorser.go#L385
chaincode instantiation failure -  https://github.com/hyperledger/fabric/blob/master/core/endorser/endorser.go#L179
endorsement failure - https://github.com/hyperledger/fabric/blob/master/core/endorser/plugin_endorser.go#L187
dup tx (in addition to legit user retries this will also help replay attack detection) - https://github.com/hyperledger/fabric/blob/release-1.3/core/endorser/endorser.go#L377

core/chaincode
--------------
chaincode startup failure - https://github.com/hyperledger/fabric/blob/master/core/chaincode/container_runtime.go#L78
chaincode launch timeout - https://github.com/hyperledger/fabric/blob/master/core/chaincode/runtime_launcher.go#L65
chaincode execute timeout - https://github.com/hyperledger/fabric/blob/master/core/chaincode/handler.go#L1152
{code};;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Provide channel metrics (committer/ledger),FAB-11931,33631,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,manish-sethi,mastersingh24,mastersingh24,11/Sep/18 3:12 AM,10/Jan/19 3:50 AM,28/Oct/23 3:04 AM,10/Jan/19 3:50 AM,,,,,,v1.4.0,,,,,fabric-peer,,,,0,operations,,,,,"Committer/Ledger metrics of interest (including labels for grouping/filtering):

Block Height (Gauge)
 - by channel

Block validation time (H)
 - by channel

State validation time (H)
 - by channel

Block storage commit time (H)
 - by channel

State DB commit time (H)
 - by channel

State DB Write lock time (H) - lower priority - think more about how this will be used
 - by channel

State DB Write lock wait time (H) - lower priority - think more about how this will be used
 - by channel

Transaction commit count (C)
 - by channel
 - by transaction type
 - by chaincode
 - by valid/invalidation code
 - by num private data collections
 - by private data available/missing

CouchDB API time (H) - note- also includes a count implicitly since it is a histogram.
 - by channel
 - by database
 - by success/failure/timeout
 - by API name",,AdnanChoudhury,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-3388,,,No,,Unset,No,,,"1|hzzezz:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),AdnanChoudhury,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Provide chaincode metrics,FAB-11935,33636,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wlahti,mastersingh24,mastersingh24,11/Sep/18 3:18 AM,10/Dec/18 11:39 PM,28/Oct/23 3:04 AM,10/Dec/18 11:39 PM,,,,,,v1.4.0,,,,,,,,,0,operations,,,,,,,mastersingh24,sykesm,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-3388,,,No,,Unset,No,,,"1|hzzq7b:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),mastersingh24,sykesm,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"10/Oct/18 12:52 AM;sykesm;Basic metrics need to be surfaced for each operation initiated by the chaincode against the peer.  These should include queries, updates, and chaincode invocations.

Since communication between the peer and chaincode is done with a gRPC service, we should be able to rely on server side stream interceptors to obtain counts and response time metrics. If, for some reason that does not work, we can instrument the handler.

Tasks should be created for each metric.;;;","08/Nov/18 11:58 PM;sykesm;We also need to have tasks to record how long it takes to launch chaincode and, when complete, whether or not it's successful. That should be a single histogram with labels.
All metrics for chaincode should include a chaincode name that includes its version; this string will need to be sanitized for use with Statsd and Prometheus. (Find a transform that works and consider a separate task that puts it into the statsd namer to keep people from having to concern themselves with it.)

Decided we're going to instrument metrics into HandleTransaction of the handler: received (count), completed (count), time (histogram). All have labels for the message type, channel, and chaincode; The completed and histogram also contain the response type (error or not).;;;","28/Nov/18 6:25 AM;wlahti;As [~muralisr] mentioned [here|https://jira.hyperledger.org/browse/FAB-11930?focusedCommentId=53565&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-53565], a few other chaincode metrics:

{code}
chaincode startup failure - https://github.com/hyperledger/fabric/blob/master/core/chaincode/container_runtime.go#L78
chaincode launch timeout - https://github.com/hyperledger/fabric/blob/master/core/chaincode/runtime_launcher.go#L65
chaincode execute timeout - https://github.com/hyperledger/fabric/blob/master/core/chaincode/handler.go#L1152
{code};;;","08/Dec/18 8:21 AM;sykesm;[~wlahti] is this done?;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Provide channel metrics (orderer),FAB-11936,33637,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,mastersingh24,mastersingh24,11/Sep/18 3:21 AM,12/Jan/19 1:03 AM,28/Oct/23 3:04 AM,11/Jan/19 1:03 AM,,,,,,,,,,,fabric-orderer,,,,0,operations,,,,,,,jyellick,mastersingh24,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-3388,,,No,,Unset,No,,,"1|hzzq7r:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),jyellick,mastersingh24,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"06/Nov/18 6:46 AM;jyellick;This is largely covered by https://jira.hyperledger.org/browse/FAB-9568, https://jira.hyperledger.org/browse/FAB-9570, and https://jira.hyperledger.org/browse/FAB-613

Though I would suggest that we we also add some metrics for ""Solo"" and ""Raft"".;;;","11/Jan/19 12:24 AM;sykesm;[~jyellick] - Is this story still pending and actionable or should we close it?

I can't tell if this is done or not.;;;","11/Jan/19 1:03 AM;jyellick;I think we can call this one closed, if [~mastersingh24] disagrees, maybe we can re-open with more detail.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Provide Raft-specific metrics,FAB-11937,33638,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,adarshsaraf123,mastersingh24,mastersingh24,11/Sep/18 3:21 AM,03/Mar/19 9:58 PM,28/Oct/23 3:04 AM,17/Feb/19 5:17 AM,,,,,,v2.0.0,,,,,fabric-orderer,,,,0,ipm-planned,operations,raft,,," # Cluster size (per channel): statically computed from consenter set
 # Is_leader(per channel): if the current node is the raft leader (0 or 1)
 # Leader changes (per channel): number of leader changes seen on this node
 # Proposal failures (per channel): if {{Propose}} or {{ProposeConfChange}} fails, this is inc’ed
 # Block number of latest committed block (per channel)
 # Block number of latest snapshot (per channel)",,adarshsaraf123,guoger,kchristidis,mastersingh24,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11863,FAB-14077,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-3388,,,No,,Unset,No,,,"1|hzzq7w:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),adarshsaraf123,guoger,kchristidis,mastersingh24,yacovm,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"29/Nov/18 12:41 AM;kchristidis;Reference CR on how to do the instrumentation: [https://gerrit.hyperledger.org/r/c/27496/];;;","29/Nov/18 12:45 AM;kchristidis;Per [~wlahti]:

{quote}Since that CR was merged, we've switched our coding style a little for the histograms:

Instead of:

{code:java}
h.Metrics.ShimRequestDuration.With(
		""type"", msg.Type.String(),
		""channel"", msg.ChannelId,
		""chaincode"", chaincodeName,
		""success"", strconv.FormatBool(resp.Type != pb.ChaincodeMessage_ERROR),
	).Observe(float64(duration) / float64(time.Second))
{code}

We're using:

{code:java}
h.Metrics.ShimRequestDuration.With(
		""type"", msg.Type.String(),
		""channel"", msg.ChannelId,
		""chaincode"", chaincodeName,
		""success"", strconv.FormatBool(resp.Type != pb.ChaincodeMessage_ERROR),
	).Observe(time.Since(startTime).Seconds())
{code}
{quote};;;","04/Feb/19 3:23 AM;adarshsaraf123;[~kchristidis][~guoger]
In the list of metrics mentioned above, 2. Node IDs and 7. Reachable Nodes do not seem to be float values. For 7, we could make it to be the number of reachable nodes. However, making 2 the number of nodes does not make sense since we already have the quorum size in 3. Should 2 then be the max node id per channel? ;;;","04/Feb/19 5:07 AM;kchristidis;Good observation! Reachable/quorum/max nodes seems like a good idea to me.;;;","04/Feb/19 12:39 PM;guoger;[~adarshsaraf123]
By
bq. Node IDs (per channel)
I meant *this* node ID

Number of reachable nodes LGTM!;;;","04/Feb/19 11:01 PM;kchristidis;Updated the description per [~adarshsaraf123]'s and [~guoger]'s comments.

[~guoger]: How do we get a count of the reachable nodes? [~yacovm] commented on that.;;;","04/Feb/19 11:16 PM;adarshsaraf123;Renamed 3. Quorum size to Cluster Size to avoid confusion with the meaning of the word quorum implying that the metric we are providing is the minimum number of nodes necessary for the cluster to function correctly.  ;;;","16/Feb/19 4:20 PM;adarshsaraf123;https://gerrit.hyperledger.org/r/#/c/29153/;;;",,,,,,,,,,,,,,,,,,,,,,,,,
cluster test sometimes fails on PPC,FAB-11938,33639,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,11/Sep/18 4:23 AM,11/Sep/18 12:36 PM,28/Oct/23 3:04 AM,11/Sep/18 12:36 PM,v1.3.0,,,,,v1.3.0,,,,,fabric-orderer,,,,0,,,,,,,,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzq9z:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Unit test failed: runtime panic on ,FAB-11939,33641,,Test Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,huikang,huikang,11/Sep/18 12:48 PM,23/Jan/20 7:34 AM,28/Oct/23 3:04 AM,23/Jan/20 7:34 AM,,,,,,,,,,,fabric-ledger,,,,0,stale-item,,,,,"hi,

when I run make unit-test, the test failed at the following step.

 
{quote}```

unit-tests_1  | 2018-09-11 03:31:09.903 UTC [kvledger] Open -> DEBU 107f Open() opening kvledger: ledger1

unit-tests_1  | 2018-09-11 03:31:09.903 UTC [ledgermgmt] Close -> INFO 1080 Closing ledger mgmt

unit-tests_1  | 2018-09-11 03:31:09.903 UTC [ledgermgmt] Close -> INFO 1081 ledger mgmt closed

unit-tests_1  | --- FAIL: TestV11 (0.11s)

        Error Trace:    test_helper.go:45: 

unit-tes                v11_test.go:25

unit-tesError:          Received unexpected error:

unit-tes                LedgerID does not exist

unit-tes                github.com/hyperledger/fabric/core/ledger/kvledger.init

unit-tes                /opt/gopath/src/github.com/hyperledger/fabric/core/ledger/kvledger/kv_ledger_provider.go:33

unit-tes                github.com/hyperledger/fabric/core/ledger/ledgermgmt.init

unit-tes                <autogenerated>:1

unit-tes                github.com/hyperledger/fabric/core/ledger/kvledger/tests.init

unit-tes                <autogenerated>:1

unit-tes                main.init

unit-tes                <autogenerated>:1

unit-tes                runtime.main

unit-tes                /opt/go/src/runtime/proc.go:186

unit-tes                runtime.goexit

unit-tes                /opt/go/src/runtime/asm_amd64.s:2361

unit-tesTest:           TestV11 

unit-tests_1  | panic: runtime error: invalid memory address or nil pointer dereference [recovered]

unit-tests_1  | panic: runtime error: invalid memory address or nil pointer dereference

unit-tests_1  | [signal SIGSEGV: segmentation violation code=0x1 addr=0x48 pc=0x10c84bf]
{quote}
 ",,huikang,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzqaf:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),huikang,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 7:34 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
As a Fabric core developer I would like to allow the validation flow for token transactions to go through the token validation plugin,FAB-11940,33645,31920,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,elli-androulaki,elli-androulaki,11/Sep/18 4:50 PM,12/Jun/20 12:30 AM,28/Oct/23 3:04 AM,30/Oct/18 6:58 AM,,,,,,v1.4.0,,,,,fabric-crypto,,,,0,,,,,,,,elli-androulaki,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwqfm:e",,,,Unset,Unset,To Do,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),elli-androulaki,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"21/Sep/18 6:25 PM;elli-androulaki;https://gerrit.hyperledger.org/r/#/c/26348/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
As Fabric core developer I want to allow the committer flow for token transactions to go through the custom tx processor for tokens,FAB-11941,33646,31920,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wenjian,elli-androulaki,elli-androulaki,11/Sep/18 5:12 PM,12/Jun/20 12:30 AM,28/Oct/23 3:04 AM,30/Oct/18 6:58 AM,,,,,,v1.4.0,,,,,fabric-crypto,fabric-peer,,,0,,,,,,"*Acceptance*: A simulated client creates an issue token transaction. Commit function is invoked on the committing peer, and is routed through the custom transaction processor dedicated to token transactions. Ledger should be updated according to the transaction content. If the transaction violates the issuer rules (issuing policy compliance) the transaction should be rejected and have no impact on the ledger. If the transaction is well formed and the creator complies with the token system's issuing policy, the transaction should be validated and its write set added/committed to the ledger. 

 

*How:* This refers to the registration of a custom tx processor for tokens into the peer customTxProcessors variable.",,elli-androulaki,wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwqfm:f",,,,Unset,Unset,To Do,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),elli-androulaki,wenjian,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"18/Sep/18 9:16 PM;wenjian;CR: [https://gerrit.hyperledger.org/r/#/c/26361/]

 ;;;","22/Sep/18 2:59 AM;wenjian;Added TxSubmitter client and e2e test in a separate CR:  https://gerrit.hyperledger.org/r/#/c/26461/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As a Fabric core developer (committing peer) I would like to tune token transaction processing, to use TMS verifier",FAB-11942,33647,32177,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,mathiasb303,elli-androulaki,elli-androulaki,11/Sep/18 5:25 PM,12/Jun/20 12:30 AM,28/Oct/23 3:04 AM,08/Nov/18 6:53 PM,v1.4.0,,,,,,,,,,fabric-crypto,,,,0,fabtoken,,,,,"Here we need to implement local interfaces representing TMS and defined in FAB-11941 for token transaction processor (TMSTxProcessor). 

At its construction time, TMSTxProcessor should receive a policy checker (implemented using the policy framework and with the related channel's MSPs), and a ledger reader/writer (implemented using the TxSimulator that is available at the Token Transaction Processor).

TMSTxProcessor should pass these objects to the TMS function processTx or Commit (older name) that would perform any security checks needed and ledger writes.

 ",,elli-androulaki,mathiasb303,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12011,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwqfm:g",,,,Unset,Unset,To Do,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),elli-androulaki,mathiasb303,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"21/Sep/18 9:25 PM;mathiasb303;CR: https://gerrit.hyperledger.org/r/#/c/26453/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
As a Fabric core developer I would like to refactor TMS verifier to consider a ledger object to perform validation and commit checks for a token transaction,FAB-11943,33648,32177,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,mathiasb303,elli-androulaki,elli-androulaki,11/Sep/18 5:27 PM,12/Jun/20 12:30 AM,28/Oct/23 3:04 AM,08/Nov/18 6:53 PM,v1.4.0,,,,,,,,,,fabric-crypto,fabric-peer,,,0,fabtoken,,,,,"Rework TMS verifier produced in another JIRA to leverage lookups and writes to the ledger (simulator). 

Here a module that offers a GetState/PutState capabilities is defined within the TMS verifier infrastructure to allow the latter to retrieve ledger state (to do certain security checks), and to perform ledger updates at commit time.

In-memory version of the TMS verifier would use an in-memory implementation of this ledger module.

 ",,elli-androulaki,mathiasb303,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwqfm:h",,,,Unset,Unset,To Do,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),elli-androulaki,mathiasb303,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"16/Sep/18 2:28 PM;mathiasb303;CR: https://gerrit.hyperledger.org/r/26329;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Invalid transactions are still reflected in world state,FAB-11944,33649,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Invalid: Works as Expected,,tonyyang132,tonyyang132,11/Sep/18 5:30 PM,18/Sep/18 10:54 PM,28/Oct/23 3:04 AM,18/Sep/18 10:54 PM,v1.0.0,,,,,,,,,,fabric-ledger,,,,0,,,,,,"A customer of ours is running a Fabric v1.0.0 based BaaS solution, against which they conducted a pressure test recently. Out of around 10 million transactions 2 were deemed invalid:

 
{code:java}
2018-09-07 09:20:31.032 UTC [statevalidator] ValidateAndPrepareBatch -> WARN 72a Block [43887] Transaction index [95] TxId [24c387ec309d5cd4d1e561990bb0fbfb460e64781941ad66066d9f744e88a118] marked as invalid by state validator. Reason code [11]
2018-09-07 09:20:31.035 UTC [statevalidator] ValidateAndPrepareBatch -> WARN 72b Block [43887] Transaction index [148] TxId [381240710bcf192c1d5bca3c19e1eced55ed6fc0bdecae9ee1f2722a9cb0c2f8] marked as invalid by state validator. Reason code [11]
2018-09-07 09:20:31.058 UTC [kvledger] Commit -> INFO 72c Channel [pubchain]: Created block [43887] with 250 transaction(s)
2018-09-07 09:20:31.077 UTC [eventhub_producer] SendProducerBlockEvent -> INFO 72d Channel [pubchain]: Sending event for block number [43887]
{code}
 

 

We have a little command-line tool that queries block data with fabric-sdk-go. These two transactions were indeed marked as invalid:
{code:java}
    {
      ""channel_id"": ""pubchain"",
      ""chaincode_id"": ""syccPubwelfare:"",
      ""transaction_id"": ""24c387ec309d5cd4d1e561990bb0fbfb460e64781941ad66066d9f744e88a118"",
      ""timestamp"": {
        ""seconds"": 1536312029,
        ""nanos"": 324371266
      },
      ""payload_size"": 419,
      ""is_invalid"": true,
      ""payload"": ""{\""id\"":\""2021717\"",\""doctype\"":\""PweDcodeBind\"",\""metadata\"":{\""bcIsinventory\"":0,\""donatorId\"":\""1\"",\""memberUnionCode\"":\""用户联盟code\"",\""orderId\"":\""2021717\"",\""orderSn\"":\""101\"",\""updatedAt\"":1.526500214e+12},\""order_sn\"":\""101\"",\""donator_id\"":\""1\""}""
    },
    {
      ""channel_id"": ""pubchain"",
      ""chaincode_id"": ""syccPubwelfare:"",
      ""transaction_id"": ""381240710bcf192c1d5bca3c19e1eced55ed6fc0bdecae9ee1f2722a9cb0c2f8"",
      ""timestamp"": {
        ""seconds"": 1536312029,
        ""nanos"": 325652766
      },
      ""payload_size"": 419,
      ""is_invalid"": true,
      ""payload"": ""{\""id\"":\""2021723\"",\""doctype\"":\""PweDcodeBind\"",\""metadata\"":{\""bcIsinventory\"":0,\""donatorId\"":\""1\"",\""memberUnionCode\"":\""用户联盟code\"",\""orderId\"":\""2021723\"",\""orderSn\"":\""101\"",\""updatedAt\"":1.526500214e+12},\""order_sn\"":\""101\"",\""donator_id\"":\""1\""}""
    },
{code}
 

My understanding is that an invalid transaction would not update world state. However, these transactions could still be queried with cli:
{code:java}
root@68721799b8b2:/opt/gopath/src/github.com/hyperledger/fabric/peer# peer chaincode query -C $CHANNEL_NAME -n syccPubwelfare -c '{""Args"":[""query"",""PweDcodeBind:2021717""]}'
2018-09-10 12:27:20.198 UTC [msp] GetLocalMSP -> DEBU 001 Returning existing local MSP
2018-09-10 12:27:20.198 UTC [msp] GetDefaultSigningIdentity -> DEBU 002 Obtaining default signing identity
2018-09-10 12:27:20.198 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 003 Using default escc
2018-09-10 12:27:20.198 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 004 Using default vscc
2018-09-10 12:27:20.199 UTC [msp/identity] Sign -> DEBU 005 Sign: plaintext: 0AFE070A6F08031A0B08A8C6D9DC0510...636F646542696E643A32303231373137
2018-09-10 12:27:20.199 UTC [msp/identity] Sign -> DEBU 006 Sign: digest: 12FBE93C47B678A2B6A751702F6E3D9B22F54A6899DD1925AFA41A0AA1AC7F6D
Query Result: {""id"":""2021717"",""doctype"":""PweDcodeBind"",""metadata"":{""bcIsinventory"":0,""donatorId"":""1"",""memberUnionCode"":""用户联盟code"",""orderId"":""2021717"",""orderSn"":""101"",""updatedAt"":1.526500214e+12},""order_sn"":""101"",""donator_id"":""1""}
2018-09-10 12:27:20.203 UTC [main] main -> INFO 007 Exiting.....
root@68721799b8b2:/opt/gopath/src/github.com/hyperledger/fabric/peer#
root@68721799b8b2:/opt/gopath/src/github.com/hyperledger/fabric/peer# peer chaincode query -C $CHANNEL_NAME -n syccPubwelfare -c '{""Args"":[""query"",""PweDcodeBind:2021723""]}'
2018-09-10 12:27:22.316 UTC [msp] GetLocalMSP -> DEBU 001 Returning existing local MSP
2018-09-10 12:27:22.316 UTC [msp] GetDefaultSigningIdentity -> DEBU 002 Obtaining default signing identity
2018-09-10 12:27:22.316 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 003 Using default escc
2018-09-10 12:27:22.316 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 004 Using default vscc
2018-09-10 12:27:22.316 UTC [msp/identity] Sign -> DEBU 005 Sign: plaintext: 0AFF070A7008031A0C08AAC6D9DC0510...636F646542696E643A32303231373233
2018-09-10 12:27:22.316 UTC [msp/identity] Sign -> DEBU 006 Sign: digest: 59E40DA74704539BB44C07E53C51AB7F5753C4007A5F844DDD80496ECE8D505F
Query Result: {""id"":""2021723"",""doctype"":""PweDcodeBind"",""metadata"":{""bcIsinventory"":0,""donatorId"":""1"",""memberUnionCode"":""用户联盟code"",""orderId"":""2021723"",""orderSn"":""101"",""updatedAt"":1.526500214e+12},""order_sn"":""101"",""donator_id"":""1""}
2018-09-10 12:27:22.321 UTC [main] main -> INFO 007 Exiting.....
root@68721799b8b2:/opt/gopath/src/github.com/hyperledger/fabric/peer#
{code}
So am I missing something here?",,manish-sethi,meinvzou,tonyyang132,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"18/Sep/18 1:15 PM;meinvzou;image-2018-09-18-12-15-28-893.png;https://jira.hyperledger.org/secure/attachment/15824/image-2018-09-18-12-15-28-893.png",,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzqc7:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),manish-sethi,meinvzou,tonyyang132,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"11/Sep/18 10:46 PM;manish-sethi;No [~tonyyang132] - you are not missing anything. Your understanding is correct. However, can this be the case that the state you are observing is set by some other valid transaction (before or after this invalid transaction). Can you pull out the history of this key and verify that the state was indeed set by this transaction? - if yes, then can you see if this is a repeatable so we can also try it out. Also, attach the debug logs if you have.

Finally, if you are planning to move to a newer version, can you try this on the latest version and verify whether you see the same issue?;;;","12/Sep/18 7:17 PM;tonyyang132;[~manish-sethi] thank you for your response. Unfortunately the customer environment has been refreshed after the pressure test, so I cannot check history of the key at this moment. But as I heard they were planning another test of similar scale. I'll have them raise the log level to debug and report back if such invalid transactions surface again.

 ;;;","17/Sep/18 1:33 PM;meinvzou;Hi,[~manish-sethi], we've reproduced the problem, and see the log as below: 【It seemed that the readSet version is nil? Why?】
2018-09-17 02:49:19.690 UTC [statevalidator] validateKVRead -> WARN 14938 ***zouyudi*333**Version mismatch for key [syccPubwelfare:PweDcodeBind:3016927]. Committed version = [&\{%!s(uint64=42071) %!s(uint64=246)}], Version in readSet [<nil>]
2018-09-17 02:49:19.720 UTC [statevalidator] ValidateAndPrepareBatch -> WARN 14939 Block [42072] Transaction index [23] TxId [eb1b447fed984aad00d0644515f123988c5ee1785eb8dd4aa089d119ab1afd66] marked as invalid by state validator. Reason code [11]
2018-09-17 02:49:19.721 UTC [statevalidator] validateKVRead -> WARN 1493a ***zouyudi*333**Version mismatch for key [syccPubwelfare:PweDcodeBind:3016885]. Committed version = [&\{%!s(uint64=42071) %!s(uint64=244)}], Version in readSet [<nil>]
2018-09-17 02:49:19.721 UTC [statevalidator] ValidateAndPrepareBatch -> WARN 1493b Block [42072] Transaction index [34] TxId [53274639503774f9175ef917018349c7fcd400e13cdcc83fddf302b7f0d89b94] marked as invalid by state validator. Reason code [11]
2018-09-17 02:49:19.751 UTC [kvledger] Commit -> INFO 1493c Channel [pubchain]: Created block [42072] with 250 transaction(s);;;","18/Sep/18 3:56 AM;manish-sethi;These logs does not assert the problem mentioned in the Jira (Rather, they depict that things are working as normal) unless you can provide more data points.

A version of a key in the ReadSet 'nil' is a legitimate case which happens when you read a non-existent key at the time of chaincode invoke (simulation).

Further, the log shows that the transaction (that performed a read for a non-existent key) was included in block number [42072], tran number [23] and was marked invalid because some other transaction (in block number [42071], tran number [246]) was already committed and had inserted this key.;;;","18/Sep/18 1:18 PM;meinvzou;[~manish-sethi]{color:#172b4d}, {color}Thank you so much. It's indeed what you mentioned. We'll find the reason on the upper layer about our application level. Fabric works as EXPECTED.

!image-2018-09-18-12-15-28-893.png!;;;","18/Sep/18 10:51 PM;manish-sethi;Thanks [~meinvzou] for confirming back. I'll close this Jira.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,
Typos and formatting issues in Private Data Tutorial,FAB-11945,33650,,Documentation,Closed,FAB,Fabric,software,denyeart,,,Low,Done,ChanderGovindarajan,ChanderGovindarajan,ChanderGovindarajan,11/Sep/18 5:47 PM,12/Sep/18 2:29 PM,28/Oct/23 3:04 AM,12/Sep/18 1:36 PM,,,,,,v1.3.0,,,,,,,,,0,,,,,,Assortment of minor grammatical mistakes and code formatting issues in the Private Data tutorial.,,ChanderGovindarajan,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzqcf:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ChanderGovindarajan,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"11/Sep/18 6:11 PM;ChanderGovindarajan;https://gerrit.hyperledger.org/r/#/c/26216/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Replace mspMap and related code with channel management code,FAB-11946,33651,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,yoheiueda,yoheiueda,11/Sep/18 6:17 PM,23/Jan/20 7:32 AM,28/Oct/23 3:04 AM,23/Jan/20 7:32 AM,,,,,,,,,,,,,,,0,stale-item,,,,,"I want to remove mspMap and related code defined in msp/mgmt/mgmt.go.

As stated in the comment referenced below, these were a temporary solution, and we can now replace them with the latest channel management code.

[https://github.com/hyperledger/fabric/blob/e188e533f88e0ba3009ac6870d824735efc720e2/msp/mgmt/mgmt.go#L49-L56]
{quote}// FIXME: AS SOON AS THE CHAIN MANAGEMENT CODE IS COMPLETE,
 // THESE MAPS AND HELPSER FUNCTIONS SHOULD DISAPPEAR BECAUSE
 // OWNERSHIP OF PER-CHAIN MSP MANAGERS WILL BE HANDLED BY IT;
 // HOWEVER IN THE INTERIM, THESE HELPER FUNCTIONS ARE REQUIRED

var m sync.Mutex
 var localMsp msp.MSP
 var mspMap map[string]msp.MSPManager = make(map[string]msp.MSPManager)
{quote}
As I reported in FAB-11321 and FAB-11843, I improved the performance of my workload from 2,500 TPS up to 4,000 TPS by removing the mutex lock for mspMap.

I opened this issue based on [~ales]'s advice.

[https://gerrit.hyperledger.org/r/c/26055/3/msp/mgmt/mgmt.go#52]",,sykesm,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzqcn:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"11/Sep/18 6:34 PM;yoheiueda;[~ales]

Is the first step for removal of mspmap is to replace calls of  GetManagerForChain with core/peer/GetStableChannelConfig?

[https://github.com/hyperledger/fabric/blob/e188e533f88e0ba3009ac6870d824735efc720e2/core/peer/peer.go#L443-L452]

Then, removals of GetDeserializers and XXXSetManager will be the next steps.

If so, I will create Jira issues for these subtasks, and craete CRs for them.

 

I am wondering how to deal with the localMSP defined in mgmt.go. Should we also remove this variable as well?

[https://github.com/hyperledger/fabric/blob/e188e533f88e0ba3009ac6870d824735efc720e2/msp/mgmt/mgmt.go#L55]

 ;;;","23/Jan/20 7:32 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Delete useless code,FAB-11947,33652,,Bug,Closed,FAB,Fabric,software,denyeart,,,Low,Done,ping40,ping40,ping40,11/Sep/18 6:50 PM,11/Sep/18 7:51 PM,28/Oct/23 3:04 AM,11/Sep/18 7:51 PM,,,,,,,,,,,,,,,0,,,,,,"in  common/ledger/blockledger/file/impl.go

 
{code:java}
var closedChan chan struct{}

func init() {
	closedChan = make(chan struct{})
	close(closedChan)
}

{code}
the variable closedChan is useless.",,ping40,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzqcv:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ping40,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Validate that private data collection is defined for chaincode, before attempting metadata ledger operations against it",FAB-11948,33653,30231,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ales,ales,ales,11/Sep/18 7:00 PM,21/Sep/18 12:02 AM,28/Oct/23 3:04 AM,12/Sep/18 5:02 PM,,,,,,v1.3.0,,,,,,,,,0,,,,,,,,ales,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzqd3:",,,,Unset,Unset,May2018 - NextGen Endorsement,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ales,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"11/Sep/18 7:47 PM;denyeart;https://gerrit.hyperledger.org/r/#/c/26221/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Block-level unit-test of SBE validation,FAB-11949,33656,28450,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,mne,mne,mne,11/Sep/18 8:55 PM,24/Sep/18 9:23 PM,28/Oct/23 3:04 AM,24/Sep/18 9:23 PM,,,,,,,,,,,,,,,0,,,,,,"Exercise the validation code paths for 1.3 at a block-level.

Validate a block that contains a significant number of transactions requiring key-level validation.",,mne,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzqe7:",,,,Unset,Unset,Sprint 6 - NextGen Endorseme 2,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),mne,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"11/Sep/18 8:55 PM;mne;https://gerrit.hyperledger.org/r/#/c/26147/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Опрос погоды,FAB-11950,33657,,Test Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,PichaevDmitriy,PichaevDmitriy,11/Sep/18 9:06 PM,23/Jan/20 7:34 AM,28/Oct/23 3:04 AM,23/Jan/20 7:34 AM,,,,,,,,,,,,,,,0,stale-item,,,,,"Создания сервиса в котором три кошелька ( мой, шефа и сервиса погоды) каждые 10 мин. я опрашиваю сервис погоды и плачу по 10 центов. А каждые 10 опросов  я считываю у шефа 1.25$ (перепродаю инфу).",,PichaevDmitriy,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzqef:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),PichaevDmitriy,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 7:34 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Sample for state-based endorsement,FAB-11951,33659,28454,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,mne,mne,mne,11/Sep/18 9:36 PM,31/Dec/18 12:15 AM,28/Oct/23 3:04 AM,31/Dec/18 12:15 AM,,,,,,,,,,,,,,,0,,,,,,"Based on a blockchain use-case, show how state-based endorsement is used in an application.",,mne,sheetal-hlf,SjirNijssen,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzqen:",,,,Unset,Unset,Sprint 6 - NextGen Endorseme 2,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),mne,sheetal-hlf,SjirNijssen,,,,,,,,,,,,,,,,,,,,,,,,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-6.11.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/tough-cookie-4.1.3,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/semver-6.3.1,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/grpc/grpc-js-1.8.17,dependabot/go_modules/high-throughput/application-go/google.golang.org/grpc-1.53.0,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/word-wrap-1.2.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-and-fabric-network-7.2.4,dependabot/go_modules/asset-transfer-basic/application-go/google.golang.org/grpc-1.53.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"12/Sep/18 1:23 AM;mne;https://gerrit.hyperledger.org/r/#/c/26232/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Developing Sample Application Using Fabric-SDK-Go,FAB-11952,33660,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,jucah,jucah,jucah,11/Sep/18 9:51 PM,23/Jan/20 7:32 AM,28/Oct/23 3:04 AM,23/Jan/20 7:32 AM,v1.2.0,,,,,v1.2.1,,,,,fabric-samples,,,,0,stale-item,,,,,"Due to the lack of existent samples that makes use of Fabric-SDK-Go, our goal is to provide an example that also includes a REST API to allow the integration of external applications.

The highlights of that sample will be:
 * chaincodes in both Node.js and Go;
 * a REST API developed in Go;
 * a Web application as a front-end.",,denyeart,fhmarino,jucah,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,No,Unset,,,,,No,,Unset,No,,,"1|hzzqev:",,,,No,Unset,,,(Please add steps to reproduce),,No,,,,,,Unset,,Unset,,(Please add usage information),denyeart,fhmarino,jucah,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"17/Sep/18 1:40 AM;denyeart;The existing fabric-samples target samples of the core Fabric capabilities.

Applications that utilize Fabric (such as REST layer and UI later in front of SDK) are not currently delivered to fabric-samples.

[~Clayton Sims] [~ChristopherFerris] I believe I've heard of other repositories for sample applications.  What's your thought?;;;","23/Jan/20 7:32 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Resolve TODO items in marbles sample chaincode,FAB-11953,33664,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,chris.elder,chris.elder,chris.elder,12/Sep/18 12:04 AM,24/Sep/18 4:35 AM,28/Oct/23 3:04 AM,24/Sep/18 4:35 AM,,,,,,v1.3.0,,,,,fabric-samples,,,,0,,,,,,Additional samples for pagination are needed as well as resolution of TODOs regarding usage of the new pagination queries.,,chris.elder,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzqfr:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),chris.elder,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
State-Based Endorsement Example in 'Pluggable transaction endorsement and validation',FAB-11954,33668,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,joe-alewine,bmos299,bmos299,12/Sep/18 3:40 AM,31/Jul/19 5:45 AM,28/Oct/23 3:04 AM,15/Sep/18 10:27 PM,v1.2.0,v1.3.0,,,,v1.2.1,v1.3.0,,,,fabric-docs,,,,0,,,,,,"When you search on 'state based endorsement'.  It comes up with a hit in the following url:
https://hyperledger-fabric.readthedocs.io/en/release-1.2/pluggable_endorsement_and_validation.html?highlight=state%20based%20endorsement

This gives the reader the impression that to use state based endorsement you must code a pluggable and implement a custom endorsement and validation logic into the peer.

Is there another example we can provide?

Barry",,bmos299,denyeart,joe-alewine,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,v1.2.0 release doc,Unset,No,,,"1|hzzqgn:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bmos299,denyeart,joe-alewine,yacovm,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,release-1.2,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"12/Sep/18 3:48 AM;joe-alewine;[~yacovm];;;","12/Sep/18 4:09 AM;yacovm;Oh, that's because in v1.2 - we thought that it'll be implemented as its own plugin, but then in v1.3 it was decided to just add it as a native capability in the builtin plugin...

 

We should just erase the bullet:

{quote}

*State-based endorsement:* When the endorsement policy depends on the key, and not only on the namespace.

{quote}

 

[~joe-alewine] sine you assigned it to yourself.... can you delete it please? :);;;","12/Sep/18 5:10 AM;joe-alewine;https://gerrit.hyperledger.org/r/c/26237/;;;","12/Sep/18 8:20 AM;denyeart;I've cherry-picked to release-1.2 as well:

https://gerrit.hyperledger.org/r/#/c/26240/;;;","12/Sep/18 8:44 AM;bmos299;Thank you.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,
RAS: log cc:coll:key and full block height in case of SBEP validation error,FAB-11955,33670,28450,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ales,ales,ales,12/Sep/18 4:20 AM,12/Sep/18 5:10 PM,28/Oct/23 3:04 AM,12/Sep/18 5:10 PM,,,,,,,,,,,,,,,0,,,,,,,,ales,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzqh3:",,,,Unset,Unset,Sprint 6 - NextGen Endorseme 2,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ales,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add the ability to differentiate nodes in the statsd metrics,FAB-11956,33673,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,sykesm,qizhang87,qizhang87,12/Sep/18 8:02 AM,08/Dec/18 8:19 AM,28/Oct/23 3:04 AM,08/Dec/18 8:19 AM,v1.2.0,,,,,v1.4.0,,,,,fabric-peer,,,,0,,,,,,"In order to use the Fabric metrics components (https://jira.hyperledger.org/browse/FAB-3389), each peer/orderer needs to include its unique peer/orderer name in the metric names it is reporting (e.g., channel0.peer0.org0.example.com.blockheight). Otherwise, metrics reported by different peers cannot be distinguished by the metrics server such as statsd. [~mastersingh24] [~ChristopherFerris]",,ChristopherFerris,denyeart,mastersingh24,qizhang87,sykesm,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12484,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-3388,,,No,,Unset,No,,,"1|hzzqhr:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ChristopherFerris,denyeart,mastersingh24,qizhang87,sykesm,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"13/Sep/18 12:16 AM;denyeart;Moved as a story under the Operational Metrics v1.4.0 epic.  TBD whether this would be back-ported to prior releases.

[~sykesm] FYI.;;;","13/Sep/18 1:55 AM;mastersingh24;We don't currently provide any metrics ... only the framework has been merged ... so no reason for this to be backported.;;;","10/Oct/18 12:15 AM;sykesm;I'm not sure why this is a story; this seems to be a detail that needs to be considered when surfacing metrics through statsd; in prometheus we'd probably expect these to be labels.;;;","08/Dec/18 8:19 AM;sykesm;We expose a {{prefix}} configuration option for statsd that can be used to differentiate notes.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
use kubernetes deploy fabric 1.1.0,FAB-11957,33674,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid: Test Error,,kirin,kirin,12/Sep/18 1:21 PM,01/Dec/18 8:20 PM,28/Oct/23 3:04 AM,01/Dec/18 8:20 PM,,,,,,,,,,,,,,,0,,,,,,"I'm use kubernetes deployment fabric 

Basic environmental instructions

operating system： Ubuntu 16.04.3

kubernetes version: v1.11.2 

kubernetes network plugin: flannel

kubernetes DNS use: core dns

kubernetes one master and one work node.

fabric use release 1.1.0 docker images.

 

fabric topology

consensus： kafka

three zookeeper node and four kafka node.

three orderer node and four peer node

The deployment of orderer，

the orderer container log  

!image-2018-09-12-12-16-02-408.png!

I'm use deployment orderer yaml file

 

---
kind: Service
apiVersion: v1
metadata:
 name: orderer0
 namespace: dev
spec:
 clusterIP: None
 #type: NodePort
 ports:
 - name: orderer
 port: 7050
 targetPort: 7050
 selector:
 app: orderer0

---
apiVersion: apps/v1beta1
kind: StatefulSet
metadata:
 name: orderer0
 namespace: dev
 labels:
 app: orderer0
spec:
 serviceName: orderer0
 selector:
 matchLabels:
 app: orderer0
 replicas: 1
 template:
 metadata:
 labels:
 app: orderer0
 spec:
 restartPolicy: Always
 #hostname: orderer0.arxanfintech.com
 containers:
 - name: orderer0
 image: hyperledger/fabric-orderer:x86_64-1.1.0
 imagePullPolicy: IfNotPresent
 ports:
 - containerPort: 7050
 command: [ ""/bin/bash"",""-c"",""hostname `echo $HOST_NAME` ; orderer"" ]
 securityContext:
 capabilities:
 add:
 - SYS_ADMIN
 env:
 - name: HOST_NAME
 value: orderer0.arxanfintech.com
 - name: MY_POD_IP
 valueFrom:
 fieldRef:
 fieldPath: status.podIP
 - name: ORDERER_GENERAL_LISTENPORT
 value: '7050'
 - name: CORE_VM_DOCKER_HOSTCONFIG_NETWORKMODE
 value: ""host""
 - name: ORDERER_GENERAL_LOGLEVEL
 value: debug
 - name: ORDERER_GENERAL_LISTENADDRESS
 value: '0.0.0.0'
 - name: ORDERER_GENERAL_GENESISMETHOD
 value: file
 - name: ORDERER_GENERAL_GENESISFILE
 value: /var/hyperledger/orderer/orderer.genesis.block
 - name: ORDERER_GENERAL_LOCALMSPID
 value: OrdererMSP
 - name: ORDERER_GENERAL_LOCALMSPDIR
 value: /var/hyperledger/orderer/msp
 - name: ORDERER_GENERAL_TLS_ENABLED
 value: 'true'
 - name: ORDERER_GENERAL_TLS_PRIVATEKEY
 value: /var/hyperledger/orderer/tls/server.key
 - name: ORDERER_GENERAL_TLS_CERTIFICATE
 value: /var/hyperledger/orderer/tls/server.crt
 - name: ORDERER_GENERAL_TLS_ROOTCAS
 value: '[/var/hyperledger/orderer/tls/ca.crt]'
 - name: ORDERER_KAFKA_RETRY_SHORTINTERVAL
 value: '1s'
 - name: ORDERER_KAFKA_RETRY_SHORTTOTAL
 value: '30s'
 - name: ORDERER_KAFKA_VERBOSE
 value: 'true'
 - name: CORE_LOGGING_GRPC
 value: debug
 - name: CORE_VM_ENDPOINT
 value: unix:///host/var/run/docker.sock
 readinessProbe:
 tcpSocket:
 port: 7050
 initialDelaySeconds: 15
 periodSeconds: 5
 livenessProbe:
 tcpSocket:
 port: 7050
 initialDelaySeconds: 10
 periodSeconds: 10
 volumeMounts:
 - mountPath: /var/hyperledger/orderer/msp
 name: orderer0
 subPath: crypto-config/ordererOrganizations/arxanfintech.com/orderers/orderer0.arxanfintech.com/msp
 - mountPath: /var/hyperledger/orderer/tls
 name: orderer0
 subPath: crypto-config/ordererOrganizations/arxanfintech.com/orderers/orderer0.arxanfintech.com/tls/
 - mountPath: /var/hyperledger/orderer/orderer.genesis.block
 name: orderer0
 subPath: channel-artifacts/genesis.block
 - mountPath: /var/hyperledger/production
 name: orderer0
 subPath: data
 - mountPath: /host/var/run/docker.sock
 name: run
 - mountPath: /etc/hostname
 name: orderer0
 subPath: hostname
 volumes:
 - name: orderer0
 persistentVolumeClaim:
 claimName: orderer0
 - name: run
 hostPath:
 path: /var/run/docker.sock",,denyeart,kirin,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"12/Sep/18 1:16 PM;kirin;image-2018-09-12-12-16-02-408.png;https://jira.hyperledger.org/secure/attachment/15801/image-2018-09-12-12-16-02-408.png",,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzqhz:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,kirin,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"19/Sep/18 9:57 PM;denyeart;[~kirin] Please summarize problem and whether there is a defect for Fabric to fix.;;;","09/Nov/18 9:50 AM;kirin;Thank you for help , I have already solved the problem.Disable kubernetes condition monitoring fix it. ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Document improvements on private_data_tutorial.rst,FAB-11958,33676,,Bug,Closed,FAB,Fabric,software,denyeart,,,Lowest,Done,nemoto,nemoto,nemoto,12/Sep/18 3:54 PM,14/Sep/18 9:34 PM,28/Oct/23 3:04 AM,14/Sep/18 9:34 PM,,,,,,,,,,,fabric-docs,,,,0,,,,,,"Some points (e.g., the following two) should be improved in private_data_tutorial.rst:
 * The paragraph starting from "" Specifically access to the private data will be restricted ..."" should be located in out of the code-block.
 * The double quotation at the end of the error message starting from "" Failed to get private details for marble1 ..."" should be unnecessary to get correct colors.


[https://hyperledger-fabric.readthedocs.io/en/release-1.2/private_data_tutorial.html]
 ",,nemoto,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzqif:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),nemoto,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
improve unit tests for confighistory,FAB-11959,33677,,Bug,Closed,FAB,Fabric,software,denyeart,,,Low,Done,ping40,ping40,ping40,12/Sep/18 5:03 PM,13/Sep/18 3:14 AM,28/Oct/23 3:04 AM,13/Sep/18 3:14 AM,,,,,,v1.3.0,,,,,,,,,0,,,,,,"{code:java}
func TesComparetEncodedHight(t *testing.T) {{code}
should change to
{code:java}
func TestCompareEncodedHeight(t *testing.T) {
{code}
the name TesComparetEncodedHight is  illegal test func name.

 ",,ping40,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzqin:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ping40,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"12/Sep/18 11:01 PM;ping40;https://gerrit.hyperledger.org/r/#/c/26247/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Make integration tests run with TLS,FAB-11960,33678,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,12/Sep/18 5:05 PM,03/Oct/18 9:48 PM,28/Oct/23 3:04 AM,03/Oct/18 9:48 PM,,,,,,,,,,,,,,,0,,,,,,Currently the integration tests don't use TLS. We should make them work with TLS since this is the only way to run an etcdraft OSN.,,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzqiv:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
properly release  resource,FAB-11961,33679,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ping40,ping40,ping40,12/Sep/18 5:26 PM,13/Sep/18 10:32 PM,28/Oct/23 3:04 AM,13/Sep/18 10:32 PM,,,,,,,,,,,,,,,0,,,,,,"in core/transientstore/store.go

 
{code:java}
func (s *store) GetMinTransientBlkHt() (uint64, error) {
   // Current approach performs a range query on purgeIndex with startKey
   // as 0 (i.e., blockHeight) and returns the first key which denotes
   // the lowest block height remaining in transient store. An alternative approach
   // is to explicitly store the minBlockHeight in the transientStore.
   startKey := createPurgeIndexByHeightRangeStartKey(0)
   iter := s.db.GetIterator(startKey, nil)   
   // Fetch the minimum transient block height
   if iter.Next() {
      dbKey := iter.Key()
      _, _, blockHeight := splitCompositeKeyOfPurgeIndexByHeight(dbKey)
      return blockHeight, nil
   }
   iter.Release()
   // Returning an error may not be the right thing to do here. May be
   // return a bool. -1 is not possible due to unsigned int as first
   // return value
   return 0, ErrStoreEmpty
}
{code}
 

the following sentence may be not called.
{code:java}
iter.Release()
{code}
 ",,ping40,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzqj3:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ping40,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"12/Sep/18 11:02 PM;ping40;https://gerrit.hyperledger.org/r/#/c/26246/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
s390 CI builds always fail by a python pip error,FAB-11962,33680,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,rameshthoomu,zhaochy,zhaochy,12/Sep/18 5:32 PM,15/Sep/18 4:56 AM,28/Oct/23 3:04 AM,15/Sep/18 4:56 AM,,,,,,,,,,,fabric-ci,,,,0,,,,,,"the s390 CI for fabric-sdk-node and fabric-chaincode-node (maybe happened on other fabirc components too) always fail by the following reason:

00:22:56.287 + pip install --user --quiet --upgrade pip==18.0 setuptools==40.0.0
00:22:56.296 Traceback (most recent call last):
00:22:56.296   File ""/usr/local/bin/pip"", line 7, in <module>
00:22:56.296     from pip import main
00:22:56.297 ImportError: cannot import name main

 ",,rameshthoomu,zhaochy,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzqjb:",,,,Unset,Unset,,,"two CR failed by this:
fabric-sdk-node: https://gerrit.hyperledger.org/r/#/c/26160/  
fabric-chaincode-node: https://gerrit.hyperledger.org/r/#/c/26183/  ",,Unset,,,,,,Unset,,Unset,,(Please add usage information),rameshthoomu,zhaochy,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"15/Sep/18 4:53 AM;rameshthoomu;This issue has been fixed. We have installed pip in s390x build nodes;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Make ZKP pluggable: Extend BCCSP to support ZK-based operations,FAB-11963,33686,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,elli-androulaki,elli-androulaki,12/Sep/18 8:26 PM,23/Jan/20 7:32 AM,28/Oct/23 3:04 AM,23/Jan/20 7:32 AM,,,,,,Future,,,,,fabric-crypto,,,,0,hygiene,idemix,Security,stale-item,,"This item refers to the extension of BCCSP calls or the building of a separate BCCSP that would accommodate ZK-proofs/signature computation needs. 

This would subsequently be used by Identity mixer and Token components to offer modularity at the level of underlying cryptographic primitives. 

In this way substituting a software version of these operations with a hardware supported one would be possible, without modifying the ZK operations' consumers.",,crashmark93,elli-androulaki,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwrxz:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),crashmark93,elli-androulaki,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 7:32 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
 Token (base support) - Atomic Swap,FAB-11964,33687,,Epic,Closed,FAB,Fabric,software,denyeart,,,High,Won't Do,mathiasb303,elli-androulaki,elli-androulaki,12/Sep/18 8:31 PM,14/Jan/20 12:11 AM,28/Oct/23 3:04 AM,14/Jan/20 12:11 AM,,,,,,Future,,,,,fabric-crypto,,,,0,fabtoken,,,,,"This item refers to the extension of token-related components of Fabric infrastructure to support atomic swaps. Design document on the overall token architecture in Fabric can be found [here|https://drive.google.com/open?id=1c3gObA_tnAsEEpw2tvJLnn9jvihIOQbl], while the implementation of theirs is handled by FAB-11144, FAB-11149, FAB-11163, FAB-11169, FAB-11153.

Overview of the atomic swap high level flows can be found [here|https://drive.google.com/open?id=1miVw9r-j2SaY85jWHU_qvh75_QRTRyue]. 

In short atomic swap support requires:
 * extending the prover peer service to compute atomic swap proofs (means extending the prover service interface and TMSManager transactor)
 * extending the committing peer token transaction processor to be able to process atomic swap token transactions (means extending the transaction proto message and TMSManager verifier object to handle verification of atomic swap transactions)

 ",,elli-androulaki,MichaelWang,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In development,https://drive.google.com/file/d/1miVw9r-j2SaY85jWHU_qvh75_QRTRyue/view,Available,Unset,Required,ghx-label-12,,Token (base support) - Support Atomic Swap Operation,To Do,No,,Required,No,,,"1|hzzqjz:",,,,Yes,Required,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),elli-androulaki,MichaelWang,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Token - Chaincode Interoperability,FAB-11965,33688,,Epic,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,angelo.decaro,elli-androulaki,elli-androulaki,12/Sep/18 8:33 PM,10/Apr/20 1:56 PM,28/Oct/23 3:04 AM,02/Dec/19 11:14 PM,,,,,,Future,,,,,fabric-crypto,fabric-token,,,0,fabtoken,,,,,"The goal of this epic is to allow a chiancode to allow complex business logic to be attached  Fabtoken.

Design Document: [h|https://docs.google.com/presentation/d/19F1WIm11NX8rdIX6C0pS_lxtOLvFM9ybGGz_rhpSWKo/edit?usp=sharing]ttps://docs.google.com/presentation/d/19F1WIm11NX8rdIX6C0pS_lxtOLvFM9ybGGz_rhpSWKo/edit?usp=sharing|https://docs.google.com/presentation/d/19F1WIm11NX8rdIX6C0pS_lxtOLvFM9ybGGz_rhpSWKo/edit?usp=sharing]",,angelo.decaro,elli-androulaki,gokhansagirlar,mbwhite,praveen.j,ycarmel,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12583,FAB-12585,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In development,https://docs.google.com/presentation/d/19F1WIm11NX8rdIX6C0pS_lxtOLvFM9ybGGz_rhpSWKo/edit?usp=sharing,Available,Unset,Required,ghx-label-14,,Token - Chaincode Interoperability,To Do,No,,Required,No,,,"1|hzzqk7:",,,,Yes,Required,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),angelo.decaro,elli-androulaki,gokhansagirlar,mbwhite,praveen.j,ycarmel,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"03/Jan/19 3:23 PM;praveen.j;[~angelo.decaro] This is very useful. Just got around to looking at this.. thanks for incorporating. Some questions:
 # Slide 10, wanted to confirm my understanding that the first version will only support one token transfer from A to B in the expectation set by the chaincode. In future, you will permit more. Is that correct?
 # Is it possible to have the client invoking the chaincode transaction that generates the expectationDesc to be different from the client that needs to create the TokenTransaction? In that case, who should create the TX that includes both the endorsements and the TokenTransaction?
As an example, lets say B delivers goods to A and generates an invoice in chaincode (B invokes the chaincode). The chaincode creates and expectationDesc that says A now needs to transfer tokens to B. Now, I presume A needs to create the TokenTransaction. Can these two be submitted together in your design?
 # I see FAB-12267 for supporting approve and transferFrom similar to ERC-20 for direct transfers. Do you have a notion of how this would work for indirect transfers through chaincode? Specifically, it would be nice if a chaincode can be approved for transfer of tokens similar to Ethereum. This would permit chaincodes to act as escrows and transfer funds it is approved to intended recepients based on exchange logic. This would require chaincodes to have identities and the ability to verify that a particular invocation was made by a chaincode rather than a client.;;;","03/Jan/19 4:07 PM;angelo.decaro;Hi [~praveen.j], thanks a lot for feedback. Let me answer your questions:
 # Yes, correct. We decided to go that way for simplicity, at the least at the beginning. Then, we will incorporate the feedbacks :)
 # It is a very interesting scenario. I would say that that is doable as long as A and B have some sort of coordinations. For example, B can send to A, off-band, the endorsement B got. Then, A assembles the final transaction including the payment. What do you think of this setting?
 # Very good point. Let me say the following: we can argue that a chaincode identity is given by it is endorsement policy (at the end of the day, the endorsement policy controls the evolution of the chaincode's state). We might enhance the token system to recognise this forms of ownership. Meaning that, the owner is the chaincode's endorsement policy and a valid signature from that owner is an endorsement. What do you think?

Thanks again for your feedback :);;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
func TestShutdown intermittent failure ppc64le,FAB-11966,33692,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,harsha544,harsha544,harsha544,12/Sep/18 9:44 PM,13/Sep/18 8:26 PM,28/Oct/23 3:04 AM,13/Sep/18 8:26 PM,v1.3.0,,,,,v1.3.0,,,,,fabric-orderer,,,,0,orderer,,,,,"make unit-test results in failure of  func *TestShutdown*  under github.com/hyperledger/fabric/orderer/common/cluster on ppc64le. Here's a glimpse of error 

{color:#000080}17{color}{color:#333333}:{color}{color:#008080}22{color}{color:#333333}:{color}{color:#008080}59{color}{color:#333333} unit-tests_1 | --- {color}{color:#000080}FAIL{color}{color:#333333}: TestShutdown ({color}{color:#008080}0.42s{color}{color:#333333}) 
{color}{color:#008080}17{color}{color:#333333}:{color}{color:#008080}22{color}{color:#333333}:{color}{color:#008080}59{color}{color:#333333} unit-tests_1 | assertions.{color}{color:#000080}go{color}{color:#333333}:{color}{color:#008080}247{color}{color:#333333}: 
Error {color}{color:#000080}Trace{color}{color:#333333}: comm_test.{color}{color:#000080}go{color}{color:#333333}:{color}{color:#008080}672{color}",,harsha544,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzqkf:",,,,Unset,Unset,,,make unit-test,,Unset,,,,,,Unset,,Unset,,(Please add usage information),harsha544,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"12/Sep/18 11:11 PM;harsha544;[https://gerrit.hyperledger.org/r/26250] – Requested for CR Review.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Intermittent test failures in core/chaincode/exectransaction_test TestQueries,FAB-11967,33693,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid: Environment Issue,,sykesm,sykesm,12/Sep/18 11:00 PM,19/Mar/19 7:57 PM,28/Oct/23 3:04 AM,09/Dec/18 1:10 AM,,,,,,Future,,,,,fabric-ledger,,,,0,ci-flake,,,,,"I have hit this at least 7 out of the last 8 local runs of {{make unit-tests}}
{code:java}
unit-tests_1  | 2018-09-12 13:53:18.619 UTC [ledgermgmt] Close -> INFO b40 Closing ledger mgmt
unit-tests_1  | 2018-09-12 13:53:18.620 UTC [ledgermgmt] Close -> INFO b41 ledger mgmt closed
unit-tests_1  | removing dir = /tmp/hyperledger/test/tmpdb/ledgersData
unit-tests_1  | --- FAIL: TestQueries (10.97s)
unit-tests_1  | 	exectransaction_test.go:1158: Error detected with the paginated range query. Returned: []  should have returned: [marble001 marble002] {code}
This assertion was added recently as part of FAB-11455 and brought up in the scrum channel.",,denyeart,lehors,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12613,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzqkn:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,lehors,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"12/Sep/18 11:05 PM;sykesm;On current master #bc400e86c5c64a8f4cac65b931a74d8f2f143f31;;;","02/Oct/18 12:42 AM;denyeart;I don't think I've seen this issue in CI.

[~sykesm] Are you still seeing the problem? Any idea why the issue seems more prevalent on your environment?;;;","02/Oct/18 2:44 AM;sykesm;I haven't run into this one in a while. When I opened it, I was hitting it 3x a day.;;;","29/Nov/18 8:43 AM;denyeart;Have not seen this recently.  Please re-open if you see this again.;;;","06/Dec/18 5:36 AM;denyeart;[~lehors] Sounds like you've seen this too... please provide details of your environment.  We've been having trouble reproducing this one.;;;","06/Dec/18 6:04 AM;lehors;Indeed, I've been seeing this very consistently - like every time.

This is on macOS 10.14 (Mojave), go1.11.2 darwin/amd64.

 ;;;","08/Dec/18 12:45 AM;lehors;So, it turns out that the problem on my side simply came from having an old chaincode container image being used.

Indeed, while digging in to find out what was going on I found out that the chaincode image being used was several months old! I deleted the image, reran the tests and the problem disappeared... Tests pass!;;;","09/Dec/18 1:10 AM;denyeart;Thanks [~lehors]. I'll close again.;;;",,,,,,,,,,,,,,,,,,,,,,,,,
Intermittent test failures in core/committer/txvalidator_test TestInvokeOKPvtDataOnly,FAB-11968,33694,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,,sykesm,sykesm,12/Sep/18 11:05 PM,19/Mar/19 7:57 PM,28/Oct/23 3:04 AM,18/Sep/18 1:12 AM,,,,,,,,,,,,,,,0,ci-flake,,,,,"{code}
unit-tests_1  | 2018-09-12 13:51:55.203 UTC [ledgermgmt] CreateLedger -> INFO 18b Created ledger [TestLedger] with genesis block
unit-tests_1  | 2018-09-12 13:51:55.203 UTC [cceventmgmt] HandleStateUpdates -> INFO 18c Channel [TestLedger]: Handling LSCC state update for chaincode [mycc]
unit-tests_1  | 2018-09-12 13:51:55.203 UTC [ccprovider] ExtractStatedbArtifactsForChaincode -> INFO 18d Error while loading installation package for ccname=mycc, ccversion=1.0. Err=open /mycc.1.0: no such file or directory
unit-tests_1  | 2018-09-12 13:51:55.204 UTC [cceventmgmt] HandleChaincodeDeploy -> INFO 18e Channel [TestLedger]: Chaincode [Name=mycc, Version=1.0, Hash=[]byte(nil)] is not installed hence no need to create chaincode artifacts for endorsement
unit-tests_1  | 2018-09-12 13:51:55.208 UTC [kvledger] CommitWithPvtData -> INFO 18f Channel [TestLedger]: Committed block [1] with 1 transaction(s)
unit-tests_1  | 2018-09-12 13:51:55.211 UTC [vscc] GetValidationParameterForKey -> ERRO 190 could not retrieve metadata for mycc:mycollection:WM��)���>\kM�:�(�Ku����{��
                                                                                                                                                                        ��: collection config not defined for chaincode [mycc], pass the collection configuration upon chaincode definition/instantiation
unit-tests_1  | 2018-09-12 13:51:55.211 UTC [vscc] Validate -> ERRO 191 VSCC error: stateBasedValidator.Validate failed, err %!s(<nil>)
unit-tests_1  | 2018-09-12 13:51:55.211 UTC [committer/txvalidator] validateTx -> ERRO 192 VSCCValidateTx for transaction txId = 6ec8771ffb52ade5e8da2a6de62c17813935653ad602554e57a6e54f242b2ee8 returned error: could not retrieve metadata for mycc:mycollection:WM��)���>\kM�:�(�Ku����{��
                                                                                                         ��: collection config not defined for chaincode [mycc], pass the collection configuration upon chaincode definition/instantiation
unit-tests_1  | 2018-09-12 13:51:55.211 UTC [ledgermgmt] Close -> INFO 193 Closing ledger mgmt
unit-tests_1  | 2018-09-12 13:51:55.212 UTC [ledgermgmt] Close -> INFO 194 ledger mgmt closed
unit-tests_1  | removing dir = /tmp/fabric/validatortest/ledgersData
unit-tests_1  | panic: runtime error: invalid memory address or nil pointer dereference [recovered]
unit-tests_1  | 	panic: runtime error: invalid memory address or nil pointer dereference
unit-tests_1  | [signal SIGSEGV: segmentation violation code=0x1 addr=0x8 pc=0x1137baa]
unit-tests_1  | 
unit-tests_1  | goroutine 5244 [running]:
unit-tests_1  | testing.tRunner.func1(0xc42268e000)
unit-tests_1  | 	/opt/go/src/testing/testing.go:742 +0x29d
unit-tests_1  | panic(0x12ac800, 0x1c22050)
unit-tests_1  | 	/opt/go/src/runtime/panic.go:505 +0x229
unit-tests_1  | github.com/hyperledger/fabric/core/committer/txvalidator_test.assertInvalid(0xc4252b5ac0, 0xc42268e000, 0xa)
unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/core/committer/txvalidator/validator_test.go:217 +0x2a
unit-tests_1  | github.com/hyperledger/fabric/core/committer/txvalidator_test.testInvokeOKPvtDataOnly(0xc42268e000, 0x14fc2a0, 0xc4205dee00, 0x14dcc20, 0xc4205dee40)
unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/core/committer/txvalidator/validator_test.go:566 +0x443
unit-tests_1  | github.com/hyperledger/fabric/core/committer/txvalidator_test.TestInvokeOKPvtDataOnly.func2(0xc42268e000)
unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/core/committer/txvalidator/validator_test.go:545 +0x164
unit-tests_1  | testing.tRunner(0xc42268e000, 0xc422e561a0)
unit-tests_1  | 	/opt/go/src/testing/testing.go:777 +0xd0
unit-tests_1  | created by testing.(*T).Run
unit-tests_1  | 	/opt/go/src/testing/testing.go:824 +0x2e0
unit-tests_1  | FAIL	github.com/hyperledger/fabric/core/committer/txvalidator	19.586s
{code}
",,ales,harsha544,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11971,FAB-11973,,,,,,,,,,,,,,,,,"13/Sep/18 6:26 AM;sykesm;console-timestamp.log.gz.txt;https://jira.hyperledger.org/secure/attachment/15803/console-timestamp.log.gz.txt",,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzqkv:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ales,harsha544,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"12/Sep/18 11:05 PM;sykesm;On current master #bc400e86c5c64a8f4cac65b931a74d8f2f143f31;;;","13/Sep/18 3:52 AM;harsha544;Opened Jira Item on same lines – https://jira.hyperledger.org/browse/FAB-11971;;;","13/Sep/18 6:24 AM;sykesm;> Opened Jira Item on same lines – https://jira.hyperledger.org/browse/FAB-11971

Sure - so that should have been marked a dup of this. Not sure why it went the other way...
;;;","13/Sep/18 6:32 AM;sykesm;[~ales], looks like this is a test that was modified/added on Sep 6 and merged a couple of days ago.

https://github.com/hyperledger/fabric/commit/53921322df2a55afef73eb63e55390529c4f645e

{code}
author Alessandro Sorniotti <ale.linux@sopit.net> Thu Sep 6 15:25:37 2018 +0200
committer Alessandro Sorniotti <ale.linux@sopit.net> Tue Sep 11 10:42:41 2018 +0200

[FAB-11896] Exercise v1.2 and v1.3 validation in tests

[FAB-11551] introduces a split in the validation logic based on whether the
channel operates with a 1.2 or 1.3 capability. This change set extends the
validation logic to test with either validator and assert that the behaviour
either doesn't change or it changes as expected.

Change-Id: I85179703db696c71ed272cd0237f14fde12101fb
Signed-off-by: Alessandro Sorniotti <ale.linux@sopit.net>
Signed-off-by: Matthias Neugschwandtner <eug@zurich.ibm.com>
{code};;;","13/Sep/18 10:44 AM;harsha544; > Sure - so that should have been marked a dup of this. Not sure why it went the other way...
It's the Jira view that's causing this conflict. Post marking FAB-11971 as dup. of FAB-11968, it's auto closed. Thank you !! Will be keeping a close eye on this.;;;","13/Sep/18 8:19 PM;ales;Isn't that a duplicate of FAB-11973? I fixed it in https://gerrit.hyperledger.org/r/#/c/26277/;;;","18/Sep/18 1:08 AM;sykesm;> Isn't that a duplicate of FAB-11973? I fixed it in https://gerrit.hyperledger.org/r/#/c/26277/

If you go by the issue numbers, that was a duplicate of this one.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
PTE testcase: query scalability,FAB-11970,33702,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,dongming,dongming,dongming,13/Sep/18 2:43 AM,30/Jul/19 11:47 AM,28/Oct/23 3:04 AM,30/Jul/19 11:47 AM,,,,,,,,,,,fabric-quality,,,,0,,,,,,"PTE testcase: query scalability test

Test name: Performance test: query scalability
 Component: Performance test
 Description: performance with 1 channel with levelDB
     chaincode: one chancode, samplecc go chaincode, instantiated
     transactions:

          invoke 10000 transactions on each peer (16 threads)

         query 1 peer with 10000 queries, record the TPS

         query 2 peers with 10000 queries each peer, record the TPS

         query 4 peers with 10000 queries each peer, record the TPS

         query 8 peers with 10000 queries each peer, record the TPS

         query 16 peers with 10000 queries each peer, record the TPS

Network Topology: docker containers; 1 channels, 1 org, 16 peers per org, 4 kafka, 3 zookeepers, 3 orderers, 2 ca, TLS enabled, both org associate with both channels

Client Driver: PTE

Results:
 The test passes if
     the execution completes without error

Output:

A TPS performance graph",,dongming,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-8089,,,No,,Unset,No,,,"1|hzzqmf:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),dongming,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"30/Jul/19 11:47 AM;mastersingh24;No activity for around a year .... cleanup time;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
UT - func testInvokeOKPvtDataOnly intermittent failure,FAB-11971,33703,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,rameshthoomu,harsha544,harsha544,13/Sep/18 3:42 AM,13/Sep/18 6:25 AM,28/Oct/23 3:04 AM,13/Sep/18 6:25 AM,v1.3.0,,,,,v1.3.0,,,,,fabric-ci,,,,0,,,,,,"make unit-test fails at func testInvokeOKPvtDataOnly part of package txvalidator_test, enclosing snippet of the error :- 

unit-tests_1 | panic: runtime error: invalid memory address or nil pointer dereference [recovered]
unit-tests_1 | panic: runtime error: invalid memory address or nil pointer dereference
unit-tests_1 | [signal SIGSEGV: segmentation violation code=0x1 addr=0x8 pc=0x10cb6208]
unit-tests_1 | 
unit-tests_1 | goroutine 5286 [running]:
unit-tests_1 | testing.tRunner.func1(0xc422c22000)
unit-tests_1 | /opt/go/src/testing/testing.go:742 +0x270
unit-tests_1 | panic(0x10e32b80, 0x115b1040)
unit-tests_1 | /opt/go/src/runtime/panic.go:505 +0x24c
unit-tests_1 | github.com/hyperledger/fabric/core/committer/txvalidator_test.assertInvalid(0xc42280e7c0, 0xc422c22000, 0xa)
*unit-tests_1 | /opt/gopath/src/github.com/hyperledger/fabric/core/committer/txvalidator/validator_test.go:217 +0x28*
unit-tests_1 | github.com/hyperledger/fabric/core/committer/txvalidator_test.testInvokeOKPvtDataOnly(0xc422c22000, 0x1108e540, 0xc4203c6fa0, 0x1106f140, 0xc4203c6fe0)
*unit-tests_1 | /opt/gopath/src/github.com/hyperledger/fabric/core/committer/txvalidator/validator_test.go:566 +0x39c*
unit-tests_1 | github.com/hyperledger/fabric/core/committer/txvalidator_test.TestInvokeOKPvtDataOnly.func2(0xc422c22000)
*unit-tests_1 | /opt/gopath/src/github.com/hyperledger/fabric/core/committer/txvalidator/validator_test.go:545 +0x138*
unit-tests_1 | testing.tRunner(0xc422c22000, 0xc422ec88f0)
unit-tests_1 | /opt/go/src/testing/testing.go:777 +0xc8
unit-tests_1 | created by testing.(*T).Run
unit-tests_1 | /opt/go/src/testing/testing.go:824 +0x28c
unit-tests_1 | FAIL github.com/hyperledger/fabric/core/committer/txvalidator 64.624s

Logs can be found at 
[https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/4608/consoleFull]
[https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/4609/consoleFull]
[https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/4607/consoleFull]

 ",,harsha544,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11968,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzqmn:",,,,Unset,Unset,,,make unit-test,,Unset,,,,,,Unset,,Unset,,(Please add usage information),harsha544,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Address some issues from FAB-11455,FAB-11972,33704,,Bug,Closed,FAB,Fabric,software,denyeart,,,Low,Done,sykesm,sykesm,sykesm,13/Sep/18 3:51 AM,14/Sep/18 1:24 PM,28/Oct/23 3:04 AM,14/Sep/18 1:23 PM,,,,,,v1.3.0,,,,,,,,,0,,,,,,Address the simple things that don't require another refactor...,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzqmv:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
failing test in statebased validation,FAB-11973,33706,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ales,manish-sethi,manish-sethi,13/Sep/18 5:04 AM,21/Sep/18 2:07 AM,28/Oct/23 3:04 AM,21/Sep/18 1:30 AM,,,,,,v1.3.0,,,,,,,,,0,,,,,,"The following two conflicting CR got merged...

[https://gerrit.hyperledger.org/r/#/c/26135/]

[https://gerrit.hyperledger.org/r/#/c/26221/]

and causing the failure of the test - [https://github.com/hyperledger/fabric/blob/master/core/committer/txvalidator/validator_test.go#L540.]

 

Without the latter CR, a 'nil' metadata was being returned to the validation code but now instead an error is returned (collection not defined error) that needs to be handled properly in the validation code.

Also, I noticed that though the validation code is restructured in different packages but the code still takes the logger for ""vscc"" (including the statebased package) that creates problem in debugging.

 

For now, submitting a CR (https://gerrit.hyperledger.org/r/26266) for skipping this failing test but this Jira can be used for fixing the real issue.

 ",,ales,denyeart,manish-sethi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11968,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzqn3:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ales,denyeart,manish-sethi,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"13/Sep/18 10:00 AM;denyeart;Ok, [https://gerrit.hyperledger.org/r/26266] merged to skip the test.

[~ales] I think this same Jira can be used to actually fix the issue.;;;","13/Sep/18 4:00 PM;ales;https://gerrit.hyperledger.org/r/26277

Let's treat the point on logging in another CR if you're okay with it.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Intermittent test failures in in CI from panic core/ledger/kvledger,FAB-11974,33707,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,manish-sethi,sykesm,sykesm,13/Sep/18 5:34 AM,19/Mar/19 7:57 PM,28/Oct/23 3:04 AM,15/Sep/18 9:44 PM,,,,,,v1.3.0,,,,,fabric-ledger,,,,0,ci-flake,,,,,"{code}
00:10:16.946 unit-tests_1  | panic: runtime error: invalid memory address or nil pointer dereference
00:10:16.946 unit-tests_1  | [signal SIGSEGV: segmentation violation code=0x1 addr=0x8 pc=0xe17732]
00:10:16.947 unit-tests_1  | 
00:10:16.947 unit-tests_1  | goroutine 598 [running]:
00:10:16.947 unit-tests_1  | github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.(*DB).newRawIterator(0xc422e14d00, 0x0, 0x0, 0x0, 0x0, 0xc4228b0090, 0xc420578150, 0x1, 0xc420569e80)
00:10:16.948 unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db_iter.go:54 +0x2a2
00:10:16.949 unit-tests_1  | github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.(*DB).newIterator(0xc422e14d00, 0x0, 0x0, 0x0, 0x0, 0x0, 0xc424a2cc38, 0xc420578150, 0xff)
00:10:16.950 unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db_iter.go:79 +0x99
00:10:16.951 unit-tests_1  | github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.(*DB).NewIterator(0xc422e14d00, 0xc424a2cc38, 0xc420578150, 0x0, 0x0)
00:10:16.952 unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db.go:886 +0x147
00:10:16.952 unit-tests_1  | github.com/hyperledger/fabric/common/ledger/util/leveldbhelper.(*DB).GetIterator(0xc4200312c0, 0xc420569e20, 0x11, 0x20, 0xc420569e40, 0x11, 0x20, 0x20, 0xc4205d5cc8)
00:10:16.953 unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/common/ledger/util/leveldbhelper/leveldb_helper.go:143 +0xa0
00:10:16.953 unit-tests_1  | github.com/hyperledger/fabric/common/ledger/util/leveldbhelper.(*DBHandle).GetIterator(0xc4204903e0, 0xc4205d5c90, 0x4, 0x8, 0xc4205d5cc0, 0x4, 0x8, 0x38)
00:10:16.953 unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/common/ledger/util/leveldbhelper/leveldb_provider.go:110 +0x377
00:10:16.954 unit-tests_1  | github.com/hyperledger/fabric/core/ledger/kvledger/txmgmt/pvtstatepurgemgmt.(*expKeeper).retrieve(0xc42329c0c8, 0x5, 0x0, 0x0, 0x0, 0x0, 0x0)
00:10:16.954 unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/core/ledger/kvledger/txmgmt/pvtstatepurgemgmt/expiry_keeper.go:84 +0x119
00:10:16.954 unit-tests_1  | github.com/hyperledger/fabric/core/ledger/kvledger/txmgmt/pvtstatepurgemgmt.(*purgeMgr).prepareWorkingsetFor(0xc42329e370, 0x5, 0xc4201c3630)
00:10:16.954 unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/core/ledger/kvledger/txmgmt/pvtstatepurgemgmt/purge_mgr.go:151 +0x10a
00:10:16.955 unit-tests_1  | github.com/hyperledger/fabric/core/ledger/kvledger/txmgmt/pvtstatepurgemgmt.(*purgeMgr).PrepareForExpiringKeys.func1(0xc42329e370, 0x5)
00:10:16.955 unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/core/ledger/kvledger/txmgmt/pvtstatepurgemgmt/purge_mgr.go:78 +0x87
00:10:16.955 unit-tests_1  | created by github.com/hyperledger/fabric/core/ledger/kvledger/txmgmt/pvtstatepurgemgmt.(*purgeMgr).PrepareForExpiringKeys
00:10:16.955 unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/core/ledger/kvledger/txmgmt/pvtstatepurgemgmt/purge_mgr.go:74 +0x64
00:10:16.956 unit-tests_1  | FAIL	github.com/hyperledger/fabric/core/ledger/kvledger	24.834s
{code}
",,manish-sethi,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"13/Sep/18 5:36 AM;sykesm;console-timestamp.log.gz.txt;https://jira.hyperledger.org/secure/attachment/15802/console-timestamp.log.gz.txt",,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzqnb:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),manish-sethi,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"15/Sep/18 9:02 AM;manish-sethi;https://gerrit.hyperledger.org/r/#/c/26322/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Java Chaincode Load Test with JAVA SDK,FAB-11975,33708,,Test Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,arjun-raghavan-00,scottz,scottz,13/Sep/18 5:42 AM,28/Nov/18 8:39 AM,28/Oct/23 3:04 AM,28/Nov/18 8:39 AM,v1.3.0,,,,,v1.3.0,,,,,fabric-quality,,,,0,,,,,,Concurrently run multiple threads of transactions traffic using java sdk and a java chaincode from fabric-test/chaincodes/samplecc/java/. Estimated time to complete: 1-2 weeks.,,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11726,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-10082,,,No,,Unset,No,,,"1|hzzqnj:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"28/Nov/18 8:38 AM;scottz;Rick R did enough testing with java sdk in v1.3. Although it is not automated, it was a sufficient load.

Per discussion with Rick and [~latitiah], I think we can abandon this.;;;","28/Nov/18 8:39 AM;scottz;This is a partial duplicate.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Unfriendly log record and error message from state based validation,FAB-11976,33710,,Bug,Closed,FAB,Fabric,software,denyeart,,,Low,Done,ales,sykesm,sykesm,13/Sep/18 6:55 AM,17/Sep/18 2:35 PM,28/Oct/23 3:04 AM,17/Sep/18 2:35 PM,,,,,,v1.3.0,,,,,,,,,0,,,,,,"This is related to FAB-11968. When we look at the logs, this is what we get:

{code}
2018-09-12 17:46:06.799 EDT [vscc] GetValidationParameterForKey -> ERRO 010 could not retrieve metadata for mycc:mycollection:WM??)???>\kM?:?(?Ku????{??
                                                                                                                                                        ??: collection config not defined for chaincode [mycc], pass the collection configuration upon chaincode definition/instantiation
{code}

That's coming from this code:

{code}
	var mdMap map[string][]byte
	if coll == """" {
		mdMap, err = state.GetStateMetadata(cc, key)
		if err != nil {
			err = errors.WithMessage(err, fmt.Sprintf(""could not retrieve metadata for %s:%s:%s"", cc, coll, key))
			logger.Errorf(err.Error())
			return nil, err
		}
	} else {
		mdMap, err = state.GetPrivateDataMetadata(cc, coll, key)
		if err != nil {
			err = errors.WithMessage(err, fmt.Sprintf(""could not retrieve metadata for %s:%s:%s"", cc, coll, key))
			logger.Errorf(err.Error())
			return nil, err
		}
	}
{code}

If keys can contain arbitrary (non-printable) data, we should use hex encoding or similar.

/cc [~ales]",,ales,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzqnz:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ales,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"13/Sep/18 8:34 PM;ales;Thanks, good catch. Fixed https://gerrit.hyperledger.org/r/26279;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Unknown magic byte when upgrading Kafka,FAB-11977,33712,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,kchristidis,sanchezl,sanchezl,13/Sep/18 10:29 AM,16/Nov/18 8:44 AM,28/Oct/23 3:04 AM,16/Nov/18 8:44 AM,v1.0.6,v1.1.0,v1.2.0,,,v1.0.8,v1.1.3,v1.2.1,,,fabric-orderer,,,,0,kafka,,,,,"During a rolling upgrade of Kafka, the orderer's Kafka client panics with {{error decoding packet: unknown magic byte (2)}} errors. Upgrading the sarama client to version 1.17 or above should pick up the [needed fix|https://github.com/Shopify/sarama/issues/1021] in the sarama client.",,kchristidis,sanchezl,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11573,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzqo7:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),kchristidis,sanchezl,,,,,,,,,,,,,,,,,,,,,,,,,release-1.3,release-1.1,release-1.2,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"04/Nov/18 7:55 AM;kchristidis;CR for 1.1: https://gerrit.hyperledger.org/r/c/27348/

Once [~ptippett] confirms that this resolves the issue, I will rollout the fix for 1.2 as well.;;;","14/Nov/18 5:55 AM;kchristidis;CR for 1.2: https://gerrit.hyperledger.org/r/c/27532/
CR for 1.3: https://gerrit.hyperledger.org/r/c/27533/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Get the javaenv image for smoke tests and daily tests.,FAB-11978,33713,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sambhavdutt,sambhavdutt,sambhavdutt,13/Sep/18 12:08 PM,19/Mar/19 8:13 PM,28/Oct/23 3:04 AM,21/Sep/18 4:49 AM,v1.3.0,,,,,v1.3.0,,,,,fabric-quality,,,,0,ci-failure,,,,,"This change is to get the javaenv image in the smoke tests, pull the javaenv image from Nexus in the daily tests for the master branch.",,latitiah,rameshthoomu,sambhavdutt,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzqof:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),latitiah,rameshthoomu,sambhavdutt,scottz,,,,,,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,,,,,,true,"14/Sep/18 5:08 AM;sambhavdutt;CR submitted to Gerrit. Waiting for reviews,

https://gerrit.hyperledger.org/r/#/c/26269/

Changes are working as expected in smoke and daily tests.(Sandbox tests passed testing these new changes);;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update Building on Centos 7 instuctions,FAB-11979,33715,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,coolsvap,coolsvap,coolsvap,13/Sep/18 1:32 PM,25/Sep/18 11:54 PM,28/Oct/23 3:04 AM,25/Sep/18 11:54 PM,,,,,,,,,,,fabric-docs,,,,0,Documentation,,,,,The FABRIC export variable path was github.hyperledger. I needs to be updated.,,coolsvap,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzqov:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),coolsvap,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Peer to peer Chaincode messaging ,FAB-11980,33717,,Epic,Backlog,FAB,Fabric,software,denyeart,,,Medium,,,yacovm,yacovm,13/Sep/18 5:20 PM,15/Apr/21 7:27 AM,28/Oct/23 3:04 AM,,v2.0.0,,,,,,,,,,fabric-peer,,,,1,,,,,,"The *Long version* can be found in the [google doc|https://docs.google.com/document/d/1iAl20ohf-GpWgnwSOXXJRxlfC1-RQP92QdPUXAy7uRs/edit?usp=sharing].

*Short version:*

I propose the following changes to Fabric:
 * To add an application layer point-to-point messaging API to the gossip layer, to be used by peer components.
 * To enhance the chaincode API with the ability to leverage the above API in order to send messages between invocations of the same chaincode in the same transaction.

This would allow transactions involving computation over data which is only available to a subset of the peers participating in the chaincode simulation, namely:
 * Computation over secret data that is available only to one organization when the endorsement policy dictates several.
 * Computations that involve cross channel reads, when some of the peers aren't in the channel but do need to endorse the transaction.
 * Export of integration to external systems - in cases where an organization which participates in a transaction has a chaincode that communicates with an external system, and other organizations need to use that capability, but they can't communicate with the external system because of proprietary code, or lack of credentials.

It's worth mentioning that this item *doesn't involve a lot of work*, as we only need to:
 * Add a new message type to the gossip protobuf, and an API in the peer that just calls the existing functions that are already there since v1.1.
 The entire inter-peer messaging and routing is then handled by the existing gossip infrastructure.
 * Add a router component within the chaincode peer side which routes application messages tagged with ""chaincode"" and received from the gossip layer by the transaction ID into the right gRPC stream, and routes messages obtained from a gRPC stream (of a chaincode shim) to the gossip layer (to be sent to remote peers).
 * Add an API on the shim side that just involves sending and receiving a message, which is quite easily done.

FYIs: 
 [~C0rWin] [~mastersingh24] [~adc] [~ales] [~ellaki] [~denyeart] [~sykesm]",,ales,binhn,C0rWin,CarlitoIBM,daijianw,dcrough13,huxd,MichaelWang,muralisr,Senthil1,sheehan,silliman,yacovm,yoheiueda,zhaochy,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Yes,Unset,,,Peer to peer Chaincode messaging,To Do,No,,Unset,No,,,"1|hzzqpb:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ales,binhn,C0rWin,CarlitoIBM,daijianw,dcrough13,huxd,MichaelWang,muralisr,Senthil1,sheehan,silliman,yacovm,yoheiueda,zhaochy,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"13/Sep/18 8:47 PM;ales;+1 Interesting work that will certainly open up many possibilities. It's also worth mentioning that - while we would be enabling the chaincode to perform external calls that may lead to non-deterministic behaviour (e.g. peer 1 successfully communicates while peer 2 has a temporary network failure) there's no risk of any forks because fabric's programming model doesn't guarantee liveness to non-deterministic chaincodes by design.

One consideration that comes to mind: the semantics of this communication layer must be clear - do we inherit transport-level security guarantees at the chaincode level if TLS is used by gossip? If so, how will this be achieved?;;;","13/Sep/18 9:26 PM;yacovm;{quote}do we inherit transport-level security guarantees at the chaincode level if TLS is used by gossip? If so, how will this be achieved?
{quote}
Since the messages are carried by the gossip communication layer in a point-to-point manner you get authentication and encryption ""for free"".;;;","13/Sep/18 9:31 PM;ales;{quote}
Since the messages are carried by the gossip communication layer in a point-to-point manner you get authentication and encryption ""for free"".
{quote}
Right, the important point will be to ensure that the chaincode interface doesn't lead to information loss, so that the intent of the chaincode developer to - say ""send this message to a peer of org foo with attribute bar"" - leads to the exchange of information to the intended recipient, or an error. Just to avoid confused deputy attacks. ;;;","11/Dec/18 12:42 AM;binhn;+1
I am particularly interested in this capability to implement cc to cc calls to a remote external channel. That is, a cc1 from org1 on channel1 may call cc2 from org2 on channel2, which org1 is not a member of. A general use case is reference data channel, which provides common data for other channels but members of other channels don't want to be a member of the reference data channel due to reasons like privacy.;;;","11/Dec/18 12:54 AM;yacovm;Yep, this is one of the use cases in the google doc :)
;;;","24/Dec/18 12:39 PM;Senthil1;If a chaincode calls a chaincode hosted on a different channel, with the current implementation, we don't ensure serialisability isolation level. Even repeatable read isolation level is not possible. If we are planning for a transaction to span multiple channels (that is to say that the read set consist of <k, version> where each belong to a different channel), we need changes at the ledger component too. It would become more like an implementation of a distributed transaction. ;;;","24/Dec/18 4:21 PM;yacovm;[~Senthil1], this will be treated in the same manner as accessing an external data source via chaincode, only that the external data source is a chaincode that resides on a different peer. 
;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
"As a Fabric developer, I want to be able to run integration tests against the etcd/raft-based ordering service",FAB-11981,33718,,Test Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,13/Sep/18 5:38 PM,21/Jan/19 11:45 PM,28/Oct/23 3:04 AM,15/Oct/18 1:34 AM,,,,,,v2.0.0,,,,,fabric-orderer,,,,0,raft,,,,,,,kchristidis,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-6135,,,Automated,,Unset,No,,,"1|hzwrjr:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Pass,,Integration Test,,(Please add usage information),kchristidis,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"06/Oct/18 7:08 AM;kchristidis;[~yacovm]: Looks like FAB-11982 and FAB-11983 are taken care of in the same CR?;;;","06/Oct/18 4:35 PM;yacovm;Yeah in [https://gerrit.hyperledger.org/r/#/c/26297/];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add support for single-node integration test,FAB-11982,33719,33718,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,13/Sep/18 5:39 PM,15/Oct/18 1:33 AM,28/Oct/23 3:04 AM,15/Oct/18 1:33 AM,,,,,,,,,,,,,,,0,,,,,,,,kchristidis,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzqpj:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),kchristidis,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"06/Oct/18 7:07 AM;kchristidis;https://gerrit.hyperledger.org/r/c/26297/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Enhance nwo with etcdraft OSN type,FAB-11983,33720,33718,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,13/Sep/18 5:52 PM,15/Oct/18 1:33 AM,28/Oct/23 3:04 AM,15/Oct/18 1:33 AM,,,,,,,,,,,,,,,0,,,,,,,,kchristidis,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzqpr:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),kchristidis,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"09/Oct/18 6:01 AM;kchristidis;[https://gerrit.hyperledger.org/r/#/c/26297/];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Handle IO ledger errors differently from deterministic errors in the committer path,FAB-11984,33724,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,ales,ales,13/Sep/18 10:14 PM,23/Jan/20 7:32 AM,28/Oct/23 3:04 AM,23/Jan/20 7:32 AM,,,,,,,,,,,,,,,0,stale-item,,,,,"The ledger is increasingly being used in the validation/commit code path. The current known users of the ledger facility are
# the validator when it retrieves the LSCC entry to obtain the chaincode endorsement policy
# the state-based validator when it retrieves state-level metadata
# the MVCC checks that need to retrieve existing keys

In case of error, the user of the ledger facility must be able to distinguish between a non-deterministic error (e.g. an I/O error) and a deterministic one (e.g. the error returned in case GetPrivateData was invoked on a non-existent collection). This is necessary to ensure that the validator/committer path decides whether to simply mark the transaction as invalid in case of a deterministic error, or to halt processing on the channel in case of a non-deterministic one.",,ales,denyeart,manish-sethi,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzqq7:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ales,denyeart,manish-sethi,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"13/Sep/18 10:17 PM;ales;Story created after discussion with [~denyeart];;;","20/Sep/18 9:49 PM;ales;After further discussion with [~denyeart] and [~manish-sethi] it was decided that the approach would be
* the ledger returns specific errors for all deterministic errors (i.e. errors that would occur on every peer on the channel
* when ledger functions are invoked from the validator, typeswitches for deterministic are required; deterministic errors should simply be logged and ignored; the default case would be handled by returning a validation execution error so that processing on the channel would be halted. 
* In case the above typeswitch is not complete (e.g. a new deterministic error is introduced but the typeswitch is not updated), the result would be that all peers on the channel would halt processing, swiftly requiring a patch to fix this. While undesirable, this is the safe fallback to avoid forks.;;;","20/Sep/18 11:05 PM;denyeart;[~ales] Please clarify specific actions needed for v1.3 vs. future.;;;","20/Sep/18 11:22 PM;ales;afaik we're good for 1.3 ([~manish-sethi] please confirm), which is why I closed all the subtasts and pushed CRs for others. For the future, it would be useful to have to avoid the typecast by defining clear ledger errors for deterministic/non deterministic errors. But [~manish-sethi] should weigh in about this.;;;","20/Sep/18 11:35 PM;manish-sethi;yes [~ales]. This is what we had discussed. ;;;","02/Oct/18 2:11 AM;denyeart;[~ales] [~manish-sethi] To close the loop on this... agreed we're good for v1.3.  So that we don't forget the 'future' actions, [~manish-sethi] could you open specific Jira items for the proposed updates and mention them here?;;;","02/Oct/18 3:57 AM;manish-sethi;I would let [~ales] create any item if he wants to create - as the only remaining item was related to organizing validator code differently such that it looks up error type in a map instead of checking the type in-line. Personally, I am not sure if there are many errors and [~ales] still wants to structure validator code like this. 
Further, given the refactoring that we are taking up for validation path, I am not sure whether these errors will anymore be there in the new code. ;;;","23/Jan/20 7:32 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,
Define deterministic error and have the ledger return it whenever one occurred,FAB-11985,33725,33724,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,manish-sethi,ales,ales,13/Sep/18 10:15 PM,20/Sep/18 9:42 PM,28/Oct/23 3:04 AM,20/Sep/18 9:42 PM,,,,,,,,,,,,,,,0,,,,,,,,ales,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzqqf:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ales,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"13/Sep/18 11:40 PM;ales;Must be backported to 1.2 as wlel;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Ensure that the validator path (except the MVCC checks) handles gracefully ledger errors,FAB-11986,33726,33724,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,ales,ales,ales,13/Sep/18 10:16 PM,20/Sep/18 9:43 PM,28/Oct/23 3:04 AM,20/Sep/18 9:43 PM,,,,,,,,,,,,,,,0,,,,,,,,ales,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzqqn:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ales,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Ensure that MVCC checks consume gracefully ledger errors,FAB-11987,33727,33724,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,manish-sethi,ales,ales,13/Sep/18 10:16 PM,20/Sep/18 9:43 PM,28/Oct/23 3:04 AM,20/Sep/18 9:43 PM,,,,,,,,,,,,,,,0,,,,,,,,ales,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzqqv:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ales,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"13/Sep/18 11:40 PM;ales;Must be backported to 1.2;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Export function to create composite keys,FAB-11988,33728,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,ales,ales,ales,13/Sep/18 10:24 PM,20/Sep/18 11:10 PM,28/Oct/23 3:04 AM,20/Sep/18 11:10 PM,,,,,,,,,,,,,,,0,,,,,,"The function to create composite keys is only available when an instance of the chanincode stub is available. However, there might be cases where computing a composite key is required while no instance of the chaincode stub is available. The function should be exported to make it possible to reuse this logic elsewhere.",,ales,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzqr3:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ales,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Change custom validation plugin docs to clarify correct way of handling ledger errors,FAB-11989,33730,33724,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ales,ales,ales,13/Sep/18 11:41 PM,24/Sep/18 7:15 PM,28/Oct/23 3:04 AM,24/Sep/18 7:15 PM,,,,,,,,,,,,,,,0,,,,,,Must be backported to 1.2,,ales,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzqrj:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ales,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"20/Sep/18 11:05 PM;denyeart;https://gerrit.hyperledger.org/r/#/c/26411/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Populate Chain options with configuration values,FAB-11990,33732,32551,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,C0rWin,C0rWin,C0rWin,14/Sep/18 12:06 AM,15/Oct/18 1:25 AM,28/Oct/23 3:04 AM,15/Oct/18 1:25 AM,,,,,,,,,,,fabric-orderer,,,,0,,,,,,"At the moment Raft chain configuration is hard coded during chain instantiation, however since FAB-11861 introduces Raft algorithm related configuration, we can read those parameters to be used within Raft.",,C0rWin,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzqrr:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),C0rWin,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"14/Sep/18 12:32 AM;C0rWin;https://gerrit.hyperledger.org/r/26286;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
idemix role field must be an int rather than a boolean (fabric),FAB-11991,33733,32849,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,rtorres,dubovitskaya,dubovitskaya,14/Sep/18 12:13 AM,12/Jun/20 12:31 AM,28/Oct/23 3:04 AM,18/Sep/18 4:32 PM,,,,,,v1.3.0,,,,,,,,,0,idemix,,,,,,,dubovitskaya,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwqfm:i",,,,Unset,Unset,To Do,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),dubovitskaya,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"14/Sep/18 12:15 AM;dubovitskaya;https://gerrit.hyperledger.org/r/26285;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
idemix role field must be an int rather than a boolean (fabric-ca),FAB-11992,33734,32849,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,rtorres,dubovitskaya,dubovitskaya,14/Sep/18 12:13 AM,12/Jun/20 12:31 AM,28/Oct/23 3:04 AM,18/Sep/18 10:58 PM,,,,,,v1.3.0,,,,,fabric-ca,,,,0,idemix,,,,,,,dubovitskaya,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwqfm:j",,,,Unset,Unset,To Do,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),dubovitskaya,,,,,,,,,,,,,,,,,,,,,,,,,,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"14/Sep/18 2:12 AM;dubovitskaya;https://gerrit.hyperledger.org/r/26289;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
idemix role field must be an int rather than a boolean (fabric-sdk-java),FAB-11993,33735,32849,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,rtorres,dubovitskaya,dubovitskaya,14/Sep/18 12:14 AM,12/Jun/20 12:31 AM,28/Oct/23 3:04 AM,18/Sep/18 9:17 PM,,,,,,v1.3.0,,,,,fabric-sdk-java,,,,0,idemix,,,,,,,dubovitskaya,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwqfm:k",,,,Unset,Unset,To Do,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),dubovitskaya,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"14/Sep/18 2:35 AM;dubovitskaya;https://gerrit.hyperledger.org/r/26291;;;","18/Sep/18 5:36 PM;dubovitskaya;[~rickr] All tests pass now since fabric-ca and fabric CRs are merged;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Recommendation to break up chaincode when querying CouchDB,FAB-11994,33736,33518,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,pandrejko,pandrejko,14/Sep/18 12:19 AM,23/Jan/20 7:31 AM,28/Oct/23 3:04 AM,23/Jan/20 7:31 AM,,,,,,,,,,,fabric-docs,,,,0,BestPractices,stale-item,,,,"To improve performance, recommendation is to make requests to multiple chaincodes when querying couchdb, rather than fan out all the ledger queries form a single chain code transaction (serially), enabling better load balancing across peers and performance.",,pandrejko,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzqsn:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),pandrejko,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"14/Sep/18 12:22 AM;pandrejko;I was talking to Anthony O'Dowd about this and wanted to capture his thoughts:

It's also a trade off, as separate chaincodes, give you separate ledgers.
This cannot be done without affecting applications quite radically
It's a matter of degree though.

Let's say an app was doing chaincode1 func1 putState and chaincode 1 func2 getState.
Moving func2 to chaincode2  won't work as the states are now invisible to each other
so we need to be careful here.

I'm pretty sure the chaincode ID scopes the CouchDB tables

 

 ;;;","23/Jan/20 7:31 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add config option to orderer.yaml to configure WAL directory,FAB-11995,33737,32829,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,guoger,guoger,guoger,14/Sep/18 12:24 AM,30/Oct/18 8:45 AM,28/Oct/23 3:04 AM,30/Oct/18 8:45 AM,,,,,,,,,,,,,,,0,raft,,,,,This option configures the dir path to store etcdraft WAL data. It should appear in {{orderer.yaml}} since each OSN may wish to store them at different path.,,guoger,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzqsv:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),guoger,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"20/Oct/18 11:15 PM;kchristidis;https://gerrit.hyperledger.org/r/c/27102/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Enable Raft based (non-system) channel creation,FAB-11996,33738,32832,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,C0rWin,C0rWin,C0rWin,14/Sep/18 12:30 AM,01/Mar/19 10:35 PM,28/Oct/23 3:04 AM,15/Oct/18 1:25 AM,,,,,,,,,,,fabric-orderer,,,,0,,,,,,"Currently there is a limitation in the raft Chain code, which prevent user from creating a Raft based channel, i.e.:

{code}
	switch chdr.Type {
	case int32(common.HeaderType_ORDERER_TRANSACTION):
		return errors.Errorf(""channel creation requests not supported yet"")
	case int32(common.HeaderType_CONFIG):
		configEnv, err := configtx.UnmarshalConfigEnvelope(payload.Data)
		if err != nil {
			return err
		}
		configUpdateEnv, err := utils.EnvelopeToConfigUpdate(configEnv.LastUpdate)
		if err != nil {
			return err
		}
		configUpdate, err := configtx.UnmarshalConfigUpdate(configUpdateEnv.ConfigUpdate)
		if err != nil {
			return err
		}

		// ignoring the read set for now
		// check only if the ConsensusType is updated in the write set
		if ordererConfigGroup, ok := configUpdate.WriteSet.Groups[""Orderer""]; ok {
			if _, ok := ordererConfigGroup.Values[""ConsensusType""]; ok {
				return errors.Errorf(""updates to ConsensusType not supported currently"")
			}
		}
		return nil

	default:
		return errors.Errorf(""config transaction has unknown header type"")
	}
{code}

in order to enable channel creation need to get rid of 

{code}
	case int32(common.HeaderType_ORDERER_TRANSACTION):
		return errors.Errorf(""channel creation requests not supported yet"")
{code}

and 

{code}
	case int32(common.HeaderType_ORDERER_TRANSACTION):
		return nil
{code}",,C0rWin,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzqt3:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),C0rWin,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"14/Sep/18 12:32 AM;C0rWin;https://gerrit.hyperledger.org/r/26287;;;","06/Oct/18 3:50 AM;kchristidis;Changing parents for this one.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Writing non-deterministic chaincode,FAB-11997,33739,33518,Sub-task,Closed,FAB,Fabric,software,denyeart,,,High,Won't Do,,pandrejko,pandrejko,14/Sep/18 12:34 AM,23/Jan/20 7:31 AM,28/Oct/23 3:04 AM,23/Jan/20 7:31 AM,,,,,,,,,,,fabric-docs,,,,0,BestPractices,stale-item,,,,"sort result set, etc.
 * Update the Tutorial Chaincode for Developers
 * Update client app FAQ",,pandrejko,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzqtb:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),pandrejko,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 7:31 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"FAB-7264 and FAB-7269 behave tests failed to get a ""no_usable_index"" response.",FAB-11999,33751,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,nnao,nnao,nnao,14/Sep/18 3:40 AM,26/Jul/19 7:20 PM,28/Oct/23 3:04 AM,26/Jul/19 7:20 PM,v1.3.0,,,,,v1.3.0,,,,,fabric-quality,,,,0,,,,,,"I get the following error messages when I execute FAB-7264 and FAB-7269 behave tests.
{code}
...
When a user queries on the channel ""mychannel2"" using chaincode named ""mycc2"" with args [""queryMarbles"", ""{\\""selector\\"":{\\""owner\\"":\\""alex\\""}, \\""use_index\\"":[\\""_design/indexdoc_b
ehave_test_v1\\"", \\""index_behave_test_v1\\""]}""] on ""peer0.org1.example.com""                                                # steps/endorser_impl.py:437 4.112s
Then a user receives a response containing no_usable_index                                                                                 # steps/endorser_impl.py:905 0.000s
    Assertion Failed: Expected response was no_usable_index; received [{""Key"":""marble2"",""Record"":{""color"":""yellow"",""docType"":""marble"",""name"":""marble2"",""owner"":""alex"",""size"":20}}]
{code}",,AdnanChoudhury,nnao,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzqvb:",,,,Unset,Unset,,,/opt/gopath/src/github.com/hyperledger/fabric-test/feature$ behave -n FAB-7264 -n FAB-7269 ,,Unset,,,,,,Unset,,Unset,,(Please add usage information),AdnanChoudhury,nnao,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"14/Sep/18 7:14 AM;nnao;https://gerrit.hyperledger.org/r/c/26296/;;;","11/Oct/18 4:28 AM;AdnanChoudhury;[~nnao] I think that the test failed because you already had the index file in your folder from a previous run. So the index got installed during the first phase, hence it did not give you any error.

Can you please remove the old index files and test again?;;;","12/Oct/18 4:02 AM;nnao;[~AdnanChoudhury] Thank you for review. I have a question. What does ""remove the old index files"" mean?

In my understanding, this test checks a response containing no_usable_index from CouchDB. Where is the old index file?;;;","12/Oct/18 5:56 AM;nnao;[~AdnanChoudhury] Sorry. I got it.

After I deleted META-INF directory then the test became a success.

Do you think it needs to delete those file when executing ""make clean"" command?

 ;;;","12/Oct/18 5:59 AM;AdnanChoudhury;Thanks, yes, it needs to delete, but the cleanest option in my opinion would be that this test deletes all the newly-created file by itself, as the last step.;;;","12/Oct/18 2:07 PM;nnao;That makes sense. Do you have a Jira for deleting all the newly-created file? If we don't have it, could I use this JIRA for deleting it?;;;","13/Oct/18 4:10 AM;AdnanChoudhury;Yes, thats a good idea to use this jira. I don't think delete is implemented in the behave backend yet. 

Let me tag [~latitiah] here to see if she agrees that behave statements that delete given files as part of housekeeping should be part of the behave tests.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
Disable private data reconciliation in gossip layer in v1.3 release,FAB-12000,33752,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,C0rWin,nirro,nirro,14/Sep/18 4:04 AM,17/Sep/18 1:02 PM,28/Oct/23 3:04 AM,17/Sep/18 1:17 AM,,,,,,v1.3.0,,,,,fabric-gossip,,,,0,,,,,,Since full support of private data reconciliation won't make it into v1.3 release we need to disable private data reconciliation in gossip side. Right after v1.3 version will be release we need to expose enable/disable configuration key switch into core.yaml.,,C0rWin,nirro,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-5093,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-5108,,,No,,Unset,No,,,"1|hzzqvj:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),C0rWin,nirro,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"14/Sep/18 9:09 AM;C0rWin; https://gerrit.hyperledger.org/r/26298;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Upgrade Test Compatibility 1.2 vs 1.3 NodeJs SDK, fabric-ca, fabric peers and orderers",FAB-12001,33756,,Test Task,Closed,FAB,Fabric,software,denyeart,,,High,Done,Ratnakar,scottz,scottz,14/Sep/18 5:13 AM,06/Nov/18 1:27 AM,28/Oct/23 3:04 AM,27/Sep/18 3:34 AM,,,,,,v1.3.0,,,,,fabric-quality,,,,0,Quality,SystemTestcase,,,,"This description was written in v.12 FAB-10161, which was then cloned to this FAB-12001 test task for v1.3. Simply reinterpret all 1.2 in the table below as the new target release (i.e. 1.3), and consider all the 1.1 as the old release (1.2).

 
||Integration
 Test Suite||Node.js SDK||Fabric (peer/orderer)||Fabric-CA|| Description of the testcase||
|1.2|1.2.2|1.2|*1.3*|Refer [#Case 1] below|
|1.2|1.2.2|*1.3*|1.2|Refer Case 2 below|
|1.2|1.2.2|*1.3*|*1.3*|Refer Case 3 below|
|1.2|*1.3*|*1.3*|*1.3*|Refer Case 4 below|

 

_+Pre-requisite+_:

1. pull the the fabric-peer / fabric-orderer /fabric-ca docker images with tag *1.2.0*

2. Generate the latest images on master branch of *fabric* and *fabric-ca* repo

At the time of this test image versions are as following

fabric Image version      : *amd64-1.3.0-snapshot-e6bdd2321*

fabric-ca Image version : *amd64-1.3.0-snapshot-8ecada3*

 
----
[#Case 1]
{code:java}
Nodejs Integration Test Suite at 1.2 , Node.js SDK at 1.2.2, Fabric is at 1.2 & Fabric-CA is at 1.3 (snapshot)

Step 1 : Clone the repo 
git clone https://github.com/hyperledger/fabric-sdk-node
cd fabric-sdk-node
git checkout release-1.2
(Default it points to release-1.1 branch)

Step 2: Install the node modules
npm install

Step 3: Commentout the following lines from build/tasks/test.js

//process.env.DOCKER_IMG_TAG = dockerImageTag;
//process.env.THIRDPARTY_IMG_TAG = thirdpartyImageTag;

please refer https://github.com/hyperledger/fabric-sdk-node/blob/release-1.1/build/tasks/test.js#L64-L65

Step 4: As part of this compatibility tests we wouldn't want to run the unit tests
Remove the unit test section (see following) from gulp task i.e, from build/tasks/test.js
https://github.com/hyperledger/fabric-sdk-node/blob/release-1.1/build/tasks/test.js#L121-L125

Step 5: Export the following environment varibles to let your docker-compose use the docker tags. (Make sure replace with the right TAG )
export DOCKER_IMG_TAG=:1.2.0
export DOCKER_IMG_CA_TAG=:amd64-1.3.0-snapshot-8ecada3
export THIRDPARTY_IMG_TAG=:0.4.10

Step 6: There needs a tweaking on the test/fixtures/docker-compose.yaml 
change the lines hyperledger/fabric-ca${DOCKER_IMG_TAG} to hyperledger/fabric-ca${DOCKER_IMG_CA_TAG}

Step 7: Execute the following command and make sure all the tests are passing now 

         ""gulp test""{code}
----
Case 2
{code:java}
Nodejs Integration Test Suite at 1.2 , Node.js SDK at 1.2.2, Fabric is at 1.3 & Fabric-CA is at 1.2

Step 1 : Clone the repo
git clone https://github.com/hyperledger/fabric-sdk-node
cd fabric-sdk-node
git checkout release-1.2
(Default it points to release-1.1 branch)

Step 2: Install the node modules
npm install

Step 3: Commentout the following lines from build/tasks/test.js

//process.env.DOCKER_IMG_TAG = dockerImageTag;
//process.env.THIRDPARTY_IMG_TAG = thirdpartyImageTag;

please refer https://github.com/hyperledger/fabric-sdk-node/blob/release-1.1/build/tasks/test.js#L64-L65

Step 4: As part of this compatibility tests we wouldn't want to run the unit tests
Remove the unit test section (see following) from gulp task i.e, from build/tasks/test.js
https://github.com/hyperledger/fabric-sdk-node/blob/release-1.1/build/tasks/test.js#L121-L125

Step 5: Export the following environment varibles to let your docker-compose use the docker tags. (Make sure replace with the right TAG )
export DOCKER_IMG_TAG=:amd64-1.3.0-snapshot-e6bdd2321
export DOCKER_IMG_CA_TAG=:1.2.0
export THIRDPARTY_IMG_TAG=:0.4.12

Step 6: replace the test/fixtures folder with test/fixtures folder of fabric-sdk-node master branch
        (Fabric 1.2 network needs all the required crypto/channel artifacts that are available in master branch) 

Step 7: There needs a tweaking on the test/fixtures/docker-compose.yaml 
change the lines hyperledger/fabric-ca${DOCKER_IMG_TAG} to hyperledger/fabric-ca${DOCKER_IMG_CA_TAG}

Step 8: Execute the following command and make sure all the tests are passing now 

         ""gulp test""
{code}
----
Case 3
{code:java}
Nodejs Integration Test Suite at 1.2 , Node.js SDK at 1.2.2, Fabric is at 1.3 & Fabric-CA is at 1.3 

Step 1 : Clone the repo
git clone https://github.com/hyperledger/fabric-sdk-node
cd fabric-sdk-node
git checkout release-1.2
(Default it points to release-1.1 branch)

Step 2: Install the node modules
npm install

Step 3: Commentout the following lines from build/tasks/test.js

//process.env.DOCKER_IMG_TAG = dockerImageTag;
//process.env.THIRDPARTY_IMG_TAG = thirdpartyImageTag;

please refer https://github.com/hyperledger/fabric-sdk-node/blob/release-1.1/build/tasks/test.js#L64-L65

Step 4: As part of this compatibility tests we wouldn't want to run the unit tests
Remove the unit test section (see following) from gulp task i.e, from build/tasks/test.js
https://github.com/hyperledger/fabric-sdk-node/blob/release-1.1/build/tasks/test.js#L121-L125

Step 5: Export the following environment varibles to let your docker-compose use the docker tags. (Make sure replace with the right TAG )
export DOCKER_IMG_TAG=:amd64-1.3.0-snapshot-e6bdd2321
export DOCKER_IMG_CA_TAG=:amd64-1.3.0-snapshot-8ecada3
export THIRDPARTY_IMG_TAG=:0.4.12

Step 6: replace the test/fixtures folder with test/fixtures folder of fabric-sdk-node master branch
        (Fabric 1.3 network needs all the required crypto/channel artifacts that are available in master branch. check if this step is really required ?)

Step 7: There needs a tweaking on the test/fixtures/docker-compose.yaml 
change the lines hyperledger/fabric-ca${DOCKER_IMG_TAG} to hyperledger/fabric-ca${DOCKER_IMG_CA_TAG}

Step 8: Execute the following command and make sure all the tests are passing now 

         ""gulp test""
{code}
----
Case 4:
{code:java}
Nodejs Integration Test Suite at 1.1 , Node.js SDK at 1.3, Fabric is at 1.3 & Fabric-CA is at 1.3

Step 1 : Clone the repo
git clone https://github.com/hyperledger/fabric-sdk-node
cd fabric-sdk-node 
git checkout release-1.2
(Default it points to release-1.1 branch)

Step 2: Install the node modules
npm install
make sure to use latest 1.3 node modules for the clients fabric-client and fabric-ca-client (As of this testing used the version: 1.3.0-snapshot.58)
rm -rf node_modules/fabric-c*
npm install fabric-client@1.3.0-snapshot.58
npm install fabric-ca-client@1.3.0-snapshot.59

Step 3: Commentout the following lines from build/tasks/test.js

//process.env.DOCKER_IMG_TAG = dockerImageTag;
//process.env.THIRDPARTY_IMG_TAG = thirdpartyImageTag;

please refer https://github.com/hyperledger/fabric-sdk-node/blob/release-1.1/build/tasks/test.js#L64-L65

Step 4: As part of this compatibility tests we wouldn't want to run the unit tests
Remove the unit test section (see following) from gulp task i.e, from build/tasks/test.js
https://github.com/hyperledger/fabric-sdk-node/blob/release-1.1/build/tasks/test.js#L121-L125

Step 5: Export the following environment varibles to let your docker-compose use the docker tags. (Make sure replace with the right TAG )
export DOCKER_IMG_TAG=:amd64-1.3.0-snapshot-e6bdd2321 
export DOCKER_IMG_CA_TAG=:amd64-1.3.0-snapshot-8ecada3 
export THIRDPARTY_IMG_TAG=:0.4.12 

Step 6: replace the test/fixtures folder with test/fixtures folder of fabric-sdk-node master branch (Fabric 1.3 network needs all the required crypto/channel artifacts that are available in master branch. check if this step is really required ?)

Step 7: There needs a tweaking on the test/fixtures/docker-compose.yaml 
change the lines hyperledger/fabric-ca${DOCKER_IMG_TAG} to hyperledger/fabric-ca${DOCKER_IMG_CA_TAG}

Step 8: Execute the following command and make sure all the tests are passing now 

         ""gulp test""
{code}",,kchristidis,nagap,n-horiguchi,Ratnakar,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-931,,,,FAB-12721,,FAB-10161,,,,,,,,,,,,,FABN-945,,,,,,"21/Sep/18 11:01 PM;Ratnakar;case1.txt;https://jira.hyperledger.org/secure/attachment/15858/case1.txt","21/Sep/18 10:56 PM;Ratnakar;case2.txt;https://jira.hyperledger.org/secure/attachment/15855/case2.txt","21/Sep/18 10:56 PM;Ratnakar;case3.txt;https://jira.hyperledger.org/secure/attachment/15856/case3.txt","21/Sep/18 10:56 PM;Ratnakar;case4.txt;https://jira.hyperledger.org/secure/attachment/15857/case4.txt","14/Sep/18 5:13 AM;scottz;complete_logs.txt;https://jira.hyperledger.org/secure/attachment/15810/complete_logs.txt",,,,,,,,,,,,,,,Unset,,,FAB-10085,,,Manual,,,,,,"1|hzzqvz:",,,,Unset,,,,,,Unset,,,,,,Fail,Most problems found were due to running 1.2 sdk client tests with fabric 1.3 which does not have the old deprecated eventhub code anymore (so the test failures are expected). Ratnakar is creating a bug to track other failures that need designer investigation.,System Test,,,kchristidis,nagap,n-horiguchi,Ratnakar,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"21/Sep/18 11:04 PM;Ratnakar;||Integration
 Test Suite||Node.js SDK||Fabric (peer/orderer)||Fabric-CA||logs||Result||
|1.2|1.2.2|1.2|*1.3*| [^case1.txt] |*2 tests failed* with a similar root cause|
|1.2|1.2.2|*1.3*|1.2| [^case2.txt] |*14+ tests failed* most of them are Evenhub related|
|1.2|1.2.2|*1.3*|*1.3*| [^case3.txt] |*16+ tests failed* same reasons as above two cases combined|
|1.2|*1.3*|*1.3*|*1.3*| [^case4.txt] |tests are failed with exit code 1|

Please note that *1.3* referred in the above is *_amd64-1.3.0-snapshot-<commit>_*
 More details to follow
;;;","21/Sep/18 11:31 PM;Ratnakar;*Case 1*:

Tests are failing due to the error message (*Authorization failure*) change in Fabric CA
 
{code:java}
not ok 828 Got expected error to enroll user using a caName in another org. Error: Enrollment failed with errors [[\{""code"":20,""message"":""Authentication failure""}]]
{code}
 

*Case 2:* 

Most of the tests are failing due to eventhub
 EvenHub support has been removed in Fabric *V1.3* which causes most of the failures
{code:java}
not ok 736 Failed transaction ::undefined
not ok 737 Error: Failed transaction ::undefined at Promise.all.then.catch (/Users/ratnakar/workspace/go/src/github.com/hyperledger/fabric-sdk-node/test/integration/invoke.js:293:11) at <anonymous>
not ok 738 Failed to invoke transaction chaincode
not ok 749 Failed transaction ::undefined
not ok 750 Error: Failed transaction ::undefined at Promise.all.then.catch (/Users/ratnakar/workspace/go/src/github.com/hyperledger/fabric-sdk-node/test/integration/invoke.js:293:11) at <anonymous>
not ok 845 Test failed with TypeError: Cannot read property 'registerBlockEvent' of null
not ok 846 transaction proposal was bad
not ok 847 transaction proposal was bad
not ok 848 Failed to send invoke Proposal or receive valid response. Response null or status is not 200. exiting...
not ok 849 Test failed with Error: Failed to send invoke Proposal or receive valid response. Response null or status is not 200. exiting...
not ok 851 Test failed with Error: 2 UNKNOWN: access denied: channel [adminconfig] creator org [Org1MSP]
not ok 853 Failed to find our channel in the result list
not ok 867 TypeError: Cannot read property 'name' of undefined
{code}
 

*Case 3:* 

The errors are due to the upgrade of images in both *Fabric* and *Fabric-ca* (case 1 + case 2)
{code:java}
not ok 533 Expecting a rejected promise from the 2nd transaction should be invalid
not ok 736 Failed transaction ::undefined
not ok 737 Error: Failed transaction ::undefined at Promise.all.then.catch (/Users/ratnakar/workspace/go/src/github.com/hyperledger/fabric-sdk-node/test/integration/invoke.js:293:11) at <anonymous>
not ok 738 Failed to invoke transaction chaincode
not ok 749 Failed transaction ::undefined
not ok 750 Error: Failed transaction ::undefined at Promise.all.then.catch (/Users/ratnakar/workspace/go/src/github.com/hyperledger/fabric-sdk-node/test/integration/invoke.js:293:11) at <anonymous>
not ok 827 Got expected error to enroll user using a caName in another org. Error: Enrollment failed with errors [[{""code"":20,""message"":""Authentication failure""}]]
not ok 845 Test failed with TypeError: Cannot read property 'registerBlockEvent' of null
not ok 846 transaction proposal was bad
not ok 847 transaction proposal was bad
not ok 848 Failed to send invoke Proposal or receive valid response. Response null or status is not 200. exiting...
not ok 849 Test failed with Error: Failed to send invoke Proposal or receive valid response. Response null or status is not 200. exiting...
not ok 851 Test failed with Error: 2 UNKNOWN: access denied: channel [adminconfig] creator org [Org1MSP]
not ok 853 Failed to find our channel in the result list
not ok 867 TypeError: Cannot read property 'name' of undefined
{code}
 

*Case 4:*
 Unable to execute the tests when upgraded SDK to latest along with Fabric and Fabric CA.
{code:java}
test/typescript/test.ts(42,2): error TS2305: Module '""/Users/ratnakar/workspace/go/src/github.com/hyperledger/fabric-sdk-node/node_modules/fabric-client/types/index""' has no exported member 'EventHub'.
test/typescript/test.ts(392,5): error TS2322: Type '{ proposalResponses: ProposalResponse[]; proposal: Proposal; admin: boolean; }' is not assignable to type 'TransactionRequest'.
  Object literal may only specify known properties, and 'admin' does not exist in type 'TransactionRequest'.
[19:09:45] gulp-debug: fabric-client/lib/User.js
[19:09:45] 'compile' errored after 5.32 s
[19:09:45] ^[[31mError^[[39m in plugin ""^[[36mgulp-shell^[[39m""
Message:
    Command `npm run compile` failed with exit code 2

....
.....

[19:09:50] 'test' errored after 13 s
[19:09:50] ^[[31mError^[[39m in plugin ""^[[36mgulp-shell^[[39m""
Message:
    Command `./node_modules/nyc/bin/nyc.js gulp run-test` failed with exit code 1
{code}
  The error seems to be coming from *TypeScript* than the Javascript.


After deleteing the file *test/typescript/test.ts* , I could run the tests and I see the following failures and most of these failures are due to the Evenhub/CA return message etc.,

{code}
not ok 481 TypeError: FabricCAClient is not a constructor
not ok 523 Expecting a rejected promise from the 2nd transaction should be invalid
not ok 724 Failed to enroll user 'admin'. TypeError: client.newEventHub is not a function
not ok 725 Error: Failed to enroll user 'admin'. TypeError: client.newEventHub is not a function at e2eUtils.tlsEnroll.then.then.then (/Users/ratnakar/workspace/go/src/github.com/hyperledger/fabric-sdk-node/test/integration/invoke.js:199:9) at <anonymous>
not ok 726 Error: Error: Failed to enroll user 'admin'. TypeError: client.newEventHub is not a function at e2eUtils.tlsEnroll.then.then.then (/Users/ratnakar/workspace/go/src/github.com/hyperledger/fabric-sdk-node/test/integration/invoke.js:199:9) at <anonymous> at e2eUtils.tlsEnroll.then.then.then.then (/Users/ratnakar/workspace/go/src/github.com/hyperledger/fabric-sdk-node/test/integration/invoke.js:301:9) at <anonymous>
not ok 727 Failed to invoke transaction chaincode
not ok 731 Failed to enroll user 'admin'. TypeError: client.newEventHub is not a function
not ok 732 Error: Failed to enroll user 'admin'. TypeError: client.newEventHub is not a function at e2eUtils.tlsEnroll.then.then.then (/Users/ratnakar/workspace/go/src/github.com/hyperledger/fabric-sdk-node/test/integration/invoke.js:199:9) at <anonymous>
not ok 733 Error: Error: Failed to enroll user 'admin'. TypeError: client.newEventHub is not a function at e2eUtils.tlsEnroll.then.then.then (/Users/ratnakar/workspace/go/src/github.com/hyperledger/fabric-sdk-node/test/integration/invoke.js:199:9) at <anonymous> at e2eUtils.tlsEnroll.then.then.then.then (/Users/ratnakar/workspace/go/src/github.com/hyperledger/fabric-sdk-node/test/integration/invoke.js:301:9) at <anonymous>
not ok 801 Got unexpected error when testing setUserContext with caName. Error: user.getName is not a function
not ok 807 Got expected error to enroll user using a caName in another org. Error: Enrollment failed with errors [[{""code"":20,""message"":""Authentication failure""}]]
not ok 825 Test failed with TypeError: client.getEventHub is not a function
not ok 826 transaction proposal was bad
not ok 827 transaction proposal was bad
not ok 828 Failed to send invoke Proposal or receive valid response. Response null or status is not 200. exiting...
not ok 829 Test failed with Error: Failed to send invoke Proposal or receive valid response. Response null or status is not 200. exiting...
not ok 831 Test failed with Error: 2 UNKNOWN: access denied: channel [adminconfig] creator org [Org1MSP]
not ok 833 Failed to find our channel in the result list
not ok 847 Error: 2 UNKNOWN: access denied: channel [adminconfig] creator org [Org1MSP]
{code};;;","24/Sep/18 10:43 PM;Ratnakar;[~harrisob@us.ibm.com]  I see root cause for almost all the failures are due to the Evenhub deprication in *Fabric 1.3*. Could you please take a look at the above analysis and provide your comments if any.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Comment typo in /protos/peer/configuration.proto,FAB-12002,33759,,Bug,Closed,FAB,Fabric,software,denyeart,,,Low,Done,manxiaqu,manxiaqu,manxiaqu,14/Sep/18 12:09 PM,21/Sep/18 10:02 PM,28/Oct/23 3:04 AM,21/Sep/18 10:02 PM,,,,,,v1.3.0,,,,,,,,,0,,,,,,"There is an comment typo of message ACLs in /protos/peer/configuration.proto, fixs it from ""{color:#808080}encpasulates{color}"" => ""{color:#808080}encapsulates{color}"". And re-generate go files",,manxiaqu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzqwf:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),manxiaqu,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"14/Sep/18 12:29 PM;manxiaqu;https://gerrit.hyperledger.org/r/#/c/26299/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Pending envelope may never be cut into block ,FAB-12003,33763,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,landleany,guoger,guoger,14/Sep/18 5:13 PM,02/Oct/18 11:05 PM,28/Oct/23 3:04 AM,02/Oct/18 11:05 PM,v1.1.0,v1.2.0,,,,v1.3.0,v1.4.0,,,,fabric-orderer,,,,0,,,,,,"In [this case|https://github.com/hyperledger/fabric/blob/release-1.2/orderer/common/blockcutter/blockcutter.go#L62-L63], batch timer should still take effect and cut pending envelope into block if it fires.

Basically, this test should pass (for solo), and the same goes to kafka:
{code:java}
func TestPendingMsgCutByTimeout(t *testing.T) {
	support := &mockmultichannel.ConsenterSupport{
		Blocks:          make(chan *cb.Block),
		BlockCutterVal:  mockblockcutter.NewReceiver(),
		SharedConfigVal: &mockconfig.Orderer{BatchTimeoutVal: 500 * time.Millisecond},
	}
	defer close(support.BlockCutterVal.Block)

	bs := newChain(support)
	wg := goWithWait(bs.main)
	defer bs.Halt()

	syncQueueMessage(testMessage, bs, support.BlockCutterVal)
	support.BlockCutterVal.CutAncestors = true
	syncQueueMessage(testMessage, bs, support.BlockCutterVal)

	select {
	case <-support.Blocks:
	case <-time.After(time.Second):
		t.Fatalf(""Expected first block to be cut because of batch size limit reached but did not"")
	}

	select {
	case <-support.Blocks:
	case <-time.After(time.Second):
		t.Fatalf(""Expected second block to be cut because of batch timer expiration but did not"")
	}

	bs.Halt()
	select {
	case <-time.After(time.Second):
		t.Fatalf(""Should have exited"")
	case <-wg.done:
	}
}
{code}",,denyeart,guoger,jyellick,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzqwv:",,,,Unset,Unset,,,,,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,guoger,jyellick,kchristidis,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.3,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"14/Sep/18 5:13 PM;guoger;https://gerrit.hyperledger.org/r/c/26276/;;;","18/Sep/18 10:51 PM;guoger;[~kchristidis] I'm curious should this be cherry-picked to 1.1.x and 1.2.x? ;;;","19/Sep/18 2:51 AM;kchristidis;It should!;;;","02/Oct/18 2:36 AM;denyeart;[~jyellick] Since Kostas is out... could you review the CR? what's your opinion of whether this should go into release-1.3?;;;","02/Oct/18 3:53 AM;jyellick;Merged for v1.4, I do think it's worth cherry-picking back to v1.3 definitely, probably v1.1.x and v1.2.x as well.;;;","02/Oct/18 12:07 PM;denyeart;[~jyellick] [~kchristidis]

Ok, I've cherry picked to release-1.3: [https://gerrit.hyperledger.org/r/#/c/26713/]

I'm not aggressively backporting to prior releases, but feel free to do so if this is deemed important by the orderer experts.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,
Handle edge case where pending message may never be cut into a block,FAB-12004,33764,32551,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,adarshsaraf123,guoger,guoger,14/Sep/18 5:31 PM,10/Oct/18 6:10 AM,28/Oct/23 3:04 AM,10/Oct/18 6:10 AM,,,,,,,,,,,,,,,0,raft,,,,,Similar to FAB-12003.,,adarshsaraf123,guoger,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzqx3:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),adarshsaraf123,guoger,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"16/Sep/18 5:15 PM;adarshsaraf123;[https://gerrit.hyperledger.org/r/#/c/26104/]
Fixed with the above CR.;;;","10/Oct/18 6:10 AM;kchristidis;Good eye, thank you both!;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
samples setup issue,FAB-12005,33765,,Documentation,Closed,FAB,Fabric,software,denyeart,,,Low,Won't Do,,zhongli,zhongli,14/Sep/18 5:45 PM,23/Jan/20 7:29 AM,28/Oct/23 3:04 AM,23/Jan/20 7:29 AM,,,,,,,,,,,fabric-samples,,,,0,stale-item,,,,,"Not able to curl to http://bit.ly/2ysbOFE

$ curl -sSL http://bit.ly/2ysbOFE | bash -s 1.2.0
curl: (56) Recv failure: Connection reset by peer

But if changed to https, it is ok, though a bash script warning is reported:

$ curl -sSL https://bit.ly/2ysbOFE | bash -s 1.2.0
bash: line 181: [: too many arguments",,sykesm,zhongli,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzqxb:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,zhongli,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 7:29 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As a Fabric infrastructure (committing peer) developer, I would like to add a capability for token management enablement in a channel",FAB-12006,33781,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wenjian,elli-androulaki,elli-androulaki,14/Sep/18 9:22 PM,03/Dec/19 3:04 AM,28/Oct/23 3:04 AM,30/Oct/18 6:58 AM,,,,,,,,,,,fabric-crypto,fabric-peer,,,0,,,,,,This story adds a new capability (V1_4_FABTOKEN_EXPERIMENTAL) for token transaction.,,elli-androulaki,wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11266,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-11144,,,No,,Unset,No,,,"1|hzzqy7:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),elli-androulaki,wenjian,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"04/Oct/18 10:01 AM;wenjian;Add V1_4_FABTOKEN_EXPERIMENTAL application capability for FabToken

CR: https://gerrit.hyperledger.org/r/#/c/26762/;;;","09/Oct/18 11:25 PM;wenjian;Updated tx validator to check FabToken capability in this patch set :

https://gerrit.hyperledger.org/r/#/c/26348/17..18;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Developing Applications topic: Application Architecture,FAB-12007,33782,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,odowdaibm,odowdaibm,odowdaibm,14/Sep/18 9:23 PM,06/Dec/18 11:36 PM,28/Oct/23 3:04 AM,06/Dec/18 11:36 PM,Future,,,,,v1.4.0,,,,,fabric-docs,,,,0,,,,,,A topic to describe the commercial paper application and data architecture,,odowdaibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Yes,Unset,,FAB-11459,,,No,,Unset,No,,,"1|hzwtg7:",,,,No,Unset,,,(Please add steps to reproduce),,No,,,,,,Unset,,Unset,,(Please add usage information),odowdaibm,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Ledger_lte daily tests failing in couchdb due to vary in number of Tx than expected.,FAB-12008,33786,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,AdnanChoudhury,sambhavdutt,sambhavdutt,14/Sep/18 11:04 PM,19/Mar/19 8:13 PM,28/Oct/23 3:04 AM,02/Oct/18 8:28 PM,v1.3.0,,,,,v1.3.0,,,,,fabric-quality,,,,0,ci-failure,,,,,"The daily job *fabric-test-daily-lte-master-x86_64* is failing in ledger_lte tests, perf_couchdb


{code:java}
ledger_lte.perf_couchdb.test_FAB_3875_VaryBatchSize 

AssertionError: varyBatchSize for CouchDB performance test failed.  Please check the logfile output_VaryBatchSize_couchdb.log for more details.

 logfile = open(""output_VaryBatchSize_couchdb.log"", ""w"")
        returncode = subprocess.call(
                ""./runbenchmarks.sh -f parameters_couchdb_daily_CI.sh ""
                ""varyBatchSize"", shell=True, stderr=subprocess.STDOUT,
                stdout=logfile, cwd=tool_directory)
        logfile.close()
        self.assertEqual(returncode, 0, msg=""varyBatchSize for CouchDB ""
                ""performance test failed.

.
.
ledger_lte.perf_couchdb.test_FAB_3876a_VaryNumWritesInEachTx (from pytest) 

AssertionError: varyNumWritesPerTx for CouchDB performance test failed.  Please check the logfile output_VaryNumWritesPerTx_couchdb.log for more details.

        logfile = open(""output_VaryNumWritesPerTx_couchdb.log"", ""w"")
        returncode = subprocess.call(
                ""./runbenchmarks.sh -f parameters_couchdb_daily_CI.sh ""
                ""varyNumWritesPerTx"", shell=True, stderr=subprocess.STDOUT,
                stdout=logfile, cwd=tool_directory)
        logfile.close()
        self.assertEqual(returncode, 0, msg=""varyNumWritesPerTx for CouchDB ""
                ""performance test failed.
ledger_lte.py:343: AssertionError
{code}

*Build Logs*

https://jenkins.hyperledger.org/view/Daily/job/fabric-test-daily-lte-master-x86_64/25/testReport/ledger_lte/perf_couchdb/test_FAB_3875_VaryBatchSize/

https://jenkins.hyperledger.org/view/Daily/job/fabric-test-daily-lte-master-x86_64/25/testReport/ledger_lte/perf_couchdb/test_FAB_3876a_VaryNumWritesInEachTx/
",,AdnanChoudhury,rameshthoomu,sambhavdutt,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,944adf2d5c96db22ad6cb54b3c9e7cfdb5519bd4,Unset,No,,,"1|hzzqyf:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),AdnanChoudhury,rameshthoomu,sambhavdutt,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"29/Sep/18 5:44 AM;sambhavdutt;The ledger lte tests have been successful on several counts. The test is failing due to insufficient memory space on the Jenkins worker node.;;;","02/Oct/18 8:32 PM;sambhavdutt;The ledger lte tests have been successful in the perf_couchdb and perf_goleveldb tests.
 The test is displays a fail due to insufficient memory space on the Jenkins worker node.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade go version to 1.10.4,FAB-12010,33788,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,rameshthoomu,rameshthoomu,14/Sep/18 11:23 PM,18/Sep/18 8:59 PM,28/Oct/23 3:04 AM,18/Sep/18 5:05 AM,v1.3.0,,,,,v1.3.0,,,,,,,,,0,,,,,,Upgrade go version to 1.10.4,,rameshthoomu,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABB-99,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzqyv:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rameshthoomu,scottz,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"18/Sep/18 11:58 AM;rameshthoomu;This FAB is based on the change pushed to baseimage https://jira.hyperledger.org/browse/FABB-99;;;","18/Sep/18 8:59 PM;scottz;https://gerrit.hyperledger.org/r/#/c/26309/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
As a token infrastructure developer (peer) I would like to bind TokenTxProcessor with the actual TMS implementation,FAB-12011,33790,32177,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,elli-androulaki,elli-androulaki,14/Sep/18 11:27 PM,12/Jun/20 12:31 AM,28/Oct/23 3:04 AM,14/Sep/18 11:28 PM,,,,,,,,,,,fabric-crypto,,,,0,,,,,,Implementation of local interfaces defined at TokenTxProcessor to represent TMS using a TxSimulator-based implementation of the ledger component defined in the previous JIRA. ,,elli-androulaki,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11942,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwqfm:l",,,,Unset,Unset,To Do,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),elli-androulaki,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
As a token infrastructure (peer) developer I would like to respond to prover peer requests with a real signature,FAB-12012,33792,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,wenjian,elli-androulaki,elli-androulaki,15/Sep/18 12:06 AM,12/Dec/18 4:12 AM,28/Oct/23 3:04 AM,14/Nov/18 6:28 AM,,,,,,,,,,,,,,,0,fabtoken,,,,,Implementation of prover peer signer using peer's local MSP (signing identity).,,elli-androulaki,wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12013,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-11149,,,No,,Unset,No,,,"1|hzzqzr:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),elli-androulaki,wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"25/Sep/18 5:05 PM;elli-androulaki;This is covered by FAB-12013.;;;","26/Sep/18 11:07 PM;wenjian;CR: [https://gerrit.hyperledger.org/r/#/c/26646/|https://gerrit.hyperledger.org/r/#/c/26493/];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
As a token infrastructure (prover peer) developer I want to enable prover peer grpc service at peer setup time,FAB-12013,33793,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wenjian,elli-androulaki,elli-androulaki,15/Sep/18 12:10 AM,03/Dec/19 3:03 AM,28/Oct/23 3:04 AM,08/Jan/19 11:00 PM,,,,,,,,,,,fabric-token,,,,0,fabtoken,,,,,"Enable prover peer grpc service.

Bind the setup of the prover peer functionality and of the grpc server to peer setup.",,elli-androulaki,wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12012,FAB-11368,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-11149,,,No,,Unset,No,,,"1|hzzqzz:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),elli-androulaki,wenjian,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"24/Sep/18 11:29 AM;wenjian;CR: https://gerrit.hyperledger.org/r/#/c/26493/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Log warning to peer when ""no matching index found"" warning comes from couchdb queries",FAB-12014,33795,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,chris.elder,denyeart,denyeart,15/Sep/18 12:56 AM,24/Sep/18 12:40 PM,28/Oct/23 3:04 AM,24/Sep/18 12:40 PM,,,,,,v1.1.2,v1.2.1,v1.3.0,,,fabric-ledger,,,,0,,,,,,"Currently the warning is only seen in peer logs if couchdb debug is enabled.

Peer should log a warning without having to enable couchdb debug.

The warning to look for and report is:

""warning"":""no matching index found, create an index to optimize query time""",,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzr0f:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,release-1.1,main,release-1.2,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"24/Sep/18 5:00 AM;denyeart;[https://gerrit.hyperledger.org/r/#/c/26317/] - merged for v1.3 into master.

[https://gerrit.hyperledger.org/r/#/c/26487/] - release-1.1 merged.

[https://gerrit.hyperledger.org/r/#/c/26486/] - release-1.2 merged.

 ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Enable processing of Type B config updates which takes care of Options,FAB-12015,33798,32830,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,C0rWin,C0rWin,C0rWin,15/Sep/18 8:21 AM,19/Oct/18 3:42 AM,28/Oct/23 3:04 AM,19/Oct/18 3:42 AM,,,,,,v1.4.0,,,,,fabric-orderer,,,,0,,,,,,"Configuration transaction of **Type B** is the one which changes parameters related to Raft replica set and the algorithm parameters, i.e.:

{code}
// FSMConfig enumerates the configuration options required for etcd/raft FSM.
message FSMConfig {
	// specified in miliseconds
	uint64 tick_interval = 1;

	uint32 election_tick = 2;
	uint32 heartbeat_tick = 3;
	uint32 max_inflight_msgs = 4;
	uint64 max_size_per_msg = 5;
}
{code}

namely 

{code}
    SampleDevModeEtcdRaft:
        <<: *ChannelDefaults
        Orderer:
            <<: *OrdererDefaults
            OrdererType: etcdraft
            EtcdRaft:
                Consenters:
                    - Host: 127.0.0.1
                      Port: 7050
                      ClientTLSCert: etcdraft/tls-client-1.pem
                      ServerTLSCert: etcdraft/tls-client-1.pem
{code}

currently these updates is not supported as per code in `chain.go`:

{code}
		// ignoring the read set for now
		// check only if the ConsensusType is updated in the write set
		if ordererConfigGroup, ok := configUpdate.WriteSet.Groups[""Orderer""]; ok {
			if _, ok := ordererConfigGroup.Values[""ConsensusType""]; ok {
				return errors.Errorf(""updates to ConsensusType not supported currently"")
			}
		}
		return nil
{code}

There is a need to enable such updates and at the first stage those updates will take place only after OSN reboot as per discussion in comments for FAB-11590.

**NOTE**: Update of consenters or changes in replica set still not supported.",,C0rWin,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12492,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzr0v:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),C0rWin,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"15/Sep/18 8:38 AM;C0rWin;https://gerrit.hyperledger.org/r/26324;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Adding a new orderer node to an ordering cluster - discussion,FAB-12016,33806,34813,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,16/Sep/18 7:16 PM,22/Jan/19 8:19 AM,28/Oct/23 3:04 AM,22/Jan/19 8:19 AM,,,,,,,,,,,,,,,0,,,,,,"Currently, in the kafka orderer type, adding a new OSN (ordering service node) is straight forward - just configure it to point to the right kafka cluster, and it'll pull transactions from kafka, and cut the blocks as needed.

With the introduction of the etcdraft ordering node type, we have a new type of setup of ordering nodes - a clustered ordering service: 
 * Ordering service nodes now communicate among themselves, and authenticate each other with mutual TLS.
 * Ordering nodes can join, and leave the cluster via channel configuration transactions that modify the consenter membership set.

The 2 facts above, combined with the fact below - make introduction of new OSNs to an existing cluster somewhat challenging:
 * Ordering nodes are all given a genesis block containing the initial configuration of the system channel.

An OSN that joins the cluster, may not be able to authenticate any of the remaining cluster members, because their certificates may have completely changed (consider a cluster in which each OSN's company rotates its certificate on a timely basis, say - once every 3 months, and the certificate expires after 100 days. ) and thus it cannot replicate the blocks in the consensus algorithm way, and needs some support to get to the latest config block which authorizes the cluster members, and also - it needs to know in which channels it is a member of, assuming we dont want all OSNs to contain all chains. 

I see 3 approaches to this:
 # Have the joining node start in a special ""boot from net"" mode in which it pulls all the blocks of the system channel from genesis until the last block, and then inspects the channels that exist in the system channel, and afterwards - pulls all the blocks from genesis to the latest config block for each channel, and then start servicing requests and connect to the cluster.
 In order to safely authenticate the cluster members, the node would need the latest TLS CA certificates of the cluster members, and their IP addresses (as these can change too with time), as well as the enrollment CAs of the cluster, to verify the signature on the block (if the TLS CAs are completely unrelated to enrollment CAs).
 # Have the joining node *start from the last configuration of the system channel*, the IP addresses of the ordering nodes, and possibly - root TLS CAs of the ordering nodes (since they can change via channel updates), and the enrollment CAs of the ordering nodes, in case the system channel last config is outdated and the channel CAs have changed, and then:
 Pull all blocks from genesis to the last config block for each channel, and afterwards start servicing requests and connect to the cluster.
 # Have the newly joined OSN receive a file system snapshot of the ledger data containing either all chains it needs ( [~manish-sethi] - I don't think this is doable - is it? because the index of the ledger contains references to all the chains, right?) or all the chains, and then it can immediately serve requests after its launch.
 To create such a snapshot, we'll need to either shut down an existing OSN instance, copy aside the files, and then boot it up again, or have some admin API which snapshots its index folder and starts from a new ""block"" file for all chains ( [~manish-sethi] - how hard is it to do that? ).

Approaches 1 and 2 are very similar, with the only difference being that in approach 2 - we don't need to pull the entire system channel as we don't need it, however - I'm unsure to what extend t current bootstrap-related code is flexible and can support such a change. On the other hand - once we have archive and pruning, we can't use approach 1 at all, unless we decide to never prune the system channel (which might appear like it makes sense, however - this exposes the consortium's history of past business relations forever)

 

Approaches 1 and 2 both seem to me like having 1 very big downside: Pulling all the channels is simply inefficient and very, very slow. 
 If a chain has accumulated a large amount of data, pulling the blocks would take a very long time, and during that time - the OSN is not serviceable. 

I believe that it is a reasonable assumption that:
 * Most data a block transactions is PEM encoded certificates
 * Most data in transactions is text, or hashed text

And therefore - if we take an entire tarball of a ledger of an OSN, and then compress it with gzip - it will be significantly cheaper to download out of band, than to send the blocks 1 by 1 via the Deliver API. 

 

In the [design google doc|https://docs.google.com/document/d/138Brlx2BiYJm5bzFk_B0csuEUKYdXXr7Za9V7C76dwo/edit#] it is said we'll use the first approach, and I have a tendency to think that it's too early to introduce the maintenance overhead of the 3rd approach to most users, but *we should anyway strive to implement the 3rd approach as well*, as I'm sure that advanced users would prefer to use it over the 1st/2nd approaches because of the reduced time, and also - the first 2 approaches involve a considerable amount of logic and testing, and this endangers the release of the Raft OSN feature.

  I shall list here how I think the flow of the 1st approach should work:

The prerequisite to add a new OSN, is to first update all channels it belongs to, with a new consenter, so that:
 * The other nodes would be ready to connect to it once it is ready
 * The new node will know which channels it is part of.

I believe this is needed, because although an ordering service node belongs to some organization, it doesn't mean that all ordering service nodes of that organization, serve all channels. Therefore, we can have a single organization that participates in 100 channels but in practice has 5 ordering service nodes each servicing 20 channels. 
 If it wants to add a new OSN, it doesn't mean that OSN should pull blocks from 100 channels.
 * Genesis method: *cluster*
 There are currently 2 ways to bootstrap an OSN:
 ** Provisional: The OSN creates a genesis block out of the [configtx.yaml|https://github.com/hyperledger/fabric/blob/release-1.2/sampleconfig/configtx.yaml] file.
 ** File: using a genesis block. This is used for production, and just means we bootstrap out of an existing genesis block.

We shall introduce a new genesis method which would be similar to the file method, with an addition of metadata:
{code:java}
# Genesis file: The file containing the genesis block to use when
# initializing the orderer system channel and GenesisMethod is set to
# ""file"". Ignored if GenesisMethod is set to ""provisional"".
GenesisFile: genesisblock 
# GenesisMetadata defines additional metadata to be used by a genesis method which isn't ""provisional"" or ""file""
GenesisMetadata: netboot.yaml
{code}
 

The layout of the *netboot.yaml*  file will have the following properties:
 * OSN1:
 ** Endpoint: osn1.org1.com
 ** TLS Certificate, or TLS CA certificate
 ** Optionally, enrollment CA certificate
 * ...
 * OSN_n: ...

When the newly joined OSN boots, if the bootstrap method will be *cluster*, it will:
 #  Reach out to a majority of OSNs and figure out the latest system channel height and some OSN that possesses it.
 # Pull the system channel from that OSN via a Deliver client, independent of consensus implementation.
 # For all channels (retrieved from the system channel):
 ## Attempt to retrieve the last config block from some OSN in the cluster.
 ## If it gets an access denied, it means its organization isn't in the channel.
 ## If it gets a ""not found"" - it means the current OSN it is trying, isn't in the channel, so it should try a different OSN.
 ## Else, it retrieves it and then checks if its TLS certificate is in the consenters set. (*)
 ## If it is in the consenter set of the given channel, it knows it should pull all the blocks of the channel, starting from the genesis block.

*(*)* This is a consensus specific operation, but I think its a necessary evil because we encode the metadata in a consensus oblivious way.

 

Opinions?

 

[~jyellick] [~kchristidis] [~C0rWin] [~mastersingh24] [~sykesm] [~guoger]",,grapebaba,guoger,jyellick,kchristidis,warm3snow,yacovm,ymlbright,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzr2n:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),grapebaba,guoger,jyellick,kchristidis,warm3snow,yacovm,ymlbright,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"16/Sep/18 9:10 PM;kchristidis;Thanks for the write-up. This one's tricky. For the {{cluster}} bootstrap method are we basically instructing the new OSN to use the info contained in the provided genesis block, but overwrite the consenter set info contained therein, with that of {{netboot.yml}}?;;;","16/Sep/18 9:51 PM;yacovm;{quote}For the {{cluster}} bootstrap method are we basically instructing the new OSN to use the info contained in the provided genesis block, but overwrite the consenter set info contained therein, with that of {{netboot.yml}}?
{quote}
Yep - all cluster members, regardless of what channel they are in - have the same system channel.
 After we fetch the system channel, we fetch the channels themselves, selectively - from the various nodes in the consenter set in the YAML file, and afterwards we resume normal operation.


That said - we need somehow to prevent the OSN from repeating this operation again in case it crashes.
 # One way of doing it, would be to say that once an OSN has completed its catching up with the cluster, the admin would change its bootstrap method to file.
 # Another way, more tricky - but is easier in terms of administration would be, to have the newly joined OSN:
 ## At startup - check if it has only a genesis block in its system chain. If yes - then wipe out the other chains and go to step (2.2) (below).
 else, it has more than the genesis block in its system chain, and in that case - it just acts like an OSN that has been booted with a *file* bootstrap method.
 ## Write the system channel blocks to a temporary file, instead of appending to the system chain.
 ## Create the channel ledgers and pull them as described in this JIRA
 ## Once all chains are fetched up to the last configuration block, we write the system chain from the temporary file into the actual system chain.
      Now, if the OSN has crashed during this operation, when it boots - it will fetch everything from scratch.
      The advantage of this, is that it's a ""fire and forget"" method - the administrator doesn't need to do anything after the initial bootstrapping, and after a successful fetching of all chains and writing of the system chain, the administrator doesn't need to change the configuration of the OSN to be with a *file* method.
The only corner case is that if the OSN crashes at the last stage where it appends the system channel to its ledger, then we're left with an OSN that is stuck. I think that this corner case can be just documented and be said that administrators need to make sure that if the OSN crashed at that stage - then they need to intervene, and in practice - the chances of this happening are very slim, as the data is already available locally.;;;","17/Sep/18 4:32 AM;kchristidis;Got it. I get the proposal. Let's let it simmer for a few days, in case we can come up with a simpler approach. If not, what you describe here should work. 

 
{quote}3. Create the channel system chains
{quote}
PS: I take it you mean the channel chains here, right?;;;","17/Sep/18 5:02 AM;yacovm;Yes;;;","17/Sep/18 6:53 AM;yacovm;Another aspect this writeup doesn't cover, is how do you add an existing node to an existing channel. I would say that long term we should support this, but i don't think it's an interesting use case for v1.4 release, while adding a new node is crucial from obvious reasons.;;;","18/Sep/18 4:06 AM;jyellick;A few thoughts:
{quote}Currently, in the kafka orderer type, adding a new OSN (ordering service node) is straight forward - just configure it to point to the right kafka cluster, and it'll pull transactions from kafka, and cut the blocks as needed.
{quote}
I would point that in actually Kafka suffers from this very issue, in that if the Kafka broker set sufficiently diverges from the initial config (ie, no broker address from the original set is still available), then adding a new OSN is generally no longer possible. It would be nice for us to tackle this issue as well.
{quote}and also - it needs to know in which channels it is a member of, assuming we dont want all OSNs to contain all chains.
{quote}
Certainly, up until now, we have enforced that all orderers must handle all channels. However, since each channel has its own config, from an ordering perspective, picking only a subset of channels to follow does seem easy. I think we need to take a look at the SDK/user side though too. Do we still allow submission to any channel through any orderer? If not, how does the client know which orderer set to use? Is this maybe something from service discovery then?
{quote}Approaches 1 and 2 both seem to me like having 1 very big downside: Pulling all the channels is simply inefficient and very, very slow. 
 If a chain has accumulated a large amount of data, pulling the blocks would take a very long time, and during that time - the OSN is not serviceable.

I believe that it is a reasonable assumption that:

Most data a block transactions is PEM encoded certificates
 Most data in transactions is text, or hashed text
 And therefore - if we take an entire tarball of a ledger of an OSN, and then compress it with gzip - it will be significantly cheaper to download out of band, than to send the blocks 1 by 1 via the Deliver API.
{quote}
I'm a little skeptical that approaches (1) and (2) should be discounted because they are going to be 'very, very slow.' Certainly it could be a problem, but even on a relatively thin pipe, say 10MB/s, 100 GB of blockchain data could be synced in 3 hours or so. In a LAN environment with a Gbit connection, 100 GB transfers in 15 minutes.

Also, for the service deployments, I would not expect the operator to have access to the filesystem of hosts.  The 'secure containers' etc. prevent or limit the network admins from executing arbitrary logic like shell commands, and the idea that an operator would have a copy of all user data in order to bootstrap a new orderer sounds unappealing.

{quote}the first 2 approaches involve a considerable amount of logic and testing, and this endangers the release of the Raft OSN feature.
{quote}
Do we see the ability to change Raft membership and add new nodes as a must have to release Raft? Seems like if there is a risk of containment we could start with a static set of Raft consenters, and add the reconfiguration later. I'd note that I've yet to see anyone dynamically add an OSN with Kafa (for anything other than test purposes). Most deployments I've seen they project the needed number of orderers at bootstrap and simply leave them static.
{quote}The layout of the netboot.yaml file will have the following properties:
{quote}
I'm rather reluctant to introduce yet another config file with yet another expression of the data we already encode in other places. Particularly, it seems like there's a 100% overlap with the information here and the latest config block of the orderer system channel. Why not simply use this, then we don't need to introduce any new flags to the config. If the block is block 0, then we proceed as usual. If it is a later block, then we use it purely for connection info.;;;","18/Sep/18 5:25 AM;yacovm;Thanks much for the reply, Jason!

{quote} If the block is block 0, then we proceed as usual. If it is a later block, then we use it purely for connection info.{quote}

That's a great idea! We first pull the chains, and pull the system chain last until it reaches the sequence of the bootstrap config block in the file system, which is used to bootstrap the orderer.
If we crash in the middle, we know we should start over because the ledger of the system chain hasn't reached the bootstrap block.

{quote}Do we see the ability to change Raft membership and add new nodes as a must have to release Raft? Seems like if there is a risk of containment we could start with a static set of Raft consenters, and add the reconfiguration later{quote}

I believe that decoupling the orderer from the kafka cluster would pave the way to use cases where not all orderers would serve all channels, and organizations would want further segregation of data for confidentiality and for sharding, and they'll demand this sooner or later.
You're right that if this endangers the entire release we are better of not including this, however - I think it's too early to say this is a risk of containment. 

{quote}I'd note that I've yet to see anyone dynamically add an OSN with Kafa (for anything other than test purposes). Most deployments I've seen they project the needed number of orderers at bootstrap and simply leave them static.{quote}
Of course, because setting up a 3-tiered orderer (orderer front-ends connecting to Kafka which is also connected to a ZK cluster) system is so complex and tiresome that people don't expect it to be reconfigurable. However - that needs to change, and we are changing it (again - unless it won't be contained).


{quote}
I'm a little skeptical that approaches (1) and (2) should be discounted because they are going to be 'very, very slow.' Certainly it could be a problem, but even on a relatively thin pipe, say 10MB/s, 100 GB of blockchain data could be synced in 3 hours or so. In a LAN environment with a Gbit connection, 100 GB transfers in 15 minutes.
Also, for the service deployments, I would not expect the operator to have access to the filesystem of hosts. The 'secure containers' etc. prevent or limit the network admins from executing arbitrary logic like shell commands, and the idea that an operator would have a copy of all user data in order to bootstrap a new orderer sounds unappealing.{quote}
Agreed. 


{quote}I would point that in actually Kafka suffers from this very issue, in that if the Kafka broker set sufficiently diverges from the initial config (ie, no broker address from the original set is still available), then adding a new OSN is generally no longer possible. It would be nice for us to tackle this issue as well.{quote}
This is actually an interesting idea. We might be able to reuse most of the code for this JIRA for the kafka OSN.

{quote}I think we need to take a look at the SDK/user side though too. Do we still allow submission to any channel through any orderer? If not, how does the client know which orderer set to use? Is this maybe something from service discovery then?
{quote}
If an SDK is written and configured properly, it consumes the discovery service from some peer, and not the connection profile, or some external registry service.
Since v1.2 it is possible to [query for the orderers of the channel|https://hyperledger-fabric.readthedocs.io/en/latest/discovery-cli.html] (see ""configuration query"" section).
;;;","16/Oct/18 2:44 PM;guoger;Do we encounter similar problem while rebooting a fairly lagged OSN, where certs on other OSNs were rotated?;;;","16/Oct/18 4:12 PM;yacovm;The block puller I'm implementing doesn't use TLS pinning and instead uses standard Fabric auth, so as long as CA certs aren't rotated and the blocks that are committed update the raft chain object we should be fine;;;",,,,,,,,,,,,,,,,,,,,,,,,
fix wrong description,FAB-12018,33808,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ping40,ping40,ping40,16/Sep/18 11:28 PM,18/Sep/18 12:49 AM,28/Oct/23 3:04 AM,18/Sep/18 12:49 AM,,,,,,v1.3.0,,,,,fabric-ledger,,,,0,,,,,,"in core/ledger/kvledger/txmgmt/statedb/statedb_test.go
{code:java}
//Exists() should return false as key2 is deleted
actualResult = batch.Exists(""ns1"", ""key2)
{code}
the returned vaule is true.",,ping40,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzr33:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ping40,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"16/Sep/18 11:30 PM;ping40;https://gerrit.hyperledger.org/r/#/c/26331/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
reconciliation: disable in v1.3 release by not storing the missing data entries,FAB-12019,33809,,Task,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,Senthil1,Senthil1,Senthil1,17/Sep/18 2:05 AM,17/Sep/18 1:02 PM,28/Oct/23 3:04 AM,17/Sep/18 1:01 PM,,,,,,v1.3.0,,,,,fabric-ledger,,,,0,,,,,,"To disable missing data reconciliation, we should not store any missing data entries in the pvtstore.",,Senthil1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-5108,,,No,,Unset,No,,,"1|hzzr3b:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),Senthil1,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fabric Channel EventHub can't get any data after ungraceful shutdown,FAB-12021,33811,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,wlahti,yunu_kim,yunu_kim,17/Sep/18 11:44 AM,19/Sep/18 8:44 PM,28/Oct/23 3:04 AM,19/Sep/18 8:44 PM,v1.2.0,,,,,,,,,,,,,,0,,,,,,"Client uses [fabric-sdk-node 1.2.0|https://github.com/hyperledger/fabric-sdk-node/tree/release-1.2]
Channel peer uses docker image hyperledger/fabric-peer:1.2.0

My test network use 1 peer, 1 ca, 1 orderer

After I upgrade fabric version from 1.1.0 to 1.2.0,
 ""ChannelEventHub"" hang forever under certain circumstance.

 1. Connect ChannelEventhub to peer
 2. Kill client process without call disconnect
 3. Repeat 1, 2

Even if another client try to connect to the same peer, it also can't get any data from that peer.

[FAB-10655|https://jira.hyperledger.org/browse/FAB-10655] is related to this problem.",,denyeart,wlahti,yunu_kim,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11094,,,,,,,,,,,,,,"18/Sep/18 1:53 PM;yunu_kim;ChannelEventHub client log.txt;https://jira.hyperledger.org/secure/attachment/15826/ChannelEventHub+client+log.txt","18/Sep/18 1:53 PM;yunu_kim;fabric docker log.txt;https://jira.hyperledger.org/secure/attachment/15825/fabric+docker+log.txt",,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzr3r:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,wlahti,yunu_kim,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"17/Sep/18 2:45 PM;denyeart;[~wlahti] Can you take a look?;;;","17/Sep/18 11:19 PM;wlahti;[~yunu_kim] Can you provide logs from the peer once this occurs? Before seeing any logs, my initial guess is that this may be the same problem as FAB-11094, which was fixed in 1.2.1 and 1.3.0.;;;","17/Sep/18 11:37 PM;yunu_kim;thank you. I'll give you the log tomorrow.;;;","18/Sep/18 2:02 PM;yunu_kim;[~wlahti] These are my logs.
 [^ChannelEventHub client log.txt]  : This log from fabric-sdk-node:1.2.0 / ChannelEventHub.js

My test client used this eventHub to registerTxEvent, and sendTransaction.
The transaction was success, but no txEvent or block data returned.

 [^fabric docker log.txt]  : This log from fabric-peer:1.2.0 docker container

After 306 line, 'deliver' received seekInfo but no response log after
I think something wrong in fabric-release-1.2/common/deliver.go line 227 ~ 281

I removed peer address & private keys in those logs

If you want any other logs, please tell me. 
;;;","18/Sep/18 11:03 PM;wlahti;Would it be possible for you to create your peer image from the Fabric master branch to see if the fix for FAB-11094 will resolve the issue? Checkout the master branch then run ""make peer-docker-clean peer-docker"".;;;","19/Sep/18 12:23 AM;yunu_kim;ok I'll try tomorrow. I'm sorry our working hours don't coincide.;;;","19/Sep/18 12:53 PM;yunu_kim;it works! thank you a lot;;;","19/Sep/18 8:44 PM;wlahti;Great to hear! Note that the fix was merged into the codebase for 1.1.1, 1.2.1, and 1.3.0 so the published images for each major version will soon all have this fix. Marking this as a duplicate of FAB-11094. ;;;",,,,,,,,,,,,,,,,,,,,,,,,,
Fix fabric-samples CI by increasing timeout for couchdb retries,FAB-12022,33812,,Task,Closed,FAB,Fabric,software,denyeart,,,High,Done,denyeart,denyeart,denyeart,17/Sep/18 12:35 PM,25/Sep/18 10:19 PM,28/Oct/23 3:04 AM,25/Sep/18 10:19 PM,,,,,,v1.2.1,v1.3.0,,,,fabric-samples,,,,0,,,,,,"fabric-samples CI is failing with error:
{code:java}
!!!!!!!!!!!!!!! After 5 attempts, peer0.org1 has failed to join channel 'custom-channel-couchdb' !!!!!!!!!!!!!!!!
========= ERROR !!! FAILED to execute End-2-End Scenario ==========={code}
Increase retry timeout from 3s to 15s to fix it.",,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12130,,,,,,,,,,,,FAB-12023,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzr3z:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-6.11.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/tough-cookie-4.1.3,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/semver-6.3.1,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/grpc/grpc-js-1.8.17,dependabot/go_modules/high-throughput/application-go/google.golang.org/grpc-1.53.0,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/word-wrap-1.2.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-and-fabric-network-7.2.4,dependabot/go_modules/asset-transfer-basic/application-go/google.golang.org/grpc-1.53.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"17/Sep/18 12:53 PM;denyeart;https://gerrit.hyperledger.org/r/#/c/26335/;;;","25/Sep/18 11:26 AM;denyeart;backport to release-1.2 : https://gerrit.hyperledger.org/r/#/c/26537/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Couchdb docker image 0.4.11 and 0.4.12 takes longer to startup than 0.4.10,FAB-12023,33813,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,chris.elder,denyeart,denyeart,17/Sep/18 12:51 PM,09/Oct/18 11:44 AM,28/Oct/23 3:04 AM,09/Oct/18 11:44 AM,,,,,,v1.3.0,,,,,,,,,0,must-fix,,,,,"The new couchdb docker image based off of baseimage 0.4.11 takes a few seconds longer to start up than the prior image 0.4.10.

Perhaps due to the changes in [https://gerrit.hyperledger.org/r/#/c/24427/] .

This has caused some failures in fabric-samples CI such as:
!!!!!!!!!!!!!!! After 5 attempts, peer0.org1 has failed to join channel 'custom-channel-couchdb' !!!!!!!!!!!!!!!!
========= ERROR !!! FAILED to execute End-2-End Scenario ===========
which is getting fixed in FAB-12022 .

This issue is to fix the underlying issue that is causing the delays.",,chris.elder,denyeart,harsha544,knagware9,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12022,,,,,,,,,"04/Oct/18 12:06 AM;knagware9;BYFN_couchdb_E2ETest.png;https://jira.hyperledger.org/secure/attachment/16100/BYFN_couchdb_E2ETest.png","04/Oct/18 12:06 AM;knagware9;Couchdb_BYFN_test.png;https://jira.hyperledger.org/secure/attachment/16101/Couchdb_BYFN_test.png","03/Oct/18 8:55 PM;knagware9;Screenshot from 2018-10-03 17-25-28.png;https://jira.hyperledger.org/secure/attachment/16001/Screenshot+from+2018-10-03+17-25-28.png",,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzr47:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),chris.elder,denyeart,harsha544,knagware9,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"21/Sep/18 11:10 PM;denyeart;Automated tests have worked around the issue of couchdb container taking a couple extra seconds to startup... would still be good to understand root cause.;;;","02/Oct/18 12:39 AM;denyeart;Cause of slowdown in couchdb start has not been found, tests have been updated to reflect the slightly longer startup time.;;;","03/Oct/18 12:29 PM;denyeart;Additional people and CI tests have been hitting timeouts since moving to baseimage 0.4.12 images of fabric-couchdb.  I will re-open to continue the investigation of root cause.

[~harsha544] mentioned he will inspect 0.4.10 to 0.4.12 changes that may impact the slower couchdb container startup time.;;;","03/Oct/18 8:55 PM;knagware9;I used prior couch db images and its working fine. !Screenshot from 2018-10-03 17-25-28.png!;;;","03/Oct/18 10:06 PM;harsha544;[~knagware9] Do these BYFN test leverage couchdb as well, and are these done on x86/s390x as well ?
Can you kindly provide docker ps -a Output and attach respective test log ?;;;","04/Oct/18 12:06 AM;knagware9;Tested with Prior couch db images 0.4.10 on x86 (Ubuntu 16.04) .please find the test results attached !BYFN_couchdb_E2ETest.png!;;;","04/Oct/18 12:08 AM;knagware9;!Couchdb_BYFN_test.png|thumbnail!;;;","05/Oct/18 3:04 AM;chris.elder;I have reviewed this defect.  It looks like there are three main options for resolving this defect for v1.3.

1)  Revert the change in  [https://gerrit.hyperledger.org/r/#/c/24427/] 

2) Continue troubleshooting in an attempt to find the exact cause of the additional delay in CouchDB startup.

3) Add additional logic in the docker compose scripts to ensure CouchDB has completed startup.

 

Option 2 is difficult since the error does not occur in local Mac or Linux VMs that have been tested.  In the Jenkins environment, this is an intermittent issue.  Time to resolve is a factor in attempting option 2.

Option 3 may be the best long term solution, but that is not really an option for 1.3 due to time constraints.

Option 1 looks to be the best solution for 1.3.

 

 

 ;;;","05/Oct/18 2:49 PM;knagware9;Update on FAB-12023: I tried to setup using couch db 0.4.12 images on ubuntu 18.04 LTS and not getting any issue .Tried BYFN end to end test too...seems issue with only Ubuntu 16.04;;;","07/Oct/18 1:58 AM;denyeart;[~chris.elder] At one point I thought you mentioned the problem may not be with the couchdb changes, but other changes in baseimage.  Are you now confident that reverting [https://gerrit.hyperledger.org/r/#/c/24427/]  will resolve it?;;;","07/Oct/18 2:56 AM;harsha544;FWIW [~denyeart] [~chris.elder] Here's an instance already reported pertaining to slowness of CouchDB  https://github.com/apache/couchdb-documentation/issues/278;;;","08/Oct/18 10:50 AM;denyeart;[~chris.elder]

While I +2ed https://gerrit.hyperledger.org/r/#/c/26801/ to revert the couchdb image, troubleshooting needs to continue.

On my mac using byfn:
with couchdb image 0.4.10 on average it takes peer 2 seconds to connect to couchdb.
with couchdb image 0.4.12 on average it takes peer 8 seconds to connect to couchdb.
The results are very consistent for me and therefore troubleshooting with incremental changes to find the root cause should be possible.;;;","09/Oct/18 8:46 AM;denyeart;The more minimal https://gerrit.hyperledger.org/r/#/c/26859/ seems to have solved the issue, it at least makes couchdb container startup much faster than 0.4.12 and a little faster than 0.4.10 even, on mac and in CI.

The CR also reverts FAB-12249 which was targeted for v1.4, to take CouchDB back from 2.2.0 to 2.1.1, which is the level that has been system tested throughout the v1.3 release cycle.;;;",,,,,,,,,,,,,,,,,,,,
code hygiene: disable missingData reconciliation upfront,FAB-12024,33814,33809,Sub-task,Closed,FAB,Fabric,software,denyeart,,,High,Done,Senthil1,Senthil1,Senthil1,17/Sep/18 1:17 PM,17/Sep/18 11:02 PM,28/Oct/23 3:04 AM,17/Sep/18 11:02 PM,,,,,,v1.3.0,,,,,,,,,0,,,,,,Fix code as per comments posted in https://gerrit.hyperledger.org/r/c/26332/,,Senthil1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzr4f:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),Senthil1,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"go vet failures on go1.10.4 also go version mismatch in ""dep check""",FAB-12025,33819,,Task,Closed,FAB,Fabric,software,denyeart,,,High,Done,,rameshthoomu,rameshthoomu,17/Sep/18 8:50 PM,09/Oct/18 9:33 AM,28/Oct/23 3:04 AM,09/Oct/18 9:33 AM,v1.3.0,,,,,v1.3.0,,,,,,,,,0,must-fix,,,,,"Observed dep checking still shows g1.10 when go version showing go1.10.4 also observevd go vet issues listed below.

https://gerrit.hyperledger.org/r/#/c/26309/

go version
{code:java}
00:00:37.376 + go version
00:00:37.600 go version go1.10.4 linux/amd64{code}
Go Dep Check still showing g1.0:
{code:java}
00:02:02.030 DEP: Checking for dependency issues..
00:02:02.888 dep:
00:02:02.888 version : v0.5.0
00:02:02.888 build date : 2018-09-16
00:02:02.888 git hash : 
00:02:02.888 go version : go1.10
00:02:02.888 go compiler : gc
00:02:02.888 platform : linux/amd64
00:02:02.888 features : ImportDuringSolve=false
00:02:04.612 github.com/grpc-ecosystem/go-grpc-middleware: hash of vendored tree not equal to digest in Gopkg.lock (CHECK IGNORED: marked noverify in Gopkg.toml){code}
Go vet failed with below errors:
{code:java}
00:02:32.256 Checking with go vet
00:02:52.763 # github.com/hyperledger/fabric/gossip/privdata
00:02:52.763 gossip/privdata/reconcile.go:171:33: pvtDataInfo.ChaincodeName undefined (type *""github.com/hyperledger/fabric/core/ledger"".MissingCollectionPvtDataInfo has no field or method ChaincodeName)
00:02:52.763 gossip/privdata/reconcile.go:172:33: pvtDataInfo.CollectionName undefined (type *""github.com/hyperledger/fabric/core/ledger"".MissingCollectionPvtDataInfo has no field or method CollectionName)
00:02:52.763 gossip/privdata/reconcile.go:176:74: pvtDataInfo.ChaincodeName undefined (type *""github.com/hyperledger/fabric/core/ledger"".MissingCollectionPvtDataInfo has no field or method ChaincodeName)
00:02:52.763 gossip/privdata/reconcile.go:176:101: pvtDataInfo.CollectionName undefined (type *""github.com/hyperledger/fabric/core/ledger"".MissingCollectionPvtDataInfo has no field or method CollectionName)
00:02:52.763 gossip/privdata/reconcile.go:185:29: pvtDataInfo.CollectionName undefined (type *""github.com/hyperledger/fabric/core/ledger"".MissingCollectionPvtDataInfo has no field or method CollectionName)
00:02:52.763 gossip/privdata/reconcile.go:186:29: pvtDataInfo.ChaincodeName undefined (type *""github.com/hyperledger/fabric/core/ledger"".MissingCollectionPvtDataInfo has no field or method ChaincodeName)
00:03:04.144 # github.com/hyperledger/fabric/gossip/privdata
00:03:04.144 gossip/privdata/reconcile.go:171:33: pvtDataInfo.ChaincodeName undefined (type *""github.com/hyperledger/fabric/core/ledger"".MissingCollectionPvtDataInfo has no field or method ChaincodeName)
00:03:04.145 gossip/privdata/reconcile.go:172:33: pvtDataInfo.CollectionName undefined (type *""github.com/hyperledger/fabric/core/ledger"".MissingCollectionPvtDataInfo has no field or method CollectionName)
00:03:04.145 gossip/privdata/reconcile.go:176:74: pvtDataInfo.ChaincodeName undefined (type *""github.com/hyperledger/fabric/core/ledger"".MissingCollectionPvtDataInfo has no field or method ChaincodeName)
00:03:04.145 gossip/privdata/reconcile.go:176:101: pvtDataInfo.CollectionName undefined (type *""github.com/hyperledger/fabric/core/ledger"".MissingCollectionPvtDataInfo has no field or method CollectionName)
00:03:04.145 gossip/privdata/reconcile.go:185:29: pvtDataInfo.CollectionName undefined (type *""github.com/hyperledger/fabric/core/ledger"".MissingCollectionPvtDataInfo has no field or method CollectionName)
00:03:04.145 gossip/privdata/reconcile.go:186:29: pvtDataInfo.ChaincodeName undefined (type *""github.com/hyperledger/fabric/core/ledger"".MissingCollectionPvtDataInfo has no field or method ChaincodeName)
00:03:04.145 gossip/privdata/reconcile_test.go:58:23: unknown field 'CollectionName' in struct literal of type ""github.com/hyperledger/fabric/core/ledger"".MissingCollectionPvtDataInfo
00:03:04.145 gossip/privdata/reconcile_test.go:58:46: unknown field 'ChaincodeName' in struct literal of type ""github.com/hyperledger/fabric/core/ledger"".MissingCollectionPvtDataInfo
00:03:04.145 gossip/privdata/reconcile_test.go:94:23: unknown field 'CollectionName' in struct literal of type ""github.com/hyperledger/fabric/core/ledger"".MissingCollectionPvtDataInfo
00:03:04.145 gossip/privdata/reconcile_test.go:94:46: unknown field 'ChaincodeName' in struct literal of type ""github.com/hyperledger/fabric/core/ledger"".MissingCollectionPvtDataInfo
00:03:04.145 gossip/privdata/reconcile_test.go:94:46: too many errors
00:03:12.333 Makefile:213: recipe for target 'linter' failed{code}",,denyeart,rameshthoomu,Specia1,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12172,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzr5b:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,rameshthoomu,Specia1,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"17/Sep/18 10:35 PM;rameshthoomu;Not seeing `go vet` errors after rebase the change to the latest commit. But still seeing go 1.10 version in ""dep check"";;;","24/Sep/18 4:48 AM;denyeart;[~rameshthoomu] [~sykesm] Is there a plan for this one?;;;","24/Sep/18 8:15 AM;sykesm;Not from my side. The dep tooling is built by the recipes in gotools.mk which get pulled in by the buildenv targets.;;;","09/Oct/18 4:07 AM;rameshthoomu;This issue is fixed now.. I see go1.10.4 in dep-checks
{code:java}
00:01:57.535 DEP: Checking for dependency issues..
00:01:58.787 dep:
00:01:58.787 version : v0.5.0
00:01:58.787 build date : 2018-10-08
00:01:58.787 git hash : 
00:01:58.787 go version : go1.10.4
00:01:58.787 go compiler : gc
00:01:58.787 platform : linux/amd64
00:01:58.787 features : ImportDuringSolve=false
{code}
 ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
fix a base UT func,FAB-12027,33824,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,ping40,ping40,ping40,17/Sep/18 10:53 PM,19/Sep/18 5:22 PM,28/Oct/23 3:04 AM,19/Sep/18 5:22 PM,,,,,,,,,,,,,,,0,,,,,,"in

 
{code:java}
// AssertEquals varifies that the two values are equal
func AssertEquals(t testing.TB, actual interface{}, expected interface{}) {
	t.Logf(""%s: AssertEquals [%#v] and [%#v]"", getCallerInfo(), actual, expected)
	if expected == nil && isNil(actual) {
		return
	}	

        //convert JSONs to maps, this will allow comparison by DeepEqual
	actual = convertJSONToMap(actual)
	expected = convertJSONToMap(expected)	
        if pa, ok := actual.(proto.Message); ok {
		if pe, ok := actual.(proto.Message); ok {
			if proto.Equal(pa, pe) {
				return
			}
		}
	}	
    
        if !reflect.DeepEqual(actual, expected) {
		t.Fatalf(""Values are not equal.\n Actual=[%#v], \n Expected=[%#v]\n %s"", actual, expected, getCallerInfo())
	}
}
{code}
the line: 
{code:java}
if pe, ok := actual.(proto.Message); ok {{code}
should change to : 
{code:java}
if pe, ok := expected.(proto.Message); ok {
{code}
 

this modification affects many tests.

 ",,ChristopherFerris,ping40,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzr6f:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ChristopherFerris,ping40,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"17/Sep/18 11:30 PM;ChristopherFerris;https://gerrit.hyperledger.org/r/c/26342/;;;","19/Sep/18 5:22 PM;ping40;the testutil will be discarded, so , it don't need to change.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
PTE adds samplecc java support in gen_cfgInputs.sh,FAB-12028,33825,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,dongming,dongming,dongming,17/Sep/18 11:27 PM,20/Sep/18 3:53 AM,28/Oct/23 3:04 AM,18/Sep/18 10:36 PM,,,,,,,,,,,fabric-quality,,,,0,,,,,,Need to make samplecc java available for gen_cfgInputs.sh for automation,,dongming,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-2247,,,No,,Unset,No,,,"1|hzzr6n:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),dongming,,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,,,,,,true,"17/Sep/18 11:40 PM;dongming;https://gerrit.hyperledger.org/r/#/c/26344/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
intermittent test failures in gossp pull/pullstore_test.go TestAddAndRemove,FAB-12029,33828,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,C0rWin,sykesm,sykesm,18/Sep/18 1:10 AM,19/Mar/19 7:57 PM,28/Oct/23 3:04 AM,24/Jan/19 9:41 PM,,,,,,v1.4.1,v2.0.0,,,,fabric-gossip,,,,0,ci-flake,,,,,"{code}
15:08:02 unit-tests_1  | goroutine 23 [running]:
15:08:02 unit-tests_1  | github.com/hyperledger/fabric/gossip/util.PrintStackTrace()
15:08:02 unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/gossip/util/misc.go:144 +0x87
15:08:02 unit-tests_1  | github.com/hyperledger/fabric/gossip/gossip/pull.waitUntilOrFail(0xc4200fe870, 0xc420060f80)
15:08:02 unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/gossip/gossip/pull/pullstore_test.go:359 +0x18c
15:08:02 unit-tests_1  | github.com/hyperledger/fabric/gossip/gossip/pull.TestAddAndRemove(0xc4200fe870)
15:08:02 unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/gossip/gossip/pull/pullstore_test.go:248 +0x15f
15:08:02 unit-tests_1  | testing.tRunner(0xc4200fe870, 0xd8d040)
15:08:02 unit-tests_1  | 	/opt/go/src/testing/testing.go:777 +0xd0
15:08:02 unit-tests_1  | created by testing.(*T).Run
15:08:02 unit-tests_1  | 	/opt/go/src/testing/testing.go:824 +0x2e0
15:08:02 unit-tests_1  | 
15:08:02 unit-tests_1  | goroutine 1 [chan receive]:
15:08:02 unit-tests_1  | testing.tRunner.func1(0xc4200fe4b0)
15:08:02 unit-tests_1  | 	/opt/go/src/testing/testing.go:753 +0x11d
15:08:02 unit-tests_1  | testing.tRunner(0xc4200fe4b0, 0xc420077d90)
15:08:02 unit-tests_1  | 	/opt/go/src/testing/testing.go:783 +0xf2
15:08:02 unit-tests_1  | testing.runTests(0xc4201c92a0, 0x12f3b80, 0x6, 0x6, 0x6dfe69)
15:08:02 unit-tests_1  | 	/opt/go/src/testing/testing.go:1061 +0x2c4
15:08:02 unit-tests_1  | testing.(*M).Run(0xc42010e180, 0x0)
15:08:02 unit-tests_1  | 	/opt/go/src/testing/testing.go:978 +0x171
15:08:02 unit-tests_1  | main.main()
15:08:02 unit-tests_1  | 	_testmain.go:98 +0x208
15:08:02 unit-tests_1  | 
15:08:02 unit-tests_1  | goroutine 29 [sleep]:
15:08:02 unit-tests_1  | time.Sleep(0x1dcd6500)
15:08:02 unit-tests_1  | 	/opt/go/src/runtime/time.go:102 +0x166
15:08:02 unit-tests_1  | github.com/hyperledger/fabric/gossip/gossip/algo.NewPullEngineWithFilter.func1(0xc42010e300, 0x1dcd6500)
15:08:02 unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/gossip/gossip/algo/pull.go:130 +0x43
15:08:02 unit-tests_1  | created by github.com/hyperledger/fabric/gossip/gossip/algo.NewPullEngineWithFilter
15:08:02 unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/gossip/gossip/algo/pull.go:128 +0x303
15:08:02 unit-tests_1  | 
15:08:02 unit-tests_1  | goroutine 24 [chan send]:
15:08:02 unit-tests_1  | testing.tRunner.func1(0xc4200fe960)
15:08:02 unit-tests_1  | 	/opt/go/src/testing/testing.go:772 +0x183
15:08:02 unit-tests_1  | testing.tRunner(0xc4200fe960, 0xd8d050)
15:08:02 unit-tests_1  | 	/opt/go/src/testing/testing.go:783 +0xf2
15:08:02 unit-tests_1  | created by testing.(*T).Run
15:08:02 unit-tests_1  | 	/opt/go/src/testing/testing.go:824 +0x2e0
15:08:02 unit-tests_1  | 
15:08:02 unit-tests_1  | goroutine 25 [chan send]:
15:08:02 unit-tests_1  | testing.tRunner.func1(0xc4200fea50)
15:08:02 unit-tests_1  | 	/opt/go/src/testing/testing.go:772 +0x183
15:08:02 unit-tests_1  | testing.tRunner(0xc4200fea50, 0xd8d070)
15:08:02 unit-tests_1  | 	/opt/go/src/testing/testing.go:783 +0xf2
15:08:02 unit-tests_1  | created by testing.(*T).Run
15:08:02 unit-tests_1  | 	/opt/go/src/testing/testing.go:824 +0x2e0
15:08:02 unit-tests_1  | 
15:08:02 unit-tests_1  | goroutine 26 [chan receive]:
15:08:02 unit-tests_1  | testing.runTests.func1.1(0xc4200fe4b0)
15:08:02 unit-tests_1  | 	/opt/go/src/testing/testing.go:1068 +0x3b
15:08:02 unit-tests_1  | created by testing.runTests.func1
15:08:02 unit-tests_1  | 	/opt/go/src/testing/testing.go:1068 +0xa2
15:08:02 unit-tests_1  | 
15:08:02 unit-tests_1  | goroutine 30 [select]:
15:08:02 unit-tests_1  | github.com/hyperledger/fabric/gossip/gossip/pull.createPullInstanceWithFilters.func3(0xc4201ee510)
15:08:02 unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/gossip/gossip/pull/pullstore_test.go:153 +0x11a
15:08:02 unit-tests_1  | created by github.com/hyperledger/fabric/gossip/gossip/pull.createPullInstanceWithFilters
15:08:02 unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/gossip/gossip/pull/pullstore_test.go:151 +0x447
15:08:02 unit-tests_1  | 
15:08:02 unit-tests_1  | goroutine 31 [sleep]:
15:08:02 unit-tests_1  | time.Sleep(0x1dcd6500)
15:08:02 unit-tests_1  | 	/opt/go/src/runtime/time.go:102 +0x166
15:08:02 unit-tests_1  | github.com/hyperledger/fabric/gossip/gossip/algo.NewPullEngineWithFilter.func1(0xc42010e380, 0x1dcd6500)
15:08:02 unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/gossip/gossip/algo/pull.go:130 +0x43
15:08:02 unit-tests_1  | created by github.com/hyperledger/fabric/gossip/gossip/algo.NewPullEngineWithFilter
15:08:02 unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/gossip/gossip/algo/pull.go:128 +0x303
15:08:02 unit-tests_1  | 
15:08:02 unit-tests_1  | goroutine 32 [select]:
15:08:02 unit-tests_1  | github.com/hyperledger/fabric/gossip/gossip/pull.createPullInstanceWithFilters.func3(0xc4201ee630)
15:08:02 unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/gossip/gossip/pull/pullstore_test.go:153 +0x11a
15:08:02 unit-tests_1  | created by github.com/hyperledger/fabric/gossip/gossip/pull.createPullInstanceWithFilters
15:08:02 unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/gossip/gossip/pull/pullstore_test.go:151 +0x447
15:08:02 unit-tests_1  | --- FAIL: TestAddAndRemove (22.35s)
15:08:02 unit-tests_1  | 	assertions.go:247: 
                          
	Error Trace:	pullstore_test.go:360
15:08:02 unit-tests_1  | 		
	            	
			pullstore_test.go:248
15:08:02 unit-tests_1  | 		
	Error:      	Timeout expired!
15:08:02 unit-tests_1  | 		
	Test:       	TestAddAndRemove
15:08:02 unit-tests_1  | FAIL
15:08:02 unit-tests_1  | coverage: 91.8% of statements
15:08:02 unit-tests_1  | FAIL	github.com/hyperledger/fabric/gossip/gossip/pull	22.363s
{code}",,C0rWin,denyeart,harsha544,sykesm,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12034,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"26/Sep/18 10:38 PM;sykesm;console-timestamp-4987.log.txt;https://jira.hyperledger.org/secure/attachment/15873/console-timestamp-4987.log.txt","18/Sep/18 1:58 AM;sykesm;console-timestamp.log.gz;https://jira.hyperledger.org/secure/attachment/15819/console-timestamp.log.gz","21/Sep/18 7:14 PM;sykesm;console-timestamp.log.gz.txt;https://jira.hyperledger.org/secure/attachment/15854/console-timestamp.log.gz.txt","21/Sep/18 11:22 AM;sykesm;console-timestamp.log.gz.txt;https://jira.hyperledger.org/secure/attachment/15846/console-timestamp.log.gz.txt",,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzr7b:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),C0rWin,denyeart,harsha544,sykesm,yacovm,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"18/Sep/18 1:55 AM;sykesm;https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/4714/ : FAILURE (skipped)
https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/4716/ : FAILURE (skipped);;;","18/Sep/18 11:30 PM;yacovm;I hope FAB-12034 took care of it as I wasn't able to reproduce locally. Let's close and reopen if we need.;;;","21/Sep/18 11:22 AM;sykesm;Hit it again:

{code}
00:14:43.851 unit-tests_1  | goroutine 39 [running]:
00:14:43.853 unit-tests_1  | github.com/hyperledger/fabric/gossip/util.PrintStackTrace()
00:14:43.863 unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/gossip/util/misc.go:144 +0x87
00:14:43.868 unit-tests_1  | github.com/hyperledger/fabric/gossip/gossip/pull.waitUntilOrFail(0xc42010c870, 0xc420060f70)
00:14:43.872 unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/gossip/gossip/pull/pullstore_test.go:377 +0x18c
00:14:43.878 unit-tests_1  | github.com/hyperledger/fabric/gossip/gossip/pull.TestAddAndRemove(0xc42010c870)
00:14:43.882 unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/gossip/gossip/pull/pullstore_test.go:273 +0x252
00:14:43.885 unit-tests_1  | testing.tRunner(0xc42010c870, 0xd8bae8)
00:14:43.887 unit-tests_1  | 	/opt/go/src/testing/testing.go:777 +0xd0
00:14:43.889 unit-tests_1  | created by testing.(*T).Run
00:14:43.891 unit-tests_1  | 	/opt/go/src/testing/testing.go:824 +0x2e0
00:14:43.894 unit-tests_1  | 
00:14:43.896 unit-tests_1  | goroutine 1 [chan receive]:
00:14:43.898 unit-tests_1  | testing.tRunner.func1(0xc42010c4b0)
00:14:43.901 unit-tests_1  | 	/opt/go/src/testing/testing.go:753 +0x11d
00:14:43.903 unit-tests_1  | testing.tRunner(0xc42010c4b0, 0xc420077d90)
00:14:43.905 unit-tests_1  | 	/opt/go/src/testing/testing.go:783 +0xf2
00:14:43.907 unit-tests_1  | testing.runTests(0xc4201d7280, 0x12f1b80, 0x6, 0x6, 0x6df679)
00:14:43.910 unit-tests_1  | 	/opt/go/src/testing/testing.go:1061 +0x2c4
00:14:43.913 unit-tests_1  | testing.(*M).Run(0xc42011c180, 0x0)
00:14:43.915 unit-tests_1  | 	/opt/go/src/testing/testing.go:978 +0x171
00:14:43.919 unit-tests_1  | main.main()
00:14:43.922 unit-tests_1  | 	_testmain.go:98 +0x208
00:14:43.924 unit-tests_1  | 
00:14:43.927 unit-tests_1  | goroutine 45 [sleep]:
00:14:43.929 unit-tests_1  | time.Sleep(0x1dcd6500)
00:14:43.932 unit-tests_1  | 	/opt/go/src/runtime/time.go:102 +0x166
00:14:43.934 unit-tests_1  | github.com/hyperledger/fabric/gossip/gossip/algo.NewPullEngineWithFilter.func1(0xc42011c300, 0x1dcd6500)
00:14:43.937 unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/gossip/gossip/algo/pull.go:130 +0x43
00:14:43.940 unit-tests_1  | created by github.com/hyperledger/fabric/gossip/gossip/algo.NewPullEngineWithFilter
00:14:43.943 unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/gossip/gossip/algo/pull.go:128 +0x303
00:14:43.946 unit-tests_1  | 
00:14:43.949 unit-tests_1  | goroutine 40 [chan send]:
00:14:43.952 unit-tests_1  | testing.tRunner.func1(0xc42010c960)
00:14:43.955 unit-tests_1  | 	/opt/go/src/testing/testing.go:772 +0x183
00:14:43.958 unit-tests_1  | testing.tRunner(0xc42010c960, 0xd8baf8)
00:14:43.959 unit-tests_1  | 	/opt/go/src/testing/testing.go:783 +0xf2
00:14:43.960 unit-tests_1  | created by testing.(*T).Run
00:14:43.962 unit-tests_1  | 	/opt/go/src/testing/testing.go:824 +0x2e0
00:14:43.964 unit-tests_1  | 
00:14:43.967 unit-tests_1  | goroutine 41 [chan send]:
00:14:43.970 unit-tests_1  | testing.tRunner.func1(0xc42010ca50)
00:14:43.972 unit-tests_1  | 	/opt/go/src/testing/testing.go:772 +0x183
00:14:43.976 unit-tests_1  | testing.tRunner(0xc42010ca50, 0xd8bb18)
00:14:43.979 unit-tests_1  | 	/opt/go/src/testing/testing.go:783 +0xf2
00:14:43.982 unit-tests_1  | created by testing.(*T).Run
00:14:43.984 unit-tests_1  | 	/opt/go/src/testing/testing.go:824 +0x2e0
00:14:43.987 unit-tests_1  | 
00:14:43.989 unit-tests_1  | goroutine 42 [chan receive]:
00:14:43.993 unit-tests_1  | testing.runTests.func1.1(0xc42010c4b0)
00:14:43.996 unit-tests_1  | 	/opt/go/src/testing/testing.go:1068 +0x3b
00:14:43.998 unit-tests_1  | created by testing.runTests.func1
00:14:44.001 unit-tests_1  | 	/opt/go/src/testing/testing.go:1068 +0xa2
00:14:44.004 unit-tests_1  | 
00:14:44.007 unit-tests_1  | goroutine 46 [select]:
00:14:44.012 unit-tests_1  | github.com/hyperledger/fabric/gossip/gossip/pull.(*pullInstance).start.func1(0xc4201701c0)
00:14:44.015 unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/gossip/gossip/pull/pullstore_test.go:100 +0x11a
00:14:44.018 unit-tests_1  | created by github.com/hyperledger/fabric/gossip/gossip/pull.(*pullInstance).start
00:14:44.021 unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/gossip/gossip/pull/pullstore_test.go:98 +0xc9
00:14:44.024 unit-tests_1  | 
00:14:44.028 unit-tests_1  | goroutine 47 [sleep]:
00:14:44.036 unit-tests_1  | time.Sleep(0x1dcd6500)
00:14:44.038 unit-tests_1  | 	/opt/go/src/runtime/time.go:102 +0x166
00:14:44.044 unit-tests_1  | github.com/hyperledger/fabric/gossip/gossip/algo.NewPullEngineWithFilter.func1(0xc42011c380, 0x1dcd6500)
00:14:44.046 unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/gossip/gossip/algo/pull.go:130 +0x43
00:14:44.047 unit-tests_1  | created by github.com/hyperledger/fabric/gossip/gossip/algo.NewPullEngineWithFilter
00:14:44.048 unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/gossip/gossip/algo/pull.go:128 +0x303
00:14:44.050 unit-tests_1  | 
00:14:44.053 unit-tests_1  | goroutine 48 [select]:
00:14:44.056 unit-tests_1  | github.com/hyperledger/fabric/gossip/gossip/pull.(*pullInstance).start.func1(0xc4201702a0)
00:14:44.059 unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/gossip/gossip/pull/pullstore_test.go:100 +0x11a
00:14:44.062 unit-tests_1  | created by github.com/hyperledger/fabric/gossip/gossip/pull.(*pullInstance).start
00:14:44.065 unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/gossip/gossip/pull/pullstore_test.go:98 +0xc9
00:14:44.110 unit-tests_1  | --- FAIL: TestAddAndRemove (24.70s)
00:14:44.113 unit-tests_1  | 	assertions.go:247: 
                          
	Error Trace:	pullstore_test.go:378
00:14:44.118 unit-tests_1  | 		
	            	
			pullstore_test.go:273
00:14:44.121 unit-tests_1  | 		
	Error:      	Timeout expired!
00:14:44.122 unit-tests_1  | 		
	Test:       	TestAddAndRemove
00:14:44.123 unit-tests_1  | FAIL
00:14:44.123 unit-tests_1  | coverage: 91.8% of statements
00:14:44.125 unit-tests_1  | FAIL	github.com/hyperledger/fabric/gossip/gossip/pull	24.715s
{code}

https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/4810/console
 [^console-timestamp.log.gz.txt] ;;;","21/Sep/18 7:16 PM;sykesm;{code:java}
00:14:41.544 unit-tests_1  | goroutine 9 [running]:
00:14:41.550 unit-tests_1  | github.com/hyperledger/fabric/gossip/util.PrintStackTrace()
00:14:41.550 unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/gossip/util/misc.go:144 +0x87
00:14:41.551 unit-tests_1  | github.com/hyperledger/fabric/gossip/gossip/pull.waitUntilOrFail(0xc4200e8870, 0xc420208f70)
00:14:41.553 unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/gossip/gossip/pull/pullstore_test.go:377 +0x18c
00:14:41.554 unit-tests_1  | github.com/hyperledger/fabric/gossip/gossip/pull.TestAddAndRemove(0xc4200e8870)
00:14:41.556 unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/gossip/gossip/pull/pullstore_test.go:273 +0x252
00:14:41.559 unit-tests_1  | testing.tRunner(0xc4200e8870, 0xd8bae8)
00:14:41.559 unit-tests_1  | 	/opt/go/src/testing/testing.go:777 +0xd0
00:14:41.560 unit-tests_1  | created by testing.(*T).Run
00:14:41.561 unit-tests_1  | 	/opt/go/src/testing/testing.go:824 +0x2e0
00:14:41.567 unit-tests_1  | 
00:14:41.569 unit-tests_1  | goroutine 1 [chan receive]:
00:14:41.570 unit-tests_1  | testing.tRunner.func1(0xc4200e84b0)
00:14:41.571 unit-tests_1  | 	/opt/go/src/testing/testing.go:753 +0x11d
00:14:41.571 unit-tests_1  | testing.tRunner(0xc4200e84b0, 0xc420077d90)
00:14:41.573 unit-tests_1  | 	/opt/go/src/testing/testing.go:783 +0xf2
00:14:41.574 unit-tests_1  | testing.runTests(0xc4201b1300, 0x12f1b80, 0x6, 0x6, 0x6df679)
00:14:41.575 unit-tests_1  | 	/opt/go/src/testing/testing.go:1061 +0x2c4
00:14:41.576 unit-tests_1  | testing.(*M).Run(0xc4200f8180, 0x0)
00:14:41.577 unit-tests_1  | 	/opt/go/src/testing/testing.go:978 +0x171
00:14:41.578 unit-tests_1  | main.main()
00:14:41.580 unit-tests_1  | 	_testmain.go:98 +0x208
00:14:41.580 unit-tests_1  | 
00:14:41.582 unit-tests_1  | goroutine 10 [chan send]:
00:14:41.583 unit-tests_1  | testing.tRunner.func1(0xc4200e8960)
00:14:41.584 unit-tests_1  | 	/opt/go/src/testing/testing.go:772 +0x183
00:14:41.586 unit-tests_1  | testing.tRunner(0xc4200e8960, 0xd8baf8)
00:14:41.587 unit-tests_1  | 	/opt/go/src/testing/testing.go:783 +0xf2
00:14:41.588 unit-tests_1  | created by testing.(*T).Run
00:14:41.589 unit-tests_1  | 	/opt/go/src/testing/testing.go:824 +0x2e0
00:14:41.590 unit-tests_1  | 
00:14:41.591 unit-tests_1  | goroutine 11 [chan send]:
00:14:41.593 unit-tests_1  | testing.tRunner.func1(0xc4200e8a50)
00:14:41.594 unit-tests_1  | 	/opt/go/src/testing/testing.go:772 +0x183
00:14:41.595 unit-tests_1  | testing.tRunner(0xc4200e8a50, 0xd8bb18)
00:14:41.596 unit-tests_1  | 	/opt/go/src/testing/testing.go:783 +0xf2
00:14:41.597 unit-tests_1  | created by testing.(*T).Run
00:14:41.599 unit-tests_1  | 	/opt/go/src/testing/testing.go:824 +0x2e0
00:14:41.600 unit-tests_1  | 
00:14:41.602 unit-tests_1  | goroutine 12 [chan receive]:
00:14:41.602 unit-tests_1  | testing.runTests.func1.1(0xc4200e84b0)
00:14:41.604 unit-tests_1  | 	/opt/go/src/testing/testing.go:1068 +0x3b
00:14:41.606 unit-tests_1  | created by testing.runTests.func1
00:14:41.607 unit-tests_1  | 	/opt/go/src/testing/testing.go:1068 +0xa2
00:14:41.609 unit-tests_1  | 
00:14:41.610 unit-tests_1  | goroutine 50 [sleep]:
00:14:41.611 unit-tests_1  | time.Sleep(0x1dcd6500)
00:14:41.612 unit-tests_1  | 	/opt/go/src/runtime/time.go:102 +0x166
00:14:41.613 unit-tests_1  | github.com/hyperledger/fabric/gossip/gossip/algo.NewPullEngineWithFilter.func1(0xc420216000, 0x1dcd6500)
00:14:41.614 unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/gossip/gossip/algo/pull.go:130 +0x43
00:14:41.615 unit-tests_1  | created by github.com/hyperledger/fabric/gossip/gossip/algo.NewPullEngineWithFilter
00:14:41.616 unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/gossip/gossip/algo/pull.go:128 +0x303
00:14:41.617 unit-tests_1  | 
00:14:41.618 unit-tests_1  | goroutine 51 [select]:
00:14:41.619 unit-tests_1  | github.com/hyperledger/fabric/gossip/gossip/pull.(*pullInstance).start.func1(0xc4201fa000)
00:14:41.620 unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/gossip/gossip/pull/pullstore_test.go:100 +0x11a
00:14:41.622 unit-tests_1  | created by github.com/hyperledger/fabric/gossip/gossip/pull.(*pullInstance).start
00:14:41.623 unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/gossip/gossip/pull/pullstore_test.go:98 +0xc9
00:14:41.624 unit-tests_1  | 
00:14:41.625 unit-tests_1  | goroutine 52 [sleep]:
00:14:41.626 unit-tests_1  | time.Sleep(0x1dcd6500)
00:14:41.628 unit-tests_1  | 	/opt/go/src/runtime/time.go:102 +0x166
00:14:41.629 unit-tests_1  | github.com/hyperledger/fabric/gossip/gossip/algo.NewPullEngineWithFilter.func1(0xc420216080, 0x1dcd6500)
00:14:41.630 unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/gossip/gossip/algo/pull.go:130 +0x43
00:14:41.632 unit-tests_1  | created by github.com/hyperledger/fabric/gossip/gossip/algo.NewPullEngineWithFilter
00:14:41.633 unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/gossip/gossip/algo/pull.go:128 +0x303
00:14:41.634 unit-tests_1  | 
00:14:41.635 unit-tests_1  | goroutine 53 [select]:
00:14:41.637 unit-tests_1  | github.com/hyperledger/fabric/gossip/gossip/pull.(*pullInstance).start.func1(0xc4201fa0e0)
00:14:41.638 unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/gossip/gossip/pull/pullstore_test.go:100 +0x11a
00:14:41.639 unit-tests_1  | created by github.com/hyperledger/fabric/gossip/gossip/pull.(*pullInstance).start
00:14:41.640 unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/gossip/gossip/pull/pullstore_test.go:98 +0xc9
00:14:41.676 unit-tests_1  | --- FAIL: TestAddAndRemove (24.69s)
00:14:41.679 unit-tests_1  | 	assertions.go:247: 
                          
	Error Trace:	pullstore_test.go:378
00:14:41.681 unit-tests_1  | 		
	            	
			pullstore_test.go:273
00:14:41.682 unit-tests_1  | 		
	Error:      	Timeout expired!
00:14:41.685 unit-tests_1  | 		
	Test:       	TestAddAndRemove
00:14:41.686 unit-tests_1  | FAIL
00:14:41.687 unit-tests_1  | coverage: 91.8% of statements
00:14:41.689 unit-tests_1  | FAIL	github.com/hyperledger/fabric/gossip/gossip/pull	24.701s {code}
Another occurrence today: [https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/4833/console];;;","21/Sep/18 8:53 PM;yacovm;/CC [~C0rWin] ;;;","26/Sep/18 10:39 PM;sykesm;And again: https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/4987/console

{code}
00:12:07.451 unit-tests_1  | --- FAIL: TestAddAndRemove (21.68s)
00:12:07.452 unit-tests_1  | 	assertions.go:247: 
                          
	Error Trace:	pullstore_test.go:378
00:12:07.453 unit-tests_1  | 		
	            	
			pullstore_test.go:273
00:12:07.454 unit-tests_1  | 		
	Error:      	Timeout expired!
00:12:07.455 unit-tests_1  | 		
	Test:       	TestAddAndRemove
00:12:07.456 unit-tests_1  | FAIL
00:12:07.456 unit-tests_1  | coverage: 91.8% of statements
00:12:07.457 unit-tests_1  | FAIL	github.com/hyperledger/fabric/gossip/gossip/pull	21.685s
{code}

[^console-timestamp-4987.log.txt] ;;;","19/Dec/18 9:02 PM;sykesm;And again: https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/7324/console

{code}
02:19:56 --- FAIL: TestAddAndRemove (26.35s)
02:19:56     pullstore_test.go:378: 
02:19:56         	Error Trace:	pullstore_test.go:378
02:19:56         	            				pullstore_test.go:273
02:19:56         	Error:      	Timeout expired!
02:19:56         	Test:       	TestAddAndRemove
02:19:56 FAIL
02:19:56 coverage: 93.4% of statements
02:19:56 FAIL	github.com/hyperledger/fabric/gossip/gossip/pull	26.354s
{code};;;","20/Dec/18 12:07 AM;sykesm;And again: https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/7341/console

{code}
12:33:24 --- FAIL: TestAddAndRemove (31.35s)
12:33:24     pullstore_test.go:378: 
12:33:24         	Error Trace:	pullstore_test.go:378
12:33:24         	            				pullstore_test.go:273
12:33:24         	Error:      	Timeout expired!
12:33:24         	Test:       	TestAddAndRemove
12:33:24 FAIL
12:33:24 coverage: 93.4% of statements
12:33:24 FAIL	github.com/hyperledger/fabric/gossip/gossip/pull	31.362s
{code};;;","12/Jan/19 12:37 AM;denyeart;And again:

https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/7820/console;;;","23/Jan/19 5:55 PM;C0rWin;  https://gerrit.hyperledger.org/r/28917;;;","23/Jan/19 10:40 PM;denyeart;Merged in master and release-1.4. Done.;;;",,,,,,,,,,,,,,,,,,,,,,
Need better info logging of block processing in peer,FAB-12030,33829,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,denyeart,ptippett,ptippett,18/Sep/18 1:56 AM,27/Nov/18 5:32 AM,28/Oct/23 3:04 AM,27/Nov/18 5:32 AM,v1.1.0,v1.2.0,v1.3.0,,,v1.1.2,v1.2.1,v1.3.0,,,fabric-common,fabric-peer,,,0,,,,,,"When debugging performance problems, it's very important to be able to get more granular times on when a peer is processing a block.

Currently, the only logging at the INFO level is when the peer commits a block.  To get more detail, we have to turn on debug logs which results in a TON of logs and makes debugging difficult.  My understanding is the states are at a high level:

 
 * block arrival via gossip (and orderer if the peer is pulling directly from orderer?)
 * when it starts to get processed
 * when validation is complete
 * when commit is complete to chain
 * when commit is complete to statedb

And currently all that is logged is when commit is complete to chain.

Can we get a bit more detail at the INFO level.  Here's a couple of specific proposals:

1 - At info level, log the first time the block shows up at the peer via any method and whenever the peer is done with it.  Given that you are currently logging when the commit is complete to chain, that may be sufficient for an end state and you can just add block arrival.

2 - Keep a single info message per block to avoid overwhelming the info logs, but add more granularity to that log line.  Something like:   ""Block 298: arrived at x (time), started processing y, completed validation z, committed to to chain, aa, committed to statedb bb""  Obviously this could get long, so you could limit the granularity down to arrival and commit to chain, or some smaller list.

 

I'm not filing this as a bug, but if it's an easy change, please port it back to 1.1.x and 1.2.x as many customers are still on these versions and are starting to debug performance issues.

 

 ",,denyeart,ptippett,qizhang87,yacovm,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzr7j:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,ptippett,qizhang87,yacovm,yoheiueda,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,release-1.1,main,release-1.2,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"19/Sep/18 2:57 PM;denyeart;[~ptippett] Here's what I've come up with, what do you think?  I tried to preserve the existing Info message in case people are grepping on it, but also added breakdown of commit times, as well as a new message for Received and Validated.
{code:java}
2018-09-19 01:49:35.861 EDT [blocksProvider] DeliverBlocks -> INFO 02e [myc] Received block [57] from ordering service
2018-09-19 01:49:35.867 EDT [committer/txvalidator] Validate -> INFO 02f [myc] Validated block [57] in 5ms
2018-09-19 01:49:35.892 EDT [kvledger] CommitWithPvtData -> INFO 030 [myc] Committed block [57] with 1 transaction(s) in 24ms (state_validation=7ms block_commit=0ms state_commit=16ms){code};;;","19/Sep/18 3:25 PM;denyeart;https://gerrit.hyperledger.org/r/#/c/26383/;;;","19/Sep/18 8:44 PM;ptippett;[~denyeart] Thanks man!  This looks good to me.  So we'll now have 3 messages per block at info vs 1.  I think that's reasonable.  Good idea on preserving the existing log message.;;;","19/Sep/18 10:54 PM;qizhang87;[~denyeart] [~ptippett] A block can be received from either ordering service, or the other peers in the same org via Gossip. Thus is it accurate to say ""Received block [57]from ordering service"" only, maybe we also wanna have ""Received block [XX]from Gossip""?;;;","20/Sep/18 1:22 AM;denyeart;[~qizhang87] In this code location, the info message is correct that the block was received from ordering service.

You are correct though, we need a similar info message when block is received from a leader peer or another peer via block transfer. 

[~yacovm] Could you point to the relevant code locations for those two scenarios? Or even better... go ahead and log the other two info statements in your own gossip CR.

This will make it clear in the logs how the blocks are coming in for each peer (whether they are currently a leader, a follower, or trying to catch up via block transfer).;;;","20/Sep/18 1:36 AM;yacovm;When we get a block from the ordering service we [log it|https://github.com/hyperledger/fabric/blob/release-1.2/core/deliverservice/blocksprovider/blocksprovider.go#L186]...
{quote}You are correct though, we need a similar info message when block is received from a leader peer or another peer via block transfer. {quote}
Do you mean the [point-to-point|https://github.com/hyperledger/fabric/blob/release-1.2/gossip/state/state.go#L473] state transfer? Or just [standard gossip|https://github.com/hyperledger/fabric/blob/release-1.2/gossip/gossip/gossip_impl.go#L347]? 

;;;","20/Sep/18 4:26 AM;denyeart;[~yacovm] From my understanding, there are 3 ways to get a block:
 * from ordering service (which I am already logging at [https://gerrit.hyperledger.org/r/#/c/26383/2/core/deliverservice/blocksprovider/blocksprovider.go] )
 * as a follower of a leader peer in your org
 * from another peer via block transfer

It would be good to have a single log info message at each block entry point.

You'll probably tell me that I have over-simplified it, and there are some edge cases where there could be collisions, and so on.  In that case I'm open to getting educated and hearing your proposal.

The intent is to give some clue to the admin of the block arrival rate and processing rate (which they could perhaps draw some conclusions about the buffer and bottlenecks from), through minimal operational logging.  E.g. 3-4 short statements per block, without having to turn on the full debug.;;;","20/Sep/18 4:51 AM;yacovm;{quote} * as a follower of a leader peer in your org{quote}
That's not how it is... You can get it from a follower too. 
Recall that gossip is a protocol that has 2 independent flows:
 * Push - you (any peer... leader or follower) pick a set of random peers and pushes a block to them.
This happens whenever the peer receives a block for the first time
 * Pull - you (any peer - leader or follower) pick a set of random peers and ask them what they know, and then you may pull from some, blocks you are missing that they reported to have.

 
{quote}It would be good to have a single log info message at each block entry point.
{quote}
Why do you care if you received the block from a leader or not? You can receive it from a non leader too. In fact - if the leader peer ""missed"" you at the push phase, most chances are you're going to pull the block from a non-leader (assuming there are more non leaders than the only leader, excluding yourself...)

 
{quote}The intent is to give some clue to the admin of the block arrival rate and processing rate (which they could perhaps draw some conclusions about the buffer and bottlenecks from), through minimal operational logging. E.g. 3-4 short statements per block, without having to turn on the full debug.
{quote}
We have such...  basically [this|https://github.com/hyperledger/fabric/blob/release-1.2/gossip/state/state.go#L750] method enqueues the block to be committed when the ledger finished committing the previous block, and [this|https://github.com/hyperledger/fabric/blob/release-1.2/gossip/state/state.go#L547] method commits the block into the ledger.
After the commit, there is [also a log|https://github.com/hyperledger/fabric/blob/release-1.2/gossip/state/state.go#L778].;;;","20/Sep/18 9:41 PM;denyeart;Thanks Yacov. I've pushed CR [https://gerrit.hyperledger.org/r/#/c/26383/] , can you review the messages now.

The intent is to log at INFO level when a block is received, so that admin can understand receive time versus validate time versus commit time.

Previously, the receive message was ambiguous, there was a single INFO message:

{color:#5230e1}2018-09-20 08:25:13.770 EDT [gossip/privdata] StoreBlock -> INFO 268{color} {color:#000000}Received block [84]{color}

People that don't know the code couldn't distinguish whether this was the enqueued time or dequeued time from buffer.
 In my new CR, you get a received INFO message when the block is enqueued, that also mentions where it was received from, one of:
{code:java}
Received block [5] from ordering service
Received block [5] from another peer via gossip
Received block [5] from another peer via block transfer{code}
And then you get a debug message when it is dequeued for processing:
{code:java}
Received block [5] from buffer{code}
Now admins can understand receive time versus validate time versus commit time without having to turn on debug:
{code:java}
2018-09-19 01:49:35.861 EDT [blocksProvider] DeliverBlocks -> INFO 02e [myc] Received block [57] from ordering service
 2018-09-19 01:49:35.867 EDT [committer/txvalidator] Validate -> INFO 02f [myc] Validated block [57] in 5ms
 2018-09-19 01:49:35.892 EDT [kvledger] CommitWithPvtData -> INFO 030 [myc] Committed block [57] with 1 transaction(s) in 24ms (state_validation=7ms block_commit=0ms state_commit=16ms){code}
I've also fixed up the debug to make it more standardized with [channel] and [block] number for easier readability and grepping, for example old:
{code:java}
2018-09-20 08:25:13.770 EDT [blocksProvider] DeliverBlocks -> DEBU 263 [myc] Adding payload locally, buffer seqNum = [84], peers number [0]
 2018-09-20 08:25:13.770 EDT [gossip/state] addPayload -> DEBU 264 Adding new payload into the buffer, seqNum = 84
 2018-09-20 08:25:13.770 EDT [blocksProvider] DeliverBlocks -> DEBU 265 [myc] Gossiping block [84], peers number [0]
 2018-09-20 08:25:13.770 EDT [gossip/state] deliverPayloads -> DEBU 266 Ready to transfer payloads to the ledger, next sequence number is = [84]
 2018-09-20 08:25:13.770 EDT [gossip/state] deliverPayloads -> DEBU 267 New block with claimed sequence number 84 transactions num 1
 2018-09-20 08:25:13.770 EDT [gossip/privdata] StoreBlock -> INFO 268 Received block [84]
 2018-09-20 08:25:13.771 EDT [gossip/privdata] StoreBlock -> DEBU 269 Validating block [84]
 2018-09-20 08:25:13.771 EDT [committer/txvalidator] Validate -> DEBU 26a START Block Validation{code}
and new:
{code:java}
 2018-09-20 08:14:53.549 EDT [blocksProvider] DeliverBlocks -> DEBU 27a [myc] Adding payload to local buffer, blockNum = [83]
 2018-09-20 08:14:53.549 EDT [gossip/state] addPayload -> DEBU 27b [myc] Adding payload to local buffer, blockNum = [83]
 2018-09-20 08:14:53.549 EDT [blocksProvider] DeliverBlocks -> INFO 27c [myc] Received block [83] from ordering service
 2018-09-20 08:14:53.549 EDT [blocksProvider] DeliverBlocks -> DEBU 27d [myc] Gossiping block [83], peers number [0]
 2018-09-20 08:14:53.549 EDT [gossip/state] deliverPayloads -> DEBU 27e [myc] Ready to transfer payloads (blocks) to the ledger, next block number is = [83]
 2018-09-20 08:14:53.549 EDT [gossip/state] deliverPayloads -> DEBU 27f [myc] Transferring block [83] with 1 transaction(s) to the ledger
 2018-09-20 08:14:53.549 EDT [gossip/privdata] StoreBlock -> DEBU 280 [myc] Received block [83] from buffer
 2018-09-20 08:14:53.549 EDT [gossip/privdata] StoreBlock -> DEBU 281 [myc] Validating block [83]
 2018-09-20 08:14:53.549 EDT [committer/txvalidator] Validate -> DEBU 282 [myc] START Block Validation for block [83]{code};;;","20/Sep/18 11:41 PM;yacovm;/CC [~C0rWin] ;;;","24/Sep/18 7:12 PM;denyeart;merged in master for v1.3.  backporting to release-1.2 and release-1.1...;;;",,,,,,,,,,,,,,,,,,,,,,
Vendoring of golang.org/x/net causes panic,FAB-12031,33830,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid: Environment Issue,,vdods,vdods,18/Sep/18 2:15 AM,28/Jan/19 2:20 PM,28/Oct/23 3:04 AM,17/Jan/19 12:21 AM,,,,,,,,,,,fabric-peer,,,,0,,,,,,"golang.org/x/net is naughty and acquires a hardcoded resource ""/debug/requests"" in its init function, meaning that if the package is imported twice (ostensibly from different paths, such as a vendored version and a non-vendored version), the program panics upon startup.

 

{{panic: http: multiple registrations for /debug/requests}}{{      }}
{{goroutine 1 [running]: }}
{{net/http.(*ServeMux).Handle(0x1b67dc0, 0x137c787, 0xf, 0x1433900, 0x13aaf80)                               }}
{{        /usr/lib/go-1.10/src/net/http/server.go:2353 +0x239   }}
{{net/http.(*ServeMux).HandleFunc(0x1b67dc0, 0x137c787, 0xf, 0x13aaf80)  }}
{{        /usr/lib/go-1.10/src/net/http/server.go:2368 +0x55 }}
{{net/http.HandleFunc(0x137c787, 0xf, 0x13aaf80) }}
{{        /usr/lib/go-1.10/src/net/http/server.go:2380 +0x4b }}
{{github.com/hyperledger/fabric/vendor/golang.org/x/net/trace.init.0()}}
{{        /home/vdods/files/gopath/src/github.com/hyperledger/fabric/vendor/golang.org/x/net/trace/trace.go:115 +0x42                      }}

 

The fix for this is to not vendor golang.org/x/net (even though it's their fault that this is happening).",,denyeart,mastersingh24,sykesm,vdods,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12246,,,FAB-12641,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzr7r:",,,,Unset,Unset,,,"Presumably importing github.com/golang/protobuf/proto and github.com/hyperledger/fabric/core/chaincode/shim at the same time would produce this, as I believe github.com/hyperledger/fabric/core/chaincode/shim uses the vendored version of golang.org/x/net

One workaround is to delete github.com/hyperledger/fabric/vendor/golang.org/x/net from your local copy.",,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,mastersingh24,sykesm,vdods,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"19/Sep/18 9:54 PM;denyeart;[~vdods] [~sykesm] What is the proposed action from your perspective?;;;","19/Sep/18 11:24 PM;sykesm;{quote}What is the proposed action from your perspective?{quote}

We need to stop pretending we can fix or defend the process that's being used to build golang chaincode.

Create a story to extract all user linkable code out of fabric and into its own repository, document that golang chaincode should vendor its own deps, and change the golang builder to stop magically including bits of fabric.;;;","19/Sep/18 11:29 PM;mastersingh24;100% agree ;;;","20/Sep/18 12:16 AM;sykesm;More details: 

- We have to vendor portions of golang.org/x/net because we use golang.org/protobuf/proto-gen-go as our protobuf compiler and google.golang.org/grpc as our grpc implementation
- The package that is causing the issue is actually golang.org/x/net/trace.
- The trace dependency is coming from google.golang.org/grpc

This is not a dependency that can be removed from fabric proper.;;;","20/Sep/18 3:53 AM;vdods;Deleting the vendored version of golang.org/x/net did the trick for me.  But then again I'm developing an app and chaincode against fabric, not compiling fabric peer/orderer over and over.;;;","21/Sep/18 5:36 PM;mastersingh24;[~vdods] - I don't think this should happen if you explicitly vendor all dependencies with your chaincode including the shim.

Almost every modern ""vendoring"" tool now flattens the vendor structure such that only one copy of each package exists.

What [~sykesm] was referring to above is the fact that the Go chaincode builder actually adds things to the GOPATH inside the builder container and that's how you end up with the issue.

BTW - that does not mean I'm saying we shouldn't do anything.;;;","21/Sep/18 7:00 PM;sykesm;[~vdods] - The paths in your message imply you're not vendoring at all tool but are working out of a workspace. As Gari suggests, vendoring the bits of fabric that you need with a tool that flattens dependencies is recommended. (That doesn't mean you won't have _different_ problems. For example, you may run into incompatible version conflicts between your code and what you vendor.)
{quote}BTW - that does not mean I'm saying we shouldn't do anything.
{quote}
I want to second that. The issue is that we're not making it easy for people to consume the bits they need. We need to fix that; unfortunately, it's non-trivial amount of work so we have to prioritize it as development instead of as bugs and communicate it appropriately as it changes the existing model quite a bit.;;;","17/Jan/19 12:21 AM;sykesm;Unfortunately, none of the withdrawal reasons really make sense.

The issue that's reported here is related to the current design and implementation of chaincode and the structure of the fabric dependencies. Those issues will be (mostly) tackled by stories related to FAB-12246.

Note that this system chaincode will likely still have issues because of the requirements and restrictions of go plugins.;;;",,,,,,,,,,,,,,,,,,,,,,,,,
PTE gen_cfgInputs.sh enhancement: target query peers,FAB-12032,33833,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,dongming,dongming,dongming,18/Sep/18 2:38 AM,27/Sep/18 9:04 AM,28/Oct/23 3:04 AM,27/Sep/18 9:04 AM,,,,,,,,,,,fabric-quality,,,,0,,,,,,"To enhance gen_cfgInputs.sh with target query peers, then add this option into FAB-11638",,dongming,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11638,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-2247,,,No,,Unset,No,,,"1|hzzr87:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),dongming,,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,true,"26/Sep/18 5:15 AM;dongming;https://gerrit.hyperledger.org/r/#/c/26574/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add check for verifying block.Header.PreviousHash field,FAB-12033,33838,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,manish-sethi,manish-sethi,manish-sethi,18/Sep/18 6:00 AM,18/Sep/18 9:22 PM,28/Oct/23 3:04 AM,18/Sep/18 9:22 PM,,,,,,v1.3.0,,,,,fabric-ledger,,,,0,,,,,,"In the current code, before adding the block to the ledger, ledger verifies the correct sequence number of the block just to double check that gossip is delivering the right sequence of blocks. In addition, before block is delivered to ledger, the signatures of the ordering service node(s) are verified that fulfills the requirement of the trust model.

Though the above checks are sufficient for keeping an unintended block from getting committed to ledger. Still, it may not be a bad idea to add an additional check that verifies that the field `block.Header.PreviousHash` present in the block matches with the hash of the last committed block. This check is a simple bytes comparison and hence does not cause any observable performance penalty and may help in detecting a rare scenario if there is any bug in the ordering service.",,manish-sethi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzr93:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),manish-sethi,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Data races in gossip/gossip/pull,FAB-12034,33839,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,18/Sep/18 6:52 AM,18/Sep/18 11:31 PM,28/Oct/23 3:04 AM,18/Sep/18 11:09 PM,v1.3.0,,,,,v1.3.0,,,,,fabric-gossip,,,,0,,,,,,"In each test, a common membership map is used, and the map is populated at the time of instance creation.

The instance itself runs from a different goroutine, and accesses the map during its operation. These accesses, aren't memory synchronized. 

",,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12029,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzr9b:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"18/Sep/18 4:27 PM;yacovm;https://gerrit.hyperledger.org/r/#/c/26359/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
code hygiene: rm marble examples from ledger,FAB-12035,33841,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,Senthil1,Senthil1,Senthil1,18/Sep/18 12:25 PM,18/Sep/18 11:06 PM,28/Oct/23 3:04 AM,18/Sep/18 11:05 PM,,,,,,v1.3.0,,,,,fabric-ledger,,,,0,,,,,,"A long time ago in a galaxy far far away, we added marble example app to the ledger for ledger integration test (due to lack of availability of other components in the beginning of v1.0 development). Given that now we have sophisticated ledger level integration test and all component integration test, marble example can be removed from the ledger folder. Anyway, we have not touched this part of code in the last 2 years.",,Senthil1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzr9r:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),Senthil1,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
1.3 Story,FAB-12036,33842,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid,,jchenibm,jchenibm,18/Sep/18 4:23 PM,18/Sep/18 4:25 PM,28/Oct/23 3:04 AM,18/Sep/18 4:25 PM,,,,,,v1.3.0,,,,,,,,,0,,,,,,,,jchenibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzr9z:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),jchenibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Controls over private data to satisfy GDPR,FAB-12038,33846,,Epic,Backlog,FAB,Fabric,software,denyeart,,,Medium,,bta,mne,mne,18/Sep/18 10:08 PM,01/May/21 2:30 AM,28/Oct/23 3:04 AM,,,,,,,,,,,,fabric-crypto,,,,3,Security,,,,,"Storing data on a blockchain is often in contradiction to basic GDPR requirements, which require a user/client/participant to be able to request deletion of their data.

In Fabric, private data partly addresses this issue, as it allows to only store hashes of the actual transaction read/write set on the ledger and keep the actual data in SideDB. However, the control over how long this data is kept is limited (BlockToLive) and there is no facility to delete specific private data on request from all stores (TransientDB, SideDB, WriteSet Cache).

The goal of this epic is to address this issue and allow targeted deletion of private data from all caches/stores, including from internal db log files as mentioned in FAB-15536.",,ales,bryangross,bta,chbtt,ellaki,eugenluft,mne,nemoto,roberttaylortech,rolivieri,ymlbright,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,https://docs.google.com/document/d/1O5UCzf8H_kN4iqMgHm8haDhqacsCBEWNY-dhDG7qgYc/edit#heading=h.o311hwj6mh5i,Required,Unset,Required,ghx-label-5,,Controls over private data to satisfy GDPR,To Do,No,,Required,No,,,"1|hzzrav:",,,,Unset,Required,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ales,bryangross,bta,chbtt,ellaki,eugenluft,mne,nemoto,roberttaylortech,rolivieri,ymlbright,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
As an application developer I want to control deletion of private data based on real time,FAB-12039,33847,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,mne,mne,18/Sep/18 10:13 PM,23/Jan/20 7:32 AM,28/Oct/23 3:04 AM,23/Jan/20 7:32 AM,,,,,,,,,,,fabric-crypto,,,,0,Security,stale-item,,,,"Currently fabric only allows private data to be deleted based on block height (BlockToLive). This is insufficient for use cases that need to address GDPR, specifying when data needs to be purged in real time.

Also, BlockToLive is prone to DoS attacks by adversaries that submit transactions with the goal of creating sufficient number of blocks to quickly exceed the BlockToLive of their victims.",,ales,bta,ellaki,mne,nemoto,sykesm,troyronda,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3678,,,,,,,,,,,,,,,,,,,,,,,FAB-12045,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-12038,,,No,,Unset,No,,,"1|hzzrb3:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ales,bta,ellaki,mne,nemoto,sykesm,troyronda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 7:32 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Behave test daily fails in CouchDB_index tests(FAB-7260, FAB-7261) , Gossip, and Peer tests",FAB-12040,33848,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,latitiah,sambhavdutt,sambhavdutt,18/Sep/18 11:03 PM,19/Mar/19 8:13 PM,28/Oct/23 3:04 AM,09/Oct/18 3:26 AM,v1.3.0,,,,,v1.3.0,,,,,fabric-quality,,,,0,ci-failure,,,,,"Posting the errors observed in the daily Behave feature tests,

{code:java}
CouchDB_index.Testing Fabric CouchDB indexing.FAB-7260, FAB-7261: Test CouchDB indexing using install-after-instantiate with marbles chaincode using NODE with 3 channels and 1 index -- @1.2 

Failing step: And an admin instantiates the chaincode on channel ""mychannel1"" on peer ""peer0.org1.example.com"" ... failed in 133.364s
Location: CouchDB_index.feature:245
Assertion Failed: The expected chaincode container b08d8786baff11e8a3b7fa163e257071-peer0.org1.example.com-mycc1-0 is not running

    And an admin installs chaincode at path ""../../fabric-samples/chaincode/marbles02/node"" of language ""NODE"" as version ""0"" with args [""""] with name ""mycc1"" to ""peer1.org2.example.com"" ... passed in 6.815s
    And an admin installs chaincode at path ""../../fabric-samples/chaincode/marbles02/node"" of language ""NODE"" as version ""0"" with args [""""] with name ""mycc1"" to ""peer0.org2.example.com"" ... passed in 5.798s
    And an admin instantiates the chaincode on channel ""mychannel1"" on peer ""peer0.org1.example.com"" ... failed in 133.364s
.
.
08:09:22 Failing scenarios:
08:09:22   CouchDB_index.feature:107  FAB-7256: Test CouchDB indexing using marbles chaincode using NODE with 3 channels and 3 index with 1 selector -- @1.2 
08:09:22   CouchDB_index.feature:279  FAB-7260, FAB-7261: Test CouchDB indexing using install-after-instantiate with marbles chaincode using NODE with 3 channels and 1 index -- @1.2 
08:09:22   gossip.feature:316  [FAB-4666] A non-leader peer, that joins an already-active channel--is expected to have all the blocks eventually.
08:09:22   peer.feature:232  FAB-8380: Test MSP Identity - Malicious Peer
08:09:22   peer.feature:251  FAB-8381: Test MSP Identity - Malicious Peer (Clients set as writers in policy)
08:09:22   peer.feature:274  FAB-8382: Test MSP Identity with inconsistencies
08:09:22 
08:09:22 3 features passed, 3 failed, 1 skipped
08:09:22 104 scenarios passed, 6 failed, 41 skipped
08:09:22 2268 steps passed, 6 failed, 1422 skipped, 0 undefined
08:09:22 Took 446m44.690s
{code}

*Build Logs*

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-daily-behave-master-x86_64/28/

COUCHDB_index
https://jenkins.hyperledger.org/view/Daily/job/fabric-test-daily-behave-master-x86_64/28/testReport/CouchDB_index/Testing%20Fabric%20CouchDB%20indexing/FAB_7260__FAB_7261__Test_CouchDB_indexing_using_install_after_instantiate_with_marbles_chaincode_using_NODE_with_3_channels_and_1_index_____1_2_/

Gossip
https://jenkins.hyperledger.org/view/Daily/job/fabric-test-daily-behave-master-x86_64/28/testReport/gossip/Gossip%20Service/_FAB_4666__A_non_leader_peer__that_joins_an_already_active_channel__is_expected_to_have_all_the_blocks_eventually_/

Peer
https://jenkins.hyperledger.org/view/Daily/job/fabric-test-daily-behave-master-x86_64/28/testReport/peer/Peer%20Service/FAB_8380__Test_MSP_Identity___Malicious_Peer/

https://jenkins.hyperledger.org/view/Daily/job/fabric-test-daily-behave-master-x86_64/28/testReport/peer/Peer%20Service/FAB_8381__Test_MSP_Identity___Malicious_Peer__Clients_set_as_writers_in_policy_/

https://jenkins.hyperledger.org/view/Daily/job/fabric-test-daily-behave-master-x86_64/28/testReport/peer/Peer%20Service/FAB_8382__Test_MSP_Identity_with_inconsistencies/

",,latitiah,rameshthoomu,sambhavdutt,scottz,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11818,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,4f647fe27647dcd10572dc04bb01e62287e8b319,Unset,No,,,"1|hzzrbb:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),latitiah,rameshthoomu,sambhavdutt,scottz,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,true,"25/Sep/18 11:30 PM;latitiah;https://gerrit.hyperledger.org/r/26555;;;","01/Oct/18 2:09 AM;sambhavdutt;Observed the following errors in Behave tests daily, 

*Found in commit: 6f3c971882523f4c8e0f270d8478914ae1f06cef*

1. Fabric CouchDB Indexing.


{code:java}
CouchDB_index.Testing Fabric CouchDB indexing.FAB-7269: Test CouchDB indexing using CC upgrade with marbles chaincode using NODE with 3 channels and 1 upgrade -- @1.2 

The expected chaincode container 6e878c64c40611e8be01fa163ef1fccc-peer0.org1.example.com-mycc1-0 is not running

.
.
cQKh8igo5QUhZ7lg38DYWAxMvjSAKG0A8wGSVimP07SIUEK2UO+arSRKbRZWtelMtN5V0Hkwh5ryOto/SshYIg== integrity checksum failed when using sha512: wanted sha512-cQKh8igo5QUhZ7lg38DYWAxMvjSAKG0A8wGSVimP07SIUEK2UO+arSRKbRZWtelMtN5V0Hkwh5ryOto/SshYIg== but got sha512-ciQGUUCxmMNRlyVUHBXFIck3T15olM/NmmYX+pFbUjKH/596NNcAdLF/+olkoX12L0lwxwzrhKdIzAHrjMwvzQ==. (216472 bytes)\n\nnpm ERR! A complete log of this run can be found in:\nnpm ERR!     /root/.npm/_logs/2018-09-29T16_45_10_809Z-debug.log\n""\n'}}
{code}

https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-behave-master-x86_64/40/testReport/CouchDB_index/Testing%20Fabric%20CouchDB%20indexing/FAB_7269__Test_CouchDB_indexing_using_CC_upgrade_with_marbles_chaincode_using_NODE_with_3_channels_and_1_upgrade_____1_2_/

2. Fabric-CA Service


{code:java}
fabric-ca.Fabric-CA Service.FAB-6489: Interoperability Test using kafka based orderer -- @1.2 
.
There are no kafka brokers set in the orderer environment
.
.
@scenario.begin

  @interop @daily
  Scenario Outline: FAB-6489: Interoperability Test using kafka based orderer -- @1.2 
    Given I have a bootstrapped fabric network of type kafka using state-database couchdb with tls ... failed in 32.473s
    And I use the CLI interface ... skipped in 0.000s
{code}

https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-behave-master-x86_64/40/testReport/fabric-ca/Fabric-CA%20Service/

3. Gossip


{code:java}
gossip.Gossip Service.[FAB-4663] [FAB-4664] [FAB-4665] A non-leader peer goes down by disconnect, comes back up and catches up eventually. -- @1.3 
.
There are no kafka brokers set in the orderer environment
.
Failing step: And I have a bootstrapped fabric network of type kafka ... failed in 21.885s
Location: gossip.feature:12
Assertion Failed: There are no kafka brokers set in the orderer environment
Captured stdout:
testConfigs: configs/f6cfca4ac42011e8be01fa163ef1fccc
.
  @daily
  Scenario Outline: [FAB-4663] [FAB-4664] [FAB-4665] A non-leader peer goes down by disconnect, comes back up and catches up eventually. -- @1.3 
    Given the CORE_LOGGING_GOSSIP environment variable is ""DEBUG"" ... passed in 0.002s
    And I have a bootstrapped fabric network of type kafka ... failed in 21.885s
{code}

https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-behave-master-x86_64/40/testReport/gossip/Gossip%20Service/;;;","01/Oct/18 10:59 PM;latitiah;This is an unrelated issue from the previous errors. There were logging text changes with the original issue. These new problems look as though there is an environmental issue if the kafka broker containers are not coming up.;;;","02/Oct/18 8:58 PM;sambhavdutt;https://gerrit.hyperledger.org/r/#/c/26702/

This CR has been merged. Need to wait for the Behave tests to execute.;;;","05/Oct/18 12:07 AM;sambhavdutt;I have noticed these errors in today's Behave test.

https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-behave-master-x86_64/44/testReport/CouchDB_index/Testing%20Fabric%20CouchDB%20indexing/

*FAB-7270, FAB-7271, FAB-7272*

{code:java}
CouchDB_index.Testing Fabric CouchDB indexing.FAB-7270, FAB-7271, FAB-7272: Test CouchDB indexing using CC upgrade with marbles chaincode using NODE with 3 channels and 3 upgrade -- @1.2 

The expected chaincode container ee3b2146c78a11e8987ffa163e5ffef9-peer0.org1.example.com-mycc3-1 is not running
{code}

https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-behave-master-x86_64/44/testReport/CouchDB_index/Testing%20Fabric%20CouchDB%20indexing/FAB_7270__FAB_7271__FAB_7272__Test_CouchDB_indexing_using_CC_upgrade_with_marbles_chaincode_using_NODE_with_3_channels_and_3_upgrade_____1_2_/



*FAB-7253*

{code:java}
CouchDB_index.Testing Fabric CouchDB indexing.FAB-7253: Test CouchDB indexing using marbles chaincode using GOLANG with 3 channels and 3 index with 1 selector -- @1.1 

The kafka containers are not ready in the allotted time (300 seconds)
@daily
  Scenario Outline: FAB-7253: Test CouchDB indexing using marbles chaincode using GOLANG with 3 channels and 3 index with 1 selector -- @1.1 
    Given I have a bootstrapped fabric network of type kafka using state-database couchdb with tls ... failed in 329.786s
{code}

https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-behave-master-x86_64/44/testReport/CouchDB_index/Testing%20Fabric%20CouchDB%20indexing/FAB_7253__Test_CouchDB_indexing_using_marbles_chaincode_using_GOLANG_with_3_channels_and_3_index_with_1_selector_____1_1_/



*FAB-7262*

https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-behave-master-x86_64/44/testReport/CouchDB_index/Testing%20Fabric%20CouchDB%20indexing/FAB_7262__Test_CouchDB_indexing_using_install_after_instantiate_with_marbles_chaincode_using_NODE_with_3_channels_and_3_indexes_____1_2_/

*FAB-7260, FAB-7261*
https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-behave-master-x86_64/44/testReport/CouchDB_index/Testing%20Fabric%20CouchDB%20indexing/FAB_7260__FAB_7261__Test_CouchDB_indexing_using_install_after_instantiate_with_marbles_chaincode_using_NODE_with_3_channels_and_1_index_____1_2_/

*Fabric-CA Service  FAB-6489 1.1, 1.2* 

Permission Denied 
https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-behave-master-x86_64/44/testReport/fabric-ca/Fabric-CA%20Service/FAB_6489__Interoperability_Test_using_solo_based_orderer_____1_1_/

https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-behave-master-x86_64/44/testReport/fabric-ca/Fabric-CA%20Service/FAB_6489__Interoperability_Test_using_kafka_based_orderer_____1_2_/





Orderer Service *FAB-3851* 
https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-behave-master-x86_64/44/testReport/orderer/Orderer%20Service/FAB_3851__Message_Payloads_of_size_125KB__with_default_msg_size___for_kafka_orderer_____1_4_/


;;;","09/Oct/18 3:20 AM;latitiah;From my understanding, these latest couchdb errors were due to changes in the couchdb image that were merged after Sept 20th. The last known successful run was on Sept 20th. 

These issues are not related to the original issue, but related to this issue: FAB-12023;;;","09/Oct/18 3:26 AM;latitiah;Since the latest failures are not related to the original failures, I'm closing this issue as completed.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
Update fabric build to use base image 0.4.12,FAB-12042,33851,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,19/Sep/18 1:48 AM,20/Sep/18 1:35 AM,28/Oct/23 3:04 AM,20/Sep/18 1:34 AM,,,,,,v1.3.0,,,,,,,,,0,,,,,,,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzrbr:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"19/Sep/18 1:50 AM;sykesm;https://gerrit.hyperledger.org/r/26368;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"with block event, send associated private data too",FAB-12043,33852,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wenjian,Senthil1,Senthil1,19/Sep/18 2:13 AM,04/Oct/19 12:38 AM,28/Oct/23 3:04 AM,04/Oct/19 12:38 AM,,,,,,v2.0.0,,,,,fabric-ledger,,,,0,,,,,,"# In a block event, producer sends only the content of actual block. With sideDB and private data, the actual block would contain only the hashes of key and value. As a result, if anyone wants to export the data out of blockchain using block event, they need to either query it or depend on the GetPrivateDataByRange() API.
 # In the normal case, if we invoke a transaction and write something to the ledger, all the peers can listen to block event and get the read-write set so they know what got updated; however, in the sidedb case, even the peers that have access to the private collection cannot get anything from the block event. So in this case, if a collection includes \{A,B,C} peers and A submits transaction through nodejs API, how can B and C know what data is updated? As B and C’s client can no longer find this information out by listening to block events. 

To solve the above two problems, we can make the peer send the pvtdata along with the block event for the collection members only. When a client registers for event, it can mention whether it is interested in receiving the pvtdata. If the interest is specified, the peer would perform the ACL (to check whether the client is the member of the collection) and accept the registration. 

Note that we can allow use to configure this option via core.yaml. If a particular deployment does not want to export private data at all, it can be disabled via core.yaml",,denyeart,Senthil1,wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-1345,FABJ-467,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Yes,Unset,,FAB-5108,,,No,,Unset,No,,,"1|i008rj:iwy1",,,,Yes,Unset,v2.0,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,Senthil1,wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"01/Aug/19 12:18 AM;denyeart;So as to not impact the existing deliver services, a new rpc could be added for DeliverWithPrivateData:
https://github.com/hyperledger/fabric/blob/master/protos/peer/events.proto#L59-L70;;;","08/Aug/19 10:29 PM;wenjian;Talked to [~denyeart], do not need to add DeliverWithPrivateData support to CLI. See Dave's comment below.

The CLI fetch command is typically used for administrative functions like getting a config block. The block with private data is intended for use by applications, not administrators, therefore we need good SDK support rather than CLI support.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
make integration-test fails locally,FAB-12044,33883,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,sykesm,sykesm,19/Sep/18 2:40 AM,21/Sep/18 4:07 AM,28/Oct/23 3:04 AM,21/Sep/18 4:07 AM,,,,,,,,,,,,,,,0,,,,,,"The javaenv image used by the test is not pulled down as part of the make process. In particular, it's not one of the dependencies of the integration-test target or its transient dependency docker-thirdparty.

The fact that the javaenv image is not currently published to docker hub complicates things slightly as well as we have to pull from nexus and tag manually. ",,rameshthoomu,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzrfz:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rameshthoomu,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"21/Sep/18 4:06 AM;rameshthoomu;https://gerrit.hyperledger.org/r/#/c/26373/;;;","21/Sep/18 4:07 AM;rameshthoomu;Patch has been merged but I see this is failing in s390x daily jobs as we are not publishing javaenv image on s390x. Will add a logic to ignore pulling javaenv images, if you are running tests on s390x build node.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
As an application developer I want to control deletion of private data adaptively,FAB-12045,33884,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,,bta,bta,19/Sep/18 3:31 AM,13/Aug/19 11:44 PM,28/Oct/23 3:04 AM,13/Nov/18 12:11 AM,,,,,,,,,,,fabric-crypto,,,,1,Security,,,,,"Currently, Fabric allows private data to be purged from the write set cache using a fixed value (BlockToLive). This is insufficient for use cases that need to be compliant with GDPR, where data must be deleted upon a subject's request.",,bta,eugenluft,Hangyu_FJH,mgk,MichaelWang,mne,nemoto,rene.mciver,ScottAllan,troyronda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12039,,,FAB-5097,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzrg7:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bta,eugenluft,Hangyu_FJH,mgk,MichaelWang,mne,nemoto,rene.mciver,ScottAllan,troyronda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"13/Nov/18 12:11 AM;bta;Duplicate.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
modify Testviewer to retrieve new format of data from pteReport files,FAB-12046,33886,,Test Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,scottz,scottz,scottz,19/Sep/18 4:24 AM,01/Aug/19 11:43 AM,28/Oct/23 3:04 AM,01/Aug/19 11:43 AM,v1.3.0,,,,,v1.3.0,,,,,fabric-quality,,,,0,,,,,,"Whereas fab11898 aligned the PTE/OTE/LTE output filenames in the Nexus archived directories with the input files read by TestViewer, it did not modify the logic in Testviewer. Since the output format of the contents (i.e. the printed text lines) in the tests summary reports files has also changed (at least for PTE), we create this task for modifying Testviewer logic to read the data correctly from the new format in pteReport.log files.

Attachments: the pte test output summary files: old (result_FAB-3833-2i.log), and new (FAB-3833-2i-pteReport.log)",,denyeart,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11898,,,,,,,,,"19/Sep/18 4:23 AM;scottz;FAB-3833-2i-pteReport.log;https://jira.hyperledger.org/secure/attachment/15832/FAB-3833-2i-pteReport.log","19/Sep/18 4:22 AM;scottz;result_FAB-3833-2i.log;https://jira.hyperledger.org/secure/attachment/15833/result_FAB-3833-2i.log",,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzrgn:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"24/Sep/18 3:42 AM;denyeart;[~scottz] Do you want to update FixVersion to be v1.4.0.;;;","25/Sep/18 3:08 AM;scottz;It is used to create an independent image for Testviewer, but it should probably be kept in sync with the data generated. We will cut our fabric-test 1.3 branch after fabric does, so we still have time to do this. Since it is first real release, we could probably get away with surfing to 1.4 and just tell everyone to retrieve latest image, but let's see if we can get it done.;;;","02/Oct/18 6:06 AM;scottz;https://gerrit.hyperledger.org/r/#/c/26371/;;;","01/Aug/19 11:43 AM;scottz;We are not using, and will not use this longterm, so this can be closed.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Block state validation is doing an extra retrieve per writeset key,FAB-12047,33887,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Duplicate,,denyeart,denyeart,19/Sep/18 4:55 AM,19/Sep/18 5:56 AM,28/Oct/23 3:04 AM,19/Sep/18 5:56 AM,,,,,,v1.3.0,,,,,fabric-ledger,,,,0,,,,,,"Block state validation is doing an extra retrieve per writeset key.

This causes a performance regression in v1.3. 

In the debug log below, the first batch retrieve for readset state validation is expected.  The four individual key retrieves are not expected and did not happen in v1.2.
  
{code:java}
2018-09-18 15:22:35.759 EDT [valimpl] ValidateAndPrepareBatch -> DEBU 5fa ValidateAndPrepareBatch() for block number = [3]
 2018-09-18 15:22:35.760 EDT [couchdb] BatchRetrieveDocumentMetadata -> DEBU 603 Entering BatchRetrieveDocumentMetadata()  keys=[marble6 marble7] // batch retrieve for readset state validation
 2018-09-18 15:22:35.762 EDT [couchdb] ReadDoc -> DEBU 620 Entering ReadDoc()  id=[color~namebluemarble6]   // extra retrieve
 2018-09-18 15:22:35.764 EDT [couchdb] ReadDoc -> DEBU 62a Entering ReadDoc()  id=[marble6]                 // extra retrieve
 2018-09-18 15:22:35.766 EDT [couchdb] ReadDoc -> DEBU 63a Entering ReadDoc()  id=[color~namebluemarble7]   // extra retrieve
 2018-09-18 15:22:35.767 EDT [couchdb] ReadDoc -> DEBU 644 Entering ReadDoc()  id=[marble7]                 // extra retrieve{code}
 

{color:#333333}The cause of the extra retrieves is: 
{color}

{color:#333333}https://github.com/hyperledger/fabric/blob/master/core/ledger/kvledger/txmgmt/validator/valinternal/tx_ops_preparation.go#L30{color}",,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11700,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzrgv:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"19/Sep/18 5:56 AM;denyeart;Turns out this also related to state-based validation checks that can be skipped as part of  FAB-11700 .;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
create a simplest chaincode in all languages for performance benchmark,FAB-12048,33888,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,Ratnakar,dongming,dongming,19/Sep/18 5:31 AM,30/Jul/19 11:47 AM,28/Oct/23 3:04 AM,30/Jul/19 11:47 AM,,,,,,,,,,,fabric-quality,,,,0,,,,,,"Hyperledger fabric supports chaincode in three languages now: golang, Node js, and java.  To have a baseline performance benchmark, we need to have a very simple chaincode in each language.  The chaincode has key value only.  They can be maintained in fabric-test repository.",,dongming,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzrh3:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),dongming,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"30/Jul/19 11:47 AM;mastersingh24;No activity for around a year .... cleanup time;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update Documentation for Identity Mixer in Fabric 1.3,FAB-12049,33894,,Documentation,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,JonathanLevi,JonathanLevi,JonathanLevi,19/Sep/18 9:36 AM,21/Sep/18 11:55 AM,28/Oct/23 3:04 AM,21/Sep/18 11:53 AM,v1.3.0,,,,,v1.3.0,,,,,fabric-docs,,,,0,,,,,,,,JonathanLevi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-9919,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-10120,,,No,,Unset,No,,,"1|hzwrpr:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),JonathanLevi,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
ca-server  generate a user certificate may be less than the notBefore time for generating a root certificate using cryptogen,FAB-12050,33896,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,gsqtds,gsqtds,gsqtds,19/Sep/18 5:09 PM,21/Sep/18 10:32 PM,28/Oct/23 3:04 AM,20/Sep/18 11:09 PM,,,,,,v1.3.0,,,,,,,,,0,,,,,,"For a network where cryptogen generates a root certificate, the notBefore time for using the enroll function to call ca-server to generate a user certificate may be less than the notBefore time for generating a root certificate using cryptogen.

the detail describe can found in https://jira.hyperledger.org/browse/FABC-717",,denyeart,gsqtds,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABC-717,,,,,FABC-717,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzrin:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,gsqtds,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"19/Sep/18 9:52 PM;denyeart;[~gsqtds] Please clarify, should this be closed as duplicate of FABC-717 ?  Or are you intending to track two different problems?

[~skarim] FYI...;;;","20/Sep/18 11:22 AM;gsqtds;[~denyeart] I think this bug can fix by FAB,so add this ;;;","20/Sep/18 6:13 PM;denyeart;Ok, I see [https://gerrit.hyperledger.org/r/#/c/26387/] now, I'll put as In CR Review.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Improve unit tests for privacyenabledstate/db_test,FAB-12051,33897,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,ping40,ping40,ping40,19/Sep/18 5:18 PM,21/Sep/18 5:18 PM,28/Oct/23 3:04 AM,21/Sep/18 5:18 PM,,,,,,v1.3.0,,,,,fabric-ledger,,,,0,,,,,,"in core/ledger/kvledger/txmgmt/privacyenabledstate/db_test.go

 
{code:java}
func TestGetStateRangeScanIterator(t *testing.T) {
	for _, env := range testEnvs {
		t.Run(env.GetName(), func(t *testing.T) {
			testGetStateMultipleKeys(t, env)   --> line 182
 		})
	}
}

{code}
the #812 line should change to :
{code:java}
testGetStateRangeScanIterator(t, env)
{code}
 ",,denyeart,ping40,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-10025,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzriv:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,ping40,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"19/Sep/18 9:47 PM;denyeart;https://gerrit.hyperledger.org/r/#/c/26384/;;;","21/Sep/18 5:18 PM;ping40;merged with [FAB-10025];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
marbles02 pagination returned format,FAB-12052,33902,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,wenjian,dongming,dongming,19/Sep/18 11:40 PM,19/Nov/20 2:16 AM,28/Oct/23 3:04 AM,19/Nov/20 2:16 AM,,,,,,,,,,,fabric-ledger,,,,0,ipm2,,,,,"Marbles02 returns incorrect format for query with pagination:

*[{[\{ ""Key"": ""marble_testorgschannel2_org4_0_0_1"", ""Record"": { ""color"": ""white"", ""docType"": ""marble"", ""name"": ""marble_testorgschannel2_org4_0_0_1"", ""owner"": ""tom_testorgschannel2_org4_0_0_1"", ""size"": 1 }}, \\{ ""Key"": ""marble_testorgschannel2_org4_0_0_101"", ""Record"": { ""color"": ""white"", ""docType"": ""marble"", ""name"": ""marble_testorgschannel2_org4_0_0_101"", ""owner"": ""tom_testorgschannel2_org4_0_0_1"", ""size"": 1 }}, \\{ ""Key"": ""marble_testorgschannel2_org4_0_0_201"", ""Record"": { ""color"": ""white"", ""docType"": ""marble"", ""name"": ""marble_testorgschannel2_org4_0_0_201"", ""owner"": ""tom_testorgschannel2_org4_0_0_1"", ""size"": 1 }}, \\{ ""Key"": ""marble_testorgschannel2_org4_0_0_301"", ""Record"": { ""color"": ""white"", ""docType"": ""marble"", ""name"": ""marble_testorgschannel2_org4_0_0_301"", ""owner"": ""tom_testorgschannel2_org4_0_0_1"", ""size"": 1 }}, \\{ ""Key"": ""marble_testorgschannel2_org4_0_0_401"", ""Record"": { ""color"": ""white"", ""docType"": ""marble"", ""name"": ""marble_testorgschannel2_org4_0_0_401"", ""owner"": ""tom_testorgschannel2_org4_0_0_1"", ""size"": 1 }}][\\{ ""ResponseMetadata"": { ""RecordsCount"": ""5"", ""Bookmark"": ""g1AAAAB4eJzLYWBgYMpgSmHgKy5JLCrJTq2MT8lPzkzJBYqr5CYWJeWkxpekFpfkF6UXJ2ck5uWl5hjFAzkm8QZAaGJgCNLLAdNLtK4sAAyUJ4c"" }}]*

 We use the chaincode from fabric/examples/chaincode/go/marbles02

 ",,AdnanChoudhury,chris.elder,denyeart,dongming,jyellick,manish-sethi,Ratnakar,wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwrme:i",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),AdnanChoudhury,chris.elder,denyeart,dongming,jyellick,manish-sethi,Ratnakar,wenjian,,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,true,"21/Sep/18 4:41 AM;Ratnakar;[~denyeart] PTE tool is expecting an output in JSON format so that his app can use *Bookmark* field. and the current implementation doesn't return in JSON format;;;","21/Sep/18 4:43 AM;denyeart;I see that now.  Discussed with [~chris.elder] , he can fix this one in /examples and then fabric-samples.;;;","21/Sep/18 11:59 PM;chris.elder;The proposed changes will change the return formats for paginated queries as well as rich queries and range queries:

The array of results is not identified with ""marbles""

Example of rich query and range query:

{
 ""marbles"": [
 {
 ""Key"": ""marble1"",
 ""Record"": {
 ""docType"": ""marble"",
 ""name"": ""marble1"",
 ""color"": ""blue"",
 ""size"": 1,
 ""owner"": ""bob""
 }
 },
 {
 ""Key"": ""marble10"",
 ""Record"": {
 ""docType"": ""marble"",
 ""name"": ""marble10"",
 ""color"": ""green"",
 ""size"": 10,
 ""owner"": ""tom""
 }
 }
 ]
}

Example of paginated query:

{
 ""marbles"": [
 {
 ""Key"": ""marble1"",
 ""Record"": {
 ""docType"": ""marble"",
 ""name"": ""marble1"",
 ""color"": ""blue"",
 ""size"": 1,
 ""owner"": ""bob""
 }
 },
 {
 ""Key"": ""marble10"",
 ""Record"": {
 ""docType"": ""marble"",
 ""name"": ""marble10"",
 ""color"": ""green"",
 ""size"": 10,
 ""owner"": ""tom""
 }
 }
 ],
 ""ResponseMetadata"": {
 ""RecordsCount"": ""2"",
 ""Bookmark"": ""marble11""
 }
}

 ;;;","22/Sep/18 12:00 AM;chris.elder;The return for history is also modified slightly for history containing a delete record:

[
 {
 ""TxId"": ""3ea0da104f41fa79f4f1a091bf9f8d2bcb0ddd960bfad0213343411b3b4af5d0"",
 ""Value"": {
 ""docType"": ""marble"",
 ""name"": ""marble2"",
 ""color"": ""red"",
 ""size"": 2,
 ""owner"": ""tom""
 },
 ""Timestamp"": ""2018-09-21 13:18:22.998968229 +0000 UTC"",
 ""IsDelete"": ""false""
 },
 {
 ""TxId"": ""2adecc86a06002e877fd029558b9f108d1144a8d759d2cacf00c30bc48063caf"",
 ""Value"": null,
 ""Timestamp"": ""2018-09-21 14:31:02.041008875 +0000 UTC"",
 ""IsDelete"": ""true""
 }
]

Note: for a deleted entry the value is now null instead of ""null"";;;","05/Oct/18 5:33 AM;AdnanChoudhury;https://gerrit.hyperledger.org/r/#/c/26456/;;;","13/Dec/18 3:37 AM;AdnanChoudhury;Any plans to include it in 1.4.0? [~denyeart] [~chris.elder];;;","25/Sep/19 1:14 AM;jyellick;[~chris.elder] I see this was abandoned, are we still planning to make a change? Can this bug be closed?;;;","17/Nov/20 3:12 AM;manish-sethi;Not sure whether this was fixed or with above CR. [~wenjian] can you verify/close?;;;","18/Nov/20 12:31 AM;wenjian;I cannot see the above CR in gerrit. From the marbles chaincode implementation, it doesn't return in JSON format when pagination metadata is present. Instead, it returns 2 concatenated arrays at top level: [ marbles data ][ ResponseMetadata ]. 

Will need to rewrite part of marbles chaincode to return data in JSON format. As [~chris.elder]  said in this [comment|https://jira.hyperledger.org/browse/FAB-12052?focusedCommentId=50955&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-50955] , it will change the return formats for both paginated queries and rich queries and range queries.;;;","19/Nov/20 2:16 AM;denyeart;Marbles chaincode is not strategic, therefore we will not invest in this fix, closing.;;;",,,,,,,,,,,,,,,,,,,,,,,
Make signature Only One time in a transaction,FAB-12053,33905,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,baoyangc,baoyangc,20/Sep/18 2:06 AM,23/Jan/20 7:32 AM,28/Oct/23 3:04 AM,23/Jan/20 7:32 AM,v1.2.0,,,,,,,,,,fabric-crypto,,,,0,stale-item,,,,,"     In Current chaincode invoke progress, the user who invoke the chaincode  must sign for pb.Proposal then send it to endorsor peers. After the peers return ProposalResponse, the user need make signature again to send the Payload to orderer node.

    I don't think this is good practise. I think we can just make one time signature to make the chaincode invoke request.  ",,baoyangc,sykesm,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Yes,Unset,,,,,No,,Unset,No,,,"1|hzzrjz:",,,,Yes,Unset,,,(Please add steps to reproduce),,Yes,,,,,,Unset,,Unset,,(Please add usage information),baoyangc,sykesm,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"20/Sep/18 2:47 AM;yacovm;If you make 1 signature then you make yourself unable to prove you generated the transaction or that you generated the proposal...;;;","23/Jan/20 7:32 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
func TestInvalidChannel intermittent failure ppc64le,FAB-12054,33907,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,harsha544,harsha544,harsha544,20/Sep/18 2:41 AM,20/Sep/18 4:35 AM,28/Oct/23 3:04 AM,20/Sep/18 4:35 AM,Future,v1.3.0,,,,Future,,,,,fabric-ci,,,,0,orderer,,,,,"*_make unit-test_* results in partial success of the UT on ppc64le, failing at func *TestInvalidChannel*

 

^15:51:13 unit-tests_1 | panic: runtime error: invalid memory address or nil pointer dereference [recovered]^
^15:51:13 unit-tests_1 | panic: runtime error: invalid memory address or nil pointer dereference^
^15:51:13 unit-tests_1 | [signal SIGSEGV: segmentation violation code=0x1 addr=0x0 pc=0x1078596c]^
^15:51:13 unit-tests_1 |^
^15:51:13 unit-tests_1 | goroutine 304 [running]:^
^15:51:13 unit-tests_1 | testing.tRunner.func1(0xc42019c2d0)^
^15:51:13 unit-tests_1 | /opt/go/src/testing/testing.go:742 +0x270^
^15:51:13 unit-tests_1 | panic(0x108d7b00, 0x10d60e80)^ 
^15:51:13 unit-tests_1 | /opt/go/src/runtime/panic.go:505 +0x24c^
^15:51:13 unit-tests_1 | github.com/hyperledger/fabric/orderer/common/cluster.(*RemoteContext).Step(0x0, 0xc42076e2d0, 0x0, 0x0, 0x0)^
^15:51:13 unit-tests_1 | /opt/gopath/src/github.com/hyperledger/fabric/orderer/common/cluster/comm.go:417 +0x6c^
^15:51:13 unit-tests_1 | github.com/hyperledger/fabric/orderer/common/cluster_test.TestInvalidChannel.func2(0xc42019c2d0)^
^15:51:13 unit-tests_1 | /opt/gopath/src/github.com/hyperledger/fabric/orderer/common/cluster/comm_test.go:401 +0x19c^
^15:51:13 unit-tests_1 | testing.tRunner(0xc42019c2d0, 0x109d84e0)^ 
^15:51:13 unit-tests_1 | /opt/go/src/testing/testing.go:777 +0xc8^
^15:51:13 unit-tests_1 | created by testing.(*T).Run^
^15:51:13 unit-tests_1 | /opt/go/src/testing/testing.go:824 +0x28c^
^15:51:13 unit-tests_1 | FAIL github.com/hyperledger/fabric/orderer/common/cluster 0.654s^",,harsha544,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"20/Sep/18 2:40 AM;harsha544;cluster_test1.log;https://jira.hyperledger.org/secure/attachment/15836/cluster_test1.log",,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzrkf:",,,,Unset,Unset,,,make unit-test,,Unset,,,,,,Unset,,Unset,,(Please add usage information),harsha544,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"20/Sep/18 2:47 AM;harsha544;Pushed PR via https://gerrit.hyperledger.org/r/26394;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
PTE testcase: chaincode language performance benchmark,FAB-12055,33909,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,dongming,dongming,dongming,20/Sep/18 2:54 AM,24/Sep/18 11:03 PM,28/Oct/23 3:04 AM,24/Sep/18 11:03 PM,,,,,,,,,,,fabric-quality,,,,0,,,,,,"Hyperledge fabric supports chaincode in three languages: golang, Node js, and java.  Demonstrate the performance impact of chaincode language with sample cc on a bare bones network.  Will use the simple chaincodes, FAB-12048, once they are available. 

Test name: Performance test: bare bones invokes
 Component: Performance test
 Description: performance events with 1 channel with levelDB
     chaincode: samplecc in golang, Node js, and java
     transactions: various (4, 8, 12, 16, 20, 24, 24, 28, 32, 36, 40, 44, 48, 52) threads, each thread sends 10000 invokes concurrently

         all threads sends to org1 peer1 on channel 1

Network Topology: docker containers; 1 channels, 1 org, 1 peers per org, 1 ca, solo, TLS enabled

Client Driver: PTE

Results:
 The test passes if
     the execution completes without error",,dongming,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-8089,,,No,,Unset,No,,,"1|hzzrkn:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),dongming,,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,,,,,,true,"21/Sep/18 12:10 AM;dongming;https://gerrit.hyperledger.org/r/#/c/26414/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Improve private data sample to demonstrate use of transient field.,FAB-12056,33911,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,denyeart,denyeart,denyeart,20/Sep/18 3:00 AM,23/Jan/19 1:57 PM,28/Oct/23 3:04 AM,09/Jan/19 1:56 AM,,,,,,v1.4.0,,,,,fabric-docs,,,,1,,,,,,"To pass private data between client and chaincode, transient field should be used to ensure private data does not get included in the public transaction on the channel.

This task will update the private data fabric-sample chaincode and tutorial.

For more details, see comment at:

https://jira.hyperledger.org/browse/FAB-10231?focusedCommentId=48564&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-48564",,denyeart,MaddaliPadmaja,sheetal-hlf,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12643,FAB-13834,,,,,,,,,,,FAB-13777,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzws0f:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,MaddaliPadmaja,sheetal-hlf,,,,,,,,,,,,,,,,,,,,,,,,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-6.11.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/tough-cookie-4.1.3,mergify/bp/release-2.2/pr-4374,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/grpc/grpc-js-1.8.17,dependabot/go_modules/high-throughput/application-go/google.golang.org/grpc-1.53.0,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/word-wrap-1.2.4,main,mergify/bp/release-2.2/pr-3750,dependabot/go_modules/asset-transfer-basic/application-go/google.golang.org/grpc-1.53.0,release-1.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/semver-6.3.1,release-2.5,release-2.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-and-fabric-network-7.2.4,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"08/Jan/19 3:12 PM;denyeart;[https://gerrit.hyperledger.org/r/#/c/28542/] tutorial for release-1.4

[https://gerrit.hyperledger.org/r/#/c/28543/] tutorial for master;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update chaincode sample to show getting attributes from idemix,FAB-12058,33914,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,skarim,skarim,skarim,20/Sep/18 4:11 AM,20/Sep/18 11:37 PM,28/Oct/23 3:04 AM,20/Sep/18 11:37 PM,,,,,,v1.3.0,,,,,fabric-sdk-java,,,,0,,,,,,Chaincode that is used in the integration tests updated to serve as a example of how to get attributes in chaincode using the cid library for transactions that use idemix credentials.,,skarim,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzrlb:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),skarim,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"20/Sep/18 4:39 AM;skarim;https://gerrit.hyperledger.org/r/c/26400/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Able to pass YAML file as MSP configuration,FAB-12059,33915,,Story,Backlog,FAB,Fabric,software,denyeart,,,Medium,,,dbshah,dbshah,20/Sep/18 4:17 AM,02/Dec/19 11:20 PM,28/Oct/23 3:04 AM,,v1.2.0,,,,,Future,,,,,fabric-orderer,fabric-peer,,,1,ipm,operations,,,,"The peer and orderer right now require the certificates to be in msp folder structure. A change in one of the certificates in the msp requires the peer/orderer process to be manually restarted. Can there be an enhancement to the process, where an ability to pass the msp as a JSON or YAML file is added. This way it might be easier to watch changes on that file and restart the peer/orderer process if needed. Also, that way instead of dealing with the msp folder structure, a JSON or YAML format can be defined and folders are dealt with by fabric code and not the user.",,dbshah,denyeart,mne,mrshah-ibm,nyet,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-3167,,,No,,Unset,No,,,"1|i00pkq:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),dbshah,denyeart,mne,mrshah-ibm,nyet,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"20/Sep/18 5:58 AM;denyeart;[~dbshah] I think it would help if you additionally phrase as a User Story, or a set of User Stories (within this one Jira at first), so that we can better understand the personas and objectives.

_As a < type of user >, I want < some goal > so that < some reason >._;;;","21/Sep/18 4:55 AM;dbshah;As an operator, I want to make it easier for myself to setup a peer in kubernetes environment. Currently, an operator needs access to the filesystem where the peer is running to setup the MSP, which is generally not possible if operator wants to run the peer in kubernetes environment. To make things easier, peer can have an option to pass the MSP certificates as a JSON/YAML file and the peer startup code itself parses the JSON and makes all the folder structures and files required for MSP in proper places. That way the JSON can be passed as kubernetes-secret or kubernetes-configmap, which does not require access to the filesystem.

Similarly, when something needs to be updated lets say tls-certs or admin-certs in the peer's MSP, it will be much easier to update the JSON to add/remove/update particular certs, and the peer can watch for changes on that file, and redo the work of making the MSP folders/files and restart with the new MSP.

As a side note, the peer in this case might not even need the MSPs to be on the file system and always read them from the JSON file. Also, same thing applies to the orderer nodes.;;;","21/Oct/18 4:47 AM;denyeart;[~dbshah] [~mrshah-ibm] Could you clarify exactly how the JSON would be passed to peer or orderer?;;;","24/Oct/18 3:15 AM;mrshah-ibm;Currently, we are looking at something like the following for peer & orderer:

{{ \{ { ""msp"": { ""component"": { ""privatekey"": [""""], ""cert"": [""""], ""cacerts"": [""""], ""admincerts"": [""""], ""intermediatecerts"": [""""] }, ""tls"": { ""}}{{privatekey}}{{"": [""""], ""cert"": [""""], ""cacerts"": [""""], ""intermediatecerts"": [""""] }, ""clientauth"": \{ ""privatekey"": [""""], ""cert"": [""""], ""cacerts"": [""""], ""intermediatecerts"": [""""] } } }}}

Please note that the objects for ""component"", ""tls"" and ""clientauth"" are exactly same. The strings in the array can be one of (1) path of the key or (2) the base64 encoded key itself.

{{It will be best if it can be read from an env variable, good if it can be read from a file. The reason to rate env variable higher is because it will be more secure if the config (especially the private keys) is not written down on a file system and available as secrets in env variables.}}

While we are implementing it, can we also look for changes in the msp config (for example the TLS Certs) for changes and reload it without restarting the process.;;;","24/Oct/18 3:38 AM;yacovm;{quote}
it will be more secure if the config (especially the private keys) is not written down on a file system and available as secrets in env variables.
{quote}
Why is this more secure? environment variables are inherited by spawned processes, and the fact that environment variables are ephemeral, means that they are stored in a ""centralized"" place (etcd, i guess?) 

I would say that ideally (for maximum security) a peer would generate its private key at startup, unknown to anyone, then send an enrollment request to a CA of its organization via some ""one-time-key"" scheme, to issue a certificate, and then would store the private key on the file system forever, and if the peer is destroyed then the private key would be irrecoverable. ;;;","24/Oct/18 3:42 AM;yacovm;{quote} While we are implementing it, can we also look for changes in the msp config (for example the TLS Certs) for changes and reload it without restarting the process.{quote} 

Reloading the local MSP without also taking care of reloading the appropriate subsystems that depend on the local MSP would surely cause problems :) 
At least for gossip, it would mean that any message that is signed by the peer, cannot be verified by any other peer, since the peer's certificate is cached, but the signatures would be no longer be verified under the cached certificate... 

I'm not saying that it's impossible to support that, of course - but only that special care and coordination needs to be done, so we won't run into unexpected problems. ;;;","24/Oct/18 3:46 AM;mrshah-ibm;It is good to have certificates with short validity, but it is painful if we have to restart the process (a little bit of downtime) every time (example 90 days) the certificates need to be updated.

Thus, we would like the process to reload the certificates dynamically.;;;","24/Oct/18 3:51 AM;mrshah-ibm;Regarding the central storage (etcd for kubernetes), the secrets can be encrypted before being stored - https://kubernetes.io/docs/tasks/administer-cluster/encrypt-data/;;;","24/Oct/18 3:52 AM;yacovm;What about orderers? Are their certificates expected to be rotated too on a timely manner? Should it also be done online, with no downtime?;;;","24/Oct/18 4:00 AM;mrshah-ibm;I understand that TLS and MSP systems are different. And I am fine with the TLS certs being the only ones dynamically updated (which seems to have been already implemented).
{quote}What about orderers? Are their certificates expected to be rotated too on a timely manner? Should it also be done online, with no downtime?
{quote}
I'd expect the same behavior for peers & orderers.;;;","24/Oct/18 10:24 PM;denyeart;We could do the format updates in v1.4, and defer the dynamic update (FAB-2072) aspect until MSP is refactored (target v2.0).;;;","02/Nov/18 12:51 AM;mne;[~mrshah-ibm], [~denyeart] - summarizing, we want to be able to (re)configure a peer's local MSP based on a JSON passed at peer startup as a CLI parameter. Is that correct? Since this is planned for v.1.4 I created a subtask for that and started coding.;;;","04/Nov/18 9:24 PM;denyeart;[~mne] [~mrshah-ibm] It sounds like you two discussed.  Can you summarize the intended flow, both for v1.4 and beyond? e.g. how is the file to be generated and passed to the peer? After being passed to peer would the file remain, or would peer write it's content into it's MSP directories?

If it is intended that the file should be human editable, YAML should probably be used rather than JSON, as it is more human readable, allows for adding comments, and would be more consistent with the other Fabric config files.;;;","06/Nov/18 6:08 PM;mne;[~denyeart] yes we did, let me summarize ([~mrshah-ibm] correct me if I'm wrong):
 # Current configuration of the MSP by creating the directory structure and putting in all files makes it hard to use in an automated deployment
 # Crypto material is stored on the peer's file system in the MSP directory. As I understand from discussing this with Mihir, it is possible to mount an extra file system to put the MSP directory, but this would be cumbersome again.
 # Configuration of the MSP should not require running additional commands.

As a result, a solution that adds a new command to the peer CLI that would pick up a YAML file and create the MSP directory structure is not an option.

My suggestion is the following: We use the existing CORE_PEER_MSPCONFIGPATH config option. If it points to a directory, the current way of setting up the MSP is used. If it points to a file, a new way of setting up the MSP via a YAML file is used. No commands are changed, no additional parameters added, this is just an alternative way of supplying the MSP config.

In the future, dynamic reconfiguration can be enabled through an additional peer CLI command, which re-reads the MSP configuration.;;;","06/Nov/18 6:27 PM;denyeart;Sounds good to me.  [~mrshah-ibm] [~dbshah] are the consumers so we'll have to defer to them for final acceptance.;;;","06/Nov/18 9:30 PM;mrshah-ibm;I like it.;;;","06/Dec/18 1:14 AM;denyeart;Moving to v2.0 since there is still discussion ongoing around the encoding in subtask CR https://gerrit.hyperledger.org/r/#/c/27437/ .;;;","02/Dec/19 11:20 PM;denyeart;[~sykesm] [~mrshah-ibm] Do you want to make any improvements here in Fabric v2.0?;;;",,,,,,,,,,,,,,,
Payload buffer can report Ready when no payloads are available -- creating extra goroutines  -- due to interleaved push/pop),FAB-12060,33923,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,C0rWin,troyronda,troyronda,20/Sep/18 5:26 AM,14/Mar/19 11:58 AM,28/Oct/23 3:04 AM,22/Sep/18 11:48 PM,,,,,,v1.1.2,v1.2.1,v1.3.0,,,fabric-gossip,,,,0,,,,,,"PayloadsBufferImpl can produce extra Ready signals (and goroutines).

This could occur if the consumer is still draining the buffer while, at the same time, new payloads are being pushed in. In this case, the consumer loop picks up the new payload but doesn't drain the Ready chan. This would be expected for a peer that is not keeping up with block processing.

The additional Ready() chans & goroutines would be expected to drain once the peer catches up. 

If the peer falls behind for a long time, you would expect many goroutines to be created and then many no-op-ish iterations of Ready() being called once the peer catches up.

The attached test outputs the following:
=== RUN   TestPayloadsBufferImpl_Interleave
--- PASS: TestPayloadsBufferImpl_Interleave (1.01s)
	payloads_buffer_test.go:205: buffer ready (1) -- should be error
	payloads_buffer_test.go:210: payload: <nil>
	payloads_buffer_test.go:217: buffer ready (2) -- should be error
	payloads_buffer_test.go:222: payload: <nil>
	payloads_buffer_test.go:228: buffer not ready (3) -- good
PASS
",,C0rWin,sykesm,troyronda,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzrmn:",,,,Unset,Unset,,,"// Add the following test to payloads_buffer_test.go and run.

// Tests the scenario where payload pushes and pops are interleaved after a Ready() signal.
func TestPayloadsBufferImpl_Interleave(t *testing.T) {
	buffer := NewPayloadsBuffer(1)
	assert.Equal(t, buffer.Next(), uint64(1))

	//
	// First two sequences arrives and the buffer is emptied without interleave.
	//
	// This is also an example of the produce/consumer pattern in Fabric.
	// Producer:
	//
	// Payloads are pushed into the buffer. These payloads can be out of order.
	// When the buffer has a sequence of payloads ready (in order), it fires a signal
	// on it's Ready() channel.
	//
	// The consumer waits for the signal and then drains all ready payloads.

	payload, err := randomPayloadWithSeqNum(1)
	assert.NoError(t, err, ""generating random payload failed"")
	buffer.Push(payload)

	payload, err = randomPayloadWithSeqNum(2)
	assert.NoError(t, err, ""generating random payload failed"")
	buffer.Push(payload)

	select {
	case <-buffer.Ready():
	case <-time.After(500 * time.Millisecond):
		t.Error(""buffer wasn't ready after 500 ms for first sequence"")
	}

	// The consumer empties the buffer.
	for payload := buffer.Pop(); payload != nil; payload = buffer.Pop() {}

	// The buffer isn't ready since no new sequences have come since emptying the buffer.
	select {
	case <-buffer.Ready():
		t.Error(""buffer should not be ready as no new sequences have come"")
	case <-time.After(500 * time.Millisecond):
	}

	//
	// Next sequences are incoming at the same time the buffer is being emptied by the consumer.
	//
	payload, err = randomPayloadWithSeqNum(3)
	assert.NoError(t, err, ""generating random payload failed"")
	buffer.Push(payload)

	select {
	case <-buffer.Ready():
	case <-time.After(500 * time.Millisecond):
		t.Error(""buffer wasn't ready after 500 ms for second sequence"")
	}
	payload = buffer.Pop()
	assert.NotNil(t, payload, ""payload should not be nil"")

	// ... Block processing now happens on sequence 3.

	// In the mean time, sequence 4 is pushed into the queue.
	payload, err = randomPayloadWithSeqNum(4)
	assert.NoError(t, err, ""generating random payload failed"")
	buffer.Push(payload)

	// ... Block processing completes on sequence 3, the consumer loop grabs the next one (4).
	payload = buffer.Pop()
	assert.NotNil(t, payload, ""payload should not be nil"")

	// In the mean time, sequence 5 is pushed into the queue.
	payload, err = randomPayloadWithSeqNum(5)
	assert.NoError(t, err, ""generating random payload failed"")
	buffer.Push(payload)

	// ... Block processing completes on sequence 4, the consumer loop grabs the next one (5).
	payload = buffer.Pop()
	assert.NotNil(t, payload, ""payload should not be nil"")

	//
	// Now we see that goroutines are building up due to the interleaved push and pops above.
	//
	select {
	case <-buffer.Ready():
		//
		// Should be error - no payloads are ready
		//
		t.Log(""buffer ready (1) -- should be error"")
	case <-time.After(500 * time.Millisecond):
		t.Log(""buffer not ready (1)"")
	}
	payload = buffer.Pop()
	t.Logf(""payload: %v"", payload)

	select {
	case <-buffer.Ready():
		//
		// Should be error - no payloads are ready
		//
		t.Log(""buffer ready (2) -- should be error"")
	case <-time.After(500 * time.Millisecond):
		t.Log(""buffer not ready (2)"")
	}
	payload = buffer.Pop()
	t.Logf(""payload: %v"", payload)

	select {
	case <-buffer.Ready():
		t.Error(""buffer ready (3)"")
	case <-time.After(500 * time.Millisecond):
		t.Log(""buffer not ready (3) -- good"")
	}
}",,Unset,,,,,,Unset,,Unset,,(Please add usage information),C0rWin,sykesm,troyronda,yacovm,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,release-1.1,main,release-1.2,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"20/Sep/18 6:08 AM;sykesm;/cc [~yacovm] - fyi - seems to be in gossip;;;","20/Sep/18 7:39 AM;yacovm;/cc [~C0rWin]  ;;;","20/Sep/18 8:56 PM;C0rWin;Thanks [~troyronda] for detailed description and UT here is the fix for master: https://gerrit.hyperledger.org/r/26410 and v1.2.1: https://gerrit.hyperledger.org/r/26409
;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Pull stable javaenv images from nexus and tag it to hyperledger with release-version(1.3.0),FAB-12061,33924,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,vijaypunugubati,vijaypunugubati,vijaypunugubati,20/Sep/18 5:54 AM,06/Nov/18 12:47 AM,28/Oct/23 3:04 AM,06/Nov/18 12:47 AM,,,,,,,,,,,,,,,0,,,,,,Pull stable (1.3.0-stable) fabric javaenv release version images from nexus and tag it to hyperledger images with release version (1.3.0),,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzrmv:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Cannot install chaincode with PTE release-1.2 branch,FAB-12062,33928,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,dongming,tanyana,tanyana,20/Sep/18 6:14 AM,01/May/19 2:24 AM,28/Oct/23 3:04 AM,01/May/19 2:24 AM,,,,,,,,,,,fabric-quality,,,,0,,,,,,"Unable to install chaincode when using the release-1.2 branch. There are no details in the readme specific to release-1.2 prereqs, so I am not sure if this is an incompatibility issue

With TLS parameter set to ""enabled"" I get this error:

{color:#FF0000}{{*E0919 20:48:55.164812605 6142 ssl_transport_security.cc:188] ssl_info_callback: error occured.*}}{{*E0919 20:48:55.164844490 6142 ssl_transport_security.cc:989] Handshake failed with fatal error SSL_ERROR_SSL: error:14094412:SSL routines:ssl3_read_bytes:sslv3 alert bad certificate.*}}
{{*error: [client-utils.js]: sendPeersProposal - Promise is rejected: Error: 14 UNAVAILABLE: Connect Failed*}}
{{ *at new createStatusError (/root/fabric-sdk-node/node_modules/grpc/src/client.js:64:15)*}}
{{ *at /root/fabric-sdk-node/node_modules/grpc/src/client.js:583:15*}}
{{*E0919 20:48:55.166146067 6142 ssl_transport_security.cc:188] ssl_info_callback: error occured.*}}{color}

 
{quote}{{The network has mutual TLS enabled so I also tried with the TLS parameter set to ""clientauth"" and got this error:}}
{{{color:#FF0000}(node:5795) UnhandledPromiseRejectionWarning: Error: Enrollment failed with errors [[\{""code"":20,""message"":""Authorization failure""}]]{color}}}
{{{color:#FF0000} at IncomingMessage.<anonymous> (/root/fabric-sdk-node/fabric-ca-client/lib/FabricCAClientImpl.js:870:22){color}}}
{{{color:#FF0000} at emitNone (events.js:111:20){color}}}
{{{color:#FF0000} at IncomingMessage.emit (events.js:208:7){color}}}
{{{color:#FF0000} at endReadableNT (_stream_readable.js:1064:12){color}}}
{{{color:#FF0000} at _combinedTickCallback (internal/process/next_tick.js:139:11){color}}}
{{{color:#FF0000} at process._tickCallback (internal/process/next_tick.js:181:9){color}}}
{{{color:#FF0000}(node:5795) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1){color}}}{quote}",,denyeart,dongming,mastersingh24,tanyana,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"21/Sep/18 3:16 AM;tanyana;PeerOrg1-Install-Error-SK-clientauth.txt;https://jira.hyperledger.org/secure/attachment/15843/PeerOrg1-Install-Error-SK-clientauth.txt","20/Sep/18 6:12 AM;tanyana;PeerOrg1-Install-Error-SK.txt;https://jira.hyperledger.org/secure/attachment/15837/PeerOrg1-Install-Error-SK.txt",,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,380a589031c859a2394e81186da5148355837ac2,Unset,No,,,"1|hzzrnb:",,,,Unset,Unset,,,"git clone -b release-1.2 https://github.com/hyperledger/fabric-test
Run pte with install user-input file",,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,dongming,mastersingh24,tanyana,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"20/Sep/18 11:52 PM;denyeart;[~tanyana] I assume this is an issue with the test, rather than Fabric, correct?;;;","21/Sep/18 12:16 AM;tanyana;Right I don't believe this is a fabric issue. I think it's a PTE usage issue hoping [~dongming] can verify;;;","21/Sep/18 12:28 AM;dongming;When the network is configured with mutual TLS, the TLS parameter in PTE has to be set as clientauth.

PTE/sampleccInputs/samplecc-chan1-install-MutualTLS.json is an example for chaincode installation with mutual TLS.;;;","21/Sep/18 12:30 AM;tanyana;I did try that please see the error message I attached in the initial post;;;","21/Sep/18 1:11 AM;dongming;In the error log, it shows that you tested:

Node Array: sampleccSKInputs/samplecc-chan1-1org-install-TLS.json

What is your network configured? TLS enable or mutual TLS?;;;","21/Sep/18 2:03 AM;tanyana;The network is mutual TLS enabled;;;","21/Sep/18 2:11 AM;dongming;if the network is configured with mutual TLS enabled, then you have to use config files with *MutualTLS*  as part of file name in the sampleccInputs directory, such as *runCases-chan-install-MutualTLS.txt* for installation;;;","21/Sep/18 2:32 AM;tanyana;The name might not say mutual TLS but I changed that parameter before running. I just verified that is the only change in the install script with *MutualTLS*, so that is not the issue;;;","21/Sep/18 2:36 AM;dongming;But the log shows that the TLS is set to Enabled , not clientauth

^[[32minfo^[[39m: [PTE 0 main]: input parameters: Nid=0, uiFile=sampleccSKInputs/samplecc-chan1-1org-install-TLS.json, tStart=1537391378743 PTEid=0
^[[32minfo^[[39m: [PTE 0 util]: [setTLS] TLSin: ENABLED, TLS: 1
^[[32minfo^[[39m: [PTE 0 main]: [Nid=0 pte-main] TLS= 1;;;","21/Sep/18 3:16 AM;tanyana;Yes the log I attached was for the test with TLS set to enabled. Sorry I should have attached both logs. In the message text I referenced the error that happens when with TLS set to ""clientauth"".  I attached the full log here

[^PeerOrg1-Install-Error-SK-clientauth.txt];;;","25/Sep/18 1:08 AM;tanyana;[~dongming]  I have lost access to this network, so I am unable to debug any further until it is available;;;","01/May/19 2:24 AM;mastersingh24;release-1.2 is basically out of service given 1.4.x LTS model;;;",,,,,,,,,,,,,,,,,,,,,
Remove redundant java chaincode test from integration suite,FAB-12063,33930,,Bug,Closed,FAB,Fabric,software,denyeart,,,Low,Won't Do,,sykesm,sykesm,20/Sep/18 6:34 AM,29/Nov/18 8:54 AM,28/Oct/23 3:04 AM,29/Nov/18 8:54 AM,,,,,,v1.4.0,,,,,,,,,0,,,,,,"The Java Chaincode integration suite includes two tests where one appears to be a complete superset of the other. This unnecessarily elongates the execution time of the tests.

{quote}
sykesm 1:56 PM
Why do we need two java cc tests? Isn't the pvtdata test a superset of the other?

gennadyl 1:24 PM
If you look this way - you are right. This is only historical - I wrote first test before private data for java shim was added and I needed test to check if the shim works. After that I added one for private data, to make sure shim works ok with private data.
{quote}

The redundant test should be removed to shave several seconds off of the integration tests.",,denyeart,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzrnj:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"20/Sep/18 6:35 AM;sykesm;/cc [~gennadyl];;;","29/Nov/18 8:54 AM;denyeart;Java chaincode integration tests have been removed from fabric repository.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Replace existing references to golang.org/x/net/context with context,FAB-12064,33931,,Task,Closed,FAB,Fabric,software,denyeart,,,Low,Done,sykesm,sykesm,sykesm,20/Sep/18 6:38 AM,21/Sep/18 11:45 AM,28/Oct/23 3:04 AM,20/Sep/18 10:57 AM,,,,,,,,,,,,,,,0,hygiene,,,,,"The golang.org/x/net/context package has added a type alias to the context package when compiling with go 1.9+. This means we can rewrite our imports to use the context package from the standard library.

With this move, {{go vet}} will flag cancel functions that are not called (we have a *lot* of that in our code base) which can result in a context leak.",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12085,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzrnr:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"20/Sep/18 6:42 AM;sykesm;https://gerrit.hyperledger.org/r/26406;;;","20/Sep/18 10:15 PM;sykesm;Future CR - Add the following to the linting scripts and verify the result is empty.

{code}
go list -f '{{ join .Imports ""\n"" }}' $(go list ./... | grep -Ev '^github.com/hyperledger/fabric/protos($|/)') | grep x/net/context
{code};;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
FAIL: TestLeaderYield failure of the gossip test,FAB-12065,33932,,Bug,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,ronenschafferibm,C0rWin,C0rWin,20/Sep/18 6:56 AM,03/Jun/20 3:30 PM,28/Oct/23 3:04 AM,04/Jun/19 5:13 PM,,,,,,v1.4.1,v2.0.0,,,,fabric-gossip,,,,0,ci-flake,,,,,"This is the latest observed fail in unit-tests-master due to the Gossip error,

*fabric Commit: 3f56d49*
{quote}
20:22:51 unit-tests_1  | --- FAIL: TestLeaderYield (117.02s)
20:22:51 unit-tests_1  | 	integration_test.go:156: p0 started its delivery service
20:22:51 unit-tests_1  | 	integration_test.go:161: p0 stopped its delivery service
20:22:51 unit-tests_1  | 	integration_test.go:171: p1 hasn't taken over leadership within 1m0s: -1
20:22:51 unit-tests_1  | 2018-08-02 00:22:04.614 UTC [gossip/service] updateAnchors -> ERRO 088 Tried joining channel A but our org( OrgMSP0 ),
{quote}

*Build Log*

https://jenkins.hyperledger.org/view/Daily/job/fabric-unit-test-daily-master-x86_64/146/consoleFull

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-unit-test-daily-master-x86_64/146/",,C0rWin,denyeart,haolipeng,MHBauer,rameshthoomu,ronenschafferibm,sykesm,wael,wlahti,ynamiki,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12523,FAB-13452,FAB-15039,,,,,,,FAB-15309,,,FAB-15613,,,,,,"20/Dec/18 4:52 AM;sykesm;console.log;https://jira.hyperledger.org/secure/attachment/16464/console.log","14/May/19 4:21 PM;ronenschafferibm;race-detection.log;https://jira.hyperledger.org/secure/attachment/17232/race-detection.log",,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzrnz:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),C0rWin,denyeart,haolipeng,MHBauer,rameshthoomu,ronenschafferibm,sykesm,wael,wlahti,ynamiki,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.3,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"27/Oct/18 4:54 AM;denyeart;Still being seen intermittently:

[https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/5635/consoleFull]
{code:java}
18:56:00 unit-tests_1 | — FAIL: TestLeaderYield (117.02s)
 18:56:00 unit-tests_1 | integration_test.go:156: p0 started its delivery service
 18:56:00 unit-tests_1 | integration_test.go:161: p0 stopped its delivery service
 18:56:00 unit-tests_1 | integration_test.go:171: p1 hasn't taken over leadership within 1m0s: -1
 18:56:00 unit-tests_1 | 2018-10-26 18:55:12.561 UTC [gossip.service] updateAnchors -> ERRO 084 Tried joining channel A but our org( OrgMSP0 ), isn't among the orgs of the channel: [Org0] , aborting.{code};;;","30/Oct/18 11:41 PM;denyeart;[~C0rWin] [~inbarbadian] [~yacovm] This failure is seen often... what's the plan to address?;;;","20/Dec/18 4:53 AM;sykesm;Observed in ci: https://gerrit.hyperledger.org/r/c/28300/ 
[^console.log] ;;;","07/Jan/19 5:52 PM;wael;could not recapture the bug again.;;;","11/Jan/19 9:22 AM;C0rWin;https://gerrit.hyperledger.org/r/#/c/28647/;;;","02/Apr/19 8:44 PM;C0rWin;Reopening since discovered it failing again 

{code}
09:41:21 --- FAIL: TestLeaderYield (93.90s)
09:41:21     integration_test.go:169: p0 started its delivery service
09:41:21     integration_test.go:174: p0 stopped its delivery service
09:41:21     integration_test.go:184: p1 hasn't taken over leadership within 1m0s: -1
{code}

https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/11228/console
CR: https://gerrit.hyperledger.org/r/#/c/30627/
;;;","10/Apr/19 6:22 AM;rameshthoomu;6:35:22 goroutine 987 [select, 1 minutes]:
16:35:22 github.com/hyperledger/fabric/gossip/gossip.(*gossipServiceImpl).Accept.func2(0xc0001cadc0, 0xc0001eae40, 0xc0001eaea0)
16:35:22 	/w/workspace/fabric-merge-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/gossip/gossip_impl.go:811 +0xde
16:35:22 created by github.com/hyperledger/fabric/gossip/gossip.(*gossipServiceImpl).Accept
16:35:22 	/w/workspace/fabric-merge-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/gossip/gossip_impl.go:809 +0xdf
16:35:22 --- FAIL: TestLeaderYield (93.90s)
16:35:22     integration_test.go:169: p0 started its delivery service
16:35:22     integration_test.go:174: p0 stopped its delivery service
16:35:22     integration_test.go:184: p1 hasn't taken over leadership within 1m0s: -1
16:35:22 2019-04-09 20:34:51.087 UTC [gossip.service] updateAnchors -> ERRO 057 Tried joining channel A but our org( OrgMSP0 ), isn't among the orgs of the channel: [Org0] , aborting.;;;","16/Apr/19 3:49 AM;wlahti;Hit again here: https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/11529/console;;;","16/Apr/19 3:58 AM;wlahti;Matt also logged two hits of this flake in FAB-15039 (which I just closed as a duplicate of this item).;;;","25/Apr/19 1:50 AM;sykesm;And again...

16:34:46 --- FAIL: TestLeaderYield (93.93s)
16:34:46     integration_test.go:169: p0 started its delivery service
16:34:46     integration_test.go:174: p0 stopped its delivery service
16:34:46     integration_test.go:184: p1 hasn't taken over leadership within 1m0s: -1

https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/11697/console;;;","02/May/19 3:08 AM;sykesm;And again...

13:52:25 --- FAIL: TestLeaderYield (93.90s)
13:52:25     integration_test.go:169: p0 started its delivery service
13:52:25     integration_test.go:174: p0 stopped its delivery service
13:52:25     integration_test.go:184: p1 hasn't taken over leadership within 1m0s: -1

https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/11845/console;;;","10/May/19 2:24 AM;wlahti;Different failure in TestLeaderYield:
{code:java}
13:16:15 --- FAIL: TestLeaderYield (32.06s)
13:16:15     gossip_service_test.go:555: Failed to establish full membership. Only 1 out of 2 peers have full membership {code}
[https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/12040/console];;;","14/May/19 2:56 PM;MHBauer;This test is exceptionally flakey for me locally. Even races some times.

Consistently co-incident with failures is a log line like:
2019-05-13 21:32:13.979 PDT [gossip.comm] func1 -> WARN 003 127.0.0.1:35195, PKIid:3132372e302e302e313a3335313935 isn't responsive: rpc error: code = Unavailable desc = transport is closing
coming from comm_impl.go L#234
Which is a closure that's most likely actually invoked at conn.go L#339

I see it sometimes, but during most failures, it's the ONLY thing I see.

Successes take a widely varying amount of time, from 5-20 seconds.

Most irritating is that adding prints or enabling logging seems to have in inverse relationship, throwing off the timing enough that it seems to fail less.
;;;","14/May/19 4:21 PM;ronenschafferibm;Running the test locally with -race flag occasionally fails and a data race is detected.
The race seems to happen due to both peers trying to connect each other concurrently.

 

[^race-detection.log];;;","14/May/19 10:42 PM;ronenschafferibm;Setting the bootstrap peers list to be only one of the peers solves the race problem and the peers are getting full membership in less than a second.
But, there are still sometimes that the test runs for a long time (about 30 seconds).
After timing each part of the test I found out it is due to the waiting for p1 to take leadership.

https://github.com/hyperledger/fabric/blob/a239ae0ab290618597c0b4f33ae9c2e8ee5ff102/gossip/service/integration_test.go#L177-L181;;;","04/Jun/19 5:11 PM;ronenschafferibm;Closing this issue since the inherent problems of TestLeaderYield() are handled.
Normally, this test takes about 14 sec to pass.
It still may fail due to communication issues in gossip/comm (there is a race when both peers create a connection to each other simultaneously).;;;","03/Jun/20 3:30 PM;haolipeng;goroutine 1499 [semacquire]:
sync.runtime_SemacquireMutex(0xc0005b27f4, 0x1105e00, 0x1)
 /usr/local/go/src/runtime/sema.go:71 +0x47
sync.(*Mutex).lockSlow(0xc0005b27f0)
 /usr/local/go/src/sync/mutex.go:138 +0xfc
sync.(*Mutex).Lock(...)
 /usr/local/go/src/sync/mutex.go:81
github.com/hyperledger/fabric/gossip/comm.(*connectionStore).getConnection(0xc0001b2b40, 0xc0003288d0, 0x0, 0x0, 0x0)
 /opt/cloud/workspace/CloudBU-OpenSourceCenter-Fabric-X86-MR-FUNCTEST/src/github.com/hyperledger/fabric/gossip/comm/conn.go:78 +0x8ee
github.com/hyperledger/fabric/gossip/comm.(*commImpl).sendToEndpoint(0xc0005bb680, 0xc0003288d0, 0xc000593c20, 0x0)
 /opt/cloud/workspace/CloudBU-OpenSourceCenter-Fabric-X86-MR-FUNCTEST/src/github.com/hyperledger/fabric/gossip/comm/comm_impl.go:235 +0x1c4
github.com/hyperledger/fabric/gossip/comm.(*commImpl).Send.func1(0xc0005bb680, 0xc0003288d0, 0xc000593c20)
 /opt/cloud/workspace/CloudBU-OpenSourceCenter-Fabric-X86-MR-FUNCTEST/src/github.com/hyperledger/fabric/gossip/comm/comm_impl.go:222 +0x44
created by github.com/hyperledger/fabric/gossip/comm.(*commImpl).Send
 /opt/cloud/workspace/CloudBU-OpenSourceCenter-Fabric-X86-MR-FUNCTEST/src/github.com/hyperledger/fabric/gossip/comm/comm_impl.go:221 +0x151
[33m2020-06-03 11:44:03.938 CST [gossip.comm] sendToEndpoint -> WARN 05e[0m Failed obtaining connection for 1.2.3.4:37157, PKIid:3132372e302e302e313a3337313537 reason: ConnStore is closing
[33m2020-06-03 11:44:03.938 CST [gossip.comm] sendToEndpoint -> WARN 05f[0m Failed obtaining connection for 127.0.0.1:37157, PKIid:3132372e302e302e313a3337313537 reason: ConnStore is closing
[33m2020-06-03 11:44:03.938 CST [gossip.comm] sendToEndpoint -> WARN 060[0m Failed obtaining connection for 127.0.0.1:37157, PKIid:3132372e302e302e313a3337313537 reason: ConnStore is closing
[33m2020-06-03 11:44:03.938 CST [gossip.comm] sendToEndpoint -> WARN 061[0m Failed obtaining connection for 127.0.0.1:37157, PKIid:3132372e302e302e313a3337313537 reason: ConnStore is closing
[33m2020-06-03 11:44:03.938 CST [gossip.comm] sendToEndpoint -> WARN 062[0m Failed obtaining connection for 127.0.0.1:37157, PKIid:3132372e302e302e313a3337313537 reason: ConnStore is closing
--- FAIL: TestLeaderYield (93.92s);;;",,,,,,,,,,,,,,,,
FAIL: TestConnectToAnchorPeers failure of the gossip test,FAB-12066,33933,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,C0rWin,C0rWin,C0rWin,20/Sep/18 6:59 AM,20/Mar/19 3:32 PM,28/Oct/23 3:04 AM,13/Feb/19 9:51 AM,,,,,,,,,,,fabric-gossip,,,,0,ci-flake,,,,,"There is another unit-test failure observed in the day's build due to Gossip test timeouts in fabric-unit-test-daily-master-x86_64,

*fabric commit: b0cb0a4*
{quote}
20:25:04 unit-tests_1  | goroutine 24584 [select]:
20:25:04 unit-tests_1  | github.com/hyperledger/fabric/gossip/identity.(*identityMapperImpl).periodicalPurgeUnusedIdentities(0xc423587340)
20:25:04 unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/gossip/identity/identity.go:91 +0x11c
20:25:04 unit-tests_1  | created by github.com/hyperledger/fabric/gossip/identity.NewIdentityMapper
20:25:04 unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/gossip/identity/identity.go:85 +0x228
20:25:04 unit-tests_1  | 
20:25:04 unit-tests_1  | go<<<TestConnectToAnchorPeers>>>
20:25:04 unit-tests_1  | --- FAIL: TestConnectToAnchorPeers (367.07s)
20:25:04 unit-tests_1  | 	assertions.go:247: 
                          
	Error Trace:	gossip_test.go:1530
20:25:04 unit-tests_1  | 		
	            	
			asm_amd64.s:2361
20:25:04 unit-tests_1  | 		
	Error:      	Didn't stop within a timely manner
20:25:04 unit-tests_1  | 		
	Test:       	TestConnectToAnchorPeers
20:25:04 unit-tests_1  | 	assertions.go:247: 
                          
	Error Trace:	gossip_test.go:1590
20:25:04 unit-tests_1  | 
{quote}

*Build Log*
https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-unit-test-daily-master-x86_64/155/

https://jenkins.hyperledger.org/view/Daily/job/fabric-unit-test-daily-master-x86_64/155/consoleFull",,C0rWin,jyellick,kchristidis,sykesm,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"26/Sep/18 10:36 PM;sykesm;console-timestamp.log.gz.txt;https://jira.hyperledger.org/secure/attachment/15872/console-timestamp.log.gz.txt",,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,b0cb0a4,Unset,No,,,"1|hzzro7:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),C0rWin,jyellick,kchristidis,sykesm,wlahti,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"26/Sep/18 10:36 PM;sykesm;This test still is still coming up with failures in CI:

{code}
00:19:15.575 unit-tests_1  | --- FAIL: TestConnectToAnchorPeers (367.05s)
00:19:15.576 unit-tests_1  | 	assertions.go:247: 
                          
	Error Trace:	gossip_test.go:1529
00:19:15.576 unit-tests_1  | 		
	            	
			asm_amd64.s:2361
00:19:15.576 unit-tests_1  | 		
	Error:      	Didn't stop within a timely manner
00:19:15.576 unit-tests_1  | 		
	Test:       	TestConnectToAnchorPeers
00:19:15.577 unit-tests_1  | 	assertions.go:247: 
                          
	Error Trace:	gossip_test.go:1589
00:19:15.577 unit-tests_1  | 		
	            	
			gossip_test.go:473
00:19:15.577 unit-tests_1  | 		
	Error:      	Timeout expired!
00:19:15.578 unit-tests_1  | 		
	Test:       	TestConnectToAnchorPeers
00:19:15.578 unit-tests_1  | 	assertions.go:247: 
                          
	Error Trace:	gossip_test.go:1589
00:19:15.578 unit-tests_1  | 		
	            	
			gossip_test.go:483
00:19:15.578 unit-tests_1  | 		
	Error:      	Timeout expired!
00:19:15.579 unit-tests_1  | 		
	Test:       	TestConnectToAnchorPeers
{code}

 [^console-timestamp.log.gz.txt] ;;;","15/Jan/19 3:29 PM;jyellick;Another instance https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/7986/console;;;","30/Jan/19 4:56 AM;kchristidis;Another one here: https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/8444/consoleFull;;;","31/Jan/19 5:10 AM;wlahti;And again: https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/8482/console;;;","04/Feb/19 12:18 AM;C0rWin;https://gerrit.hyperledger.org/r/#/c/29114/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,
FAIL: TestEndedGoroutines gossip UT failure,FAB-12067,33934,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,MHBauer,C0rWin,C0rWin,20/Sep/18 7:01 AM,07/Jun/19 2:12 AM,28/Oct/23 3:04 AM,06/Jun/19 4:06 PM,,,,,,,,,,,fabric-gossip,,,,0,ci-flake,,,,,"
fabric-merge-x86_64 failed in gossip tests, Copying the errors below,

*fabric Commit: 8df055572b21286b7a96467d512e3ef054b786a2*
{quote}
08:46:02 unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/clientconn.go:960 +0x1b5
08:46:02 unit-tests_1  | created by github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*addrConn).connect
08:46:02 unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/--- FAIL: TestEndedGoroutines (432.59s)
08:46:02 unit-tests_1  | 	assertions.go:247: 
                          
	Error Trace:	gossip_test.go:1494
08:46:02 unit-tests_1  | 		
	            	
			gossip_test.go:1365
08:46:02 unit-tests_1  | 		
	Error:      	Goroutine(s) haven't ended:
08:46:02 unit-tests_1  | 		
	Test:       	TestEndedGoroutines
08:46:02 unit-tests_1  | 		
	Messages:   	[sync.runtime_Semacquire(0xc4223a2494) 	/opt/go/src/runtime/sema.go:56 +0x39 sync.(*RWMutex).RLock(0xc4223a2488) 	/opt/go/src/sync/rwmutex.go:50 +0x49 github.com/hyperledger/fabric/gossip/comm.(*connectionStore).getConnection(0xc4223a2460, 0xc426eee510, 0x0, 0x0, 0x0) 	/opt/gopath/src/github.com/hyperledger/fabric/gossip/comm/conn.go:57 +0x65 github.com/hyperledger/fabric/gossip/comm.(*commImpl).sendToEndpoint(0xc420ab57a0, 0xc426eee510, 0xc423f1ec10, 0x0) 	/opt/gopath/src/github.com/hyperledger/fabric/gossip/comm/comm_impl.go:244 +0x1d0 github.com/hyperledger/fabric/gossip/comm.(*commImpl).Send.func1(0xc420ab57a0, 0xc426eee510, 0xc423f1ec10) 	/opt/gopath/src/github.com/hyperledger/fabric/gossip/comm/comm_impl.go:231 +0x44 created by github.com/hyperledger/fabric/gossip/comm.(*commImpl).Send 	/opt/gopath/src/github.com/hyperledger/fabric/gossip/comm/comm_impl.go:230 +0x1ac]
08:46:02 unit-tests_1  | FAIL
{quote}

https://jenkins.hyperledger.org/view/birds-eye/job/fabric-merge-x86_64/4390/consoleFull

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-merge-x86_64/4390/",,C0rWin,denyeart,guoger,MHBauer,rameshthoomu,sambhavdutt,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12094,,,,,,,,,FAB-15309,,,,,,,,,"01/Oct/18 11:47 PM;sykesm;console-timestamp.log;https://jira.hyperledger.org/secure/attachment/15902/console-timestamp.log","11/Dec/18 11:30 PM;sykesm;console-timestamp.log.gz.txt;https://jira.hyperledger.org/secure/attachment/16392/console-timestamp.log.gz.txt",,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,8df055572b21286b7a96467d512e3ef054b786a2,Unset,No,,,"1|hzzrof:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),C0rWin,denyeart,guoger,MHBauer,rameshthoomu,sambhavdutt,sykesm,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"22/Sep/18 12:11 AM;denyeart;Raising priority since this has been seen again.;;;","01/Oct/18 11:47 PM;sykesm;Observed in unit test build:

{code}
00:30:06.629 unit-tests_1  | --- FAIL: TestEndedGoroutines (410.16s)
00:30:06.630 unit-tests_1  | 	assertions.go:247: 
                          
	Error Trace:	gossip_test.go:1493
00:30:06.631 unit-tests_1  | 		
	            	
			gossip_test.go:1364
00:30:06.631 unit-tests_1  | 		
	Error:      	Goroutine(s) haven't ended:
00:30:06.631 unit-tests_1  | 		
	Test:       	TestEndedGoroutines
00:30:06.643 unit-tests_1  | 		
	Messages:   	[testing.runTests.func1.1(0xc4201a64b0) 	/opt/go/src/testing/testing.go:1068 +0x3b created by testing.runTests.func1 	/opt/go/src/testing/testing.go:1068 +0xa2 ]
00:30:06.644 unit-tests_1  | FAIL
00:30:06.644 unit-tests_1  | coverage: 85.2% of statements
00:30:06.645 unit-tests_1  | FAIL	github.com/hyperledger/fabric/gossip/gossip	452.971s
{code}
 [^console-timestamp.log] ;;;","02/Oct/18 10:44 PM;denyeart;[~sambhavdutt]  This Jira is for unit test failure:

 
{code:java}
FAIL: TestEndedGoroutines{code}
 

Please do not mention multiple other failures in this same Jira item.  I'd recommend delete your comments not related to *FAIL: TestEndedGoroutines* , and open separate Jira items for them.  If you see the *same* problem multiple times, then I recommend adding a comment stating that you are seeing it again.  This will help to identify the highest priority repeat failures.

Having a unique Jira per failure will help us track down and fix each and every problematic test. It will also help searchability (e.g. *TestEndedGoroutines*) to see if a unique Jira has already been opened for a problem.;;;","11/Dec/18 11:31 PM;sykesm;Still happening at the end of the 1.4 cycle.

 [^console-timestamp.log.gz.txt] ;;;","20/Dec/18 5:25 AM;sykesm;https://gerrit.hyperledger.org/r/c/28300/

{code}
20:19:16 --- FAIL: TestEndedGoroutines (248.35s)
20:19:16     gossip_test.go:1495: 
20:19:16         	Error Trace:	gossip_test.go:1495
20:19:16         	            				gossip_test.go:1366
20:19:16         	Error:      	Goroutine(s) haven't ended:
20:19:16         	Test:       	TestEndedGoroutines
20:19:16         	Messages:   	[github.com/hyperledger/fabric/gossip/comm.(*commImpl).Accept.func1(0xc0027d2c60, 0xc0053d9b00, 0xc0053d9b60) 	/w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/comm/comm_impl.go:351 +0x186 created by github.com/hyperledger/fabric/gossip/comm.(*commImpl).Accept 	/w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/comm/comm_impl.go:345 +0x1ce]
20:19:16 FAIL
20:19:16 coverage: 85.1% of statements
20:19:16 FAIL	github.com/hyperledger/fabric/gossip/gossip	279.000s
{code};;;","10/Jan/19 3:31 AM;sykesm;Hit again: https://gerrit.hyperledger.org/r/c/28204/12

https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/7731/;;;","29/Jan/19 7:23 AM;C0rWin;Once FAB-13929 the severity of the current could be reduced. While we still should take care fix and re-enable TestEndedGoroutines UT once ready.;;;","29/Jan/19 10:47 AM;denyeart;Subtask FAB-13929 to temporarily skip test has been merged.  Lowering priority while waiting for the ultimate fix.;;;","29/Mar/19 6:36 PM;guoger;hit here: [https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/11097/console]
{code:java}
16:12:07 --- FAIL: TestEndedGoroutines (423.13s)
16:12:07     gossip_test.go:1495: 
16:12:07         	Error Trace:	gossip_test.go:1495
16:12:07         	            				gossip_test.go:1366
16:12:07         	Error:      	Goroutine(s) haven't ended:
16:12:07         	Test:       	TestEndedGoroutines
16:12:07         	Messages:   	[testing.runTests.func1.1(0xc000132500) 	/opt/go/go1.11.5.linux.amd64/src/testing/testing.go:1124 +0x3b created by testing.runTests.func1 	/opt/go/go1.11.5.linux.amd64/src/testing/testing.go:1124 +0xac ]
16:12:07 FAIL {code};;;","01/May/19 7:01 AM;MHBauer;Does this occur by itself? Or is it always coincidental with some other failure? If it's always with another test failure, this is telling you that another test failed.

 Ideas:
 # move waitgroup.add to each test that adds it, so individual tests can be run. Good for usability, as it is now, I cannot run some individual tests.
 # use a TestMain(m testing.M) instead of a init + waitgroup, so that you can run tests and at the end do the check for threads. This gets rid of the waitgroup entirely and also solves the ""run an individual test"" problem. 

 ;;;","07/Jun/19 2:12 AM;MHBauer;https://gerrit.hyperledger.org/r/#/c/fabric/+/31709/;;;",,,,,,,,,,,,,,,,,,,,,,
FAIL: Gossip Service UT failure,FAB-12068,33935,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,C0rWin,C0rWin,C0rWin,20/Sep/18 7:03 AM,16/Apr/19 8:18 AM,28/Oct/23 3:04 AM,16/Apr/19 8:18 AM,,,,,,,,,,,fabric-gossip,,,,0,ci-flake,,,,,"In the fabric-merge-x86_64 job, unit-test is failing consistently in gossip tests,

*fabric commit: fb2ce97a848ac369457884d860b11c8e4a948377*
{quote}
15:33:18 unit-tests_1  | goroutine 594 [semacquire, 19 minutes]:
15:33:18 unit-tests_1  | sync.runtime_Semacquire(0xc4202b7f2c)
15:33:18 unit-tests_1  | 	/opt/go/src/runtime/sema.go:56 +0x39
15:33:18 unit-tests_1  | sync.(*WaitGroup).Wait(0xc4202b7f20)
15:33:18 unit-tests_1  | 	/opt/go/src/sync/waitgroup.go:129 +0x72
15:33:18 unit-tests_1  | github.com/hyperledger/fabric/gossip/gossip.(*gossipServiceImpl).Stop(0xc42031c000)
15:33:18 unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/gossip/gossip/gossip_impl.go:781 +0x1f7
15:33:18 unit-tests_1  | github.com/hyperledger/fabric/gossip/service.(*gossipServiceImpl).Stop(0xc4204c0120)
15:33:18 unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/gossip/service/gossip_service.go:364 +0x4c0
15:33:18 unit-tests_1  | github.com/hyperledger/fabric/gossip/service.stopPeers.func1(0xc4202b7f00, 0x1, 0x10e95e0, 0xc4204c0120)
15:33:18 unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/gossip/service/gossip_service_test.go:604 +0x5a
15:33:18 unit-tests_1  | created by github.com/hyperledger/fabric/gossip/service.stopPeers
15:33:18 unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/gossip/service/gossip_service_test.go:602 +0x99
15:33:18 unit-tests_1  | FAIL	github.com/hyperledger/fabric/gossip/service	1200.042s
15:33:51 unit-tests_1  | ok  	github.com/hyperledger/fabric/gossip/state	30.382s	coverage: 80.3% of statements
15:33:53 unit-tests_1  | ok  	github.com/hyperledger/fabric/gossip/state/mocks	0.006s	coverage: 58.8% of statements
15:33:59 unit-tests_1  | ok  	github.com/hyperledger/fabric/gossip/util	4.010s	coverage: 79.1% of statements
15:34:00 unit-test_unit-tests_1 exited with code 1
15:34:00 Stopping couchdb  
{quote}

*Build Logs*

https://jenkins.hyperledger.org/view/fabric/job/fabric-merge-x86_64/4458/consoleFull

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-merge-x86_64/4460/",,C0rWin,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-13642,FAB-13376,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,fb2ce97a848ac369457884d860b11c8e4a948377,Unset,No,,,"1|hzzron:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),C0rWin,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"03/Apr/19 6:19 PM;C0rWin;There was line of work in master (v2.0.0) to take care of major root causes for gossip flaky tests, now to address those flakes for 1.4 fixes being backported:

https://gerrit.hyperledger.org/r/#/c/30632/
https://gerrit.hyperledger.org/r/#/c/30633/
https://gerrit.hyperledger.org/r/#/c/30634/
https://gerrit.hyperledger.org/r/#/c/30635/
https://gerrit.hyperledger.org/r/#/c/30636/
https://gerrit.hyperledger.org/r/#/c/30636/
https://gerrit.hyperledger.org/r/#/c/30672/
https://gerrit.hyperledger.org/r/#/c/30673/
https://gerrit.hyperledger.org/r/#/c/30673/
https://gerrit.hyperledger.org/r/#/c/30673/
https://gerrit.hyperledger.org/r/#/c/30676/
https://gerrit.hyperledger.org/r/#/c/30677/
https://gerrit.hyperledger.org/r/#/c/30678/
;;;","16/Apr/19 8:17 AM;C0rWin;Closing this JIRA since CRs stack was ported and merged into v1.4.1;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fix vet issues flagged by go 1.11,FAB-12069,33936,,Task,Closed,FAB,Fabric,software,denyeart,,,Low,Done,sykesm,sykesm,sykesm,20/Sep/18 7:06 AM,20/Sep/18 4:05 PM,28/Oct/23 3:04 AM,20/Sep/18 3:41 PM,,,,,,,,,,,,,,,0,hygiene,,,,,Excluding the {{lostcancel}} check...,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzrov:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"20/Sep/18 7:09 AM;sykesm;https://gerrit.hyperledger.org/r/26407;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
typo in versionedDB interface,FAB-12070,33942,,Bug,Closed,FAB,Fabric,software,denyeart,,,Low,Done,manish-sethi,manxiaqu,manxiaqu,20/Sep/18 7:23 PM,04/Dec/18 3:24 AM,28/Oct/23 3:04 AM,04/Dec/18 3:24 AM,,,,,,v1.4.0,,,,,fabric-ledger,,,,0,,,,,,"The ""{color:#172b4d}BytesKeySuppoted"" in VersionedDB is a typo, so are the implementations and comments of leveldb and couchdb, and callers of this.{color}

{color:#172b4d}The ""BytesKeySuppoted"" should be changed to ""BytesKeySupported""{color}

{color:#ffc66d} {color}",,manish-sethi,manxiaqu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzrpr:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),manish-sethi,manxiaqu,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"01/Dec/18 2:28 AM;manish-sethi;[~manxiaqu] - thanks for catching this. Would you prefer to submit a fix?;;;","01/Dec/18 1:08 PM;manxiaqu;[~manish-sethi] Sorry, i don't have the plan to do this since i'm a little busy recently.  Any others want to correct this can assign the issue.;;;","04/Dec/18 1:41 AM;manish-sethi;https://jira.hyperledger.org/browse/FAB-12070;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
EYFN Org3 peers configured to use Org1's CouchDB containers,FAB-12073,33947,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jonathan-blood,jonathan-blood,jonathan-blood,20/Sep/18 10:40 PM,28/Sep/18 12:40 AM,28/Oct/23 3:04 AM,28/Sep/18 12:40 AM,,,,,,v1.1.2,v1.2.1,v1.3.0,,,fabric-ledger,fabric-samples,,,0,,,,,,"In Fabric Samples, the peers for Org3 (created when using eyfn.sh) are configured in docker-compose-couch-org3.yaml to use couchdb0:5984 and couchdb1:5984 for peer0.org3 and peer1.org3 respectively. These are the addresses for Org1's CouchDB containers and there should be couchdb4:5984 and couchdb5:5984.",,denyeart,jonathan-blood,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzrqv:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,jonathan-blood,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-6.11.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/tough-cookie-4.1.3,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/semver-6.3.1,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/grpc/grpc-js-1.8.17,dependabot/go_modules/high-throughput/application-go/google.golang.org/grpc-1.53.0,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/word-wrap-1.2.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-and-fabric-network-7.2.4,dependabot/go_modules/asset-transfer-basic/application-go/google.golang.org/grpc-1.53.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"23/Sep/18 9:58 PM;denyeart;[~chris.elder] Can you give EYFN a try and  check the couchdb configs : 

https://hyperledger-fabric.readthedocs.io/en/latest/channel_update_tutorial.html;;;","24/Sep/18 4:07 AM;jonathan-blood;[~denyeart] [~chris.elder] I think I messed something up and so the change didn't get hooked up with this issue correctly, but I have an outstanding commit to resolve this: [https://gerrit.hyperledger.org/r/#/c/26412/] - not 100% sure why there is builds failing on that though, given it's some minor docker-compose configuration changes only.;;;","24/Sep/18 4:17 AM;denyeart;Thanks [~jonathan-blood] , I've just rebased the CR to see if that fixes the verification failure.;;;","24/Sep/18 12:43 PM;denyeart;Cherry picked to release-1.2: https://gerrit.hyperledger.org/r/#/c/26496/;;;","28/Sep/18 12:40 AM;denyeart;Might as well cherry pick to release-1.1 as well: https://gerrit.hyperledger.org/r/#/c/26639/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove duplicated cid package,FAB-12075,33953,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yuki-kon,yuki-kon,yuki-kon,21/Sep/18 2:38 AM,06/Feb/19 7:06 AM,28/Oct/23 3:04 AM,06/Feb/19 7:05 AM,v1.2.0,,,,,v2.0.0,,,,,fabric-peer,,,,0,,,,,,"After FAB-11928 moved the cid package down to the shim, the original code still exists at fabric/core/chaincode/lib/cid.
To make developers use the latest cid package, we need to remove the old duplicated code.
We also need to improve the documentation. The import path should be the new location.
https://github.com/hyperledger/fabric/tree/master/core/chaincode/shim/ext/cid#using-the-client-identity-chaincode-library
",,denyeart,smithbk,yuki-kon,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11928,,,FAB-12371,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzrrr:",Release note will advise that chaincode developers should use CID in the new location.,Yes,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,smithbk,yuki-kon,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"21/Sep/18 5:58 AM;yuki-kon;CR is posted here. https://gerrit.hyperledger.org/r/#/c/26434/;;;","24/Sep/18 4:34 AM;denyeart;[~skarim] [~smithbk] Were you intending to keep CID in both places for a time period?;;;","09/Oct/18 11:31 PM;smithbk;Yes, I think the old one should be marked as deprecated now but not be removed until the next release. 
But as Yuki said, the doc and samples should be using the new location.;;;","10/Oct/18 3:17 AM;yuki-kon;Thanks, Keith. I will separate this JIRA into two parts: 1) Remove old cid package in the next release, 2) Fix the doc and samples to use the new location. I will make a new JIRA for #2 and submit a CR later.;;;","06/Feb/19 7:06 AM;denyeart;Merged into master (v2.0) and tagged as release note is required.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,
Ledger commontests/test_common broken in a subtle way,FAB-12076,33954,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,21/Sep/18 3:08 AM,22/Sep/18 5:48 AM,28/Oct/23 3:04 AM,22/Sep/18 5:47 AM,,,,,,v1.3.0,,,,,fabric-ledger,,,,0,,,,,,"It appears an invalid JSON payload is used in a test [1]. When the testutil.AssertEquals matcher is replaced with assert.JSONEq, the test fails.

[1]: https://github.com/hyperledger/fabric/blob/master/core/ledger/kvledger/txmgmt/statedb/commontests/test_common.go#L565",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzrrz:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"21/Sep/18 4:22 AM;sykesm;remote:   https://gerrit.hyperledger.org/r/26417 [FAB-12076] correct invalid JSON in test
remote:   https://gerrit.hyperledger.org/r/26418 [FAB-12076] Use raw string literals for JSON;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
PTE invoke message: Error: Cannot save null userContext,FAB-12077,33956,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,dongming,dongming,dongming,21/Sep/18 4:15 AM,24/Sep/18 11:03 PM,28/Oct/23 3:04 AM,24/Sep/18 11:03 PM,,,,,,,,,,,fabric-quality,,,,0,,,,,,"PTE shows the following error message when invoke marbles02

info: [PTE 0 main]: stderr: debug: [Channel.js]: _buildSignedProposal - start

info: [PTE 0 main]: stderr: debug: [Remote.js]: getUrl::grpcs://localhost:7065
debug: [Peer.js]: sendProposal - Start ----localhost:7065 grpcs://localhost:7065

info: [PTE 0 main]: stderr: debug: [Channel.js]: _buildSignedProposal - adding function arg:initMarble
debug: [Channel.js]: _buildSignedProposal - adding arg

info: [PTE 0 main]: stderr: debug: [Channel.js]: _buildSignedProposal - adding arg

info: [PTE 0 main]: stderr: debug: [Channel.js]: _buildSignedProposal - adding arg

info: [PTE 0 main]: stderr: debug: [Channel.js]: _buildSignedProposal - adding arg

info: [PTE 0 main]: stderr: debug: [Channel.js]: _buildSignedProposal - not adding the argument :: argbytes

info: [PTE 0 main]: stderr: (node:12366) UnhandledPromiseRejectionWarning: Error: Cannot save null userContext.
 at Client.setUserContext (/home/ibmadmin/gopath/src/github.com/hyperledger/fabric-test/tools/PTE/node_modules/fabric-client/lib/Client.js:1312:10)
 at getMoveRequest (/home/ibmadmin/gopath/src/github.com/hyperledger/fabric-test/tools/PTE/pte-execRequest.js:324:16)
 at invoke_move_const_evtBlock (/home/ibmadmin/gopath/src/github.com/hyperledger/fabric-test/tools/PTE/pte-execRequest.js:1865:5)
 at Timeout._onTimeout (/home/ibmadmin/gopath/src/github.com/hyperledger/fabric-test/tools/PTE/pte-execRequest.js:1854:9)
 at ontimeout (timers.js:498:11)
 at tryOnTimeout (timers.js:323:5)
 at Timer.listOnTimeout (timers.js:290:5)
(node:12366) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 50)
debug: [Remote.js]: Successfully connected to remote gRPC server",,dongming,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-2247,,,No,,Unset,No,,,"1|hzzrsn:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),dongming,,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,,,,,,true,"22/Sep/18 4:31 AM;dongming;https://gerrit.hyperledger.org/r/#/c/26467/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Post release check jobs ,FAB-12078,33957,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,vijaypunugubati,vijaypunugubati,vijaypunugubati,21/Sep/18 4:41 AM,11/Sep/19 3:49 AM,28/Oct/23 3:04 AM,11/Sep/19 3:49 AM,,,,,,,,,,,,,,,0,,,,,,"Pull docker images and binaries form the nexus, and run fabric-end-2-end-checks jobs on the master.",,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzrsv:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"21/Sep/18 4:49 AM;vijaypunugubati;changes pushed to Gerrit, https://gerrit.hyperledger.org/r/#/c/26432/;;;","11/Sep/19 3:48 AM;vijaypunugubati;Migrating towards new CI process, this task won't be done.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Adding collections config option for marbles private, anchor peer update, endorsement policy specification in ATD",FAB-12079,33960,21029,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,suryalnvs,suryalnvs,suryalnvs,21/Sep/18 6:38 AM,05/Oct/18 2:37 AM,28/Oct/23 3:04 AM,05/Oct/18 2:37 AM,,,,,,v1.3.0,,,,,fabric-quality,,,,0,quality,,,,,"Adding collections config option for marbles private chaincode, anchor peer update on the network, endorsement policy specification for other chaincodes in ATD for PTE",,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzrtb:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,true,"22/Sep/18 12:30 AM;suryalnvs;https://gerrit.hyperledger.org/r/#/c/26437/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fix a link to sample code on how to set endorsement policy from sdk-node,FAB-12080,33961,,Documentation,Closed,FAB,Fabric,software,denyeart,,,Low,Won't Do,yuki-kon,yuki-kon,yuki-kon,21/Sep/18 7:39 AM,02/Apr/19 6:16 AM,28/Oct/23 3:04 AM,02/Apr/19 6:16 AM,v1.2.0,,,,,Future,,,,,fabric-docs,,,,0,,,,,,"[Setting chaincode-level endorsement policies|https://hyperledger-fabric.readthedocs.io/en/latest/endorsement-policies.html#setting-chaincode-level-endorsement-policies] has a link to sample code on how to set endorsement policy from fabric-sdk-node.
The current link refers to the [end-to-end test code|https://github.com/hyperledger/fabric-sdk-node/blob/f8ffa90dc1b61a4a60a6fa25de760c647587b788/test/integration/e2e/e2eUtils.js#L178] in fabric-sdk-node and points to an old commit level. Since the end-to-end test is complicated, it’s hard for beginners to understand how to use endorsement policy quickly.
fabric-sample/balance-transfer has a simpler [sample code|https://github.com/hyperledger/fabric-samples/blob/master/balance-transfer/app/instantiate-chaincode.js]. It would be better to change the link to this one in the document.
",,yuki-kon,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-14388,,,,,FAB-12636,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzrtj:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),yuki-kon,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"22/Sep/18 1:14 AM;yuki-kon;CR is posted here. https://gerrit.hyperledger.org/r/#/c/26441/;;;","01/Nov/18 1:17 AM;yuki-kon;This JIRA is postponed until balance-transfer is updated by FAB-12636.;;;","02/Apr/19 6:16 AM;yuki-kon;This Jira is no longer required because FAB-14388 updated the link.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Fix misspelling of ""Singed"" to ""Signed"" in method names",FAB-12081,33962,,Bug,Closed,FAB,Fabric,software,denyeart,,,Lowest,Done,diizuka,diizuka,diizuka,21/Sep/18 9:51 AM,24/Sep/18 10:58 PM,28/Oct/23 3:04 AM,24/Sep/18 10:58 PM,v1.0.0,v1.1.0,v1.2.0,,,v1.3.0,,,,,fabric-ledger,,,,0,,,,,,"Fix misspelling of ""Singed"" to ""Signed"" in testutil method names",,denyeart,diizuka,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzrtr:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,diizuka,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"24/Sep/18 4:22 AM;denyeart;https://gerrit.hyperledger.org/r/#/c/26442/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
go vet -lostcancel indicates paths exist where a context cancellation call is not used,FAB-12082,33963,,Bug,Closed,FAB,Fabric,software,denyeart,,,Low,Done,yacovm,sykesm,sykesm,21/Sep/18 10:45 AM,28/Sep/18 9:14 PM,28/Oct/23 3:04 AM,28/Sep/18 9:14 PM,,,,,,v1.4.0,,,,,fabric-gossip,,,,0,,,,,,"{code}
$ go vet -lostcancel ./...
# github.com/hyperledger/fabric/gossip/comm
gossip/comm/comm_impl.go:181: the cf function is not used on all paths (possible context leak)
gossip/comm/comm_impl.go:196: this return statement may be reached without using the cf var defined on line 181
{code}

The pattern used by this code for context management is atypical and should be evaluated by an expert.",,sykesm,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12084,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzrtz:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"22/Sep/18 5:20 AM;yacovm;https://gerrit.hyperledger.org/r/#/c/26470/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
go vet -lostcancel indicates paths exist where a context cancellation call is not used,FAB-12083,33964,,Bug,Closed,FAB,Fabric,software,denyeart,,,Low,Done,yacovm,sykesm,sykesm,21/Sep/18 10:47 AM,28/Sep/18 9:14 PM,28/Oct/23 3:04 AM,28/Sep/18 9:14 PM,,,,,,v1.4.0,,,,,fabric-orderer,,,,0,,,,,,"{code}
# github.com/hyperledger/fabric/orderer/common/cluster
orderer/common/cluster/comm.go:404: the cancel function is not used on all paths (possible context leak)
orderer/common/cluster/comm.go:407: this return statement may be reached without using the cancel var defined on line 404
{code}

The pattern used by this code for context management is atypical and should be evaluated by an expert.",,sykesm,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12084,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzru7:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"22/Sep/18 5:19 AM;yacovm;https://gerrit.hyperledger.org/r/#/c/26472/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Address lostcancel issues flagged by vet,FAB-12084,33965,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,sykesm,sykesm,21/Sep/18 10:50 AM,11/Apr/19 10:53 PM,28/Oct/23 3:04 AM,11/Apr/19 10:53 PM,,,,,,,,,,,,,,,0,,,,,,"Address the simple issues and enable vet checks to prevent new occurrences from being introduced.

There are two places that use a atypical cancellation pattern when dealing with grpc streams. Separate issues have been opened for those components.",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12082,FAB-12083,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzruf:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"21/Sep/18 11:45 AM;sykesm;remote:   https://gerrit.hyperledger.org/r/26444 [FAB-12084] address simple lostcancel vet issues
;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Extend linting to prevent inadvertent use of golang.org/x/net/context,FAB-12085,33966,,Task,Closed,FAB,Fabric,software,denyeart,,,Low,Done,sykesm,sykesm,sykesm,21/Sep/18 11:41 AM,25/Sep/18 11:41 PM,28/Oct/23 3:04 AM,25/Sep/18 11:41 PM,,,,,,,,,,,,,,,0,,,,,,"golang.org/x/net/context is now a type alias to the context package in the standard library. With the exception of the generated protobuf structs, all of our code is now using the standard package - we should try to keep it that way.",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12064,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzrun:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"21/Sep/18 11:45 AM;sykesm;remote:   https://gerrit.hyperledger.org/r/26445 [FAB-12085] lint out golang.org/x/net/context
;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Expose function in query executor for retrieving private data metadata by keyhash,FAB-12086,33967,28450,Sub-task,Closed,FAB,Fabric,software,denyeart,,,High,Done,manish-sethi,manish-sethi,manish-sethi,21/Sep/18 12:02 PM,23/Sep/18 12:14 AM,28/Oct/23 3:04 AM,23/Sep/18 12:14 AM,,,,,,v1.3.0,,,,,fabric-ledger,,,,0,,,,,,"During validation, key-based endorsement needs to check the endorsement based on the key hash. 

In the current code, query executor exposes a function to retrieve the private data metadata by the private raw key. This function is meant to be used by the chaincode in a simulation. At the validation time, this raw private key is not available to all the peers and in the hashed rwset, only the hash of the key is available. Hence query executer needs to expose a function that accepts the hash of the key.

The key-based endorsement validation code wrongly uses the current function - https://sourcegraph.com/github.com/hyperledger/fabric@bce5756b0d0888fc5f88653a227c6935213fb547/-/blob/core/common/validation/statebased/vpmanagerimpl.go#L321",,manish-sethi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzruv:",,,,Unset,Unset,Sprint 6 - NextGen Endorseme 2,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),manish-sethi,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"21/Sep/18 12:08 PM;manish-sethi;https://gerrit.hyperledger.org/r/#/c/26447/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fix retrieval of private data metadata during key-level endorsement validation,FAB-12087,33968,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,ales,manish-sethi,manish-sethi,21/Sep/18 12:11 PM,15/Oct/18 12:14 PM,28/Oct/23 3:04 AM,15/Oct/18 12:14 PM,,,,,,v1.3.0,,,,,fabric-common,,,,0,,,,,,See FAB-12086 for details,,manish-sethi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-8812,,,No,,Unset,No,,,"1|hzzrv3:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),manish-sethi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add metadata retrieval by hash to validation plugin interface,FAB-12089,33974,33968,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ales,ales,ales,21/Sep/18 6:57 PM,23/Sep/18 12:36 AM,28/Oct/23 3:04 AM,23/Sep/18 12:36 AM,,,,,,,,,,,,,,,0,,,,,,,,ales,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzrwf:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ales,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"21/Sep/18 7:03 PM;ales;https://gerrit.hyperledger.org/r/#/c/26449/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Retrieve SBEP for private data by key hash,FAB-12090,33975,33968,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ales,ales,ales,21/Sep/18 6:57 PM,23/Sep/18 12:38 AM,28/Oct/23 3:04 AM,23/Sep/18 12:38 AM,,,,,,,,,,,,,,,0,,,,,,,,ales,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzrwn:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ales,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"21/Sep/18 7:03 PM;ales;https://gerrit.hyperledger.org/r/#/c/26450/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add integration tests for SBE that include private data,FAB-12091,33976,33968,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,mne,ales,ales,21/Sep/18 6:57 PM,10/Oct/18 10:55 AM,28/Oct/23 3:04 AM,10/Oct/18 10:55 AM,,,,,,v1.3.0,v1.4.0,,,,,,,,0,,,,,,Extend SBE integration tests to cover scenarios with private data.,,ales,denyeart,mne,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzrwv:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ales,denyeart,mne,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.3,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"24/Sep/18 8:25 PM;mne;https://gerrit.hyperledger.org/r/#/c/26503/;;;","09/Oct/18 2:42 PM;denyeart;[~mne] This one is merged in master. Could you cherry pick to release-1.3? Looks like there is a small conflict to resolve...

If you haven't worked on a release branch before, you can start by:
{code:java}
git checkout -b release-1.3 origin/release-1.3
{code}
and then push with:
{code:java}
git push origin HEAD:refs/for/release-1.3
{code};;;","09/Oct/18 5:23 PM;mne;done!
https://gerrit.hyperledger.org/r/#/c/26875/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Move bccsp to it's own repository,FAB-12092,33977,,Task,Backlog,FAB,Fabric,software,denyeart,,,Medium,,,mastersingh24,mastersingh24,21/Sep/18 7:04 PM,11/Aug/19 6:48 PM,28/Oct/23 3:04 AM,,,,,,,,,,,,,,,,0,hygiene,,,,,"bccsp is now used by Fabric, Fabric CA and the Go SDK.  It warrants it's own repository and lifecyle",,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzrx3:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"11/Aug/19 6:48 PM;mastersingh24;not sure if we still want/need to do this, but will keep open for now;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Bug in Private Data Tutorial,FAB-12093,33980,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,pandrejko,pandrejko,pandrejko,21/Sep/18 9:56 PM,22/Sep/18 6:39 AM,28/Oct/23 3:04 AM,22/Sep/18 6:34 AM,v1.2.0,,,,,v1.2.1,v1.3.0,,,,fabric-docs,,,,0,,,,,,"{color:#444444}I have noticed a mistake in fabric documentation, release 1.2. I want to inform you about that, {color}[https://hyperledger-fabric.readthedocs.io/en/release-1.2/private_data_tutorial.html]{color:#444444} under Store Private Data, export PEER0_ORG1_CA=/opt/gopath/src/{color}[github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org2.example.com/peers/peer0.org1.example.com/tls/ca.crt|http://github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org2.example.com/peers/peer0.org1.example.com/tls/ca.crt]{color:#444444}have a mistake, it should take ca.crt from {color}[org1.example.com|http://org1.example.com/]{color:#444444} but it was written as {color}[org2.example.com|http://org2.example.com/]{color:#444444}. Have a nice day,{color}",,denyeart,pandrejko,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwrpz:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,pandrejko,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,release-1.2,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"21/Sep/18 10:56 PM;denyeart;[~chris.elder] I know you are looking at private data tutorial and sample, to enhance for other reasons (transient field).  While you have the context, can you partner with [~pandrejko] to make sure the tutorial fix is good.;;;","21/Sep/18 11:02 PM;denyeart;I've tagged as v1.3.0... but doc can be fixed at any time without release boundaries...;;;","22/Sep/18 1:28 AM;pandrejko;[~chris.elder]

https://gerrit.hyperledger.org/r/26459;;;","22/Sep/18 6:39 AM;denyeart;also backported to release-1.2 and merged: https://gerrit.hyperledger.org/r/#/c/26474/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
The daily unit-tests for the master(1.3.0) are failing due to Gossip errors in the test.,FAB-12094,33981,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Duplicate,,sambhavdutt,sambhavdutt,21/Sep/18 10:28 PM,19/Mar/19 7:57 PM,28/Oct/23 3:04 AM,22/Sep/18 12:10 AM,v1.3.0,,,,,v1.3.0,,,,,fabric-gossip,,,,0,ci-flake,,,,,"The gossip(gossip_test.go:1493) tests are failing in the unit-tests again on master branch, Copying the errors observed,

{code:java}
20:31:32 unit-tests_1  | 	/opt/go/src/testing/testing.go:1068 +0xa2
20:31:32 unit-tests_1  | --- FAIL: TestEndedGoroutines (423.89s)
20:31:32 unit-tests_1  | 	assertions.go:247: 
                          
	Error Trace:	gossip_test.go:1493
20:31:32 unit-tests_1  | 		
	            	
			gossip_test.go:1364
20:31:32 unit-tests_1  | 		
	Error:      	Goroutine(s) haven't ended:
20:31:32 unit-tests_1  | 		
	Test:       	TestEndedGoroutines
20:31:32 unit-tests_1  | 		
	Messages:   	[testing.runTests.func1.1(0xc42018e4b0) 	/opt/go/src/testing/testing.go:1068 +0x3b created by testing.runTests.func1 	/opt/go/src/testing/testing.go:1068 +0xa2 ]
20:31:32 unit-tests_1  | FAIL
20:31:32 unit-tests_1  | coverage: 85.2% of statements
20:31:32 unit-tests_1  | FAIL	github.com/hyperledger/fabric/gossip/gossip	460.618s
20:31:32 unit-tests_1  | ok  	github.com/hyperledger/fabric/gossip/gossip/algo	6.028s	coverage: 97.0% of statements
20:31:39 unit-tests_1  | ok  	github.com/hyperledger/fabric/gossip/gossip/channel	17.364s	coverage: 90.7% of statements
20:31:51 unit-tests_1  | ok  	github.com/hyperledger/fabric/gossip/gossip/msgstore	8.021s	coverage: 100.0% of statements
20:32:00 unit-tests_1  | ok  	github.com/hyperledger/fabric/gossip/gossip/pull	5.690s	coverage: 91.8% of statements
20:32:14 unit-tests_1  | ok  	github.com/hyperledger/fabric/gossip/identity	12.014s	coverage: 100.0% of statements
20:32:14 unit-tests_1  | ?   	github.com/hyperledger/fabric/gossip/mocks	[no test files]
20:32:34 unit-tests_1  | ok  	github.com/hyperledger/fabric/gossip/privdata	13.728s	coverage: 83.9% of statements
20:32:34 unit-tests_1  | ?   	github.com/hyperledger/fabric/gossip/privdata/common	[no test files]
20:32:34 unit-tests_1  | ?   	github.com/hyperledger/fabric/gossip/privdata/mocks	[no test files]
20:34:22 unit-tests_1  | ok  	github.com/hyperledger/fabric/gossip/service	103.390s	coverage: 81.6% of statements
20:35:05 unit-tests_1  | ok  	github.com/hyperledger/fabric/gossip/state	37.541s	coverage: 78.0% of statements
20:35:08 unit-tests_1  | ok  	github.com/hyperledger/fabric/gossip/state/mocks	0.018s	coverage: 58.8% of statements
20:35:15 unit-tests_1  | ok  	github.com/hyperledger/fabric/gossip/util	4.024s	coverage: 79.1% of statements
20:35:16 unit-test_unit-tests_1 exited with code 1
20:35:16 Stopping couchdb                ... 
{code}

*Build Logs*
https://jenkins.hyperledger.org/view/Daily/job/fabric-unit-test-daily-master-x86_64/201/consoleFull

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-unit-test-daily-master-x86_64/205/
",,C0rWin,denyeart,rameshthoomu,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12067,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,41c8a12081d718326f1cc4848f8ed44b6b76744e,Unset,No,,,"1|hzzrxj:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),C0rWin,denyeart,rameshthoomu,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"22/Sep/18 12:10 AM;denyeart;[~sambhavdutt] Let's use previously created FAB-12067.

Please comment in FAB-12067 and escalate in fabric-ci and fabric-scrum if this happens often.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"chaincodes test is failing in Smoke tests in fabric-test-verify, merge as a chaincode container is not running",FAB-12095,33982,,Bug,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,,sambhavdutt,sambhavdutt,21/Sep/18 10:57 PM,19/Mar/19 8:13 PM,28/Oct/23 3:04 AM,29/Sep/18 5:34 AM,v1.3.0,,,,,v1.3.0,,,,,fabric-quality,,,,0,ci-failure,,,,,"I have noticed this recently in the smoke tests in verify and merge jobs. Not consistent but it does happen sometimes.

{code:java}
chaincodes.Chaincodes Testing.FAB-5791: Test API in SHIM interface using marbles02 and shimApiDriver chaincodes for solo orderer leveldb db NODE lang -- @1.3

The expected chaincode container 43466884bb8911e88deefa163eaf6a12-peer0.org1.example.com-myShimAPI-0 is not running

@scenario.begin

  @shimAPI @smoke
  Scenario Outline: FAB-5791: Test API in SHIM interface using marbles02 and shimApiDriver chaincodes for solo orderer leveldb db NODE lang -- @1.3 
    Given I have a bootstrapped fabric network of type solo ... passed in 16.058s
    When an admin sets up a channel ... passed in 28.156s
    And I vendor ""NODE"" packages for fabric-based chaincode at ""../chaincodes/shimApiDriver/node"" ... passed in 14.940s
    When an admin deploys chaincode at path ""../../fabric-test/chaincodes/marbles/node"" with args [""""] with name ""mycc"" with language ""NODE"" ... passed in 51.351s
    When an admin deploys chaincode at path ""../../fabric-test/chaincodes/shimApiDriver/node"" with args [""""] with name ""myShimAPI"" with language ""NODE"" ... failed in 314.880s
    When a user invokes on the chaincode named ""mycc"" with args [""initMarble"",""001m1"",""indigo"",""35"",""saleem""] ... skipped in 0.000s
{code}

*Build Logs*

https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-merge-x86_64/443/testReport/chaincodes/Chaincodes%20Testing/FAB_5791__Test_API_in_SHIM_interface_using_marbles02_and_shimApiDriver_chaincodes_for_solo_orderer_leveldb_db_NODE_lang_____1_3_/

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-merge-x86_64/443/",,latitiah,rameshthoomu,sambhavdutt,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,ac51be3b901e3fa6817ee0f4cffc9efb36e506a7,Unset,No,,,"1|hzzrxr:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),latitiah,rameshthoomu,sambhavdutt,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"29/Sep/18 5:33 AM;sambhavdutt;The fabric verify smoke tests have been passing from several builds without running into the chaincode error.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
requiredPeerCount>0 failed to disseminate data,FAB-12096,32839,,Task,Closed,FAB,Fabric,software,denyeart,,,High,Done,,davidkhala,davidkhala,15/Aug/18 3:51 PM,13/Nov/18 3:11 PM,28/Oct/23 3:04 AM,22/Sep/18 4:48 AM,v1.2.0,,,,,v1.3.0,,,,,,,,,0,,,,,,"I tried different nodejs applications and find if we set requiredPeerCount>0 in collection configs, error with pattern:
{code:java}
""Failed disseminating %d out of %d private RWSets"", 
{code}
occurs repeatedly.



 ",,davidkhala,denyeart,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-611,,,FABN-1012,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzmsv:",,,,Unset,Unset,,,"I would like to create a patch to simulate that, it only change it to be 1 with maxPeerCount==1
https://gerrit.hyperledger.org/r/#/c/25561/",,Unset,,,,,,Unset,,Unset,,(Please add usage information),davidkhala,denyeart,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"15/Aug/18 4:04 PM;davidkhala;https://gerrit.hyperledger.org/r/#/c/25561/;;;","16/Aug/18 11:43 AM;davidkhala;After manually set anchorPeers, it could be OK;;;","21/Sep/18 11:49 PM;denyeart;[~harrisob@us.ibm.com] can you re-review and set a proposed FixVersion?;;;","22/Sep/18 12:29 AM;harrisob@us.ibm.com;This is not an issue with NodeSDK;;;","22/Sep/18 1:03 AM;harrisob@us.ibm.com;Maybe some doc requiring that anchor peers must be set for this to work;;;","22/Sep/18 4:47 AM;denyeart;Thanks [~harrisob@us.ibm.com] .  I was referring to  [https://gerrit.hyperledger.org/r/#/c/25561/] review only, which you merged today.  So all is good.  Closing.

BTW, the requirement for anchor peers is already documented in the Fabric private data docs.;;;","24/Sep/18 11:05 AM;davidkhala;[~denyeart] Thanks Dave for your involve. Now I see those sections about setting anchor peers is required.  

I read some of them before and skipped them since they looks not obvious. Maybe we can simply highlight them. ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
Data race in orderer/consensus/kafka/chain.go,FAB-12097,33986,,Bug,Closed,FAB,Fabric,software,denyeart,,,Low,Done,sykesm,sykesm,sykesm,22/Sep/18 2:02 AM,28/Sep/18 10:55 PM,28/Oct/23 3:04 AM,28/Sep/18 10:55 PM,,,,,,v1.4.0,,,,,,,,,0,race,,,,,"{code}
==================
WARNING: DATA RACE
Read at 0x00c000548d50 by goroutine 110:
  github.com/hyperledger/fabric/orderer/consensus/kafka.(*chainImpl).Errored()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/orderer/consensus/kafka/chain.go:120 +0x59
  github.com/hyperledger/fabric/orderer/consensus/kafka.TestDeliverSession.func3()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/orderer/consensus/kafka/chain_test.go:3464 +0xecd
  testing.tRunner()
      /usr/local/Cellar/go/1.11/libexec/src/testing/testing.go:827 +0x162

Previous write at 0x00c000548d50 by goroutine 31:
  github.com/hyperledger/fabric/orderer/consensus/kafka.startThread()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/orderer/consensus/kafka/chain.go:295 +0xf97

Goroutine 110 (running) created at:
  testing.(*T).Run()
      /usr/local/Cellar/go/1.11/libexec/src/testing/testing.go:878 +0x650
  github.com/hyperledger/fabric/orderer/consensus/kafka.TestDeliverSession()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/orderer/consensus/kafka/chain_test.go:3409 +0x140
  testing.tRunner()
      /usr/local/Cellar/go/1.11/libexec/src/testing/testing.go:827 +0x162

Goroutine 31 (running) created at:
  github.com/hyperledger/fabric/orderer/consensus/kafka.(*chainImpl).Start()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/orderer/consensus/kafka/chain.go:129 +0x64
  github.com/hyperledger/fabric/orderer/consensus/kafka.TestDeliverSession.func3()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/orderer/consensus/kafka/chain_test.go:3430 +0x49d
  testing.tRunner()
      /usr/local/Cellar/go/1.11/libexec/src/testing/testing.go:827 +0x162
==================
{code}

This is another example of the orderer pattern of trying to create, use, discard, and get a new channel without serialization.

{code}
// Errored returns a channel which will close when a partition consumer error
// has occurred. Checked by Deliver().
func (chain *chainImpl) Errored() <-chan struct{} {
	return chain.errorChan // line 120
}
{code}

races with the code in startThread run as a go routine 

{code}
	close(chain.startChan)                // Broadcast requests will now go through
	chain.errorChan = make(chan struct{}) // Deliver requests will also go through
{code}
",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-9128,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzrz3:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"26/Sep/18 5:28 AM;sykesm;https://gerrit.hyperledger.org/r/26575;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
No context used in gossip handshake,FAB-12098,33987,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,22/Sep/18 4:01 AM,24/Sep/18 4:23 AM,28/Oct/23 3:04 AM,24/Sep/18 4:23 AM,,,,,,v1.2.1,v1.3.0,,,,fabric-gossip,,,,0,,,,,,"The handshake is used when connecting to bootstrap or anchor peers, and thead-hoc gRPC stream that is used, is used with a background context without any timeout or cancel.",,C0rWin,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzrzb:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),C0rWin,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,release-1.2,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"22/Sep/18 6:04 PM;C0rWin;[~yacovm] I'm just wondering whenever that connected to intermittent failures: https://jira.hyperledger.org/browse/FAB-12066?;;;","22/Sep/18 6:42 PM;yacovm;That's what I also thought at first, but - before the stream creation - we ping the remote peer via the Ping RPC. 
If it's not online, since the gRPC dial and Ping RPC is called with a timeout-context we shouldn't get to the stream establishment.

On top of it - the gRPC connection is closed, and according to the gRPC documentation:

{quote}
// NewStream creates a new Stream for the client side. This is typically
// called by generated code. ctx is used for the lifetime of the stream.
//
// To ensure resources are not leaked due to the stream returned, one of the following
// actions must be performed:
//
//      1. Call Close on the ClientConn.
//      2. Cancel the context provided.
//      3. Call RecvMsg until a non-nil error is returned. A protobuf-generated
//         client-streaming RPC, for instance, might use the helper function
//         CloseAndRecv (note that CloseSend does not Recv, therefore is not
//         guaranteed to release all resources).
//      4. Receive a non-nil, non-io.EOF error from Header or SendMsg.
//
// If none of the above happen, a goroutine and a context will be leaked, and grpc
// will not call the optionally-configured stats handler with a stats.End message.
{quote}

So we do (1) and we should be fine;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Tests that use plugins fail when race is enabled,FAB-12099,33988,,Bug,Closed,FAB,Fabric,software,denyeart,,,Low,Done,sykesm,sykesm,sykesm,22/Sep/18 4:02 AM,25/Sep/18 11:38 PM,28/Oct/23 3:04 AM,25/Sep/18 11:38 PM,,,,,,,,,,,,,,,0,race,,,,,We need to build the plugins with {{-race}} when the test are being run with the race detector enabled.,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzrzj:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"22/Sep/18 4:24 AM;sykesm;https://gerrit.hyperledger.org/r/26466;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Rename legacy chaincode operations/structs in integration tests,FAB-12100,33991,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wlahti,wlahti,wlahti,22/Sep/18 6:54 AM,21/Jun/19 4:34 AM,28/Oct/23 3:04 AM,21/Jun/19 4:34 AM,,,,,,v2.0.0,,,,,,,,,0,,,,,,"The chaincode structs and operations that currently exist in the integration tests are structured to match the legacy lifecycle and chaincode operations. In the context of _lifecycle, chaincode packaging, installing, and instantiating each required a new struct for their parameters as the parameters do not match up between the legacy lifecycle and +lifecycle operations.

This task will be used to rename the legacy lifecycle (LSCC) operations in the integration tests once the new lifecycle is fully functional on the server.",,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-11237,,,No,,Unset,No,,,"1|i008rj:iyi",,,,Unset,Unset,v2.0,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"27/Sep/18 3:42 AM;wlahti;https://gerrit.hyperledger.org/r/c/26598 - abandoned;;;","10/May/19 12:40 AM;wlahti;The previous CR was pushed (and subsequently abandoned) during a time of heavy development for new features and creation of integration tests. As the current release winds down, I'll pick this task back up so we can start our transition to preferring the use of _lifecycle for our integration tests. ;;;","14/Jun/19 2:31 AM;wlahti;https://gerrit.hyperledger.org/r/c/fabric/+/31900;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Errors in log with invalid state-based endorsement,FAB-12101,33994,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ales,denyeart,denyeart,22/Sep/18 7:05 PM,08/Oct/18 11:07 AM,28/Oct/23 3:04 AM,08/Oct/18 11:07 AM,,,,,,v1.3.0,,,,,fabric-peer,,,,0,,,,,," Using chaincode with state-based endorsement, if I attempt to commit a transaction without the necessary state-based endorsement, the transaction gets invalidated as expected, however there are some ugly errors in the log that are unexpected.

 

2018-09-22 05:52:12.770 EDT [committer/txvalidator] VSCCValidateTxForCC -> DEBU 438 Validating Tx 9e4aaf26fc09228b955bba2ec237c0a95051d55e6dd5348d22647ec2e01fa3ae, seq 0 out of 1 in block 5 for channel myc with validation plugin vscc with plugin
 2018-09-22 05:52:12.770 EDT [lockbasedtxmgr] newQueryExecutor -> DEBU 439 constructing new query executor txid = [34004c4b-15ba-400f-b431-e26dd8356d80]
 2018-09-22 05:52:12.771 EDT [stateleveldb] GetState -> DEBU 43a GetState(). ns=marbles, key=marble2
 2018-09-22 05:52:12.771 EDT [lockbasedtxmgr] Done -> DEBU 43b Done with transaction simulation / query execution [34004c4b-15ba-400f-b431-e26dd8356d80]
 {color:#de350b}2018-09-22 05:52:12.771 EDT [vscc] Validate -> ERRO 43c VSCC error: stateBasedValidator.Validate failed, err %!s(<nil>){color}
 {color:#de350b}2018-09-22 05:52:12.771 EDT [vscc] Validate -> DEBU 43d block 5, namespace: marbles, tx 0 validation results is: validation of key marble2 (coll'':ns'marbles') in tx 5:0 failed: Error unmarshaling to SignaturePolicy: proto: common.SignaturePolicyEnvelope: illegal tag 0 (wire type 0){color}
 {color:#de350b}2018-09-22 05:52:12.771 EDT [committer/txvalidator] ValidateWithPlugin -> DEBU 43e Transaction 9e4aaf26fc09228b955bba2ec237c0a95051d55e6dd5348d22647ec2e01fa3ae appears to be invalid: validation of key marble2 (coll'':ns'marbles') in tx 5:0 failed: Error unmarshaling to SignaturePolicy: proto: common.SignaturePolicyEnvelope: illegal tag 0 (wire type 0){color}
 2018-09-22 05:52:12.771 EDT [committer/txvalidator] VSCCValidateTx -> DEBU 43f VSCCValidateTx completes env bytes 0xc422952c80
 {color:#de350b}2018-09-22 05:52:12.771 EDT [committer/txvalidator] validateTx -> ERRO 440 VSCCValidateTx for transaction txId = 9e4aaf26fc09228b955bba2ec237c0a95051d55e6dd5348d22647ec2e01fa3ae returned error: validation of key marble2 (coll'':ns'marbles') in tx 5:0 failed: Error unmarshaling to SignaturePolicy: proto: common.SignaturePolicyEnvelope: illegal tag 0 (wire type 0){color}
 2018-09-22 05:52:12.771 EDT [committer/txvalidator] validateTx -> DEBU 441 validateTx completes for block 0xc422986240 env 0xc42264dcc0 txn 0
 2018-09-22 05:52:12.771 EDT [committer/txvalidator] Validate -> DEBU 442 got result for idx 0, code 10
 2018-09-22 05:52:12.771 EDT [committer/txvalidator] Validate -> DEBU 443 END Block Validation
 2018-09-22 05:52:12.771 EDT [kvledger] CommitWithPvtData -> DEBU 444 Channel [myc]: Validating state for block [5]
 2018-09-22 05:52:12.771 EDT [lockbasedtxmgr] ValidateAndPrepare -> DEBU 445 Waiting for purge mgr to finish the background job of computing expirying keys for the block
 2018-09-22 05:52:12.771 EDT [lockbasedtxmgr] ValidateAndPrepare -> DEBU 446 Validating new block with num trans = [1]
 2018-09-22 05:52:12.771 EDT [valimpl] ValidateAndPrepareBatch -> DEBU 447 ValidateAndPrepareBatch() for block number = [5]
 2018-09-22 05:52:12.771 EDT [valimpl] ValidateAndPrepareBatch -> DEBU 448 preprocessing ProtoBlock...
 {color:#de350b}2018-09-22 05:52:12.771 EDT [valimpl] preprocessProtoBlock -> WARN 449 Channel [myc]: Block [5] Transaction index [0] TxId [9e4aaf26fc09228b955bba2ec237c0a95051d55e6dd5348d22647ec2e01fa3ae] marked as invalid by committer. Reason code [ENDORSEMENT_POLICY_FAILURE]{color}",,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-8812,,,No,,Unset,No,,,"1|hzzs27:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Favor raw strings to repeated escapes,FAB-12102,33995,,Task,Closed,FAB,Fabric,software,denyeart,,,Low,Done,sykesm,sykesm,sykesm,22/Sep/18 11:04 PM,25/Sep/18 11:41 PM,28/Oct/23 3:04 AM,25/Sep/18 11:41 PM,,,,,,,,,,,,,,,0,hygiene,,,,,,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzs2f:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"22/Sep/18 11:06 PM;sykesm;https://gerrit.hyperledger.org/r/26478 [FAB-12102] use raw strings where appropriate;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Improve ledger debug,FAB-12103,33996,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,denyeart,denyeart,denyeart,23/Sep/18 2:35 AM,24/Sep/18 4:31 AM,28/Oct/23 3:04 AM,24/Sep/18 4:31 AM,,,,,,v1.3.0,,,,,fabric-ledger,,,,0,,,,,,"Improve ledger debug based on serviceability findings.

Remove unnecessary debug.

Add info logging for state and history rebuild.

Add couchdb database name to couchdb debug.",,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzs2n:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"23/Sep/18 2:37 AM;denyeart;https://gerrit.hyperledger.org/r/#/c/26479/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Log correct error for state based validation failure,FAB-12104,33997,33994,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ales,ales,ales,23/Sep/18 3:37 AM,23/Sep/18 7:03 AM,28/Oct/23 3:04 AM,23/Sep/18 7:03 AM,,,,,,v1.3.0,,,,,,,,,0,,,,,,,,ales,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzs2v:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ales,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Forbid bogus key-level endorsement policies,FAB-12105,33998,33994,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,ales,ales,ales,23/Sep/18 4:17 AM,05/Oct/18 6:57 PM,28/Oct/23 3:04 AM,05/Oct/18 6:57 PM,,,,,,,,,,,,,,,0,,,,,,,,ales,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzs33:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ales,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Sep/18 7:16 AM;denyeart;https://gerrit.hyperledger.org/r/#/c/26481/;;;","02/Oct/18 2:14 AM;denyeart;[~ales] can you clarify what was decided in this Jira and the corresponding gerrit?;;;","05/Oct/18 6:56 PM;ales;Sanitizing/Validating the policy at chaincode simulation is wrong, because it forbids clients from creating a custom validation plugin that uses custom-made policies.

The other option would be to validate/sanitize at the time when the default validation logic is executed. However
# this sanitization/validation can never be complete
# fabric's trust model would assure that no malicious policy can be set if a transaction is properly endorsed

As a consequence, no further work is necessary.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
fab-ca sample is failing on s390x build,FAB-12106,33999,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,sambhavdutt,sambhavdutt,23/Sep/18 4:47 AM,19/Mar/19 8:13 PM,28/Oct/23 3:04 AM,25/Sep/18 2:27 AM,v1.3.0,,,,,v1.3.0,,,,,fabric-build,fabric-samples,,,0,ci-failure,,,,,"The recent change [https://gerrit.hyperledger.org/r/#/c/26326/] causing fab-ca build failure on s390x.
{code:java}
############### FABRIC-CA SAMPLES TEST ########################
############################################################
23:10:19 ##### 2018-09-21 23:10:19 Created docker-compose.yml
23:10:19 ##### 2018-09-21 23:10:19 Creating docker containers ...
23:10:19 Creating network ""net_fabric-ca"" with the default driver
.
.

Creating orderer1-org0 ... done
Creating run ... 
23:11:18 Creating run
23:12:50 
Creating run ... done
##### 2018-09-21 23:11:19 Waiting for the 'setup' container to finish registering identities, creating the genesis block and other artifacts .............................................................................................
23:12:50 ##### 2018-09-21 23:12:50 FATAL: Failed waiting for the 'setup' container to finish registering identities, creating the genesis block and other artifacts (./data/logs/setup.successful not found); see ./data/logs/setup.log
23:12:50 Build step 'Execute shell' marked build as failure
{code}
*Build Logs*
 [https://jenkins.hyperledger.org/view/Daily/job/fabric-end-2-end-daily-master-s390x/149/consoleFull]

[https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-end-2-end-daily-master-s390x/149/]",,denyeart,rameshthoomu,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,bbe6df687dad941f436b84747b8c8dcb140f1d8a,Unset,No,,,"1|hzzs3b:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,rameshthoomu,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-6.11.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/tough-cookie-4.1.3,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/semver-6.3.1,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/grpc/grpc-js-1.8.17,dependabot/go_modules/high-throughput/application-go/google.golang.org/grpc-1.53.0,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/word-wrap-1.2.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-and-fabric-network-7.2.4,dependabot/go_modules/asset-transfer-basic/application-go/google.golang.org/grpc-1.53.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"23/Sep/18 11:39 PM;sambhavdutt;Observed another fail due to timeout error while creating the Genesis block in BYFN tests, in *fabric-end-2-end-daily-master-390x* job

*Build Logs*

https://jenkins.hyperledger.org/view/birds-eye/job/fabric-end-2-end-daily-master-s390x/151/consoleFull

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-end-2-end-daily-master-s390x/151/;;;","24/Sep/18 1:08 AM;rameshthoomu;https://gerrit.hyperledger.org/r/#/c/26482/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Missing s390x javaenv image causing Javachaincode integration tests (ginkgo) fail ,FAB-12108,34002,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Invalid: Test Error,,rameshthoomu,rameshthoomu,23/Sep/18 11:22 PM,29/Nov/18 6:58 AM,28/Oct/23 3:04 AM,29/Nov/18 6:58 AM,v1.3.0,,,,,,,,,,fabric-peer,,,,0,,,,,,"Observed java chaincode tests are failing as the *s390x* javaenv is missing in fabric.
{code:java}
00:25:47.841 There were failures detected in the following suites:
00:25:47.844 discovery ./integration/discovery
00:25:47.846 e2e ./integration/e2e
00:25:47.849 java_chaincode ./integration/java_chaincode
00:25:47.851 nwo ./integration/nwo
00:25:47.854 pluggable ./integration/pluggable
00:25:47.856 sbe ./integration/sbe
00:25:47.879 {code}
[https://jenkins.hyperledger.org/view/Daily/job/fabric-nightly-release-job-master-s390x/96/console]",,denyeart,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABCJ-123,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzxejb:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"24/Sep/18 12:07 PM;rameshthoomu;Integration tests are disabled from s390x build as we don't have s390x javaenv image  FAB-12088;;;","29/Nov/18 6:58 AM;denyeart;java chaincode integration tests have been removed from fabric repo.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fabric Build - Failed in Integration Tests,FAB-12109,34004,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid: Test Error,,maheswarachari.k,maheswarachari.k,24/Sep/18 12:35 AM,02/Apr/19 6:55 AM,28/Oct/23 3:04 AM,02/Apr/19 6:55 AM,,,,,,,,,,,,,,,0,ci-flake,,,,,"STEP: starting couch DBSTEP: starting couch DBlog stream ended with error: context canceled------------------------------• Failure [64.060 seconds]CouchDB Runner [It] starts and stops a docker container with the specified image /home/mahesh/go/src/github.com/hyperledger/fabric/integration/runner/couchdb_test.go:158
  Timed out after 30.000s.  Expected      <<-chan struct {} | len:0, cap:0>: 0xc00050d7a0  to be closed
  /home/mahesh/go/src/github.com/hyperledger/fabric/integration/runner/couchdb_test.go:170------------------------------••••••••••••••••
Summarizing 1 Failure:
[Fail] CouchDB Runner [It] starts and stops a docker container with the specified image /home/mahesh/go/src/github.com/hyperledger/fabric/integration/runner/couchdb_test.go:170
Ran 23 of 23 Specs in 149.166 secondsFAIL! -- 22 Passed | 1 Failed | 0 Pending | 0 Skipped--- FAIL: TestRunner (149.17s)FAIL[1537715739] State-Based Endorsement EndToEnd Suite - 1/1 specs ------------------------------• [SLOW TEST:105.255 seconds]SBE_E2E basic solo network with 2 orgs executes a basic solo network with 2 orgs and SBE checks /home/mahesh/go/src/github.com/hyperledger/fabric/integration/sbe/sbe_test.go:74------------------------------ SUCCESS! 1m57.998378036s PASS
There were failures detected in the following suites:    e2e ./integration/e2e runner ./integration/runner
Ginkgo ran 11 suites in 17m50.444192748sTest Suite FailedMakefile:202: recipe for target 'integration-test' failedmake: *** [integration-test] Error 1",,denyeart,maheswarachari.k,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzs3z:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,maheswarachari.k,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"02/Apr/19 6:55 AM;denyeart;Was likely a flakey test, please re-open if you see the issue again.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Reduce number of gossip Info messages,FAB-12113,34011,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,denyeart,denyeart,denyeart,24/Sep/18 10:36 AM,25/Sep/18 10:20 PM,28/Oct/23 3:04 AM,25/Sep/18 10:20 PM,,,,,,v1.1.2,v1.2.1,v1.3.0,,,fabric-gossip,,,,0,,,,,,"Operators prefer to run with Info logging enabled, but don't want to see internal details of gossip.

This change moves some gossip internal messages from Info to Debug.",,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzs5b:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,release-1.1,main,release-1.2,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"24/Sep/18 10:39 AM;denyeart;https://gerrit.hyperledger.org/r/#/c/26491/;;;","25/Sep/18 12:15 PM;denyeart;backports:

release-1.1: [https://gerrit.hyperledger.org/r/#/c/26540/]

release-1.2: [https://gerrit.hyperledger.org/r/#/c/26539/]

 ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fix upgrade doc note about upgrading enough peers,FAB-12114,34014,,Documentation,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,denyeart,denyeart,denyeart,24/Sep/18 12:27 PM,24/Sep/18 12:44 PM,28/Oct/23 3:04 AM,24/Sep/18 12:44 PM,,,,,,v1.3.0,,,,,fabric-docs,,,,0,,,,,,"This note from upgrade doc is not correct... you do not need to upgrade peers from each org.  It is possible to get endorsements from peers of different Fabric versions.

.. note:: Before you attempt this, make sure you've upgraded enough peers from
 enough organizations to satisfy your endorsement policy. Because the
 endorsement policy for the chaincode in BYFN is ``""AND ('Org1MSP.peer','Org2MSP.peer')""``,
 you'll need to have at least one peer from each org upgraded before
 attempting to verify the upgrade.",,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzs5z:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"24/Sep/18 12:37 PM;denyeart;https://gerrit.hyperledger.org/r/#/c/26495/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Endorsement error message not returned to CLI,FAB-12121,34023,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,muralisr,denyeart,denyeart,24/Sep/18 7:31 PM,08/Oct/18 3:28 AM,28/Oct/23 3:04 AM,08/Oct/18 3:28 AM,,,,,,v1.3.0,v1.4.0,,,,fabric-peer,,,,0,,,,,,"If you invoke chaincode on a peer, and there is an error on peer side, the error message does not come back to CLI.

For example if I try to invoke a chaincode that has not been installed on peer, I get this in CLI:
{code:java}
$ peer chaincode invoke -o 127.0.0.1:7050 -C myc -n marbles -c '{""Args"":[""initMarble"",""marble1"",""blue"",""35"",""tom""]}'
Error: endorsement failure during invoke. chaincode result: <nil>{code}
On peer side I do get a good message like:
{code:java}
2018-09-24 06:27:13.931 EDT [lscc] Invoke -> ERRO 228 error getting chaincode marbles on channel [myc]: could not find chaincode with name 'marbles'{code}",,denyeart,muralisr,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzs7j:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,muralisr,wlahti,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.3,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"24/Sep/18 7:32 PM;denyeart;[~wlahti] Could you take a look?;;;","24/Sep/18 9:17 PM;wlahti;This is how the CLI has always returned the result of an invoke or query: return the overall result (success / failure) but not the error itself (other than the result from the chaincode itself). Perhaps [~muralisr] could fill in whether there was a security consideration that went into this decision?;;;","02/Oct/18 9:52 PM;muralisr;[~denyeart] [~wlahti] long story short some of this is tied up with the treatment of FAB-6387.

[~wlahti] looking at *chaincodeInvokeOrQuery* in peer/chaincode/common.go, there is a difference between query and invoke processing

query

{code:java}
...
...
                if proposalResp.Endorsement == nil {
                        return errors.Errorf(""endorsement failure during query. response: %v"", proposalResp.Response)
                }
...
{code}


invoke

{code:java}
..
..
                if proposalResp.Endorsement == nil {
                        return errors.Errorf(""endorsement failure during invoke. chaincode result: %v"", ca.Response)
                }
...
..
{code}

I think if we incorporate  *proposalResp.Response* in invoke processing error reporting, we would capture more information on error (in particular, the error [~denyeart] mentioned will show up in CLI as well). What do you think ?
;;;","02/Oct/18 10:25 PM;denyeart;[~muralisr] Looks like you are correct.

When I try invoke from CLI I get this worthless error:
{code:java}
Error: endorsement failure during invoke. chaincode result: <nil>{code}
When I try query from CLI I get this good error:
{code:java}
Error: endorsement failure during query. response: status:500 message:""make sure the chaincode marbles has been successfully instantiated and try again: chaincode marbles not found"" {code};;;","02/Oct/18 10:30 PM;denyeart;If the fix is simple, I'd recommend backport to release-1.3 before we release 1.3.0, and even to release-1.2 and release-1.1 if the cherry pick is simple.;;;","08/Oct/18 3:28 AM;denyeart;Merged to release-1.3 and master.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade nodejs version to 8.11.3,FAB-12122,34024,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,rameshthoomu,rameshthoomu,24/Sep/18 8:42 PM,10/Oct/18 6:44 AM,28/Oct/23 3:04 AM,10/Oct/18 6:44 AM,,,,,,,,,,,,,,,0,,,,,,Upgrade nodejs version to 8.11.3.,,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzs7r:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,true,"10/Oct/18 6:44 AM;rameshthoomu;This has been updated in fabric-sdk-node and CI scripts.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Use auto-generated mock in block-level SBE unit test,FAB-12124,34026,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,mne,mne,mne,24/Sep/18 9:40 PM,23/Jan/20 7:32 AM,28/Oct/23 3:04 AM,23/Jan/20 7:32 AM,,,,,,,,,,,,,,,0,stale-item,,,,,Address [~yacovm]'s comment on CR 26147 and use an auto-generated mock in the block-level SBE unit test.,,mne,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-8812,,,No,,Unset,No,,,"1|hzzs87:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),mne,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 7:32 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Need to re-instantiate cc after adding an org ,FAB-12125,34027,33518,Sub-task,Closed,FAB,Fabric,software,denyeart,,,High,Invalid,joe-alewine,pandrejko,pandrejko,24/Sep/18 10:29 PM,14/Jan/20 2:35 AM,28/Oct/23 3:04 AM,14/Jan/20 2:35 AM,,,,,,,,,,,fabric-docs,,,,0,BestPractices,stale-item,,,,"I looked through the Tutorial on how to add an org to a channel 

[https://hyperledger-fabric.readthedocs.io/en/latest/channel_update_tutorial.html#upgrade-and-invoke-chaincode]

and see instructions for updating the policy:
 `The final piece of the puzzle is to increment the chaincode version and update the endorsement policy to include Org3.`

But nowhere do we tell them to re-instantiate the chaincode on the channel.

 ",,pandrejko,pdina,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwrsf:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),pandrejko,pdina,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"14/Jan/20 2:35 AM;pandrejko;With Fabric 2.0 this is no longer required..;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Intermittent test failure in discovery/client,FAB-12126,34031,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,yacovm,sykesm,sykesm,24/Sep/18 10:56 PM,16/Jul/19 12:12 AM,28/Oct/23 3:04 AM,14/Jan/19 11:06 PM,,,,,,v2.0.0,,,,,fabric-tools,,,,0,ci-flake,,,,,"{code}
unit-tests_1  | 2018-09-24 13:52:51.260 UTC [discovery] NewService -> INFO 001 Created with config TLS: true, auth cache disabled
unit-tests_1  | 2018-09-24 13:52:51.273 UTC [discovery] chaincodeQuery -> ERRO 002 Failed constructing descriptor for chaincode chaincodes:<name:""mycc"" > ,: cannot satisfy any principal combination
unit-tests_1  | Used peers: map[string]struct {}{""p5"":struct {}{}, ""p7"":struct {}{}, ""p9"":struct {}{}, ""p11"":struct {}{}, ""p15"":struct {}{}}
unit-tests_1  | --- FAIL: TestClient (0.12s)
unit-tests_1  |     --- FAIL: TestClient/Endorser_query_with_PrioritiesByHeight_selector (0.01s)
        Error Trace:    client_test.go:520 
unit-tesError:      	Not equal: 
unit-tes            	expected: 5
unit-tes            	actual  : 4
unit-tesTest:       	TestClient/Endorser_query_with_PrioritiesByHeight_selector
unit-tesMessages:   	expecting each endorser to be returned at least once
unit-tests_1  | FAIL
unit-tests_1  | coverage: 92.9% of statements
{code}",,denyeart,jyellick,RahulEth,sykesm,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-13634,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzs8f:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,jyellick,RahulEth,sykesm,yacovm,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"26/Sep/18 6:04 AM;sykesm;Just hit it again.

{code}
unit-tests_1  | 2018-09-25 21:01:44.632 UTC [discovery] NewService -> INFO 001 Created with config TLS: true, auth cache disabled
unit-tests_1  | 2018-09-25 21:01:44.644 UTC [discovery] chaincodeQuery -> ERRO 002 Failed constructing descriptor for chaincode chaincodes:<name:""mycc"" > ,: cannot satisfy any principal combination
unit-tests_1  | Used peers: map[string]struct {}{""p15"":struct {}{}, ""p7"":struct {}{}, ""p9"":struct {}{}, ""p11"":struct {}{}, ""p5"":struct {}{}}
unit-tests_1  | FAIL	github.com/hyperledger/fabric/discovery/client	55.137s
{code};;;","01/Dec/18 6:31 AM;jyellick;[~yacovm] can you take a look at this?;;;","10/Jan/19 11:22 PM;sykesm;And again. https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/7754

{code}
22:42:09 2019-01-09 22:40:57.723 UTC [discovery] NewService -> INFO 001 Created with config TLS: true, auth cache disabled
22:42:09 2019-01-09 22:40:57.753 UTC [discovery] chaincodeQuery -> ERRO 002 Failed constructing descriptor for chaincode chaincodes:<name:""mycc"" > ,: cannot satisfy any principal combination
22:42:09 --- FAIL: TestClient (0.27s)
22:42:09     --- FAIL: TestClient/Endorser_query_with_PrioritiesByHeight_selector (0.07s)
22:42:09         <autogenerated>:1: 
22:42:09             	Error Trace:	client_test.go:520
22:42:09             	Error:      	Not equal: 
22:42:09             	            	expected: 5
22:42:09             	            	actual  : 4
22:42:09             	Test:       	TestClient/Endorser_query_with_PrioritiesByHeight_selector
22:42:09             	Messages:   	expecting each endorser to be returned at least once
22:42:09 FAIL
22:42:09 coverage: 92.9% of statements
22:42:09 FAIL	github.com/hyperledger/fabric/discovery/client	0.774s
{code};;;","14/Jan/19 3:49 AM;denyeart;Seen again in daily tests:

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-unit-test-daily-release-1.4-x86_64/30/;;;","14/Jan/19 4:51 AM;yacovm;https://gerrit.hyperledger.org/r/#/c/28688/;;;","15/Jul/19 8:06 PM;denyeart;Hit in release-1.4 and therefore backported: https://gerrit.hyperledger.org/r/#/c/fabric/+/32323/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,
Intermittent test failure in common/deliver/deliver_test,FAB-12127,34032,,Bug,Closed,FAB,Fabric,software,denyeart,,,Low,Done,sykesm,sykesm,sykesm,24/Sep/18 10:58 PM,19/Mar/19 7:57 PM,28/Oct/23 3:04 AM,28/Sep/18 10:45 PM,,,,,,v1.4.0,,,,,,,,,0,ci-flake,,,,,"{code}
00:04:35.429 unit-tests_1  | ------------------------------
00:04:35.431 unit-tests_1  | • Failure [0.002 seconds]
00:04:35.432 unit-tests_1  | Deliver
00:04:35.433 unit-tests_1  | /opt/gopath/src/github.com/hyperledger/fabric/common/deliver/deliver_test.go:39
00:04:35.434 unit-tests_1  |   Handle
00:04:35.435 unit-tests_1  |   /opt/gopath/src/github.com/hyperledger/fabric/common/deliver/deliver_test.go:82
00:04:35.435 unit-tests_1  |     when the chain errors while reading from the chain
00:04:35.437 unit-tests_1  |     /opt/gopath/src/github.com/hyperledger/fabric/common/deliver/deliver_test.go:512
00:04:35.438 unit-tests_1  |       sends status service unavailable [It]
00:04:35.439 unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/deliver/deliver_test.go:520
00:04:35.440 unit-tests_1  | 
00:04:35.441 unit-tests_1  |       Expected
00:04:35.442 unit-tests_1  |           <common.Status>: 200
00:04:35.443 unit-tests_1  |       to equal
00:04:35.444 unit-tests_1  |           <common.Status>: 503
00:04:35.446 unit-tests_1  | 
00:04:35.447 unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/deliver/deliver_test.go:527
00:04:35.449 unit-tests_1  | ------------------------------
{code}

This is on current head of master at #c592f1583b75a73fc7d66465d34ff69245ab0955. Also in CI when running with the race detector experiment.",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzs8n:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"26/Sep/18 12:31 AM;sykesm;https://gerrit.hyperledger.org/r/26561 ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Issue during retrieval of admin peers data using Discover process,FAB-12128,34035,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid: Environment Issue,,bravobardo,bravobardo,25/Sep/18 12:06 AM,27/Sep/18 3:37 AM,28/Oct/23 3:04 AM,27/Sep/18 3:37 AM,,,,,,,,,,,,,,,0,,,,,,"Hi,

When trying to use Hyperledger Explorer with [Balance-Transfer sample|[https://github.com/hyperledger/fabric-samples/tree/release-1.2/balance-transfer]], an error related to the impossibility to access the network is raised:

Class syncPlatform.js

Line 123:
{code:java}
// code placeholder
throw new ExplorerError(explorer_mess.error.ERROR_1009);
{code}
By checking the code, I noticed that the reason is that the variable peer.status is NULL, which is retrieved by method getPeerStatus from class FabricClient.js, that basically looks for 'adminPeers' - the method name is kind of confusing...
 

The data comes from 'discover' variable, that never finds any peer associated to the giving organizations (line 376 from method initializeChannelFromDiscover.js):
{code:java}
// code placeholder
let org = discover_results.peers_by_org[org_name];
for (var peer of org.peers) { // no peer is found, so no ADMIN peer status is retrieved att all
{code}
 Are you looking into this issue already?

 

Regards,

BravoBardo

 

 ",,bravobardo,denyeart,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzs9b:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bravobardo,denyeart,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"25/Sep/18 1:26 AM;denyeart;[~yacovm] Can you take a look?;;;","25/Sep/18 2:18 AM;yacovm;First of all - it would be nice to know what an ""admin peer"" is.... [~harrisob@us.ibm.com] ? [~davidkel]  Any ideas?
Is this a listing of a peer that you perform using an admin certificate?

Now, second - [~bravobardo] - can you please attach logs of the peer you're working with?
specifically I am interested in [these|https://github.com/hyperledger/fabric/blob/release-1.2/discovery/service.go#L94] [two|https://github.com/hyperledger/fabric/blob/release-1.2/discovery/service.go#L99] log lines, which exist in the latest master branch and also in the release-1.2.1 branch.
I can't help you if I don't know what the SDK is sending and receiving from the peer... ;;;","25/Sep/18 2:20 AM;yacovm;Another very important thing I'd like you ( [~bravobardo] ) to do, if you can - is to try and play with the [discover CLI tool|https://hyperledger-fabric.readthedocs.io/en/latest/discovery-cli.html] to rule out (or find...) any bugs in the peer.;;;","25/Sep/18 9:26 AM;bravobardo;Hi,
Basically, I also do not know what an AdminPeer is in the end, but it is referenced in the FabricClient.js class:

{code:java}
// creating admin peers
      if (discover_results && discover_results.peers_by_org) {
{code}

By using the discover_tool CLI, the list of peers by org is always empty for balance-transfer sample. I think it is related to the way the network is configured for that sample. Is there a way to correctly configure it so the peers can be retrieved by orgs?

;;;","25/Sep/18 1:55 PM;yacovm;Yes, you need to have anchor peers. Take a look at [this|https://github.com/hyperledger/fabric/blob/release-1.2/examples/e2e_cli/scripts/script.sh#L110-L126];;;","26/Sep/18 3:02 PM;bravobardo;Hi. After spending some hours I still could not understand why discover.members is always empty, even though other 'discoveries' are retrieved from peer, like orderers and msps data.

a) the config file already states the peers as anchors (in fact, the balance-transfer configuration is very similar to the first-network one).

b) I have also tried to set one of the peers as 'discover enabled', as informed [here|[https://fabric-sdk-node.github.io/tutorial-discovery.html]], but with no success as well.

The last point I could debug was in Peer.js, line 59
{code:java}
// code placeholder
self._discoveryClient.discover(request, function(err, response) {{code}
Any tip on what may be missing?

[]s

 

 

 ;;;","26/Sep/18 3:39 PM;yacovm;{quote}Hi. After spending some hours I still could not understand why discover.members is always empty, even though other 'discoveries' are retrieved from peer, like orderers and msps data.{quote}

Because, the configuration of the fabric sample balance-transfer doesn't contain an update to anchor peers. 
Let's try something - in the docker-compose file, add the following line to the [environment|https://github.com/hyperledger/fabric-samples/blob/release-1.2/balance-transfer/artifacts/docker-compose.yaml#L90-L93] of *peer1.org1.example.com*:
{code}
- CORE_PEER_GOSSIP_BOOTSTRAP=peer0.org1.example.com:7051
{code}
and the following line in the environment of *peer1.org2.example.com*:
{code}
- CORE_PEER_GOSSIP_BOOTSTRAP=peer0.org2.example.com:7051
{code}

And then try to discover peers. You'll see that peers discover peers from their own organizations, but not from other organizations.
That's because, anchor peers aren't updated after the channel is created.
Even though the configtx.yaml has anchor peers in them, they need to be updated manually [in a similar fashion to what is done in the e2e_cli|https://github.com/hyperledger/fabric/blob/release-1.3/examples/e2e_cli/scripts/script.sh#L110-L126].

;;;","26/Sep/18 9:19 PM;yacovm;I think the real problem might be that you need the balance transfer have an external endpoint defined for all peers... add an external endpoint to the peer(s) and it should work.

{code}
- CORE_PEER_GOSSIP_EXTERNALENDPOINT=peer0.org1.example.com:7051
{code};;;","26/Sep/18 11:45 PM;bravobardo;Hy [~yacovm]. In fact, I have added both GOSSIP_BOOTSTRAP and GOSSIP_EXTERNALENDPOINT in ALL the peers (peer0.org1, peer1.org1, peer0.org2 and peer1.org2).

Then it worked :)

Only issue now is that I cannot display the Org2 peers in the explorer for some reason.

 ;;;","27/Sep/18 2:34 AM;yacovm;I meant for more than 1 peer... that was just an example.

If you say that now it works, but you cannot display the org2 peers in the explorer then it's likely an explorer problem, no? you probably need to close this JIRA and open a new one with the appropriate project... [~denyeart] isn't that so? ;;;","27/Sep/18 3:06 AM;bravobardo;Yeap, Yacoc.

In the end, most of it is related to the Explorer settings, except for the changes I did in the balance-transfer docker.yaml file - what I consider more like an enhancement than a real bug. I will propose some updates in their code.

 

Regarding Explorer, is [~denyeart] the responsible?

 

Nevertheless, thanks a lot for the support.

Hugs;;;",,,,,,,,,,,,,,,,,,,,,,
BYFN tests failing in Custom Channel CouchDB tests as endorser client fails to connect to peer due to Delay timeout.,FAB-12130,34039,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,,sambhavdutt,sambhavdutt,25/Sep/18 12:42 AM,19/Mar/19 8:13 PM,28/Oct/23 3:04 AM,25/Sep/18 11:27 AM,v1.2.0,v1.3.0,,,,v1.2.1,,,,,fabric-samples,,,,0,ci-failure,,,,,"The BYFN Custom Channel CouchDB tests have been failing from some time on master(1.3.0) and now on release-1.2 because the default DELAY time of 3 seconds combined with 5 retries is not sufficient for the endorser to connect to the peer. This is working if the Delay time is increased to 15 seconds. Can the default DELAY time be extended in fabric-samples.

{code:java}
===================== Channel 'custom-channel-couchdb' created ===================== 

Having all peers join the channel...
+ peer channel join -b custom-channel-couchdb.block
+ res=1
+ set +x
Error: error getting endorser client for channel: endorser client failed to connect to peer0.org1.example.com:7051: failed to create new connection: context deadline exceeded
peer0.org1 failed to join the channel, Retry after 3 seconds
+ peer channel join -b custom-channel-couchdb.block
+ res=1
+ set +x
Error: error getting endorser client for channel: endorser client failed to connect to peer0.org1.example.com:7051: failed to create new connection: context deadline exceeded
peer0.org1 failed to join the channel, Retry after 3 seconds
+ peer channel join -b custom-channel-couchdb.block
{code}

*Build Logs*

https://jenkins.hyperledger.org/view/fabric-samples/job/fabric-samples-verify-byfn-release-1.2/",,denyeart,latitiah,rameshthoomu,sambhavdutt,scottz,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12022,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzs9r:",,,,Unset,Unset,,,Can the default DELAY time be increased if this is appropriate.,,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,latitiah,rameshthoomu,sambhavdutt,scottz,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"25/Sep/18 1:28 AM;denyeart;[~sambhavdutt] The delay was already added on master right?  I think we just need it on release-1.2?  And probably release-1.1.;;;","25/Sep/18 1:53 AM;sambhavdutt;[~denyeart]

Yes, that is right. The delay parameter is set to 15 seconds on the master branch tests individually for each BYFN CouchDB test( -d 15) ;;;","25/Sep/18 3:54 AM;sambhavdutt;[~denyeart]
I'm sorry I missed out an obvious responce to what you said. Do you want me to increase the Delay on release- tests too. I can do that.;;;","25/Sep/18 11:28 AM;denyeart;[~sambhavdutt] Let's use FAB-12022 to backport the delay fix to release-1.2.  I've cherry picked the CR under FAB-12022.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fabric peer fails on CIFS mounted folder,FAB-12132,34041,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,lvdvliet,lvdvliet,25/Sep/18 2:49 AM,27/Sep/18 7:47 PM,28/Oct/23 3:04 AM,27/Sep/18 7:47 PM,v1.2.0,,,,,v1.2.1,v1.3.0,,,,fabric-orderer,fabric-peer,,,0,,,,,,"When placing the peer's data folder on a CIFS share it fails with the following error:
{code:java}
2018-09-24 17:14:16.753 UTC [ledgermgmt] initialize -> INFO 002[0m Initializing ledger mgmt
2018-09-24 17:14:16.753 UTC [kvledger] NewProvider -> INFO 003[0m Initializing ledger provider
panic: Error while trying to open DB: sync /var/hyperledger/production/ledgersData/ledgerProvider: invalid argument

goroutine 1 [running]:
github.com/hyperledger/fabric/common/ledger/util/leveldbhelper.(*DB).Open(0xc420085640)
	/opt/gopath/src/github.com/hyperledger/fabric/common/ledger/util/leveldbhelper/leveldb_helper.go:88 +0x24d
github.com/hyperledger/fabric/core/ledger/kvledger.openIDStore(0xc4201a28c0, 0x36, 0x1)
	/opt/gopath/src/github.com/hyperledger/fabric/core/ledger/kvledger/kv_ledger_provider.go:250 +0x11d
github.com/hyperledger/fabric/core/ledger/kvledger.NewProvider(0xf1d0c0, 0x0, 0x0, 0x0)
	/opt/gopath/src/github.com/hyperledger/fabric/core/ledger/kvledger/kv_ledger_provider.go:60 +0x8e
github.com/hyperledger/fabric/core/ledger/ledgermgmt.initialize(0xc4204017d0, 0x0, 0x0, 0x0)
	/opt/gopath/src/github.com/hyperledger/fabric/core/ledger/ledgermgmt/ledger_mgmt.go:65 +0x26f
github.com/hyperledger/fabric/core/ledger/ledgermgmt.Initialize.func1()
	/opt/gopath/src/github.com/hyperledger/fabric/core/ledger/ledgermgmt/ledger_mgmt.go:52 +0x3b
sync.(*Once).Do(0x19a0ac0, 0xc4208955d0)
	/opt/go/src/sync/once.go:44 +0xbe
github.com/hyperledger/fabric/core/ledger/ledgermgmt.Initialize(0xc4204017d0)
	/opt/gopath/src/github.com/hyperledger/fabric/core/ledger/ledgermgmt/ledger_mgmt.go:51 +0x4d
github.com/hyperledger/fabric/peer/node.serve(0x19a09e8, 0x0, 0x0, 0x0, 0x0)
	/opt/gopath/src/github.com/hyperledger/fabric/peer/node/start.go:148 +0x346
github.com/hyperledger/fabric/peer/node.glob..func1(0x1891cc0, 0x19a09e8, 0x0, 0x0, 0x0, 0x0)
	/opt/gopath/src/github.com/hyperledger/fabric/peer/node/start.go:111 +0x9c
github.com/hyperledger/fabric/vendor/github.com/spf13/cobra.(*Command).execute(0x1891cc0, 0x19a09e8, 0x0, 0x0, 0x1891cc0, 0x19a09e8)
	/opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/spf13/cobra/command.go:698 +0x46d
github.com/hyperledger/fabric/vendor/github.com/spf13/cobra.(*Command).ExecuteC(0x1892320, 0x197c7b0, 0xf, 0x2)
	/opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/spf13/cobra/command.go:783 +0x2e4
github.com/hyperledger/fabric/vendor/github.com/spf13/cobra.(*Command).Execute(0x1892320, 0x2, 0xffffffffffffffff)
	/opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/spf13/cobra/command.go:736 +0x2b
main.main()
	/opt/gopath/src/github.com/hyperledger/fabric/peer/main.go:97 +0x5bf

{code}
Doing further inspection this appears to be related to the following issue (for which a fix has been pushed to master recently):

[https://github.com/syndtr/goleveldb/pull/221]

 

Please consider updating the goleveldb package to fix this issue.

 ",,lvdvliet,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzsa7:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),lvdvliet,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.3,release-2.5,release-2.4,main,release-1.2,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"25/Sep/18 4:15 AM;lvdvliet;I just created a local v.1.2.0 docker build of the peer with the updated goleveldb package and I can confirm that this fixes the issue.;;;","25/Sep/18 11:35 PM;sykesm;1.3/master: https://gerrit.hyperledger.org/r/c/26553/
1.2: https://gerrit.hyperledger.org/r/c/26556/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Same chaincode source receiving fingerprint mismatch error,FAB-12134,32860,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid: Works as Expected,mastersingh24,MariWade,MariWade,16/Aug/18 3:58 AM,31/Mar/19 2:14 AM,28/Oct/23 3:04 AM,31/Mar/19 2:14 AM,v1.0.6,v1.1.0,v1.2.0,v1.3.0,v1.4.0,,,,,,fabric-docs,,,,0,,,,,,"Related to https://jira.hyperledger.org/browse/FABN-855

 

Node app that that uses the fabric node sdk.

One Fabric ORG

One instance of the node app is created.  It is used to install/update chaincode source on peer1 chaincode foo:v1

 

At a later time, the org adds a peer2. 

 

Another instance of the same node app is created.   It is used to install/update the same chaincode source on peer2 chaincode foo:v1

  

Both peers have the same chaincode source named the same but they are NOT equivalent.

 

*Error* -
WN: Error executing chaincode: Could not get deployment transaction from LSCC for document_manager_v1:1.0.3 - Get ChaincodeDeploymentSpec for document_manager_v1/gtd-dev-channel from LSCC error: chaincode fingerprint mismatch data mismatch; UserClient sendPeerQuery channel:gtd-dev-channel correlationId: web_request targetPeer: fabric-peer-org3-20154c - : 2 UNKNOWN: Error executing chaincode: Could not get deployment transaction from LSCC for document_manager_v1:1.0.3 - Get ChaincodeDeploymentSpec for document_manager_v1/gtd-dev-channel from LSCC error: chaincode fingerprint mismatch data mismatch
debug: UserClient queryChaincode channel:gtd-dev-channel correlationId:web_request - *** END
error: Error: UserClient sendPeerQuery channel:gtd-dev-channel correlationId: web_request targetPeer: fabric-peer-org3-20021a - : 2 UNKNOWN: Error executing chaincode: Could not get deployment transaction from LSCC for document_manager_v1:1.0.3 - Get ChaincodeDeploymentSpec for document_manager_v1/gtd-dev-channel from LSCC error: chaincode fingerprint mismatch data mismatch; UserClient sendPeerQuery channel:gtd-dev-channel correlationId: web_request targetPeer: fabric-peer-org3-20154c - : 2 UNKNOWN: Error executing chaincode: Could not get deployment transaction from LSCC for document_manager_v1:1.0.3 - Get ChaincodeDeploymentSpec for document_manager_v1/gtd-dev-channel from LSCC error: chaincode fingerprint mismatch data mismatch
at UserClient. (/opt/app/src/modules/helpers/user-client.ts:764:13)
at Generator.next ()
at fulfilled (/opt/app/build/modules/helpers/user-client.js:4:58)

 

 ",,baohua,denyeart,MariWade,mastersingh24,MichaelWang,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-855,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzmwf:",,,,Unset,Unset,,,See steps in description,,Unset,,,,,,Unset,,Unset,,(Please add usage information),baohua,denyeart,MariWade,mastersingh24,MichaelWang,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"17/Aug/18 1:12 AM;MariWade;I was able to replicate the problem locally.

Note:  In our solutions, the chaincode is deployed  in an automated way.  The mismatch is the same error due to the chaincode source not being exactly the same.

 

Have a fabric org with 4 peers on 'mychannel'

Installed/upgraded the chaincode on 2 peers.

Invoked fine

Installed the chaincode on the other 2 peers

Invoked on any peer fine.

 

Failure test:

Installed/upgraded the chaincode on 2 peers.

Invoked fine

Updated the chaincode with a space or a byte difference.

Installed the chaincode on the other 2 peers

Invoke gave an error
 ""error"": ""targetPeer: peer2.org1.example.com error message: 2 UNKNOWN: Error executing chaincode: Could not get deployment transaction from LSCC for document_manager_vTest:v3 - Get ChaincodeDeploymentSpec for document_manager_vTest/mychannel from LSCC error: chaincode fingerprint mismatch data mismatch; targetPeer: peer3.org1.example.com error message: 2 UNKNOWN: Error executing chaincode: Could not get deployment transaction from LSCC for document_manager_vTest:v3 - Get ChaincodeDeploymentSpec for document_manager_vTest/mychannel from LSCC error: chaincode fingerprint mismatch data mismatch"",
 ""type"": ""Error""
  

 ;;;","20/Aug/18 6:58 PM;mastersingh24;I commented on https://jira.hyperledger.org/browse/FABN-855 as it is definitely related to the solution.
 Unfortunately, there are a variety of things which can result in non-deterministic builds of the chaincode package on different machines even when using identical source. This is especially true (unfortunately) when using different SDKs. The best thing to so is to actually use the same package (built via *peer chaincode package ...*).

My comment on the related JIRA was around how to actually install packages using the Node SDK;;;","08/Sep/18 7:22 PM;mastersingh24;Setting this to medium given FABN-855 will allow the use of packages.;;;","19/Sep/18 10:21 PM;denyeart;[~mastersingh24] What's your opinion of what should be done in v1.3 versus future for this one?;;;","25/Sep/18 5:04 AM;denyeart;Changed from Node.js SDK to Fabric issue, as the problem may happen on differnt SDKs, or when using differnt SDKs.;;;","02/Dec/18 11:46 PM;mastersingh24;The current resolution for this is to pass around the same package rather than everyone building the package themselves.   I don't think this is worth taking on at this point ... we'll be eliminating this issue in the future.  If anything, we could document the share package versus src flow, but other than that I'd mark as won't fix;;;","03/Dec/18 2:57 PM;denyeart;Ok, let's use this Jira to document that distributing package is preferred.;;;","31/Mar/19 2:13 AM;mastersingh24;This does not happen when using the new lifecycle.;;;","31/Mar/19 2:14 AM;mastersingh24;As mentioned in the other comments, you need to produce and share a single package ... everyone should not be producing their own packages with the current lifecycle design.
Fir the new lifecycle in 2.0 this is no longer an issue;;;",,,,,,,,,,,,,,,,,,,,,,,,
"12hr SideDB run with service discovery, 2-of endorsement policy",FAB-12135,34044,,Test Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,suryalnvs,suryalnvs,suryalnvs,25/Sep/18 5:24 AM,04/Jan/19 11:59 PM,28/Oct/23 3:04 AM,04/Jan/19 11:59 PM,,,,,,v1.3.0,,,,,fabric-quality,,,,0,quality,SystemTestcase,,,,"12hr run with marbles02_private (sidedb), service discovery enabled, 2-of endorsement policy, 4 threads per org in the longrunning lab.",,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-13006,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-10080,,,Manual,,Unset,No,,,"1|hzzsan:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Pass,"======= PTE 0 main Test Summary: executed at Mon Oct 01 2018 02:33:05 GMT+0000 (UTC) =======
(marblesprivchan:marbles_priv_ch1): CONSTANT INVOKE transaction stats
(marblesprivchan:marbles_priv_ch1):	Total processes 4
(marblesprivchan:marbles_priv_ch1):	Total transactions sent 430447  received 430447
(marblesprivchan:marbles_priv_ch1):	failures: proposal 0  transactions 0
(marblesprivchan:marbles_priv_ch1):	event: received 430447  timeout 0  unreceived 0
(marblesprivchan:marbles_priv_ch1):	start 1538361209144  end 1538404411637  duration 43202493 ms
(marblesprivchan:marbles_priv_ch1):	TPS 9.96
(marblesprivchan:marbles_priv_ch1): peer latency stats (endorsement)
(marblesprivchan:marbles_priv_ch1):	total transactions: 430447  total time: 26535099 ms
(marblesprivchan:marbles_priv_ch1):	min: 21 ms  max: 4115 ms  avg: 61.65 ms
(marblesprivchan:marbles_priv_ch1): orderer latency stats (transaction ack)
(marblesprivchan:marbles_priv_ch1):	total transactions: 430447  total time: 4890855 ms
(marblesprivchan:marbles_priv_ch1):	min: 7 ms  max: 1461 ms  avg: 11.36 ms
(marblesprivchan:marbles_priv_ch1): event latency stats (end-to-end)
(marblesprivchan:marbles_priv_ch1):	total transactions: 430447  total time: 295236180 ms
(marblesprivchan:marbles_priv_ch1):	min: 168 ms  max: 9393 ms  avg: 685.88 ms

======= PTE 0 main Test Summary: executed at Mon Oct 01 2018 02:44:24 GMT+0000 (UTC) =======
(marblesprivchan:marbles_priv_ch1): CONSTANT INVOKE transaction stats
(marblesprivchan:marbles_priv_ch1):	Total processes 4
(marblesprivchan:marbles_priv_ch1):	Total transactions sent 287305  received 287305
(marblesprivchan:marbles_priv_ch1):	failures: proposal 0  transactions 0
(marblesprivchan:marbles_priv_ch1):	event: received 287305  timeout 0  unreceived 0
(marblesprivchan:marbles_priv_ch1):	start 1538361884199  end 1538405092287  duration 43208088 ms
(marblesprivchan:marbles_priv_ch1):	TPS 6.65
(marblesprivchan:marbles_priv_ch1): peer latency stats (endorsement)
(marblesprivchan:marbles_priv_ch1):	total transactions: 287305  total time: 18152042 ms
(marblesprivchan:marbles_priv_ch1):	min: 22 ms  max: 4052 ms  avg: 63.18 ms
(marblesprivchan:marbles_priv_ch1): orderer latency stats (transaction ack)
(marblesprivchan:marbles_priv_ch1):	total transactions: 287305  total time: 3334316 ms
(marblesprivchan:marbles_priv_ch1):	min: 7 ms  max: 1346 ms  avg: 11.61 ms
(marblesprivchan:marbles_priv_ch1): event latency stats (end-to-end)
(marblesprivchan:marbles_priv_ch1):	total transactions: 287305  total time: 199264449 ms
(marblesprivchan:marbles_priv_ch1):	min: 184 ms  max: 9391 ms  avg: 693.56 ms
",System Test,,(Please add usage information),suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,true,"25/Sep/18 11:19 PM;suryalnvs;++Config file for this run is submitted to ATD - [https://gerrit.hyperledger.org/r/#/c/26554/2/tools/ATD/vars/FAB12135.yml];;;","04/Jan/19 11:23 PM;suryalnvs;Reran FAB-12135 successfully with latest load for 12 hours with service discovery and sidedb. ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Cut v1.3.0-rc1 release,FAB-12136,34045,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ChristopherFerris,denyeart,ChristopherFerris,25/Sep/18 5:27 AM,03/Dec/18 10:48 PM,28/Oct/23 3:04 AM,27/Sep/18 5:43 AM,v1.3.0,,,,,v1.3.0,,,,,fabric-release,,,,0,,,,,,"Prepare and publish v1.3.0-rc1 release of Hyperledger Fabric. The tasks are listed in execution order and I have indicated any dependencies in the description of each.

 ",,ChristopherFerris,denyeart,JonathanLevi,mastersingh24,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12380,FAB-13111,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzzsav:",,,,,,,,,,,,,,,,,,,,,ChristopherFerris,denyeart,JonathanLevi,mastersingh24,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[CI] - verify release jobs to support 1.3.0-rc1 release,FAB-12137,34046,34045,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,rameshthoomu,ChristopherFerris,25/Sep/18 5:27 AM,25/Sep/18 6:30 AM,28/Oct/23 3:04 AM,25/Sep/18 6:30 AM,,,,,,v1.3.0,,,,,fabric-ci,fabric-release,,,0,fabric-ci,,,,,Make sure all the release jobs are ready for release.,,ChristopherFerris,denyeart,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzzsb3:",,,,,,,,,,,,,,,,,,,,,ChristopherFerris,denyeart,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"25/Sep/18 6:30 AM;rameshthoomu;release jobs are ready..Please let us know once the release CR is merged.. We have to trigger nightly jobs to publish images and binaries on release commit.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Prepare fabric for 1.3.0-rc1 release,FAB-12138,34047,34045,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,denyeart,ChristopherFerris,ChristopherFerris,25/Sep/18 5:27 AM,10/Oct/18 4:22 PM,28/Oct/23 3:04 AM,26/Sep/18 3:11 AM,,,,,,v1.3.0,,,,,fabric-release,,,,0,,,,,,"*MUST BE REBASED JUST BEFORE MERGING*

*----------*

{\{git checkout master }}

{{git pull}}

_*checkout the CR from Gerrit - be sure you have latest!!!*_ 

{{git checkout -b <newbranch>}}

{\{git rebase master }}

git commit --amend

*_make a tweak to commit message_*

git review

 

Check for clean CI passes

merge

----------------------

Changes

----------------------------

Update bootstrap.sh for latest baseimage:

export THIRDPARTY_IMAGE_VERSION=0.4.13

 

Update Makefile

{{BASE_VERSION}}
 {{PREV_VERSION}}

EXPERIMENTAL ?= false

 
 Update docs/source/install.rst 

e.g. 
 curl -sSL [https://goo.gl/6wtTN5] | bash -s 1.3.0-rc1--
  

grep code for last release number or rc1, ensure all other references updated.

{{release_notes/v1.3.0.txt should be created}}

{{docs/source/releases.rst should be updated with prose and link to GH release page}}

Update hard coded release version in cryptogen, configtxgen, configtxlator, idemixgen binaries, e.g. *common/tools/configtxlator/metadata/metadata.go* (try to resolve this in the future)

{{change log should be generated just *after* *rebasing* to pick up the last minute merged CRs and linked from docs/source/releases.rst}}

./scripts/changelog.sh v1.3.0-rc1 v1.3.0",,ChristopherFerris,denyeart,luomin,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzzsbb:",,,,,,,,,,,,,,,,,,,,,ChristopherFerris,denyeart,luomin,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"25/Sep/18 6:15 AM;denyeart;https://gerrit.hyperledger.org/r/#/c/26527/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Prepare fabric for next release,FAB-12139,34048,34045,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,denyeart,ChristopherFerris,ChristopherFerris,25/Sep/18 5:27 AM,27/Sep/18 1:50 AM,28/Oct/23 3:04 AM,27/Sep/18 1:50 AM,,,,,,v1.3.0,,,,,fabric-release,,,,0,,,,,,"Note that this change must be stacked on the previous CR to prepare for the v1.3.0-rc1 release.

Update Makefile

BASE_VERSION = 1.3.0

PREV_VERSION = 1.3.0-rc1

EXPERIMENTAL ?= true

 

Also, update master branch to have BASE_VERSION=1.3.0

Note: Release should be tagged prior to merging this ""prepare for next CR"".",,ChristopherFerris,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzzsbj:",,,,,,,,,,,,,,,,,,,,,ChristopherFerris,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.3,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"26/Sep/18 5:21 AM;ChristopherFerris;[https://gerrit.hyperledger.org/r/c/26573/]

https://gerrit.hyperledger.org/r/c/26572/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Prepare fabric-ca for 1.3.0-rc1 release,FAB-12140,34049,34045,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,denyeart,ChristopherFerris,ChristopherFerris,25/Sep/18 5:27 AM,26/Sep/18 3:13 AM,28/Oct/23 3:04 AM,26/Sep/18 3:13 AM,,,,,,v1.3.0,,,,,fabric-release,,,,0,,,,,,"*MUST BE REBASED JUST BEFORE MERGING*

Check for clean CI

Update Makefile

{{BASE_VERSION = 1.3.0-rc1}}
 {{PREV_VERSION = 1.2.0}}
 {{IS_RELEASE = true}}

change log should be generated just *after* *rebasing* to pick up the last minute merged CRs 
 ./scripts/changelog.sh v1.2.0 v1.3.0-rc1

update release_notes/v1.3.0-rc1.txt

 ",,ChristopherFerris,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzzsbr:",,,,,,,,,,,,,,,,,,,,,ChristopherFerris,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"26/Sep/18 3:12 AM;denyeart;https://gerrit.hyperledger.org/r/#/c/26533/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Prepare fabric-ca for next release,FAB-12141,34050,34045,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,denyeart,ChristopherFerris,ChristopherFerris,25/Sep/18 5:27 AM,26/Sep/18 11:34 PM,28/Oct/23 3:04 AM,26/Sep/18 11:34 PM,,,,,,v1.3.0,,,,,fabric-release,,,,0,,,,,,"Note that this change must be stacked on the previous CR to prepare for the next release on the release-1.2 branch

1. Update Makefile

{{BASE_VERSION = }}{{1.3.0-rc1}}{{}}
 {{PREV_VERSION = }}{{1.2.0}}{{}}
 {{IS_RELEASE = false}}

2. Update lib/metadata/version.go

var Version = ""1.3.0""
  
 Note: Release should be tagged prior to merging this ""prepare for next CR"".

 Note, also update master branch with:

1. Update Makefile

{{BASE_VERSION = 1.3.0-rc1}}
 {{PREV_VERSION = 1.2.0}}
 {{IS_RELEASE = false}}

2. Update lib/metadata/version.go

var Version = ""1.3.0""",,aambati,ChristopherFerris,denyeart,rennman,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzzsbz:",,,,,,,,,,,,,,,,,,,,,aambati,ChristopherFerris,denyeart,rennman,rickr,,,,,,,,,,,,,,,,,,,,,,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Tag repositories for 1.3.0-rc1,FAB-12142,34051,34045,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,denyeart,ChristopherFerris,ChristopherFerris,25/Sep/18 5:27 AM,27/Sep/18 4:10 AM,28/Oct/23 3:04 AM,27/Sep/18 4:10 AM,,,,,,v1.3.0,,,,,fabric-release,,,,0,,,,,,"*NOTE:* depends on preceding related CRs being merged.

Tag each repository local clone with the release_notes/v1.2.0.txt as the tag comment

% git tag -a v1.3.0-rc1 -F release_notes/v1.3.0-rc1.txt

{{% git push origin v1.3.0-rc1 HEAD:refs/heads/master}}

Tag each of fabric, fabric-ca , fabric-chaincode-java ad fabric-samples (use v1.3.0-rc1).

 
----
Note, that one can also tag the repo at a specific commit-level.

NOTE *e4b4704 should be updated with latest commit sha*

E.g., to add the {color:#f79232}*v1.3.0-rc1*{color} tag at commit level {color:#205081}*e4b4704*{color}, I used

{{% git tag -a *{color:#f79232}v1.3.0-rc1{color} {color:#205081}e4b4704{color}* -}}F release_notes/v1.3.0-rc1.{{txt}}

 

 ",,ChristopherFerris,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzzsc7:",,,,,,,,,,,,,,,,,,,,,ChristopherFerris,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Verify fabric, fabric-ca docker images are published",FAB-12143,34052,34045,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,rameshthoomu,ChristopherFerris,25/Sep/18 5:27 AM,26/Sep/18 3:35 AM,28/Oct/23 3:04 AM,26/Sep/18 3:35 AM,,,,,,v1.3.0,,,,,fabric-ci,fabric-release,,,0,,,,,,"Verify fabric, fabric-ca docker images are published to hyperledger docker-hub account and make sure fabric-binaries are published to nexus repository.",,ChristopherFerris,denyeart,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzzscf:",,,,,,,,,,,,,,,,,,,,,ChristopherFerris,denyeart,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Test download of release artifacts and samples across all platforms,FAB-12144,34053,34045,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,ChristopherFerris,ChristopherFerris,25/Sep/18 5:27 AM,26/Sep/18 5:31 AM,28/Oct/23 3:04 AM,26/Sep/18 5:31 AM,,,,,,v1.3.0,,,,,fabric-release,,,,0,,,,,,test download of release artifacts and samples across all platforms,,ChristopherFerris,denyeart,harrijk,rameshthoomu,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzzscn:",,,,,,,,,,,,,,,,,,,,,ChristopherFerris,denyeart,harrijk,rameshthoomu,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Verify doc build status on ReadTheDocs,FAB-12145,34054,34045,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ChristopherFerris,rameshthoomu,ChristopherFerris,25/Sep/18 5:27 AM,26/Sep/18 5:21 AM,28/Oct/23 3:04 AM,26/Sep/18 5:21 AM,,,,,,v1.3.0,,,,,fabric-ci,fabric-docs,fabric-release,,0,,,,,,Verify readthedocs version release-1.3 gets built and published from release-1.3 branch edits.,,ChristopherFerris,denyeart,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzzscv:",,,,,,,,,,,,,,,,,,,,,ChristopherFerris,denyeart,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Send email to hyperledger-fabric mailing list,FAB-12146,34055,34045,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ChristopherFerris,ChristopherFerris,ChristopherFerris,25/Sep/18 5:27 AM,27/Sep/18 5:39 AM,28/Oct/23 3:04 AM,27/Sep/18 5:39 AM,,,,,,v1.3.0,,,,,fabric-release,,,,0,,,,,,send email announcing the release to hyperledger-fabric@lists.hyperledger.org mailing list.,,ChristopherFerris,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzzsd3:",,,,,,,,,,,,,,,,,,,,,ChristopherFerris,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Push multiarch manifests,FAB-12147,34056,34045,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ChristopherFerris,ChristopherFerris,ChristopherFerris,25/Sep/18 5:27 AM,26/Sep/18 3:14 AM,28/Oct/23 3:04 AM,26/Sep/18 3:14 AM,,,,,,v1.3.0,,,,,fabric-build,,,,0,,,,,,BASE_VERSION=1.3.0-rc1 scripts/multiarch.sh user password,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzzsdb:",,,,,,,,,,,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update Fabric README (if not done in release CR),FAB-12148,34057,34045,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,denyeart,denyeart,ChristopherFerris,25/Sep/18 5:27 AM,27/Sep/18 1:51 AM,28/Oct/23 3:04 AM,27/Sep/18 1:51 AM,,,,,,v1.3.0,,,,,fabric-release,,,,0,,,,,,Update Fabric README (if not done in release CR).,,ChristopherFerris,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzzsdj:",,,,,,,,,,,,,,,,,,,,,ChristopherFerris,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"27/Sep/18 1:51 AM;denyeart;Done in fabric release CR.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Pin fabric-samples to node.js ""~1.3.0"" (SKIP FOR RC1)",FAB-12149,34058,34045,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,denyeart,denyeart,ChristopherFerris,25/Sep/18 5:27 AM,27/Sep/18 4:10 AM,28/Oct/23 3:04 AM,27/Sep/18 4:10 AM,,,,,,v1.3.0,,,,,fabric-samples,,,,0,,,,,,"*AFTER V1.3.0 ONLY... NOT AFTER V1.3.0-RC1.*

After creating release-1.3 branch, pin the fabric samples to use version ""~1.3.0"" of node sdk and node chaincode.  This will forever align fabric samples in release-1.3 branch with the 1.3.x node.js releases. 

fabric-samples master branch continues to use ""unstable"" to pick up the latest and greatest node.js releases.

This should be merged in release-1.3 branch, before fabric-samples is tagged with ""v1.3.0"".",,ChristopherFerris,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzzsdr:",,,,,,,,,,,,,,,,,,,,,ChristopherFerris,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Create release-1.3 branches,FAB-12150,34059,34045,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,denyeart,ChristopherFerris,ChristopherFerris,25/Sep/18 5:54 AM,26/Sep/18 5:32 AM,28/Oct/23 3:04 AM,26/Sep/18 5:32 AM,,,,,,,,,,,,,,,0,,,,,,"cut release-1.3 branch for fabric, fabric-ca, fabric-chaincode-java, fabric-chaincode-node, fabric-samples",,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzsdz:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Disable pulling javaenv from fabric,FAB-12153,34062,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,rameshthoomu,rameshthoomu,25/Sep/18 6:56 AM,28/Sep/18 2:56 AM,28/Oct/23 3:04 AM,28/Sep/18 2:56 AM,v1.3.0,,,,,v1.3.0,,,,,fabric-build,,,,0,,,,,,With the recent change in fabric  [https://gerrit.hyperledger.org/r/#/c/26524/] we have to disable pulling javenv image from nexus.,,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzxejr:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"25/Sep/18 7:24 AM;rameshthoomu;[https://gerrit.hyperledger.org/r/#/c/26530/ |https://gerrit.hyperledger.org/r/#/c/26530/]

[~denyeart] FYI;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Configtxgen: Mismatched number of hyphens between an error message and usage,FAB-12154,34065,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,nnao,nnao,nnao,25/Sep/18 7:54 AM,26/Oct/18 6:57 AM,28/Oct/23 3:04 AM,26/Oct/18 6:57 AM,v1.2.0,v1.3.0,,,,v1.4.0,,,,,fabric-tools,,,,0,,,,,,"{color:#212121}The usage of configtxgen shows a single hyphen like ""-configPath string""{color}{color:#212121}. But an error message in configtxgen shows {color}{color:#212121}double hyphens like ""Please make sure that FABRIC_CFG_PATH or --configPath is set to a path""{color}",,nnao,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzsgv:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),nnao,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"25/Sep/18 11:35 AM;nnao;https://gerrit.hyperledger.org/r/c/26538/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
As token infrastructure developer i want to enhance verifier with the ability to evaluate issuing policy against the creator of an issue tx ,FAB-12155,34068,32177,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,angelo.decaro,elli-androulaki,elli-androulaki,25/Sep/18 5:08 PM,12/Jun/20 12:31 AM,28/Oct/23 3:04 AM,08/Nov/18 6:54 PM,,,,,,,,,,,fabric-crypto,,,,0,fabtoken,,,,,Implementation of local interface IssuerValidator.,,elli-androulaki,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12994,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwqfm:m",,,,Unset,Unset,To Do,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),elli-androulaki,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"27/Sep/18 9:02 PM;elli-androulaki;https://gerrit.hyperledger.org/r/#/c/26508/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Broken image link in sub-pages,FAB-12156,34070,,Bug,Closed,FAB,Fabric,software,denyeart,,,Low,Done,TiantianGao,TiantianGao,TiantianGao,25/Sep/18 5:38 PM,11/Oct/18 1:42 AM,28/Oct/23 3:04 AM,11/Oct/18 1:42 AM,,,,,,,,,,,fabric-docs,,,,0,,,,,,!image-2018-09-25-16-37-54-902.png!,,TiantianGao,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"25/Sep/18 5:37 PM;TiantianGao;image-2018-09-25-16-37-54-902.png;https://jira.hyperledger.org/secure/attachment/15863/image-2018-09-25-16-37-54-902.png",,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzshj:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),TiantianGao,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"25/Sep/18 5:51 PM;TiantianGao;https://gerrit.hyperledger.org/r/#/c/26543/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Test under privacyenabledstate package are failing,FAB-12158,34074,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,harsha544,harsha544,harsha544,25/Sep/18 10:24 PM,03/Oct/18 11:20 PM,28/Oct/23 3:04 AM,03/Oct/18 11:18 PM,v1.3.0,,,,,,,,,,fabric-build,,,,0,couchdb,Ledger,,,,"make unit-test is failing for Tests under *privacyenabledstate* package

unit-tests_1 | panic: runtime error: invalid memory address or nil pointer dereference [recovered]
unit-tests_1 | panic: runtime error: invalid memory address or nil pointer dereference
unit-tests_1 | [signal SIGSEGV: segmentation violation code=0x1 addr=0x20 pc=0x10a459ac]
unit-tests_1 |
unit-tests_1 | goroutine 68 [running]:
unit-tests_1 | testing.tRunner.func1(0xc42011c0f0)
unit-tests_1 | /opt/go/src/testing/testing.go:742 +0x270
unit-tests_1 | panic(0x10b70b00, 0x11180f20)
unit-tests_1 | /opt/go/src/runtime/panic.go:502 +0x24c
unit-tests_1 | github.com/hyperledger/fabric/core/ledger/kvledger/txmgmt/privacyenabledstate.(*CouchDBCommonStorageTestEnv).GetDBHandle(0xc420214810, 0x10ca3f0c, 0x14, 0x3fff9d4e1458, 0x0)
unit-tests_1 | /opt/gopath/src/github.com/hyperledger/fabric/core/ledger/kvledger/txmgmt/privacyenabledstate/test_exports.go:124 +0x2c
unit-tests_1 | github.com/hyperledger/fabric/core/ledger/kvledger/txmgmt/pvtstatepurgemgmt.(*testHelper).init(0xc420093ef8, 0xc42011c0f0, 0x10ca3f0c, 0x14, 0x10d3ad60, 0xc42034f860, 0x10d496a0, 0xc420214810)
unit-tests_1 | /opt/gopath/src/github.com/hyperledger/fabric/core/ledger/kvledger/txmgmt/pvtstatepurgemgmt/purge_mgr_test.go:228 +0xfc
unit-tests_1 | github.com/hyperledger/fabric/core/ledger/kvledger/txmgmt/pvtstatepurgemgmt.testPurgeMgr(0xc42011c0f0, 0x10d496a0, 0xc420214810)
unit-tests_1 | /opt/gopath/src/github.com/hyperledger/fabric/core/ledger/kvledger/txmgmt/pvtstatepurgemgmt/purge_mgr_test.go:53 +0x2c8
unit-tests_1 | github.com/hyperledger/fabric/core/ledger/kvledger/txmgmt/pvtstatepurgemgmt.TestPurgeMgr.func1(0xc42011c0f0)
unit-tests_1 | /opt/gopath/src/github.com/hyperledger/fabric/core/ledger/kvledger/txmgmt/pvtstatepurgemgmt/purge_mgr_test.go:39 +0x40
unit-tests_1 | testing.tRunner(0xc42011c0f0, 0xc420249540)
unit-tests_1 | /opt/go/src/testing/testing.go:777 +0xc8
unit-tests_1 | created by testing.(*T).Run
unit-tests_1 | /opt/go/src/testing/testing.go:824 +0x28c

unit-tests_1 | *FAIL github.com/hyperledger/fabric/core/ledger/kvledger/txmgmt/pvtstatepurgemgmt 264.594s*


Retrying the test so it will use Eventually() and thus retry in the below line.

[https://github.com/hyperledger/fabric/blob/master/core/ledger/kvledger/txmgmt/privacyenabledstate/test_exports.go#L123-L127]",,harsha544,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"02/Oct/18 5:13 AM;harsha544;UT_OutputP.log;https://jira.hyperledger.org/secure/attachment/15905/UT_OutputP.log","25/Sep/18 10:22 PM;harsha544;console.log_5;https://jira.hyperledger.org/secure/attachment/15865/console.log_5","02/Oct/18 5:13 AM;harsha544;couchdb.log;https://jira.hyperledger.org/secure/attachment/15904/couchdb.log",,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzsif:",,,,Unset,Unset,,,make unit-test/make unit-tests,,Unset,,,,,,Unset,,Unset,,(Please add usage information),harsha544,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.3,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"02/Oct/18 12:33 AM;harsha544;Based on suggestions from Manish, enabled error printing at lines
[https://github.com/hyperledger/fabric/blob/master/core/ledger/kvledger/txmgmt/privacyenabledstate/test_exports.go#L51]{color:#444444} {color}

[https://github.com/hyperledger/fabric/blob/master/core/ledger/kvledger/txmgmt/privacyenabledstate/test_exports.go#L116]

Will be updating results here.;;;","02/Oct/18 5:06 AM;harsha544;+{color:#0747a6}*UT_FAILURE*{color}+ 
{color:#333333}
{{~[~}}{color}{{~{color:#000080}33munit-tests_1{color}{color:#333333} |[{color}{color:#000080}0m{color}{color:#333333} ### Hello from line {color}{color:#008080}53{color}{color:#333333}!!! ### [{color}{color:#000080}33munit-tests_1{color}{color:#333333} |[{color}{color:#000080}0m{color}{color:#333333} <nil> [{color}{color:#000080}33munit-tests_1{color}{color:#333333} |[{color}{color:#000080}0m{color}{color:#333333} [{color}{color:#000080}33m2018-10-01{color} {color:#008080}18{color}{color:#333333}:58:33.045 UTC [{color}{color:#000080}couchdb{color}{color:#333333}] handleRequest -> WARN {color}{color:#008080}001{color}{color:#333333}[{color}{color:#000080}0m{color}{color:#333333} Retrying couchdb request in {color}{color:#008080}125{color}{color:#333333}ms. Attempt:1 Error:Get http://couchdb:5984/: dial tcp {color}{color:#008080}172.17{color}{color:#333333}.0.2:5984: connect: connection refused [{color}{color:#000080}33munit-tests_1{color}{color:#333333} |[{color}{color:#000080}0m{color}{color:#333333} [{color}{color:#000080}33m2018-10-01{color} {color:#008080}18{color}{color:#333333}:58:33.171 UTC [{color}{color:#000080}couchdb{color}{color:#333333}] handleRequest -> WARN {color}{color:#008080}002{color}{color:#333333}[{color}{color:#000080}0m{color}{color:#333333} Retrying couchdb request in {color}{color:#008080}250{color}{color:#333333}ms. Attempt:2 Error:Get http://couchdb:5984/: dial tcp {color}{color:#008080}172.17{color}{color:#333333}.0.2:5984: connect: connection refused [{color}{color:#000080}33munit-tests_1{color}{color:#333333} |[{color}{color:#000080}0m{color}{color:#333333} [{color}{color:#000080}33m2018-10-{color}{color:#333333}[{color}{color:#000080}33munit-tests_1{color}{color:#333333} |[{color}{color:#000080}0m{color}{color:#333333} [{color}{color:#000080}33m2018-10-01{color} {color:#008080}19{color}{color:#333333}:00:40.929 UTC [{color}{color:#000080}couchdb{color}{color:#333333}] handleRequest -> WARN {color}{color:#008080}00{color}{color:#333333}b[{color}{color:#000080}0m{color}{color:#333333} Retrying couchdb request in {color}{color:#008080}2{color}{color:#333333}m8s. Attempt:11 Error:Get http://couchdb:5984/: dial tcp {color}{color:#008080}172.17{color}{color:#333333}.0.2:5984: connect: connection refused [{color}{color:#000080}33munit-tests_1{color}{color:#333333} |[{color}{color:#000080}0m{color}{color:#333333} ### Hello from line {color}{color:#008080}120{color}{color:#333333}!!! ###

{color:#0747a6}+*COUCHDB_LOG*+{color}{color}~}}

{{~{color:#333333}
{{color:#333333}""log""{color}:{color:#dd1144}""grep: /opt/couchdb/etc/local.d/*.ini: No such file or directory\n""{color},{color:#333333}""stream""{color}:{color:#dd1144}""stderr""{color},{color:#333333}""time""{color}:{color:#dd1144}""2018-10-01T19:01:18.944164608Z""{color}} {{color:#333333}""log""{color}:{color:#dd1144}""****************************************************\n""{color},{color:#333333}""stream""{color}:{color:#dd1144}""stderr""{color},{color:#333333}""time""{color}:{color:#dd1144}""2018-10-01T19:01:18.9456589Z""{color}} {{color:#333333}""log""{color}:{color:#dd1144}""WARNING: CouchDB is running in Admin Party mode.\n""{color},{color:#333333}""stream""{color}:{color:#dd1144}""stderr""{color},{color:#333333}""time""{color}:{color:#dd1144}""2018-10-01T19:01:18.945677881Z""{color}} {{color:#333333}""log""{color}:{color:#dd1144}"" This will allow anyone with access to the\n""{color},{color:#333333}""stream""{color}:{color:#dd1144}""stderr""{color},{color:#333333}""time""{color}:{color:#dd1144}""2018-10-01T19:01:18.945685221Z""{color}} {{color:#333333}""log""{color}:{color:#dd1144}"" CouchDB port to access your database. In\n""{color},{color:#333333}""stream""{color}:{color:#dd1144}""stderr""{color},{color:#333333}""time""{color}:{color:#dd1144}""2018-10-01T19:01:18.945691694Z""{color}} {{color:#333333}""log""{color}:{color:#dd1144}"" Docker's default configuration, this is\n""{color},{color:#333333}""stream""{color}:{color:#dd1144}""stderr""{color},{color:#333333}""time""{color}:{color:#dd1144}""2018-10-01T19:01:18.945697862Z""{color}} {{color:#333333}""log""{color}:{color:#dd1144}"" effectively any other container on the same\n""{color},{color:#333333}""stream""{color}:{color:#dd1144}""stderr""{color},{color:#333333}""time""{color}:{color:#dd1144}""2018-10-01T19:01:18.945704083Z""{color}} {{color:#333333}""log""{color}:{color:#dd1144}"" system.\n""{color},{color:#333333}""stream""{color}:{color:#dd1144}""stderr""{color},{color:#333333}""time""{color}:{color:#dd1144}""2018-10-01T19:01:18.945710449Z""{color}} {{color:#333333}""log""{color}:{color:#dd1144}"" Use \""-e COUCHDB_USER=admin -e COUCHDB_PASSWORD=password\""\n""{color},{color:#333333}""stream""{color}:{color:#dd1144}""stderr""{color},{color:#333333}""time""{color}:{color:#dd1144}""2018-10-01T19:01:18.945716777Z""{color}} {{color:#333333}""log""{color}:{color:#dd1144}"" to set it in \""docker run\"".\n""{color},{color:#333333}""stream""{color}:{color:#dd1144}""stderr""{color},{color:#333333}""time""{color}:{color:#dd1144}""2018-10-01T19:01:18.94572358Z""{color}} {{color:#333333}""log""{color}:{color:#dd1144}""****************************************************\n""{color},{color:#333333}""stream""{color}:{color:#dd1144}""stderr""{color},{color:#333333}""time""{color}:{color:#dd1144}""2018-10-01T19:01:18.945730084Z""{color}} {{color:#333333}""log""{color}:{color:#dd1144}""[info] 2018-10-01T19:01:20.395789Z nonode@nohost \u003c0.7.0\u003e -------- Application couch_log started on node nonode@nohost\n""{color},{color:#333333}""stream""{color}:{color:#dd1144}""stderr""{color},{color:#333333}""time""{color}:{color:#dd1144}""2018-10-01T19:01:20.396176627Z""{color}}{color}~}}

By the looks 
{color:#444444}Multiple retries to connect to couchdb ends at {color}{color:#444444}`{color}{color:#444444}{{19:00:40}}{color}{color:#444444}`{color}
{color:#444444}where-as couchdb containers starts logging at {color}{color:#444444}`{color}{color:#444444}{{19:01:18}}{color};;;","03/Oct/18 11:09 AM;harsha544;Post working with Chris Elder, and as suspected earlier, here's the conclusion
*unittest_unit-tests_1* container cannot reach to *{color:#444444}couchdb{color}* container within given ""retries"" and thus FAILS for given test packages *privacyenabledstate,* *pvtstatepurgemgmt,* as well as *statecouchdb* . The workaround is to increase given set of retries, thus above mentioned UT passes.

This is also in line with  FAB-12272  where-in BYFN test case for couchdb is failing.

Also need to take a look at set of changes that would be required inorder to make FAB-12272 working.;;;","03/Oct/18 11:17 AM;harsha544;[https://gerrit.hyperledger.org/r/26736];;;","03/Oct/18 11:20 PM;harsha544;[https://gerrit.hyperledger.org/r/#/c/26740/] – release-1.3;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,
Error in statecouchdb unit test,FAB-12159,34075,,Bug,Closed,FAB,Fabric,software,denyeart,,,Low,Done,chris.elder,chris.elder,chris.elder,25/Sep/18 10:45 PM,26/Oct/18 12:04 PM,28/Oct/23 3:04 AM,26/Oct/18 12:04 PM,,,,,,v1.4.0,,,,,fabric-ledger,,,,0,,,,,,"The TestDebugFunctions() has an error which causes a meaningless test.  No error is thrown, but the test needs to be corrected.",,chris.elder,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzsin:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),chris.elder,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Deferred Transactions in Fabric,FAB-12161,34077,,Epic,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,mudiverm,mudiverm,26/Sep/18 12:01 AM,23/Jan/20 7:33 AM,28/Oct/23 3:04 AM,23/Jan/20 7:33 AM,Future,,,,,,,,,,,,,,0,stale-item,,,,,"*Fabric currently does not have support for submitting transactions with deferred execution subject to some conditions.* Many real-world scenarios and use-cases exist where transaction execution needs to be deferred:
 # Payment to be made after a specified time (e.g., start of every month)
 (can be handled with a trusted time oracle if there is one, but not otherwise)
 # Trading to close if asset is found to be too volatile in a market or too many transactions being made in a short time frame
 # Auction to close after a specified time duration for which no bids are received (e.g., no bids received for one day)
 # Interest/tax rate to be determined based on volume of transactions performed by one participant across multiple smart contracts (can be handled with a parent-smart contract that tracks transactions made in all other smart contract, but would be highly inefficient and wouldn't allow the multiple smart contracts to operate in parallel)

All deferred transactions are triggered when a logical condition becomes true - *a conditional deferred transaction* - not supported in today's blockchain platforms. The logic could involve information available to the platform and not to any one smart contract.

 

 

*Design Document:   https://docs.google.com/document/d/1FuyjsXUxeopMiHrKQGH69BR6mtfwP8a_jmjYkven3iE/edit?usp=sharing",,knagware9,mudiverm,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,Unset,Unset,ghx-label-12,,Deferred Transactions,To Do,No,,Unset,No,,,"1|hzzsj3:",,,,No,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),knagware9,mudiverm,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 7:33 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
data race between block cutter mock and etcdraft chain test,FAB-12162,34080,,Bug,Closed,FAB,Fabric,software,denyeart,,,Low,Done,sykesm,sykesm,sykesm,26/Sep/18 2:37 AM,28/Sep/18 10:51 PM,28/Oct/23 3:04 AM,28/Sep/18 10:51 PM,,,,,,,,,,,,,,,0,race,,,,,"{code}
unit-tests_1  | •••==================
unit-tests_1  | WARNING: DATA RACE
unit-tests_1  | Write at 0x00c4201e2848 by goroutine 35:
unit-tests_1  |   github.com/hyperledger/fabric/orderer/mocks/common/blockcutter.(*Receiver).Ordered()
unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/orderer/mocks/common/blockcutter/blockcutter.go:81 +0x760
unit-tests_1  |   github.com/hyperledger/fabric/orderer/consensus/etcdraft.(*Chain).serveRequest()
unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain.go:210 +0x8cc
unit-tests_1  | 
unit-tests_1  | Previous read at 0x00c4201e2848 by goroutine 19:
unit-tests_1  |   github.com/hyperledger/fabric/orderer/consensus/etcdraft_test.glob..func1.2.6.4.1()
unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:174 +0x5b
unit-tests_1  |   runtime.call32()
unit-tests_1  |       /opt/go/src/runtime/asm_amd64.s:573 +0x3a
unit-tests_1  |   reflect.Value.Call()
unit-tests_1  |       /opt/go/src/reflect/value.go:308 +0xc0
unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/onsi/gomega/internal/asyncassertion.(*AsyncAssertion).pollActual()
unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/onsi/gomega/internal/asyncassertion/async_assertion.go:71 +0xc4
unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/onsi/gomega/internal/asyncassertion.(*AsyncAssertion).match()
unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/onsi/gomega/internal/asyncassertion/async_assertion.go:107 +0x100
unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/onsi/gomega/internal/asyncassertion.(*AsyncAssertion).Should()
unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/onsi/gomega/internal/asyncassertion/async_assertion.go:48 +0x76
unit-tests_1  |   github.com/hyperledger/fabric/orderer/consensus/etcdraft_test.glob..func1.2.6.4()
unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:175 +0x4da
unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/onsi/ginkgo/internal/leafnodes.(*runner).runSync()
unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/onsi/ginkgo/internal/leafnodes/runner.go:110 +0xbb
unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/onsi/ginkgo/internal/leafnodes.(*runner).run()
unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/onsi/ginkgo/internal/leafnodes/runner.go:64 +0x17a
unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/onsi/ginkgo/internal/leafnodes.(*ItNode).Run()
unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/onsi/ginkgo/internal/leafnodes/it_node.go:26 +0xa0
unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/onsi/ginkgo/internal/spec.(*Spec).runSample()
unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/onsi/ginkgo/internal/spec/spec.go:203 +0x768
unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/onsi/ginkgo/internal/spec.(*Spec).Run()
unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/onsi/ginkgo/internal/spec/spec.go:138 +0x14b
unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/onsi/ginkgo/internal/specrunner.(*SpecRunner).runSpec()
unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/onsi/ginkgo/internal/specrunner/spec_runner.go:198 +0x173
unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/onsi/ginkgo/internal/specrunner.(*SpecRunner).runSpecs()
unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/onsi/ginkgo/internal/specrunner/spec_runner.go:168 +0x49a
unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/onsi/ginkgo/internal/specrunner.(*SpecRunner).Run()
unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/onsi/ginkgo/internal/specrunner/spec_runner.go:64 +0x103
unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/onsi/ginkgo/internal/suite.(*Suite).Run()
unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/onsi/ginkgo/internal/suite/suite.go:62 +0x3b9
unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/onsi/ginkgo.RunSpecsWithCustomReporters()
unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/onsi/ginkgo/ginkgo_dsl.go:220 +0x310
unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/onsi/ginkgo.RunSpecs()
unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/onsi/ginkgo/ginkgo_dsl.go:201 +0xc1
unit-tests_1  |   github.com/hyperledger/fabric/orderer/consensus/etcdraft_test.TestEtcdraft()
unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/etcdraft_suite_test.go:17 +0x85
unit-tests_1  |   testing.tRunner()
unit-tests_1  |       /opt/go/src/testing/testing.go:777 +0x16d
{code}

This is on current master at #25f79cd6e9877ad8bad5f733b0afcaa8bcbaa41a",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzsjj:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"26/Sep/18 5:03 AM;sykesm;https://gerrit.hyperledger.org/r/c/26569/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Intermittent test failure in etcdraft/chain_test,FAB-12163,34081,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,26/Sep/18 2:51 AM,20/Mar/19 3:35 PM,28/Oct/23 3:04 AM,28/Sep/18 10:52 PM,,,,,,v1.3.0,,,,,,,,,0,ci-flake,,,,,"{code}
Running Suite: Etcdraft Suite
=============================
Random Seed: 1537897761
Will run 11 of 11 specs

•••••
------------------------------
• Failure in Spec Setup (JustBeforeEach) [0.013 seconds]
Chain
/Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:27
  Single raft node
  /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:47
    when raft leader is elected
    /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:132
      stops the timer if a batch is cut [JustBeforeEach]
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:203

      Failed after 0.010s.
      Expected
          <chan uint64 | len:0, cap:1>: 0xc000428000
      not to receive anything.

      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:61
------------------------------
•••••

Summarizing 1 Failure:

[Fail] Chain Single raft node when raft leader is elected [JustBeforeEach] stops the timer if a batch is cut 
/Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:61
{code}",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzsjr:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"26/Sep/18 5:03 AM;sykesm;https://gerrit.hyperledger.org/r/c/26570/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Prepare for 1.3.0 development release,FAB-12165,34086,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid,,rameshthoomu,rameshthoomu,26/Sep/18 4:52 AM,29/Sep/18 5:35 AM,28/Oct/23 3:04 AM,29/Sep/18 5:35 AM,,,,,,,,,,,,,,,0,,,,,,Prepare for 1.3.0 development release,,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzxek7:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Automatically promote tar file header with zero value for type flag,FAB-12166,34087,32717,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid,wlahti,wlahti,wlahti,26/Sep/18 5:08 AM,08/Jan/19 1:36 AM,28/Oct/23 3:04 AM,08/Jan/19 1:36 AM,,,,,,,,,,,,,,,0,,,,,,"The chaincode package parser expects the files in the tar.gz to have their header's typeflag set to 'TypeReg'. The tar writer utility in core/container/util/writer.go creates a header without setting the typeflag, thus defaulting to the zero value 'TypeRegA'. Automatically promoting 'TypeRegA' to 'TypeReg' or 'TypeDir' is the default behavior in go 1.11, so this task will add this functionality for now until we have moved to go 1.11. ",,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzskn:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"27/Sep/18 3:42 AM;wlahti;https://gerrit.hyperledger.org/r/c/26597/;;;","08/Jan/19 1:36 AM;wlahti;Abandoning this item now that we are using Go 1.11. ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Build SCC test plugin with race when necessary,FAB-12167,34088,,Task,Closed,FAB,Fabric,software,denyeart,,,Low,Done,sykesm,sykesm,sykesm,26/Sep/18 5:42 AM,28/Sep/18 10:56 PM,28/Oct/23 3:04 AM,28/Sep/18 10:56 PM,,,,,,,,,,,,,,,0,,,,,,"We need to build the plugins with {{-race}} when the test are being run with the race detector enabled.

I missed this last time because the unit tests never got as far as running with pluginsenabled when the race detector was enabled.",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzskv:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"26/Sep/18 5:57 AM;sykesm;https://gerrit.hyperledger.org/r/26579;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Intermittent test failure in core/chaincode TestChaincodeInvokeChaincode/GOLANG,FAB-12168,34090,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,mastersingh24,sykesm,sykesm,26/Sep/18 6:06 AM,19/Mar/19 7:57 PM,28/Oct/23 3:04 AM,04/Dec/18 6:48 AM,,,,,,v1.4.0,,,,,fabric-peer,,,,0,ci-flake,,,,,"{code}
unit-tests_1  | removing dir = /tmp/hyperledger/test/tmpdb/ledgersData
unit-tests_1  | --- FAIL: TestChaincodeInvokeChaincode (161.13s)
unit-tests_1  |     --- FAIL: TestChaincodeInvokeChaincode/GOLANG (55.38s)
unit-tests_1  |     	exectransaction_test.go:656: Error initializing chaincode cc_go_628969(Error deploying <cc_go_628969:0>: Error obtaining imports: <go, [list -f {{ join .Imports ""\n""}} github.com/hyperledger/fabric/examples/chaincode/go/example04/cmd]>: failed with error: ""signal: killed""
{code}

This only seems to hit when the race detector is enabled.",,mastersingh24,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzsl3:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),mastersingh24,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"26/Sep/18 6:13 AM;sykesm;There's a hard coded timeout of one minute in {{core/chaincode/platforms/golang/list.go}} that kills {{go list}}. The error processing does not seem to report the more meaningful timeout error up the stack.

{code}
//runProgram non-nil Env, timeout (typically secs or millisecs), program name and args
func runProgram(env Env, timeout time.Duration, pgm string, args ...string) ([]byte, error) {
	if env == nil {
		return nil, fmt.Errorf(""<%s, %v>: nil env provided"", pgm, args)
	}
	var stdOut bytes.Buffer
	var stdErr bytes.Buffer

	cmd := exec.Command(pgm, args...)
	cmd.Env = flattenEnv(env)
	cmd.Stdout = &stdOut
	cmd.Stderr = &stdErr
	err := cmd.Start()

	// Create a go routine that will wait for the command to finish
	done := make(chan error, 1)
	go func() {
		done <- cmd.Wait()
	}()

	select {
	case <-time.After(timeout):
		if err = cmd.Process.Kill(); err != nil {
			return nil, fmt.Errorf(""<%s, %v>: failed to kill: %s"", pgm, args, err)
		} else {
			return nil, errors.New(fmt.Sprintf(""<%s, %v>: timeout(%d msecs)"", pgm, args, timeout/time.Millisecond))
		}
	case err = <-done:
		if err != nil {
			return nil, fmt.Errorf(""<%s, %v>: failed with error: \""%s\""\n%s"", pgm, args, err, string(stdErr.Bytes()))
		}

		return stdOut.Bytes(), nil
	}
}

// Logic inspired by: https://dave.cheney.net/2014/09/14/go-list-your-swiss-army-knife
func list(env Env, template, pkg string) ([]string, error) {
	if env == nil {
		env = getEnv()
	}

	lst, err := runProgram(env, 60*time.Second, ""go"", ""list"", ""-f"", template, pkg)
	if err != nil {
		return nil, err
	}

	return strings.Split(strings.Trim(string(lst), ""\n""), ""\n""), nil
}
{code};;;","02/Dec/18 9:54 PM;mastersingh24;https://gerrit.hyperledger.org/r/27865;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update the STABLE TAG in the Nexus pull script,FAB-12169,34091,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sambhavdutt,sambhavdutt,sambhavdutt,26/Sep/18 6:43 AM,19/Mar/19 8:12 PM,28/Oct/23 3:04 AM,29/Sep/18 6:22 AM,v1.3.0,,,,,v1.3.0,,,,,fabric-quality,,,,0,ci-failure,,,,,"Now that fabric has released the 1.3.0 branch, the images and binaries published from nightly jobs, master branch will be tagged with 1.4.0-stable. The stable version in the pull script should be updated to 1.4.0-stable to get the latest images and binaries.",,AdnanChoudhury,dongming,latitiah,rameshthoomu,sambhavdutt,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzslb:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),AdnanChoudhury,dongming,latitiah,rameshthoomu,sambhavdutt,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"29/Sep/18 6:18 AM;sambhavdutt;This has been taken care of in  https://gerrit.hyperledger.org/r/#/c/26640/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fix stringent dependency check for sample java chaincode,FAB-12170,34094,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,denyeart,denyeart,denyeart,26/Sep/18 1:39 PM,02/Oct/18 1:49 AM,28/Oct/23 3:04 AM,02/Oct/18 1:49 AM,,,,,,v1.3.0,,,,,fabric-samples,,,,0,,,,,,"Dependency in chaincode’s build.gradle must match the java chaincode shim version in javaenv (e.g. 1.3.0-rc1), and javaenv is automatically picked based on peer version (e.g. amd64-1.3.0-rc1).

One implication is that if you upgrade your peer you won’t be able to generate a new chaincode image for the already installed/instantiated chaincode.

Another implication is that the fabric-samples sample java chainocde will only work with one Fabric release, e.g. 1.3.0-SNAPSHOT, 1.3.0-rc1, 1.3.0, or 1.4.0.

A short term fix is to use dynamic versions in gradle dependencies.  For example a dependency of 1.+ will ensure that a java chaincode will work with any v1.x java chaincode shim.",,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FABCJ-7,,,No,,Unset,No,,,"1|hzzslr:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-6.11.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/tough-cookie-4.1.3,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/semver-6.3.1,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/grpc/grpc-js-1.8.17,dependabot/go_modules/high-throughput/application-go/google.golang.org/grpc-1.53.0,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/word-wrap-1.2.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-and-fabric-network-7.2.4,dependabot/go_modules/asset-transfer-basic/application-go/google.golang.org/grpc-1.53.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"26/Sep/18 1:43 PM;denyeart;https://gerrit.hyperledger.org/r/#/c/26589/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Error handling and message for java chaincode shim dependency check,FAB-12171,34097,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,gennadyl,denyeart,denyeart,26/Sep/18 2:08 PM,05/Oct/18 6:18 AM,28/Oct/23 3:04 AM,05/Oct/18 6:18 AM,,,,,,v1.3.0,v1.4.0,,,,,,,,0,must-fix,,,,,"If the dependency in the java chaincode’s build.gradle (e.g. 1.3.0-SNAPSHOT) does not exactly match the java chaincode shim version in javaenv, when you attempt to generate new chaincode image it will eventually timeout after 5 minutes rather than throwing an error immediately about the version mismatch.  This makes version dependency issues very difficult to diagnose.",,C0rWin,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABCJ-150,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FABCJ-7,,,No,,Unset,No,,,"1|hzzsmf:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),C0rWin,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"26/Sep/18 6:05 PM;C0rWin;I do not expect java chaincode developers to declare snapshot as a dependency in theirs pom.xml, simply because those jars never goes to the Maven Central, therefore a priory non resolvable and not part of javaenv image. 

Saying this, I do agree we need to develop a mechanism to detect such missing dependency and abort before hitting timeout.;;;","26/Sep/18 6:11 PM;C0rWin;If one would like to work with SNAPSHOT he could just build locally javaenv image with 

{code}
gradle buildImage
{code}

where it will get latest dependencies and SNAPSHOT from master.;;;","02/Oct/18 1:37 AM;denyeart;[~gennadyl] [~C0rWin] I think we determined this is the highest priority fix for java chaincode, are you planning it for v1.3.0 still?  I'll tag as must-fix for now so that it stays on our radar.;;;","02/Oct/18 7:46 AM;C0rWin;[~denyeart] we plan to contain it into v1.3.0;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
make check-deps failed with grpc-ecosystem/go-grpc-middleware,FAB-12172,34099,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Invalid: Environment Issue,,davidkhala,davidkhala,26/Sep/18 6:20 PM,02/Dec/18 5:23 AM,28/Oct/23 3:04 AM,02/Dec/18 5:23 AM,v1.3.0,,,,,Not a Bug,,,,,fabric-common,,,,1,,,,,,"Environment:
 * golang 1.10.1
 * ubuntu 16.04
 * dep v0.5.0
 * docker 17.12.1-ce

the error log
{code:java}
DEP: Checking for dependency issues..
dep:
 version     : v0.5.0
 build date  : 2018-09-26
 git hash    : 
 go version  : go1.10.4
 go compiler : gc
 platform    : linux/amd64
 features    : ImportDuringSolve=false
# vendor is out of sync:
github.com/coreos/etcd: hash of vendored tree not equal to digest in Gopkg.lock
github.com/docker/docker: hash of vendored tree not equal to digest in Gopkg.lock
github.com/grpc-ecosystem/go-grpc-middleware: hash of vendored tree not equal to digest in Gopkg.lock  (CHECK IGNORED: marked noverify in Gopkg.toml)
Makefile:218: recipe for target 'check-deps' failed
make: *** [check-deps] Error 1
{code}
 ",,davidkhala,mastersingh24,Specia1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12025,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzsmv:",,,,Unset,Unset,,,"
$ make check-deps ",,Unset,,,,,,Unset,,Unset,,(Please add usage information),davidkhala,mastersingh24,Specia1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"02/Dec/18 5:23 AM;mastersingh24;Tried make check-deps on both release-1.3 and master branches with no issues;;;","02/Dec/18 5:23 AM;mastersingh24;This works fine on both master and release-1.3;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Make all fabric samples configured with anchor peers,FAB-12173,34100,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yuki-kon,yacovm,yacovm,26/Sep/18 6:47 PM,27/Oct/18 6:39 AM,28/Oct/23 3:04 AM,18/Oct/18 7:47 AM,v1.4.0,,,,,v1.4.0,,,,,fabric-samples,,,,0,,,,,,"Currently, not all fabric samples have anchor peer configuration.
As a result - users are unable to use private data (unless they endorse on all the peers and don't require acknowledgement from peers) and can't take advantage of service discovery.

We should add to all fabric samples, anchor peers configuration at the setup startup.",,huikang,yacovm,yuki-kon,zRich,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12174,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-12631,,,No,,Unset,No,,,"1|hzzsn3:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),huikang,yacovm,yuki-kon,zRich,,,,,,,,,,,,,,,,,,,,,,,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-6.11.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/tough-cookie-4.1.3,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/semver-6.3.1,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/grpc/grpc-js-1.8.17,dependabot/go_modules/high-throughput/application-go/google.golang.org/grpc-1.53.0,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/word-wrap-1.2.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-and-fabric-network-7.2.4,dependabot/go_modules/asset-transfer-basic/application-go/google.golang.org/grpc-1.53.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"27/Sep/18 4:37 AM;huikang;Hi, Yacov([~yacovm]), are you working on this issue? If not, I'd like to try fixing it. Thanks.;;;","27/Sep/18 5:16 AM;yacovm;No, and I never intended to... Feel free to take this.;;;","13/Oct/18 1:15 AM;yuki-kon;I created a patch to use anchor peers for the sample “fabric-samples/balance-transfer”. Can I take this JIRA?;;;","13/Oct/18 1:24 AM;huikang;sure, I am swamped with other things. Please assign this to yourself. Thanks.;;;","13/Oct/18 1:57 AM;yuki-kon;Thanks, [~huikang]. I posted a CR here. https://gerrit.hyperledger.org/r/#/c/26956/;;;","13/Oct/18 2:42 AM;yacovm;Thanks [~yuki-kon] .;;;","13/Oct/18 4:34 AM;yacovm;Tested it, looks like peers in different orgs find each other so the anchor peer update worked.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
"Make all fabric samples that use SDK, use service discovery ",FAB-12174,34101,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,yacovm,yacovm,26/Sep/18 6:58 PM,23/Jan/20 7:32 AM,28/Oct/23 3:04 AM,23/Jan/20 7:32 AM,v1.4.0,,,,,,,,,,fabric-samples,,,,0,stale-item,,,,,"*TLDR* - Make all fabric samples that use SDK, use service discovery and *remove static configuration of peers/chaincodes/orderers from connection profile*.

Since v1.2 - Fabric peers can tell the SDK information regarding the existing peers in the channel, or which peers should be used to endorse a given chaincode.

Despite the fact that the node SDK can leverage this ability, the fabric samples aren't configured to take advantage of this, [and all peers are configured statically in the channel, and the chaincodes are also configured statically|https://github.com/hyperledger/fabric-samples/blob/release-1.2/balance-transfer/artifacts/network-config.yaml#L49-L94].

This leads to miseducation and misinformation as this isn't the optimal way of configuring the network.

Therefore we should:

* Completely remove all configuration of chaincodes from the network profile configuration of all samples that use SDKs.
* Completely remove all configuration of peers and orderers by channels from the network profile configuration of all samples that use SDKs.
* Configure the network profile of all samples that use SDKs to use *a single peer* and rely on service discovery.
",,sheetal-hlf,sykesm,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12173,,,,,,,,,,,,,,,,,,,,,,,FAB-12535,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-12631,,,No,,Unset,No,,,"1|hzzsnb:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sheetal-hlf,sykesm,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 7:32 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove outdated configuration from all fabric samples,FAB-12175,34102,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,yacovm,yacovm,26/Sep/18 7:03 PM,23/Jan/20 7:32 AM,28/Oct/23 3:04 AM,23/Jan/20 7:32 AM,v1.4.0,,,,,,,,,,fabric-samples,,,,0,stale-item,,,,,"Some Fabric samples contain outdated configuration keys that have no effect whatsoever, [even such that were introduced in v1.0-alpha|https://github.com/hyperledger/fabric-samples/blob/release-1.2/balance-transfer/artifacts/base.yaml#L21] and never got to v1.0 GA.

As a result, users that read these samples are mislead and sometimes even share with other users these configuration parameters which no longer exist, or have changed.

Ideally - all configuration of samples would be inspired by the [e2e_cli|https://github.com/hyperledger/fabric/tree/release-1.3/examples/e2e_cli] in the fabric core repository.",,sykesm,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-12631,,,No,,Unset,No,,,"1|hzzsnj:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 7:32 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Private data retrieval ignores metadata writes,FAB-12176,34106,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,mne,mne,mne,26/Sep/18 8:55 PM,27/Sep/18 4:15 AM,28/Oct/23 3:04 AM,27/Sep/18 4:15 AM,v1.3.0,,,,,v1.3.0,,,,,,,,,0,must-fix,,,,,"Consider the following scenario on a key in a collection shared between Org1 and Org2:
 * TX1: Org1 sets the value of a key
 * TX2: Org1 modifies the metadata of a key
 * TX3: Org2 retrieves the value of a key

The Org2 peer will fail to retrieve the value of the key, because it only has an entry for the key's hash at TX1, but the latest version points to TX2:


{{Failed to handle GET_STATE. error: private data matching public hash version is not available. Public hash version = &version.Height\{BlockNum:0x9, TxNum:0x0}, Private data version = &version.Height\{BlockNum:0x7, TxNum:0x0}}}",,denyeart,manish-sethi,mne,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzsnz:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,manish-sethi,mne,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.3,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"26/Sep/18 9:08 PM;mne;https://gerrit.hyperledger.org/r/#/c/26595/;;;","27/Sep/18 2:05 AM;manish-sethi;Cherry-picked for branch release-1.3
https://gerrit.hyperledger.org/r/#/c/26607/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Service Discovery requires EXTERNAL_ENDPOINT to be configured,FAB-12177,34107,,Documentation,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,joe-alewine,pandrejko,pandrejko,26/Sep/18 9:31 PM,29/Nov/18 3:39 AM,28/Oct/23 3:04 AM,29/Nov/18 12:39 AM,v1.2.0,v1.3.0,,,,,,,,,fabric-docs,,,,0,,,,,,"Currently, to see peers in service discovery they need to have `EXTERNAL_ENDPOINT` to be configured for them.
Otherwise - fabric assumes the peer should not be disclosed.

 

Yacov is thinking that we should add this information to the discovery-cli tutorial

https://hyperledger-fabric.readthedocs.io/en/latest/discovery-cli.html

 

The parameter is defined in core.yaml under:

 {code}
 - CORE_PEER_ADDRESS=peer1.org1.example.com:7051
 - CORE_PEER_GOSSIP_EXTERNALENDPOINT=peer1.org1.example.com:7051
 - CORE_PEER_GOSSIP_BOOTSTRAP=peer0.org1.example.com:7051
 {code}
the external endpoints are defined in some of our samples",,joe-alewine,pandrejko,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12947,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwrrj:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),joe-alewine,pandrejko,yacovm,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"25/Oct/18 5:26 AM;yacovm;[~joe-alewine] [~pandrejko] any updates on this one?;;;","28/Nov/18 11:51 PM;joe-alewine;https://gerrit.hyperledger.org/r/c/27780/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
intermittent test failures in fabric/core/comm TestServerInterceptors,FAB-12178,34109,,Bug,Closed,FAB,Fabric,software,denyeart,,,Low,Duplicate,,sykesm,sykesm,26/Sep/18 10:29 PM,19/Mar/19 7:57 PM,28/Oct/23 3:04 AM,27/Dec/18 2:46 AM,,,,,,v2.0.0,,,,,fabric-peer,,,,0,ci-flake,,,,,"{code}
0.083s	coverage: 89.1% of statements
00:07:44.140 unit-tests_1  | 2018-09-25 20:42:00.318 UTC [ConnProducer] DisableEndpoint -> WARN 001 Only 1 endpoint remained, will not black-list it
00:07:44.141 unit-tests_1  | --- FAIL: TestServerInterceptors (0.01s)
00:07:44.142 unit-tests_1  | 	assertions.go:247: 
                          
	Error Trace:	server_test.go:1800
00:07:44.144 unit-tests_1  | 		
	Error:      	Not equal: 
00:07:44.145 unit-tests_1  | 		
	            	expected: ""EOF""
00:07:44.147 unit-tests_1  | 		
	            	actual  : ""error from interceptor""
00:07:44.148 unit-tests_1  | 		
	Test:       	TestServerInterceptors
00:07:44.148 unit-tests_1  | 		
	Messages:   	Expected error from second ssi
00:07:44.150 unit-tests_1  | 2018-09-25 20:42:02.341 UTC [bccsp] GetDefault -> WARN 002 Before using BCCSP, please call InitFactories(). Falling back to bootBCCSP.
00:07:44.151 unit-tests_1  | 2018-09-25 20:42:02.341 UTC [bccsp] GetDefault -> WARN 003 Before using BCCSP, please call InitFactories(). Falling back to bootBCCSP.
00:07:44.153 unit-tests_1  | 2018-09-25 20:42:03.364 UTC [bccsp] GetDefault -> WARN 004 Before using BCCSP, please call InitFactories(). Falling back to bootBCCSP.
00:07:44.155 unit-tests_1  | 2018-09-25 20:42:03.371 UTC [bccsp] GetDefault -> WARN 005 Before using BCCSP, please call InitFactories(). Falling back to bootBCCSP.
00:07:44.157 unit-tests_1  | 2018-09-25 20:42:03.382 UTC [bccsp] GetDefault -> WARN 006 Before using BCCSP, please call InitFactories(). Falling back to bootBCCSP.
00:07:44.159 unit-tests_1  | 2018-09-25 20:42:04.595 UTC [ConnProducer] NewConnection -> ERRO 008 Failed connecting to a , error: Failed connecting to a
00:07:44.160 unit-tests_1  | 2018-09-25 20:42:04.616 UTC [comm] GetPeerCredentials -> WARN 009 Failed adding certificates to peer's client TLS trust pool: asn1: syntax error: data truncated
00:07:44.162 unit-tests_1  | 2018-09-25 20:42:04.618 UTC [ConnProducer] NewConnection -> ERRO 00a Failed connecting to b , error: Failed connecting to b
00:07:44.164 unit-tests_1  | 2018-09-25 20:42:04.618 UTC [ConnProducer] NewConnection -> ERRO 00b Failed connecting to a , error: Failed connecting to a
00:07:44.166 unit-tests_1  | 2018-09-25 20:42:04.618 UTC [ConnProducer] NewConnection -> ERRO 00c Failed connecting to c , error: Failed connecting to c
00:07:44.168 unit-tests_1  | 2018-09-25 20:42:04.844 UTC [comm] GetDeliverServiceCredentials -> ERRO 00d Attempted to obtain root CA certs of a non existent channel: C
00:07:44.169 unit-tests_1  | FAIL
00:07:44.170 unit-tests_1  | coverage: 90.6% of statements
00:07:44.171 unit-tests_1  | FAIL	github.com/hyperledger/fabric/core/comm	10.687s
{code}",,denyeart,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12658,,,,FAB-13411,,,,,,,,,,,,,,"26/Sep/18 10:31 PM;sykesm;console-timestamp.log.gz.txt;https://jira.hyperledger.org/secure/attachment/15871/console-timestamp.log.gz.txt",,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzsof:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"02/Nov/18 11:18 AM;denyeart;[~mastersingh24] This has been failing intermittently since it was added...;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Integration tests failing in fabric verify jobs due to Timeout.,FAB-12179,34110,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,sambhavdutt,sambhavdutt,26/Sep/18 11:11 PM,19/Mar/19 8:13 PM,28/Oct/23 3:04 AM,02/Oct/18 8:18 PM,v1.4.0,,,,,v1.4.0,,,,,fabric-build,,,,0,ci-failure,,,,,"The Integration test in fabric verify jobs has been failing in Discovery service due to process time out,

{code:java}
09:36:08 ------------------------------
09:36:08 • Failure in Spec Setup (BeforeEach) [18.072 seconds]
09:36:08 DiscoveryService [BeforeEach] discovers channel information 
09:36:08 /w/workspace/fabric-verify-integration-tests-x86_64/gopath/src/github.com/hyperledger/fabric/integration/discovery/discovery_test.go:85
09:36:08 
09:36:08   Timed out after 1.000s.
09:36:08   Expected process to exit.  It did not.
09:36:08 
09:36:08   /w/workspace/fabric-verify-integration-tests-x86_64/gopath/src/github.com/hyperledger/fabric/vendor/github.com/tedsuo/ifrit/ginkgomon/ginkgomon.go:146
09:36:08 ------------------------------
09:37:02 ••
09:37:02 
09:37:02 Summarizing 1 Failure:
09:37:02 
09:37:02 [Fail] DiscoveryService [BeforeEach] discovers channel information 
09:37:02 /w/workspace/fabric-verify-integration-tests-x86_64/gopath/src/github.com/hyperledger/fabric/vendor/github.com/tedsuo/ifrit/ginkgomon/ginkgomon.go:146
09:37:02 
09:37:02 Ran 3 of 3 Specs in 99.983 seconds
09:37:02 FAIL! -- 2 Passed | 1 Failed | 0 Pending | 0 Skipped
09:37:02 --- FAIL: TestEndToEnd (99.98s)
09:37:02 FAIL
09:39:06 [1537968896] EndToEnd Suite - 3/3 specs •
{code}

*Build Logs*

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-integration-tests-x86_64/2364/",,denyeart,latitiah,rameshthoomu,sambhavdutt,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,d0f0c8a5f718ba695d11a837c2a31c94252d9452,Unset,No,,,"1|hzzson:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,latitiah,rameshthoomu,sambhavdutt,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"26/Sep/18 11:54 PM;sambhavdutt;Integration tests have been passing now for several tests in the fabric verify jobs.

*Build Log*
https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-integration-tests-x86_64/2368/;;;","29/Sep/18 4:58 AM;sambhavdutt;Observed the same Timeout errors that are failing the fabric verify Integration tests.

{code:java}
09:36:08   Timed out after 1.000s.
09:36:08   Expected process to exit.  It did not.
{code}

*Build Logs*

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-integration-tests-x86_64/2446/;;;","02/Oct/18 8:18 PM;sambhavdutt;The Integration tests have been successful without the timeout.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
intermittent test failure in integration/discovery/discovery_test,FAB-12180,34112,,Bug,Closed,FAB,Fabric,software,denyeart,,,Low,Done,sykesm,sykesm,sykesm,26/Sep/18 11:17 PM,20/Mar/19 3:39 PM,28/Oct/23 3:04 AM,28/Sep/18 10:49 PM,,,,,,v1.3.0,,,,,,,,,0,ci-flake,,,,,"{code}
00:03:08.565 ------------------------------
00:03:08.567 • Failure in Spec Setup (BeforeEach) [18.072 seconds]
00:03:08.570 DiscoveryService [BeforeEach] discovers channel information 
00:03:08.571 /w/workspace/fabric-verify-integration-tests-x86_64/gopath/src/github.com/hyperledger/fabric/integration/discovery/discovery_test.go:85
00:03:08.571 
00:03:08.571   Timed out after 1.000s.
00:03:08.572   Expected process to exit.  It did not.
00:03:08.572 
00:03:08.572   /w/workspace/fabric-verify-integration-tests-x86_64/gopath/src/github.com/hyperledger/fabric/vendor/github.com/tedsuo/ifrit/ginkgomon/ginkgomon.go:146
00:03:08.573 ------------------------------
00:04:01.900 ••
00:04:01.900 
00:04:01.902 Summarizing 1 Failure:
00:04:01.902 
00:04:01.908 [Fail] DiscoveryService [BeforeEach] discovers channel information 
{code}

Timeout is not specified:
{code}
integration/discovery/discovery_test.go
101:		Eventually(sess).Should(gexec.Exit(1))
117:		Eventually(sess).Should(gexec.Exit(1))
199:		Eventually(sess).Should(gexec.Exit(1))
246:		Eventually(sess).Should(gexec.Exit(0))
297:		Eventually(sess).Should(gexec.Exit(0))
316:		Eventually(sess).Should(gexec.Exit())
{code}",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzsov:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"27/Sep/18 12:04 AM;sykesm;https://gerrit.hyperledger.org/r/26601;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
rewrite private data e2e tests using the new test framework,FAB-12181,34114,,Test Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,nirro,nirro,nirro,27/Sep/18 12:30 AM,03/Dec/18 7:42 PM,28/Oct/23 3:04 AM,03/Dec/18 7:42 PM,,,,,,v1.4.0,,,,,fabric-gossip,,,,0,,,,,,"need t re-write private data e2e tests using the new test framework.
as part of this task will also take care to fix private data tests flakes.",,C0rWin,nirro,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11329,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzspb:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Integration Test,,(Please add usage information),C0rWin,nirro,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"27/Sep/18 12:36 AM;nirro;https://gerrit.hyperledger.org/r/26604;;;","02/Dec/18 10:00 PM;C0rWin;Once CR is merged need to close FAB-11329 as well.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
TEST: remove private data e2e tests that are using old world,FAB-12182,34115,,Test Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,nirro,nirro,nirro,27/Sep/18 12:31 AM,08/Oct/18 11:47 AM,28/Oct/23 3:04 AM,08/Oct/18 11:47 AM,,,,,,v1.4.0,,,,,fabric-gossip,,,,0,,,,,,,,nirro,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzspj:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Integration Test,,(Please add usage information),nirro,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"27/Sep/18 12:44 AM;nirro;https://gerrit.hyperledger.org/r/26605;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Using CouchDB as HistoryDB to achieve rich query for historical transaction data,FAB-12183,34117,,Story,Backlog,FAB,Fabric,software,denyeart,,,Medium,,,jason18,jason18,27/Sep/18 2:07 AM,30/Aug/19 12:20 AM,28/Oct/23 3:04 AM,,,,,,,,,,,,fabric-ledger,,,,3,,,,,,"Current release of Fabric uses LevelDB as HistoryDB, and provides the GetHistoryForKey API to iterate over historical transaction data for a given key. when users trying to do data analysis or data mining on historical transaction data, there usually exists an urgent need for rich query functionality. 
 The basic idea under this proposal is to use CouchDB as the HistoryDB to store blockchain metadata (such as block number and transaction number), then rich query functionalities could be achieved on the basis of CouchDB features. 
 The prototype source code for this proposal is currently available at [https://github.com/yw-liu/historycouchdb-hyperledger-fabric]",,antitoine,dcrough13,denyeart,jason18,jonmchan,leeseunghyun,zhaochy,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12881,,,,,,,,,"27/Sep/18 2:05 AM;jason18;1.JPG;https://jira.hyperledger.org/secure/attachment/15879/1.JPG","27/Sep/18 2:05 AM;jason18;2.JPG;https://jira.hyperledger.org/secure/attachment/15878/2.JPG","27/Sep/18 2:05 AM;jason18;3.JPG;https://jira.hyperledger.org/secure/attachment/15877/3.JPG","27/Sep/18 2:05 AM;jason18;4.JPG;https://jira.hyperledger.org/secure/attachment/15876/4.JPG",,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzspr:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),antitoine,dcrough13,denyeart,jason18,jonmchan,leeseunghyun,zhaochy,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"15/Nov/18 10:12 PM;denyeart;Pagination can be supported on leveldb based on start and end keys, this is already done for range queries on leveldb. FAB-12881 is created to add pagination support to GetHistoryForKey().

Let's use this Jira to track using CouchDB as a history database.;;;","29/Aug/19 12:12 PM;leeseunghyun;Hi i have a question,   

i knew, getHistoryForkey() retrieves history from block chain (and i think it will be very slow operation, because it traverses all block chains(as long as my belive is true,))

 

but after seeing your github, i am confused,    getHistoryForkey is from level DB?? not block chain??

 

please answer;;;","29/Aug/19 8:29 PM;jason18;Hi seunghyun Lee,

As pictures from the attachments show, when querying history  data of transactions,  first query the metadata from Level DB or Couch DB, then the history data  from the block chain.;;;","30/Aug/19 12:20 AM;denyeart;There is a history database in LevelDB that includes an index that maps keys to the transactions where they were updated. GetHistoryForKey() queries this index and then pulls the historical value from the transaction in the blockchain.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Prepare fabric-samples for 1.3.0-rc1 release,FAB-12184,34118,34045,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,denyeart,denyeart,denyeart,27/Sep/18 2:14 AM,27/Sep/18 4:10 AM,28/Oct/23 3:04 AM,27/Sep/18 4:10 AM,,,,,,v1.3.0,,,,,,,,,0,,,,,,"Update version references in fabric-samples, and then tag fabric-samples and create release-1.3 branch.

See associated CR for updates.",,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzspz:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-6.11.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/tough-cookie-4.1.3,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/semver-6.3.1,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/grpc/grpc-js-1.8.17,dependabot/go_modules/high-throughput/application-go/google.golang.org/grpc-1.53.0,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/word-wrap-1.2.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-and-fabric-network-7.2.4,dependabot/go_modules/asset-transfer-basic/application-go/google.golang.org/grpc-1.53.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"27/Sep/18 2:18 AM;denyeart;https://gerrit.hyperledger.org/r/#/c/26608/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
PTE testcase: FAB-8251.sh and FAB-8252.sh uses get_pteReport.js to get TPS,FAB-12185,34119,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,dongming,dongming,dongming,27/Sep/18 3:26 AM,01/Oct/18 10:38 PM,28/Oct/23 3:04 AM,01/Oct/18 10:38 PM,,,,,,,,,,,fabric-quality,,,,0,,,,,,Update FAb-8251.sh and FAB-8252.sh to use get_pteReport.js to get overall TPS,,dongming,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-8089,,,No,,Unset,No,,,"1|hzzsq7:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),dongming,,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,true,"29/Sep/18 12:04 AM;dongming;https://gerrit.hyperledger.org/r/#/c/26672/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fix some grammar error and typo in docs/source/network/network.md,FAB-12186,34121,,Documentation,Closed,FAB,Fabric,software,denyeart,,,Low,Done,huikang,huikang,huikang,27/Sep/18 4:17 AM,16/Oct/18 7:01 PM,28/Oct/23 3:04 AM,16/Oct/18 7:01 PM,,,,,,,,,,,fabric-docs,,,,0,,,,,,,,huikang,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzsqn:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),huikang,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Inconsistent profile name in examples/e2e_cli/configtx.yaml,FAB-12187,34123,,Bug,Closed,FAB,Fabric,software,denyeart,,,Low,Won't Do,,huikang,huikang,27/Sep/18 4:55 AM,02/Nov/18 12:11 PM,28/Oct/23 3:04 AM,02/Nov/18 12:11 PM,,,,,,,,,,,fabric-samples,,,,0,,,,,,"In this example [configtx file|[https://github.com/hyperledger/fabric/blob/a02124e477298a661df88fcc6a18ede98cc2dee9/examples/e2e_cli/configtx.yaml#L361],] the profile name is TwoOrgsChannel. However, it includes 3 orgs. Should the profile name be renamed to _ThreeOrgsChannel_?",,denyeart,huikang,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzsqv:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,huikang,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"02/Oct/18 12:35 AM;denyeart;[~ales] Did you intentionally not rename the profile when you added org3?;;;","02/Nov/18 12:11 PM;denyeart;/examples/e2e_cli has been removed in v1.4 master.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Fix broken links in ""What's new"" doc",FAB-12188,34124,,Documentation,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,joe-alewine,joe-alewine,joe-alewine,27/Sep/18 5:23 AM,27/Sep/18 8:00 AM,28/Oct/23 3:04 AM,27/Sep/18 8:00 AM,v1.3.0,,,,,v1.3.0,,,,,fabric-docs,,,,0,,,,,,"Release notes links are broken here: [https://hyperledger-fabric.readthedocs.io/en/release-1.3/whatsnew.html]

(and in the master branch)

Will fix these links and also point them at the release candidate notes, since the candidate is what's out there now.",,joe-alewine,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzsr3:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),joe-alewine,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.3,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Rename package and merge related files,FAB-12189,34125,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,manish-sethi,manish-sethi,manish-sethi,27/Sep/18 5:30 AM,28/Sep/18 6:09 PM,28/Oct/23 3:04 AM,28/Sep/18 6:09 PM,,,,,,v1.3.0,v1.4.0,,,,fabric-ledger,,,,0,,,,,,Address remaining comments in the CR - https://gerrit.hyperledger.org/r/#/c/21775/,,manish-sethi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzsrb:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),manish-sethi,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.3,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"28/Sep/18 7:42 AM;manish-sethi;master - https://gerrit.hyperledger.org/r/#/c/26617/
release-1.3 - https://gerrit.hyperledger.org/r/#/c/26649/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update Stable Version in samples master branch,FAB-12190,34127,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,rameshthoomu,rameshthoomu,27/Sep/18 6:23 AM,03/Oct/18 3:39 AM,28/Oct/23 3:04 AM,03/Oct/18 3:39 AM,,,,,,,,,,,fabric-samples,,,,0,,,,,,Update Stable Version to 1.4.0-stable in samples master branch,,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzsrr:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-6.11.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/tough-cookie-4.1.3,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/semver-6.3.1,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/grpc/grpc-js-1.8.17,dependabot/go_modules/high-throughput/application-go/google.golang.org/grpc-1.53.0,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/word-wrap-1.2.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-and-fabric-network-7.2.4,dependabot/go_modules/asset-transfer-basic/application-go/google.golang.org/grpc-1.53.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"29/Sep/18 5:32 AM;rameshthoomu;https://gerrit.hyperledger.org/r/#/c/26619/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add docker-thirdparty to pull thirdparty images in release-1.0 Branch,FAB-12191,34131,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,rameshthoomu,rameshthoomu,27/Sep/18 10:19 AM,29/Sep/18 10:49 PM,28/Oct/23 3:04 AM,29/Sep/18 10:49 PM,v1.0.6,,,,,v1.0.7,,,,,fabric-build,,,,0,,,,,,"Add docker-thirdparty target to pull thirdparty images in release-1.0 branch. 

make docker-thirdparty - will pull kafka, zookeeper and couchdb images of PREV_VERSION ",,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzxel3:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,release-1.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"29/Sep/18 5:27 AM;rameshthoomu;https://gerrit.hyperledger.org/r/#/c/26629/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update Stable version in fabric-test master branch,FAB-12192,34132,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid,rameshthoomu,rameshthoomu,rameshthoomu,27/Sep/18 10:32 AM,12/Nov/18 3:20 PM,28/Oct/23 3:04 AM,12/Nov/18 3:20 PM,,,,,,,,,,,fabric-quality,,,,0,,,,,,Update STABLE_VERSION to 1.4.0-stable as the master is now pointing to 1.4.0,,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzxelb:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"29/Sep/18 5:26 AM;rameshthoomu;https://gerrit.hyperledger.org/r/#/c/26630/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"""--configPath"" option of peer command is no longer used",FAB-12193,34133,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,nnao,nnao,nnao,27/Sep/18 10:33 AM,26/Oct/18 6:52 AM,28/Oct/23 3:04 AM,26/Oct/18 6:52 AM,v1.2.0,v1.3.0,,,,v1.4.0,,,,,fabric-peer,,,,0,,,,,,"When executing peer command without any options, the command shows the error message below.
{code:java}
vagrant@ubuntu-xenial:/opt/gopath/src/github.com/hyperledger/fabric/.build/bin$ ./peer node start
2018-09-26 17:59:01.057 UTC [main] InitCmd -> ERRO 001 Fatal error when initializing core config : Could not find config file. Please make sure that FABRIC_CFG_PATH or --configPath is set to a path which contains core.yaml
{code}
However, I got the message below when I execute peer command with ""--configPath"" option.
{code:java}
vagrant@ubuntu-xenial:/opt/gopath/src/github.com/hyperledger/fabric/.build/bin$ ./peer node start --configPath=./
Error: unknown flag: --configPath
{code}
I think ""--configPath"" option is no longer used.",,denyeart,nnao,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzssf:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,nnao,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"27/Sep/18 12:25 PM;nnao;https://gerrit.hyperledger.org/r/c/26632/;;;","02/Oct/18 1:38 AM;denyeart;master is targeting v1.4.0 now.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fix typos in two UT files,FAB-12194,34139,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ping40,ping40,ping40,27/Sep/18 5:16 PM,30/Sep/18 12:14 AM,28/Oct/23 3:04 AM,30/Sep/18 12:14 AM,,,,,,v1.4.0,,,,,,,,,0,,,,,,,,ping40,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzstj:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ping40,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"27/Sep/18 5:19 PM;ping40;https://gerrit.hyperledger.org/r/#/c/26633/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fix wrong description of chaincode implementation,FAB-12195,34141,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,baohua,baohua,baohua,27/Sep/18 6:19 PM,27/Sep/18 10:19 PM,28/Oct/23 3:04 AM,27/Sep/18 10:19 PM,,,,,,,,,,,,,,,0,,,,,,"in doc [https://hyperledger-fabric.readthedocs.io/en/latest/network/network.html#network-completed] , there is description of`{{It’s also worth noting that S5 can have different implementations on peer nodes P1 and P2 – so long as they implement the same smart contract interface. It means that in principle, S5 could be implemented in GOLANG on peer node P1, and JavaScript on peer node P2!}}`.
This implies that we can, e.g., install chaincode S5.v1 in P1 in golang implementation and install chaincode S5.v1 in P1 in Node.js implementation. Then instantiate the chaincode S5.v1.
But currently the chaincode's implementation must have same signature to instantiate, otherwise, people may install mal-formed chaincode at specific peer.

Need to fix to make it more clear.",,baohua,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12196,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzstz:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),baohua,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove incorrect chaincode paragraph from network topic,FAB-12196,34144,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,denyeart,denyeart,denyeart,27/Sep/18 8:47 PM,27/Sep/18 10:19 PM,28/Oct/23 3:04 AM,27/Sep/18 10:19 PM,,,,,,v1.3.0,,,,,fabric-docs,,,,0,,,,,,"This paragraph in the network topic is not correct:
{code:java}
It’s also worth noting that S5 can have different implementations on peer nodes P1 and P2 – so long as they implement the same smart contract interface. It means that in principle, S5 could be implemented in GOLANG on peer node P1, and JavaScript on peer node P2!{code}
Chaincodes must have the exact same fingerprint (hash) on each peer as the instantiated chaincode on the channel, otherwise invoke will fail with {color:#333333}error: chaincode fingerprint mismatch{color}.

https://hyperledger-fabric.readthedocs.io/en/latest/network/network.html#network-completed",,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12195,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzsun:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.3,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"27/Sep/18 8:53 PM;denyeart;[https://gerrit.hyperledger.org/r/#/c/26635/|https://gerrit.hyperledger.org/r/#/c/26636/]

[https://gerrit.hyperledger.org/r/#/c/26636/]

 ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove etcd/raft fixtures from sampleconfig folder,FAB-12198,34146,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,kchristidis,sykesm,sykesm,27/Sep/18 10:12 PM,14/Nov/18 1:30 AM,28/Oct/23 3:04 AM,14/Nov/18 1:30 AM,,,,,,,,,,,fabric-orderer,,,,0,,,,,,"PEM certificates aren't examples and they're not samples. They do not belong in a sample folder.

The only explicit references to these artifacts is in sampleconfig/configtx.yaml and these appear to be due to how these are tested.",,denyeart,kchristidis,sykesm,,,,,,,,,,,,,,,,,,,,,,,";13/Nov/18 4:25 AM;kchristidis;600",,0,600,,,0,600,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzsv3:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,kchristidis,sykesm,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"02/Oct/18 12:26 AM;denyeart;[~kchristidis] FYI;;;","13/Nov/18 4:26 AM;kchristidis;{quote}PEM certificates aren't examples and they're not samples. They do not belong in a sample folder.{quote}

Indeed. Not sure what I was thinking.

CR: https://gerrit.hyperledger.org/r/c/27514/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
update Contributing guide,FAB-12199,34147,,Documentation,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ChristopherFerris,ChristopherFerris,ChristopherFerris,27/Sep/18 10:42 PM,30/Sep/18 12:28 AM,28/Oct/23 3:04 AM,30/Sep/18 12:27 AM,v1.3.0,,,,,v1.4.0,,,,,fabric-docs,,,,0,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzsvb:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Data races in metrics,FAB-12200,34149,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,27/Sep/18 11:10 PM,19/Nov/18 2:08 PM,28/Oct/23 3:04 AM,29/Sep/18 12:57 AM,,,,,,v1.4.0,,,,,,,,,0,race,,,,,"Welcome to the land of fallout from using a global singleton manager for config:

{code}
WARNING: DATA RACE
Read at 0x00c0000ab330 by goroutine 20:
  github.com/hyperledger/fabric/vendor/github.com/spf13/viper.(*Viper).find()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/github.com/spf13/viper/viper.go:634 +0x1d5
  github.com/hyperledger/fabric/vendor/github.com/spf13/viper.(*Viper).Get()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/github.com/spf13/viper/viper.go:404 +0x108
  github.com/hyperledger/fabric/vendor/github.com/spf13/viper.(*Viper).GetBool()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/github.com/spf13/viper/viper.go:457 +0x4c
  github.com/hyperledger/fabric/vendor/github.com/spf13/viper.GetBool()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/github.com/spf13/viper/viper.go:455 +0x5e
  github.com/hyperledger/fabric/common/metrics.NewOpts()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/common/metrics/server.go:39 +0x96
  github.com/hyperledger/fabric/common/metrics.TestNewOptsDefaultVar()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/common/metrics/server_test.go:219 +0x55
  testing.tRunner()
      /usr/local/Cellar/go/1.11/libexec/src/testing/testing.go:827 +0x162

Previous write at 0x00c0000ab330 by goroutine 19:
  github.com/hyperledger/fabric/common/metrics.setupTestConfig()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/github.com/spf13/viper/viper.go:686 +0x1bc
  github.com/hyperledger/fabric/common/metrics.TestNewOpts()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/common/metrics/server_test.go:198 +0x78
  testing.tRunner()
      /usr/local/Cellar/go/1.11/libexec/src/testing/testing.go:827 +0x162
{code}",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzsvj:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"28/Sep/18 2:00 AM;sykesm; https://gerrit.hyperledger.org/r/26641 [FAB-12200] address data races in metrics;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Chaincode Node - prepare for 1.1.3,FAB-12201,34150,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,harrisob@us.ibm.com,harrisob@us.ibm.com,harrisob@us.ibm.com,27/Sep/18 11:11 PM,28/Sep/18 12:54 AM,28/Oct/23 3:04 AM,28/Sep/18 12:54 AM,,,,,,v1.1.3,,,,,,,,,0,,,,,,"modified: CHANGELOG.md
modified: src/package.json
modified: fabric-shim-crypto/package.json
modified: package.json
new file: release_notes/v1.1.3.txt",,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzsvr:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"28/Sep/18 12:54 AM;harrisob@us.ibm.com;https://gerrit.hyperledger.org/r/#/c/26637/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
PTE Query AllPeers option does not count all the queries or validate all responses received,FAB-12202,34152,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,dongming,rlalgowdar,rlalgowdar,27/Sep/18 11:52 PM,03/Oct/18 6:17 AM,28/Oct/23 3:04 AM,01/Oct/18 10:38 PM,v1.3.0,,,,,,,,,,fabric-quality,,,,0,,,,,,"For Side DBTests, we are trying {color:#172b4d}new TC similar to 10135, with variation use 3rd org (2 peers, both joined channel, but org3 NOT part of private collection); send invokes to Org1/Org2 peers, then query ALL peers. {color}

{color:#172b4d}Query json{color}

{color:#172b4d}{{color}
{color:#172b4d} ""channelID"": ""_ch1"",{color}
{color:#172b4d} ""chaincodeID"": ""marbles02_private_go"",{color}
{color:#172b4d} ""chaincodeVer"": ""v0"",{color}
{color:#172b4d} ""logLevel"": ""ERROR"",{color}
{color:#172b4d} ""invokeCheck"": ""TRUE"",{color}
{color:#172b4d} ""transMode"": ""Constant"",{color}
{color:#172b4d} ""transType"": ""Invoke"",{color}
{color:#172b4d} ""invokeType"": ""Query"",{color}
{color:#172b4d} ""targetPeers"": ""AllPeers"",{color}
{color:#172b4d} ""nProcPerOrg"": ""2"",{color}
{color:#172b4d} ""nRequest"": ""1000"",{color}
{color:#172b4d} ""runDur"": ""1200"",{color}
{color:#172b4d} ""TLS"": ""enabled"",{color}
{color:#172b4d} ""channelOpt"": {{color}
{color:#172b4d} ""name"": ""testorgschannel1"",{color}
{color:#172b4d} ""action"": ""create"",{color}
{color:#172b4d} ""orgName"": [{color}
{color:#172b4d} ""org1"",{color}
{color:#172b4d} ""org2"",{color}
{color:#172b4d} ""org3""{color}
{color:#172b4d} ]{color}

{color:#172b4d}The issue is with option All Peers, the PTE uses ORGName+Peer+threadname to query 1000 records for each thread{color}

{color:#172b4d}^[[32minfo^[[39m: [PTE 1 main]: Child proc exited, procId=6 ,exit code=0
^[[32minfo^[[39m: [PTE 1 main]: Test Summary[0]: [Nid:chan:org:id=0:testorgschannel1:org3:0 invoke_query_const] pte-exec:completed 1000 transaction INVOKE(QUERY) with 1000 failures in 708229 ms, timestamp: start 1538048696265 end 1538049404494,Throughput=0 TPS
^[[32minfo^[[39m: [PTE 1 main]: Test Summary[1]: [Nid:chan:org:id=0:testorgschannel1:org3:1 invoke_query_const] pte-exec:completed 1000 transaction INVOKE(QUERY) with 1000 failures in 713769 ms, timestamp: start 1538048696267 end 1538049410036,Throughput=0 TPS
^[[32minfo^[[39m: [PTE 1 main]: Test Summary[2]: [Nid:chan:org:id=0:testorgschannel1:org2:0 invoke_query_const] pte-exec:completed 1000 transaction INVOKE(QUERY) with 0 failures in 736445 ms, timestamp: start 1538048696274 end 1538049432719,Throughput=1.36 TPS
^[[32minfo^[[39m: [PTE 1 main]: Test Summary[3]: [Nid:chan:org:id=0:testorgschannel1:org1:0 invoke_query_const] pte-exec:completed 1000 transaction INVOKE(QUERY) with 0 failures in 738438 ms, timestamp: start 1538048696276 end 1538049434714,Throughput=1.35 TPS
^[[32minfo^[[39m: [PTE 1 main]: Test Summary[4]: [Nid:chan:org:id=0:testorgschannel1:org1:1 invoke_query_const] pte-exec:completed 1000 transaction INVOKE(QUERY) with 0 failures in 738554 ms, timestamp: start 1538048696280 end 1538049434834,Throughput=1.35 TPS
^[[32minfo^[[39m: [PTE 1 main]: Test Summary[5]: [Nid:chan:org:id=0:testorgschannel1:org2:1 invoke_query_const] pte-exec:completed 1000 transaction INVOKE(QUERY) with 0 failures in 738914 ms, timestamp: start 1538048696266 end 1538049435180,Throughput=1.35 TPS
^[[32minfo^[[39m: [PTE 1 main]: Test Summary: Total 6 Threads run completed{color}

 

{color:#172b4d}Issue 1: The ORG3 queries fail with PTE sending with IDs with ORG3 which are not inserted during invokes{color}

{color:#172b4d}info: [PTE 1 main]: stdout: info: [PTE 1 exec]: [Nid:chan:org:id=0:testorgschannel1:org3:0 invoke_query_const] query return: Error: \{""Error"":""Marble private details does not exist: marble_testorgschannel1_org3_0_0_13""}
info: [PTE 1 exec]: [Nid:chan:org:id=0:testorgschannel1:org3:0 invoke_query_const] query return: Error: \{""Error"":""Marble private details does not exist: marble_testorgschannel1_org3_0_0_13""}{color}

{color:#172b4d}Issue 2: Provide a way to Query ORG3 with Ids for ORG1/ORG2.{color}

 

 

 

 

 

 

 

 ",,dongming,rlalgowdar,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-10135,,,,,,,,,,,,,,,,,dongming,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-2247,,,No,,Unset,No,,,"1|hzzsvz:",,,,Unset,Unset,,,"set targetPeers=ALLPEERS and run queries after a test with invokes; e.g. FAB-10135 as modified in v1.3",,Unset,,,,,,Unset,,Unset,,(Please add usage information),dongming,rlalgowdar,scottz,,,,,,,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,,,,,,true,"28/Sep/18 1:36 AM;scottz;To clarify: in the case described with 3 orgs each with 2 peers, when using query option targetpeers=allpeers, after two threads each sent 1000 invokes, we expect to see a total of 12000 queries. For every invoke sent to org1.peer1, we should see that same transaction queried from all 6 peers.

What we see is only 6000 queries total. It looks like PTE generates new TX queries from six threads (including two on org3, which of course will not exist). And PTE fails to query ALL the peers in ALL orgs for the existing transactions.;;;","28/Sep/18 4:09 AM;scottz;After discussing with Dongming, it seems that we should remove the ""org3"" from the orgName list in the pte config data shown in this description (taken from latest version of fab-10135). That would eliminate the queries for keys with ""org3""in the name, which means we would see only 4000 queries (nRequest * (2 procPerOrg X len([org1,org2]))). We only sent 4 threads of invokes, so we should send the same queries. The setting of targetPeers=Allpeers will cause the PTE to tell SDK to send EACH TRANSACTION to all 6 peers. So in fact, the SDK would send 6 X 4000 queries. HOWEVER, the way the code is written in PTE and SDK, this means that for each transaction the PTE would count 1 sent, even though the SDK would send out 6, BUT the SDK responds with ACK/Received after receiving only one response from any one of the 6 peers. So it is something useful to a realworld network and is useful for measuring faster TPS, but it not really the ""guarantee to me that every peer received the transaction"" functionality we are hoping for in this test. We have a couple ideas on how to proceed and are researching best approach.

For full automation, we will need the PTE enhancement and then probably tweak the testcase settings somehow. However I believe we can reach a satisfactory answer with what we have collected already. As for the test results that you collected already: we can ignore the errors in all the peers logs that contain the ""org3"" string (all of which lead to the 2000 ""TX not received""); they will disappear when you remove ""org3"" from the orgName list. Rajesh, check all your peer logs for any OTHER errors (look for keys using org1 or org2, after ""grep -v"" all the org3 error logs); all peers should have received queries for all those keys, and hopefully all the peers found all the keys in their ledgers and responded successfully without error. PTE did not count them, but at least we can see if any peer encountered an error looking for any of those keys. That will allow us to come to a final determination of pass/fail for this v1.3 sidedb testcase 10135, using the logs and the data you have collected already. ;;;","28/Sep/18 7:45 PM;rlalgowdar; 

ORG3 peers do get errors for QUERY now with ORG1 and ORG2 is target List:

""transType"": ""Invoke"",
 ""invokeType"": ""Query"",
 ""targetPeers"": ""AllPeers"",
 ""nProcPerOrg"": ""2"",
 ""nRequest"": ""1000"",
 ""runDur"": ""1200"",
 ""TLS"": ""enabled"",
 ""channelOpt"": {
 ""name"": ""testorgschannel1"",
 ""action"": ""create"",
 ""orgName"": [
 ""org1"",
 ""org2""
 ]
 },

 

ORG3 peer log:

2018-09-28 10:05:43.320 UTC [chaincode] HandleTransaction -> ERRO 2629 [0f3855fd] Failed to handle GET_STATE. error: private data matching public hash version is not available. Public hash version = &version.Height\{BlockNum:0xac, TxNum:0x9}, Private data version = (*version.Height)(nil)
github.com/hyperledger/fabric/core/chaincode.(*Handler).HandleGetState
 /opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/handler.go:580

Total number of errors:

ibmadmin@SDBPTE2:~$ docker logs peer0.org3.example.com 2>&1 | grep -ai ""Failed to handle GET_STATE"" | wc -l
4000
ibmadmin@SDBPTE2:~$ docker logs peer1.org3.example.com 2>&1 | grep -ai ""Failed to handle GET_STATE"" | wc -l
4000

 

The PTE Queries gets errors back but does not capture in ERROR stats. I guess Queries are satisfied by other peers.

info: [PTE 1 main]: stdout: info: [PTE 1 exec]: [Nid:chan:org:id=0:testorgschannel1:org2:1 invoke_query_const] query result: Error: \{""Error"":""Failed to get private details for marble_testorgschannel1_org2_0_1_1000: GET_STATE failed: transaction ID: 063de646bf4dfe51d503d23a8635e003a77bee7f2d65405f00ab4b960e6c55e7: private data matching public hash version is not available. Public hash version = &version.Height{BlockNum:0xaa, TxNum:0x17}, Private data version = (*version.Height)(nil)""}
info: [PTE 1 exec]: [Nid:chan:org:id=0:testorgschannel1:org2:1 invoke_query_const] query result: Error: {""Error"":""Failed to get private details for marble_testorgschannel1_org2_0_1_1000: GET_STATE failed: transaction ID: 063de646bf4dfe51d503d23a8635e003a77bee7f2d65405f00ab4b960e6c55e7: *private data matching public hash version is not available.* Public hash version = &version.Height\{BlockNum:0xaa, TxNum:0x17}, Private data version = (*version.Height)(nil)""}

info: [PTE 1 main]: stdout: info: [PTE 1 exec]: [Nid:chan:org:id=0:testorgschannel1:org2:1 invoke_query_const] pte-exec:*completed 1000 transaction INVOKE(QUERY) with 0 failures* in 925523 ms, timestamp: start 1538128224423 end 1538129149946,Throughput=1.08 TPS

info: [PTE 1 main]: Child proc exited, procId=4 ,exit code=0

 

Query Results:

info: [PTE 1 main]: Test Summary[0]: [Nid:chan:org:id=0:testorgschannel1:org1:0 invoke_query_const] pte-exec:completed 1000 transaction INVOKE(QUERY) with 0 failures in 915319 ms, timestamp: start 1538128224429 end 1538129139748,Throughput=1.09 TPS
info: [PTE 1 main]: Test Summary[1]: [Nid:chan:org:id=0:testorgschannel1:org2:0 invoke_query_const] pte-exec:completed 1000 transaction INVOKE(QUERY) with 0 failures in 921316 ms, timestamp: start 1538128224434 end 1538129145750,Throughput=1.09 TPS
info: [PTE 1 main]: Test Summary[2]: [Nid:chan:org:id=0:testorgschannel1:org1:1 invoke_query_const] pte-exec:completed 1000 transaction INVOKE(QUERY) with 0 failures in 923405 ms, timestamp: start 1538128224434 end 1538129147839,Throughput=1.08 TPS
info: [PTE 1 main]: Test Summary[3]: [Nid:chan:org:id=0:testorgschannel1:org2:1 invoke_query_const] pte-exec:completed 1000 transaction INVOKE(QUERY) with 0 failures in 925523 ms, timestamp: start 1538128224423 end 1538129149946,Throughput=1.08 TPS

 

 ;;;","29/Sep/18 3:00 AM;dongming;https://gerrit.hyperledger.org/r/#/c/26676/;;;","03/Oct/18 5:40 AM;scottz;[https://gerrit.hyperledger.org/r/#/c/26700/,] the query *failures* count was appended to this line in pteReport:

    CONSTANT QUERY Overall transactions: sent 2000 received 8000 *failures 1000*;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,
Wrong e-mail content,FAB-12203,34157,,Bug,Closed,FAB,Fabric,software,denyeart,,,Low,Invalid: Works as Expected,,mcreimer,mcreimer,28/Sep/18 12:01 AM,02/Oct/18 12:24 AM,28/Oct/23 3:04 AM,02/Oct/18 12:24 AM,,,,,,,,,,,,,,,0,,,,,," I noticed something that seems to be an error in a Fabric e-mail content.

When I created a channel, I received an e-mail asking for my approval. However, when the cannel was indeed created I received an e-mail with ""Channel Created"" as the title, but the e-mail body was identical to the first one (the one asking for approval).

This is a tricky situation, as the user can try to approve a channel already created. I´m sending you a picture attached of both e-mails for your better understanding",,denyeart,mcreimer,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"28/Sep/18 12:01 AM;mcreimer;fabric_emails.png;https://jira.hyperledger.org/secure/attachment/15883/fabric_emails.png",,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzsx3:",,,,Unset,Unset,,,Create a new channel and approve its creation,,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,mcreimer,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"28/Sep/18 12:30 AM;wlahti;Just a heads up that this appears to be an IBM Blockchain issue and not an issue with Fabric itself. I'd recommend opening a bug report with IBM. ;;;","28/Sep/18 12:35 AM;mcreimer;Hi Will,

I guess you´re right.

I´ll talk to IBM, and feel free to close this issue in case you´re sure it´s really not Fabric related

Thanks;;;","02/Oct/18 12:24 AM;denyeart;Closing - not a Fabric issue.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Peer panics during CouchDB stress test with concurrent queries and invokes ,FAB-12204,34159,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Invalid: Environment Issue,chris.elder,AdnanChoudhury,AdnanChoudhury,28/Sep/18 12:22 AM,16/Jan/20 5:37 AM,28/Oct/23 3:04 AM,16/Jan/20 5:37 AM,v1.3.0,,,,,v1.3.0,,,,,,,,,0,quality,stale-item,,,,"*Scenario*: 4 peer 2 org with CouchDB as state DB, 2 million records existing.

*Test*: start 2 million invokes and 2 million queries simultaneously.

*Expectation*: the network is able to complete the queries and invokes.

*Observed*: Peer panics with the following message:
{code:java}
^[[33m2018-09-27 04:38:25.616 UTC [couchdb] handleRequest -> WARN 14463^[[0m Retrying couchdb request in 250ms. Attempt:2  Error:Post http://couchdb0:5984/testorgschannel2_marbles02_go_ch2/_ensure_full_commit: net/http: request canceled (Client.Timeout exceeded while awaiting headers)
^[[33m2018-09-27 04:38:40.673 UTC [couchdb] handleRequest -> WARN 14464^[[0m Retrying couchdb request in 1s. Attempt:4  Error:Post http://couchdb0:5984/testorgschannel1_marbles02_go_ch1/_all_docs?include_docs=true: net/http: request canceled (Client.Timeout exceeded while awaiting headers)
panic: error during commit to txmgr: Post http://couchdb0:5984/testorgschannel1_marbles02_go_ch1/_all_docs?include_docs=true: net/http: request canceled (Client.Timeout exceeded while awaiting headers)

goroutine 604 [running]:
github.com/hyperledger/fabric/core/ledger/kvledger.(*kvLedger).CommitWithPvtData(0xc42271b9f0, 0xc423519a20, 0x0, 0x0)
        /opt/gopath/src/github.com/hyperledger/fabric/core/ledger/kvledger/kv_ledger.go:279 +0xae6
github.com/hyperledger/fabric/core/committer.(*LedgerCommitter).CommitWithPvtData(0xc4205d3aa0, 0xc423519a20, 0xc4226add40, 0x1b7)
        /opt/gopath/src/github.com/hyperledger/fabric/core/committer/committer_impl.go:93 +0x6b
github.com/hyperledger/fabric/gossip/privdata.(*coordinator).StoreBlock(0xc42260a210, 0xc420be7600, 0x0, 0x0, 0x0, 0xc4226ade78, 0x7657a0)
        /opt/gopath/src/github.com/hyperledger/fabric/gossip/privdata/coordinator.go:229 +0x1278
github.com/hyperledger/fabric/gossip/state.(*GossipStateProviderImpl).commitBlock(0xc422c31180, 0xc420be7600, 0x0, 0x0, 0x0, 0x3, 0x0)
        /opt/gopath/src/github.com/hyperledger/fabric/gossip/state/state.go:771 +0x6c
github.com/hyperledger/fabric/gossip/state.(*GossipStateProviderImpl).deliverPayloads(0xc422c31180)
        /opt/gopath/src/github.com/hyperledger/fabric/gossip/state/state.go:558 +0x3e0
created by github.com/hyperledger/fabric/gossip/state.NewGossipStateProvider
        /opt/gopath/src/github.com/hyperledger/fabric/gossip/state/state.go:239 +0x699

{code}
Peer and CC logs added. Tested on 1.3-rc1 image.

 

Allow me to add some more test description:

Test script: [https://github.com/hyperledger/fabric-test/blob/master/tools/PTE/CITest/scenarios/FAB-8251.sh]

VLaunch machine, docker containers, with 2 Orgs, 2 peers each.

peer1.org1 - used for endorsements, two threads
peer2.org1
peer1.org2 - used for endorsements, two threads
peer2.org2

Test steps summary:
1. Send 1 million invokes, with no indexes, split among 4 concurrent threads
2. Place index files and
3. Start sending 1M invokes AND 2M 2-field rich queries, and then immediately
4. Upgrade (and build indexes) =====> both endorser peers panic approximately after 800 invokes!

 ",,AdnanChoudhury,chris.elder,denyeart,harsha544,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-8251,FAB-8252,,,,,,,,,,,,,,,FAB-17347,,,,,,,,,"28/Sep/18 1:30 AM;AdnanChoudhury;cclog-shortened.log;https://jira.hyperledger.org/secure/attachment/15887/cclog-shortened.log","28/Sep/18 1:30 AM;AdnanChoudhury;peerlog-shortened.log;https://jira.hyperledger.org/secure/attachment/15886/peerlog-shortened.log",,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzsxj:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),AdnanChoudhury,chris.elder,denyeart,harsha544,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"28/Sep/18 3:01 AM;denyeart;Peer panics because it is unable to commit to state database, which is the expected behavior when state database becomes unavailable.

This may simply be an issue of stressing CouchDB beyond what the test hardware can handle.  Please attach log from couchdb side as well.

Is it possible to ramp up the test progressively so that we can see if there is a gradual degradation of response time and commit time prior to the eventual panic.;;;","28/Sep/18 3:49 AM;AdnanChoudhury;[~denyeart] Agree the hardware can be an issue. Heere is the Couchlog (too big to attach here)
https://drive.google.com/file/d/1nnJj0I_1ftl6nCBoD7LwTWmMd6DSxAyZ/view?usp=sharing  ;;;","28/Sep/18 6:45 AM;AdnanChoudhury;[~denyeart] ramping up test progressively in the current hardware will take a long time. Takes ~4 hours to get 2 million records in. ;;;","02/Oct/18 6:28 PM;chris.elder;I reviewed the CouchDB logs.  It looks like things run normally until around timestamp 2018-09-27T01:30:31.195135Z.

Following this, GET and POST operations begin taking longer to execute.

Also, CouchDB starts to see ""wait"" states:

[info] 2018-09-27T04:10:47.989370Z nonode@nohost <0.201.0> -------- 11 clients waiting to open db shards/20000000-3fffffff/testorgschannel2_lscc.1537984595

Overall, I would say that this looks like the host is running out of resources.

Based on the wait state for shards, I would guess that it is running out of file handles.

 ;;;","03/Oct/18 2:39 AM;scottz;Here are some other test ideas. We should definintely do the first, to see if the test passes on K8S.

1. Run same test on IBP K8S multihost cluster. (This test passed this way in July in v1.2). If pass, then this confirms if the panic was due to a resource issue on the vlaunch with docker containers.

2. If desired, we could continue to debug on the vlaunch machine to determine the factors influencing the likely resource contention:

2.A. Modify original test: without step 2 or 4 (without the upgrade and index build); if panics, then confirms is a resource limitation: the vlaunch machine cannot support the traffic rate of invokes and un-indexed queries with such a large DB size. Else the index rebuild process is a factor.

2.B. Modify prev test 2A (assuming 2A passed): by doing step 2 and 4 BUT WAIT for it to complete, BEFORE starting the step3 traffic; if panics, then confirms the index rebuild process temporarily uses resources, interfering with the traffic. Else the rebuilt indexes allow the queries of a 1M+ database size to be faster so the traffic rate can be handled OK.;;;","16/Jan/20 5:37 AM;scottz;More cpu and memory resources alleviate the problem.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,
Data race exposed by orderer/consensus/solo/consensus TestOrdererBenchmarkSolo,FAB-12205,34165,,Bug,Closed,FAB,Fabric,software,denyeart,,,Low,Done,sykesm,sykesm,sykesm,28/Sep/18 2:44 AM,19/Nov/18 4:00 PM,28/Oct/23 3:04 AM,29/Sep/18 12:59 AM,,,,,,v1.4.0,,,,,fabric-ledger,fabric-orderer,,,0,race,,,,,"{code}
unit-tests_1  | ==================
unit-tests_1  | WARNING: DATA RACE
unit-tests_1  | Read at 0x00c420a35dd0 by goroutine 43:
unit-tests_1  |   github.com/hyperledger/fabric/common/ledger/blkstorage/fsblkstorage.(*fsBlockStore).RetrieveBlocks()
unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/ledger/blkstorage/fsblkstorage/blocks_itr.go:36 +0xab
unit-tests_1  |   github.com/hyperledger/fabric/common/ledger/blockledger/file.(*FileLedger).Iterator()
unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/ledger/blockledger/file/impl.go:90 +0x137
unit-tests_1  |   github.com/hyperledger/fabric/orderer/common/multichannel.(*ChainSupport).Iterator()
unit-tests_1  |       <autogenerated>:1 +0x82
unit-tests_1  |   github.com/hyperledger/fabric/common/deliver.(*Handler).deliverBlocks()
unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/deliver/deliver.go:227 +0x1447
unit-tests_1  |   github.com/hyperledger/fabric/common/deliver.(*Handler).Handle()
unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/deliver/deliver.go:153 +0x3b8
unit-tests_1  |   github.com/hyperledger/fabric/orderer/common/server.(*server).Deliver()
unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/orderer/common/server/server.go:182 +0x3af
unit-tests_1  |   github.com/hyperledger/fabric/orderer/common/performance.(*BenchmarkServer).CreateDeliverClient.func1()
unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/orderer/common/performance/server.go:174 +0x68
unit-tests_1  | 
unit-tests_1  | Previous write at 0x00c420a35dd0 by goroutine 45:
unit-tests_1  |   github.com/hyperledger/fabric/common/ledger/blkstorage/fsblkstorage.(*blockfileMgr).updateCheckpoint()
unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/ledger/blkstorage/fsblkstorage/blockfile_mgr.go:437 +0xdc
unit-tests_1  |   github.com/hyperledger/fabric/common/ledger/blkstorage/fsblkstorage.(*blockfileMgr).addBlock()
unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/ledger/blkstorage/fsblkstorage/blockfile_mgr.go:323 +0xada
unit-tests_1  |   github.com/hyperledger/fabric/common/ledger/blkstorage/fsblkstorage.(*fsBlockStore).AddBlock()
unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/ledger/blkstorage/fsblkstorage/fs_blockstore.go:43 +0x5c
unit-tests_1  |   github.com/hyperledger/fabric/common/ledger/blockledger/file.(*FileLedger).Append()
unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/ledger/blockledger/file/impl.go:109 +0x5c
unit-tests_1  |   github.com/hyperledger/fabric/orderer/common/multichannel.(*ChainSupport).Append()
unit-tests_1  |       <autogenerated>:1 +0x82
unit-tests_1  |   github.com/hyperledger/fabric/orderer/common/multichannel.(*BlockWriter).commitBlock()
unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/orderer/common/multichannel/blockwriter.go:169 +0xf6
unit-tests_1  |   github.com/hyperledger/fabric/orderer/common/multichannel.(*BlockWriter).WriteBlock.func1()
unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/orderer/common/multichannel/blockwriter.go:155 +0x86
unit-tests_1  | 
unit-tests_1  | Goroutine 43 (running) created at:
unit-tests_1  |   github.com/hyperledger/fabric/orderer/common/performance.(*BenchmarkServer).CreateDeliverClient()
unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/orderer/common/performance/server.go:173 +0x195
unit-tests_1  |   github.com/hyperledger/fabric/orderer/common/server.benchmarkOrderer.func1.1.1.1()
unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/orderer/common/server/benchmark_test.go:453 +0x50
unit-tests_1  | 
unit-tests_1  | Goroutine 45 (finished) created at:
unit-tests_1  |   github.com/hyperledger/fabric/orderer/common/multichannel.(*BlockWriter).WriteBlock()
unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/orderer/common/multichannel/blockwriter.go:153 +0xac
unit-tests_1  |   github.com/hyperledger/fabric/orderer/common/multichannel.(*ChainSupport).WriteBlock()
unit-tests_1  |       <autogenerated>:1 +0x83
unit-tests_1  |   github.com/hyperledger/fabric/orderer/consensus/solo.(*chain).main()
unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/orderer/consensus/solo/consensus.go:139 +0x998
unit-tests_1  | ==================
unit-tests_1  | ==================
unit-tests_1  | WARNING: DATA RACE
unit-tests_1  | Read at 0x00c420298cf8 by goroutine 43:
unit-tests_1  |   github.com/hyperledger/fabric/common/ledger/blkstorage/fsblkstorage.(*fsBlockStore).RetrieveBlocks()
unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/ledger/blkstorage/fsblkstorage/blocks_itr.go:36 +0xc1
unit-tests_1  |   github.com/hyperledger/fabric/common/ledger/blockledger/file.(*FileLedger).Iterator()
unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/ledger/blockledger/file/impl.go:90 +0x137
unit-tests_1  |   github.com/hyperledger/fabric/orderer/common/multichannel.(*ChainSupport).Iterator()
unit-tests_1  |       <autogenerated>:1 +0x82
unit-tests_1  |   github.com/hyperledger/fabric/common/deliver.(*Handler).deliverBlocks()
unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/deliver/deliver.go:227 +0x1447
unit-tests_1  |   github.com/hyperledger/fabric/common/deliver.(*Handler).Handle()
unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/deliver/deliver.go:153 +0x3b8
unit-tests_1  |   github.com/hyperledger/fabric/orderer/common/server.(*server).Deliver()
unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/orderer/common/server/server.go:182 +0x3af
unit-tests_1  |   github.com/hyperledger/fabric/orderer/common/performance.(*BenchmarkServer).CreateDeliverClient.func1()
unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/orderer/common/performance/server.go:174 +0x68
unit-tests_1  | 
unit-tests_1  | Previous write at 0x00c420298cf8 by goroutine 45:
unit-tests_1  |   github.com/hyperledger/fabric/common/ledger/blkstorage/fsblkstorage.(*blockfileMgr).addBlock()
unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/ledger/blkstorage/fsblkstorage/blockfile_mgr.go:298 +0x6ea
unit-tests_1  |   github.com/hyperledger/fabric/common/ledger/blkstorage/fsblkstorage.(*fsBlockStore).AddBlock()
unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/ledger/blkstorage/fsblkstorage/fs_blockstore.go:43 +0x5c
unit-tests_1  |   github.com/hyperledger/fabric/common/ledger/blockledger/file.(*FileLedger).Append()
unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/ledger/blockledger/file/impl.go:109 +0x5c
unit-tests_1  |   github.com/hyperledger/fabric/orderer/common/multichannel.(*ChainSupport).Append()
unit-tests_1  |       <autogenerated>:1 +0x82
unit-tests_1  |   github.com/hyperledger/fabric/orderer/common/multichannel.(*BlockWriter).commitBlock()
unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/orderer/common/multichannel/blockwriter.go:169 +0xf6
unit-tests_1  |   github.com/hyperledger/fabric/orderer/common/multichannel.(*BlockWriter).WriteBlock.func1()
unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/orderer/common/multichannel/blockwriter.go:155 +0x86
unit-tests_1  | 
unit-tests_1  | Goroutine 43 (running) created at:
unit-tests_1  |   github.com/hyperledger/fabric/orderer/common/performance.(*BenchmarkServer).CreateDeliverClient()
unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/orderer/common/performance/server.go:173 +0x195
unit-tests_1  |   github.com/hyperledger/fabric/orderer/common/server.benchmarkOrderer.func1.1.1.1()
unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/orderer/common/server/benchmark_test.go:453 +0x50
unit-tests_1  | 
unit-tests_1  | Goroutine 45 (finished) created at:
unit-tests_1  |   github.com/hyperledger/fabric/orderer/common/multichannel.(*BlockWriter).WriteBlock()
unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/orderer/common/multichannel/blockwriter.go:153 +0xac
unit-tests_1  |   github.com/hyperledger/fabric/orderer/common/multichannel.(*ChainSupport).WriteBlock()
unit-tests_1  |       <autogenerated>:1 +0x83
unit-tests_1  |   github.com/hyperledger/fabric/orderer/consensus/solo.(*chain).main()
unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/orderer/consensus/solo/consensus.go:139 +0x998
unit-tests_1  | ==================
{code}",,baohua,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzsxz:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),baohua,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"28/Sep/18 3:51 AM;sykesm;https://gerrit.hyperledger.org/r/26643 [FAB-12205] fix data race creating fs blocksItr;;;","28/Sep/18 11:14 AM;baohua;Will this be back-ported to v1.1, v1.2 and v1.3?;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Release Hyperledger Fabric v1.2.1,FAB-12206,34166,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,mastersingh24,mastersingh24,mastersingh24,28/Sep/18 3:20 AM,29/Sep/18 8:03 AM,28/Oct/23 3:04 AM,29/Sep/18 8:03 AM,,,,,,v1.2.1,,,,,,,,,0,,,,,,,,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzsy7:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,release-1.2,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Speedup discovery TestShuffle ,FAB-12209,34175,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,28/Sep/18 5:01 AM,28/Sep/18 10:42 PM,28/Oct/23 3:04 AM,28/Sep/18 10:42 PM,,,,,,,,,,,fabric-peer,,,,0,,,,,,"The test TestShuffle uses a slice of 1 million elements in order the shuffling to fail with a low probability.

This runs in 2 seconds without race detector, but - with race detector enabled it runs very very slow (20 seconds).

",,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzt07:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"28/Sep/18 5:14 AM;yacovm;https://gerrit.hyperledger.org/r/#/c/26645/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Link to previous versions of ""What's new""",FAB-12210,34176,,Documentation,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,joe-alewine,joe-alewine,joe-alewine,28/Sep/18 5:13 AM,23/Jan/20 7:29 AM,28/Oct/23 3:04 AM,23/Jan/20 7:29 AM,v1.3.0,,,,,v1.3.0,,,,,,,,,0,stale-item,,,,,"We should link to previous versions of ""What's new"" so that people can easily go back and find out what was new in each release.

So far, there's only v1.3 and v1.2, so this would amount to just pushing the link to v1.3. But this should also be taken as an action item for the future.",,joe-alewine,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzt0f:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),joe-alewine,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"28/Sep/18 5:16 AM;joe-alewine;[~markparz];;;","23/Jan/20 7:29 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add Error Handling to build script,FAB-12211,34177,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,tijohnson,tijohnson,tijohnson,28/Sep/18 5:25 AM,29/Nov/18 5:29 AM,28/Oct/23 3:04 AM,27/Nov/18 10:07 PM,,,,,,v1.4.0,,,,,,,,,0,,,,,,"The 'bootstrap' script (iscripts/bootstrap.sh) s called from numerous builds and it is lacking proper error handling. Proper error handling is necessary for any batch script used by Jenkins builds.

The command line parsing is pretty add-hoc. I will be defining  the command line arguments within this Ticket and once I have buy-in from a yet to be determined list.

Once buy-in is achieved I will implement, test & deploy

 ",,denyeart,nramesh,tijohnson,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-13009,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzt0n:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,nramesh,tijohnson,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"28/Nov/18 9:45 PM;denyeart;https://gerrit.hyperledger.org/r/#/c/27032/;;;","28/Nov/18 9:46 PM;denyeart;This CR broke the live download script. I've created a fix in FAB-13009.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update bootstrap.sh script in release-1.2 branch,FAB-12212,34179,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,rameshthoomu,rameshthoomu,28/Sep/18 8:24 AM,03/Oct/18 2:21 AM,28/Oct/23 3:04 AM,03/Oct/18 2:21 AM,,,,,,,,,,,,,,,0,,,,,,Update bootstrap.sh script in release-1.2 branch,,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzxelj:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,release-1.2,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"29/Sep/18 5:33 AM;rameshthoomu;https://gerrit.hyperledger.org/r/#/c/26650/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fix typos in cid/cid.go,FAB-12213,34181,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ping40,ping40,ping40,28/Sep/18 11:06 AM,30/Oct/18 11:29 PM,28/Oct/23 3:04 AM,30/Oct/18 11:29 PM,,,,,,v1.4.0,,,,,,,,,0,,,,,,,,ping40,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzt13:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ping40,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add an instruction to clean up old docker containers for marbles private data chaincode,FAB-12214,34182,,Documentation,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yuki-kon,yuki-kon,yuki-kon,28/Sep/18 11:11 AM,26/Oct/18 12:32 PM,28/Oct/23 3:04 AM,26/Oct/18 12:32 PM,v1.2.0,v1.3.0,,,,v1.3.0,,,,,fabric-docs,,,,0,,,,,,"Before going through a tutorial for private data, we need to clean up the environment.
According to the tutorial, “./byfn.sh down” is executed. http://hyperledger-fabric.readthedocs.io/en/latest/private_data_tutorial.html#start-the-network
 
When we retry the tutorial, “./byfn.sh down” can’t remove all related artifacts. Docker containers for marbles private data chaincode are not removed. 
To clean up the environment completely, the following commands are required.
 
{noformat}
$ docker rm -f $(docker ps -a | awk '($2 ~ /dev-peer.*.marblesp.*/) {print $1}')
$ docker rmi -f $(docker images | awk '($1 ~ /dev-peer.*.marblesp.*/) {print $3}')
{noformat}
",,yuki-kon,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzt1b:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),yuki-kon,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"29/Sep/18 1:47 AM;yuki-kon;CR is posted here. https://gerrit.hyperledger.org/r/#/c/26673/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[WYFA] transaction proposal request has an unnecessary parameter: chainId,FAB-12215,34183,,Bug,Closed,FAB,Fabric,software,denyeart,,,Low,Done,yuki-kon,yuki-kon,yuki-kon,28/Sep/18 11:15 AM,17/Mar/19 8:51 PM,28/Oct/23 3:04 AM,26/Oct/18 6:52 AM,v1.2.0,v1.3.0,,,,v1.4.0,,,,,fabric-samples,,,,0,,,,,,"A sample application (fabric-samples/fabcar/invoke.js) in Write Your First Application has an unnecessary parameter “chainId” in a transaction proposal request. Since a channel name is included in a channel object, it is not required in a request.
 
{noformat}
(snip)
                var request = {
                                //targets: let default to the peer assigned to the client
                                chaincodeId: 'fabcar',
                                fcn: '',
                                args: [''],
                                chainId: 'mychannel',
                                txId: tx_id
                };
 
                // send the transaction proposal to the peers
                return channel.sendTransactionProposal(request);
{noformat}
 
We need to remove the parameter ”chainId” from the code and the document.
",,denyeart,yuki-kon,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,"fabric-samples, edee6387f1d5bb80395db7be2800eb3156e41743",Unset,No,,,"1|hzzt1j:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,yuki-kon,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-6.11.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/tough-cookie-4.1.3,mergify/bp/release-2.2/pr-4374,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/grpc/grpc-js-1.8.17,dependabot/go_modules/high-throughput/application-go/google.golang.org/grpc-1.53.0,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/word-wrap-1.2.4,main,dependabot/go_modules/asset-transfer-basic/application-go/google.golang.org/grpc-1.53.0,mergify/bp/release-2.2/pr-3750,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/semver-6.3.1,release-2.5,release-2.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-and-fabric-network-7.2.4,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"29/Sep/18 2:43 AM;yuki-kon;CR for doc: [https://gerrit.hyperledger.org/r/#/c/26675/]

CR for sample: [https://gerrit.hyperledger.org/r/#/c/26674/];;;","02/Oct/18 1:32 AM;denyeart;Note that master is targeting v1.4.0 now.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
fabric-samples could be referencing wrong versions of node.js components,FAB-12216,34185,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Won't Do,,davidkel,davidkel,28/Sep/18 5:09 PM,29/Nov/18 4:56 PM,28/Oct/23 3:04 AM,29/Nov/18 4:56 PM,Future,v1.1.0,v1.2.0,v1.3.0,,,,,,,fabric-samples,,,,0,,,,,,"Due to a deployment issue here
FABCI-138
and also looking at the samples for node, there needs to be policy for addressing the correct versions of the fabric-shim, fabric-client and fabric-ca-client for each release branch as well as master.

The rules should be
1. Never use latest
2. Use unstable for the master branch only (requires FABCI-138 to be addressed as at the moment unstable does not guarantee it is from the master branch which is likely to break the samples in master)
3. All release branches should target a specific official release of fabric-shim, fabric-client, fabric-ca-client (eg for 1.2 it should specify 1.2.0 for shim, 1.2.2 from client and ca-client)
4. Release candidates will have to target the appropriate snapshot version of the components until they produce an official release then fabric-samples will need to be updated to reference those official release versions, or maybe there is a semver tag that can get the latest snapshot but if an officlal release is available it will get that instead, which could then be left for 3, something like `>=1.3.0-0 < 1.4.0` ?
",,davidkel,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzt1z:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),davidkel,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"01/Oct/18 11:36 PM;denyeart;[~davidkel]

As part of the release process we pin fabric-samples to the relevant node sdk and chaincode releases. 

For example see the v1.2 CR here:

[https://gerrit.hyperledger.org/r/#/c/25271/]

I assume that addresses the main concern here.  Please summarize remaining concerns.;;;","02/Oct/18 3:18 AM;davidkel;I was thinking about something to handle release candidates and beta's, and to also draw attention to how to use `unstable` and never use `latest`, and for this to be the right place to show a good working practice. unstable won't work at the moment due to it currently pointing to a 1.1 release of the shim as an example due to fabci-138 and will cause issues for any running or testing of the samples that are using `unstable`

For example the current release 1.3 branch of the samples has this
{code}
{
	""name"": ""chaincode_example02"",
	""version"": ""1.0.0"",
	""description"": ""chaincode_example02 chaincode implemented in node.js"",
	""engines"": {
		""node"": "">=8.4.0"",
		""npm"": "">=5.3.0""
	},
	""scripts"": { ""start"" : ""node chaincode_example02.js"" },
	""engine-strict"": true,
	""license"": ""Apache-2.0"",
	""dependencies"": {
		""fabric-shim"": ""unstable""
	}
}
{code};;;","29/Nov/18 7:06 AM;denyeart;Master samples use latest ""unstable"".
Release samples use the specific release. For example release-1.2 samples use ""~1.2.0"". This will pick up the latest 3rd digit module available from npm. I think that's as good as we're going to get it.

[~davidkel] I'll return for now, feel free to close or re-open with more specific suggestion.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Data race setting and resetting logger in kafka test,FAB-12217,34187,,Bug,Closed,FAB,Fabric,software,denyeart,,,Low,Done,sykesm,sykesm,sykesm,28/Sep/18 6:22 PM,19/Nov/18 2:09 PM,28/Oct/23 3:04 AM,29/Sep/18 1:00 AM,,,,,,v1.4.0,,,,,,,,,0,race,,,,,,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzt2f:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"28/Sep/18 6:36 PM;sykesm;https://gerrit.hyperledger.org/r/26658 [FAB-12217] fix data race in kafka logger test;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Data race when running peer node start tests,FAB-12218,34188,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,28/Sep/18 6:33 PM,19/Nov/18 2:08 PM,28/Oct/23 3:04 AM,29/Sep/18 1:00 AM,,,,,,v1.4.0,,,,,,,,,0,race,,,,,Race in between reading viper configuration and resetting it. Work around by reading the configuration before launching go routines.,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzt2n:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"28/Sep/18 6:36 PM;sykesm; https://gerrit.hyperledger.org/r/26659 [FAB-12218] cache config to avoid racing in test;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Rename all ""node"" samples to ""javascript""",FAB-12219,34190,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sstone1,sstone1,sstone1,28/Sep/18 6:51 PM,06/Aug/19 12:09 AM,28/Oct/23 3:04 AM,02/Aug/19 9:51 PM,,,,,,v2.0.0,,,,,fabric-samples,,,,0,,,,,,"All of the JavaScript samples in the fabric-samples repository are under a ""node"" directory. This is problematic for two reasons:

1) JavaScript is the name of the programming language, and Node.js is the runtime for JavaScript chaincode. Developers will be looking for a sample that uses the programming language of their choice, so ""javascript"" is the more appropriate name for this sample.

2) Work has been done (and is still going on) to deliver first class support for TypeScript chaincode. TypeScript is a language that must be transpiled (compiled) down into JavaScript, and then it can be run on the same Node.js runtime as JavaScript chaincode. The directory name ""node"" is therefore vague, as it could apply to JavaScript or TypeScript chaincode.

This user story will rename all of the ""node"" sample directories to ""javascript"", to reflect the programming language that is used and also open the door for TypeScript samples to be delivered under a ""typescript"" directory in future user stories.",,nicezic,sstone1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-11246,,,No,,Unset,No,,,"1|hzzt33:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),nicezic,sstone1,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-6.11.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/tough-cookie-4.1.3,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/semver-6.3.1,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/grpc/grpc-js-1.8.17,dependabot/go_modules/high-throughput/application-go/google.golang.org/grpc-1.53.0,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/word-wrap-1.2.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-and-fabric-network-7.2.4,dependabot/go_modules/asset-transfer-basic/application-go/google.golang.org/grpc-1.53.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"02/Oct/18 11:59 PM;sstone1;https://gerrit.hyperledger.org/r/c/26714/;;;","12/Oct/18 6:38 PM;sstone1;[~nicezic] why do you keep changing the status of my work item?;;;","15/Oct/18 9:35 AM;nicezic;Simon Stone Sorry. My Mistake.

I was first time in JIRA, and I was exploring Jira Things.

I was trying to rolling it back  to original state.

However still confusing about Jira usages.

Sorry again.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
SideDB - CouchDB Private Collections Test: Invoke and Query ORG not in collection,FAB-12220,34192,,Test Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,dongming,rlalgowdar,rlalgowdar,28/Sep/18 7:53 PM,19/Dec/18 8:05 AM,28/Oct/23 3:04 AM,29/Oct/18 8:46 PM,,,,,,v1.3.0,,,,,fabric-quality,,,,0,SystemTestcase,,,,,"+*Setup:*+ 
 Network Topology: 1 channel, 3 org, 2 peers per org, each peer with CouchDB container for stateDB, 4 kafka, 3 zookeepers, 2 orderers, 2 ca, TLS enabled, both org associate with all channels.
 Client Driver: PTE
 +*Test Steps:*+
 1) chaincode: each channel has one chancode, marbles02_private go chaincode, instantiated.

ORG1 and ORG2 in private collection policy and ORG3 not in collection policy.

2)transactions: 4 threads, each thread sends 1000 invokes concurrently with tx id from 1 to 1000

         thread 1 sends to org1 peer1 on channel 1
          thread 2 sends to org2 peer1 on channel 1
          thread 3 sends to org1 peer2 on channel 1
          thread 4 sends to org2 peer2 on channel 1

3) Concurrently, do

4000 invokes transactions (similar to previous step, using 4 threads each sending 1000 new invokes, starting with index 4000)
 4000 private data queries, on all peers in all orgs (similar to previous step, using 4 threads each sending 1000 queries)

The Queries sent to ORG3 should fail.

 

+*Result*+
 1)hardware setup
 2) RPS (request per second) achieved for queries
 3) CPU and memory usage for the Peers and CouchDB containers",,rlalgowdar,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-10135,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-10083,,,Manual,,,,,,"1|hzzt3b:",,,,,,,,,,,,,,,,Pass,"=====>  v1.4 Test Results:


=====>  v1.3 Test Results:

ORG3 peers do get errors for QUERY with ORG1 and ORG2 is target List:

""transType"": ""Invoke"",
""invokeType"": ""Query"",
""targetPeers"": ""AllPeers"",
""nProcPerOrg"": ""2"",
""nRequest"": ""1000"",
""runDur"": ""1200"",
""TLS"": ""enabled"",
""channelOpt"": {
""name"": ""testorgschannel1"",
""action"": ""create"",
""orgName"": [
""org1"",
""org2""
]
},

 

ORG3 peer log:

2018-09-28 10:05:43.320 UTC [chaincode] HandleTransaction -> ERRO 2629 [0f3855fd] Failed to handle GET_STATE. error: private data matching public hash version is not available. Public hash version = &version.Height{BlockNum:0xac, TxNum:0x9}, Private data version = (*version.Height)(nil)
github.com/hyperledger/fabric/core/chaincode.(*Handler).HandleGetState
/opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/handler.go:580

Total number of errors:

ibmadmin@SDBPTE2:~$ docker logs peer0.org3.example.com 2>&1 | grep -ai ""Failed to handle GET_STATE"" | wc -l
4000
ibmadmin@SDBPTE2:~$ docker logs peer1.org3.example.com 2>&1 | grep -ai ""Failed to handle GET_STATE"" | wc -l
4000

 

The PTE Queries gets errors shown in PTE logs:

info: [PTE 1 main]: stdout: info: [PTE 1 exec]: [Nid:chan:org:id=0:testorgschannel1:org2:1 invoke_query_const] query result: Error: {""Error"":""Failed to get private details for marble_testorgschannel1_org2_0_1_1000: GET_STATE failed: transaction ID: 063de646bf4dfe51d503d23a8635e003a77bee7f2d65405f00ab4b960e6c55e7: private data matching public hash version is not available. Public hash version = &version.Height{BlockNum:0xaa, TxNum:0x17}, Private data version = (*version.Height)(nil)""}
info: [PTE 1 exec]: [Nid:chan:org:id=0:testorgschannel1:org2:1 invoke_query_const] query result: Error: {""Error"":""Failed to get private details for marble_testorgschannel1_org2_0_1_1000: GET_STATE failed: transaction ID: 063de646bf4dfe51d503d23a8635e003a77bee7f2d65405f00ab4b960e6c55e7: private data matching public hash version is not available. Public hash version = &version.Height{BlockNum:0xaa, TxNum:0x17}, Private data version = (*version.Height)(nil)""}

info: [PTE 1 main]: stdout: info: [PTE 1 exec]: [Nid:chan:org:id=0:testorgschannel1:org2:1 invoke_query_const] pte-exec:completed 1000 transaction INVOKE(QUERY) with 0 failures in 925523 ms, timestamp: start 1538128224423 end 1538129149946,Throughput=1.08 TPS

info: [PTE 1 main]: Child proc exited, procId=4 ,exit code=0",System Test,,,rlalgowdar,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Validator/Committer refactor,FAB-12221,34196,,Epic,In Progress,FAB,Fabric,software,denyeart,,,High,,,ales,ales,28/Sep/18 8:56 PM,12/Aug/20 9:08 PM,28/Oct/23 3:04 AM,,,,,,,,,,,,fabric-peer,,,,5,hygiene,,,,,"This epic tracks the work to refactor the validator/committer components of a hyperledger fabric peer, to make it simpler, more maintainable, performant, and extensible to support various processing models.
h1. Design Goals
 * High throughput: the validation component should strive to make use of all the available computation resources.
 * Testability: it should be possible to unit-test the validator component without having to set up peer artifacts such as the ledger or the MSP.
 * Increase test coverage.
 * Create a validation pipeline: structuring the validation/committer pipeline as a set of processing elements connected in series has several advantages:
 ** It paves the way for low-latency validation if in the future processing of block n+1 may commence before processing of block n is complete (the benefits of this approach are described here [https://arxiv.org/abs/1808.08406])
 ** It keeps the code simpler: understanding, coding and testing a component (e.g. the component that does signature checking) doesn’t require understanding or changing another component
 ** It makes it easy to extend the validation logic by adding a new stage in the pipeline (e.g. a new component that filters transactions based on a new logic, or that handles a specific new type of transactions)
 * Avoid capability switches in the validation path: instead of performing capability checks inside the validation code, keep different validation logics, one for each release that modifies the validation logic in substantial ways. The right validation logic should be called based on the channel capabilities. This should go beyond what was done for FAB-11552.
 * Minimize unmarshalling: the current validation component repeatedly performs unmarshalling to extract the same fields. Fields relevant for validation should be unmarshalled only once as part of the input validation step.
 * Avoid complex synchronization if possible: state-based endorsement requires synchronization mechanisms to detect dependencies and ensure the correct validation scheduling; we should attempt to only parallelize tasks that are not constrained by dependencies such as signature verification, while performing others sequentially. It’s a matter of balancing performance with correctness.
 * Plan for the hooks for enhanced concurrency control (FAB-10711): enhanced concurrency control requires the ability to further mutate the read-write set of a transaction based on the richer set of operations requested at chaincode-simulation time. We should plan for a step in the validation/committing pipeline where such a hook may be enabled.

 

Latest detailed design thoughts and additional background can be found here:

[https://docs.google.com/document/d/1BBVA8u-GJ99ZYRT015PAnMVK4_pKv53Y-kiP9lZX8Gc/edit]

 ",,ales,C0rWin,caod,cgorenflo,guoger,huxd,iamksseo2,incarose,jorgego,knagware9,logannwu,MHBauer,MichaelWang,muralisr,ping40,robmurgai,seokm0,sheehan,TiantianGao,tlee38,troyronda,xixuejia,xuqiang,ymlbright,yoheiueda,,,,,,,,,,FAB-8792,,,,FAB-10711,FAB-12600,,,,,,FAB-15865,,,,,,,,,,,,FAB-14513,FAB-8624,FAB-12280,FAB-12279,FAB-11737,FAB-14645,,,,,,,,,,,,,,,,,Validation refactoring design is available,https://docs.google.com/document/d/1BBVA8u-GJ99ZYRT015PAnMVK4_pKv53Y-kiP9lZX8Gc/edit,Reviewed,Unset,Not Required,ghx-label-6,,Validator/Committer refactor,To Do,No,,Required,No,,,"1|hzzt3r:",,,,No,Not Required,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ales,C0rWin,caod,cgorenflo,guoger,huxd,iamksseo2,incarose,jorgego,knagware9,logannwu,MHBauer,MichaelWang,muralisr,ping40,robmurgai,seokm0,sheehan,TiantianGao,tlee38,troyronda,xixuejia,xuqiang,ymlbright,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"28/Sep/18 8:57 PM;ales;[~elli-androulaki], [~angelo.decaro], [~mne], [~manish-sethi], [~denyeart], [~jyellick], [~sykesm];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
There are duplicate words in the document.,FAB-12222,34200,,Documentation,Closed,FAB,Fabric,software,denyeart,,,Lowest,Invalid,Specia1,Specia1,Specia1,28/Sep/18 9:42 PM,04/Jul/19 4:46 PM,28/Oct/23 3:04 AM,04/Jul/19 4:46 PM,,,,,,,,,,,,,,,0,,,,,,"h1. Blockchain network

[https://hyperledger-fabric.readthedocs.io/en/master/network/network.html]

a a -> a
{quote}CA4 plays a a key role in our network because it dispenses X.509 certificates that can be used to identify components as belonging to organization R4. 
{quote}
->
{quote}CA4 plays a key role in our network because it dispenses X.509 certificates that can be used to identify components as belonging to organization R4. 
{quote}",,Specia1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzt3z:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),Specia1,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.3,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Enable race detector for all packages except for gossip,FAB-12224,34202,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,sykesm,sykesm,28/Sep/18 10:02 PM,19/Nov/18 2:07 PM,28/Oct/23 3:04 AM,29/Sep/18 1:31 AM,,,,,,v1.4.0,,,,,,,,,0,,,,,,,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzt4f:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Instantiate failed ,FAB-12225,34203,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,ales,aspring,aspring,28/Sep/18 10:04 PM,11/Nov/18 6:34 PM,28/Oct/23 3:04 AM,11/Nov/18 6:34 PM,v1.1.0,,,,,,,,,,,,,,0,,,,,,"I'm trying the following sample Fabric application from IBM on my Ubuntu 18.04 VM

[https://github.com/IBM/SecuringArt-using-Blockchain-DigitalCertificates]
it bombed out at the chaincode ""instantiate"" stage,
 
The ""instantiate"" of chaincode is being called via curl like below:
{quote}curl -s -X POST \
  [http://localhost:4000/channels/mychannel/chaincodes] \
  -H ""authorization: Bearer $ORG1_TOKEN"" \
  -H ""content-type: application/json"" \
  -d ""{
        \""chaincodeName\"":\""mycc\"",
        \""chaincodeVersion\"":\""v0\"",
        \""chaincodeType\"": \""$LANGUAGE\"",
        \""args\"":[\""a\"",\""100\"",\""b\"",\""200\""]{quote}
 
The ""docker logs -f [orderer.example.com|http://orderer.example.com/]"" indicated the following:
""
0xc420d30440 identity 0 does not satisfy principal: the identity is a
member of a different MSP (expected Org1MSP, got Org2MSP)
2018-09-27 13:54:19.528 UTC [cauthdsl] func2 -> DEBU 402 0xc420d30440
principal evaluation fails
"" 
What caused this problem and how to fix it?
 
Thanks.
 
 
 ",,aspring,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzt4n:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),aspring,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As a Fabric user, I want my etcd/raft-based ordering service to order normal blocks faster",FAB-12226,34204,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,adarshsaraf123,adarshsaraf123,adarshsaraf123,28/Sep/18 10:12 PM,16/Jan/19 8:07 AM,28/Oct/23 3:04 AM,10/Dec/18 10:23 PM,,,,,,v2.0.0,,,,,fabric-orderer,,,,0,raft,,,,,This is where we ensure that the {{etcd/raft Chain}} maintains its own optimistic chain of blocks to be consented upon to pipeline the creation of (normal) blocks. Remember that ordering a Raft config message or a config block is a blocking operation -- no other blocks can ordered until these messages have been replicated by the cluster. Normal blocks can be ordered in a pipelined manner. See notes in C.II.5.,,adarshsaraf123,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-6135,,,No,,Unset,No,,,"1|i000tr:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),adarshsaraf123,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Adjust contract namespace syntax,FAB-12227,34205,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,mbwhite,mbwhite,mbwhite,28/Sep/18 10:39 PM,30/Aug/19 1:38 AM,28/Oct/23 3:04 AM,30/Aug/19 1:38 AM,,,,,,,,,,,,,,,0,,,,,,"Adjust the namespace/function to be separate by a :  rather than by an additional .

 

SDK changing in 

https://jira.hyperledger.org/browse/FABN-940",,mbwhite,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzt53:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),mbwhite,,,,,,,,,,,,,,,,,,,,,,,,,,release-2.4,purge-pd,main-emeritius,main,correct-nodeenv-version,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"28/Sep/18 10:42 PM;mbwhite;[https://gerrit.hyperledger.org/r/26669]

 ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Decouple CreateNextBlock and WriteBlock,FAB-12228,34207,34204,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid,adarshsaraf123,adarshsaraf123,adarshsaraf123,28/Sep/18 10:46 PM,18/Oct/18 2:48 PM,28/Oct/23 3:04 AM,18/Oct/18 2:48 PM,,,,,,,,,,,,,,,0,,,,,,"Currently, we require that {{WriteBlock}} be called post a call to {{CreateNextBlock}} before the next call to {{CreateNextBlock}}. It was okay to do so for Kafka and solo since the OSN(s) were creating and writing the blocks individually. However, for the cluster-based orderers, this is not efficient since {{WriteBlock}} can only be called once consensus on the created block is achieved. For efficiency, the leader should be able to create multiple blocks without having to wait for consensus on each such block. Of course, if can so happen, for example upon a leader change, that these created blocks will have to be discarded. However, it is intuitive that a leader would potentially create more than one block before the next round of election, and the decoupling would therefore help improve performance.

To achieve this decoupling, we maintain a queue of created blocks that are in-flight, i.e., consensus on these blocks has not yet been reached. Newer blocks are created on this queue. Every time a block is written, we verify that this block is indeed the one that was created first in the queue of in-flight blocks. If so then the queue continues to be valid and we pop the earliest block from this queue since it is no longer in-flight. Else, the written block is diverging from the chain of in-flight blocks and all these in-flight blocks will have to be discarded.

Thus, at any time, the queue is either empty and we create newer blocks on top of the last written block, or the queue is non-empty and we continue to create blocks on top of this queue. The queue is reset every time a diverging block is written. In golang, we simulate this queue using channels.",,adarshsaraf123,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzt5j:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),adarshsaraf123,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"28/Sep/18 10:55 PM;adarshsaraf123;https://gerrit.hyperledger.org/r/#/c/26670/;;;","10/Oct/18 6:03 AM;kchristidis;(*Great* write-up, thank you so much for this.);;;","18/Oct/18 2:48 PM;adarshsaraf123;This is no longer the requirement. Based on further discussions we have come to the conclusion that we would like the consensus method to decide how it would like to create blocks (an optimistic chain of blocks to be consented upon or multiple candidate chains, etc.).
In this regard, we leave the {{blockwriter}} untouched so that it can continue to be used with the solo and kafka orderers.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
e2e_cli tests are failing as 'Service Unavailable' in <master> branch,FAB-12229,34210,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,jyellick,sambhavdutt,sambhavdutt,29/Sep/18 1:17 AM,19/Mar/19 8:13 PM,28/Oct/23 3:04 AM,02/Oct/18 10:17 PM,v1.4.0,,,,,v1.4.0,,,,,fabric-build,,,,0,ci-failure,,,,,"The fabric merge end to end tests are failing in CLI test,  Posting the errors obseved,

{code:java}
8D4DD7F64000F25E53F84B8131C6A4DB24AF3C57128FBD5382475507D2094A37 
10:08:55 2018-09-28 14:08:44.787 UTC [grpc] DialContext -> DEBU 047 parsed scheme: """"
10:08:55 2018-09-28 14:08:44.787 UTC [grpc] DialContext -> DEBU 048 scheme """" not registered, fallback to default scheme
10:08:55 2018-09-28 14:08:44.787 UTC [grpc] watcher -> DEBU 049 ccResolverWrapper: sending new addresses to cc: [{orderer.example.com:7050 0  <nil>}]
10:08:55 2018-09-28 14:08:44.787 UTC [grpc] switchBalancer -> DEBU 04a ClientConn switching balancer to ""pick_first""
10:08:55 2018-09-28 14:08:44.787 UTC [grpc] HandleSubConnStateChange -> DEBU 04b pickfirstBalancer: HandleSubConnStateChange: 0xc420575760, CONNECTING
10:08:55 2018-09-28 14:08:44.792 UTC [grpc] HandleSubConnStateChange -> DEBU 04c pickfirstBalancer: HandleSubConnStateChange: 0xc420575760, READY
10:08:55 Error: got unexpected status: SERVICE_UNAVAILABLE -- will not enqueue, consenter for this channel hasn't started yet
10:08:55 !!!!!!!!!!!!!!! Channel creation failed !!!!!!!!!!!!!!!!
10:08:55 ================== ERROR !!! FAILED to execute End-2-End Scenario ==================
10:08:55 
10:08:55 setting to default channel 'mychannel'
10:08:55 The CHANNEL_NAME variable is not set. Defaulting to a blank string.
10:08:55 The TIMEOUT variable is not set. Defaulting to a blank string.
10:08:56 Stopping orderer.example.com    ... 
{code}

*Build Logs*

https://jenkins.hyperledger.org/view/fabric/job/fabric-merge-end-2-end-x86_64/3346/consoleFull

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-merge-end-2-end-x86_64/3346/

",,denyeart,harsha544,jyellick,rameshthoomu,Ratnakar,sambhavdutt,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,b0dc46c52cff157a0fe7ef91950c3fe7146f19e2,Unset,No,,,"1|hzzt67:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,harsha544,jyellick,rameshthoomu,Ratnakar,sambhavdutt,scottz,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"29/Sep/18 5:22 AM;rameshthoomu;[~jyellick] if you get time could you please check this issue in master branch. This is consistently failing in fabric-merge e2e jobs. Below are the orderer and kafka logs.. I don't see any error in these logs.

https://jenkins.hyperledger.org/sandbox/job/fabric-merge-end-2-end-x86_64/1/artifact/gopath/src/github.com/hyperledger/fabric/examples/e2e_cli/CONTAINER.log

https://jenkins.hyperledger.org/sandbox/job/fabric-merge-end-2-end-x86_64/1/artifact/gopath/src/github.com/hyperledger/fabric/examples/e2e_cli/kafka0.log

 ;;;","01/Oct/18 1:37 AM;sambhavdutt;The e2e_cli tests are failing with the same error in the e2e CLI test daily.

{code:java}
2A26F2E0F3C204C6AD42FFCC44C8F210DEB7E6052EA0226772873815F607A8D2 
22:48:54 2018-09-29 02:48:43.404 UTC [grpc] DialContext -> DEBU 047 parsed scheme: """"
22:48:54 2018-09-29 02:48:43.404 UTC [grpc] DialContext -> DEBU 048 scheme """" not registered, fallback to default scheme
22:48:54 2018-09-29 02:48:43.404 UTC [grpc] watcher -> DEBU 049 ccResolverWrapper: sending new addresses to cc: [{orderer.example.com:7050 0  <nil>}]
22:48:54 2018-09-29 02:48:43.404 UTC [grpc] switchBalancer -> DEBU 04a ClientConn switching balancer to ""pick_first""
22:48:54 2018-09-29 02:48:43.404 UTC [grpc] HandleSubConnStateChange -> DEBU 04b pickfirstBalancer: HandleSubConnStateChange: 0xc4203e0c20, CONNECTING
22:48:54 2018-09-29 02:48:43.414 UTC [grpc] HandleSubConnStateChange -> DEBU 04c pickfirstBalancer: HandleSubConnStateChange: 0xc4203e0c20, READY
22:48:54 Error: got unexpected status: SERVICE_UNAVAILABLE -- will not enqueue, consenter for this channel hasn't started yet
22:48:54 !!!!!!!!!!!!!!! Channel creation failed !!!!!!!!!!!!!!!!
22:48:54 ================== ERROR !!! FAILED to execute End-2-End Scenario ==================
{code}

*Build Logs*

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-end-2-end-daily-master-x86_64/232/

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-end-2-end-daily-master-s390x/163/;;;","02/Oct/18 12:19 AM;jyellick;In review via: https://gerrit.hyperledger.org/r/26696;;;","02/Oct/18 8:23 PM;sambhavdutt;The fabric CLI tests have passed in the latest e2e jobs.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
msp cache tests use too many go routines,FAB-12230,34211,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,29/Sep/18 2:06 AM,02/Oct/18 4:02 AM,28/Oct/23 3:04 AM,02/Oct/18 4:02 AM,,,,,,v1.4.0,,,,,,,,,0,race,,,,,"{code}
unit-tests_1  | race: limit on 8192 simultaneously alive goroutines is exceeded, dying                                                                                 
unit-tests_1  | FAIL    github.com/hyperledger/fabric/msp/cache 1.637s
{code}

{{cache_test.go}} spawns _10000_ (!!!) go routines. That’s just seems unnecessary.",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12242,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzt6f:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"29/Sep/18 4:50 AM;sykesm;https://gerrit.hyperledger.org/r/26678;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Download javaenv container with rest of the binaries,FAB-12231,34215,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,C0rWin,C0rWin,C0rWin,29/Sep/18 5:43 AM,02/Oct/18 12:11 PM,28/Oct/23 3:04 AM,02/Oct/18 12:11 PM,,,,,,v1.3.0,,,,,fabric-peer,,,,0,,,,,,"Currently following tutorial from https://hyperledger-fabric.readthedocs.io/en/master/install.html, following script used to pull required docker images

{code}
dockerFabricPull() {
  local FABRIC_TAG=$1
  for IMAGES in peer orderer ccenv tools; do
      echo ""==> FABRIC IMAGE: $IMAGES""
      echo
      docker pull hyperledger/fabric-$IMAGES:$FABRIC_TAG
      docker tag hyperledger/fabric-$IMAGES:$FABRIC_TAG hyperledger/fabric-$IMAGES
  done
{code}

which misses {{javaenv}} container require for java chaincode.",,C0rWin,denyeart,sstone1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FABCJ-7,,,No,,Unset,No,,,"1|hzzt73:",,,,Unset,Unset,,,"Following Fabric tutorial of **Install Samples, Binaries and Docker Images**",,Unset,,,,,,Unset,,Unset,,(Please add usage information),C0rWin,denyeart,sstone1,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"29/Sep/18 5:52 AM;C0rWin;https://gerrit.hyperledger.org/r/26679;;;","29/Sep/18 6:00 AM;denyeart;I have mixed feelings on including javaenv as part of the default download, as it is not strictly required. I would expect majority of people would still use go chaincode or node chaincode, and for the people that want javaenv, it will either pull automatically at instantiate time or they could pull manually.

What do you think [~mastersingh24] [~ChristopherFerris] ?  

I believe [~sstone1] raised the request...;;;","01/Oct/18 5:58 PM;sstone1;[~denyeart] I'll add my 2c - if your first experience of Fabric as a Java developer is to get a timeout during instantiate whilst it pulls quite a large Java chaincode image from Docker Hub - that's a pretty bad experience when compared to waiting a bit longer for the download of all the images at Fabric ""install"" time. 

""I would expect majority of people would still use go chaincode or node chaincode""

I'm not sure I agree with this statement either - we will _potentially_ be opening up Fabric to the massive Java developer community, which could see a lot of people come and try Fabric for the first time, and then get disappointed as per the above.;;;","02/Oct/18 12:48 AM;denyeart;[~sstone1]

Ok, if we are seeing timeout at instantiate time, I agree we should pull javaenv in advance via bootstrap script. +2ed.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Leverage chainID for txvalidator instead of implementing chainExists method,FAB-12232,34216,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid,C0rWin,C0rWin,C0rWin,29/Sep/18 6:23 AM,15/May/19 9:51 PM,28/Oct/23 3:04 AM,15/May/19 9:51 PM,,,,,,Future,,,,,fabric-peer,,,,0,hygiene,,,,,"Currently there is {{chainExists}} method which was introduced in early versions

{code}
func (v *TxValidator) chainExists(chain string) bool {
	// TODO: implement this function!
	return true
}
{code}

which stubbed to always return {{true}} and this is actually fine as validator always intialized in context of committer which is bounded to one channel which is existing. Function aimed to be used during validation, while reading block header to ensure we are working with existing channel:

{code}
		channel := chdr.ChannelId
		logger.Debugf(""Transaction is for channel %s"", channel)

		if !v.chainExists(channel) {
			logger.Errorf(""Dropping transaction for non-existent channel %s"", channel)
			results <- &blockValidationResult{
				tIdx:           tIdx,
				validationCode: peer.TxValidationCode_TARGET_CHAIN_NOT_FOUND,
			}
			return
		}

{code}

In FAB-12030 as part of serviceability enhancement, txvalidator struct was extended with {{ChainID}} field

{code}
type TxValidator struct {
	ChainID string
	Support Support
	Vscc    vsccValidator
}
{code} 

As a consequence now we can just leverage this information while unpacking block header to check validator is operating on correct channel, i.e. basically following code could be cleaned up and refactored from:

{code}
		channel := chdr.ChannelId
		logger.Debugf(""Transaction is for channel %s"", channel)

		if !v.chainExists(channel) {
			logger.Errorf(""Dropping transaction for non-existent channel %s"", channel)
			results <- &blockValidationResult{
				tIdx:           tIdx,
				validationCode: peer.TxValidationCode_TARGET_CHAIN_NOT_FOUND,
			}
			return
		}
{code}

into

{code}
		channel := chdr.ChannelId
		logger.Debugf(""Transaction is for channel %s"", channel)

		if v.ChainID != channel {
			logger.Errorf(""Dropping transaction for non-expected channel %s"", channel)
			results <- &blockValidationResult{
				tIdx:           tIdx,
				validationCode: peer.TxValidationCode_TARGET_CHAIN_NOT_FOUND,
			}
			return
		}

{code}

eliminating the need of implementing {{chainExists}} function.",,C0rWin,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,No,Unset,,,,,No,,Unset,No,,,"1|hzzt7b:",,,,No,Unset,,,(Please add steps to reproduce),,No,,,,,,Unset,,Unset,,(Please add usage information),C0rWin,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/19 7:02 AM;denyeart;[~C0rWin] I've moved to Future for now, but please indicate if you think we need to target a specific release.;;;","15/May/19 9:51 PM;C0rWin;Since there is refactoring effort which involves txvalidator pieces is going on, this task is not longer relevant, since code will be changed and issue addressed.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"The document has some article issues about ""a actor""",FAB-12233,34219,,Documentation,Closed,FAB,Fabric,software,denyeart,,,Lowest,Done,Specia1,Specia1,Specia1,29/Sep/18 2:34 PM,30/Sep/18 12:08 AM,28/Oct/23 3:04 AM,30/Sep/18 12:08 AM,,,,,,v1.3.0,v1.4.0,,,,,,,,0,,,,,,"""a actor"" should be ""an actor""
h1. Membership

[https://hyperledger-fabric.readthedocs.io/en/master/membership/membership.html]

a actor -> an actor
{quote}It’s worth noting that just because *a actor* has the role of an administrator it doesn’t mean that they can administer particular resources!
{quote}
{quote}Even though an X.509 certificate has a {{ROLE}} attribute (specifying, for example, that *a actor* is an {{admin}}), this refers to *a actor*’s role within its organization rather than on the blockchain network.
{quote}
{quote}This is similar to the purpose of the {{OU}} attribute, which — if it has been defined — refers to *a actor*’s place in the organization.
{quote}
{quote}As a result, the administrator of an MSP, local or channel, can quickly revoke *a actor* or node from an organization by advertising the updated CRL of the CA the revoked certificate as issued by.
{quote}",,Specia1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzt7j:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),Specia1,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.3,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
There are duplicate words in the document,FAB-12234,34220,,Documentation,Closed,FAB,Fabric,software,denyeart,,,Lowest,Done,,Specia1,Specia1,29/Sep/18 6:28 PM,02/Aug/19 2:02 AM,28/Oct/23 3:04 AM,30/Sep/18 12:10 AM,,,,,,,,,,,,,,,0,,,,,,"h1. Channels

[https://hyperledger-fabric.readthedocs.io/en/master/channels.html]

more more -> more
{quote}See the Channel Configuration (configtx) section for *more more* details on the properties and proto structures of config transactions.
{quote}
h1. Glossary

[https://hyperledger-fabric.readthedocs.io/en/master/glossary.html]

are are -> are
{quote}The particular access rights of identities within an MSP are governed by policies which *are are* also agreed upon when the organization is joined to the network.
{quote}
 

 ",,Specia1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-1334,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzt7r:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),Specia1,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.3,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"""go test: -race and -msan"" are only supported on ""amd64"" not on ""s390x""",FAB-12236,34222,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,sykesm,rameshthoomu,rameshthoomu,30/Sep/18 7:36 AM,03/Oct/18 2:30 AM,28/Oct/23 3:04 AM,02/Oct/18 1:11 AM,v1.4.0,,,,,v1.4.0,,,,,fabric-build,,,,0,,,,,,"""go test: -race and -msan"" are only supported on amd64 not on s390x. See the below error log.

Build Log# https://jenkins.hyperledger.org/view/Daily/job/fabric-daily-s390x/318/console
{code:java}
00:04:32.785 couchdb | WARNING: no logs are available with the 'none' log driver
00:04:34.252 unit-tests_1 | experimental
00:04:34.253 unit-tests_1 | go test: -race and -msan are only supported on linux/amd64, freebsd/amd64, darwin/amd64 and windows/amd64
00:04:34.254 unit-tests_1
{code}",,denyeart,harsha544,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12240,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzt87:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,harsha544,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"30/Sep/18 7:42 AM;rameshthoomu;[~sykesm] https://gerrit.hyperledger.org/r/#/c/26469/ The change you pushed here is not supporting s390x builds.;;;","02/Oct/18 12:00 AM;denyeart;https://gerrit.hyperledger.org/r/#/c/26693/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove experimental tag and version info,FAB-12237,34227,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,mastersingh24,mastersingh24,mastersingh24,01/Oct/18 5:40 AM,08/Oct/18 11:54 PM,28/Oct/23 3:04 AM,08/Oct/18 11:54 PM,,,,,,v1.4.0,,,,,,,,,0,,,,,,,,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzt9b:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"08/Oct/18 8:59 PM;mastersingh24;https://gerrit.hyperledger.org/r/26845;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fix misspelling of “specifed” in several files,FAB-12238,34230,,Bug,Closed,FAB,Fabric,software,denyeart,,,Lowest,Done,tatsu-sato,tatsu-sato,tatsu-sato,01/Oct/18 5:01 PM,26/Oct/18 12:05 PM,28/Oct/23 3:04 AM,26/Oct/18 12:05 PM,v1.0.0,v1.1.0,v1.2.0,v1.3.0,,v1.4.0,,,,,fabric-docs,,,,0,,,,,,"On fabric project, the following files have misspelling of “specifed”

 - docs/wrappers/peer_chaincode_preamble.md

 - docs/source/commands/peerchaincode.md

 - core/chaincode/chaincodetest.yaml",,denyeart,tatsu-sato,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzt9r:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,tatsu-sato,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"02/Oct/18 1:04 AM;denyeart;Note that master branch will currently go into v1.4.0.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
The unit-tests is failing in the daily job fabric-daily-s390x as the platform(s390x/z) is not supported.,FAB-12240,34233,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,sambhavdutt,sambhavdutt,01/Oct/18 9:44 PM,19/Mar/19 8:12 PM,28/Oct/23 3:04 AM,03/Oct/18 2:31 AM,v1.4.0,,,,,v1.4.0,,,,,fabric-build,,,,0,ci-failure,,,,,"Observed this error in the very beginning of the unit-tests,

{code:java}
Creating couchdb ... done
Creating unittest_unit-tests_1 ... 
23:35:18 Creating unittest_unit-tests_1
23:35:19 
Creating unittest_unit-tests_1 ... done
Attaching to couchdb, unittest_unit-tests_1
23:35:19 couchdb       | WARNING: no logs are available with the 'none' log driver
23:35:20 unit-tests_1  | experimental
23:35:20 unit-tests_1  | go test: -race and -msan are only supported on linux/amd64, freebsd/amd64, darwin/amd64 and windows/amd64
23:35:20 unit-tests_1  | 
23:35:20 unit-tests_1  | real	0m0.017s
23:35:20 unit-tests_1  | user	0m0.007s
23:35:20 unit-tests_1  | sys	0m0.008s
23:35:20 unittest_unit-tests_1 exited with code 2
23:35:20 Stopping couchdb ... 
23:35:21 
Stopping couchdb ... done
Aborting on container exit...
{code}

*Build Log*

https://jenkins.hyperledger.org/view/Daily/job/fabric-daily-s390x/320/console

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-daily-s390x/320/",,C0rWin,denyeart,rameshthoomu,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12236,,,,,FAB-12242,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,e8842f3,Unset,No,,,"1|hzztaf:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),C0rWin,denyeart,rameshthoomu,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Only perform ""npm install"" at the beginning of test suite and not test cases",FAB-12241,34234,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ChandraLekhaChavva,latitiah,latitiah,01/Oct/18 10:06 PM,15/Dec/18 2:10 AM,28/Oct/23 3:04 AM,15/Dec/18 2:10 AM,,,,,,,,,,,,,,,0,,,,,,"The system behave tests perform a ""npm install"" every time the Node SDK is used. Time can be saved and consistency ensured by performing an ""npm install"" once at the beginning of the test suite, then whenever the Node SDK is used, the node_modules directory is already in place. 

Care must also be taken to ensure that the node_modules directory is not deleted at the end of each test run.

Performing this change will shave minutes off of the smoke and daily test runs.",,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzztan:",,,,Unset,Unset,,,(Please add steps to reproduce),1.0,Unset,,,,,,Unset,,Unset,,(Please add usage information),latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,,,,,,true,"15/Dec/18 2:10 AM;latitiah;https://gerrit.hyperledger.org/r/#/c/28160/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
fabric unit-tests failed on master branch,FAB-12242,34235,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,,rameshthoomu,rameshthoomu,01/Oct/18 10:07 PM,01/Oct/18 10:57 PM,28/Oct/23 3:04 AM,01/Oct/18 10:56 PM,v1.4.0,,,,,,,,,,,,,,0,,,,,,"fabric unit-tests are failed on master branch. Below is the log

fabric commit SHA# e8842f3dc605ac3fc3a6a3b7fbf574a6d441a6cf
{code:java}
00:15:40.829 unit-tests_1 | race: limit on 8192 simultaneously alive goroutines is exceeded, dying
00:15:40.830 unit-tests_1 | FAIL github.com/hyperledger/fabric/msp/cache 2.251s{code}
Jenkins Build Log#

[https://jenkins.hyperledger.org/view/Daily/job/fabric-unit-test-daily-master-x86_64/215/consoleFull]",,rameshthoomu,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12230,,,,,,,,FAB-12240,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzxelr:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rameshthoomu,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"01/Oct/18 10:37 PM;yacovm;https://gerrit.hyperledger.org/r/#/c/26678/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
PTE allows tls_cacerts to be either a path or certificate,FAB-12243,34236,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,dongming,dongming,dongming,01/Oct/18 10:38 PM,17/Oct/18 2:44 AM,28/Oct/23 3:04 AM,03/Oct/18 3:53 AM,,,,,,,,,,,fabric-quality,,,,0,,,,,,"PTE allows tls_cacerts to be either a path to the certs or the certs itself.  PTE will check if the tls_cacerts contains the keyword ""BEGIN CERTIFICATE""",,dongming,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-2247,,,No,,Unset,No,,,"1|hzztav:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),dongming,,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,release-1.1,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,release-1.2,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,,,,true,"01/Oct/18 11:54 PM;dongming;https://gerrit.hyperledger.org/r/#/c/26695/;;;","02/Oct/18 5:30 AM;dongming;release-1.1: [https://gerrit.hyperledger.org/r/#/c/26703/]

release-1.2: https://gerrit.hyperledger.org/r/#/c/26704/;;;","05/Oct/18 5:07 AM;dongming;https://gerrit.hyperledger.org/r/#/c/26804/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
fabric-test pte is failing ,FAB-12244,34237,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,,sambhavdutt,sambhavdutt,01/Oct/18 11:29 PM,02/Oct/18 8:16 PM,28/Oct/23 3:04 AM,02/Oct/18 8:16 PM,,,,,,,,,,,,,,,0,,,,,,"Error Message

CalledProcessError: Command 'grep -c ""Channel: all, tx Num: 40000,"" result_FAB-3832-4i.log' returned non-zero exit status 1

Creating peer1.org1.example.com ... #x1B[32mdone#x1B[0m
#x1B[1Bls: cannot access 'CITest/FAB-3832-4i/preconfig/channels/runCases*update*': No such file or directory
./get_peerStats.sh: line 107: transaction(s): syntax error in expression (error token is ""(s)"")",,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzztb3:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Invokes are failing with sidedb when ran with mix mode,FAB-12245,34238,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,dongming,suryalnvs,suryalnvs,01/Oct/18 11:35 PM,21/Dec/18 4:20 AM,28/Oct/23 3:04 AM,21/Dec/18 4:20 AM,,,,,,,,,,,fabric-quality,,,,0,quality,,,,,"When running FAB-12135 with mix mode, install and instantiating are good but when running invokes, seeing the following errors in peer logs
{code:java}
2018-10-01 02:42:21.413 UTC [endorser] ProcessProposal -> ERRO 269 [marblesprivchan][a3fdfb88] simulateProposal() resulted in chaincode name:""marbles_priv_ch1""  response status 500 for txid: a3fdfb88c6639193a7c4cf4e64fa67467b6cd9705b7b9fd2ccb2499545ba450e
2018-10-01 02:42:21.426 UTC [endorser] ProcessProposal -> ERRO 26a [marblesprivchan][56c6f6cb] simulateProposal() resulted in chaincode name:""marbles_priv_ch1""  response status 500 for txid: 56c6f6cbba2be3b218f502bee9c461df704681659919143a8830ad7035427c33
2018-10-01 02:42:21.445 UTC [endorser] ProcessProposal -> ERRO 26b [marblesprivchan][c544a982] simulateProposal() resulted in chaincode name:""marbles_priv_ch1""  response status 500 for txid: c544a98241e484746170aa78dcf06aeba941da4b0c657c8e148676b72f3f18ec
2018-10-01 02:42:21.483 UTC [endorser] ProcessProposal -> ERRO 26c [marblesprivchan][cdb8f362] simulateProposal() resulted in chaincode name:""marbles_priv_ch1""  response status 500 for txid: cdb8f362c81de5066af8017c8b98ece0df6bfc33c2eb09ac43519aef2b11da4b

{code}",,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-2247,,,No,,Unset,No,,,"1|hzztbb:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Separate user linkable golang code from fabric,FAB-12246,34239,,Epic,Backlog,FAB,Fabric,software,denyeart,,,Medium,,,sykesm,sykesm,01/Oct/18 11:36 PM,29/Feb/20 5:13 AM,28/Oct/23 3:04 AM,,v2.0.0,v2.1.0,,,,,,,,,,,,,0,hygiene,,,,,"The fabric repository is a messy collection of code that implements core services like the peer, orderer, and ledger but it also contains a fair amount of code that users writing in golang are linking into their chaincode and clients.

The fabric repository is not structured as a versioned, user consumable entity. We vendor the dependencies we need and lock them at levels we desire for our implementations. This is at odds with users that wish to use a subset of packages in their apps and chaincode with their own vendored dependencies.

The fabric repository, as an ad-hoc monolith, also has little enforcement of the separation between internal code and user consumable code. As such, many user consumable packages depend on (directly or transitively) internal details that, when changed, can fundamentally impact end users. (Logging library surfaced in the chaincode package, for example.)

Additionally, there are a both existing and missing capabilities which should be exposed as user-linkable packages/libraries.  Some of these capabilities are only exposed via binary tools (e.g. configtxgen, configtxlator) but really should be libraries which users can consume to build their own tools.  Additionally, these libraries should provide functions which today are only in scripts (e.g. add org to channel).

In order to resolve these issues, we need to add order to the chaos and separate and segregate user consumable golang libraries from the core fabric code. We can do this by moving all internal packages into an internal package namespace or by extracting the user libraries to separate repositories.

The favored approach would be to extract the libraries so we can begin to add good semantic version controls to the packages and reinforce that the API surface area for fabric are the grpc services we surface - not the code.

This is gaining new urgency given the number of CRs that have been showing up that wish to add new user-linkable functions to fabric including items like FAB-11246, FAB-11418, and FAB-11419.",,binhn,denyeart,MichaelWang,muralisr,rickr,sheehan,sykesm,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-13582,,,FAB-12031,FAB-5177,FAB-8841,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Required,Unset,Unset,ghx-label-12,,Extract User Code,To Do,No,,Unset,No,,,"1|hzztbj:",,,,Yes,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),binhn,denyeart,MichaelWang,muralisr,rickr,sheehan,sykesm,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"03/Dec/19 6:33 AM;denyeart;The chaincode portion of this work item was done in FAB-15732 for v2.0 - shim is moved into its own repository and users should vendor the shim in their chaincode.
 [~sykesm] Do you want to keep this one open for remaining items such as configuration libraries? Or close it and open specific work items for remaining items?;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Use message code taxonomy in log messages,FAB-12247,34243,,Story,Closed,FAB,Fabric,software,denyeart,,,High,Won't Do,,altharp,altharp,02/Oct/18 12:47 AM,23/Jan/20 7:32 AM,28/Oct/23 3:04 AM,23/Jan/20 7:32 AM,,,,,,Future,,,,,,,,,0,Serviceability,stale-item,,,,"There is a need to more easily locate specific log messages and know what potential actions to take based on the messages. Log messages should include a message code so that they can be uniquely identified. This will facilitate problem investigation and will make it easier to identify symptoms of certain types of problems that are often indicated by a certain set of log messages.

 

Following are suggestions for organizing message codes.
 * Identify all Hyperledger Fabric logical components and subcomponents and create a message code prefix for each logical component (or a grouping of smaller related subcomponents). This message code prefix could be a unique string of a short sequence of letters with a name that relates to the component.
 * For each component, define groups of the possible types of messages and reserve ranges of message codes for each type of message. For example, messages in one area could be assigned a range of 1-999 and messages in another area could be assigned a range of 1,000-1,999, etc. A reason for creating ranges is to allow for future addition of message codes.
 * Include within the code whether the message is informational, warning, error, etc. Current messages are prefixed with this information, but if a message code approach is adopted, then this information could be included within the message code.

 

For example, a message code could look something like ENDORSER00123I. This has the component (ENDORSER), a message code of 00123, and a suffix of `I` for an informational message.

 

A current message looks like this:

{{2018-08-23 07:05:42.789 UTC [kvledger] CommitWithPvtData -> INFO 115 [0m Channel [channel1]: Committed block [39236] with 1 transaction(s)}}

 

With a message code included, it would look something like this:

{{2018-08-23 07:05:42.789 UTC [kvledger] CommitWithPvtData -> KVLEDGER00115I [Channel [channel1]: Committed block [39236] with 1 transaction(s)}}",,altharp,C0rWin,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Yes,Unset,,,,,No,,Unset,No,,,"1|hzzuan:",,,,Yes,Unset,,,(Please add steps to reproduce),,Yes,,,,,,Unset,,Unset,,(Please add usage information),altharp,C0rWin,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 7:32 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Is channelID necessary in creating the ordererGenesis block?,FAB-12248,34247,,Bug,Closed,FAB,Fabric,software,denyeart,,,Low,Invalid: Works as Expected,,huikang,huikang,02/Oct/18 3:25 AM,28/Feb/19 11:29 AM,28/Oct/23 3:04 AM,03/Oct/18 4:24 AM,v1.3.0,,,,,,,,,,fabric-tools,,,,0,,,,,,"My understanding is that the orderer genesis block is the system channel. So is it necessary to have a channel ID for this block?

 
{quote}configtxgen -profile TwoOrgsOrdererGenesis -outputBlock ./channel-artifacts/genesis.block 

2018-10-01 18:21:23.927 UTC [common/tools/configtxgen] main -> WARN 001 Omitting the channel ID for configtxgen is deprecated.  Explicitly passing the channel ID will be required in the future, defaulting to 'testchainid'.
{quote}
 

I also found out that if the channelID is not specified. The name of the system channel will be _testchainid_, e.g.,

{{on system channel testchainid.}}",,denyeart,huikang,jyellick,siddjain,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzztcf:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,huikang,jyellick,siddjain,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"03/Oct/18 2:48 AM;denyeart;[~jyellick] could you comment?;;;","03/Oct/18 3:06 AM;jyellick;You must specify the ID of the orderer system channel when sending transactions to it to update the channel configuration (such as modifying a consortium definition).  Today, many of our sample simply omit the channel ID when creating the orderer system channel's genesis block, and therefore that channel is given a name of 'testchainid'.  This name is generally confusing, if anything, a default of 'orderer-system-channel' or similar would make sense.  However, I think it's probably generally better to force the user to pick a name for the orderer system channel rather than supply any sort of default, this is why that error message is emitted as we intend to disallow the default channelID in the future.;;;","03/Oct/18 4:24 AM;denyeart;Ok, not a bug, closing.;;;","28/Feb/19 10:05 AM;siddjain;would have been good to mention how to actually specify the channelID in configtx.yaml file;;;","28/Feb/19 11:29 AM;jyellick;Starting in v2.0, specifying a channel ID via configtxgen will be mandatory to help address this confusion.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,
PTE multi-cloud network scripts,FAB-12250,34249,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,dongming,dongming,dongming,02/Oct/18 3:34 AM,11/Oct/18 4:09 AM,28/Oct/23 3:04 AM,10/Oct/18 1:35 AM,,,,,,,,,,,fabric-quality,,,,0,,,,,,Develop an automated script to run PTE on multi-cloud network,,dongming,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-2247,,,No,,Unset,No,,,"1|hzztcv:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),dongming,,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,release-1.1,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,release-1.2,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,true,"06/Oct/18 2:44 AM;dongming;add priming: samplejs and marbles02: https://gerrit.hyperledger.org/r/#/c/26825/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Install go1.11 in packer image and load the image in x nodes,FAB-12251,34250,33232,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,rameshthoomu,rameshthoomu,02/Oct/18 4:03 AM,08/Oct/18 10:27 AM,28/Oct/23 3:04 AM,08/Oct/18 10:27 AM,,,,,,,,,,,fabric-ci,,,,0,,,,,,Update go1.11 version in packer image and load this image in x nodes.,,rameshthoomu,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzztd3:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rameshthoomu,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"02/Oct/18 4:16 AM;rameshthoomu;https://gerrit.hyperledger.org/r/#/c/26701/;;;","02/Oct/18 6:55 AM;rameshthoomu;go1.11 is updated in sandbox x nodes. Will push this to production nodes after basic tests.;;;","02/Oct/18 6:07 PM;sykesm;[~rameshthoomu] Part of the reason I was waiting on the fabric side was because go 1.11.1 was just around the corner. Looks like it's out today but not fully pushed out with release notes.;;;","02/Oct/18 10:50 PM;rameshthoomu;We have just installed go1.11 installed on x and z nodes so that patch will work on go1.11 when you push change to update go version to 1.11 in ci.properties file.;;;","08/Oct/18 10:27 AM;rameshthoomu;go 1.11.1 is installed on x and z nodes.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,
Install go1.11 in z nodes,FAB-12252,34251,33232,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,rameshthoomu,rameshthoomu,02/Oct/18 4:07 AM,02/Oct/18 11:13 AM,28/Oct/23 3:04 AM,02/Oct/18 11:13 AM,,,,,,,,,,,fabric-ci,,,,0,,,,,,Install go1.11 version z nodes,,harrijk,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzztdb:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),harrijk,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"02/Oct/18 7:16 AM;harrijk;I have installed Golang version 1.11 on all z nodes used for Jenkins.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add `latest` tagged thirdparty images to daily Behave tests.,FAB-12254,34253,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sambhavdutt,sambhavdutt,sambhavdutt,02/Oct/18 4:18 AM,19/Mar/19 8:13 PM,28/Oct/23 3:04 AM,03/Oct/18 4:06 AM,v1.3.0,,,,,v1.3.0,,,,,fabric-quality,,,,0,ci-failure,,,,,There are no `latest` tagged thirdparty images and the Behave tests are looking for the `latest` image which doesn't exist as the thirdparty images in the CI have a different tag. This change is to pull the thirdparty images and tag to `latest` to allow the normal testing in the Behave tests.,,latitiah,rameshthoomu,sambhavdutt,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzztdr:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),latitiah,rameshthoomu,sambhavdutt,scottz,,,,,,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,true,"02/Oct/18 7:04 AM;sambhavdutt;Behave test is triggered in Jenkins Sandbox now,  I will update if the intended tests are passing after this change,

https://jenkins.hyperledger.org/sandbox/job/fabric-test-daily-behave-master-x86_64/3/console;;;","03/Oct/18 4:06 AM;sambhavdutt;https://gerrit.hyperledger.org/r/#/c/26702/

This CR has been Merged and working as expected.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
New testify.Assert panics when tests pass a nil *testing.T,FAB-12255,34254,,Bug,Closed,FAB,Fabric,software,denyeart,,,Low,Done,sykesm,sykesm,sykesm,02/Oct/18 4:47 AM,19/Nov/18 2:07 PM,28/Oct/23 3:04 AM,19/Nov/18 2:07 PM,,,,,,v1.4.0,,,,,,,,,0,,,,,,"There are a handful of places where we do this - and I'm guessing it's not intentional.

This needs to happen before we can update some dependencies.",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzztdz:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fabric Sample - Balance Transfer: missing docker parameters,FAB-12257,34257,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,bravobardo,bravobardo,bravobardo,02/Oct/18 11:40 AM,04/Oct/18 8:09 AM,28/Oct/23 3:04 AM,04/Oct/18 8:09 AM,,,,,,v1.3.0,v1.4.0,,,,,,,,0,,,,,,"Hi,

Docker configuration file [https://github.com/hyperledger/fabric-samples/blob/release-1.2/balance-transfer/artifacts/docker-compose.yaml] does not have the proper gossip parameters that allow peer discover provided by Fabric 1.2

It leads to issues for Fabric applications that use discovery feature.

Regards,

Cláudio Ramos",,bravobardo,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzztef:",,,,Unset,Unset,,,"A example is the Hyperledger Explorer, which uses discovery to determine Admin peers. In Fabric 1.2 version, Explorer does not work for Balance Transfer sample.",,Unset,,,,,,Unset,,Unset,,(Please add usage information),bravobardo,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-6.11.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/tough-cookie-4.1.3,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/semver-6.3.1,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/grpc/grpc-js-1.8.17,dependabot/go_modules/high-throughput/application-go/google.golang.org/grpc-1.53.0,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/word-wrap-1.2.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-and-fabric-network-7.2.4,dependabot/go_modules/asset-transfer-basic/application-go/google.golang.org/grpc-1.53.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"04/Oct/18 6:28 AM;denyeart;master: https://gerrit.hyperledger.org/r/#/c/26739/

cherry picked to release-1.3: https://gerrit.hyperledger.org/r/#/c/26778/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
As token infrastructure developer (prover peer) I would like to recognise atomic swap proof computation requests and process them using a mock TMS transactor,FAB-12258,34258,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,KaoutarEL,elli-androulaki,elli-androulaki,02/Oct/18 6:17 PM,23/Jan/20 7:32 AM,28/Oct/23 3:04 AM,23/Jan/20 7:32 AM,,,,,,,,,,,fabric-crypto,,,,0,stale-item,,,,,"*Acceptance*: A simulated client submits to the prover service an atomic swap proof request. The prover peer retrieves the proof request and rejects if the request is malformed, i.e., 
 * it is not signed by a writer of the channel
 * it does not preserve the structure designated to atomic swap requests

The prover peer should return to the simulated client a pre-cooked TokenTransaction with atomic swap content.",,elli-androulaki,KaoutarEL,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-11964,,,No,,Unset,No,,,"1|hzzten:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),elli-androulaki,KaoutarEL,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"14/Dec/18 7:30 PM;KaoutarEL;https://gerrit.hyperledger.org/r/#/c/28156/;;;","23/Jan/20 7:32 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
As token infrastructure developer (committing peer) I would like to validate/commit token transactions with atomic swaps without ledger impact,FAB-12259,34259,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,elli-androulaki,elli-androulaki,elli-androulaki,02/Oct/18 6:20 PM,14/Jan/20 12:11 AM,28/Oct/23 3:04 AM,14/Jan/20 12:11 AM,,,,,,,,,,,fabric-crypto,,,,0,fabtoken,stale-item,,,,*Acceptance*: A simulated client submits a token transaction with atomic swap content. Committing peers that receive this transaction make this transaction go through the token transaction validation and commit path that for now marks the transaction as invalid and does not impact the ledger. ,,elli-androulaki,KaoutarEL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-11964,,,No,,Unset,No,,,"1|hzztev:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),elli-androulaki,KaoutarEL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Oct/18 8:48 PM;elli-androulaki;https://gerrit.hyperledger.org/r/#/c/26784/;;;","13/Dec/18 7:42 PM;KaoutarEL;https://gerrit.hyperledger.org/r/#/c/27985/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As token infrastructure developer, I would like to enhance TMS functionality with TMS atomic swap proof computation & verification",FAB-12260,34260,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,elli-androulaki,elli-androulaki,elli-androulaki,02/Oct/18 6:21 PM,14/Jan/20 12:11 AM,28/Oct/23 3:04 AM,14/Jan/20 12:11 AM,,,,,,,,,,,fabric-crypto,,,,0,fabtoken,,,,,,,elli-androulaki,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-11964,,,No,,Unset,No,,,"1|hzztf3:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),elli-androulaki,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Oct/18 8:48 PM;elli-androulaki;https://gerrit.hyperledger.org/r/#/c/26784/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
As token infrastructure developer (peer) I would like to leverage enhanced TMS functionality to compute atomic swap proofs,FAB-12261,34261,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,elli-androulaki,elli-androulaki,elli-androulaki,02/Oct/18 6:22 PM,14/Jan/20 12:11 AM,28/Oct/23 3:04 AM,14/Jan/20 12:11 AM,,,,,,,,,,,fabric-crypto,,,,0,fabtoken,stale-item,,,,,,elli-androulaki,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-11964,,,No,,Unset,No,,,"1|hzztfb:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),elli-androulaki,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Oct/18 8:48 PM;elli-androulaki;https://gerrit.hyperledger.org/r/#/c/26784/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"SideDB/ without SideDB: Performance Comparison Test: Invokes, then Queries.",FAB-12262,34262,,Test Task,Closed,FAB,Fabric,software,denyeart,,,Low,Won't Do,rlalgowdar,rlalgowdar,rlalgowdar,02/Oct/18 8:21 PM,01/Aug/19 10:59 AM,28/Oct/23 3:04 AM,07/Dec/18 5:31 AM,,,,,,v1.3.0,,,,,fabric-quality,,,,0,SystemTestcase,,,,,"Below is the basic setup. But this actually involves running several tests, varying parameters of the test (number of private collections, number of threads, etc). More details will be provided detailing the test scenarios.

 

+*Setup:*+ 
 Network Topology: 2 channel, 2 orgs, 2 peers per org, each peer with CouchDB container for stateDB, SideDB enabled , 4 kafka, 3 zookeepers, 2 orderers, 2 ca, TLS enabled
 Client Driver: PTE

+*Test Steps:*+
 1) chaincode: each channel has one chancode, marbles02 and marbles02_private go chaincode, instantiated

CollectionConfig :

""requiredPeerCount"": 1,
""maxPeerCount"": 2,

Endorsement policy: 1 peer from each Org

2) invoke transactions: 4 threads, each thread sends 1000 queries concurrently on Channel1 with marbles02 chaincode.

         thread 1 sends to org1 peer1 on channel 1
          thread 2 sends to org1 peer1 on channel 1
          thread 3 sends to org2 peer1 on channel 1
          thread 4 sends to org2 peer1 on channel 1
 3) 4000 normal queries

 

4) invoke transactions: 4 threads, each thread sends 1000 queries concurrently on Channel2 with marbles02_private chaincode.

         thread 1 sends to org1 peer1 on channel 2
          thread 2 sends to org1 peer1 on channel 2
          thread 3 sends to org2 peer1 on channel 2
          thread 4 sends to org2 peer1 on channel 2
 5) 4000 private data queries

 

+*Result*+:
 1)hardware setup
 2) RPS (request per second) achieved for queries
 3) CPU and memory usage for the Peers and CouchDB containers
  ",,rlalgowdar,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-10134,,,,,,,,,,FAB-12740,FAB-12935,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-10083,,,Automated,,,,,,"1|hzztfj:",,,,,,,,,,,,,,,,Pass,"CPU limitations in test environment seem to have increased the the transaction times, reducing the TPS measurement, for especially the couchdb tests, when using multiple threads and sidedb in vlaunch. 

======= PTE 0 main Test Summary: executed at Mon Oct 29 2018 07:14:55 GMT-0400 (EDT) =======
(testorgschannel1:marbles02_go_ch1): CONSTANT INVOKE transaction stats
(testorgschannel1:marbles02_go_ch1):    Total processes 4
(testorgschannel1:marbles02_go_ch1):    Total transactions sent 4000  received 4000
(testorgschannel1:marbles02_go_ch1):    failures: proposal 0  transactions 0
(testorgschannel1:marbles02_go_ch1):    event: received 4000  timeout 0  unreceived 0
(testorgschannel1:marbles02_go_ch1):    start 1540811708369  end 1540811804208  duration 95839 ms
(testorgschannel1:marbles02_go_ch1):    TPS 41.74
(testorgschannel1:marbles02_go_ch1): peer latency stats (endorsement)
(testorgschannel1:marbles02_go_ch1):    total transactions: 4000  total time: 309987 ms
(testorgschannel1:marbles02_go_ch1):    min: 16 ms  max: 480 ms  avg: 77.50 ms
(testorgschannel1:marbles02_go_ch1): orderer latency stats (transaction ack)
(testorgschannel1:marbles02_go_ch1):    total transactions: 4000  total time: 57360 ms
(testorgschannel1:marbles02_go_ch1):    min: 6 ms  max: 170 ms  avg: 14.34 ms
(testorgschannel1:marbles02_go_ch1): event latency stats (end-to-end)
(testorgschannel1:marbles02_go_ch1):    total transactions: 4000  total time: 9409902 ms
(testorgschannel1:marbles02_go_ch1):    min: 993 ms  max: 3954 ms  avg: 2352.48 ms

======= PTE 0 main Test Summary: executed at Mon Oct 29 2018 07:18:45 GMT-0400 (EDT) =======
(testorgschannel1:marbles02_go_ch1): CONSTANT QUERY transaction stats
(testorgschannel1:marbles02_go_ch1):    Total processes 2
(testorgschannel1:marbles02_go_ch1):    Total transactions sent 2000  received 8000
(testorgschannel1:marbles02_go_ch1):    failures: query transactions 0
(testorgschannel1:marbles02_go_ch1):    start 1540811938486  end 1540811974660  duration 36174 ms
(testorgschannel1:marbles02_go_ch1):    TPS 221.15

======= PTE 0 main Test Summary: executed at Mon Oct 29 2018 07:21:35 GMT-0400 (EDT) =======
(testorgschannel2:marbles02_private_go_ch2): CONSTANT INVOKE transaction stats
(testorgschannel2:marbles02_private_go_ch2):    Total processes 4
(testorgschannel2:marbles02_private_go_ch2):    Total transactions sent 4000  received 4000
(testorgschannel2:marbles02_private_go_ch2):    failures: proposal 0  transactions 0
(testorgschannel2:marbles02_private_go_ch2):    event: received 4000  timeout 0  unreceived 0
(testorgschannel2:marbles02_private_go_ch2):    start 1540812108701  end 1540812390927  duration 282226 ms
(testorgschannel2:marbles02_private_go_ch2):    TPS 14.17
(testorgschannel2:marbles02_private_go_ch2): peer latency stats (endorsement)
(testorgschannel2:marbles02_private_go_ch2):    total transactions: 4000  total time: 908941 ms
(testorgschannel2:marbles02_private_go_ch2):    min: 32 ms  max: 12573 ms  avg: 227.24 ms
(testorgschannel2:marbles02_private_go_ch2): orderer latency stats (transaction ack)
(testorgschannel2:marbles02_private_go_ch2):    total transactions: 4000  total time: 44880 ms
(testorgschannel2:marbles02_private_go_ch2):    min: 6 ms  max: 179 ms  avg: 11.22 ms
(testorgschannel2:marbles02_private_go_ch2): event latency stats (end-to-end)
(testorgschannel2:marbles02_private_go_ch2):    total transactions: 4000  total time: 13900619 ms
(testorgschannel2:marbles02_private_go_ch2):    min: 748 ms  max: 5618 ms  avg: 3475.15 ms

======= PTE 0 main Test Summary: executed at Mon Oct 29 2018 07:28:32 GMT-0400 (EDT) =======
(testorgschannel2:marbles02_private_go_ch2): CONSTANT QUERY transaction stats
(testorgschannel2:marbles02_private_go_ch2):    Total processes 2
(testorgschannel2:marbles02_private_go_ch2):    Total transactions sent 2000  received 8000
(testorgschannel2:marbles02_private_go_ch2):    failures: query transactions 0
(testorgschannel2:marbles02_private_go_ch2):    start 1540812525358  end 1540812609426  duration 84068 ms
(testorgschannel2:marbles02_private_go_ch2):    TPS 95.16

",System Test,,,rlalgowdar,scottz,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,true,"29/Oct/18 9:12 PM;rlalgowdar;https://gerrit.hyperledger.org/r/#/c/27251/;;;","01/Nov/18 10:44 AM;scottz;The invokes tps dropped from 41 to 14 (marbles02 vs marbles02private with sidedb).

The queries tps dropped from 221 to 95. _This drop is more surprising to me._

Are you saying the measurements show a more-severe drop because of the hardware limitations? Yes I believe we discussed that likelihood. Then we should definitely run these in the IKS cluster (and report results here) which should not have the CPU limitations.

Per another comment you made in slack: `There are some concerns... marbles02 and marbles02_private comparison by itself may not be exact.. marbles02_private does 2 calls to putstate in one transaction.`  What can we do to make a better comparison? Do we need to modify one or both of the chaincodes? or node sdk APIs? or pte client? Contact designers if we could use their help with any of that.;;;","28/Nov/18 8:43 AM;scottz;Although this may still be useful to run in v1.4 just to compare with v1.3 results on vlaunch machine, or simply run it in IKS cluster (without vlaunch resource limitations) and use as another datapoint with the other new v1.4 sidedb performance testcases, we have the option to deprecate this.

In v1.4, we are writing 8 separate testcases for comparisons, using a chaincode better designed for the comparisons.;;;","07/Dec/18 5:31 AM;scottz;Per earlier comments, this was completed and executed in 1.3, but we are withdrawing now with Resolution=""Won't Do"" to deprecate this as it is being replaced in 1.4 by a set of 8 testcases: 4 using leveldb and 4 using couchdb, with and without sidedb in various configurations.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Add the command ""export"" in the ""building your first network"" tutorial",FAB-12264,34264,,Documentation,Closed,FAB,Fabric,software,denyeart,,,Low,Done,verasnt,verasnt,verasnt,02/Oct/18 9:22 PM,04/Oct/18 10:48 PM,28/Oct/23 3:04 AM,04/Oct/18 10:48 PM,,,,,,,,,,,,,,,0,,,,,,"In the Building your first network tutorial we've the following:
h3. Environment variables

For the following CLI commands against {{peer0.org1.example.com}} to work, we need to preface our commands with the four environment variables given below. These variables for {{peer0.org1.example.com}} are baked into the CLI container, therefore we can operate without passing them. *HOWEVER*, if you want to send calls to other peers or the orderer, then you can provide these values accordingly by editing the {{docker-compose-base.yaml}} before starting the container. Modify the following four environment variables to use a different peer and org.
# Environment variables for PEER0
 
CORE_PEER_MSPCONFIGPATH=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp
 
CORE_PEER_ADDRESS=peer0.org1.example.com:7051 CORE_PEER_LOCALMSPID=""Org1MSP""
 
CORE_PEER_TLS_ROOTCERT_FILE=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/ca.crt
 
We must add the export command in front of the line above in order to minimize beginners mistakes. As an example,  if you don't set the CORE_PEER_MSPCONFIGPATH correctly, you may get the following error message:
{quote}_Cannot run peer because cannot init crypto, folder ""/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp"" does not exist_
{quote}
 ",,verasnt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"02/Oct/18 9:21 PM;verasnt;issue.png;https://jira.hyperledger.org/secure/attachment/15906/issue.png",,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwron:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),verasnt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As an orderer admin, I need to be able to dynamically change the logging level of the orderer.",FAB-12265,34266,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,jyellick,jyellick,02/Oct/18 10:30 PM,28/Nov/18 11:25 PM,28/Oct/23 3:04 AM,28/Nov/18 11:25 PM,,,,,,v1.4.0,,,,,fabric-orderer,,,,0,serviceability,,,,,"The peer provides an admin interface to control the logging level of the assorted peer components without restarting the peer.

However, to set logging levels in the orderer, the orderer must be restarted.  Frequently in production the ability to set log levels in the orderer without having to restart the process (potentially creating application outages) is desirable.

Management of the orderer logging settings should be administrated just like with the peer, where the local MSP's admin certificates are the only users authorized to modify the orderer log levels.

For this story to be accepted, we should be able to start the orderer at one log level, then as the orderer admin user specify a new set of logging levels (such as ""info:orderer/consensus/kafka/=debug"") and see the updated logging levels reflected in the log output.",,huikang,jyellick,kchristidis,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-4832,FAB-4831,FAB-4833,FAB-3984,,,,,,,,,FAB-12715,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Yes,Unset,,FAB-11853,,,No,,Unset,No,,,"1|hzwu5b:",,,,No,Unset,,,(Please add steps to reproduce),,No,,,,,,Unset,,Unset,,(Please add usage information),huikang,jyellick,kchristidis,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"03/Oct/18 11:47 AM;huikang;Hi, Jason ([~jyellick]), I am learning the fabric code and would like to  participating in the development of this story. May I know if you have any break down task that I may help with? Thanks.;;;","06/Nov/18 1:12 AM;sykesm;Extract a logging admin service from the existing admin service so we can abandon the legacy service after v2. (The remaining things either don't do anything or don't work well with the newer logging model.);;;","13/Nov/18 11:33 PM;sykesm;Hui, [~wlahti] told me that he chatted with you about this a couple of days ago and that it didn't sound like it was something you were going to be able to revisit in a short period of time. Given that, i'm picking this up so we can get this in.

Also, we ([~mastersingh24]and I) are going to go with an https based approach for operational endpoints so this will be implemented with a simple get/put on the log spec for the orderer.

Thanks for the work you have done and, if you wan to jump in on some of the other tasks, please reach out.

Thanks.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Set the JSDocs to be in the correct subdirectory,FAB-12266,34268,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,mbwhite,mbwhite,mbwhite,02/Oct/18 11:42 PM,04/Oct/18 7:05 PM,28/Oct/23 3:04 AM,04/Oct/18 7:05 PM,,,,,,,,,,,,,,,0,,,,,,"Set the release-1.2 chaincode to put its documentation into the `release-1.2` directory.

The updates to the CI scripts to prevent publishing are  part of https://jira.hyperledger.org/browse/FABCI-145",,mbwhite,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzztg7:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),mbwhite,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"02/Oct/18 11:55 PM;mbwhite;[https://gerrit.hyperledger.org/r/26718]  -->  Release 1.2 changes

[https://gerrit.hyperledger.org/r/26719] --> Release 1.1 changes;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Token (base support) - Approve & TransferFrom,FAB-12267,34271,,Epic,Closed,FAB,Fabric,software,denyeart,,,High,Won't Do,KaoutarEL,elli-androulaki,elli-androulaki,03/Oct/18 12:04 AM,14/Jan/20 12:11 AM,28/Oct/23 3:04 AM,14/Jan/20 12:11 AM,,,,,,Future,,,,,fabric-crypto,,,,0,fabtoken,,,,,"This epic relates to a series of operations equivalent to the two ERC20 functions (not directly supported by the standard UTXO model):
 * Approve: approve the spending of specific tokens from another party (user initially, but could also be a chaincode once FAB-11965 is completed)
 * TransferFrom: transfer a previously approved token by one of the authorised parties to intended recipients (authorised parties can be users initially, but could also be a chaincode once FAB-11965 is completed).

So this epic aims to initially offer Approve and TransferFrom functionality as direct token invocations, and afterwards offer these functions as outputs of an indirect token invocation. Blocker for the latter case is FAB-11965.

Initial high level design for the direct invocation of Approve/TransferFrom functionalities are discussed/analyzed [here|https://drive.google.com/open?id=1VDFv4sETTG25P2D2nW-C0Coz_XFM7elz]. ",,elli-androulaki,knagware9,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,In development,https://drive.google.com/open?id=1VDFv4sETTG25P2D2nW-C0Coz_XFM7elz,Available,Unset,Required,ghx-label-14,,Token (base support) - Support Approve & TransferFrom Operations,To Do,No,,Required,No,,,"1|hzztgv:",,,,Yes,Required,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),elli-androulaki,knagware9,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update FAQ Security and Access Control to include private data,FAB-12269,34274,,Documentation,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,pandrejko,pandrejko,pandrejko,03/Oct/18 12:42 AM,04/Oct/18 6:19 AM,28/Oct/23 3:04 AM,04/Oct/18 6:19 AM,v1.2.0,v1.3.0,,,,v1.2.2,v1.3.0,v1.4.0,,,fabric-docs,,,,0,,,,,,We need to mention Private data in [https://hyperledger-fabric.readthedocs.io/en/latest/Fabric-FAQ.html] and provide a link to the content for more information.,,pandrejko,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwrqn:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),pandrejko,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.3,release-2.5,release-2.4,main,release-1.2,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"03/Oct/18 1:02 AM;pandrejko;https://gerrit.hyperledger.org/r/26724;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
make multiarch.sh publish latest tag as option,FAB-12270,34275,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,ChristopherFerris,ChristopherFerris,ChristopherFerris,03/Oct/18 1:10 AM,23/Jan/20 7:32 AM,28/Oct/23 3:04 AM,23/Jan/20 7:32 AM,v1.3.0,,,,,,,,,,fabric-build,fabric-ca-build,,,0,stale-item,,,,,When publishing a multiarch manifest for a back level version (e.g. a patch release) there needs to be a means of bypassing the latest tag.,,ChristopherFerris,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzthj:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ChristopherFerris,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 7:32 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
PTE adds overall test result to pteReport,FAB-12271,34279,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,dongming,dongming,dongming,03/Oct/18 3:51 AM,09/Oct/18 10:22 PM,28/Oct/23 3:04 AM,09/Oct/18 10:22 PM,,,,,,v1.3.0,,,,,fabric-quality,,,,0,,,,,,"PTE adds overall test result to pteReport:

invokes pass if sent=received and unreceived=0

queries pass if sent<=received and failures=0

Overall Test RESULT PASSED (or FAILED)",,dongming,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-2247,,,No,,Unset,No,,,"1|hzztif:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),dongming,,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,true,"09/Oct/18 12:12 AM;dongming;https://gerrit.hyperledger.org/r/#/c/26852/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
The CouchDB Custom Channel tests are failing intermittently,FAB-12272,34301,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,denyeart,sambhavdutt,sambhavdutt,03/Oct/18 8:18 AM,19/Mar/19 8:13 PM,28/Oct/23 3:04 AM,03/Oct/18 11:19 PM,v1.3.0,,,,,v1.3.0,,,,,fabric-samples,,,,0,ci-failure,,,,,"In the BYFN test, this fail has been intermittent only in the CouchDB Custom Channel test, the default Delay was increased from 3 seconds to 15 seconds(-d 15) but we still see the tests failing with timeout.

{code:java}
22:23:15 ======Channel 'custom-channel-couchdb' created ===================== 
22:23:15 
22:23:15 Having all peers join the channel...
22:23:15 + peer channel join -b custom-channel-couchdb.block
22:23:18 + res=1
22:23:18 + set +x
22:23:18 Error: error getting endorser client for channel: endorser client failed to connect to peer0.org1.example.com:7051: failed to create new connection: context deadline exceeded
22:23:18 peer0.org1 failed to join the channel, Retry after 15 seconds
.
.
.
22:24:12 Error: error getting endorser client for channel: endorser client failed to connect to peer0.org1.example.com:7051: failed to create new connection: context deadline exceeded
22:24:12 peer0.org1 failed to join the channel, Retry after 15 seconds
22:24:27 + peer channel join -b custom-channel-couchdb.block
22:24:30 + res=1
22:24:30 + set +x
22:24:30 Error: error getting endorser client for channel: endorser client failed to connect to peer0.org1.example.com:7051: failed to create new connection: context deadline exceeded
22:24:30 !!!!!!!!!!!!!!! After 5 attempts, peer0.org1 has failed to join channel 'custom-channel-couchdb'  !!!!!!!!!!!!!!!!
22:24:30 ========= ERROR !!! FAILED to execute End-2-End Scenario ===========
22:24:30 
22:24:30 ERROR !!!! Test failed
{code}

*Build Log*

https://jenkins.hyperledger.org/view/Daily/job/fabric-nightly-release-job-release-1.3-x86_64/9/consoleFull

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-nightly-release-job-release-1.3-x86_64/9/

",,denyeart,rameshthoomu,sambhavdutt,scottz,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,f7b9ac666c23235966f5fed8d4b5189faf14abe0,Unset,No,,,"1|hzztjb:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,rameshthoomu,sambhavdutt,scottz,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-6.11.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/tough-cookie-4.1.3,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/semver-6.3.1,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/grpc/grpc-js-1.8.17,dependabot/go_modules/high-throughput/application-go/google.golang.org/grpc-1.53.0,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/word-wrap-1.2.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-and-fabric-network-7.2.4,dependabot/go_modules/asset-transfer-basic/application-go/google.golang.org/grpc-1.53.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"03/Oct/18 10:47 AM;rameshthoomu;This seems an issue with the couchdb.. Observed below error in the peer logs
{code:java}
handleRequest -> WARN 04d[0m Retrying couchdb request in 125ms. Attempt:1 Error:Get http://couchdb0:5984/: dial tcp 172.19.0.6:5984: connect: connection refused{code}
 Please check the peer and couchdb logs here: 

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-nightly-release-job-release-1.3-x86_64/9/Docker_Container_Logs/;;;","03/Oct/18 10:56 AM;rameshthoomu;Copying some disucssion points from fabric-ci ROCKET CHAT channel: Below is the update from [~denyeart]
 * 
until we figure this out, peer's *CORE_LEDGER_STATE_COUCHDBCONFIG_MAXRETRIESONSTARTUP* could be increased from default of 10 to 20 each retry will wait 2x as long as the prior retry

@chris.elder has been looking into relative slow couchdb start time ever since the new baseimage was create. We have seen it be a couple seconds slower than prior baseimage;;;","03/Oct/18 11:37 AM;rameshthoomu;[https://gerrit.hyperledger.org/r/#/c/26735/ |https://gerrit.hyperledger.org/r/#/c/26735/]change in core.yaml

[https://gerrit.hyperledger.org/r/#/c/26734/] - change max retires in script/scripts.sh in fabric-samples;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Minor cleanups in kvledger/coll_elg_notifier.go,FAB-12273,34302,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,manish-sethi,manish-sethi,manish-sethi,03/Oct/18 8:32 AM,04/Oct/18 6:22 AM,28/Oct/23 3:04 AM,04/Oct/18 6:22 AM,,,,,,v1.4.0,,,,,fabric-ledger,,,,0,,,,,,"Address comments in CRs
https://gerrit.hyperledger.org/r/#/c/25982/
https://gerrit.hyperledger.org/r/#/c/26014/",,manish-sethi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzztjj:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),manish-sethi,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Increase CouchDB maxRetriesOnStartup,FAB-12274,34303,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,denyeart,denyeart,denyeart,03/Oct/18 11:08 AM,03/Oct/18 12:57 PM,28/Oct/23 3:04 AM,03/Oct/18 12:57 PM,,,,,,v1.3.0,v1.4.0,,,,fabric-ledger,,,,0,,,,,,"As there have been reports of peer exhausting retries before CouchDB becomes available, increase maxRetriesOnStartup from 10 to 12.  Each retry will wait 2x as long as the prior before retrying.",,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzztjr:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.3,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
fix WARN message in creating system channel block,FAB-12275,34304,,Bug,Closed,FAB,Fabric,software,denyeart,,,Low,Done,,huikang,huikang,03/Oct/18 11:53 AM,04/Oct/18 3:36 PM,28/Oct/23 3:04 AM,04/Oct/18 3:36 PM,,,,,,v1.4.0,,,,,fabric-samples,,,,0,,,,,,"main -> WARN 001 Omitting the channel ID for configtxgen is deprecated.  Explicitly passing the channel ID will be required in the future, defaulting to 'testchainid'.

 

Refer to FAB-12248",,denyeart,huikang,joaquimpedrooliveira,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzztjz:",,,,Unset,Unset,,,configtxgen -profile TwoOrgsOrdererGenesis -outputBlock ./channel-artifacts/genesis.block,,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,huikang,joaquimpedrooliveira,,,,,,,,,,,,,,,,,,,,,,,,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-6.11.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/tough-cookie-4.1.3,mergify/bp/release-2.2/pr-4374,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/grpc/grpc-js-1.8.17,dependabot/go_modules/high-throughput/application-go/google.golang.org/grpc-1.53.0,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/word-wrap-1.2.4,main,mergify/bp/release-2.2/pr-3750,dependabot/go_modules/asset-transfer-basic/application-go/google.golang.org/grpc-1.53.0,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/semver-6.3.1,release-2.5,release-2.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-and-fabric-network-7.2.4,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"04/Oct/18 1:34 AM;denyeart;This is a valid Warning.  What 'fix' are you suggesting?;;;","04/Oct/18 1:39 AM;huikang;I meant to avoid the warning when running the script.

 

https://gerrit.hyperledger.org/r/#/c/26741/

 ;;;","04/Oct/18 4:56 AM;denyeart;It is a valid warning though, that we want people to see, so that they start including channel id.

Are you using a sample or doc that doesn't include the channel id, which should be fixed?;;;","04/Oct/18 5:09 AM;huikang;Got you, although I think it is hard to see the WARN message when running byfn.sh

 

The doc I am following with is [https://github.com/hyperledger/fabric/blob/release-1.2/docs/source/build_network.rst#manually-generate-the-artifacts]

 

It uses the command `../bin/configtxgen -profile TwoOrgsOrdererGenesis -outputBlock ./channel-artifacts/genesis.block` without channel id.;;;","04/Oct/18 6:45 AM;denyeart;Ok, I agree the main samples and docs should include channel id, to demonstrate good practices and avoid the warning.

[~huikang] do you want to fix them up?  If not we could have [~jyellick] take a look to ensure they are correct.;;;","04/Oct/18 10:30 AM;huikang;Hi, [~denyeart], I'd like to give it a try. Thanks.;;;","04/Oct/18 10:39 AM;huikang;Hi [~denyeart], and [~jyellick]

I proposed two CR to clarify the idea of system channel name: one in fabric and one in fabric-sample.

 - [https://gerrit.hyperledger.org/r/#/c/26779/]

 - [https://gerrit.hyperledger.org/r/#/c/26741/]

 ;;;","04/Oct/18 1:35 PM;denyeart;Thanks [~huikang] , the CRs look good.;;;",,,,,,,,,,,,,,,,,,,,,,,,,
"Unit-tests are failing intermittently as ""no matching busybox manifest found for linux/s390x""",FAB-12276,34305,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Invalid: Works as Expected,,sambhavdutt,sambhavdutt,03/Oct/18 2:08 PM,19/Mar/19 7:57 PM,28/Oct/23 3:04 AM,05/Mar/19 3:05 AM,v1.0.0,v1.1.0,v1.2.0,v1.3.0,v1.4.0,v1.0.0,v1.1.0,v1.2.0,v1.3.0,v1.4.0,fabric-build,,,,0,ci-flake,,,,,"Observed the following errors in unit-tests daily run on master branch, s390x platform,

{code:java}
23:40:29 unit-tests_1  | 2018-10-03 03:40:27.708 UTC [dockercontroller] deployImage -> ERRO 001 Error building images: no matching manifest for linux/s390x in the manifest list entries
23:40:29 unit-tests_1  | 2018-10-03 03:40:27.708 UTC [dockercontroller] deployImage -> ERRO 002 Image Output:
23:40:29 unit-tests_1  | ********************
23:40:29 unit-tests_1  | Step 1/2 : FROM busybox:latest
23:40:29 unit-tests_1  | latest: Pulling from library/busybox
23:40:29 unit-tests_1  | 
23:40:29 unit-tests_1  | ********************
23:40:29 unit-tests_1  | --- FAIL: TestIntegrationPath (0.66s)
23:40:29 unit-tests_1  | 	assertions.go:247: 
                          
	Error Trace:	dockercontroller_test.go:40
23:40:29 unit-tests_1  | 		
	Error:      	Received unexpected error:
23:40:29 unit-tests_1  | 		
	            	no matching manifest for linux/s390x in the manifest list entries
23:40:29 unit-tests_1  | 		
	Test:       	TestIntegrationPath
23:40:29 unit-tests_1  | 2018-10-03 03:40:27.713 UTC [dockercontroller] Start -> ERRO 003 start-could not recreate container <simple>, because of Error creating the container
23:40:29 unit-tests_1  | 2018-10-03 03:40:27.716 UTC [dockercontroller] Start -> ERRO 004 start-could not find image <simple-a7a39b72f29718e653e73503210fbb597057b7a1c77d1fe321a1afcff041d4e1>, because of no such image
23:40:29 unit-tests_1  | 2018-10-03 03:40:29.211 UTC [dockercontroller] Start -> ERRO 005 start-could not start container: Error starting the container
23:40:29 unit-tests_1  | FAIL
{code}

*Build Logs*

https://jenkins.hyperledger.org/view/Daily/job/fabric-daily-s390x/323/consoleFull

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-daily-s390x/323/",,denyeart,rameshthoomu,sambhavdutt,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,71a7713,Unset,No,,,"1|hzztk7:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,rameshthoomu,sambhavdutt,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"03/Oct/18 10:42 PM;sambhavdutt;The unit-tests are failing with error posted in the 'description on all branches for the s390x platform,


{code:java}
2018-10-03 00:38:42.907 UTC [dockercontroller] deployImage -> ERRO 001 Error building images: no matching manifest for linux/s390x in the manifest list entries
{code}


*Build Log*

*release-1.3*
https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-unit-test-daily-release-1.3-s390x/5/

*release-1.2*
https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-unit-test-daily-release-1.2-s390x/4/

*release-1.1*
https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-unit-test-daily-release-1.1-s390x/106/

*release-1.0*
https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-unit-test-daily-release-1.0-s390x/106/
;;;","04/Oct/18 10:38 PM;sambhavdutt;This error has just been rectified on the master branch. The unit tests in the release branches still fail with the same error. 

{code:java}
20:38:44 unit-tests_1  | 2018-10-03 00:38:42.907 UTC [dockercontroller] deployImage -> ERRO 001 Error building images: no matching manifest for linux/s390x in the manifest list entries
20:38:44 unit-tests_1  | 2018-10-03 00:38:42.907 UTC [dockercontroller] deployImage -> ERRO 002 Image Output:
20:38:44 unit-tests_1  | ********************
20:38:44 unit-tests_1  | Step 1/2 : FROM busybox:latest
20:38:44 unit-tests_1  | latest: Pulling from library/busybox
20:38:44 unit-tests_1  | 
20:38:44 unit-tests_1  | ********************
20:38:44 unit-tests_1  | --- FAIL: TestIntegrationPath (0.75s)
20:38:44 unit-tests_1  | 	assertions.go:247: 
                          
	Error Trace:	dockercontroller_test.go:40
20:38:44 unit-tests_1  | 		
	Error:      	Received unexpected error:
20:38:44 unit-tests_1  | 		
	            	no matching manifest for linux/s390x in the manifest list entries
20:38:44 unit-tests_1  | 		
	Test:       	TestIntegrationPath
20:38:44 unit-tests_1  | 2018-10-03 00:38:42.911 UTC [dockercontroller] Start -> ERRO 003 start-could not recreate container <simple>, because of Error creating the container
20:38:44 unit-tests_1  | 2018-10-03 00:38:42.912 UTC [dockercontroller] Start -> ERRO 004 start-could not find image <simple-a7a39b72f29718e653e73503210fbb597057b7a1c77d1fe321a1afcff041d4e1>, because of no such image
20:38:44 unit-tests_1  | 2018-10-03 00:38:44.730 UTC [dockercontroller] Start -> ERRO 005 start-could not start container: Error starting the container
20:38:44 unit-tests_1  | FAIL
{code}

*Build Log*

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-unit-test-daily-release-1.3-s390x/5/;;;","16/Feb/19 12:09 AM;rameshthoomu;It seems this is an intermittent issue. https://github.com/hyperledger/fabric/blob/master/core/container/dockercontroller/dockercontroller_test.go#L41
{code:java}

root@hyperledger-10 ~ # docker pull library/busybox
Using default tag: latest
latest: Pulling from library/busybox
6ddc4d8ce4cd: Pull complete
Digest: sha256:061ca9704a714ee3e8b80523ec720c64f6209ad3f97c0ff7cb9ec7d19f15149f
Status: Downloaded newer image for busybox:latest
root@hyperledger-10 ~ # uname -m
s390x{code}
 ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Performance improvement proposals for ledger,FAB-12279,34310,,Story,Backlog,FAB,Fabric,software,denyeart,,,Medium,,,Senthil1,Senthil1,03/Oct/18 9:00 PM,11/Jan/21 3:36 PM,28/Oct/23 3:04 AM,,,,,,,,,,,,fabric-ledger,,,,0,,,,,,,,denyeart,grapebaba,Senthil1,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-14513,FAB-12221,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwqrk:5iwr4rb0zyw3i",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,grapebaba,Senthil1,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Parallel MVCC ,FAB-12280,34311,34310,Sub-task,To Do,FAB,Fabric,software,denyeart,,,Medium,,,Senthil1,Senthil1,03/Oct/18 9:01 PM,07/May/19 3:15 PM,28/Oct/23 3:04 AM,,,,,,,,,,,,,,,,0,,,,,,"In the current implementation, the ledger validates each transaction individually. If the chaincode used range queries and read multiple key-value pairs, then the validation time per transaction would be higher. Hence, we need a mechanism to parallelly validate each transaction in the MVCC phase.",,denyeart,grapebaba,Senthil1,Vishal3152,xuqiang,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12221,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzztlj:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,grapebaba,Senthil1,Vishal3152,xuqiang,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"14/Mar/19 11:49 PM;denyeart;I assume this will be handled as part of FAB-12221.;;;","07/May/19 3:15 PM;grapebaba;where is the design?[~Senthil1] [~denyeart];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Ledger Cache,FAB-12281,34312,34310,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,qizhang87,Senthil1,Senthil1,03/Oct/18 9:04 PM,09/Dec/18 10:30 PM,28/Oct/23 3:04 AM,09/Dec/18 10:30 PM,,,,,,,,,,,,,,,0,,,,,,"During simulation  as well as during validation, Fabric reads the same set of key-value pairs. For each kv pair, we go to disk twice – once during the simulation and another during the validation. If we can introduce a ledger cache, we can save the second disk read during the validation phase.",,denyeart,qizhang87,Senthil1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-103,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzztlr:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,qizhang87,Senthil1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"09/Dec/18 10:30 PM;denyeart;Actually let's use FAB-103 for this, it has some more context. Marking this one as duplicate.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Embedded Database for System State,FAB-12282,34313,34310,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,Senthil1,Senthil1,03/Oct/18 9:06 PM,23/Jan/20 7:31 AM,28/Oct/23 3:04 AM,23/Jan/20 7:31 AM,,,,,,,,,,,,,,,0,stale-item,,,,,"In the current implementation, we store the system state such as chaincode’s endorsement policy and state-based endorsement policy within the stateDB itself. For e.g., if the CouchDB is used as the stateDB, we would end up storing all system state in the CouchDB. As a result, the performance is significantly affected as the CouchDB is accessed over HTTPS. If we use GoLevelDB to store the system state and reduce the usage of external store such as CouchDB, the performance could be improved.",,Senthil1,sykesm,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzztlz:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),Senthil1,sykesm,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 7:31 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Bulk Read During Simulation/Endorsement ,FAB-12283,34314,34310,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,Senthil1,Senthil1,03/Oct/18 9:07 PM,23/Jan/20 7:31 AM,28/Oct/23 3:04 AM,23/Jan/20 7:31 AM,,,,,,,,,,,,,,,0,stale-item,,,,,"For every Get/Put call from the chaincode, we do need to a GRPC call between the client and peer and then between the peer and stateDB. These operations becomes costlier especially when CouchDB is used as the stateDB. We should add new chaincode APIs such as GetMultipleStates() and PutMultipleStates() so that we can utilize the CouchDB bulk read/write operations. 

Both stateDBs already implement GetMultipleKeys() and SetMultipleKeys(). However, the couchDB implementation does not use bulk read API in GetMultipleKeys(). ",,Senthil1,sykesm,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzztm7:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),Senthil1,sykesm,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 7:31 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove containers before starting test scenarios,FAB-12285,34316,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,latitiah,latitiah,latitiah,03/Oct/18 10:29 PM,04/Oct/18 3:12 AM,28/Oct/23 3:04 AM,04/Oct/18 3:12 AM,,,,,,,,,,,,,,,0,,,,,,"Before executing test scenarios, existing containers should be removed.",,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzztmn:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,true,"04/Oct/18 12:17 AM;latitiah;https://gerrit.hyperledger.org/r/#/c/26747/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
fabric-merge-end-2-end-x86_64 is failing in the e2e CLI test as timeout expired while starting chaincode.,FAB-12286,34317,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,sambhavdutt,sambhavdutt,03/Oct/18 11:04 PM,19/Mar/19 8:13 PM,28/Oct/23 3:04 AM,04/Oct/18 11:09 PM,v1.4.0,,,,,v1.4.0,,,,,fabric-build,,,,0,ci-failure,,,,,"The fabric merge end to end test is failing in the CLI tests , posting the error observed,

{code:java}
23:48:42 Error: endorsement failure during query. response: status:500 message:""failed to execute transaction f8ce1a884a943995bfa406763500780a2bcd9591c54d44d08e4c6570f27ab3e7: [channel mychannel] could not launch chaincode mycc:1.0: timeout expired while starting chaincode mycc:1.0 for transaction"" 
23:48:42 !!!!!!!!!!!!!!! Query result on peer0.org1 is INVALID !!!!!!!!!!!!!!!!
23:48:42 ================== ERROR !!! FAILED to execute End-2-End Scenario ==================
{code}

*Build Log*

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-merge-end-2-end-x86_64/3385/",,denyeart,jyellick,rameshthoomu,Ratnakar,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,71a7713f2e9ff09e72d84ace02a9eea8830fd3fc,Unset,No,,,"1|hzztmv:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,jyellick,rameshthoomu,Ratnakar,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"04/Oct/18 11:09 PM;sambhavdutt;This issue has been fixed. e2e merge job is running fine now.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Address issues with CDSPackage and SignedCDSPackage that prevent protobuf dep updates,FAB-12287,34400,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,04/Oct/18 12:09 AM,19/Nov/18 2:06 PM,28/Oct/23 3:04 AM,19/Nov/18 2:06 PM,,,,,,v1.4.0,,,,,,,,,0,,,,,,"{{proto.Unmarshal}} is not guaranteed to fail when it's given garbage data. It's quite possible for a byte stream to decode ""correctly"" and result in an object that is full of meaningless garbage.  (Ask me how I know.)

Turns out that we have a pattern where we attempt to decode data from lifecycle into a CDSPackage and, if it works, we assume the data was an encoded CDSPackage. If the decode fails, we assume we have a SignedCDSPackage. This assumption works most of the time but not always.

With the new protobuf implementation, some garbage byte strings successfully decode into the chaincode name and version fields of the CDSPackage making the ccprovider believe that it successfully decoded a CDSPackage even though the data was for a SignedCDSPackage. This breaks a bunch of things.

In order to work around this, additional post-decode validation is needed.",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzztnb:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Spurious warnings from extractPvtRWsets pvtData,FAB-12288,34401,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,C0rWin,rlalgowdar,rlalgowdar,04/Oct/18 12:14 AM,05/Dec/18 5:58 AM,28/Oct/23 3:04 AM,05/Dec/18 5:58 AM,v1.3.0,,,,,v1.4.0,,,,,fabric-gossip,,,,0,,,,,,"During the SideDB tests peer logs show spurious warnings. Please review warning message if this is needed or can be handled better way?

2018-10-03 12:20:10.816 UTC [gossip/privdata] extractPvtRWsets -> WARN 1faa Received private data collection collectionMarblePrivateDetails instead of collectionMarbles skipping...
2018-10-03 12:20:10.817 UTC [gossip/privdata] extractPvtRWsets -> WARN 1fab Received private data collection collectionMarblePrivateDetails instead of collectionMarbles skipping...
2018-10-03 12:20:10.817 UTC [gossip/privdata] extractPvtRWsets -> WARN 1fac Received private data collection collectionMarbles instead of collectionMarblePrivateDetails skipping...
2018-10-03 12:20:10.817 UTC [gossip/privdata] extractPvtRWsets -> WARN 1fad Received private data collection collectionMarblePrivateDetails instead of collectionMarbles skipping...
2018-10-03 12:20:10.817 UTC [gossip/privdata] extractPvtRWsets -> WARN 1fae Received private data collection collectionMarbles instead of collectionMarblePrivateDetails skipping...
2018-10-03 12:20:10.817 UTC [gossip/privdata] extractPvtRWsets -> WARN 1faf Received private data collection collectionMarbles instead of collectionMarblePrivateDetails skipping...",,C0rWin,denyeart,rlalgowdar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzztnj:",,,,Unset,Unset,,,SideDB PTE Tests.,,Unset,,,,,,Unset,,Unset,,(Please add usage information),C0rWin,denyeart,rlalgowdar,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"04/Oct/18 12:20 AM;denyeart;Nir, please consider if the looping code in extractPvtRWsets is the most efficient approach, I haven't looked closely but maybe a map would be better. Regardless, we probably shouldn't be logging warnings for normal processing paths.;;;","29/Nov/18 8:38 AM;denyeart;[~C0rWin] [~nirro] What do you want to do with this one?;;;","02/Dec/18 6:05 PM;C0rWin;[~rlalgowdar] Does this still happen on your testing environment?;;;","02/Dec/18 10:56 PM;C0rWin;Will reduce log level to debug and optimization will take care as part of FAB-10500.;;;","02/Dec/18 11:05 PM;C0rWin;https://gerrit.hyperledger.org/r/27866;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,
Data race in deliverservice/blocksprovider,FAB-12290,34403,,Bug,Closed,FAB,Fabric,software,denyeart,,,Low,Done,sykesm,sykesm,sykesm,04/Oct/18 1:42 AM,19/Nov/18 2:05 PM,28/Oct/23 3:04 AM,04/Oct/18 3:15 PM,,,,,,v1.4.0,,,,,,,,,0,race,,,,,"{code}
==================
WARNING: DATA RACE
Write at 0x00c0000bd070 by goroutine 17:
  sync/atomic.AddInt32()
      /usr/local/Cellar/go/1.11.1/libexec/src/runtime/race_amd64.s:269 +0xb
  github.com/hyperledger/fabric/core/deliverservice/mocks.(*MockBlocksDeliverer).Recv()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/deliverservice/mocks/blocksprovider.go:74 +0x4a
  github.com/hyperledger/fabric/core/deliverservice/blocksprovider.(*blocksProviderImpl).DeliverBlocks()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/deliverservice/blocksprovider/blocksprovider.go:125 +0x11d

Previous read at 0x00c0000bd070 by goroutine 15:
  github.com/hyperledger/fabric/core/deliverservice/blocksprovider.assertDelivery()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/deliverservice/blocksprovider/blocksprovider_test.go:97 +0x143
  github.com/hyperledger/fabric/core/deliverservice/blocksprovider.makeTestCase.func1()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/deliverservice/blocksprovider/blocksprovider_test.go:85 +0x2f5
  github.com/hyperledger/fabric/core/deliverservice/blocksprovider.TestBlocksProviderImpl_GetBlockFromTheOldest()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/deliverservice/blocksprovider/blocksprovider_test.go:125 +0x1c4
  testing.tRunner()
      /usr/local/Cellar/go/1.11.1/libexec/src/testing/testing.go:827 +0x162

Goroutine 17 (running) created at:
  github.com/hyperledger/fabric/core/deliverservice/blocksprovider.makeTestCase.func1.1()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/deliverservice/blocksprovider/blocksprovider_test.go:78 +0x50

Goroutine 15 (running) created at:
  testing.(*T).Run()
      /usr/local/Cellar/go/1.11.1/libexec/src/testing/testing.go:878 +0x650
  testing.runTests.func1()
      /usr/local/Cellar/go/1.11.1/libexec/src/testing/testing.go:1119 +0xa8
  testing.tRunner()
      /usr/local/Cellar/go/1.11.1/libexec/src/testing/testing.go:827 +0x162
  testing.runTests()
      /usr/local/Cellar/go/1.11.1/libexec/src/testing/testing.go:1117 +0x4ee
  testing.(*M).Run()
      /usr/local/Cellar/go/1.11.1/libexec/src/testing/testing.go:1034 +0x2ee
  main.main()
      _testmain.go:104 +0x332
==================
==================
WARNING: DATA RACE
Write at 0x00c00041dc50 by goroutine 17:
  sync/atomic.AddInt32()
      /usr/local/Cellar/go/1.11.1/libexec/src/runtime/race_amd64.s:269 +0xb
  github.com/hyperledger/fabric/core/deliverservice/mocks.(*MockGossipServiceAdapter).AddPayload()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/deliverservice/mocks/blocksprovider.go:50 +0x42
  github.com/hyperledger/fabric/core/deliverservice/blocksprovider.(*blocksProviderImpl).DeliverBlocks()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/deliverservice/blocksprovider/blocksprovider.go:182 +0x92a

Previous read at 0x00c00041dc50 by goroutine 15:
  github.com/hyperledger/fabric/core/deliverservice/blocksprovider.assertDelivery()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/deliverservice/blocksprovider/blocksprovider_test.go:97 +0x163
  github.com/hyperledger/fabric/core/deliverservice/blocksprovider.makeTestCase.func1()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/deliverservice/blocksprovider/blocksprovider_test.go:85 +0x2f5
  github.com/hyperledger/fabric/core/deliverservice/blocksprovider.TestBlocksProviderImpl_GetBlockFromTheOldest()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/deliverservice/blocksprovider/blocksprovider_test.go:125 +0x1c4
  testing.tRunner()
      /usr/local/Cellar/go/1.11.1/libexec/src/testing/testing.go:827 +0x162

Goroutine 17 (running) created at:
  github.com/hyperledger/fabric/core/deliverservice/blocksprovider.makeTestCase.func1.1()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/deliverservice/blocksprovider/blocksprovider_test.go:78 +0x50

Goroutine 15 (running) created at:
  testing.(*T).Run()
      /usr/local/Cellar/go/1.11.1/libexec/src/testing/testing.go:878 +0x650
  testing.runTests.func1()
      /usr/local/Cellar/go/1.11.1/libexec/src/testing/testing.go:1119 +0xa8
  testing.tRunner()
      /usr/local/Cellar/go/1.11.1/libexec/src/testing/testing.go:827 +0x162
  testing.runTests()
      /usr/local/Cellar/go/1.11.1/libexec/src/testing/testing.go:1117 +0x4ee
  testing.(*M).Run()
      /usr/local/Cellar/go/1.11.1/libexec/src/testing/testing.go:1034 +0x2ee
  main.main()
      _testmain.go:104 +0x332
==================
--- FAIL: TestBlocksProviderImpl_GetBlockFromTheOldest (1.00s)
{code}",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzztnz:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Intermittent test failures in peer/node TestStatus ,FAB-12291,34404,,Bug,Closed,FAB,Fabric,software,denyeart,,,Low,Duplicate,,sykesm,sykesm,04/Oct/18 1:45 AM,19/Mar/19 7:57 PM,28/Oct/23 3:04 AM,28/Dec/18 2:54 AM,,,,,,Future,,,,,fabric-peer,,,,0,ci-flake,,,,,"{code}
00:19:04.410 unit-tests_1  | --- FAIL: TestStatus (0.04s)
00:19:04.411 unit-tests_1  |     --- FAIL: TestStatus/status_function_to_success (0.02s)
00:19:04.411 unit-tests_1  |     	status_test.go:102: Running test: status function to success
00:19:04.411 unit-tests_1  |     	assertions.go:247: 
                          
	Error Trace:	status_test.go:113
00:19:04.412 unit-tests_1  |     		
	Error:      	Received unexpected error:
00:19:04.412 unit-tests_1  |     		
	            	context deadline exceeded
00:19:04.413 unit-tests_1  |     		
	            	github.com/hyperledger/fabric/core/comm.(*GRPCClient).NewConnection
00:19:04.413 unit-tests_1  |     		
	            		/opt/gopath/src/github.com/hyperledger/fabric/core/comm/client.go:187
00:19:04.414 unit-tests_1  |     		
	            	github.com/hyperledger/fabric/peer/common.(*PeerClient).Admin
00:19:04.414 unit-tests_1  |     		
	            		/opt/gopath/src/github.com/hyperledger/fabric/peer/common/peerclient.go:102
00:19:04.414 unit-tests_1  |     		
	            	github.com/hyperledger/fabric/peer/common.GetAdminClient
00:19:04.415 unit-tests_1  |     		
	            		/opt/gopath/src/github.com/hyperledger/fabric/peer/common/peerclient.go:148
00:19:04.415 unit-tests_1  |     		
	            	github.com/hyperledger/fabric/peer/node.status
00:19:04.415 unit-tests_1  |     		
	            		/opt/gopath/src/github.com/hyperledger/fabric/peer/node/status.go:42
00:19:04.416 unit-tests_1  |     		
	            	github.com/hyperledger/fabric/peer/node.TestStatus.func2
00:19:04.416 unit-tests_1  |     		
	            		/opt/gopath/src/github.com/hyperledger/fabric/peer/node/status_test.go:113
00:19:04.416 unit-tests_1  |     		
	            	testing.tRunner
00:19:04.417 unit-tests_1  |     		
	            		/opt/go/src/testing/testing.go:777
00:19:04.417 unit-tests_1  |     		
	            	runtime.goexit
00:19:04.418 unit-tests_1  |     		
	            		/opt/go/src/runtime/asm_amd64.s:2361
00:19:04.418 unit-tests_1  |     		
	            	failed to create new connection
00:19:04.418 unit-tests_1  |     		
	            	admin client failed to connect to localhost:7071
00:19:04.419 unit-tests_1  |     		
	Test:       	TestStatus/status_function_to_success
00:19:04.419 unit-tests_1  | 2018-10-03 16:14:50.972 UTC [nodeCmd] status -> INFO 035 Error trying to get status from local peer: rpc error: code = Unimplemented desc = unknown service protos.Admin
00:19:04.420 unit-tests_1  | status:UNKNOWN 
00:19:04.420 unit-tests_1  | FAIL
00:19:04.421 unit-tests_1  | coverage: 65.6% of statements
00:19:04.421 unit-tests_1  | FAIL	github.com/hyperledger/fabric/peer/node	1.505s
{code}",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12307,,,,,,,,,,,,,,"04/Oct/18 1:46 AM;sykesm;console-timestamp.log;https://jira.hyperledger.org/secure/attachment/16102/console-timestamp.log",,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzto7:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Chaincode Policy - should be able to update the policy at other points of the Fabric Lifecycle (channel,install, etc)  then on chaincode instantiate/upgrade",FAB-12292,34409,,Bug,Closed,FAB,Fabric,software,denyeart,,,Highest,Duplicate,,MariWade,MariWade,04/Oct/18 4:56 AM,04/Oct/18 2:09 PM,28/Oct/23 3:04 AM,04/Oct/18 2:09 PM,v1.0.6,,,,,,,,,,,,,,0,,,,,,"We have a blockchain solution (Blockchain Document Store) that is constantly getting Endorsement Policy failures due to the inability to update endorsement policies when a new org joins the channel.

Org1 and Org2 have started a network, joined the channel,  installed chaincode_V1, and instantiated it taking the default endorsement policy.  That means ""One of Org1 or Org2"" signatures are needed when invoking chaincode.

Org3 joins the channel, installs the same chaincode src and version.  It will not be able to invoke because it is not in the channel at the time the endorsement policy was created during chaincode instantiate/upgrade.  Org 3 will get an Endorsement Policy failure.

 

The fix 'workaround' is to get all 3 orgs to reinstall the same chaincode src with a new version number, V2 and upgrade the chaincode.  At this time, the chaincode policy will be updated to be ""One of Org1, Org2, or Org3"".

In practice this process is not practical and is costing devOps , solutions, and our customers a lot of cycles. There should be a way to submit an update to an endorsement policy when a new org joins the channel and installs the same chaincode name/version.

For a solution working with a fabric sdk - the solution needs the ability to programmatically update the chaincode policy.  1) An org joins an existing channel (approved right), 2 )installs the same chaincode src with name/version,   3) NEEDED some process for the an update to the chaincode policy to include org3.

 ",,denyeart,MariWade,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-8053,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzztof:",,,,Unset,Unset,,,See Above,,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,MariWade,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"04/Oct/18 4:58 AM;MariWade;My issue and this issue: https://jira.hyperledger.org/browse/FAB-11813 are related.

 ;;;","04/Oct/18 2:09 PM;denyeart;There is a high priority story for this already - FAB-8053 , which is being considered for the next generation lifecycle.  I'm marking this as a duplicate, I've also referenced FAB-12292 in the text of FAB-8053 to ensure that the concern is not lost. It would likely be addressed by more dynamic endorsement policies such as any 1 channel org, any 2 orgs, majority of orgs, etc, which is being considered in FAB-8053. This way the endorsement policy would not have to change at all when channel membership changes.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Install go 1.11.1 on the system z nodes,FAB-12293,34410,33232,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,sykesm,sykesm,04/Oct/18 5:05 AM,08/Oct/18 10:27 AM,28/Oct/23 3:04 AM,08/Oct/18 10:27 AM,,,,,,,,,,,,,,,0,,,,,,go 1.11 was installed a bit prematurely as the 1.11.1 was expected this week.,,rameshthoomu,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzton:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rameshthoomu,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"08/Oct/18 10:27 AM;rameshthoomu;go 1.11.1 is installed on z and x nodes.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Install go 1.11.1 in the packer images for x nodes,FAB-12294,34411,33232,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,sykesm,sykesm,04/Oct/18 5:06 AM,08/Oct/18 10:26 AM,28/Oct/23 3:04 AM,08/Oct/18 10:26 AM,,,,,,,,,,,,,,,0,,,,,,go 1.11 was installed earlier in the week but a bit prematurely as go 1.11.1 was expected this week.,,rameshthoomu,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzztov:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rameshthoomu,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"08/Oct/18 10:26 AM;rameshthoomu;go 1.11.1 is installed on x and z nodes. Closing this ticket;;;","08/Oct/18 10:26 AM;rameshthoomu;https://gerrit.hyperledger.org/r/#/c/26771/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update baseimage and fabric to go 1.11.1,FAB-12295,34412,33232,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,04/Oct/18 5:11 AM,19/Nov/18 2:00 PM,28/Oct/23 3:04 AM,19/Nov/18 1:28 PM,,,,,,v1.4.0,,,,,,,,,0,,,,,,,,denyeart,firas.qutishat,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12444,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzztp3:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,firas.qutishat,sykesm,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"16/Oct/18 1:56 AM;denyeart;[https://gerrit.hyperledger.org/r/#/c/26772/] baseimage

[https://gerrit.hyperledger.org/r/#/c/26962/] fabric;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
panic in cmd/common/comm TestTLSClient in ci,FAB-12296,34413,,Bug,Closed,FAB,Fabric,software,denyeart,,,Low,Done,sykesm,sykesm,sykesm,04/Oct/18 5:18 AM,20/Mar/19 3:34 PM,28/Oct/23 3:04 AM,19/Nov/18 2:04 PM,,,,,,v1.4.0,,,,,,,,,0,ci-flake,,,,,"{code}
	Test:       	TestTLSClient
00:04:44.373 unit-tests_1  | panic: runtime error: invalid memory address or nil pointer dereference [recovered]
00:04:44.373 unit-tests_1  | 	panic: runtime error: invalid memory address or nil pointer dereference
00:04:44.373 unit-tests_1  | [signal SIGSEGV: segmentation violation code=0x1 addr=0x10 pc=0xc38028]
00:04:44.373 unit-tests_1  | 
00:04:44.374 unit-tests_1  | goroutine 20 [running]:
00:04:44.374 unit-tests_1  | testing.tRunner.func1(0xc4200ee5a0)
00:04:44.374 unit-tests_1  | 	/opt/go/src/testing/testing.go:742 +0x567
00:04:44.375 unit-tests_1  | panic(0xe00280, 0x13f6bd0)
00:04:44.375 unit-tests_1  | 	/opt/go/src/runtime/panic.go:502 +0x24a
00:04:44.376 unit-tests_1  | github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*ClientConn).Close(0x0, 0x0, 0x0)
00:04:44.376 unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/clientconn.go:761 +0x68
00:04:44.376 unit-tests_1  | github.com/hyperledger/fabric/cmd/common/comm.TestTLSClient(0xc4200ee5a0)
00:04:44.377 unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/cmd/common/comm/client_test.go:43 +0x65a
00:04:44.377 unit-tests_1  | testing.tRunner(0xc4200ee5a0, 0xec95a0)
00:04:44.377 unit-tests_1  | 	/opt/go/src/testing/testing.go:777 +0x16e
00:04:44.378 unit-tests_1  | created by testing.(*T).Run
00:04:44.378 unit-tests_1  | 	/opt/go/src/testing/testing.go:824 +0x565
00:04:44.378 unit-tests_1  | FAIL	github.com/hyperledger/fabric/cmd/common/comm	0.965s
{code}",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"04/Oct/18 5:19 AM;sykesm;console-timestamp.log;https://jira.hyperledger.org/secure/attachment/16104/console-timestamp.log",,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzztpb:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"04/Oct/18 5:21 AM;sykesm;The {{context deadline exceeded}} error that precedes the panic implies the dial timeout expired. Since the test is expected to pass, a longer timeout is likely in order.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update the base image in the build process and `go fmt` the code at 1.11,FAB-12297,34414,33232,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,04/Oct/18 5:24 AM,19/Nov/18 1:29 PM,28/Oct/23 3:04 AM,19/Nov/18 1:29 PM,,,,,,,,,,,,,,,0,,,,,,"When we pick up 1.11, the linter script will fail due to changes in {{gofmt}}. The easiest way to address them is to reformat at the same time we update the base image.",,denyeart,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzztpj:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"19/Nov/18 1:29 PM;denyeart;https://gerrit.hyperledger.org/r/#/c/26962/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Orderer feature tests are failing in the daily Behave test, Assertion error due to chaincode container peer0.org1.example.com-mycc-0",FAB-12298,34416,,Bug,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,latitiah,sambhavdutt,sambhavdutt,04/Oct/18 10:35 AM,19/Mar/19 8:12 PM,28/Oct/23 3:04 AM,11/Oct/18 8:42 PM,v1.3.0,,,,,v1.3.0,,,,,fabric-quality,,,,0,ci-failure,,,,,"Noticed the following errors in Orderer Feature tests FAB-3852



{code:java}
04:26:31   @daily
04:26:31   Scenario Outline: FAB-3852: Message Payloads Less than 1MB, for solo orderer using the CLI interface -- @1.1                     # orderer.feature:134
04:26:31     Given I have a bootstrapped fabric network of type solo                                                                        # steps/basic_impl.py:229
04:26:31 org1.example.com

04:26:51     When an admin fetches genesis information using peer ""peer0.org1.example.com""                                                  # steps/endorser_impl.py:812
04:26:53     When an admin makes all peers join the channel                                                                                 # steps/endorser_impl.py:776
04:28:02       Assertion Failed: Unable to find the genesis block file behavesystest.block
04:28:02       Captured stdout:
04:28:02       testConfigs: configs/080badb6c6e611e88d89fa163e0427c8
04:28:02       [/bin/bash -c ""CORE_PEER_MSPCONFIGPATH=/var/hyperledger/configs/080badb6c6e611e88d89fa163e0427c8/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp CORE_PEER_LOCALMSPID=org1.example.com CORE_PEER_ID=peer0.org1.example.com 



04:29:07   @daily
04:29:07   Scenario Outline: FAB-3852: Message Payloads Less than 1MB, for solo orderer using the NodeJS SDK interface -- @1.3              # orderer.feature:136
04:29:07     Given I have a bootstrapped fabric network of type solo                                                                        # steps/basic_impl.py:229
04:29:07 org1.example.com
.
.
.
04:30:35     When an admin fetches genesis information using peer ""peer0.org1.example.com""                                                  # steps/endorser_impl.py:812
04:30:36     When an admin makes all peers join the channel                                                                                 # steps/endorser_impl.py:776
04:31:43     When an admin installs chaincode at path ""github.com/hyperledger/fabric/examples/chaincode/go/map"" with args [""""] on all peers # steps/endorser_impl.py:295
04:31:58     When an admin instantiates the chaincode on ""peer0.org1.example.com""                                                           # steps/endorser_impl.py:364
04:34:00       Assertion Failed: The expected chaincode container 652e48b4c6e611e88d89fa163e0427c8-peer0.org1.example.com-mycc-0 is not running
04:34:00       Captured stdout:
04:34:00       testConfigs: configs/652e48b4c6e611e88d89fa163e0427c8
04:34:00       node info: Node.js (V8)
04:34:00       npm install: make[1]: Entering directory '/w/workspace/fabric-test-daily-behave-master-x86_64/gopath/src/github.com/node_modules/dtrace-provider/build'
{code}

*Build Logs*

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-daily-behave-master-x86_64/43/",,latitiah,rameshthoomu,sambhavdutt,scottz,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzztpz:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),latitiah,rameshthoomu,sambhavdutt,scottz,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"04/Oct/18 11:39 PM;sambhavdutt;I can see this error in the Orderer service tests, the rest are fine.


{code:java}
orderer.Orderer Service.FAB-3851: Message Payloads of size 125KB (with default msg size), for kafka orderer -- @1.4 

The kafka containers are not ready in the allotted time (300 seconds)
{code}

https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-behave-master-x86_64/44/testReport/orderer/Orderer%20Service/FAB_3851__Message_Payloads_of_size_125KB__with_default_msg_size___for_kafka_orderer_____1_4_/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
fabric-samples version v1.1.0 - balance-transfer sample - does not work with custom crypto or custom network - missing steps/instructions?,FAB-12299,34417,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Invalid: Test Error,,pvrbharg,pvrbharg,04/Oct/18 11:20 AM,28/Nov/18 3:27 AM,28/Oct/23 3:04 AM,28/Nov/18 3:27 AM,v1.1.0,,,,,,,,,,,,,,0,,,,,,"fabric-samples version v1.1.0 - balance-transfer sample - does not work with custom crypto or custom network - missing steps/instructions?

A) Defined custom network with docker-compose
B) Defined custom consortium with configtx.yaml & crypto-config.yaml
C) Generated cryptogen and channel artifacts with config indicated in step B
D) Adjusted rest of sample definitions of balance-transfer to use A), B) and C)
E) Brought up network and started the application - runApp.sh. Network comes up and webserver starts with app deployed
F) Registering and enrollment of user fails - due to absence of fabric-ca-client-kv* artifacts in root folder and also in backing storage /tmp

G) Sample works fine - even after deleting those fabric-ca-client-kv* artifacts and re-running sample. However customized use case does not work this way.

F) What is missing? and what needs to be done to have the fabric-ca-client-kv* artifacts created first time and other times afterwards.

H) We need steps to perform to get custom use case working and also document the steps in the sample document. 

I) This could be an issue across multiple versions. Please perform these steps to replicate the problem to see for yourself. Thanks.",,pvrbharg,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzztq7:",,,,Unset,Unset,,,As above. Upon request - I can provide my setup artifacts for quicker issue resolution. Thanks.,,Unset,,,,,,Unset,,Unset,,(Please add usage information),pvrbharg,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"08/Oct/18 10:50 AM;pvrbharg;https://stackoverflow.com/questions/48836728/unable-to-enroll-user-in-new-org-added-to-balance-transfer-sample - helped in resolution of this issue and we can close this issue. Thanks.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Fix misspelling of “crytographic""",FAB-12300,34419,,Bug,Closed,FAB,Fabric,software,denyeart,,,Lowest,Done,diizuka,diizuka,diizuka,04/Oct/18 2:52 PM,04/Oct/18 8:10 PM,28/Oct/23 3:04 AM,04/Oct/18 8:10 PM,v1.1.0,v1.2.0,,,,v1.4.0,,,,,,,,,0,,,,,,"Fix misspelling of “crytographic” to “cryptographic”

Indocs/source/commands/peerchannel.md,
    docs/wrappers/peer_channel_postscript.md",,denyeart,diizuka,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzztqf:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,diizuka,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"04/Oct/18 8:10 PM;denyeart;master branch targets v1.4.0 now, merged in master.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove e2e_cli from fabric repo,FAB-12301,34422,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,mastersingh24,mastersingh24,mastersingh24,04/Oct/18 7:47 PM,30/Oct/18 3:07 AM,28/Oct/23 3:04 AM,30/Oct/18 3:07 AM,,,,,,v1.4.0,,,,,,,,,0,hygiene,,,,,"Integration tests within the fabric repo belong in the integration tests which are now written in Ginkgo.

The smoke tests use fabric-samples (which needs to change but that's a separate issue).

If someone is using e2e_cli as part of fabric tests, then it should be moved to the fabric test repo.",,grice_32,mastersingh24,silliman,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzztqv:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),grice_32,mastersingh24,silliman,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"04/Oct/18 7:48 PM;mastersingh24;[~latitiah]  [~bmos299]  - can either of you verify if anything actually uses the e2e_cli?;;;","29/Oct/18 9:36 PM;mastersingh24;https://gerrit.hyperledger.org/r/27253;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Change in docker Tag should be updated in .bash file,FAB-12302,34423,,Bug,Closed,FAB,Fabric,software,denyeart,,,Highest,Duplicate,,satyajitdeshmukh,satyajitdeshmukh,04/Oct/18 8:54 PM,29/Nov/18 6:31 AM,28/Oct/23 3:04 AM,29/Nov/18 6:31 AM,,,,,,,,,,,,,,,0,v1.0,,,,,"for installation of hyperledger on ubuntu I follow the following steps:
 # installed docker, go, curl
 # now on terminal execute command *curl -sSL https://goo.gl/6wtTN5 | bash -s 1.1.0 *
Expected : It should pull ca , zookeeper , kafka images

 # but got the error as:

      Status: Downloaded newer image for hyperledger/fabric-tools:x86_64-1.1.0
===> Pulling fabric ca Image
==> FABRIC CA IMAGE

*Error response from daemon: manifest for hyperledger/fabric-ca:x86_64-1.3.0-rc1 not found*
Error response from daemon: No such image: hyperledger/fabric-ca:x86_64-1.3.0-rc1
===> Pulling thirdparty docker images
==> THIRDPARTY DOCKER IMAGE: couchdb

Error response from daemon: manifest for hyperledger/fabric-couchdb:x86_64-0.4.12 not found
*Error response from daemon: No such image: hyperledger/fabric-couchdb:x86_64-0.4.12*
==> THIRDPARTY DOCKER IMAGE: kafka

Error response from daemon: manifest for hyperledger/fabric-kafka:x86_64-0.4.12 not found
Error response from daemon: No such image: hyperledger/fabric-kafka:x86_64-0.4.12
==> THIRDPARTY DOCKER IMAGE: zookeeper

Error response from daemon: manifest for hyperledger/fabric-zookeeper:x86_64-0.4.12 not found
*Error response from daemon: No such image: hyperledger/fabric-zookeeper:x86_64-0.4.12*

===> List out hyperledger docker images
hyperledger/fabric-tools     latest              b7bfddf508bc        6 months ago        1.46GB
hyperledger/fabric-tools     x86_64-1.1.0        b7bfddf508bc        6 months ago        1.46GB
hyperledger/fabric-orderer   latest              ce0c810df36a        6 months ago        180MB
hyperledger/fabric-orderer   x86_64-1.1.0        ce0c810df36a        6 months ago        180MB
hyperledger/fabric-peer      latest              b023f9be0771        6 months ago        187MB
hyperledger/fabric-peer      x86_64-1.1.0        b023f9be0771        6 months ago        187MB
hyperledger/fabric-javaenv   latest              82098abb1a17        6 months ago        1.52GB
hyperledger/fabric-javaenv   x86_64-1.1.0        82098abb1a17        6 months ago        1.52GB
hyperledger/fabric-ccenv     latest              c8b4909d8d46        6 months ago        1.39GB
hyperledger/fabric-ccenv     x86_64-1.1.0        c8b4909d8d46        6 months ago        1.39GB


Observation: https://raw.githubusercontent.com/hyperledger/fabric/master/scripts/bootstrap.sh this file should be updated with proper Image Tag

As many people use this link for environment setup I gave it as a high priority .
",,denyeart,satyajitdeshmukh,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12630,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-6122,,,No,,Unset,No,,,"1|hzztr3:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,satyajitdeshmukh,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"29/Nov/18 6:31 AM;denyeart;The installation instructions were incorrect, fixed in FAB-12630.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add info logging for chaincode invokes,FAB-12303,34424,,Task,Closed,FAB,Fabric,software,denyeart,,,High,Done,denyeart,denyeart,denyeart,04/Oct/18 9:42 PM,08/Oct/18 3:00 PM,28/Oct/23 3:04 AM,08/Oct/18 3:00 PM,,,,,,v1.3.0,v1.4.0,,,,fabric-peer,,,,0,,,,,,"Fabric operators need some minimal visibility into chaincode execution information, without turning on full peer debug.

Message should include context information such as channel and txid, as well as execution time.

For example log statements such as:
{code:java}
2018-10-04 08:35:47.055 EDT [endorser] SimulateProposal -> INFO 033 [myc][b762a22d] Entry chaincode: marbles
2018-10-04 08:35:47.060 EDT [endorser] SimulateProposal -> INFO 034 [myc][b762a22d] Exit chaincode: marbles (5ms){code}",,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzztrb:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.3,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"04/Oct/18 9:59 PM;denyeart;https://gerrit.hyperledger.org/r/#/c/26789/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Data race  in fabric/core/comm_test.TestCipherSuites,FAB-12304,34426,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,04/Oct/18 10:10 PM,20/Mar/19 3:40 PM,28/Oct/23 3:04 AM,05/Oct/18 11:14 PM,,,,,,v1.4.0,,,,,,,,,0,ci-flake,,,,,"{code}
00:13:36.251 unit-tests_1  | ==================
00:13:36.251 unit-tests_1  | WARNING: DATA RACE
00:13:36.251 unit-tests_1  | Read at 0x00c42049ab20 by goroutine 97:
00:13:36.252 unit-tests_1  |   github.com/hyperledger/fabric/core/comm.NewGRPCServerFromListener()
00:13:36.252 unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/core/comm/server.go:82 +0xee4
00:13:36.252 unit-tests_1  |   github.com/hyperledger/fabric/core/comm_test.TestCipherSuites.func1()
00:13:36.253 unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/core/comm/server_test.go:1740 +0x2cb
00:13:36.253 unit-tests_1  |   testing.tRunner()
00:13:36.254 unit-tests_1  |       /opt/go/src/testing/testing.go:777 +0x16d
00:13:36.254 unit-tests_1  | 
00:13:36.254 unit-tests_1  | Previous write at 0x00c42049ab20 by goroutine 96:
00:13:36.255 unit-tests_1  |   github.com/hyperledger/fabric/core/comm.NewGRPCServerFromListener()
00:13:36.255 unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/core/comm/server.go:83 +0x17f9
00:13:36.255 unit-tests_1  |   github.com/hyperledger/fabric/core/comm_test.TestCipherSuites.func1()
00:13:36.255 unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/core/comm/server_test.go:1740 +0x2cb
00:13:36.256 unit-tests_1  |   testing.tRunner()
00:13:36.256 unit-tests_1  |       /opt/go/src/testing/testing.go:777 +0x16d
00:13:36.256 unit-tests_1  | 
00:13:36.257 unit-tests_1  | Goroutine 97 (running) created at:
00:13:36.257 unit-tests_1  |   testing.(*T).Run()
00:13:36.257 unit-tests_1  |       /opt/go/src/testing/testing.go:824 +0x564
00:13:36.258 unit-tests_1  |   github.com/hyperledger/fabric/core/comm_test.TestCipherSuites()
00:13:36.258 unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/core/comm/server_test.go:1731 +0x661
00:13:36.258 unit-tests_1  |   testing.tRunner()
00:13:36.259 unit-tests_1  |       /opt/go/src/testing/testing.go:777 +0x16d
00:13:36.259 unit-tests_1  | 
00:13:36.259 unit-tests_1  | Goroutine 96 (running) created at:
00:13:36.259 unit-tests_1  |   testing.(*T).Run()
00:13:36.260 unit-tests_1  |       /opt/go/src/testing/testing.go:824 +0x564
00:13:36.260 unit-tests_1  |   github.com/hyperledger/fabric/core/comm_test.TestCipherSuites()
00:13:36.261 unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/core/comm/server_test.go:1731 +0x661
00:13:36.261 unit-tests_1  |   testing.tRunner()
00:13:36.261 unit-tests_1  |       /opt/go/src/testing/testing.go:777 +0x16d
00:13:36.262 unit-tests_1  | ==================
{code}",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"04/Oct/18 10:12 PM;sykesm;console-timestamp.log;https://jira.hyperledger.org/secure/attachment/16105/console-timestamp.log",,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzztrj:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add support to  Ubuntu Bionic Beaver(18.04),FAB-12305,34429,,Documentation,Closed,FAB,Fabric,software,denyeart,,,Low,Invalid,verasnt,verasnt,verasnt,04/Oct/18 10:37 PM,04/Oct/18 10:47 PM,28/Oct/23 3:04 AM,04/Oct/18 10:47 PM,,,,,,,,,,,fabric-docs,,,,0,,,,,,"When trying to run the _prereqs-ubuntu_ script, with the Ubuntu bionic beaver, I'm facing this error message:
{color:#ce9178}Error: Ubuntu {color}{color:#9cdcfe}bionic{color}{color:#ce9178} is not supported {color}
We need to update the _prereqs-ubuntu.sh_ script in order to work with the latest Ubuntu version until now, Ubuntu 18.04.",,verasnt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzts7:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),verasnt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"04/Oct/18 10:46 PM;verasnt;I'm closing this issue since the script doesn't belong to the fabric project, it belongs to the composer instead.;;;","04/Oct/18 10:47 PM;verasnt;Issue of the composer project.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Unable to join channel. SimulateProposal() resulted in chaincode name:“cscc” response status 500,FAB-12306,34430,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid: Environment Issue,hayorov,hayorov,hayorov,04/Oct/18 11:23 PM,07/Oct/18 7:24 PM,28/Oct/23 3:04 AM,07/Oct/18 3:58 AM,,,,,,,,,,,fabric-crypto,,,,0,,,,,,"I am having trouble setting up simple Hyperledger Fabric v1.2.0 network.

After successful creation of the channel ""ch0"" I'm trying to join peer and got an error:

2018-10-04 07:18:30.947 UTC [msp] setupSigningIdentity -> DEBU 034 Signing identity expires at 2028-09-22 16:32:29 +0000 UTC
2018-10-04 07:18:30.947 UTC [msp] Validate -> DEBU 035 MSP rg-837-380-MSP validating identity
2018-10-04 07:18:30.948 UTC [msp] GetDefaultSigningIdentity -> DEBU 036 Obtaining default signing identity
2018-10-04 07:18:30.948 UTC [grpc] Printf -> DEBU 037 parsed scheme: """"
2018-10-04 07:18:30.949 UTC [grpc] Printf -> DEBU 038 scheme """" not registered, fallback to default scheme
2018-10-04 07:18:30.949 UTC [grpc] Printf -> DEBU 039 ccResolverWrapper: sending new addresses to cc: [{nd-418-523-262.rg-837-380.int.chainstack.com:7051 0  <nil>}]
2018-10-04 07:18:30.949 UTC [grpc] Printf -> DEBU 03a ClientConn switching balancer to ""pick_first""
2018-10-04 07:18:30.949 UTC [grpc] Printf -> DEBU 03b pickfirstBalancer: HandleSubConnStateChange: 0xc42029a440, CONNECTING
2018-10-04 07:18:30.978 UTC [grpc] Printf -> DEBU 03c pickfirstBalancer: HandleSubConnStateChange: 0xc42029a440, READY
2018-10-04 07:18:30.978 UTC [channelCmd] InitCmdFactory -> INFO 03d Endorser and orderer connections initialized
2018-10-04 07:18:30.979 UTC [msp/identity] Sign -> DEBU 03e Sign: plaintext: 0AF8070A5C08011A0C08C6FDD6DD0510...489856DDF7A81A080A000A000A000A00
2018-10-04 07:18:30.979 UTC [msp/identity] Sign -> DEBU 03f Sign: digest: E1E14E933A56D3D38779D514A70EDB9961B3CA72F6CEDB9B463367C42ACB13A4
Error: proposal failed (err: bad proposal response 500

Peer daemon logs - https://gist.github.com/hayorov/0bd50eaf94ecc74f0eb46a59bbf12f16

Additional info

The network I am trying to build consists of one ordered and one peer (the same organization).
channel created with SDK - [https://gist.github.com/hayorov/169d1730a5340ea2e3577995d6df6c7c]

network.json [https://gist.github.com/hayorov/d181f6e5608c07b811bb7dc6c6326d68]

configtxgen -inspectBlock ch0_newest.block > [https://gist.github.com/hayorov/269fe5666a2434627068d9783e4dd483]

cryptoconfigtx.yaml [https://gist.github.com/hayorov/18e568321d940f283c4e542589bff32a]

crypto material and genesis.block (in base64) https://gist.github.com/hayorov/fa23f73a9b581a5a995e55d407dcac13


I'm using official docker images with tag 1.2.0 to spin up nodes. Nodes (orderer and peer) located on one physical docker node, it's a kubernetes, based in GCP. I write helm charts to run the network.

1. What's wrong with my network?
2. How to debug  the issue ""2018-10-04 07:18:30.984 UTC [endorser] ProcessProposal -> ERRO 1159 [][e478c216] simulateProposal() resulted in chaincode name:""cscc""  response status 500 for txid: ""? I tried to get more logs, no new info. Also only shot error from CLI ""Error: proposal failed (err: bad proposal response 500""",,hayorov,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzztsf:",,,,Unset,Unset,,,"1. Create a channel with name `ch0`
2. peer channel fetch newest -o nd-418-523-261.rg-837-380.int.chainstack.com:7050 -c ch0
3. peer channel join -b ch0_newest.block -o nd-418-523-261.rg-837-380.int.chainstack.com:7050",,Unset,,,,,,Unset,,Unset,,(Please add usage information),hayorov,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"04/Oct/18 11:26 PM;hayorov;+ [~yacovm] we discussed the issue in https://chat.hyperledger.org/
+ StackOverflow topic https://stackoverflow.com/questions/52554910/unable-to-join-channel-simulateproposal-resulted-in-chaincode-namecscc-res;;;","07/Oct/18 3:54 AM;hayorov;Added an extra logging at /core/endorser/endorser.go

{code:go}
	cd, res, simulationResult, ccevent, err := e.SimulateProposal(ctx, chainID, txid, signedProp, prop, hdrExt.ChaincodeId, txsim)
	if err != nil {
		return &pb.ProposalResponse{Response: &pb.Response{Status: 500, Message: err.Error()}}, nil
	}
	if res != nil {

		if res.Status >= shim.ERROR {
			endorserLogger.Error(""DEBUG:"", err, res)
			endorserLogger.Errorf(""[%s][%s] simulateProposal() resulted in chaincode %s response status %d for txid: %s"", chainID, shorttxid(txid), hdrExt.ChaincodeId, res.Status, txid)
			var cceventBytes []byte
			if ccevent != nil {
				cceventBytes, err = putils.GetBytesChaincodeEvent(ccevent)
				if err != nil {
					return nil, errors.Wrap(err, ""failed to marshal event bytes"")
				}
			}
{code}

2. Get error in peer log:
{code}
2018-10-06 18:11:06.296 UTC [endorser] ProcessProposal -> ERRO 163 DEBUG: <nil> status:500 message:""access denied for [JoinChain][ch0]: [Failed verifying that proposal's creator satisfies local MSP principal during channelless check policy with policy [Admins]: [This identity is not an admin]]""
{code}

3. Fixed an issue with MSP key file.

Recap: Invalid issue due to the incorrect key was used.

For fabric, I think it would be nice to improve the DEBUG logging for such kind of chaincodes.

And big thanks [~yacovm] for great assisting and help.;;;","07/Oct/18 4:03 AM;yacovm;TLDR - [~denyeart], [~sykesm] we need to add loging for SCC errors in the endorser...;;;","07/Oct/18 4:05 AM;yacovm;[~hayorov] would you like to submit a patch that adds such a logging?;;;","07/Oct/18 7:24 PM;hayorov;[~yacovm] Yes, I will raise a PR with such small logging improvement tomorrow.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,
Intermittent test failure in peer/node/status_test TestStatus,FAB-12307,34435,,Bug,Closed,FAB,Fabric,software,denyeart,,,Low,Done,sykesm,sykesm,sykesm,04/Oct/18 11:56 PM,19/Mar/19 7:57 PM,28/Oct/23 3:04 AM,05/Oct/18 11:14 PM,,,,,,,,,,,,,,,0,ci-flake,,,,,"{code}
00:17:28.912 unit-tests_1  | 2018-10-03 21:26:16.028 UTC [nodeCmd] status -> WARN 034 admin client failed to connect to : failed to create new connection: context deadline exceeded
00:17:28.912 unit-tests_1  | status:UNKNOWN 
00:17:28.912 unit-tests_1  | --- FAIL: TestStatus (0.04s)
00:17:28.913 unit-tests_1  |     --- FAIL: TestStatus/status_function_to_success (0.02s)
00:17:28.914 unit-tests_1  |     	status_test.go:102: Running test: status function to success
00:17:28.914 unit-tests_1  |     	assertions.go:256: 
00:17:28.914 unit-tests_1  |     			Error Trace:	status_test.go:113
00:17:28.915 unit-tests_1  |     			Error:      	Received unexpected error:
00:17:28.915 unit-tests_1  |     			            	context deadline exceeded
00:17:28.916 unit-tests_1  |     			            	github.com/hyperledger/fabric/core/comm.(*GRPCClient).NewConnection
00:17:28.916 unit-tests_1  |     			            		/opt/gopath/src/github.com/hyperledger/fabric/core/comm/client.go:187
00:17:28.917 unit-tests_1  |     			            	github.com/hyperledger/fabric/peer/common.(*PeerClient).Admin
00:17:28.918 unit-tests_1  |     			            		/opt/gopath/src/github.com/hyperledger/fabric/peer/common/peerclient.go:102
00:17:28.919 unit-tests_1  |     			            	github.com/hyperledger/fabric/peer/common.GetAdminClient
00:17:28.919 unit-tests_1  |     			            		/opt/gopath/src/github.com/hyperledger/fabric/peer/common/peerclient.go:148
00:17:28.920 unit-tests_1  |     			            	github.com/hyperledger/fabric/peer/node.status
00:17:28.921 unit-tests_1  |     			            		/opt/gopath/src/github.com/hyperledger/fabric/peer/node/status.go:42
00:17:28.922 unit-tests_1  |     			            	github.com/hyperledger/fabric/peer/node.TestStatus.func2
00:17:28.923 unit-tests_1  |     			            		/opt/gopath/src/github.com/hyperledger/fabric/peer/node/status_test.go:113
00:17:28.924 unit-tests_1  |     			            	testing.tRunner
00:17:28.925 unit-tests_1  |     			            		/opt/go/src/testing/testing.go:777
00:17:28.925 unit-tests_1  |     			            	runtime.goexit
00:17:28.926 unit-tests_1  |     			            		/opt/go/src/runtime/asm_amd64.s:2361
00:17:28.926 unit-tests_1  |     			            	failed to create new connection
00:17:28.927 unit-tests_1  |     			            	admin client failed to connect to localhost:7071
00:17:28.927 unit-tests_1  |     			Test:       	TestStatus/status_function_to_success
00:17:28.928 unit-tests_1  | 2018-10-03 21:26:16.038 UTC [nodeCmd] status -> INFO 035 Error trying to get status from local peer: rpc error: code = Unimplemented desc = unknown service protos.Admin
00:17:28.928 unit-tests_1  | status:UNKNOWN 
00:17:28.929 unit-tests_1  | FAIL
00:17:28.929 unit-tests_1  | coverage: 65.6% of statements
00:17:28.930 unit-tests_1  | FAIL	github.com/hyperledger/fabric/peer/node	1.481s
{code}

Appears to be a timeout that's a little too aggressive.",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12291,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzztt3:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Expose method to get current writer from flogging.Global,FAB-12309,34438,,Task,Closed,FAB,Fabric,software,denyeart,,,Low,Won't Do,,sykesm,sykesm,05/Oct/18 4:48 AM,23/Jan/20 7:32 AM,28/Oct/23 3:04 AM,23/Jan/20 7:32 AM,,,,,,,,,,,fabric-common,,,,0,stale-item,,,,,"This was a question that came up during a CR review.

/cc [~manish-sethi]",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00cj0:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 7:32 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
PTE adds gopath to connection profile conversion,FAB-12310,34442,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,dongming,dongming,dongming,05/Oct/18 5:39 AM,17/Oct/18 2:45 AM,28/Oct/23 3:04 AM,10/Oct/18 1:35 AM,,,,,,,,,,,fabric-quality,,,,0,,,,,,"Need to add ""gopath"" to the connection profile conversion for automation",,dongming,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-2247,,,No,,Unset,No,,,"1|hzztun:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),dongming,,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,release-1.1,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,release-1.2,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,true,"05/Oct/18 5:43 AM;dongming;https://gerrit.hyperledger.org/r/#/c/26806/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Developing Applications topic: Tutorial,FAB-12311,34443,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,odowdaibm,odowdaibm,odowdaibm,05/Oct/18 1:33 PM,17/Nov/18 7:04 AM,28/Oct/23 3:04 AM,17/Nov/18 7:04 AM,v1.4.0,,,,,v1.4.0,,,,,fabric-docs,,,,0,,,,,,Add tutorial for commercial paper,,odowdaibm,SjirNijssen,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Yes,Unset,,FAB-11459,,,No,,Unset,No,,,"1|hzztuv:",,,,No,Unset,,,(Please add steps to reproduce),,No,,,,,,Unset,,Unset,,(Please add usage information),odowdaibm,SjirNijssen,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"05/Oct/18 1:36 PM;odowdaibm;[~SjirNijssen] [~EdProsser] [~mbwhite] 

 

Hello guys, Just an awareness on this topic – the tutorial for commercial paper.  I'll base it on Matthew's tutorial here: [https://github.com/ampretia/fabric-application-examples/blob/europa/docs/Running-Commercial-Paper-Contract.md]

 

It's take a couple of patches before it's ready to review, but please feel free to add comments as necessary. Thanks.;;;","07/Nov/18 8:53 PM;odowdaibm;Carve out the following topics and rationalize with existing material, per [~ChristopherFerris] Gerrit comments
 # Pre-requisites
 # Samples download
 # GOPATH setup
 # Network install to be a real PaperNet network configuration;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Improving Idemix Documentation,FAB-12312,34444,,Task,Closed,FAB,Fabric,software,denyeart,,,High,Done,angelo.decaro,angelo.decaro,angelo.decaro,05/Oct/18 3:49 PM,13/Nov/18 9:44 PM,28/Oct/23 3:04 AM,13/Nov/18 9:44 PM,v1.3.0,,,,,v1.4.0,,,,,fabric-crypto,,,,0,idemix,,,,,The goal of this Fab is to increase code documentation and provide topology related guidelines,,angelo.decaro,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12753,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-8793,,,No,,Unset,No,,,"1|hzztv3:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),angelo.decaro,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"13/Nov/18 9:44 PM;angelo.decaro;https://gerrit.hyperledger.org/r/#/c/27417/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Move compiled protobuf messages under fabric/protos/idemix,FAB-12313,34445,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,angelo.decaro,angelo.decaro,angelo.decaro,05/Oct/18 3:52 PM,28/Nov/18 11:00 PM,28/Oct/23 3:04 AM,07/Nov/18 4:50 PM,v1.3.0,,,,,Future,,,,,fabric-crypto,,,,0,idemix,,,,,"fabric/idemix uses protobuf messages as objects manipulated by the cryptographic algorithms. With this task, we will break this dependency and have the protobuf messages used for transporting the cryptographic material and new will introduce new objects that will be manipulated by crypto algorithms.

 ",,angelo.decaro,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-12758,,,No,,Unset,No,,,"1|hzztvb:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),angelo.decaro,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Isolate building blocks (WBB, ...)",FAB-12314,34446,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,angelo.decaro,angelo.decaro,angelo.decaro,05/Oct/18 3:58 PM,07/Nov/18 5:03 PM,28/Oct/23 3:04 AM,07/Nov/18 4:50 PM,v1.3.0,,,,,Future,,,,,fabric-crypto,,,,0,,,,,,,,angelo.decaro,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-12758,,,No,,Unset,No,,,"1|hzztvj:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),angelo.decaro,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update Makefile Targets for ppc,FAB-12315,34447,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,harsha544,harsha544,harsha544,05/Oct/18 4:41 PM,20/Nov/18 5:23 AM,28/Oct/23 3:04 AM,19/Nov/18 11:27 PM,,,,,,v1.4.0,,,,,,,,,0,fabric-ci,,,,,"Now UT's are passing for ppc64le in sandbox , and per [~rameshthoomu] suggestion we might need to update targets in Makefile so we can continue testing for nightly jobs 
 [https://jenkins.hyperledger.org/view/Daily/job/fabric-nightly-release-job-master-ppc64le/]",,denyeart,harsha544,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzztvr:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,harsha544,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"05/Oct/18 5:25 PM;harsha544;-[https://gerrit.hyperledger.org/r/#/c/26815/ |https://gerrit.hyperledger.org/r/#/c/26815/]-- release-1.3-

[https://gerrit.hyperledger.org/r/#/c/26814/] – master;;;","10/Oct/18 10:53 AM;denyeart;A change cannot be made in the final days of v1.3 after release candidate had been cut, will have to target v1.4.;;;","16/Oct/18 3:25 AM;harsha544;[~denyeart] I have abandoned change [https://gerrit.hyperledger.org/r/#/c/26815/] 

Awaiting maintainers response on [https://gerrit.hyperledger.org/r/#/c/26814/] , this PR is based on master branch.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
execute set of pte tests on any network,FAB-12316,34449,,Test Task,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,dongming,Ratnakar,Ratnakar,05/Oct/18 8:33 PM,15/Jul/19 8:29 PM,28/Oct/23 3:04 AM,26/Oct/18 5:42 AM,,,,,,v1.1.3,v1.2.2,v1.4.0,,,fabric-quality,,,,0,,,,,,"As a test user, I should be able to execute a set of defined tests using various tools that work across various cloud environments, by providing a connection profile and running existing PTE tool and tests.",,dongming,Ratnakar,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-2247,,,No,,Unset,No,,,"1|hzztvz:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,System Test,,(Please add usage information),dongming,Ratnakar,scottz,,,,,,,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,release-1.1,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,release-1.2,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,release-1.3,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-1.4,release-2.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,,true,"13/Oct/18 1:23 AM;dongming;https://gerrit.hyperledger.org/r/#/c/26954/;;;","25/Oct/18 4:09 AM;scottz;cherry pick to 1.3 (from master): https://gerrit.hyperledger.org/r/#/c/27177/;;;","25/Oct/18 5:45 AM;scottz;final cleanup (master, ok for all branches):  https://gerrit.hyperledger.org/r/#/c/27179/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"docker manifest and images not found for fabric-ca, fabric-couchdb, fabric-kafka, and fabric-zookeeper",FAB-12317,34450,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Duplicate,,dipakyadav,dipakyadav,05/Oct/18 8:52 PM,28/Nov/18 3:29 AM,28/Oct/23 3:04 AM,28/Nov/18 3:29 AM,,,,,,,,,,,,,,,0,,,,,,"{code:java}
curl -sSL https://goo.gl/6wtTN5 | bash -s 1.1.0{code}
Error response from daemon: manifest for hyperledger/fabric-ca:x86_64-1.3.0-rc1 not found
Error response from daemon: No such image: hyperledger/fabric-ca:x86_64-1.3.0-rc1
===> Pulling thirdparty docker images
==> THIRDPARTY DOCKER IMAGE: couchdb

Error response from daemon: manifest for hyperledger/fabric-couchdb:x86_64-0.4.12 not found
Error response from daemon: No such image: hyperledger/fabric-couchdb:x86_64-0.4.12
==> THIRDPARTY DOCKER IMAGE: kafka

Error response from daemon: manifest for hyperledger/fabric-kafka:x86_64-0.4.12 not found
Error response from daemon: No such image: hyperledger/fabric-kafka:x86_64-0.4.12
==> THIRDPARTY DOCKER IMAGE: zookeeper

Error response from daemon: manifest for hyperledger/fabric-zookeeper:x86_64-0.4.12 not found
Error response from daemon: No such image: hyperledger/fabric-zookeeper:x86_64-0.4.12",,denyeart,dipakyadav,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12630,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwrov:",,,,Unset,Unset,,,"just run the command `curl -sSL https://goo.gl/6wtTN5 | bash -s 1.1.0`",,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,dipakyadav,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"28/Nov/18 3:29 AM;denyeart;The v1.1 instructions have been fixed in https://gerrit.hyperledger.org/r/#/c/27324/.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
fabric-end-2-end-daily tests in master and release-1.1 have failed  in BYFN and Node chaincode respectively,FAB-12318,34451,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,sambhavdutt,sambhavdutt,05/Oct/18 10:07 PM,19/Mar/19 8:13 PM,28/Oct/23 3:04 AM,05/Nov/18 11:23 PM,v1.1.0,v1.4.0,,,,v1.1.0,v1.4.0,,,,fabric-build,,,,0,ci-failure,,,,,"the end to end tests are failing in master during the BYFN tests during chaincode instantiation and in release 1.1 due to npm error in sdk-node tests.



*Build Logs*

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-end-2-end-daily-master-x86_64/238/

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-end-2-end-daily-release-1.1-x86_64/227/ ",,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12589,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,f0a4512fe946942c200b8633c06225ea9ad2d24b,Unset,No,,,"1|hzztw7:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"05/Nov/18 11:24 PM;sambhavdutt;The end-2-end tests are no longer failing due to npm install.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
unit-test-daily-release-1.2 failed as deadline exceeded in TestOrderer Client.,FAB-12319,34452,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,sambhavdutt,sambhavdutt,05/Oct/18 10:15 PM,19/Mar/19 8:12 PM,28/Oct/23 3:04 AM,18/Oct/18 11:00 PM,v1.2.0,,,,,v1.2.0,,,,,fabric-build,,,,0,ci-failure,,,,,"Observed these errors in the unit teset daily for release-1.2 branch.

{code:java}
21:05:51 unit-tests_1  | --- FAIL: TestOrdererClient (0.02s)
21:05:51 unit-tests_1  | 	assertions.go:247: 
                          
	Error Trace:	ordererclient_test.go:97
21:05:51 unit-tests_1  | 		
	Error:      	Received unexpected error:
21:05:51 unit-tests_1  | 		
	            	context deadline exceeded
21:05:51 unit-tests_1  | 		
	            	github.com/hyperledger/fabric/core/comm.(*GRPCClient).NewConnection
21:05:51 unit-tests_1  | 		
	            		/opt/gopath/src/github.com/hyperledger/fabric/core/comm/client.go:186
21:05:51 unit-tests_1  | 		
	            	github.com/hyperledger/fabric/peer/common.(*OrdererClient).Deliver
21:05:51 unit-tests_1  | 		
	            		/opt/gopath/src/github.com/hyperledger/fabric/peer/common/ordererclient.go:55
21:05:51 unit-tests_1  | 		
	            	github.com/hyperledger/fabric/peer/common_test.TestOrdererClient
21:05:51 unit-tests_1  | 		
	            		/opt/gopath/src/github.com/hyperledger/fabric/peer/common/ordererclient_test.go:96
21:05:51 unit-tests_1  | 		
	            	testing.tRunner
21:05:51 unit-tests_1  | 		
	            		/opt/go/src/testing/testing.go:777
21:05:51 unit-tests_1  | 		
	            	runtime.goexit
21:05:51 unit-tests_1  | 		
	            		/opt/go/src/runtime/asm_amd64.s:2361
21:05:51 unit-tests_1  | 		
	            	failed to create new connection
21:05:51 unit-tests_1  | 		
	            	orderer client failed to connect to 127.0.0.1:32967
21:05:51 unit-tests_1  | 		
	Test:       	TestOrdererClient
21:05:51 unit-tests_1  | 	assertions.go:247: 
                          
	Error Trace:	ordererclient_test.go:98
21:05:51 unit-tests_1  | 		
	Error:      	Expected value not to be nil.
21:05:51 unit-tests_1  | 		
	Test:       	TestOrdererClient
21:05:51 unit-tests_1  | FAIL
{code}


*Build Logs*

",,rameshthoomu,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,948a134a3babd0dcd26324cf0ef8d4494eb41a62,Unset,No,,,"1|hzztwf:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rameshthoomu,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"12/Oct/18 10:34 PM;sambhavdutt;The unit-tests failed in release-1.2 in today's daily build in the gossip test, the unit-test , 

{code:java}
21:13:22 unit-tests_1  | --- FAIL: TestDataLeakage (188.06s)
21:13:22 unit-tests_1  | 	gossip_test.go:995: 0 joined A
21:13:22 unit-tests_1  | 	gossip_test.go:995: 1 joined A
21:13:22 unit-tests_1  | 	gossip_test.go:995: 2 joined A
21:13:22 unit-tests_1  | 	gossip_test.go:995: 3 joined A
21:13:22 unit-tests_1  | 	gossip_test.go:995: 4 joined A
21:13:22 unit-tests_1  | 	gossip_test.go:995: 5 joined B
21:13:22 unit-tests_1  | 	gossip_test.go:995: 6 joined B
21:13:22 unit-tests_1  | 	gossip_test.go:995: 7 joined B
21:13:22 unit-tests_1  | 	gossip_test.go:995: 8 joined B
21:13:22 unit-tests_1  | 	gossip_test.go:995: 9 joined B
21:13:22 unit-tests_1  | 	gossip_test.go:1014: Metadata sync took 3.001809842s
21:13:22 unit-tests_1  | 	assertions.go:247: 
                          
	Error Trace:	gossip_test.go:1530
21:13:22 unit-tests_1  | 		
	            	
			asm_amd64.s:2361
21:13:22 unit-tests_1  | 		
	Error:      	Didn't stop within a timely manner
21:13:22 unit-tests_1  | 		
	Test:       	TestDataLeakage
21:13:22 unit-tests_1  | 	assertions.go:247: 
                          
	Error Trace:	gossip_test.go:1606
21:13:22 unit-tests_1  | 		
	            	
			gossip_test.go:1047
21:13:22 unit-tests_1  | 		
	Error:      	Timeout expired!
21:13:22 unit-tests_1  | 		
	Test:       	TestDataLeakage
21:13:22 unit-tests_1  | 	gossip_test.go:1048: Dissemination took 3m0.029244782s
21:13:22 unit-tests_1  | 	gossip_test.go:1054: Stop took 2.009888483s
21:13:22 unit-tests_1  | FAIL
21:13:22 unit-tests_1  | coverage: 85.0% of statements
21:13:22 unit-tests_1  | FAIL	github.com/hyperledger/fabric/gossip/gossip	230.840s
{code}

*Build Log*
*fabric Commit release-1.2: 30e9572f72483d8d6b61b72991d5db8c5212a880*
https://jenkins.hyperledger.org/view/Daily/job/fabric-unit-test-daily-release-1.2-x86_64/16/consoleFull

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-unit-test-daily-release-1.2-x86_64/16/;;;","18/Oct/18 10:59 PM;sambhavdutt;This job is no longer failing due to the timeout error.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
The unit tests are failing in fabric-daily-release-1.3-s390x due to Gossip error.,FAB-12320,34453,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid: Works as Expected,C0rWin,sambhavdutt,sambhavdutt,05/Oct/18 10:26 PM,19/Mar/19 7:57 PM,28/Oct/23 3:04 AM,18/Jan/19 9:46 PM,v1.3.0,,,,,v1.4.1,v2.0.0,,,,fabric-gossip,,,,0,ci-flake,,,,,"the unit test daily is failing in release-1.3 due to gossit test error,


{code:java}
20:52:51 unit-tests_1  | 2018-10-05 00:52:09.691 UTC [gossip/privdata] NewCoordinator -> WARN 046 Configuration key peer.gossip.pvtData.transientstoreMaxBlockRetention isn't set, defaulting to 1000
20:52:51 unit-tests_1  | --- FAIL: TestNewGossipStateProvider_BatchingOfStateRequest (22.12s)
20:52:51 unit-tests_1  | 	state_test.go:1217: Expected to receive two batches with missing payloads
20:52:51 unit-tests_1  | 2018-10-05 00:52:19.853 UTC [gossip/gossip#p0] NewGossipService -> WARN 047 External endpoint is empty, peer will not be accessible outside of its organization
20:52:51 unit-tests_1  | 2018-10-05 00:52:19.853 UTC [gossip/privdata] NewCoordinator -> WARN 048 Configuration key peer.gossip.pvtData.transientstoreMaxBlockRetention isn't set, defaulting to 1000
20:52:51 unit-tests_1  | 2018-10-05 00:52:20.200 UTC [gossip/gossip#p1] NewGossipService -> WARN 049 External endpoint is empty, peer will not be accessible outside of its organization
20:52:51 unit-tests_1  | 2018-10-05 00:52:20.200 UTC [gossip/privdata] NewCoordinator -> WARN 04a Configuration key peer.gossip.pvtData.transientstoreMaxBlockRetention isn't set, defaulting to 1000
20:52:51 unit-tests_1  | 2018-10-05 00:52:20.510 UTC [gossip/gossip#p2] NewGossipService -> WARN 04b External endpoint is empty, peer will not be accessible outside of its organization
20:52:51 unit-tests_1  | 2018-10-05 00:52:20.510 UTC [gossip/privdata] NewCoordinator -> WARN 04c Configuration key peer.gossip.pvtData.transientstoreMaxBlockRetention isn't set, defaulting to 1000
20:52:51 unit-tests_1  | 2018-10-05 00:52:20.715 UTC [gossip/privdata] NewCoordinator -> WARN 04d Configuration key peer.gossip.pvtData.transientstoreMaxBlockRetention isn't set, defaulting to 1000
20:52:51 unit-tests_1  | 2018-10-05 00:52:20.715 UTC [gossip/privdata] NewCoordinator -> WARN 04e Configuration key peer.gossip.pvtData.transientstoreMaxBlockRetention isn't set, defaulting to 1000
20:52:51 unit-tests_1  | 2018-10-05 00:52:20.801 UTC [gossip/gossip#p3] NewGossipService -> WARN 04f External endpoint is empty, peer will not be accessible outside of its organization
20:52:51 unit-tests_1  | 2018-10-05 00:52:20.801 UTC [gossip/privdata] NewCoordinator -> WARN 050 Configuration key peer.gossip.pvtData.transientstoreMaxBlockRetention isn't set, defaulting to 1000
20:52:51 unit-tests_1  | 2018-10-05 00:52:21.129 UTC [gossip/gossip#p4] NewGossipService -> WARN 051 External endpoint is empty, peer will not be accessible outside of its organization
{code}

*Build Log*
https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-unit-test-daily-release-1.3-s390x/7/",,denyeart,rameshthoomu,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,e9d023b4d4887c8213387d011b0b4864ebedaf21,Unset,No,,,"1|hzztwn:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,rameshthoomu,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"09/Oct/18 1:20 PM;denyeart;[~sambhavdutt] For each of these CI failures that you open, please indicate if the failure is intermittent or on every execution.;;;","18/Oct/18 10:35 PM;sambhavdutt;This test has been passing from last two builds.;;;","12/Jan/19 12:46 AM;denyeart;Seen again:

https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/7822/consoleFull;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Develop Apps:Sample pt 3 -- updates,FAB-12322,34455,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,mbwhite,odowdaibm,odowdaibm,05/Oct/18 11:35 PM,17/Nov/18 7:03 AM,28/Oct/23 3:04 AM,17/Nov/18 7:03 AM,v1.4.0,,,,,v1.4.0,,,,,fabric-samples,,,,0,,,,,,Updates to samples for commercial paper application and smart contract as a result of enhancements,,mbwhite,odowdaibm,SjirNijssen,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Yes,Unset,,FAB-11459,,,No,,Unset,No,,,"1|hzztx3:",,,,No,Unset,,,(Please add steps to reproduce),,No,,,,,,Unset,,Unset,,(Please add usage information),mbwhite,odowdaibm,SjirNijssen,,,,,,,,,,,,,,,,,,,,,,,,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-6.11.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/tough-cookie-4.1.3,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/semver-6.3.1,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/grpc/grpc-js-1.8.17,dependabot/go_modules/high-throughput/application-go/google.golang.org/grpc-1.53.0,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/word-wrap-1.2.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-and-fabric-network-7.2.4,dependabot/go_modules/asset-transfer-basic/application-go/google.golang.org/grpc-1.53.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"17/Oct/18 12:06 AM;mbwhite;[https://gerrit.hyperledger.org/r/27030] ;;;","18/Oct/18 5:35 PM;mbwhite;Due to various NPM intermittent failures (that seemed to occur too often to be really intermittent) this build has finally gone through. 

The matching documentation is going in under separate issues.  

Has been indenpendantly tested ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove java chaincode from integration tests,FAB-12323,34456,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,05/Oct/18 11:36 PM,21/Dec/18 11:28 PM,28/Oct/23 3:04 AM,07/Oct/18 7:23 PM,,,,,,v1.4.0,,,,,,,,,0,hygiene,,,,,"The java chaincode integration tests have been disabled in the build by pending them and the build infrastructure necessary to retrieve the docker image needed to execute the java chaincode has been removed.

Since the tests can no longer run in the existing tree, remove the tests.",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABCJ-77,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzztxb:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.3,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"05/Oct/18 11:38 PM;sykesm;https://gerrit.hyperledger.org/r/26818;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Intermittent test failures in couchdb runner tests,FAB-12324,34458,,Bug,Closed,FAB,Fabric,software,denyeart,,,Low,Done,sykesm,sykesm,sykesm,06/Oct/18 1:05 AM,19/Mar/19 7:57 PM,28/Oct/23 3:04 AM,08/Oct/18 3:01 PM,,,,,,v1.4.0,,,,,,,,,0,ci-flake,,,,,"{code}
00:14:34.752 ------------------------------
00:14:34.753 • Failure [13.106 seconds]
00:14:34.756 CouchDB Runner [It] starts and stops a docker container with the specified image 
00:14:34.758 /w/workspace/fabric-verify-integration-tests-x86_64/gopath/src/github.com/hyperledger/fabric/integration/runner/couchdb_test.go:158
00:14:34.758 
00:14:34.758   Timed out after 1.000s.
00:14:34.758   Expected
00:14:34.758       <<-chan error | len:0, cap:1>: 0xc42040efc0
00:14:34.759   to receive something.
00:14:34.759 
00:14:34.759   /w/workspace/fabric-verify-integration-tests-x86_64/gopath/src/github.com/hyperledger/fabric/integration/runner/couchdb_test.go:198
00:14:34.760 ------------------------------
00:14:50.906 ••••••••••••••••••••
00:14:50.907 
00:14:50.908 Summarizing 1 Failure:
00:14:50.908 
00:14:50.911 [Fail] CouchDB Runner [It] starts and stops a docker container with the specified image 
{code}",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzztxr:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Incorrect description about channel creation,FAB-12325,34459,,Documentation,Closed,FAB,Fabric,software,denyeart,,,Low,Won't Do,huikang,huikang,huikang,06/Oct/18 2:18 AM,23/Jan/20 7:29 AM,28/Oct/23 3:04 AM,23/Jan/20 7:29 AM,,,,,,,,,,,,,,,0,stale-item,,,,,"The doc says ""When the orderer receives a {{CONFIG_UPDATE}} for a channel which does not exist, "" [2]

 

However, the code shows that the channel creation header type is HeaderType_ORDERER_TRANSACTION

 

[1][https://github.com/hyperledger/fabric/blob/dd96ad66712012be7fcbcc20046575db454e5860/orderer/common/multichannel/blockwriter.go#L113]

[2]https://hyperledger-fabric.readthedocs.io/en/release-1.2/configtx.html#channel-creation",,huikang,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzztxz:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),huikang,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 7:29 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add node to `fabric-chaincode-evm` pipeline job,FAB-12326,34462,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,swetharepakula,swetharepakula,06/Oct/18 3:07 AM,18/Oct/18 5:54 AM,28/Oct/23 3:04 AM,16/Oct/18 4:27 AM,,,,,,,,,,,fabric-ci,,,,0,,,,,,"`fabric-chaincode-evm` integration tests require node and possibly nvm.

merge job: [https://jenkins.hyperledger.org/view/fabric-chaincode-evm/job/fabric-chaincode-evm-merge-master-x86_64/configure]
 current Jenkinsfile in repo: [https://github.com/hyperledger/fabric-chaincode-evm/blob/master/Jenkinsfile]

This script may need to be included: [https://github.com/hyperledger/ci-management/blob/master/jjb/fabric/shell/npm-install.sh]

Note `fabric-chaincode-evm` is a Pipeline Jenkins job.",,guoger,swetharepakula,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzztyf:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),guoger,swetharepakula,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"09/Oct/18 8:17 PM;guoger;CR: https://gerrit.hyperledger.org/r/c/26827;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Return only regular envelopes in discovery gossip support,FAB-12327,34463,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,07/Oct/18 4:39 PM,07/Oct/18 8:13 PM,28/Oct/23 3:04 AM,07/Oct/18 8:13 PM,,,,,,v1.2.2,v1.3.0,v1.4.0,,,,,,,0,,,,,,,,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzztyv:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.3,release-2.5,release-2.4,main,release-1.2,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
specifiec to specified,FAB-12330,34468,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,kutenglaoshu,kutenglaoshu,08/Oct/18 8:16 AM,23/Jan/20 7:32 AM,28/Oct/23 3:04 AM,23/Jan/20 7:32 AM,v1.3.0,,,,,,,,,,,,,,0,stale-item,,,,,specifiec to specified,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzztzz:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 7:32 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Document update for beginner contributor,FAB-12331,34470,,Documentation,Closed,FAB,Fabric,software,denyeart,,,Low,Won't Do,,Specia1,Specia1,08/Oct/18 2:22 PM,23/Jan/20 7:29 AM,28/Oct/23 3:04 AM,23/Jan/20 7:29 AM,,,,,,,,,,,,,,,0,stale-item,,,,,"1.
 [https://hyperledger-fabric.readthedocs.io/en/latest/dev-setup/build.html#building-hyperledger-fabric]

It's simple, but it's a good idea to tell them about the results of the build(*make dist-clean all*).
 Because the result is a hidden file(*.build*), it is hard to know at once.

 

2.

In fact, it's ambiguous how much to tell for beginner.

But how about  telling good hyperledger fabric branch strategy in document shortly.

https://jira.hyperledger.org/browse/FAB-5050?jql=text%20~%20%22Gitflow%22

 ",,Specia1,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwrjj:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),Specia1,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 7:29 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
add a space in comments,FAB-12332,34471,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,tyanj,tyanj,tyanj,08/Oct/18 3:16 PM,09/Oct/18 9:26 AM,28/Oct/23 3:04 AM,09/Oct/18 9:24 AM,v1.2.0,v1.2.1,v1.3.0,,,v1.4.0,,,,,fabric-crypto,,,,0,,,,,,treethat -> tree that,,tyanj,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwrjb:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),tyanj,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
configtx processor,FAB-12333,34473,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,kutenglaoshu,kutenglaoshu,kutenglaoshu,08/Oct/18 4:46 PM,12/Oct/18 4:17 PM,28/Oct/23 3:04 AM,12/Oct/18 4:17 PM,v1.2.0,v1.3.0,,,,,,,,,fabric-peer,,,,0,,,,,,"simulator.SetState(peerNamespace, key, serializedConfig) -> simulator.SetState(chainid, key, serializedConfig)",,ChristopherFerris,guoger,kutenglaoshu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12337,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzu0v:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ChristopherFerris,guoger,kutenglaoshu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"09/Oct/18 8:51 PM;guoger;Could you expand on why this is needed?;;;","11/Oct/18 1:36 AM;ChristopherFerris;[~kutenglaoshu] can you please provide a bit more explanation for what you are doing and why? Thanks;;;","11/Oct/18 1:43 AM;kutenglaoshu;FAB-12333  is {color:#353535}Abandoned{color}, see FAB-12337 or FAB-12353;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
regexp with backslash ,FAB-12334,34475,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,kutenglaoshu,kutenglaoshu,08/Oct/18 8:30 PM,23/Jan/20 7:32 AM,28/Oct/23 3:04 AM,23/Jan/20 7:32 AM,,,,,,,,,,,,,,,0,stale-item,,,,,,,guoger,kutenglaoshu,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzu0n:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),guoger,kutenglaoshu,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"09/Oct/18 8:56 PM;guoger;When you file a jira, please *add description*, or at lease use expressive title! ;;;","23/Jan/20 7:32 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Registrar's GetChain should drop the boolean return value,FAB-12335,34476,33490,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Low,Done,huikang,kchristidis,kchristidis,08/Oct/18 8:49 PM,13/Oct/18 5:10 AM,28/Oct/23 3:04 AM,11/Oct/18 10:32 PM,,,,,,,,,,,fabric-orderer,,,,0,,,,,,"From: https://github.com/hyperledger/fabric/blob/e6d9c55b0cd556d8d92d74de57c476d393fdf5cd/orderer/common/multichannel/registrar.go#L228

{code:java}
func (r *Registrar) GetChain(chainID string) (*ChainSupport, bool)}}
{code}


{{GetChain}} returns a boolean to indicate whether the {{ChainSupport}} for a channel exists.

This is redundant. If the {{ChainSupport}} does not exist, then the {{ChainSupport}} should be {{nil}}.",,huikang,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzu13:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),huikang,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"10/Oct/18 12:30 PM;huikang;Hi, [~kchristidis], do you mind letting me try this one? Thanks.;;;","10/Oct/18 1:10 PM;huikang;Actually, I found both returned values are used in by the ReceiverByChain in the etcdraft consenter (https://github.com/hyperledger/fabric/blob/3564cac1f4d551dbe112ae7a4b6ce9eb5b6debdf/orderer/consensus/etcdraft/consenter.go#L68).;;;","10/Oct/18 7:43 PM;kchristidis;[~huikang]: I wouldn't mind at all, and in fact you're more than welcome to go for it, and I'll help you as much as I can.

In the instance you mention, I am fairly certain we can combine the checks in lines 66-70 to one (which basically goes: ""if the returned value is nil, that chain does not exist"") without losing anything. Let me know if I'm wrong.;;;","10/Oct/18 11:33 PM;huikang;Got you. Let me try that. Thanks.;;;","11/Oct/18 12:14 AM;huikang;https://gerrit.hyperledger.org/r/#/c/26901/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,
"peerNameSpace in core/peer/configtx_processor.go should be using chainid, instead of empty string",FAB-12337,34478,,Story,Closed,FAB,Fabric,software,denyeart,,,Low,Invalid,,kutenglaoshu,kutenglaoshu,08/Oct/18 9:44 PM,13/Oct/18 1:40 AM,28/Oct/23 3:04 AM,12/Oct/18 5:00 PM,,,,,,,,,,,,,,,0,,,,,,"[peerNameSpace|https://github.com/hyperledger/fabric/blob/release-1.3/core/peer/configtx_processor.go#L20] should be {{chainid}} instead of empty string.",,denyeart,guoger,kutenglaoshu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12333,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzu1j:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,guoger,kutenglaoshu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"09/Oct/18 8:53 PM;guoger;Isn't this duplicate of FAB-12333 ?;;;","09/Oct/18 9:57 PM;kutenglaoshu;[~guoger] yes;;;","12/Oct/18 4:59 PM;guoger;per statement in [CR comment|https://gerrit.hyperledger.org/r/c/26847/1/core/peer/configtx_processor.go#80], abandon.;;;","13/Oct/18 1:40 AM;denyeart;Abandoned in favor of FAB-12353;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
fabric-merge-x86_64 job fail in the unit test ,FAB-12338,34482,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid: Works as Expected,,vijaypunugubati,vijaypunugubati,08/Oct/18 10:45 PM,01/Nov/18 11:46 PM,28/Oct/23 3:04 AM,01/Nov/18 11:46 PM,,,,,,,,,,,,,,,0,,,,,,"fabric-merge-x86_64 job fails in the unit test because of 
COMMIT=41c8f12165fa14a2eefa311e0018cdacdf60bdbf
Jenkins build: https://jenkins.hyperledger.org/view/fabric/job/fabric-merge-x86_64/4755/console

Failure observed:
--- FAIL: TestServerInterceptors (0.02s)
07:53:27 unit-tests_1  | 	assertions.go:256: 
07:53:27 unit-tests_1  | 			Error Trace:	server_test.go:1832
07:53:27 unit-tests_1  | 			Error:      	Not equal: 
07:53:27 unit-tests_1  | 			            	expected: ""EOF""
07:53:27 unit-tests_1  | 			            	actual  : ""error from interceptor""
07:53:27 unit-tests_1  |",,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzu1r:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"01/Nov/18 11:46 PM;vijaypunugubati;Job works as expected.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Peer should be able to override grpc options of chaincode,FAB-12339,34483,,Story,Closed,FAB,Fabric,software,denyeart,,,High,Invalid,,davidkel,davidkel,08/Oct/18 11:44 PM,12/Jun/20 12:31 AM,28/Oct/23 3:04 AM,09/Oct/19 9:45 PM,v2.0.0,,,,,v2.0.0,,,,,fabric-peer,,,,2,,,,,,"Currently node chaincode has hardcoded grpc options which cannot be overridden. Someone who architects and builds a Hyperledger Fabric solution should be able to define the grpcOptions that chaincode should use when communicating with a Peer as the hardcoded defaults may not be appropriate to the architected infrastructure. 

This might be something that can be defined in the core.yaml of a peer to define the required grpc connectivity options that a chaincode container should use. This may also be useful for non-node chaincode containers to honour as well.

This originated from Node chaincode, but is equally applicable to Java and Go chaincodes as well.",,C0rWin,davidkel,lesleyannj,mbwhite,MichaelWang,sstone1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwqfm:n",,,,Unset,Unset,To Do,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),C0rWin,davidkel,lesleyannj,mbwhite,MichaelWang,sstone1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"31/Jan/19 12:30 AM;C0rWin;[~mbwhite] are you going to contain this within v2.0 timeline?;;;","31/Jan/19 1:13 AM;mbwhite;[~C0rWin] - hasn't been fully sized or decided how this will exactly work.;;;","05/Feb/19 8:30 PM;sstone1;The solution for this issue needs to be provided by contributors working on the peer and chaincode management.
They need to decide how gRPC options for chaincode are configured (core.yaml, environment variables, ?), and how they will be passed into the chaincode containers (environment variables, special file, ?). At that point subtasks can be opened against the various chaincode language implementations to pick up these gRPC options and set them during chaincode startup.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fabric CLI does not send endorsed ledger transaction with status > 200 to orderer,FAB-12340,34484,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,rhegde,rhegde,09/Oct/18 12:23 AM,15/Jul/19 8:29 PM,28/Oct/23 3:04 AM,12/Oct/18 6:26 AM,v1.2.0,,,,,v1.2.2,v1.4.0,,,,fabric-peer,,,,0,,,,,,"+Environment: Release: v1.2+

This is setup which is upgraded from v1.0 to v1.2. It is seen that fabric peer cli  (v1.2.0) does not send the ledger transaction to the orderer if the endorsement response code >200. I modified the same invoke function to now use 200 and the same endorsement response proposal was sent to orderer and was part of the block.

The same steps were working on fabric v1.0 where Endorsement Code >=200 to 499 is treated as endorsement success and anything >=500 is treated as Endorsement Failure.

Our chaincode is using extensively the above range for implementation.

This is broken functionality and needs to be fixed.

 

Note: I am not sure how fabric-SDK behaves, did this behaviour change out there too?",,denyeart,mastersingh24,rhegde,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABJ-374,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzu27:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,mastersingh24,rhegde,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.3,release-2.5,release-2.4,main,release-1.2,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"10/Oct/18 3:29 PM;denyeart;The relevant change in v1.2 can be found at [https://gerrit.hyperledger.org/r/#/c/15737/]

That appears to be a fix to pass chaincode response status all the way back to clients, and to ensure endorser fails if the status is >= 400, per the intended design as can be seen here (in all releases):

[https://github.com/hyperledger/fabric/blob/release-1.2/core/chaincode/shim/response.go#L23-L28]

I believe the piece that was missed, was to update the clients (CLI and likely SDKs) to handle response status of 201 through 399 as success. For CLI, that would need to be done here: [https://github.com/hyperledger/fabric/blob/release-1.2/protos/utils/txutils.go#L164]

The problem has not been raised until now, because most chaincodes do not return status in the range of 201 through 399.

[~sykesm] [~mastersingh24] Do you agree with this assessment?

 ;;;","10/Oct/18 6:05 PM;mastersingh24;[~denyeart]  - I agree;;;","11/Oct/18 7:30 AM;denyeart;[https://gerrit.hyperledger.org/r/#/c/26911/] - release-1.2

[https://gerrit.hyperledger.org/r/#/c/26931/] - release-1.3

[https://gerrit.hyperledger.org/r/#/c/26933/] - master (v1.4.0 and above).;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
PTE updates CI test readme with run_scenarios.sh in,FAB-12341,34487,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,dongming,dongming,dongming,09/Oct/18 12:59 AM,10/Oct/18 1:35 AM,28/Oct/23 3:04 AM,10/Oct/18 1:35 AM,,,,,,,,,,,fabric-quality,,,,0,,,,,,run_scenarios.sh was created laterly for executing CITest scenarios.  The usage of this script needs to be updated in CITest README so that users can use it.,,dongming,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-2247,,,No,,Unset,No,,,"1|hzzu2f:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),dongming,,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,true,"09/Oct/18 1:41 AM;dongming;https://gerrit.hyperledger.org/r/#/c/26856/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
chaincode name returned from queryInstantiatedChaincodes is broken,FAB-12342,34135,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Duplicate,,nekia,nekia,27/Sep/18 11:28 AM,09/Oct/18 10:00 AM,28/Oct/23 3:04 AM,09/Oct/18 9:59 AM,v1.2.0,,,,,,,,,,,,,,0,,,,,,"When query chaincode that is configured with private data correction, a data (chaincode.name) includes non printable characters, it looks like broken.
{noformat}
[ { name: 'marblesp',
       version: '1.0',
       path: 'github.com/chaincode/marbles02_private/go/',
       input: '',
       escc: 'escc',
       vscc: 'vscc',
       id: [Object] },
     { name: '\n?\n\u001ecollectionMarblePrivateDetails\u0012\u0019\n\u0017\u0012\b\u0012\u0006\b\u0001\u0012\u0002\b\u0000\u001a\u000b\u0012\t\n\u0007Org1MSP \u0003(\u0003',
       version: '',
       path: '',
       input: '',
       escc: '',
       vscc: '',
       id: [Object] },
     { name: 'mycc',
       version: '1.0',
       path: 'github.com/chaincode/chaincode_example02/go/',
       input: '',
       escc: 'escc',
       vscc: 'vscc',
       id: [Object] } ] }{noformat}",,denyeart,harrisob@us.ibm.com,nekia,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11039,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzssn:",,,,Unset,Unset,,,"1.  Follow the following instruction to setup a chaincode configured with private data collection.
https://hyperledger-fabric.readthedocs.io/en/release-1.2/private_data_tutorial.html

2. After done the step 'Instantiate the chaincode on the channel', run the following snippet to call queryInstantiatedChaincodes.
https://gist.github.com/nekia/dc3ec0407fb13b3bc5c5efd369bc3250",,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,harrisob@us.ibm.com,nekia,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"28/Sep/18 10:27 PM;denyeart;[~harrisob@us.ibm.com] [~wlahti] Can you determine if this appears to be a problem with peer API or SDK?;;;","09/Oct/18 3:06 AM;harrisob@us.ibm.com;Please provide the chaincode name that was used to cause this issue, Thanks.;;;","09/Oct/18 9:24 AM;nekia;[mycc|https://github.com/hyperledger/fabric-samples/tree/release-1.2/chaincode/chaincode_example02/go] ( used in first-network/byfn.sh ) and [marblesp|https://github.com/hyperledger/fabric-samples/tree/release-1.2/chaincode/marbles02_private] ( used in private data collection tutorial );;;","09/Oct/18 9:58 AM;denyeart;I've found that this is a dup of FAB-11039, which is fixed in v1.3 already, and is being proposed to backport to a future v1.2.2.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update fabric to baseimage 0.4.13,FAB-12343,34491,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,denyeart,denyeart,denyeart,09/Oct/18 12:28 PM,09/Oct/18 2:52 PM,28/Oct/23 3:04 AM,09/Oct/18 2:52 PM,,,,,,,,,,,fabric-release,,,,0,,,,,,,,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABC-730,FABN-962,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzu33:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.3,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Unused variable in chaincode/shim/shim_test.go,FAB-12345,34493,,Bug,Closed,FAB,Fabric,software,denyeart,,,Low,Done,huikang,huikang,huikang,09/Oct/18 12:36 PM,13/Oct/18 1:30 AM,28/Oct/23 3:04 AM,12/Oct/18 9:21 PM,,,,,,v1.4.0,,,,,fabric-common,,,,0,,,,,,"{quote}func setupcc(name string, cc Chaincode) *mockpeer.MockCCComm {

}
{quote}
cc is not used anywhere in the function.",,huikang,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzu3j:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),huikang,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Improve code documentation,FAB-12349,34497,34444,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,angelo.decaro,angelo.decaro,angelo.decaro,09/Oct/18 5:06 PM,26/Nov/18 4:44 PM,28/Oct/23 3:04 AM,13/Oct/18 1:47 AM,,,,,,v1.4.0,,,,,,,,,0,idemix,,,,,,,angelo.decaro,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzu4f:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),angelo.decaro,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"26/Nov/18 4:44 PM;angelo.decaro;https://gerrit.hyperledger.org/r/#/c/26874/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
The bootstrap URL needs to be raw github url to work with curl,FAB-12350,34498,,Bug,Closed,FAB,Fabric,software,denyeart,,,Low,Done,coolsvap,coolsvap,coolsvap,09/Oct/18 5:52 PM,12/Oct/18 6:05 AM,28/Oct/23 3:04 AM,12/Oct/18 5:32 AM,v1.2.0,,,,,v1.2.0,v1.3.0,v1.4.0,,,fabric-docs,,,,0,,,,,,The current URL for deployment of fabric samples and pulling docker images is not correct and does not work with curl.,,coolsvap,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzu4n:",,,,Unset,Unset,,,"Follow the steps in docs [1], if bit.ly URL does not work in your environment, you need to use long URL.

[1] https://hyperledger-fabric.readthedocs.io/en/master/install.html",,Unset,,,,,,Unset,,Unset,,(Please add usage information),coolsvap,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.3,release-2.5,release-2.4,main,release-1.2,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"12/Oct/18 3:10 AM;denyeart;merged in master.

cherry picked to release-1.3 and release-1.2;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Error for duplicate channel create needs to be improved,FAB-12351,34500,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,,denyeart,denyeart,09/Oct/18 9:01 PM,09/Oct/18 11:19 PM,28/Oct/23 3:04 AM,09/Oct/18 11:19 PM,,,,,,v1.4.0,,,,,fabric-orderer,,,,0,,,,,,"If you accidentally try to create the same channel name twice, you will get error:
{code:java}
Error: got unexpected status: BAD_REQUEST -- error authorizing update: error validating ReadSet: readset expected key [Group] /Channel/Application at version 0, but got version 1{code}
This happened when running the command twice:
{code:java}
peer channel create -c mycp -o 127.0.0.1:7050 -f mycp.tx{code}
Which can happen if you are doing trials and forget to drop the fabric data directory between trials.

This error has confused new users as evidenced by rocket chats. Would it be possible to indicate possible cause in the error message?",,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-8591,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzu4v:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"09/Oct/18 9:01 PM;denyeart;[~jyellick] Can you take a look...;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Hierarchical Idemix-Based MSP from Delegatable Credentials,FAB-12352,34502,,Epic,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,angelo.decaro,angelo.decaro,09/Oct/18 9:38 PM,23/Jan/20 7:33 AM,28/Oct/23 3:04 AM,23/Jan/20 7:33 AM,,,,,,Future,,,,,,,,,0,idemix,stale-item,,,,,,angelo.decaro,huxd,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"09/Oct/18 9:37 PM;angelo.decaro;image-2018-10-09-14-37-08-720.png;https://jira.hyperledger.org/secure/attachment/16113/image-2018-10-09-14-37-08-720.png",,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,ghx-label-2,,idemixdelegablecred,To Do,No,,Unset,No,,,"1|hzzu5b:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),angelo.decaro,huxd,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 7:33 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Delete unused parameter in core/peer/configtx_processor.go,FAB-12353,34504,,Story,Closed,FAB,Fabric,software,denyeart,,,Low,Done,kutenglaoshu,kutenglaoshu,kutenglaoshu,09/Oct/18 11:04 PM,13/Oct/18 1:38 AM,28/Oct/23 3:04 AM,13/Oct/18 1:38 AM,,,,,,,,,,,,,,,0,,,,,,"parameter {{chainid string}} in [this method|https://github.com/hyperledger/fabric/blob/release-1.3/core/peer/configtx_processor.go#L56] is not used, therefore should be deleted.

context: this parameter was introduced in commit [67746c|https://github.com/hyperledger/fabric/commit/67746c369b06119e9389f3ea2ef947d811a0b656#diff-adf25123dd66b461d35eaa72bf2a18ef] and later unused in [3d83ff|https://github.com/hyperledger/fabric/commit/3d83ff0853130dc01fe9d7fef27329ecb6f8d991#diff-adf25123dd66b461d35eaa72bf2a18ef]

although, if we want [peerNameSpace|https://github.com/hyperledger/fabric/blob/release-1.3/core/peer/configtx_processor.go#L20] to use {{chainid}} instead of empty string, we need to keep this parameter. see FAB-12337",,ChristopherFerris,kutenglaoshu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzu5j:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ChristopherFerris,kutenglaoshu,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"11/Oct/18 1:34 AM;ChristopherFerris;This needs to have the description updated to explain what is to be done. Delete which unused parameter?;;;","11/Oct/18 1:39 AM;kutenglaoshu;https://gerrit.hyperledger.org/r/#/c/26881/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Let etcd/raft implementation optimistically create a chain of normal blocks for efficiency,FAB-12354,34505,34204,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,adarshsaraf123,adarshsaraf123,adarshsaraf123,09/Oct/18 11:10 PM,06/Dec/18 8:01 PM,28/Oct/23 3:04 AM,03/Dec/18 8:45 PM,,,,,,,,,,,,,,,0,,,,,,The current etcd/raft implementation creates only a single block and then waits for consensus and commit of this block before creating the next block. We would like to optimistically create a chain of normal blocks to pipeline block creation and consensus. Config blocks cannot allow pipelining since we need to re-validate all the messages upon a config change. We need to take care of discarding this optimistic chain of blocks if a diverging block is committed.,,adarshsaraf123,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12508,,,,,,,,,,,,,,,,,,,,,,,FAB-13178,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzu5r:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),adarshsaraf123,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"09/Oct/18 11:18 PM;adarshsaraf123;https://gerrit.hyperledger.org/r/#/c/27117/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
The Behave Feature tests are taking more time to execute all tests.,FAB-12355,34506,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid: Works as Expected,,sambhavdutt,sambhavdutt,09/Oct/18 11:13 PM,19/Mar/19 8:13 PM,28/Oct/23 3:04 AM,09/Oct/18 11:57 PM,v1.3.0,,,,,v1.3.0,,,,,fabric-quality,,,,0,ci-failure,,,,,"The Behave tests are taking a longer time than the usual time to execute from last four builds,
sometimes extending to 12 hours for all tests to complete. I've noticed the increase in duration from Jenkins Build #44

*Build Log*
https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-daily-behave-master-x86_64/44/

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-daily-behave-master-x86_64/44/console-timestamp.log.gz",,latitiah,rameshthoomu,sambhavdutt,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,3663e86a474a1a914d48ddeb7e39271c97975ce3,Unset,No,,,"1|hzzu5z:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),latitiah,rameshthoomu,sambhavdutt,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"09/Oct/18 11:23 PM;latitiah;Is there a specific reason why this issue is consider a high priority?;;;","09/Oct/18 11:53 PM;sambhavdutt;[~latitiah]

That is right, not a high priority as far as tests are going on. Changed to Medium priority.;;;","09/Oct/18 11:54 PM;scottz;This is not a bug. Two reasons for the additional time: I added some tests to the daily test suite a few days ago. And, quite a few tests were not being executed (all tests in the peer and orderer feature files) for a long time because of another error causing the behave daily build to fail and abort prematurely. Build 44 is when that other problem was fixed and we started executing those tests again.;;;","09/Oct/18 11:57 PM;scottz;No bug is causing the increase in tests duration. Simply put, more tests are running now.

In coming weeks, we can reduce overall time , using another task, to replace builds with pulls.;;;","10/Oct/18 12:46 AM;latitiah;Things to consider for this change:
- pull images instead of building images
- refine what tests are executed - are we already executing the tests elsewhere?
- evaluate where the bottlenecks seem to be located in the tests
- consider polling for when a chaincode is installed and instantiated instead of waiting for a set period of time and assuming that it is complete by then
- shorten the wait time for a network to be in a ready state before considering the test a failure (currently set to 5 minutes);;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update Idemix docs for topology information,FAB-12356,34509,34444,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,adc,denyeart,denyeart,09/Oct/18 11:54 PM,12/Nov/18 1:06 AM,28/Oct/23 3:04 AM,12/Nov/18 1:06 AM,,,,,,v1.4.0,,,,,fabric-crypto,fabric-docs,,,0,idemix,,,,,"[https://hyperledger-fabric.readthedocs.io/en/latest/idemix.html]

Many people reading this have questions about the topology of Idemix MSPs relative to x509 MSPs.

For example, should you continue to have a x509 MSP per org, and also a Idemix MSP per org?  Or should you have a single Idemix MSP for the entire channel or network? I believe the former will provide anonymity for clients within an org while the latter will provide anonymity across orgs.  How does this relate to access control in policies and chaincode and private data collections?

These Idemix 'topology options' need to be clarified in the Idemix doc topic.

 

 ",,angelo.decaro,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzu6n:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),angelo.decaro,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"07/Nov/18 7:38 PM;angelo.decaro;https://gerrit.hyperledger.org/r/#/c/27417/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As a platform operator, I expect a simple, transparent, and consistent mechanism to configure logging levels.",FAB-12357,34511,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wlahti,sykesm,sykesm,10/Oct/18 12:19 AM,29/Apr/19 10:48 PM,28/Oct/23 3:04 AM,10/Dec/18 10:42 PM,,,,,,v1.4.0,,,,,fabric-common,,,,0,serviceability,,,,,"Because of a combination of how we've built our configuration on top of viper and how we rely on package level initialization for logging, we have a situation where setting up a log level is not as simple as it should be. To remove the confusion, we need three things:

- A mechanism to configure a single logging spec that is honored before any log
  records are written
- A mechanism for operators to retrieve the active logging spec
- A mechanism for operators specify a new logging spec

In concrete terms, this means we need to use remove the logging levels from our configuration system in favor of an environment variable or a flag. If we decide we need both an environment variable and a flag, the flag will take precedence.

The logging spec will be similar to the existing model used by the admin service. That said, unlike the current spec, it will not be applied incrementally to what's running and will completely override, as atomically as is feasible, the enabled loggers.

Logger names are composed of one or more dot (period) separated names. This is to be consistent with the conventions implied by zap named loggers.

The log spec is a single string that consists of colon separated tokens. Each token declares a logger name prefix and a optional log level. When the logger name prefix ends with a period, it indicates that the log level should only apply to the logger with the exact name when the trailing period is dropped. When the logger name pattern is omitted, it specifies the default log level. In cases where multiple entries reference the same name pattern or multiple
instances of a default are provided, the last specification takes precedence.

When prefixes are evaluated against logger names, the longest match from the spec will be used.

Examples:
- `info` enables all loggers at the _info_ level
- `a=debug` enables loggers with names like `a`, `a.b`, or `a.b.c` at the _debug_ level; all other loggers will log at the _info_ level
- `a.=debug:warn` enables the logger named `a` at the _debug_ level; all other loggers will be at the _warn_ level
- `a.b=debug:a.b.c.=warn` enables loggers with names that start with `a.b` at the _debug_ level except for the one named `a.b.c` which will log at the _warn_ level. All other loggers will log at the _info_ level.
- `info:warn` enables all loggers at the warn level
- `broken` is rejected as an error and the logging configuration is unchanged. If a bad spec is provided as the process is starting, the process will execute with the default log specification of `info`.
",,kchristidis,scottz,sykesm,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-5620,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Yes,Unset,,FAB-11853,,,No,,Unset,No,,,"1|hzwu4v:","The mechanism used to configure logging has changed. Logging is now configured with a single specification string instead of multiple keys in core.yaml. The logging specification and logging format are now controlled via the FABRIC_LOGGING_SPEC and FABRIC_LOGGING_FORMAT environment variables.

The {{peer logging}} command has also changed in support of this new configuration model. Please see the documentation for updated syntax.",Yes,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),kchristidis,scottz,sykesm,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,dependabot/go_modules/golang.org/x/crypto-0.1.0,dependabot/go_modules/test/performance/golang.org/x/net-0.7.0,dependabot/go_modules/golang.org/x/net-0.7.0,main,dependabot/go_modules/github.com/prometheus/client_golang-1.11.1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As a platform operator, I want to be able to determine if a peer is healthy by hitting an http(s) endpoint on a configurable port.",FAB-12358,34512,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,mastersingh24,sykesm,sykesm,10/Oct/18 12:30 AM,10/Jan/19 11:43 PM,28/Oct/23 3:04 AM,10/Jan/19 11:43 PM,,,,,,v1.4.0,,,,,,,,,0,operations,,,,,"To prevent dragging bunch of unnecessary complexity, the healthcheck should be implemented as a basic http or https endpoint at /healthz. When the peer is healthy, it will return with a status of `HTTP 200/OK` and JSON payload of '

{""status"": ""OK""}

'. If the peer is responsive to the status check, but unhealthy, it will return with a status of `HTTP 503/Service Unavailable` and a JSON message that indicates which subsystem has failed the health check.",,nnao,sykesm,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABLG-1,,,,,,,,FAB-13267,,,FAB-3939,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-10851,,,No,,Unset,No,,,"1|hzxvev:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),nnao,sykesm,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As a platform operator, I want to be able to determine if a orderer is healthy by hitting an http(s) endpoint on a configurable port.",FAB-12359,34513,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,sykesm,sykesm,10/Oct/18 12:30 AM,08/Dec/18 8:29 AM,28/Oct/23 3:04 AM,08/Dec/18 8:29 AM,,,,,,v1.4.0,,,,,,,,,0,operations,,,,,"To prevent dragging bunch of unnecessary complexity, the healthcheck should be implemented as a basic http or https endpoint at /healthz. When the peer is healthy, it will return with a status of `HTTP 200/OK` and JSON payload of '{""status"": ""OK""}'. If the peer is responsive to the status check, but unhealthy, it will return with a staus of `HTTP 503/Service Unavailable` and a JSON message that indicates which subsystem has failed the health check.",,sykesm,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABLG-1,,,,,,,,,,,FAB-5605,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-10851,,,No,,Unset,No,,,"1|hzybvb:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As a fabric operator, I need to be able to monitor the go runtime environment of a peer process.",FAB-12361,34515,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,10/Oct/18 12:41 AM,08/Dec/18 8:13 AM,28/Oct/23 3:04 AM,08/Dec/18 8:13 AM,,,,,,v1.4.0,,,,,,,,,0,operations,,,,,"The go runtime provides hooks for monitoring that need to be wired into the metrics subsystem of choice.

Memory: https://golang.org/pkg/runtime/#ReadMemStats
Go routines: https://golang.org/pkg/runtime/#NumGoroutine

Surfacing these metrics as gauges will provide some basic insight into the process characteristics. As the data can only be retrieved from polling, collection will need to be associated with a ticker.
",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12867,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-3388,,,No,,Unset,No,,,"1|hzzq9b:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"15/Nov/18 4:18 AM;sykesm;https://gerrit.hyperledger.org/r/c/27544/ starts the metrics providers in the peer. The statsd implementation starts the go runtime collector and prometheus's client does that by default.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As a fabric operator, I want to be able to see how many gRPC connections are currently established so I can more easily determine when a poorly written or malicious client is causing resource exhaustion.",FAB-12362,34516,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,skarim,sykesm,sykesm,10/Oct/18 12:50 AM,28/Nov/18 11:16 PM,28/Oct/23 3:04 AM,28/Nov/18 11:16 PM,,,,,,v1.4.0,,,,,,,,,0,operations,,,,,"Application developers often forget to appropriately reuse or release resources. In the case of fabric, if an application does not reuse gRPC connections, we are subject to some side effects. In particular, performance will suffer because the client needs to establish a new connection to the server and another TLS handshake occurs. Second, client side ephemeral ports can become exhausted. Third, the server can experience pressure on memory and
file descriptor resources.

By surfacing information about the number of active connections, operators can observe unbounded growth in connections and use that to determine an appropriate course of action.

The start and end of a connection can currently be determined by implementing the `grpc.StatsHandler` interface and configuring it as a `grpc.DialOption` or `grpc.ServerOption`.",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-3388,,,No,,Unset,No,,,"1|hzwu4n:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As a fabric operator, I want to be able to enable log records for each message that is exchanged over a gRPC stream. When a call terminates, I want the response code and duration of the request captured as well.",FAB-12363,34517,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,10/Oct/18 12:54 AM,30/Oct/18 6:57 AM,28/Oct/23 3:04 AM,30/Oct/18 6:57 AM,,,,,,v1.4.0,,,,,,,,,0,serviceability,,,,,"Fabric's API is primarily surfaced as gRPC services. Logging the completion of a request with the appropriate context can serve as an access log for gRPC. When detailed debug is required, message based logging for streaming APIs may be helpful.",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-11853,,,No,,Unset,No,,,"1|hzwu4f:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As a fabric operator, I want to observe metrics about gRPC requests that enable me to see how often a service operation is invoked, how long the invocation takes, and the result if the invocation.",FAB-12364,34519,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,10/Oct/18 1:54 AM,28/Nov/18 11:18 PM,28/Oct/23 3:04 AM,28/Nov/18 11:18 PM,,,,,,v1.4.0,,,,,,,,,0,operations,,,,,"Since gRPC is our invocation protocol of choice, we need to surface metrics
that are consistent with the RED monitoring philosophy:

- Request **R**ate
- Request **E**rrors
- Request **D**uration

These metrics are generally required by any monitoring solution and should be
surfaced consistently across all gRPC services.
",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-3388,,,No,,Unset,No,,,"1|hzwu53:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
PTE parses query bookmark according to marble02 update,FAB-12365,34520,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,dongming,dongming,dongming,10/Oct/18 2:18 AM,11/Oct/18 3:35 AM,28/Oct/23 3:04 AM,11/Oct/18 3:35 AM,,,,,,,,,,,fabric-quality,,,,0,,,,,,"Marbles02 changes it query return format for bookmark, see [https://gerrit.hyperledger.org/r/#/c/26456/.]  PTE quer parser needs to change accordingly",,dongming,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-2247,,,No,,Unset,No,,,"1|hzzub3:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),dongming,,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,true,"10/Oct/18 3:23 AM;dongming;https://gerrit.hyperledger.org/r/#/c/26891/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As a chaincode developer, I want to be able to evaluate an identity against a channel's MSP",FAB-12366,34521,,Story,Backlog,FAB,Fabric,software,denyeart,,,Medium,,,mne,mne,10/Oct/18 3:30 AM,13/May/19 2:36 PM,28/Oct/23 3:04 AM,,,,,,,,,,,,,,,,1,,,,,,"Enable the chaincode to reason about identities based on a channel's MSP. Those identities should not be limited e.g. to the transaction creator or to the type of identity (x509), but support the full range of identities also supported by a channel's MSP.

This allows a chaincode developer to check whether a given identity belongs to an organization participating in the channel and extract attributes about this identity.",,mne,qsmen,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Yes,Unset,,FAB-11602,,,No,,Unset,No,,,"1|hzzubb:",,,,No,Unset,,,(Please add steps to reproduce),,Yes,,,,,,Unset,,Unset,,(Please add usage information),mne,qsmen,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"13/May/19 12:57 PM;qsmen;Enable the chaincode to verify an identities based on a channel's MSP, mainly the CA certificate chain, is really userful. but why is the progress  so low?;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Extend the chaincode GRPC interface to support MSP functionality,FAB-12367,34522,34521,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,mne,mne,10/Oct/18 3:32 AM,23/Jan/20 7:31 AM,28/Oct/23 3:04 AM,23/Jan/20 7:31 AM,,,,,,,,,,,,,,,0,stale-item,,,,,Extend the existing GRPC protobufs for the chaincode-to-peer communication with additional messages for conveying MSP information.,,mne,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzubj:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),mne,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 7:31 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Wire the peer chaincode handler to the MSP,FAB-12368,34523,34521,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,mne,mne,10/Oct/18 3:34 AM,23/Jan/20 7:31 AM,28/Oct/23 3:04 AM,23/Jan/20 7:31 AM,,,,,,,,,,,,,,,0,stale-item,,,,,Implement the peer-side chaincode handler such that it connects GRPC requests from a chaincode with a channel's MSP.,,mne,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzubr:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),mne,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 7:31 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Wire the shim chaincode handler,FAB-12369,34524,34521,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,mne,mne,10/Oct/18 3:35 AM,23/Jan/20 7:31 AM,28/Oct/23 3:04 AM,23/Jan/20 7:31 AM,,,,,,,,,,,,,,,0,stale-item,,,,,Extend the chaincode shim handler with functionality to communicate MSP requests to the peer.,,mne,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzubz:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),mne,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 7:31 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Extend and implement the CID interface,FAB-12370,34525,34521,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,mne,mne,10/Oct/18 3:37 AM,23/Jan/20 7:31 AM,28/Oct/23 3:04 AM,23/Jan/20 7:31 AM,,,,,,,,,,,,,,,0,stale-item,,,,,Implement the chaincode CID interface using the exposed MSP functionality. Extend it to also capture information such as whether a given identity is actually part of a channel.,,mne,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzuc7:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),mne,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 7:31 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fix the doc and samples to use new cid package,FAB-12371,34527,33953,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yuki-kon,yuki-kon,yuki-kon,10/Oct/18 3:59 AM,16/Nov/18 12:18 AM,28/Oct/23 3:04 AM,15/Nov/18 11:28 PM,v1.3.0,,,,,v1.4.0,,,,,fabric-peer,fabric-samples,,,0,,,,,,"The latest cid package is located at fabric/core/chaincode/shim/ext/cid.
 We need to fix the doc and samples to use the new cid package instead of the old one at fabric/core/chaincode/lib/cid.",,yuki-kon,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12075,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzucn:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),yuki-kon,,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-6.11.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/tough-cookie-4.1.3,mergify/bp/release-2.2/pr-4374,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/grpc/grpc-js-1.8.17,dependabot/go_modules/high-throughput/application-go/google.golang.org/grpc-1.53.0,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/word-wrap-1.2.4,main,dependabot/go_modules/asset-transfer-basic/application-go/google.golang.org/grpc-1.53.0,mergify/bp/release-2.2/pr-3750,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/semver-6.3.1,release-2.5,release-2.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-and-fabric-network-7.2.4,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"13/Oct/18 6:42 AM;yuki-kon;CRs are posted here.
Doc, https://gerrit.hyperledger.org/r/#/c/26969/
Sample, https://gerrit.hyperledger.org/r/#/c/26966/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As a fabric operator, I want to be able to collect information about all of the currently executing go routines within a process without having to terminate the process.",FAB-12372,34528,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,skarim,sykesm,sykesm,10/Oct/18 3:59 AM,28/Nov/18 11:28 PM,28/Oct/23 3:04 AM,17/Nov/18 12:52 AM,,,,,,v1.4.0,,,,,,,,,0,operations,,,,,"When the {{pprof}} network endpoint is exposed, a {{GET}} request to {{/pprof/goroutine?debug=2}} will capture all of the currently running go routines. When {{pprof}} is not enabled, this information is harder to come by.

In an effort to improve the situation, a signal handler should be implemented in each of the fabric servers that will use {{runtime/pprof/#Lookup}} to get the {{goroutines}} profile and log it with {{runtime/pprof/#Profile.WriteTo}} to a properly configured logging with debug level 2. This will capture the go routines into the logs without terminating the process.
",,inatatsu,skarim,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-10665,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-11853,,,No,,Unset,No,,,"1|hzzq87:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),inatatsu,skarim,sykesm,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"09/Nov/18 5:41 AM;skarim;https://gerrit.hyperledger.org/r/c/27452/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
unit-test 'code/chaincode/platforms/car' package fails locally on latest release-1.2,FAB-12375,34531,,Documentation,Closed,FAB,Fabric,software,denyeart,,,Low,Won't Do,,Specia1,Specia1,10/Oct/18 4:49 AM,23/Jan/20 7:29 AM,28/Oct/23 3:04 AM,23/Jan/20 7:29 AM,v1.2.0,,,,,,,,,,,,,,0,stale-item,,,,,"when I run below command on Ubuntu 16.04
{code:java}
$ export TEST_PKGS=""github.com/hyperledger/fabric/core/chaincode/platforms/car""
 $ make unit-test{code}
 

The failure is as follows:
{code:java}
couchdb | WARNING: no logs are available with the 'none' log driver
 unit-tests_1 | 
 unit-tests_1 | 2018-10-09 19:45:44.720 UTC [chaincode-platform] func1 -> ERRO 001 Failed to generate platform-specific docker build: Error building CAR: Error returned from build: 255 ""Building CAR /chaincode/input/codepackage.car
 unit-tests_1 | [CCI] parse org.hyperledger.chaincode.example02{code}",,Specia1,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"10/Oct/18 4:50 AM;Specia1;unit-test-release-1.2.log;https://jira.hyperledger.org/secure/attachment/16114/unit-test-release-1.2.log",,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzucv:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),Specia1,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"10/Oct/18 5:21 AM;Specia1;Very sorry.

I made a mistake not to change the type.

Please change this issue type from document to bug ;;;","23/Jan/20 7:29 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"unit-test 'code/chaincode/platforms/car' package fails locally on latest release-1.3, master",FAB-12376,34535,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,Specia1,Specia1,10/Oct/18 5:54 AM,23/Jan/20 7:34 AM,28/Oct/23 3:04 AM,23/Jan/20 7:34 AM,v1.3.0,v1.4.0,,,,,,,,,fabric-peer,,,,0,stale-item,,,,,"on Ubuntu 16.04

 

The failure is as follows:

 
{code:java}
unit-tests_1  | 2018-10-09 20:41:36.220 UTC [chaincode] Start -> DEBU cab start container with env:
unit-tests_1  | 2018-10-09 20:41:36.220 UTC [chaincode] Start -> DEBU cab start container with env:
unit-tests_1  | CORE_CHAINCODE_ID_NAME=chaincode-id-name:chaincode-version
unit-tests_1  | CORE_PEER_TLS_ENABLED=false
unit-tests_1  | 2018-10-09 20:41:36.247 UTC [chaincode] Add -> ERRO cac failed to marshal query result: marshal-failed
unit-tests_1  | 2018-10-09 20:41:36.248 UTC [chaincode] Add -> ERRO cad failed to marshal query result: marshal-failed
unit-tests_1  | 2018-10-09 20:41:36.249 UTC [chaincode] BuildQueryResponse -> ERRO cae Failed to get query result from iterator
unit-tests_1  | FAILunit-tests_1  | coverage: 92.3% of statements
unit-tests_1  | FAIL github.com/hyperledger/fabric/core/chaincode 161.528s
unit-test_unit-tests_1 exited with code 1
{code}
 ",,mastersingh24,Specia1,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"10/Oct/18 5:55 AM;Specia1;unit-test-1.3.log;https://jira.hyperledger.org/secure/attachment/16116/unit-test-1.3.log","10/Oct/18 5:55 AM;Specia1;unit-test-master.log;https://jira.hyperledger.org/secure/attachment/16115/unit-test-master.log",,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzudb:",,,,Unset,Unset,,,"$ export TEST_PKGS=""github.com/hyperledger/fabric/core/chaincode""
$ make unit-test",,Unset,,,,,,Unset,,Unset,,(Please add usage information),mastersingh24,Specia1,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"02/Dec/18 8:23 AM;mastersingh24;I can't reproduce this and we don't see this in CI.
Can you provide additional details about your environment?;;;","23/Jan/20 7:34 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Extend the integration framework so that it works with more than one Raft nodes,FAB-12377,34537,31897,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,adarshsaraf123,kchristidis,kchristidis,10/Oct/18 5:57 AM,17/Oct/18 5:41 AM,28/Oct/23 3:04 AM,17/Oct/18 5:41 AM,,,,,,,,,,,,,,,0,,,,,,,,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzudj:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"10/Oct/18 5:58 AM;kchristidis;https://gerrit.hyperledger.org/r/c/26547/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove all references to Fabric util packages,FAB-12378,34539,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,conanoc,kchristidis,kchristidis,10/Oct/18 6:14 AM,17/Apr/21 12:13 AM,28/Oct/23 3:04 AM,17/Apr/21 12:13 AM,,,,,,Future,,,,,fabric-orderer,,,,0,help-wanted,raft,,,,"We should try to be a good citizen and remove all references within {{etcdraft}} to Fabric's {{util}} packages. 

The {{util}} package is anti-patten that we need to get away from.

See: https://about.sourcegraph.com/go/idiomatic-go/#package-util",,jyellick,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-6135,,,No,,Unset,No,,,"1|hzzudr:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),jyellick,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"10/Jun/19 10:42 AM;jyellick;This is probably a bit of a duplicate of overall hygiene items, but leaving open for now.;;;","14/Aug/19 7:05 AM;kchristidis;[https://gerrit.hyperledger.org/r/c/fabric/+/32784];;;","14/Aug/19 7:06 AM;kchristidis;[~jyellick]: Let's close if this is covered elsewhere.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Cut v1.3.0 release,FAB-12380,34543,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,denyeart,denyeart,denyeart,10/Oct/18 3:45 PM,12/Oct/18 6:28 AM,28/Oct/23 3:04 AM,12/Oct/18 6:28 AM,v1.3.0,,,,,v1.3.0,,,,,fabric-release,,,,0,,,,,,"Prepare and publish v1.3.0 release of Hyperledger Fabric. The tasks are listed in execution order and I have indicated any dependencies in the description of each.

 ",,ChristopherFerris,denyeart,JonathanLevi,mastersingh24,rameshthoomu,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12136,,,,,,,,,,,,,FABCJ-102,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzzuen:",,,,,,,,,,,,,,,,,,,,,ChristopherFerris,denyeart,JonathanLevi,mastersingh24,rameshthoomu,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[CI] - verify release jobs to support 1.3.0 release,FAB-12381,34544,34543,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,rameshthoomu,denyeart,10/Oct/18 3:45 PM,11/Oct/18 1:56 AM,28/Oct/23 3:04 AM,11/Oct/18 1:56 AM,,,,,,v1.3.0,,,,,fabric-ci,fabric-release,,,0,fabric-ci,,,,,Make sure all the release jobs are ready for release.,,ChristopherFerris,denyeart,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzzuev:",,,,,,,,,,,,,,,,,,,,,ChristopherFerris,denyeart,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"11/Oct/18 1:56 AM;rameshthoomu;release jobs are upto date and published image/binaries and multiarc images to dockerhub and nexus.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Release fabric 1.3.0,FAB-12382,34545,34543,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,denyeart,ChristopherFerris,denyeart,10/Oct/18 3:45 PM,11/Oct/18 5:56 AM,28/Oct/23 3:04 AM,11/Oct/18 12:18 AM,,,,,,v1.3.0,,,,,fabric-release,,,,0,,,,,,"*MUST BE REBASED JUST BEFORE MERGING*

*----------*

{\{git checkout master }}

{{git pull}}

_*checkout the CR from Gerrit - be sure you have latest!!!*_ 

{{git checkout -b <newbranch>}}

{\{git rebase master }}

git commit --amend

*_make a tweak to commit message_*

git review

 

Check for clean CI passes

merge

----------------------

Changes

----------------------------

Update bootstrap.sh for latest baseimage:

export THIRDPARTY_IMAGE_VERSION=0.4.13

 

Update Makefile

{{BASE_VERSION}}
 {{PREV_VERSION}}

EXPERIMENTAL ?= false

 
 Update docs/source/install.rst

e.g. 
 curl -sSL [https://goo.gl/6wtTN5] | bash -s 1.3.0-rc1--
  

grep code for last release number or rc1, ensure all other references updated.

{{release_notes/v1.3.0.txt should be created}}

{{docs/source/releases.rst should be updated with prose and link to GH release page}}

Update hard coded release version in cryptogen, configtxgen, configtxlator, idemixgen binaries, e.g. *common/tools/configtxlator/metadata/metadata.go* (try to resolve this in the future)

{{change log should be generated just *after* *rebasing* to pick up the last minute merged CRs and linked from docs/source/releases.rst}}

./scripts/changelog.sh v1.3.0-rc1 v1.3.0",,ChristopherFerris,denyeart,luomin,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12413,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzzuf3:",,,,,,,,,,,,,,,,,,,,,ChristopherFerris,denyeart,luomin,,,,,,,,,,,,,,,,,,,,,,,,release-1.3,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"11/Oct/18 1:06 AM;denyeart;https://gerrit.hyperledger.org/r/#/c/26894/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Prepare fabric for next release,FAB-12383,34546,34543,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ChristopherFerris,ChristopherFerris,denyeart,10/Oct/18 3:45 PM,15/Jul/19 8:29 PM,28/Oct/23 3:04 AM,11/Oct/18 6:47 AM,v1.3.0,,,,,,,,,,fabric-release,,,,0,,,,,,"Note that this change must be stacked on the previous CR to prepare for the v1.3.0 release.

Update Makefile

BASE_VERSION = 1.3.1

PREV_VERSION = 1.3.0

EXPERIMENTAL ?= false

 

Also, update master branch to have BASE_VERSION=1.3.0

Note: Release should be tagged prior to merging this ""prepare for next CR"".",,ChristopherFerris,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzzufb:",,,,,,,,,,,,,,,,,,,,,ChristopherFerris,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,release-1.3,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"11/Oct/18 6:46 AM;denyeart;https://gerrit.hyperledger.org/r/#/c/26903/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Release fabric-ca 1.3.0,FAB-12384,34547,34543,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,denyeart,ChristopherFerris,denyeart,10/Oct/18 3:45 PM,10/Oct/18 11:03 PM,28/Oct/23 3:04 AM,10/Oct/18 11:03 PM,,,,,,v1.3.0,,,,,fabric-release,,,,0,,,,,,"*MUST BE REBASED JUST BEFORE MERGING*

Check for clean CI

Update Makefile

{{BASE_VERSION = }}
 {{PREV_VERSION =}}
 {{IS_RELEASE = true}}

change log should be generated just *after* *rebasing* to pick up the last minute merged CRs 
 ./scripts/changelog.sh v1.3.0-rc1 v1.3.0

update release_notes/v1.3.0.txt

 ",,ChristopherFerris,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzzufj:",,,,,,,,,,,,,,,,,,,,,ChristopherFerris,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Prepare fabric-ca for next release,FAB-12385,34548,34543,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ChristopherFerris,ChristopherFerris,denyeart,10/Oct/18 3:45 PM,11/Oct/18 6:46 AM,28/Oct/23 3:04 AM,11/Oct/18 6:46 AM,,,,,,v1.3.0,,,,,fabric-release,,,,0,,,,,,"Note that this change must be stacked on the previous CR to prepare for the next release on the release-1.3 branch

1. Update Makefile

{{BASE_VERSION = 1.3.1}}
 {{PREV_VERSION = 1.3.0}}
 {{IS_RELEASE = false}}

2. Update lib/metadata/version.go

var Version = ""1.3.1""
  
 Note: Release should be tagged prior to merging this ""prepare for next CR"".

 Note, also update master branch with:

1. Update Makefile

{{BASE_VERSION = 1.4.0}}
 {{PREV_VERSION = 1.3.0}}
 {{IS_RELEASE = false}}

2. Update lib/metadata/version.go

var Version = ""1.4.0""",,aambati,ChristopherFerris,denyeart,rennman,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzzufr:",,,,,,,,,,,,,,,,,,,,,aambati,ChristopherFerris,denyeart,rennman,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Verify fabric, fabric-ca docker images are published",FAB-12388,34551,34543,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,rameshthoomu,denyeart,10/Oct/18 3:45 PM,11/Oct/18 1:59 AM,28/Oct/23 3:04 AM,11/Oct/18 1:59 AM,,,,,,v1.3.0,,,,,fabric-ci,fabric-release,,,0,,,,,,"Verify fabric, fabric-ca docker images are published to hyperledger docker-hub account and make sure fabric-binaries are published to nexus repository.",,ChristopherFerris,denyeart,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzzugf:",,,,,,,,,,,,,,,,,,,,,ChristopherFerris,denyeart,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"11/Oct/18 1:58 AM;rameshthoomu;Images and binaries are published to DockerHub and nexus

Images:

[https://hub.docker.com/r/hyperledger/fabric-peer/tags/]

[https://hub.docker.com/r/hyperledger/fabric-ca/tags/]

[https://hub.docker.com/r/hyperledger/fabric-javaenv/tags/]

 

Binaries

[https://nexus.hyperledger.org/content/repositories/releases/org/hyperledger/fabric/hyperledger-fabric/]

[https://nexus.hyperledger.org/content/repositories/releases/org/hyperledger/fabric-ca/hyperledger-fabric-ca/]

https://nexus.hyperledger.org/content/repositories/releases/org/hyperledger/fabric-chaincode-java/

 ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Push multiarch manifests,FAB-12389,34552,34543,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ChristopherFerris,ChristopherFerris,denyeart,10/Oct/18 3:45 PM,11/Oct/18 12:21 AM,28/Oct/23 3:04 AM,11/Oct/18 12:21 AM,,,,,,v1.3.0,,,,,fabric-build,,,,0,,,,,,BASE_VERSION=1.3.0 scripts/multiarch.sh <user> <password>,,ChristopherFerris,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzzugn:",,,,,,,,,,,,,,,,,,,,,ChristopherFerris,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Test download of release artifacts and samples across all platforms,FAB-12390,34553,34543,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,ChristopherFerris,denyeart,10/Oct/18 3:45 PM,11/Oct/18 6:26 AM,28/Oct/23 3:04 AM,11/Oct/18 6:26 AM,,,,,,v1.3.0,,,,,fabric-release,,,,0,,,,,,test download of release artifacts and samples across all platforms,,ChristopherFerris,denyeart,harrijk,rameshthoomu,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzzugv:",,,,,,,,,,,,,,,,,,,,,ChristopherFerris,denyeart,harrijk,rameshthoomu,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"11/Oct/18 2:00 AM;rameshthoomu;Successfully published 1.3.0 images and binaries to DockerHub and Nexus repositories and able to run bootstrap script

curl -sSL http://bit.ly/2ysbOFE | bash -s 1.3.0 1.3.0 0.4.13

curl -sSL http://bit.ly/2ysbOFE | bash -s 1.3.0;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Tag repositories for 1.3.0,FAB-12391,34554,34543,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,denyeart,ChristopherFerris,denyeart,10/Oct/18 3:45 PM,11/Oct/18 7:14 AM,28/Oct/23 3:04 AM,11/Oct/18 7:14 AM,,,,,,v1.3.0,,,,,fabric-release,,,,0,,,,,,"*NOTE:* depends on preceding related CRs being merged.

Tag each repository local clone with the release_notes/v1.2.0.txt as the tag comment

% git tag -a v1.3.0 -F release_notes/v1.3.0.txt

{{% git push origin v1.3.0 HEAD:refs/heads/release-1.3}}

Tag each of fabric, fabric-ca , fabric-chaincode-java ad fabric-samples (use v1.3.0-rc1).

 
----
Note, that one can also tag the repo at a specific commit-level.

NOTE *e4b4704 should be updated with latest commit sha*

E.g., to add the {color:#f79232}*v1.3.0-rc1*{color} tag at commit level {color:#205081}*e4b4704*{color}, I used

{{% git tag -a *{color:#f79232}v1.3.0{color} {color:#205081}e4b4704{color}* -}}F release_notes/v1.3.0.{{txt}}

 

 ",,ChristopherFerris,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzzuh3:",,,,,,,,,,,,,,,,,,,,,ChristopherFerris,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"11/Oct/18 7:14 AM;denyeart;tagged fabric, fabric-ca, fabric-chaincode-java, fabric-chaincode-node, fabric-sdk-node, fabric-samples.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Create release-1.3 branches,FAB-12392,34555,34543,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,denyeart,ChristopherFerris,denyeart,10/Oct/18 3:45 PM,11/Oct/18 1:14 AM,28/Oct/23 3:04 AM,11/Oct/18 1:14 AM,,,,,,,,,,,,,,,0,,,,,,"cut release-1.3 branch for fabric, fabric-ca, fabric-chaincode-java, fabric-chaincode-node, fabric-samples",,ChristopherFerris,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzuhb:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ChristopherFerris,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"11/Oct/18 1:14 AM;ChristopherFerris;this was done during the 1.3.0-rc1 release;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Verify doc build status on ReadTheDocs,FAB-12393,34556,34543,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ChristopherFerris,rameshthoomu,denyeart,10/Oct/18 3:45 PM,11/Oct/18 1:04 AM,28/Oct/23 3:04 AM,11/Oct/18 1:04 AM,,,,,,v1.3.0,,,,,fabric-ci,fabric-docs,fabric-release,,0,,,,,,Verify readthedocs version release-1.3 gets built and published from release-1.3 branch edits. Also changed 1.3.0 to be the default version.,,ChristopherFerris,denyeart,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzzuhj:",,,,,,,,,,,,,,,,,,,,,ChristopherFerris,denyeart,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update Fabric README (if not done in release CR),FAB-12394,34557,34543,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,denyeart,denyeart,denyeart,10/Oct/18 3:45 PM,11/Oct/18 1:11 AM,28/Oct/23 3:04 AM,11/Oct/18 1:11 AM,,,,,,v1.3.0,,,,,fabric-release,,,,0,,,,,,Update Fabric README (if not done in release CR).,,ChristopherFerris,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzzuhr:",,,,,,,,,,,,,,,,,,,,,ChristopherFerris,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Pin samples and release for 1.3.0,FAB-12395,34558,34543,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,denyeart,denyeart,denyeart,10/Oct/18 3:45 PM,11/Oct/18 6:21 AM,28/Oct/23 3:04 AM,11/Oct/18 5:55 AM,,,,,,v1.3.0,,,,,,,,,0,,,,,,"Update version references in fabric-samples, and then tag fabric-samples and create release-1.3 branch.

See associated CR for updates.

 
*ALSO AFTER V1.3.0 ONLY PIN SAMPLES... NOT AFTER V1.3.0-RC1:*

After creating release-1.3 branch, pin the fabric samples to use version ""~1.3.0"" of node sdk and node chaincode.  This will forever align fabric samples in release-1.3 branch with the 1.3.x node.js releases. 

fabric-samples master branch continues to use ""unstable"" to pick up the latest and greatest node.js releases.

This should be merged in release-1.3 branch, before fabric-samples is tagged with ""v1.3.0"".",,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12415,,,FAB-12397,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzuhz:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"11/Oct/18 5:07 AM;denyeart;https://gerrit.hyperledger.org/r/#/c/26918/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Send email to hyperledger-fabric mailing list,FAB-12396,34559,34543,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,denyeart,ChristopherFerris,denyeart,10/Oct/18 3:45 PM,11/Oct/18 9:29 PM,28/Oct/23 3:04 AM,11/Oct/18 9:29 PM,,,,,,v1.3.0,,,,,fabric-release,,,,0,,,,,,send email announcing the release to hyperledger-fabric@lists.hyperledger.org mailing list.,,ChristopherFerris,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzzui7:",,,,,,,,,,,,,,,,,,,,,ChristopherFerris,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Pin fabric-samples to node.js ""~1.3.0""",FAB-12397,34560,34543,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,denyeart,denyeart,denyeart,10/Oct/18 3:45 PM,11/Oct/18 5:03 AM,28/Oct/23 3:04 AM,11/Oct/18 5:03 AM,,,,,,v1.3.0,,,,,fabric-samples,,,,0,,,,,,"*AFTER V1.3.0 ONLY... NOT AFTER V1.3.0-RC1.*

After creating release-1.3 branch, pin the fabric samples to use version ""~1.3.0"" of node sdk and node chaincode.  This will forever align fabric samples in release-1.3 branch with the 1.3.x node.js releases. 

fabric-samples master branch continues to use ""unstable"" to pick up the latest and greatest node.js releases.

This should be merged in release-1.3 branch, before fabric-samples is tagged with ""v1.3.0"".",,ChristopherFerris,denyeart,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12395,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzzuif:",,,,,,,,,,,,,,,,,,,,,ChristopherFerris,denyeart,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"11/Oct/18 1:18 AM;harrisob@us.ibm.com;Does this also include changing the Chaincode Node packge.jsons under
 * fabric-samples/chaincode/chaincode_example02/node/package.json
 * fabric-samples/chaincode/fabcar/node/package.json
 * fabric-samples/chaincode/marbles02/node/package.json;;;","11/Oct/18 5:00 AM;denyeart;yes;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As a token infrastructure (peer) developer, I want to write an e2e test for list tokens",FAB-12399,34567,32185,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,angelo.decaro,KaoutarEL,KaoutarEL,10/Oct/18 9:53 PM,28/Jan/19 6:12 PM,28/Oct/23 3:04 AM,28/Jan/19 6:12 PM,,,,,,,,,,,,,,,0,,,,,,The test starts with a user issuing tokens for a recipient and then having the recipient leverage the list tokens functionality to check that the issued tokens were well-received.,,damirmanapov,KaoutarEL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12688,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzujb:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),damirmanapov,KaoutarEL,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Capability for firing off multiple chaincode events within a single transaction,FAB-12400,34568,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,rolivieri,rolivieri,10/Oct/18 10:31 PM,23/Jan/20 7:32 AM,28/Oct/23 3:04 AM,23/Jan/20 7:32 AM,,,,,,,,,,,,,,,1,stale-item,,,,,"Hyperledger Fabric v1.2

Currently, developers can fire off one and only one chaincode event within the context of a single transaction. This is very limiting; instead, developers run into use cases where firing off multiple chaincode events is needed.

The current API for firing off chaincode events looks like this:
 ChaincodeStub.SetEvent()

Instead, it would be great if the API was improved to something along the following lines:

ChaincodeStub.AddEvent()
 ChaincodeStub.GetEvents()",,jastisriradheshyam,rolivieri,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzujj:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),jastisriradheshyam,rolivieri,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 7:32 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
PTE CouchDB indexing system tests does unnecessary invokes/queries in FAB-8251 and FAB-8252,FAB-12401,34569,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,AdnanChoudhury,AdnanChoudhury,AdnanChoudhury,10/Oct/18 11:31 PM,18/Oct/18 11:06 PM,28/Oct/23 3:04 AM,18/Oct/18 11:06 PM,,,,,,,,,,,fabric-quality,,,,0,,,,,,"once the network is up, it should use only ""-i"" instead of ""-a -i"" to remove the extraneous steps.",,AdnanChoudhury,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzujr:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),AdnanChoudhury,,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,true,"18/Oct/18 11:06 PM;AdnanChoudhury;https://gerrit.hyperledger.org/r/#/c/26964/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
The unit-tests daily failed in release-1.3 as timeout expired in gossip tests.,FAB-12402,34570,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,sambhavdutt,sambhavdutt,10/Oct/18 11:57 PM,19/Mar/19 8:13 PM,28/Oct/23 3:04 AM,18/Oct/18 10:58 PM,v1.3.0,,,,,v1.4.0,,,,,fabric-gossip,,,,0,ci-failure,,,,,"

{code:java}
20:37:16 unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/gossip/go<<<TestConnectToAnchorPeers>>>
20:37:16 unit-tests_1  | --- FAIL: TestConnectToAnchorPeers (367.08s)
20:37:16 unit-tests_1  | 	assertions.go:247: 
                          
	Error Trace:	gossip_test.go:1529
20:37:16 unit-tests_1  | 		
	            	
			asm_amd64.s:2361
20:37:16 unit-tests_1  | 		
	Error:      	Didn't stop within a timely manner
20:37:16 unit-tests_1  | 		
	Test:       	TestConnectToAnchorPeers
20:37:16 unit-tests_1  | 	assertions.go:247: 
                          
	Error Trace:	gossip_test.go:1589
20:37:16 unit-tests_1  | 		
	            	
			gossip_test.go:473
20:37:16 unit-tests_1  | 		
	Error:      	Timeout expired!
20:37:16 unit-tests_1  | 		
	Test:       	TestConnectToAnchorPeers
20:37:16 unit-tests_1  | 	assertions.go:247: 
                          
	Error Trace:	gossip_test.go:1589
20:37:16 unit-tests_1  | 		
	            	
			gossip_test.go:483
20:37:16 unit-tests_1  | 		
	Error:      	Timeout expired!
20:37:16 unit-tests_1  | 		
	Test:       	TestConnectToAnchorPeers
20:37:16 unit-tests_1  | 2018-10-10 00:36:42.622 UTC [gossip/comm#8611] sendToEndpoint -> WARN 2f38 Failed obtaining connection for localhost:8613, PKIid:[108 111 99 97 108 104 111 115 116 58 56 54 49 51] reason: ConnStore is closing

{code}


https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-unit-test-daily-release-1.3-x86_64/15/",,C0rWin,denyeart,rameshthoomu,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,595a8c21e1a0e355da8b66f691f627660deaff33,Unset,No,,,"1|hzzujz:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),C0rWin,denyeart,rameshthoomu,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"12/Oct/18 10:24 PM;sambhavdutt;I noticed this error in today's unit tests from release-1.3, I did not see this specific error in the recent unit-test fails for 1.3 

*fabric Commit: ce1bd7286ed0c1915dc9020182d8e9ad5a9959de*

{code:java}
20:28:56 unit-tests_1  | ok  	github.com/hyperledger/fabric/gossip/api	0.006s	coverage: 100.0% of statements
20:29:01 unit-tests_1  | --- FAIL: TestNonResponsivePing (0.00s)
20:29:01 unit-tests_1  | panic: listen tcp :49478: bind: address already in use [recovered]
20:29:01 unit-tests_1  | 	panic: listen tcp :49478: bind: address already in use
20:29:01 unit-tests_1  | 
20:29:01 unit-tests_1  | goroutine 16 [running]:
20:29:01 unit-tests_1  | testing.tRunner.func1(0xc420210960)
20:29:01 unit-tests_1  | 	/opt/go/src/testing/testing.go:742 +0x29d
20:29:01 unit-tests_1  | panic(0xd4a2e0, 0xc4203de410)
20:29:01 unit-tests_1  | 	/opt/go/src/runtime/panic.go:502 +0x229
20:29:01 unit-tests_1  | github.com/hyperledger/fabric/gossip/comm.createGRPCLayer(0xc146, 0x0, 0xc420351200, 0x34630c7dd87, 0xf, 0x10)
20:29:01 unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/gossip/comm/comm_impl.go:701 +0x72d
20:29:01 unit-tests_1  | github.com/hyperledger/fabric/gossip/comm.NewCommInstanceWithServer(0xc146, 0xe947a0, 0xc4203f6070, 0xc4203cc050, 0xf, 0x10, 0x0, 0xe85320, 0x141da40, 0x0, ...)
20:29:01 unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/gossip/comm/comm_impl.go:70 +0x9c5
20:29:01 unit-tests_1  | github.com/hyperledger/fabric/gossip/comm.newCommInstance(0xc146, 0x141da40, 0xc420212990, 0x7ed3dd, 0xf6bc38, 0xf6bc78)
20:29:01 unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/gossip/comm/comm_test.go:117 +0x1c9
20:29:01 unit-tests_1  | github.com/hyperledger/fabric/gossip/comm.TestNonResponsivePing(0xc420210960)
20:29:01 unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/gossip/comm/comm_test.go:649 +0x70
20:29:01 unit-tests_1  | testing.tRunner(0xc420210960, 0xe382e0)
20:29:01 unit-tests_1  | 	/opt/go/src/testing/testing.go:777 +0xd0
20:29:01 unit-tests_1  | created by testing.(*T).Run
20:29:01 unit-tests_1  | 	/opt/go/src/testing/testing.go:824 +0x2e0
20:29:01 unit-tests_1  | FAIL	github.com/hyperledger/fabric/gossip/comm	2.065s
{code}

*Build Log*

https://jenkins.hyperledger.org/view/Daily/job/fabric-unit-test-daily-release-1.3-x86_64/17/consoleFull

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-unit-test-daily-release-1.3-x86_64/17/
;;;","15/Oct/18 12:16 PM;denyeart;I don't expect this is specific to release-1.3, tagging as v1.4.0.;;;","18/Oct/18 10:57 PM;sambhavdutt;This job is no longer failing due to timeout;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
fabric-unit-test-daily-release-release-1.2 failed due to invoke error with mycc,FAB-12403,34571,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,sambhavdutt,sambhavdutt,11/Oct/18 12:08 AM,19/Mar/19 8:13 PM,28/Oct/23 3:04 AM,18/Oct/18 10:51 PM,v1.2.0,,,,,v1.2.0,,,,,fabric-build,,,,0,ci-failure,,,,,"The unit tests failed due to panic error as chaincode failed during invoke with mycc

{code:java}
21:01:28 unit-tests_1  | 2018-10-10 01:00:04.388 UTC [ccprovider] ExtractStatedbArtifactsForChaincode -> INFO 05b Error while loading installation package for ccname=%s, ccversion=%s. Err=%s mycc 1.0 open /mycc.1.0: no such file or directory
21:01:28 unit-tests_1  | 2018-10-10 01:00:04.388 UTC [cceventmgmt] HandleChaincodeDeploy -> INFO 05c Channel [TestLedger]: Chaincode [Name=mycc, Version=1.0, Hash=[]byte(nil)] is not installed hence no need to create chaincode artifacts for endorsement
21:01:28 unit-tests_1  | 2018-10-10 01:00:04.413 UTC [kvledger] CommitWithPvtData -> INFO 05d [TestLedger] Committed block [1] with 1 transaction(s) in 26ms (state_validation=0ms block_commit=22ms state_commit=2ms)
21:01:28 unit-tests_1  | 2018-10-10 01:00:04.414 UTC [committer/txvalidator] GetInfoForValidate -> ERRO 05e Unable to get chaincode data from ledger for txid a541e60add6939c7bb1bc68513836b0e48124100e43e9f989f2fb9149ab3237b, due to lscc's state for [mycc] is invalid, policy field must be set
21:01:28 unit-tests_1  | 2018-10-10 01:00:04.414 UTC [committer/txvalidator] VSCCValidateTx -> ERRO 05f GetInfoForValidate for txId = a541e60add6939c7bb1bc68513836b0e48124100e43e9f989f2fb9149ab3237b returned error: lscc's state for [mycc] is invalid, policy field must be set
.
.
21:01:28 unit-tests_1  | 2018-10-10 01:00:13.164 UTC [committer/txvalidator] validateTx -> ERRO 129 VSCCValidateTx for transaction txId = 33fc56c52a5ef8d90d87dfc5aca260919b70643b1362349f5294d13cb1d8d2dc returned error: chaincode mycc attempted to write to the namespace of a system chaincode that cannot be invoked
21:01:28 unit-tests_1  | 2018-10-10 01:00:13.164 UTC [committer/txvalidator] Validate -> INFO 12a [] Validated block [0] in 0ms
21:01:28 unit-tests_1  | 2018-10-10 01:00:13.164 UTC [ledgermgmt] Close -> INFO 12b Closing ledger mgmt
21:01:28 unit-tests_1  | 2018-10-10 01:00:13.165 UTC [ledgermgmt] Close -> INFO 12c ledger mgmt closed
21:01:28 unit-tests_1  | removing dir = /tmp/fabric/validatortest/ledgersData
21:01:28 unit-tests_1  | panic: runtime error: invalid memory address or nil pointer dereference
21:01:28 unit-tests_1  | [signal SIGSEGV: segmentation violation code=0x1 addr=0x8 pc=0xe7f0e2]
.
.
21:01:28 unit-tests_1  | FAIL	github.com/hyperledger/fabric/core/committer/txvalidator	14.566s
{code}

*Build Log*

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-unit-test-daily-release-1.2-x86_64/14/
",,C0rWin,denyeart,rameshthoomu,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,e6d9c55b0cd556d8d92d74de57c476d393fdf5cd,Unset,No,,,"1|hzzuk7:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),C0rWin,denyeart,rameshthoomu,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"18/Oct/18 10:50 PM;sambhavdutt;This job has been passing without the invoke error;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Release fabric-sdk-node 1.3.0,FAB-12408,34576,34543,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,harrisob@us.ibm.com,ChristopherFerris,denyeart,11/Oct/18 1:26 AM,11/Dec/18 3:48 PM,28/Oct/23 3:04 AM,11/Oct/18 5:54 AM,,,,,,v1.3.0,,,,,fabric-release,,,,0,,,,,,"*MUST BE REBASED JUST PRIOR TO MERGING*

generate CHANGELOG.md just *after rebasing* to pick up last minute merged CRs

./scripts/changelog.sh 2b862d7 v1.3.0 (have to use hash as there is no tag to find)

update release_notes/v1.3.0.txt

update package.json files with the release identifier

./package.json

    ""version"": ""1.3.0-snapshot"",  -> ""version"": ""1.3.0"",

    ""testFabricVersion"": ""master"",  -> ""testFabricVersion"": ""1.3.0"",

./fabric-ca-client/package.json

    ""version"": ""1.3.0-snapshot"",  -> ""version"": ""1.30"",

   ""tag"": ""unstable"" -> ""latest""

./fabric-client/package.json

    ""version"": ""1.3.0-snapshot"",  -> ""version"": ""1.3.0"",

    ""tag"": ""unstable"" -> ""latest""

 ",,ChristopherFerris,denyeart,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-966,,,,,,,,FAB-13230,,FAB-8892,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzzulb:",,,,,,,,,,,,,,,,,,,,,ChristopherFerris,denyeart,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"11/Oct/18 1:53 AM;harrisob@us.ibm.com;https://gerrit.hyperledger.org/r/#/c/26900/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Prepare fabric-sdk-node for next release,FAB-12409,34577,34543,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,harrisob@us.ibm.com,ChristopherFerris,denyeart,11/Oct/18 1:27 AM,11/Dec/18 3:44 PM,28/Oct/23 3:04 AM,11/Oct/18 2:36 AM,,,,,,v1.3.0,,,,,fabric-release,,,,0,,,,,,"update package.json files with the SNAPSHOT release identifier

  ./package.json

  fabric-client/package.json

  fabric-ca-client/package.json",,ChristopherFerris,denyeart,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-13228,,FAB-8893,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzzulj:",,,,,,,,,,,,,,,,,,,,,ChristopherFerris,denyeart,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"11/Oct/18 2:36 AM;harrisob@us.ibm.com;There is no need to do this in the branch release-1.3, there may not be a need to publish an unstable, the author of the next change to the release code will make this call and change the numbers accordingly.

A change like this has already been made to master where it is now at 1.4.0-snapshot;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Prepare Node Chaincode for 1.3,FAB-12410,34578,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,mbwhite,mbwhite,11/Oct/18 1:29 AM,23/Jan/20 7:32 AM,28/Oct/23 3:04 AM,23/Jan/20 7:32 AM,,,,,,,,,,,,,,,0,stale-item,,,,,,,denyeart,mbwhite,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzulr:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,mbwhite,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"11/Oct/18 1:33 AM;mbwhite;https://gerrit.hyperledger.org/r/26906;;;","11/Oct/18 1:33 AM;mbwhite;based on the comments in for the chanes. https://jira.hyperledger.org/browse/FABN-966

 

Updated the package.json of the modules, and the releases notes. ;;;","11/Oct/18 6:28 AM;denyeart;https://gerrit.hyperledger.org/r/#/c/26907/;;;","23/Jan/20 7:32 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Push multiarch manifest for two digit version tag,FAB-12411,34581,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,rameshthoomu,rameshthoomu,rameshthoomu,11/Oct/18 3:06 AM,27/Feb/19 4:11 AM,28/Oct/23 3:04 AM,27/Feb/19 4:00 AM,v1.3.0,,,,,v1.3.0,,,,,fabric-build,,,,0,,,,,,"As per [~rickr] request, publish multiarch images (ex: 1.3) along with 1.3.0 and :latest tags to docker hub after successfully publish the images to dockerhub.

This helps sdk's to use 1.3 tag which should pull 1.3.0 (current latest), if the version is changed to 1.3.1 (future latest) that should work without changing the sdk scripts.",,rameshthoomu,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzumf:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rameshthoomu,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"11/Oct/18 3:49 AM;rameshthoomu;https://gerrit.hyperledger.org/r/#/c/26913/;;;","27/Feb/19 3:52 AM;rameshthoomu;[~rickr] do you need two digit multiarch for release-1.3 branch? ;;;","27/Feb/19 4:01 AM;rameshthoomu;This feature has been available since release-1.4 and it';s a LTS.. I don't think we no need to enale for release-1.3.;;;","27/Feb/19 4:11 AM;rickr;I don't think so.  There are not many changes going into fabric <1.4 that I know of so don't see a big bang for the buck.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
CouchDB indexing (FAB-7255) test failed in the daily behave tests today as chaincode is not running.,FAB-12412,34587,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Invalid: Works as Expected,latitiah,sambhavdutt,sambhavdutt,11/Oct/18 5:43 AM,19/Mar/19 8:13 PM,28/Oct/23 3:04 AM,11/Oct/18 8:41 PM,v1.3.0,,,,,v1.3.0,,,,,fabric-quality,,,,0,ci-failure,,,,,"[~scottz] [~denyeart] [~latitiah] [~rameshthoomu]

I noticed these errors in the Behave tests for FAB-7255 , CouchDB Indexing fails as expected chaincode container aa4eccfccc3b11e89fa4fa163e71fb71-peer0.org1.example.com-mycc1-0 is not running. This CouchDB Indexing is failing in the day's test for FAB-7255, The previous intermittent fails in the CouchDB Indexing(FAB-7251, FAB-7253) are passing in the latest build today.

{code:java}
CouchDB_index.Testing Fabric CouchDB indexing.FAB-7255: Test CouchDB indexing using marbles chaincode using NODE with 3 channels and 1 index with 3 selectors -- @1.2 

Failing step: And an admin deploys chaincode at path ""../../fabric-samples/chaincode/marbles02/node"" with args [""""] with name ""mycc1"" with language ""NODE"" on channel ""mychannel1"" ... failed in 335.426s
Location: CouchDB_index.feature:40
Assertion Failed: The expected chaincode container aa4eccfccc3b11e89fa4fa163e71fb71-peer0.org1.example.com-mycc1-0 is not running
Captured stdout:
testConfigs: configs/aa4eccfccc3b11e89fa4fa163e71fb71
['index_behave_test.json', 'indexOwner.json']
.
.
@scenario.begin

  @daily
  Scenario Outline: FAB-7255: Test CouchDB indexing using marbles chaincode using NODE with 3 channels and 1 index with 3 selectors -- @1.2 
    Given I have a bootstrapped fabric network of type kafka using state-database couchdb with tls ... passed in 40.894s
    When a user defines a couchDB index named index_behave_test with design document name ""indexdoc_behave_test"" containing the fields ""owner,docType,color"" to the chaincode at path ""../fabric-samples/chaincode/marbles02/node"" ... passed in 0.001s
    When an admin sets up a channel named ""mychannel1"" ... passed in 65.082s
    And an admin sets up a channel named ""mychannel2"" ... passed in 78.199s
    And an admin sets up a channel named ""mychannel3"" ... passed in 76.505s
    And an admin deploys chaincode at path ""../../fabric-samples/chaincode/marbles02/node"" with args [""""] with name ""mycc1"" with language ""NODE"" on channel ""mychannel1"" ... failed in 335.426s
    And an admin deploys chaincode at path ""../../fabric-samples/chaincode/marbles02/node"" with args [""""] with name ""mycc2"" with language ""NODE"" on channel ""mychannel2"" ... skipped in 0.000s
{code}

*Build Log*

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-daily-behave-master-x86_64/50/Behave_Test_Logs/couchdb02_FAB-7255:_Test_CouchDB_indexing_using_marbles_chaincode_using_NODE_with_3_channels_and_1_index_with_3_selectors_--_@1.2_.log

https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-behave-master-x86_64/lastCompletedBuild/testReport/CouchDB_index/Testing%20Fabric%20CouchDB%20indexing/FAB_7255__Test_CouchDB_indexing_using_marbles_chaincode_using_NODE_with_3_channels_and_1_index_with_3_selectors_____1_2_/

",,latitiah,rameshthoomu,sambhavdutt,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,94d6a1d919835870c51fdf5c50d44dc75141e18e,Unset,No,,,"1|hzzun3:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),latitiah,rameshthoomu,sambhavdutt,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"11/Oct/18 8:41 PM;latitiah;There were no failures in the latest daily run: https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-behave-master-x86_64/lastCompletedBuild/testReport/

I believe this issue can be closed.;;;","11/Oct/18 8:41 PM;latitiah;There were no failures in the latest daily run: https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-behave-master-x86_64/lastCompletedBuild/testReport/

(Build #51);;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Release fabric 1.3.0 (final master cleanup),FAB-12413,34588,34543,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,denyeart,ChristopherFerris,denyeart,11/Oct/18 5:56 AM,12/Oct/18 6:28 AM,28/Oct/23 3:04 AM,12/Oct/18 6:28 AM,,,,,,v1.3.0,,,,,fabric-release,,,,0,,,,,,"*MUST BE REBASED JUST BEFORE MERGING*

*----------*

{\{git checkout master }}

{{git pull}}

_*checkout the CR from Gerrit - be sure you have latest!!!*_ 

{{git checkout -b <newbranch>}}

{\{git rebase master }}

git commit --amend

*_make a tweak to commit message_*

git review

 

Check for clean CI passes

merge

----------------------

Changes

----------------------------

Update bootstrap.sh for latest baseimage:

export THIRDPARTY_IMAGE_VERSION=0.4.13

 

Update Makefile

{{BASE_VERSION}}
 {{PREV_VERSION}}

EXPERIMENTAL ?= false

 
 Update docs/source/install.rst

e.g. 
 curl -sSL [https://goo.gl/6wtTN5] | bash -s 1.3.0-rc1--
  

grep code for last release number or rc1, ensure all other references updated.

{{release_notes/v1.3.0.txt should be created}}

{{docs/source/releases.rst should be updated with prose and link to GH release page}}

Update hard coded release version in cryptogen, configtxgen, configtxlator, idemixgen binaries, e.g. *common/tools/configtxlator/metadata/metadata.go* (try to resolve this in the future)

{{change log should be generated just *after* *rebasing* to pick up the last minute merged CRs and linked from docs/source/releases.rst}}

./scripts/changelog.sh v1.3.0-rc1 v1.3.0",,ChristopherFerris,denyeart,luomin,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12382,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzzunb:",,,,,,,,,,,,,,,,,,,,,ChristopherFerris,denyeart,luomin,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.3,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"11/Oct/18 6:01 AM;denyeart;https://gerrit.hyperledger.org/r/#/c/26921/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Chaincodes testing(FAB-6211) failed in Behave daily tests for the day as chaincode container is not running.,FAB-12414,34589,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Invalid: Works as Expected,latitiah,sambhavdutt,sambhavdutt,11/Oct/18 6:05 AM,19/Mar/19 8:13 PM,28/Oct/23 3:04 AM,11/Oct/18 8:41 PM,v1.3.0,,,,,v1.3.0,,,,,fabric-quality,,,,0,ci-failure,,,,,"[~scottz] [~latitiah] [~denyeart] [~rameshthoomu]

I noticed the Chaincodes test failing in FAB-6211 in today's Behave test. This test case FAB-6211 did not fail in the previous builds for the Chaincodes testing in Behave daily test.


{code:java}
chaincodes.Chaincodes Testing.FAB-6211: Test example02 chaincode written using NODE with tls -- @1.3
Failing for the past 1 build (Since Unstable#50 ) Took 6 min 30 sec.


Error Message
The expected chaincode container 75aff43ecc5a11e89fa4fa163e71fb71-peer0.org1.example.com-mycc-0 is not running. 

@scenario.begin

  @daily
  Scenario Outline: FAB-6211: Test example02 chaincode written using NODE with tls -- @1.3 
    Given I have a bootstrapped fabric network of type solo with tls ... passed in 25.015s
    When an admin sets up a channel ... passed in 42.106s
    And an admin deploys chaincode at path ""../../fabric-test/chaincodes/example02/node"" with args [""init"",""a"",""1000"",""b"",""2000""] with name ""mycc"" with language ""NODE"" ... failed in 323.318s
    When a user queries on the chaincode named ""mycc"" with args [""query"",""a""] ... skipped in 0.000s
    Then a user receives a success response of 1000 ... skipped in 0.000s

{code}

*Build Logs*

https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-behave-master-x86_64/lastCompletedBuild/testReport/chaincodes/Chaincodes%20Testing/FAB_6211__Test_example02_chaincode_written_using_NODE_with_tls_____1_3_/

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-daily-behave-master-x86_64/50/Behave_Test_Logs/",,latitiah,rameshthoomu,sambhavdutt,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,94d6a1d919835870c51fdf5c50d44dc75141e18e,Unset,No,,,"1|hzzunj:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),latitiah,rameshthoomu,sambhavdutt,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"11/Oct/18 8:40 PM;latitiah;There were no failures in the latest daily run: https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-behave-master-x86_64/lastCompletedBuild/testReport/

I believe this issue can be closed.;;;","11/Oct/18 8:41 PM;latitiah;There were no failures in the latest daily run: https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-behave-master-x86_64/lastCompletedBuild/testReport/

(Build #51);;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
samples for 1.3.0 (final master cleanup),FAB-12415,34590,34543,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,denyeart,denyeart,denyeart,11/Oct/18 6:21 AM,11/Oct/18 10:24 AM,28/Oct/23 3:04 AM,11/Oct/18 10:24 AM,,,,,,v1.3.0,,,,,,,,,0,,,,,,Update version references in fabric-samples.,,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12395,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzunr:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-6.11.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/tough-cookie-4.1.3,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/semver-6.3.1,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/grpc/grpc-js-1.8.17,dependabot/go_modules/high-throughput/application-go/google.golang.org/grpc-1.53.0,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/word-wrap-1.2.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-and-fabric-network-7.2.4,dependabot/go_modules/asset-transfer-basic/application-go/google.golang.org/grpc-1.53.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"11/Oct/18 6:24 AM;denyeart;https://gerrit.hyperledger.org/r/#/c/26922/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Orderer Service test FAB-3859 failed in the Behave tests today as the kafka containers are not ready in time.,FAB-12416,34591,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Invalid: Works as Expected,latitiah,sambhavdutt,sambhavdutt,11/Oct/18 6:22 AM,19/Mar/19 8:12 PM,28/Oct/23 3:04 AM,11/Oct/18 8:39 PM,v1.3.0,,,,,v1.3.0,,,,,fabric-quality,,,,0,ci-failure,,,,,"[~latitiah] [~scottz] [~denyeart] [~rameshthoomu]

FAB-3859 Orderer Service test failed in the day's Behave tests as kafka containers are not ready in the allotted time. There have been fails before due to timeout but not in FAB-3859


{code:java}
orderer.Orderer Service.FAB-3859: Kafka Network with Large Message Size 4MB with Configuration Tweaks -- @1.6 

The kafka containers are not ready in the allotted time (300 seconds)

Failing step: Given I have a bootstrapped fabric network of type kafka ... failed in 323.986s
Location: orderer.feature:176
Assertion Failed: The kafka containers are not ready in the allotted time (300 seconds)
Captured stdout:
testConfigs: configs/aff34f4ecc8511e89fa4fa163e71fb71

.
.
 Given I have a bootstrapped fabric network of type kafka ... failed in 323.986s
    And I use the NodeJS SDK interface ... skipped in 0.000s
    When an admin sets up a channel named ""configsz"" ... skipped in 0.000s
{code}

*Build Logs*

https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-behave-master-x86_64/lastCompletedBuild/testReport/orderer/Orderer%20Service/FAB_3859__Kafka_Network_with_Large_Message_Size_4MB_with_Configuration_Tweaks_____1_6_/

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-daily-behave-master-x86_64/50/Behave_Test_Logs/",,latitiah,rameshthoomu,sambhavdutt,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,94d6a1d919835870c51fdf5c50d44dc75141e18e,Unset,No,,,"1|hzzunz:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),latitiah,rameshthoomu,sambhavdutt,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"11/Oct/18 8:36 PM;latitiah;There were no failures in the latest daily run: https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-behave-master-x86_64/51/testReport/

I believe this issue can be closed.;;;","11/Oct/18 8:39 PM;latitiah;There were no failures in the latest daily run: https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-behave-master-x86_64/lastCompletedBuild/testReport/

(Build #51);;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fabric-CA Service FAB-6489 Interoperability Test failed today in the daily Behave tests as the kafka containers are not ready in time.,FAB-12417,34592,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Invalid: Works as Expected,latitiah,sambhavdutt,sambhavdutt,11/Oct/18 6:39 AM,19/Mar/19 8:12 PM,28/Oct/23 3:04 AM,11/Oct/18 8:40 PM,v1.3.0,,,,,v1.3.0,,,,,fabric-quality,,,,0,ci-failure,,,,,"[~latitiah] [~scottz] [~denyeart] [~rameshthoomu]

The FAB-6489 Interoperability Test in Fabric-CA Service failed because the kafka containers are not ready in the allotted time (300 seconds). There were recent fails in FAB-6489 due to root permission error(Permission Denied), In today's test , there is no permission error but the kafka is not ready.


{code:java}
fabric-ca.Fabric-CA Service.FAB-6489: Interoperability Test using kafka based orderer -- @1.2 

The kafka containers are not ready in the allotted time (300 seconds)
Failing step: Given I have a bootstrapped fabric network of type kafka using state-database couchdb with tls ... failed in 328.641s
Location: fabric-ca.feature:14
Assertion Failed: The kafka containers are not ready in the allotted time (300 seconds)
Captured stdout:
testConfigs: configs/77f5c1cacc6311e89fa4fa163e71fb71
.
.
@interop @daily
  Scenario Outline: FAB-6489: Interoperability Test using kafka based orderer -- @1.2 
    Given I have a bootstrapped fabric network of type kafka using state-database couchdb with tls ... failed in 328.641s
    And I use the CLI interface ... skipped in 0.000s
    And I enroll the following users using fabric-ca ... skipped in 0.000s
      | username | organization     | password | role   | certType |
      | latitia  | org1.example.com | h3ll0    | admin  | x509     |
      | scott    | org2.example.com | th3r3    | member | x509     |
      | adnan    | org1.example.com | wh@tsup  | member | x509     |
    When an admin sets up a channel ... skipped in 0.000s
{code}

*Build Logs*

https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-behave-master-x86_64/lastCompletedBuild/testReport/fabric-ca/Fabric-CA%20Service/FAB_6489__Interoperability_Test_using_kafka_based_orderer_____1_2_/

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-daily-behave-master-x86_64/50/Behave_Test_Logs/
",,latitiah,rameshthoomu,sambhavdutt,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,94d6a1d919835870c51fdf5c50d44dc75141e18e,Unset,No,,,"1|hzzuo7:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),latitiah,rameshthoomu,sambhavdutt,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"11/Oct/18 8:39 PM;latitiah;There were no failures in the latest daily run: https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-behave-master-x86_64/lastCompletedBuild/testReport/

I believe this issue can be closed.;;;","11/Oct/18 8:40 PM;latitiah;There were no failures in the latest daily run: https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-behave-master-x86_64/lastCompletedBuild/testReport/

(Build #51);;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update default branch in each of the github projects,FAB-12418,34593,34543,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,denyeart,denyeart,denyeart,11/Oct/18 7:12 AM,12/Oct/18 6:15 AM,28/Oct/23 3:04 AM,12/Oct/18 6:15 AM,,,,,,v1.3.0,,,,,,,,,0,,,,,,Update default branch in each of the github projects to be the latest major release.,,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzuof:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
peer error message mislead user,FAB-12419,34596,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,TiantianGao,TiantianGao,TiantianGao,11/Oct/18 4:44 PM,02/Dec/18 10:53 PM,28/Oct/23 3:04 AM,02/Dec/18 10:53 PM,v1.3.0,,,,,v1.4.0,,,,,fabric-peer,,,,0,,,,,,"When peer start without config path, the error message tell user to use --configPath
{code:java}
 $ peer node start
2018-10-11 15:33:43.594 CST [main] InitCmd -> ERRO 001 Fatal error when initializing core config : Could not find config file. Please make sure that FABRIC_CFG_PATH or --configPath is set to a path which contains core.yaml{code}
but when given --configPath, peer report ""unknown flag""
{code:java}
$ peer node start --configPath sampleconfig/
Error: unknown flag: --configPath
Usage:
  peer node start [flags]Flags:
  -h, --help                help for start
  -o, --orderer string      Ordering service endpoint (default ""orderer:7050"") {code}",,TiantianGao,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzup3:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),TiantianGao,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"11/Oct/18 4:47 PM;TiantianGao;https://gerrit.hyperledger.org/r/#/c/26926/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Restore Fabric-contract-api js-docs,FAB-12420,34602,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,mbwhite,mbwhite,11/Oct/18 9:18 PM,23/Jan/20 7:32 AM,28/Oct/23 3:04 AM,23/Jan/20 7:32 AM,,,,,,,,,,,,,,,0,stale-item,,,,,"Post-1.3 release, we can reinstate the jsdoc production of the jsdocs . ",,mbwhite,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzuq7:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),mbwhite,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 7:32 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Intermittent timeout errors in system behave tests,FAB-12421,34603,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,latitiah,latitiah,latitiah,11/Oct/18 9:45 PM,31/Jul/19 4:54 AM,28/Oct/23 3:04 AM,31/Jul/19 4:54 AM,,,,,,,,,,,fabric-quality,,,,0,ci-failure,,,,,"There are intermittent timeout errors in the behave system tests that result in one of the following error messages.
for the chaincode containers:
{code}The expected chaincode container aa4eccfccc3b11e89fa4fa163e71fb71-peer0.org1.example.com-mycc1-0 is not running{code}

or for the kafka containers:
{code}The kafka containers are not ready in the allotted time (300 seconds){code}

https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-behave-master-x86_64/50/consoleFull",,AdnanChoudhury,latitiah,sambhavdutt,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12745,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzuqf:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),AdnanChoudhury,latitiah,sambhavdutt,scottz,,,,,,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,true,"11/Oct/18 9:49 PM;latitiah;The Timeout class may not be checking for the values before waiting for the expected timeout value. The following log from CI shows a jump in the timevalues between checks. For example,

04:07:29 2018-10-10 08:07:15.903 UTC [nodeCmd] func8 -> INFO 0fe Starting profiling server with listenAddress = 0.0.0.0:6060
04:07:29 2018-10-10 08:07:16.292 UTC [nodeCmd] func8 -> INFO 0fe Starting profiling server with listenAddress = 0.0.0.0:6060
04:07:29 2018-10-10 08:07:18.684 UTC [nodeCmd] func8 -> INFO 100 Starting profiling server with listenAddress = 0.0.0.0:6060
{color:#4C9AFF}04:07:29{color} 2018-10-10 08:07:17.321 UTC [nodeCmd] func8 -> INFO 102 Starting profiling server with listenAddress = 0.0.0.0:6060
{color:#4C9AFF}04:12:29{color} 2018-10-10 08:07:15.903 UTC [nodeCmd] func8 -> INFO 0fe Starting profiling server with listenAddress = 0.0.0.0:6060
04:12:29 2018-10-10 08:07:16.292 UTC [nodeCmd] func8 -> INFO 0fe Starting profiling server with listenAddress = 0.0.0.0:6060
04:12:30 2018-10-10 08:07:18.684 UTC [nodeCmd] func8 -> INFO 100 Starting profiling server with listenAddress = 0.0.0.0:6060
04:12:30 2018-10-10 08:07:17.321 UTC [nodeCmd] func8 -> INFO 102 Starting profiling server with listenAddress = 0.0.0.0:6060
04:12:30       Assertion Failed: The kafka containers are not ready in the allotted time (300 seconds)
;;;","16/Oct/18 11:43 PM;sambhavdutt;I noticed these errors in the last Behave daily test.

1. CouchDB_Index *FAB 7254, 7255, 7256, 7260, 7261, 7262, 7269 *

{code:java}
The expected chaincode container 7587c2fcd10511e8b828fa163e433785-peer0.org1.example.com-mycc1-0 is not running
{code}

*FAB-7264*

{code:java}
CouchDB_index.Testing Fabric CouchDB indexing.FAB-7264: Test CouchDB indexing using CC upgrade with marbles chaincode using GOLANG with 3 channels and 1 upgrade -- @1.1 

Failing step: Then a user receives a response containing no_usable_index ... failed in 0.001s
{code}


*Build Logs*
https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-behave-master-x86_64/57/testReport/CouchDB_index/Testing%20Fabric%20CouchDB%20indexing/

2. Chaincodes Testing *FAB-5971*

{code:java}
chaincodes.Chaincodes Testing.FAB-5791: Test API in SHIM interface using marbles02 and shimApiDriver chaincodes for kafka orderer couchdb db NODE lang -- @1.4 

The expected chaincode container 38cb6e1cd11a11e8b828fa163e433785-peer0.org1.example.com-mycc-0 is not running
Scenario Outline: FAB-5791: Test API in SHIM interface using marbles02 and shimApiDriver chaincodes for kafka orderer couchdb db NODE lang -- @1.4 
    Given I have a bootstrapped fabric network of type kafka ... passed in 27.620s
    When an admin sets up a channel ... passed in 50.955s
    And I vendor ""NODE"" packages for fabric-based chaincode at ""../chaincodes/shimApiDriver/node"" ... passed in 2.243s
    When an admin deploys chaincode at path ""../../fabric-test/chaincodes/marbles/node"" with args [""""] with name ""mycc"" with language ""NODE"" ... failed in 623.490s
{code}

*Build Log*
https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-behave-master-x86_64/57/testReport/chaincodes/Chaincodes%20Testing/FAB_5791__Test_API_in_SHIM_interface_using_marbles02_and_shimApiDriver_chaincodes_for_kafka_orderer_couchdb_db_NODE_lang_____1_4_/

3. Fabric-CA Service , Interoperability Test *FAB-6489*

{code:java}
fabric-ca.Fabric-CA Service.FAB-6489: Interoperability Test using kafka based orderer -- @1.2

The expected chaincode container c77fa1d0d11c11e8b828fa163e433785-peer0.org1.example.com-mycc-0 is not running

  @interop @daily
  Scenario Outline: FAB-6489: Interoperability Test using kafka based orderer -- @1.2 
    Given I have a bootstrapped fabric network of type kafka using state-database couchdb with tls ... passed in 35.506s
    And I use the CLI interface ... passed in 0.001s
    And I enroll the following users using fabric-ca ... passed in 114.433s
      | username | organization     | password | role   | certType |
      | latitia  | org1.example.com | h3ll0    | admin  | x509     |
      | scott    | org2.example.com | th3r3    | member | x509     |
      | adnan    | org1.example.com | wh@tsup  | member | x509     |
    When an admin sets up a channel ... passed in 54.432s
    And an admin deploys chaincode at path ""../../fabric-test/chaincodes/example02/node"" with args [""init"",""a"",""1000"",""b"",""2000""] with name ""mycc"" with language ""NODE"" ... failed in 630.307s
{code}

*Build Logs*
https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-behave-master-x86_64/57/testReport/fabric-ca/Fabric-CA%20Service/FAB_6489__Interoperability_Test_using_kafka_based_orderer_____1_2_/

4. The Orderer Service and Peer Service seem to be fine in the console output (Pleasecorrect me if I'm wrong) but the xml files are not generated somehow and hence not displayed in the TestResultsAnalyzer.


;;;","17/Oct/18 4:48 AM;AdnanChoudhury;The CouchDB behave test failures are of two categories:
1) Any test with Node chaincodes are failing to bring up the CC container
2) The tests that search for ""no usable index"" are failing due to the recent CouchDB upgrade.

They look like two separate issues, Created two separate jiras to track.
FAB-12493
FAB-12494

;;;","20/Oct/18 6:54 AM;latitiah;[~sambhavdutt]: #4 in your list of behave failures is also a separate issue.  Behave is crashing, thus the xml files are not generated. There are 2 issues that are open to address the test failure that causes the crash and a separate issue for not giving a false positive result. 

FAB-10805 - is for handling Memory allocation. 
 FABCI-155 - is for erroring out when behave crashes.

I'd like this issue to not be a catch-all for behave failures, otherwise the actual cause for the failures can get lost - #2 and #3 seem like possibilities for this intermittent Timeout error, but we need to triage them to be sure.;;;","31/Jul/19 4:54 AM;scottz;Lately, not seeing this.
Longterm, behave tests framework is being deprecated, so we can close this.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,
 gotools fails to build from the fabric,FAB-12423,34607,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,sykesm,sambhavdutt,sambhavdutt,12/Oct/18 1:38 AM,15/Jul/19 8:29 PM,28/Oct/23 3:04 AM,12/Oct/18 6:10 AM,v1.4.0,,,,,v1.2.2,v1.4.0,,,,fabric-build,,,,0,ci-failure,,,,,"Observed the below error in all fabric jobs that are failing , in the master branch,  noticed the same when building on local machine too,

{code:java}
11:22:29 make[1]: Entering directory '/opt/gopath/src/github.com/hyperledger/fabric'
11:22:29 Building github.com/golang/lint/golint -> golint
11:22:29 package github.com/golang/lint/golint: code in directory /opt/gotools/obj/src/github.com/golang/lint/golint expects import ""golang.org/x/lint/golint""
11:22:29 make[1]: *** [gotool.golint] Error 1
11:22:29 make: *** [/opt/gotools/bin/golint] Error 2
11:22:29 gotools.mk:53: recipe for target 'gotool.golint' failed
{code}

*Build Logs*

https://jenkins.hyperledger.org/job/fabric-ca-merge-end-2-end-x86_64/143/console",,denyeart,rameshthoomu,sambhavdutt,scottz,troyronda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,4f6586ea347d485efbf25b1abd8d741025ab5b00,Unset,No,,,"1|hzzur3:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,rameshthoomu,sambhavdutt,scottz,troyronda,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.3,release-2.5,release-2.4,main,release-1.2,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"12/Oct/18 3:27 AM;denyeart;[https://gerrit.hyperledger.org/r/#/c/26937/] master

also cherry picked to release-1.3 and release-1.2;;;","12/Oct/18 3:28 AM;sykesm;Once upon a time in a kingdom not far from here, there was a problem with the vanity import machinery for {{golang.org/x/lint}} so a temporary workaround was added to use {{github.com/golang/lint/golint}}. Over time, the temporary change became permanent as code was reworked and history forgotten.

Then, a few hours ago, a commit landed in golint that included the import directive comment making the workaround break. With new found attention to the issue, the workaround is being removed so that peace can once again reign.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
couchedb cve-2018-8007 vulnerability leads to RCE in docker container,FAB-12424,34580,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Won't Do,,dhuseby,dhuseby,11/Oct/18 2:41 AM,29/Nov/18 8:35 AM,28/Oct/23 3:04 AM,29/Nov/18 8:35 AM,,,,,,,,,,,,,,,0,,,,,,"We received a report through H1 about this: [https://hackerone.com/reports/420570]

 

The steps to reproduce are in the google document linked below.  The gist is that the default config in examples has couchdb binding to an external host instead of the loopback address.  This allows somebody in the network to delete databases and to manipulate them to get RCE inside of the docker container.

It looks like the fix is to change the default configuration of couchdb to bind only to the loopback address.",,ChristopherFerris,denyeart,dhuseby,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Security issue,FABB-108,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzum7:",,,,Unset,Unset,,,https://docs.google.com/document/d/1PNPKKbi9vFTupXOAMeFtFfS0h2VgIfaN5ZgtZ_NYUyQ/edit?usp=sharing,,Unset,,,,,,Unset,,Unset,,(Please add usage information),ChristopherFerris,denyeart,dhuseby,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"13/Oct/18 1:28 AM;dhuseby;[~mastersingh24] so this is a legit security bug report with a demo takeover but it rests on a publicly disclosed CVE that we haven't addressed yet.  I'm not sure if we should pay a bounty on this. Will you look at the repro steps document and see if there is anything in there that is Fabric specific that would justify a bounty?;;;","18/Oct/18 2:32 AM;ChristopherFerris;Don't know why we would pay a bounty on a dependency with a recently disclosed CVE.;;;","27/Oct/18 7:33 AM;dhuseby;[~ChristopherFerris] right, that's why I was asking Gari to see if there was anything Fabric specific.  I don't see anything in here that is, I just wanted to double check.

I'm inclined to not pay a bounty and just say thanks.  Maybe mail them a t-shirt.;;;","21/Nov/18 4:31 AM;dhuseby;[~ChristopherFerris][~mastersingh24] I just closed the HackerOne report related to this and did not pay a bounty.  Is this couchdb CVE being dealt with in the Fabric schedule?  Or has it already been dealt with?  Can we close out this issue?;;;","29/Nov/18 8:35 AM;denyeart;The ""default"" for CouchDB container is to not expose to a host port.  It is only mapped to a host port in a developer tutorial where developers may want to look around at the CouchDB data, but that is not a ""default"". We recommend not to expose to a host port in production environments.  Therefore I will close. If you think something needs to be addressed, please re-open.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,
fabric-ca-server is not able to start with softhsm configuration,FAB-12427,34616,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid: Works as Expected,smol,vsudip,vsudip,12/Oct/18 4:34 PM,14/Nov/18 5:05 PM,28/Oct/23 3:04 AM,16/Oct/18 4:05 PM,,,,,,,,,,,fabric-ca,,,,0,,,,,,"I have enabled the PKCS11 in fabric ca , but when starting the fabric-ca-server natively then throwing below error. Please note it works fine with default SW option.
{code:java}
2018/10/12 07:27:01 [INFO] Configuration file location: /opt/gopath/bin/fabric-ca-server-config.yaml
2018/10/12 07:27:01 [INFO] Starting server in home directory: /opt/gopath/bin
2018/10/12 07:27:01 [INFO] Server Version: 1.3.0
2018/10/12 07:27:01 [INFO] Server Levels: &{Identity:1 Affiliation:1 Certificate:1 Credential:1 RAInfo:1 Nonce:1}
2018/10/12 07:27:01 [DEBUG] Making server filenames absolute
2018/10/12 07:27:01 [DEBUG] Initializing default CA in directory /opt/gopath/bin
2018/10/12 07:27:01 [DEBUG] Init CA with home /opt/gopath/bin and config {Version:1.3.0 Cfg:{Identities:{AllowRemove:false} Affiliations:{AllowRemove:false}} CA:{Name: Keyfile: Certfile:ca-cert.pem Chainfile:ca-chain.pem} Signing:0xc4204ce7d0 CSR:{CN:fabric-ca-server Names:[{C:US ST:North Carolina L: O:Hyperledger OU:Fabric SerialNumber:}] Hosts:[safenet localhost] KeyRequest:0xc4204b1ac0 CA:0xc4204b1b40 SerialNumber:} Registry:{MaxEnrollments:-1 Identities:[{ Name:**** Pass:**** Type:client Affiliation: MaxEnrollments:0 Attrs:map[hf.Registrar.Roles:* hf.Registrar.DelegateRoles:* hf.Revoker:1 hf.IntermediateCA:1 hf.GenCRL:1 hf.Registrar.Attributes:* hf.AffiliationMgr:1]  }]} Affiliations:map[org2:[department1] org1:[department1 department2]] LDAP:{ Enabled:false URL:ldap://****:****@<host>:<port>/<base> UserFilter:(uid=%s) GroupFilter:(memberUid=%s) Attribute:{[uid member] [{ }] map[groups:[{ }]]} TLS:{false [] { }}  } DB:{ Type:sqlite3 Datasource:fabric-ca-server.db TLS:{false [] { }}  } CSP:0xc4204de060 Client:<nil> Intermediate:{ParentServer:{ URL: CAName:  } TLS:{Enabled:false CertFiles:[] Client:{KeyFile: CertFile:}} Enrollment:{ Name: Secret:**** CAName: AttrReqs:[] Profile: Label: CSR:<nil> Type:x509  }} CRL:{Expiry:24h0m0s} Idemix:{IssuerPublicKeyfile: IssuerSecretKeyfile: RevocationPublicKeyfile: RevocationPrivateKeyfile: RHPoolSize:1000 NonceExpiration:15s NonceSweepInterval:15m}}
2018/10/12 07:27:01 [DEBUG] CA Home Directory: /opt/gopath/bin
2018/10/12 07:27:01 [DEBUG] Checking configuration file version '1.3.0' against server version: '1.3.0'
2018/10/12 07:27:01 [DEBUG] Initializing BCCSP: &{ProviderName:PKCS11 SwOpts:<nil> PluginOpts:<nil>}
2018/10/12 07:27:01 [DEBUG] Closing server DBs
Error: Failed to initialize BCCSP Factories: %!s(<nil>)
Could not find default `PKCS11` BCCSP

{code}",,smol,vsudip,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzusn:",,,,Unset,Unset,,,"1. Checkout the fabric-ca v1.3.0
2. cd $GOPATH and execute go install github.com/hyperledger/fabric-ca/cmd/...
3. Update BCCSP property as below
bccsp:
    default: PKCS11
    pkcs11:
        library: /usr/local/lib/softhsm/libsofthsm2.so
        pin: daily123
        label: org1label
        hash: SHA2
        security: 256
        filekeystore:
            # The directory used for the software file-based keystore
            keystore: msp/keystore

4. Run server with command
./fabric-ca-server start -b admin:adminpw -d",,Unset,,,,,,Unset,,Unset,,(Please add usage information),smol,vsudip,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"16/Oct/18 4:04 PM;vsudip;This issue is not replicated with latest fabric-ca image.;;;","16/Oct/18 4:05 PM;vsudip;Test with latest fabric-ca , works fine with 1.4.0-snapshot-cb7353f;;;","02/Nov/18 12:59 AM;smol;Where can I find the latest fabric-ca image?;;;","02/Nov/18 6:52 PM;vsudip;[~smol] you can build it from source.;;;","02/Nov/18 7:20 PM;smol;I built from release 1.3 but I have the same mistake. ;;;","02/Nov/18 8:47 PM;vsudip;Don't use release use the latest binaries.;;;","02/Nov/18 8:50 PM;smol;Where can I download the latest binaries? ;;;","02/Nov/18 8:52 PM;smol;I built form source https://github.com/hyperledger/fabric-ca/tree/release-1.3.;;;","02/Nov/18 8:54 PM;vsudip;Use from master branch rather release.;;;","02/Nov/18 8:58 PM;smol;I built form binaries and the error remained. fabric-ca does not see provider #PKCS11.;;;","14/Nov/18 5:05 PM;vsudip;It should work fine (works fine for me), if problem still persist please raise in hyledger fabric-ca chat support.;;;",,,,,,,,,,,,,,,,,,,,,,
Multi Channel Network Sample,FAB-12428,34617,,Story,Closed,FAB,Fabric,software,denyeart,,,Low,Done,nicezic,nicezic,nicezic,12/Oct/18 4:42 PM,23/Oct/18 3:57 PM,28/Oct/23 3:04 AM,23/Oct/18 3:57 PM,,,,,,,,,,,fabric-samples,,,,0,,,,,,"* We need more samples for a beginner.

 

BYFN is a very good sample. 

I upgraded BYFN into Multi-Channel Network Sample, so that they understand Fabric more easily.

 

In Multi-Channel Network, I removed eyfn( org3-artifacts ).

While I make this sample, I think I understand a bit more about Fabric.

I wish other beginners are too through this sample.

 
 * Multi Channel Network (MCN)
 ** This is Multi-Channel Network based on BYFN.
 * There are 4 Orgs( org1, org2, org3, org4 )
 ** Each org has one peer except org3 has two peers( peer0.org3 and peer1.org3 ).
 * There are 2 Private Channels.
Each channel consists of org's peers like bellow.
 ** Channel1( peer0.org1, peer0.org2, peer0.org3 )
 ** Channel2( peer1.org3, peer0.org4 )

 

 

ps: This is my first contribution. If I make a mistake, please let me know.

 

Thank you.",,grice_32,nicezic,vsudip,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,No,Unset,,,,,No,,Unset,No,,,"1|hzzusv:",,,,No,Unset,,,(Please add steps to reproduce),,No,,,,,,Unset,,Unset,,(Please add usage information),grice_32,nicezic,vsudip,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"12/Oct/18 5:50 PM;nicezic;I pushed by garrit. please check it out.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Reintroduce the JSDoc for the fabric-contract-api,FAB-12429,34620,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,mbwhite,mbwhite,mbwhite,12/Oct/18 5:51 PM,16/Oct/18 12:06 AM,28/Oct/23 3:04 AM,16/Oct/18 12:06 AM,,,,,,,,,,,,,,,0,,,,,,"Reintroduced the fabric-contract-api

Mark version as 1.4 snapshot

Publish the modules",,mbwhite,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzut3:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),mbwhite,,,,,,,,,,,,,,,,,,,,,,,,,,release-2.4,purge-pd,main-emeritius,main,correct-nodeenv-version,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"12/Oct/18 6:47 PM;mbwhite;This has been raised for the CI team to handle.
https://jira.hyperledger.org/browse/FABCI-15

 

Build at https://gerrit.hyperledger.org/r/#/c/26947/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
idemix panics during deserialisation to amcl Elements,FAB-12431,34626,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,angelo.decaro,angelo.decaro,angelo.decaro,12/Oct/18 8:59 PM,14/Jan/19 3:53 AM,28/Oct/23 3:04 AM,14/Jan/19 3:53 AM,v1.2.0,v1.3.0,,,,v1.4.0,,,,,fabric-crypto,,,,0,idemix,,,,,"I was writing additional tests in the fabric/idemix package when I stumbled upon a panic thrown during the verification of a malformed idemix signature.

When a Fabric transaction tx is signed using identity mixer, the tx's creator field contains an idemix signature. Now suppose that such a transaction reaches one of the peers. The peer will deserialise the MSP identity encoded in the creator field and try to validate it. The validation will thrown a panic. The Idemix MSP does not catch the panic. This can be see by running the following test:
{code:java}
func TestIdentitySerialization2(t *testing.T) {
   m, err := setup(""testdata/idemix/MSP1OU1"", ""MSP1OU1"")
   assert.NoError(t, err)

   id, err := getDefaultSigner(m)
   assert.NoError(t, err)

   // Test serialization of identities
   serializedID, err := id.Serialize()
   assert.NoError(t, err)

   verID, err := m.DeserializeIdentity(serializedID)
   err = verID.Validate()
   assert.NoError(t, err)
   err = m.Validate(verID)
   assert.NoError(t, err)

   // Now modify underlying idemix objects
   verID.(*idemixidentity).associationProof.ProofC = []byte{0}

   // re-serialise
   serializedID, err = verID.Serialize()
   verID, err = m.DeserializeIdentity(serializedID)
   assert.NoError(t, err)
   err = verID.Validate() // This generates the panic.
   assert.NoError(t, err) 
   err = m.Validate(verID)
   assert.NoError(t, err)
}{code}
Now, the ordering service is supposed to have panic handlers to avoid the process crashing. Look at orderer/common/server/server.go functions Broadcast and Deliver. Don't know if this leave the ordered in a non-consisting state though.

The peers do not have any protection in this sense and they will crash if reached by such a transaction or any message that trigger idemix to validate a malformed idemix signature. (i.e., endorsement, gossip, admin commands, and so on).

 

Now, there are at least three possible approaches to fix this issue:
 # The first is to modify directly fabric/idemix to avoid that the panic is thrown
 # The second is to modify the fabric/msp to catch the panics. 
 # The thirst is to have integrate idemix in bccsp and have bccsp controlling the panics, which sounds preferable to 2) cause in that context is much more clear what is mean to catch a panic from an underlying crypto algorithm. This to avoid also to leave data structures in a non-consistent state.

Opinions? [~mastersingh24], [~denyeart], [~JonathanLevi]?",,ales,angelo.decaro,denyeart,dhuseby,elli-androulaki,JonathanLevi,jyellick,mastersingh24,smithbk,yacovm,,,,,,,,,,,,,,,,,,,,,,,,Security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,ales,elli-androulaki,jyellick,skarim,smithbk,yacovm,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzutz:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ales,angelo.decaro,denyeart,dhuseby,elli-androulaki,JonathanLevi,jyellick,mastersingh24,smithbk,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"12/Oct/18 9:00 PM;mastersingh24;[~angelo.decaro];;;","15/Oct/18 8:49 PM;JonathanLevi;That's an important question. That is, ""where should the 'error handling' logic actually live"".

 

 ;;;","15/Oct/18 8:50 PM;JonathanLevi;Specifically about this (specific) issue: [~angelo.decaro] is it easy to also attach a stack trace?;;;","15/Oct/18 9:02 PM;angelo.decaro;One can say that fabric/idemix should not panic, in the first place, when receiving a malformed object. This is also the golang's cryoto packages do. For instance, I was trying to find a way to make the golang x509 package to panic with a malformed certificate but I haven't found any.

For the stack-trace, [~JonathanLevi], you can just copy past the code I have posted in *msp_test.go* and execute it. So you can also interact with your preferred IDE.

 ;;;","15/Oct/18 9:53 PM;JonathanLevi;Thanks. Will get back to this very shortly.;;;","15/Oct/18 10:22 PM;JonathanLevi;OK.

1. I found the issue + I have a fix. We actually reproduced a similar issue last week, but triggered differently. 

2. We still need to figure out where we should put the error handling logic, going forward/separately as per Angelo's suggestions.

The (triggering) issue is in AMCL I believe, but I want to play with this a bit more. Will keep you posted.;;;","15/Oct/18 10:26 PM;angelo.decaro;Actually, I have found the issue by testing idemix. The test I have reported here is just to show how the peer can crash.;;;","24/Oct/18 6:19 PM;angelo.decaro;Hi All,

Here is my plan to solve the issue once and for all:
 # Hide idemix behind BCCSP and catch all panics there (stack starting at [https://gerrit.hyperledger.org/r/#/c/20529/)]
 # Refactor fabric and fabric-ca to not use anymore fabric/idemix but route everything to BCCSP
 # Refactor idemix 

If you have comments, please don't hesitate :);;;","25/Oct/18 11:17 AM;dhuseby;I saw the email about a CVE, are we at a point now where we need to issue one?;;;","25/Oct/18 4:40 PM;angelo.decaro;So, if we follow the strategy that I have highlighted in my previous comment, maybe not. Cause, I will make bccsp handling the panic. The connection will not be so evident. Wdyt?;;;","01/Nov/18 12:17 AM;angelo.decaro;This is the first CR in the stack that bridges idemix and BCCSP: https://gerrit.hyperledger.org/r/#/c/20529/;;;","01/Nov/18 12:23 AM;jyellick;{quote}
Now, the ordering service is supposed to have panic handlers to avoid the process crashing. Look at orderer/common/server/server.go functions Broadcast and Deliver. Don't know if this leave the ordered in a non-consisting state though.
{quote}

Just to clarify, by design, these panic handlers do _not_ affect the determinism of the orderer, and will not leave the orderer in a bad state.  The orderer is split into effectively two halves: the client processing half, and the consenting half.  On the consenter side, we must be deterministic, and any panics in general may not be ignored.  On the client side, any panics are harmless, and at worst, result in data not making it to the consenter half (in the broadcast case), or have zero effect on the consenter side (in the deliver case).;;;","21/Nov/18 4:49 AM;dhuseby;[~angelo.decaro] and [~jyellick] so this is a remote DoS by sending messages with bad idemix signatures?  Does this affect deployed versions of Fabric?  I need to double check that this is *not* a CVE level issue.  If deployed Fabric networks are vulnerable, I need to get the CVE process going.;;;","21/Nov/18 4:40 PM;angelo.decaro;So, the ordering service should not be affected by the issue cause a panic catcher is in place in Broadcast API. If there is a channel with an Idemix-based MSP then a malicious request to a peer can crash it.

I haven't checked yet if also the CA is affected by this issue.

With FAB-8930, the idemix-based BCCSP will be able to catch the panics, therefore we should not have this issue anymore.;;;","27/Nov/18 4:15 PM;angelo.decaro;[~denyeart], [~mastersingh24],  FAB-8930 has been completed. Now, the Idemix-based MSP does not panic anymore (at least with very high probability). Let's analyse now fabric behaviour with the new Idemix-based MSP.
 # *A malicious transaction, containing a malformed idemix identity as creator, is sent to the ordering service.* Previous MSP panic, new MSP returns an error. In both cases, the ordering service does not crash. (Remember the the orderer catches unexpected panics). *(NO FORK)*
 # *A config update is sent with a malformed idemix msp configuration*. This scenario needs to be tested to understand if there is a difference in behaviour. [~jyellick], any gut feeling here? *(FORK?)*
 # *A malformed proposal or gossip message or any other message that requires to validate an idemix identity, is sent to a peer.* Previous MSP panic, peer crash. New MSP returns an error, the peer does not crash. *(FORK?)* 

Anything missing? [~ales], [~JonathanLevi], [~yacovm]

[~smithbk], at some point we have to modify Fabric-CA to use BCCSP also for idemix-related operation. I suspect that also CA is at risk.;;;","07/Dec/18 12:13 AM;angelo.decaro;[~denyeart], with [https://gerrit.hyperledger.org/r/#/c/27952/] merged, fabric is now protected against the panics. [~skarim] will update soon fabric-ca as well.;;;","09/Dec/18 1:38 AM;denyeart;[~skarim] Can you confirm so fabric-ca update is made so that this can be closed?;;;","09/Dec/18 1:41 AM;JonathanLevi;Errors definitely propagate up. I cant confirm that every error does though. [~skarim] is definitely the guy to confirm ;-);;;","09/Dec/18 9:40 PM;angelo.decaro;[~denyeart], [https://gerrit.hyperledger.org/r/#/c/27989/] got merged. It contains the fix for fabric-ca. [~skarim], do you have also tests to checks that panics are caught? ;;;","11/Dec/18 1:40 AM;angelo.decaro;Good, [https://gerrit.hyperledger.org/r/#/c/28041/] tests also that a panic is caught. Improving test coverage there, would be a plus but at least we know that fabric-ca should be safe as well. Thanks, [~skarim] :);;;","11/Dec/18 3:53 AM;denyeart;[~angelo.decaro]I believe this Jira can now be closed?;;;","17/Dec/18 6:44 PM;angelo.decaro;[~denyeart] for v1.4, yes. I haven't submitted yet the change-set for v1.3.1 though. How shall we proceed there?;;;","17/Dec/18 10:28 PM;denyeart;[~angelo.decaro] One thing that we could do, is put it in the v1.4.0 release notes as a resolved vulnerability and suggest people using Idemix move to v1.4.0.  Regardless, we are suggesting utilize v1.4.0 for production scenarios.;;;","08/Jan/19 9:07 PM;angelo.decaro;[~denyeart] I was actually thinking that maybe it is better not to say to avoid to attract attention. There might be still other issues over there :(;;;","08/Jan/19 9:36 PM;JonathanLevi;I completely agree with [~angelo.decaro] !

 

Happy 2019 ;-);;;","14/Jan/19 3:52 AM;denyeart;Ok, since we have told the community that v1.4.0 is the recommended release for production that will be supported, I think we can skip the backport to v1.3.x.  I'm closing since we have a fix in v1.4.0.;;;",,,,,,,
fabric-test-daily lte has failed(FAB_3877) in CouchDB performance test due to Assertion Error,FAB-12434,34634,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,AdnanChoudhury,sambhavdutt,sambhavdutt,13/Oct/18 12:10 AM,19/Mar/19 8:13 PM,28/Oct/23 3:04 AM,14/Oct/18 11:24 PM,v1.3.0,,,,,v1.3.0,,,,,fabric-quality,,,,0,ci-failure,,,,,"I noticed this error in today's regression test for FAB-3877 perf_couchdb tests, in the legger_lte tests.

{code:java}
ledger_lte.perf_couchdb.test_FAB_3877_VaryNumTxs (from pytest) 

AssertionError: varyNumTxs for CouchDB performance test failed.  Please check the logfile output_VaryNumTxs_couchdb.log for more details.
.
.
                ""./runbenchmarks.sh -f parameters_couchdb_daily_CI.sh varyNumTxs"",
                shell=True, stderr=subprocess.STDOUT, stdout=logfile,
                cwd=tool_directory)
        logfile.close()
        self.assertEqual(returncode, 0, msg=""varyNumTxs for CouchDB ""
                ""performance test failed. \nPlease check the logfile ""
>               +logfile.name+"" for more "" ""details."")

{code}

*Build Log*

https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-lte-master-x86_64/52/testReport/ledger_lte/perf_couchdb/test_FAB_3877_VaryNumTxs/



",,latitiah,rameshthoomu,sambhavdutt,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,ce1bd7286ed0c1915dc9020182d8e9ad5a9959de,Unset,No,,,"1|hzzuvb:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),latitiah,rameshthoomu,sambhavdutt,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"14/Oct/18 11:24 PM;sambhavdutt;The couchdb and the other lte tests have been successful from three days(Build #53).;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Data race related to viper in ledger tests,FAB-12436,34636,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,manish-sethi,sykesm,sykesm,13/Oct/18 12:33 AM,19/Mar/19 7:57 PM,28/Oct/23 3:04 AM,13/Oct/18 8:23 PM,,,,,,v1.4.0,,,,,fabric-ledger,,,,0,ci-flake,,,,,"{code}
unit-tests_1  | ==================
unit-tests_1  | WARNING: DATA RACE
unit-tests_1  | Write at 0x00c0002087b0 by goroutine 40:
unit-tests_1  |   runtime.mapassign_faststr()
unit-tests_1  |       /opt/go/src/runtime/map_faststr.go:190 +0x0
unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/spf13/viper.(*Viper).Set()
unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/spf13/viper/viper.go:772 +0xc8
unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/spf13/viper.Set()
unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/spf13/viper/viper.go:768 +0x72
unit-tests_1  |   github.com/hyperledger/fabric/core/ledger/kvledger.createTestEnv()
unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/core/ledger/kvledger/pkg_test.go:49 +0xe2
unit-tests_1  |   github.com/hyperledger/fabric/core/ledger/kvledger.newTestEnv()
unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/core/ledger/kvledger/pkg_test.go:41 +0x100
unit-tests_1  |   github.com/hyperledger/fabric/core/ledger/kvledger.TestMultipleLedgerBasicRW()
unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/core/ledger/kvledger/kv_ledger_provider_test.go:140 +0x5f
unit-tests_1  |   testing.tRunner()
unit-tests_1  |       /opt/go/src/testing/testing.go:827 +0x162
unit-tests_1  | 
unit-tests_1  | Previous read at 0x00c0002087b0 by goroutine 153:
unit-tests_1  |   runtime.mapaccess2_faststr()
unit-tests_1  |       /opt/go/src/runtime/map_faststr.go:101 +0x0
unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/spf13/viper.(*Viper).find()
unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/spf13/viper/viper.go:628 +0x173
unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/spf13/viper.(*Viper).Get()
unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/spf13/viper/viper.go:407 +0x9eb
unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/spf13/viper.(*Viper).GetInt()
unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/spf13/viper/viper.go:463 +0x4c
unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/spf13/viper.GetInt()
unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/spf13/viper/viper.go:461 +0x5e
unit-tests_1  |   github.com/hyperledger/fabric/core/ledger/ledgerconfig.GetPvtdataStoreCollElgProcDbBatchesInterval()
unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/core/ledger/ledgerconfig/ledger_config.go:144 +0x6f
unit-tests_1  |   github.com/hyperledger/fabric/core/ledger/pvtdatastorage.(*store).processCollElgEvents()
unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/core/ledger/pvtdatastorage/store_impl.go:453 +0x9e
unit-tests_1  |   github.com/hyperledger/fabric/core/ledger/pvtdatastorage.(*store).launchCollElgProc.func1()
unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/core/ledger/pvtdatastorage/store_impl.go:440 +0x3c
unit-tests_1  | 
unit-tests_1  | Goroutine 40 (running) created at:
unit-tests_1  |   testing.(*T).Run()
unit-tests_1  |       /opt/go/src/testing/testing.go:878 +0x650
unit-tests_1  |   testing.runTests.func1()
unit-tests_1  |       /opt/go/src/testing/testing.go:1119 +0xa8
unit-tests_1  |   testing.tRunner()
unit-tests_1  |       /opt/go/src/testing/testing.go:827 +0x162
unit-tests_1  |   testing.runTests()
unit-tests_1  |       /opt/go/src/testing/testing.go:1117 +0x4ee
unit-tests_1  |   testing.(*M).Run()
unit-tests_1  |       /opt/go/src/testing/testing.go:1034 +0x2ee
unit-tests_1  |   github.com/hyperledger/fabric/core/ledger/kvledger.TestMain()
unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/core/ledger/kvledger/kv_ledger_test.go:38 +0x193
unit-tests_1  |   main.main()
unit-tests_1  |       _testmain.go:116 +0x32e
unit-tests_1  | 
unit-tests_1  | Goroutine 153 (running) created at:
unit-tests_1  |   github.com/hyperledger/fabric/core/ledger/pvtdatastorage.(*store).launchCollElgProc()
unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/core/ledger/pvtdatastorage/store_impl.go:439 +0x4c
unit-tests_1  |   github.com/hyperledger/fabric/core/ledger/pvtdatastorage.(*provider).OpenStore()
unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/core/ledger/pvtdatastorage/store_impl.go:102 +0x29e
unit-tests_1  |   github.com/hyperledger/fabric/core/ledger/ledgerstorage.(*Provider).Open()
unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/core/ledger/ledgerstorage/store.go:68 +0xf5
unit-tests_1  |   github.com/hyperledger/fabric/core/ledger/kvledger.(*Provider).openInternal()
unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/core/ledger/kvledger/kv_ledger_provider.go:150 +0xa0
unit-tests_1  |   github.com/hyperledger/fabric/core/ledger/kvledger.(*Provider).recoverUnderConstructionLedger()
unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/core/ledger/kvledger/kv_ledger_provider.go:211 +0x214
unit-tests_1  |   github.com/hyperledger/fabric/core/ledger/kvledger.(*Provider).Initialize()
unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/core/ledger/kvledger/kv_ledger_provider.go:94 +0x387
unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage.fsParseName()
unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage/file_storage.go:643 +0x144
{code}

/cc [~manish-sethi], [~denyeart]",,manish-sethi,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzuvr:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),manish-sethi,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"11/Dec/18 4:51 AM;manish-sethi;https://gerrit.hyperledger.org/r/#/c/26957/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Data race in peer/node/start_test,FAB-12437,34637,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,13/Oct/18 12:39 AM,19/Nov/18 2:01 PM,28/Oct/23 3:04 AM,19/Nov/18 2:00 PM,,,,,,v1.4.0,,,,,fabric-peer,,,,0,race,,,,,"{code}
unit-tests_1  | ==================
unit-tests_1  | WARNING: DATA RACE
unit-tests_1  | Write at 0x00000290b138 by goroutine 12:
unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/spf13/viper.Reset()
unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/spf13/viper/viper.go:177 +0x2e8
unit-tests_1  |   github.com/hyperledger/fabric/peer/node.TestStartCmd()
unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/peer/node/start_test.go:51 +0x486
unit-tests_1  |   testing.tRunner()
unit-tests_1  |       /opt/go/src/testing/testing.go:827 +0x162
unit-tests_1  | 
unit-tests_1  | Previous read at 0x00000290b138 by goroutine 13:
unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/spf13/viper.GetBool()
unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/spf13/viper/viper.go:455 +0x3a
unit-tests_1  |   github.com/hyperledger/fabric/peer/node.serve()
unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/peer/node/start.go:359 +0x201e
unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.(*DB).checkAndCleanFiles()
unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db_util.go:52 +0x2e4
unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.openDB()
unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db.go:130 +0xa00
unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage.(*fileStorage).List()
unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage/file_storage.go:458 +0x279
{code}",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzuvz:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
orderer test panics,FAB-12438,34641,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,sykesm,sykesm,13/Oct/18 12:55 AM,14/Oct/18 2:53 AM,28/Oct/23 3:04 AM,13/Oct/18 6:14 AM,,,,,,,,,,,,,,,0,,,,,,"{code:java}
unit-tests_1  | 2018-10-12 15:51:08.398 UTC [orderer/common/server] func1 -> ERRO 002 Deliver client triggered panic: runtime error: invalid memory address or nil pointer dereference
unit-tests_1  | goroutine 51 [running]:
unit-tests_1  | runtime/debug.Stack(0x24b2590, 0x1, 0x1)
unit-tests_1  | 	/opt/go/src/runtime/debug/stack.go:24 +0xb5
unit-tests_1  | github.com/hyperledger/fabric/orderer/common/server.(*server).Deliver.func1()
unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/orderer/common/server/server.go:156 +0x104
unit-tests_1  | panic(0x174cf00, 0x2472350)
unit-tests_1  | 	/opt/go/src/runtime/panic.go:513 +0x1b9
unit-tests_1  | github.com/hyperledger/fabric/orderer/common/multichannel.(*ChainSupport).Errored(0x0, 0x12)
unit-tests_1  | 	<autogenerated>:1 +0x3e
unit-tests_1  | github.com/hyperledger/fabric/common/deliver.(*Handler).deliverBlocks(0xc00063f8c0, 0x1a20a20, 0xc00065e330, 0xc000665f48, 0xc00015d270, 0x0, 0x0)
unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/common/deliver/deliver.go:196 +0x75a
unit-tests_1  | github.com/hyperledger/fabric/common/deliver.(*Handler).Handle(0xc00063f8c0, 0x1a20a20, 0xc00065e330, 0xc000665f48, 0xc00065e150, 0x0)
unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/common/deliver/deliver.go:154 +0x331
unit-tests_1  | github.com/hyperledger/fabric/orderer/common/server.(*server).Deliver(0xc00063f8f0, 0x1a26f40, 0xc00065e150, 0x0, 0x0)
unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/orderer/common/server/server.go:182 +0x38b
unit-tests_1  | github.com/hyperledger/fabric/orderer/common/performance.(*BenchmarkServer).CreateDeliverClient.func1(0xc00065e150, 0xc000524c20)
unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/orderer/common/performance/server.go:174 +0x6b
unit-tests_1  | created by github.com/hyperledger/fabric/orderer/common/performance.(*BenchmarkServer).CreateDeliverClient
unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/orderer/common/performance/server.go:173 +0x192
{code}
Appears to be related to FAB-11863.  Printed out the value of chain: 
{code:java}
	fmt.Printf(""!!MJS: chain: %#v\n"", chain)
	fmt.Printf(""!!MJS: chain.Errored(): %#v\n"", chain.Errored())
	erroredChan := chain.Errored()
	select {
	case <-erroredChan:
		logger.Warningf(""[channel: %s] Rejecting deliver request for %s because of consenter error"", chdr.ChannelId, addr)
		return srv.SendStatusResponse(cb.Status_SERVICE_UNAVAILABLE)
	default:
{code}
What was printed was:
{code:java}
unit-tests_1  | !!MJS: chain: &multichannel.ChainSupport{ledgerResources:(*multichannel.ledgerResources)(0xc00038e640), Processor:(*msgprocessor.SystemChannel)(0xc00038e820), BlockWriter:(*multichannel.BlockWriter)(0xc0002284c0), Chain:(*solo.chain)(0xc00038e780), cutter:(*blockcutter.receiver)(0xc00063f650), LocalSigner:(*localmsp.mspSigner)(0x2f0cdc8)}
unit-tests_1  | !!MJS: chain.Errored(): (<-chan struct {})(0xc0002d3e00)
unit-tests_1  | !!MJS: chain: (*multichannel.ChainSupport)(nil)
{code}
/cc [~yacovm] [~kchristidis]",,huikang,kchristidis,sykesm,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzuwv:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),huikang,kchristidis,sykesm,yacovm,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"13/Oct/18 3:20 AM;kchristidis;Ouch, that is not good. On it now.;;;","13/Oct/18 3:47 AM;yacovm;{code:java}
fmt.Println(reflect.TypeOf(chain), chain, chain == nil) // prints *multichannel.ChainSupport <nil> false{code}
 

It's because of [this|https://play.golang.org/p/tRZGWbF1VyF]:

{code}
package main

import (
	""fmt""
)

type chain struct {}

func (c *chain) BlockChain() {

}

type BlockChainer interface {
   BlockChain()
}

var chains = map[string]*chain{}

func GetChain() BlockChainer  {
	return chains[""mychannel""]
} 

func main() {
	fmt.Println(GetChain())        // nil
	fmt.Println(GetChain() == nil) // false
}

{code};;;","13/Oct/18 3:52 AM;yacovm;This should fix it:

 
{code:java}
diff --git a/orderer/common/server/server.go b/orderer/common/server/server.go
index 6e74e19..41d8230 100644
--- a/orderer/common/server/server.go
+++ b/orderer/common/server/server.go
@@ -39,7 +39,11 @@ type deliverSupport struct {
 }
 
 func (ds deliverSupport) GetChain(chainID string) deliver.Chain {
-	return ds.Registrar.GetChain(chainID)
+	chain := ds.Registrar.GetChain(chainID)
+	if chain == nil {
+		return nil
+	}
+	return chain
 }
 
 type server struct {
{code};;;","13/Oct/18 4:12 AM;yacovm;https://gerrit.hyperledger.org/r/#/c/26963/;;;","13/Oct/18 6:42 AM;kchristidis;I have been burned by this before. For whomever else is curious, this is what happened here: [https://medium.com/golangspec/interfaces-in-go-part-i-4ae53a97479c] (skip to the ""nil interface value"" section). Key quote:
{quote}Interface type value is nil iff both dynamic value and dynamic type are nil. The effect is that even if interface type value holds a nil pointer then such interface value is not nil.
{quote};;;","13/Oct/18 6:43 AM;kchristidis;/cc [~huikang];;;","13/Oct/18 9:12 AM;huikang;[~kchristidis], [~yacovm], thanks for fixing this.;;;","13/Oct/18 9:17 AM;huikang;[~sykesm], may I know how you find the panic? When I submitted the CR, I saw the CR passed unit test, integration test, ...

I must miss some steps. Thanks.;;;","13/Oct/18 3:37 PM;yacovm;[~huikang] -  It happens sometimes if the deliver request reaches the orderer before it has time to initialize its chains.

Ideally... there was a test that always checks this scenario of requesting deliver when the chains are not initialized but there wasn't.;;;","14/Oct/18 2:26 AM;huikang;[~yacovm], thanks for your explanation. 

I re-run the unit test on the code without your fix, and found that the unit-test shows *PASS* on the panic*:*

 
{quote}=== RUN   TestBroadcastNoPanic

2018-10-13 16:43:58.185 UTC [orderer/common/server] func1 -> ERRO 001 Broadcast client triggered panic: runtime error: invalid memory address or nil pointer dereference

goroutine 8 [running]:

runtime/debug.Stack(0xc420057dc8, 0x1200fc0, 0x1b3a340)

/usr/local/go/src/runtime/debug/stack.go:24 +0xa7

github.com/hyperledger/fabric/orderer/common/server.(*server).Broadcast.func1()

/go/src/github.com/hyperledger/fabric/orderer/common/server/server.go:138 +0x96

panic(0x1200fc0, 0x1b3a340)

/usr/local/go/src/runtime/panic.go:502 +0x229

github.com/hyperledger/fabric/orderer/common/server.(*server).Broadcast(0xc420057f70, 0x0, 0x0, 0x0, 0x0)

/go/src/github.com/hyperledger/fabric/orderer/common/server/server.go:142 +0xf7

github.com/hyperledger/fabric/orderer/common/server.TestBroadcastNoPanic(0xc42001ce10)

/go/src/github.com/hyperledger/fabric/orderer/common/server/server_test.go:30 +0x46

testing.tRunner(0xc42001ce10, 0x139e328)

/usr/local/go/src/testing/testing.go:777 +0xd0

created by testing.(*T).Run

/usr/local/go/src/testing/testing.go:824 +0x2e0

— PASS: TestBroadcastNoPanic (0.00s)

=== RUN   TestDeliverNoPanic

2018-10-13 17:32:44.349 UTC [orderer/common/server] func1 -> ERRO 004 Deliver client triggered panic: runtime error: invalid memory address or nil pointer dereference

goroutine 112 [running]:

runtime/debug.Stack(0xc420c49db0, 0x1201460, 0x1b3a340)

/usr/local/go/src/runtime/debug/stack.go:24 +0xa7

github.com/hyperledger/fabric/orderer/common/server.(*server).Deliver.func1()

/go/src/github.com/hyperledger/fabric/orderer/common/server/server.go:160 +0x96

panic(0x1201460, 0x1b3a340)

/usr/local/go/src/runtime/panic.go:502 +0x229

github.com/hyperledger/fabric/orderer/common/server.(*server).Deliver(0xc420bdaa80, 0x0, 0x0, 0x0, 0x0)

/go/src/github.com/hyperledger/fabric/orderer/common/server/server.go:186 +0x201

github.com/hyperledger/fabric/orderer/common/server.TestDeliverNoPanic(0xc420bb2000)

/go/src/github.com/hyperledger/fabric/orderer/common/server/server_test.go:36 +0x43

testing.tRunner(0xc420bb2000, 0x139e868)

/usr/local/go/src/testing/testing.go:777 +0xd0

created by testing.(*T).Run

/usr/local/go/src/testing/testing.go:824 +0x2e0

--- PASS: TestDeliverNoPanic (0.00s)
{quote}
 

That's probably why the Jenkins reported success for my previous CR. Should the unit test report failure on the panic?;;;","14/Oct/18 2:39 AM;yacovm;No, this is not the reason, and I think this is not the relevant test... I think the test was the performance test.;;;","14/Oct/18 2:50 AM;huikang;Do you know what is the command I can run to reproduce the error? Even the error/panic is non-deterministic, I still want to see how it happened to avoid the same error next time. Thanks.;;;","14/Oct/18 2:53 AM;yacovm;make unit-tests;;;",,,,,,,,,,,,,,,,,,,,
"Change the ""STABLE_VERSION"" in pullDockerimages to 1.3.1",FAB-12439,34643,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,vijaypunugubati,sambhavdutt,sambhavdutt,13/Oct/18 2:40 AM,15/Jul/19 8:29 PM,28/Oct/23 3:04 AM,06/Nov/18 12:47 AM,v1.3.0,,,,,,,,,,fabric-quality,,,,0,,,,,,The STABLE_VERSION needs to be changed to 1.3.1 as the nightly builds will publish the images to Nexus with 1.3.1-stable tag hereafter(FABCI-158). This change will enable the fabric-test daily jobs to pull the right images.,,AdnanChoudhury,dongming,latitiah,rameshthoomu,sambhavdutt,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzuxb:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),AdnanChoudhury,dongming,latitiah,rameshthoomu,sambhavdutt,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
goimport errors on fabric builds,FAB-12440,34645,,Bug,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,sykesm,sambhavdutt,sambhavdutt,13/Oct/18 3:24 AM,19/Mar/19 8:12 PM,28/Oct/23 3:04 AM,13/Oct/18 5:53 AM,v1.3.0,,,,,v1.4.0,,,,,fabric-build,,,,0,ci-failure,,,,,"The make linter target is failing in fabric. This is failing the verify jobs on fabric with go imports errors.

*Build Log*
 [https://jenkins.hyperledger.org/view/fabric/job/fabric-verify-build-checks-x86_64/6047/console]

 

{code:java}
16:20:37 Checking with goimports
16:20:57 The following files contain goimports errors
16:20:57 bccsp/mocks/mocks.go...
16:20:57 The goimports command 'goimports -l -w' must be run for these files
16:20:57 Makefile:214: recipe for target 'linter' failed
16:20:57 make: *** [linter] Error 1
{code}
",,denyeart,kchristidis,rameshthoomu,sambhavdutt,scottz,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12447,,,,,,,,,,,,FAB-12447,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,e52ec4045eb86977d78e2a5997ac635ec276f200,Unset,No,,,"1|hzzuxr:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,kchristidis,rameshthoomu,sambhavdutt,scottz,sykesm,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.3,release-2.5,release-2.4,release-1.0,main,release-1.1,release-1.2,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"13/Oct/18 5:53 AM;kchristidis;https://gerrit.hyperledger.org/r/c/26960/;;;","18/Oct/18 12:12 AM;denyeart;goimports has been disabled in back releases and fixed in master:

https://gerrit.hyperledger.org/r/#/q/FAB-12440;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Improved CouchDB control,FAB-12441,34648,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,MattHamilton,MattHamilton,13/Oct/18 7:02 AM,23/Jan/20 7:32 AM,28/Oct/23 3:04 AM,23/Jan/20 7:32 AM,,,,,,,,,,,,,,,0,stale-item,,,,,"More control over the configuration of the collocated CouchDB instance - It is true that currently developers can use rich queries in the chaincode to query the collocated CouchDB instance. Developers can package JSON index files with their chaincode to define indexes. However, what about defining views? CouchDB supports further control via the specification of a design document (http://guide.couchdb.org/draft/design.html). If Fabric exposed some of this functionally to developers, developers could create views to collate data together and create even better queries, for instance joins with views (https://docs.couchdb.org/en/2.2.0/ddocs/views/joins.html).",,MattHamilton,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzuyf:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),MattHamilton,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 7:32 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Enhanced chaincode API response,FAB-12442,34649,,Story,Closed,FAB,Fabric,software,denyeart,,,Low,Won't Do,,MattHamilton,MattHamilton,13/Oct/18 7:05 AM,23/Jan/20 7:32 AM,28/Oct/23 3:04 AM,23/Jan/20 7:32 AM,,,,,,,,,,,,,,,0,stale-item,,,,,"When you query CouchDB directly, the response has very useful information, for instance see: http://docs.couchdb.org/en/master/api/database/find.html?highlight=query. There you will see that along with the data, you get execution time and total number of results returned. At the moment, the chaincode API does not provide any of this information back to the developer. It would be great if some of this information that CouchDB already provides in the response is made available to the developer through the chaincode API.",,MattHamilton,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzuyn:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),MattHamilton,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 7:32 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
CouchDB 2.2 does throw exceptions for a specified index does exist,FAB-12443,34650,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,chris.elder,chris.elder,chris.elder,13/Oct/18 8:08 AM,15/Jul/19 8:29 PM,28/Oct/23 3:04 AM,13/Dec/18 10:46 PM,,,,,,v1.1.2,v1.2.2,v1.4.0,,,fabric-ledger,,,,0,,,,,,"CouchDB 2.2 does not throw an exception if a specified index does not exist.  This is a change and unit tests will need to not check for exceptions if a named index in the query does not exist.

Example:

{""selector"":\\{""owner"":""tom""}

, ""use_index"":[""indexOwnerDoc"",""indexOwner""]}

If the document indexOwnerDoc or the index indexOwner does not exist, an exception will not be thrown.",,chris.elder,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzuyv:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),chris.elder,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.3,release-2.5,release-2.4,release-1.1,main,release-1.2,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"13/Oct/18 11:46 AM;denyeart;https://gerrit.hyperledger.org/r/#/c/26972/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update repositories to baseimage 0.4.14,FAB-12444,34652,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,denyeart,denyeart,denyeart,13/Oct/18 9:15 PM,17/Oct/18 9:09 PM,28/Oct/23 3:04 AM,17/Oct/18 9:09 PM,,,,,,v1.4.0,,,,,,,,,0,,,,,,"pick up go 1.11.1 and couchdb 2.2

One Jira for these repositories:

[https://gerrit.hyperledger.org/r/#/c/26976/] fabric-ca

[https://gerrit.hyperledger.org/r/#/c/26977/] fabric-sdk-node

[https://gerrit.hyperledger.org/r/#/c/26978/] fabric-chaincode-java

 

Fabric done FAB-12295: https://gerrit.hyperledger.org/r/#/c/26962/",,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12295,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzuzb:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,dev,release-2.4,main-emeritius,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
v1.1 verify and merge jobs fail tests FAB-3852 1.3 and 1.4 using nodejs sdk,FAB-12445,34653,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,latitiah,scottz,scottz,14/Oct/18 1:38 AM,23/Jan/20 7:34 AM,28/Oct/23 3:04 AM,23/Jan/20 7:34 AM,v1.1.0,,,,,,,,,,fabric-quality,,,,0,stale-item,,,,,"The build verify and merge jobs in v1.1 for months all say ""unstable"" - but that problem is unrelated to the changes being merged. The problem has existed forever in the 1.1 branch of fabric-test; a behave test fails the only 2 scenarios that uses the nodesdk api instead of the CLI.

[https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/2102/#showFailuresLink]
 # [orderer.Orderer Service.FAB-3852: Message Payloads Less than 1MB, for solo orderer using the NodeJS SDK interface – @1.3|https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/2102/testReport/junit/orderer/Orderer%20Service/FAB_3852__Message_Payloads_Less_than_1MB__for_solo_orderer_using_the_NodeJS_SDK_interface_____1_3_/]
 # [orderer.Orderer Service.FAB-3852: Message Payloads Less than 1MB, for kafka orderer using the NodeJS SDK interface – @1.4|https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/2102/testReport/junit/orderer/Orderer%20Service/FAB_3852__Message_Payloads_Less_than_1MB__for_kafka_orderer_using_the_NodeJS_SDK_interface_____1_4_/]

Possibly, should those tests be propped back and running in 1.1? Was that functionality tooling in behave even finished in 1.1?

This problem is not seen in recent CRs in 1.2 or master.",,latitiah,scottz,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzuzj:",,,,Unset,Unset,,,"Submit any v1.1 patchset. Or, execute behave orderer.feature test FAB-3852 3rd or 4th scenario.",,Unset,,,,,,Unset,,Unset,,(Please add usage information),latitiah,scottz,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"16/Oct/18 1:15 AM;latitiah;https://gerrit.hyperledger.org/r/27002;;;","23/Jan/20 7:34 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
The daily unit-tests(except the master) are failing with go lint/go imports checks.,FAB-12447,34658,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,sykesm,sambhavdutt,sambhavdutt,14/Oct/18 10:50 PM,19/Mar/19 8:12 PM,28/Oct/23 3:04 AM,18/Oct/18 12:11 AM,v1.0.0,v1.1.0,v1.2.0,v1.3.0,,v1.0.0,v1.1.0,v1.2.0,v1.3.0,,fabric-build,,,,0,ci-failure,,,,,"The unit-tests on all branches except the master are failing consistently, twice in a row as the make linter target fails with goimports error.


{code:java}
20:20:17 github.com/grpc-ecosystem/go-grpc-middleware: hash of vendored tree not equal to digest in Gopkg.lock  (CHECK IGNORED: marked noverify in Gopkg.toml)
20:20:18 LINT: Running code checks..
20:20:19 Checking with gofmt
20:20:25 Checking with goimports
20:20:43 The following files contain goimports errors
20:20:43 bccsp/mocks/mocks.go bccsp/sw/aes_test.go bccsp/sw/aeskey.go bccsp/sw/ecdsakey.go bccsp/sw/fileks.go bccsp/sw/fileks_test.go bccsp/sw/impl_test.go bccsp/sw/keyderiv.go bccsp/sw/keyimport.go bccsp/sw/rsakey.go bccsp/sw/sw_test.go cmd/common/cli.go cmd/common/cli_test.go common/capabilities/application_test.go common/capabilities/capabilities.go common/capabilities/capabilities_test.go common/capabilities/channel_test.go common/capabilities/orderer_test.go common/cauthdsl/cauthdsl_builder.go common/cauthdsl/policy.go common/cauthdsl/policy_test.go common/channelconfig/acls_test.go common/channelconfig/application.go common/channelconfig/application_test.go 
.
.
20:20:43 The goimports command 'goimports -l -w' must be run for these files
20:20:44 Makefile:214: recipe for target 'linter' failed
20:20:44 make: *** [linter] Error 1
{code}

*Build Logs*

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-unit-test-daily-release-1.3-x86_64/18/

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-unit-test-daily-release-1.2-x86_64/18/

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-unit-test-daily-release-1.1-s390x/111/
",,C0rWin,denyeart,rameshthoomu,sambhavdutt,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12440,,,,,FAB-12440,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,ce1bd7286ed0c1915dc9020182d8e9ad5a9959de,Unset,No,,,"1|hzzv0n:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),C0rWin,denyeart,rameshthoomu,sambhavdutt,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"15/Oct/18 5:06 AM;denyeart;fixed in master branch with [https://gerrit.hyperledger.org/r/#/c/26960/]

[~sykesm] was that meant to be a short term workaround, until a real fix is applied? e.g. using a pre-built goimports instead of building.

or should we go ahead and cherry pick your fix to all release branches?;;;","17/Oct/18 11:10 PM;sambhavdutt;The daily unit tests are still failing with the go tests(except the master);;;","18/Oct/18 12:07 AM;rameshthoomu;[~sykesm] [~denyeart] Could you please let us know the update on this?;;;","18/Oct/18 12:11 AM;denyeart;Fix in FAB-12440 has been backported to all releases and merged.;;;","18/Oct/18 1:14 AM;rameshthoomu;Thanks [~denyeart] .. All good now.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,
Create pipeline scripts for fabric-baseimage,FAB-12449,34662,30206,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,vijaypunugubati,rameshthoomu,rameshthoomu,15/Oct/18 6:22 AM,11/Sep/19 3:50 AM,28/Oct/23 3:04 AM,11/Sep/19 3:50 AM,,,,,,,,,,,fabric-ci,,,,0,,,,,,Create Pipeline scripts to publish baseimage and thirdparty images to nexus and dockerhub repositories.,,rameshthoomu,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzv1j:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rameshthoomu,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"04/Jan/19 10:54 AM;vijaypunugubati;This patch will covert the CI freestyle to pipeline https://gerrit.hyperledger.org/r/#/c/28474/;;;","15/Mar/19 10:57 PM;vijaypunugubati;Kept on hold for now, until getting permission from Matthew Sykes on pipeline changes.;;;","11/Sep/19 3:50 AM;vijaypunugubati;Migrating towards new CI process and the new CI tool, won't be done.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update CI scripts in fabric-chaincode-node repository,FAB-12451,34666,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,vijaypunugubati,rameshthoomu,rameshthoomu,15/Oct/18 9:16 AM,19/Jan/19 4:46 AM,28/Oct/23 3:04 AM,19/Jan/19 4:46 AM,,,,,,,,,,,fabric-ci,,,,0,,,,,,"{{Update CI scripts with the latest changes in the below files}}

{{https://github.com/hyperledger/fabric-chaincode-node/tree/release-1.3/scripts/Jenkins_Scripts}}",,rameshthoomu,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzv2f:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rameshthoomu,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"19/Jan/19 4:02 AM;vijaypunugubati;[https://gerrit.hyperledger.org/r/#/c/28367/] ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add UT for eventsender,FAB-12452,34667,,Task,Closed,FAB,Fabric,software,denyeart,,,Low,Done,tatsu-sato,tatsu-sato,tatsu-sato,15/Oct/18 11:55 AM,21/Jan/19 2:13 AM,28/Oct/23 3:04 AM,21/Jan/19 2:13 AM,v1.3.0,,,,,v1.4.0,,,,,,,,,0,,,,,,Add unit test for examples/chaincode/go/eventsender,,tatsu-sato,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzv2n:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unit Test,,(Please add usage information),tatsu-sato,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Mistakes of ""Outof"" Example in endorsement-policies doc",FAB-12453,34668,,Documentation,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,qubing,qubing,qubing,15/Oct/18 12:13 PM,17/Oct/18 7:17 PM,28/Oct/23 3:04 AM,17/Oct/18 7:17 PM,v1.3.0,,,,,v1.4.0,,,,,fabric-docs,,,,0,,,,,,"In endorsement-policies {color:#00875a}{color:#172b4d}doc,{color}{color} there is the part of Outof expression example as below, it seams mistake, it will make users confused.
{code:java}
Similarly, OutOf(2, 'Org1.member', 'B.member') is equivalent to
AND('Org1.member', 'Org2.member').

{code}
1. Organization '*{color:#de350b}B{color}*' needs to change to '{color:#0747a6}*Org2*{color}' as below:
{code:java}
Similarly, OutOf(2, 'Org1.member', 'Org2.member') is equivalent to AND('Org1.member', 'Org2.member').
 {code}
2. Added more exmaple for `Outof` as below: 
{code:java}
,and OutOf(2, 'Org1.member', 'Org2.member', 'Org3.member') is equivalent to OR(AND('Org1.member', 'Org2.member'), AND('Org1.member', 'Org3.member'), AND('Org2.member', 'Org3.member')). {code}
 

Related doc file:

[https://github.com/hyperledger/fabric/blob/master/docs/source/endorsement-policies.rst]

 ",,qubing,,,,,,,,,,,,,,,,,,,,,,,,,"Change ""B.member"" to ""Org2.member"" and give more example to explain the function usage as below.
{code:java}
""OutOf(2, 'Org1.member','Org2.member',
 'Org3.member')"" is equivalent to ""OR(AND('Org1.member', 'Org2.member'), 
 AND('Org1.member', 'Org3.member'), AND('Org2.member', 'Org3.member'))"".
{code};15/Oct/18 1:28 PM;qubing;1800",,0,1800,,,0,1800,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzv2v:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),qubing,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Document relation between private data distribution policy and endorsement policy,FAB-12454,34670,,Documentation,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,denyeart,denyeart,denyeart,15/Oct/18 12:48 PM,15/Jul/19 8:29 PM,28/Oct/23 3:04 AM,17/Oct/18 2:03 AM,,,,,,v1.4.0,,,,,fabric-docs,,,,0,,,,,,,,denyeart,pdina,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzv3b:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,pdina,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.3,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Proposing an anonymous endorsement system using linkable ring signature,FAB-12455,34671,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,SubhraMazumdar,SubhraMazumdar,15/Oct/18 3:58 PM,23/Jan/20 7:32 AM,28/Oct/23 3:04 AM,23/Jan/20 7:32 AM,,,,,,,,,,,fabric-ca,fabric-crypto,fabric-peer,,0,anonymity,endorsement,signature,stale-item,,"To endorse a transaction, an endorser mentions its identity along with the
signature so that it can be verified. However, for certain transactions, difference in
opinion may exist among endorsers. Disclosure of identity of endorser may lead to
conflict within the consortium. In such cases, an endorsement policy which allows an
endorser to support a transaction discreetly but simultaneously takes into account
the decision of the majority is preferred. As a solution, we propose an Anonymous
Endorsement System which uses a threshold endorsement policy. For hiding the identity
of endorsers, a new ring signature scheme, called Fabric’s Constant-Sized Linkable
Ring Signature (FCsLRS) with Transaction-Oriented linkability has been proposed. The code for the algorithm proposed is written in Golang and a performance analysis has also been done.

So the following are the contributions made in this work :

1. We have proposed an Anonymous Endorsement System which implements a
simple threshold endorsement policy which requires at least t out of n endorsers
to approve of the transaction without explicitly mentioning their identity.

2. We have given the construction of a constant sized linkable ring signature
scheme, Fabric’s Constant-Sized Linkable Ring Signature (FCsLRS), to hide
the identity of an endorser.

3.A new linking criterion, called as “transaction-oriented” linkability, is used
which prevents an endorser from signing same transaction more than once.

4. We have implemented this scheme in Golang and analysed its performance.

5. A detailed description of the integration of the scheme with existing framework
of Hyperledger Fabric has been discussed.

This is a part of my thesis work - Link http://library.isical.ac.in:8080/jspui/bitstream/123456789/6956/1/Diss-390.pdf

Presentation : https://drive.google.com/file/d/1D9YoGXZSb0yyzt9UZVnRnWjHY_5jAYTN/view?usp=drive_open",,silliman,SubhraMazumdar,sykesm,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-4287,,,,,,,,,,,,,,,,,,,,,,,,,"15/Oct/18 4:04 PM;SubhraMazumdar;out9.pdf;https://jira.hyperledger.org/secure/attachment/16136/out9.pdf","15/Oct/18 4:04 PM;SubhraMazumdar;signature.jpg;https://jira.hyperledger.org/secure/attachment/16138/signature.jpg","15/Oct/18 4:04 PM;SubhraMazumdar;verify.jpg;https://jira.hyperledger.org/secure/attachment/16137/verify.jpg",,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-4287,,,No,,Unset,No,,,"1|hzwrj3:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),silliman,SubhraMazumdar,sykesm,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"15/Oct/18 4:02 PM;SubhraMazumdar;[~mastersingh24][~yacovm] please check whether this idea is feasible or not;;;","15/Oct/18 4:20 PM;SubhraMazumdar;[~ashutosh_kumar];;;","15/Oct/18 4:34 PM;yacovm;It's feasible for sure... I guess you can extend the channel config with the public keys of all peers, and then use a custom endorsement plugin that instead of putting the endorsements as they are, you just put the ring signatures without the corresponding certificates.

You'll also need a matching, custom validation plugin, that - uses the ring signature verification using the channel config.

For a research project I believe it's not a bad idea, but i don't think you can do this in Fabric, because endorsement policies and ring signatures don't work very well. 
 When you evaluate an endorsement policy you have to know the principals of peers, namely - their organizational association.

If you make this information anonymous then you rule out all use cases based on endorsement policies that have ANDs of more than a single organization.

Unless you can ""prove"" at time of validation that the transaction was signed by peers that satisfy the endorsement policy.

Another thing to consider is, that in the future you might be able to have anonymous endorsements using idemix, and idemix is already part of Fabric.

Lastly - it's not a very good idea to be done in Fabric because if a peer's public key is compromised you need to remove its public key from the channel config.
 Since peers communicate with each other, if you remove the peer's public key from the channel config, the other peers in the channel might somehow link between the long term removal of the peer from the network, and the removal of its public certificate from the channel config and thus link the peer's organization to the public key, and de-anonymize backwards all transactions, no?

 

Also adding [~elli-androulaki] and [~adc] , [~ales];;;","15/Oct/18 5:15 PM;SubhraMazumdar;[~yacovm] I did not get this point ""if you remove the peer's public key from the channel config, the other peers in the channel might somehow link between the long term removal of the peer from the network, and the removal of its public certificate from the channel config and thus link the peer's organization to the public key, and de-anonymize backwards all transactions, no?"" ... how can it get linked ?

The endorsement policy to be used is just t-out-of-N , any t endorser can choose to vote. One need not specify who has to endorse. I am not making it generic for AND or OR policy.;;;","15/Oct/18 5:40 PM;yacovm;well, if you remove the public key, and you have some peer that is suddenly dead forever, and only a single such peer - that might lead organizations to suspect that the public key that was removed belonged to that peer, no?;;;","15/Oct/18 9:25 PM;SubhraMazumdar;[~yacovm] The case you have stated is a special one I presume. It will be true for one peer remaining alive and rest dropping out. For other cases, one cannot trace back the identity of the peer whose certificate has been revoked because we are treating both the public key as well the private key as the secret information. The construction done and the correctness proof of the signature proof of knowledge shows that an adversary can trace the actual endorser with probability no more than half. 
For the case you have stated,  these certificates will be present in the certificate revoked list or CRL..I agree some gaps are still there but these checks can be inserted..as in if a peer has been revoked then it is not supposed to endorse any more...since the ""AccumulatPubKey"" and ""GeneratePubKeyWitness"" function is executed just once during setup phase and not repeated further...so a revoked peer may continue to endorse ...so a periodic cleanup is needed over here
;;;","23/Jan/20 7:32 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
Improve access to creator within chaincode,FAB-12457,18607,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid,AnilSingh,davidkel,davidkel,23/Jun/17 10:04 PM,09/Oct/19 5:47 PM,28/Oct/23 3:04 AM,09/Oct/19 5:47 PM,v1.0.0-beta,,,,,v2.0.0,,,,,,,,,0,chaincode,,,,,"Based on an example posted by Gari in RocketChat (Sorry Gari)

In order to process the response from the getCreator call correctly it is required that the golang/protobuf/proto package be available as getCreator returns a protobuf.

However as of v1.0.0-beta this package is not available within the ccenv image. Given that this restriction is imposed by the chaincode shim and chaincode probably wouldn't normally be using protobufs, maybe this dependency should be provided within the ccenv image rather than having to declare package it up as part of the end user chaincode package.

 ",,davidkel,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzy5hz:",,,,Unset,,,,,,Unset,,,,,,,,,,,davidkel,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"15/Oct/18 7:07 PM;mastersingh24;We actually need to reconsider the entire design of chaincode and especially Go chaincode.
We should actually be using structs and not protos as return values for stub functions.;;;","09/Oct/19 5:47 PM;davidkel;Not relevant anymore;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As a token infrastructure (peer) developer, I would like to enhance the prover peer service with the ability to accommodate approve proof requests",FAB-12458,34675,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,KaoutarEL,elli-androulaki,elli-androulaki,15/Oct/18 7:18 PM,14/Jan/20 12:11 AM,28/Oct/23 3:04 AM,14/Jan/20 12:11 AM,,,,,,,,,,,fabric-crypto,fabric-peer,,,0,fabtoken,,,,,"In this item we want to enhance the prover peer service to accommodate requests for computation of ""approve"" proofs. ",,elli-androulaki,KaoutarEL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-12267,,,No,,Unset,No,,,"1|hzzv47:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),elli-androulaki,KaoutarEL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"26/Nov/18 11:15 PM;KaoutarEL;https://gerrit.hyperledger.org/r/#/c/27158/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As a token infrastructure (peer) developer, I would like to enhance the prover peer with the ability to process transferFrom proof requests",FAB-12459,34676,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,KaoutarEL,elli-androulaki,elli-androulaki,15/Oct/18 7:22 PM,03/Dec/19 3:01 AM,28/Oct/23 3:04 AM,03/Dec/19 3:01 AM,,,,,,,,,,,fabric-crypto,fabric-peer,,,0,fabtoken,,,,,In this item we want to enhance the prover peer with the ability to recognise and respond to TransferFrom proof computation requests from a simulated client.,,elli-androulaki,KaoutarEL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-12267,,,No,,Unset,No,,,"1|hzzv4f:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),elli-androulaki,KaoutarEL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"26/Nov/18 11:30 PM;KaoutarEL;https://gerrit.hyperledger.org/r/#/c/27332/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As a token infrastructure (committing peer) developer, I can recognise and process approve token transactions",FAB-12460,34677,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,KaoutarEL,elli-androulaki,elli-androulaki,15/Oct/18 7:27 PM,14/Jan/20 12:11 AM,28/Oct/23 3:04 AM,14/Jan/20 12:11 AM,,,,,,,,,,,fabric-crypto,fabric-peer,,,0,fabtoken,stale-item,,,,"In this item, we aim to enhance the processing capability of committing peers in token transactions with accommodating Approve token transactions.

Here the owner of a set of coins can essentially delegate the use of a few of its tokens to one or more other users. Committing peers should ensure that the tokens to be delegated have not been spent so far, and that the transaction creator is indeed their owner. Last but not least, the committing peer would update the state of the ledger to consider the new owners for the tokens to be delegated.",,elli-androulaki,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-12267,,,No,,Unset,No,,,"1|hzzv4n:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),elli-androulaki,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
As token infrastructure developer (committing peer) I can recognise and process transferFrom token transactions and update ledger state accordingly,FAB-12461,34678,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,KaoutarEL,elli-androulaki,elli-androulaki,15/Oct/18 7:30 PM,14/Jan/20 12:11 AM,28/Oct/23 3:04 AM,14/Jan/20 12:11 AM,,,,,,,,,,,fabric-crypto,fabric-peer,,,0,fabtoken,stale-item,,,,"In this item, we aim to enhance the processing capability of committing peers in token transactions with accommodating TransferFrom token transactions.

Here the owner or the delegator of a set of coins can essentially transfer a few of these tokens to one or more other users. Committing peers should ensure that the transaction creator has permissions to move these tokens and that these tokens have not been spent already. Last but not least, the committing peer would update the state of the ledger to consider the new owners for the tokens to be transferred and the old ones for the change. ",,elli-androulaki,KaoutarEL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-12267,,,No,,Unset,No,,,"1|hzzv4v:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),elli-androulaki,KaoutarEL,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"26/Nov/18 11:28 PM;KaoutarEL;https://gerrit.hyperledger.org/r/#/c/27300/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Protobuf Messages,FAB-12462,34679,35209,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,angelo.decaro,elli-androulaki,elli-androulaki,15/Oct/18 7:33 PM,09/Nov/18 5:08 PM,28/Oct/23 3:04 AM,09/Nov/18 5:06 PM,,,,,,,,,,,,,,,0,,,,,,,,elli-androulaki,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12788,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzv53:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),elli-androulaki,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Increase idemix unit tests coverage (also) by adding unit tests,FAB-12463,34680,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,JonathanLevi,JonathanLevi,JonathanLevi,15/Oct/18 7:59 PM,23/Jan/20 7:32 AM,28/Oct/23 3:04 AM,23/Jan/20 7:32 AM,,,,,,,,,,,,,,,0,idemix,stale-item,,,,,,JonathanLevi,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzv5b:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),JonathanLevi,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 7:32 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
fabric-sdk-go-tests-merge-s390x job is failing due to Integration error.,FAB-12464,34681,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,Baha-sk,sambhavdutt,sambhavdutt,15/Oct/18 9:44 PM,19/Mar/19 8:13 PM,28/Oct/23 3:04 AM,05/Nov/18 11:28 PM,v1.3.0,,,,,v1.3.0,,,,,fabric-sdk-go,,,,0,ci-failure,,,,,"Observed the below errors in the go tests merge jobs for s390x,

{code:java}
07:23:10 integration-tests_1  | Installing and instantiating example chaincode...Done [802 ms]
07:23:10 integration-tests_1  |  [fabsdk/fab] 2018/10/13 11:22:59 UTC - txn.getTargetsWithoutDuplicates -> WARN Duplicate target peers in configuration
07:23:10 integration-tests_1  | --- FAIL: TestCCToCC (1.53s)
07:23:10 integration-tests_1  |     --- FAIL: TestCCToCC/Should_fail (0.01s)
07:23:10 integration-tests_1  |     	assertions.go:247: 
                          
	Error Trace:	channel_client_test.go:282
07:23:10 integration-tests_1  |     		
	Error:      	Not equal: 
07:23:10 integration-tests_1  |     		
	            	expected: 10
07:23:10 integration-tests_1  |     		
	            	actual  : 500
07:23:10 integration-tests_1  |     		
	Test:       	TestCCToCC/Should_fail
07:23:10 integration-tests_1  | FAIL
07:23:10 integration-tests_1  | FAIL	github.com/hyperledger/fabric-sdk-go/test/integration/pkg/client/channel	218.493s
07:23:25 integration-tests_1  | ok  	github.com/hyperledger/fabric-sdk-go/test/integration/pkg/client/common/discovery	13.500s
07:23:50 integration-tests_1  | ok  	github.com/hyperledger/fabric-sdk-go/test/integration/pkg/client/common/selection	22.829s
07:23:54 integration-tests_1  | ok  	github.com/hyperledger/fabric-sdk-go/test/integration/pkg/client/event	3.330s
07:23:59 integration-tests_1  | --- FAIL: TestLedgerQueries (1.57s)
07:23:59 integration-tests_1  | 	channel_ledger_test.go:111: Failed to change block state (invoke transaction). Return error: query funds failed: Transaction processing for endorser [peer1.org1.example.com:7151]: Chaincode status Code: (500) UNKNOWN. Description: {""Error"":""Nil amount for key-TestLedgerQueries-08h234ze1i""}
07:23:59 integration-tests_1  | FAIL
07:23:59 integration-tests_1  | FAIL	github.com/hyperledger/fabric-sdk-go/test/integration/pkg/client/ledger	2.523s
07:24:03 integration-tests_1  | ok  	github.com/hyperledger/fabric-sdk-go/test/integration/pkg/client/msp	3.298s
07:24:06 integration-tests_1  | ok  	github.com/hyperledger/fabric-sdk-go/test/integration/pkg/client/resmgmt	0.797s
07:24:08 integration-tests_1  | ok  	github.com/hyperledger/fabric-sdk-go/test/integration/pkg/context	0.820s
07:24:20 integration-tests_1  | ok  	github.com/hyperledger/fabric-sdk-go/test/integration/pkg/fab	10.521s
07:24:26 integration-tests_1  | ok  	github.com/hyperledger/fabric-sdk-go/test/integration/pkg/fabsdk/provider	3.863s
07:24:26 integration-tests_1  | ?   	github.com/hyperledger/fabric-sdk-go/test/integration/util/runner	[no test files]
07:24:26 fabsdkgo_integration-tests_1 exited with code 1
{code}

*Build Log*

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-sdk-go-tests-merge-s390x/866/",,Baha-sk,rameshthoomu,sambhavdutt,troyronda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,53684e86cff11cd4005abd2db337df597a2a38bd,Unset,No,,,"1|hzzv5j:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),Baha-sk,rameshthoomu,sambhavdutt,troyronda,,,,,,,,,,,,,,,,,,,,,,,dependabot/go_modules/golang.org/x/crypto-0.1.0,dependabot/go_modules/test/performance/golang.org/x/net-0.7.0,main,dependabot/go_modules/golang.org/x/net-0.7.0,dependabot/go_modules/github.com/prometheus/client_golang-1.11.1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"05/Nov/18 11:28 PM;sambhavdutt;The sdk-go tests do not fail now with the integration error;;;","06/Nov/18 12:22 AM;Baha-sk;the problem is intermittent, I suspect the peer containers in the z environment are slower than the tests, I'm trying to add retry options in the hopes for the request to be retriggered until a proper response is returned. But if you the build team can investigate the performance of the containers in the z environment, that would be great

 

ref: [https://gerrit.hyperledger.org/r/c/27172/] (I'm currently running multiple `reverify` to see how the z build reacts);;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Allow HostConfig to be set for chaincode build env,FAB-12465,34682,,Story,Closed,FAB,Fabric,software,denyeart,,,High,Won't Do,,gormand,gormand,15/Oct/18 10:10 PM,23/Jan/20 7:32 AM,28/Oct/23 3:04 AM,23/Jan/20 7:32 AM,v1.1.0,v1.2.0,v1.3.0,,,,,,,,fabric-peer,,,,0,stale-item,,,,,"When Fabric builds a docker chaincode container it may need internet access. For example if the chaincode is Node.js or a Composer BNA file an npm install is necessary.

Some provisioning environments require *network mode 'host'* to be set in the docker build container to enable external network connectivity.

We found the following code to create the build container does not set or allow to be set the HostConfig option: [https://github.com/hyperledger/fabric/blob/ce1bd7286ed0c1915dc9020182d8e9ad5a9959de/core/chaincode/platforms/util/utils.go#L144]

In our testing we found a simple modification to this function fixed the problem, for example: 

 

*{color:#00875a}hostConfig := docker.HostConfig\{NetworkMode: ""host""}{color}*

{color:#00875a}{{//------------------------------------------------------}}{color}

{color:#00875a}{{// Create an ephemeral container, armed with our Env/Cmd }}{color}

{color:#00875a}{{//------------------------------------------------------}}{color}

{color:#00875a}{{ container, err := client.CreateContainer(docker.CreateContainerOptions{}}{color}

{color:#00875a}{{ Config: &docker.Config{}}{{ }}{color}

{color:#00875a}{{Image:        opts.Image,}}{{ }}{color}

{color:#00875a}{{Env:          opts.Env,}}{{ }}{color}

{color:#00875a}{{Cmd:          []string\{""/bin/sh"", ""-c"", opts.Cmd},}}{{ }}{color}

{color:#00875a}{{AttachStdout: true,}}{{ }}{color}

{color:#00875a}{{AttachStderr: true, },}}{{ }}{color}

*{color:#00875a}{{HostConfig: &hostConfig,}}{color}*

{color:#00875a}{{ })}}{color}

 

A more comprehensive solution is probably needed that allows existing env vars to override these parameters and are used in other parts of fabric, for example:

CORE_VM_DOCKER_HOSTCONFIG_NETWORKMODE=host",,gormand,ldesrosi,mastersingh24,silliman,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzv5r:",,,,Unset,Unset,,,"A provisioning environment that has docker bridge turned off.
Deploy Node.js chaincode.",,Unset,,,,,,Unset,,Unset,,(Please add usage information),gormand,ldesrosi,mastersingh24,silliman,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"01/Dec/18 9:11 PM;mastersingh24;This is not a bug ... perhaps it's something that should be in the documentation, but it's not a bug.;;;","23/Jan/20 7:32 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
minor cleanup in nwo.Network,FAB-12466,34683,,Bug,Closed,FAB,Fabric,software,denyeart,,,Low,Done,sykesm,sykesm,sykesm,15/Oct/18 10:11 PM,19/Nov/18 2:00 PM,28/Oct/23 3:04 AM,16/Oct/18 1:07 AM,,,,,,v1.4.0,,,,,,,,,0,,,,,,CreateAndJoinChannel should simply be a wrapper around CreateChannel and JoinChannel.,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzv5z:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"CouchDB index CI behave test Jenkins CI ""failed-to-read""error: unable to read special character",FAB-12470,34688,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,AdnanChoudhury,AdnanChoudhury,15/Oct/18 11:33 PM,30/Jul/19 11:48 AM,28/Oct/23 3:04 AM,30/Jul/19 11:48 AM,,,,,,,,,,,fabric-quality,,,,0,,,,,,"Jenkins Creates extraneous row with ""failed to read"" error with the message :

{code:java}
Failed to read test report file /w/workspace/fabric-test-daily-behave-master-x86_64/gopath/src/github.com/hyperledger/fabric-test/regression/daily/TESTS-CouchDB_index.xml
org.dom4j.DocumentException: Error on line 732 of document  : An invalid XML character (Unicode: 0x1b) was found in the value of attribute ""message"" and element is ""failure"". Nested exception: An invalid XML character (Unicode: 0x1b) was found in the value of attribute ""message"" and element is ""failure"".
	at org.dom4j.io.SAXReader.read(SAXReader.java:482)
	at org.dom4j.io.SAXReader.read(SAXReader.java:343)
	at hudson.tasks.junit.SuiteResult.parse(SuiteResult.java:178)
	at hudson.tasks.junit.TestResult.parse(TestResult.java:348)
	at hudson.tasks.junit.TestResult.parsePossiblyEmpty(TestResult.java:281)
	at hudson.tasks.junit.TestResult.parse(TestResult.java:206)
	at hudson.tasks.junit.TestResult.parse(TestResult.java:178)
	at hudson.tasks.junit.TestResult.<init>(TestResult.java:143)
	at hudson.tasks.junit.JUnitParser$ParseResultCallable.invoke(JUnitParser.java:146)
	at hudson.tasks.junit.JUnitParser$ParseResultCallable.invoke(JUnitParser.java:118)
	at hudson.FilePath$FileCallableWrapper.call(FilePath.java:3085)
	at hudson.remoting.UserRequest.perform(UserRequest.java:212)
	at hudson.remoting.UserRequest.perform(UserRequest.java:54)
	at hudson.remoting.Request$2.run(Request.java:369)
	at hudson.remoting.InterceptingExecutorService$1.call(InterceptingExecutorService.java:72)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.xml.sax.SAXParseException; lineNumber: 732; columnNumber: 1985; An invalid XML character (Unicode: 0x1b) was found in the value of attribute ""message"" and element is ""failure"".
	at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.createSAXParseException(ErrorHandlerWrapper.java:203)
	at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.fatalError(ErrorHandlerWrapper.java:177)
	at com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:400)
	at com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:327)
	at com.sun.org.apache.xerces.internal.impl.XMLScanner.reportFatalError(XMLScanner.java:1472)
	at com.sun.org.apache.xerces.internal.impl.XMLScanner.scanAttributeValue(XMLScanner.java:980)
	at com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.scanAttribute(XMLNSDocumentScannerImpl.java:447)
	at com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.scanStartElement(XMLNSDocumentScannerImpl.java:250)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(XMLDocumentFragmentScannerImpl.java:2784)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:602)
	at com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.next(XMLNSDocumentScannerImpl.java:112)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:505)
	at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:842)
	at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:771)
	at com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:141)
	at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1213)
	at com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(SAXParserImpl.java:643)
	at org.dom4j.io.SAXReader.read(SAXReader.java:465)
	... 18 more
Nested exception: 
org.xml.sax.SAXParseException; lineNumber: 732; columnNumber: 1985; An invalid XML character (Unicode: 0x1b) was found in the value of attribute ""message"" and element is ""failure"".
	at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.createSAXParseException(ErrorHandlerWrapper.java:203)
	at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.fatalError(ErrorHandlerWrapper.java:177)
	at com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:400)
	at com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:327)
	at com.sun.org.apache.xerces.internal.impl.XMLScanner.reportFatalError(XMLScanner.java:1472)
	at com.sun.org.apache.xerces.internal.impl.XMLScanner.scanAttributeValue(XMLScanner.java:980)
	at com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.scanAttribute(XMLNSDocumentScannerImpl.java:447)
	at com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.scanStartElement(XMLNSDocumentScannerImpl.java:250)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(XMLDocumentFragmentScannerImpl.java:2784)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:602)
	at com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.next(XMLNSDocumentScannerImpl.java:112)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:505)
	at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:842)
	at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:771)
	at com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:141)
	at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1213)
	at com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(SAXParserImpl.java:643)
	at org.dom4j.io.SAXReader.read(SAXReader.java:465)
	at org.dom4j.io.SAXReader.read(SAXReader.java:343)
	at hudson.tasks.junit.SuiteResult.parse(SuiteResult.java:178)
	at hudson.tasks.junit.TestResult.parse(TestResult.java:348)
	at hudson.tasks.junit.TestResult.parsePossiblyEmpty(TestResult.java:281)
	at hudson.tasks.junit.TestResult.parse(TestResult.java:206)
	at hudson.tasks.junit.TestResult.parse(TestResult.java:178)
	at hudson.tasks.junit.TestResult.<init>(TestResult.java:143)
	at hudson.tasks.junit.JUnitParser$ParseResultCallable.invoke(JUnitParser.java:146)
	at hudson.tasks.junit.JUnitParser$ParseResultCallable.invoke(JUnitParser.java:118)
	at hudson.FilePath$FileCallableWrapper.call(FilePath.java:3085)
	at hudson.remoting.UserRequest.perform(UserRequest.java:212)
	at hudson.remoting.UserRequest.perform(UserRequest.java:54)
	at hudson.remoting.Request$2.run(Request.java:369)
	at hudson.remoting.InterceptingExecutorService$1.call(InterceptingExecutorService.java:72)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
{code}
",,AdnanChoudhury,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzv73:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),AdnanChoudhury,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"30/Jul/19 11:48 AM;mastersingh24;No activity for around  a year .... cleanup;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
BYFN Node tests are failing consistently with timeout error,FAB-12471,34690,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Duplicate,,sambhavdutt,sambhavdutt,16/Oct/18 5:38 AM,19/Mar/19 8:13 PM,28/Oct/23 3:04 AM,17/Oct/18 2:23 AM,v1.4.0,,,,,v1.4.0,,,,,fabric-build,,,,0,ci-failure,,,,,"The Node chaincode test is timing out while instantiating chaincode on peer0.org2 in BYFN tests.

{code:java}
15:36:10 ======> NODE Chaincode tests <=======
15:36:10 Generating certs and genesis block for channel 'mychannel' with CLI timeout of '10' seconds and CLI delay of '3' seconds
.
.
15:36:39 ===================== Chaincode is installed on peer0.org2 ===================== 
15:36:39 
15:36:39 Instantiating chaincode on peer0.org2...
15:36:39 + peer chaincode instantiate -o orderer.example.com:7050 --tls true --cafile /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/ordererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem -C mychannel -n mycc -l node -v 1.0 -c '{""Args"":[""init"",""a"",""100"",""b"",""200""]}' -P 'AND ('\''Org1MSP.peer'\'','\''Org2MSP.peer'\'')'
15:41:39 + res=1
15:41:39 + set +x
15:41:39 2018-10-15 19:36:39.673 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001 Using default escc
15:41:39 2018-10-15 19:36:39.673 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002 Using default vscc
15:41:39 Error: could not assemble transaction, err proposal response was not successful, error code 500, msg timeout expired while starting chaincode mycc:1.0 for transaction
15:41:39 !!!!!!!!!!!!!!! Chaincode instantiation on peer0.org2 on channel 'mychannel' failed !!!!!!!!!!!!!!!!
15:41:39 ========= ERROR !!! FAILED to execute End-2-End Scenario ===========
15:41:39 
15:41:39 ERROR !!!! Test failed
{code}

*Build Logs*

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-smoke-tests-x86_64/3967/Docker_Container_Logs/",,denyeart,mbwhite,rameshthoomu,sambhavdutt,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABCN-132,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,a92d6ec5eeffa4eb8a22cc40913704be144cebf1,Unset,No,,,"1|hzzv7j:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,mbwhite,rameshthoomu,sambhavdutt,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"17/Oct/18 1:10 AM;sykesm;{code:java}
> chaincode_example02@1.0.0 start /usr/local/src
> node chaincode_example02.js ""--peer.address"" ""9.44.63.37:30003""


2018-10-16T16:08:53.977Z ERROR [lib/chaincode.js] uncaughtException: Cannot find module 'fabric-contract-api' 
	{""date"":""Tue Oct 16 2018 16:08:53 GMT+0000 (UTC)"",""process"":{""pid"":19,""uid"":0,""gid"":0,""cwd"":""/usr/local/src"",""execPath"":""/usr/local/bin/node"",""version"":""v8.11.3"",""argv"":[""/usr/local/bin/node"",""/usr/local/src/chaincode_example02.js"",""--peer.address"",""9.44.63.37:30003""],""memoryUsage"":{""rss"":50319360,""heapTotal"":24018944,""heapUsed"":16824888,""external"":223232}},""os"":{""loadavg"":[0.01806640625,0.14697265625,1.19287109375],""uptime"":83169},""trace"":[{""column"":15,""file"":""module.js"",""function"":""Module._resolveFilename"",""line"":547,""method"":""_resolveFilename"",""native"":false},{""column"":25,""file"":""module.js"",""function"":""Module._load"",""line"":474,""method"":""_load"",""native"":false},{""column"":17,""file"":""module.js"",""function"":""Module.require"",""line"":596,""method"":""require"",""native"":false},{""column"":18,""file"":""internal/module.js"",""function"":""require"",""line"":11,""method"":null,""native"":false},{""column"":18,""file"":""/usr/local/src/node_modules/fabric-shim/lib/contract-spi/chaincodefromcontract.js"",""function"":null,""line"":9,""method"":null,""native"":false},{""column"":30,""file"":""module.js"",""function"":""Module._compile"",""line"":652,""method"":""_compile"",""native"":false},{""column"":10,""file"":""module.js"",""function"":""Module._extensions..js"",""line"":663,""method"":"".js"",""native"":false},{""column"":32,""file"":""module.js"",""function"":""Module.load"",""line"":565,""method"":""load"",""native"":false},{""column"":12,""file"":""module.js"",""function"":""tryModuleLoad"",""line"":505,""method"":null,""native"":false},{""column"":3,""file"":""module.js"",""function"":""Module._load"",""line"":497,""method"":""_load"",""native"":false}],""stack"":[""Error: Cannot find module 'fabric-contract-api'"",""    at Function.Module._resolveFilename (module.js:547:15)"",""    at Function.Module._load (module.js:474:25)"",""    at Module.require (module.js:596:17)"",""    at require (internal/module.js:11:18)"",""    at Object.<anonymous> (/usr/local/src/node_modules/fabric-shim/lib/contract-spi/chaincodefromcontract.js:9:18)"",""    at Module._compile (module.js:652:30)"",""    at Object.Module._extensions..js (module.js:663:10)"",""    at Module.load (module.js:565:32)"",""    at tryModuleLoad (module.js:505:12)"",""    at Function.Module._load (module.js:497:3)""]}
2018-10-16T16:08:53.982Z ERROR [lib/handler.js] uncaughtException: Cannot find module 'fabric-contract-api' 
	{""date"":""Tue Oct 16 2018 16:08:53 GMT+0000 (UTC)"",""process"":{""pid"":19,""uid"":0,""gid"":0,""cwd"":""/usr/local/src"",""execPath"":""/usr/local/bin/node"",""version"":""v8.11.3"",""argv"":[""/usr/local/bin/node"",""/usr/local/src/chaincode_example02.js"",""--peer.address"",""9.44.63.37:30003""],""memoryUsage"":{""rss"":52445184,""heapTotal"":33456128,""heapUsed"":16008992,""external"":16824}},""os"":{""loadavg"":[0.01806640625,0.14697265625,1.19287109375],""uptime"":83169},""trace"":[{""column"":15,""file"":""module.js"",""function"":""Module._resolveFilename"",""line"":547,""method"":""_resolveFilename"",""native"":false},{""column"":25,""file"":""module.js"",""function"":""Module._load"",""line"":474,""method"":""_load"",""native"":false},{""column"":17,""file"":""module.js"",""function"":""Module.require"",""line"":596,""method"":""require"",""native"":false},{""column"":18,""file"":""internal/module.js"",""function"":""require"",""line"":11,""method"":null,""native"":false},{""column"":18,""file"":""/usr/local/src/node_modules/fabric-shim/lib/contract-spi/chaincodefromcontract.js"",""function"":null,""line"":9,""method"":null,""native"":false},{""column"":30,""file"":""module.js"",""function"":""Module._compile"",""line"":652,""method"":""_compile"",""native"":false},{""column"":10,""file"":""module.js"",""function"":""Module._extensions..js"",""line"":663,""method"":"".js"",""native"":false},{""column"":32,""file"":""module.js"",""function"":""Module.load"",""line"":565,""method"":""load"",""native"":false},{""column"":12,""file"":""module.js"",""function"":""tryModuleLoad"",""line"":505,""method"":null,""native"":false},{""column"":3,""file"":""module.js"",""function"":""Module._load"",""line"":497,""method"":""_load"",""native"":false}],""stack"":[""Error: Cannot find module 'fabric-contract-api'"",""    at Function.Module._resolveFilename (module.js:547:15)"",""    at Function.Module._load (module.js:474:25)"",""    at Module.require (module.js:596:17)"",""    at require (internal/module.js:11:18)"",""    at Object.<anonymous> (/usr/local/src/node_modules/fabric-shim/lib/contract-spi/chaincodefromcontract.js:9:18)"",""    at Module._compile (module.js:652:30)"",""    at Object.Module._extensions..js (module.js:663:10)"",""    at Module.load (module.js:565:32)"",""    at tryModuleLoad (module.js:505:12)"",""    at Function.Module._load (module.js:497:3)""]} {code};;;","17/Oct/18 2:23 AM;mbwhite;Fix is +1 waiting on merge;;;","17/Oct/18 2:58 AM;denyeart;[https://gerrit.hyperledger.org/r/#/c/27025/] fixed it.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
PTE Conversion Tool is not working with all versions,FAB-12472,34692,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,dongming,bmos299,bmos299,16/Oct/18 9:03 AM,12/Jul/19 10:37 PM,28/Oct/23 3:04 AM,12/Jul/19 10:37 PM,v1.2.0,,,,,,,,,,fabric-quality,,,,0,,,,,,"The conversion tool, fabric-test/tools/PTE/cprof-convert/.  Needs to covert every version properly into the scfile, pte required format. 
",,bmos299,dongming,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-2247,,,No,,Unset,No,,,"1|hzzv87:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bmos299,dongming,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"01/Dec/18 6:32 AM;jyellick;Is there a status update here?;;;","12/Jul/19 10:37 PM;dongming;close the bug since PTE supports connection profiles and no need to use conversion tool;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update Go-1.11.1,FAB-12473,34693,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid,harsha544,harsha544,harsha544,16/Oct/18 11:29 AM,16/Oct/18 12:03 PM,28/Oct/23 3:04 AM,16/Oct/18 12:03 PM,Future,v1.4.0,,,,Future,v1.4.0,,,,,,,,0,Golang,,,,,Install/Stage relevant go-1.11 binaries for ppc64le arch for every Sandbox/Prod servers.,,harsha544,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzv8f:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),harsha544,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"16/Oct/18 12:03 PM;harsha544;Moving this to FABCI.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update Go-1.11.1 - on p nodes,FAB-12474,34695,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid,harsha544,harsha544,harsha544,16/Oct/18 12:04 PM,16/Oct/18 12:07 PM,28/Oct/23 3:04 AM,16/Oct/18 12:06 PM,,,,,,Future,v1.4.0,,,,fabric-ci,,,,0,,,,,,Install/Stage relevant go-1.11 binaries for ppc64le arch for every Sandbox/Prod servers.,,harsha544,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzv8v:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),harsha544,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add UT for passthru,FAB-12475,34698,,Test Task,Closed,FAB,Fabric,software,denyeart,,,Low,Won't Do,tatsu-sato,tatsu-sato,tatsu-sato,16/Oct/18 6:20 PM,03/Dec/19 10:42 AM,28/Oct/23 3:04 AM,03/Dec/19 6:51 AM,v1.3.0,,,,,,,,,,,,,,0,,,,,,Add unit test for examples/chaincode/go/passthru,,denyeart,guoger,tatsu-sato,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzv9j:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unit Test,,(Please add usage information),denyeart,guoger,tatsu-sato,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/19 2:10 PM;denyeart;https://gerrit.hyperledger.org/r/#/c/27191/;;;","02/Dec/19 5:06 PM;guoger;[~tatsu-sato] we still have passthru chaincode in core/chaincode/testdata/src/chaincodes/passthru, welcome to re-submit patch via GitHub PR;;;","03/Dec/19 6:52 AM;denyeart;Closed due to CR abandoned. [~guoger] do you see value in such unit tests?;;;","03/Dec/19 10:42 AM;guoger;[~denyeart] we have UT for other examples there. IMHO, by utilizing those examples in our test, it's already being unit-tested somehow, so i'm good with closing this;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove dependency on bccsp from core/comm,FAB-12476,34699,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,mastersingh24,mastersingh24,mastersingh24,16/Oct/18 6:38 PM,17/Oct/18 4:05 AM,28/Oct/23 3:04 AM,17/Oct/18 4:05 AM,,,,,,v1.4.0,,,,,,,,,0,hygiene,,,,,,,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzv9r:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"16/Oct/18 6:40 PM;mastersingh24;https://gerrit.hyperledger.org/r/27016;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add proto message to represent consenters mapping to be stored in block metadata field,FAB-12477,34700,31897,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,C0rWin,C0rWin,C0rWin,16/Oct/18 7:09 PM,30/Oct/18 8:44 AM,28/Oct/23 3:04 AM,30/Oct/18 8:44 AM,v1.4.0,,,,,v1.4.0,,,,,fabric-orderer,,,,0,,,,,,"Currently, there is no representation which could be used to keep information about mapping from consenters to theirs ids. As per Figure.6 of the [Raft design doc|https://docs.google.com/document/d/138Brlx2BiYJm5bzFk_B0csuEUKYdXXr7Za9V7C76dwo/edit#] we need to introduce  new message which will hold mapping of consenters id, which later need to be stored within block metadata.

Suggested message would look like:

{code}
// Maps of the Raft consenters membership to
// cluster node ids to be stored in block metadata
message ConsentersMembership {
    map<uint64, Consenter> consenters = 1;
    uint64 nextConsenterID = 2;
}
{code}

the {{nextConsenterID}} field needed as we need to maintain and keep track of next consenters id to be assigned to new coming Raft replica",,C0rWin,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12478,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzv9z:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),C0rWin,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"19/Oct/18 6:44 AM;C0rWin;https://gerrit.hyperledger.org/r/#/c/27018/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Store consenters mapping into Block metadata field.,FAB-12478,34701,31897,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,C0rWin,C0rWin,C0rWin,16/Oct/18 7:12 PM,16/Oct/18 9:14 PM,28/Oct/23 3:04 AM,16/Oct/18 7:23 PM,v1.4.0,,,,,v1.4.0,,,,,fabric-orderer,,,,0,,,,,,"In order to support configuration update of type B, we need to persist current membership into metadata, such that replica would be able to catch up with recent updates after node has been restarted.",,C0rWin,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12477,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzva7:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),C0rWin,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"16/Oct/18 7:23 PM;C0rWin;The FAB-12477 and  https://gerrit.hyperledger.org/r/27018 took care of this as well.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fix proto files divergence in master,FAB-12481,34706,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,C0rWin,C0rWin,C0rWin,16/Oct/18 10:04 PM,17/Oct/18 4:32 PM,28/Oct/23 3:04 AM,17/Oct/18 4:32 PM,v1.4.0,,,,,,,,,,,,,,0,,,,,,After recent updates it seems that proto generated files has been diverged.,,C0rWin,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,2fe84274025d6381b26e9a8bd1cdfc599e4be787,Unset,No,,,"1|hzzvbb:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),C0rWin,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"16/Oct/18 10:05 PM;C0rWin;https://gerrit.hyperledger.org/r/27023;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Ledger code and test cleanup,FAB-12483,34708,,Task,Backlog,FAB,Fabric,software,denyeart,,,Medium,,,manish-sethi,manish-sethi,16/Oct/18 11:10 PM,03/Dec/19 10:11 AM,28/Oct/23 3:04 AM,,,,,,,,,,,,fabric-ledger,,,,0,hygiene,,,,,"This task is a place holder for cleaning up ledger code
 The intention is to create sub-tasks for each specific item. Some of the high level items include the following...

1. Remove ledgermgmt singleton - FAB-15755
 2. For tests, take root folder from a central place that returns the folder based in the package name
 3. Move integration tests from txmgmt package to kvledger/tests
 4. Move integration tests from validation package to kvledger/tests
 5. Move pvtdata batch preparation outside validation package
 6. Rework update batches in privacyenabled state for a better coherency between three types of batches
 7. Rework query iterators to return concrete type
 8. Cleanup initialization of ledger and passing down dependencies
 9. Define types that are used all over at some common place (e.g., composite key)
 10. Get rid of ledgerconfig module - DONE IN FAB-15086",,manish-sethi,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-15086,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwrme:zi",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),manish-sethi,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"21/Apr/19 2:52 AM;mastersingh24;Parts of this are already underway.  Will add the tasks as link.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Move from tally to go-kit,FAB-12484,34709,15982,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,16/Oct/18 11:33 PM,08/Dec/18 8:19 AM,28/Oct/23 3:04 AM,18/Oct/18 12:00 AM,,,,,,,,,,,,,,,0,,,,,,"Uber's tally has started to lock its dependencies and relies on package rewriting to avoid namespace issues. This rewriting impacts some of the extensibility we needed.

For the time being, we'll use go-kit/metrics as it supports statsd, prom, and other systems out of the box. If/when we outgrow it, we'll evaluate options.",,grapebaba,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11956,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzvbz:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),grapebaba,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"17/Oct/18 10:12 PM;grapebaba;Hi [~sykesm], [~muralisr] and I are doing metrics redesign, we are discussing using go plugin approach to support various monitor system. However we may still use standard tally reporter interfaces for abstraction. Could you let us know more about tally dependencies locking? And early I investigated go-kit, thought it support both prom and statsd, it need write different code in caller code, seems it is not better than tally.  The latest doc [https://docs.google.com/document/d/1xveVQM6e2XeAZBisYRTSfElmeBeYKntnghGyWPtsMSs/edit] .;;;","17/Oct/18 11:34 PM;sykesm;Hi. I've seen the document and reviewed it (as well as the existing implementation) before creating these stories.

Tally issues:
https://github.com/uber-go/tally/issues/82
https://github.com/uber-go/tally/issues/78
https://github.com/uber-go/tally/issues/71

Basically, they're pinning their own dependencies and they're using package rewriting. And, to be clear, I never said one was better than the other. My focus is on fit for purpose and kit metrics satisfies the requirement with little drag.

At the end of the day, components need abstractions for Counters, Gauges, and Histograms and many packages satisfy those requirements. We also don't strictly need to worry about statsd *and* prometheus as the statsd-exporter can be used in prometheus deployments.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Use dot naming convention for zap loggers,FAB-12486,34714,34511,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wlahti,skarim,skarim,17/Oct/18 2:37 AM,19/Oct/18 12:07 AM,28/Oct/23 3:04 AM,18/Oct/18 2:54 AM,,,,,,v1.4.0,,,,,,,,,0,,,,,,"Currently we use slash ('/') between components and sub-components, use dot (.) instead of slashes.",,skarim,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzvcn:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),skarim,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"17/Oct/18 5:32 AM;skarim;https://gerrit.hyperledger.org/r/c/27036/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add new environment variable for logging spec,FAB-12487,34715,34511,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,skarim,skarim,skarim,17/Oct/18 2:40 AM,30/Oct/18 12:29 AM,28/Oct/23 3:04 AM,24/Oct/18 9:40 PM,,,,,,,,,,,,,,,0,,,,,,,,scottz,skarim,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12556,FAB-12645,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzvcv:",a note is required about the logging variable changes,Yes,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),scottz,skarim,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"17/Oct/18 5:48 AM;skarim;https://gerrit.hyperledger.org/r/c/27042/;;;","21/Oct/18 8:11 AM;scottz;This will have a big impact on network operators and all users. Let's provide a good release note, please.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add a function to Admin Service to get log spec,FAB-12488,34716,34511,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wlahti,skarim,skarim,17/Oct/18 2:43 AM,31/Oct/18 11:22 PM,28/Oct/23 3:04 AM,31/Oct/18 11:22 PM,,,,,,,,,,,,,,,0,,,,,,,,skarim,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzvd3:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),skarim,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"20/Oct/18 3:05 AM;wlahti;https://gerrit.hyperledger.org/r/c/27090/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add a function to Admin Service to set log spec,FAB-12489,34717,34511,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wlahti,skarim,skarim,17/Oct/18 2:45 AM,02/Nov/18 6:02 AM,28/Oct/23 3:04 AM,02/Nov/18 6:02 AM,,,,,,,,,,,,,,,0,,,,,,,,skarim,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzvdb:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),skarim,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"25/Oct/18 2:51 AM;wlahti;https://gerrit.hyperledger.org/r/c/27174/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Handle legacy AdminService methods,FAB-12490,34720,34511,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wlahti,sykesm,sykesm,17/Oct/18 3:26 AM,02/Nov/18 11:42 PM,28/Oct/23 3:04 AM,02/Nov/18 11:42 PM,,,,,,,,,,,,,,,0,,,,,,"Decide how to handle the legacy AdminService methods related to logging. Consider the user experience when using an old peer cli against a new peer and a new peer cli against an old peer.

Also, update the help messages and documentation for the peer.

{code}
logging     Log levels: getlevel|setlevel|revertlevels.
{code}",,sykesm,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzvdz:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"01/Nov/18 10:51 PM;wlahti;https://gerrit.hyperledger.org/r/c/27293/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove smoke test from fabric CI,FAB-12491,34721,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,denyeart,denyeart,17/Oct/18 4:01 AM,17/Oct/18 7:00 PM,28/Oct/23 3:04 AM,17/Oct/18 7:00 PM,,,,,,,,,,,fabric-ci,,,,0,,,,,,"Smoke test and merge job are very redundant and vulnerable to breakages from components outside Fabric such as node chaincode and java chaincode.

Most CRs that would break end to end scenarios such as smoke test will be caught in integration test CI, now that the integration test suite has matured. Therefore the additional 15 minutes of smoke test for each CR patch is not very worthwhile. It would be acceptable to skip the smoke tests and just run the integration test and merge job, as long as we pay close attention to merge job failures.",,denyeart,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzve7:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"17/Oct/18 8:57 AM;rameshthoomu;https://gerrit.hyperledger.org/r/#/c/27045/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add ability to run peer session with configured MSP directory of orderers organization users,FAB-12492,34723,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,C0rWin,C0rWin,C0rWin,17/Oct/18 4:29 AM,19/Oct/18 3:42 AM,28/Oct/23 3:04 AM,19/Oct/18 3:42 AM,,,,,,v1.4.0,,,,,fabric-peer,,,,0,,,,,,"Currently the peer while executing peer session during integration tests it's only possible to setup environment for peers organizations users. However for certain operation it's required to be able to operate under MSP of ordering service users organization.

For example if need to update orderer related configuration updates, default policy requires signature of the orderer admin user.",,C0rWin,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12015,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,No,Unset,,,,,No,,Unset,No,,,"1|hzzven:",,,,No,Unset,,,(Please add steps to reproduce),,No,,,,,,Unset,,Unset,,(Please add usage information),C0rWin,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"17/Oct/18 4:37 AM;C0rWin;https://gerrit.hyperledger.org/r/#/c/27040/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fabric-test daily behave test: Node chaincode tests are failing due to CC container not being up,FAB-12493,34724,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,AdnanChoudhury,AdnanChoudhury,AdnanChoudhury,17/Oct/18 4:36 AM,30/Jul/19 11:48 AM,28/Oct/23 3:04 AM,30/Jul/19 11:48 AM,,,,,,,,,,,fabric-quality,,,,0,,,,,,,,AdnanChoudhury,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzvev:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),AdnanChoudhury,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"17/Oct/18 4:39 AM;AdnanChoudhury;https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-behave-master-x86_64/57/;;;","30/Jul/19 11:48 AM;mastersingh24;No activity for around  a year .... cleanup;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Fabric-test behave daily test: CouchDB index test fails due to not finding  ""no_usable_index""",FAB-12494,34725,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,AdnanChoudhury,AdnanChoudhury,AdnanChoudhury,17/Oct/18 4:47 AM,19/Mar/19 8:13 PM,28/Oct/23 3:04 AM,30/Nov/18 3:28 AM,v1.4.0,,,,,v1.4.0,,,,,fabric-quality,,,,0,ci-failure,,,,,"This fails due to the newer version of Couch that was included in fabric.

https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-behave-master-x86_64/57/testReport/junit/CouchDB_index/Testing%20Fabric%20CouchDB%20indexing/FAB_7264__Test_CouchDB_indexing_using_CC_upgrade_with_marbles_chaincode_using_GOLANG_with_3_channels_and_1_upgrade_____1_1_/


{code:java}
Error Message
Expected response was no_usable_index; received [{""Key"":""marble2"", ""Record"":{""color"":""yellow"",""docType"":""marble"",""name"":""marble2"",""owner"":""alex"",""size"":20}}]
{code}
",,AdnanChoudhury,sambhavdutt,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12733,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzvf3:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),AdnanChoudhury,sambhavdutt,scottz,,,,,,,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,release-1.4,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,true,"29/Nov/18 4:02 AM;sambhavdutt;I see the same test cases failing in the couchDB_indes tests consistently, including the last day's build on Sandbox, with the same errors. 

*fabric-test Commit: 

{code:java}
Failing step: Then a user receives a response containing no_usable_index ... failed in 0.001s
Location: CouchDB_index.feature:170
Assertion Failed: Expected response was no_usable_index; received [{""Key"":""marble2"", ""Record"":{""color"":""yellow"",""docType"":""marble"",""name"":""marble2"",""owner"":""alex"",""size"":20}}]
{code}

*Error Log*

https://jenkins.hyperledger.org/sandbox/job/fabric-test-daily-behave-master-x86_64/2/testReport/CouchDB_index/Testing%20Fabric%20CouchDB%20indexing/FAB_7264__Test_CouchDB_indexing_using_CC_upgrade_with_marbles_chaincode_using_GOLANG_with_3_channels_and_1_upgrade_____1_1_/
;;;","29/Nov/18 11:39 PM;scottz;https://gerrit.hyperledger.org/r/#/c/27768/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
escape from a container with default docker-compose config,FAB-12495,34726,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,dhuseby,dhuseby,17/Oct/18 8:12 AM,29/Nov/18 8:27 AM,28/Oct/23 3:04 AM,29/Nov/18 8:27 AM,,,,,,,,,,,,,,,0,,,,,,"This came in from H1:
h2. 1. test environment:

fabric/examples/e2e_cli (release-1.2)

![image.png]([https://upload-images.jianshu.io/upload_images/5443560-704b2fcac0346d82.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240|https://hackerone.com/redirect?signature=de0e9a11b90ec8fcd90544f211eb114bc8eb5da0&url=https%3A%2F%2Fupload-images.jianshu.io%2Fupload_images%2F5443560-704b2fcac0346d82.png%3FimageMogr2%2Fauto-orient%2Fstrip%257CimageView2%2F2%2Fw%2F1240])
h2. 2. poc

After starting the network, go in to cli container. Install docker and use /host/var/run/dcoker.sock to contact with Docker daemon of host

![image.png]([https://upload-images.jianshu.io/upload_images/5443560-b8fe34eb66e5b921.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240|https://hackerone.com/redirect?signature=52c597baa36eb3bffa5ec226007c1ad9e492bddc&url=https%3A%2F%2Fupload-images.jianshu.io%2Fupload_images%2F5443560-b8fe34eb66e5b921.png%3FimageMogr2%2Fauto-orient%2Fstrip%257CimageView2%2F2%2Fw%2F1240])

![image.png]([https://upload-images.jianshu.io/upload_images/5443560-b3d45f825cb6c5ee.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240|https://hackerone.com/redirect?signature=34ec283b9d0f6c8db602606f59e88474d3194d9f&url=https%3A%2F%2Fupload-images.jianshu.io%2Fupload_images%2F5443560-b3d45f825cb6c5ee.png%3FimageMogr2%2Fauto-orient%2Fstrip%257CimageView2%2F2%2Fw%2F1240])

![image.png]([https://upload-images.jianshu.io/upload_images/5443560-b3d45f825cb6c5ee.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240|https://hackerone.com/redirect?signature=34ec283b9d0f6c8db602606f59e88474d3194d9f&url=https%3A%2F%2Fupload-images.jianshu.io%2Fupload_images%2F5443560-b3d45f825cb6c5ee.png%3FimageMogr2%2Fauto-orient%2Fstrip%257CimageView2%2F2%2Fw%2F1240])

now we use {{/host/var/run/dcoker.sock}} to contact with Docker daemon of host to start another docker container and mount the root director to the docker

{{docker -H unix:///host/var/run/docker.sock run -itd ubuntu14:04 -v /:/aaa /bin/bash}}

![image.png]([https://upload-images.jianshu.io/upload_images/5443560-54e8394378623d14.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240|https://hackerone.com/redirect?signature=a33593600a49792d1b1c9da69bdc4d57a962e3dd&url=https%3A%2F%2Fupload-images.jianshu.io%2Fupload_images%2F5443560-54e8394378623d14.png%3FimageMogr2%2Fauto-orient%2Fstrip%257CimageView2%2F2%2Fw%2F1240])

Goto the new contianer again

{{docker -H unix:///host/var/run/docker.sock exec -it d98 bash}}

![image.png]([https://upload-images.jianshu.io/upload_images/5443560-703b440a291718fe.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240|https://hackerone.com/redirect?signature=b1983a66925abf5b86847a053a794e53c416c7ab&url=https%3A%2F%2Fupload-images.jianshu.io%2Fupload_images%2F5443560-703b440a291718fe.png%3FimageMogr2%2Fauto-orient%2Fstrip%257CimageView2%2F2%2Fw%2F1240])

Write something to {{/tmp}} in host

![image.png]([https://upload-images.jianshu.io/upload_images/5443560-e54fe8887b34af81.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240|https://hackerone.com/redirect?signature=2660e951383e58ef7e33899c78b80744c3af800f&url=https%3A%2F%2Fupload-images.jianshu.io%2Fupload_images%2F5443560-e54fe8887b34af81.png%3FimageMogr2%2Fauto-orient%2Fstrip%257CimageView2%2F2%2Fw%2F1240])

In host,we can see the file

![image.png]([https://upload-images.jianshu.io/upload_images/5443560-dfa5de014a0d88ad.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240|https://hackerone.com/redirect?signature=b9405c332045356acbed2e186cfe13383df0698b&url=https%3A%2F%2Fupload-images.jianshu.io%2Fupload_images%2F5443560-dfa5de014a0d88ad.png%3FimageMogr2%2Fauto-orient%2Fstrip%257CimageView2%2F2%2Fw%2F1240])
h2. 3. reason

![image.png]([https://upload-images.jianshu.io/upload_images/5443560-10002ee4077c5af8.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240|https://hackerone.com/redirect?signature=df33f618f8dafbaa1b8b9820e5358d6379b69aaa&url=https%3A%2F%2Fupload-images.jianshu.io%2Fupload_images%2F5443560-10002ee4077c5af8.png%3FimageMogr2%2Fauto-orient%2Fstrip%257CimageView2%2F2%2Fw%2F1240])
h2. Impact

scaping from a container--breaking out of the VM.",,ChristopherFerris,denyeart,dhuseby,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzvfb:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ChristopherFerris,denyeart,dhuseby,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"18/Oct/18 2:29 AM;ChristopherFerris;I don't see how this relates to Hyperledger Fabric.  [~mastersingh24];;;","27/Oct/18 7:26 AM;dhuseby;I think you're right.  This one seems like it isn't really a security issue unless filling /tmp would be a problem for the container host--which it usually isn't due to resource limits on the temp dir that all Linux machines have by default.

Maybe there is something we can do with the docker config to prevent this but it doesn't seem necessary to me. It is important to point out that this person is assuming a very privileged position of the attacker.  Not only shell on the docker host, but also a shell with privileges to write to the docker socket.  If an attacker has a privileged position like that, breaking out of the docker containers is the least of our worries.

I'm going to say that this isn't a security issue and close it unless anybody has objections.;;;","21/Nov/18 4:27 AM;dhuseby;This really isn't security issue with Fabric.  [~ChristopherFerris] and [~mastersingh24] do we want to make any changes to the docker images?  Or can we just close this out?  I have already closed out the HackerOne report.;;;","29/Nov/18 8:27 AM;denyeart;Closing per the comments. Please re-open if you think something needs to get addressed.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Unauthorized access to Zookeeper,FAB-12496,34727,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,kchristidis,dhuseby,dhuseby,17/Oct/18 8:20 AM,06/Dec/18 3:13 AM,28/Oct/23 3:04 AM,06/Dec/18 3:12 AM,,,,,,v1.4.0,,,,,fabric-orderer,,,,0,documentation,kafka,,,,"This came in from H1:
h2. test environment

ubuntu16 vm(192.168.174.131)
fabric-release-1.3
e2e_cli example
h2. poc

After successful installation of e2e_cli example, I notice 32781/tcp, 32783/tcp, 32784/tcp, 32785/tcp, 32786/tcp 32788/tcp, 32789/tcp, 32790/tcp, 32791/tcp, 32792/tcp, 32793/tcp is open to internet. I remember e2e_cli uses kafka and zookeeper, and guess that there is probably unauthorized access to zookeeper. So I write a simple script to prove it.
 

{code:python}
#!/usr/bin/env python
# -*- coding: utf-8 -*-

import socket

def check(ip, port, timeout):
    try:
        socket.setdefaulttimeout(timeout)
        s = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
        s.connect((ip, int(port)))
        flag = ""envi""
        # some available command
        # envi
        # dump
        # reqs
        # ruok
        # stat
        s.send(flag)
        data = s.recv(1024)
        s.close()
        print(data)
    except:
        pass

def main():
    ip = ""192.168.174.131""
    print check(ip, 32783, 2)

if __name__ == '__main__':
    main()
{code}


Here I use 32783 port, the number differs in different environment, the response proves my guess

{noformat}
Environment:
zookeeper.version=3.4.9-1757313, built on 08/23/2016 06:50 GMT
host.name=7217cc4308fa
java.version=1.8.0_181
java.vendor=Oracle Corporation
java.home=/usr/lib/jvm/java-8-openjdk-amd64/jre
java.class.path=/zookeeper-3.4.9/bin/../build/classes:/zookeeper-3.4.9/bin/../build/lib/*.jar:/zookeeper-3.4.9/bin/../lib/slf4j-log4j12-1.6.1.jar:/zookeeper-3.4.9/bin/../lib/slf4j-api-1.6.1.jar:/zookeeper-3.4.9/bin/../lib/netty-3.10.5.Final.jar:/zookeeper-3.4.9/bin/../lib/log4j-1.2.16.jar:/zookeeper-3.4.9/bin/../lib/jline-0.9.94.jar:/zookeeper-3.4.9/bin/../zookeeper-3.4.9.jar:/zookeeper-3.4.9/bin/../src/java/lib/*.jar:/conf:
java.library.path=/usr/java/packages/lib/amd64:/usr/lib/x86_64-linux-gnu/jni:/lib/x86_64-linux-gnu:/usr/lib/x86_64-linux-gnu:/usr/lib/jni:/lib:/usr/lib
java.io.tmpdir=/tmp
java.compiler=<NA>
os.name=Linux
os.arch=amd64
os.version=4.15.0-36-generic
user.name=zookeeper
user.home=/home/zookeeper
user.dir=/zookeeper-3.4.9
{noformat}




please don't open it to internet and add acl.
h2. Impact

Attacker is able to gain priviledge of zookeeper administrator which includes sensitive information of server and by zkCli.sh even do some dangerous operation include ""kill"" command",,ChristopherFerris,dhuseby,kchristidis,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,denyeart,kchristidis,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzvfj:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ChristopherFerris,dhuseby,kchristidis,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"18/Oct/18 2:36 AM;ChristopherFerris;What has this to do with Fabric? We make the claim that the operations guide does not cover how to deploy and operate kafka/zk to manage an orderer service. [~mastersingh24];;;","27/Oct/18 7:31 AM;dhuseby;So my only pushback on what you say is that this is a default install.  A *lot* of people will take our default install and spin it up and think they are good to go.  We specifically point out that bug reports against the default install are valid security concerns.

Maybe the solution is to add more in the documentation in the form of a warning that ZK security needs to be hardened or that the ZK instance needs to be behind a firewall to prevent unauthorized access?  If we need to do a documentation change, I'll make this a low priority security bug and pay out a small bounty.;;;","21/Nov/18 4:34 AM;dhuseby;[~ChristopherFerris][~mastersingh24] any update on this?  What do you think about my solution of changing the docs?  I need to get back to the hacker pretty soon to stay ahead of our SLA.;;;","02/Dec/18 8:27 AM;mastersingh24;The e2e_cli is not actually the sample or tutorial we put in our docs and we actually removed the e2e_cli in the current master branch and we'll cut a 1.4 release from there.

e2e_cli was use for ""poor man's"" integration testing in earlier releases.;;;","05/Dec/18 6:24 AM;kchristidis;Gari's right in that the E2E CLI is no longer in master, nor was it meant to be a reference guide.

I see David's point however. Would this one-line warning on making sure the Kafka/ZK clusters are secure work? https://gerrit.hyperledger.org/r/c/27938/;;;","06/Dec/18 3:13 AM;kchristidis;[~dhuseby]: If you disagree with the way this is handled, please re-open.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,
Missing hyperlink to hyperledger/fabric-samples repository,FAB-12497,34729,,Bug,Closed,FAB,Fabric,software,denyeart,,,Lowest,Done,vivganes,vivganes,vivganes,17/Oct/18 2:42 PM,22/Oct/18 9:40 PM,28/Oct/23 3:04 AM,22/Oct/18 9:40 PM,,,,,,,,,,,fabric-docs,,,,0,,,,,,"URL: [https://hyperledger-fabric.readthedocs.io/en/release-1.3/install.html]

*Actual Text:*

If needed, clone the hyperledger/fabric-samples repository

*Expected Text:*

If needed, clone the [hyperledger/fabric-samples|http://github.com/hyperledger/fabric-samples] repository",,vivganes,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzvfz:",,,,Unset,Unset,,,Visit https://hyperledger-fabric.readthedocs.io/en/release-1.3/install.html,,Unset,,,,,,Unset,,Unset,,(Please add usage information),vivganes,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"17/Oct/18 6:26 PM;vivganes;Change request submitted at https://gerrit.hyperledger.org/r/#/c/27050/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Implement hash chain validation for block buffers for OSN deliver client,FAB-12500,34736,34813,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,17/Oct/18 8:24 PM,30/Nov/18 1:38 AM,28/Oct/23 3:04 AM,30/Oct/18 5:22 AM,,,,,,,,,,,,,,,0,,,,,,"The OSN deliver client that will be used for replication of blocks, will pull blocks in chunks of configurable size, and validate their signatures by:
 * validating the signature of the last block
 * checking that the previous hash corresponds to the header hash of the previous block
 * checking the data hash in the header is really the hash of the data of the block.

 ",,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzvhb:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"17/Oct/18 8:34 PM;yacovm;https://gerrit.hyperledger.org/r/#/c/27053/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Implement deliver client for ordering service intra cluster replication,FAB-12501,34737,34813,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,17/Oct/18 8:27 PM,30/Nov/18 1:39 AM,28/Oct/23 3:04 AM,29/Oct/18 1:25 AM,,,,,,,,,,,,,,,0,,,,,,,,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzvhj:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"17/Oct/18 8:35 PM;yacovm;https://gerrit.hyperledger.org/r/#/c/27054/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Prepare block puller to be attached to etcdraft consensus,FAB-12502,34738,34813,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,17/Oct/18 8:28 PM,30/Nov/18 1:39 AM,28/Oct/23 3:04 AM,29/Oct/18 5:54 AM,,,,,,,,,,,,,,,0,,,,,,,,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzvhr:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"19/Oct/18 9:50 AM;yacovm;https://gerrit.hyperledger.org/r/#/c/27055/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
General Purpose Smart Contract,FAB-12505,34742,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,gokhankocak,gokhankocak,17/Oct/18 10:10 PM,23/Jan/20 7:32 AM,28/Oct/23 3:04 AM,23/Jan/20 7:32 AM,Not a Bug,,,,,Not a Bug,,,,,fabric-common,fabric-samples,,,0,chaincode,stale-item,,,,"A general purpose smart contract will be useful for most projects. Such a smart contract will enable application developers to easily integrate their application to Hyperledger Fabric.

I've written a general purpose smart contract than can store any key-value to either LevelDB or CouchDB. The idea is to pass the value as a JSON object and insert it to the ledger so that rich queries can be run.

An example with PutState()

User's application provides a key and a value in JSON, and the smart contract unmarshals and then marshals the value before calling shim's PutState() method. This makes the value field to appear in the CouchDB document as a valid JSON object.

So, the user's application can run native CouchDB queries on his data.

I've also added built-in support for Statsd reporting using the same go library as used in Fabric. Each call to GetState(), PutState() etc are counted and reported to the given statsd server.

Please find attached my implementation of general purpose smart contract.

Regards,

// Gokhan
 ",,gokhankocak,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"17/Oct/18 10:09 PM;gokhankocak;AsenaSmartContract.go;https://jira.hyperledger.org/secure/attachment/16143/AsenaSmartContract.go",,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Yes,Unset,,,,,No,,Unset,No,,,"1|hzzvin:",,,,No,Unset,,,(Please add steps to reproduce),,Yes,,,,,,Unset,,Unset,,(Please add usage information),gokhankocak,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 7:32 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove override for go-metrics,FAB-12506,34746,,Task,Closed,FAB,Fabric,software,denyeart,,,Low,Done,sykesm,sykesm,sykesm,17/Oct/18 10:37 PM,19/Nov/18 1:57 PM,28/Oct/23 3:04 AM,19/Nov/18 1:57 PM,,,,,,v1.4.0,,,,,,,,,0,,,,,,,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzvjj:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Questions around private data architecture,FAB-12507,34747,,Documentation,Closed,FAB,Fabric,software,denyeart,,,High,Done,denyeart,pandrejko,pandrejko,17/Oct/18 10:41 PM,15/Jul/19 8:29 PM,28/Oct/23 3:04 AM,21/Oct/18 5:08 AM,,,,,,v1.4.0,,,,,fabric-docs,,,,0,,,,,,"[docs/source/private-data-arch.rst|https://gerrit.hyperledger.org/r/#/c/26992/3/docs/source/private-data-arch.rst]
 Line [33|https://gerrit.hyperledger.org/r/#/c/26992/3/docs/source/private-data-arch.rst@33]: For example, in a channel with ten organizations,
 five of the organizations might be included in a private data collection
 distribution policy, but the endorsement policy might call for any three
 of the organizations to endorse.
 could we write it as - the endorsement policy might call for any three out of the five organizations to endorse.


 Line [36|https://gerrit.hyperledger.org/r/#/c/26992/3/docs/source/private-data-arch.rst@36]: ``requiredPeerCount``: Minimum number of peers that the endorsing peer must
 successfully disseminate private data to before the peer signs the
 endorsement and returns the proposal response back to the client.
 Why do we need to distribute the private data before the peer signs the endorsement? The same is not the case for stateDB transactions.

Does it mean that every endorsing peer must send to #requiredPeerCount peers within the org?


 Line [40|https://gerrit.hyperledger.org/r/#/c/26992/3/docs/source/private-data-arch.rst@40]: ``requiredPeerCount`` is ``0``, it means that no distribution is **required**,
 but there may be some distribution if ``maxPeerCount`` is greater than zero. A
 ``requiredPeerCount`` of ``0`` would typically not be recommended, as it could
 lead to loss of private data. Typically you would want to require at least some
 distribution of the private data at endorsement time to ensure redundancy of the
 private data on multiple peers in the network.
 In the private data tutorial([https://hyperledger-fabric.readthedocs.io/en/release-1.2/private_data_tutorial.html]), the collection policy states requiredPeerCount:0 and maxPeerCount:3; whereas the network has 2 peers per org. Endorsement Policy is default

Does the endorsing peer (peer0.org1) distribute the private data to peer1.org1, peer0.org2 and peer1.org2?

Peers in org2 do not have access to all the private collections; how does the endorsing peer decide which private data to distribute?",,denyeart,pandrejko,sheetal-hlf,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwrqv:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,pandrejko,sheetal-hlf,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.3,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"18/Oct/18 8:39 PM;denyeart;https://gerrit.hyperledger.org/r/#/c/27077/;;;","19/Oct/18 7:15 PM;sheetal-hlf;_Endorsement policy is specified at the channel/chaincode level, not the collection level, so in this case it would be three out of ten, it just happens to be that only the 5 orgs authorized for the private data would be eligible to endorse transactions that require read/write of private data._

 

Do you think it depends on the type of endorsement policy whether its three out of ten or three out of five?

E.g. if the endorsement policy states that all 3orgs should endorse then those orgs should be the ones who are authorized for the private data otherwise the invoke transactions would fail due to not satisfying the endorsement policy.

All I want to make sure is that at least one of org in the endorsement policy must be authorised for private data so that transactions do not fail. let me know if this understanding is correct.

 ;;;","19/Oct/18 9:14 PM;denyeart;[~sheetal-hlf] If you do a read/write transaction, then by definition only those peers that are collection members and have the private data will be able to endorse.  Does that satisfy the requirement?

Alternatively, you could use the new state-based endorsement in v1.3 which allows for specifying endorsement policy at the key level.

Note that placing an endorsement policy at the collection level is a potential future enhancement (between the chaincode and key levels), I assume that is more aligned with what you are looking for. What do you think between the three approaches?;;;","21/Oct/18 5:05 AM;denyeart;cherry picked to release-1.3: https://gerrit.hyperledger.org/r/#/c/27125/;;;","23/Oct/18 9:18 PM;sheetal-hlf;My concern is addressed in another [Jira ticket|https://jira.hyperledger.org/browse/FAB-11141] ; however I have another query.

As per initial design, would the unauthorized endorsing peer also disseminate private data to peers as per collection-policy attributes requiredPeerCount and maxPeerCount? 

P.S.

Endorsement policy - AND(Org1MSP.member, Org2MSP.member);

Collection policy OR(org1.member), ""requiredPeerCount"": 1, ""maxPeerCount"": 2,

and its a write-only transaction;;;","23/Oct/18 10:14 PM;denyeart;[~sheetal-hlf] Yes, a non-collection member that is asked by a client to endorse private data will distribute it to the collection members as usual.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,
Extend consenter support with an ability to retrieve a specific block,FAB-12508,34748,34813,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,17/Oct/18 10:43 PM,30/Nov/18 1:39 AM,28/Oct/23 3:04 AM,29/Oct/18 1:30 AM,,,,,,,,,,,,,,,0,,,,,,[~adarshsaraf123],,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12354,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzvjr:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"22/Oct/18 6:33 AM;yacovm;https://gerrit.hyperledger.org/r/#/c/27062/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
install instructions unclear,FAB-12509,34749,,Documentation,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,ChristopherFerris,ChristopherFerris,17/Oct/18 11:03 PM,23/Jan/20 7:29 AM,28/Oct/23 3:04 AM,23/Jan/20 7:29 AM,v1.3.0,,,,,,,,,,fabric-docs,,,,0,stale-item,,,,,"If you are using Docker Toolbox on Windows 7 or macOS, you will need to use a location under {{C:\Users}} (Windows 7) or {{/Users}} (macOS) when installing and running the samples.

 

Should really make clear that you need to be in a directory in which you have write permissions.

 ",,ChristopherFerris,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzvjz:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ChristopherFerris,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 7:29 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove log format specification from core.yaml and replace with an env var,FAB-12511,34751,34511,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wlahti,sykesm,sykesm,17/Oct/18 11:51 PM,01/Nov/18 12:17 AM,28/Oct/23 3:04 AM,01/Nov/18 12:17 AM,,,,,,,,,,,,,,,0,,,,,,"The logging.level is dynamic and logging.format should be static. 

The new environment variable is  FABRIC_LOGGING_FORMAT. It can be set to a format string (as before) for human readability or it can be set to json. ",,sykesm,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzvkf:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"30/Oct/18 12:29 AM;wlahti;https://gerrit.hyperledger.org/r/c/27254/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
PTE CITest utilities,FAB-12513,34753,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,dongming,dongming,dongming,18/Oct/18 12:01 AM,16/Apr/19 6:52 AM,28/Oct/23 3:04 AM,16/Apr/19 6:52 AM,,,,,,,,,,,fabric-quality,,,,0,,,,,,"With the increasing of PTE CITest cases, a utilities file that contains all utilities used in CITest will be helpful for maintenance.  Each script only needs to source this utilities to invoke any function.",,AdnanChoudhury,dongming,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-2247,,,No,,Unset,No,,,"1|hzzvkv:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),AdnanChoudhury,dongming,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,true,"05/Feb/19 6:53 AM;dongming;https://gerrit.hyperledger.org/r/#/c/29129/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
PTE converts service credential to connection profile,FAB-12514,34754,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,dongming,dongming,dongming,18/Oct/18 1:30 AM,25/Jul/19 2:18 AM,28/Oct/23 3:04 AM,25/Jul/19 2:18 AM,,,,,,,,,,,fabric-quality,,,,0,,,,,,"In order to support existing users who use service credential json for executing PTE, we will need a conversion tool to convert PTE service credential jsons to connection profile.  As today, we have convert.js to convert connection profile to PTE service credential json.

This converter tool FAB-12514 must be completed before FAB-7138, which will change PTE to look for a connection profile instead of a Service Credentials File. Since PTE will not support both functions, 7138 will be a non-backward-compatible change. Therefore, this converter tool must be used to convert all the existing SCFiles under fabric-test/tools/PTE/ into connection profiles, and merge them into fabric-test/tools/PTE/ BEFORE 7138 is merged... so the automated CITests will be able to find connection profiles once we merge 7138.

Recommendation: PTE should not run this converter tool automatically, because we need to ensure all users create their own connection profiles. It is a one-time thing. Note: With the 7138 changeset, PTE should:
* halt when it cannot find a connection profile
* print instructions to the user to create a connection profile (and to place it in appropriate location for PTE to find it)
* show an example in the PTE/SCFiles directory of equivalent SCFile and connection profile
* explain where to find instructions how to run the converter tool - useful for those users that have their own SCFiles already
For users that upgrade from earlier fabric releases and continue to run PTE tests, they would have to clone the newer fabric-test and PTE from 2.0 (or 1.4.2, if we put all this in release-1.4 too), run the converter to create connection profile from their SCFile, and only then could run PTE tests. Thus, this converter tool must be supported as long as the upgrades are supported. For example, if we support upgrades from 1.3 or 1.4 (which uses SCFile) to 2.0 (which requires connection profile), but not 1.4 to 3.0 then we could stop the support for the migration tool in 3.0 since it won't be needed (because any tests in 2.0 must use the connection profile). Also, if customers must upgrade from 1.4 to 2.0 before going to 2.1, for example, then we could end support for converter tool in 2.1.",,dongming,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-7138,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-2247,,,No,,Unset,No,,,"1|hzzvl3:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),dongming,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"25/Jul/19 2:18 AM;scottz;functionality provided by other means.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update Makefile with BASEIMAGE_RELEASE value,FAB-12515,34755,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,rameshthoomu,rameshthoomu,18/Oct/18 1:48 AM,18/Oct/18 8:47 PM,28/Oct/23 3:04 AM,18/Oct/18 8:47 PM,,,,,,v1.0.8,,,,,fabric-build,,,,0,,,,,,Update Makefile to add value to the BASEIMAGE_RELEASE parameter and remove the .baseimage-release file,,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzxeof:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,release-1.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
blockledger.GetBlock doesn't close iterator,FAB-12516,34756,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,18/Oct/18 1:51 AM,23/Oct/18 5:05 PM,28/Oct/23 3:04 AM,23/Oct/18 5:05 PM,,,,,,,,,,,,,,,0,,,,,,"The iterator isn't closed after it is obtained:

 
{code:java}
// GetBlock is a utility method for retrieving a single block
        func GetBlock(rl Reader, index uint64) *cb.Block {
        	i, _ := rl.Iterator(&ab.SeekPosition{      
        		Type: &ab.SeekPosition_Specified{
        			Specified: &ab.SeekSpecified{Number: index},
        		},
        	}
        	block, status := i.Next()
        	if status != cb.Status_SUCCESS {
        		return nil
        	}
        	return block
        }
 {code}",,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzvlb:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"18/Oct/18 2:25 AM;yacovm;https://gerrit.hyperledger.org/r/#/c/27066/

[https://gerrit.hyperledger.org/r/#/c/27066/];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Compress the log files before the archieve.,FAB-12517,34757,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sambhavdutt,sambhavdutt,sambhavdutt,18/Oct/18 2:04 AM,19/Mar/19 8:13 PM,28/Oct/23 3:04 AM,18/Oct/18 3:04 AM,v1.3.0,,,,,v1.3.0,,,,,fabric-quality,,,,0,ci-failure,,,,,"The log files need to be compressed before archiving them. This will reduce the space of the log files, hence reduce the space used in the Jenkins archives.",,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzvlj:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,true,"18/Oct/18 3:03 AM;sambhavdutt;https://gerrit.hyperledger.org/r/#/c/27013/

Patchset has been Merged.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As a Fabric developer, I want to test the interactions between the cluster framework and the Chain objects",FAB-12518,34761,,Story,Backlog,FAB,Fabric,software,denyeart,,,Medium,,,yacovm,yacovm,18/Oct/18 8:30 AM,02/Dec/19 4:50 PM,28/Oct/23 3:04 AM,,,,,,,Future,,,,,fabric-orderer,,,,0,raft,,,,,"The etcd/raft ordering service work can be roughly divided to the 3 following parts:
 # etcd/raft consensus core: new consenter and chain types consuming the etcd/raft library and using it to agree on blocks.
 # Infrastructure for the ""cluster"" orderer type: inter-node communication, authentication and block replication.
 # Stitching and gluing the above into the existing orderer code.

Each of the 3 parts have their own unit tests.

However, currently the only tests that check that they work together are the integration tests under the top-level *integration* package.

I argue this isn't enough, and suggest we add extended unit tests that use 1+2 together and spin small raft networks of ~ 3-5 nodes in-process, in order to:
 * *Check we don't have data races.*
 The cluster infrastructure, at the time of writing - made certain assumptions about how etcd/raft chains use it, such as:
 ** Step() is always called from the same goroutine
 ** Submit() is always called from the same goroutine
 and we should make sure these assumptions hold.
 * Check that the orderer handles *more than a single channel* properly. Currently, this isn't tested anywhere. The cluster unit tests have such scenarios, but we should check interoperability across the chains.

 

[~kchristidis] [~C0rWin] [~guoger] [~adarshsaraf123] please comment your opinions.",,adarshsaraf123,kchristidis,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-6135,,,No,,Unset,No,,,"1|i00amf:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),adarshsaraf123,kchristidis,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"18/Oct/18 9:22 AM;kchristidis;I generally agree, and thanks for writing this up. Is there any particular reason why we're calling these extended unit tests? I would think that we want are integration tests that work against the orderer binaries, i.e. all of this work should be done under the top-level `integration` package, and by extending `nwo`. Do you have something different in mind?;;;","18/Oct/18 2:20 PM;adarshsaraf123;I agree on the need for this. 
[~kchristidis] I too believe that this is more of an extended unit test. For testing these scenarios we don't need the other pieces of the fabric system like the peers to be up. We can test these within the orderer code base itself keeping the scope precise.;;;","18/Oct/18 2:23 PM;adarshsaraf123;[~yacovm] I did not get the bit where you say, ""check interoperability across the chains"".;;;","18/Oct/18 3:04 PM;yacovm;We can't detect race conditions with integration tests and matt's framework is too crude for delicate corner case testing you can get in extended unit tests;;;","18/Oct/18 3:05 PM;yacovm;[~adarshsaraf123] i meant between the chains and the cluster code;;;","19/Oct/18 9:18 AM;kchristidis;{quote}We can't detect race conditions with integration tests and matt's framework is too crude for delicate corner case testing you can get in extended unit tests{quote}

Understood. You're right, and I'm wrong.;;;","12/Feb/19 2:44 AM;kchristidis;Realistically, are we doing this? i.e. is there a need for a story around this?;;;","12/Feb/19 2:52 AM;yacovm;I don't see why not do that, however - IMO it's not something that should block us from releasing Raft. ;;;",,,,,,,,,,,,,,,,,,,,,,,,,
Verifying last config blocks in orderer replication,FAB-12519,34762,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,yacovm,yacovm,18/Oct/18 8:36 AM,23/Jan/20 7:32 AM,28/Oct/23 3:04 AM,23/Jan/20 7:32 AM,,,,,,,,,,,,,,,0,bft,stale-item,,,,"Currently, orderers pull blocks and only verify the standard signatures on the blocks and the previous hashes, and data hashes.

However - the last config block signatures that were added late, should be validated on their own if:
 * We want orderers and peers to use them.
 * We are in a byzantine environment and orderer outputs aren't trusted by default.

 

[~kchristidis]",,sykesm,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzvmn:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 7:32 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Fix misspelling of “organiztion""",FAB-12520,34763,,Bug,Closed,FAB,Fabric,software,denyeart,,,Lowest,Done,diizuka,diizuka,diizuka,18/Oct/18 11:31 AM,28/Nov/18 12:38 AM,28/Oct/23 3:04 AM,28/Nov/18 12:38 AM,v1.1.0,v1.2.0,,,,v1.4.0,,,,,,,,,0,,,,,,"Fix misspelling of “organiztion"" on fabric-test

 ",,diizuka,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzvmv:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),diizuka,,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Async `BlockWriter.commitBlock` may cause system channel NOT to reflect correct state of channel creation in a corner case.,FAB-12521,34764,,Bug,Closed,FAB,Fabric,software,denyeart,,,Low,Won't Do,,guoger,guoger,18/Oct/18 11:50 AM,23/Jan/20 7:34 AM,28/Oct/23 3:04 AM,23/Jan/20 7:34 AM,v1.2.0,v1.3.0,,,,Future,,,,,fabric-orderer,,,,0,stale-item,,,,,"As the code currently stands, [commitBlock|https://github.com/hyperledger/fabric/blob/release-1.3/orderer/common/multichannel/blockwriter.go#L155] is async after [writing a config block|https://github.com/hyperledger/fabric/blob/release-1.3/orderer/common/multichannel/blockwriter.go#L92]. It may cause problem in following case:
 - about to {{WriteConfigBlock}} to create a new chain {{foo}}
 - {{newChain}} is invoked in {{WriteConfigBlock}} *before* {{commitBlock}}.
 - local directory is created as part of chain resources, *but* config block is *not* yet appended to ledger
 - orderer crash
 - upon reboot, it finds chain {{foo}} because it exists on disk, however the config block does *not* exist on system chain.

Per [~jyellick]'s [comment in Rocket chat|https://chat.hyperledger.org/channel/fabric-orderer-dev?msg=ixs5AsLAxSAd9PaST]:
{quote}There probably should be a comment in the code to that affect. At the time it seemed like a rather unlikely corner case (and recovery in the Kafka case is as simple as deleting the ledger and rebootstrapping). At the very least, we should probably put a check during chain creation time that the chain is already of length zero.
{quote}",,guoger,kchristidis,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-5274,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzvn3:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),guoger,kchristidis,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 7:34 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Extract TLS CA certificates from last config block,FAB-12522,34766,34813,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,18/Oct/18 7:51 PM,30/Nov/18 1:39 AM,28/Oct/23 3:04 AM,29/Oct/18 1:32 AM,,,,,,,,,,,,,,,0,,,,,,,,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzvnj:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"22/Oct/18 6:33 AM;yacovm;https://gerrit.hyperledger.org/r/#/c/27079/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
The fabric-unit test-s390x job has been failing consistently due to integration errors in gossip service test,FAB-12523,34768,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,,sambhavdutt,sambhavdutt,18/Oct/18 10:45 PM,19/Mar/19 8:12 PM,28/Oct/23 3:04 AM,30/Oct/18 11:54 PM,v1.4.0,,,,,v1.4.0,,,,,fabric-build,,,,0,ci-failure,,,,,"fabric-unit test-s390x job in master has been failing consistently due to integration errors in gossip service test.

{code:java}
23:56:39 unit-tests_1  | --- FAIL: TestLeaderYield (117.03s)
23:56:39 unit-tests_1  |     integration_test.go:156: p0 started its delivery service
23:56:39 unit-tests_1  |     integration_test.go:161: p0 stopped its delivery service
23:56:39 unit-tests_1  |     integration_test.go:171: p1 hasn't taken over leadership within 1m0s: -1
23:56:39 unit-tests_1  | 2018-10-18 03:55:48.474 UTC [gossip.service] updateAnchors -> ERRO 07c Tried joining channel A but our org( OrgMSP0 ), isn't among the orgs of the channel: [Org0] , aborting.
23:56:39 unit-tests_1  | 2018-10-18 03:55:50.649 UTC [gossip.comm#20108] func1 -> WARN 07d localhost:20102, PKIid:[108 111 99 97 108 104 111 115 116 58 50 48 49 48 50] isn't responsive: EOF
23:56:39 unit-tests_1  | 2018-10-18 03:55:50.650 UTC [gossip.discovery#localhost:20108] expireDeadMembers -> WARN 07e Entering [[108 111 99 97 108 104 111 115 116 58 50 48 49 48 50]]
23:56:39 unit-tests_1  | 2018-10-18 03:55:50.650 UTC [gossip.discovery#localhost:20108] expireDeadMembers -> WARN 07f Closing connection to Endpoint: 1.2.3.4:20102, InternalEndpoint: localhost:20102, PKI-ID: [108 111 99 97 108 104 111 115 116 58 50 48 49 48 50], Metadata: []
23:56:39 unit-tests_1  | 2018-10-18 03:55:50.650 UTC [gossip.discovery#localhost:20108] expireDeadMembers -> WARN 080 Exiting
23:56:39 unit-tests_1  | 2018-10-18 03:55:50.674 UTC [gossip.comm#20506] func1 -> WARN 081 localhost:20501, PKIid:[108 111 99 97 108 104 111 115 116 58 50 48 53 48 49] isn't responsive: EOF
23:56:39 unit-tests_1  | 2018-10-18 03:55:50.675 UTC [gossip.discovery#localhost:20506] expireDeadMembers -> WARN 082 Entering [[108 111 99 97 108 104 111 115 116 58 50 48 53 48 49]]
23:56:39 unit-tests_1  | 2018-10-18 03:55:50.675 UTC [gossip.discovery#localhost:20506] expireDeadMembers -> WARN 083 Closing connection to Endpoint: 1.2.3.4:20501, InternalEndpoint: localhost:20501, PKI-ID: [108 111 99 97 108 104 111 115 116 58 50 48 53 48 49], Metadata: []
23:56:39 unit-tests_1  | 2018-10-18 03:55:50.675 UTC [gossip.discovery#localhost:20506] expireDeadMembers -> WARN 084 Exiting
{code}

*Build Log*

https://jenkins.hyperledger.org/view/Daily/job/fabric-daily-s390x/339/consoleFull

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-daily-s390x/339/",,C0rWin,denyeart,rameshthoomu,sambhavdutt,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12065,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzvnz:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),C0rWin,denyeart,rameshthoomu,sambhavdutt,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"29/Oct/18 7:51 AM;sambhavdutt;I noticed the below error in latest fabric unit test daily, s390x job, 

*fabric commit: f995aae*

{code:java}
23:56:55 ?   	github.com/hyperledger/fabric/bccsp/mocks	[no test files]
23:56:55 Immutable = [false]Failed initiliazing BCCSP at [{SecLevel:256 HashFamily:SHA2 Ephemeral:false FileKeystore:<nil> DummyKeystore:<nil> Library: Label:ForFabric Pin:98765432 SoftVerify:true Immutable:false}]: [Failed initializing PKCS11 library  ForFabric: No PKCS11 library default]FAIL	github.com/hyperledger/fabric/bccsp/pkcs11	0.045s
{code}

*Build Log*

https://jenkins.hyperledger.org/view/Daily/job/fabric-daily-s390x/351/console

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-daily-s390x/351/;;;","29/Oct/18 11:25 PM;vijaypunugubati;Same error observed on 10/29/2018.

*Fabric Commit:* 7ff25ef
{code:java}
/09:36:15 Immutable = [false]Failed initiliazing BCCSP at [{SecLevel:256 HashFamily:SHA2 Ephemeral:false FileKeystore:<nil> DummyKeystore:<nil> Library: Label:ForFabric Pin:98765432 SoftVerify:true Immutable:false}]: [Failed initializing PKCS11 library  ForFabric: No PKCS11 library default]FAIL	github.com/hyperledger/fabric/bccsp/pkcs11	0.047s
09:36:15 ok  	github.com/hyperledger/fabric/bccsp/signer	(cached)	coverage: 100.0% of statements
09:36:50 ok  	github.com/hyperledger/fabric/bccsp/sw	38.864s	coverage: 89.9% of statements
09:36:50 ?   	github.com/hyperledger/fabric/bccsp/sw/mocks	[no test files]
09:36:50 ok  	github.com/hyperledger/fabric/bccsp/utils	(cached)	coverage: 85.5% of statements
09:36:50 Makefile:183: recipe for target 'unit-test' failed
09:36:50 make: *** [unit-test] Error 1/ code placeholder
{code}
*Build log:* https://jenkins.hyperledger.org/view/Daily/job/fabric-daily-s390x/353/console;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fix wrong/missing godoc comments,FAB-12524,34769,,Bug,Closed,FAB,Fabric,software,denyeart,,,Lowest,Done,ales,ales,ales,18/Oct/18 11:08 PM,19/Oct/18 9:28 PM,28/Oct/23 3:04 AM,19/Oct/18 9:28 PM,,,,,,v1.4.0,,,,,,,,,0,,,,,,,,ales,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzvo7:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ales,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fabric test LTE: reduce volume of output,FAB-12525,34770,,Task,Closed,FAB,Fabric,software,denyeart,,,High,Done,AdnanChoudhury,AdnanChoudhury,AdnanChoudhury,18/Oct/18 11:16 PM,19/Oct/18 10:52 PM,28/Oct/23 3:04 AM,19/Oct/18 10:52 PM,,,,,,,,,,,fabric-quality,,,,0,,,,,,The reduced volume of logging messages should help the CI manage the tests better by needing less space.,,AdnanChoudhury,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzvof:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),AdnanChoudhury,,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,true,"19/Oct/18 10:52 PM;AdnanChoudhury;https://gerrit.hyperledger.org/r/#/c/27083/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade to Chaintool v1.1.3,FAB-12526,34771,,Task,Closed,FAB,Fabric,software,denyeart,,,High,Done,sheehan,sheehan,sheehan,18/Oct/18 11:17 PM,27/Nov/19 3:06 AM,28/Oct/23 3:04 AM,20/Oct/18 5:54 AM,,,,,,v1.4.0,,,,,fabric-peer,,,,0,,,,,,The Fabric peer currently uses Chaintool 1.1.1. There are a couple important bug fixes in 1.1.3. There are no new features making this a low risk upgrade.,,denyeart,sheehan,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzvon:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,sheehan,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.3,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"19/Oct/18 9:27 PM;denyeart;[~sheehan] Merged in master.  Did you intend to cherry pick to release-1.3 for inclusion in v1.3.1?  Please either cherry pick or remove v1.3.1 from FixVersion.;;;","20/Oct/18 2:40 AM;sheehan;[~denyeart] - yes, I wanted to cherry pick to release-1.3 for inclusion in v1.3.1. I couldn't use the Gerrit UI to cherry pick due to a merge conflict so I had to use the CLI. Can you confirm this looks correct? https://gerrit.hyperledger.org/r/c/27111/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update level evaluation to use log spec,FAB-12528,34773,34511,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,skarim,wlahti,wlahti,19/Oct/18 12:01 AM,30/Oct/18 7:02 AM,28/Oct/23 3:04 AM,30/Oct/18 7:02 AM,,,,,,,,,,,,,,,0,,,,,,"Loggers shouldn't need to be ""registered"" in order to determine their level. This task will update the Level() logic to evaluate a logger's module name against the current log spec.

Context from the parent item about log specs: 
""The log spec is a single string that consists of colon separated tokens. Each token declares a logger name prefix and a optional log level. When the logger name prefix ends with a period, it indicates that the log level should only apply to the logger with the exact name when the trailing period is dropped. When the logger name pattern is omitted, it specifies the default log level. In cases where multiple entries reference the same name pattern or multiple instances of a default are provided, the last specification takes precedence.

When prefixes are evaluated against logger names, the longest match from the spec will be used.

Examples:
`info` enables all loggers at the info level
`a=debug` enables loggers with names like `a`, `a.b`, or `a.b.c` at the debug level; all other loggers will log at the info level
`a.=debug:warn` enables the logger named `a` at the debug level; all other loggers will be at the warn level
`a.b=debug:a.b.c.=warn` enables loggers with names that start with `a.b` at the debug level except for the one named `a.b.c` which will log at the warn level. All other loggers will log at the info level.
`info:warn` enables all loggers at the warn level
`broken` is rejected as an error and the logging configuration is unchanged. If a bad spec is provided as the process is starting, the process will execute with the default log specification of `info`.""",,skarim,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzvp3:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),skarim,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"19/Oct/18 12:07 AM;skarim;https://gerrit.hyperledger.org/r/c/27084/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
The fabric-test daily jobs are failing as the Nexus pull tag is different.,FAB-12529,34774,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,sambhavdutt,sambhavdutt,sambhavdutt,19/Oct/18 12:25 AM,19/Mar/19 8:13 PM,28/Oct/23 3:04 AM,19/Oct/18 2:48 AM,v1.3.0,,,,,v1.3.0,,,,,fabric-quality,,,,0,ci-failure,,,,,"The pull images and binaries script in fabric-test has ""1.3.0-stable"" tag. The upstream nightly job is publishing the images and binaries to Nexus with ""1.3.1-stable"" tag. 
The tag must be changed to ""1.3.1-stable"" in fabric-test pull script.",,AdnanChoudhury,jtclark,latitiah,rameshthoomu,sambhavdutt,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzvpb:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),AdnanChoudhury,jtclark,latitiah,rameshthoomu,sambhavdutt,scottz,,,,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,true,"19/Oct/18 2:47 AM;sambhavdutt;https://gerrit.hyperledger.org/r/#/c/27085/

CR has been merged;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add the admin grpc server to orderer,FAB-12530,34775,34266,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,huikang,huikang,huikang,19/Oct/18 12:41 AM,28/Nov/18 11:22 PM,28/Oct/23 3:04 AM,28/Nov/18 11:22 PM,,,,,,,,,,,fabric-orderer,,,,0,,,,,,* The RPC definition should be moved out of protos/peer and into protos/common,,huikang,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12842,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzvpj:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),huikang,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"20/Oct/18 12:49 AM;huikang;[Part 1: https://gerrit.hyperledger.org/r/#/c/27099/|https://gerrit.hyperledger.org/r/#/c/27099/]

Part2: https://gerrit.hyperledger.org/r/#/c/27132/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Orderer needs sub-command as the client for the admin grpc client.,FAB-12531,34776,34266,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,huikang,huikang,huikang,19/Oct/18 12:43 AM,28/Nov/18 11:24 PM,28/Oct/23 3:04 AM,28/Nov/18 11:24 PM,,,,,,,,,,,,,,,0,,,,,,"Move away from using the server binaries as CLIs. There is a proper ""fabric CLI"" in development.",,huikang,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12842,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzvpr:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),huikang,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"22/Oct/18 12:25 PM;huikang;https://gerrit.hyperledger.org/r/#/c/27143/;;;","24/Oct/18 11:27 PM;huikang;As discussed with [~yacovm], there is actually no need to extend any existing cli.

 

Once the orderer server creates the admin grpc server, we can reuse the peer command to set/get/revert the log level of the orderer, e.g.,

 

 

CORE_PEER_ADDRESS=orderer:7050 peer logging getlevel orderer.comm 

 

 [~denyeart],  shall we close this sub-task? Thanks.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Validate the local MSP's admin certificates to modify the log level.,FAB-12532,34777,34266,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,huikang,huikang,19/Oct/18 12:44 AM,28/Nov/18 11:24 PM,28/Oct/23 3:04 AM,28/Nov/18 11:24 PM,,,,,,,,,,,,,,,0,,,,,,This may have been included in the admin server. Need to verify and see if we could start from there,,huikang,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzvpz:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),huikang,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
 Configuration in the orderer.yaml and log modules.,FAB-12533,34778,34266,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,huikang,huikang,19/Oct/18 12:44 AM,28/Nov/18 11:25 PM,28/Oct/23 3:04 AM,28/Nov/18 11:25 PM,,,,,,,,,,,,,,,0,,,,,,,,huikang,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzvq7:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),huikang,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Use a separate logger for Step() requests,FAB-12534,34781,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,19/Oct/18 6:40 AM,19/Oct/18 5:09 PM,28/Oct/23 3:04 AM,19/Oct/18 5:09 PM,,,,,,v1.4.0,,,,,,,,,0,,,,,,"The Step() in the cluster is invoked very frequently, and is spamming the logs.

We should use a different module and a different logger instance.",,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzvqv:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"19/Oct/18 7:13 AM;yacovm;https://gerrit.hyperledger.org/r/#/c/27096/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
balance-transfer: Use service discovery,FAB-12535,34782,34101,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,yuki-kon,yuki-kon,yuki-kon,19/Oct/18 7:57 AM,04/Apr/19 3:42 AM,28/Oct/23 3:04 AM,04/Apr/19 3:42 AM,v1.3.0,,,,,v2.0.0,,,,,fabric-samples,,,,0,,,,,,"Make fabric-samples/balance-transfer use service discovery.
As FAB-12174 mentioned, despite the fact that fabric-sdk-node can leverage service discovery, the sample “balance-transfer” is not configured to use it.
To provide the appropriate sample to developers, we need to update the sample.
",,silliman,yuki-kon,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12174,FAB-14784,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzvr3:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),silliman,yuki-kon,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"20/Oct/18 1:19 AM;yuki-kon;CR is here. https://gerrit.hyperledger.org/r/#/c/27098/;;;","04/Apr/19 3:42 AM;yuki-kon;This CR was abandoned because balance-transfer was removed by FAB-14784.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Transient data is returned to the submitting client,FAB-12536,33822,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid: Works as Expected,denyeart,jonathan-blood,jonathan-blood,17/Sep/18 9:31 PM,19/Oct/18 7:38 PM,28/Oct/23 3:04 AM,19/Oct/18 8:23 AM,v1.2.0,,,,,,,,,,,,,,0,,,,,,"When using the transient map to submit private data in a transaction, this data seems to be returned to the submitting client - this, according to the documentation, should not be the case as it results in the private data being submitted to the orderer.

 

The attached Node application prints out the original proposal from the returned ProposalResponseObject which contains the transient private data.",,denyeart,jonathan-blood,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"17/Sep/18 9:27 PM;jonathan-blood;Admin;https://jira.hyperledger.org/secure/attachment/15813/Admin","17/Sep/18 9:18 PM;jonathan-blood;transient_bug.zip;https://jira.hyperledger.org/secure/attachment/15814/transient_bug.zip",,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzr5z:",,,,Unset,Unset,,,"1. Use first network from the Fabric samples to create a network.
2. Install the chaincode from the chaincode directory in the attached archive.
3. Instantiate the chaincode on mychannel using the following command:
peer chaincode instantiate -o orderer.example.com:7050 --tls --cafile $ORDERER_CA -C mychannel -n marblesp -v 1.0 -c '{""Args"":[""init""]}' -P ""OR('Org1MSP.member','Org2MSP.member')"" --collections-config  $GOPATH/src/github.com/chaincode/marbles02_private/collections_config.json
4. Copy Admin@org1.example.com's private key to /tmp/private_data_transient/cryptostore
5. Copy Admin@org1.example.com's certificate to /tmp/private_data_transient/store in the format of the attached Admin file
6. Install the dependencies in the app directory of the attached archive
7. Execute ""node index.js marble1 black 50 joe 500""
8. In the output you will see price500",,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,jonathan-blood,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"03/Oct/18 12:14 AM;denyeart;[~chris.elder] Can you take a look?;;;","19/Oct/18 8:22 AM;denyeart;[~jonathan-blood] From your description you make it sound like the transient field is coming back from peer.  I looked at the node sdk code and that is an incorrect assumption. You are printing:
{code:java}
console.log(results[1].payload.toString('utf8'));{code}
In the response from sendTransactionProposal(request) , results[0] will be the response from the peer, results[1] is a copy of the proposal that the client submitted to chaincode.  So in your log you are simply seeing the transient field that got submitted to peer for chaincode execution.

The transient field will eventually get stripped out when submitting to orderer via sendTransaction().  This line calls buildEnvelope() and passes the results[1] aka chaincodeProposal:

[https://github.com/hyperledger/fabric-sdk-node/blob/release-1.3/fabric-client/lib/Channel.js#L2834]

Then the transient field is stripped out before creating the final chaincodeProposalPayload that will be submitted to ordering:

[https://github.com/hyperledger/fabric-sdk-node/blob/release-1.3/fabric-client/lib/Channel.js#L3073-L3081]

This will then match the hash of the proposal that the peer returned in ProposalResponse, since the peer similarly stripped out transient field when generating the hash, as seen here:

[https://github.com/hyperledger/fabric/blob/release-1.3/protos/utils/txutils.go#L376-L378]

So it looks like everything is working as expected.  I will close the issue.

 ;;;","19/Oct/18 7:38 PM;jonathan-blood;[~denyeart] oops - my mistake, sorry about that! Thank you for taking a look and getting back to me though.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
peer comand [peer chaincode install] return 0 when trying to install existing chaincode to peer,FAB-12540,34786,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,Hangyu_FJH,Hangyu_FJH,Hangyu_FJH,19/Oct/18 4:03 PM,28/Nov/18 5:25 AM,28/Oct/23 3:04 AM,28/Nov/18 5:25 AM,v1.3.0,,,,,v1.4.0,,,,,,,,,0,,,,,,"Currently, when using ""peer chaincode install"" to install an existing chaincode to peers, the return value $? is 0 instead of 1 as expected.

for example:

```

root@ef87959e7ebb:/opt/gopath/src/github.com/hyperledger/fabric/peer# peer chaincode install -n mycc2 -v 1.0 -p github.com/chaincode/chaincode_example02/go
2018-10-19 06:59:32.320 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001 Using default escc
2018-10-19 06:59:32.320 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002 Using default vscc
2018-10-19 06:59:32.471 UTC [chaincodeCmd] install -> INFO 003 Installed remotely response:<status:500 message:""error installing chaincode code mycc2:1.0(chaincode /var/hyperledger/production/chaincodes/mycc2.1.0 exists)"" > payload:""\n @\272\325\253\253\004\252\r\271d\332S\006\327\022\376\007\177\300t\232\007\246\024\254\020\tck\370\3211\022{\032q\010\364\003\022lerror installing chaincode code mycc2:1.0(chaincode /var/hyperledger/production/chaincodes/mycc2.1.0 exists)\""\006\022\004lscc""
root@ef87959e7ebb:/opt/gopath/src/github.com/hyperledger/fabric/peer# echo $?
0

``` ",,denyeart,Hangyu_FJH,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzvrz:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,Hangyu_FJH,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"02/Nov/18 7:44 AM;denyeart;https://gerrit.hyperledger.org/r/#/c/27103/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
The unit-test verify job is failing consistently in deliver_go test.,FAB-12543,34793,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,sambhavdutt,sambhavdutt,19/Oct/18 11:41 PM,19/Mar/19 8:13 PM,28/Oct/23 3:04 AM,23/Oct/18 10:03 AM,v1.4.0,,,,,v1.4.0,,,,,fabric-build,,,,0,ci-failure,,,,,"The verify unit-test jobs are failing consistently with TestImpatientStreamFailure error,

{code:java}
08:46:53 unit-tests_1  | 2018-10-19 12:45:11.705 UTC [test] pullBlocks -> ERRO 0b2 Expected to receive sequence 10 but got 3 instead
08:46:53 unit-tests_1  | 2018-10-19 12:45:11.705 UTC [test] tryFetchBlock -> ERRO 0b3 Failed pulling blocks: got unexpected sequence from 127.0.0.1:44286 - (3) instead of (10)
08:46:53 unit-tests_1  | 2018-10-19 12:45:11.710 UTC [test] fetchLastBlockSeq -> INFO 0b4 127.0.0.1:44286 is at block sequence of 10
08:46:53 unit-tests_1  | 2018-10-19 12:45:11.710 UTC [test] connectToSomeEndpoint -> INFO 0b5 Connected to 127.0.0.1:44286 with last block seq of 10
08:46:53 unit-tests_1  | 2018-10-19 12:45:11.711 UTC [test] obtainStream -> INFO 0b6 Sending request for block 10 to 127.0.0.1:44286
08:46:53 unit-tests_1  | 2018-10-19 12:45:11.712 UTC [test] pullBlocks -> INFO 0b7 Got block 10 of size 0KB from 127.0.0.1:44286
08:46:53 unit-tests_1  | --- FAIL: TestImpatientStreamFailure (0.00s)
08:46:53 unit-tests_1  |     <autogenerated>:1: 
08:46:53 unit-tests_1  |         	Error Trace:	deliver_test.go:881
08:46:53 unit-tests_1  |         	Error:      	An error is expected but got nil.
08:46:53 unit-tests_1  |         	Test:       	TestImpatientStreamFailure
08:46:53 unit-tests_1  |     <autogenerated>:1: 
08:46:53 unit-tests_1  |         	Error Trace:	deliver_test.go:882
08:46:53 unit-tests_1  |         	Error:      	Expected nil, but got: &cluster.impatientStream{waitTimeout:100000000, AtomicBroadcast_DeliverClient:(*orderer.atomicBroadcastDeliverClient)(0xc0004ac990), cancelFunc:(func())(0x10ad6e0)}
08:46:53 unit-tests_1  |         	Test:       	TestImpatientStreamFailure
{code}

*Build Logs*

https://jenkins.hyperledger.org/view/fabric/job/fabric-verify-unit-tests-x86_64/5455/consoleFull

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-unit-tests-x86_64/5455/",,C0rWin,denyeart,rameshthoomu,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,b6e21e9d27ce881a32b4c06865be633de6fbfc79,Unset,No,,,"1|hzzvtb:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),C0rWin,denyeart,rameshthoomu,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Typo in a comment for gossip's function,FAB-12544,34794,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,nnao,nnao,nnao,20/Oct/18 1:41 AM,21/Oct/18 12:20 AM,28/Oct/23 3:04 AM,21/Oct/18 12:20 AM,v1.3.0,,,,,v1.4.0,,,,,fabric-gossip,,,,0,,,,,,"There is a typo in a comment at gossip/state/state.go L621.
I think the function’s name is not GetBlocksInRange but requestBLocksInRange.

{code}
// GetBlocksInRange capable to acquire blocks with sequence
// numbers in the range [start...end).
func (s *GossipStateProviderImpl) requestBlocksInRange(start uint64, end uint64) {
{code}",,nnao,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzvtj:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),nnao,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Mockstub behavior does not match ledger behavior for empty key,FAB-12545,34796,,Bug,Closed,FAB,Fabric,software,denyeart,,,Low,Done,sheehan,sheehan,sheehan,20/Oct/18 6:23 AM,24/Oct/18 4:44 AM,28/Oct/23 3:04 AM,24/Oct/18 4:44 AM,v1.3.0,,,,,v1.4.0,,,,,fabric-ledger,,,,0,,,,,,"See mockstub.go
 # Call stub.PutState(""empty"", []byte{})
 # Call stub.GetState(""empty"")

 

Expected:

Nil should be returned

 

Actual:

An empty value is returned

 

In the actual implementation, setting a key to an empty byte array deletes the key.",,sheehan,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzvtz:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sheehan,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Prep for v1.3 branching of fabric-test,FAB-12546,34798,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,latitiah,latitiah,latitiah,21/Oct/18 12:25 AM,05/Jan/19 2:18 AM,28/Oct/23 3:04 AM,05/Jan/19 2:18 AM,,,,,,,,,,,,,,,0,,,,,,"There are a few items that need to be done when branching fabric-test to v1.3.
 * update the PTE version in the following files (may be done before branching):
 ** tools/ATD/vars/1channel.yml (tag: ""1.3.0"")
 ** tools/ATD/vars/FAB12135.yml (tag: ""1.3.0"")
 * change .gitmodules
** add ""branch = release-1.3"" to each of the repos *minus* cello (until cello releases supporting versions)
* change Makefile
** ""git-latest"" target needs to explicitly pull from the set branch
** fabric replace ""master"" with ""release-1.3""
** ca replace ""master"" with ""release-1.3""
** fabric-chaincode-java replace ""master"" with ""release-1.3""
** (Once we are pulling images successfully for the test runs, we also need to ensure that pullDockerImages.sh pulls the correct images from dockerhub)
* feature/package.json
** change ""unstable"" to ""1.3.0""
* tools/PTE/package.json
** change ""unstable"" to ""1.3.0""
* tools/PTE/README.md
** change ""master"" to ""1.3.0""
* tools/PTE/CITest/README.md
** change ""master"" to ""1.3.0""",,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-13483,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzvuf:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,release-1.3,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,,,,,true,"26/Oct/18 11:32 PM;latitiah;https://gerrit.hyperledger.org/r/#/c/27171/
https://gerrit.hyperledger.org/r/#/c/27131/

There was also a change (in the future, this change should not be necessary on master, but should default to use the latest build in Nexus at all times in master, but should be changed on the corresponding branches:
https://gerrit.hyperledger.org/r/#/c/27205/
* pullDockerImages.sh
   ** add pulling the ""vX.x-stable"" instead of just ""stable""

For adding CI v1.3 jobs:
https://gerrit.hyperledger.org/r/#/c/27186/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Doc update: command reference,FAB-12547,34801,34266,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,huikang,huikang,21/Oct/18 10:48 AM,28/Nov/18 11:25 PM,28/Oct/23 3:04 AM,28/Nov/18 11:25 PM,,,,,,,,,,,,,,,0,,,,,,,,huikang,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzvv3:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),huikang,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update Stable Version and NodeJS in CI scripts of release-1.3 branch,FAB-12548,34803,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,rameshthoomu,rameshthoomu,21/Oct/18 1:06 PM,03/Nov/18 3:27 AM,28/Oct/23 3:04 AM,03/Nov/18 12:10 AM,v1.3.0,,,,,v1.3.0,,,,,fabric-samples,,,,0,,,,,,Update Stable Version and NodeJS in CI scripts of release-1.3 branch,,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzvvj:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"21/Oct/18 1:18 PM;rameshthoomu;https://gerrit.hyperledger.org/r/#/c/27133/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Adapt to orderer node revocation and organization reconfiguration,FAB-12549,34806,,Bug,Unverified,FAB,Fabric,software,denyeart,,,Medium,,,yacovm,yacovm,21/Oct/18 5:05 PM,18/Feb/19 9:39 PM,28/Oct/23 3:04 AM,,,,,,,Future,,,,,fabric-gossip,,,,0,,,,,,"Blocks can enter the peer via several pathways:
 * Pulling the blocks sequentially from the orderer
 * Pulling blocks sequantially from a node via p2p block transfer - this is done when the peer detects it is lagging behind, and is more effective for late peers that join the network than for synchronizing peers that only lack 1 or 2 blocks to have a consecutive set to be committed.
 * Pulling blocks via the pull mechanism - pulls blocks out of band and verifies (signature verification + validation of the CA cert chain) each block separately and not in any particular order.
 * Receiving blocks from other peers via push - here, blocks are also verified out of band, as a peer might receive them out of band.

In case the e-cert root CAs of the orderer(s) changed, a peer might drop legit blocks because it considers them as invalid. Since the peer will eventually get the sequence of the blocks up to that block, and will be able to verify them all - it will eventually re-acquire these blocks via one of the mechanisms above, and will commit the block it considered before as invalid.

 

However - it may be that an orderer has been revoked (or a root CA of an orderer org has been revoked) and then a peer might not detect that revocation and commit a block that is signed by an orderer that it otherwise wouldn't have committed had he received the block after it committed all prior blocks.

 

It might appear at first glance that this is not an issue, because since out of band block dissemination only happens within the same organization, an attack requires a collusion of a peer, because any leader peer - pulls blocks in order and verifies them before committing and gossiping, but - it is not the case. 
 I think that a leader peer might be fooled into disseminating an invalid block despite verifying it, because there is a block reordering buffer between the mechanism that pulls block from the orderer and the block commit goroutine.
 That reorder buffer has ""room"" for up to 200 blocks, and if the block commit is slower than the block pulling, then this buffer would accumulate, and an orderer that has been revoked - can still send blocks to peers that are unaware of the revocation of that orderer, and these blocks would be verified with an old configuration sequence and then forwarded to other peers.

 

We can't use the last config block field, because it may contain an invalid entry:
 A peer might be at height 100, with a last config block of 80, get a block numbered 120 out of band with a last config block field of 80, though the last config block for that block might be 110.

Since configuration blocks are rare in comparison to data blocks, I think an easy but effective solution for this, would be to simply do the following:
 # For each block verified and put into any in-memory buffer in gossip, add a ""validated sequence"" field (the configuration block sequence).
 # At commit, look at the validated sequence field of the block, and the validated sequence field of the last config block (we need to track it).
 If they differ, then re-validate the block being committed.
 # At commit, see if the block that was committed is a configuration block, and increment the validated sequence field.

 Another nice thing to have is to ensure that if an invalid block was received from the orderer, we need to disconnect from that orderer. 
This is important since a block might be verified and be added to the reorder buffer and in hind-sight it should not have been verified. 
In such a case we need to disconnect from the orderer node.

(*)  I think that it's not an issue for Kafka based orderers, since I find it hard to believe that Kafka clusters are actually shared among organizations - thus the orderer nodes also probably belong to the same organization, and also - since we have the [peer boostrapping problem|https://jira.hyperledger.org/browse/FAB-5288] - it's unlikely that users would actually change the ordering nodes.
However I think this needs to be addressed... 

(*) A similar problem exists for p2p state transfer of blocks since it also [adds messages to the reorder buffer|https://github.com/hyperledger/fabric/blob/release-1.3/gossip/state/state.go#L483].
 
(*) This is important for BFT orderer types, since even if we have a multi-signature - nodes might be revoked and replaced by other nodes, and then these nodes might fork the network because the blocks that revoke these nodes are committed too late, and blocks that were produced after these blocks - will be verified incorrectly and be put into the reorder buffer.",,ales,C0rWin,jyellick,mastersingh24,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,ales,C0rWin,jyellick,yacovm,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzvw7:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ales,C0rWin,jyellick,mastersingh24,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"22/Oct/18 6:09 PM;ales;As part of [FAB-12221] we could add block validation to the validator/committer component: this way, validation of block n would occur after block n-1 is committed. If this is true, then we're always validating the block against the latest channel config, and so we should be able to discard any block signed by revoked orderers.;;;","22/Oct/18 6:20 PM;ales;Actually, assuming
* that the validator/committer code path validates block signatures (sequentially, after the previous block was validated and committed); and
* that we are running with a CFT orderer
then I believe there is no attack. The gossip layer may also validate block signatures factoring in reconfigurations as Yacov suggests, but as long as the validator/committer does it, we're good.;;;","22/Oct/18 6:28 PM;yacovm;We're good also if we're running with a BFT orderer, as long as we ensure to verify the block right before it is committed, as in my idea in the JIRA, or during the commit time as you suggested.;;;","23/Oct/18 10:16 AM;jyellick;Agreed, blocks should/must be validated only after all previous blocks have been validated (and if a config block, committed).  This solves the problem for all cases.

As a side note, I think this would also be a good time to validate the blocks chain.  Since the orderers sign blocks, and will not sign an incorrect block, validating the hash chain is redundant.  However, it's still a good idea to ensure that there's not been some fork due to an error in ordering.;;;","23/Oct/18 3:57 PM;yacovm;hash chain validation was added to the ledger in v1.3.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,
Consider config blocks when validating block batches,FAB-12550,34807,34813,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,21/Oct/18 5:55 PM,30/Nov/18 1:39 AM,28/Oct/23 3:04 AM,30/Oct/18 5:15 AM,,,,,,,,,,,,,,,0,,,,,,"The block verification currently uses hash chain validation by verifying the last block and verifying the hash chain of the block batch.
However - if a config block exists in among the blocks -  verifying the hash chain isn't enough. 

 

We should therefore verify the hash chain in the following way:

Given a batch of blocks, we detect the first configuration block in the batch, and if it exists - verify that block.
Then, to verify the config blocks after it - we build a bundle out of that config block, and so on and so forth.

Eventually we always need to verify the last block, but it will be with using verification rules of the last config block found in the block batch.",,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzvwf:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"22/Oct/18 6:17 AM;yacovm;https://gerrit.hyperledger.org/r/#/c/27138/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
enable private data reconciliation,FAB-12551,34809,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,nirro,nirro,nirro,21/Oct/18 8:21 PM,28/Nov/18 10:24 PM,28/Oct/23 3:04 AM,28/Nov/18 10:24 PM,,,,,,v1.4.0,,,,,fabric-gossip,,,,0,,,,,,,,nirro,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-5093,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-5108,,,No,,Unset,No,,,"1|hzzvwv:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),nirro,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"21/Oct/18 9:56 PM;nirro;https://gerrit.hyperledger.org/r/#/c/26293/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add support of Raft cluster reconfiguration,FAB-12552,34810,31897,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,C0rWin,C0rWin,C0rWin,21/Oct/18 8:43 PM,28/Feb/19 7:08 AM,28/Oct/23 3:04 AM,27/Nov/18 4:46 AM,v1.4.0,,,,,v1.4.0,,,,,fabric-orderer,,,,0,,,,,,"Once transaction of configuration update of Type B being propagated, we need to make sure there are no more than single change of consenters set, namely we could either add or remove one node at a time.

After Raft cluster consent on the configuration block leader has to extract configuration update and Propose it for cluster so configuration update will actually take effect on replica set, there is also need to reconfigure communication layer with new nodes.

Raft should not proceed further processing of incoming transactions and writing them to the blocks until configuration update will take place. Hence update of configuration suppose to be blocking procedure.",,C0rWin,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzvx3:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),C0rWin,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"01/Nov/18 7:38 AM;C0rWin;https://gerrit.hyperledger.org/r/#/c/27163/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add ability for multi node Raft UT to apply configuration changes.,FAB-12553,34811,31897,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,C0rWin,C0rWin,C0rWin,21/Oct/18 10:55 PM,24/Nov/18 9:13 PM,28/Oct/23 3:04 AM,24/Nov/18 9:13 PM,v1.4.0,,,,,v1.4.0,,,,,fabric-orderer,,,,0,,,,,,"At the moment multi raft unit test framework doesn't support updates of reconfiguration, because mocking facilities setup to ignore it:

{code}
	configurator := &mocks.Configurator{}
	configurator.On(""Configure"", mock.Anything, mock.Anything)
{code}

where there is a need to replace this mock with logic which would allow to affect mocked communication infrastructure to reflect configuration changes.",,C0rWin,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzvxb:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),C0rWin,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"01/Nov/18 7:37 AM;C0rWin;https://gerrit.hyperledger.org/r/#/c/27238/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As a Fabric OSN administrator, I need a mechanism that allows my newly-onboarded OSN to participate in consensus",FAB-12555,34813,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,22/Oct/18 6:30 AM,22/Jan/19 8:21 AM,28/Oct/23 3:04 AM,22/Jan/19 8:21 AM,,,,,,v2.0.0,,,,,fabric-orderer,,,,0,raft,,,,,"Given a system channel config block, we need a mechanism that:
 * Figures out the channels the cluster node participates in
 * Reaches out to the existing orderer nodes in these channels, and pulls the blocks.

First, we need to implement functionality that pulls blocks from a Raft node. (This will also be used to pull blocks from an OSN for snapshots.) Ideally, the functionality would figure out the heights of all orderer nodes: i.e - h0, h1, h2, h3 and then connect to a random one, but one that has the needed blocks. This ensures that we don't always connect to the leader, but also that we don't connect to an OSN that is too far behind and it might be one that is catching up on its own. In addition, we need to add block verification functionality in this client, and optionally use backward hash validation in chunks - pull some blocks up to a maximum configurable size (say, 10MB by default) and then verify the last block's signature and verify the rest via looking in the previous hash.

Then, the synchronization component will work as follows. Given a config block with a number *N*, the component is going to:
 * Pull the entire system chain starting from genesis, and ending in block *N*, and do hash chain validation during pulling, and make sure the given bootstrapping block *N* has a prev hash that is equal to the pulled block of *N-1* , and so on, down to the genesis block.
 * During that pull, all channel names are going to be collected and returned.
 * For each channel, we're going to connect to all orderer endpoints that are in the system channel in parallel, in order to find some orderer that services that channel. That orderer is going to be used to pull blocks from genesis, up to the last block.
 * Now that we know which orderer endpoints service the channels, we're going to iteratively (for each channel) - pull the chain and commit the blocks in the ledger.
 * Finally, the system channel itself is going to be pulled (once again!), and it would be committed up to the last block.",,jyellick,kchristidis,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-6135,,,No,,Unset,No,,,"1|hzzz4f:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),jyellick,kchristidis,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"25/Oct/18 12:15 AM;jyellick;Edit: I had originally outlined a 'different' approach, which very much missed the point.

For anyone else reading who might similarly miss the point, the problem this is addressing, is that we may not be able to simply 'play the chains', because the set of orderers may have changed, along with TLS CAs etc.

With that context, I agree, this proposal looks good.;;;","25/Oct/18 12:40 AM;yacovm;Thanks [~jyellick]  ! ;;;","26/Oct/18 1:43 AM;kchristidis;Recording this for posterity's sake, based on what we discussed during the scrum call today — a key assumption here is that the administrator of the about-to-be-onboarded OSN trusts the system channel config block that they are given (read: they've done their vetting offline). That is a reasonable assumption.

Assume that we have two OSNs in the cluster already. (Forget about Raft where that number might not make sense.) We now wish to onboard OSN C. C learns of the existence of channel {{foo}} via your proposal and gets different responses from A and B regarding {{foo}} ledger's height. How does C proceed?

I'm not aiming for a gotcha here - we're operating in the CFT domain for the time being. I want to know:
 # How we're proceeding for the time being
 # Whether what we build now can be easily modified to work in the BFT case;;;","26/Oct/18 3:33 AM;kchristidis;On a tangentially related matter —

Part of the functionality covered by Yacov's proposal above is: find out all the channels created so far, along with their OSN endpoints at the time of creation.

Is there a way to expose this functionality (and just this one) to someone with read rights on the system channel?

The hacky way would be to add this info to the metadata of the system chain config blocks, every time a channel is created. But this means that you have a metadata field that can balloon in size, and we're now treating metadata as a kitchen sink. Perhaps make it so that any channel creation creates a new node in the configuration tree? (In both cases a read of the latest configuration block would get us the answer we need.)

[~jyellick]: IIRC Varad had brought up a similar request a while back. Is there a Jira issue that tracks any thoughts on this?;;;","26/Oct/18 4:37 AM;yacovm;{quote}I'm not aiming for a gotcha here - we're operating in the CFT domain for the time being. I want to know:
 # How we're proceeding for the time being
 # Whether what we build now can be easily modified to work in the BFT case{quote}
[~kchristidis] It's a valid question. 
 I'd say, we need to pick some nodes, but be aware of the following corner cases:
 * A node might publish to you (the fresh new node) a block height that no other node has, and then either not respond (byzantine) or crash (failure).
 In such a case, you'll be stuck forever trying to pull blocks. So, a naive *maximum* won't work here.
 * A node might publish to you a block height that is lower than the last config block for the application channel, either because it's byzantine, or just because it was disconnected for a long time and is now catching up with the rest of the cluster, but hasn't caught up yet.
 I argue that if a node was disconnected for a long time and the configuration has changed so much that it can't connect back to the cluster, it needs to return service_unavailable to prevent nodes from taking it into consideration. This way, we make it that if an honest node returns an answer, it means it has connected to the cluster for that application channel, and - that means that if your node is going to pull blocks up to that block height, it will also be able to connect to the cluster, unless the channel admins decide to reconfigure the channel config, which is unlikely because.... you're adding a new node, and it's their responsibility to not interfere with this.
 Therefore we 're only left with the case where a node maliciously sends you a block height that is too low.

Since BFT can only tolerate *f* failures, I'd say that we can do something similar to this:
 Denote the last block sequences of *n=3f+1* nodes as:
 *h1, h2, ... h_n* and assume they are sorted in ascending order.
 We take the block heights with ""slacks"" of *f* nodes from each side, that is - we take the heights of *h_\{f+1}, h_\{f+2}, ... h_\{2f+1}* and pick the ""median"" one, that is - one that has more than *f* heights to its left, and more than *f* heights to its right.

If we have nodes that are unreachable to us, as long as we still have more than *f+1* honest nodes we can reach, it leaves us with *f+1* heights of honest nodes, and *f* heights of malicious nodes, so we'll always have that *1* extra height in the middle that would belong to an honest node.

So, in the extreme case if we are left with *f+1* honest nodes and *f* malicious nodes that we can connect to (let's assume that the existing nodes can connect to each other, but the new node can only connect to *2f+1* nodes, out of which *f* are malicious) - we'll pick the median height and be saved and after we pull the blocks - if we can eventually connect to the rest of the cluster, we can then officially join the cluster as a new node and we won't be forked.

For CFT, I guess we can just take the median one among all nodes.

 

Edit - when I mean block heights, I mean last config block heights. The actual blocks after the config blocks are not interesting as the chains can just pull them when they are initialized.;;;","26/Oct/18 4:46 AM;yacovm;After you get the height, you can just check *2f+1* nodes and get the majority hash, and this is what you trust until that point in time. The missing piece here, is that you have no knowledge of *n* or *f* for the channel...

Denote *F* and *N* as the number of malicious, total nodes for the system channel.
 I claim that all *f* malicious nodes in some application channel are contained in the *F* malicious nodes in the system channel. Otherwise, there is a node that is malicious in an application channel and not in the system channel, and that's not realistic.

Our goal is to derive *n* and *f* from *N* and *F* . 
 Even if we query all *N* nodes, let's say *2F+1* of them respond honest answers, and we ask them of the last config block of the application channel.

At least *2f+1* of them are going to respond honestly, and they are all contained in the *2F+1* nodes. 
 However, a total of *F-f+n* can respond - the nodes in the application channel but also the malicious nodes outside of the application channel, but inside of the system channel.

We can't even do a majority vote, since *n* can be really small in comparison to *N* , i.e - if the application channel has 10 nodes with *F=3* but the cluster has 4 nodes... a majority vote on the application channel would have only 3 correct blocks, and 3 incorrect blocks from the *F* malicious nodes, and 4 (10-3-3) would be ""N/A"" votes that don't count, so it's a tie.

 

I think, that if we can just take the genesis block of the application channel from the system channel, it's secure enough to validate all the signatures from that point onwards, until the last height that is repoted by any node.

So, in BFT - maybe what we need to do, is - just query all the nodes in the system channel for the last config block of the application channel, and then try to pull until the minimum of the block heights, and then pull blocks and verify them with the previous committed config blocks, until we reach a height for which we can't fetch that block from any node, or that every node that returns a block for that height - returns one that cannot be verified.;;;","26/Oct/18 10:27 PM;jyellick;Sorry for being late to the discussion, and hopefully I'm not missing something like in my original comment in this thread, but:

1. Given the latest config block for the orderer system channel, the new orderer may safely pull the entire orderer system channel.

2. As part of pulling the orderer system channel, each orderer may construct the genesis block for each channel.  This is a deterministic operation and uses only data embedded in the orderer system channel.

3. If each application channel is bootstrapped using this 'definitely correct' genesis block, then the orderer may pull blocks from any valid orderer, and use the constructed channel config for that channel to validate the block signatures on the blockchain according to the block validation policy.  As the orderer set for that channel mutates, so does the block validation policy, and therefore there's no need to pull from more than one node (unless the blocks returned do not satisfy this policy).

So where is the problem?  We need the latest orderer system channel config in order to get TLS certs and valid orderer addresses.  But assuming we have those, we should be able to pull the chains and play them forward normally? The key here being that the set of signatures embedded in the block must be correct at a point in time, not according to the latest channel config.;;;","26/Oct/18 11:08 PM;yacovm;{quote} 
so does the block validation policy, and therefore there's no need to pull from more than one node (unless the blocks returned do not satisfy this policy). So where is the problem?
{quote}

The problem is termination. You don't know what is the last config block in the application channel. Let's say that at some point, there was a config change that changed the TLS certificates of the OSNs, and that was the last config change that did it.
When you onboard a new OSN you have to make it pull that config block, else it can't replicate using the chain mechanisms, because the chain mechanisms rely on the communication layer to send you metadata about yourself being late, and what blocks you should pull to catch up, but if the TLS certificates were changed in a config block which you are not aware of, you will reject all TLS handshakes because of TLS pinning is used. 

Therefore you need to know the last config block before you initialize the chain when you onboard.

But, a malicious BFT node might send you config blocks up to an earlier height, and actually not send you the last config block that you need, and you'll be stuck. ;;;","26/Oct/18 11:54 PM;kchristidis;I still don't quite follow, and I think Jason is touching on what I reached out to you for in RC yesterday. (Mainly that if you're OK with the new OSN getting config block X which is not actually the very latest config block, then you _should_ in theory be OK with the new OSN making ends meet with the genesis block for that channel.)

Are we saying that the issue is: we need a config block that is recent enough, in the sense that it records the TLS certificates that correspond to a currently active quorum?;;;","27/Oct/18 12:03 AM;yacovm;Yes, I'm saying that the issue here is TLS certificates in the config block which you never obtain, thus the TLS pinning authentication fails and you can never synchronize with the cluster in the consensus driven way.;;;","27/Oct/18 1:08 AM;kchristidis;Perhaps then the requirement should be that I, as a new OSN administrator, should be given both a recent system channel config block, _and_ a recent config block from all the channels I'm allowed to join?

The usability hit is tremendous, but we avoid the murkiness of how to get a recent-ish config block on the channels we have access to, and the logic on finding which channels we have access to becomes simpler as well.;;;","27/Oct/18 1:19 AM;yacovm;The usability hit isn't tremendous, as we don't do this very often. 
I think for CFT we can go on without, and not require this for now, and when we reach the BFT bridge we'll see how to cross it. 
In any case I certainly see this as a valid solution (receiving all config blocks of application channels).;;;","27/Oct/18 1:24 AM;yacovm;So, for CFT I think we should only have the latest config block of the system channel and the orderer itself will just find some OSN that has the block via querying everyone possible, and obtaining the median of all answers. This is under the assumption that a Raft orderer that can't connect to the cluster, will return service unavailable. 

I am hesitant to require all application channel blocks and I think that if I can go an extra mile to avoid it, it's worth it usability wise.;;;","27/Oct/18 2:46 AM;jyellick;Ah, so this is a problem of ""when do we conclude we're up to date on the channel?"".

The naive/obvious way to me, is to identify the subset of orderers in the orderer system channel which service the channel, then pull from the first until it runs out of blocks, then ask the next to start from the last block the first orderer claimed was the last, and keep going until you've exhausted all orderers.  Probably a little overkill (you'll be hitting N, not f+1), but the cost should be pretty negligible, and nothing out of band.

I think this works because we agreed, all valid orderers must service the orderer system channel?;;;","27/Oct/18 3:27 AM;yacovm;[~jyellick] did you mean this idea to be used for BFT or CFT or both?;;;","27/Oct/18 3:38 AM;jyellick;Both.  In CFT it should be unnecessary, but, the penalty is so small, I see no reason not to.;;;","27/Oct/18 3:58 AM;yacovm;What I'm worried about, is that ""pull from the first until it runs out of blocks"" is not trivial because blocks may form once per batch timeout and then you'll never run out of blocks.
How about just polling all orderer nodes and fetching the last block and seeing what is the last config block index that corresponds to that last block, for CFT? ;;;","27/Oct/18 4:52 AM;jyellick;> What I'm worried about, is that ""pull from the first until it runs out of blocks"" is not trivial because blocks may form once per batch timeout and then you'll never run out of blocks.

The {{Deliver}} service has explicit support for not encountering this problem.  You may specify `NEWEST` as the end block when you connect to deliver.  The deliver service stores the block height at the time of the request, and returns blocks through this number.  So, no new blocks would cause the request to take longer.  Once the target block is reached, it returns a SUCCESS indicating that the deliver request was completed.;;;","27/Oct/18 4:53 AM;kchristidis;bq. How about just polling all orderer nodes and fetching the last block and seeing what is the last config block index that corresponds to that last block, for CFT?

I think that can work. (That block is committed so it's persisted by a quorum. If that entire quorum goes down and the new OSN cannot fetch it, we've got bigger problems.);;;",,,,,,,,,,,,,,
change all usages of CORE_LOGGING_LEVEL,FAB-12556,34814,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,latitiah,scottz,scottz,22/Oct/18 10:44 AM,20/Dec/18 6:54 AM,28/Oct/23 3:04 AM,20/Dec/18 6:54 AM,v1.4.0,,,,,v1.4.0,,,,,fabric-quality,,,,0,,,,,,"A new environment variable (FABRIC_LOGGING_SPEC) has been added, and support for the CORE_LOGGING_LEVEL and log module overrides has been removed, with [https://gerrit.hyperledger.org/r/#/c/27042/] , FAB-12487.

There are many places that use CORE_LOGGING_LEVEL that must also be changed. Some may not be immediately apparent in test results, but should be proactively fixed. I am attaching a list of them from fabtric-test (which also has submodules for some other repositories, so you will also see some instances from fabric, cello, fabric-samples... in the data.) If necessary, we can split this list up into multiple tasks.

Note: the examples in the description of story https://jira.hyperledger.org/browse/FAB-12357 show how to set different levels for individual loggers, for the cases where you don't want to just set everything to one level.",,latitiah,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12487,,,FAB-12645,,,,,,"22/Oct/18 10:43 AM;scottz;core_logging_level_usage_in_fabrictest.txt;https://jira.hyperledger.org/secure/attachment/16153/core_logging_level_usage_in_fabrictest.txt",,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzvxj:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),latitiah,scottz,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-1.4,release-2.5,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,true,"28/Nov/18 12:40 AM;latitiah;Pretty sure this was completed with the completion of FAB-12645.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Test framework for multi-node etcdraft chain is flaky,FAB-12557,34815,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,guoger,guoger,guoger,22/Oct/18 4:35 PM,30/Oct/18 8:44 AM,28/Oct/23 3:04 AM,30/Oct/18 8:44 AM,,,,,,,,,,,fabric-orderer,,,,0,raft,,,,,"in multi-node etcdraft chain tests, we often do:
in a 3-node network: node A, B, C
1. node A is leader
2. disconnect node A
3. elect node B as new leader
4. perform some operations
5. reconnect node A
6. disconnect node B
7. elect node A as leader

However, step 7 is flaky because we need to wait for node A to catch up with missing entries, before we can deterministically elect it. Put differently, if node A is behind node C, C would reject its vote request.

This can be done by asserting storage last index of node A to be equal to node B (ex-leader)",,guoger,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzvxr:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),guoger,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"29/Oct/18 6:50 AM;kchristidis;https://gerrit.hyperledger.org/r/c/27145/7;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fix dev mode,FAB-12558,34816,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,kutenglaoshu,kutenglaoshu,kutenglaoshu,22/Oct/18 6:52 PM,23/Jan/20 7:32 AM,28/Oct/23 3:04 AM,23/Jan/20 7:32 AM,,,,,,,,,,,,,,,0,stale-item,,,,,"Generate TLS certificates for chaincode on local machine, also support windows",,kutenglaoshu,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzvxz:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),kutenglaoshu,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 7:32 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add new Organisation to Existing channel by updating Groups and Policies using Node SDK,FAB-12559,34817,,Task,Closed,FAB,Fabric,software,denyeart,,,High,Won't Do,,narendranath,narendranath,22/Oct/18 7:35 PM,22/Oct/18 7:45 PM,28/Oct/23 3:04 AM,22/Oct/18 7:44 PM,,,,,,,,,,,,,,,0,,,,,,"As of now we can achive this using few scripts with CLI, it will be great if we can do this by using NODE SDK 

If this feature is already available then please mention Node Version else please add this to Road Map ",,narendranath,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzvy7:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),narendranath,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"22/Oct/18 7:45 PM;narendranath;It is possible 

 

https://github.com/hyperledger/fabric-sdk-node/blob/v1.1.1/test/integration/configtxlator.js;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
fabric-test-daily-lte job failed in perf_couchdb FAB_3876b due to Assertion error.,FAB-12560,34818,,Bug,Closed,FAB,Fabric,software,denyeart,,,Highest,Duplicate,AdnanChoudhury,sambhavdutt,sambhavdutt,22/Oct/18 8:38 PM,15/Jul/19 8:29 PM,28/Oct/23 3:04 AM,07/Nov/18 3:50 AM,,,,,,,,,,,fabric-quality,,,,0,ci-failure,,,,,"There was one test case that failed in today's daily run for ledger_lte tests, perf_couchdb, *FAB_3876b* , 

{code:java}
ledger_lte.perf_couchdb.test_FAB_3876b_VaryNumReadsInEachTx (from pytest) 
02:47:39 =================================== FAILURES ===================================
02:47:39 _______________ perf_couchdb.test_FAB_3876b_VaryNumReadsInEachTx _______________
AssertionError: varyNumReadsPerTx for CouchDB performance test failed.  Please check the logfile output_VaryNumReadsPerTx_couchdb.log for more details.

logfile = open(""output_VaryNumReadsPerTx_couchdb.log"", ""w"")
        returncode = subprocess.call(
                ""./runbenchmarks.sh -f parameters_couchdb_daily_CI.sh ""
                ""varyNumReadsPerTx"", shell=True, stderr=subprocess.STDOUT,
                stdout=logfile, cwd=tool_directory)
        logfile.close()
        self.assertEqual(returncode, 0, msg=""varyNumReadsPerTx for CouchDB ""
                ""performance test failed. \nPlease check the logfile ""
>               +logfile.name +"" for more details."")
E       AssertionError: varyNumReadsPerTx for CouchDB performance test failed. 
E       Please check the logfile output_VaryNumReadsPerTx_couchdb.log for more details.

ledger_lte.py:364: AssertionError
{code}

*Build Logs*

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-daily-lte-master-x86_64/62/

https://jenkins.hyperledger.org/view/Daily/job/fabric-test-daily-lte-master-x86_64/62/console",,AdnanChoudhury,rameshthoomu,sambhavdutt,scottz,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12680,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,98446c5b11f1a21c2e5b8b09d3929d3b0157215a,Unset,No,,,"1|hzzvyf:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),AdnanChoudhury,rameshthoomu,sambhavdutt,scottz,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"01/Nov/18 10:27 PM;sambhavdutt;The ledger_lte tests have been failing consistently on master(1.4.0) in all test cases for perf_couchdb  perf_goleveldb  

All test cases failing from commit *a980c8f659051280c4e71f92fc6808ccff49e5d1*


{code:java}
22:53:38 ledger_lte.py::perf_goleveldb::test_FAB_3790_VaryNumParallelTxPerChain FAILED
22:53:44 ledger_lte.py::perf_goleveldb::test_FAB_3795_VaryNumChains FAILED
22:53:52 ledger_lte.py::perf_goleveldb::test_FAB_3798_VaryNumParallelTxWithSingleChain FAILED
22:53:57 ledger_lte.py::perf_goleveldb::test_FAB_3799_VaryNumChainsWithNoParallelism FAILED
22:54:01 ledger_lte.py::perf_goleveldb::test_FAB_3800a_VaryNumWritesInEachTx FAILED
22:54:08 ledger_lte.py::perf_goleveldb::test_FAB_3800b_VaryNumReadsInEachTx FAILED
22:54:12 ledger_lte.py::perf_goleveldb::test_FAB_3801_VaryKVSize FAILED
22:54:16 ledger_lte.py::perf_goleveldb::test_FAB_3802_VaryBatchSize FAILED
22:54:20 ledger_lte.py::perf_goleveldb::test_FAB_3803_VaryNumTxs FAILED
22:54:31 ledger_lte.py::perf_couchdb::test_FAB_3870_VaryNumParallelTxPerChain FAILED
22:54:44 ledger_lte.py::perf_couchdb::test_FAB_3871_VaryNumChain FAILED
22:54:56 ledger_lte.py::perf_couchdb::test_FAB_3872_VaryNumParallelTxWithSingleChain FAILED
22:55:08 ledger_lte.py::perf_couchdb::test_FAB_3873_VaryNumChainWithNoParallelism FAILED
22:55:19 ledger_lte.py::perf_couchdb::test_FAB_3874_VaryKVSize FAILED
22:55:30 ledger_lte.py::perf_couchdb::test_FAB_3875_VaryBatchSize FAILED
22:55:41 ledger_lte.py::perf_couchdb::test_FAB_3876a_VaryNumWritesInEachTx FAILED
22:55:53 ledger_lte.py::perf_couchdb::test_FAB_3876b_VaryNumReadsInEachTx FAILED
22:56:04 ledger_lte.py::perf_couchdb::test_FAB_3877_VaryNumTxs FAILED
{code}

*Build Logs*

https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-lte-master-x86_64/71/console

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-daily-lte-master-x86_64/71/;;;","07/Nov/18 3:49 AM;AdnanChoudhury;closing this as FAB-12680 has the same underlying failure, will track the fix with FAB-12680.
[~sambhavdutt];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As a token infrastructure (peer) developer, I would like to enhance the prover peer service with the ability to accommodate approve proof requests using mock transactor",FAB-12563,34823,34675,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,KaoutarEL,KaoutarEL,KaoutarEL,22/Oct/18 11:06 PM,26/Nov/18 4:36 PM,28/Oct/23 3:04 AM,26/Nov/18 4:36 PM,,,,,,,,,,,fabric-crypto,fabric-peer,,,0,fabtoken,,,,,,,angelo.decaro,KaoutarEL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzvzj:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),angelo.decaro,KaoutarEL,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"26/Nov/18 4:36 PM;angelo.decaro;https://gerrit.hyperledger.org/r/#/c/27063/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
The patch's subject line should be unified,FAB-12565,34826,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,nnao,nnao,nnao,23/Oct/18 9:08 AM,30/Oct/18 11:16 PM,28/Oct/23 3:04 AM,30/Oct/18 11:16 PM,v1.3.0,,,,,v1.4.0,,,,,fabric-docs,,,,0,,,,,,"In fabric documentation, there is a different number about the patch's subject line.
I was asking this issue by email and chat and there are several answers. 
I think that there may be multiple answers but it should be unified.

For now, 50 chars seems to be the majority.

The length is 55 or less
 [https://hyperledger-fabric.readthedocs.io/en/latest/Gerrit/changes.html?highlight=55]

The length is 50 or less
 [https://hyperledger-fabric.readthedocs.io/en/latest/Gerrit/best-practices.html?highlight=50]
 [https://hyperledger-fabric.readthedocs.io/en/latest/CONTRIBUTING.html?highlight=50]",,nnao,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzw07:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),nnao,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"23/Oct/18 11:16 AM;nnao;https://gerrit.hyperledger.org/r/c/27152/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Enabling re-start for fabric-ca in fabric-samples.,FAB-12566,34827,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,nicezic,nicezic,nicezic,23/Oct/18 2:43 PM,07/Jan/19 5:04 PM,28/Oct/23 3:04 AM,07/Jan/19 5:03 PM,,,,,,,,,,,fabric-samples,,,,0,,,,,,"h3. This is fix and improvement of the scripts of fabric-ca in fabric-samples.

 * h4. 1st Issue : When running start.sh again,  it fails to remove data directory.
{code:java}
$ ./start.sh
...
$ ./stop.sh
...
$ ./start.sh
##### 2018-10-23 14:19:21 Cleaning up the data directory from previous run at ./data
rm: cannot remove './data/tls/peer2-org1-cli-client.key': Permission denied
rm: cannot remove './data/tls/peer1-org1-client.crt': Permission denied
rm: cannot remove './data/tls/peer2-org2-client.crt': Permission denied
rm: cannot remove './data/tls/peer2-org1-cli-client.crt': Permission denied
rm: cannot remove './data/tls/peer1-org1-cli-client.crt': Permission denied
rm: cannot remove './data/tls/peer2-org1-client.key': Permission denied
rm: cannot remove './data/tls/peer1-org2-cli-client.key': Permission denied
rm: cannot remove './data/tls/peer1-org2-client.crt': Permission denied
rm: cannot remove './data/tls/peer1-org1-client.key': Permission denied
rm: cannot remove './data/tls/peer2-org2-cli-client.key': Permission denied
rm: cannot remove './data/tls/peer2-org2-client.key': Permission denied
rm: cannot remove './data/tls/peer1-org2-client.key': Permission denied
rm: cannot remove './data/tls/peer1-org2-cli-client.crt': Permission denied
rm: cannot remove './data/tls/peer1-org1-cli-client.key': Permission denied
rm: cannot remove './data/tls/peer2-org2-cli-client.crt': Permission denied
rm: cannot remove './data/tls/peer2-org1-client.crt': Permission denied
rm: cannot remove './data/orgs': Permission denied
{code}
 ** Reason
 *** After running 'start.sh' the permission of the directory, './data',  is 'root:root' in a user's host.  
 *** Docker is usually using root's account. If a docker container makes some files, their ownership will be root, especially in shared volumes.
 ** Way round of avoiding the problem.
 *** a user must have to command 'sudo rm -rf data' in order to remove the dir.
 *** in start.sh script, use 'sudo rm -rf data', instead of 'rm -rf data'
 **** a user has to type the password, but it's not sophisticated.
 **  Suggestion (TODO)
 *** In the stage of preparing the docker containers in the script 'start.sh', add a new file '.host_env' into './data' directory, which is shared volume between the host and the containers.  '.host_evn' file should be filled with host's user-id-number and group-id-number.
 *** In the stage of finishing test through docker's container, the whole files in './data' directory ownership should be changed to the host's one through saved '.host_env' file.

 * h4. 2nd Issue: Jenkins test case does NOT cover the restarting situation.
 ** Suggestion (TODO)
 *** After solving the 1st issue, a stopping and re-starting part should be also included into Jenkins test case.

 ",,nicezic,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,No,Unset,,,,,No,,Unset,No,,,"1|hzzw0f:",,,,No,Unset,,,(Please add steps to reproduce),,Yes,,,,,a stopping and re-starting part should also be included into Jenkins test case.,Unset,,Unset,,(Please add usage information),nicezic,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"07/Jan/19 5:04 PM;nicezic;fabric-ca sample is removed from 1.4.

 ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As a token infrastructure (prover peer) developer, I would like to accommodate requests to list status of a swap",FAB-12569,34830,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,elli-androulaki,elli-androulaki,23/Oct/18 8:42 PM,23/Jan/20 7:32 AM,28/Oct/23 3:04 AM,23/Jan/20 7:32 AM,,,,,,,,,,,fabric-crypto,,,,0,stale-item,,,,,"Here the prover peer is able to accommodate queries on the status of a given swap.

If according to the ledger, the swap status is PENDING, the response should contain the swap description, which terms have been addressed, which terms have not been addressed.

If according to the ledger, the swap has been abandoned, nothing else needs to be returned.",,elli-androulaki,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-11964,,,No,,Unset,No,,,"1|hzzw13:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),elli-androulaki,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 7:32 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
As a token application developer I want to allow for a swap transaction to be created and submitted to the system,FAB-12570,34831,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,elli-androulaki,elli-androulaki,23/Oct/18 8:44 PM,23/Jan/20 7:32 AM,28/Oct/23 3:04 AM,23/Jan/20 7:32 AM,,,,,,,,,,,fabric-crypto,,,,0,stale-item,,,,,Extension to the client wallet library to accommodate atomic swap transaction creation requests.,,elli-androulaki,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-11964,,,No,,Unset,No,,,"1|hzzw1b:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),elli-androulaki,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 7:32 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
As token application developer I want to be able to query the status of a swap,FAB-12571,34832,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,elli-androulaki,elli-androulaki,23/Oct/18 8:46 PM,23/Jan/20 7:32 AM,28/Oct/23 3:04 AM,23/Jan/20 7:32 AM,,,,,,,,,,,fabric-crypto,,,,0,stale-item,,,,,This refers to an extension to client wallet library to allow for a query to be submitted on the prover peer on the status of a given swap.,,elli-androulaki,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-11964,,,No,,Unset,No,,,"1|hzzw1j:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),elli-androulaki,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 7:32 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
IBM Kafka-Zookeeper container stops logging on using non-root user,FAB-12572,34834,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid: Environment Issue,Clayton Sims,rhegde,rhegde,23/Oct/18 11:59 PM,02/Dec/18 8:20 AM,28/Oct/23 3:04 AM,02/Dec/18 8:20 AM,v1.2.1,,,,,,,,,,fabric-orderer,,,,0,,,,,,"{color:#000000}Here is the Kafka Service definition in the docker-compose file:{color}

 
{code:java}
   kafka01clsorder.cit.clsnet:
      image: ibmblockchain/fabric-kafka:1.2.0
      container_name: kafka01clsorder.cit.clsnet
      environment:
        - KAFKA_MESSAGE_MAX_BYTES=103809024 # 99 * 1024 * 1024 B
        - KAFKA_REPLICA_FETCH_MAX_BYTES=103809024 # 99 * 1024 * 1024 B
        - KAFKA_UNCLEAN_LEADER_ELECTION_ENABLE=false
        - KAFKA_BROKER_ID=0
        - KAFKA_MIN_INSYNC_REPLICAS=2
        - KAFKA_DEFAULT_REPLICATION_FACTOR=3
        - KAFKA_ZOOKEEPER_CONNECT=zookeeper01clsorder.cit.clsnet:2181,zookeeper02clsorder.cit.clsnet:2181,zookeeper03clsorder.cit.clsnet:2181
        - KAFKA_LOG_RETENTION_MS=-1
      depends_on:
        - zookeeper01clsorder.cit.clsnet
        - zookeeper02clsorder.cit.clsnet
        - zookeeper03clsorder.cit.clsnet
      ports:
        - '9092'
      volumes:
         - ./mount/kafka01/:/tmp/kafka-logs
         - ./mount/kafka01_opt:/opt/kafka/config
      user: ""10130:1002""
{code}
 

user: ""10130:1002"" is the UID:GID of the non-root user.

docker host mount point are pre-created before running the docker image with permission 755 for user 10130 .

 

Following is seen in the Kafka Logs which points to missing log4j.properties

 
{code:java}
[rhegde@dusd1devrhap040 e2e_cli_v1_ops_kafka_tls]$ docker logs -f kafka01clsorder.cit.clsnet
 mkdir: can't create directory '/opt/kafka/bin/../logs': Permission denied
 OpenJDK 64-Bit Server VM warning: Cannot open file /opt/kafka/bin/../logs/kafkaServer-gc.log due to No such file or directory
log4j:ERROR Could not read configuration file from URL [file:/opt/kafka/bin/../config/log4j.properties].
 java.io.FileNotFoundException: /opt/kafka/bin/../config/log4j.properties (No such file or directory)
         at java.io.FileInputStream.open0(Native Method)
         at java.io.FileInputStream.open(FileInputStream.java:195)
         at java.io.FileInputStream.<init>(FileInputStream.java:138)
         at java.io.FileInputStream.<init>(FileInputStream.java:93)
         at sun.net.www.protocol.file.FileURLConnection.connect(FileURLConnection.java:90)
         at sun.net.www.protocol.file.FileURLConnection.getInputStream(FileURLConnection.java:188)
         at org.apache.log4j.PropertyConfigurator.doConfigure(PropertyConfigurator.java:557)
         at org.apache.log4j.helpers.OptionConverter.selectAndConfigure(OptionConverter.java:526)
         at org.apache.log4j.LogManager.<clinit>(LogManager.java:127)
         at org.slf4j.impl.Log4jLoggerFactory.<init>(Log4jLoggerFactory.java:66)
         at org.slf4j.impl.StaticLoggerBinder.<init>(StaticLoggerBinder.java:72)
         at org.slf4j.impl.StaticLoggerBinder.<clinit>(StaticLoggerBinder.java:45)
         at org.slf4j.LoggerFactory.bind(LoggerFactory.java:150)
         at org.slf4j.LoggerFactory.performInitialization(LoggerFactory.java:124)
         at org.slf4j.LoggerFactory.getILoggerFactory(LoggerFactory.java:412)
         at org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:357)
         at org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:383)
         at org.apache.kafka.common.utils.Utils.<clinit>(Utils.java:75)
         at kafka.Kafka$.getPropsFromArgs(Kafka.scala:44)
         at kafka.Kafka$.main(Kafka.scala:81)
         at kafka.Kafka.main(Kafka.scala)
 log4j:ERROR Ignoring configuration file [file:/opt/kafka/bin/../config/log4j.properties].
 log4j:WARN No appenders could be found for logger (kafka.server.KafkaConfig).
 log4j:WARN Please initialize the log4j system properly.
 log4j:WARN See http://logging.apache.org/log4j/1.2/faq.html#noconfig for more info.
{code}
 

Manually creating ./mount/kafka01_opt and pasting the same to ./mount/kafka01_opt rectifies the logging however this should be created through docker image run of kafka.

+Note+: There are more files that gets created upon running the docker image with root permission. we should review the other configuration files to be generated too when running through non-root user.

Same problem also exist for zookeeper.

 

 

 ",,mastersingh24,rhegde,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzw1r:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),mastersingh24,rhegde,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"02/Dec/18 8:20 AM;mastersingh24;This is specific to IBM produced image and not the Hyperledger image;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
As a developer I need to know the location of the JSON Schema for metadata,FAB-12573,34835,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,mbwhite,mbwhite,24/Oct/18 12:40 AM,07/Dec/18 12:36 AM,28/Oct/23 3:04 AM,07/Dec/18 12:36 AM,,,,,,,,,,,,,,,0,,,,,,"Put the JSONSchema for the meta data to a known location. 

Suggest that this should be within the JSDoc for the chaincode",,mbwhite,SjirNijssen,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FABCN-7,,,No,,Unset,No,,,"1|hzzw1z:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),mbwhite,SjirNijssen,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"07/Dec/18 12:36 AM;mbwhite;This was completed under other work to release the beta.

It is in the root of the api docs. ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As a token application developer I want to have documented the client wallet library for main token operations (issue, transfer, redeem, list)",FAB-12574,34836,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wenjian,elli-androulaki,elli-androulaki,24/Oct/18 12:53 AM,03/Dec/19 3:04 AM,28/Oct/23 3:04 AM,10/Jan/19 3:16 AM,,,,,,,,,,,,,,,0,fabtoken,,,,,,,elli-androulaki,wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-11153,,,No,,Unset,No,,,"1|hzzw27:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),elli-androulaki,wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"10/Jan/19 3:15 AM;wenjian;Document ""token-client-design.docx"" has been uploaded to epic story FAB-11153.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Towards a more durable conceptual foundation for a production grade Fabric,FAB-12575,34837,,Epic,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,SjirNijssen,SjirNijssen,SjirNijssen,24/Oct/18 1:37 AM,20/Dec/21 1:08 PM,28/Oct/23 3:04 AM,23/Jan/20 7:33 AM,,,,,,,,,,,,,,,0,stale-item,,,,,"The assumption is that a production grade Fabric can deal with (in the older language) hundreds of relational tables, or if needed thousands. In such a system a smart contract will only have update functions in a relative small subset of the channel. Hence the proposal is that the set-theoretic union of all (update) smart contracts determine the data structure of the channel ledger. However a smart contract can see (of course if it has the required permission) the data of other channels but can't update the ledger of the other channels. With that structure in place it is possible to have channel based endorsement, smart contract based endorsement and function based endorsement, with the following precedence rules: a function based endorsement overrules the smart contract and channel based endorsement, and a smart contract based endorsement has precedence over the channel based endorsement. This endorsement can then support the roles defined in regulations and this is imo what is needed in production grade manageable systems.  ",,cmgabriel,denyeart,isaacwch,jmason900,joe-alewine,negupta,odowdaibm,pandrejko,SjirNijssen,sykesm,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Available,Unset,Unset,ghx-label-11,,A more durable conceptual foundation,To Do,No,,Unset,No,,,"1|hzzw2f:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),cmgabriel,denyeart,isaacwch,jmason900,joe-alewine,negupta,odowdaibm,pandrejko,SjirNijssen,sykesm,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"24/Oct/18 3:55 AM;SjirNijssen;I would welcome any feedback or suggestions from each of the watchers. Thank you in advance.;;;","24/Oct/18 4:16 AM;jmason900;It would help if you define a concrete use case we can talk to.

When you say endorsement for a smart contract transaction in your discussion I assume you are looking to ""read"" additional data from another smart contract or other data source to approve the transaction proposal ( and NOT update any other data except what that first smart contract can )?

 ;;;","24/Oct/18 5:01 AM;SjirNijssen;Let us frist try to get agreement on the first suggestion of Jim, to add a concrete case. 
We only have to demonstrate that two different functions in one and the same smart contract may need two different set of endorsing parties. Look at fabcar. 
Think of the function transferOwnership where the endorsement is needed from the current owner and the new owner according to the commercial laws in most democracies. 
However when the car is stolen, there is a need of an endorsement of the current owner and the police (in the jurisdiction The Netherlands) and with that available the Insurance Company will pay. 
Hence there may be two functions in the car Smart Contract, transferOwnership and getProofof Theft for the Insurance company. I hope this is sufficient.
In case all endorsements for all functions of a smart contract are the same, the endorsement can be specified at the smart contract level.  ;;;","25/Oct/18 1:30 AM;jmason900;Is this request specifically to support ""granular endorsement levels"" ?? ( eg channel, contract, function or state ??)

I agree with the fabcar example above - endorsement on car.changeOwner requires 2 participants. endorsement on car.stolen requires 2 different participants for endorsement.

Here's an architecture working group paper on Interoperability that breaks down details on consensus. It has some useful input concepts that may apply here:

https://docs.google.com/document/d/16bwxgnJ-mOQ6Vp_eCo0vXhLF3uMzhJ6dV8ZxiVbTZYA/edit#heading=h.u2cdf1y0og9x

 

 ;;;","25/Oct/18 4:09 AM;SjirNijssen;This JIRA is primarily to introduce a conceptual structure that makes a production grade Fabric easier to achieve. Most Enterprise applications have a scope of tens, hundreds and sometimes thousands of the equivalent of relational tables. This means that we need a modular approach to update programs that _*together*_ form the scope of the ledger, and not any longer restricted to the one and only smart contract in the channel. Hence the set-theoretic union of all the update data structures of all the smart contracts associated with a channel determine the scope of the ledger. 
Function based endorsement is not something I have invented, you can read it in nearly every larger regulation and thus we need that in a blockchain system that needs to support the associated regulation based services.
Once you have that available, you have the hierarchy channel, smart contract, function as an endorsment policy option and associated precedence rules. This is one dimension for the endorsement policies. State based endorsement is in a different dimension.
I am happy that you agree with the example of car functions and associated different endorsements per function as this is still not accepted by some Fabric decision makers. 
I will study the paper you suggested and come back after the study. Thanks for the reference.;;;","23/Jan/20 7:33 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,
Handle failover of the leader during reconfiguration of replica set,FAB-12576,34839,31897,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,C0rWin,C0rWin,C0rWin,24/Oct/18 7:14 AM,01/Dec/18 7:52 AM,28/Oct/23 3:04 AM,01/Dec/18 7:52 AM,,,,,,v1.4.0,,,,,,,,,0,,,,,,"Config update of type which makes changes in the membership of Raft replicate set is constructed from two stages where fist replica set consent on configuration block and later leader proposes Raft configuration to receive agreement on new configuration. Once agreed each node applies configuration locally and propagates down to communication layer.

Although there if leader fails while trying to propose Raft configuration new leader should read last committed block and in case it was configuration block initiate proposal of Raft config change, namely new leader has to finish reconfiguration instead failed one. ",,C0rWin,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzw2v:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),C0rWin,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"04/Nov/18 11:19 PM;C0rWin;https://gerrit.hyperledger.org/r/#/c/27350/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Make UTs under package cluster_test more resilient,FAB-12577,34840,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,harsha544,harsha544,harsha544,24/Oct/18 9:48 AM,25/Oct/18 2:54 PM,28/Oct/23 3:04 AM,24/Oct/18 8:54 PM,Future,v1.3.0,v1.4.0,,,Future,v1.4.0,,,,fabric-build,fabric-ci,,,0,,,,,,"Observing the following behavior in sandbox-ci on p-nodes,

??~00:59:10 unit-tests_1 | 2018-10-23 19:25:01.417 UTC [test] func1 -> WARN 430 Unable to obtain connection to 11(127.0.0.1:46693): failed to create new connection: context deadline exceeded~??
??~00:59:10 unit-tests_1 | 2018-10-23 19:25:01.529 UTC [test] func1 -> WARN 431 Unable to obtain connection to 11(127.0.0.1:46693): failed to create new connection: context deadline exceeded~??
??~00:59:10 unit-tests_1 | 2018-10-23 19:25:01.652 UTC [test] func1 -> WARN 432 Unable to obtain connection to 11(127.0.0.1:46693): {color:#de350b}failed to create new connection: context deadline exceeded{color}~??
??~00:59:10 unit-tests_1 | --- FAIL: TestReconnect (1.34s)~??
??~00:59:10 unit-tests_1 | comm_test.go:546:~ ??
??~00:59:10 unit-tests_1 |{color:#de350b} Timed out after 1.014s.{color}~??
??~00:59:10 unit-tests_1 | Error: Unexpected non-nil/non-zero extra argument at index 1:~??
??~00:59:10 unit-tests_1 | {color:#de350b}<*errors.withStack>: failed to create new connection: context deadline exceeded{color}~??
??~00:59:10 unit-tests_1 | FAIL~??
??~00:59:10 unit-tests_1 | coverage: 100.0% of statements~??
??~00:59:10 unit-tests_1 | FAIL github.com/hyperledger/fabric/orderer/common/cluster 1.502s~??
??~00:59:10 unit-tests_1 | ? github.com/hyperledger/fabric/orderer/common/cluster/mocks [no test files]~??

Since default timeout value is < 1 second, we shall bump the default timeout to time.Minute which should provide enough room to execute.",,harsha544,SriramaSharma,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzw33:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),harsha544,SriramaSharma,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"24/Oct/18 1:31 PM;harsha544;[https://gerrit.hyperledger.org/r/27161] - PR;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Fix misspelling of “apporiate""",FAB-12578,34841,,Bug,Closed,FAB,Fabric,software,denyeart,,,Lowest,Done,diizuka,diizuka,diizuka,24/Oct/18 2:29 PM,20/Nov/18 2:11 PM,28/Oct/23 3:04 AM,20/Nov/18 2:11 PM,v1.0.0,v1.1.0,v1.2.0,v1.3.0,,v1.4.0,,,,,,,,,0,,,,,,Fix misspelling of “appropriate” to “appropri,,diizuka,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzw3b:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),diizuka,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Use separate TLS listener for intra-cluster communication,FAB-12579,34842,31897,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,24/Oct/18 5:22 PM,01/Mar/19 10:12 PM,28/Oct/23 3:04 AM,15/Dec/18 1:48 AM,,,,,,,,,,,,,,,0,,,,,,"1) In some deployments, it is expected that the client-facing TLS certificates would be obtained from a public CA such as let's encrypt, and they would be rotated on a frequent basis (i.e-  once every 3 months).

2) Cluster type ordering service nodes use TLS pinning to authenticate one another, on a channel basis. 

It follows from 1+2 that the channel administrators of an ordering service would need to do a config update for every TLS cert rotation of any cluster node, once every certificate lifetime for every channel.

This onus can be lifted by just using different TLS certificates for intra-cluster communication, such as those that are issued by organizational CAs, and would have longer expiration periods. 

This is still safe, because if the private keys of these certificates are compromised, they can be easily ""revoked"" via doing a config update for all channels. 

",,kchristidis,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzw3j:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),kchristidis,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"27/Oct/18 11:00 AM;kchristidis;[~yacovm]: Thanks for coming up with this solution and writing it up. I think we should go for it.;;;","27/Oct/18 9:42 PM;yacovm;All right. I'll put it in the pipeline after my current line of work of FAB-12555;;;","28/Oct/18 12:29 AM;yacovm;I thought it over some more, and I just want to mention that there is another way of solving the problem without having a separate listener, - by tweaking the TLS server and give it a split personality - to have 2 certificates instead of 1, and to return to clients the let's-encrypt certificate and to ordering nodes- the ""other"" certificate.
Currently, the TLS CA certificate pool is computed from the union of the local TLS CA certificates and the channel TLS CA certificates.

The problem is that we can't use let's encrypt certificates for intra-cluster communication, and the idea that I proposed it to have a separate listener. 
But maybe instead of having 2 TLS listeners with different TLS CA certificate pools, why not just combine the TLS CA pool (the let's encrypt CA certs and the organizational orderer CA certs) into a single pool, and just send different TLS certificates based on the client hello (if applicable)?

This is not obvious, as it is not clear how to classify a TLS client certificate as an orderer node certificate in a way that is generic enough for deployments in environments we don't know, as clients and servers may accidentally have TLS certificates issued by the same CA. 

Nevertheless I am still listing this option here, for completeness (or if someone has anything to add/suggest).

[~kchristidis] [~mastersingh24] ;;;","13/Dec/18 2:21 AM;yacovm;https://gerrit.hyperledger.org/r/#/c/28107/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
As token application developer (client) I want to extend client wallet library to allow for direct invocation of Approve,FAB-12581,34845,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,KaoutarEL,elli-androulaki,elli-androulaki,24/Oct/18 7:52 PM,14/Jan/20 12:10 AM,28/Oct/23 3:04 AM,14/Jan/20 12:10 AM,,,,,,,,,,,fabric-crypto,,,,0,fabtoken,stale-item,,,,This refers to the extension of client wallet library to support the creation (through contacting the prover peer) and submission (through transaction submitter) of an Approve token transaction.,,elli-androulaki,KaoutarEL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-11153,,,No,,Unset,No,,,"1|hzzw4n:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),elli-androulaki,KaoutarEL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"26/Nov/18 11:32 PM;KaoutarEL;https://gerrit.hyperledger.org/r/#/c/27459/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
As a token application developer (client) I want to enhance the client operations with TransferFrom functionality,FAB-12582,34846,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,KaoutarEL,elli-androulaki,elli-androulaki,24/Oct/18 7:53 PM,14/Jan/20 12:10 AM,28/Oct/23 3:04 AM,14/Jan/20 12:10 AM,,,,,,,,,,,fabric-crypto,,,,0,fabtoken,stale-item,,,,This refers to the extension of client wallet library to support the creation (through contacting the prover peer) and submission (through transaction submitter) of a TransferFrom token transaction.,,elli-androulaki,KaoutarEL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-11153,,,No,,Unset,No,,,"1|hzzw4v:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),elli-androulaki,KaoutarEL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"26/Nov/18 11:32 PM;KaoutarEL;https://gerrit.hyperledger.org/r/#/c/27490/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
As a token infrastructure developer (prover peer) I would like to allow for processing indirect Approve proof computation requests,FAB-12583,34847,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,elli-androulaki,elli-androulaki,24/Oct/18 7:56 PM,23/Jan/20 7:32 AM,28/Oct/23 3:04 AM,23/Jan/20 7:32 AM,,,,,,,,,,,fabric-crypto,,,,0,stale-item,,,,,This refers to the extension of the components developed within FAB-11965 to allow the prover peer to compute a Token Action using an expectation corresponding to an Approve request. ,,elli-androulaki,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11965,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-12267,,,No,,Unset,No,,,"1|hzzw53:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),elli-androulaki,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 7:32 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
As token infrastructure developer (committing peer) I am able to process transactions with expectation corresponding to Approve requests,FAB-12584,34848,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,elli-androulaki,elli-androulaki,24/Oct/18 7:58 PM,23/Jan/20 7:32 AM,28/Oct/23 3:04 AM,23/Jan/20 7:32 AM,,,,,,,,,,,fabric-crypto,,,,0,stale-item,,,,,"This refers to the extension of the committing peer logic to be able to process combined transactions (i.e., transactions containing endorsement and token actions) that would contain an Approve token action. ",,elli-androulaki,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12714,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-12267,,,No,,Unset,No,,,"1|hzzw5b:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),elli-androulaki,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 7:32 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
As a token infrastructure developer (prover peer) I would like to allow for processing indirect TransferFrom proof computation requests,FAB-12585,34849,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,elli-androulaki,elli-androulaki,24/Oct/18 8:00 PM,23/Jan/20 7:32 AM,28/Oct/23 3:04 AM,23/Jan/20 7:32 AM,,,,,,,,,,,fabric-crypto,,,,0,stale-item,,,,,Prover peer component developed in FAB-11965 should be extended to support computation of a TokenTransaction that contains an indirect TransferFrom request. Notice that in this case Approve requests may need to be extended to allow for delegating the spending of a token to a chaincode.,,elli-androulaki,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11965,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-12267,,,No,,Unset,No,,,"1|hzzw5j:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),elli-androulaki,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 7:32 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
As token infrastructure developer (committing peer) I am able to process transactions with expectation corresponding to TransferFrom requests,FAB-12586,34850,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,elli-androulaki,elli-androulaki,24/Oct/18 8:02 PM,23/Jan/20 7:32 AM,28/Oct/23 3:04 AM,23/Jan/20 7:32 AM,,,,,,,,,,,fabric-crypto,,,,0,stale-item,,,,,"Committing peer logic needs to be enhanced to be able to process combined transactions (i.e., transactions containing an endorsed and token action) with a token action corresponding to a TransferFrom action. Notice that components of FAB-11965 need to be extended.",,elli-androulaki,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-12267,,,No,,Unset,No,,,"1|hzzw5r:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),elli-androulaki,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 7:32 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Query Block by block hash in balance-transfer app in fabric-samples,FAB-12587,34858,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sebastian.paul,sebastian.paul,sebastian.paul,24/Oct/18 11:06 PM,27/Oct/18 12:21 AM,28/Oct/23 3:04 AM,26/Oct/18 12:33 PM,,,,,,,,,,,,,,,0,,,,,,Can't able to query block by block hash in balance transfer app. ,,Ratnakar,sebastian.paul,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzw6n:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),Ratnakar,sebastian.paul,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-6.11.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/tough-cookie-4.1.3,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/semver-6.3.1,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/grpc/grpc-js-1.8.17,dependabot/go_modules/high-throughput/application-go/google.golang.org/grpc-1.53.0,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/word-wrap-1.2.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-and-fabric-network-7.2.4,dependabot/go_modules/asset-transfer-basic/application-go/google.golang.org/grpc-1.53.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"24/Oct/18 11:09 PM;Ratnakar;-https://gerrit.hyperledger.org/r/#/c/27165/-;;;","25/Oct/18 12:58 AM;sebastian.paul;https://gerrit.hyperledger.org/r/#/c/27169/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Golint Error in fabric makes builds fail.,FAB-12588,34859,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,rameshthoomu,vijaypunugubati,vijaypunugubati,25/Oct/18 12:18 AM,19/Mar/19 8:13 PM,28/Oct/23 3:04 AM,12/Nov/18 1:07 AM,v1.0.0,,,,,v1.0.0,,,,,fabric-build,,,,0,ci-failure,,,,,"The Makefile target is failing in fabric. This is failing the end-2-end daily jobs on release-1.0

*Build Log*

[https://jenkins.hyperledger.org/view/Daily/job/fabric-end-2-end-daily-release-1.0-x86_64/225/console]
{code:java}
00:00:37.702 mkdir -p build/image/peer/payload
00:00:37.710 cp build/docker/bin/peer build/sampleconfig.tar.bz2 build/image/peer/payload
00:00:38.381 make[1]: Entering directory '/opt/gopath/src/github.com/hyperledger/fabric/gotools'
00:00:38.381 Building golang.org/x/lint/golint -> golint
00:00:41.772 # golang.org/x/tools/go/internal/gcimporter
00:00:41.772 /opt/gotools/obj/gopath/src/golang.org/x/tools/go/internal/gcimporter/bexport.go:212: obj.IsAlias undefined (type *types.TypeName has no field or method IsAlias)
00:00:41.888 Makefile:47: recipe for target 'gotool.golint' failed 
{code}
 ",,C0rWin,denyeart,rameshthoomu,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,424e959a0c962e98a59dc45b7db33a5f0fb167a6,Unset,No,,,"1|hzzw6v:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),C0rWin,denyeart,rameshthoomu,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,release-1.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"31/Oct/18 1:41 AM;vijaypunugubati;A couple of jobs failing consistently because of lint and these are all the jobs

[https://jenkins.hyperledger.org/view/Daily/job/fabric-nightly-release-job-master-s390x/140/console]

[https://jenkins.hyperledger.org/view/Daily/job/fabric-unit-test-daily-release-1.0-s390x/121/console]

[https://jenkins.hyperledger.org/view/fabric-sdk-node/job/fabric-sdk-node6-verify-release-1.0-s390x/15/console]

[https://jenkins.hyperledger.org/view/fabric-sdk-node/job/fabric-sdk-node6-verify-release-1.0-x86_64/16/console]

[https://jenkins.hyperledger.org/view/fabric-sdk-node/job/fabric-sdk-node8-merge-master-s390x/200/console]

 ;;;","06/Nov/18 1:55 PM;rameshthoomu;[https://gerrit.hyperledger.org/r/#/c/27379/]

disable ""golint"" from release-1.0 temporarily. Will enable later after fix the exact issue.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Instantiating chaincode fail on peer0.org2 on node chaincode test,FAB-12589,34860,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,,vijaypunugubati,vijaypunugubati,25/Oct/18 12:42 AM,19/Mar/19 8:13 PM,28/Oct/23 3:04 AM,25/Oct/18 12:55 AM,v1.3.0,,,,,v1.3.0,,,,,fabric-build,,,,0,ci-failure,,,,,"Instantiating chaincode fail on peer0.org2 on node chaincode test which makes to fail the  fabric-end-2-end-daily-release-1.3-x86_64 and fabric-nightly-release-job-release-1.3-x86_64

Link for the error observed:

[https://jenkins.hyperledger.org/view/Daily/job/fabric-end-2-end-daily-release-1.3-x86_64/31/consoleFull] 
{code:java}
/22:50:37 Instantiating chaincode on peer0.org2...22:50:37 + peer chaincode instantiate -o orderer.example.com:7050 --tls true --cafile /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/ordererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem -C mychannel -n mycc -l node -v 1.0 -c '{""Args"":[""init"",""a"",""100"",""b"",""200""]}' -P 'AND ('\''Org1MSP.peer'\'','\''Org2MSP.peer'\'')'22:50:46 + res=1*22:50:46* + set +x*22:50:46* 2018-10-24 02:50:38.000 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001 Using default escc*22:50:46* 2018-10-24 02:50:38.001 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002 Using default vscc*22:50:46* Error: could not assemble transaction, err proposal response was not successful, error code 500, msg error starting container: error starting container: Failed to generate platform-specific docker build: Error returned from build: 1 ""npm WARN deprecated @types/winston@2.4.4: This is a stub types definition. winston provides its own type definitions, so you do not need this installed.22:50:46 npm ERR! cb() never called!22:50:46 22:50:46 npm ERR! This is an error with npm itself. Please report this error at:22:50:46 npm ERR! < https://github.com/npm/npm/issues >22:50:46 22:50:46 npm ERR! A complete log of this run can be found in:22:50:46 npm ERR! /root/.npm/_logs/2018-10-24T02_50_45_649Z-debug.log*22:50:46* ""22:50:46 !!!!!!!!!!!!!!! Chaincode instantiation on peer0.org2 on channel 'mychannel' failed !!!!!!!!!!!!!!!!22:50:46 ========= ERROR !!! FAILED to execute End-2-End Scenario ===========
{code}
h1.  ",,rameshthoomu,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12318,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,a980c8f659051280c4e71f92fc6808ccff49e5d1,Unset,No,,,"1|hzzw73:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rameshthoomu,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update pipeline scripts in fabric-samples,FAB-12590,34861,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,rameshthoomu,rameshthoomu,25/Oct/18 12:46 AM,12/Nov/18 3:17 PM,28/Oct/23 3:04 AM,12/Nov/18 3:17 PM,,,,,,,,,,,,,,,0,,,,,,Update pipeline scripts in fabric-samples. Send the build notification to RocketChat.,,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzxeo7:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"12/Nov/18 3:16 PM;rameshthoomu;Pipeline changes have been updated in fabric-samples master, release-1.3 and release-1.2 branches. https://gerrit.hyperledger.org/r/#/q/status:merged+project:fabric-samples+topic:pipeline-samples;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Create a simple block puller out of a configuration block,FAB-12591,34862,34813,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,25/Oct/18 1:36 AM,30/Oct/18 5:21 AM,28/Oct/23 3:04 AM,30/Oct/18 5:21 AM,,,,,,,,,,,,,,,0,,,,,,"* No signature verification, just hash chain validation. Signature verification will be added later.
* Extract orderer endpoints and TLS CA certificates and use them as input to the block puller",,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzw7b:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"25/Oct/18 1:38 AM;yacovm;https://gerrit.hyperledger.org/r/#/c/27173/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Create a stats handler for the server with counters,FAB-12592,34863,34516,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,skarim,skarim,skarim,25/Oct/18 1:42 AM,02/Nov/18 10:14 PM,28/Oct/23 3:04 AM,02/Nov/18 10:14 PM,,,,,,,,,,,,,,,0,,,,,,"Create a stats handler for the server that has two counters. One counter keeps track of how many connections have been opened, and the second counter tracks how many connections have been closed.",,skarim,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzw7j:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),skarim,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"25/Oct/18 10:21 AM;skarim;https://gerrit.hyperledger.org/r/c/27182;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Wire in the stats handler to the server and config,FAB-12593,34864,34516,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,skarim,skarim,skarim,25/Oct/18 1:42 AM,02/Nov/18 10:14 PM,28/Oct/23 3:04 AM,02/Nov/18 10:14 PM,,,,,,,,,,,,,,,0,,,,,,,,skarim,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzw7r:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),skarim,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"25/Oct/18 10:21 AM;skarim;https://gerrit.hyperledger.org/r/c/27183/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Reduce overhead of race detection,FAB-12594,34866,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,25/Oct/18 4:47 AM,26/Oct/18 12:39 PM,28/Oct/23 3:04 AM,26/Oct/18 12:39 PM,,,,,,v1.4.0,,,,,,,,,0,,,,,,Use {{GORACE=atexit_sleep_ms=0}} to get rid of the 1s wait that's done in the test binary.,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzw87:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Make upd address and push interval configurable,FAB-12595,34867,34516,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,skarim,skarim,25/Oct/18 5:34 AM,31/Oct/18 10:24 PM,28/Oct/23 3:04 AM,31/Oct/18 10:24 PM,,,,,,,,,,,,,,,0,,,,,,,,skarim,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzw8f:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),skarim,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
CouchDB state database cannot handle key with empty string,FAB-12597,34869,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,,denyeart,denyeart,25/Oct/18 7:05 AM,28/Nov/18 3:20 AM,28/Oct/23 3:04 AM,28/Nov/18 3:20 AM,,,,,,v1.4.0,,,,,fabric-ledger,,,,0,,,,,,"If you try to create a key with an empty string using CouchDB state database, it will fail in commit with error:
{code:java}
panic: error during commit to txmgr: error handling CouchDB request. Error:illegal_docid, Status Code:400, Reason:Document id must not be empty{code}
As chain cannot progress, peer panics.

Fortunately, go chaincode does not allow PutState() on a key with empty string.

Unfortunately, node chaincode has no such check.

statecouchdb ValidateKeyValue() (used on both simulation and validation sides) needs to validate against key with empty string.  Any peer hitting this issue on prior releases will need to reprocess blocks after fix is applied (remove last block file and drop block indexes), so that the transaction with empty string gets invalidated.

Additionally statecouchdb GetState() needs to validate against empty string, as the current behavior allows the query with empty key such as:
{code:java}
http://127.0.0.1:5984/my_db/?attachments=true{code}
[http://127.0.0.1:5984/my_db/?attachments=true]

which is interpreted as the query for the database itself rather than a key query, but the query will end up returning an error in couchdb.go like ""no revision tag detected"" since the database query has no ETag with a revision number (which is expected on key queries).",,denyeart,manish-sethi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Security issue,,,,,,,,,,,,,,,,FAB-12836,,,,,,,,,,,,,,,,,,,,,,manish-sethi,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzw8n:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,manish-sethi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Omit trailing spaces to success CI,FAB-12598,34870,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,diizuka,diizuka,diizuka,25/Oct/18 9:20 AM,04/Dec/18 5:41 AM,28/Oct/23 3:04 AM,04/Dec/18 5:41 AM,v1.1.0,v1.2.0,v1.3.0,,,v1.4.0,,,,,fabric-docs,,,,0,,,,,,"If ASCII-text file which contains trailing white spaces
 is edited and pushed to gerrit, VerifyBuild on CI will fail.

This patch omits trailing white spaces.",,diizuka,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12702,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzw8v:",,,,Unset,Unset,,,"1. There is ASCII-text file which contains trailing white space (i.e. space in end of line), such as CONTRIBUTING.md.
2. Edit the text file.
3. Push the text file to gerrit.
4. CI runs.
5. VerifyBuild fails",,Unset,,,,,,Unset,,Unset,,(Please add usage information),diizuka,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Unused variable in peer/node/start.go,FAB-12599,34872,,Bug,Closed,FAB,Fabric,software,denyeart,,,Low,Done,,huikang,huikang,25/Oct/18 10:49 AM,03/Dec/18 6:12 AM,28/Oct/23 3:04 AM,03/Dec/18 6:12 AM,,,,,,v1.4.0,,,,,fabric-peer,,,,0,,,,,,,,huikang,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzw9b:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),huikang,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"25/Oct/18 10:45 PM;sykesm;[~huikang] this would be more helpful if the variable was reported.

Thanks.;;;","25/Oct/18 10:56 PM;huikang;Hi, Matthew, sorry for missing the details. The variable is `orderingEndpoint`

https://gerrit.hyperledger.org/r/#/c/27187/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
(BACKLOG ) As token infrastructure developer (committing peer) I want to adjust token transaction validation/commit logic to adhere to he refactored committing peer,FAB-12600,34879,,Epic,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,wenjian,elli-androulaki,elli-androulaki,25/Oct/18 6:20 PM,14/Jan/20 12:10 AM,28/Oct/23 3:04 AM,14/Jan/20 12:10 AM,,,,,,,,,,,fabric-peer,,,,0,fabtoken,stale-item,,,,"This is an adjustment of TokenTxProcessor to adhere to the freshly decided interface for transaction processors in FAB-12221 accommodating at least two functions
 * Preprocess() (bool, error) => performs any check that can be done safely assuming read access to the ledger till the previous block, and parallel transaction processing for transactions in the same block
 * Process(state ledger.PublicState) (bool, error) => perform checks that are required to be done in a sequential manner for transactions in the block currently processed, assuming writes of previous transactions are visible; perform also writes

Notice that this interface may change as FAB-12221 evolves. So this item is partially blocked by FAB-12221.

This adjustment should take place for token transactions associated to transfer, issue, redeem (FAB-11144), approve, transferFrom(FAB-12267), and indirect invocations of transfer, issue, redeem (FAB-11965)) and transferFrom (FAB-12267).",,elli-androulaki,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12221,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,ghx-label-1,,Token Validation Refactoring,To Do,No,,Unset,No,,,"1|hzzwa7:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),elli-androulaki,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Revocation Key Generator,FAB-12601,34880,28611,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,angelo.decaro,angelo.decaro,angelo.decaro,25/Oct/18 6:23 PM,12/Jun/20 12:31 AM,28/Oct/23 3:04 AM,10/Nov/18 6:10 PM,,,,,,v1.4.0,,,,,fabric-crypto,,,,0,idemix,review-needed,,,,,,angelo.decaro,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwqfm:o",,,,Unset,Unset,May2018 - Security,To Do,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),angelo.decaro,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"25/Oct/18 6:27 PM;angelo.decaro;https://gerrit.hyperledger.org/r/#/c/27192/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Credential Revocation Information (CRI) Generator,FAB-12602,34883,28611,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,angelo.decaro,angelo.decaro,angelo.decaro,25/Oct/18 9:03 PM,12/Jun/20 12:31 AM,28/Oct/23 3:04 AM,15/Nov/18 9:17 PM,,,,,,v1.4.0,,,,,fabric-crypto,,,,0,idemix,review-needed,,,,,,angelo.decaro,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwqfm:p",,,,Unset,Unset,May2018 - Security,To Do,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),angelo.decaro,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"13/Nov/18 9:52 PM;angelo.decaro;https://gerrit.hyperledger.org/r/#/c/27194/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Implementation of Organization Unit Identifier in peer organisation causes orderer panic and exit,FAB-12603,34884,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Invalid: Works as Expected,,akshay.sood,akshay.sood,25/Oct/18 10:28 PM,16/Nov/18 6:55 PM,28/Oct/23 3:04 AM,16/Nov/18 6:55 PM,v1.3.0,,,,,,,,,,fabric-orderer,fabric-peer,,,1,,,,,,"I am trying to add a new organisation to a peer org {{Org1MSP}}. I modified my {{config.yaml}} file which exist in {{msp}} directory. After modification of file, the content are mentioned below:


{code:java}
OrganizationalUnitIdentifiers:
 - Certificate: cacerts/ca.org1.example.com-cert.pem
   OrganizationalUnitIdentifier: TEST
{code}


After modification, I have generated a genesis.block and channel.tx. I am using docker to bootstrap my network. The issue is when I bootstrap my network, orderer throws an error and exit. Logs of orderer are shown below:

{code:java}
orderer.example.com       | 2018-10-24 22:00:45.704 UTC [msp] satisfiesPrincipalInternalPreV13 -> DEBU 05b Checking if identity satisfies role [CLIENT] for Org1MSP
orderer.example.com       | 2018-10-24 22:00:45.704 UTC [msp] Validate -> DEBU 05c MSP Org1MSP validating identity
orderer.example.com       | 2018-10-24 22:00:45.704 UTC [msp] getCertificationChain -> DEBU 05d MSP Org1MSP getting certification chain
orderer.example.com       | 2018-10-24 22:00:45.704 UTC [msp] getCertificationChain -> DEBU 05e MSP Org1MSP getting certification chain
orderer.example.com       | 2018-10-24 22:00:45.704 UTC [msp] getCertificationChain -> DEBU 05f MSP Org1MSP getting certification chain
orderer.example.com       | 2018-10-24 22:00:45.705 UTC [orderer/commmon/multichannel] newLedgerResources -> PANI 060 Error creating channelconfig bundle: initializing channelconfig failed: could not create channel Consortiums sub-group config: setting up the MSP manager failed: admin 0 is invalid: The identity is not valid under this MSP [Org1MSP]: could not validate identity's OUs: none of the identity's organizational units [[0xc4204e9ad0]] are in MSP Org1MSP
orderer.example.com       | panic: Error creating channelconfig bundle: initializing channelconfig failed: could not create channel Consortiums sub-group config: setting up the MSP manager failed: admin 0 is invalid: The identity is not valid under this MSP [Org1MSP]: could not validate identity's OUs: none of the identity's organizational units [[0xc4204e9ad0]] are in MSP Org1MSP
orderer.example.com       | 
orderer.example.com       | goroutine 1 [running]:
orderer.example.com       | github.com/hyperledger/fabric/vendor/go.uber.org/zap/zapcore.(*CheckedEntry).Write(0xc4200f0630, 0x0, 0x0, 0x0)
orderer.example.com       |     /opt/gopath/src/github.com/hyperledger/fabric/vendor/go.uber.org/zap/zapcore/entry.go:229 +0x4f4
orderer.example.com       | github.com/hyperledger/fabric/vendor/go.uber.org/zap.(*SugaredLogger).log(0xc42017a1e0, 0x4, 0xe14c6d, 0x27, 0xc4204af958, 0x1, 0x1, 0x0, 0x0, 0x0)
orderer.example.com       |     /opt/gopath/src/github.com/hyperledger/fabric/vendor/go.uber.org/zap/sugar.go:234 +0xf6
orderer.example.com       | github.com/hyperledger/fabric/vendor/go.uber.org/zap.(*SugaredLogger).Panicf(0xc42017a1e0, 0xe14c6d, 0x27, 0xc4204af958, 0x1, 0x1)
orderer.example.com       |     /opt/gopath/src/github.com/hyperledger/fabric/vendor/go.uber.org/zap/sugar.go:159 +0x79
orderer.example.com       | github.com/hyperledger/fabric/common/flogging.(*FabricLogger).Panicf(0xc42017a1e8, 0xe14c6d, 0x27, 0xc4204af958, 0x1, 0x1)
orderer.example.com       |     /opt/gopath/src/github.com/hyperledger/fabric/common/flogging/zap.go:74 +0x60
orderer.example.com       | github.com/hyperledger/fabric/orderer/common/multichannel.(*Registrar).newLedgerResources(0xc4202725a0, 0xc420178e60, 0xc420178e60)
orderer.example.com       |     /opt/gopath/src/github.com/hyperledger/fabric/orderer/common/multichannel/registrar.go:256 +0x2ea
orderer.example.com       | github.com/hyperledger/fabric/orderer/common/multichannel.NewRegistrar(0xea36a0, 0xc42000c3a0, 0xc4202567b0, 0xe9b060, 0x15a78b0, 0xc42017a2f0, 0x1, 0x1, 0x0)
orderer.example.com       |     /opt/gopath/src/github.com/hyperledger/fabric/orderer/common/multichannel/registrar.go:142 +0x312
orderer.example.com       | github.com/hyperledger/fabric/orderer/common/server.initializeMultichannelRegistrar(0xc420100580, 0xe9b060, 0x15a78b0, 0xc42017a2f0, 0x1, 0x1, 0x0)
orderer.example.com       |     /opt/gopath/src/github.com/hyperledger/fabric/orderer/common/server/main.go:258 +0x250
orderer.example.com       | github.com/hyperledger/fabric/orderer/common/server.Start(0xdf7a5a, 0x5, 0xc420100580)
orderer.example.com       |     /opt/gopath/src/github.com/hyperledger/fabric/orderer/common/server/main.go:96 +0x226
orderer.example.com       | github.com/hyperledger/fabric/orderer/common/server.Main()
orderer.example.com       |     /opt/gopath/src/github.com/hyperledger/fabric/orderer/common/server/main.go:75 +0x1d6
orderer.example.com       | main.main()
orderer.example.com       |     /opt/gopath/src/github.com/hyperledger/fabric/orderer/main.go:15 +0x20
orderer.example.com exited with code 2
{code}


I am using Hyperledger Fabric v1.3

complete logs can be found here: https://hastebin.com/ujiluvupox.php

Please let me know if you have any suggestion. Any help/comment would be appreciated.

 

 ",,adarshaJha,akshay.sood,angelo.decaro,denyeart,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-5108,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzwg7:",,,,Unset,Unset,,,"1. Use first-network in fabric-samples.
2. Generate cryptographic certificates.
3. Add OrganizationalUnitIdentifier for Org1MSP in config.yaml file presented in MSP directory of Org1
4. Save the file and generate genesis block, channel transaction file.
5. Bootstrap your network using docker and see the logs. Orderer will exit
",,Unset,,,,,,Unset,,Unset,,(Please add usage information),adarshaJha,akshay.sood,angelo.decaro,denyeart,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"25/Oct/18 10:51 PM;denyeart;[~adc] Could you help?;;;","25/Oct/18 11:21 PM;angelo.decaro;[~akshay.sood], have you tried to set CA's OrganisationalUnit in *crypto-config.yaml* like in the following example?
{code:java}
 CA:

    OrganizationalUnit: TEST

{code};;;","25/Oct/18 11:25 PM;akshay.sood;[~angelo.decaro] Not yet. I will try it and close this thread if it worked :);;;","01/Nov/18 2:55 AM;kchristidis;What is the status of this?;;;","16/Nov/18 6:54 PM;akshay.sood;[~kchristidis] It is fixed. Closing;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,
