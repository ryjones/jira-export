Summary,Issue key,Issue id,Parent id,Issue Type,Status,Project key,Project name,Project type,Project lead,Project description,Project url,Priority,Resolution,Assignee,Reporter,Creator,Created,Updated,Last Viewed,Resolved,Affects Version/s,Affects Version/s,Fix Version/s,Fix Version/s,Component/s,Component/s,Due Date,Votes,Labels,Labels,Labels,Labels,Labels,Description,Environment,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Log Work,Log Work,Original Estimate,Remaining Estimate,Time Spent,Work Ratio,Σ Original Estimate,Σ Remaining Estimate,Σ Time Spent,Security Level,Inward issue link (Blocks),Inward issue link (Blocks),Inward issue link (Blocks),Inward issue link (Blocks),Inward issue link (Blocks),Inward issue link (Blocks),Inward issue link (Blocks),Inward issue link (Blocks),Inward issue link (Blocks),Outward issue link (Blocks),Outward issue link (Blocks),Outward issue link (Blocks),Outward issue link (Blocks),Outward issue link (Blocks),Inward issue link (Cloners),Outward issue link (Cloners),Inward issue link (Duplicate),Inward issue link (Duplicate),Outward issue link (Duplicate),Inward issue link (Relates),Inward issue link (Relates),Inward issue link (Relates),Inward issue link (Relates),Inward issue link (Relates),Outward issue link (Relates),Outward issue link (Relates),Outward issue link (Relates),Outward issue link (Relates),Outward issue link (Relates),Outward issue link (Relates),Outward issue link (Relates),Outward issue link (Relates),Outward issue link (Relates),Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Custom field (Business Value),Custom field (Commit Levels),Custom field (Current Status),Custom field (Design),Custom field (Design Status),Custom field (Documentation Impact),Custom field (Documentation Status),Custom field (Epic Color),Custom field (Epic Link),Custom field (Epic Name),Custom field (Epic Status),Custom field (Executed),Custom field (Found in Commit),Custom field (Function Test Status),Custom field (Must Fix),Custom field (Original story points),Custom field (Parent Link),Custom field (Rank),Custom field (Release Note),Custom field (Release Note Required),Custom field (Root Cause Analysis),Custom field (SDK Impact),Custom field (Sample/Tutorial),Sprint,Sprint,Sprint,Sprint,Sprint,Sprint,Sprint,Sprint,Sprint,Sprint,Sprint,Sprint,Sprint,Sprint,Custom field (Steps to Reproduce),Custom field (Story Points),Custom field (System Test Impact),Custom field (Target end),Custom field (Target start),Custom field (Team),Custom field (Team),Custom field (Test Plan),Custom field (Test Result),Custom field (Test Result Details),Custom field (Test Type),Custom field (Triaged),Custom field (Usage),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Workaround),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitCommitsReferenced),Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment
`make images` results in goimports failures,FAB-1,12251,,Bug,Closed,FAB,Fabric,software,denyeart,,,Low,Done,bgorman,bgorman,bgorman,28/Jul/16 2:40 PM,27/Aug/18 9:01 PM,28/Oct/23 2:57 AM,12/Aug/16 10:52 AM,,,,,,,,0,,,,,,"When running `make images` on a cleanly provisioned vagrant VM, I often run into goimports causing fatal errors in the build.

From manually running goimports across some of the files it seems all of the files in ""vendor"" have not been added to the $GOPATH. Goimports seems to assume, if it cannot find the source files, that the package names will be based off the directory name. The go-logging package does not meet this, as its package name is ""logging"". The spf13/viper package is also not found, but uses the expected package name, thus is not removed by goimports.

Short of being able to install the ""vendor"" files into the $GOPATH (I'm not sure if this is desired or not) prior to running goimports, this can be worked around by explicitly labeling go-logging with a custom package name of ""logging"". 

E.g.

import (
    logging ""github.com/op/go-logging""
)

-------------------
build/bin/peer
CGO_CFLAGS="" "" CGO_LDFLAGS=""-lrocksdb -lstdc++ -lm -lz -lbz2 -lsnappy"" GOBIN=/hyperledger/build/bin go install github.com/hyperledger/fabric/peer
Binary available as build/bin/peer
build/bin/membersrvc
CGO_CFLAGS="" "" CGO_LDFLAGS=""-lrocksdb -lstdc++ -lm -lz -lbz2 -lsnappy"" GOBIN=/hyperledger/build/bin go install github.com/hyperledger/fabric/membersrvc
Binary available as build/bin/membersrvc
cd gotools && make
make[1]: Entering directory `/hyperledger/gotools'
make[2]: Entering directory `/hyperledger/gotools'
Building gomega
go get github.com/onsi/gomega
make[2]: Leaving directory `/hyperledger/gotools'
make[1]: Leaving directory `/hyperledger/gotools'
LINT: Running code checks..
Running go vet
go vet ./consensus/...
go vet ./core/...
go vet ./events/...
go vet ./examples/...
go vet ./membersrvc/...
go vet ./peer/...
go vet ./protos/...
Running goimports
The following files contain goimports errors
consensus/controller/controller.go consensus/executor/executor.go consensus/executor/executor_test.go consensus/helper/handler.go consensus/noops/noops.go consensus/pbft/batch.go consensus/pbft/fuzz_test.go consensus/pbft/pbft-core.go consensus/pbft/pbft-core_test.go consensus/util/events/events.go consensus/util/messagefan.go
The goimports command must be run for these files
The following files contain goimports errors
core/admin.go core/chaincode/config.go core/chaincode/handler.go core/chaincode/platforms/golang/hash.go core/chaincode/shim/chaincode.go core/chaincode/shim/shim_test.go core/comm/connection.go core/config/config.go core/config.go core/container/config.go core/container/dockercontroller/dockercontroller.go core/container/dockercontroller/dockercontroller_test.go core/container/inproccontroller/inproccontroller.go core/container/util/dockerutil.go core/container/util/writer.go core/container/vm.go core/crypto/client_tca.go core/crypto/crypto_settings.go core/crypto/crypto_settings_test.go core/crypto/crypto_test.go core/crypto/node_eca.go core/crypto/node_tlsca.go core/db/db.go core/devops.go core/ledger/blockchain_indexes.go core/ledger/genesis/genesis.go core/ledger/ledger.go core/ledger/perf_test.go core/ledger/perfstat/stat_holder.go core/ledger/statemgmt/buckettree/bucket_cache_test.go core/ledger/statemgmt/buckettree/perf_test.go core/ledger/statemgmt/buckettree/state_impl.go core/ledger/statemgmt/commons.go core/ledger/statemgmt/state/state.go core/ledger/statemgmt/trie/state_trie.go core/ledger/test/ledger_suite_test.go core/ledger/testutil/test_util.go core/logging.go core/logging_test.go core/peer/peer.go core/peer/statetransfer/statetransfer.go core/peer/statetransfer/statetransfer_test.go core/rest/api.go core/rest/api_test.go core/rest/rest_api.go core/system_chaincode/api/sysccapi.go core/system_chaincode/config.go
The goimports command must be run for these files
The following files contain goimports errors
events/config.go events/producer/producer.go
The goimports command must be run for these files
The following files contain goimports errors
examples/chaincode/go/asset_management/app/app.go examples/chaincode/go/asset_management/app/app_internal.go examples/chaincode/go/asset_management/asset_management.go examples/chaincode/go/asset_management02/asset_management02.go examples/chaincode/go/asset_management02/asset_management02_test.go examples/chaincode/go/asset_management_with_roles/asset_management_with_roles.go examples/chaincode/go/asset_management_with_roles/asset_management_with_roles_test.go examples/chaincode/go/chaincode_example02/chaincode_example02_test.go examples/chaincode/go/chaincode_example03/chaincode_example03_test.go examples/chaincode/go/chaincode_example04/chaincode_example04_test.go examples/chaincode/go/chaincode_example05/chaincode_example05_test.go examples/chaincode/go/rbac_tcerts_no_attrs/rbac.go examples/chaincode/go/rbac_tcerts_no_attrs/rbac_test.go
The goimports command must be run for these files
The following files contain goimports errors
membersrvc/ca/aca.go membersrvc/ca/aca_test.go membersrvc/ca/eca_test.go membersrvc/ca/ecap.go membersrvc/ca/tca_test.go membersrvc/ca/tcap.go membersrvc/ca/tlsca_test.go
The goimports command must be run for these files
The following files contain goimports errors
peer/main.go
The goimports command must be run for these files
The following files contain goimports errors
protos/init.go
The goimports command must be run for these files
------------------

vagrant@hyperledger-devenv:v0.0.10-0716064:/hyperledger$ goimports -v -d events/config.go
2016/07/28 04:53:21.992158 fixImports(filename=""events/config.go""), abs=""/hyperledger/events/config.go"", srcDir=""/hyperledger/events"" ...
2016/07/28 04:53:21.993427 importPathToNameGoPathParse(""github.com/op/go-logging"", srcDir=""/hyperledger/events"") = """", cannot find package ""github.com/op/go-logging"" in any of:
        /opt/go/src/github.com/op/go-logging (from $GOROOT)
        /opt/gopath/src/github.com/op/go-logging (from $GOPATH)
2016/07/28 04:53:21.994737 importPathToNameGoPathParse(""github.com/spf13/viper"", srcDir=""/hyperledger/events"") = """", cannot find package ""github.com/spf13/viper"" in any of:
        /opt/go/src/github.com/spf13/viper (from $GOROOT)
        /opt/gopath/src/github.com/spf13/viper (from $GOPATH)
2016/07/28 04:53:21.995069 open /opt/gopath/src/.goimportsignore: no such file or directory
2016/07/28 04:53:21.995241 scanning $GOPATH
2016/07/28 04:53:21.995489 scanning $GOROOT
2016/07/28 04:53:22.019560 scanned $GOROOT
2016/07/28 04:53:22.408786 scanned $GOPATH
diff events/config.go gofmt/events/config.go
--- /tmp/gofmt583448441 2016-07-28 04:53:22.443013329 +0000
+++ /tmp/gofmt079091332 2016-07-28 04:53:22.443013329 +0000
@@ -22,7 +22,6 @@
        ""runtime""
        ""strings""

-       ""github.com/op/go-logging""
        ""github.com/spf13/viper""
 )
---------------------------","Windows 7, running vagrant VM with commit level 0716064b25428ea2426fa589db365c419726b24b",bgorman,grapebaba,juliancarrivick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,3600,3600,,0%,3600,3600,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx9yn:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,bgorman,grapebaba,juliancarrivick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/npm_and_yarn/client/moment-timezone-0.5.35,dependabot/npm_and_yarn/client/json5-and-react-scripts-2.2.3,dependabot/npm_and_yarn/client/http-cache-semantics-4.1.1,dependabot/npm_and_yarn/ejs-3.1.7,main,dependabot/npm_and_yarn/moment-2.29.2,dependabot/npm_and_yarn/client/cookiejar-2.1.4,dependabot/npm_and_yarn/sequelize-6.29.0,dependabot/npm_and_yarn/node-fetch-2.6.7,mergify/bp/release-2.2/pr-3750,dependabot/npm_and_yarn/express-4.17.3,dependabot/npm_and_yarn/client/e2e-test/ansi-regex-3.0.1,release-2.5,release-2.4,dependabot/npm_and_yarn/decode-uri-component-0.2.2,dependabot/npm_and_yarn/client/flat-and-wdio/mocha-framework-5.0.2,dependabot/npm_and_yarn/client/express-4.18.2,dependabot/npm_and_yarn/client/e2e-test/jpeg-js-0.4.4,mergify/bp/release-2.2/pr-4374,dependabot/npm_and_yarn/client/json5-1.0.2,dependabot/npm_and_yarn/client/qs-6.5.3,dependabot/go_modules/app/platform/fabric/e2e-test/specs/k8s.io/client-go-0.20.0,dependabot/npm_and_yarn/json5-and-tsconfig-paths-2.2.3,dependabot/npm_and_yarn/client/terser-4.8.1,dependabot/npm_and_yarn/minimist-1.2.6,dependabot/npm_and_yarn/client/decode-uri-component-0.2.2,dependabot/npm_and_yarn/client/loader-utils-and-react-scripts-2.0.4,dependabot/npm_and_yarn/nconf-0.11.4,dependabot/npm_and_yarn/json5-1.0.2,dependabot/npm_and_yarn/jsonwebtoken-9.0.0,dependabot/npm_and_yarn/client/minimist-1.2.6,dependabot/npm_and_yarn/qs-and-body-parser-and-express-6.11.0,dependabot/go_modules/app/platform/fabric/e2e-test/specs/golang.org/x/sys-0.1.0,mergify/bp/release-2.5/pr-3782,dependabot/npm_and_yarn/client/moment-2.29.2,dependabot/pip/docs/babel-2.9.1,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,true,"28/Jul/16 6:49 PM;grapebaba;Yep, I also came across this issue;;;","29/Jul/16 12:23 PM;bgorman;A quick way to test this is `make linter`;;;","29/Jul/16 12:56 PM;bgorman;Submitted a review: https://gerrit.hyperledger.org/r/#/c/325/

If anyone cares to take a look (or fix it in a better manner) that would be welcome.;;;","29/Jul/16 12:58 PM;juliancarrivick;I think the reason for this is that goimports doesn't seem to search the vendors folder for packages.;;;","29/Jul/16 2:23 PM;bgorman;[~juliancarrivick] yeah you're likely right judging by the goimports output. Perhaps GOPATH should be set correctly in scripts/goimports.sh instead?;;;","03/Aug/16 12:31 PM;juliancarrivick;Update - [~bgorman] and I figured out what was going on here. When you are in the vagrant machine and you go to `/hyperledger`, `make linter` will fail with the above error. If you go to `$GOPATH/src/github.com/hyperledger/fabric` and run it then it will pass.

Hence `goimports` expects you to be inside the gopath.;;;","03/Aug/16 12:43 PM;bgorman;Found a way simpler method to resolve this. Rather than trying to enforce the package names == directory names that goimports assumes, we can fix the vendoring behaviour in goimports by using `goimports -srcdir $GOPATH/src/github.com/hyperledger/fabric`;;;","04/Aug/16 9:34 AM;bgorman;Changeset got merged in.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
Identity or token does not match when relogin,FAB-2,12300,,Bug,Closed,FAB,Fabric,software,denyeart,,,Lowest,Done,,zuowang,zuowang,04/Aug/16 11:25 AM,20/Jul/18 11:09 PM,28/Oct/23 2:57 AM,06/Aug/16 11:04 PM,,,,,,,,0,,,,,,"1. login bob
curl -X POST --header ""Content-Type: application/x-www-form-urlencoded"" --header ""Accept: application/json"" -d '{  ""enrollId"": ""bob"",  ""enrollSecret"": ""NOE63pEQbL25"" }' ""http://localhost:7050/registrar""
{""OK"":""Login successful for user 'bob'.""}
2. logout bob
curl -X DELETE --header 'Accept: application/json' 'http://localhost:7050/registrar/bob'
{""OK"":""Deleted login token and directory for user bob.""}
3. relogin bob
curl -X POST --header ""Content-Type: application/x-www-form-urlencoded"" --header ""Accept: application/json"" -d '{  ""enrollId"": ""bob"",  ""enrollSecret"": ""NOE63pEQbL25"" }' ""http://localhost:7050/registrar""
{""Error"":""rpc error: code = 2 desc = \""Identity or token does not match.\""""}
",,mastersingh24,zuowang,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx9yv:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mastersingh24,zuowang,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"06/Aug/16 11:04 PM;mastersingh24;This is actually working as designed.  When you use the REST API to login, what happens is that whichever peer's REST endpoint you are using enrolls with membership services on your behalf (which basically means it registers and downloads all of your enrollment material).  The enrollSecret used for login is actually a one-time password so once you login / enroll one time, you will no longer be able to use that enrollSecret again.

When you logout using the REST API, essentially all that is happening is that your enrollment material is being deleted from that peer (so it is not really a logout in the classic sense).

This stems from the original thought that people would use NVPs as local ""virtual wallets"" to connect to remote fabric nodes.  But the reality is that this is not the strategy going forward and that is what led to the NodeJS SDK which actually does enroll and download your material from mebership services and will allow you to communicate with all peers using that ID not just a single peer like the REST API.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"When only 1 peer is up, `peer network list` is an empty object",FAB-3,12301,,Bug,Closed,FAB,Fabric,software,denyeart,,,Low,Done,jiangyaoguo,juliancarrivick,juliancarrivick,05/Aug/16 9:33 AM,20/Jul/18 11:09 PM,28/Oct/23 2:57 AM,25/Aug/16 11:02 AM,,,,,,,,0,,,,,,"When the peer is the only peer in the fabric {{peer network list}} results in a response of
{noformat}
{}
{noformat}
When one peer is up it responds with
{noformat}
{""peers"":[{""ID"":{""name"":""vp1""},""address"":""172.17.0.6:7051"",""type"":1}]}
{noformat}

I would expect that when it is the only peer, it would respond with 
{noformat}
{""peers"":[]}
{noformat}",Inside peer,jiangyaoguo,juliancarrivick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxa53:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,jiangyaoguo,juliancarrivick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"11/Aug/16 3:23 PM;jiangyaoguo;Is there anyone working on this? If no, I can look into it.;;;","11/Aug/16 3:39 PM;juliancarrivick;Go for it!
If you can, assign the issue to yourself (there should be a button above), otherwise I think I can.;;;","25/Aug/16 9:47 AM;juliancarrivick;I believe this is fixed now?;;;","25/Aug/16 11:02 AM;jiangyaoguo;Yes. This has been fixed by https://gerrit.hyperledger.org/r/#/c/485/. I'm not familiar with JIRA. Change status to Done?;;;","25/Aug/16 11:04 AM;juliancarrivick;Yep! :);;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
peer incorrectly reports internal Docker IP,FAB-4,12302,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,rseeger,ChristopherFerris,ChristopherFerris,10/Aug/16 2:19 AM,20/Jul/18 11:09 PM,28/Oct/23 2:57 AM,11/Aug/16 2:19 AM,,,,,,,,0,discovery,,,,,"
rseeger [12:54 PM]  
Hello -- I have a peer discovery issue. The peers are reporting their internal Docker IPs (172.x.x.x) instead of their external IP addresses, so other peers are unable to connect e.g. here's the info a peer received about peer ID HL2:

```16:49:55.556 [peer] beforePeers -> DEBU 2b4f9 Received PeersMessage with Peers: peers:<ID:<name:""HL2"" > address:""172.17.0.28:7051"" type:VALIDATOR > peers:<ID:<name:""Cisco-hl3"" > address:""172.17.0.2:7051"" type:VALIDATOR >```

Anyone familiar with this particular issue?

rseeger [1:04 PM]  
i.e. 
Peer1 starts up. Peer2 starts up pointing to Peer1's CORE_PEER_DISCOVERY_ROOTNODE external IP. Peer2 says ""Hi, in case anyone asks, my IP is 172.17.41.1"" (wrong). Peer3 starts up also pointing to Peer1's CORE_PEER_DISCOVERY_ROOTNODE external IP and asks for peers. Peer1 says it knows about Peer2 at 172.17.41.1. Peer3 tries to connect to Peer2 at that IP, but times out because that's an internal docker IP on a different machine. (edited)",,bgorman,ChristopherFerris,rseeger,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxa5b:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,bgorman,ChristopherFerris,rseeger,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"10/Aug/16 2:49 AM;rseeger;First peer is started with:

{{docker run -d -it -e CORE_VM_ENDPOINT=http://172.17.42.1:2375 -e CORE_LOGGING_LEVEL=DEBUG -e CORE_PEER_ID=HL1 -e CORE_PEER_ADDRESSAUTODETECT=true -p 7051:7051 hyperledger/fabric-peer peer node start}}

Then we start subsequent peers (on different machines) to point to the external IP of the first (let's say it's 10.20.30.40):

{{docker run -d -it -e CORE_VM_ENDPOINT=http://172.17.0.1:2375 -e CORE_PEER_ID=HL2 -e CORE_PEER_ADDRESSAUTODETECT=true -e CORE_PEER_DISCOVERY_ROOTNODE=10.20.30.40:7051 -e CORE_LOGGING_LEVEL=DEBUG -p 7051:7051 hyperledger/fabric-peer peer node start}}

All the peers can talk to the first one (because the external IP is explicitly specified) but not each other (because they only announce their Docker IPs);;;","10/Aug/16 7:01 AM;rseeger;I think the solution would be to pass the host IP to the docker container (as -e argument), then modify GetLocaIP() to check for that first. The docker-ized peer would then announce the correct IP to the network. I could make a pull request for this if it the correct approach. Thoughts?;;;","10/Aug/16 11:34 AM;bgorman;Turn off autodetection and supply the external IP or hostname manually:
-e CORE_PEER_ADDRESSAUTODETECT=false -e CORE_PEER_ADDRESS=routable.host.name.or.ip:7051;;;","11/Aug/16 2:19 AM;rseeger;Perfect! Thanks;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"During BDD Tests, occassionally when peers get stopped and started they get new IPs",FAB-5,12303,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jeffgarratt,juliancarrivick,juliancarrivick,10/Aug/16 9:52 AM,20/Jul/18 11:09 PM,28/Oct/23 2:57 AM,10/Mar/17 7:51 AM,,,,,,,,0,build-system,discovery,,,,"Every now and then the BDD tests will fail for seemingly unknown reasons that are not related to the delivered patch set. It usually takes the form of a timeout when attempting to verify a transaction occurred after taking down some peers and bring them back up. The test which seems to exhibit it the most is {{@issue 1000 - chaincode example02 with 4 peers and 1 membersrvc, test crash fault}}.

After adding some extra debug statements to the tests it seems the peers, when brought back up get new IP addresses however the old IPs are still retained which means that consensus cannot be reached:
33m04:26:42.673 [peer] ensureConnected -> WARN 6e95[0m Touch service indicates dropped connections, attempting to reconnect...
[36m04:26:42.674 [peer] ensureConnected -> DEBU 6e96[0m Connected to: [172.17.0.40:7051 172.17.0.41:7051]
[36m04:26:42.674 [peer] ensureConnected -> DEBU 6e97[0m Discovery knows about: [172.17.0.34:7051 172.17.0.35:7051 172.17.0.40:7051 172.17.0.41:7051 172.17.0.33:7051]
[36m04:26:42.674 [peer] chatWithPeer -> DEBU 6e98[0m Initiating Chat with peer address: 172.17.0.33:7051
[36m04:26:42.675 [peer] chatWithPeer -> DEBU 6e99[0m Initiating Chat with peer address: 172.17.0.34:7051
[36m04:26:42.675 [peer] chatWithPeer -> DEBU 6e9a[0m Initiating Chat with peer address: 172.17.0.35:7051
...
2016/08/09 04:26:45 grpc: ClientConn.resetTransport failed to create client transport: connection error: desc = ""transport: dial tcp 172.17.0.34:7051: getsockopt: no route to host""; Reconnecting to ""172.17.0.34:7051""
2016/08/09 04:26:45 grpc: ClientConn.resetTransport failed to create client transport: connection error: desc = ""transport: dial tcp 172.17.0.35:7051: getsockopt: no route to host""; Reconnecting to ""172.17.0.35:7051""
2016/08/09 04:26:45 grpc: ClientConn.resetTransport failed to create client transport: connection error: desc = ""transport: dial tcp 172.17.0.33:7051: getsockopt: no route to host""; Reconnecting to ""172.17.0.33:7051""
[31m04:26:45.675 [peer] chatWithPeer -> ERRO 6efd[0m Error creating connection to peer address 172.17.0.33:7051: grpc: timed out trying to connect
[31m04:26:45.675 [peer] chatWithPeer -> ERRO 6efe[0m Error creating connection to peer address 172.17.0.34:7051: grpc: timed out trying to connect
[31m04:26:45.675 [peer] chatWithPeer -> ERRO 6eff[0m Error creating connection to peer address 172.17.0.35:7051: grpc: timed out trying to connect
...
[36m04:26:43.225 [consensus/pbft] ProcessEvent -> DEBU 6ebd[0m Replica 0 view change resend timer expired before view change quorum was reached, resending

Logs from failing scenario attached (compressed because too large).

Ideally, the peers would connect and register using their new IPs, the old ones would be discarded and execution could continue as normal.",Jenkins x86_64 Host,ChristopherFerris,jeffgarratt,juliancarrivick,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,57600,57600,,0%,57600,57600,,,,,,,,,,,,,,,,,,,,,,FAB-268,,,,,,,,,,,,,,"10/Aug/16 9:51 AM;juliancarrivick;Logs.tar.gz;https://jira.hyperledger.org/secure/attachment/10000/Logs.tar.gz",,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx8qf:",,,,,,Sprint 1,Sprint 2,Sprint 3,,,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,jeffgarratt,juliancarrivick,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"10/Aug/16 11:17 PM;rameshthoomu;We had similar issue tracked in github https://github.com/hyperledger/fabric/issues/2346. [~tuand27613] noticed same root cause. Please see his comments in ([https://[github.com/hyperledger/fabric/issues/2346]]). As suggested by Tuan, possible fix is to upgrade docker version to 1.12 in Jenkins otherwise we have to increase the timeout after start peers and invoke transactions.

[~ryjones]: Could you please upgrade docker version to 1.11 or 1.12 in Jenkins build machines?

Docker Version in Jenkins:

13:05:12 + docker version
13:05:12 Client:
13:05:12  Version:      1.8.2
13:05:12  API version:  1.20
13:05:12  Go version:   go1.4.2
13:05:12  Git commit:   0a8c2e3
13:05:12  Built:        Wed Oct  7 17:48:28 UTC 2015
13:05:12  OS/Arch:      linux/amd64
13:05:12 
13:05:12 Server:
13:05:12  Version:      1.8.2
13:05:12  API version:  1.20
13:05:12  Go version:   go1.4.2
13:05:12  Git commit:   0a8c2e3
13:05:12  Built:        Wed Oct  7 17:48:28 UTC 2015
13:05:12  OS/Arch:      linux/amd64;;;","13/Sep/16 1:59 AM;ChristopherFerris;related to FAB-268;;;","10/Mar/17 7:51 AM;jeffgarratt;Marking as done as new behave if coming online shortly.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Making Membership Services much easier to configure,FAB-7,12305,,Story,Closed,FAB,Fabric,software,denyeart,,,Lowest,Done,,JonathanLevi,JonathanLevi,11/Aug/16 3:33 AM,21/Jul/18 3:58 AM,28/Oct/23 2:57 AM,03/Apr/17 11:01 PM,,,WON'T FIX,,,,,0,MembershipServices,Usability,,,,"This Epic combines a set of (much needed!) improvements that are needed in order to make Membership Services easier to configure.

These are needed both statically (e.g., using the membersrvc.yaml file) or dynamically using CLI parameters at launch.
In addition, under the same bracket, while extending the configurability, we should also spend a cycle or two on 'house-cleaning', clearing up some of the tests data, and adding a lot more configuration related 'input validation' steps with clear(er)/informative error messages.

We should append/link more items here as we find them... so everybody, please feel free to pile suggestions/issues on.",,ChristopherFerris,JonathanLevi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-140,FAB-8,FAB-15,FABC-624,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,ghx-label-1,,Membership Services Configuration Improvements ,To Do,,,,,,,"1|hzxas7:",,,,Unset,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,ChristopherFerris,JonathanLevi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"18/Aug/16 5:58 AM;ChristopherFerris;So, ideally, we should establish a set of user stories that articulate an MVP. The focus should be on both operations and developer users. We don't want to raise the bar too high for developers, but we don't want to compromise things for operations.;;;","18/Aug/16 6:17 AM;JonathanLevi;Sure, we can do this, np. It's much easier in some of these cases, so we can start with these.
I'll try to strike the right balance (between technical detail and clarify) - thanks for the feedback.;;;","04/Apr/17 12:12 AM;JonathanLevi;Thank you Chris. I am with you....;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
The ability to specify a (YAML) configuration file from the CLI of Membership Services,FAB-8,12306,,Story,Closed,FAB,Fabric,software,denyeart,,,Lowest,Done,JonathanLevi,JonathanLevi,JonathanLevi,11/Aug/16 3:48 AM,21/Jul/18 3:58 AM,28/Oct/23 2:57 AM,13/Sep/16 3:45 AM,,,WON'T FIX,,,,,0,MembershipServices,Usability,v0.6,,,"Currently, when the {{membersrvc}} binary is called, it expects a/the hardcoded `membersrvc.yaml` file.

I believe that it will be a lot easier both for *deployments* but certainly for *development* and *testing* if one is able to specify (dynamically, when executing/running/launching {{membersrvc}}) a location for the YAML file to use.

I can also see how this can help others when *reporting issues* (as one can simply upload the configuration file as part of the information needed for reproducing an issue/bug).

",,jeroiraz,JonathanLevi,mastersingh24,smithbk,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABC-607,FAB-7,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzxa7z:",,,,Unset,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,jeroiraz,JonathanLevi,mastersingh24,smithbk,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"12/Aug/16 7:51 PM;mastersingh24;The same should actually hold true for all config files used by the system.   Of course eventually certain parts of the config should probably be stored on the blockchain itself (via some type of system chaincode)

;;;","20/Aug/16 3:27 AM;jeroiraz;It's possible to specify *peer* config file path by means of environment variable ""PEER_CFG_PATH"". We could take same approach for membersrvc or it might be better just to use a flag instead

I've also found it necesary in order to remove test users from base yaml file and let them be specified within the scope of behave tests.

I could implement this minor feature if that's ok;;;","20/Aug/16 5:04 AM;JonathanLevi;[~jeroiraz] Yes, I think this minor improvement will be major for FAB-110. Let's pair on this, if you like. I promised/planned to finish/submit it today.

[~grapebaba] Wanted to help with separating the test data FAB-15. Yes, we would like the tests to specify the configuration file (as part of the tests), happy to split these (mainly because it takes forever to run these tests!)

Happy to take the pragmatic approach that [~mastersingh24] suggests and have a quick improvement round, get to the clean the conf files first, and then revisit later if needed.;;;","21/Oct/16 10:07 PM;smithbk;The COP server supports this, so this item can be canceled;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Add a Membership Services ""Basic Troubleshooting Guide""",FAB-9,12307,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,JonathanLevi,JonathanLevi,11/Aug/16 4:16 AM,21/Jul/18 3:58 AM,28/Oct/23 2:57 AM,03/Apr/17 11:02 PM,,,WON'T FIX,,,,,0,Documentation,Usability,v0.6,,,"Seems like we have a set of FAQs or at least a few specific repeated ones... some of these should probably addressed by more examples, tests and documentation, but for starters, we can also list a few of these in one easily accessible location, keep it updated and learn from it.

You can use this guide to help you identify and resolve basic problems you may be experiencing with the various configurations of Membership Services (enabling security, key length, registering more than once, etc...)

Later on, we can extend the basic structure and separate to sections, etc... but it'd be good to start with something as a baseline for improvement.",,JonathanLevi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FABC-699,,,,,,,,,"1|hzxa93:",,,,Unset,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,JonathanLevi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Better TLS support in Fabric,FAB-10,12308,,Epic,Closed,FAB,Fabric,software,denyeart,,,High,Done,,JonathanLevi,JonathanLevi,11/Aug/16 4:36 AM,21/Jul/18 4:09 AM,28/Oct/23 2:57 AM,20/Mar/18 4:48 AM,,,v1.1.0,,fabric-peer,,,3,,,,,,"More often than not, it is suggested that ""this property or the other"" should be handled by the higher (application?) layer. While having a secure end-to-end inter/cross-component secure transport layer is key, it seems as if users disable TLS after a few cryptic error messages when they try to setup and configure TLS correctly - which is the less recommended path.

This Epic is intended to group together a few of the main issues that should get resolved in order to make TLS in Fabric ""great again"". This goes all the way from cipher suit selection, certificate generation/validation, underlying crypto implementation, component configurations all the way to testing, example setups and documentation.

[All, please feel free to add sub items/issues/refer to this Epic, comment, etc.]
",,akm4,ChristopherFerris,corecode,d.zhvakin,denyeart,JonathanLevi,mplisov,troyronda,warm3snow,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-1260,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,Unset,ghx-label-3,,Better TLS support in Fabric,To Do,,,Unset,,,,"1|hzxabj:",,,,Unset,Unset,,,,,,,,,,,,,,,,,,,,,,,,,,,,akm4,ChristopherFerris,corecode,d.zhvakin,denyeart,JonathanLevi,mplisov,troyronda,warm3snow,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"12/Aug/16 12:30 AM;corecode;I did some streamlined TLS setup in my experimental branch for the consensus-peer at <https://github.com/corecode/fabric/tree/separate-consensus/consensus-peer>.  Maybe this helps?;;;","03/Apr/17 11:04 PM;ChristopherFerris;What is the point of this epic if we aren't tracking work against it? I suspect we are not completely there, but none of this is reflected in this epic. Either delete this or update it as appropriate.;;;","03/Apr/17 11:41 PM;JonathanLevi;I completely agree. This is one of the first tickets I opened, as I really wanted to highlight the importance of using TLS in fabric.
Maybe it's my fault for promoting the idea in many discussions (on Slack, etc.) but not marketing this ticket as much - so probably people were not aware of it. Will work on it, thanks.;;;","03/Apr/17 11:57 PM;akm4;There would be great to have an ability to use local cryptographic standarts, like russian GOST. As far as i know, the most convnient way to do it - plug through OpenSSL. Maybe there are other ways with Go, but i am not informed enough. Anyway, this feature will be a real enabler or vice versa a huge problem in promoting Fabric if not imoemented. 

I didn't create a ticket right now, cause it can be a whole story to discuss and to (re-)work. ;;;","04/Apr/17 12:15 AM;JonathanLevi;[~akm4] Why not? ;-)
By all means, please open a JIRA ticket with the/a proposition... does not have to be long, but let's have it somewhere, and see how I and others can help...;;;","04/Apr/17 12:20 AM;akm4;Ok, done;;;","04/Apr/17 12:21 AM;ChristopherFerris;Agreed, this is how it should be;-);;;","09/Apr/17 11:49 PM;ChristopherFerris;I marked this as fixVersion v1.1 because if we are looking at pluggable crypto for TLS that is something post v1.0. I would suggest we make this epic a little clearer as to its intent. Either that or make the linked story an epic and close this one.;;;","01/Jun/17 6:35 AM;ChristopherFerris;[~JonathanLevi] is there a reason this is now marked for v1.0? What work is still being done on this?;;;","01/Jun/17 7:18 AM;JonathanLevi;Nope, good point. Many other TLS-oriented JIRA items were opened (and some got closed) without referencing this Epic. We still need to so some stuff around TLS (some of it was carried out already in 1.0) - I do envision that we'll need for example the underlying FAB-2974 and others around it. Pushed to the next milestone. If we do not re-use JIRA item, e.g., in v1.1 - I will end up simply closing this. Thanks.;;;","20/Mar/18 4:48 AM;denyeart;As of v1.1, TLS and mutual TLS is supported for all components, documented, and used in samples.  Closing this one.  Moved FAB-2974 to a standalone feature.;;;",,,,,,,,,,,,,,,,,,,,,,,
new test epic,FAB-12,12310,,Epic,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,ChristopherFerris,ChristopherFerris,11/Aug/16 4:54 AM,21/Jul/18 4:08 AM,28/Oct/23 2:57 AM,11/Aug/16 4:59 AM,,,WON'T FIX,,,,,0,help-wanted,,,,,blah,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,Unset,ghx-label-5,,foobar,Done,,,Unset,,,,"1|hzxabr:",,,,Unset,Unset,,,,,,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
foobar,FAB-14,12312,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,ChristopherFerris,ChristopherFerris,11/Aug/16 4:56 AM,21/Jul/18 3:58 AM,28/Oct/23 2:57 AM,11/Aug/16 4:58 AM,,,,,,,,0,,,,,,barf,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-12,,,,,,,,,"1|hzxa8n:",,,,Unset,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
membersrvc.yaml should not be polluted with test values,FAB-15,12313,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,grapebaba,JonathanLevi,JonathanLevi,11/Aug/16 5:58 AM,21/Jul/18 3:58 AM,28/Oct/23 2:57 AM,11/Apr/17 7:55 AM,,,WON'T FIX,,,,,0,,,,,,"Moved over from [issue-2169|https://github.com/hyperledger/fabric/issues/2169]",,grapebaba,JonathanLevi,mastersingh24,nickgaski,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-7,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzxac7:",,,,Unset,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,grapebaba,JonathanLevi,mastersingh24,nickgaski,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"16/Aug/16 2:48 AM;mastersingh24;should we combine FAB-15 and FAB-7 ?  I think the overarching theme is that we need to make membership services much easier to configure;;;","17/Aug/16 1:40 PM;JonathanLevi;[~mastersingh24] Yes, let's do it. I'll re-use 15 for porting another related issue, and link it to FAB-7.;;;","26/Aug/16 3:49 PM;grapebaba;[~JonathanLevi]let us talk on slack;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Provide the ability to allow the developer to change the current hashed string chaincode name to something meaningful to them.,FAB-18,12316,,Epic,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,xiejunan,markparz,markparz,12/Aug/16 12:17 AM,21/Jul/18 4:08 AM,28/Oct/23 2:57 AM,03/May/17 12:25 AM,,,,,,,,1,chaincode,questionable,,,,"STORY: Developer wants to be able to name their chaincode to something meaningful and easy to read so that she can speed up development, debugging, upgrading and be less error prone by eliminating copy/paste required.

Human readable CC address alias

Description

What we have today is a low level unique identifier for chaincode, which is generated and returned by the fabric automatically(i.e. a hash string). This is impossible to read. It would be much better if the hash string can be mapped to a human readable alias. I'd venture to say most developers do a copy/paste currently to refer to the chaincode during development, which can be error prone. 
",,ChristopherFerris,jiangyaoguo,markparz,muralisr,xiejunan,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,Unset,ghx-label-4,,Chaincode ID / Human readable chaincode,To Do,,,Unset,,,,"1|hzxadj:",,,,Unset,Unset,,,,,,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,jiangyaoguo,markparz,muralisr,xiejunan,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"12/Aug/16 12:24 AM;markparz;This is being moved over from the old github repo. [https://github.com/hyperledger/fabric/issues/1077](Issue 1077)

@bksmith (Keith Smith) mentioned the following:
The way in which cloud foundry handles this is that each object in the system has 3 things:
1) name, 2) type, and 3) guid. The name and type are of course provided by the object creator and the guid is generated like a hash.
At any point in time, the combination must be unique, while guids are globally unique across time. So if an object with name=foo and type=bar is created, deleted, and recreated, it's 2nd instance will have a different guid even if the contents are identical.
Objects can be retrieved by name & type ... or by guid.
This design has worked well for cloud foundry / bluemix as it enables someone to reference a specific object in time by using it's guid as well as referencing it by name in case it is deleted and recreated, or simply updated.

I will be closing issue 1077;;;","18/Aug/16 4:54 PM;jiangyaoguo; Surely this is a very helpful feature.  but if the alias name is not unique, how do we handle multiple chaincodes with same name When invoke or query chaincode by alias name?  In view of  chaincode can't be deleted, name duplication will be frequent.;;;","18/Aug/16 11:06 PM;markparz;[~jiangyaoguo] Absolutely great comment which we need to have a Story added to verify we check for duplication. ;;;","22/Aug/16 6:27 PM;xiejunan;good idea. To do duplication check, alias name can be saved to DB, and a chaincode sub command (eg. peer chaincode list)  to show all chaincodes in the ledger,  this command can be used by chaincode deployer to choose a new alias name. ;;;","23/Aug/16 12:01 PM;xiejunan;in consensus process,  a duplicate named chaincode will throw a failure message to tell the deployer to use a new alias name.;;;","23/Aug/16 12:48 PM;xiejunan;[~ibmmark] [~ChristopherFerris]  Is the feature necessary? i will try to do it.;;;","23/Aug/16 11:43 PM;markparz;[~xiejunan] This item has been a very common request by the community. Sounds great, please assign to yourself and have at it. Thank you very much. ;;;","24/Aug/16 12:11 AM;muralisr;Hi [~JunanXie] thanks for signing up! This story is likely to change a bit give the new architecture. Can slack me and we can discuss further please ?;;;","09/Apr/17 11:53 PM;ChristopherFerris;I'm guessing that this is defunct and should be closed as WONTFIX as it is no longer relevant. Same for the linked stories/tasks. [~muralisr] [~markparz];;;","02/May/17 10:55 AM;muralisr;[~ChristopherFerris] We have fixed this and users are now used to providing name when installing, instantiating and invoking chaincode.  Is ""Done"" more appropriate than ""WONTFIX"" ...or we can consider ""WONTFIX"" as an alternative to FIXED-ELSEWHERE.

But either works for me.;;;","03/May/17 12:25 AM;markparz;I agree, this was done... it was an old #18 that got lost...;;;","03/May/17 12:25 AM;markparz;marked as Done;;;",,,,,,,,,,,,,,,,,,,,,,
Certain hashes should be reliably decomposable and introspectable #748,FAB-19,12317,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid,,Clayton Sims,Clayton Sims,12/Aug/16 12:35 AM,01/May/19 2:32 AM,28/Oct/23 2:57 AM,01/May/19 2:32 AM,,,,,,,,0,questionable,,,,,"Copied from https://github.com/hyperledger/fabric/issues/748.

Summary:
Previous discussions have resulted in a decent foundation for providing trust in a network of chaincode. For instance, chaincode IDs are formed, in part, by hashing the underlying code. While this notion is critically important for certain use cases, it only becomes fully useful if the resulting hash can actually be traced back to the source for parties that may be interested in actually verifying an endpoint. In order to do that, there needs to be a few things:

1) a formal specification for how the chaincodeID is composed.
2) a query interface to allow an interested party to optionally ask for the decomposition.

Today, we form a chaincodeID by taking a few things such as the chaincode path, the ctor args, and a hash of the code, and hashing them together as a binary tuple. Technically, we could formally specify this schema to satisfy (1). However, it is suggested that something that provides schema management be used instead such that applications may pick and chose which fields they care about, ignore the ones they don't, and yet still be able to verify a hash.

Example: If we used a JSON document rather than the binary tuple, the specification could simply be chaincodeID=sha3(json), where json={""chaincode-hash"":XXXXX, ""path"":YYYY, ""ctor-args"":ZZZZ, ... }, and a call like HTTP GET /chaincode/$id/decomposition could return the json. An application could then do validation on the fields they care about (probably primary ""chaincode-hash"") and yet still verify that the resulting chaincodeID is related by hashing the json document themselves.

I am partial to protobufs over raw JSON as far as schema declarations are concerned, but I am flexible as long as the basic criteria outlined above could be met.

",,Clayton Sims,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-18,,,,,,,,,"1|hzxadr:",,,,Unset,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,Clayton Sims,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Prototype NS+UC interaction ,FAB-21,12319,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,muralisrini,Clayton Sims,Clayton Sims,12/Aug/16 12:48 AM,20/Jul/18 11:09 PM,28/Oct/23 2:57 AM,11/Apr/17 9:50 PM,,,v0.6,WON'T FIX,,,,0,,,,,,,,ChristopherFerris,Clayton Sims,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-18,,,,,,,,,"1|hzxab3:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,Clayton Sims,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"16/Aug/16 11:28 PM;mastersingh24;what does this mean?;;;","11/Apr/17 9:50 PM;ChristopherFerris;closing for lack of activity and time it was created.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Ability to manage and modify chaincode,FAB-22,12320,,Story,Closed,FAB,Fabric,software,denyeart,,,High,Done,,markparz,markparz,12/Aug/16 12:48 AM,21/Jul/18 3:58 AM,28/Oct/23 2:57 AM,11/Apr/17 7:34 AM,,,WON'T FIX,,,,,1,chaincode,,,,,"Developer must have the ability to manage the lifecycle of their chaincode, from beginning to end. So that they can modify, apply fixes and migrate her chaincode.

Chaincode lifecycle management

Description
Provide a way to manage chaincode lifecycle. Need for basic support of scenarios such as modify deployed chaincode, migration of chaincode (and activities such as backup of data related to it) etc. 

We may also want to consider version support as part of this effort. Users can then start different versions of a chaincode but access the same data.This would go hand in hand with migration, maintenance, etc.

Justification
Developer: can modify deployed chaincodes ",,binhn,grapebaba,markparz,nextisd,warm3snow,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,ghx-label-6,FAB-810,Chaincode lifecycle management,To Do,,,,,,,"1|hzxadz:",,,,Unset,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,binhn,grapebaba,markparz,nextisd,warm3snow,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"25/Oct/16 3:43 AM;binhn;Move to graveyard FAB-810;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As an application developer, I want to provide friendly name to identify a chain code, so I can more easily manage and debug chain code.",FAB-23,12321,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,muralisr,Clayton Sims,Clayton Sims,12/Aug/16 1:52 AM,21/Jul/18 3:58 AM,28/Oct/23 2:57 AM,08/Nov/16 6:02 AM,,,,,fabric-peer,,,0,chaincode,Endorser,,,,"As an application developer, I want to provide friendly name to identify a chain code, so I can more easily manage and debug chain code.",,Clayton Sims,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-18,,,,,,,,,"1|hzxa4f:",,,,Unset,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,Clayton Sims,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"01/Nov/16 10:28 AM;muralisr;The Life Cycle System Chaincode (LCCC) maps unique chaincode names to other chaincode properies such as Version and deployment spec using chaincode state variables.

LCCC also provides a simple and powerful mechanism to manage names 
* ledger state to manage the chaincode instead of getting it from a block in the blockchain (which is what 0.5 did)
* check uniqueness of deployment using unique chaincode name

With these we no longer need to depend upon generated hash to provide uniqueness. We may still use hash to restrict duplicate deployments of the same code but using different names in a separate story.

*Also we will disallow some characters in chaincode name for use in future support for namespaces. Currently these characters are ""/[]{}$:""*;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Resurrect Uber chaincode (UC),FAB-24,12323,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,muralisrini,Clayton Sims,Clayton Sims,12/Aug/16 2:02 AM,20/Jul/18 11:09 PM,28/Oct/23 2:57 AM,13/Apr/17 1:39 AM,,,WON'T FIX,,fabric-peer,,,0,,,,,,Resurrect Uber chaincode (UC),,ChristopherFerris,Clayton Sims,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx9zz:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,Clayton Sims,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"14/Aug/16 2:20 AM;ChristopherFerris;It would be helpful to explain what 'uber chaincode' is, exactly. is there a one-pager that describes the proposed feature? That would seem in order.;;;","16/Aug/16 11:27 PM;mastersingh24;I don't think this makes any sense to have as an item.  We should be describing what feature / functionality we are trying to provide;;;","13/Apr/17 1:39 AM;ChristopherFerris;closing as this just seems abandoned.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As a chaincode developer, I want use life cycle system cc to manage deployment policies for chain codes",FAB-25,12324,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,muralisrini,Clayton Sims,Clayton Sims,12/Aug/16 2:04 AM,21/Jul/18 3:58 AM,28/Oct/23 2:57 AM,14/Apr/17 10:40 PM,,,v1.0.0,,fabric-peer,,,0,,,,,,"As a chaincode developer, I want use life cycle system cc to manage deployment policies for chain codes",,ChristopherFerris,Clayton Sims,muralisr,zmanian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzxa07:",,,,Unset,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,ChristopherFerris,Clayton Sims,muralisr,zmanian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"14/Aug/16 2:26 AM;ChristopherFerris;This user story implies an implementation(lifecycle system cc) and is missing rationale or motivation. Questions: is the user really the chaincode developer or the network stakeholder/owners? eg who needs to manage chaincode deployment policy? Also, there are likely additional stories needed to decompose this even further to address exactly what sort of policy constraints are needed. Finally, it would help to add motivation or rationale as to why this is needed.;;;","13/Apr/17 1:36 AM;ChristopherFerris;This is likely a duplicate. [~muralisr] possibly you can enlighten us? If so, mark as such and close.;;;","14/Apr/17 10:40 PM;muralisr;[~ChristopherFerris] this is a duplicate of many stories implemented under  https://jira.hyperledger.org/browse/FAB-37. Closing this.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As an application devleoper, I want documentation for upgrade flows",FAB-26,12325,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,muralisrini,Clayton Sims,Clayton Sims,12/Aug/16 2:07 AM,21/Jul/18 3:58 AM,28/Oct/23 2:57 AM,23/Mar/18 7:27 AM,,,,,fabric-docs,,,1,,,,,,"As an application developer, I want documentation for upgrade flows",,AshishkumarLakshmanan,ChristopherFerris,Clayton Sims,v_thirugnanam,zamrokk,zmanian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzx7d3:",,,,Unset,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,AshishkumarLakshmanan,ChristopherFerris,Clayton Sims,v_thirugnanam,zamrokk,zmanian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"13/Apr/17 1:38 AM;ChristopherFerris;[~Clayton Sims] this needs more detail. Upgrade flow for what? Components? Chaincode?;;;","14/Jun/17 11:17 PM;zamrokk;[~ChristopherFerris] and [~Clayton Sims] : I do not see documentation for upgrading chaincode here ([https://hyperledger-fabric.readthedocs.io)|https://hyperledger-fabric.readthedocs.io%29/] . I suppose this is linked to FAB-183 , right ?;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Complete implementation of LC SCC,FAB-28,12327,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,muralisrini,Clayton Sims,Clayton Sims,12/Aug/16 2:14 AM,20/Jul/18 11:09 PM,28/Oct/23 2:57 AM,15/Apr/17 12:52 PM,,,v1.0.0,,fabric-peer,,,0,,,,,,,,ChristopherFerris,Clayton Sims,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxa1j:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,Clayton Sims,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"13/Apr/17 1:40 AM;ChristopherFerris;This is likely duplicate but need [~muralisr] to verify and link to duplicate JIRA item;;;","18/Apr/17 10:54 AM;muralisr;[~ChristopherFerris] The main work was started in https://gerrit.hyperledger.org/r/#/c/1057 and completed under https://jira.hyperledger.org/browse/FAB-181, https://jira.hyperledger.org/browse/FAB-182 and https://jira.hyperledger.org/browse/FAB-183. There were other changes (especially in the area of security but that should cover it).;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Separate consensus from Peer,FAB-29,12328,,Story,Closed,FAB,Fabric,software,denyeart,,,High,Done,sanchezl,Clayton Sims,Clayton Sims,12/Aug/16 2:38 AM,21/Jul/18 3:58 AM,28/Oct/23 2:57 AM,11/Oct/16 5:08 PM,,,,,fabric-orderer,,,0,consensus,,,,,,,Clayton Sims,corecode,kchristidis,sanchezl,tuand,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-426,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-37,,,,,,,,,"1|hzx9rj:",,,,Unset,,Sprint 2,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,Clayton Sims,corecode,kchristidis,sanchezl,tuand,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"12/Aug/16 9:51 PM;corecode;Why is this assigned to tuan, and why is this a task and not an epic?;;;","13/Aug/16 3:19 AM;Clayton Sims;You are right - this should be deleted (if only there were a way to delete);;;","17/Aug/16 11:16 PM;kchristidis;I've Googled it and there is a way to delete issues, but you need to have the corresponding permission to do it. (I don't.);;;","13/Sep/16 10:57 PM;kchristidis;Luis, as you get a better feel for this, please break this down to 1-2 day tasks.;;;","14/Sep/16 12:42 AM;corecode;there is already quite some work in my separate-consensus branch.;;;","14/Sep/16 12:44 AM;kchristidis;Right, Luis is aware of that and I've also told him about the pending changeset by Gabor. The point is to finally get this in.;;;","22/Sep/16 3:23 PM;kchristidis;Luis, what exactly is being tackled in this story? Can you break it down to tasks and update with progress?;;;","23/Sep/16 2:57 AM;sanchezl;* We're not bringing in Simon's work.
* [~jeffgarratt] is providing a new engine impl that simply plugs into the existing code without re-writing it.
* If someone wants to save the TLS code, then please create a user story explaining why.;;;","23/Sep/16 3:24 AM;kchristidis;That's fine but I'm still not clear on what it is that you're working on during this sprint.;;;","23/Sep/16 5:05 PM;corecode;what's wrong with my code?;;;","29/Sep/16 4:31 AM;tuand;Hi [~sanchezl],   how do you want to combine ( or not ) what's to be done for this story with what's being done for FAB-423 , FAB-430 ?

Are these duplicates or sub-tasks ?  

I though that FAB-29 is for setting up how orderers can talk to each other and FAB-423 is for the additional task of determining which orderers are authorized to talk to each others ?  But does [~corecode]'s code already handle both tasks ?;;;","06/Oct/16 12:11 AM;tuand;It looks like this issue is duplication of work done in [fab-473], [fab-359], [fab-426] and others.

Unless there are objections, I'll close this by Oct 6 midday.;;;","11/Oct/16 5:07 PM;kchristidis;Closed due to overlap w/ other issues in JIRA.;;;",,,,,,,,,,,,,,,,,,,,,
Endorser simulation of transactions.,FAB-30,12329,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,manish-sethi,markparz,markparz,12/Aug/16 3:32 AM,21/Jul/18 3:58 AM,28/Oct/23 2:57 AM,25/Oct/16 11:42 PM,,,,,fabric-ledger,,30/Sep/16 12:00 AM,0,Ledger,,,,,"Story: Developer needs the ability to gain signatures from endorsers as defined by a policy by simulating a transaction without writing to the ledger create, so that they can submit a transaction.

Endorsers simulate tx with state and reply with rw set of all keys that were modified.

A submitter composes a transaction consisting of [header, payload, rw-set] where rw-set is the set containing the state variables that the transaction reads from (read-set) and the state variables that the transaction writes to (write-set). The rw-set is created via transaction execution simulation (not writing to database). This simulation is also done by the endorsers of the transaction to fulfill the endorsement policy of the transaction.",,denyeart,markparz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-192,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzxal3:",,,,Unset,,,,,,,,,,,,,,,,,2.0,Unset,,,,,,,,,,,denyeart,markparz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"25/Oct/16 11:42 PM;denyeart;Initial endorser simulation is available.  It will be refined in other more granular user stories.  I will therefore mark this more general story as complete.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As an application developer, I want an easy way to deploy and test my app by only having a single orderer process",FAB-31,12330,,Story,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,jyellick,Clayton Sims,Clayton Sims,12/Aug/16 3:33 AM,21/Jul/18 3:58 AM,28/Oct/23 2:57 AM,02/Sep/16 1:43 AM,,,,,fabric-orderer,,,0,consensus,,,,,"As application developer, I want an easy way to deploy and test my app by only having a single orderer process.

This refers to the 'Solo' ordering process.  This will be a simple to deploy, minimal code ordering process.  Because there is only one process, no 'consensus' need be reached between multiple processes, so this is largely as simple as having multiple clients write into a buffered channel, with a single thread reading it, and creating batches/blocks.

The deliver side is only slightly more complicated, as to allow for disconnection and reconnection, the orderer service must allow history to be discovered.  This requires implementing a simple in RAM ledger, and allowing individual clients to seek within it.
",,AshishkumarLakshmanan,Clayton Sims,corecode,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-37,,,,,,,,,"1|hzxae7:",,,,Unset,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,AshishkumarLakshmanan,Clayton Sims,corecode,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"16/Aug/16 11:43 PM;corecode;I would say that as application/chaincode developer, this should work without having to run a separate orderer process all together.;;;","17/Aug/16 4:08 AM;jyellick;I'd agree that there's also value in be able to bake this into a single process with the peer.  But, I also think there's value in being able to have a network of peers without also requiring a network of orderers (which this speaks to).  Fortunately, by the magic of gRPC if we build the latter, it should be trivial to link in as the former. ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Prototype ordering service based on Kafka,FAB-32,12331,,Epic,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,kchristidis,Clayton Sims,Clayton Sims,12/Aug/16 3:43 AM,21/Jul/18 4:08 AM,28/Oct/23 2:57 AM,08/Dec/16 8:23 AM,,,,,fabric-orderer,,,0,kafka,,,,,"As a network deployer, I want an ordering service based on Kafka so that I have a point of reference for block throughput and latency. Build an ordering service on top of Kafka, following the diagram below and this proto definition file for the interface: https://github.com/kchristidis/kafka-orderer/blob/devel/ab/ab.proto",,AshishkumarLakshmanan,bcbrock,Clayton Sims,corecode,kchristidis,mastersingh24,troyronda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-540,,,,,,,,,,,,,,,,,,,,,,,,FAB-369,FAB-370,FAB-371,FAB-372,FAB-526,FAB-612,FAB-613,FAB-701,FAB-819,"07/Sep/16 6:05 AM;kchristidis;0293d9a4-7453-11e6-8d70-f89d1577c235.png;https://jira.hyperledger.org/secure/attachment/10062/0293d9a4-7453-11e6-8d70-f89d1577c235.png","07/Sep/16 6:05 AM;kchristidis;27f5f40e-7451-11e6-8afe-eeeb67a5ce3b.png;https://jira.hyperledger.org/secure/attachment/10063/27f5f40e-7451-11e6-8afe-eeeb67a5ce3b.png","15/Aug/16 11:21 PM;kchristidis;Screen Shot 2016-08-15 at 10.20.34.png;https://jira.hyperledger.org/secure/attachment/10002/Screen+Shot+2016-08-15+at+10.20.34.png",,,,,,,,,,Unset,,Unset,,,Kafka-backed orderer,,,,Unset,,,,"1|hzx94v:",,,,Unset,Unset,Sprint 1,Sprint 2,Sprint 3,,,,,,,,,,,,,24.0,,,,,,,,,,,,AshishkumarLakshmanan,bcbrock,Clayton Sims,corecode,kchristidis,mastersingh24,troyronda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"15/Aug/16 11:43 PM;kchristidis;I have built a Docker image for Kafka/Zookeeper: https://github.com/kchristidis/docker-kafka

This acts as our ordering node, what we call a ""solo"" orderer.;;;","15/Aug/16 11:59 PM;kchristidis;I am building the orderer in this repo: https://github.com/kchristidis/kafka-orderer

This is where I also maintain a rough TODO list of sorts.;;;","16/Aug/16 12:01 AM;kchristidis;Support for the Broadcast RPC has been added.;;;","16/Aug/16 12:06 AM;kchristidis;Currently working on the Deliver RPC.

The Golang Kafka libraries do not support the Seek() method, so implementing this in a straightforward manner is not possible.

To make matters a bit more complicated, the use of Seek() mid-consumption is considered unsafe even in the Java library. I will add this the proper way, by stopping the consumption of the partition first, and then resuming it at the right offset. The downside to this is that it will introduce delays because we'll kick into rebalancing mode. I will see if there is any way to mitigate this side-effect.;;;","16/Aug/16 8:40 PM;mastersingh24;[~kchristidis] what are / were you trying to do with the Seek() method?  In this in the case where you realize you are missing something?  If you don't want to trigger a rebalance but simply wish to momentarily stop consumption, you can use the pause() method (at least in Java);;;","16/Aug/16 9:04 PM;kchristidis;[~mastersingh24] Have a look at the proto with the RPC definitions: https://github.com/kchristidis/kafka-orderer/blob/devel/ab/ab.proto

Via the properties message type, the Deliver() client is effectively able to say ""I'd like to start from message with offset X"". My Deliver() server can deliver a stream of messages starting from X by setting up a PartitionConsumer whose config is set to that offset, no problem.

Now assume that mid-consumption, the Deliver() client sends a new properties message with a certain specified_number (offset), because the back-office process they are connected to messed up. Ideally, I wanted to be able to seek to that number within the existing PartitionConsumer.

As I stated in yesterday's comment, this is however not possible in the Go libraries, and even in the Java world where it is, it is considered unsafe.

Therefore in my current not-yet-pushed code, I close this PartitionConsumer and start a new one configured with the desired starting offset. This is the only proper way to do it.

Let me know if that answers your question.;;;","16/Aug/16 11:26 PM;mastersingh24;[~kchristidis]  Got it.  Makes sense.  By the way, rebalancing only happens if you are using consumer groups which I don't think we'd want to use in this scenario anyway since we want all clients to get all messages.;;;","17/Aug/16 4:49 AM;kchristidis;[~mastersingh24] You're right on the rebalancing note. (And FWIW we do have consumer groups, it's just that they're groups of one.);;;","24/Aug/16 5:06 PM;kchristidis;An implementation of this is now up and running: https://github.com/kchristidis/kafka-orderer/tree/devel. I need to add a bunch of tests however, so not marking it as done yet.;;;","24/Aug/16 5:19 PM;kchristidis;Of note, with regards to creating blocks of X messages:

- It is not possible to have the orderer (i.e. the Kafka broker) output a batch/block for, say, every 10 messages sent its way. (Unless we work with Kafka Streams, I guess.)
- Additionally, the consumer can only specify a min/max fetch size. Therefore, unless every message has a fixed size, we cannot guarantee that the consumer will be reading a batch of, say, 10 messages as a time. (Note: I am not talking about the window here.)

The only way to get ""batches"" is if you have the producer batch the messages up into a block, but that's not the batching we're looking for. (You'll have a block with messages coming from A, and a separate block with messages coming from B, etc.) I may always be missing something.;;;","25/Aug/16 4:53 PM;kchristidis;Also worth noting that the folks behind Kafka are working on a Go library. Right now it's mostly a wrapper around librdkafka, the C library. You can find it here but it's clearly alpha: https://github.com/confluentinc/confluent-kafka-go

A review of it can be found here: http://www.agardner.me/golang/kafka/library/sarama/confluent/2016/08/24/kafka-go-library.html (I'malso using sarama, same as the author.);;;","07/Sep/16 6:01 AM;kchristidis;- Updated the design
- Added block cutting logic
- Enabled Glide for package management
- Updated the documentation

All basic functionality needed expected from the SOLO orderer is there: https://github.com/kchristidis/kafka-orderer/tree/devel

Working on tests now -- using this opportunity to try out the GoConvey framework: http://goconvey.co;;;","13/Sep/16 3:02 PM;kchristidis;Updated to an epic according to Binh's instructions.;;;","26/Sep/16 2:16 AM;kchristidis;Added unit tests.;;;","27/Sep/16 1:55 PM;kchristidis;Added support for the orderer/config package introduced in the feature/convergence branch: https://github.com/kchristidis/kafka-orderer/commit/a9bb5e7c67f3f4f3c10784176801efd4299de3a7;;;","27/Sep/16 11:51 PM;kchristidis;Added support for MaxWindowSize: https://github.com/kchristidis/kafka-orderer/commit/a109782be0c6dd821ef76c65f52b707e5bd82594;;;","02/Oct/16 6:03 AM;kchristidis;Fixed Docker Compose issue related to the Kafka broker's ADVERTISEMENT_HOST.

I've also updated the docker-kafka image accordingly and cleaned up the supervisord execution path as well: https://github.com/kchristidis/docker-kafka

As soo as we upgrading the Vagrant image to Go 1.7, the Kafka orderer is good to.

Tested here: https://github.com/kchristidis/fabric/tree/kafka-orderer-complete/orderer;;;","02/Oct/16 6:12 AM;kchristidis;And just in case anyone's curious, I created a Docker Compose file and a super-lightweight image for the orderer to make experimentation easier:

https://github.com/kchristidis/kafka-orderer/blob/devel/docker-compose.yml

{{docker-compose up}}

Then use the sample client to broadcast blocks or have them delivered to you. (Target the Docker host's IP and the default port 5151.);;;","09/Oct/16 8:06 AM;kchristidis;Up for review here: https://gerrit.hyperledger.org/r/#/c/1627/;;;","08/Dec/16 8:21 AM;kchristidis;The first prototype of the Kafka orderer was completed a long time ago.

Closing this epic as we track its revisions through newer stories.;;;",,,,,,,,,,,,,,
BFT-based ordering service,FAB-33,12332,,Epic,Backlog,FAB,Fabric,software,denyeart,,,High,,jyellick,Clayton Sims,Clayton Sims,12/Aug/16 3:44 AM,08/Jul/21 6:31 PM,28/Oct/23 2:57 AM,,,,v2.x,,fabric-orderer,,,7,,,,,,"Placeholder for the upcoming work on the BFT-based ordering service.

Will update with details and a link to fabric-rfcs when we're ready to tackle this.",,anweiss,Aodh,blockchainagency,C0rWin,cca88,ChristopherFerris,Clayton Sims,dantengsky,davidkhala,denyeart,felixrowe,grapebaba,guoger,Hangyu_FJH,harlinli,harrymknight,harsh-98,Henni,huxd,IngoRammer,karelg,kchristidis,knagware9,mffrench,MHBauer,MichaelWang,n-horiguchi,olkhovoy,Othman.Darwish,pdina,rockleelx,rolivieri,StevenXu,sykesm,thienbuinguyen,Urko,Vishal3152,wutongtree,xixuejia,yacovm,ymlbright,yoheiueda,yongrae,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-150,,,,,,,,,,,,,,,,,,,FAB-6135,,,,,,,,,,,,,,,,,,,,,,,,Investigating BFT libraries for an eventual RFC.,,Unset,,Unset,,,BFT-based ordering service,,,,Unset,,,,"1|hzxa0f:",,,,Unset,Unset,,,,,,,,,,,,,,,,,,,,,,,,,,,,anweiss,Aodh,blockchainagency,C0rWin,cca88,ChristopherFerris,Clayton Sims,dantengsky,davidkhala,denyeart,felixrowe,grapebaba,guoger,Hangyu_FJH,harlinli,harrymknight,harsh-98,Henni,huxd,IngoRammer,karelg,kchristidis,knagware9,mffrench,MHBauer,MichaelWang,n-horiguchi,olkhovoy,Othman.Darwish,pdina,rockleelx,rolivieri,StevenXu,sykesm,thienbuinguyen,Urko,Vishal3152,wutongtree,xixuejia,yacovm,ymlbright,yoheiueda,yongrae,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"09/Mar/18 1:28 PM;kchristidis;We'll get started on this once FAB-6135 is done.;;;","04/Feb/20 2:59 PM;denyeart;BFT-based ordering service still intended for a future release.;;;","04/Mar/20 1:15 PM;davidkhala;https://hyperledger-fabric.readthedocs.io/en/release-2.0/Fabric-FAQ.html
Per FAQ said, 

```
We are working towards a release during the 1.x cycle, i.e. it will come with a minor version upgrade in Fabric.
```
So I think it is planed to be released in 1.x instead of 2.x+?;;;","28/Apr/20 5:05 PM;harlinli;sorry for my misoperation;;;","27/May/20 5:26 AM;harsh-98;Where is the code for BFT implementation avialable? I would like to contribute.;;;","09/Jul/20 12:09 AM;anweiss;Hey all ... also looking for an update on the latest timelines for BFT-based ordering support. Thanks!;;;","09/Jul/20 5:54 PM;yacovm;I don't know about concrete timeline, but, there are forks of Fabric with BFT enabled ordering service out there, such as [this|https://github.com/SmartBFT-Go/fabric].

There is a sample [here|https://github.com/SmartBFT-Go/fabric-samples/blob/release-1.4-BFT/first-network/byfn.sh].;;;","09/Jul/20 6:02 PM;yacovm;Note that:
 # The [configuration|https://github.com/SmartBFT-Go/fabric-samples/blob/release-1.4-BFT/first-network/configtx.yaml#L464-L470] and operation is exactly like Raft, meaning - you just declare the consenters in the [configtx.yaml|https://github.com/SmartBFT-Go/fabric-samples/blob/release-1.4-BFT/first-network/configtx.yaml#L448-L478] and to add / remove nodes you can do it via a [script|https://github.com/SmartBFT-Go/fabric-samples/blob/release-1.4-BFT/first-network/scripts/bftutil.sh] that modifies the consenters and then submits a config update
 # *There is no official support from the Hyperledger community*, but, if you use it and find a bug or think something should be improved you can open an [issue|https://github.com/SmartBFT-Go/fabric/issues] and the maintainers of the project will look into it.
 # The project is under development but it's feature complete in comparison to Raft, meaning - you can do anything that Raft can do from a functionality point of view.;;;","09/Jul/20 6:35 PM;knagware9;This vedio is good to watch for understanding bft in fabric and smart bft implementation https://m.youtube.com/watch?v=vGMiZ3C2qic;;;","09/Jul/20 7:04 PM;C0rWin;> This vedio is good to watch for understanding bft in fabric and smart bft implementation https://m.youtube.com/watch?v=vGMiZ3C2qic

it seems that recording started a few minutes late, but to make this clear, [~yacovm] is actually, leading both design and implementation of this library.;;;","10/Jul/20 12:01 AM;anweiss;Exactly what I was looking for, thanks [~yacovm] and [~C0rWin]!;;;","20/Jul/20 10:29 AM;anweiss;I also came across this presentation on Mir-BFT .. [https://www.youtube.com/watch?v=C_j4qTsEqOo]. ... which claims to have substantial performance improvements. It was mentioned that there was a plan to create an ordering service based on this implementation as well. Since Mir-BFT was mentioned towards the end of the video on the Smart BFT implementation, has this Mir-BFT implementation of the ordering service been open sourced as well? Or is it still in the works.;;;","20/Jul/20 4:04 PM;C0rWin;It's under development, you can observe it here: https://github.com/jyellick/mirbft;;;","06/Apr/21 9:58 PM;harrymknight;I've read through [https://github.com/hyperledger/fabric-rfcs/pull/33] and listened to its discussion [https://wiki.hyperledger.org/download/attachments/41590443/20210303_contributors_meeting.mp4?api=v2]. The general vibe I got was that technical debt of Fabric must first be addressed before a BFT-based ordering service can be integrated. Is an RFC in place/in the works which addresses this issue?;;;",,,,,,,,,,,,,,,,,,,,
Validator API,FAB-34,12333,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,muralisr,Clayton Sims,Clayton Sims,12/Aug/16 3:45 AM,20/Jul/18 11:09 PM,28/Oct/23 2:57 AM,17/Aug/16 11:25 PM,,,,,,,,0,,,,,,Murali ... assigning to you as I think this is for your squad ?  Modify/delete as you see fit.,,Clayton Sims,corecode,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-37,,,,,,,,,"1|hzxa0n:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Clayton Sims,corecode,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"16/Aug/16 11:27 PM;corecode;how is this different from FAB-44?;;;","17/Aug/16 11:25 PM;corecode;duplicate of FAB-44;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Gossip network prototype,FAB-35,12334,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,Clayton Sims,Clayton Sims,12/Aug/16 3:45 AM,20/Jul/18 11:09 PM,28/Oct/23 2:57 AM,13/Mar/17 4:43 PM,,,,,fabric-gossip,,,0,communication,gossip,,,,"WIP branch can be found here: 
https://gerrit.hyperledger.org/r/#/c/687/",,Clayton Sims,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-290,,,,,,,,,"1|hzxa0v:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Clayton Sims,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Connect validator,FAB-36,12335,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,Clayton Sims,Clayton Sims,12/Aug/16 3:46 AM,20/Jul/18 11:09 PM,28/Oct/23 2:57 AM,22/Aug/16 9:57 PM,,,,,,,,0,,,,,,,,Clayton Sims,corecode,tuand,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-37,,,,,,,,,"1|hzxa13:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Clayton Sims,corecode,tuand,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"16/Aug/16 11:27 PM;corecode;connect how where who?;;;","22/Aug/16 9:58 PM;tuand;placeholder when we started using Jira.  Close this and have endorser squad open actual tasks;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Consensus endorsing, consenting, and committing model",FAB-37,12336,,Epic,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,,markparz,markparz,12/Aug/16 4:10 AM,21/Jul/18 4:08 AM,28/Oct/23 2:57 AM,06/Jul/18 9:42 PM,,,v1.0.0,,fabric-peer,,,0,Endorser,,,,,"*Story*: The network needs to have the ability to add and remove participants to specific activities of the network, such as endorsement, consensus & sorting, and committing to the ledger. This will enable vibrant and reliable growing networks to evolve, with many actors executing purposeful actions for the environment based on their desired level of participation.

Based on specific needs participants of the blockchain network will not want or need to handle all the functions required in a distributed ledger system (signing, sorting, writing to, or maintaining the ledger). Some of these operations are too costly for business or compute reasons.

Multiple phased approach to make consensus pluggable, scalable (see attachment below) &
 [https://github.com/hyperledger/fabric/wiki/Fabric-Next]

Phase 1 -
 * Decouple Consensus service from peers
 *Story:* As a blockchain network joiner/starter, I want to be able to pick the role or function I will perform in the blockchain network, so that I am not forced into performing functions on the network which I don't have any vested interest. I also want a better more versatile framework which enables me to create a network with an alternate consensus algorithm that better suits my goals, that being performance, more/less required trust/verification, etc.
 *Description:*
In the current architecture all the functions of the fabric are handled by all of the nodes on the network. In order to make the network more flexible, scalable and pluggable we need to modularize the code base. This requires removing the PBFT function from the peers and creating a different architecture based on a model of endorsers, consenters, and committers components. Each of these components need to be self contained (expected input & output). The result will be there is no longer what has been generically called a 'validating peer', instead when joining a node to a network there will be the ability to choose 1 or more components to create the node. The component(s) chosen will have different tasks(actions) to perform. Endorsers will simulate and sign or reject transactions, consenters will complete PBFT on the transactions and order the transactions, committers will receive the ordered batches of transactions from the consenters and write to the ledger. The choice of action performed by the node when joining the network is how the peer to be known as on the network. For further information please see the design discussion at [https://github.com/hyperledger/fabric/wiki/Next-Consensus-Architecture-Proposal]
 *MVP defined as :*
Transaction successfully submitted via the SDK to the endorser, transaction simulated by the endorser, signed, and returned to the SDK. SDK will then send to single consenter node to 'sort', and send to committer which will write to the ledger. This is the happy path of a single transaction can be successfully processed. For this MVP, a rejected transaction the endorser should execute, fail and simply send rejection back to SDK and drop the transaction.

 * Dynmically add/remove endorsers from network
 * Basic endorsement policy

Story: Networks need the ability to have someone else join, so that they can, at minimum, have all required stakeholders actively participate in endorserment with a basic endorsement policy.

Phase 2 -
 * Consensus protocol and transport layer
 * Scale, performance

Story: Networks needs to be able to have a large cluster of consenters in the network so that they can have at minimum a valid number of consenters for the blockchain model with tolerance",,akihikot,arjv,AshishkumarLakshmanan,baohua,caoyu,ChristopherFerris,daijianw,Deepakbyrappa,DexHunter,dianfu,Eagel,elisafla,foravneet,grapebaba,gsagar,Hangyu_FJH,king3000,luomin,markparz,mffrench,mgk,mihaig,nhrishi,nickgaski,peoplehlj,qiang0723,rmohta,satheeshk,smartheye,TiantianGao,tiennv,tmenner,troyronda,v_thirugnanam,Vishal3152,warm3snow,wutongtree,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-1219,FAB-1475,,,,,,,,,,,,,,,,,,,,,,,FAB-353,,,,,,,,,"31/Aug/16 4:17 AM;binhn;FabricNext-Community.pdf;https://jira.hyperledger.org/secure/attachment/10056/FabricNext-Community.pdf","05/Oct/16 7:02 AM;binhn;FabricNext-DevUpdate.pdf;https://jira.hyperledger.org/secure/attachment/10104/FabricNext-DevUpdate.pdf","03/May/17 1:24 PM;jimthematrix;HL-Fabric-v1.0-Deep-Dive-20170424.pdf;https://jira.hyperledger.org/secure/attachment/10698/HL-Fabric-v1.0-Deep-Dive-20170424.pdf","06/Dec/16 12:55 AM;binhn;Hyperledger Fabric DevUpdate12052016.pdf;https://jira.hyperledger.org/secure/attachment/10251/Hyperledger+Fabric+DevUpdate12052016.pdf","23/Sep/17 12:40 AM;markparz;Roadmap_Sep2017.pptx;https://jira.hyperledger.org/secure/attachment/12139/Roadmap_Sep2017.pptx","07/Apr/17 3:29 AM;markparz;Roadmap_v7.pptx;https://jira.hyperledger.org/secure/attachment/10650/Roadmap_v7.pptx","15/Jan/17 4:41 AM;muralisr;peerchaincodedev_in_1.0.txt;https://jira.hyperledger.org/secure/attachment/10378/peerchaincodedev_in_1.0.txt","22/Nov/16 8:55 AM;denyeart;simple_test_with_skeletal_peer.md;https://jira.hyperledger.org/secure/attachment/10242/simple_test_with_skeletal_peer.md",,,,,Unset,,Unset,ghx-label-8,,"Endorsing, consenting, committing model",To Do,,,Unset,,,,"1|hzxapj:",,,,Unset,Unset,,,,,,,,,,,,,,,,,,,,,,,,,,,,akihikot,arjv,AshishkumarLakshmanan,baohua,caoyu,ChristopherFerris,daijianw,Deepakbyrappa,DexHunter,dianfu,Eagel,elisafla,foravneet,grapebaba,gsagar,Hangyu_FJH,king3000,luomin,markparz,mffrench,mgk,mihaig,nhrishi,nickgaski,peoplehlj,qiang0723,rmohta,satheeshk,smartheye,TiantianGao,tiennv,tmenner,troyronda,v_thirugnanam,Vishal3152,warm3snow,wutongtree,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"04/Jan/17 1:32 PM;baohua;Suggest to change the abbreviation of ""Life-cycle system chaincode"" from LCCC to LSCC or LCSCC, hence every system chaincode is with ""SCC"" suffix, while users are UCC.
Thanks!;;;","03/Apr/17 1:05 AM;ChristopherFerris;I think that FAB-2964 needs to be included in v1.0;;;","06/Jul/18 9:42 PM;ChristopherFerris;closing this.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Flow control and communcation code centralization,FAB-38,12337,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,gennadyl,gennadyl,gennadyl,12/Aug/16 9:20 PM,21/Jul/18 3:58 AM,28/Oct/23 2:57 AM,13/Mar/17 4:36 PM,,,,,,,,0,communication,,,,,"There are 3 messages streams in the code - Chat in fabric.proto, Chat in events.proto and Register in chaincode.proto.

All three streams are created more or less in the same manner (upon stream creation a handler object is created and from that point it handles all the stream communication) and all three lack a mechanism of user / applications level configurable flow control, only grpc level flow control.

The idea is to leave those handlers relatively unchanged, but instead of sending messages directly to the stream they will send messages to channels and some comm layer code will actually send them to the real streams. The same pattern will be used to handle incoming messages - instead of calling the handler handleMessage method directly after stream.Recv(), messages will be put in a channel and another go routine will call handler.handleMessage.

Handling messages in and out channels, go routines, etc will be placed in a separate module in core/comm package.

Gerrit: https://gerrit.hyperledger.org/r/#/c/535/
",,ChristopherFerris,gennadyl,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"12/Aug/16 9:20 PM;gennadyl;Comm re-design.png;https://jira.hyperledger.org/secure/attachment/10001/Comm+re-design.png",,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzxa7r:",,,,Unset,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,ChristopherFerris,gennadyl,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"25/Aug/16 2:41 AM;ChristopherFerris;This is too big, needs to be decomposed.;;;","31/Aug/16 9:33 PM;gennadyl;Added 2 sub-tasks;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Endorser, complete basic desgin",FAB-39,12338,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,Clayton Sims,Clayton Sims,12/Aug/16 11:03 PM,20/Jul/18 11:09 PM,28/Oct/23 2:57 AM,26/Aug/16 4:32 AM,,,,,fabric-peer,,24/Aug/16 12:00 AM,0,Endorser,,,,,,,Clayton Sims,corecode,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-37,,,,,,,,,"1|hzxa3j:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Clayton Sims,corecode,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"22/Aug/16 7:17 PM;corecode;why is this labeled consensus?  endorser is far away from consensus.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
EndorserAPI,FAB-40,12339,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,Clayton Sims,Clayton Sims,12/Aug/16 11:04 PM,20/Jul/18 11:09 PM,28/Oct/23 2:57 AM,21/Oct/16 12:41 AM,,,,,fabric-peer,,,0,Endorser,,,,,,,Clayton Sims,v_thirugnanam,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-181,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-37,,,,,,,,,"1|hzx8uf:",,,,,,Sprint 1,Sprint 2,,,,,,,,,,,,,,,,,,,,,,,,,,Clayton Sims,v_thirugnanam,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Endorser complete design of policy,FAB-41,12340,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,Clayton Sims,Clayton Sims,12/Aug/16 11:05 PM,20/Jul/18 11:09 PM,28/Oct/23 2:57 AM,21/Oct/16 12:39 AM,,,,,fabric-peer,,16/Sep/16 12:00 AM,0,Endorser,,,,,,,Clayton Sims,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-37,,,,,,,,,"1|hzxa4n:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Clayton Sims,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"26/Aug/16 5:23 AM;Clayton Sims;Lets make sure we capture this in a design doc and part of the completion critera. ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Connect gossip network to validator,FAB-42,12341,12334,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,Clayton Sims,Clayton Sims,12/Aug/16 11:05 PM,20/Jul/18 11:09 PM,28/Oct/23 2:57 AM,09/Apr/17 8:06 PM,,,,,,,,0,,,,,,,,C0rWin,Clayton Sims,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxa4v:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,C0rWin,Clayton Sims,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"09/Apr/17 8:07 PM;yacovm;Not relevant anymore.

[~C0rWin] [~Clayton Sims] we really need a ""wont-fix"" status ;;;","10/Apr/17 6:54 AM;C0rWin;[~yacovm] agree, as we still do not have ""Won't fix""/""Invalid"", simply closing it.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Generic orderer API,FAB-43,12342,12328,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,jyellick,Clayton Sims,Clayton Sims,12/Aug/16 11:07 PM,20/Jul/18 11:09 PM,28/Oct/23 2:57 AM,02/Sep/16 1:42 AM,,,,,fabric-orderer,,,0,consensus,,,,,"When an ordering service is used, be it Kafka, PBFT, Solo, etc. the service specific protocol can be abstracted away to a more generic 'orderer' API.  For some deployments the binding to the ordering service may wish to be done remotely, while in others the binding may be done locally.  In order to support both these scenarios, we should specify this orderer API as a gRPC service and corresponding Protobuf definitions.

Attached is a proposed proto for this service.

Also attached is a bdd feature file courtesy of [~jeffgarratt]

[~corecode] [~jeffgarratt] [~kchristidis] [~tuand]",,binhn,Clayton Sims,corecode,jeffgarratt,jyellick,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"16/Aug/16 11:40 PM;jyellick;ab.proto;https://jira.hyperledger.org/secure/attachment/10007/ab.proto","17/Aug/16 1:58 AM;jyellick;orderer.feature;https://jira.hyperledger.org/secure/attachment/10008/orderer.feature",,,,,,,,,,,,,,,,,,,,,,,,"1|hzxaef:",,,,,,Sprint 2,,,,,,,,,,,,,,,,,,,,,,,,,,,binhn,Clayton Sims,corecode,jeffgarratt,jyellick,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"17/Aug/16 3:40 AM;kchristidis;Should it be our goal to make the messages and interfaces defined here restrictive enough so that they don't give room for multiple interpretations?

If it is, there may be some room for refinement here. For example:

1. Can a client send an update message containing both acknowledgement and properties? We discussed privately yesterday and we both agreed that we generally expect a properties message to show up only when establishing the connection, or when something's up mid-connection and the client wishes to reset the connection. Then an update message cannot contain both an acknowledgement and a window. If we want to impose this flow on whomever implements the service, we should look into using the oneof operator (https://developers.google.com/protocol-buffers/docs/proto3#oneof) for the update message (same as we've done in our PBFT work), or a similar construct.

2. What happens if a client sends an acknowledgement for a block that is *inside* the window? The client sets the specified_number to 50 and the window_size to 100, and a bit later it sends an acknowledgement for block 76. I claim that the only reasonable thing for the server is to stop the current transmission (assume it was in the midst of sending block 140) and restart the 50-149 sequence.

Generally, I understand that the fact that gRPC methods can accept only a single protocol buffer message type as their request and return only a single protocol buffer type as their response makes our lives a bit difficult. Also: dealing with such level of detail may well be outside the proto's scope - it may not even be our job to define how the server should behave in case #2 for example.

If it is though, adding comments to the proto (see point #2) or changing the message types and RPC definitions so as to be more restrictive (see point #1) could help.

Let me know what you think.;;;","17/Aug/16 3:58 AM;jyellick;1. We did discuss this offline.  I think we could either have an implicit contract that, when `new_properties` is set, then `acknowledgement` is ignored.  This is trivial to implement, as even an implementation of apply acknowledgement, then apply properties would give you the correct behavior.  Still, I agree, explicit is better than implicit.  I would support using the oneof definition you linked to.

2. I actually completely disagree here.  This is actually entirely the point of the window, in that it can slide, and my sample client implementation relies on this fact.  In the model you propose, with a window size of 4 the flow to send 6 blocks looks like this:

Receive: Block 1 (5 ms)
Receive: Block 2 (5 ms)
Receive: Block 3 (5 ms)
Receive: Block 4 (5 ms) (Sender stops and waits)
Reply:  Ack 4 (5 ms)
Receive Block 5 (5 ms) (Sender resumes)
Receive Block 6 (5 ms)
Total: 35ms

But instead, imagine if you allow intermediate acks

Receive: Block 1 (5 ms)
Receive: Block 2 (5 ms) Reply: Ack Block 2 (5 ms)
Receive: Block 3 (5 ms)
Receive: Block 4 (5 ms) Reply: Ack Block 4 (5 ms)
Receive Block 5 (5 ms)
Receive Block 6 (5 ms) Reply: Ack Block 6 (5 ms)
Total: 30ms

The big difference here to me, is that by allowing intermediate acks, you don't have to completely fill and then drain buffers on each side.  The receiver is essentially free to ack whenever there is buffer available, but only required to ack once the window size has been exhausted.

I agree that in a perfect world, the gRPC connection would accept parameters to configure the stream once, and then to seek would be a new connection, but I see no way around this.  I am certainly in favor of adding comments and more specificity via protobuf defs if possible.;;;","17/Aug/16 4:24 AM;kchristidis;Great, case #2 then serves as a nice example of how the proto can be misinterpreted. Seems like we agree on everything else.;;;","17/Aug/16 5:18 AM;jyellick;I've revised the proto per your comments, feedback is welcome:

https://github.com/jyellick/fabric/blob/4d7fce08bda9d6aa159483139631899b62084f1e/orderer/atomicbroadcast/ab.proto;;;","17/Aug/16 5:29 AM;kchristidis;Looks great. If I think of any new interpretations, I'll post here.;;;","17/Aug/16 10:51 PM;jyellick;I've been thinking more on this and decided I absolutely hated some of the proto names, as they seem unexpressive.

See below for an updated version which makes the following changes:

update becomes deliver_update

new_properties becomes seek

properties becomes seek_info

message becomes broadcast_message

This obviously breaks compatibility with any existing code out there, but if we want to change these names, now seems like the time to me

https://github.com/jyellick/fabric/blob/aefd4b6c6dcef19d38101a4ff88fe9115317bb8c/orderer/atomicbroadcast/ab.proto;;;","17/Aug/16 10:57 PM;jyellick;One change I did not make above, which I was torn on, and would especially like feedback on.

I'd consider changing 'block_reply' to be 'deliver_reply' which would no longer contain both 'status' and 'block', instead, it would contain 'oneof' 'error' still of type status and block.

Thoughts?;;;","18/Aug/16 12:32 AM;kchristidis;Strong yes on the extensive use of the oneof keyword, as it makes the path restrictive and the implementation clearer. And yes on block_reply -> deliver_reply as it makes it consistent with the broadcast function signature.;;;","18/Aug/16 3:17 AM;jyellick;Please see an updated proto here:

https://github.com/jyellick/fabric/blob/97f37efe4f47d8e5aee14a4d9441273c36c112b2/orderer/atomicbroadcast/ab.proto

This changes the block_reply to deliver_reply, and adds the oneof semantics.

The corresponding branch also has updated solo and sample client code.
;;;","23/Aug/16 12:03 AM;binhn;The Peer assumes that there will be 1 endpoint to Orderer service, and the same root CA for TLS connection. ;;;","23/Aug/16 3:46 AM;jyellick;[~binhn], how should the orderer service authenticate clients?;;;","27/Aug/16 2:22 AM;jeffgarratt;I left a step in the current behave test that states the user ""binhn"" is authorized to use the orderer service.  This is a placeholder for the authentication mechanism, but highlights that it must be defined at some point.;;;",,,,,,,,,,,,,,,,,,,,,,
Valididator plug in API,FAB-44,12343,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,muralisr,Clayton Sims,Clayton Sims,12/Aug/16 11:15 PM,20/Jul/18 11:09 PM,28/Oct/23 2:57 AM,21/Oct/16 12:38 AM,,,,,fabric-peer,,,0,endorser,,,,,Murali ... assigning to your squad . re-assign/modify/delete as you see fit.,,Clayton Sims,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-37,,,,,,,,,"1|hzxaen:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Clayton Sims,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Validator gossip network,FAB-45,12344,12334,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,Clayton Sims,Clayton Sims,12/Aug/16 11:16 PM,20/Jul/18 11:09 PM,28/Oct/23 2:57 AM,10/Apr/17 6:52 AM,,,,,,,,0,,,,,,,,C0rWin,Clayton Sims,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxaev:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,C0rWin,Clayton Sims,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"09/Apr/17 8:08 PM;yacovm;I think this is not relevant anymore, [~C0rWin] ;;;","10/Apr/17 6:52 AM;C0rWin;I'm even not sure what exactly does this means, but yes sound it too old and not relevant anymore, closing it.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Implement committer state transfer,FAB-46,12345,12334,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,Clayton Sims,Clayton Sims,12/Aug/16 11:17 PM,20/Jul/18 11:09 PM,28/Oct/23 2:57 AM,07/Feb/17 5:50 PM,,,,,,,12/Aug/16 12:00 AM,0,,,,,,,,Clayton Sims,corecode,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxaf3:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Clayton Sims,corecode,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"16/Aug/16 11:20 PM;corecode;This is gossip? [~yacovm];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Chaincode code upgrade review,FAB-47,12346,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ales,Clayton Sims,Clayton Sims,12/Aug/16 11:43 PM,20/Jul/18 11:09 PM,28/Oct/23 2:57 AM,21/Apr/17 5:39 AM,,,v1.0.0,,fabric-crypto,,,0,Security,,,,,"This item relates to the review of the code associated to the chaincode upgrade from a security perspective. 
It is important to review the items below:
 - the versions a chainocode is upgraded with is a new one (related to FAB-3124)
 - requests for installed chaincode upgrades are signed by the peer's msp admin
 - change requests to the instantiation policy of an instantiated chaincode are well authorized (signed) by the current instantiation policy of the chaincode
 - change requests to the endorsement policy of an instantiated chaincode are well authenticated by the current chaincode instantiation policy ",,ChristopherFerris,Clayton Sims,elli-androulaki,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-757,,,,,,,,,"1|hzx5fj:",,,,,,Sprint 8 - Crypto,Sprint 9 - Crypto,Sprint 10 - Crypto,Sprint 13 - Crypto,Sprint 14 - Crypto,Sprint 16 - Crypto,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,Clayton Sims,elli-androulaki,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"24/Feb/17 6:12 PM;elli-androulaki;This has moved to a later point in time, after the new model upgrade is completed.;;;","13/Apr/17 3:50 AM;ChristopherFerris;If marking this as v1.1 was incorrect, feel free to change to v1.0.0. However, begs the question why this is in the current sprint.;;;","18/Apr/17 4:52 PM;elli-androulaki;Hi [~ChristopherFerris], indeed this was an item for v1.0. Upgrade review & security work is done in parallel with the security work in LCCC install and instantiate as they have many things in common. This is the reason this is in the current sprint.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Refactoring confidential chaincode logic to the new arch,FAB-48,12347,,Epic,Closed,FAB,Fabric,software,denyeart,,,High,Done,elli-androulaki,Clayton Sims,Clayton Sims,12/Aug/16 11:49 PM,21/Jul/18 4:09 AM,28/Oct/23 2:57 AM,20/Mar/18 4:51 AM,,,v1.0.0,,fabric-crypto,,,0,Security,,,,,"Moving to next architecture, we need to implement a slightly different communication protocol among client-sdk, endorsers, and committing peers.
Proto files are thus to change, and with this task we aim to gradually (and using existing code as much as possible) support confidentiality and privacy capabilities in the next architecture.",,AshishkumarLakshmanan,Clayton Sims,denyeart,elli-androulaki,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,Unset,,,Transition transaction-processing security code to the new architecture,,,,Unset,,,,"1|hzxapb:",,,,Unset,Unset,,,,,,,,,,,,,,,,,,,,,,,,,,,,AshishkumarLakshmanan,Clayton Sims,denyeart,elli-androulaki,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"15/Sep/16 4:36 PM;elli-androulaki;This is an epic including stories to be assigned into multiple sprints.;;;","14/Apr/17 1:16 AM;elli-androulaki;This is post v1.1.
;;;","20/Mar/18 4:51 AM;denyeart;This item is outdated and being tracked in other items.  Closing this one.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update SDK API to latest protobuf messages,FAB-49,12348,12613,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,jimthematrix,sheehan,sheehan,13/Aug/16 1:12 AM,20/Jul/18 11:09 PM,28/Oct/23 2:57 AM,03/Nov/16 2:21 AM,,,,,fabric-sdk-node,,19/Aug/16 12:00 AM,0,api,node-SDK,,,,"Deliver the new fabric.proto API which defines messages between the SDK, endorsers, ordering service, and committers.",,jimthematrix,sheehan,troyronda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxafb:",,,,,,Sprint 4 - nodeSDK,,,,,,,,,,,,,,,,,,,,,,,,,,,jimthematrix,sheehan,troyronda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"13/Aug/16 1:13 AM;sheehan;See https://gerrit.hyperledger.org/r/#/c/483/;;;","02/Nov/16 2:11 AM;jimthematrix;v1.0 protos have all been updated as of last Friday, as a result all SDK APIs are broken now.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Viper lets user specify options that don't make sense without warnings,FAB-50,12349,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sanchezl,lehors,lehors,13/Aug/16 3:07 AM,21/Jul/18 3:58 AM,28/Oct/23 2:57 AM,12/Apr/17 3:40 AM,,,WON'T FIX,,,,,0,Usability,,,,,"This issue is a transfer from GitHub https://github.com/hyperledger/fabric/issues/1309
I'm broadening the description because although the original issue was raised against the peer command specifically the discussion that followed brought to light the fact that the issue is more general.

Indeed, Fabric's configuration is currently handled via yaml files and Viper which provides no validation mechanism.

Several people have expressed interest in ditching Viper for that reason. Several possibilities were mentioned:

corecode commented on May 24:

Relevant SO post: http://stackoverflow.com/questions/16465705/how-to-handle-configuration-in-go

I think we should not limit ourselves to yaml if other packages provide obvious benefits. Transitioning config file structure is painful, but only once. Generally, people on go-nuts seem to dislike yaml, because it is a very complex format.

Options I can see:

    https://github.com/BurntSushi/toml ini-like, uses reflection, can express complex data (arrays, time)
    https://godoc.org/gopkg.in/gcfg.v1 ini, uses reflection, can express multi-section and multi-values
    https://golang.org/pkg/encoding/json/ json, standard go package, uses reflection, complex data, no comments
    https://github.com/vharitonsky/iniflags ini, ties into standard go flags package, allows overrides via command line


",,jeffgarratt,jyellick,lehors,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzxapr:",,,,Unset,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,jeffgarratt,jyellick,lehors,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"30/Aug/16 11:36 PM;jyellick;It looks like the latest incarnation of Viper includes an `UnmarshalExact` function which addresses the concerns above

To my understanding, to utilize this new function, we would declare a structure with an instance `ref` with names corresponding to our config fields, then call the `viper.UnmarshalExact(&ref)` which will produce an error if any config values are specified in the config file which do not have corresponding entries in the structure.

This would allow us to keep the current config format, so no pain of transition, and address the lack of validation complaints.

This avoid the pitfalls of using non-standard config formats like ini, and allows us to retain comments unlike json.

I know [~jeffgarratt] is also a fan of sticking with yaml if he'd like to chime in.;;;","31/Aug/16 8:36 AM;jeffgarratt;I am in favor of yaml as I yet to see a compelling option wrt to pragmatism.  It support comments and is simple to understand.  It also can be very powerful, and the addition mentioned by [~jyellick] seems to address some prior concerns.  I would not disregard the capacity for yaml to support our as of yet undetermined need for complexity.;;;","01/Sep/16 12:23 AM;jyellick;This I think might be a good first golang oriented issue to target.

Although you may need to deviate, the rough steps as I see it:

1. Try the newest version of Viper locally, see if you can get the behavior of identifying extra parameters in the config file as expected.
2. Pull the new viper code into hyperledger fabric and add or remove any associated dependencies.  Submit this as a changeset.  Be sure to highlight the included and removed packages as something in need of review.
3. Convert the existing config code everywhere viper is used, and convert it to use the newer mechanism, I imagine this would be one changeset per config.;;;","08/Sep/16 10:06 PM;lehors;Hi guys,
This sounds promising. I agree that if we can find a way to validate the yaml files than sticking to yaml isn't a bad thing.

;;;","02/Apr/17 9:19 PM;mastersingh24;this is not a defect;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Deliver new v1 ledger interface,FAB-52,12351,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,manish-sethi,sheehan,sheehan,13/Aug/16 4:08 AM,20/Jul/18 11:09 PM,28/Oct/23 2:57 AM,26/Sep/16 4:06 PM,,,,,fabric-ledger,,16/Sep/16 12:00 AM,0,Ledger,,,,,"Deliver the new ledger interface defined at https://github.com/hyperledger/fabric/wiki/Next-Ledger-Architecture-Proposal#api

It's not required that the interface be implemented at this point, but having a stubs would be helpful for developers trying to implement other components of the next architecture.

Overall ledger design is included as an attachment to this work item.",,dianfu,Eagel,inatatsu,sheehan,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-56,FAB-57,FAB-59,FAB-58,FAB-55,,,,,,,,,,,FAB-185,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx9j3:",,,,,,Sprint 1,,,,,,,,,,,,,,,,,,,,,,,,,,,dianfu,Eagel,inatatsu,sheehan,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Connect ordering gRPC service (committer coordinator) to ledger interface,FAB-55,12354,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,sheehan,sheehan,13/Aug/16 4:18 AM,20/Jul/18 11:09 PM,28/Oct/23 2:57 AM,09/Nov/16 3:17 AM,,,,,fabric-ledger,,30/Sep/16 12:00 AM,0,Ledger,,,,,"Connect the gRPC service on the committer which receives batches from the ordering service to the ledger interface.

The gRPC service for receiving batches on the committer is being written by the consensus team",,sheehan,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-52,,,,,,,,,,,,,,,,,,,FAB-194,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxaov:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,sheehan,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Implement RawLedger interface,FAB-56,12355,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,manish-sethi,sheehan,sheehan,13/Aug/16 4:21 AM,20/Jul/18 11:09 PM,28/Oct/23 2:57 AM,29/Oct/16 5:47 AM,,,,,fabric-ledger,,30/Sep/16 12:00 AM,0,Ledger,,,,,"Implement the raw ledger for storing transactions received in batches from the ordering service.

Implementation of {{type RawLedger interface}} in the ledger API.",,sheehan,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,144000,144000,,0%,144000,144000,,,FAB-52,,,,,,,,,FAB-57,FAB-59,,,,,,,,,FAB-193,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-758,,,,,,,,,"1|hzxafj:",,,,,,Sprint 2,Sprint 3,Sprint 4 -xxxxx,,,,,,,,,,,,,4.0,,,,,,,,,,,,sheehan,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Implement ValidatedLedger interface,FAB-57,12356,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,manish-sethi,sheehan,sheehan,13/Aug/16 4:27 AM,20/Jul/18 11:09 PM,28/Oct/23 2:57 AM,26/Sep/16 4:06 PM,,,,,fabric-ledger,,30/Sep/16 12:00 AM,0,Ledger,,,,,"The validated ledger passes transactions through the VSCC and stores transactions that are marked as ""valid"" based on the VSCC output.

Implementation of {{type ValidatedLedger interface}} in the ledger API.",,sheehan,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-52,FAB-56,FAB-64,,,,,,,FAB-59,,,,,,,,,,FAB-193,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx9jz:",,,,,,Sprint 1,,,,,,,,,,,,,,,,,,,,,,,,,,,sheehan,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Implement TxSimulator interface e.g. SetState(),FAB-58,12357,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,manish-sethi,sheehan,sheehan,13/Aug/16 4:28 AM,20/Jul/18 11:09 PM,28/Oct/23 2:57 AM,26/Sep/16 4:06 PM,,,,,fabric-ledger,,16/Sep/16 12:00 AM,0,Ledger,,,,,"Implement the ability to generate simulation results based on a proposal. This will be called by the endorser as it builds an Action

Implementation of {{type TxSimulator interface}} in the ledger API.",,sheehan,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-64,FAB-52,,,,,,,,FAB-62,,,,,,,,,,FAB-185,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx9jb:",,,,,,Sprint 1,,,,,,,,,,,,,,,,,,,,,,,,,,,sheehan,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Implement Prune(policy PrunePolicy) interface,FAB-59,12358,12507,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,sheehan,sheehan,13/Aug/16 5:35 AM,10/Jan/20 5:10 AM,28/Oct/23 2:57 AM,10/Jan/20 5:10 AM,,,Future,,fabric-ledger,,30/Dec/16 12:00 AM,1,Ledger,,,,,"The ledger needs to support the pruning of blocks so that disk usage does not continuously increase forever.

This is the implementation of {{Prune(policy PrunePolicy) error}} in the Ledger API",,IngoRammer,luomin,rhegde,seokm0,sheehan,sigma67,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-52,FAB-56,FAB-57,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxar3:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,IngoRammer,luomin,rhegde,seokm0,sheehan,sigma67,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Support alternate databases for more flexibility with ledger functions and ledgers used,FAB-60,12359,,Epic,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,denyeart,markparz,markparz,13/Aug/16 5:39 AM,23/Jul/20 5:41 PM,28/Oct/23 2:57 AM,06/Mar/18 5:54 AM,,,v1.0.0,,fabric-ledger,,,0,ledger,,,,,"Story: As a developer I need more flexibility with the ledger, so that I can utilize alternate databases, have interfaces for advanced queries, and backup capabilities. 
 Initial external database will be CouchDB. This capability will be introduced as a beta initially, so that community feedback can be gathered.

See attachment slides for details. Broader Ledger context can be found in the Ledger slides FAB-758.",,bcbrock,bobbiejc,daijianw,denyeart,dianfu,Eagel,grapebaba,inatatsu,joshhus,kenzhang,king3000,luomin,markparz,mihaig,nikileshsa,obernin,v_thirugnanam,wutongtree,xiejunan,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-8665,FAB-2998,,,,,,,,"15/Nov/16 11:53 PM;denyeart;HyperledgerFabric_PluggableDatabase_20161115.pptx;https://jira.hyperledger.org/secure/attachment/10227/HyperledgerFabric_PluggableDatabase_20161115.pptx",,,,,,,,,,,,Unset,,Unset,ghx-label-5,,Support additional ledger state databases,To Do,,,Unset,,,,"1|hzxaqn:",,,,Unset,Unset,,,,,,,,,,,,,,,,,,,,,,,,,,,,bcbrock,bobbiejc,daijianw,denyeart,dianfu,Eagel,grapebaba,inatatsu,joshhus,kenzhang,king3000,luomin,markparz,mihaig,nikileshsa,obernin,v_thirugnanam,wutongtree,xiejunan,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"16/Dec/16 2:16 AM;joshhus;Hello, looks like this design doc has been removed from the design doc list at https://wiki.hyperledger.org/community/fabric-design-docs ... How should this removal be interpreted - update, or redesign coming, etc. ? Thanks!;;;","06/Mar/18 5:53 AM;denyeart;This work item was for supporting alternate state databases in 1.0, and is Done based on the CouchDB implementation.

A related item is FAB-8665 which proposes to use the new go plugin architecture to support truly pluggable state databases.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Standardize logging ,FAB-61,12360,,Epic,Closed,FAB,Fabric,software,denyeart,,,High,Done,binhn,markparz,markparz,13/Aug/16 5:53 AM,21/Jul/18 4:09 AM,28/Oct/23 2:57 AM,12/Apr/17 1:23 AM,,,v1.0.0,,,,,0,Usability,,,,,"Story: Developers need the ability to understand what is being returned from the code and what is happening when something goes wrong, in a standardized fashion; so that they can go to consolidated location(s) to find messages and error logs. This information needs to be uniform in nature based on industry standards and best practices.

Description:
* Standardized when to use certain errors such as a PANIC. 
* Centralize where these errors and messages will be logged and output.",,benjsmi,bmos299,ChristopherFerris,markparz,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,Unset,ghx-label-7,,Standardized error and messaging handling,To Do,,,Unset,,,,"1|hzxaqv:",,,,Unset,Unset,,,,,,,,,,,,,,,,,,,,,,,,,,,,benjsmi,bmos299,ChristopherFerris,markparz,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"26/Aug/16 3:56 AM;markparz;[~binhn], is there a document that defines the standardization of status codes that we can point at? [~Clayton Sims] stated this was resolved.;;;","11/Nov/16 12:44 AM;mastersingh24;[~binhn]  Anyone working on this?   I'd like to propose moving to the logrus package and do something like we tried to do with the fabric/flogging package;;;","21/Feb/17 2:12 AM;benjsmi;It looks like some effort has been made to this effect in that the log output format is controllable to an extent in [core.yaml|https://github.com/hyperledger/fabric/blob/master/peer/core.yaml#L41].

But this format isn't adhered to by all components.  As an example, I've noticed that cop doesn't follow this format and appears to be using the [cfssl|https://github.com/hyperledger-archives/fabric-cop/blob/72a87e3f385094471b4e3744c67df78be0fb701e/cli/server/auth.go#L27] logger?

Regardless of what package we use (I agree logrus is a good idea), can we make sure that logs from all components adhere to the standard in core.yaml or at least that there is a default standard across all components that is the same?;;;","10/Apr/17 12:00 AM;ChristopherFerris;[~markparz] [~Clayton Sims] we need to get a sense of where we are with this. I know progress was made, even though not tracked in the epic. Maybe stories related need to be linked to this epic.;;;","10/Apr/17 10:43 PM;markparz;Have heard of some bugs in this area on what is actually being output, wrong log level, ie. warning is putting out debug. 
[~bmos299] have you seen the errors in the logs? [~benjsmi] and [~mrshah] have come across some issues and opening bugs.;;;","10/Apr/17 11:00 PM;bmos299;[~ibmmark] we have two issues on this topic.  One for the cleanup work and one and actual bug:
https://jira.hyperledger.org/browse/FAB-3005
https://jira.hyperledger.org/browse/FAB-3009

This are def needs focus.
Thanks,
Barry;;;","12/Apr/17 1:22 AM;ChristopherFerris;I don't think that the remaining items are related to this epic. Either there is standardized logging or there isn't. Bugs and cleanup are not relevant to this. Going to mark as done.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,
NOT NEEDED: Implement CopyState(sourceChaincodeID string) function in TxSimulator interface,FAB-62,12361,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,manish-sethi,sheehan,sheehan,13/Aug/16 6:03 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,08/Apr/17 3:30 AM,,,,,fabric-ledger,,30/Dec/16 12:00 AM,0,Ledger,,,,,The {{CopyState(sourceChaincodeID string)}} interface in {{TxSimulator}} must be supported so that chaincodes can be upgraded. This copies all of the state data from one chaincode to another.,,denyeart,sheehan,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-58,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxecv:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,denyeart,sheehan,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"09/Nov/16 3:49 AM;denyeart;This item is likely not needed now, since chaincode upgrade will likely work against the data from pre-upgrade.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[node-SDK] SDK event listener for chaincode events,FAB-63,12362,,Story,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,,markparz,markparz,13/Aug/16 6:06 AM,21/Jul/18 3:56 AM,28/Oct/23 2:57 AM,08/Sep/16 11:57 PM,,,,,,,,1,,,,,,"STORY: Application developers require the SDK to have the ability to listen to events triggered from the chain, so that they can continue to process events within their application once received. 

Original issue (1116)[https://github.com/hyperledger/fabric/issues/1116]",,jimthematrix,markparz,zmanian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-179,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,ghx-label-9,,Event listener for the SDK,To Do,,,,,,,"1|hzxarb:",,,,Unset,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,jimthematrix,markparz,zmanian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"08/Sep/16 11:58 PM;jimthematrix;this is a duplicate of FAB-179;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Implement the QueryExecutor interface e.g. GetState(),FAB-64,12363,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,manish-sethi,sheehan,sheehan,13/Aug/16 6:06 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,26/Sep/16 4:06 PM,,,,,fabric-ledger,,16/Sep/16 12:00 AM,0,Ledger,,,,,"Implement the following functions in the {{QueryExecutor interface}}

{{GetState(key string) ([]byte, error)}}
",,sheehan,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-58,FAB-57,FAB-65,,,,,,,,FAB-185,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx9jj:",,,,,,Sprint 1,,,,,,,,,,,,,,,,,,,,,,,,,,,sheehan,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Ledger client query: I need to query the ledger outside of chaincode (Ledger API layer),FAB-65,12364,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,manish-sethi,sheehan,sheehan,13/Aug/16 6:10 AM,21/Jul/18 3:54 AM,28/Oct/23 2:57 AM,03/Jan/17 11:40 PM,,,,,fabric-ledger,,30/Dec/16 12:00 AM,0,Ledger,,,,,"Implement {{ExecuteQuery(query string) (ResultsIterator, error)}} in the {{QueryExecutor}} interface

Implemented in FAB-1395.",,inatatsu,sheehan,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-64,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-199,,,,,,,,,"1|hzxajr:",,,,Unset,,Sprint 8 - Ledger,,,,,,,,,,,,,,,4.0,Unset,,,,,,,,,,,inatatsu,sheehan,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
chaincode to chaincode invocation for confidential contracts,FAB-67,12366,,Epic,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,ellaki,markparz,markparz,13/Aug/16 6:41 AM,12/Jul/19 8:20 PM,28/Oct/23 2:57 AM,12/Jul/19 8:20 PM,,,Future,,fabric-crypto,,,2,confidentiality,Security,,,,"Story: As I a chaincode developer I need to be able to invoke transactions on 'peer' chaincode with integrity(confidentially) so that I can trust transactions flow between my chaincode. 

Description:
Basic support for chaincode to chaincode invocation for confidential contracts that belong to the same confidentiality domain (e.g., all endorsers of the chain)",,AshishkumarLakshmanan,ChristopherFerris,fredbi,markparz,mne,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,Unset,ghx-label-4,,Chaincode to chaincode for confidential contracts,To Do,,,Unset,,,,"1|hzxarr:",,,,Unset,Unset,,,,,,,,,,,,,,,,,,,,,,,,,,,,AshishkumarLakshmanan,ChristopherFerris,fredbi,markparz,mne,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"10/Apr/17 12:02 AM;ChristopherFerris;I keep hearing from people this is important. Otomate for instance. I marked as v1.1 but possibly needs to be high. [~muralisr] please comment.;;;","17/Oct/17 8:47 PM;fredbi;I believe too that it is an important feature. It is a difficult problem, though.

Below, I explain why it is important in my view. In short, I think that cross-chaincode TX support allows for more flexible chaincode design/data isolation.

What I would need at least is a clear roadmap for this feature (v1.1, v1.x, won't fix, ...?).
h3. Feature: cross-chaincode transaction
h3. Use-cases:
 * SDK initiated transactions
 * CC initiated transactions
 * CC triggered transactions within the same transaction context

Bottom line:

{{begin tran}}

{{invoke cc A (x<=10)}}

{{invoke cc B (y <=34)}}

{{commit tran}}
h3. Why?

Basically a chaincode is an autonomous object encapsulating all required data and methods to manipulate its data. Fabric ensures that all changes to the persistent state of a chaincode are atomic and consistent (e.g. serializable).

Now let's assume the designer needs to ensure confidentiality on some data items by creating distinct chaincodes, each providing a different view of one single fact, thus creating data redundancy, and thus the need for synchronization.

 

Example:
 * an issuer (e0) of some asset (a0) wants to know about the holders of this asset: chaincode instance A0 implements the registry of asset holders (in)
 * an investor (i0) in asset may also hold assets (ak) from other issuers (ek): chaincode instance I0 implements the portfolio of holdings for this investor

The ""ownership fact"", i.e. (i0) detains x units of asset (a0) is redundant here and stored in both A0 and I0.

Obviously, the prefered way would be to avoid redundancy and record a unitary ""ownership fact"" in one single chaincode (BTW, this looks like the pattern followed by ""Fabric Composer"").

However, this raises important issues:
 * such an omniscient smart contract would know everything about all (ik) and all (ek)
 * this smart contract would be loaded with features (e.g. in our example: portfolio management AND asset servicing)
 * data privacy would require fine-grained data encryption, which is manageable when access is bilateral, but less so when multi-lateral.
 * no matter how strong encryption we use, such a component would become a highly sensitive logical point of failure, with expected difficulties ahead to maintain it
 * some customers might be unwilling to distribute private data across the population of all (ik) and all (ek)
 * The portfolio and asset registry may follow different validation rules. I might be impossible to define a single endorsing policy ruling this universe

 

Separating chaincodes brings redundancy, which is a synchronization headache. On the other hand, this brings greater flexibility:
 * Chaincode components are more specialized and simpler. There act more like 'IOTs' than a central notary
 * It becomes possible to rule them with different set of endorsers and committers;;;","17/Oct/17 8:53 PM;fredbi;Additional note: my current plan for implementation covering the needs for my own projects is to provide an implementation at the applicative level.

Basically, this implies deploying a ""blind TX coordinator"" chaincode implementing a 2-phase commit protocol and enforcing all SDK/CC using it.

Quite possible, but will be a drag on performances and code complexity.;;;","06/Jul/18 9:47 PM;ChristopherFerris;[~ellaki] is this still needed?;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Unable to Enroll user after being unEnrolled - ECA.db user state need to be reset,FAB-69,12368,,Bug,Closed,FAB,Fabric,software,denyeart,,,Lowest,Done,,smithbk,smithbk,13/Aug/16 7:53 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,05/Nov/16 8:25 PM,v0.6,,,,,,,0,MembershipServices,,,,,See https://github.com/hyperledger-archives/fabric/issues/1620,,ChristopherFerris,mastersingh24,smithbk,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxarz:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,mastersingh24,smithbk,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"06/Sep/16 5:59 AM;ChristopherFerris;When un-enrolling a User using REST API:
DELETE host:port/resgistrar/{enrollmentID}

and trying to re-enroll it using the new enrollSecret (fetched from the eca.db ,table :Users)
i get the following failure notification:
certificate creation token expired

Upon investigation is seems that the ""state"" field in the ""Users"" table is not being reset to 0.

;;;","05/Nov/16 8:25 PM;mastersingh24;duplicate of FAB-71;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"membersrvc.yaml format can be improved to remove duplicate info, etc",FAB-70,12369,,Story,Closed,FAB,Fabric,software,denyeart,,,Lowest,Done,raullaprida,smithbk,smithbk,13/Aug/16 9:28 AM,21/Jul/18 3:54 AM,28/Oct/23 2:57 AM,11/Apr/17 7:56 AM,,,WON'T FIX,,,,,0,MembershipServices,,,,,"Some user information in membersrvc.yaml is duplicated because it is spread across the ECA and ACA sections.  This file would be simpler if there was a single user section that contains a combination of the data.

Also, it should not be in table format for each user because doing so requires putting values for all fields when some/many may be optional.

Each field should have also have more complete comments to describe it's use and refer to section of documentation for fuller descriptions. ",,smithbk,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzxa8f:",,,,Unset,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,smithbk,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"21/Oct/16 10:09 PM;smithbk;Raul, the COP server which is the new membersrvc will remove duplicate info.  It uses CFSSL JSON config file format, plus additional info.  See FAB-361 for the overall epic for this work.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
I want member services to be highly available (i.e. no SPoF),FAB-73,12372,,Story,Closed,FAB,Fabric,software,denyeart,,,Lowest,Done,,smithbk,smithbk,13/Aug/16 10:11 AM,21/Jul/18 3:53 AM,28/Oct/23 2:57 AM,14/Apr/17 10:03 AM,,,DUPLICATE,,,,,0,MembershipServices,,,,,"Membership services runs as a single process today.  We must be able to run multiple instances of it in a cluster so that if one process fails, others are available.  This should work both in the same geographic location as well as across multiple geos.",,smithbk,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABC-611,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzxat3:",,,,Unset,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,smithbk,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"21/Oct/16 10:19 PM;smithbk;This is covered under FAB-113 so this one can be canceled;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Membership services should support running in a cluster for HA,FAB-74,12373,,Story,Closed,FAB,Fabric,software,denyeart,,,Lowest,Done,ashutosh_kumar,smithbk,smithbk,13/Aug/16 10:20 AM,21/Jul/18 3:54 AM,28/Oct/23 2:57 AM,14/Apr/17 10:04 AM,,,DUPLICATE,,,,,0,MembershipServices,,,,,Today you can only run a single instance of membership services.  We need to be able to run multiple instances in a cluster for HA.,,inatatsu,mastersingh24,smithbk,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-173,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzxatb:",,,,Unset,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,inatatsu,mastersingh24,smithbk,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"16/Aug/16 1:06 AM;mastersingh24;duplicate of FAB-73 ?;;;","16/Aug/16 2:21 AM;smithbk;dup of FAB-73 ... was doing stories and features, but no need here;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
affect the migration of the development from GH to LF hosted tools,FAB-76,12375,,Epic,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,ChristopherFerris,ChristopherFerris,14/Aug/16 3:06 AM,21/Jul/18 4:08 AM,28/Oct/23 2:57 AM,10/Apr/17 12:03 AM,,,v1.0.0,v1.0.0-alpha1,,,,0,,,,,,affect the migration of the development from GH to LF hosted tools,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,Unset,ghx-label-6,,migration from GH to Gerrit/Jira/jenkins,To Do,,,Unset,,,,"1|hzxatr:",,,,Unset,Unset,,,,,,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"as a developer, I can find the Hyperledger Fabric code on GitHub so that I can explore it without needing access to Gerrit",FAB-77,12376,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ChristopherFerris,ChristopherFerris,ChristopherFerris,14/Aug/16 3:08 AM,21/Jul/18 3:53 AM,28/Oct/23 2:57 AM,26/Aug/16 4:19 AM,,,,,,,19/Aug/16 12:00 AM,0,,,,,,"as a developer, I can find the Hyperledger Fabric code on GitHub so that I can explore it without needing access to Gerrit",,AshishkumarLakshmanan,bgorman,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-76,,,,,,,,,"1|hzxaa7:",,,,Unset,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,AshishkumarLakshmanan,bgorman,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"26/Aug/16 4:19 AM;ChristopherFerris;code is mirrored to GH now;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
transfer hyperledger/fabric to hyperledger-archives org,FAB-78,12377,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ChristopherFerris,ChristopherFerris,ChristopherFerris,14/Aug/16 3:15 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,26/Aug/16 4:18 AM,,,,,,,19/Aug/16 12:00 AM,0,,,,,,"transfer frozen hyperledger/fabric repo to https://github.com/hyperledger-archives org. Transferred repository needs to be locked down as read-only.

README needs to be updated with one last commit to provide clear explanation as to what its status and purpose is.",,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-76,,,,,,,,,"1|hzxaaf:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"17/Aug/16 2:35 AM;ChristopherFerris;I think that the first step should be to clearly update the README to indicate that we have moved. ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
create permanent archives (clone) of hyperledger-archives repositories off-github,FAB-79,12378,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ChristopherFerris,ChristopherFerris,ChristopherFerris,14/Aug/16 3:21 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,26/Aug/16 4:19 AM,,,,,,,19/Aug/16 12:00 AM,0,,,,,,"for each repository in hyperledger-archives, create a permanent clone off-github to preserve the artefact permanently.",,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,28800,28800,,0%,28800,28800,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-76,,,,,,,,,"1|hzxaan:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"26/Aug/16 4:19 AM;ChristopherFerris;done https://github.com/hyperledger-archives/fabric;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As a Solution Architect,  I would like the ability to encrypt meta independent of payload",FAB-81,12380,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,elli-androulaki,Clayton Sims,Clayton Sims,16/Aug/16 12:04 AM,12/Sep/18 6:58 PM,28/Oct/23 2:57 AM,12/Sep/18 6:58 PM,,,Abandoned,WON'T FIX,fabric-crypto,,16/Sep/16 12:00 AM,0,Security,,,,,,,Clayton Sims,elli-androulaki,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,115200,115200,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-67,,,,,,,,,"1|hzxc2v:",,,,Unset,,Sprint 1,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,Clayton Sims,elli-androulaki,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"31/Aug/16 8:33 PM;elli-androulaki;This is work done by Alessandro Sorniotti: 

Completed stuff:
  - new structure for message to validator with type field and subtypes
  - new message to validator subtype that holds extra key for metadata
  - two new ConfidentialityLevels (DATA_PUBLIC_META_CONFIDENTIAL, 
DATA_CONFIDENTIAL_META_PUBLIC)
  - validator code can handle old all possible types and modes
  - golang client can handle all possible types and modes
  - new golang client unit tests
  - nodejs client updated to send new structure for message to validator

Missing stuff:
  - nodejs client still sends old subtype (no metadata key)
  - nodejs client still doesn't handle the two new ConfidentialityLevels
;;;","11/Aug/17 6:42 PM;elli-androulaki;This is an old item referring to v0.6; shall we close it?

 ;;;","12/Sep/18 6:58 PM;elli-androulaki;This is no longer relevant.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Chaincode deploy is not working on commit#fd498d2,FAB-82,12381,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,hgabre,rameshthoomu,rameshthoomu,16/Aug/16 12:04 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,29/Aug/16 7:55 AM,,,,,,,,0,chaincode,,,,,"Observed below error message while deploying chaincode on commit# fd498d2

*""Error unmarshalling chaincode request payload: illegal base64 data at input byte 0""
*
Below are steps followed:
* 
* pull commit#master-fd498d2 from hyperledger docker hub
* launch 4 peer network with security enabled 
* use *post man* to send registrar and deploy transaction requests

After deploy chaincode with below payload observed above said error message:
{
  ""jsonrpc"": ""2.0"",
  ""method"": ""deploy"",
  ""params"": {
    ""type"": 1,
    ""chaincodeID"":{
        ""path"":""github.com/hyperledger/fabric/examples/chaincode/go/chaincode_example02""
    },
    ""ctorMsg"": {
        ""function"":""init"",
        ""args"":[""a"", ""100"", ""b"", ""200""]
    },
    ""secureContext"": ""test_user0""
  },
  ""id"": 1
}",,hgabre,inatatsu,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"16/Aug/16 12:04 AM;rameshthoomu;Capture.PNG;https://jira.hyperledger.org/secure/attachment/10003/Capture.PNG","16/Aug/16 12:04 AM;rameshthoomu;deploy_log.txt;https://jira.hyperledger.org/secure/attachment/10004/deploy_log.txt",,,,,,,,,,,,,,,,,,,,,,,,"1|hzxaun:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,hgabre,inatatsu,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"16/Aug/16 12:39 AM;rameshthoomu;deploy transaction is working as expected using below payload

{
  ""jsonrpc"": ""2.0"",
  ""method"": ""deploy"",
  ""params"": {
    ""type"": 1,
    ""chaincodeID"":{
        ""path"":""github.com/hyperledger/fabric/examples/chaincode/go/chaincode_example02""
    },
    ""ctorMsg"": {
        ""args"":[""aW5pdA=="", ""YQ=="", ""MTAwMA=="", ""Yg=="", ""MjAwMA==""]
    }
  },
  ""id"": 1
}
API documentation is not updated as per the code changes.. 
Below gerrit request is in review. Will re-test this issue after merge the below patch set.
https://gerrit.hyperledger.org/r/#/c/499/;;;","02/Sep/16 5:39 PM;hgabre;I will have to update the docs for the current (and hopefully 'final') state.;;;","02/Sep/16 6:36 PM;hgabre;https://gerrit.hyperledger.org/r/#/c/875/ this updates the docs. 499 won't be merged.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
expose status of jenkins build in index.md,FAB-83,12382,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,rameshthoomu,rameshthoomu,16/Aug/16 2:17 AM,21/Jul/18 3:56 AM,28/Oct/23 2:57 AM,23/Aug/16 2:07 AM,,,,,,,,0,Documentation,,,,,"Add Jenkins build status markdown view URL in index.md. Below is the URL to add index.md

[![Build Status](https://jenkins.hyperledger.org/buildStatus/icon?job=fabric-merge-x86_64)](https://jenkins.hyperledger.org/job/fabric-merge-x86_64)
",,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzxauv:",,,,Unset,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add encryption-decryption to the metadata field,FAB-84,12383,12380,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,elli-androulaki,Clayton Sims,Clayton Sims,16/Aug/16 3:06 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,12/Sep/16 7:01 PM,,,,,fabric-crypto,,16/Sep/16 12:00 AM,0,Security,,,,,Add encryption-decryption to the metadata field,,Clayton Sims,elli-androulaki,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxav3:",,,,,,Sprint 1,,,,,,,,,,,,,,,,,,,,,,,,,,,Clayton Sims,elli-androulaki,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"07/Sep/16 1:48 AM;elli-androulaki;Completed for the golang NVP and VP client. We need to extend this capability to the client-sdk.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"enhance ""message to validator"" to support metadata key even in the case of a public transaction",FAB-85,12384,12380,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,elli-androulaki,Clayton Sims,Clayton Sims,16/Aug/16 3:07 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,12/Sep/16 7:01 PM,,,,,fabric-crypto,,16/Sep/16 12:00 AM,0,Security,,,,,"enhance ""message to validator"" to support metadata key even in the case of a public transaction",,Clayton Sims,elli-androulaki,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxavb:",,,,,,Sprint 1,,,,,,,,,,,,,,,,,,,,,,,,,,,Clayton Sims,elli-androulaki,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"07/Sep/16 1:47 AM;elli-androulaki;Done for the golang NVP and VP code. We need to do the same on the client-sdk. Estimated workload: a couple of days.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"introduce ""confidentiality policy"" field in the transaction format to denote independent encryption of metadata",FAB-86,12385,12380,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,elli-androulaki,Clayton Sims,Clayton Sims,16/Aug/16 3:08 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,07/Sep/16 1:49 AM,,,,,fabric-crypto,,31/Aug/16 12:00 AM,0,Security,,,,,"introduce ""confidentiality policy"" field in the transaction format to denote independent encryption of metadata",,Clayton Sims,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxavj:",,,,,,Sprint 1,,,,,,,,,,,,,,,,,,,,,,,,,,,Clayton Sims,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As a solution architect, I need confidentiality for chain code to chain code invocation (application layer)",FAB-87,12386,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,elli-androulaki,Clayton Sims,Clayton Sims,16/Aug/16 3:21 AM,12/Jul/19 8:21 PM,28/Oct/23 2:57 AM,12/Jul/19 8:21 PM,,,Future,,fabric-crypto,,16/Sep/16 12:00 AM,0,Security,,,,,,,Clayton Sims,elli-androulaki,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-488,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-67,,,,,,,,,"1|hzxc3z:",,,,Unset,,Sprint 1,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,Clayton Sims,elli-androulaki,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"27/Jul/18 2:57 PM;elli-androulaki;This needs to be marked as ""closed"" as it is no longer relevant to fabric architecture.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Finalize design for single-hop C2C.,FAB-88,12387,12386,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,elli-androulaki,Clayton Sims,Clayton Sims,16/Aug/16 3:45 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,28/Sep/16 2:07 AM,,,,,fabric-crypto,,16/Aug/16 12:00 AM,0,Security,,,,,Finalize design for single-hop C2C.,,Clayton Sims,smithbk,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxavr:",,,,,,Sprint 1,,,,,,,,,,,,,,,,,,,,,,,,,,,Clayton Sims,smithbk,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"27/Aug/16 12:10 AM;smithbk;I assume this is covered by FAB-94, but if different, please also attach design for this.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Transfer of the security context from the caller to the callee,FAB-89,12388,12386,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,elli-androulaki,Clayton Sims,Clayton Sims,16/Aug/16 3:46 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,07/Sep/16 1:44 AM,,,,,fabric-crypto,,31/Aug/16 12:00 AM,0,Security,,,,,Transfer of the security context from the caller to the callee,,Clayton Sims,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxavz:",,,,,,Sprint 1,,,,,,,,,,,,,,,,,,,,,,,,,,,Clayton Sims,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Transfer the metadata fields of related deploy transaction to the corresponding chaincode (to not break application-layer confidentiality of issue,FAB-90,12389,12386,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,elli-androulaki,Clayton Sims,Clayton Sims,16/Aug/16 3:47 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,12/Sep/16 10:14 PM,,,,,fabric-crypto,,16/Sep/16 12:00 AM,0,Security,,,,,Transfer the metadata fields of related deploy transaction to the corresponding chaincode (to not break application-layer confidentiality of issue,,Clayton Sims,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxaw7:",,,,,,Sprint 1,,,,,,,,,,,,,,,,,,,,,,,,,,,Clayton Sims,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Prepare an example of how to use confidential C2C ,FAB-91,12390,12386,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,elli-androulaki,Clayton Sims,Clayton Sims,16/Aug/16 3:48 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,07/Sep/16 1:45 AM,,,,,fabric-crypto,,16/Sep/16 12:00 AM,0,Security,,,,,Prepare an example of how to use confidential C2C ,,Clayton Sims,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxawf:",,,,,,Sprint 1,,,,,,,,,,,,,,,,,,,,,,,,,,,Clayton Sims,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As a solution architect, I would confidentiality based invocation access control capabilities",FAB-92,12391,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,elli-androulaki,Clayton Sims,Clayton Sims,16/Aug/16 3:52 AM,21/Jul/18 3:57 AM,28/Oct/23 2:57 AM,27/Aug/16 12:01 AM,,,,,fabric-crypto,,,0,Security,,,,,,,Clayton Sims,smithbk,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-67,,,,,,,,,"1|hzxawn:",,,,Unset,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,Clayton Sims,smithbk,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"27/Aug/16 12:03 AM;smithbk;This is a dup of FAB-93 which already has subtasks, so closing this one;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As Solution architect, I would confidentiality based invocation access control capabilities",FAB-93,12392,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,elli-androulaki,Clayton Sims,Clayton Sims,16/Aug/16 4:46 AM,21/Jul/18 3:55 AM,28/Oct/23 2:57 AM,11/Apr/17 7:31 AM,,,WON'T FIX,,fabric-crypto,,16/Sep/16 12:00 AM,0,Security,,,,,"As Solution architect, I would confidentiality based invocation access control capabilities",,Clayton Sims,elli-androulaki,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-810,,,,,,,,,"1|hzxc2n:",,,,Unset,,Sprint 1,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,Clayton Sims,elli-androulaki,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Aug/16 10:05 PM;elli-androulaki;This is a task assigned to Angelo De Caro (@adecaro).;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Finalize design for single-hop C2C with attributes support,FAB-94,12393,12392,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,elli-androulaki,Clayton Sims,Clayton Sims,16/Aug/16 4:48 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,17/Aug/16 11:21 PM,,,,,fabric-crypto,,16/Aug/16 12:00 AM,0,Security,,,,,Finalize design for single-hop C2C with attributes support,,Clayton Sims,smithbk,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxawv:",,,,,,Sprint 1,,,,,,,,,,,,,,,,,,,,,,,,,,,Clayton Sims,smithbk,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"26/Aug/16 11:51 PM;smithbk;Can you attach the design?;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
 Transfer of the attributes via security context from the caller to the callee ,FAB-95,12394,12392,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,elli-androulaki,Clayton Sims,Clayton Sims,16/Aug/16 4:49 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,16/Sep/16 5:45 PM,,,,,fabric-crypto,,16/Sep/16 12:00 AM,0,Security,,,,, Transfer of the attributes via security context from the caller to the callee ,,Clayton Sims,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxax3:",,,,,,Sprint 1,,,,,,,,,,,,,,,,,,,,,,,,,,,Clayton Sims,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
 Prepare an example of how to use confidential C2C in the context of attribute-based access control ,FAB-96,12395,12392,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,elli-androulaki,Clayton Sims,Clayton Sims,16/Aug/16 4:49 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,12/Sep/16 10:13 PM,,,,,fabric-crypto,,16/Sep/16 12:00 AM,0,Security,,,,, Prepare an example of how to use confidential C2C in the context of attribute-based access control ,,Clayton Sims,elli-androulaki,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxaxb:",,,,,,Sprint 1,,,,,,,,,,,,,,,,,,,,,,,,,,,Clayton Sims,elli-androulaki,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"07/Sep/16 1:46 AM;elli-androulaki;Here Angelo implemented a chaincode example that uses tcert-based authentication throughout the cc2cc invocation. Extending this capability to attribute-based authentication requires only few days of work.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As an application developer, I would like a sample application that leverages application-level confidentiality capabiltiies",FAB-97,12396,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,elli-androulaki,Clayton Sims,Clayton Sims,16/Aug/16 4:53 AM,21/Jul/18 3:56 AM,28/Oct/23 2:57 AM,29/Nov/17 9:19 PM,WON'T FIX,,Future,,fabric-crypto,,30/Sep/16 12:00 AM,1,Security,,,,,,,AshishkumarLakshmanan,Clayton Sims,elli-androulaki,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzx6hz:",,,,Unset,,Sprint 10 - Crypto,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,AshishkumarLakshmanan,Clayton Sims,elli-androulaki,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"11/Aug/17 6:34 PM;elli-androulaki;I think this no longer makes sense to have.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[node-SDK] Node SDK unit tests are not working on gerrit code base,FAB-98,12397,,Bug,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,hgabre,rameshthoomu,rameshthoomu,16/Aug/16 4:58 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,29/Aug/16 10:59 PM,,,,,,,,0,node-SDK,,,,,"node-sdk-unit-tests are not working on gerrit code base. Observed below error message in all node sdk unit-tests.

module.js:338
    throw err;
          ^
Error: Cannot find module '/opt/gopath/src/github.com/hyperledger/fabric/sdk/node/lib/hash'
    at Function.Module._resolveFilename (module.js:336:15)
    at Function.Module._load (module.js:278:25)
    at Module.require (module.js:365:17)
    at require (module.js:384:17)
    at Object.<anonymous> (/opt/gopath/src/github.com/hyperledger/fabric/sdk/node/lib/crypto.js:38:22)
    at Module._compile (module.js:460:26)
    at Object.Module._extensions..js (module.js:478:10)
    at Module.load (module.js:355:32)
    at Function.Module._load (module.js:310:12)
    at Module.require (module.js:365:17)
ERROR running registrar tests!
END running registrar tests

Created this issue in guthub couple of weeks back (https://github.com/hyperledger/fabric/issues/2338).",,angrbrd,bgorman,ChristopherFerris,jimthematrix,jimthematrix@gmail.com,JonathanLevi,juliancarrivick,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-622,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxaxj:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,angrbrd,bgorman,ChristopherFerris,jimthematrix,jimthematrix@gmail.com,JonathanLevi,juliancarrivick,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"16/Aug/16 4:59 AM;rameshthoomu;[~smithbk] [~angrbrd] : fyi;;;","16/Aug/16 12:40 PM;bgorman;[~juliancarrivick] and I were encountering this yesterday when trying the SDK. We noted that the missing files might be the ones found under {{fabric/sdk/node/node_modules/elliptic/node_modules/hash.js}} but we couldn't seem to get it working. Perhaps it's just a search path issue?;;;","16/Aug/16 12:56 PM;juliancarrivick;[~keithsmith] on Slack thought it might be because there were some files that were missed in the migration from Gerrit.;;;","16/Aug/16 2:25 PM;bgorman;Kevin may be on to something. There is definitely a lib/hash.js in the GitHub code: https://github.com/hyperledger/fabric/blob/master/sdk/node/lib/hash.js;;;","16/Aug/16 2:37 PM;bgorman;Just found the slack conversation. [~hgabre] has a changeset here: https://gerrit.hyperledger.org/r/#/c/455/;;;","19/Aug/16 12:54 AM;ChristopherFerris;Please do not merge that yet...;;;","19/Aug/16 10:52 PM;JonathanLevi;We ([~hgabre] and I) are on this... thanks.;;;","23/Aug/16 1:49 AM;JonathanLevi;[~angrbrd] Thank you vm for all your help here on Friday!;;;","23/Aug/16 12:27 PM;JonathanLevi;FYI: https://gerrit.hyperledger.org/r/#/c/619 ;;;","24/Aug/16 11:20 PM;angrbrd;[~rameshthoomu] Can this issue be closed per my change set above? Thanks!;;;","25/Aug/16 12:26 AM;ChristopherFerris;I think it could, yes. The build seems to be healthy. [~rameshthoomu]?;;;","25/Aug/16 1:26 AM;rameshthoomu;Yes [~angrbrd].. It's working as expected..
 [~ChristopherFerris] Submitting patch today to enable make node sdk tests in CI process.. ;;;","25/Aug/16 1:22 PM;jimthematrix@gmail.com;[~rameshthoomu] has the patch been integrated so we can close the issue? thanks!;;;","26/Aug/16 9:00 PM;ChristopherFerris;It would really help if we tracked commits with issues. https://gerrit.hyperledger.org/r/#/c/673/;;;","29/Aug/16 10:07 PM;rameshthoomu;Node-sdk unit tests are working as expected on latest gerrit code base. I have created another issue for to enable ""Node-sdk unit-tests"" in CI process.
https://jira.hyperledger.org/browse/FAB-263?filter=10002;;;","29/Aug/16 10:59 PM;jimthematrix;marked as ""Done"" per comment from [~rameshthoomu];;;",,,,,,,,,,,,,,,,,,
"Ability to manage, migrate and patch chaincode",FAB-99,12398,,Epic,Closed,FAB,Fabric,software,denyeart,,,High,Done,muralisr,Clayton Sims,Clayton Sims,16/Aug/16 4:59 AM,21/Jul/18 4:08 AM,28/Oct/23 2:57 AM,01/Jun/17 6:56 AM,,,v1.0.0,,fabric-peer,,,0,,,,,,As a chaincode developer I need the ability to alter or move my chaincode to a new version without having to manually copy and redeploy from start so that I can speed up my development and keep patching quickly and efficiently. ,,ChristopherFerris,Clayton Sims,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,Unset,ghx-label-9,,,,,,Unset,,,,"1|hzx9z3:",,,,Unset,Unset,,,,,,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,Clayton Sims,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"10/Apr/17 12:05 AM;ChristopherFerris;[~muralisr] [~markparz] [~Clayton Sims] this is clearly at least in-progress if not done. Need to link the relevant stories and update the status accordingly.;;;","10/Apr/17 1:41 AM;muralisr;[~ChristopherFerris]  Upgrade is the key for this - https://jira.hyperledger.org/browse/FAB-183. The last part of this work is in CR https://gerrit.hyperledger.org/r/#/c/7831 (subtask https://jira.hyperledger.org/browse/FAB-1516 of FAB-183).

For context, the main relevant ""lifecycle"" JIRA items are
* Packaging the chaincode - https://jira.hyperledger.org/browse/FAB-2859
* Install and Instantiate - https://jira.hyperledger.org/browse/FAB-1783
* Upgrade - https://jira.hyperledger.org/browse/FAB-183

We need ""stop/start"" chaincode on a channel to complete the ""lifecycle"" and especially help with upgrade workflows (at a high level just set a state in the LCCC specifying if this chaincode can field invokes). There is no JIRA for this yet but will create one soon. I don't think its a blocker but a high nice-to-have.;;;","20/Apr/17 10:34 AM;muralisr;This is essentially upgrade and related lifecycle work. Can we close this [~Clayton Sims] ?;;;","01/Jun/17 6:56 AM;ChristopherFerris;marking as done;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As an application developer,  I would like a commerical paper sample updated demostrating new security featurs",FAB-100,12399,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,elli-androulaki,Clayton Sims,Clayton Sims,16/Aug/16 5:08 AM,12/Jul/19 8:21 PM,28/Oct/23 2:57 AM,12/Jul/19 8:21 PM,,,Future,,fabric-crypto,,16/Sep/16 12:00 AM,0,Security,,,,,,,Clayton Sims,grapebaba,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-67,,,,,,,,,"1|hzx5mn:",,,,Unset,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,Clayton Sims,grapebaba,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"panic: Test network took more than 60 seconds to resolve requests, this usually indicates a hang",FAB-101,12400,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,rameshthoomu,rameshthoomu,16/Aug/16 5:15 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,02/Apr/17 9:32 PM,v0.6,,WON'T FIX,,,,,0,chaincode,,,,,"Observed panic error in one of the jenkins build while running unit-tests. This issue is not always reproducing.
```
--- FAIL: TestClassicBackToBackStateTransfer (60.17s)
00:09:35.222 panic: Test network took more than 60 seconds to resolve requests, this usually indicates a hang [recovered]
00:09:35.222    panic: Test network took more than 60 seconds to resolve requests, this usually indicates a hang
00:09:35.222 
00:09:35.222 goroutine 226 [running]:
00:09:35.222 panic(0xaa4160, 0xc820580960)
00:09:35.222    /opt/go/go1.6.linux.amd64/src/runtime/panic.go:464 +0x3e6
00:09:35.222 testing.tRunner.func1(0xc8203685a0)
00:09:35.222    /opt/go/go1.6.linux.amd64/src/testing/testing.go:467 +0x192
00:09:35.222 panic(0xaa4160, 0xc820580960)
00:09:35.222    /opt/go/go1.6.linux.amd64/src/runtime/panic.go:426 +0x4e9
00:09:35.222 github.com/hyperledger/fabric/consensus/pbft.(*testnet).process(0xc820316040, 0x0, 0x0)
00:09:35.222    /w/workspace/fabric-verify-x86_64/gopath/src/github.com/hyperledger/fabric/consensus/pbft/mock_network_test.go:230 +0x33e
00:09:35.222 github.com/hyperledger/fabric/consensus/pbft.TestClassicBackToBackStateTransfer(0xc8203685a0)
00:09:35.222    /w/workspace/fabric-verify-x86_64/gopath/src/github.com/hyperledger/fabric/consensus/pbft/batch_test.go:334 +0x3c3
00:09:35.222 testing.tRunner(0xc8203685a0, 0x1303bd0)
00:09:35.222    /opt/go/go1.6.linux.amd64/src/testing/testing.go:473 +0x98
00:09:35.222 created by testing.RunTests
00:09:35.222    /opt/go/go1.6.linux.amd64/src/testing/testing.go:582 +0x892
00:09:35.222 FAIL   github.com/hyperledger/fabric/consensus/pbft    61.923s
```
Below is the jenkins build reference:

https://jenkins.hyperledger.org/view/fabric/job/fabric-verify-x86_64/74/consoleFull
",Jenkins build environment (Outside vagrant),rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-346,,,,,,,,,"09/Sep/16 10:44 AM;juliancarrivick;fabric-merge-137.log;https://jira.hyperledger.org/secure/attachment/10072/fabric-merge-137.log",,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxaxr:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"19/Aug/16 10:14 PM;rameshthoomu;Observed same error in one of the recent builds. Below is the reference: https://jenkins.hyperledger.org/view/fabric/job/fabric-verify-x86_64/445/consoleFull;;;","07/Sep/16 7:32 AM;rameshthoomu;recent build: https://jenkins.hyperledger.org/view/fabric/job/fabric-merge-x86_64/137/consoleFull;;;","15/Sep/16 5:21 AM;rameshthoomu;Here is the recent build log file: https://jenkins.hyperledger.org/view/fabric/job/fabric-verify-x86_64/1166/console;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Cache of the world state for improved performance,FAB-103,12402,,Story,Closed,FAB,Fabric,software,denyeart,,,High,Done,Senthil1,markparz,markparz,16/Aug/16 6:03 AM,17/Mar/20 1:22 AM,28/Oct/23 2:57 AM,16/Mar/20 11:46 PM,,,v2.0.0,,fabric-ledger,,,0,ledger-cache,,,,,As a developer I need the ability to access a state cache so that we can help submitters quickly build the rw-set. This will also lead to better performance. ,,akihikot,denyeart,grapebaba,inatatsu,logannwu,markparz,MHBauer,qizhang87,Senthil1,xixuejia,yacovm,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12281,FAB-11699,,,,,,,FAB-10500,FAB-13368,FAB-15562,,,,,,,,,,,,,,,,,,,Unset,No,Unset,,FAB-14513,,,,,Unset,,,,"1|i00wur:0ic",,,,No,Unset,v2.x,,,,,,,,,,,,,,,,No,,,,,,,,,,,akihikot,denyeart,grapebaba,inatatsu,logannwu,markparz,MHBauer,qizhang87,Senthil1,xixuejia,yacovm,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"05/Feb/18 11:43 PM;yacovm;I think this one is now important since we have couchDB support which uses reads over the network, and read-oriented endorsements (queries) can be faster if we have a cache and we don't need to go the the remote DB each time.

I guess what should be done is roughly:
* A cache per channel
* Invalidates specific keys of specific namespaces when the committer is instructed to write to them at commit time
* Has a finite size and uses LRU eviction policy(?)

Can something also be done with versions? i.e, if we need the version of a key that is updated frequently (and hence invalidates the version number that is cached) - can we perhaps keep track of frequently changed key versions as well?

[~denyeart] , [~manish-sethi] , [~C0rWin] [~mastersingh24] opinions?;;;","09/Dec/18 10:32 PM;denyeart;This work is proceeding, as the roundtrips to CouchDB has in fact proven to be a bottleneck.

See also related Jiras for more context.;;;","16/Apr/19 4:18 AM;MHBauer;Is this something I can help with? Is there a discussion or design somewhere to view and catch up on?  What measure is used to know that the changes are helping?;;;","17/Apr/19 2:09 AM;Senthil1;[~MHBauer] 

The current implementation has drawbacks. It could lead to out of memory error if there is a large number of channels in the peer. Hence, we are back to the whiteboard and designing a new caching library. We have been working on the design document ([https://docs.google.com/document/d/1Rxczkwni5oG6MBif1s0KN6_PR29tM4WP9IEOvbLMTu8/edit?usp=sharing]) We would complete the design by the end of this week and will send around for reviews.

_What measure is used to know that the changes are helping?_ As you might know, performance improvement due to a caching layer is heavily dependent on the read-write access pattern of the application. We can write a chaincode whose read would always hit the cache and also a chaincode whose read would always miss the cache. At least for the system namespace such as lscc, a simple caching layer such as this [https://gerrit.hyperledger.org/r/c/2828/|https://gerrit.hyperledger.org/r/c/28289//] improved the performance significantly (don't remember the numbers though). If chaincode read/write pattern is favorable for the cache, it will improve the performance as it reduces the number of disk IO and HTTP REST API calls (especially in the case of CouchDB).;;;","01/May/19 3:58 AM;MHBauer;[|https://jira.hyperledger.org/secure/ViewProfile.jspa?name=Senthil1] [~Senthil1]

Design document looks comprehensive. Where is it reviewed? Where is it discussed?

"" (don't remember the numbers though). "" That's why I'm asking the question, if we don't have some consistent set of overall benchmarks or microbenchmarks over certain code segments, we can't know what's causing effects beyond large changes. Part of the work should be to establish at least some test to know what's going on over time.;;;","01/May/19 1:22 PM;Senthil1;[~MHBauer] If you have any comments on the specific design aspect, please post your comments on the google doc itself using suggesting mode. If you would like to discuss on the high level approach, please post here. 

 

Yes, like unit test, we would need to run performance benchmarks as CI jobs to know what's going on over time. [~sykesm] [~denyeart] do you have any comments on benchmark CI jobs?;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Endorsement policy, specify endorsers, including number required to sign off",FAB-104,12403,,Epic,Closed,FAB,Fabric,software,denyeart,,,High,Done,,markparz,markparz,16/Aug/16 6:15 AM,21/Jul/18 4:08 AM,28/Oct/23 2:57 AM,02/May/17 7:29 AM,,,v1.0.0,,fabric-peer,,,0,Endorser,,,,,"As a developer I need the ability to specify who can sign off(endorse) my transactions and how many signatures (3 out of 5, 5 out of 7, etc) are needed before submitting my transaction so that I can eliminate a single point of authority and/or failure while allowing only endorsers I trust to simulate my transactions. 

* Implement basic endorsement policies. Basic endorsement policies should be very static to begin with, e.g., a fixed set of endorsers' signatures is needed to endorse a transaction (e.g., t endorsers out of n).
* Explore more robust endorsement policy specifications (but not too robust - we do not want another chaincode in the endorsement policy).",,markparz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-1493,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,Unset,ghx-label-1,,Endorsement policies,To Do,,,Unset,,,,"1|hzxayf:",,,,Unset,Unset,,,,,,,,,,,,,,,,,,,,,,,,,,,,markparz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Ability to provide interfaces to audit,FAB-105,12404,,Epic,Closed,FAB,Fabric,software,denyeart,,,Low,Won't Do,,markparz,markparz,16/Aug/16 6:27 AM,12/Jul/19 8:27 PM,28/Oct/23 2:57 AM,12/Jul/19 8:27 PM,,,Future,,,,,0,Audit,,,,,"As a developer or an auditor/regulator(role) I must have the ability to audit *appropriate* previous transactions  for many reasons:
* Verify regulations are being followed
* View historical information on transactions
* Dispute settlement

and more",,KhutPidor,markparz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,Unset,ghx-label-3,,APIs for Auditing,To Do,,,Unset,,,,"1|hzxayn:",,,,Unset,Unset,,,,,,,,,,,,,,,,,,,,,,,,,,,,KhutPidor,markparz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"05/May/17 1:35 PM;KhutPidor;It solved or not yet ?
Thank;;;","10/May/17 12:19 AM;markparz;Not resolved, see FAB-1228 as noted above. Changed priority to low;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Ledger snapshot and checkpoint,FAB-106,12405,,Epic,In Progress,FAB,Fabric,software,denyeart,,,High,,manish-sethi,markparz,markparz,16/Aug/16 6:33 AM,01/May/21 2:42 AM,28/Oct/23 2:57 AM,,,,v2.3.0,,fabric-ledger,,,22,Ledger,,,,,"Snapshot the blockchain state so that peers can join a channel from a checkpointed state, and reduce the amount of space and time required to maintain a ledger.

 

*Motivations*
 * Ability to join a peer to a channel from a checkpointed state rather than from genesis block, so that latest channel configuration can be used (e.g. latest orderer endpoints and org MSP certificates).
 * Reduce the amount of time to join a new peer to a channel
 * Reduce the amount of storage space required for a channel
 * Ensure that peer state databases are in sync

 

Note, this Epic is independent but related to 'pruning' a channel's blocks.   That is, once a channel has been snapshotted and peers can bootstrap from the snapshot, it would be safe to prune blocks prior to the snapshot.",,andrewhw,AshishkumarLakshmanan,ashutosh_kumar,baohua,blocki,bryangross,cagdast,daemon,daijianw,dcrough13,DennisM330,denyeart,elainejlai,Fumiya_Kobayashi,grapebaba,grice_32,guoger,Hangyu_FJH,huxd,ianj_mitchell@uk.ibm.com,indira.kalagara,IngoRammer,itsme24543,jgkim,keer25,logannwu,luomin,Maheshbalan,markparz,MattMilligan,MHBauer,MichaelWang,minollo,moriohara,narendranathreddy,nekia,nemoto,n-horiguchi,nitingaur,Pancham,Pritam 12,rene.mciver,rhegde,robmurgai,sachikoy,ScottAllan,scottz,seokm0,sheehan,silentspark,SriramaSharma,tkuhrt,toddinpal,troyronda,vigneswaran.r,vsudip,xixuejia,YashGanthe,ymlbright,yoheiueda,yongrae,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-207,FAB-17909,,FAB-5288,,,,,FAB-1223,FAB-17801,FAB-18462,,,,,,,,,,,,,,,,,Core feature completed in v2.3. Small enhancements in progress. ,https://github.com/hyperledger/fabric-rfcs/pull/27,Unset,,Unset,ghx-label-5,,Ledger snapshot and checkpoint,To Do,,,Unset,,,,"1|hzxayv:",,,,Unset,Unset,,,,,,,,,,,,,,,,,,,,,,,,,,,,andrewhw,AshishkumarLakshmanan,ashutosh_kumar,baohua,blocki,bryangross,cagdast,daemon,daijianw,dcrough13,DennisM330,denyeart,elainejlai,Fumiya_Kobayashi,grapebaba,grice_32,guoger,Hangyu_FJH,huxd,ianj_mitchell@uk.ibm.com,indira.kalagara,IngoRammer,itsme24543,jgkim,keer25,logannwu,luomin,Maheshbalan,markparz,MattMilligan,MHBauer,MichaelWang,minollo,moriohara,narendranathreddy,nekia,nemoto,n-horiguchi,nitingaur,Pancham,Pritam 12,rene.mciver,rhegde,robmurgai,sachikoy,ScottAllan,scottz,seokm0,sheehan,silentspark,SriramaSharma,tkuhrt,toddinpal,troyronda,vigneswaran.r,vsudip,xixuejia,YashGanthe,ymlbright,yoheiueda,yongrae,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"01/Aug/17 1:27 PM;guoger;Any updates on this? Is there a planned fixversion yet? thx;;;","03/Aug/17 10:25 PM;markparz;Hi [~guoger] are you having some storage issues, or are you interested in helping with this item? I think [~denyeart] might have some initial thoughts or possible design but no progress has been made by anyone that I know of at this point.;;;","03/Aug/17 10:54 PM;guoger;[~markparz] This question emerges while I'm talking to some users, so I just wanted to check out the status. On the other hand, this seems to be a very interesting task, I'd love to help :)
I suppose it involves quite some design, so it would be great if somebody could shepherd the work;;;","03/Aug/17 11:56 PM;markparz;Yes, indeed fantastic. WIll let [~denyeart] chime in on where the design might be. Folks have been looking at this more and more recently too, so should be moving up in the community priority listing IMO.;;;","27/Feb/18 10:48 AM;MichaelWang;Is this done? I saw above that this item is duplicated by FAB-207 which is done. So I think this is done too?;;;","18/Apr/18 10:41 AM;baohua;Any progress on this production-useful feature?;;;","22/May/18 10:59 PM;DennisM330;Large enterprises are starting to ask when this feature will be available so I believe priority needs to be bumped up.;;;","08/Jun/18 7:36 AM;rene.mciver;Interested in this for purging to comply with data retention policies, where the expectation is to purge once data retention policy has been hit/surpassed.;;;","03/Aug/18 11:57 PM;Clayton Sims;This is considered a high priority, although it is not in a plan for a specific release yet.;;;","15/Nov/18 11:42 AM;baohua;+1!;;;","16/Nov/18 6:20 PM;daemon;When will this problem be solved?;;;","30/Mar/20 2:18 PM;denyeart;The checkpoint feature is being actively investigated so that a RFC can be published.;;;","01/May/21 2:35 AM;denyeart;Channel snapshot feature delivered in v2.3.;;;",,,,,,,,,,,,,,,,,,,,,
Upgrade to protobuf 3.0,FAB-108,12407,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,sheehan,sheehan,17/Aug/16 12:39 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,27/Aug/16 6:39 PM,,,,,,,,1,,,,,,Now that protobuf 3.0 is released (https://github.com/google/protobuf/releases/tag/v3.0.0) we should upgrade to the stable version.,,sheehan,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-109,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-131,,,,,,,,,"1|hzxazb:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,sheehan,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Consider removing compiled .pb.go files from source control,FAB-109,12408,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,sheehan,sheehan,17/Aug/16 12:44 AM,31/Jan/19 3:55 AM,28/Oct/23 2:57 AM,31/Jan/19 3:55 AM,,,Future,,,,,0,,,,,,"There has been discussion around whether the .pb.go files should be removed from source control. The advantage is that if everyone was required to compile these files, they would always be in sync. The disadvantage is that this requires developers to use Vagrant (it's hard not to already) or requires that they install and use the correct version of protobuf as defined in the Vagrant setup script.

[~greg.haskins] nicely described why the decision to include the .pb.go files was originally made in a comment at https://gerrit.hyperledger.org/r/#/c/483/",,juliancarrivick,sheehan,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-108,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxazj:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,juliancarrivick,sheehan,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"09/Sep/16 10:13 AM;juliancarrivick;Changing to do since this change was reverted.;;;","31/Jan/19 3:55 AM;sykesm;Closing an ancient task. The decision seems to have been made and we've been rolling with it for a couple of years.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As an adminstrator, I need flexibility and ease to authorize members in chaincode",FAB-111,12410,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,Clayton Sims,Clayton Sims,17/Aug/16 3:21 AM,23/Jan/20 3:37 AM,28/Oct/23 2:57 AM,23/Jan/20 3:37 AM,,,Future,,fabric-peer,,,0,Security,stale-item,,,,,,Clayton Sims,smithbk,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzx6mf:",,,,Unset,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,Clayton Sims,smithbk,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"21/Oct/16 10:24 PM;smithbk;Clayton, I'm not sure what the requirement is here over what we currently have;;;","23/Jan/20 3:37 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
I want to run the COP server in a cluster,FAB-113,12412,,Story,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,skarim,Clayton Sims,Clayton Sims,17/Aug/16 3:23 AM,05/Dec/18 5:49 AM,28/Oct/23 2:57 AM,09/Dec/16 11:46 PM,,,,,,,,0,MembershipServices,,,,,"Run the COP server in a cluster sharing the same DB.
Will test with HAProxy fronting the cluster, though any load balancer should do.
No session affinity should be required.",,ChristopherFerris,Clayton Sims,genggjh,inatatsu,troyronda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABC-697,,,,,,,,,,,,,,,FABC-611,FABC-664,,,,,,,,,,,,,,,,,,,,,Unset,,,FABC-697,,,,,,,,,"1|hzx81z:",,,,Unset,,Sprint 5 - Membership Services,Sprint 6 - Membership Services,Sprint 7 - Memship Services,,,,,,,,,,,,,8.0,Unset,,,,,,,,,,,ChristopherFerris,Clayton Sims,genggjh,inatatsu,troyronda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"22/Aug/16 1:14 AM;ChristopherFerris;What does this even mean? ;;;","22/Aug/16 3:34 PM;genggjh;The CA is single point of failur currently, we only have one CA service running in fabric network.

We can consider to write a system chaincode to replace the membership server roles.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
deploy transaction performance issue,FAB-120,12419,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,ChristopherFerris,ChristopherFerris,17/Aug/16 3:46 AM,15/Mar/19 9:41 PM,28/Oct/23 2:57 AM,02/Apr/17 9:34 PM,v0.6,v1.0.0,v1.0.0,,,,,0,chaincode,performance,,,,"Compared to invoke transactions (but also in absolute terms), deploy transactions take a very long time (many seconds).

With the sieve (non-deterministic) consensus protocol, we need to execute all transactions (and wait for their result) before the protocol can move on. However, to prevent against a malicious leader, the protocol also needs to use timeouts to ensure progress.

This timeout needs to accommodate the duration of deploy transactions (or at least the variation of the duration). Sizing this timeout conservatively means that faulty leaders will be detected more slowly.

Alternatively, we could split deploy transactions into a hint, which will initiate the deployment, and a final transaction, which will record the deployment on the ledger.

(see https://github.com/hyperledger/fabric/issues/452)",,ChristopherFerris,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxb27:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"02/Apr/17 9:33 PM;mastersingh24;We no longer have deploy transactions but rather install and instantiate.  This makes things more efficient execution wise (although a little more complicated process-wise);;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[api] REST /network/peers not consistent with CLI network list,FAB-122,12421,,Bug,Closed,FAB,Fabric,software,denyeart,,,Low,Done,,angrbrd,angrbrd,17/Aug/16 5:33 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,02/Apr/17 9:31 PM,v0.6,,WON'T FIX,,,,,0,api,,,,,"There is an inconsistency between two ways of getting what should be the same information:

REST API /network/peers returns info for all peers.
CLI peer network list excludes the peer running the request.

This API on both REST and CLI should return info for all the nodes.

This issue was originally tracked in GitHub here: https://github.com/hyperledger/fabric/issues/1647",,angrbrd,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxb2n:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,angrbrd,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
API to retrieve MSP security settings,FAB-124,12423,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,angrbrd,angrbrd,17/Aug/16 5:50 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,12/Apr/18 10:02 PM,,,WON'T FIX,,fabric-peer,,,0,,,,,,"In order to make the client SDKs easier to use, it would be useful to have API to retrieve the security settings of a given MSPId.",,angrbrd,ChristopherFerris,jimthematrix@gmail.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxb33:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,angrbrd,ChristopherFerris,jimthematrix@gmail.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"25/Aug/16 2:26 PM;jimthematrix@gmail.com;[~jeffgarratt] want to make sure you are aware of this requirement on the peer side. I assume such a grpc gateway component that does the logic [~mastersingh24] described in the github issue https://github.com/hyperledger/fabric/issues/1276 would be part of the endorsers? do we need this in the orderers as well?;;;","14/Apr/17 9:57 AM;ChristopherFerris;[~jimthematrix] if this is no longer relevant, please mark WONTFIX and close. Thanks;;;","06/Jun/17 2:43 AM;jimthematrix;BCCSP settings must still be coordinated out-of-band b/w the signer and the validator, in the context of a given mspId. it would be useful for the peers to expose an API for client to discover this. moving to the peer component for future consideration.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[node-SDK] newChain(42) breaks registrar.js test,FAB-127,12426,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,jjjjibm,jjjjibm,17/Aug/16 6:32 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,02/Apr/17 9:24 PM,v0.6,,WON'T FIX,,,,,0,Fabric05,node-SDK,,,,"Description

HFC version 0.0.2
#This error occurs while running make node-sdk-unit-tests:

enroll again
enrollAgain
enrollAgain: calling newChain(42)
enrollAgain: back from newChain()
/opt/gopath/src/github.com/hyperledger/fabric/sdk/node/test/unit/registrar.js:134
chain.setKeyValStore(hfc.newFileKeyValStore('/tmp/keyValStore'));
^
ReferenceError: chain is not defined
at enrollAgain (/opt/gopath/src/github.com/hyperledger/fabric/sdk/node/test/unit/registrar.js:134:4)
at Test. (/opt/gopath/src/github.com/hyperledger/fabric/sdk/node/test/unit/registrar.js:48:5)
at Test.bound as _cb
at Test.run (/opt/gopath/src/github.com/hyperledger/fabric/sdk/node/node_modules/tape/lib/test.js:82:10)
at Test.bound as run
at Immediate.next as _onImmediate
at processImmediate as _immediateCallback
ERROR running registrar tests!
END running registrar tests

Here is the documentation for getChain() function:

newChain

newChain(name: **any**): any

    Defined in src/hfc.ts:2669

Create a new chain. If it already exists, throws an Error.
Parameters
    name: **any**

    Name of the chain. It can be any name and has value only for the client.
Returns any

I reckoned 'name:any' means any value, so I tried value 42 and got this error.
Describe How to Reproduce

1.make node-sdk-unit-tests to establish baseline success
2.Edit sdk/node/test/unit/registrar.js, function enrollAgain(cb)
3.Change hfc.newChain(""testChain2"") to hfc.newChain(42)

For example,
/var chain = hfc.newChain(""testChain2"");
//var chain = hfc.newChain("""");
var chain2 = hfc.newChain(42)

4.Save registrar.js
5.make node-sdk-unit-tests
",,cdaughtr,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxb3r:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,cdaughtr,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"07/Sep/16 6:12 AM;cdaughtr;I was not able to reproduce this issue on current gerrit master, so it appears to be a Fabric v0.5 specific problem.  Need to setup a Fabric v0.5 dev env.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Go 1.7 Support,FAB-129,12428,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,JonathanLevi,JonathanLevi,17/Aug/16 6:48 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,03/Oct/16 12:48 PM,,,,,,,,0,build-system,,,,,"Now that [Go 1.7|https://blog.golang.org/go1.7] is released (as of less than 24 hours ago) we should probably consider upgrading or, at the very least, try it out.

Very interested to evaluate the official support for the [SSA|https://en.wikipedia.org/wiki/Static_single_assignment_form] and potentially to gauge the Linux on IBM z Systems (s390x) by those of us who have access to these.",,JonathanLevi,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,144000,144000,,0%,144000,144000,,,FAB-289,FAB-1368,,,,,,,,,,,,,,,,,,,,,,,FAB-2945,,,,,,,,,,,,,,,,,,,,,,,,,FAB-131,,,,,,,,,"1|hzx9i7:",,,,,,Sprint 1,,,,,,,,,,,,,,,,,,,,,,,,,,,JonathanLevi,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"04/Oct/16 6:02 AM;kchristidis;So I see that this changeset was merged, which is great.

Does this mean that the Docker fabric base-image now runs on 1.7? And also, when is the Vagrant box getting updated to 1.7?

(I'm just not clear on what automatically triggers what.);;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Ubuntu 16.04 Support,FAB-130,12429,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,JonathanLevi,JonathanLevi,17/Aug/16 6:53 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,14/Feb/17 12:54 PM,,,,,,,,0,build-system,,,,,"Moved over from https://github.com/hyperledger/fabric/issues/1305


{quote}We are currently based on 14.04 LTS. The new LTS 16.04 was released recently and we should evaluate whether rebasing the various platforms (vagrant, docker, etc) make sense. One benefit that comes to mind is a few packages that we have to build by hand (go1.6) might become available via official Ubuntu supported avenues.

One particular snafu is I am unsure if 16.04 is available in TravisCI. I suspect its only a matter of time if it is not supported already, but this would be largely out of our control. I cannot predict what might happen if we target 16.04 but certain environments are held back on older releases.{quote}",,JonathanLevi,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,144000,144000,,0%,144000,144000,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-131,,,,,,,,,"1|hzx8rr:",,,,,,Sprint 1,Sprint 2,Sprint 3,,,,,,,,,,,,,4.0,,,,,,,,,,,,JonathanLevi,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"14/Feb/17 12:54 PM;rameshthoomu;[~JonathanLevi] Jenkins CI is now running on 16.04. Marking this as done.. Please re-open if you feel this need some work;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
A collection of build-system/image upgrades,FAB-131,12430,,Epic,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,JonathanLevi,JonathanLevi,17/Aug/16 7:01 AM,08/Dec/18 7:08 AM,28/Oct/23 2:57 AM,13/Apr/17 1:21 AM,,,v0.6,,,,,0,build-system,,,,,This Epic is used to combine a set of tasks/upgrades relating to the current build-system/image of Fabric.,,JonathanLevi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,Unset,ghx-label-9,,BuildSystemUpgrades,To Do,,,Unset,,,,"1|hzxb47:",,,,Unset,Unset,,,,,,,,,,,,,,,,,,,,,,,,,,,,JonathanLevi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
busywork: Timer overflow,FAB-139,12438,,Bug,Closed,FAB,Fabric,software,denyeart,,,Low,Done,bcbrock,bcbrock,bcbrock,17/Aug/16 7:42 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,05/Oct/16 8:52 AM,,,,,,,,0,,,,,,See github issue #2379,,bcbrock,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxb4n:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,bcbrock,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Remove/parameterize the hard-coded file(names, prefixes, suffixes)",FAB-140,12439,,Story,Closed,FAB,Fabric,software,denyeart,,,Lowest,Done,,JonathanLevi,JonathanLevi,17/Aug/16 2:07 PM,21/Jul/18 3:56 AM,28/Oct/23 2:57 AM,03/Jun/17 7:11 PM,v0.6,,WON'T FIX,,,,,0,MembershipServices,questionable,Usability,,,"Original issue was [2110|https://github.com/hyperledger/fabric/issues/2110]

Various services in Membership Services have the public *NewXXXX( name string )* or the private *createYYYY ( name string )* method expecting the string parameter `name`, which is later on being used for creating/writing and reading various (temporary?) files.

However, diving into the implementation(s), some of these has code which relies on some ""secret magic"" both underneath the services and their tests, e.g., 

{quote}err = ioutil.WriteFile(ca.path+""/"" + *name* + *"".priv""*, cooked, 0644)
err = ioutil.WriteFile(ca.path+""/"" + *name* + *"".pub""*, cooked, 0644){quote}

Or when creating the (""server"") objects/entities, for example:
{quote} eca := &ECA{CA:NewCA( ""*eca*"" , initializeECATables) {quote}


h3. Proposed Solution

# Define these at the very least as constants/parameters (if not have them completely configurable, at this point - sill much better than hard-coding, inline). Plus, while we are at it (and I will mention that I'm not a fan of storing private keys in plaintext/files), we should use standard extensions:
# We should probably use the more industry-standard file extensions (for `PEM, DER, CRT, CER, KEY, ...`)",,JonathanLevi,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-7,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzxad3:",,,,Unset,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,JonathanLevi,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"03/Jun/17 7:11 PM;mastersingh24;No longer relevant;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[node-SDK] Make Hello World sample a completely runnable node program,FAB-143,12442,,Task,Closed,FAB,Fabric,software,denyeart,,,High,Done,,smithbk,smithbk,17/Aug/16 4:15 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,25/Aug/16 2:09 PM,,,,,,,,0,node-SDK,,,,,"CLOSED AS DUPLICATE TO FAB-165

The current sample in fabric/sdk/node/README.md is not a completely runnable application.  We should replace with a fully runnable app which does the following:
1) enrolls a bootstrap ID ('admin'),
2) sets registrar,
3) registers and enrolls a new ID
4) deploys, queries, and invokes using the new ID.  It should deploy one of our samples by URL.",,nickgaski,smithbk,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-690,,,,,,,,,"1|hzxb5b:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,nickgaski,smithbk,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Enforce and verify the ""Validity Period"" that is stated in ECerts and TCerts",FAB-145,12444,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,smithbk,JonathanLevi,JonathanLevi,17/Aug/16 4:53 PM,05/Dec/18 5:49 AM,28/Oct/23 2:57 AM,07/Jan/17 11:58 PM,,,,,,,,0,MembershipServices,,,,,"Make sure that users cannot work with expired TCerts, ECerts, or obtain TCerts that out-live the ECert expiration.",,elli-androulaki,JonathanLevi,smithbk,vukolic,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FABC-594,,,,,,,,,"1|hzx7w7:",,,,Unset,,Sprint 7 - Memship Services,Sprint 8 - Membership Services,Sprint 9 - Membership Services,,,,,,,,,,,,,,Unset,,,,,,,,,,,elli-androulaki,JonathanLevi,smithbk,vukolic,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"09/Dec/16 5:47 PM;elli-androulaki;[~keithsmith], [~JonathanLevi], shouldn't we tackle this with high priority? Or is it that we rest upon the assumption that renewal of certificate is done within a reasonable time frame before it expires? I would go for the combination of the two. 

For now i will add this item on Sprint 10, such that we can revisit its priority.;;;","10/Dec/16 7:16 AM;smithbk;Yes, I actually thought this was complete for COP but just checked the code and it isn't.  I'll take care of it next week.;;;","10/Dec/16 7:18 AM;smithbk;Elli, I assume the fabric code is (or will) check validity and CRL also.;;;","13/Dec/16 8:55 AM;smithbk;See http://gerrit.hyperledger.org/r/3237;;;","18/Jan/17 7:02 PM;elli-androulaki;Ok, so we have concluded that we do this time-wise? Yes timestamp can easily be checked on the orderer side, but there was a discussion in the past over the use of a logical clock there for expiring certificates that would be inserted to the certificate.

While understanding how we would need this, I see two issues: 
 - inserting a logical clock value into our ECerts and TCerts is fine, but this need to be part of VerifierMSP configuration, and the COP server should be able to send around signed (reconfiguration) requests every time an MSP validity period expires.
 - this would differentiate our verifierMSP from the standard X.509 certificates, as our MSP would need to make certain assumptions on how the validity period logical clock value is inserted.

If we do not add this logical clock into the ledger, we need to emphasize to the users of fabric that need to renew their certificates early ahead of their expiration time,to ensure that no inconsistencies at committing phase occur. And notice that this would only need to be the case for the peer certificates, not the client ones. I think this was the decision we had taken a few months ago, but would like your confirmation on this.

Adding [~vukolic][~mastersingh24][~ales][~adc] in this discussion to confirm.

;;;","18/Jan/17 7:10 PM;vukolic;We can have endorsers work with ""real"" time (non-determinsim allowed in the endorsement phase). 

We *must not* have orderers work with ""real"" time (non-determinism is disallowed in the ordering/committing phase).

Hope this helps,
Marko;;;","20/Jan/17 12:14 AM;elli-androulaki;Correct, but given that logical clock is not necessarily supported in standard X.509 format, what do you think we should do? 
Shall we assume that for endorser certificates renewal is done a-priori by a lot?

I have to note that, if the topic is still on the table, I am also for the logical clock approach as Marko, but this may take more time.

Adding also [~smithbk] to the discussion.;;;","08/Feb/17 1:59 AM;elli-androulaki;Discussed this with [~binhn], [~muralisr], [~jyellick], and concluded that for V1 we go with the use of real-time assuming that we document the dangers that this inhibits.
FAB FAB-2094 covers this task.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
"Support dynamic reconfiguration of orderers (node set, parameters)",FAB-148,12447,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,corecode,corecode,17/Aug/16 11:35 PM,21/Jul/18 3:56 AM,28/Oct/23 2:57 AM,08/Dec/16 8:43 AM,,,,,fabric-orderer,,,0,consensus,,,,,The orderer network needs to be reconfigurable.  Possibly this is specific to the orderer network implementation.,,corecode,sanchezl,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-498,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzxb5z:",,,,Unset,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,corecode,sanchezl,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
BFT Orderers need to sign batches,FAB-149,12448,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid,,corecode,corecode,17/Aug/16 11:45 PM,01/May/19 2:32 AM,28/Oct/23 2:57 AM,01/May/19 2:32 AM,,,Future,,fabric-orderer,,,0,sbft,,,,,"BFT orderers have to provide signatures so that validator peers can use the set of signatures to accept validity of a batch without having to connect to f+1 orderers.

All orderers already sign with their own key.",,corecode,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-686,,,,,,,,,"1|hzxb67:",,,,Unset,,,,,,,,,,,,,,,,,2.0,Unset,,,,,,,,,,,corecode,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
maintain log of past batches,FAB-150,12449,12332,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,corecode,corecode,17/Aug/16 11:54 PM,07/Jan/21 4:59 PM,28/Oct/23 2:57 AM,09/Sep/16 5:06 AM,,,,,fabric-orderer,,,0,consensus,,,,,The orderer needs to maintain a log of past batches to be able to add new orderers and catch up validator peers.,,corecode,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-33,,,,,,,,,,,,,,,FAB-325,FAB-326,FAB-327,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxb6f:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,corecode,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"02/Sep/16 1:59 AM;jyellick;This can optionally be a shared component for orderers, it can be prototyped against Solo while PBFT/SimpleBFT stabilizes.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
was able to set a user without registrar metadata as registrar using chain.setRegistar API.,FAB-152,12451,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,Nishi,Nishi,18/Aug/16 12:01 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,05/Sep/16 7:36 PM,,,,,,,,0,,,,,,"Was trying a -ve test to enroll a user without optional metadata for being a 'registrar' as registrar. Expected my test to fail.

But call chain.setRegistar with this user was successful.

From membersrvc.yaml metadata:
""test_user0: 1 MS9qrN8hFjlE bank_a""

Here is a snippet from my test program:
----------------------------------

var badRegistrar = {
    name : 'test_user0',
    secret: 'MS9qrN8hFjlE'
};

test('-Ve Test Enroll the registrar', function (t) {
       //get 'test_user0'
        chain.getUser(badRegistrar.name, function (err, user) {
        if (err) {
            fail(t, ""-ve Test get registrar"", err);
         }
        // Enroll 'test_user0'
        user.enroll(badRegistrar.secret, function (err) {
            if (err) {
                fail(t, ""-ve Test enroll registrar"", err);
             }
            try {
              //set test_user0 as registrar even membersrvc.yaml does Not have right metadata                          
              //for being a registrar
              chain.setRegistrar(user);
            }catch (e) {
              console.log(e);
            }
        });
    });
});

P.S. Subsequent calls to enroll other users failed after setting 'test_user0' as registrar. With an appropriate error message:
[Error: member test_user0 is not a registrar]

But wouldn't it be better if chain.setRegistrar() itself identified that 'test_user0' is missing right metadata required for registrar?  Instead of a failing during enrollment of users?

Thanks!",,mastersingh24,Nishi,smithbk,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxb6v:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mastersingh24,Nishi,smithbk,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"03/Sep/16 8:46 AM;mastersingh24;[~smithbk] [~jimthematrix] While I don't disagree that this would be a nice to have, I am not sure you can actually do this since the SDK can;t know whether or not you have been assigned the (correct) registrar role until it actually tries to enroll a user 

I am going to close this can't / won't fix unless anyone objects (or I missed something);;;","03/Sep/16 9:29 PM;smithbk;Agreed.;;;","05/Sep/16 7:36 PM;mastersingh24;can't / won't fix;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
publish ccenv and src docker images along with peer and membersrvc images,FAB-157,12456,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,rameshthoomu,rameshthoomu,18/Aug/16 6:03 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,20/Oct/16 6:26 AM,,,,,,,,0,build-system,,,,,"publish ccenv and src docker images along with peer and membersrvc images after merge in gerrit. 

In the current approach, we are publishing peer and membersrvc images from Jenkins after every successful merge. [~ghaskins] suggested, we have to publish other images (ccenv and src) images to docker hub along with peer and membersrvc so that we no need to depend on baseimage.

ex: hyperledger/fabric-ccenv:v1.0.0 hyperledger/fabric-src:v1.0.0 hyperledger/fabric-peer:v1.0.0 hyperledger/fabric-membersrvc:v1.0.0
",,greg.haskins,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,28800,28800,,0%,28800,28800,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx8rj:",,,,,,Sprint 1,Sprint 2,Sprint 3,,,,,,,,,,,,,1.0,,,,,,,,,,,,greg.haskins,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"18/Aug/16 6:04 AM;rameshthoomu;[~ghaskins]: Please add comment if I miss any.;;;","13/Sep/16 6:01 AM;greg.haskins;Plan to add ""ccenv"" and ""javaenv"" to the published images.  We can skip ""src"" as that will remain an intermediate build.  I have WIP that will make this a more workable configuration going forward.;;;","30/Sep/16 5:59 AM;rameshthoomu;[~ghaskins]: Could you please refer which commit have these changes. ;;;","30/Sep/16 6:04 AM;greg.haskins;https://gerrit.hyperledger.org/r/#/c/1143/

I'll work on getting this merged over the next few days.;;;","11/Oct/16 10:20 PM;rameshthoomu;Patch (https://gerrit.hyperledger.org/r/#/c/1143/ ) is merged in fabric. Will submit a new patch to push these images through Jenkins. [~ghaskins] Do I need to pull all images (peer, membersrvc, ccenv and src) to work in docker environment on non-vagrant machines? or pulling peer and membersrvc is enough without baseimage?;;;","20/Oct/16 6:26 AM;rameshthoomu;Pushed peer, membersrvc, javaenv and ccenv Images to hyperledger docker hub through sandbox Jenkins environment.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,
[java-chaincode] Support for Maven builds in Java chaincode,FAB-158,12457,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,satheeshk,satheeshk,satheeshk,18/Aug/16 6:57 PM,21/Jul/18 3:55 AM,28/Oct/23 2:57 AM,20/Sep/16 6:04 AM,,,,,,,,0,,,,,,"*Description*

Java chaincode development currently only supports gradle as the build tool. This issue is to add Maven support.


_Maven is currently not supported._
",,ChristopherFerris,satheeshk,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzxb7r:",,,,Unset,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,ChristopherFerris,satheeshk,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"10/Sep/16 12:53 AM;ChristopherFerris;https://gerrit.hyperledger.org/r/#/c/783/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Implement TLS in Java chaincode,FAB-159,12458,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,satheeshk,satheeshk,satheeshk,18/Aug/16 7:01 PM,21/Jul/18 3:56 AM,28/Oct/23 2:57 AM,12/Jan/17 11:40 PM,,,,,,,,0,,,,,,Implement TLS for the communication between peer and java shim layer,,satheeshk,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzxb7z:",,,,Unset,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,satheeshk,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"20/Sep/16 6:03 AM;satheeshk;https://gerrit.hyperledger.org/r/#/c/1117/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Node SDK - update build to include building of the Node SDK api docs,FAB-164,12463,,Story,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,rameshthoomu,harrisob@us.ibm.com,harrisob@us.ibm.com,18/Aug/16 8:57 PM,21/Jul/18 3:55 AM,28/Oct/23 2:57 AM,26/Mar/17 4:31 AM,,,,,,,,0,build-system,node-SDK,,,,"Build should be building the Node SDK API docs (generated by ""typedoc"" command) and publishing them such that they will be available online

This should be done on the v0.6 branch. the new project fabric-sdk-node has its own doc generation so this set up will need to be re-done for v1.0 later on. But that'll not be for another couple of months, so let's worry about publishing v0.6 now.",,cdaughtr,harrisob@us.ibm.com,jimthematrix,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzx8y7:",,,,Unset,,Sprint 1,Sprint 2,Sprint 5 - nodeSDK,Sprint 7 - nodeSDK,,,,,,,,,,,,,Unset,,,,,,,,,,,cdaughtr,harrisob@us.ibm.com,jimthematrix,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"13/Sep/16 8:53 PM;cdaughtr;The Node SDK api docs were already being built, but the hyperlinks in the htmls were not correct and needed to include the prefix _src_.  Anya has fixed the hyperlinks.;;;","22/Oct/16 2:58 AM;rameshthoomu;We have generated one doc here https://rameshthoomu.github.io/hyperledger.github.io/ but looking for an official repository to publish node-sdk docs. Requested Chris and Ry jones to create a new hyperledger.github.io repository under hyperledger organization. Once I get the repository we will enable this jenkins job and trigger doc build for every merge. 

Will update the status here next week.;;;","26/Oct/16 11:12 PM;rameshthoomu;[~ChristopherFerris] [~jimthematrix] Need git repository to push node sdk documentation.;;;","18/Nov/16 6:20 AM;jimthematrix;[~rameshthoomu] any updates?;;;","18/Nov/16 6:58 AM;rameshthoomu;[~jimthematrix]: looking for doc hosting repository to publish html files. As mentioned earlier, Ry created hyperledger github pages repository and pushed doc changes but @cbf mentioned we should not use ""gh-pages"" anymore and keep them in a ""hyplerledger wiki repository."" 

Tried with jsdoc but not working as expected.;;;","26/Mar/17 4:31 AM;rameshthoomu;Patch has been submitted and merged. CI fabric-sdk-node-merge has been configured to publish API docs to fabric-sdk-node.github.io repository with GIT_COMMIT numbers.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,
Request to retain the NVP+REST interface in the future versions,FAB-167,12466,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,mastersingh24,AshishkumarLakshmanan,AshishkumarLakshmanan,18/Aug/16 9:29 PM,21/Jul/18 3:55 AM,28/Oct/23 2:57 AM,15/Mar/17 11:22 PM,,,,,,,,0,,,,,,"Hi, 

I got to know from multiple slack channels that the REST interface hosted by the VP/NVP is going to be deprecated. My request is to retain it.

We are in Banking software business. And our goal is to use HL Fabric as the Blockchain framework to which different participants would be connected. 
We defined a plugin which can talk as below 
Banking App < == Plugin == > Fabric
This way we were able to handle everything 
1. Custom chaincode deployment  ( Go lang) , 
2. Invoke 
3. Queries

Now if this REST interface is taken out, I don't know how to go about implementing these.
In my opinion, REST is the best way to implement a decoupled interface. And this way any application would be able to connect to Fabric without much of a programming interface change on the Banking S/w end. 
",,AshishkumarLakshmanan,mastersingh24,MrBuggySan,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzxb8n:",,,,Unset,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,AshishkumarLakshmanan,mastersingh24,MrBuggySan,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"05/Sep/16 7:42 PM;mastersingh24;[~AshishkumarLakshmanan] - the idea is to remove the transactional REST APIs from the peer nodes.  We do have the NodeSDK and there are proposals to create SDKs in other languages as well.

But I do believe that it is still valuable to have an ""out of the box"" REST implementation and the current thinking (at least mine) is that we can create a separate REST API server which uses the SDK under the covers;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Blockchain hangs with a height of 21,FAB-169,12468,,Bug,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,,bmos299,bmos299,19/Aug/16 12:17 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,05/Sep/16 7:23 PM,,,,,,,,0,,,,,,"I am copying an issue that was opened in git 27 days ago.  There is a project for IGF being developed on the 0.5-developer-preview branch that is incurring the same problem.  This problem is the highest issue. 





Description

commit level : 3e0e80a
branch: v0.5-developer-preview

while working on bug #2262, set the chaincode timeout from 1s to 30s for test, deploy artchaincode on a 4-peer network with pbft-batch, security and privacy enabled, observed that the chain height can only reach 21 and then no more invoke transactions can be recorded into the ledger. Each invoke with function PostItem will create the binary data (about 1.3 MB) from the input argument art1.png and inserts that data in to the tables, Invoke request's aren't received to chaincode.

The space, /dev/sda1, is only 20% when this occurs
vagrant@hyperledger-devenv:v0.0.10-3e0e80a:/opt/gopath/src/github.com/hyperledger/fabric$ df
Filesystem 1K-blocks Used Available Use% Mounted on
udev 2019780 8 2019772 1% /dev
tmpfs 404820 752 404068 1% /run
/dev/sda1 40636768 7708024 30841476 20% /
none 4 0 4 0% /sys/fs/cgroup
none 5120 0 5120 0% /run/lock
none 2024096 936 2023160 1% /run/shm
none 102400 0 102400 0% /run/user
none 488384532 179941176 308443356 37% /vagrant
none 488384532 179941176 308443356 37% /local-dev
none 488384532 179941176 308443356 37% /hyperledger
none 488384532 179941176 308443356 37% /opt/gopath/src/github.com/hyperledger/fabric

This test was executed on a Lenovo W540. The issue was seen with batchsize 500 and 100.
Describe How to Reproduce

    launch a 4-peer network with pbft-batch, security and privacy enabled

    login and deploy artchaincode:
    https://github.com/ratnakar-asara/artchaincode
    peer chaincode deploy -l golang -n mycc -c '{""Function"": ""init"", ""Args"":[""INITIALIZE""]}'

    invoke ""PostItem""
    peer chaincode invoke -l golang -n mycc -c '{""Function"": ""PostItem"", ""Args"":[""1000"", ""ARTINV"", ""Shadows by Asppen"", ""Asppen Messer"", ""20140202"", ""Original"", ""landscape"", ""Canvas"", ""15 x 15 in"", ""art1.png"",""600"", ""100""]}'

    invoke 200 times with 1 thread for PostItem from SoapUI

    wait sufficient time for the transactions to be processed, then check the chain height, in my test, the height is 21.

    send few more invokes again, the chain height stays at 21.

@dongmingh dongmingh referenced this issue 27 days ago
Open
invokes do not go thru with large payload (1M) #2262
",,bmos299,corecode,mastersingh24,nickgaski,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxb93:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,bmos299,corecode,mastersingh24,nickgaski,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"21/Aug/16 2:47 AM;mastersingh24;[~bmos299] I think we can close this one now?   Turned out that the ""non-deterministic chaincode"" bandit struck again.  As an FYI, people need to be aware that there are a number of known non-deterministic functions in Golang (e.g. iterators).  

[~kchristidis]  is also adding a log message which will make it easier to figure out that this happens.  See FAB-189;;;","05/Sep/16 7:23 PM;mastersingh24;The issue here was non-deterministic chaincode.  ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Gossip network document,FAB-170,12469,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,19/Aug/16 12:31 AM,21/Jul/18 3:53 AM,28/Oct/23 2:57 AM,13/Nov/16 11:24 PM,,,,,fabric-gossip,,,0,communication,gossip,,,,"Here is a document explaining the interface of the gossip network component and its way of operation in high level:

 [^gossipArch.pdf] 

 [^gossipArch.md] 
",,mandler,nikileshsa,vbortnik,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"21/Aug/16 9:40 PM;vbortnik;Gossip_fabric_v4.pptx;https://jira.hyperledger.org/secure/attachment/10014/Gossip_fabric_v4.pptx","28/Aug/16 4:04 AM;yacovm;gossipArch.md;https://jira.hyperledger.org/secure/attachment/10048/gossipArch.md","28/Aug/16 4:04 AM;yacovm;gossipArch.pdf;https://jira.hyperledger.org/secure/attachment/10049/gossipArch.pdf",,,,,,,,,,,Unset,,,FAB-290,,,,,,,,,"1|hzx8j3:",,,,Unset,,Sprint 2,Sprint 4 - Gossip,Sprint 5 - gossip,,,,,,,,,,,,,,Unset,,,,,,,,,,,mandler,nikileshsa,vbortnik,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"21/Aug/16 9:39 PM;vbortnik;Adding a high-level description of the gossip dissemination network - any comments/questions etc are more than welcome
The current design handles ledger dissemination from consenters and between peers (after the transaction was ordered by the ordering part) 
Communication between submitter and endorseres for transaction enforsement (including the information endorsement sets);;;","21/Aug/16 9:40 PM;vbortnik;Initial high-level design of dissemination fabric;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As a developer, I need a system clock for a blockchain which all peers agree on",FAB-171,12470,,Story,Closed,FAB,Fabric,software,denyeart,,,Lowest,Won't Do,,smithbk,smithbk,19/Aug/16 12:32 AM,23/Jan/20 3:37 AM,28/Oct/23 2:57 AM,23/Jan/20 3:37 AM,,,Future,,fabric-crypto,,,0,MembershipServices,Security,stale-item,,,"There are many reasons for needing a system clock which returns a consistent time across all peers and in all chaincode.

The design proposal for implementing this is to implement this as a system chaincode called *clockSCC* as follows.

clockSCC has the following functions:
* init - simply calls private tick()
* query getTime() - simply returns the value of the $time variable
* invoke setTime(time) - described below
* private tick() - issues an invoke transaction of setTime(time.Now()) against itself

The *setTime(time)* function does the following:
{code:java}
// The 'time' argument is the current time from the submitting peer's clock

// Reject this update if the time is not moving forward according to the submitting peer's clock
globalTime = stub.GetValue(""time"") 
if (time <= globalTime) return

// Reject this update if the difference between the submitting peer's clock and the local peer's clock is too large
// PROBLEM: This is going to be non-deterministic
delta = time - time.Now()
if (math.Abs(delta) > MAX_DELTA) return

// Update the time 
stub.SetValue(""time"",time)

// Reset the timer 
Cancel current timer if set
Set a timer to invoke *tick()* in a random time within a range (e.g. between 60 and 70 secs)
This randomness prevents all peers from submitting transactions at the same time
{code}

Time can never go backwards with this chaincode and a peer with an invalid time, out of the acceptable range of other peers, will be rejected

Another architectural design which may fit better than using system chaincode is to build it into consensus.  This seems to be the case with swirlds (http://www.swirlds.com/downloads/SWIRLDS-TR-2016-01.pdf).

Or a 3rd design is to support a chaincode API which allows all chaincodes to compute their own value for something but the resulting value which is actually stored is some deterministic function across all values (e.g. average).",,corecode,elli-androulaki,nextisd,satheeshk,smithbk,sykesm,zmanian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABC-506,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzxb9b:",,,,Unset,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,corecode,elli-androulaki,nextisd,satheeshk,smithbk,sykesm,zmanian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"22/Aug/16 8:40 PM;corecode;How would this make sure that all endorsers have the same idea of time?;;;","23/Aug/16 9:52 AM;smithbk;Endorsers would query clockSCC.getTime() which will return the same value of time since it is in world state.  Is there some reason this would not work in the new architecure?;;;","07/Dec/16 6:44 AM;smithbk;Lowering severity;;;","12/Sep/18 6:55 PM;elli-androulaki;Isn't this covered to some extend by FAB-3678?;;;","23/Jan/20 3:37 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
LDAP Design,FAB-172,12471,12373,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,ashutosh_kumar,ashutosh_kumar,19/Aug/16 12:55 AM,05/Dec/18 5:49 AM,28/Oct/23 2:57 AM,13/Apr/17 1:22 AM,,,WON'T FIX,,,,,0,,,,,,"New LDAP schema has to be created to hold Memberservices attribute. Need to Test it out on IDS(IBM Directory Server) , openLDAP and Active Directory.",,ashutosh_kumar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxb9j:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,ashutosh_kumar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Data Access Layer Abstraction,FAB-173,12472,12373,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,skarim,ashutosh_kumar,ashutosh_kumar,19/Aug/16 12:57 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,15/Apr/17 2:43 AM,,,v1.0.0,v1.0.0-alpha1,fabric-ca,,,0,MembershipServices,,,,,"Data store factory needs to be created to support : LDAP , No SQL Databse and File based Database.",,ashutosh_kumar,inatatsu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-74,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxb9r:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,ashutosh_kumar,inatatsu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Versioning for fabric,FAB-174,12473,,Epic,Closed,FAB,Fabric,software,denyeart,,,High,Done,,markparz,markparz,19/Aug/16 1:00 AM,19/Nov/18 10:59 AM,28/Oct/23 2:57 AM,20/Mar/18 4:57 AM,,,v1.0.0,,,,,2,Usability,,,,,"Story: As a node admin, I need to have the ability to know what version of the fabric is running, and where to cross reference this version level with release notes, so that it can be easily understood via the documentation exactly what bug fixes and features are currently running on the node. Having this information will make it several things easy
# Know what features are available in specific versions of fabric.
# If experiencing an issue, that has been resolved, the version can be cross referenced with documentation(release notes) listing all bug fixes, including the needed one to patch a specific issue, that have been built into any the releases. 
# If experiencing an issue, that has not been reported or resolved, this will give more information on exactly what release / build the issue is occurring, which will assist the community for quicker resolution. 

Description: 
Need the ability to see in the logs & via command line what the level of the fabric is being run (ie. version -v). The version indicator should have the ability to be cross referenced with release notes to see all bugs and features that have been packaged for easier maintenance and upgrade strategy for node admins. This will also help with problem reporting / description, by providing the ability to easily note what version is experiencing a current issue if, that issue has not already been posted. ",,denyeart,markparz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,Unset,ghx-label-6,,Versioning for fabric,To Do,,,Unset,,,,"1|hzxb9z:",,,,Unset,Unset,,,,,,,,,,,,,,,,,,,,,,,,,,,,denyeart,markparz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"20/Mar/18 4:58 AM;denyeart;peer command has a 'version' option.

peer logs print version upon startup.

Marking as Done.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"calls to StoreState, which returns error are ignoring error",FAB-178,12478,,Bug,Closed,FAB,Fabric,software,denyeart,,,Lowest,Done,ChristopherFerris,ChristopherFerris,ChristopherFerris,19/Aug/16 9:12 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,23/Aug/16 11:15 PM,,,,,fabric-orderer,,19/Aug/16 12:00 AM,0,consensus,ledger,,,,"eg consensus/pbft/pbft-persist.go line 70

func (instance *pbftCore) persistRequestBatch(digest string) {
	reqBatch := instance.reqBatchStore[digest]
	reqBatchPacked, err := proto.Marshal(reqBatch)
	if err != nil {
		logger.Warningf(""Replica %d could not persist request batch %s: %s"", instance.id, digest, err)
		return
	}
	instance.consumer.StoreState(""reqBatch.""+digest, reqBatchPacked)
}

should be:

func (instance *pbftCore) persistRequestBatch(digest string) {
	reqBatch := instance.reqBatchStore[digest]
	reqBatchPacked, err := proto.Marshal(reqBatch)
	if err != nil {
		logger.Warningf(""Replica %d could not persist request batch %s: %s"", instance.id, digest, err)
		return
	}
	err = instance.consumer.StoreState(""reqBatch.""+digest, reqBatchPacked)
        if err != nil {
		logger.Warningf(""Replica %d could not persist request batch %s: %s"", instance.id, digest, err)
        }
}
",,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,3600,3600,,0%,3600,3600,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxbav:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"19/Aug/16 11:13 PM;ChristopherFerris;https://gerrit.hyperledger.org/r/#/c/583/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Implement Block event listener in Node JS SDK,FAB-179,12479,,Story,Closed,FAB,Fabric,software,denyeart,,,High,Done,pmullaney,mgutala,mgutala,19/Aug/16 10:56 PM,21/Jul/18 3:55 AM,28/Oct/23 2:57 AM,05/Sep/16 7:38 PM,,,,,,,,1,node-SDK,,,,,We need the ability in Node JS SDK to register for block events and retrieve block information and transactions in the block.,,jimthematrix,mgutala,zmanian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-63,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FABN-690,,,,,,,,,"1|hzx9bb:",,,,Unset,,Sprint 1,Sprint 2,,,,,,,,,,,,,,,Unset,,,,,,,,,,,jimthematrix,mgutala,zmanian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"31/Aug/16 10:16 AM;jimthematrix;[~pmullaney] can you kindly provide an update to this work please?;;;","04/Sep/16 1:38 AM;zmanian;Changeset [https://gerrit.hyperledger.org/r/#/c/851/];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Deploy a chaincode to a Peer and make it an Endorser for the chaincode,FAB-181,12481,,Story,Closed,FAB,Fabric,software,denyeart,,,High,Done,muralisr,muralisr,muralisr,20/Aug/16 4:26 AM,21/Jul/18 3:56 AM,28/Oct/23 2:57 AM,11/Sep/16 3:42 AM,,,,,fabric-peer,,16/Sep/16 12:00 AM,0,Endorser,,,,,"An application can deploy a chaincode to a Peer by sending a Proposal to a Peer to deploy a chaincode. In particular, this Proposal is targetted at a special *system chaincode* called *Life Cycle Chaincode*. The life cycle chaincode manages all chaincodes deployed to a peer.

{quote}Fig 1provides a overview of the process as far as the interactions between the application and the Endorser goes.  The process's loop is completed when the transaction related to the proposal is fed back to the Committer (Endorser is also a committer) as shown in Fig 2 (LCCC_VSCC in the figure is the Validation System Chaincode for Lifcycle Chaincode) {quote}{quote}

 !BasicDeployFlow.png|thumbnail! 
*Fig 1*

 !BasicDeployCommitFlow.png|thumbnail! 
*Fig 2*",,muralisr,sanchezl,seokm0,v_thirugnanam,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-40,FAB-274,,,,,,,,,,,,,,,,,,,,,,,FAB-514,,,,,,,,,"23/Aug/16 7:20 AM;muralisr;BasicDeployCommitFlow.png;https://jira.hyperledger.org/secure/attachment/10033/BasicDeployCommitFlow.png","23/Aug/16 7:19 AM;muralisr;BasicDeployFlow.png;https://jira.hyperledger.org/secure/attachment/10032/BasicDeployFlow.png",,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzx8tb:",,,,Unset,,Sprint 1,Sprint 2,,,,,,,,,,,,,,,Unset,,,,,,,,,,,muralisr,sanchezl,seokm0,v_thirugnanam,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"15/Sep/16 2:59 PM;muralisr;The basic lifecycle system chaincode was checked in after fixing the unit test framework to support unit test development for the chaincode.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Deploy a chaincode to a Peer along with name of the custom ESCC and VSCC and make it an Endorser for the chaincode,FAB-182,12482,,Story,Closed,FAB,Fabric,software,denyeart,,,High,Duplicate,muralisr,muralisr,muralisr,20/Aug/16 4:30 AM,01/May/19 2:33 AM,28/Oct/23 2:57 AM,01/May/19 2:33 AM,,,Future,,fabric-peer,,16/Sep/16 12:00 AM,0,Endorser,,,,,"An application can deploy a chaincode to a Peer by sending a Proposal to a Peer to deploy a chaincode. In particular, this Proposal is targetted at a special *system chaincode* called *Life Cycle Chaincode*. The life cycle chaincode manages all chaincodes deployed to a peer. 

The chaincode might be associated with an Endorser System Chaincode and/or a Validation System Chaincode to provide custom exists for chaincode specific policies to be used when the chaincode simulates transactions (when processing Proposals) and when the chaincode commits transactions respectively. The fabric provides default ESCC and VSCC.

When deploy a chaincode, an endorsement validation policy may be submitted in the deployment transaction. The  validation policy is evaluated by VSCC prior to committing the transaction to the ledger.

{quote}The following diagram provides a overview of the process as far as the interactions between the application and the Endorser goes. The process's loop is completed when the transaction related to the proposal is fed back to the Committer (Endorser is also a committer) as shown in Fig 2 (LCCC_VSCC in the figure is the Validation System Chaincode for Lifcycle Chaincode) {quote}

 !AdvancedDeployFlow.png|thumbnail! 
*Fig 1*

 !DeployCommitFlow.png|thumbnail! 
*Fig 2*",,Hangyu_FJH,jeffgarratt,mastersingh24,muralisr,pdina,seokm0,v_thirugnanam,xiejunan,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-514,,,,,,,,,"23/Aug/16 7:21 AM;muralisr;AdvancedDeployFlow.png;https://jira.hyperledger.org/secure/attachment/10034/AdvancedDeployFlow.png","23/Aug/16 5:10 AM;muralisr;DeployCommitFlow.png;https://jira.hyperledger.org/secure/attachment/10029/DeployCommitFlow.png",,,,,,,,,,,,Unset,,,FAB-757,,,,,,,,,"1|hzx8u7:",,,,Unset,,Sprint 1,Sprint 2,,,,,,,,,,,,,,,Unset,,,,,,,,,,,Hangyu_FJH,jeffgarratt,mastersingh24,muralisr,pdina,seokm0,v_thirugnanam,xiejunan,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"07/Sep/16 6:06 AM;jeffgarratt;See https://gerrit.hyperledger.org/r/#/c/923/ for initial endorser BDD.;;;","01/May/19 2:33 AM;mastersingh24;Handled with new lifecyle;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As an authorized user, I want to upgrade chaincode",FAB-183,12483,,Story,Closed,FAB,Fabric,software,denyeart,,,High,Done,muralisr,muralisr,muralisr,20/Aug/16 4:32 AM,21/Jul/18 3:55 AM,28/Oct/23 2:57 AM,26/Apr/17 11:01 PM,,,v1.0.0,,fabric-peer,,30/Sep/16 12:00 AM,1,Endorser,,,,,"An application can upgrade a chaincode to a Peer by sending a Proposal to a Peer to upgrade a chaincode. In particular, this Proposal is targetted at a special *system chaincode* called *Life Cycle Chaincode*. The life cycle chaincode manages all chaincodes deployed to a peer. 
Upgrade is similar to a deploy. The difference is that it increments version of the chaincode. At commit time, the version will be in place and all transactions will begin using the upgraded chaincode.
The chaincode might be associated with an Endorser System Chaincode and/or a Validation System Chaincode to provide custom exists for chaincode specific policies to be used when the chaincode simulates transactions (when processing Proposals) and when the chaincode commits transactions respectively. The fabric provides default ESCC and VSCC.

{quote}Fig 1 provides a overview of the process as far as the interactions between the application and the Endorser goes. The process's loop is completed when the transaction related to the proposal is fed back to the Committer (Endorser is also a committer) as shown in Fig 2 (LCCC_VSCC in the figure is the Validation System Chaincode for Lifcycle Chaincode) {quote}

 !UpgradeFlow.png|thumbnail! 
*Fig 1*


 !UpgradeCommitFlow.png|thumbnail! 
*Fig 2*",,muralisr,tiennv,zamrokk,zmanian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-1237,FAB-1238,FAB-1318,FAB-1357,FAB-1516,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Aug/16 4:55 AM;muralisr;UpgradeCommitFlow.png;https://jira.hyperledger.org/secure/attachment/10028/UpgradeCommitFlow.png","23/Aug/16 7:23 AM;muralisr;UpgradeFlow.png;https://jira.hyperledger.org/secure/attachment/10035/UpgradeFlow.png",,,,,,,,,,,,Unset,,,FAB-757,,,,,,,,,"1|hzx4t3:",,,,Unset,,Sprint 4 - Endorser,Sprint 5 - Consensus,Sprint 7 - Endorser,Sprint 8 - Endorser,Sprint 9 - Endorser,Sprint 10 - Endorser,Sprint 11 - Endorser,Sprint 12 - Endorser,Sprint 13 - Endorser,Sprint 14 - Endorser,Sprint 15 - Endorser,Sprint 16  - Endorser,,,,,Unset,,,,,,,,,,,muralisr,tiennv,zamrokk,zmanian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"01/Dec/16 12:55 PM;muralisr;There are three major parts to the implementation of Upgrade

*Client*
# introducing a new ""upgrade"" command to CLI in addition to ""deploy"", ""invoke"" and ""query""

*Endorser* 
# implementing ""upgrade"" command in LCCC - this will bump up the transaction and replace the ChaincodeDeploymentSpec
# treating the ""upgrade"" as a new ""deploy"" but using the old chaincode namespace - this is chaincode intensive work where the framework has to be modified to accept the new chaincode but run it on the same namespace as the old

*Committer*
# validate the upgrade transation on the block first and if good,  remove other transactions in the block that are  to the same chaincode
;;;","10/Feb/17 12:54 AM;zamrokk;I thought the container's name was made from the ""hash"" of the source code.

Is the ""namespace"" the name as the container's id ? In this case it means that the old namespace will not match the hash of the new source code 

Am i right ? ;;;","10/Feb/17 1:17 AM;muralisr;[~bfuentes@fr.ibm.com] in V1.0 we no longer use hash to identify chaincode. User provides a unique name at the time of deploy that is associated with the CC during its entire lifecycle.;;;","10/Feb/17 6:00 PM;zamrokk;[~muralisr] , you mean only to identify / use. But about the container's id, it is still the hash of the full code, right ? Because I think is important to prove that the container running is from particular source code;;;","26/Apr/17 11:01 PM;jimthematrix;to clean up and avoid confusion on what work is still remaining, after discussing with [~binhn] I'm closing this task with the note that a bug for FAB-198 still needs to be fixed;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As an Application, send a proposal to endorser so that I get an endorsement",FAB-184,12484,,Story,Closed,FAB,Fabric,software,denyeart,,,High,Done,,muralisr,muralisr,20/Aug/16 4:34 AM,21/Jul/18 3:55 AM,28/Oct/23 2:57 AM,11/Sep/16 3:55 AM,,,Future,,fabric-peer,,30/Sep/16 12:00 AM,0,Endorser,,,,,"Every peer is potentially an endorser for the chaincodes deployed to it (the application may choose not to send a proposal to an Endorser).
{quote}The following diagram provides a overview of the process as far as the interactions between the application and the Endorser goes. The process's loop is completed when the transaction related to the proposal is fed back to the Committer (Endorser is also a committer). This part is not shown below.{quote}

  !TxProposalFlow.png|thumbnail! ",,muralisr,tiennv,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Aug/16 7:24 AM;muralisr;TxProposalFlow.png;https://jira.hyperledger.org/secure/attachment/10036/TxProposalFlow.png",,,,,,,,,,,,,Unset,,,FAB-757,,,,,,,,,"1|hzx8tz:",,,,Unset,,Sprint 1,Sprint 2,,,,,,,,,,,,,,,Unset,,,,,,,,,,,muralisr,tiennv,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Ledger basic simulation: As a consumer of the ledger APIs (Endorser peer), I need to simulate a transaction proposal against the ledger, so that I can build a read/write data set for the ultimate ledger transaction",FAB-185,12485,,Story,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,manish-sethi,denyeart,denyeart,20/Aug/16 4:36 AM,21/Jul/18 3:55 AM,28/Oct/23 2:57 AM,07/Sep/16 4:08 AM,,,,,fabric-ledger,,16/Sep/16 12:00 AM,0,Ledger,,,,,,,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-52,,,,,FAB-58,FAB-64,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-758,,,,,,,,,"1|hzx9iv:",,,,Unset,,Sprint 1,,,,,,,,,,,,,,,8.0,Unset,,,,,,,,,,,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Endorsement policy for a chaincode,FAB-186,12486,,Task,Closed,FAB,Fabric,software,denyeart,,,High,Done,ales,muralisr,muralisr,20/Aug/16 4:41 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,11/Sep/16 3:42 AM,,,Future,,fabric-peer,,31/Aug/16 12:00 AM,0,Endorser,,,,,"An Endorser system chaincode (ESCC) may be associated with 1 or more chaincode. Peer call ESCC with Proposal and read-write set. ESCC implements endorsement policy based on the input and returns EndorsedResult

Story - [Deploy chaincode with ESCC and VSCC|https://jira.hyperledger.org/browse/FAB-182]",,ChristopherFerris,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-187,,,,,,,,,,,,,,,FAB-514,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx8hj:",,,,,,Sprint 1,Sprint 2,Sprint 4 - Endorser,Sprint 5 - Consensus,,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"10/Apr/17 9:34 PM;ChristopherFerris;[~muralisr] is this done? Has not been updated in forever, but I suspect that is because the task is actually completed. Also, unclear why this is a task when there's a story.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Validation policy for a chaincode,FAB-187,12487,,Story,Closed,FAB,Fabric,software,denyeart,,,High,Done,ales,muralisr,muralisr,20/Aug/16 4:42 AM,21/Jul/18 3:56 AM,28/Oct/23 2:57 AM,17/Jan/17 7:44 PM,,,,,fabric-peer,,31/Aug/16 12:00 AM,0,Endorser,,,,,"Validation policy is implemented by validator system chaincode (VSCC), which is associated with 1 or more chaincodes and called by Peer before committing transactions. VSCC works with ESCC (endorser system chaincode) to ensure a transaction is valid. 

We want to implement following default policies:
# At least 1 valid signature from those participating on the chain
# Explicit list of signatures; advanced implementation may allow boolean expressions including AND, OR. For example, (a AND b) OR c
# Percent of valid signatures (eg 80%) of those participating on the chain. This could be complex in counting the total of the endorsers at the time of validation which could lead to none determinism since each peer might have a different total due to gossip network.

Note that we want the policy to be consistent per chaincode deployment. If a chaincode is bound to a percentage policy, then it will always be using that same policy. To change the validation policy, the chaincode would have to be redeployed. Therefore, when a chaincode is deployed, it needs to specify ESCC/VSCC and the validation policy to enforce during the life-cycle of the chaincode.

We also need a function `CheckEndorsementPolicy(Transaction)` to allow app to optionally check endorsement policy correctness prior to submitting the transaction to the network. This same function is called during validation.",,binhn,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-186,FAB-1348,,,,,,,,FAB-1038,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-757,,,,,,,,,"1|hzx7zj:",,,,Unset,,Sprint 4 - Endorser,Sprint 5 - Consensus,Sprint 8 - Endorser,,,,,,,,,,,,,,Unset,,,,,,,,,,,binhn,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"12/Nov/16 12:09 AM;binhn;[~keithsmith] suggested to look at https://github.com/Knetic/govaluate ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Cut an ERROR log message if a checkpoint failure occurs,FAB-189,12489,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,kchristidis,bmos299,bmos299,20/Aug/16 5:26 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,12/Sep/16 1:13 AM,,,v0.6,,fabric-orderer,,,0,consensus,fabric05,,,,If the pbft checkpoint incurs a failure (different hash's) and can not proceed.  The fabric needs to cut and ERROR message.   This has cost us a lot of PD time. ,,bmos299,corecode,kchristidis,mastersingh24,tuand,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,";13/Sep/16 3:39 PM;kchristidis;28800",,28800,0,28800,100%,28800,0,28800,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxbbj:",,,,,,Sprint 1,,,,,,,,,,,,,,,,,,,,,,,,,,,bmos299,corecode,kchristidis,mastersingh24,tuand,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"20/Aug/16 6:25 AM;kchristidis;I want to double-check with our team to make sure I'm not missing anything, but I think f+2 observed different checkpoints for the same sequence number could act as such a halting condition.;;;","20/Aug/16 11:36 AM;bmos299;In Slack'ing with Kostas and Info message may be best. ;;;","22/Aug/16 8:35 PM;corecode;I'd say the peer should panic;;;","22/Aug/16 10:02 PM;tuand;We spit out a debug message saying ""out of sequence numbers"" and ignore the incoming request.  Probably should panic at this point.;;;","31/Aug/16 3:30 AM;bmos299;Hi Simon and Tuan, once I am out of sequence...is it true to say I will never get back in sequence? If that is true, then I think a panic is the right solution.
Thanks, 
Barry;;;","31/Aug/16 5:42 AM;kchristidis;Barry, just making sure that the phrasing is clear --

If *the network* finds no stable certificate for the checkpoint then it'll be stuck, and panicking every peer is the right way to go.

If *a peer* gets out of sequence while the rest of the network is making progress normally (i.e. a stable certificate is found, etc.) then *the peer* will get back on track. (I've explained how this works at a very low level in our internal z repo - see issue 164.)

It's not clear from the original description whether you focus on the network as a whole, or a specific peer (you write ""I"" in your most recent comment for instance). I was the one who debugged the IGF issue a couple of weeks so I'm pretty certain you refer to the network, but I want to make sure we're all on the same page.;;;","31/Aug/16 6:32 PM;corecode;I still would suggest panicing the local peer that diverged.  It should never happen and is an indication of some fatal failure.;;;","01/Sep/16 11:05 PM;bmos299;Thanks for the updates.  I am thinking in the case where the hash for a particular block is different  between peers.  I assume they will never converge? I understand there is a difference between being out of sequence (at a different block height) vs calculating a different hash for a particular block.  Is my understanding correct?  If so,  I like Simon's solution of panicing the peer and cutting a message that provides useful information.

If my understanding is incorrect, please ping me and we can chat.   ...and Kostas, yes Issue 164 has become the key document!

Thanks, Barry;;;","01/Sep/16 11:15 PM;kchristidis;If you cannot get 2f+1 peers to agree, then the network cannot converge, yes.

I do not find anything wrong with Simon's suggestion.;;;","09/Sep/16 12:15 AM;mastersingh24;[~kchristidis] - this is done and merged already, correct?;;;","09/Sep/16 1:42 PM;kchristidis;Incorrect. (You were probably thinking of the warning message which has indeed already been merged.)

I just submitted two PRs that address the two scenarios we examine:

1. No stable cert for the network: If the peer identifies > f+1 different checkpoint values for the same sequence number, it panics. This indicates a network that won't be able to acquire a stable checkpoint certificate for this sequence number, and will therefore stop doing progress.

2. Peer's own state diverging: If the peer's own checkpoint differs from a witnessed weak checkpoint certificate, it panics.

Will mark the task as done when the PRs are merged.;;;",,,,,,,,,,,,,,,,,,,,,,,
"as a developer, I can 'go get' the hyperledger fabric ",FAB-190,12490,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,ChristopherFerris,ChristopherFerris,20/Aug/16 9:29 AM,21/Jul/18 3:55 AM,28/Oct/23 2:57 AM,05/Jul/18 8:37 PM,,,WON'T FIX,,,,,0,,,,,,"We need to establish a package domain for hyperledger fabric so that developers can use go tools to import, get and govendor hyperledger/fabirc.",,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzxbbz:",,,,Unset,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"26/Aug/16 4:17 AM;ChristopherFerris;a vanity domain might be nice, but with the Gerrit repo being mirrored to GH, things should be back to normal.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Ledger advanced simulation: As a consumer of the ledger APIs (Endorser peer chaincode), I need the ability to manipulate keys in various ways, so that I have flexibility in chaincode to get and set the state I need",FAB-192,12492,,Story,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,chris.elder,denyeart,denyeart,20/Aug/16 7:56 PM,21/Jul/18 3:55 AM,28/Oct/23 2:57 AM,03/Jan/17 11:17 PM,,,,,fabric-ledger,,30/Sep/16 12:00 AM,0,Ledger,,,,,"- Implement QueryExecutor.GetStateRangeScanIterator()

- Implement QueryExecutor.GetStateMultipleKeys()

- Implement TxSimulator.DeleteState()

- Implement TxSimulator.SetStateMultipleKeys()",,denyeart,inatatsu,nikileshsa,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-30,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-758,,,,,,,,,"1|hzx89b:",,,,Unset,,Sprint 6 - Ledger,Sprint 7 - Ledger,,,,,,,,,,,,,,2.0,Unset,,,,,,,,,,,denyeart,inatatsu,nikileshsa,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"22/Nov/16 12:35 AM;denyeart;These functions were implemented by Manish for goleveldb.  Now they need to be implemented for CouchDB.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Ledger basic commit: As a consumer of the ledger APIs (Ordering service gRPC), I need to commit a batch of transactions to the file based ledger datastore (Commit Part 1- ignoring validation initially)",FAB-193,12493,,Story,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,manish-sethi,denyeart,denyeart,20/Aug/16 7:58 PM,21/Jul/18 3:56 AM,28/Oct/23 2:57 AM,07/Sep/16 4:10 AM,,,,,fabric-ledger,,16/Sep/16 12:00 AM,0,Ledger,,,,,,,akihikot,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-57,FAB-56,FAB-384,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-758,,,,,,,,,"1|hzx9jr:",,,,Unset,,Sprint 1,,,,,,,,,,,,,,,8.0,Unset,,,,,,,,,,,akihikot,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Ledger commit validation: As a consumer of the ledger APIs (Ordering service gRPC), I need the commit of a batch of transactions to perform MVCC validation on the batch prior to committing, so that invalid transactions get removed (Commit Part 2)",FAB-194,12494,,Story,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,manish-sethi,denyeart,denyeart,20/Aug/16 8:04 PM,21/Jul/18 3:56 AM,28/Oct/23 2:57 AM,05/Oct/16 7:08 PM,,,,,fabric-ledger,,29/Sep/16 12:00 AM,0,Ledger,,,,,"Implement RemoveInvalidTransactions()

- Implement MVCC check",,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-55,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-758,,,,,,,,,"1|hzx9k7:",,,,Unset,,Sprint 2,,,,,,,,,,,,,,,4.0,Unset,,,,,,,,,,,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Ledger cross-peer commit validation: As a consumer of the ledger APIs (Ordering service gRPC), I need the commit of a batch of transactions to gossip with other committers, to validate that the same valid block is committed on each peer (Commit Part 3)",FAB-195,12495,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,denyeart,denyeart,20/Aug/16 8:09 PM,23/Jan/20 3:38 AM,28/Oct/23 2:57 AM,23/Jan/20 3:38 AM,,,Future,,fabric-ledger,,14/Oct/16 12:00 AM,0,Ledger,stale-item,,,,"Call Committer System Chaincode (CSCC) to check Block Commit Policy. Gossip among Committers to collect agreements according to the BCP. If satisfied, commit the block; otherwise, discard the block
",,denyeart,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-758,,,,,,,,,"1|hzxe0v:",,,,Unset,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,denyeart,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 3:38 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Ledger APIs to query Blocks/Transactions, including rich query and history of key values",FAB-196,12496,,Story,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,,denyeart,denyeart,20/Aug/16 8:11 PM,21/Jul/18 3:56 AM,28/Oct/23 2:57 AM,16/Jan/17 8:58 PM,,,v1.0.0,,fabric-ledger,,29/Sep/16 12:00 AM,0,Ledger,,,,,"- Ledger APIs have been implemented and need to be exposed to SDK:
  -- GetBlockchainInfo
  -- GetBlocksByNumber
  -- GetBlockByNumber
  -- GetBlockByHash
  -- GetTransactionById
  -- ExecuteQuery

",,denyeart,inatatsu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-758,,,,,,,,,"1|hzxfxb:",,,,Unset,,Sprint 9 - Ledger,,,,,,,,,,,,,,,8.0,Unset,,,,,,,,,,,denyeart,inatatsu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"13/Jan/17 9:29 PM;denyeart;[~Senthil1]
Binh has actually started working on this, implemented as a system chaincode.

[~binhn]
Could you link in the relevant Jira and Gerrit work items.;;;","14/Jan/17 12:59 PM;Senthil1;I see. Do we have any pending issues which I can look into?;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Ledger Blockchain query API: I need to query the ledger outside of chaincode,FAB-197,12497,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,denyeart,denyeart,20/Aug/16 8:13 PM,21/Jul/18 3:56 AM,28/Oct/23 2:57 AM,16/Jan/17 9:01 PM,,,,,fabric-ledger,,28/Oct/16 12:00 AM,0,Ledger,,,,,Create query system chaincode layer to execute queries against ledger.,,denyeart,inatatsu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-199,,,,,,,,,"1|hzxfxj:",,,,Unset,,Sprint 9 - Ledger,,,,,,,,,,,,,,,4.0,Unset,,,,,,,,,,,denyeart,inatatsu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Should not commit prior version chaincode execution results to chain running at later version of chaincode,FAB-198,12498,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,,denyeart,denyeart,20/Aug/16 8:14 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,03/May/17 7:34 PM,,,v1.0.0,,fabric-peer,,14/Oct/16 12:00 AM,0,committer,endorser,Ledger,,,"At endorsement time, need to store chaincode version number in the proposal response (ChaincodeAction), and then at commit time verify that the version is still the latest/active chaincode version.",,binhn,denyeart,Honglei,inatatsu,jiangyaoguo,muralisr,troyronda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3329,FAB-3330,FAB-3334,,,,,,,FAB-1516,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-758,,,,,,,,,"1|hzx4kf:",,,,,,Sprint 10 - Ledger,Sprint 12 - Ledger,Sprint 13 - Ledger,Sprint 14  - Ledger,Sprint 15  - Ledger,Sprint 16  - Ledger,,,,,,,,,,,,,,,,,,,,,,binhn,denyeart,Honglei,inatatsu,jiangyaoguo,muralisr,troyronda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"12/Apr/17 3:38 AM;denyeart;[~muralisr] Now that chaincode upgrade is complete, what is your opinion of the additional validation check mentioned in the Description here?;;;","19/Apr/17 7:13 AM;binhn;I hope nothing else is needed, but as we chatted, we might want to look into chaincode version during upgrade to check that the version of a chaincode hasn't been changed on the transactions when we commit; if version has been changed, the transaction must be invalid.;;;","19/Apr/17 8:11 AM;denyeart;[~binhn] [~muralisr]
Thanks for the pointer to the discussion in https://gerrit.hyperledger.org/r/#/c/7831.
I always assumed the chaincode version would have to go into the proposal response somewhere, so that it could be validated to be the same at commit time.

Question - Would the version have to go into the RWSet per se? Or could it simply be a new field in the ChaincodeAction? I think of RWSet as the chaincode data. Metadata about the execution of the chaincode could go in ChaincodeAction couldn't it?;;;","19/Apr/17 11:48 AM;muralisr;[~denyeart] [~binhn]
there are 3 ways we can do this with
# add it to RW set
# just set the Version field in ChaincodeHeaderExtension.ChaincodeID at endorsement time
# have user set the Version field in ChaincodeHeaderExtension.ChaincodeID at proposal time
# add a new version field to ChaincodeAction 

2 is out (we cannot modify signed structures) 
3 is possible but users have to keep track of version (which is kinda silly given we support only one - the latest)

Its between 1 and 4. Agree with [~denyeart] that it might be best to handle it as part of chaincode processing as opposed to ledger processing. We have all the chaincode level structures available for processing at the top level instead of relegating to ledger to extract it (or process it later in the validation callpath).

The work is straightforward
* add a version field to ChaincodeAction
* set the version in endorser (we have all the information)
* validate the information at committer (we have all the information)

What do you think [~jiangyaoguo]
;;;","19/Apr/17 12:14 PM;jiangyaoguo;Agree with 4.  Way 1 needs reserved key in RW-set to save version. it might be overwritten by cc.;;;","21/Apr/17 9:18 PM;denyeart;Ok, since it will be in peer (endorser/committer) logic rather than ledger, I will move to component fabric-peer.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,
Ability to query ledger including ledger history from SDK,FAB-199,12499,,Epic,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,denyeart,denyeart,20/Aug/16 8:23 PM,23/Jan/20 3:38 AM,28/Oct/23 2:57 AM,23/Jan/20 3:38 AM,,,v1.0.0,,fabric-ledger,,,1,Ledger,stale-item,,,,"Ability for clients to query ledger current values and history.

If chaincode is deployed to endorser peer but not committer peer, can clients query without going through chaincode?",,beatrider,ChristopherFerris,denyeart,grapebaba,kenzhang,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,Unset,ghx-label-1,,Query Ledger from SDK,To Do,,,Unset,,,,"1|hzxbcf:",,,,Unset,Unset,,,,,,,,,,,,,,,,,,,,,,,,,,,,beatrider,ChristopherFerris,denyeart,grapebaba,kenzhang,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"06/Jul/18 9:38 PM;ChristopherFerris;[~denyeart] is this still relevant?;;;","23/Jan/20 3:38 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Ledger simple provenance: I want to see the full history of key values across time,FAB-200,12500,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,MariWade,denyeart,denyeart,20/Aug/16 8:27 PM,21/Jul/18 3:56 AM,28/Oct/23 2:57 AM,03/Jan/17 11:04 PM,,,,,fabric-ledger,,28/Oct/16 12:00 AM,0,Ledger,,,,,Querying for full history of keys will require a new history database. See attached slides for details.,,beatrider,binhn,denyeart,inatatsu,kenzhang,kletkeman,manish-sethi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"25/Jan/17 1:51 AM;denyeart;HistoryDatabaseDesign_20170124.pptx;https://jira.hyperledger.org/secure/attachment/10402/HistoryDatabaseDesign_20170124.pptx",,,,,,,,,,,,,Unset,,,FAB-199,,,,,,,,,"1|hzxak7:",,,,Unset,,Sprint 7 - Ledger,,,,,,,,,,,,,,,8.0,Unset,,,,,,,,,,,beatrider,binhn,denyeart,inatatsu,kenzhang,kletkeman,manish-sethi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"14/Dec/16 1:14 PM;binhn;A few comments/questions:
# Do we really need block number? Block is just an implementation artifact; the application only cares about transaction and can get transaction with a tx-id
# I wonder if it would be more useful to only keep history of some keys but not the entire chain (I am assume a history-db per chain). There are potentially many keys and really concerned about performance and size of the db, given that no pruning when history is important
# How should we treat provenance of divisible things? Example, I had a bag of apples, and I gave Bob 20% of it. If we keep track of key, would that be the same key?;;;","14/Dec/16 3:18 PM;denyeart;[~binhn]
1. Are you talking about block number embedded in the history key? That is just an impl detail that application won't see.  We used blockNum:txNum so that the historic keys would be ordered by time (height), and therefore the API would implicitly return the history in order.  tx-id order would be random order.  Across the ledger we are using blockNum:txNum to indicate transaction height.
2. When using leveldb, the history db is really just another index to the blockchain (we already have 3 other blockchain indexes), and therefore won't get very large.  When using CouchDB on the other hand, history db will contain queryable ledger values and will therefore get large, but not quite as large as the actual blockchain ledger which contains full history of all read and write sets.  When we implement pruning functionality (post-v1), we'll need an option to prune the actual blockchain as well as history database.
3. I call this 'simple provenance' since it can handle the simple provenance scenarios, but not advanced provenance scenarios like divisions very well. Lance is working on advanced provenance scenarios as a MVP under the solutions team.  For the simple provenance solution here, if keyX gets divided and included in keyY, you could use the rich query in CouchDB to query for a field that contains keyX.  It would be up to the chaincode developer to structure their JSON such that divided assets get saved in a predictable field of the target. This would work for some simplistic division scenarios, but not advanced division scenarios such as recursive divisions.;;;","14/Dec/16 10:25 PM;manish-sethi;[~binhn] - About the dividing of the key, when you retrieve a transaction for a key, the last transaction related to the key would have the other keys also, to which this key was divided. And from thereon one can submit queries related to those keys. App would have to understand the meaning of the embedded keys because, at fabric layer we won't be able to interpret the meaning of this. Going forward, we can allow users to specify a graph query for history db where he can embed traversal queries in terms of embedded keys of transactions. (I guess, that's what Lance would have been doing but we can provide first class support at fabric level, if it's going to be a common query)

[~denyeart] - We should definitely think about resources consumed by the history db. In this regard, we should take the time range for all the queries related to historical queries (off course, a query can still provide full range). For us, the notion of time can be the range of block numbers to start with. This gives us an option to maintain history in a query-able form limited numbers of blocks (configure default to last 10,000,000 blocks). Because, in most of the query scenarios that I expect, typically folks would be interested in recent history. For querying much older history, we can take the request and process offline from blocks (e.g., load the required blocks in the history db and then query and finally delete the blocks. Or even better, process a long running query in spark/map-reduce job directly on the blocks for the given range). This is similar to banks (at least in India) where I can get my last few months/years transaction statement online but for much older statements, I have to raise a request and the statement is made available to me next business day.

In practice, the history maintenance may not limited to maintaining a fixed number of blocks and  it could be in fact a bit more sophisticated where we maintain a limited numbers of versions of a key (we can discuss the benefits and details later)

So, I propose to expose three methods in a history db
``` 
   - GetRecentTxsForKey(key, numTrans)
   - GetTxsForKey(key, startBlockNum, endBlockNum)
   - ExecuteQuery(query, startBlockNum, endBlockNum)

If we want to expose the apis in terms of clock time, we would need to maintain an additional mapping between the clock time and block number.

```
Also, we should maintain history database altogether on a separate disk (if not a separate machine altogether) so that it has minimum interference with the transnational workload.;;;","15/Dec/16 12:54 AM;binhn;[~manish-sethi] [~denyeart]  That makes sense to me.

I think we should offer a MVP on history. My concerns are that we are approaching data warehousing in OLTP environment, especially with the plan on couchdb, where we also store values. ;;;","15/Dec/16 3:46 AM;manish-sethi;[~binhn] - your concern is very reasonable and I too have that. No, we are certainly not going to maintain history db and latest state in a single db. Even in the case of couch, there would be separate instance. 

Further, as I mentioned before - I prefer to have the history db on a separate machine altogether. However, if it is not recommended for the reasons of deployment complexity, we should definitely keep it on a separate disk.;;;","15/Dec/16 4:35 AM;denyeart;[~binhn] [~manish-sethi] I agree with all the comments.  History database opens up a can of worms, especially if we store all the data in CouchDB. First objective is to get the basic function into v1 as beta, so that we have a starting point to discuss and collect feedback from the community on this advanced topic.  I expect it will take some time to work through all the decisions.  For example I do expect working with time windows is more valuable to history consumers than block windows, and therefore I think we need to investigate ordering service providing a timestamp on the block. 

There will also be implications related to checkpointing/pruning when it is introduced post-v1. For example we may decide to prune blockchain and state and history db all together, and in the same process move the pruned data to a 'deep history' database (e.g. prior years). I believe this would meet the same objective Manish raised, but without complicating the API. For initial function, let's keep the API simple and return all history for a key.;;;","30/May/17 12:25 PM;kletkeman;Well, if you can specify that event and state are JSON objects (as we did in our platform at https://github.com/ibm-watson-iot/blockchain-samples/blob/master/contracts/platform/iotcontractplatform/cthistory.go), then history can be implemented as simply as a second write to a tag (we use ""IOTCP.HIST."") plus the asset class and ID, plus an RFC3339nano formatted timestamp.

Retrieving a history range is then as simple as getting an iterator from time X inclusive to time Y exclusive. I added a simple filter to history queries that take a set of qualified JSON property names and values. 

Just saying that an all singing all dancing database might be nice, but this implementation is part of the read / write set and I happen to like that particular behavior.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,
Ledger point in time: I want to query a key value on the ledger from a specific point in time,FAB-201,12501,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,denyeart,denyeart,20/Aug/16 8:28 PM,12/Jul/19 8:28 PM,28/Oct/23 2:57 AM,12/Jul/19 8:28 PM,,,Future,,fabric-ledger,,,0,Ledger,,,,,,,akihikot,denyeart,inatatsu,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-199,,,,,,,,,"1|hzxanr:",,,,Unset,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,akihikot,denyeart,inatatsu,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"12/Jul/19 8:28 PM;mastersingh24;You can enable the history database;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
test,FAB-202,12502,,Epic,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,denyeart,denyeart,20/Aug/16 8:32 PM,21/Jul/18 4:09 AM,28/Oct/23 2:57 AM,23/Aug/16 12:01 AM,,,,,,,,0,,,,,,test,,corecode,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,Unset,ghx-label-3,,test,To Do,,,Unset,,,,"1|hzxbcn:",,,,Unset,Unset,,,,,,,,,,,,,,,,,,,,,,,,,,,,corecode,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"22/Aug/16 7:42 PM;corecode;How would dissemination of ""Actions""/ledger changesets work for a private ledger?;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
test,FAB-203,12503,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,denyeart,denyeart,20/Aug/16 8:34 PM,21/Jul/18 3:53 AM,28/Oct/23 2:57 AM,13/Apr/17 1:27 AM,,,WON'T FIX,,,,,0,,,,,,,,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-202,,,,,,,,,"1|hzxbcv:",,,,Unset,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Expose ledger rich query API to chaincode: As a chaincode consumer, I need to query the ledger using a rich data language (similar capability to SQL, but not necessarily SQL syntax), so that I have flexibility beyond simple key/value lookups",FAB-204,12504,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,Senthil1,denyeart,denyeart,20/Aug/16 8:39 PM,21/Jul/18 3:54 AM,28/Oct/23 2:57 AM,02/Feb/17 12:19 AM,,,,,fabric-ledger,,,0,Ledger,,,,,,,denyeart,inatatsu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-199,,,,,,,,,"1|hzxaiv:",,,,Unset,,Sprint 10 - Ledger,,,,,,,,,,,,,,,8.0,Unset,,,,,,,,,,,denyeart,inatatsu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As a chaincode consumer, I need to perform simple filters on my queries",FAB-205,12505,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,denyeart,denyeart,20/Aug/16 8:39 PM,21/Jul/18 3:56 AM,28/Oct/23 2:57 AM,08/Apr/17 3:28 AM,,,,,fabric-ledger,,,0,Ledger,,,,,,,chrisconway,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-60,,,,,,,,,"1|hzxbdb:",,,,Unset,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,chrisconway,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As a chaincode consumer, I need to perform complex filters on my queries",FAB-206,12506,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,denyeart,denyeart,20/Aug/16 8:40 PM,21/Jul/18 3:54 AM,28/Oct/23 2:57 AM,08/Apr/17 3:28 AM,,,,,fabric-ledger,,,0,Ledger,,,,,,,chrisconway,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-60,,,,,,,,,"1|hzxbdj:",,,,Unset,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,chrisconway,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As a consumer of the ledger APIs, I want to checkpoint and prune the ledger without losing data integrity, so that the size of the ledger remains manageable",FAB-207,12507,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,,denyeart,denyeart,20/Aug/16 8:41 PM,03/Jun/20 4:45 AM,28/Oct/23 2:57 AM,08/Aug/18 4:00 AM,,,DUPLICATE,,fabric-ledger,,31/Oct/16 12:00 AM,0,Ledger,,,,,,,corecode,denyeart,inatatsu,MariWade,MichaelWang,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-106,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzxe1b:",,,,Unset,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,corecode,denyeart,inatatsu,MariWade,MichaelWang,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"22/Aug/16 7:39 PM;corecode;How does that interact with the network maintaining long term consistency? Only optional nodes can prune?;;;","29/Jul/17 10:03 PM;denyeart;Will be tracked in FAB-106.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Unable to do query on a deployed chaincode,FAB-208,12508,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,hgabre,JamesYu,JamesYu,21/Aug/16 6:23 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,02/Apr/17 9:35 PM,v0.6,,,,,,,0,chaincode,,,,,"I successfully deployed and invoked chaincode, but not query.
Following is the CLI command I entered and the response I got:
{color:#14892c}$ peer chaincode deploy -p github.com/hyperledger/fabric/examples/chaincode/go/chaincode_example02 -c '{""Function"":""init"", ""Args"": [""a"",""100"", ""b"", ""200""]}'{color}
a5389f7dfb9efae379900a41db1503fea2199fe400272b61ac5fe7bd0c6b97cf10ce3aa8dd00cd7626ce02f18accc7e5f2059dae6eb0786838042958352b89fb
{color:#14892c}$ peer chaincode invoke -n a5389f7dfb9efae379900a41db1503fea2199fe400272b61ac5fe7bd0c6b97cf10ce3aa8dd00cd7626ce02f18accc7e5f2059dae6eb0786838042958352b89fb -c '{""Function"": ""invoke"", ""Args"": [""a"", ""b"", ""10""]}'{color}
c6c63b02-829f-4511-ab11-b77ee3b9abf5
{color:#14892c}$ peer chaincode query -n a5389f7dfb9efae379900a41db1503fea2199fe400272b61ac5fe7bd0c6b97cf10ce3aa8dd00cd7626ce02f18accc7e5f2059dae6eb0786838042958352b89fb -c '{""Function"": ""query"", ""Args"": [""b""]}'{color}

Usage:
peer chaincode query [flags]

Flags:
-x, --hex[=false]: If true, output the query value byte array in hexadecimal. Incompatible with --raw
-r, --raw[=false]: If true, output the query value as raw bytes, otherwise format as a printable string


Global Flags:
-a, --attributes=""[]"": User attributes for the chaincode in JSON format
-c, --ctor=""{}"": Constructor message for the chaincode in JSON format
-l, --lang=""golang"": Language the chaincode is written in
--logging-level="""": Default logging level and overrides, see core.yaml for full syntax
-n, --name="""": Name of the chaincode returned by the deploy transaction
-p, --path="""": Path to chaincode
--test.coverprofile=""coverage.cov"": Done
-t, --tid="""": Name of a custom ID generation algorithm (hashing and decoding) e.g. sha256base64
-u, --username="""": Username for chaincode operations when security is enabled
-v, --version[=false]: Display current version of fabric peer server

{color:red}Error: Error querying chaincode: rpc error: code = 2 desc = ""Error:Failed to launch chaincode spec(Could not get deployment transaction for a5389f7dfb9efae379900a41db1503fea2199fe400272b61ac5fe7bd0c6b97cf10ce3aa8dd00cd7626ce02f18accc7e5f2059dae6eb0786838042958352b89fb - LedgerError - ResourceNotFound: ledger: resource not found)""{color}

","Vagrant: 1.8.5
Virtualbox: 5.0.4
Hyperleger: commit 5cb39849ec2adc35055e5233556848eb7370cc85, Date:   Tue Aug 16 14:33:26 2016 -0400",hgabre,ibmamnt,inatatsu,JamesYu,mastersingh24,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-347,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"21/Aug/16 11:26 PM;JamesYu;screenshot-1.png;https://jira.hyperledger.org/secure/attachment/10017/screenshot-1.png","21/Aug/16 11:27 PM;JamesYu;screenshot-2.png;https://jira.hyperledger.org/secure/attachment/10018/screenshot-2.png","22/Aug/16 12:21 AM;muralisr;screenshot-3.png;https://jira.hyperledger.org/secure/attachment/10019/screenshot-3.png",,,,,,,,,,,,,,,,,,,,,,,"1|hzxbdr:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,hgabre,ibmamnt,inatatsu,JamesYu,mastersingh24,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"21/Aug/16 8:45 PM;mastersingh24;My best guess here is that the chaincode was not actually deployed successfully.  Do you have the logs for the peer to which you deployed the chaincode?;;;","21/Aug/16 9:03 PM;JamesYu;[~mastersingh24], here comes the log:
vagrant@hyperledger-devenv:v0.0.10-5cb3984:~$ peer node start
14:14:14.290 [main] serve -> INFO 002 Security enabled status: false
14:14:14.292 [main] serve -> INFO 003 Privacy enabled status: false
14:14:14.293 [chaincode] NewChaincodeSupport -> INFO 004 Chaincode support using peerAddress: 0.0.0.0:30303
14:14:14.290 [eventhub_producer] start -> INFO 001 event processor started
14:14:14.295 [sysccapi] RegisterSysCC -> INFO 005 system chaincode (noop,github.com/hyperledger/fabric/bddtests/syschaincode/noop) disabled
14:14:14.317 [state] loadConfig -> INFO 006 Loading configurations...
14:14:14.319 [state] loadConfig -> INFO 007 Configurations loaded. stateImplName=[buckettree], stateImplConfigs=map[numBuckets:%!s(int=1000003) maxGroupingAtEachLevel:%!s(int=5) bucketCacheSize:%!s(int=100)], deltaHistorySize=[500]
14:14:14.320 [state] NewState -> INFO 008 Initializing state implementation [buckettree]
14:14:14.322 [buckettree] initConfig -> INFO 009 configs passed during initialization = map[string]interface {}{""numBuckets"":1000003, ""maxGroupingAtEachLevel"":5, ""bucketCacheSize"":100}
14:14:14.323 [buckettree] initConfig -> INFO 00a Initializing bucket tree state implemetation with configurations &{maxGroupingAtEachLevel:5 lowestLevel:9 levelToNumBucketsMap:map[1:3 7:40001 3:65 5:1601 2:13 0:1 9:1000003 4:321 8:200001 6:8001] hashFunc:0xa8d6d0}
14:14:14.324 [buckettree] newBucketCache -> INFO 00b Constructing bucket-cache with max bucket cache size = [100] MBs
14:14:14.326 [buckettree] loadAllBucketNodesFromDB -> INFO 00c Loaded buckets data in cache. Total buckets in DB = [0]. Total cache size:=0
14:14:14.331 [consensus/controller] NewConsenter -> INFO 00d Creating default consensus plugin (noops)
14:14:14.335 [consensus/statetransfer] blockThread -> INFO 00e Validated blockchain to the genesis block
14:14:14.337 [consensus/noops] newNoops -> INFO 00f NOOPS consensus type = *noops.Noops
14:14:14.338 [consensus/noops] newNoops -> INFO 010 NOOPS block size = 500
14:14:14.338 [consensus/noops] newNoops -> INFO 011 NOOPS block wait = 1s
14:14:14.341 [rest] StartOpenchainRESTServer -> INFO 013 Initializing the REST service on 0.0.0.0:5000, TLS is disabled.
14:14:14.340 [main] serve -> INFO 012 Starting peer with ID=name:""jdoe"" , network ID=dev, address=0.0.0.0:30303, rootnodes=, validator=true
14:16:20.746 [container] WriteGopathSrc -> INFO 014 rootDirectory = /opt/gopath/src
14:16:33.637 [dockercontroller] Start -> ERRO 015 start-could not start container API error (400): {""message"":""starting container with HostConfig was deprecated since v1.10 and removed in v1.12""}
14:16:33.638 [chaincode] Launch -> ERRO 016 launchAndWaitForRegister failed Error starting container: API error (400): {""message"":""starting container with HostConfig was deprecated since v1.10 and removed in v1.12""}
14:18:45.153 [devops] invokeOrQuery -> INFO 017 Transaction ID: c6c63b02-829f-4511-ab11-b77ee3b9abf5
14:19:34.549 [devops] invokeOrQuery -> INFO 018 Transaction ID: 80d30f78-f73f-4b57-a102-2221fab972fd
14:19:59.808 [devops] invokeOrQuery -> INFO 019 Transaction ID: 6003629e-0893-456b-b922-c1435e31809d
;;;","21/Aug/16 9:53 PM;muralisr;_>14:16:33.637 [dockercontroller] Start -> ERRO 015 start-could not start container API error (400):
{""message"":""starting container with HostConfig was deprecated since v1.10 and removed in v1.12""}_

This should have been fixed in this commit
{quote}commit a76dd3d4723f902b15f81559430c88c98b30f70c
Author: xiejunan <xiejunan@huawei.com>
Date:   Fri Aug 5 17:38:42 2016 +0800

    start container with HostConfig was deprecated since v1.10 and removed since v1.12

{quote}
;;;","21/Aug/16 11:09 PM;JamesYu;[~muralisr], I just checkout the latest commit from github and still got the same issue.
The revision info:
{color:#14892c}$ git rev-parse HEAD{color}
5cb39849ec2adc35055e5233556848eb7370cc85

during the process of ""vargrant up"", I spotted some error message such as:
==> default: update-alternatives: error: no alternatives for mozilla-javaplugin.so
==> default: update-java-alternatives: plugin alternative does not exist: /usr/lib/jvm/java-8-openjdk-amd64/jre/lib/amd64/IcedTeaPlugin.so
==> default: docker rmi -f hyperledger/fabric-baseimage
==> default: Error response from daemon: No such image: hyperledger/fabric-baseimage:latest
==> default: make: 
==> default: [base-image-clean] Error 1 (ignored)
==> default: docker rmi -f hyperledger/fabric-src
==> default: Error response from daemon: No such image: hyperledger/fabric-src:latest
==> default: make: 
==> default: [src-image-clean] Error 1 (ignored)
==> default: docker rmi -f hyperledger/fabric-ccenv
==> default: Error response from daemon: No such image: hyperledger/fabric-ccenv:latest
==> default: make: 
==> default: [ccenv-image-clean] Error 1 (ignored)
==> default: docker rmi -f hyperledger/fabric-peer
==> default: Error response from daemon: No such image: hyperledger/fabric-peer:latest
==> default: make: 
==> default: [peer-image-clean] Error 1 (ignored)
==> default: docker rmi -f hyperledger/fabric-membersrvc
==> default: Error response from daemon: No such image: hyperledger/fabric-membersrvc:latest
==> default: make: 
==> default: [membersrvc-image-clean] Error 1 (ignored)

Yet, I got same error message when I deploy the chaincode:
>> the deploying end's terminal
$ peer chaincode deploy -p github.com/hyperledger/fabric/examples/chaincode/go/chaincode_example02 -c '{""Function"":""init"", ""Args"": [""a"",""100"", ""b"", ""200""]}'
a5389f7dfb9efae379900a41db1503fea2199fe400272b61ac5fe7bd0c6b97cf10ce3aa8dd00cd7626ce02f18accc7e5f2059dae6eb0786838042958352b89fb
>> the peer's terminal
$ peer node start
13:57:27.173 [main] serve -> INFO 001 Security enabled status: false
13:57:27.174 [main] serve -> INFO 003 Privacy enabled status: false
13:57:27.173 [eventhub_producer] start -> INFO 002 event processor started
13:57:27.174 [chaincode] NewChaincodeSupport -> INFO 004 Chaincode support using peerAddress: 0.0.0.0:30303
13:57:27.176 [sysccapi] RegisterSysCC -> INFO 005 system chaincode (noop,github.com/hyperledger/fabric/bddtests/syschaincode/noop) disabled
13:57:27.193 [state] loadConfig -> INFO 006 Loading configurations...
13:57:27.194 [state] loadConfig -> INFO 007 Configurations loaded. stateImplName=[buckettree], stateImplConfigs=map[maxGroupingAtEachLevel:%!s(int=5) bucketCacheSize:%!s(int=100) numBuckets:%!s(int=1000003)], deltaHistorySize=[500]
13:57:27.194 [state] NewState -> INFO 008 Initializing state implementation [buckettree]
13:57:27.194 [buckettree] initConfig -> INFO 009 configs passed during initialization = map[string]interface {}{""maxGroupingAtEachLevel"":5, ""bucketCacheSize"":100, ""numBuckets"":1000003}
13:57:27.195 [buckettree] initConfig -> INFO 00a Initializing bucket tree state implemetation with configurations &{maxGroupingAtEachLevel:5 lowestLevel:9 levelToNumBucketsMap:map[7:40001 9:1000003 4:321 8:200001 3:65 6:8001 0:1 2:13 1:3 5:1601] hashFunc:0xa8d6d0}
13:57:27.195 [buckettree] newBucketCache -> INFO 00b Constructing bucket-cache with max bucket cache size = [100] MBs
13:57:27.195 [buckettree] loadAllBucketNodesFromDB -> INFO 00c Loaded buckets data in cache. Total buckets in DB = [0]. Total cache size:=0
13:57:27.196 [genesis] func1 -> INFO 00d Creating genesis block.
13:57:27.202 [consensus/controller] NewConsenter -> INFO 00e Creating default consensus plugin (noops)
13:57:27.202 [consensus/statetransfer] blockThread -> INFO 00f Validated blockchain to the genesis block
13:57:27.204 [consensus/noops] newNoops -> INFO 010 NOOPS consensus type = *noops.Noops
13:57:27.204 [consensus/noops] newNoops -> INFO 011 NOOPS block size = 500
13:57:27.204 [consensus/noops] newNoops -> INFO 012 NOOPS block wait = 1s
13:57:27.205 [rest] StartOpenchainRESTServer -> INFO 013 Initializing the REST service on 0.0.0.0:5000, TLS is disabled.
13:57:27.206 [main] serve -> INFO 014 Starting peer with ID=name:""jdoe"" , network ID=dev, address=0.0.0.0:30303, rootnodes=, validator=true
13:59:51.945 [container] WriteGopathSrc -> INFO 015 rootDirectory = /opt/gopath/src
14:00:04.234 [dockercontroller] Start -> ERRO 016 start-could not start container API error (400): {""message"":""starting container with HostConfig was deprecated since v1.10 and removed in v1.12""}
14:00:04.235 [chaincode] Launch -> ERRO 017 launchAndWaitForRegister failed Error starting container: API error (400): {""message"":""starting container with HostConfig was deprecated since v1.10 and removed in v1.12""}

Given the chaincode is not deployed correctly, I can still invoke the chaincode without a problem, strange...
>> the deploying end's terminal
$ peer chaincode invoke -n a5389f7dfb9efae379900a41db1503fea2199fe400272b61ac5fe7bd0c6b97cf10ce3aa8dd00cd7626ce02f18accc7e5f2059dae6eb0786838042958352b89fb -c '{""Function"": ""invoke"", ""Args"": [""a"", ""b"", ""10""]}'
aa12ec17-f762-414b-a2b8-7a5f2cf76f76
>> peer's terimal
14:07:17.870 [devops] invokeOrQuery -> INFO 018 Transaction ID: aa12ec17-f762-414b-a2b8-7a5f2cf76f76

I will give commit a76dd3d4723f902b15f81559430c88c98b30f70c a try later and see how it goes.;;;","21/Aug/16 11:27 PM;JamesYu;I just had a closer look to the repository I cloned from github (following instruction provided in http://hyperledger-fabric.readthedocs.io/en/latest/dev-setup/devenv/) 
 !screenshot-2.png|thumbnail! 
I did my clone with this command:
$ git clone https://github.com/hyperledger/fabric.git
and found no commit on Fri Aug 5 2016
 !screenshot-1.png|thumbnail! 

;;;","22/Aug/16 12:22 AM;muralisr;[~cyu021] github is deprecated and been moved to gerrit. Can you try from there please ?

 !screenshot-3.png|thumbnail! ;;;","22/Aug/16 1:38 AM;JamesYu;[~muralisr] I cloned the latest code from gerrit
Both CLI command and REST API provided on http://hyperledger-fabric.readthedocs.io/en/latest/Setup/Chaincode-setup/ works no more.
When I adjust CLI command according to the error message (1 key + 4 values), I get a new error message...

>> deploy end's terminal
vagrant@hyperledger-devenv:v0.0.10-47c3f6c:~$ {color:#14892c}peer chaincode deploy -p github.com/hyperledger/fabric/examples/chaincode/go/chaincode_example02 -c '{""Function"":""init"", ""Args"": [""a"",""100"", ""b"", ""200""]}'{color}
{color:#d04437}Error: Non-empty JSON chaincode parameters must contain exactly 1 key: 'Args'{color}
Usage:
  peer chaincode deploy [flags]

Global Flags:
  -a, --attributes string          User attributes for the chaincode in JSON format (default ""[]"")
  -c, --ctor string                Constructor message for the chaincode in JSON format (default ""{}"")
  -l, --lang string                Language the chaincode is written in (default ""golang"")
      --logging-level string       Default logging level and overrides, see core.yaml for full syntax
  -n, --name string                Name of the chaincode returned by the deploy transaction
  -p, --path string                Path to chaincode
      --test.coverprofile string   Done (default ""coverage.cov"")
  -t, --tid string                 Name of a custom ID generation algorithm (hashing and decoding) e.g. sha256base64
  -u, --username string            Username for chaincode operations when security is enabled
  -v, --version                    Display current version of fabric peer server

vagrant@hyperledger-devenv:v0.0.10-47c3f6c:~$ {color:#14892c}curl -sb -X POST -d '{ ""jsonrpc"": ""2.0"", ""method"": ""deploy"", ""params"": { ""type"": 1, ""chaincodeID"":{ ""path"": ""github.com/hyperledger/fabric/examples/chaincode/go/chaincode_example02"" }, ""ctorMsg"": { ""function"":""init"", ""args"":[""a"", ""100"", ""b"", ""200""] }, ""secureContext"": ""jim"" }, ""id"": 1 }' localhost:7051/chaincode; echo{color}
{color:#d04437}??{color}
vagrant@hyperledger-devenv:v0.0.10-47c3f6c:~$ {color:#14892c}peer chaincode deploy -p github.com/hyperledger/fabric/examples/chaincode/go/chaincode_example02 -c '{""Args"": [""a"",""100"", ""b"", ""200""]}'{color}
vagrant@hyperledger-devenv:v0.0.10-47c3f6c:~$ 

>> peer's terminal
vagrant@hyperledger-devenv:v0.0.10-47c3f6c:/opt/gopath/src/github.com/hyperledger/fabric$ peer node start
16:16:03.225 [nodeCmd] serve -> INFO 002 Security enabled status: false
16:16:03.225 [nodeCmd] serve -> INFO 003 Privacy enabled status: false
16:16:03.224 [eventhub_producer] start -> INFO 001 event processor started
16:16:03.242 [chaincode] NewChaincodeSupport -> INFO 004 Chaincode support using peerAddress: 0.0.0.0:7051
16:16:03.243 [sysccapi] RegisterSysCC -> INFO 005 system chaincode (noop,github.com/hyperledger/fabric/bddtests/syschaincode/noop) disabled
16:16:03.246 [state] loadConfig -> INFO 006 Loading configurations...
16:16:03.247 [state] loadConfig -> INFO 007 Configurations loaded. stateImplName=[buckettree], stateImplConfigs=map[bucketCacheSize:%!s(int=100) numBuckets:%!s(int=1000003) maxGroupingAtEachLevel:%!s(int=5)], deltaHistorySize=[500]
16:16:03.247 [state] NewState -> INFO 008 Initializing state implementation [buckettree]
16:16:03.248 [buckettree] initConfig -> INFO 009 configs passed during initialization = map[string]interface {}{""bucketCacheSize"":100, ""numBuckets"":1000003, ""maxGroupingAtEachLevel"":5}
16:16:03.248 [buckettree] initConfig -> INFO 00a Initializing bucket tree state implemetation with configurations &{maxGroupingAtEachLevel:5 lowestLevel:9 levelToNumBucketsMap:map[9:1000003 3:65 1:3 0:1 6:8001 8:200001 7:40001 5:1601 4:321 2:13] hashFunc:0xa5e130}
16:16:03.250 [buckettree] newBucketCache -> INFO 00b Constructing bucket-cache with max bucket cache size = [100] MBs
16:16:03.251 [buckettree] loadAllBucketNodesFromDB -> INFO 00c Loaded buckets data in cache. Total buckets in DB = [0]. Total cache size:=0
16:16:03.252 [genesis] func1 -> INFO 00d Creating genesis block.
16:16:03.272 [consensus/controller] NewConsenter -> INFO 00e Creating default consensus plugin (noops)
16:16:03.275 [consensus/statetransfer] blockThread -> INFO 00f Validated blockchain to the genesis block
16:16:03.277 [consensus/noops] newNoops -> INFO 010 NOOPS consensus type = *noops.Noops
16:16:03.277 [consensus/noops] newNoops -> INFO 011 NOOPS block size = 500
16:16:03.277 [consensus/noops] newNoops -> INFO 012 NOOPS block wait = 1s
16:16:03.280 [nodeCmd] serve -> INFO 013 Starting peer with ID=name:""jdoe"" , network ID=dev, address=0.0.0.0:7051, rootnodes=, validator=true
16:16:03.281 [rest] StartOpenchainRESTServer -> INFO 014 Initializing the REST service on 0.0.0.0:7050, TLS is disabled.
2016/08/21 16:18:56 transport: http2Server.HandleStreams received bogus greeting from client: ""POST /chaincode HTTP/1.1""
16:21:42.867 [container] WriteGopathSrc -> INFO 015 rootDirectory = /opt/gopath/src
16:21:56.155 [chaincode] processStream -> ERRO 016 Got error: Incorrect number of arguments. Expecting 4
16:21:56.155 [chaincode] Launch -> ERRO 017 sending init failed(Error initializing container b20954c346f2efec1679f5054bc7ab153398b791882b0af95f0cbd22c1065590586897149f8552a93684eb1c1b322a5c5de08ec4fc88fb18073d6b931c3d9544: Incorrect number of arguments. Expecting 4)
16:21:56.177 [chaincode] processStream -> ERRO 018 Error handling chaincode support stream: connection error: desc = ""transport is closing""

Since http://hyperledger-fabric.readthedocs.io/ is no longer up-to-date, where can new comers find helpful documents / instructions / tutorials ?
;;;","22/Aug/16 4:56 AM;muralisr;There have been recent changes to API that require you no longer have to provide ""Function"" argument (it is now part of the ""Args""). Can you try this please

peer chaincode deploy -p github.com/hyperledger/fabric/examples/chaincode/go/chaincode_example02 -c '{""Args"" [""init"",""a"",""100"", ""b"", ""200""]}'

I think there's either a request for doc change or there'll one (hopefully soon). Thanks for your patience!;;;","22/Aug/16 7:04 AM;JamesYu;[~muralisr] Thanks for the heads up, these CLI commands works:
vagrant@hyperledger-devenv:v0.0.10-47c3f6c:~$ {color:#14892c}CORE_LOGGING_LEVEL=debug peer chaincode deploy -p github.com/hyperledger/fabric/examples/chaincode/go/chaincode_example02 -c '{""Args"": [""init"",""a"",""100"", ""b"", ""200""]}'{color}
21:57:39.809 [logging] LoggingInit -> DEBU 001 Setting default logging level to DEBUG for command 'chaincode'
21:57:43.288 [chaincodeCmd] chaincodeDeploy -> INFO 002 Deploy result: type:GOLANG chaincodeID:<path:""github.com/hyperledger/fabric/examples/chaincode/go/chaincode_example02"" name:""{color:#14892c}0588c9b192603a2d39f2223ec524e30119698a36e77369c9d6df2ca16b85043406c67502787362e99f46d68b81b3f59000a149041ddba90047cf72e56fdfce96{color}"" > ctorMsg:<args:""init"" args:""a"" args:""100"" args:""b"" args:""200"" > 
21:57:43.300 [main] main -> INFO 003 Exiting.....
vagrant@hyperledger-devenv:v0.0.10-47c3f6c:~$ 
vagrant@hyperledger-devenv:v0.0.10-47c3f6c:~$ 
vagrant@hyperledger-devenv:v0.0.10-47c3f6c:~$ {color:#14892c}CORE_LOGGING_LEVEL=debug peer chaincode query -n 0588c9b192603a2d39f2223ec524e30119698a36e77369c9d6df2ca16b85043406c67502787362e99f46d68b81b3f59000a149041ddba90047cf72e56fdfce96 -c '{""Args"": [""query"",""a""]}'{color}
21:58:39.451 [logging] LoggingInit -> DEBU 001 Setting default logging level to DEBUG for command 'chaincode'
21:58:39.478 [chaincodeCmd] chaincodeInvokeOrQuery -> INFO 002 Successfully queried transaction: chaincodeSpec:<type:GOLANG chaincodeID:<name:""0588c9b192603a2d39f2223ec524e30119698a36e77369c9d6df2ca16b85043406c67502787362e99f46d68b81b3f59000a149041ddba90047cf72e56fdfce96"" > ctorMsg:<args:""query"" args:""a"" > > 
{color:#14892c}Query Result: 100{color}
21:58:39.481 [main] main -> INFO 003 Exiting.....

So do I close this one and open another request for document change or else?

;;;","22/Aug/16 8:31 AM;JamesYu;BTW, I suppose the changes also apply to REST API?

I issued the following requests:
vagrant@hyperledger-devenv:v0.0.10-47c3f6c:~$ {color:#14892c}curl -sb -X POST -d '{ ""jsonrpc"": ""2.0"", ""method"": ""deploy"", ""params"": { ""type"": 1, ""chaincodeID"":{ ""path"": ""github.com/hyperledger/fabric/examples/chaincode/go/chaincode_example02"" }, ""ctorMsg"": { ""args"":[""init"", ""a"", ""100"", ""b"", ""200""] }}}' localhost:7051/chaincode; echo{color}
{color:#d04437}??{color}
vagrant@hyperledger-devenv:v0.0.10-47c3f6c:~$ {color:#14892c}curl -sb -X POST -d '{ ""jsonrpc"": ""2.0"", ""method"": ""query"", ""params"": { ""type"": 1, ""chaincodeID"":{ ""name"":""0588c9b192603a2d39f2223ec524e30119698a36e77369c9d6df2ca16b85043406c67502787362e99f46d68b81b3f59000a149041ddba90047cf72e56fdfce96"" }, ""ctorMsg"": { ""function"":""query"", ""args"":[""a""] } }, ""id"": 5 }' localhost:7051/chaincode; echo{color}
{color:#d04437}??{color}

ang peers seems to treat them as bogus greetings:
2016/08/21 23:00:00 transport: {color:#d04437}http2Server.HandleStreams received bogus greeting from client{color}: ""POST /chaincode HTTP/1.1""
2016/08/21 23:01:11 transport: {color:#d04437}http2Server.HandleStreams received bogus greeting from client{color}: ""POST /chaincode HTTP/1.1""
;;;","26/Aug/16 9:25 AM;ibmamnt;I see this error too.  I can no longer deploy chaincode with Node.sdk. I'm using v0.5-developer-preview version to sync with IBM Bluemix services ( I guess this service can not import latest code, just to fix this problem, not sure at this point).

Is there any quick work around for this ? Down grade docker engine to 1.11 ?;;;","02/Sep/16 8:10 PM;hgabre;I tried the process described and it worked:
vagrant@hyperledger-devenv:v0.0.10-457635a:/opt/gopath/src/github.com/hyperledger/fabric$ ./build/bin/peer chaincode query -n 980d4bb7f69578592e5775a6da86d81a221887817d7164d3e9d4d4df1c981440abf9a61417eaf8ad6f7fc79893da36de2cf4709131e9af39bca6ebc2e5a1cd9d -c '{""Function"": ""query"", ""Args"": [""b""]}'
11:08:59.056 [logging] LoggingInit -> DEBU 001 Setting default logging level to DEBUG for command 'chaincode'
11:08:59.326 [chaincodeCmd] chaincodeInvokeOrQuery -> INFO 002 Successfully queried transaction: chaincodeSpec:<type:GOLANG chaincodeID:<name:""980d4bb7f69578592e5775a6da86d81a221887817d7164d3e9d4d4df1c981440abf9a61417eaf8ad6f7fc79893da36de2cf4709131e9af39bca6ebc2e5a1cd9d"" > ctorMsg:<args:""query"" args:""b"" > >
*Query Result: 210*
11:08:59.327 [main] main -> INFO 003 Exiting.....;;;","02/Apr/17 9:35 PM;mastersingh24;This was not really a bug but more of a question. ;;;",,,,,,,,,,,,,,,,,,,,,
"The Docker compose yaml for ""Running the Peer and CA"" is incorrect in Chaincode-setup.md",FAB-209,12509,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,mastersingh24,mastersingh24,mastersingh24,21/Aug/16 7:22 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,29/Aug/16 7:52 AM,,,,,,,,0,,,,,,"There are a couple of errors:

1) security is not actually enabled
2) need to specify the endpoints for the various CAs",,ChristopherFerris,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxbdz:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"29/Aug/16 7:52 AM;ChristopherFerris;resolved by https://gerrit.hyperledger.org/r/#/c/593/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"as a developer, I can find the hyperledger fabric documentation easily so that I can develop chaincode and applications",FAB-210,12510,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ChristopherFerris,ChristopherFerris,ChristopherFerris,22/Aug/16 12:12 AM,21/Jul/18 3:54 AM,28/Oct/23 2:57 AM,29/Aug/16 5:04 AM,,,,,,,,0,Documentation,,,,,"as a developer, I can find the hyperledger fabric documentation easily so that I can develop chaincode and applications.

Ideally, the documentation for all hyperledger projects can be easily found at hyperledger.org.",,ChristopherFerris,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzxa9z:",,,,Unset,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,ChristopherFerris,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"29/Aug/16 5:04 AM;ChristopherFerris;resolved by https://github.com/hyperledger/hyperledger/pull/47;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
How does the ACA work in fabric?,FAB-214,12514,,Story,Closed,FAB,Fabric,software,denyeart,,,Lowest,Done,,swangbj,swangbj,22/Aug/16 5:34 PM,21/Jul/18 3:54 AM,28/Oct/23 2:57 AM,22/Aug/16 7:32 PM,,,,,,,,0,,,,,,"I am now  reading the peer chaincode deploy sourcecode .I  find we may add -a  attributes to the  CLI command when   CORE_PEER_ADDRESS=172.17.0.2:30303 peer chaincode deploy -n mycc -u jim -c '{""Function"":""init"", ""Args"": [""a"",""100"", ""b"", ""200""]}'
And I just don't know what is  attributes?Does it really work in the fabric.If yes,how ?
Thanks!",,corecode,swangbj,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzxbev:",,,,Unset,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,corecode,swangbj,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"22/Aug/16 7:32 PM;corecode;This seems to be a support question, not a bug report.;;;","23/Aug/16 2:59 PM;swangbj;Can you tell me how to  make a suport question ?;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[java-chaincode] Support table APIs in JAVA shim layer,FAB-215,12515,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,satheeshk,satheeshk,satheeshk,22/Aug/16 8:27 PM,21/Jul/18 3:55 AM,28/Oct/23 2:57 AM,20/Sep/16 6:04 AM,,,,,,,,0,,,,,,"Add support for  table APIs in JAVA shim layer. This will enable Java chaincode developers to use the table functionality supported by fabric.
",,satheeshk,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzx9zr:",,,,Unset,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,satheeshk,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Error handling and panics in fabric,FAB-216,12516,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,hgabre,ChristopherFerris,ChristopherFerris,22/Aug/16 10:12 PM,21/Jul/18 3:54 AM,28/Oct/23 2:57 AM,11/Apr/17 7:58 AM,,,WON'T FIX,,,,,0,,,,,,see discussion in GH issue here [https://github.com/hyperledger/fabric/issues/752].,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzxbf3:",,,,Unset,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
getRoles API in member class in Node SDK fails to fetch getRoles of a user,FAB-217,12517,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,Nishi,Nishi,22/Aug/16 10:29 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,08/Mar/17 1:46 PM,,,WON'T FIX,,,,,0,,,,,,"Call alice.getRoles() in my test to verify roles for user alice retrieved successfully from membersrv.yaml failed.

Expected Result:

attributes as defined in membersrvc.yaml
""attribute-entry-7: alice;bank_a;role;client;2016-01-01T00:00:00-03:00;;
attribute-entry-8: alice;bank_a;account;12345-56789;2016-01-01T00:00:00-03:00;;""

getRoles to return attribute keys: 'role' and 'account' for user alice as in membersrvc.yaml

Actual Result:

Test failed returned [undefined]

commit level on fabric source code: 346f9fb",,Nishi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxbfb:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Nishi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Need more intuitive HFC reference documentation,FAB-220,12520,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,smithbk,smithbk,22/Aug/16 10:41 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,25/Aug/16 2:31 PM,,,,,,,,0,node-SDK,,,,,"The typedoc generated documentation rooted at fabric/sdk/node/doc/modules/_src_hfc_.html is not very intuitive.  This documentation is generated from fabric/sdk/node/src/*.ts files by the fabric/sdk/node/makedoc.sh script which invokes typedoc.

The task is to:
1) Investigate other tools other than typedoc to generate documentation from typescript source.
2) If a better tool is not found, investigate how to better use typedoc.  Are there other options we should use other than what makedoc.sh currently specifies?",,smithbk,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-124,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxbfz:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,smithbk,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Change ""unit-test"" to ""unit-tests""",FAB-222,12523,,Story,Closed,FAB,Fabric,software,denyeart,,,Low,Done,,JonathanLevi,JonathanLevi,23/Aug/16 2:54 AM,21/Jul/18 3:55 AM,28/Oct/23 2:57 AM,13/Sep/16 2:03 AM,,,,,,,,0,build-system,,,,,"Now that we have more than 1 unit-test in fabric;-), we might as well be able to call *make unit-tests*, that is (more seriously) “‘make unit-tests’ should be plural to more naturally describe the intended action""

This task involves a small fix in the make target of {{hyperledger/fabric/Makefile}} and making sure that the CIs make the right call(s) to run the tests.
",,ChristopherFerris,JonathanLevi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzxa6f:",,,,Unset,,Sprint 1,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,ChristopherFerris,JonathanLevi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"13/Sep/16 2:03 AM;ChristopherFerris;not sure what merged patch this was, but there are both targets in the Makefile now.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
REST API does not work,FAB-234,12535,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,,JamesYu,JamesYu,23/Aug/16 9:07 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,24/Aug/16 10:42 PM,,,,,,,,0,REST,,,,,"I followed the document on http://hyperledger-fabric.readthedocs.io/en/latest/Setup/Chaincode-setup/ to issue some REST API and failed.

I tried to get chain info with:
curl -sb -X GET http://localhost:7051/chain
and I got ""??"" as response

in peer's log, I see:
{color:#d04437}2016/08/23 00:02:28 transport: http2Server.HandleStreams received bogus greeting from client: ""GET /chain HTTP/1.1\r\nUse""{color}","vagrant: 1.8.5
hyperledger: clone that latest on 8/21",corecode,JamesYu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"24/Aug/16 1:20 AM;JamesYu;Screen Shot 2016-08-24 at 00.08.46.gif;https://jira.hyperledger.org/secure/attachment/10040/Screen+Shot+2016-08-24+at+00.08.46.gif","24/Aug/16 1:22 AM;JamesYu;Screen Shot 2016-08-24 at 00.12.23.gif;https://jira.hyperledger.org/secure/attachment/10041/Screen+Shot+2016-08-24+at+00.12.23.gif","24/Aug/16 1:22 AM;JamesYu;Screen Shot 2016-08-24 at 00.12.37.gif;https://jira.hyperledger.org/secure/attachment/10042/Screen+Shot+2016-08-24+at+00.12.37.gif","24/Aug/16 1:22 AM;JamesYu;Screen Shot 2016-08-24 at 00.12.50.gif;https://jira.hyperledger.org/secure/attachment/10043/Screen+Shot+2016-08-24+at+00.12.50.gif",,,,,,,,,,,,,,,,,,,,,,"1|hzxbin:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,corecode,JamesYu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Aug/16 9:10 AM;JamesYu;sorry, I just switched from github's version and miss-looked the port.
REST should go port 7050.
my bad.;;;","23/Aug/16 9:14 AM;JamesYu;However, this REST API call still not working

curl -sb -X POST -d '{ ""jsonrpc"": ""2.0"", ""method"": ""query"", ""params"": { ""type"": 1, ""chaincodeID"":{ ""name"":""0588c9b192603a2d39f2223ec524e30119698a36e77369c9d6df2ca16b85043406c67502787362e99f46d68b81b3f59000a149041ddba90047cf72e56fdfce96"" }, ""ctorMsg"": { ""function"":""query"", ""args"":[""a""] } }, ""id"": 5 }' localhost:7050/chaincode; echo

{""jsonrpc"":""2.0"",""error"":{""code"":-32700,""message"":""Parse error"",""data"":""Error unmarshalling chaincode request payload: illegal base64 data at input byte 0""},""id"":null}

on peer side:
00:13:07.436 [rest] ProcessChaincode -> INFO 016 REST processing chaincode request...
00:13:07.441 [rest] ProcessChaincode -> ERRO 017 Error unmarshalling chaincode request payload: illegal base64 data at input byte 0
;;;","24/Aug/16 1:22 AM;JamesYu;Just post a question on stackoverflow
http://stackoverflow.com/questions/39106190/unmarshalling-error-in-hyperledgers-rest-api

I sent this request to hyperledger's REST API:
$ curl -X POST --header ""Content-Type: application/json"" -d '{ ""jsonrpc"": ""2.0"", ""method"": ""deploy"", ""params"": { ""type"": 1, ""chaincodeID"":{ ""path"":""github.com/hyperledger/fabric/examples/chaincode/go/chaincode_example02"" }, ""ctorMsg"": { ""args"":[""init"", ""a"", ""1000"", ""b"", ""2000""] } }, ""id"": 1 }' localhost:7050/chaincode

and this is the error message I got in return:
{""jsonrpc"":""2.0"",""error"":{""code"":-32700,""message"":""Parse error"",""data"":""Error unmarshalling chaincode request payload: illegal base64 data at input byte 0""},""id"":null}

I then added debug log in rest_api.go to check whatever is received by the peer
 !Screen Shot 2016-08-24 at 00.08.46.gif! 

and got this log:
16:03:46.323 [rest] ProcessChaincode -> DEBU 027 reqBody = { ""jsonrpc"": ""2.0"", ""method"": ""deploy"", ""params"": { ""type"": 1, ""chaincodeID"":{ ""path"":""github.com/hyperledger/fabric/examples/chaincode/go/chaincode_example02"" }, ""ctorMsg"": { ""args"":[""init"", ""a"", ""1000"", ""b"", ""2000""] } }, ""id"": 1 }
16:03:46.331 [rest] ProcessChaincode -> ERRO 028 Error unmarshalling chaincode request payload: illegal base64 data at input byte 0

The received message seems to match with the definition of ""rpcRequest"", ""ChaincodeSpec"", and ""ChaincodeInput"", I don't understand why it keeps throwing unmarshalling error to me...
 !Screen Shot 2016-08-24 at 00.12.23.gif! 
 !Screen Shot 2016-08-24 at 00.12.37.gif! 
 !Screen Shot 2016-08-24 at 00.12.50.gif! 
;;;","24/Aug/16 10:42 PM;corecode;should be fixed by https://gerrit.hyperledger.org/r/#/c/639/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"[node-SDK] setHashAlgorithm description says it sets security level, not hash algorithm",FAB-238,12539,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,bryanhuang,jjjjibm,jjjjibm,24/Aug/16 6:05 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,24/Aug/16 6:09 AM,,,,,,,,0,node-SDK,,,,,"Description: 
+SetHashAlgorithm+ description in + Interface MemberServices +section references *securityLevel.
*
Here is the documentation for setHashAlgorithm: 

_setHashAlgorithm

    setHashAlgorithm(hashAlgorithm: string): void

        Defined in src/hfc.ts:123

    Set the *security level*

    params

        *securityLevel The security level
*
    Parameters
        hashAlgorithm: string
    Returns void
_",win7 vagrant hfc 0.0.2,bryanhuang,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxbjj:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,bryanhuang,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"05/Sep/16 3:04 PM;bryanhuang;Changes committed: https://gerrit.hyperledger.org/r/#/c/905/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Query result of a string which contains '%' (percent symbol) is converted unexpectedly in the REST API,FAB-240,12541,,Bug,Closed,FAB,Fabric,software,denyeart,,,Low,Done,,ryokawajp,ryokawajp,24/Aug/16 9:26 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,10/Apr/17 6:03 AM,,,,,,,,0,REST,,,,,"h3. Migrated from GitHub:
Query result of a string which contains '%' (percent symbol) is converted unexpectedly in the REST API. · Issue #1517 · hyperledger/fabric
https://github.com/hyperledger/fabric/issues/1517
Please consult the link above for additional comments.

h2. Description
When a Query method of a chaincode returns a string which includes '%' character, it causes a problem that the letters after % is converted to unexpected string, or sometimes removed.
For example, ""100% yuki"" becomes ""100%!y(MISSING)uki"".

This happens in REST API only. CLI is OK.

This behavior is similar to that of fmt.Printf(), where % is a special character.
I tried to read the Fabric source code, but I could not identify the code which causes this conversion.
Is this a known issue?
Any comments are welcome.

h2. Describe How to Reproduce
- Deploy the following chaincode.
- Run a query from REST API. The returned value will be ""100%!y(MISSING)uki"", while the expected value is ""100% yuki"".
- Run a query from CLI. The returned value will be ""100% yuki"". This is correct.
- I used --peer-chaincodedev option.
- I obtained the source code of Fabric on April 24th.
- Go version 1.6 linux/amd64
- security = off

{code}
package main
import (
	""fmt""
	""github.com/hyperledger/fabric/core/chaincode/shim""
)
type SimpleChaincode struct {
}
func (t *SimpleChaincode) Init(stub *shim.ChaincodeStub, function string, args []string) ([]byte, error) {
	return nil, nil
}
func (t *SimpleChaincode) Invoke(stub *shim.ChaincodeStub, function string, args []string) ([]byte, error) {
	return nil, nil
}
func (t *SimpleChaincode) Query(stub *shim.ChaincodeStub, function string, args []string) ([]byte, error) {
	response := ""100% yuki""
	return []byte(response), nil
}
func main() {
	err := shim.Start(new(SimpleChaincode))
	if err != nil {
		fmt.Printf(""Error starting Simple chaincode: %s"", err)
	}
}
{code}
POST /chaincode  body
{code}
{
  ""jsonrpc"": ""2.0"",
  ""method"": ""query"",
  ""params"": {
      ""type"": 1,
      ""chaincodeID"":{
          ""name"":""chaincode_percentbug""
      },
      ""ctorMsg"": {
         ""function"":""query"",
         ""args"":[]
      },
      ""secureContext"": ""test_user0""
  },
  ""id"": 5
}
{code}","- I obtained the source code of Fabric on April 24th.
- Go version 1.6 linux/amd64
- security = off
",binhn,corecode,ryokawajp,ynamiki,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxbjz:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,binhn,corecode,ryokawajp,ynamiki,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"24/Aug/16 10:40 PM;corecode;This was https://github.com/hyperledger/fabric/issues/1517;;;","22/Feb/17 11:35 AM;ynamiki;I cannot reproduce this problem with Docker image ""hyperledger/fabric-peer:x86_64-0.6.1-preview."" Fabric replies ""100% yuki"" for the query.

Already fixed?;;;","10/Apr/17 6:03 AM;binhn;There is no longer REST APIs in Fabric.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Document deploying Fabric on Azure,FAB-242,12543,,Story,Closed,FAB,Fabric,software,denyeart,,,High,Done,,joshhus,joshhus,25/Aug/16 5:31 AM,21/Jul/18 3:55 AM,28/Oct/23 2:57 AM,23/Mar/18 7:31 AM,,,,,fabric-docs,,,0,Documentation,Usability,,,,"We really need a component for deployment considerations. 


----
(Migrating issue from GH, Write paper on deploying hyperledger #1024) 

joshhus commented on Apr 8

Allen Bailey and Josh Horton to write one-page ""whitepaper"" for the April 30 weekend ""hackathon"" with business partners and competitors.

The whitepaper will describe in detail how to deploy hyperledger on Azure.

A second goal is for the whitepaper to describe how to deploy hyperledger on ANY platform - any ""bare metal softlayer"" deployment of hyperledger. But the immediate goal for the paper and confirmation / testing is to provide the deploy to Azure procedure for the hackathon.
@joshhus joshhus changed the title from Write paper on deploying hyperledger to Azure to Write paper on deploying hyperledger on Apr 8
@hannibalhuang
Hyperledger Project member
hannibalhuang commented on Apr 9

Hi @joshhus , I'm interested in the ""any platform"" concept, would be glad to participate in the discussion
@srderson srderson added the documentation label on Apr 10
@stanacton
stanacton commented on Apr 17 • edited

Hi, I'm very interested in the ""any platform"" concept too. VM is great for development, it would be nice to have a 'anywhere' client built in GO. Can anyone help me find this information on setting up independent nodes that talk to each other? The ""Setting up a network"" example does it within the Vagrant machine.
@joequant
joequant commented on Apr 19

Yes. Look at
https://github.com/joequant/hyperledger
These are scripts that are derived from scripts written by yeasy.

./startnet.sh should download the docker images from docker hub and spin them off.
@stanacton
stanacton commented on Apr 19
Thank you very much!  This looks life what I need.
…
@yeasy
Hyperledger Project member
yeasy commented on Apr 19

Thanks joequant.
@stanacton
I highly recommend u to have a look at https://github.com/yeasy/docker-compose-files#hyperledger and
https://github.com/yeasy/docker-hyperledger-peer.

Which will help you quickly boot up a hyperledger cluster without any local configuration and vagrant layer.
@joequant
joequant commented on May 2

Yes. I'll take a look at using docker compose.
@wangbin767
wangbin767 commented 9 hours ago

I am interested in whether this paper finished?
@joshhus
Hyperledger Project member
joshhus commented 41 minutes ago

Investigating, this was dependent on some test results, TBA.
@christo4ferris
Hyperledger Project member
christo4ferris commented 26 minutes ago

can we please open this in Jira? Thanks.
",,joe-alewine,joshhus,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,115200,115200,,0%,115200,115200,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzxbkf:",,,,Unset,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,joe-alewine,joshhus,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Mar/18 7:31 AM;joe-alewine;Closing this as done given that we say Docker supports Azure deployment here: http://hyperledger-fabric.readthedocs.io/en/release-1.1/dev-setup/devenv.html?highlight=azure;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Vagrant build is not detecting previously built artifacts.,FAB-243,12544,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ryjones,ryjones,ryjones,25/Aug/16 5:46 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,25/Aug/16 12:41 PM,,,,,,,,0,build-system,,,,,"For example, in this [logfile|https://jenkins.hyperledger.org/job/fabric-verify-x86_64/523/consoleText], you will see the following builds run twice:

search for “docker peer-image”, “docker src-image” and “docker ccenv-image""

the second instance should not rebuild the image, but should consume the image from the previous build",,greg.haskins,ryjones,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxbkn:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,greg.haskins,ryjones,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"25/Aug/16 9:50 PM;greg.haskins;Fix merged to master

https://gerrit.hyperledger.org/r/gitweb?p=fabric.git;a=commitdiff;h=1e7030a8869ad093abb38027175e3b001648505a;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
protoc (protobuf compiler) needed to be added to jenkins image,FAB-244,12545,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,25/Aug/16 6:15 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,25/Aug/16 6:32 PM,,,,,,,,0,,,,,,"Hi.
https://jira.hyperledger.org/browse/FAB-109
https://jira.hyperledger.org/browse/FAB-108
Require that pb.go files won't be present in the source tree anymore, but will rather be compiled each time from scratch (from the proto files).

I made a patch ([https://gerrit.hyperledger.org/r/#/c/611/]) and submitted to gerrit, but it fails in jenkins because:

{code:none}
15:28:51 + protoc --proto_path=/w/workspace/fabric-verify-x86_64/gopath/src/github.com/hyperledger/fabric/consensus/pbft --go_out=plugins=grpc:. /w/workspace/fabric-verify-x86_64/gopath/src/github.com/hyperledger/fabric/consensus/pbft/messages.proto
15:28:51 ./devenv/compile_protos.sh: line 11: protoc: command not found
15:28:51 + exit 1
{code}

Please add the protoc binaries into the jenkins image:
https://github.com/google/protobuf/releases/tag/v3.0.0

Many thanks in advance

",,greg.haskins,ryjones,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxbkv:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,greg.haskins,ryjones,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"25/Aug/16 6:32 PM;ryjones;please check the results: https://jenkins.hyperledger.org/job/fabric-verify-x86_64/561/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Updating discovery node after some node leaves, and some node joins the network.",FAB-245,12546,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,stylix,stylix,25/Aug/16 11:28 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,07/Apr/17 9:50 PM,,,v0.6,WON'T FIX,,,,0,communication,discovery,,,,"Hi,

I managed to run Hyperledger/Fabric at scale with docker swarm on the cluster.
In this scenario, the new node can join the network when we scale up,
and some will leave when we scale down.

*Thing is that*
The running nodes have it list of ""Discovery nodes"", which is never be updated (if I'm right).
Since the peer know the full list, then it try to communicate to the other nodes on the list, at which some may not come back anymore.
Even this shows the annoying ERROR on the log, but it has no problem with any later invokes.

Please see the attached file.
I'm running with DEBUG mode, that's why I can see this message.

*Questions*
Should we still keep the full discovery list?
Should we update the list for keeping only it's active member?
Is this the issue?, please let me know.
",,stylix,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"25/Aug/16 11:18 AM;stylix;discovery_list.png;https://jira.hyperledger.org/secure/attachment/10044/discovery_list.png",,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxbl3:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,stylix,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"25/Aug/16 11:33 AM;stylix;BTW, this question can be regarded as a fail-over/recovery when some node crash,
and we need to connect a new node from another machine (another IP).

So, the new IP is added to the discover list of the new node, but the old IP is still there on all old nodes.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
fail to run the process as the github document  says.,FAB-246,12547,,Bug,Closed,FAB,Fabric,software,denyeart,,,Low,Done,,dongzhuoyao,dongzhuoyao,25/Aug/16 1:49 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,13/Apr/17 3:00 AM,,,WON'T FIX,,fabric-docs,,,0,Documentation,,,,,"I have read the doc from [https://github.com/hyperledger/fabric/tree/master/docs|https://github.com/hyperledger/fabric/tree/master/docs],

in the page [https://github.com/hyperledger/fabric/blob/master/docs/Setup/Chaincode-setup.md|https://github.com/hyperledger/fabric/blob/master/docs/Setup/Chaincode-setup.md]:

I will leverage the docker files,and follow the steps,when I  go to :

!question.png|thumbnail! 

CORE_CHAINCODE_ID_NAME=mycc CORE_PEER_ADDRESS=0.0.0.0:30303 ./chaincode_example02

I run it in my host machine,and also run a  ""docker-composer up"" as the Docs say.

but I got the following errors:
{color:red}{color:#59afe1}
chaincode_example02 CORE_CHAINCODE_ID_NAME=mycc CORE_PEER_ADDRESS=0.0.0.0:30303 ./chaincode_example02
09:39:45.942 [shim] DEBU : Peer address: 0.0.0.0:30303
09:39:45.944 [shim] DEBU : os.Args returns: [./chaincode_example02]
09:39:45.947 [shim] DEBU : Registering.. sending REGISTER
2016/08/25 09:39:45 transport: http2Client.notifyError got notified that the client transport was broken read tcp 127.0.0.1:55988->127.0.0.1:30303: read: connection reset by peer.
09:39:45.951 [shim] ERRO : Received error from server: rpc error: code = 13 desc = ""transport is closing"", ending chaincode stream
Error starting Simple chaincode: rpc error: code = 13 desc = ""transport is closing""%
{color}{color}

what shall I do?that's a really simple example but I cannot run it successfully.



",,ChristopherFerris,dongzhuoyao,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,3600,3600,,0%,3600,3600,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"25/Aug/16 1:44 PM;dongzhuoyao;question.png;https://jira.hyperledger.org/secure/attachment/10045/question.png",,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxa9b:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,dongzhuoyao,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"29/Aug/16 7:33 AM;ChristopherFerris;The GitHub repository was transferred to Gerrit, and we left things frozen on GitHub to allow for pull requests and issues to be transferred. It is likely that you had a mismatched version of the software from the documentation. The documentation [1] and the GitHub source [2]  and the DockerHub images [3] have been re-aligned, and you'll notice that we've updated the port assignments. Please try the current documentation
as it carries the correct port assignments.

[1] http://hyperledger-fabric.readthedocs.io/en/latest/
[2] https://github.com/hyperledger/fabric
[3] https://hub.docker.com/u/hyperledger/;;;","13/Apr/17 3:01 AM;ChristopherFerris;Closing because no longer relevant;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
add commit sha to version for jenkins builds and -local to local builds,FAB-248,12549,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,ChristopherFerris,ChristopherFerris,25/Aug/16 9:38 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,28/Sep/16 9:04 AM,,,,,,,,0,build-system,,,,,See https://gerrit.hyperledger.org/r/#/c/571/ as first step in adding versioning to binary. We should look to discriminating between a formal CI/Jenkins build (which we can add commit sha to version) published to dockerhub etc from a local build that might have uncommitted changes.,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,28800,28800,,0%,28800,28800,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx9if:",,,,,,Sprint 1,Sprint 2,,,,,,,,,,,,,,1.0,,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"28/Sep/16 9:05 AM;ChristopherFerris;[~ghaskins] implemented this;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
node.js SDK - add API to send transaction endorsement proposals,FAB-251,12552,12613,Sub-task,Closed,FAB,Fabric,software,denyeart,,,High,Done,harrisob@us.ibm.com,jimthematrix,jimthematrix,27/Aug/16 2:11 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,05/Nov/16 4:27 AM,,,,,fabric-sdk-node,,,0,node-SDK,,,,,"This will be the first step in sending transactions into the hyperledger network. In the v1.0 architecture, a small group of peer nodes will be designated as endorsers by the application (per knowledge acquired out-of-band on a per-chaincode basis). A transaction proposal is packaged by the SDK and sent to the list of endorsers.

The API should take a list of peers as endorsers and send the proposal to each under the cover, and collect proposal-responses from each of the endorsers and return a set object of the responses to the application.

The server-side process on the endorser for this is going to be synchronous (double check with [~muralisr] again before proceeding).

Accordingly the return value of the API is a Promise that resolves with a set object containing proposal-responses.

Internal implementation note:
Use a Promise.allSettled() (or equivalent) to collect responses before returning the set via Promise.resolve().",,harrisob@us.ibm.com,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx8wn:",,,,,,Sprint 4 - nodeSDK,,,,,,,,,,,,,,,,,,,,,,,,,,,harrisob@us.ibm.com,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"02/Nov/16 2:50 AM;harrisob@us.ibm.com;We have successfully sent a proposal transaction of 'invoke' to chaincode_example02 where it will transfer a value from one account to another. The peer debug log is showing the GET_STATE is running. We are now looking at decoding the results that are returned.;;;","02/Nov/16 2:51 AM;harrisob@us.ibm.com;We are only working with a single peer. Collection up the results from many peers has just been started.;;;","05/Nov/16 4:32 AM;jimthematrix;resolved by changeset https://gerrit.hyperledger.org/r/#/c/2255/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
node.js SDK - add API to send chaincode deploy endorsement proposals,FAB-252,12553,12625,Sub-task,Closed,FAB,Fabric,software,denyeart,,,High,Done,jimthematrix,jimthematrix,jimthematrix,27/Aug/16 2:22 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,18/Oct/16 1:00 PM,,,,,fabric-sdk-node,,,0,node-SDK,,,,,Similar to FAB-251 but targeting a specific system chaincode for deploy: the Lifecycle System Chaincode. Endorsers will have a special API for chaincode deployment proposal (as opposed to normal transaction proposals).,,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx8wv:",,,,,,Sprint 2,Sprint 3,,,,,,,,,,,,,,4.0,,,,,,,,,,,,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"06/Oct/16 12:56 PM;jimthematrix;Initial implementation in review: https://gerrit.hyperledger.org/r/#/c/1553;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
node.js SDK - add API to send endorsed transaction to Orderer,FAB-253,12554,12613,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,harrisob@us.ibm.com,jimthematrix,jimthematrix,27/Aug/16 3:31 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,05/Nov/16 4:29 AM,,,,,fabric-sdk-node,,,0,node-SDK,,,,,"the transaction payload includes the proposal-responses containing the endorsements.

the backend for this processing is asynchronous, it's not complete until the transaction is successfully validated and committed to the ledger, which is notified via an event.

Due to the async nature of the server process, the API should return a context object that can then track the event on the transaction (complete, error, or custom events defined by the chaincode).
",,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-312,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx8x3:",,,,,,Sprint 4 - nodeSDK,,,,,,,,,,,,,,,4.0,,,,,,,,,,,,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"18/Oct/16 1:16 PM;jimthematrix;[~angrbrd] you can use this for the work we discussed today with [~pmullaney] on returning a context object from the ""sendTransaction()"" API in order to use to track events.;;;","05/Nov/16 4:32 AM;jimthematrix;resolved by changeset https://gerrit.hyperledger.org/r/#/c/2255/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
node.js SDK - add API to send endorsed deployment transaction to orderer,FAB-254,12555,12625,Sub-task,Closed,FAB,Fabric,software,denyeart,,,High,Done,angrbrd,jimthematrix,jimthematrix,27/Aug/16 4:00 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,21/Oct/16 9:23 PM,,,,,fabric-sdk-node,,,0,node-SDK,,,,,"This initial phase is to send to an orderer based on SOLO. The API should take a proper parameter assembled from the returned data of the sendDeploymentProposal() call, and send to the orderer for consensus, which will then deliver to committers for validating and committing to ledger.

Note that the event notification on transaction ""complete"", ""error"" will be tracked separately.",,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx8xb:",,,,,,Sprint 2,Sprint 3,,,,,,,,,,,,,,8.0,,,,,,,,,,,,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"18/Oct/16 1:08 PM;jimthematrix;Moving this to [~angrbrd] per decision from last week. Please make sure this is tested end-to-end resulting in a successful deployment of chaincode.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
fabric-baseimage is cleaned in the jenkins build unnecessarily,FAB-255,12556,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ChristopherFerris,ChristopherFerris,ChristopherFerris,27/Aug/16 9:59 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,12/Sep/16 11:18 AM,,,,,,,,0,build-system,,,,,"fabric-baseimage is cleaned in the jenkins build unnecessarily

in 
line 8 in ci-management/jjb/fabric/include-raw-fabric-clean-environment.sh we call dist-clean which will remove all images. We don't really want it to remove fabric-baseimage except when something changes in there.",,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,28800,28800,,0%,28800,28800,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxa6n:",,,,,,Sprint 1,,,,,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"28/Aug/16 6:02 AM;ChristopherFerris;Fixed in https://gerrit.hyperledger.org/r/#/c/721/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"[node-SDK] chain.addPeer(""www.amazon.com"") crashes SDK",FAB-256,12557,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,mastersingh24,jjjjibm,jjjjibm,27/Aug/16 10:05 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,03/Sep/16 4:08 AM,,,,,,,,0,Fabric05,node-SDK,,,,"Description:

I added this code to my test case:

*console.log(""Now try to add invalid peer"");
chain.addPeer(""www.amazon.com"");
*
Here is the output: 
_# Add and get peers
Now try to add invalid peer
/opt/gopath/src/github.com/hyperledger/fabric/sdk/node/lib/hfc.js:2168
    return str.length >= suffix.length && str.substr(str.length - suffix.lengt
              ^
TypeError: Cannot read property 'length' of null
    at endsWith (/opt/gopath/src/github.com/hyperledger/fabric/sdk/node/lib/hfc.js:2168:15)
    at parseUrl (/opt/gopath/src/github.com/hyperledger/fabric/sdk/node/lib/hfc.js:2137:9)
    at new Endpoint (/opt/gopath/src/github.com/hyperledger/fabric/sdk/node/lib/hfc.js:1775:20)
    at new Peer (/opt/gopath/src/github.com/hyperledger/fabric/sdk/node/lib/hfc.js:1718:19)
    at Chain.addPeer (/opt/gopath/src/github.com/hyperledger/fabric/sdk/node/lib/hfc.js:255:20)
    at Test.<anonymous> (/opt/gopath/src/github.com/hyperledger/fabric/sdk/node/test/unit/chain-tests.js:798:8)
    at Test.bound [as _cb] (/opt/gopath/src/github.com/hyperledger/fabric/sdk/node/node_modules/tape/lib/test.js:63:32)
    at Test.run (/opt/gopath/src/github.com/hyperledger/fabric/sdk/node/node_modules/tape/lib/test.js:82:10)
    at Test.bound [as run] (/opt/gopath/src/github.com/hyperledger/fabric/sdk/node/node_modules/tape/lib/test.js:63:32)
    at Immediate.next [as _onImmediate] (/opt/gopath/src/github.com/hyperledger/fabric/sdk/node/node_modules/tape/lib/results.js:70:15)
ERROR running chain-tests!

(1) Entering an invalid url should not crash the SDK.  Instead, it should return an error to the application. 
(2) addPeer() probably needs a callback so it can return an err.  The callback could return the peer object when the call succeeds. 
_
How to recreate:
1.Edit chain-tests.js and add this code to a test case:
console.log(""Now try to add invalid peer"");
chain.addPeer(""www.amazon.com"");

 2.Run make node-sdk-unit-tests as usual. 
",,jjjjibm,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxblr:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,jjjjibm,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"30/Aug/16 7:43 PM;mastersingh24;It looks like the code actually checks to see if the URL starts with `grpc` or `grpcs` and will return an error if it does not.  But this error comes from the fact that the code tries to extract the protocol while parsing the URL.  This is actually not necessary as we can defer that until the code which checks for a valid prefix.;;;","02/Sep/16 9:14 PM;mastersingh24;https://gerrit.hyperledger.org/r/#/c/883/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"""vagrant up"" does not work on commit a087441bcf8b143cd1776d1c866be59cdddceb29",FAB-257,12558,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,ghaskins,JamesYu,JamesYu,28/Aug/16 10:04 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,10/Sep/16 2:38 AM,,,,,,,,0,build-system,,,,,"This is the error I got when I tried to start from ground zero after a clean git clone

$ vagrant up
Bringing machine 'default' up with 'virtualbox' provider...
==> default: Box 'hyperledger/fabric-baseimage' could not be found. Attempting to find and install...
    default: Box Provider: virtualbox
    default: Box Version: 0.0.11
==> default: Loading metadata for box 'hyperledger/fabric-baseimage'
    default: URL: https://atlas.hashicorp.com/hyperledger/fabric-baseimage
==> default: Adding box 'hyperledger/fabric-baseimage' (v0.0.11) for provider: virtualbox
    default: Downloading: {color:#d04437}https://atlas.hashicorp.com/hyperledger/boxes/fabric-baseimage/versions/0.0.11/providers/virtualbox.box{color}
An error occurred while downloading the remote file. The error
message, if any, is reproduced below. Please fix this error and try
again.

Couldn't resolve host '{color:#d04437}binstore-test.hashicorp.com{color}'

First of all, I thought the image is to be downloaded from ""atlas.hashicorp.com"" why does ""binstore-test.hashicorp.com"" has anything to do with it?

Then I tried to test the network connectivity with port 443 given the protocol is https
$ telnet binstore-test.hashicorp.com 443
Trying 52.4.205.238...
Connected to prod-binstore-914876835.us-east-1.elb.amazonaws.com.
Escape character is '^]'.
^]
telnet> quit
Connection closed.

The connectivity seems OK, so I don't know why it gives me ""Couldn't resolve host 'binstore-test.hashicorp.com'""","$ vagrant version
Installed Version: 1.8.5

hyperledger fabric commit: a087441bcf8b143cd1776d1c866be59cdddceb29
 !image-2016-08-28-09-03-38-547.png|thumbnail! ",greg.haskins,JamesYu,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"28/Aug/16 10:03 AM;JamesYu;image-2016-08-28-09-03-38-547.png;https://jira.hyperledger.org/secure/attachment/10050/image-2016-08-28-09-03-38-547.png",,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxa6v:",,,,,,Sprint 1,,,,,,,,,,,,,,,,,,,,,,,,,,,greg.haskins,JamesYu,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"28/Aug/16 6:50 PM;JamesYu;Traffic seems to go through, however the following provision give the following error

==> default: protoc --proto_path=/opt/gopath/src/github.com/hyperledger/fabric/consensus/pbft --go_out=plugins=grpc:/opt/gopath/src/github.com/hyperledger/fabric/consensus/pbft /opt/gopath/src/github.com/hyperledger/fabric/consensus/pbft/*.proto
{color:#d04437}==> default: protoc-gen-go
==> default: : program not found or is not executable
==> default: --go_out
==> default: : 
==> default: protoc-gen-go: Plugin failed with status code 1.
==> default: make: 
==> default: *** [consensus/pbft/messages.pb.go] Error 1{color}
The SSH command responded with a non-zero exit status. Vagrant
assumes that this means the command failed. The output for this command
should be in the log above. Please read the output to determine what
went wrong.
;;;","10/Sep/16 1:55 AM;greg.haskins;Is this reproducible?  It seems to be working fine for me as of yesterday.  I will try again today with the latest.;;;","10/Sep/16 2:40 AM;greg.haskins;I think the issue that precipitated the protoc-gen-go has been reverted.  I am not able to reproduce the atlas access issue with v0.0.11 but I suspect it was environmental to the user.  I confirmed that a fresh vagrant destroy/up works as expected on f6403a8.  Recommend closing for now.  Can be reopened if persists.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
remove deprecated 'devops' REST interface,FAB-258,12559,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ChristopherFerris,ChristopherFerris,ChristopherFerris,28/Aug/16 11:11 PM,21/Jul/18 3:56 AM,28/Oct/23 2:57 AM,10/Sep/16 1:55 AM,,,,,,,,0,api,,,,,The 'devops' REST interface has been deprecated for months. There's no reason to continue to expose it. The code is little more than potential technical debt.,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,57600,57600,,0%,57600,57600,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzxblz:",,,,Unset,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"10/Sep/16 1:55 AM;ChristopherFerris;https://gerrit.hyperledger.org/r/#/c/723/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
git plugin for jira reports license expired,FAB-259,12560,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ChristopherFerris,ChristopherFerris,ChristopherFerris,29/Aug/16 6:17 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,20/Sep/16 1:53 AM,,,,,,,,0,build-system,,,,,"Plugin license has expired
",,ChristopherFerris,ryjones,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,57600,57600,,0%,57600,57600,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxa7b:",,,,,,Sprint 1,,,,,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,ryjones,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"20/Sep/16 1:54 AM;ryjones;New license applied;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Mutiple config file are confused and duplicate,FAB-260,12561,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid,,grapebaba,grapebaba,29/Aug/16 4:18 PM,21/Jul/18 3:55 AM,28/Oct/23 2:57 AM,20/Jul/18 11:05 PM,,,v1.0.0,,fabric-peer,,,1,configuration,operations,,,,"There are many config.go in several packages and exist some duplicate code, could we unify them? I note a comment mentioned circular import issue, could we reconstruct the directories?

./events/config.go
./core/peer/config.go
./core/container/config.go
./core/config/config.go
./core/ledger/statemgmt/buckettree/config.go
./core/ledger/statemgmt/state/config.go
./core/system_chaincode/config.go
./core/chaincode/config.go
./core/config.go
./core/comm/config.go
",,grapebaba,mastersingh24,muralisr,xiejunan,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzxbm7:",,,,Unset,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,grapebaba,mastersingh24,muralisr,xiejunan,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"29/Aug/16 9:50 PM;xiejunan;good idea.  reconstruct the config directory and related codes.
a PR for ref: https://gerrit.hyperledger.org/r/#/c/579/
;;;","10/Sep/16 10:33 PM;mastersingh24;I am bumping this up to medium but we really need to address this in the V1 release.  I also added two new labels here (configuration and operations).   

But this will require some careful thinking and design.  I suggest we should have an EPIC for configuring and operating the fabric;;;","13/Apr/17 4:43 PM;muralisr;[~mastersingh24] this will be good to do in 1.0 but could we ?;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
list deployed chaincodes in the ledger,FAB-261,12562,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,xiejunan,xiejunan,xiejunan,29/Aug/16 9:51 PM,12/Jul/19 8:03 PM,28/Oct/23 2:57 AM,12/Jul/19 8:00 PM,,,v1.1.0,,,,,1,,,,,,"Peer currently can deploy/invoke/query a chaincode , but can not get all chaincodes deployed in the ledger. i suggest to add a subcommand to list all chaincodes deployed in the ledger.  ",,fredbi,xiejunan,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3720,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzxbmf:",,,,Unset,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,fredbi,xiejunan,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"05/Sep/16 4:27 PM;xiejunan;[~ChristopherFerris];;;","29/Nov/16 10:40 PM;fredbi;Hello. Indeed, it would be nice to have a symmetric API for chaincodes and be able to retrieve deployed chaincodes.
However, I would be more accurate and say it is most useful for a given peer to retrieve the chaincodes under its scope only, and not ALL chaincodes deployed. Getting access to ALL deployed chaincodes breaks in my opinion the principle of isolation between various population of peers.

If such a global directory were to be made available, then, at least, the possibility to be published in this directory should left as an option when deploying the chaincode.

I believe that a pattern composed of 2 chaincodes (Object <- DirectoryObject) would be more flexible. However, such a pattern will only be practical when cross-chaincode transactions are eventually supported.

Cheers,

F.
;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Behave tests are failing with error ""Exception AttributeError: 'Context' object has no attribute 'compose_containers'""",FAB-262,12563,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,jeffgarratt,rameshthoomu,rameshthoomu,29/Aug/16 10:01 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,10/Mar/17 7:50 AM,,,,,,,,0,build-system,,,,,"We are observing builds are failing in Jenkins with the below error in behave tests scenario *""Scenario chaincode example02 with 4 peers and 1 membersrvc, issue #567 -- @1.1 Consensus Options""*

Exception AttributeError: 'Context' object has no attribute 'compose_containers'
Jenkins Build Reference# https://jenkins.hyperledger.org/view/fabric/job/fabric-verify-x86_64/666/console
Please see the attached log file:
",Jenkins CI machines runs on openstack VM's,jeffgarratt,rameshthoomu,ryjones,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,57600,57600,,0%,57600,57600,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"29/Aug/16 10:00 PM;rameshthoomu;Behave tests failed.txt;https://jira.hyperledger.org/secure/attachment/10051/Behave+tests+failed.txt",,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx8qn:",,,,,,Sprint 1,Sprint 2,Sprint 3,,,,,,,,,,,,,,,,,,,,,,,,,jeffgarratt,rameshthoomu,ryjones,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"05/Oct/16 8:45 AM;rameshthoomu;[~jeffgarratt]: We are still getting the above error inconsistently in Jenkins builds. I could still see behave build failures with the above error message even after merge patch https://gerrit.hyperledger.org/r/#/c/771/. Could you please help me in debugging this issue.;;;","06/Dec/16 8:28 AM;ryjones;behave tests disabled. they have not worked in over a month;;;","10/Mar/17 7:50 AM;jeffgarratt;Behave is coming back in CI currently.  This issue is no longer relevant.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Enable node sdk unit tests in Jenkins CI,FAB-263,12564,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,rameshthoomu,rameshthoomu,29/Aug/16 10:04 PM,21/Jul/18 3:55 AM,28/Oct/23 2:57 AM,02/Sep/16 10:58 AM,,,,,,,,0,build-system,,,,,"Enable ""node-sdk"" unit tests in Jenkins CI process.",,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"30/Aug/16 4:08 AM;rameshthoomu;node-sdk-test-failes-.txt;https://jira.hyperledger.org/secure/attachment/10052/node-sdk-test-failes-.txt",,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzxbmn:",,,,Unset,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"29/Aug/16 10:19 PM;rameshthoomu;Patch has been created in gerrit to fix this issue. https://gerrit.hyperledger.org/r/#/c/673/;;;","02/Sep/16 10:58 AM;rameshthoomu;https://gerrit.hyperledger.org/r/#/c/673/ has been merged and node-sdk-unit-tests are now part of Build process.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"[node-SDK] chain.addPeers() lets me add the same peer to its chain, 9 times",FAB-264,12565,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,mastersingh24,jjjjibm,jjjjibm,29/Aug/16 11:36 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,03/Sep/16 8:04 PM,,,,,,,,0,Fabric05,node-SDK,,,,"Description:
(1) This unit test: 

//
// Test chain.getPeers()
//
test('Get peers', function(t) {
	
	for (var i = 0; i < 9; i++) {
		chain.addPeer(""grpc://localhost:30303"");
	}
	var peers = chain.getPeers();
	console.log(""chain peers"", peers)
	if (peers) {
		console.log(""Peers: "", peers)
		pass(t, ""getPeers"");
	}
	else {
		console.log(""get peers: no peers found"");
		fail(t, ""getPeers"", new Error(""No peers""));
		process.exit(1);
	}
		
});

allows me to add the identical peer to the chain, nine times.    This isn't logical and should not be permitted 
    
(2) Here is the generated documentation for addPeer:
addPeer

    addPeer(url: string, pem?: string): Peer

        Defined in src/hfc.ts:456

    Add a peer given an endpoint specification.
    Parameters
        url: string
        Optional pem: string
    Returns Peer

    Returns a new peer.

Since we know of at least one reason addPeer() could fail, the documentation needs to indicate how the caller would know the addPeer() method failed.  Return 'unknown'?","win7 laptop, hfc 0.0.2",jjjjibm,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-719,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxbmv:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,jjjjibm,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"09/Sep/16 12:13 AM;mastersingh24;closed via https://gerrit.hyperledger.org/r/#/c/897/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Inconsistent behave test failures,FAB-268,12569,,Bug,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,jeffgarratt,rameshthoomu,rameshthoomu,30/Aug/16 8:22 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,18/Jan/17 11:35 PM,,,,,,,,0,build-system,,,,,"Issue: Inconsistent behave test failures in Jenkins CI process.

Observed many of the builds are failing with below error in Jenkins. 
*Assertion Failed: Attribute not found in response (result.message)*

Scenario# @issue_680
Launch 4 peers and membersrvc - make sure Docker container are up and IP address is assigned to each peer. -- VP3 = 172.17.0.61 
Deploy chaincode on vp0 and then invoke 30 times on vp0
Query on all peers
Stop vp3
Invoke on vp0
Query on Vp0, Vp1 and Vp2
Start Peer3 -- VP3 = 172.17.0.64
Invoke 10 times on vp0
Query on all peers.  -- After vp3 is started, we could see new IP Address is assigned. 

Jenkins build reference:https://jenkins.hyperledger.org/view/fabric/job/fabric-verify-x86_64/677/artifact/gopath/src/github.com/hyperledger/fabric/bddtests/testsummary.log

Jenkins Environment: Docker version 1.8.2 is running in Jenkins CI machines.. We tried to upgrade docker version to 1.12.0 or 1.11.2 but we observed build is not proceeding further from common.sh step in make file. (while updating packages)",Jenkins environment: Docker version 1.8.2,bmos299,jeffgarratt,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,57600,57600,,0%,57600,57600,,,,,,,,,,,,,,,,,,,,,FAB-694,,,,,,FAB-5,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx8pz:",,,,,,Sprint 1,Sprint 2,Sprint 3,,,,,,,,,,,,,,,,,,,,,,,,,bmos299,jeffgarratt,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"02/Sep/16 1:50 AM;jeffgarratt;Is this looking any better [~rameshbabu79] ?;;;","13/Sep/16 5:57 AM;rameshthoomu;[~jeffgarratt]: we are still seeing behave test failures inconsistently.  issues like 1) Containers not starting up in-time 2) tests are failing with time-out issue. We have upgraded docker version to 1.12.0 in jenkins build machines but we are seeing couple of other issues (unable to update ubuntu packages);;;","05/Oct/16 8:38 AM;rameshthoomu;[~jeffgarratt]: Any update on this issue? I could see 90% of behave Jenkins jobs are failing with the above mentioned errors. Do you have any workaround steps to increase wait time and handling new docker container IP addresses generating after stop and start docker container.;;;","21/Oct/16 5:30 AM;bmos299;Hi Jeff, can you upgrade the docker-compose version in vagrant to be 1.8 at least?  We need the version 2 for our images to deploy properly due to code added to support multiple platforms. The version 2 was introduced in docker-compose 1.6.  I think docker-compose is up to 1.8.x now.;;;","18/Jan/17 11:36 PM;jeffgarratt;Closing for now as new features are coming for v1.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Failed to build peer,FAB-269,12570,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,mastersingh24,baohua,baohua,30/Aug/16 3:24 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,03/Sep/16 8:38 AM,,,,,,,,0,build-system,,,,,"With latest code at the master branch.

Under $GOPATH/src/github.com/hyperledger/fabric/peer, to build or install, both trigger complains.

# CGO_CFLAGS="" "" CGO_LDFLAGS=""-lrocksdb -lstdc++ -lm -lz -lbz2 -lsnappy"" go build
../core/crypto/attributes/attributes.go:28:2: no buildable Go source files in /go/src/github.com/hyperledger/fabric/core/crypto/attributes/proto
../core/crypto/client_tca.go:20:2: no buildable Go source files in /go/src/github.com/hyperledger/fabric/membersrvc/protos","Ubuntu 14.04, Golang 1.6",baohua,mastersingh24,warm3snow,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx9in:",,,,,,Sprint 1,Sprint 2,,,,,,,,,,,,,,,,,,,,,,,,,,baohua,mastersingh24,warm3snow,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"03/Sep/16 8:38 AM;mastersingh24;[~baohua] - can you pull the latest from the master branch?  I think this should be resolved now that the compile protobufs have been added back to the repo.  There was a prior change which required you to precompile the protos (done in the Makefile as well);;;","03/Sep/16 10:36 AM;baohua;Yes, it's built now with latest code.
Thanks!;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
I cant install hyperledger fabric  can you help me?,FAB-270,12571,,Bug,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,,forest_wow,forest_wow,30/Aug/16 6:06 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,25/Jan/17 1:48 AM,,,,,,,,0,,,,,,"I install this project step by step according to github instructions,but i always encounter with the following problem.how to fix it?
ps : I am in china ,has that something with gfw?
","==> default: Mounting shared folders...
    default: /vagrant => /home/forest/go/src/github.com/hyperledger/fabric/devenv
    default: /local-dev => /home/forest/go/src/github.com/hyperledger/fabric
    default: /hyperledger => /home/forest/go/src/github.com/hyperledger/fabric
    default: /opt/gopath/src/github.com/hyperledger/fabric => /home/forest/go/src/github.com/hyperledger/fabric
==> default: Running provisioner: shell...
    default: Running: inline script
==> default: stdin: is not a tty
==> default: ++ export DOCKER_STORAGE_BACKEND=
==> default: ++ DOCKER_STORAGE_BACKEND=
==> default: ++ cd /hyperledger/devenv
==> default: ++ ./setup.sh
==> default: ./setup.sh: line 40: ---;;---: command not found
==> default: ./setup.sh: command substitution: line 40: syntax error near unexpected token `||'
==> default: ./setup.sh: command substitution: line 40: `    ||    '
==> default: W
==> default: : 
==> default: Failed to fetch http://security.ubuntu.com/ubuntu/dists/trusty-security/main/binary-amd64/Packages  Hash Sum mismatch
==> default: W
==> default: : 
==> default: Failed to fetch http://security.ubuntu.com/ubuntu/dists/trusty-security/main/binary-i386/Packages  Hash Sum mismatch
==> default: W
==> default: : 
==> default: Failed to fetch http://us.archive.ubuntu.com/ubuntu/dists/trusty-updates/main/binary-amd64/Packages  Hash Sum mismatch
==> default: W
==> default: : 
==> default: Failed to fetch http://us.archive.ubuntu.com/ubuntu/dists/trusty-updates/main/binary-i386/Packages  Hash Sum mismatch
==> default: E
==> default: : 
==> default: Some index files failed to download. They have been ignored, or old ones used instead.
The SSH command responded with a non-zero exit status. Vagrant
assumes that this means the command failed. The output for this command
should be in the log above. Please read the output to determine what
went wrong",denyeart,forest_wow,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxbnz:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,denyeart,forest_wow,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"07/Sep/16 3:48 AM;denyeart;For dev environment help, I would suggest use Slack or Mailing list instead of Jira defect, details here:
https://www.hyperledger.org/community;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
restore Jenkins pipeline for Z,FAB-273,12574,,Task,Closed,FAB,Fabric,software,denyeart,,,High,Done,rameshthoomu,ChristopherFerris,ChristopherFerris,31/Aug/16 2:59 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,07/Nov/16 11:35 PM,,,,,,,,0,build-system,,,,,"restore Jenkins pipeline for Z
migrate https://github.com/hyperledger-archives/fabric/pull/2228 to Gerrit",,ChristopherFerris,harrijk,rameshthoomu,silliman,vpaprots,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,28800,28800,,0%,28800,28800,,,FAB-358,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx8qv:",,,,,,Sprint 1,Sprint 2,Sprint 3,,,,,,,,,,,,,1.0,,,,,,,,,,,,ChristopherFerris,harrijk,rameshthoomu,silliman,vpaprots,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"31/Aug/16 9:15 AM;rameshthoomu;Sent a message to [~vpaprots@ca.ibm.com]  and @gangus to migrate patches from github to gerrit. Will enable z build in jenkins after these patches merged and created base image in fabric repo.;;;","13/Sep/16 6:04 AM;rameshthoomu;Unable to perform tests in Z machine as this tests are blocking with this issue https://jira.hyperledger.org/browse/FAB-358. [~harrijk]: working on this.;;;","13/Sep/16 11:50 AM;ChristopherFerris;as I suggested on FAB-358, let's stub out java shim build for now on Z.;;;","01/Nov/16 12:26 AM;rameshthoomu;unavailability of z machines in ci-pipe line is blocking this issue. Checking with [~vpaprots] ;;;","01/Nov/16 12:32 AM;vpaprots;Please check with John Harrison, I've have given him access to my machine and then several more. I hope between the two of you we can fix it.;;;","07/Nov/16 11:35 PM;rameshthoomu;[~harrijk] configured two machines and included them in ci-pipeline. Currently we are using these nodes for baseimage testing. Will create another JIRA ticket to perform unit and functional tests on Z machines in ci-pipeline.;;;","08/Nov/16 12:51 AM;harrijk;We were successfully able to integrate fabric-baseimage builds for the z Systems (s390x) platform in the production Jenkins environment.  Release (v0.2.1) was pushed to Docker Hub.

Regarding the integration of fabric builds for the s390x platform into the CI pipeline, I believe that https://jira.hyperledger.org/browse/FAB-358 needs to be resolved first.  Otherwise, fabric builds for verify, merge, etc. will continue to fail due to the FAB-358 issue.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,
Add endorser service,FAB-274,12575,12481,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sanchezl,sanchezl,sanchezl,31/Aug/16 3:58 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,12/Sep/16 10:08 PM,,,,,,,,0,,,,,,Add an initial version of the Endorser service. It will have a single method: {{ProcessProposal}}.,,ChristopherFerris,sanchezl,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-181,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxbon:",,,,,,Sprint 1,Sprint 2,,,,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,sanchezl,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"06/Sep/16 5:00 PM;ChristopherFerris;This is too broad a task. Let's decompose this into chewable chunks. please.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
need to set up CI for blockchain-explorer,FAB-275,12576,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,ChristopherFerris,ChristopherFerris,31/Aug/16 6:00 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,13/Apr/17 1:29 AM,,,WON'T FIX,,,,,0,,,,,,,,ChristopherFerris,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxbov:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"31/Aug/16 9:03 AM;rameshthoomu;Chris, I will setup a CI for block chain-explorer but could you please tell us what we have to verify in blockchain-explorer? I don't see any code base in this repo.;;;","13/Apr/17 1:29 AM;ChristopherFerris;This really belongs in the other project;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Please move chaintool to a more reliable host or have keepalive flag on,FAB-276,12577,,Task,Closed,FAB,Fabric,software,denyeart,,,High,Done,,JamesYu,JamesYu,31/Aug/16 8:15 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,12/Apr/17 11:44 PM,,,v0.6,WON'T FIX,,,,0,build-system,getting-started,,,,"I have been failing to do fresh ""vagrant up"" for a week, and I finally figured out what happened.
During certain stage of fresh ""vagrant up"", the following command is issued:
curl -L https://github.com/hyperledger/fabric-chaintool/releases/download/v0.8.1/chaintool > build/bin/chaintool
, and it always fails with the message of ""curl: (56) SSL read: error:00000000:lib(0):func(0):reason(0), errno 104""

So I run the same command in another console and find out the connectivity is quite poor.
Maximum download speed is around 3K and drops to 0 from time to time, then eventually timeout.
I can wait if it's just slow, but this makes it impossible to successfully finish ""vagrant up""
 !image-2016-08-31-06-37-40-302.png|thumbnail! ",,ChristopherFerris,JamesYu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,28800,28800,,0%,28800,28800,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"31/Aug/16 7:37 AM;JamesYu;image-2016-08-31-06-37-40-302.png;https://jira.hyperledger.org/secure/attachment/10058/image-2016-08-31-06-37-40-302.png",,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx8sn:",,,,,,Sprint 1,Sprint 2,Sprint 3,,,,,,,,,,,,,1.0,,,,,,,,,,,,ChristopherFerris,JamesYu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"12/Apr/17 11:45 PM;ChristopherFerris;closing this as I believe that it has been resolved. reopen and change fixVersion if that is not the case;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Enable power node in Jenkins CI,FAB-277,12578,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,rameshthoomu,rameshthoomu,31/Aug/16 9:36 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,05/Nov/16 2:18 AM,,,,,fabric-quality,,,0,build-system,quality,,,,@bsmitha requested us to setup Power node in Jenkins CI.,,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,57600,57600,,0%,57600,57600,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxcif:",,,,,,Sprint 1,Sprint 2,Sprint 4 - Quality,,,,,,,,,,,,,2.0,,,,,,,,,,,,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"25/Sep/16 5:12 AM;rameshthoomu;Performed tests in power node through Sandbox Jenkins and observed unit-tests are working as expected but Observed all behave tests are failed with ""container did not come up"" error. Updated results to Smitha and srirama in slack.
Unit-tests:
https://jenkins.hyperledger.org/sandbox/job/fabric-on-power/34/console
Behave tests:
https://jenkins.hyperledger.org/sandbox/job/fabric-on-power/38/console;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[chaincode deploy] summit chaincode to peers in chaincode deploy,FAB-279,12580,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,warm3snow,warm3snow,warm3snow,31/Aug/16 11:03 AM,21/Jul/18 3:56 AM,28/Oct/23 2:57 AM,23/Nov/16 5:33 PM,,,,,,,,0,chaincode,Usability,,,,"Now in the fabric before deploying your own chaincode, firstly you must summit the chaincode to the $GOPATH of the peer.  If an error occurs, the step will be repeated over and over again.
---> add support to summit our chaincode to the peer when we deploy chaincode.
such as:
peer chaincode deploy -p $GOPATH/src/myChaincode...
The operation above can also copy local chaincode to peers implicitly.",,warm3snow,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzxbp3:",,,,Unset,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,warm3snow,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
save deployment transactions in a dedicated column family,FAB-280,12581,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,muralisr,xiejunan,xiejunan,31/Aug/16 6:51 PM,12/Jul/19 8:28 PM,28/Oct/23 2:57 AM,12/Jul/19 8:28 PM,,,Future,,fabric-peer,,,0,,,,,,"i suggest to put all deployment transactions in a dedicated column family,  i think this can speed up searching chaincodes when find a chaincode deployment spec or iterator all chaincodes because the amount of deployment transactions is much less than that of all the transactions. 
for example:
blockchain.go func (blockchain *blockchain) addPersistenceChangesForNewBlock:
......
writeBatch.PutCF(db.GetDBHandle().BlockchainCF, encodeBlockNumberDBKey(blockNumber), blockBytes)
writeBatch.PutCF(db.GetDBHandle().BlockchainCF, blockCountKey, encodeUint64(blockNumber+1))
	//if Transaction is a deployment tx, write (TxID,Tx) to ChaincodeCF
	for _, tx := range block.GetTransactions() {
		if tx.Type == protos.Transaction_CHAINCODE_DEPLOY {
			data, err := tx.Bytes()
			if err == nil {
				writeBatch.PutCF(db.GetDBHandle().ChaincodeCF, []byte(tx.Uuid), data)
			}
		}
	}
",,ChristopherFerris,mastersingh24,muralisr,xiejunan,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzxb0f:",,,,Unset,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,ChristopherFerris,mastersingh24,muralisr,xiejunan,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"05/Sep/16 4:27 PM;xiejunan;[~ChristopherFerris];;;","17/Sep/16 6:47 PM;mastersingh24;[~muralisr] what are your thoughts here?  how does this fit into the cc lifecycle / naming stuff planned for v1.0?  ;;;","17/Sep/16 9:32 PM;muralisr;Thanks for point this [~mastersingh24]. 

[~JunanXie] And thanks for raising this. It is a very appropriate thought for the new architecture work. As [~mastersingh24] mentioned, chaincodes are maintained by the life cycle system chaincode which maintains chaincode as state (specifically in a table of chaincodes). The details are in https://gerrit.hyperledger.org/r/#/c/1057 and corresponding JIRA items https://jira.hyperledger.org/browse/FAB-181, https://jira.hyperledger.org/browse/FAB-182, etc.

If ok with you, I can move this item to be part of the those JIRA stories and can be flushed out further. Also what do you think of changing subject to ""Save chaincode deployment information as state"" ?
;;;","12/Apr/17 11:48 PM;ChristopherFerris;[~muralisr] I moved to v1.1 and assigned to you. If already handled, mark version as v1.0.0 and DUPLICATE and close. Thanks;;;","20/Apr/17 9:40 AM;muralisr;Adding [~denyeart] for views.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
grpc streams server code centralization,FAB-281,12582,12337,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,gennadyl,gennadyl,gennadyl,31/Aug/16 9:28 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,13/Mar/17 4:36 PM,,,,,,,,0,,,,,,"The idea is to move 3 grpc servers implementations to one place - comm/server package and leave on original packages only the handlers for incoming message handlers.

3 servers are:
1. Peer server
2. Events server
3. Chaincode server
 ",,gennadyl,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxbpb:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,gennadyl,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
add extra layer between actual grpc streams and handlers,FAB-282,12583,12337,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,gennadyl,gennadyl,gennadyl,31/Aug/16 9:32 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,13/Mar/17 4:36 PM,,,,,,,,0,,,,,,"In this layer we can put (in future) real robust flow control
Right now in case of full grpc buffers, Send become blocking and handlers can stop
In case we have this layer, we can decide what we want to do - to stop in Send or just return error.

Idea is to keep original message handlers in peer, event and chaincode packages unchanged (almost), but make them to use this layer instead grpc streams. ",,gennadyl,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxbpj:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,gennadyl,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Build a PKCS11 BCCSP for nodejs client,FAB-283,12584,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,gongsu,elli-androulaki,elli-androulaki,31/Aug/16 10:04 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,13/Apr/17 3:09 AM,,,,,fabric-crypto,,,0,Security,,,,,This task concerns the implementation of a PKCS11 crypto service provider for fabric in nodejs. This is to be used by the nodejs client.,,elli-androulaki,inatatsu,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-581,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx6k7:",,,,,,Sprint 7 - Crypto,Sprint 8 - Crypto,Sprint 9 - Crypto,Sprint 9  - Crypto,Sprint 10 - Crypto,,,,,,,,,,,,,,,,,,,,,,,elli-androulaki,inatatsu,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
separate out base image creation and publishing,FAB-284,12585,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,ChristopherFerris,ChristopherFerris,31/Aug/16 11:38 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,01/Nov/16 12:27 AM,,,,,,,,0,build-system,,,,,"@ghaskins and I were just discussing (lamenting) the state of the build and some of the patches that are looking to simplify and shorten the build. We started talking about https://gerrit.hyperledger.org/r/#/c/721/ which was attempting to eliminate unnecessary builds of the base image every time we build. We had previously discussed pulling out the build for the various base images into a separate repository and then controlling the specific version by referencing a specific tag in the fabric (and other) builds where we are explicitly calling out a bump of a version tag to push, and we are pulling a previously explicitly tagged version from atlas or dockerhub.

I like this approach as it is cleaner, and we can simplify and reduce the time to build. I would propose we pull out images/base into its own repository with the same set of maintainers and we adapt its build pipeline to include an explicit change required to push a version that is governed under 2+2 merge policy,",,ChristopherFerris,greg.haskins,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx8sv:",,,,,,Sprint 1,Sprint 2,Sprint 3,,,,,,,,,,,,,4.0,,,,,,,,,,,,ChristopherFerris,greg.haskins,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"19/Sep/16 11:24 PM;greg.haskins;First phase is complete: We now have fabric-baseimage.git.   Working on the Jenkins pipeline and the fabric patches to accept the new image next.;;;","20/Sep/16 12:05 AM;ChristopherFerris;(y);;;","23/Sep/16 1:04 AM;greg.haskins;Patches for fabric have been submitted, pending merge: 

https://gerrit.hyperledger.org/r/#/c/1141/

Production-grade pipeline development work is still ongoing.;;;","20/Oct/16 2:07 AM;greg.haskins;Assigning to Ramesh for the completion of the pipeline work.  The fabric code is all submitted as appropriate, it just needs the pipeline support to be completed.;;;","20/Oct/16 6:40 AM;rameshthoomu;We have Jenkins pipeline for fabric-baseimages.. fabric-baseimage-release-trigger is a upstream job upon successful this triggers all three platforms baseimage release jobs. Will create new task to trigger these jobs based on tag.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Building Hyperledger peer on s390x (z Systems) fails on Step 11,FAB-286,12587,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,holocron,holocron,holocron,01/Sep/16 1:00 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,08/Sep/16 11:51 PM,,,,,,,,0,build-system,,,,,"With a clean ubuntu s390x system, no docker images and no build artifacts, ""make peer"" fails.


{code:java}
Step 11 : RUN /hyperledger/scripts/provision/common.sh
 ---> Running in dd5fbd1985bb
E: Failed to fetch mirror://mirrors.ubuntu.com/mirrors.txt/dists/xenial/main/binary-s390x/by-hash/SHA256/0956d9bdd044570b5d8f1b3e186bb7bddb01b786174329ffa87c9596678defcb  Hash Sum mismatch
E: Failed to fetch mirror://mirrors.ubuntu.com/mirrors.txt/dists/xenial/restricted/binary-s390x/Packages  Hash Sum mismatch
E: Failed to fetch mirror://mirrors.ubuntu.com/mirrors.txt/dists/xenial/universe/binary-s390x/by-hash/SHA256/ab9ab7276ffd6ca36851b3036aa5a1e6e1d349a63a312405feca365599f7045f  Hash Sum mismatch
E: Failed to fetch mirror://mirrors.ubuntu.com/mirrors.txt/dists/xenial/multiverse/binary-s390x/by-hash/SHA256/a2a04833fa0398c1a0d1512f8ba7643e0d9c4600a49250c00b398a2faf62ba29  Hash Sum mismatch
E: Failed to fetch mirror://mirrors.ubuntu.com/mirrors.txt/dists/xenial-updates/main/binary-s390x/by-hash/SHA256/8218b5abf4c8a98249b48413f55c6b2ceaf80a646f6ee02a21afc5abb2bf006d  Hash Sum mismatch
E: Failed to fetch mirror://mirrors.ubuntu.com/mirrors.txt/dists/xenial-updates/restricted/binary-s390x/Packages  Hash Sum mismatch
E: Failed to fetch mirror://mirrors.ubuntu.com/mirrors.txt/dists/xenial-updates/universe/binary-s390x/by-hash/SHA256/a95c2981e3b7a9a0a83199acb6e6ac7b4a3d38be84b922762ebb1736fa1c025c  Hash Sum mismatch
E: Failed to fetch mirror://mirrors.ubuntu.com/mirrors.txt/dists/xenial-updates/multiverse/binary-s390x/Packages  Hash Sum mismatch
E: Failed to fetch mirror://mirrors.ubuntu.com/mirrors.txt/dists/xenial-backports/main/binary-s390x/Packages  Hash Sum mismatch
E: Failed to fetch mirror://mirrors.ubuntu.com/mirrors.txt/dists/xenial-backports/restricted/binary-s390x/Packages  Hash Sum mismatch
E: Failed to fetch mirror://mirrors.ubuntu.com/mirrors.txt/dists/xenial-backports/universe/binary-s390x/Packages  Writing more data than expected (3368 > 1655) [Mirror: http://ubuntu.localmsp.org/ubuntu/]
E: Failed to fetch mirror://mirrors.ubuntu.com/mirrors.txt/dists/xenial-backports/multiverse/binary-s390x/Packages  Hash Sum mismatch
E: Failed to fetch mirror://mirrors.ubuntu.com/mirrors.txt/dists/xenial-security/main/binary-s390x/by-hash/SHA256/a61ca740474bf495bf9885f48891a4f2a146e9969386cdc52ae9ed6536bb1855  Hash Sum mismatch
E: Failed to fetch mirror://mirrors.ubuntu.com/mirrors.txt/dists/xenial-security/restricted/binary-s390x/Packages  Hash Sum mismatch
E: Failed to fetch mirror://mirrors.ubuntu.com/mirrors.txt/dists/xenial-security/universe/binary-s390x/by-hash/SHA256/642101fdf1cfc4fb6b66cc7a33aadc44b8e1c7f3661b465a2bb6bb8742f8ace9  Hash Sum mismatch
E: Failed to fetch mirror://mirrors.ubuntu.com/mirrors.txt/dists/xenial-security/multiverse/binary-s390x/Packages  Hash Sum mismatch
E: Some index files failed to download. They have been ignored, or old ones used instead.

{code}


",Ubuntu 16.04 LTS (Xenial Xerus) s390x,holocron,tdietter,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxbpr:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,holocron,tdietter,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"08/Sep/16 12:26 AM;tdietter;Any chance this is going to get fixed?  Thanks.;;;","08/Sep/16 11:50 PM;holocron;This particular problem was resolved yesterday. I'm now running into an issue with openjdk8 that's being tracked here:
https://github.ibm.com/IBM-Blockchain/z-dev/issues/303;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
upgrade golang from 1.6 to 1.7,FAB-289,12590,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,greg.haskins,baohua,baohua,01/Sep/16 11:24 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,05/Oct/16 2:29 AM,,,,,,,,0,build-system,,,,,"Golang 1.7 released with enhanced performance and bug fixes.

We should support it ASAP.",,baohua,ChristopherFerris,greg.haskins,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,57600,57600,,0%,57600,57600,,,FAB-1368,,,,,,,,,FAB-129,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxbq7:",,,,,,Sprint 2,,,,,,,,,,,,,,,4.0,,,,,,,,,,,,baohua,ChristopherFerris,greg.haskins,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"20/Sep/16 2:58 AM;ChristopherFerris;[~baohua] are you working on this? Are you piggy-backing off of the baseimage work that [~greg.haskins] has been doing?;;;","20/Sep/16 4:34 AM;greg.haskins;I am in favor of this.  My proposal is to wait until the baseimage pipeline stabilizes, and then we can roll in a series of updates 1 by 1 (for instance, golang 1.7, Ubuntu 16.04, NPM 6.x, etc);;;","20/Sep/16 9:06 AM;baohua;I'm having discussions with Greg these days.

Sure we can include this change in the baseimage proposal if time allows.

I personally tested with golang1.7 and it works well.;;;","03/Oct/16 12:48 PM;ChristopherFerris;duplicate of fab-129 which has been closed;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Scalable network middleware to support efficient block dissemination.,FAB-290,12591,,Epic,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,gennadyl,gennadyl,01/Sep/16 10:01 PM,21/Jul/18 4:09 AM,28/Oct/23 2:57 AM,06/Jul/18 10:25 PM,,,Future,,fabric-gossip,,,0,communication,dessimination,gossip,,,"Story: The separation of roles to different entities stemming from the new architecture introduces the issue of reliable dissemination of information to a large and dynamic set of peers within a byzantine environment. The prime initial communication pattern being supported by this epic is the distribution of new blocks, being produced by a set of orderers, to all the peers.",,ChristopherFerris,gennadyl,grapebaba,mffrench,MHBauer,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-1723,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,Unset,ghx-label-9,,Gossip protocol,To Do,,,Unset,,,,"1|hzxbqf:",,,,Unset,Unset,,,,,,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,gennadyl,grapebaba,mffrench,MHBauer,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"06/Jul/18 9:41 PM;ChristopherFerris;[~yacovm] are we still tracking this, or can it be closed?;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Gossip communication layer API,FAB-291,12592,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,gennadyl,gennadyl,01/Sep/16 10:17 PM,21/Jul/18 3:56 AM,28/Oct/23 2:57 AM,27/Sep/16 11:29 PM,,,,,fabric-gossip,,,0,communication,gossip,,,,"As part of the work on gossip protocol there is a need to define communication layer API which will cover basic functionality of message transmission between different network entities. The story aims to capture the work on decoupling the communication layer from actual gossip protocol, providing APIs and high-level design document which describes interaction and possible use cases.  

https://gerrit.hyperledger.org/r/#/c/1181/
9c2ecfc266b3732aece962cb8e2a76a205d25bf5 ",,gennadyl,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-294,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-290,,,,,,,,,"1|hzxbqn:",,,,Unset,,Sprint 2,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,gennadyl,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Gossip membership service API,FAB-292,12593,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,gennadyl,gennadyl,01/Sep/16 10:24 PM,21/Jul/18 3:55 AM,28/Oct/23 2:57 AM,27/Sep/16 11:29 PM,,,,,fabric-gossip,,,0,api,communication,gossip,membership,,"Due to the nature of the gossip protocol there is a need to provide membership capabilities in order to reflect the presence of each node participating in the gossip and allowing node to pick neighbors to disseminate the message across the network. 

https://gerrit.hyperledger.org/r/#/c/1181/
9c2ecfc266b3732aece962cb8e2a76a205d25bf5 ",,gennadyl,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-294,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-290,,,,,,,,,"1|hzxbqv:",,,,Unset,,Sprint 2,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,gennadyl,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Gossip discovery service API,FAB-293,12594,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,gennadyl,gennadyl,01/Sep/16 10:35 PM,21/Jul/18 3:54 AM,28/Oct/23 2:57 AM,27/Sep/16 11:30 PM,,,,,fabric-gossip,,,0,api,communication,discovery,gossip,,"For each node participating in the gossip protocol to maintain updated membership there is a need to provide discovery capabilities. Therefore story will gather tasks and work items to define gossip discovery API and interaction with membership service

https://gerrit.hyperledger.org/r/#/c/1181/
9c2ecfc266b3732aece962cb8e2a76a205d25bf5 ",,gennadyl,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-294,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-290,,,,,,,,,"1|hzxbr3:",,,,Unset,,Sprint 2,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,gennadyl,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Gossip protocol design.,FAB-294,12595,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,gennadyl,gennadyl,01/Sep/16 10:41 PM,21/Jul/18 3:53 AM,28/Oct/23 2:57 AM,07/Dec/16 12:54 AM,,,,,fabric-gossip,,,0,api,communication,gossip,protocol,,"Story captures the work on providing high level design documentation describing relationship and interactions between different components such as discovery, membership and communication layer. Furthermore the actual implementation of the gossip protocol.",,gennadyl,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-292,FAB-291,FAB-293,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-290,,,,,,,,,"1|hzx8b3:",,,,Unset,,Sprint 2,Sprint 3,Sprint 4 - Gossip,Sprint 5 - gossip,Sprint 6 - Gossip,,,,,,,,,,,,Unset,,,,,,,,,,,gennadyl,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
TLS environment variables not propagated to membersrc,FAB-295,12596,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,mastersingh24,rennman,rennman,02/Sep/16 12:01 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,03/Sep/16 8:35 AM,,,,,,,,0,,,,,,"I have a 4-peer network with membersrvc. I haven't systematically checked all the environment variables against the config, so I'm concerned there may be others. However, I'm sure that at least these two are problematic:

CORE_SERVER_TLS_CERT_FILE 
   and
CORE_SERVER_TLS_KEY_FILE
are not getting picked up by membersrvc. I am forced to code
        # TLS certificate and key file paths
        tls:
            cert:
                file: /var/hyperledger/production/.membersrvc/tlsca.cert
            key:
                file: /var/hyperledger/production/.membersrvc/tlsca.priv
in the membersrvc.yaml file

Note that this seems only affect membersrcv. The TLS environment variables for the peer apparently work fine.

If I start with only the TLS environment variables set in membersrvc.yaml, the peers are enabled for TLS, but membersrvc is not. membersrvc generates errors like the following when the peers try to connect:
2016/09/01 14:38:09 transport: http2Server.HandleStreams received bogus greeting from client: ""\x16\x03\x01\x00\x9a\x01\x00\x00\x96\x03\x03\xc2'\xc6\x12/֠\xc1\x04N\xe6B\x8c""

and the peer complains:
2016/09/01 14:57:10 grpc: ClientConn.resetTransport failed to create client transport: connection error: desc = ""transport: tls: first record does not look like a TLS handshake""; Reconnecting to ""9.42.103.39:30112""



However if I start with the corresponding TLS parms in the membersrvc.yaml file (the single delta) the peers register successfully.
14:49:32.731 [crypto] Debugf -> DEBU 037 [validator.test_vp0] Registration of node [%!s(crypto.NodeType=2)] with name [test_vp0] completed

For completeness sake, here are all of the start parameters for membersrcv and the peers.
The locally built docker images are 'ca' and 'peer'.

In the startup script, membersrvc is started with:

docker -H 9.42.103.17:3376 run --name=vpca --restart=unless-stopped -d -it -p 7054 -p 7051 \
-e CORE_PEER_ID=vpca \
-e CORE_SERVER_TLS_CERT_FILE=/var/hyperledger/production/.membersrvc/tlsca.cert \
-e CORE_SERVER_TLS_KEY_FILE=/var/hyperledger/production/.membersrvc/tlsca.priv \
-e CONFIG_URL=9.42.103.17/config \
-e OBCCA_SERVER_VERSION=1.1 ca start.sh 

and the peers:

docker -H 9.42.103.17:3376 run --name=vp0 --restart=unless-stopped -d -it -p 7050 -p 7051 \
-e CORE_OBCPBFT_GENERAL_N=4 \
-e CONFIG_URL=9.42.103.17/config \
-e CORE_VM_ENDPOINT=tcp://9.42.103.17:3376 \
-e CORE_PEER_ID=vp0 \
-e CORE_PEER_ADDRESSAUTODETECT=false \
-e CORE_PEER_LISTENADDRESS=0.0.0.0:7051 \
-e CORE_SECURITY_ENABLED=true \
-e CORE_SECURITY_ENROLLID=test_vp0 \
-e CORE_SECURITY_ENROLLSECRET=MwYpmSRjupbT\
-e CORE_PEER_PKI_ECA_PADDR=9.42.103.39:30100 \
-e CORE_PEER_PKI_TCA_PADDR=9.42.103.39:30100 \
-e CORE_PEER_PKI_TLSCA_PADDR=9.42.103.39:30100 \
-e CORE_VM_DOCKER_TLS_ENABLED=true \
-e CORE_VM_DOCKER_TLS_CA_FILE=/certs/ca.pem \
-e CORE_VM_DOCKER_TLS_CERT_FILE=/certs/cert.pem \
-e CORE_VM_DOCKER_TLS_KEY_FILE=/certs/key.pem \
-e CORE_PEER_TLS=true -e CORE_PEER_TLS_ENABLED=true \
-e CORE_PEER_TLS_CERT_FILE=/certs/tlsca.cert \
-e CORE_PEER_TLS_KEY_FILE=/certs/tlsca.priv \
-e CORE_PEER_PKI_TLS_ENABLED=true \
-e CORE_PEER_PKI_TLS_ROOTCERT_FILE=/certs/tlsca.cert \
-e CORE_PEER_TLS_SERVERHOSTOVERRIDE=tlsca \
-e CORE_PEER_PKI_TLS_SERVERHOSTOVERRIDE=tlsca \-e CORE_SECURITY_PRIVACY=true peer start.sh",,mastersingh24,rennman,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxbrb:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mastersingh24,rennman,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"03/Sep/16 8:34 AM;mastersingh24;The environment variable prefix for membersrvcs is not *CORE* but rather *MEMBERSRVC_CA* ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
bring https://github.com/hyperledger/fabric-test-resources to gerrit,FAB-297,12598,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ryjones,ChristopherFerris,ChristopherFerris,02/Sep/16 2:55 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,09/Sep/16 9:49 AM,,,,,,,,0,build-system,,,,,We need bring https://github.com/hyperledger/fabric-test-resources into gerrit and mirror.,,ChristopherFerris,ryjones,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxbrr:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,ryjones,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"07/Sep/16 6:37 AM;ryjones;[~ChristopherFerris] I created the [project in Gerrit|https://gerrit.hyperledger.org/r/#/admin/projects/fabric-test-resources]. Do you want the same +2+2 rules as fabric, or do you want to use the NACR rules like fabric-api is using?

Feel free to squash and upload as you wish. Once this is done, I'll archive the github project;;;","09/Sep/16 5:33 AM;ryjones;[~ChristopherFerris] who should be the committers for this project?;;;","09/Sep/16 9:49 AM;ryjones;2+2 and same committers as fabric per [~ChristopherFerris];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
ignore this ,FAB-299,12600,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,jjjjibm,jjjjibm,02/Sep/16 3:04 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,02/Sep/16 3:14 AM,,,,,,,,0,,,,,,"Environment is Win7 laptop running Vagrant/Ubuntu   using Fabric05 driver and hfc 0.0.2

This one should have gone into github/Fabric05, not Jira.  I will see if I can cancel this one. ",,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxbs7:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Solve the ""can't find hyperledger/fabric-baseimage:latest"" issue when not in vagrant",FAB-300,12601,,Task,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,greg.haskins,jimthematrix,jimthematrix,02/Sep/16 4:25 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,03/Feb/17 11:02 PM,,,,,,,,0,build-system,,,,,"This issue comes up in two circumstances (maybe more):
- if you want to ""make fabric"" or ""make images"" outside of vagrant
- if you try to use a docker-based setup (for peers and membersrvc), all seems fine until you try to deploy a chaincode, where the peer running inside docker is trying to set up another docker instance for the chaincode

in both cases you encounter the error that the image hyperledger/fabric-baseimage:latest is not available. One had to work around it by pulling the "":x86_64-0.0.x"" tag and re-tag is to ""latest"". but that's no obvious at all.

can this experience be improved?
",,ChristopherFerris,greg.haskins,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,28800,28800,,0%,28800,28800,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx8s7:",,,,,,Sprint 1,Sprint 2,Sprint 3,,,,,,,,,,,,,1.0,,,,,,,,,,,,ChristopherFerris,greg.haskins,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"24/Sep/16 9:02 AM;ChristopherFerris;[~jimthematrix] is this still a problem? We were in transition with the fabric-baseimage build pipeline and that has now been settled. It should have a latest tag and a specific version tag. Please confirm;;;","12/Oct/16 5:15 AM;greg.haskins;Point 2 should be tracked here:

https://jira.hyperledger.org/browse/FAB-678

Point 1 - Generally, I would take the position that we will only ""officially"" support building within the vagrant devenv (because it's probably the only sane way to manage this with the resources at hand for the time being).  That said, I would gladly help someone figure out what might be the problem with their environment.  Can more information be provided on what build failures are being observed?;;;","03/Feb/17 11:02 PM;greg.haskins;Point 1 was addressed long ago and point 2 is being tracked in FAB-678.  Will close this one.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
need to include branches in mirror,FAB-301,12602,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ChristopherFerris,ChristopherFerris,ChristopherFerris,02/Sep/16 7:57 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,09/Sep/16 9:50 AM,,,,,,,,0,build-system,,,,,need to have branches reflected in GH mirror ,,ChristopherFerris,ryjones,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxa7j:",,,,,,Sprint 1,,,,,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,ryjones,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"12/Sep/16 3:50 AM;ryjones;github mirroring is working directly from gerrit, instead of shell scripts.;;;","12/Sep/16 4:25 AM;ChristopherFerris;awesome, thanks!;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Event block-listener panic when receive rejection event,FAB-302,12603,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jiangyaoguo,jiangyaoguo,jiangyaoguo,02/Sep/16 8:14 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,01/Dec/16 3:48 PM,,,,,,,,0,,,,,,"Listen events with ""./block-listener -events-address=172.17.0.2:7053"". If a rejection event occur, the block-listener will panic like below:
 panic: runtime error: invalid memory address or nil pointer dereference
[signal 0xb code=0x1 addr=0x0 pc=0x401eaf]

goroutine 1 [running]:
panic(0x94e120, 0xc82000c0c0)
	/gopath/src/runtime/panic.go:481 +0x3e6
main.main()
	/git/src/github.com/hyperledger/fabric/examples/events/block-listener/block-listener.go:118 +0x48f
",,ChristopherFerris,jiangyaoguo,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxbsf:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,jiangyaoguo,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"11/Sep/16 5:00 AM;ChristopherFerris;https://gerrit.hyperledger.org/r/#/c/903;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
ERROR: function declared but not used in asset_management.go,FAB-303,12604,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,hgabre,rameshthoomu,rameshthoomu,03/Sep/16 2:16 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,05/Sep/16 7:25 PM,,,,,,,,0,node-SDK,,,,,"observed below error while running *node-sdk-unit-tests* in convergence branch.

01:04:23.764 # github.com/hyperledger/fabric/examples/chaincode/go/asset_management
01:04:23.764 ./asset_management.go:42: function declared and not used

attached Jenkins build log: https://jenkins.hyperledger.org/job/fabric-verify-x86_64/857/console",,mastersingh24,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxbsn:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mastersingh24,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"05/Sep/16 7:25 PM;mastersingh24;fixed by https://gerrit.hyperledger.org/r/#/c/885/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
TestHTTPExecuteDeployTransaction failing on master,FAB-305,12606,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,mastersingh24,mastersingh24,mastersingh24,04/Sep/16 3:37 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,15/Mar/17 11:24 PM,,,WON'T FIX,,,,,0,build-system,chaincode,,,,"https://gerrit.hyperledger.org/r/#/c/811/  introduced a breaking change for unit tests on master.

TestHTTPExecuteDeployTransaction is failing on the master branch because it passing http://github.com/hyperledger/fabric-test-resources/examples/chaincode/go/chaincode_example01 in as a parameter.  This would be ok since it is trying to test getting remote chaincode, but the issue is that the chaincode in that repo is implementing new interface(s) / method(s) based on the convergence branch.




",,ChristopherFerris,mastersingh24,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,";06/Sep/16 4:38 AM;mastersingh24;1200",,3600,2400,1200,33%,3600,2400,1200,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"05/Sep/16 5:52 AM;muralisr;screenshot-1.png;https://jira.hyperledger.org/secure/attachment/10059/screenshot-1.png",,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx8sf:",,,,,,Sprint 1,Sprint 2,Sprint 3,,,,,,,,,,,,,1.0,,,,,,,,,,,,ChristopherFerris,mastersingh24,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"04/Sep/16 3:53 AM;mastersingh24;There are 2 solutions to this problem:

1) Instead of using hyperledger/fabric-test-resources, move back to using hyperledger/fabric

This seems to be the cleanest option since we can avoid having to deal with 2 different repos.

2) Modify the chaincode in fabric-test-resources to work with master rather than the convergence branch

This fixes master but then breaks convergence

I am going to go with option 1 because as I have said in other conversations somebody need to solve the chaincode versioning problem if we are going to break the chaincode interface on different releases / branches;;;","04/Sep/16 3:59 AM;mastersingh24;[~ChristopherFerris] [~greg.haskins] [~muralisr] any of you guys have a preference on solution?   IMHO this is pretty urgent because CI will continue to fail for master;;;","04/Sep/16 5:48 AM;mastersingh24;well just for posterity, I realized the obvious error in choosing option 1 - it won't actually appear to be remote code outside of the actual build tree.

So looks like we need to use a different repo (hence the use of fabric-test-resources in the first place), but now we are back to conflict between master and convergence branches.

so looks like we need to minimally have different folders for different example resources for this to work;;;","04/Sep/16 9:30 PM;mastersingh24;I am going to push a fix for this.  I am going with using gopkg.in and branches in a repo for us to ""version"" the package.  I am using a fork of the fabric-test-resources repo for now since there are no branches or tags in the main repo;;;","05/Sep/16 5:53 AM;muralisr;[~mastersingh24] Create two versions of chaincode_example01 and have TestHTTPExecuteDeployTransaction in the two branches to point to the appropriate one ? That's all we need right ?

On a different note, one thing I don't get. How did the second build after reverify succeed in the change set https://gerrit.hyperledger.org/r/#/c/811/  ?

 !screenshot-1.png|thumbnail! ;;;","05/Sep/16 6:08 AM;mastersingh24;[~muralisr]  You are correct in that in the end what we need are different versions of the chaincode implementing the interface(s) appropriate for their branch.   But we REALLY need to come up with a method / convention for how we are going to do this so that these things don't slip through the cracks.    And I will continue to reiterate that we can't keep changing the interface without proper tagging / versioning / etc or creating a template chaincode project which vendors dependencies.   This CONTINUES to be a problem with our lack of releases, tags, etc and what I conider willy / nilly changes (without documenting why in a JIRA entry) to the interface(s) in the first place

;;;","05/Sep/16 6:10 AM;mastersingh24;Oh - and yeah - I have no idea how something pass once and then failed later.  Odd.  Perhaps the version of chaincode in the fabric-test-resources was for master at the time and then later the version for convergence was pushed;;;","05/Sep/16 7:19 PM;mastersingh24;https://gerrit.hyperledger.org/r/#/c/901/   is a temporary fix for this;;;","06/Sep/16 5:37 AM;ChristopherFerris;merged;;;","06/Sep/16 5:38 AM;ChristopherFerris;changed priority to medium, there's a temporary fix in, but we need a long term solution to versioning chaincode apis across branches.;;;","15/Mar/17 11:23 PM;mastersingh24;no longer relevant;;;",,,,,,,,,,,,,,,,,,,,,,,
Users are unable to get TxID from stub,FAB-306,12607,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,hgabre,hgabre,hgabre,05/Sep/16 8:05 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,07/Apr/17 9:50 PM,,,v0.6,WON'T FIX,,,,0,chaincode,,,,,"ChaincodeStubInterface does not provide any function to get the Transaction ID. UUID is a public field of ChaincodeStub but there should be a getter of it in the interface.
The issue was originally reported on Slack #fabric by multiple users.",,bgorman,hgabre,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,10800,10800,,0%,10800,10800,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxbsv:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,bgorman,hgabre,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"05/Sep/16 8:06 PM;hgabre;Solution proposal: https://gerrit.hyperledger.org/r/#/c/841/;;;","06/Sep/16 10:47 AM;bgorman;[~ChristopherFerris] I don't think adding functions to the ChaincodeStubInterface would interfere with existing user-written chaincode. As long as the interface is implemented correctly in ChaincodeStub and MockStub, then it should be transparent to the users code. Careful consideration is of course needed with respect to what functions are added, as removing or modifying functions will break anyone's code that utilises them.

There are a couple of additional complications though. The fabric-chaintool and fabric-test-resources github projects may need to move in lock step for certain changes.;;;","06/Sep/16 11:37 AM;bgorman;Also there is a workaround to this issue. The user could cast their ChaincodeStubInterface to a ChaincodeStub, then directly access the UUID member. Something like this:

var csi ChaincodeStubInterface
cs := ChaincodeStub(csi)
println(cs.UUID);;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
swagger generated client code can't fit fabric proto enum,FAB-307,12608,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,mintzhao,mintzhao,06/Sep/16 11:24 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,07/Apr/17 9:50 PM,,,v0.6,WON'T FIX,,,,0,rest,swaggerAPI,,,,"hi, everyone, I have a question. We know that fabric rest api is based on swagger. And so I am using swagger client generator to generate client sdk for golang. The generated code looks seems good, but can't be use.
```""ConfidentialityLevel"":{
            ""type"": ""string"",
            ""default"": ""PUBLIC"",
            ""example"": ""PUBLIC"",
            ""enum"":[
                ""PUBLIC"",
                ""CONFIDENTIAL""
              ],
            ""description"": ""Confidentiality level of the Chaincode.""
        },```

ConfidentialityLevel will be generated as
``` 
/*ConfidentialityLevel Confidentiality level of the Chaincode.

swagger:model ConfidentialityLevel
*/
type ConfidentialityLevel string

// for schema
var confidentialityLevelEnum []interface{}

func (m ConfidentialityLevel) validateConfidentialityLevelEnum(path, location string, value ConfidentialityLevel) error {
    if confidentialityLevelEnum == nil {
        var res []ConfidentialityLevel
        if err := json.Unmarshal([]byte(`[""PUBLIC"",""CONFIDENTIAL""]`), &res); err != nil {
            return err
        }
        for _, v := range res {
            confidentialityLevelEnum = append(confidentialityLevelEnum, v)
        }
    }
    if err := validate.Enum(path, location, value, confidentialityLevelEnum); err != nil {
        return err
    }
    return nil
}

// Validate validates this confidentiality level
func (m ConfidentialityLevel) Validate(formats strfmt.Registry) error {
    var res []error

    // value enum
    if err := m.validateConfidentialityLevelEnum("""", ""body"", m); err != nil {
        return err
    }

    if len(res) > 0 {
        return errors.CompositeValidationError(res...)
    }
    return nil
}
```
but vp will get
```[rest] ProcessChaincode -> ERRO 04f Error unmarshalling chaincode request payload: json: cannot unmarshal string into Go value of type protos.ConfidentialityLevel ```
Is there a solution to avoid the bug?",,mastersingh24,mintzhao,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-105,,,,,,,,,"1|hzxbt3:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mastersingh24,mintzhao,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"28/Sep/16 8:00 PM;mastersingh24;setting priority to medium given the plans for the REST API moving forward;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Gradle javaenv build hangs in a proxy environment,FAB-308,12609,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,bgorman,bgorman,06/Sep/16 2:58 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,15/Dec/16 9:50 PM,,,,,,,,0,build-system,,,,,"Gradle does not use the system $http_proxy value. When trying to `make images` it hangs indefinitely. It would be good if we could make gradle uses the system proxy setting or at least not hang indefinitely.

Instructions to get it working with a proxy would also be appreciated.
{quote}
vagrant@hyperledger-devenv:v0.0.10-84431e3:/hyperledger$ echo $http_proxy
http://1.2.3.4:3128/

vagrant@hyperledger-devenv:v0.0.10-84431e3:/hyperledger$ make images
Building docker src-image
docker build -t hyperledger/fabric-src build/image/src
Sending build context to Docker daemon  11.4 MB
Step 1 : FROM hyperledger/fabric-baseimage:latest
 ---> 656f46457a5e
Step 2 : ADD gopath.tar.bz2 $GOPATH/src/github.com/hyperledger/fabric
 ---> 7e174a22511d
Removing intermediate container 00839e52f50d
Successfully built 7e174a22511d
docker tag hyperledger/fabric-src hyperledger/fabric-src:x86_64-0.6.0-SNAPSHOT-0f959c0
Building build/image/ccenv/bin/protoc-gen-go
Installing chaintool
curl -L https://github.com/hyperledger/fabric-chaintool/releases/download/v0.9.0/chaintool > build/bin/chaintool
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
100   582    0   582    0     0    421      0 --:--:--  0:00:01 --:--:--   422
100 14.4M  100 14.4M    0     0   244k      0  0:01:00  0:01:00 --:--:--  286k
chmod +x build/bin/chaintool
Building docker ccenv-image
docker build -t hyperledger/fabric-ccenv build/image/ccenv
Sending build context to Docker daemon 20.45 MB
Step 1 : FROM hyperledger/fabric-src:x86_64-0.6.0-SNAPSHOT-0f959c0
 ---> 7e174a22511d
Step 2 : COPY bin/* /usr/local/bin/
 ---> 3093df9a8aba
Removing intermediate container 26485d45c249
Successfully built 3093df9a8aba
docker tag hyperledger/fabric-ccenv hyperledger/fabric-ccenv:x86_64-0.6.0-SNAPSHOT-0f959c0
Building build/docker/bin/peer
Building docker javaenv-image
# Following items are packed and sent to docker context while building image
# 1. Java shim layer source code
# 2. Proto files used to generate java classes
# 3. Gradle settings file
docker build -t hyperledger/fabric-javaenv build/image/javaenv
Sending build context to Docker daemon 37.89 kB
Step 1 : FROM java:openjdk-8
 ---> ea40c858f006
Step 2 : RUN wget https://services.gradle.org/distributions/gradle-2.12-bin.zip -P /tmp --quiet
 ---> Running in d52f1b73ff1e
<< hang for 30+ minutes >>
^Cmake: *** [build/image/javaenv/.dummy] Interrupt
{quote}",,bgorman,ynamiki,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,28800,28800,,0%,28800,28800,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-1411,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx8rz:",,,,,,Sprint 1,Sprint 2,Sprint 3,,,,,,,,,,,,,,,,,,,,,,,,,bgorman,ynamiki,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"15/Sep/16 3:56 PM;ynamiki;I am working on this issue:
https://gerrit.hyperledger.org/r/#/c/971/;;;","02/Dec/16 11:37 AM;ynamiki;The patch has been merged.
Now we can make behind a proxy with setting http_proxy and https_proxy environment values.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Unable to build with latest master,FAB-309,12610,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,SriramaSharma,pharshal,pharshal,06/Sep/16 7:52 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,07/Sep/16 8:04 PM,,,,,,,,0,build-system,,,,,"Failed with following error,

==> default:          
==> default:  
==> default:    
==> default:                     Dload  Upload   Total   Spent    Left  Speed
  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
100  1582  100  1582    0     0   2289      0 --:--:-- --:--:-- --:--:--  2289
==> default: 
==> default: [gmock-1.7.0.zip]
==> default:   End-of-central-directory signature not found.  Either this file is not
==> default:   a zipfile, or it constitutes one disk of a multi-part archive.  In the
==> default:   latter case the central directory and zipfile comment will be found on
==> default:   the last disk(s) of this archive.
==> default: unzip:  cannot find zipfile directory in one of gmock-1.7.0.zip or
==> default:         gmock-1.7.0.zip.zip, and cannot find gmock-1.7.0.zip.ZIP, period.
==> default: 
==> default: The command '/bin/sh -c /hyperledger/baseimage/scripts/common/setup.sh' returned a non-zero code: 9
==> default: make[1]: *** [docker] Error 9
==> default: make[1]: Leaving directory `/opt/gopath/src/github.com/hyperledger/fabric/images/base'
==> default: ERROR: Build-cache could not be compiled locally
==> default: make: *** [build/image/base/.dummy] Error 255
The SSH command responded with a non-zero exit status. Vagrant
assumes that this means the command failed. The output for this command
should be in the log above. Please read the output to determine what
went wrong.
",,ChristopherFerris,pharshal,SriramaSharma,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx9zj:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,pharshal,SriramaSharma,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"08/Sep/16 5:40 AM;SriramaSharma;While protobuf is getting built , autogen.sh pulls gmock 1.7.0 zip archive and unzips the same. Since the link to gmock 1.7.0 has been recently moved, unzip of the download tarball was failing causing build failure.

Have created https://gerrit.hyperledger.org/r/#/c/945/ to fix the issue. ;;;","11/Sep/16 3:36 AM;ChristopherFerris;this is fixed by https://gerrit.hyperledger.org/r/#/c/991 submitted by nao.nishijima@hal.hitachi.com;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Unable to create invoke request with arguments,FAB-310,12611,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,vzhou,vzhou,07/Sep/16 1:05 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,30/Sep/16 12:54 AM,,,,,,,,0,node-SDK,,,,,"I've set up my peer and member services, and I have a Node application using the Hyper Ledger SDK to connect to my peer. I've been able to set up enrollment, registration and chaincode initialization, but I can't get invoking to work. Specifically, the arguments that I pass in the Javascript won't get to the Chaincode.

I've attached the relevant chaincode (mailbox.go) and Javascript app code (app.js) in the attached files. Any help in getting it to work would be appreciated; thanks!",,vzhou,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"07/Sep/16 1:04 AM;vzhou;app.js;https://jira.hyperledger.org/secure/attachment/10060/app.js","07/Sep/16 1:04 AM;vzhou;mailbox.go;https://jira.hyperledger.org/secure/attachment/10061/mailbox.go",,,,,,,,,,,,,,,,,,,,,,,,"1|hzxbtb:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,vzhou,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"30/Sep/16 12:54 AM;vzhou;Looks like this fixed itself when I cleared everything and updated to the 0.6 branch.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
The SDK can orchestrate a v1 transaction from beginning to end via API calls,FAB-311,12612,,Epic,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,cerveny,cerveny,cerveny,07/Sep/16 1:25 AM,21/Jul/18 4:08 AM,28/Oct/23 2:57 AM,02/May/17 7:40 AM,,,DUPLICATE,,,,,0,node-SDK,,,,,,,cerveny,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-312,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,Unset,ghx-label-2,,SDK can orchestrate a v1 transaction from beginning to end,To Do,,,Unset,,,,"1|hzxbtj:",,,,Unset,Unset,,,,,,,,,,,,,,,,,,,,,,,,,,,,cerveny,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[node-SDK] Support v1.0 APIs - part II,FAB-312,12613,,Story,Closed,FAB,Fabric,software,denyeart,,,High,Done,,jimthematrix,jimthematrix,07/Sep/16 1:37 AM,21/Jul/18 3:54 AM,28/Oct/23 2:57 AM,06/Nov/16 11:03 PM,,,,,fabric-sdk-node,,,0,node-SDK,,,,,,,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-253,,,,,,,,,FAB-311,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzxbtr:",,,,Unset,,Sprint 4 - nodeSDK,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As a solution architect, I would like to enable basic confidentiality policies to run on the new architecture",FAB-313,12614,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,elli-androulaki,elli-androulaki,07/Sep/16 1:52 AM,23/Jan/20 3:38 AM,28/Oct/23 2:57 AM,23/Jan/20 3:38 AM,,,Abandoned,WON'T FIX,fabric-crypto,,,0,Security,stale-item,,,,,,elli-androulaki,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzxbtz:",,,,Unset,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,elli-androulaki,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"13/Apr/17 3:17 AM;elli-androulaki;This is post v1.1.;;;","12/Sep/18 6:57 PM;elli-androulaki;This is no longer relevant.;;;","23/Jan/20 3:38 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add ESCC and VSCC support to endorse BDD,FAB-314,12615,12482,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,jeffgarratt,jeffgarratt,07/Sep/16 5:20 AM,23/Jan/20 3:39 AM,28/Oct/23 2:57 AM,23/Jan/20 3:39 AM,,,,,fabric-peer,,,0,Endorser,stale-item,,,,Need to add ESCC and VSCC selection support to endorser feature.,,ChristopherFerris,jeffgarratt,muralisr,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxbu7:",,,,,,Sprint 1,Sprint 2,,,,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,jeffgarratt,muralisr,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"02/May/17 7:42 AM;ChristopherFerris;Is this done? [~jeffgarratt] [~bmos299];;;","29/Jun/17 1:01 AM;muralisr;I think this is done.... 

{code:java}
    @FAB-314
        Scenario Outline: Advanced deploy endorsement with ESCC for chaincode through GRPC to single endorser

            Given we compose ""<ComposeFile>""
        And I register with CA supplying username ""binhn"" and secret ""7avZQLwcUe9q"" on peers:
          | vp0  |
{code}
[~jeffgarratt]  [~bmos299];;;","23/Jan/20 3:39 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
enablement for ppc64le,FAB-315,12616,,Task,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,SriramaSharma,ChristopherFerris,ChristopherFerris,07/Sep/16 5:49 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,23/Sep/16 1:59 AM,,,v0.6,,,,,0,build-system,,,,,https://gerrit.hyperledger.org/r/#/c/835/ should be ported to v0.6. This is one of the last features we agreed to add to v0.6.,,ChristopherFerris,SriramaSharma,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx9hr:",,,,,,Sprint 1,Sprint 2,,,,,,,,,,,,,,2.0,,,,,,,,,,,,ChristopherFerris,SriramaSharma,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"11/Sep/16 2:56 PM;SriramaSharma;Have cherry-picked the patch from master to v0.6  branch -- https://gerrit.hyperledger.org/r/#/c/995/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Intermittant Concurrent Read/Write during Unit tests,FAB-316,12617,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,juliancarrivick,juliancarrivick,07/Sep/16 12:01 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,02/May/17 4:40 AM,,,WON'T FIX,,fabric-crypto,,,0,,,,,,"During Unit tests very occasionally there will be a {{concurrent map read and map write
}} during the crypto tests causing a failure unrelated to the original change.

A copy of associated logs is attached.",,elli-androulaki,juliancarrivick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"07/Sep/16 11:59 AM;juliancarrivick;consoleText.log;https://jira.hyperledger.org/secure/attachment/10064/consoleText.log",,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx6i7:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,elli-androulaki,juliancarrivick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"11/Apr/17 3:49 AM;elli-androulaki;Hi, [~juliancarrivick],
Is this bug still valid?
;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[node-SDK] Technical debt,FAB-318,12619,,Story,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,jimthematrix,jimthematrix,jimthematrix,08/Sep/16 3:59 AM,21/Jul/18 3:54 AM,28/Oct/23 2:57 AM,12/Sep/16 10:32 PM,,,,,fabric-sdk-node,,,0,node-SDK,,,,,"This will help with creating a cleaner workspace for node.js developers working on the node.js SDK, and eliminate sub-optimal parts that are prone to breaks:
- build scripts that does -g installs
- reliance on vagrant
- ""make"" based build scripts are not best suited for node.js development",,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,288000,172800,,0%,345600,230400,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzx8nb:",,,,Unset,,Sprint 1,Sprint 2,Sprint 3,Sprint 4 - nodeSDK,,,,,,,,,,,,8.0,Unset,,,,,,,,,,,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Plan on consensus protocol improvement.,FAB-319,12620,,Story,Closed,FAB,Fabric,software,denyeart,,,Lowest,Done,,dinghaiyang84,dinghaiyang84,08/Sep/16 6:32 PM,21/Jul/18 3:55 AM,28/Oct/23 2:57 AM,04/Oct/16 11:13 PM,,,,,fabric-orderer,,,0,Consensus,,,,,"Hi folks, I am new to the community and I started this issue to have a discussion over the consensus design & planning in Fabric. Hopefully people can share some insights, in any form, so that I (as well as other potential readers) could have a better view about the consensus in Fabric.
My colleagues and I, we are trying to build a blockchain system with Fabric. Our business scenario requires the TPS to be at least 10k/s, however our current test on Fabric shows that it only supports a TPS of around 100/s (built-in pbft, 4 nodes). I know that there are some consensus algorithms that are able to reach several k/s TPS or even higher, e.g. Tendermint, Ripple, Aliph (in “The Next 700 BFT Protocols”), XFT (in “XFT: Practical Fault Tolerance Beyond Crashes”), to name a few. Here is my question:

*How the Fabric community thinks about improving the throughput of the consensus algorithm?*

To be more specific, it would be great if people could discuss about the following (or just give me some links/refs):
1.	Are we going to adopt other high performance consensus protocols in Fabric’s community version? If yes, which protocols? Is there a milestone?
2.	If there is no plan to adopt high performance consensus protocols in the community version, is there going to be a commercial version that adopts them? There is rumor saying that IBM has an internal consensus protocol which reaches over 100k/s. Given the many publications done by IBM researchers, I’d personally think this rumor is not far from reality.
3.	Any other insights are welcome as well, including but not limited to those like, “100k/s is a lie, not theoretically possible”, “I’d like to hear other’s options” and so on. Or just giving me some other references is great!

FWIW, I have read the issue [Consensus endorsing, consenting, and committing model](https://jira.hyperledger.org/browse/FAB-37?jql=text%20~%20%22consensus%22), and I have read a doc of “Next-Consensus-Architecure-Proposal” when Fabric was hosted at Github, but I cannot find it anymore. It said that Fabric is going to adopt XFT and Aliph, but since I cannot find it, I am not sure if it still counts.

Thanks for reading the post, please leave your comments.
",,corecode,dinghaiyang84,kchristidis,tuand,vzbarsky,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzxbx3:",,,,Unset,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,corecode,dinghaiyang84,kchristidis,tuand,vzbarsky,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"08/Sep/16 9:59 PM;tuand;The next architecture proposal is at https://github.com/hyperledger-archives/fabric/wiki/Next-Consensus-Architecture-Proposal

and is being actively discussed in the hyperledger architecture workgroup;;;","08/Sep/16 10:04 PM;corecode;the 100tps is not because of slow consensus, because of slow chaincode execution.

I don't think 100ktps is a realistic number for wide area deployment with many nodes.;;;","09/Sep/16 10:27 AM;dinghaiyang84;[~tuand] Thanks for providing the link, and I think I will attend the architecture workgroup to learn more.;;;","09/Sep/16 10:31 AM;dinghaiyang84;[~corecode] Hi, thank you. If 100ktps is not realsitic, I think it is still very attractive if Fabric achieves the throughput of several ktps, as presented in the papers I listed above. Anyway, I will go to the arch workgroup to learn more about this topic.;;;","30/Sep/16 1:57 PM;kchristidis;Will be closing this in the next few days unless there are any objections.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[node-SDK] Support v1.0 APIs - part I,FAB-324,12625,,Story,Closed,FAB,Fabric,software,denyeart,,,High,Done,,jimthematrix,jimthematrix,09/Sep/16 3:00 AM,21/Jul/18 3:53 AM,28/Oct/23 2:57 AM,21/Oct/16 9:23 PM,,,,,,,,0,node-SDK,,,,,,,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FABN-690,,,,,,,,,"1|hzx8wf:",,,,Unset,,Sprint 2,Sprint 3,,,,,,,,,,,,,,,Unset,,,,,,,,,,,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Create Rawledger API,FAB-325,12626,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,09/Sep/16 5:09 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,09/Sep/16 5:18 AM,,,,,fabric-orderer,,,0,consensus,,,,,"Create a Rawledger API which can be used by any orderer.

This should also cover moving the ramledger implementation of Solo out into its own package, and converting solo to depend on the new abstraction.",,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,57600,14400,,0%,57600,14400,,,,,,,,,,,,,,,,,,,,,,FAB-150,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx9fb:",,,,,,Sprint 1,,,,,,,,,,,,,,,2.0,,,,,,,,,,,,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"09/Sep/16 5:11 AM;jyellick;See https://gerrit.hyperledger.org/r/#/c/925/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Create File Backed Raw Ledger Implementation,FAB-326,12627,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,09/Sep/16 5:12 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,09/Sep/16 5:18 AM,,,,,fabric-orderer,,,0,consensus,,,,,"The RAM backed implementation may have some test problems for any environment where the orderer must be allowed to crash and return to working.  Because of this, we need a file backed version.",,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-150,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx9fj:",,,,,,Sprint 1,,,,,,,,,,,,,,,,,,,,,,,,,,,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"09/Sep/16 5:14 AM;jyellick;See https://gerrit.hyperledger.org/r/#/c/955/1;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Allow runtime ledger selection for solo,FAB-327,12628,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,09/Sep/16 5:14 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,09/Sep/16 5:18 AM,,,,,fabric-orderer,,,0,Consensus,,,,,Basically hooking together the work of abstracting out the ledger api and creating the file based raw ledger.  This final piece actually lets solo start up with whichever ledger as specified.,,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-150,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx9f3:",,,,,,Sprint 1,,,,,,,,,,,,,,,,,,,,,,,,,,,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"09/Sep/16 5:15 AM;jyellick;See https://gerrit.hyperledger.org/r/#/c/957/1;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
core/comm/connection_test.go TestConnection_Correct fails with TLS enabled,FAB-329,12630,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,bgorman,bgorman,09/Sep/16 5:21 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,07/Apr/17 9:49 PM,,,v0.6,WON'T FIX,,,,0,,,,,,"With peer/core.yaml modified to contain
security:
    enabled: true
    privacy: true

The unit test core/comm/connection_test.go TestConnection_Correct fails:

2016/09/09 07:58:20 setting Number of procs to -1, was 2
2016/09/09 07:58:21 grpc: addrConn.resetTransport failed to create client transport: connection error: desc = ""transport: dial tcp 0.0.0.0:7051: getsockopt: connection refused""; Reconnecting to {""0.0.0.0:7051"" <nil>}
2016/09/09 07:58:23 grpc: addrConn.resetTransport failed to create client transport: connection error: desc = ""transport: dial tcp 0.0.0.0:7051: getsockopt: connection refused""; Reconnecting to {""0.0.0.0:7051"" <nil>}
2016/09/09 07:58:23 grpc: addrConn.resetTransport failed to create client transport: connection error: desc = ""transport: dial tcp 0.0.0.0:7051: getsockopt: connection refused""; Reconnecting to {""0.0.0.0:7051"" <nil>}
--- FAIL: TestConnection_Correct (3.01s)
        connection_test.go:23: error connection to server at host:port = 0.0.0.0:7051
2016/09/09 07:58:23 setting Number of procs to -1, was 2
2016/09/09 07:58:24 grpc: addrConn.resetTransport failed to create client transport: connection error: desc = ""transport: dial tcp 0.0.0.0:7052: getsockopt: connection refused""; Reconnecting to {""0.0.0.0:7052"" <nil>}
2016/09/09 07:58:26 grpc: addrConn.resetTransport failed to create client transport: connection error: desc = ""transport: dial tcp 0.0.0.0:7052: getsockopt: connection refused""; Reconnecting to {""0.0.0.0:7052"" <nil>}
FAIL

I find it somewhat concerning that the configuration files affect the unit tests. Typically I'd expect the unit tests to dictate configuration options, testing each in turn.",,bgorman,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxbvb:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,bgorman,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
JIRA places in-progress status items into 'Done' resolution state,FAB-330,12631,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ryjones,ChristopherFerris,ChristopherFerris,10/Sep/16 1:58 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,20/Sep/16 12:11 AM,,,,,,,,0,build-system,,,,,JIRA incorrectly places in-progress status items into 'Done' resolution state,,ChristopherFerris,ryjones,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,28800,28800,,0%,28800,28800,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxa5r:",,,,,,Sprint 1,,,,,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,ryjones,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"12/Sep/16 4:51 AM;ryjones;example issue?;;;","12/Sep/16 5:02 AM;ryjones;ah ha, I see;;;","12/Sep/16 6:03 AM;ChristopherFerris;#allofthem :-);;;","19/Sep/16 9:55 PM;ChristopherFerris;I believe I have figured this out. I just transitioned this to in-progress without it setting resolution. There was a checkbox in Kanban view that was ticked that 'set resolution'. I unchecked it. Seems to have solved the issue.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
acknowledged Invokes can sometimes be lost,FAB-331,12632,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,scottz,scottz,10/Sep/16 3:15 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,27/May/17 2:52 AM,v0.6,,WON'T FIX,,fabric-orderer,,,0,0.6,qa,,,,"Problem Summary
Invoke transactions submitted by chaincode clients, which are acknowledged with a transaction ID, should not get lost or dropped. 
Also, I would hope that an event notification would provide an indication when the invoke transaction is either processed or dropped/rejected, should the client wish to monitor events.

This issue is a port to Jira from GitHub hyperledger fabric issue #2148 https://github.com/hyperledger-archives/fabric/issues/2148

Description How To Reproduce
This problem can be reproduced using my GO SDK testcase CRT_502_StopAndRestart1or2_10Hrs.go. This testcase uses a docker network of 4 peers running in batch mode with security, using exampe02. It cycles through 4 peers, sequentially stopping and restarting them via REST calls, and occasionally stopping two peers at once. It sends invokes and queries requests throughout the testcase. Two Invoke transactions, which are queued during the time when only 2 peers are operating, appear to be lost, permanently. Network nodes do resume consensus and catch up with each other, but sometimes the network loses invoke transactions.

STOP PEERS(): PEER0
START PEERS(): PEER0
STOP PEERS(): PEER0 PEER1
START PEERS(): PEER0 PEER1
STOP PEERS(): PEER2
START PEERS(): PEER2
STOP PEERS(): PEER3
START PEERS(): PEER3
STOP PEERS(): PEER0
START PEERS(): PEER0
STOP PEERS(): PEER1
START PEERS(): PEER1
STOP PEERS(): PEER2 PEER3
START PEERS(): PEER2 PEER3
QUERY RESULTS: 
FAIL on PEER0: EXPECTED/ACTUAL: A=999894/999896, B=1000106/1000104. **FAIL**
FAIL on PEER1: EXPECTED/ACTUAL: A=999894/999900, B=1000106/1000100. **FAIL**
FAIL on PEER2: EXPECTED/ACTUAL: A=999894/999896, B=1000106/1000104. **FAIL**
FAIL on PEER3: EXPECTED/ACTUAL: A=999894/999896, B=1000106/1000104. **FAIL**",,ChristopherFerris,mastersingh24,scottz,vukolic,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-474,,,,,,,,,,,,,,"10/Sep/16 3:15 AM;scottz;CRT_502_StopAndRestart1or2_10Hrs.go;https://jira.hyperledger.org/secure/attachment/10073/CRT_502_StopAndRestart1or2_10Hrs.go",,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxdpr:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,mastersingh24,scottz,vukolic,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"29/Sep/16 3:34 AM;mastersingh24;removing .6 label.  this is not simply a bug fix;;;","29/Oct/16 1:57 AM;scottz;Acknowledged invokes can be lost in other test scenarios too. For example, it is seen in v0.6 testing occasionally using these concurrency tests:
* run_conc4p1min400Thrd_LOCAL.sh
* run_conc4p1min1000Thrd1TxPerLoop_LOCAL.sh
and always using these tests involving certain restart scenarios:
* CAT_407_S0S1S2_D_I_R0R1_IQ.go
* CAT_409_S1S2S3_D_I_R1R2_IQ.go
* CAT_412_S0S1S2_D_I_R1R2_IQ.go
Reference: release_criteria tests and documentation, planned to be published soon to folders hyperledger/fabric/bddtests/regression/go/obcsdk/CAT/ and ../ledgerstresstest/ ;;;","19/Dec/16 7:21 PM;vukolic;related to https://jira.hyperledger.org/browse/FAB-474;;;","02/May/17 7:44 AM;ChristopherFerris;can we confirm that this is still a bug?;;;","03/May/17 9:53 PM;scottz;The entire ordering service has changed. This bug applies to the v0.6 implementation only.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
single-client-single-peer transaction sequencing,FAB-332,12633,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,scottz,scottz,10/Sep/16 3:45 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,28/Sep/16 7:57 PM,,,,,fabric-orderer,,,0,0.6,consensus,won't-fix,,,"Problem Summary
It seems transactions are processed out of order, which would impact user use-cases. Invokes that are received by a specific peer node (while not enough nodes for consensus are running) from single chaincode client are queued and processed eventually after the other nodes recover and consensus resumes - BUT not until a few minutes later. In the meantime, the network processes some new invoke transactions received by all the peer nodes (including the one that had not dropped and that had received and queued a backlog, as well as the newly recovered nodes).

This issue is a port to Jira from GitHub hyperledger fabric issue #2265 https://github.com/hyperledger-archives/fabric/issues/2265

Description How To Reproduce
My GO SDK testcases use a docker network of 4 peers running in batch mode with security, using exampe02. This was originally found using v0.5 commit image  5efed61, but can be reproduced using later releases. (My testcase has since been renamed to CAT_302_S0S1S2_IQ_R0R1_IQIQ.go, which is attached for reference).
The actual GO testcase and script output and debug logfiles are attached to the archived github issue.
Search for the string ""+++"" for key steps in the file: GO_TEST__CAT_31A_S0S1S2_IQ_R0R1s_IQsQIQ.go__WedJul2022:09:13UTC2016 in the zipfile QdTransOutOfOrder2.tar.gz

Here is the basic idea:

Start 4 node security network using vagrant with docker containers running chaincode_example02.
Stop VP0, VP1, VP2.
Send 50 invokes to VP3.
Restart VP0, VP1.
Send 1 Invoke to VP0.
Send 2 Invokes to VP1.
Send 8 Invokes to VP3.
Query all peers and see that 11 were processed (instead of 61).
Wait 2 or 3 more minutes, and query again and observe that 61 were processed.
Expectations: Once peers restart and consensus resumes, I think that that any queued transactions on VP3 should be processed before new ones, not 3 minutes later.

An analogy: With $5 in my bank account, if I deposited $50 into my account, and then later go to the same bank teller to make an $11 withdrawal, I would expect the $50 to be available for withdrawal. I would not want to be charged an overdraft fee by the bank if the bank teller has set aside or misplaced my cash deposit (which they acknowledged receiving by giving me a receipt). If the bank rejects or delays processing my newer withdrawal request, then that is OK. But it would not be right if they process it and send my account balance below zero (and thus charge me an overdraft fee) before the previously deposited money is actually put into my account.

Some comments on the github issue history indicate it may not be a guarantee we can provide in an asynchronous system - and thus is an invalid expectation. Please confirm if this is true in the new architecture, and if the chaincode client could or should manage the sequencing itself by monitoring event notifications for the earlier transactions - so it could delay submitting any of the later transactions that happen to be dependent upon the completion of an earlier one.",,mastersingh24,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"10/Sep/16 3:45 AM;scottz;CAT_302_S0S1S2_IQ_R0R1_IQIQ.go;https://jira.hyperledger.org/secure/attachment/10074/CAT_302_S0S1S2_IQ_R0R1_IQIQ.go",,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxbvj:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mastersingh24,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"28/Sep/16 7:56 PM;mastersingh24;The guarantee is that all transactions will be processed in the same order by all well-behaving nodes.  There is no order guaranteed in terms of when the transaction was submitted;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
transactions queued while only one peer running are lost when restarting all three other peers,FAB-333,12634,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,scottz,scottz,10/Sep/16 4:01 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,08/Apr/17 5:06 AM,,,WON'T FIX,,fabric-orderer,,,0,0.6,,,,,"Problem Summary

The network loses any Invoke requests sent to the single running peer node, after stopping the other 3 peers of a 4 node network. The problem is observed in both testcase variations whether the VP0 is the only running node, or when VP3 is the only running node.

The problem is observed ONLY when we restart the other 3 nodes ALL AT THE SAME TIME. In contrast, running a similar testcase, if we stop 3, send invokes, and restart only 2 (so there are exactly 3 peers running now), then the transactions are processed ok (as expected).

This issue is a port to Jira from GitHub hyperledger fabric issue #2308 https://github.com/hyperledger-archives/fabric/issues/2308

How To Reproduce

Set up a 4 peer network, pbft batch (batchsize 2) with security using docker containers in vagrant environment, running chaincode-example02. For reference, I can reproduce using my GO SDK testcase called CAT_305_S1S2S3_IQ_R1R2R3_IQ.go, attached. 

# Start 4 peers running
# invokes
# query
# stop 3 peers
# invokes 50 to the only running peer
# restart 3 peers, so all 4 are running again
# invokes, queries, sleeps
# confirm the 50 invokes are never processed by examining chainheight and query results from all 4 peers
",,mastersingh24,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"10/Sep/16 4:01 AM;scottz;CAT_305_S1S2S3_IQ_R1R2R3_IQ.go;https://jira.hyperledger.org/secure/attachment/10075/CAT_305_S1S2S3_IQ_R1R2R3_IQ.go",,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxbvr:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mastersingh24,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"29/Sep/16 3:36 AM;mastersingh24;this is not for .6;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"CH correct, but A/B values do not reflect early invokes, 3-4 minutes after new deployment",FAB-334,12635,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,scottz,scottz,10/Sep/16 4:50 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,08/Apr/17 5:06 AM,,,WON'T FIX,,fabric-orderer,,,0,0.6,,,,,"Problem Summary
In a pbft batch network, after stop 3 of the 4 peers, send Deploy (which gets queued), and then restart 2 of the 3 stopped peers and wait 3 minutes. Any new invokes appear to get dropped if they are sent within first couple minutes. More precisely, the blockchain contains blocks for those invokes, but the A & B values do NOT reflect them being processed.

This issue is a port to Jira from GitHub hyperledger fabric issue #2309 https://github.com/hyperledger-archives/fabric/issues/2309 

The Deploy is processed, and then (just for those 11 invokes in the first few minutes) the chainheight increases but the values for A & B are unchanged. Then other invokes transactions are processed ok. When and what is the trigger that starts allowing the later transactions to be processed?

Interesting note: a similar testcase, where I stopped 2 nodes, deploy, and restarted one (instead of stop 3 nodes, deploy, and restart two) PASSES with consistency.


How To Reproduce

Start 4 node security network using vagrant with docker containers running chaincode_example02. This was originally found using IMAGE=3e0e80a (july 19) and IMAGE=5efed61 (june 27) on v0.5 branch, using testcase  CAT_36_S0S1S2_D_I_R0R1_IQshort.go (which has since been revised and renamed as CAT_403_S0S1S2_D_I_R0R1_IQ.go, which is attached).

# STOP PEER0 PEER1 PEER2
# Sleep 30 secs
# DEPLOY chaincode via any available peer node (VP3), A=10000 B=10000
# Sleep 120 secs
# INVOKEs total (100) spread among all 1 running peers (VP3)
# RESTART PEER0 PEER1
# Sleep 60 secs
# Sleep extra 120 secs
# INVOKEs (1) using peer 0
# INVOKEs (2) using peer 1
# INVOKEs (8) using peer 3
# Sleep extra 120 secs
# QUERY all running peers for a and b, and chainheight. All 3 running peers query results show that we processed the 100 transactions which had been sent to VP3 immediately after the deploy to VP3, but we did not process the 11 sent to VP0/1/3 a bit later. What is concerning is that the expected chainheight seems correct, indicating having processed all 11, but the query values for A & B appear to have lost all 11 transactions:

FAILED QUERY TEST: the required peers do NOT match!!!!!!!!!!
EXPECTED A/B: 9889 10111.
ACTUALs:
PEER 0 9900 10100
PEER 1 9900 10100
PEER 3 9900 10100
PASSED CHAIN HEIGHT TEST: at least this matches on all Peers. Expected CH (111). Actual CHs: PEER0(111) PEER1(111) PEER3(111)

Also, soon afterwards, I sent INVOKEs total (5080) spread among all 3 running peers, and they were all processed correctly.
",,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-912,,,,,,,,,,,,,,,,,"10/Sep/16 4:44 AM;scottz;CAT_407_S0S1S2_D_I_R0R1_IQ.go;https://jira.hyperledger.org/secure/attachment/10076/CAT_407_S0S1S2_D_I_R0R1_IQ.go",,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxbvz:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"When 3 of 4 peers are stopped, deploy fails when subsequently start 3 peers together",FAB-335,12636,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,scottz,scottz,10/Sep/16 5:03 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,08/Apr/17 5:06 AM,,,WON'T FIX,,fabric-orderer,,,0,0.6,,,,,"Problem Summary

Start 4 peers in a secure docker network and deploy and send invoke(s) to each peer and query to confirm operational.
Deploy after stopping 3 of 4 peers. Then start the 3 peers again together. All queries subsequently fail. 
Note: Instead, if restart just two of the three stopped peers, with ample delays, then the deploy works and the network generally works (although there are minor problems in that scenario too, such as FAB-334). Note: Reproduced with NULLREQUEST=0 and with  NULLREQUEST=1 and batchsize=1.

This issue is a port to Jira from GitHub hyperledger fabric issue #2313 https://github.com/hyperledger-archives/fabric/issues/2313

How to Reproduce

Originally found using testcase CAT_37_S0S1S2_D_I_R0R1R2_IQ.go, using v0.5 IMAGE=3e0e80a. That testcase has been renamed in current test suite to CAT_408_S0S1S2_D_I_R0R1R2_IQ.go, which is attached for reference.

# Start a new pbft batch network.
# Stop VP0 VP1 VP2
# Send request for new deployment to VP3, and receive a transaction ID (70dfc8e6...)
# Send Invokes.
# Restart the 3 peers all at once.
# Send Invokes.
# Query. All queries to the new deployment hash always fail. The deploy never worked. Here is my testcase error message:
Error extracted from json: res.Error.Message Query failure
POST /chaincode returned code =-32003 message=Query failure
data=Error when querying chaincode: Error:Failed to launch chaincode spec(Could not get deployment transaction for 70dfc8e6... - LedgerError - ResourceNotFound: ledger: resource not found)
",,mastersingh24,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"10/Sep/16 4:58 AM;scottz;CAT_408_S0S1S2_D_I_R0R1R2_IQ.go;https://jira.hyperledger.org/secure/attachment/10077/CAT_408_S0S1S2_D_I_R0R1R2_IQ.go",,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxbw7:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mastersingh24,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"29/Sep/16 3:36 AM;mastersingh24;not for .6;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"no http response from Peer0 after deploy and invoke, when peers 1 and 2 are docker paused",FAB-336,12637,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,scottz,scottz,10/Sep/16 5:30 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,08/Apr/17 5:06 AM,,,WON'T FIX,,fabric-orderer,,,0,0.6,,,,,"Problem Summary

This issue is a port to Jira from GitHub hyperledger fabric issue #2357 https://github.com/hyperledger-archives/fabric/issues/2357

* GO SDK Testcase hangs when it gets no http response from peer0 during processing of invoke after sending a Deploy. This only happens when I have executed ""docker pause"" on two peers (leaving only 2 running, so not enough for consensus). 
* When rerun test with just one paused, there is no problem.
* When using Stop/Restart instead of Pause/Unpause, there is no problem even with two peers.
* (I could add an http timeout to the testcase code, but that would not change the peers' behavior when all peers in the network cannot receive messages from each other).
* Attached testcase, testcase output file, and DEBUG Logs for all 4 peers:  failCAT11pause.tar.gz

Here is the snippet of code from peerrest/rest.go. It hangs, waiting for the ""client.Do()"" to return:

    if verbose { fmt.Println(""PostChainAPI() call http.Client.Do"") }
    client := &http.Client{}
    resp, err := client.Do(req)
    if verbose { fmt.Println(""PostChainAPI() AFTER call http.Client.Do"") }

How to Reproduce

Detailed steps of testcase CAT_11_S2S1_IQDIQ.go (aka  CAT_201_S2S1_IQDIQ.go  in new test suite):
# Establish vagrant/docker network with security and 4 validating peers.
# Pause Peers(  2, 1  )
# Invoke On Peer 0
# Invoke On Peer 3
# QueryAllPeers( ""STEP 3, after STOP PEERS 2 and 1, and Invokes"" )
# Deploy (5000,5000) to Peer3
# Invoke On Peer 0    <------------------- testcase gets stuck here
# Invoke On Peer 3
# QueryAllPeers(""STEP 6"")

Note: this is a key section of LOGFILE_PEER0 when the invoke is being processed and the test hangs, while peers 1 and 2 are paused.

15:28:27.883 [rest] ProcessChaincode -> INFO d6d^[[0m REST processing chaincode request...
15:28:27.883 [rest] processChaincodeInvokeOrQuery -> INFO d6e^[[0m REST invoke chaincode...
15:28:27.884 [rest] processChaincodeInvokeOrQuery -> INFO d6f^[[0m Local user 'test_user0' is already logged in. Retrieving login token.
^[[36m15:28:27.884 [devops] invokeOrQuery -> DEBU d70^[[0m Initializing secure devops using context test_user0
15:28:27.884 [crypto] invokeOrQuery -> INFO d71^[[0m Initializing client [test_user0]...
15:28:27.950 [crypto] invokeOrQuery -> INFO d72^[[0m Initializing client [test_user0]...done!
^[[36m15:28:27.950 [devops] createExecTx -> DEBU d73^[[0m Creating secure invocation transaction 925e3e47-f699-4851-9123-464789decf8c
^[[36m15:28:27.950 [devops] invokeOrQuery -> DEBU d74^[[0m Sending invocation transaction (925e3e47-f699-4851-9123-464789decf8c) to validator
^[[36m15:28:27.951 [peer] sendTransactionsToLocalEngine -> DEBU d75^[[0m Marshalling transaction CHAINCODE_INVOKE to send to local engine
^[[36m15:28:27.951 [peer] sendTransactionsToLocalEngine -> DEBU d76^[[0m Sending message CHAIN_TRANSACTION with timestamp seconds:1470151707 nanos:951055649 to local engine

+++ This is where the test script hangs. the SDK never gets a response for the invoke transaction to peer 0 (when peers 1 & 2 are paused).
 
 
Below is a similar section of logs for comparison, from a successful testcase when peers 1 and 2 are stopped (instead of paused, all else being equal). Observe at the end: REST successfully submitted invoke transaction.

15:56:22.513 [rest] ProcessChaincode -> INFO 138c^[[0m REST processing chaincode request...
15:56:22.513 [rest] processChaincodeInvokeOrQuery -> INFO 138d^[[0m REST invoke chaincode...
15:56:22.515 [rest] processChaincodeInvokeOrQuery -> INFO 138e^[[0m Local user 'test_user0' is already logged in. Retrieving login token.
^[[36m15:56:22.517 [devops] invokeOrQuery -> DEBU 138f^[[0m Initializing secure devops using context test_user0
15:56:22.517 [crypto] invokeOrQuery -> INFO 1390^[[0m Initializing client [test_user0]...
15:56:22.596 [crypto] invokeOrQuery -> INFO 1391^[[0m Initializing client [test_user0]...done!
^[[36m15:56:22.596 [devops] createExecTx -> DEBU 1392^[[0m Creating secure invocation transaction 31883cd9-7fe3-44d0-be43-a93f678481fb
^[[36m15:56:22.597 [devops] invokeOrQuery -> DEBU 1393^[[0m Sending invocation transaction (31883cd9-7fe3-44d0-be43-a93f678481fb) to validator
^[[36m15:56:22.597 [peer] sendTransactionsToLocalEngine -> DEBU 1394^[[0m Marshalling transaction CHAINCODE_INVOKE to send to local engine
^[[36m15:56:22.597 [peer] sendTransactionsToLocalEngine -> DEBU 1395^[[0m Sending message CHAIN_TRANSACTION with timestamp seconds:1470153382 nanos:597205991 to local engine
15:56:22.597 [crypto] CloseClient -> INFO 1396^[[0m Closing client [test_user0]...
^[[36m15:56:22.597 [consensus/obcpbft] ProcessEvent -> DEBU 1397^[[0m Replica 0 batch main thread looping
^[[36m15:56:22.598 [peer] SendMessage -> DEBU 1398^[[0m Sending message to stream of type: CONSENSUS
^[[36m15:56:22.600 [consensus/obcpbft] logAddTxFromRequest -> DEBU 1399^[[0m Replica 0 adding request from 0 with transaction 31883cd9-7fe3-44d0-be43-a93f678481fb into outstandingReqs
^[[36m15:56:22.600 [consensus/obcpbft] startTimerIfOutstandingRequests -> DEBU 139a^[[0m Replica 0 not starting timer because skip in progress or current exec or in view change
15:56:22.612 [rest] processChaincodeInvokeOrQuery -> INFO 139b^[[0m Successfully submitted invoke transaction with txuuid (31883cd9-7fe3-44d0-be43-a93f678481fb)
15:56:22.612 [rest] ProcessChaincode -> INFO 139c^[[0m REST successfully submitted invoke transaction: {""jsonrpc"":""2.0"",""result"":{""status"":""OK"",""message"":""31883cd9-7fe3-44d0-be43-a93f678481fb""},""id"":22}

 
Important Note: I also reproduced the stuck condition with another testcase once, where we paused VP2 and VP1 separately, then send 100 Invoke requests. (Without any new deployment request when only two nodes running, as in previous testcase.) This time, after sending about 20 Invokes to VP0, it got stuck when PostChainAPI() call http.Client.Do

CAT_16_S2_IQ_S1_IQ_R1_IQ.go  (aka  CAT_207_S2_IQ_S1_R1_IQ.go)
# Stop VP2, and sleep 15 secs
# Send 11 Invokes.
# Query all running peers
# Stop VP1, and sleep 15 secs
# Send 50 invokes to VP0
# Stuck on the 21st one
",,corecode,mastersingh24,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"10/Sep/16 5:25 AM;scottz;CAT_201_S2S1_IQDIQ.go;https://jira.hyperledger.org/secure/attachment/10078/CAT_201_S2S1_IQDIQ.go","10/Sep/16 5:16 AM;scottz;CAT_207_S2_IQ_S1_IQ_R1_IQ.go;https://jira.hyperledger.org/secure/attachment/10079/CAT_207_S2_IQ_S1_IQ_R1_IQ.go","10/Sep/16 5:14 AM;scottz;failCAT11pause.tar.gz;https://jira.hyperledger.org/secure/attachment/10080/failCAT11pause.tar.gz",,,,,,,,,,,,,,,,,,,,,,,"1|hzxbwf:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,corecode,mastersingh24,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"10/Sep/16 10:39 PM;mastersingh24;I am not sure what you are really asking for here?;;;","10/Sep/16 11:56 PM;scottz;Tuan and Luis had started investigations, but I am not sure how far they got. 

My theory: when I docker pause two of the four peers, and send invokes to the ""good"" peers, it seems the good peers get stuck waiting for responses from the paused peers to reach consensus (which, as far as they know, are not stopped but rather still operational - basically we have simply cut off communications link between them) and they get stuck somehow and never respond to the chaincode client.

After further consideration, I am not sure if that is the exact situation. The only thing the client code is waiting for is a transaction ID acknowledgement of the invoke request. It is not waiting for an event or any other confirmation that the Tx has been committed to the ledger. Nevertheless, the lack of any response from the peer might indicate that it has somehow reached a state of confusion and is stuck; this must be a direct effect of docker pausing f+1 peers, since that is the key differentiator between this and other tests that do things like stop 2 peers instead of pause, or pause only one peer.;;;","13/Sep/16 11:29 PM;corecode;why is this consensus?;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"transactions processed more than once, after stop and start peers 2,1,0,2,1,0 sequentially in decreasing order twice",FAB-337,12638,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,scottz,scottz,10/Sep/16 5:50 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,08/Apr/17 5:06 AM,,,WON'T FIX,,fabric-orderer,,,0,0.6,,,,,"Problem Summary

This issue is a port to Jira from GitHub hyperledger fabric issue #2376 https://github.com/hyperledger-archives/fabric/issues/2376 

The problem was originally found in master image 346f9fb, as well as v0.5 image 3e0e80a, in July. Sometimes transactions are processed more than once, after stopping and starting peers 2,1,0,2,1,0 sequentially in decreasing order twice. In the attached logs with a vagrant env with 4 peers in docker containers, the problem can be seen after the 2nd cycle, after peer0 is stopped the 2nd time. I collected debug logs; hopefully someone can determine which peer(s) submitted duplicate transactions. Blocksize is 2. This and other parameters are captured in the attached script output file GO_TEST__CAT_03_SnIQRnIQ_cycleDown.go__Aug092016 
The entire zipfile including logs is attached to the github issue: https://github.com/hyperledger-archives/fabric/files/409933/dupTx_v05_3e0e80a.tar.gz. 
(Note that testcase has since been renamed in the currently maintained test suite as CAT_111_SnIQRnIQ_cycleDownLoop.go.)

In this scenario, some transactions are processed more than once. The test script counts the transactions it sends, and the values for A & B are affected more than they should be. The duplicated processing of some invokes transactions (which I had sent only once into the network) occurs after stopping and then restarting peer 1 and then peer 0. After that, the value of B is higher than it should be.


How To Reproduce

Refer to attached stdout file for full details. The test executes the following. Between each step, we sleep several seconds (between 30 and 60, usually) and send 100 invokes and query each running peer.

Stop Peer 2
Start Peer 2
Stop Peer 1
Start Peer 1
Stop Peer 0
Start Peer 0
Stop Peer 2
Start Peer 2
Stop Peer 1
Start Peer 1
Stop Peer 0

Note: before stopping peer 0, we see these query results:

PASSED QUERY TEST: Expected A/B (997996/1002004) MATCHED on enough/appropriate Peers. ACTUALs (node:A/B): 0:997996/1002004 1:998059/1001941 2:997996/1002004 3:997996/1002004
PASSED CHAIN HEIGHT TEST: matches on enough/appropriate Peers. Expected CH (1021). Actual CHs: PEER0(1019) PEER1(986) PEER2(1019) PEER3(1019)

After stopping peer 0, and sending another 100 invoke requests, observe that the value of B (in all consensus peers) is greater than the expected value by 32! And the chainheight also is much higher than expected; instead of being 2 less than the expected value, the CH is 14 higher (a difference of +16). Clearly, some transactions were processed multiple times.

POST/Chaincode: QUERY all running peers for a and b, and chainheight
STEP 3, cycle 2/2 after STOP PEER 0 and Invokes
FAILED QUERY TEST: the required peers do NOT match!!!!!!!!!!
EXPECTED A/B: 997896 1002104.
ACTUALs:
PEER 1 997864 1002136
PEER 2 997864 1002136
PEER 3 997864 1002136
PASSED CHAIN HEIGHT TEST: matches on enough/appropriate Peers. Expected CH (1072). Actual CHs: PEER1(1086) PEER2(1086) PEER3(1086)
",,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"10/Sep/16 5:49 AM;scottz;GO_TEST__CAT_03_SnIQRnIQ_cycleDown.go__Aug092016;https://jira.hyperledger.org/secure/attachment/10081/GO_TEST__CAT_03_SnIQRnIQ_cycleDown.go__Aug092016",,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxbwn:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
capability to dynamically change logging collection detail levels in live network peers,FAB-338,12639,,Story,Closed,FAB,Fabric,software,denyeart,,,High,Duplicate,,scottz,scottz,10/Sep/16 6:22 AM,06/Nov/18 4:32 AM,28/Oct/23 2:57 AM,06/Nov/18 4:32 AM,,,Future,,fabric-peer,,,1,operations,Usability,,,,"Efforts to debug customer issues have uncovered a need for additional capabilities in order to support the product.

Members of our support team could use a tool to change the settings of the logging levels in any or all of the peers, on the fly in a live running network.

This would require a change to fabric code to make these values dynamic, since today an image must be rebuilt with new values for parameters such as CORE_LOGGING_LEVEL.
It would also require a pulldown menu or a link on the BlueMix interface, or some sort of hidden access method or tool, to turn on or off the detailed debugging.
An alternative (undesirable) would be to run in the most detailed logging mode possible, and store huge amounts of logs for every peer in every network.
",,ChristopherFerris,denyeart,mastersingh24,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzzuav:",,,,Unset,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,ChristopherFerris,denyeart,mastersingh24,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"13/Sep/16 9:39 PM;mastersingh24;I am bumping up the priority on this;;;","12/Apr/17 11:50 PM;ChristopherFerris;I believe that this may be done and just wasn't tracked by this issue. [~mastersingh24] is this something that can be deferred to v1.1?;;;","27/Oct/17 11:50 PM;scottz;Sorry about losing track of this; the functionality has been added already to the peers in the fabric network, so I think we can close this. Separately, [~mlishok] can decide if something else might be needed for his environment from his point of view for ease-of-use solution.;;;","23/Mar/18 2:07 PM;denyeart;Many issues were bulk moved from v1.0 or v1.1 to v1.2 as part of a cleanup effort, and many of these issues are not high priority or actually intended to be worked for v1.2.  This issue is being bulk moved to Future.  If the issue is indeed high priority for v1.2 and/or very low effort, please move back to v1.2 and add a comment to indicate rationale.;;;","09/Oct/18 2:42 AM;sykesm;https://hyperledger-fabric.readthedocs.io/en/release-1.2/commands/peerlogging.html;;;","06/Nov/18 4:32 AM;denyeart;Peer logging levels can already be set dynamically.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,
shout from the mountaintops when non-deterministic chaincode triggers network failure,FAB-339,12640,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,scottz,scottz,10/Sep/16 6:36 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,06/Oct/16 9:29 AM,,,,,fabric-orderer,,,0,0.6,Usability,,,,"Efforts to debug customer issues have uncovered a need for additional capabilities in order to support the product. Currently it takes much longer than it should, in many circumstances.

For example, in one scenario, a real problem is that a major assumption of the hyperledger fabric could be broken by customers writing chaincode: that is, the network assumes the chaincode is deterministic, which means all ""good"" validating peers will reach the same results with the same inputs. A customer could run non-deterministic chaincode, which breaks that assumption, and can lead to undesirable behavior such as a halting consensus network!

The community may still suggest that chaincode to be deterministic in the next architectural release for the network and chaincode to work most smoothly - although mechanisms are expected to be put in place in the fabric to prevent any customers' non-deterministic chaincode from corrupting the ledger. In the meantime, we can help ourselves and our customers by slightly changing a few things once this situation is discovered. This issue is to request:

Raise the visibility by changing the detail level of any log that does get printed when these circumstances are reached, so it gets printed at ALL log settings, instead of being printed only at the debug level. This is a critical log: the peer is effectively inoperable, and the network could also be inoperable.

Change the log message to more clearly state the critical nature of the problem: that the network has halted because the ledgers have diverged - as a result of the user's non-deterministic chaincode. When a peer cannot obtain a new sequence number, as can happen in this situation, it means that the peer's ledger copy has diverged and the peer can no longer participate in the consensus network. And once the ledger copies diverge on enough (F+1) peers, then the network effectively halts. Once one drops out, then it is very likely that others will drop out too (possibly simultaneously although it could depend on the external inputs), since the same chaincode instance is deployed throughout the network. It was observed that the chaincode ledgers diverged as a result of the chaincodes reaching different results, and committing those variations to their own ledgers.

Do anything else that can be done to raise visibility immediately once any peer realizes that it has effectively dropped out - and especially once there are no longer enough participating peers in the network for consensus to be reached and proceed.

Today, all deployments on a given peer network share the same ledger and thus would be affected. However, it seems best that we do not make the peers intentionally crash, because with just some minor changes the same peers conceivably could be used to provide a service for several networks - each having their own separate ledgers. Separating the ledger behavior from the peer behavior would mean that one customer network chaincode deployment would not totally take down the peers and affect other deployments.

The upcoming release in several months of the new architecture, specifically the endorsers, should prevent such a divergence of the ledgers. But until that time, fixing this issue will reduce the support efforts and help to educate users of the fabric about eliminating any non-deterministic behavior in their chaincode.
",,kchristidis,kletkeman,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxa3b:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,kchristidis,kletkeman,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"13/Sep/16 3:30 PM;kchristidis;Scott, can you tell me whether the solution outlined here would cover you or not?

https://jira.hyperledger.org/browse/FAB-189

I have submitted two patches for this (and I'll adjust them so that a ""network can no longer make progress"" message is printed before panicking, according to Gari's request):

https://gerrit.hyperledger.org/r/#/c/985/
https://gerrit.hyperledger.org/r/#/c/989/;;;","14/Sep/16 1:08 AM;scottz;Yes, those planned commits would appear to address this issue, as long as they include log messages requested by reviewers for every instance where we decide to panic. The additional logs must:
# share the reason for the panic,
# suggest the probable causes, where possible, and how to resolve and prevent,
# be customer-friendly.
;;;","14/Sep/16 1:40 AM;kchristidis;Scott, the problem is we shouldn't be too verbose with our logs. Check this one for instance and look into review #1: https://gerrit.hyperledger.org/r/#/c/585/

I'll gladly take suggestions for what to put in there, but it has to be succinct.;;;","15/Sep/16 10:32 PM;scottz;I understand that generally we don't want verbose logs filling up disk space. But they must be as useful as possible to the intended user. Is there an operations guide published and maintained where we provide more verbose information that is more useful to operations folks? Assuming not, then I see more benefit than harm in adding information useful for operators and support personnel, who are the intended users of the logs. One could easily argue that the log should be MORE verbose, at least in this type of circumstance. The network is halting! What is the operator supposed to do next? What is the recovery action? Am I correct in believing that this particular log will be printed once and only once (per peer), followed by a panic and all processing will stop? It's not going to fill up any disks.;;;","29/Sep/16 12:38 AM;scottz;FAB-189 provided a new message with a panic and the peer halts:
""Network unable to find stable certificate for seqNo %d (%d different values observed already)""

I think this could be made more clear by adding that the likely cause is that the client chaincode is non-deterministic. That way the customers know what to do next. A little more text here shouldn't cause a problem with disk space, since the network is halting anyways.

On the other hand, since our v0.5 or v0.6 support people will be involved and reading the logs, I suppose they should know what that message implies, so maybe this is sufficient. I am ok with closing this issue if there are no other plans in the works to enhance this further.;;;","15/Oct/16 5:18 AM;kletkeman;Perhaps customers should be encouraged to test locally with a rudimentary tool to signal divergence immediately ... I've put something together that is trivial to set up on node-red and talks to 4 peer networks. While this does not eliminate the risk, it would help to raise awareness.

https://github.com/ibm-watson-iot/blockchain-samples/tree/master/testing/node-red/fabricDivergenceMonitor
;;;","31/May/17 11:14 PM;kletkeman;I'm curious as to why this bug is still around? In Fabric v1, the chaincode is executed on a set of endorsers and the read / write sets are compared by the client SDK or the client itself. The decision to proceed with the transaction is made at that point depending on the local policy. The network does not care what the policy is, and is perfectly happy to commit a flawed read / write set into the chain.

In other words, the system should be designed to prevent non-determinism of state written to the database, but letting it through has no effect on the operation of the network itself.;;;","01/Jun/17 12:11 AM;kchristidis;This is a leftover from 0.6 and is indeed no longer relevant.

Was bumped because of some mass editing. Thanks for the heads up, closing.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
Create Lifecycle System Chaincode to do deploy,FAB-340,12641,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,muralisr,muralisr,muralisr,11/Sep/16 3:45 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,11/Sep/16 3:48 AM,,,,,fabric-peer,,23/Sep/16 12:00 AM,0,Endorser,,,,,"Stories 
[Deploy chaincode|https://jira.hyperledger.org/browse/FAB-181]
[Deploy chaincode with ESCC and VSCC|https://jira.hyperledger.org/browse/FAB-182]",,muralisr,seokm0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-757,,,,,,,,,"1|hzx9fr:",,,,,,Sprint 1,,,,,,,,,,,,,,,,,,,,,,,,,,,muralisr,seokm0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"18/Sep/16 8:52 PM;muralisr;Lifecycle System chaincode has been merged in https://gerrit.hyperledger.org/r/#/c/1057.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Collect read/write sets for the executed proposal from the ledger,FAB-341,12642,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,muralisr,muralisr,11/Sep/16 3:59 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,25/Jul/17 7:51 AM,,,Future,,fabric-peer,,,0,Endorser,,,,,"If a chaincode executes successfuly, then it would have created changes in the ledger such as state deltas. These would need to be collected before for endorsement and to be part of the response to the SDK. ",,grapebaba,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-757,,,,,,,,,"1|hzx8tj:",,,,,,Sprint 1,Sprint 2,,,,,,,,,,,,,,,,,,,,,,,,,,grapebaba,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jun/17 6:22 PM;grapebaba;Can I help this one?;;;","26/Jun/17 10:17 AM;grapebaba;[~muralisr]Has this one been implemented yet?;;;","25/Jul/17 7:50 AM;muralisr;[~grapebaba] this was just a story for Read/Write set which has now been in the fabric since early days. Will close this one out.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"as an operator, I should have a cli that I can easily install that lets me interact with the various components of the fabric",FAB-342,12643,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ChristopherFerris,ChristopherFerris,ChristopherFerris,11/Sep/16 5:09 AM,21/Jul/18 3:55 AM,28/Oct/23 2:57 AM,12/Apr/17 11:45 PM,,,DUPLICATE,,,,,0,operations,,,,,"as an operator, I should have a cli that I can easily install that lets me interact with the various components of the fabric

The current peer commands are entangled with the validating peer capability, which means that building and installing a peer for Mac and Windows is complicated by the need to have RocksDB etc installed.

We can extract the peer commands into a separate component that is not dependent on the internals of the peer node, that can be simply installed as a platform-specific binary.",,ChristopherFerris,donovanhide,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzxblj:",,,,Unset,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,ChristopherFerris,donovanhide,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"12/Apr/17 11:46 PM;ChristopherFerris;the CLI is now a separate component;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
extract peer commands into independent component,FAB-343,12644,12643,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ChristopherFerris,ChristopherFerris,ChristopherFerris,11/Sep/16 5:12 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,12/Apr/17 11:51 PM,,,DUPLICATE,,,,,0,,,,,,extract peer commands into independent component,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxbxb:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"12/Apr/17 11:51 PM;ChristopherFerris;There is now separate CLI and Go SDK components;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
add Components to JIRA,FAB-344,12645,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ChristopherFerris,ChristopherFerris,ChristopherFerris,12/Sep/16 4:50 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,12/Sep/16 4:55 AM,,,,,,,,0,build-system,,,,,"We need the following components to start:

fabric-baseimage
fabric-peer
fabric-membersrvc
fabric-sdk-node
fabric-sdk-java
fabric-sdk-py
fabric-devenv
",,ChristopherFerris,ryjones,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,28800,28800,,0%,28800,28800,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxa67:",,,,,,Sprint 1,,,,,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,ryjones,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"12/Sep/16 4:55 AM;ryjones;added https://jira.hyperledger.org/projects/FAB?selectedItem=com.atlassian.jira.jira-projects-plugin:components-page

please visit https://jira.hyperledger.org/plugins/servlet/project-config/FAB/components and see if you can add them directly. If not I'll need to check permissions;;;","12/Sep/16 5:09 AM;ChristopherFerris;awesome! yes, I can add them at that page... I think last time I visited that I didn't have authority. ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add support for table in Mock chaincode framework,FAB-345,12646,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,muralisr,muralisr,muralisr,12/Sep/16 9:47 AM,21/Jul/18 3:55 AM,28/Oct/23 2:57 AM,12/Sep/16 9:48 AM,,,,,fabric-peer,,,0,Endorser,,,,,"Mock chaincode framework in shim allows developers to write unit test for GOLANG chaincode. While its provides a good starting point with support for basic Get/Put/Delete state and Range operations, it does not have support for Table operations. As we add more chaincodes to the base fabric (such as Life Cycle System Chaincode) which use Tables, we need the mock chaincode unit test framework to support it.",,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-757,,,,,,,,,"1|hzxa3r:",,,,Unset,,Sprint 1,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
General Jenkins network issues,FAB-346,12647,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,,juliancarrivick,juliancarrivick,12/Sep/16 3:49 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,14/Feb/17 12:51 PM,,,,,,,,0,build-system,,,,,"There seems to be general network instability in the Jenkins environment which does not exhibit itself that often.

It seems to show itself as one of many things
* A panic in the unit tests that a request took longer than 60 seconds (see FAB-101)
* Not being able to download a copy of the source code ([fabric-merge-168|https://jenkins.hyperledger.org/job/fabric-merge-x86_64/168], [fabric-verify-1065|https://jenkins.hyperledger.org/view/fabric/job/fabric-verify-x86_64/1065] and [fabric-merge-143|https://jenkins.hyperledger.org/view/fabric/job/fabric-merge-x86_64/143])
* Failing to push images to docker-hub ([fabric-merge-153|https://jenkins.hyperledger.org/job/fabric-merge-x86_64/153])
* Gradle failing to download ([fabric-merge-162|https://jenkins.hyperledger.org/view/fabric/job/fabric-merge-x86_64/162] and [fabric-verify-behave-2|https://jenkins.hyperledger.org/view/fabric/job/fabric-verify-behave-x86_64/2])

A few of the behave tests also exhibit what seems to be general network issues:
* HTTP GET timing out ([fabric-verify-behave-3|https://jenkins.hyperledger.org/view/fabric/job/fabric-verify-behave-x86_64/3])
* Containers taking much longer than normal to startup and timing out ([fabric-verify-behave-19|https://jenkins.hyperledger.org/view/fabric/job/fabric-verify-behave-x86_64/19/])",Jenkins CI Environment,juliancarrivick,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,28800,28800,,0%,28800,28800,,,,,,,,,,,,,,,,,,,,,,FAB-101,,,,,,,,,,,,,,"12/Sep/16 3:46 PM;juliancarrivick;fabric-merge-143.log;https://jira.hyperledger.org/secure/attachment/10088/fabric-merge-143.log","12/Sep/16 3:49 PM;juliancarrivick;fabric-merge-153.log;https://jira.hyperledger.org/secure/attachment/10084/fabric-merge-153.log","12/Sep/16 3:49 PM;juliancarrivick;fabric-merge-162.log;https://jira.hyperledger.org/secure/attachment/10083/fabric-merge-162.log","12/Sep/16 3:46 PM;juliancarrivick;fabric-merge-168.log;https://jira.hyperledger.org/secure/attachment/10086/fabric-merge-168.log","12/Sep/16 3:46 PM;juliancarrivick;fabric-verify-1065.log;https://jira.hyperledger.org/secure/attachment/10087/fabric-verify-1065.log","12/Sep/16 3:49 PM;juliancarrivick;fabric-verify-behave-2.log;https://jira.hyperledger.org/secure/attachment/10085/fabric-verify-behave-2.log","12/Sep/16 3:49 PM;juliancarrivick;fabric-verify-behave-3.log;https://jira.hyperledger.org/secure/attachment/10082/fabric-verify-behave-3.log",,,,,,,,,,,,,,,,,,,"1|hzx8q7:",,,,,,Sprint 2,Sprint 3,,,,,,,,,,,,,,,,,,,,,,,,,,juliancarrivick,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"14/Feb/17 12:51 PM;rameshthoomu;[~juliancarrivick]: Seems all these issues are resolved now.. Closing this issue for now, please re-open is you see any of the above mentioned issues..;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Chaincode Deployment Issue using HFC Node SDK with the latest version of Hyperledger,FAB-347,12648,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,hgabre,gauravgiri,gauravgiri,12/Sep/16 4:55 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,07/Apr/17 9:49 PM,,,v0.6,WON'T FIX,fabric-peer,,,0,,,,,,"Issue related to chaincode deployment using HFC Node SDK with error message: Incorrect number of arguments

Creating this issue for deployment error using HFC https://www.npmjs.com/package/hfc (with both current version 0.5.2, and previous version 0.6.0) on the latest version of hyperledger/fabric from gerrit http://gerrit.hyperledger.org/r/fabric
This issue has is linked to a previous issue of deployment, but this is specifically related to HFC related deployment: https://jira.hyperledger.org/browse/FAB-208

Steps to reproduce the issue:
1. checked out the latest version of hyperledger fabric source from gerrit repository 
2. vagrant up 
3. start membersrvc: i) make membersrvc ii) membersrvc
4. start peer node: i) change peer/core.yaml and enable security enabled: true ii) make peer iii) peer node start
4. copy from fabric\examples\chaincode\go\chaincode_example02 to $GOPATH/src/github.com/chaincode_example02 and setup the vendor directory with latest source of hyperledger fabric at  vendor/github.com/hyperledger/fabric
5. try to deploy $GOPATH/src/github.com/chaincode_example02 using the latest version of the hfc node sdk version 0.5.2, using the attachment sample.js using command ""node sample.js""
6. check the peer logs for issue related to number of arguments, the number of arguments being recieved by the init method is always coming as 0.

Error messages in peer server logs during chaincode deployment:
[chaincode] processStream -> ERRO 031 Got error: Incorrect number of arguments. Expecting 4
[chaincode] Launch -> ERRO 032 sending init failed(Error initializing container 9f192841dd07b37f7d95ea364df838b37bc8be29d2babf15f42f478ff395c7cb: Incorrect number of arguments. Expecting 4)",Vagrant Virtual Machine,angrbrd,gauravgiri,hgabre,manali_test,mastersingh24,ryokawajp,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-208,,,,,,,,,,,,,,,,,,,,,,,,"12/Sep/16 4:52 PM;gauravgiri;sample.js;https://jira.hyperledger.org/secure/attachment/10089/sample.js",,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxbxj:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,angrbrd,gauravgiri,hgabre,manali_test,mastersingh24,ryokawajp,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"12/Sep/16 5:16 PM;ryokawajp;[~gauravgiri]
I also observed similar problem in chaincode query.
* I deployed chaincode_example02
** CORE_SECURITY_ENABLED=true CORE_SECURITY_PRIVACY=true build/bin/peer chaincode deploy  -p chaincode_example02 -c '{""args"":[""init"",""a"",""100"",""b"",""50""]}' -u test_user0
* I confirmed that a query works with CLI.
** CORE_SECURITY_ENABLED=true CORE_SECURITY_PRIVACY=true build/bin/peer chaincode query -n a1e74746efaec3a6521f3b27b5962651302199d9cc51bd517e81fd55bffab1b964e8a7cfa7a54d00317d51a3691033d7efe60dce8edac5ecb2fba7630e328000 -c '{""args"":[""query"",""a""]}' -u test_user0
** Query Result: 100
* I queried the chaincode from HFC program, but it returns the error message. (code snipped is as below.)
**  Incorrect number of arguments. Expecting name of the person to query

Through printf debugging, it is found that the chaincode receives 0 arguments on query. The function name is correct. I also tried to put the function name into the beginning of args but the error message did not change. As indicated in hfc.ts, fcn and args fields are still used in query and invoke requests and concatenated into a single array inside HFC..
https://github.com/hyperledger/fabric/blob/master/sdk/node/src/hfc.ts#L1883

I use the following versions:
* HFC 0.6.0, 0.5.1, 0.5.2
* Fabric : latest master (on Sep. 11, commit ID : 165c0ed147b805696b53208ba0068c5e9506c6bf)
* ""net"" mode (chain.setDevMode(false)).

{code}
      var fcn = ""query"";
      var args = [""a""];
      var user = test_user_Member1;
      var chaincodeID = ""a1e74746efaec3a6521f3b27b5962651302199d9cc51bd517e81fd55bffab1b964e8a7cfa7a54d00317d51a3691033d7efe60dce8edac5ecb2fba7630e328000"";

      var queryRequest = {
        chaincodeID: chaincodeID,
        fcn: fcn,
        args: args
     };
     var tx = user.query(queryRequest);
{code};;;","12/Sep/16 6:44 PM;ryokawajp;Hi,
I have just peeked at version 0.5.2 of the hfc installation directory to see the source code (around L1429 of hfc.js) and found that it is using the old protocol for the chaincode argument (separate function and args), which differes from the latest master version of hfc.ts (linked in the above comment.). Does 0.5.2 correspond to the latest master? or does this release support Fabric 0.5 DP only?
{code:hfc.js} 
               // Set chaincodeID
                chaincodeSpec.setChaincodeID(chaincodeID);
                // Set ctorMsg
                var chaincodeInput = new _chaincodeProto.ChaincodeInput();
                chaincodeInput.setFunction(request.fcn);
                chaincodeInput.setArgs(request.args);
                chaincodeSpec.setCtorMsg(chaincodeInput);
{code} 
;;;","12/Sep/16 8:15 PM;hgabre;Fabric master with the js code from sdk/node (from the same repo, the same version) seems to work. v0.6 with the js code from sdk/node (from the same repo, the same version) also seems to work.;;;","13/Sep/16 11:13 AM;ryokawajp;Thank you [~hgabre].
I also tried to build hfc in the source code repository by simply typing ""make"" at fabric/sdk/node directory, but it did not work. The following error message was printed.
Is there any documentation for building hfc by myself?

{code}
vagrant@hyperledger-devenv:v0.0.11-165c0ed:/opt/gopath/src/github.com/hyperledger/fabric/sdk/node$ make
[INSTALL] node_modules/.bin/typings
npm install typings
hfc@0.0.2 /opt/gopath/src/github.com/hyperledger/fabric/sdk/node
├── any-promise@1.3.0  extraneous
├── archy@1.0.0  extraneous
├── bluebird@3.4.6  extraneous
├── columnify@1.5.4  extraneous
├── has-unicode@2.0.1  extraneous
├── listify@1.0.0  extraneous
├── update-notifier@1.0.2  extraneous
├── wordwrap@1.0.0  extraneous
└── xtend@4.0.1  extraneous

npm WARN hfc@0.0.2 No repository field.
npm WARN hfc@0.0.2 No license field.
npm ERR! Linux 3.13.0-93-generic
npm ERR! argv ""node"" ""/usr/local/bin/npm"" ""install"" ""typings""
npm ERR! node v0.12.7
npm ERR! npm  v3.10.7
npm ERR! path ../loose-envify/cli.js
npm ERR! code EPROTO
npm ERR! errno -71

npm ERR! EPROTO, symlink '../loose-envify/cli.js'
npm ERR!
npm ERR! If you need help, you may report this error at:
npm ERR!     <https://github.com/npm/npm/issues>

npm ERR! Please include the following file with any support request:
npm ERR!     /opt/gopath/src/github.com/hyperledger/fabric/sdk/node/npm-debug.log
make: *** [node_modules/.bin/typings] Error 185
{code}
;;;","14/Sep/16 4:33 PM;ryokawajp;Sorry. The above problem was caused by the file sharing capability of Vagrant.
I should have used directory which is not shared with the host OS, or have run Vagrant with Administrator authority, otherwise one cannot create a symbolic link.
Now the error message was fixed.
Thank you.
;;;","14/Sep/16 8:03 PM;hgabre;Ryo, does it work for you? One has to try it with matching versions (hfc 0.5 from npm repo with fabric 0.5; hfc from Gerrit master with fabric from Gerrit master; hfc 0.6 - that will be uploaded soon - with fabric 0.6). If it works we could close this issue.;;;","14/Sep/16 11:49 PM;angrbrd;[~hgabre] I will be publishing an update to npm for version 0.6.x in the next day or two. That should address several issues. If this is still broken in the npm package, it will be fixed then too.

Thanks!;;;","15/Sep/16 11:07 AM;ryokawajp;Thank you, [~hgabre].

I successfully built hfc with make at fabric/sdk/node/ directory which was copied to a non-shared directory.
I can now execute deploy and query transactions from a Node.js app.
However, the returned value is different from the expected value. It returns the following message:
{code}
completed query: {""result"":""323030""}
results.result: 323030
{code}
where the expected value is b=200. CLI returns the correct value:
{code}
CORE_SECURITY_ENABLED=true CORE_SECURITY_PRIVACY=true build/bin/peer chaincode query -n 508a2be58384aad8909bd2417a51f022c7966c877b7ee5fdc46be6a079ee40c0 -c '{""args"":[""query"",""b""]}' -u test_user0
Query Result: 200
{code}
The situation did not change when I deployed the chaincode with CLI and queried with Node.js app.

When I was reading asset_mgmt.js, I realized that one needs to put ""confidential: true"" to the request, otherwise the returned value is not readable. What does this mean? I suppose there is a change in the format of the returned value. The above results were obtained with ""confidential: true"".
https://github.com/hyperledger/fabric/blob/master/sdk/node/test/unit/asset-mgmt.js#L290

Environment and sample program is as follows:
- Vagrant env.
- chaincode_example02
{code}
var initA = ""100"";
var initB = ""200"";
function deploysample() {
  var deployRequest = {
    fcn: ""init"",
    args: [""a"", initA, ""b"", initB],
    confidential: true,
  };
  var deployTx = test_user_Member1.deploy(deployRequest);
  console.log(""deployTx %j"", deployTx);
 ...
{code}
{code}
function querysample() {
      var fcn = ""query"";
      var args = [""b""];
      var user = test_user_Member1;
      var chaincodeID = ""508a2be58384aad8909bd2417a51f022c7966c877b7ee5fdc46be6a079ee40c0"";

      var queryRequest = {
        chaincodeID: chaincodeID,
        fcn: fcn,
        args: args,
        confidential: true,
     };
     var tx = user.query(queryRequest);
     tx.on('complete', function(results) {
        console.log(""completed query: %j"",results);
        data = results.result;
        console.log(""results.result: %s"",data);
     });
{code}
;;;","15/Sep/16 11:11 AM;ryokawajp;Hi [~angrbrd], thank you.
I am looking forward to see the new version.
;;;","20/Sep/16 10:51 PM;ryokawajp;Thank you for the release of HFC 0.6.1. I have tested HFC 0.6.1 with Fabric (master at Sep. 11, 165c0ed147b805696b53208ba0068c5e9506c6bf) and the above sample program showed the same result with the case of HFC in the Fabric source repository.
{code}
completed query: {""result"":""323030""}
results.result: 323030
{code}
The expected output is ""200"".
I have not yet tried HFC 0.6.1 with V0.6 branch of Fabric.
I realized that the above output is equivalent to the output of CLI with -x option (hex). So, I implemented like:
{code}
        data = results.result;
	buffer = new Buffer(data, 'hex');
        console.log(""buffer: %s"", buffer.toString('utf8'));
{code}
and finally I obtained the expected result, ""200"". Is this the designed behavior of HFC? 
Is it OK for us to assume that the returned value of query is a hex representation of utf8 string?
Or is there any option to switch the returned value from a hex string to a utf8 string like -x option of CLI ?;;;","21/Sep/16 12:00 AM;hgabre;As I know 0.6.1 should work with brach v0.6.
On the other side, I will try to have a look at it and find why it returns a hex. I don't know about such an option. [Anna Derbakova|https://jira.hyperledger.org/secure/ViewProfile.jspa?name=angrbrd]?;;;","28/Sep/16 8:12 PM;mastersingh24;[~angrbrd] I assume this is not an issue when using hfc 0.6.x with fabric v0.6 images?;;;","28/Sep/16 10:29 PM;gauravgiri;It is working as per the last comment on this by Ryo Kawahara by using the confidential: true parameter in the invoke/query requests. Also, the result is a hex string which needs a conversion.

We have another issue. Because of dependency of HFC(0.6.*) npm library on node-gyp, we are unable to work with HFC npm client library on windows machine, as it fails to install because of issues related to python & Microsoft Visual studio c++ which needs to be present on windows.

Is there any recommended way to work with HFC(0.6.*) client libraries from windows?

Error stack trace while installing HFC:
C:\Gaurav\IBM\workspace\BTMU\phase2\source\poc_hfc2\node_modules\hashtable>if no
t defined npm_config_node_gyp (node ""C:\sft\node\node6.5.0\node_modules\npm\bin\
node-gyp-bin\\..\..\node_modules\node-gyp\bin\node-gyp.js"" configure build )  el
se (node """" configure build )
gyp ERR! configure error
gyp ERR! stack Error: Can't find Python executable ""python"", you can set the PYT
HON env variable.
gyp ERR! stack     at failNoPython (C:\sft\node\node6.5.0\node_modules\npm\node_
modules\node-gyp\lib\configure.js:401:14)
gyp ERR! stack     at C:\sft\node\node6.5.0\node_modules\npm\node_modules\node-g
yp\lib\configure.js:356:11
gyp ERR! stack     at FSReqWrap.oncomplete (fs.js:123:15)
gyp ERR! System Windows_NT 6.1.7601
gyp ERR! command ""C:\\sft\\node\\node6.5.0\\node.exe"" ""C:\\sft\\node\\node6.5.0\
\node_modules\\npm\\node_modules\\node-gyp\\bin\\node-gyp.js"" ""configure"" ""build
""
gyp ERR! cwd C:\Gaurav\IBM\workspace\BTMU\phase2\source\poc_hfc2\node_modules\ha
shtable
gyp ERR! node -v v6.5.0
gyp ERR! node-gyp -v v3.3.1
gyp ERR! not ok
;;;","29/Sep/16 11:13 AM;ryokawajp;Thank you. Gaurav [~gauravgiri].

Since Fabric v0.6.0 is released, I also tried HFC 0.6.1 and HFC 0.6.2 with Hyperledger Fabric tagged as v0.6.0-preview.
The results are the same as in the comment by me on September 15th.
https://jira.hyperledger.org/browse/FAB-347?focusedCommentId=18948&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-18948

- I removed the old chaincode container and deployed chaincode_example02 with CLI v0.6.0 preview.
- Other options and arguments are the same with the previous comment.
The returned value is hex.
;;;",,,,,,,,,,,,,,,,,,,,
Update nodejs client to support a transaction structure where metadata is encrypted independently to the payload,FAB-348,12649,12380,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,elli-androulaki,elli-androulaki,elli-androulaki,12/Sep/16 7:02 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,12/Sep/16 10:48 PM,,,,,fabric-crypto,,,0,questionable,Security,,,,New transaction structure that enables metadata to be independently encrypted to the transaction payload needs to be supported by the nodejs client. So far this is only supported by the golang client.,,ChristopherFerris,elli-androulaki,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,86400,86400,,0%,86400,86400,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxbxr:",,,,,,Sprint 1,,,,,,,,,,,,,,,4.0,,,,,,,,,,,,ChristopherFerris,elli-androulaki,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"02/May/17 7:45 AM;ChristopherFerris;I'm guessing that this is no longer needed.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Control rockdb logging,FAB-349,12650,,Task,Closed,FAB,Fabric,software,denyeart,,,Low,Done,,manish-sethi,manish-sethi,12/Sep/16 7:33 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,01/Feb/17 1:07 PM,,,,,fabric-ledger,,,1,fabric06,help-wanted,Ledger,,,"Fabric peer uses default configurations for logging RocksDB - which produces massive logs in the LOG files. For better managing RockDB logs, RocksDB allows setting following logs related properties  - 1) max_log_file_size, 2) keep_log_file_num, and 3) info_log_level

Though a newer version (4.3) of RocksDB allows loading properties from an `ini` file (https://github.com/facebook/rocksdb/wiki/RocksDB-Options-File) - gorockdb package is yet to catch up for exposing this option into golang.

Current possibility is to expose these configs into core.yaml and programmatically set these on RocksDB options while opening the DB. ",,binhn,ChristopherFerris,denyeart,hgabre,lehors,manish-sethi,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,14400,14400,,0%,14400,14400,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxe1j:",,,,,,,,,,,,,,,,,,,,,1.0,,,,,,,,,,,,binhn,ChristopherFerris,denyeart,hgabre,lehors,manish-sethi,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"12/Sep/16 7:39 PM;mastersingh24;Thanks [~manish-sethi].  I think that setting the options in core.yaml is the right way to start;;;","20/Sep/16 9:54 PM;ChristopherFerris;is this really something relevant to 1.0? If so, shouldn't this be something we merge into 'convergence' branch? Will we be using rocksdb still?;;;","21/Sep/16 1:29 AM;manish-sethi;Yes, we are using rocksdb in 1.0, but significantly differently. This feature may be relevant to 1.0 but the files that require changes would be different.;;;","27/Sep/16 10:15 PM;hgabre;I created the following commit as solution in Gerrit: https://gerrit.hyperledger.org/r/#/c/1263/ With Manish and Chris, we agreed that this is needed in v0.6;;;","27/Sep/16 11:19 PM;denyeart;I assume this will go to v1 as well (using feature/convergence branch);;;","11/Oct/16 2:31 AM;lehors;Why is this still ""unassigned"" and ""TO DO"" when Gabor apparently submitted a patch for it?
What am I missing?
;;;","11/Oct/16 3:38 AM;denyeart;Gabor, anything left to do?;;;","01/Feb/17 1:07 PM;binhn;no longer applicable;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
Add support for confidential chaincode querying a confidential chaincode,FAB-350,12651,12392,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,elli-androulaki,elli-androulaki,elli-androulaki,12/Sep/16 10:18 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,12/Sep/16 10:18 PM,,,,,fabric-crypto,,,0,questionable,Security,,,,,,ChristopherFerris,elli-androulaki,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxbxz:",,,,,,Sprint 1,,,,,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,elli-androulaki,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"02/May/17 7:47 AM;ChristopherFerris;guessing this is no longer needed;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Review fabric-next protocol from a security perspective,FAB-351,12652,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,elli-androulaki,elli-androulaki,elli-androulaki,12/Sep/16 10:48 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,12/Sep/16 11:13 PM,,,,,fabric-crypto,,16/Sep/16 12:00 AM,0,chaincode,Security,,,,"This is a task to review the messages exchanged within fabric-next architecture, and figure out places where tcert-based authentication is to be put in place. 

This is a long-term task that needs to be done prior and during the transition of the security code to the new architecture. ",,elli-androulaki,v_thirugnanam,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,432000,144000,,0%,432000,144000,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-489,FAB-580,FAB-581,FAB-582,FAB-583,,,,,,,,,,,,,,,,,,,,,FAB-48,,,,,,,,,"1|hzx8af:",,,,,,Sprint 1,Sprint 2,Sprint 3,Sprint 6 - Crypto,Sprint 4 - Crypto,Sprint 5 - Crypto,,,,,,,,,,12.0,,,,,,,,,,,,elli-androulaki,v_thirugnanam,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Enable confidential chaincode to chaincode querying,FAB-352,12653,12386,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,elli-androulaki,elli-androulaki,12/Sep/16 11:10 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,12/Sep/16 11:10 PM,,,,,fabric-crypto,,,0,Security,,,,,,,elli-androulaki,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxby7:",,,,,,Sprint 1,,,,,,,,,,,,,,,,,,,,,,,,,,,elli-androulaki,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Pluggable interface for crypto algorithms to accommodate alternative implementations,FAB-353,12654,,Epic,Closed,FAB,Fabric,software,denyeart,,,High,Done,elli-androulaki,elli-androulaki,elli-androulaki,12/Sep/16 11:24 PM,21/Jul/18 4:08 AM,28/Oct/23 2:57 AM,14/Sep/16 10:32 AM,,,v1.0.0,,fabric-crypto,,,0,Security,,,,,"As an infrastructure developer I want to be able to substitute crypto library

This requires the following tasks take place: 
 1. Define a modular crypto library interface that would satisfy the crypto needs of membership services, peer and client code, 
 2. Re-factor the code implementing crypto functionalities in HPL/fabric within a software crypto provider that implements the interface specified in (1) 
 3. Update the HPL/fabric crypto calls to use the specified API and use the library provided by (1) and (2).
",,elli-androulaki,silentspark,warm3snow,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,864000,864000,,0%,864000,864000,,,,,,,,,,,,,,,,,,,,,,FAB-37,,,,,FAB-580,FAB-581,FAB-582,FAB-615,,,,,,,,,,,,,,,,,,Unset,,Unset,ghx-label-1,,Implement a Modular Crypto Library,To Do,,,Unset,,,,"1|hzx9hj:",,,,Unset,Unset,Sprint 1,Sprint 2,,,,,,,,,,,,,,24.0,,,,,,,,,,,,elli-androulaki,silentspark,warm3snow,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"24/Oct/16 9:00 PM;elli-androulaki;Configuration of the library providers through the fabric code.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As an infrastructure developer I want to specify a crypto API, that can satisfy all the crypto needs of existing & future peer and membership services",FAB-354,12655,,Task,Closed,FAB,Fabric,software,denyeart,,,High,Done,angelo.decaro,elli-androulaki,elli-androulaki,12/Sep/16 11:27 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,11/Nov/16 1:36 AM,,,,,fabric-crypto,,,0,Security,,,,,,,angelo.decaro,ChristopherFerris,Eagel,elli-androulaki,joshhus,matingwei,v_thirugnanam,warm3snow,wutongtree,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,144000,144000,,0%,144000,144000,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-355,FAB-615,FAB-682,FAB-744,FABN-739,FAB-824,FABN-734,,,"12/Oct/16 10:21 PM;angelo.decaro;BCCSP.pdf;https://jira.hyperledger.org/secure/attachment/10124/BCCSP.pdf",,,,,,,,,,,,,,,,FAB-353,,,,,,,,,"1|hzxdgn:",,,,,,Sprint 1,Sprint 2,Sprint 4 - Crypto,Sprint 5 - Crypto,,,,,,,,,,,,,,,,,,,,,,,,angelo.decaro,ChristopherFerris,Eagel,elli-androulaki,joshhus,matingwei,v_thirugnanam,warm3snow,wutongtree,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"10/Oct/16 5:29 PM;elli-androulaki;The API has been specified here: 
https://gerrit.hyperledger.org/r/#/c/1605/ 
;;;","11/Oct/16 12:52 AM;ChristopherFerris;there are 5 patch sets submitted, all should reference this JIRA;;;","12/Oct/16 10:33 PM;angelo.decaro;Reference added to all 10 change-sets related to this JIRA.;;;","24/Oct/16 11:51 PM;elli-androulaki;So, here we are missing the hash-algorithm specification at signing/signature versification parts of the interface. Also this piece of code should be submitted to master.;;;","16/Dec/16 3:23 AM;joshhus;For (external) doc: 

Is this more precisely a Hyperledger Fabric Cryptographic Service Provider (HFCSP) than a Blockchain Cryptographic Service Provider (BCCSP)? (Once we document externally we don't want to subsequently change names.)

Can we identify / name the specific cryptographic APIs that are supported, or example choices? And same for the Hardware Service Modules (HSMs) supported. I would imagine there are restrictions on the specific choices, at some level.

The design states that interoperability between different APIs, as they are pluggable/potentially variable by HL component, is not necessarily guaranteed; what should we say about that - the specific risks / implications.

Thanks!;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
As an infrastructure developer and application developer i want to have availale a software based crypto provider implementing the interface of FAB-354 in golang.,FAB-355,12656,,Story,Closed,FAB,Fabric,software,denyeart,,,High,Done,adc,elli-androulaki,elli-androulaki,12/Sep/16 11:29 PM,21/Jul/18 3:55 AM,28/Oct/23 2:57 AM,11/Nov/16 1:35 AM,,,,,fabric-crypto,,,0,Security,,,,,Implement a software provider implementing the interface described in FAB-354 in Golang to be used by the peer core code.,,ChristopherFerris,elli-androulaki,v_thirugnanam,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,288000,288000,,0%,288000,288000,,,,,,,,,,,,,,,,,,,,,,FAB-354,,,,,FAB-581,FAB-582,FAB-583,FAB-615,FAB-682,FAB-744,FAB-824,,,,,,,,,,,,,,,,Unset,,,FAB-353,,,,,,,,,"1|hzxdgf:",,,,Unset,,Sprint 1,Sprint 2,Sprint 4 - Crypto,Sprint 5 - Crypto,,,,,,,,,,,,8.0,Unset,,,,,,,,,,,ChristopherFerris,elli-androulaki,v_thirugnanam,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"12/Oct/16 7:14 PM;elli-androulaki;Related gerrit reviews: 
https://gerrit.hyperledger.org/r/#/c/1641/1
https://gerrit.hyperledger.org/r/#/c/1653/1
https://gerrit.hyperledger.org/r/#/c/1645/1

(for tcert key-generation/signing)
https://gerrit.hyperledger.org/r/#/c/1647/1
;;;","13/Oct/16 5:02 AM;ChristopherFerris;Elli, if these reviews satisfy this JIRA, then it should be in 'In Review' status.;;;","13/Oct/16 6:40 AM;elli-androulaki;Hi Chris, 
These changesets refer to this JIRA item, but they do not satisfy it completely. There are still some functions (related to encryption decryption) that have not been implemented.
Also these changesets refer to branch 0.6. Not sure I should create a new JIRA item for the master, since this part of the code would be the same for both branches.
Let me know which option would confuse contributors/reviewers the least...
Thanks.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
As an infrastructure developer i want to ensure that all crypto calls within the nodejs client go through the fabric crypto library (BCCSP),FAB-356,12657,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jimthematrix,elli-androulaki,elli-androulaki,12/Sep/16 11:31 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,15/Sep/16 7:07 PM,,,,,fabric-crypto,,,0,Security,,,,,"This requires that this library defined in FAB-354, and whose software provider was implemented in FAB-355/FAB-823, is used throughout the fabric client sdk in Node.
",,elli-androulaki,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,288000,288000,,0%,288000,288000,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-682,,,,,,,,,,,,,,,,,,,,,,,,,FAB-353,,,,,,,,,"1|hzx6jz:",,,,,,Sprint 9  - Crypto,Sprint 10 - Crypto,,,,,,,,,,,,,,8.0,,,,,,,,,,,,elli-androulaki,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"11/Oct/16 12:08 AM;elli-androulaki;Strongly related to FAB-615.
Associated Gerrit review https://gerrit.hyperledger.org/r/#/c/1647/
;;;","19/Jan/17 6:11 PM;elli-androulaki;[~jimthematrix] I suspect this may already be done; just adding here to double check :);;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
create fabric-sdk-node repository and mirror,FAB-357,12658,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ChristopherFerris,ChristopherFerris,ChristopherFerris,12/Sep/16 11:53 PM,28/Aug/18 6:35 AM,28/Oct/23 2:57 AM,13/Sep/16 1:54 AM,,,,,,,,0,build-system,,,,,"create fabric-sdk-node repository and mirror as with other fabric repos. same maintainer set as fabric, please.",,ChristopherFerris,ryjones,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,28800,28800,,0%,28800,28800,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxa5z:",,,,,,Sprint 1,,,,,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,ryjones,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"13/Sep/16 1:54 AM;ChristopherFerris;https://gerrit.hyperledger.org/r/#/admin/projects/fabric-sdk-node

[~ryjones] is this mirrored?;;;","13/Sep/16 2:15 AM;ryjones;[~ChristopherFerris] mirroring is running https://github.com/hyperledger/fabric-sdk-node;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
hyperledger/fabric-javaenv Docker image build failures on s390x platform,FAB-358,12659,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,sanchezl,harrijk,harrijk,13/Sep/16 3:09 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,13/Apr/17 12:23 AM,,,v1.0.0,,fabric-peer,,,0,,,,,,"I am running on an Ubuntu 16.04 KVM image within a zKVM LPAR on the z Systems platform (s390x) and using Hyperledger Fabric build *03c8bad*.

I have run into two issues when issuing the *make peer* command and both issues are related to the building of the *hyperledger/fabric-javaenv* Docker image.

h3. Issue #1
The *Dockerfile.in* located in fabric/images/javaenv is pulling down an x86 platform Docker image ( openjdk:8 ) from Docker Hub and using it as a base image to build the javaenv Docker image.  As a result, during the execution of step 2 within the javaenv Dockerfile, an *exec format* error occurs when attempting to run the wget command.

{quote}Step 2 : RUN wget https://services.gradle.org/distributions/gradle-2.12-bin.zip -P /tmp --quiet
 ---> Running in 090e83e1e6f2
rpc error: code = 2 desc = ""oci runtime error: exec format error""{quote}

As it is currently coded in the *fabric/images/javaenv/Dockerfile.in* file, the s390x platform cannot execute Docker containers built from Docker images created on non-s390x platforms.

I was able to resolve the issue, by changing the *FROM *statement within the Dockerfile.in file to use *hyperledger/fabric-baseimage* that is built during the make process and add a *RUN* statement to install openjdk-8-jdk, which is pulled from s390x Ubuntu repositories.

NOTE: The numbers  listed in the file below are # (hashtags) and got formatted as numbers. I still need to get up to speed with this editor. :)

The contents of *fabric/images/javaenv/Dockerfile.in* were changed to:

FROM hyperledger/fabric-baseimage
# FROM openjdk:8
RUN apt-get install -y openjdk-8-jdk
RUN wget https://services.gradle.org/distributions/gradle-2.12-bin.zip -P /tmp --quiet
RUN unzip -q /tmp/gradle-2.12-bin.zip -d /opt && rm /tmp/gradle-2.12-bin.zip
RUN ln -s /opt/gradle-2.12/bin/gradle /usr/bin
ADD javashimsrc.tar.bz2 /root
ADD protos.tar.bz2 /root
WORKDIR /root
# Build java shim after copying proto files from fabric/proto
RUN core/chaincode/shim/java/javabuild.sh


h3. Issue #2
After I updated the fabric/images/javaenv/Dockerfile.in file to use the hyperledger/fabric-baseimage instead of the x86 openjdk:8 Docker image, the building of the javaenv Docker image progressed until step 8, where an error occurred while building the Java shim:

{quote}Step 8 : RUN core/chaincode/shim/java/javabuild.sh
 ---> Running in 3c66c3d93df9

FAILURE: Build failed with an exception.

* Where:
Build file '/root/core/chaincode/shim/java/build.gradle' line: 29

* What went wrong:
An exception occurred applying plugin request [id: 'java']
> Failed to apply plugin [id 'osdetector']
   > Could not create an instance of type com.google.gradle.osdetector.OsDetectorExtension_Decorated.

* Try:
Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output.
The command '/bin/sh -c core/chaincode/shim/java/javabuild.sh' returned a non-zero code: 1
Makefile:217: recipe for target 'build/image/javaenv/.dummy' failed
make: *** [build/image/javaenv/.dummy] Error 1{quote}

At this point I suspected that the s390x platform was not supported for this shim build.  To confirm this I performed the following operations:

I commented out the following line from fabric/images/javaenv/Dockerfile.in:
{quote}RUN core/chaincode/shim/java/javabuild.sh{quote}

I then ran the make and this allowed for a modified hyperledger/fabric-javaenv image to be built for debugging.

Next I ran a Docker container using the modified hyperledger/fabric-javaenv Docker image. Once inside the javaenv container, I issued the following commands:

{quote}apt-get install -y vim
vim /root/core/chaincode/shim/java/javabuild.sh

Change:
gradle -q -b ${PARENTDIR}/core/chaincode/shim/java/build.gradle clean

TO:
gradle --stacktrace --debug -b ${PARENTDIR}/core/chaincode/shim/java/build.gradle clean

Save the javabuild.sh file

cd /root
core/chaincode/shim/java/javabuild.sh
{quote}
After running the javabuild.sh script the following stacktrace was displayed:

{quote}17:47:11.825 [INFO] [com.google.gradle.osdetector.OsDetector] ------------------------------------------------------------------------
17:47:11.826 [INFO] [com.google.gradle.osdetector.OsDetector] Detecting the operating system and CPU architecture
17:47:11.827 [INFO] [com.google.gradle.osdetector.OsDetector] ------------------------------------------------------------------------
17:47:11.828 [INFO] [com.google.gradle.osdetector.OsDetector] os.detected.name=linux
17:47:11.829 [INFO] [com.google.gradle.osdetector.OsDetector] os.detected.arch=unknown
17:47:11.829 [INFO] [com.google.gradle.osdetector.OsDetector] os.detected.classifier=linux-unknown
17:47:11.831 [DEBUG] [org.gradle.configuration.project.BuildScriptProcessor] Timing: Running the build script took 3.703 secs
17:47:11.874 [ERROR] [org.gradle.BuildExceptionReporter]
17:47:11.875 [ERROR] [org.gradle.BuildExceptionReporter] FAILURE: Build failed with an exception.
17:47:11.876 [ERROR] [org.gradle.BuildExceptionReporter]
17:47:11.876 [ERROR] [org.gradle.BuildExceptionReporter] * Where:
17:47:11.877 [ERROR] [org.gradle.BuildExceptionReporter] Build file '/root/core/chaincode/shim/java/build.gradle' line: 29
17:47:11.877 [ERROR] [org.gradle.BuildExceptionReporter]
17:47:11.878 [ERROR] [org.gradle.BuildExceptionReporter] * What went wrong:
17:47:11.879 [ERROR] [org.gradle.BuildExceptionReporter] An exception occurred applying plugin request [id: 'java']
17:47:11.879 [ERROR] [org.gradle.BuildExceptionReporter] > Failed to apply plugin [id 'osdetector']
17:47:11.880 [ERROR] [org.gradle.BuildExceptionReporter]    > Could not create an instance of type com.google.gradle.osdetector.OsDetectorExtension_Decorated.
17:47:11.881 [ERROR] [org.gradle.BuildExceptionReporter]
17:47:11.881 [ERROR] [org.gradle.BuildExceptionReporter] * Exception is:
17:47:11.884 [ERROR] [org.gradle.BuildExceptionReporter] org.gradle.api.plugins.InvalidPluginException: An exception occurred applying plugin request [id: 'java']
17:47:11.884 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.plugin.use.internal.DefaultPluginRequestApplicator.applyPlugin(DefaultPluginRequestApplicator.java:178)
17:47:11.885 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.plugin.use.internal.DefaultPluginRequestApplicator.applyPlugins(DefaultPluginRequestApplicator.java:139)
17:47:11.886 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.configuration.DefaultScriptPluginFactory$ScriptPluginImpl.apply(DefaultScriptPluginFactory.java:137)
17:47:11.886 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.configuration.project.BuildScriptProcessor.execute(BuildScriptProcessor.java:38)
17:47:11.887 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.configuration.project.BuildScriptProcessor.execute(BuildScriptProcessor.java:25)
17:47:11.887 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.configuration.project.ConfigureActionsProjectEvaluator.evaluate(ConfigureActionsProjectEvaluator.java:34)
17:47:11.888 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.configuration.project.LifecycleProjectEvaluator.evaluate(LifecycleProjectEvaluator.java:55)
17:47:11.888 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.api.internal.project.AbstractProject.evaluate(AbstractProject.java:532)
17:47:11.889 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.api.internal.project.AbstractProject.evaluate(AbstractProject.java:93)
17:47:11.890 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.execution.TaskPathProjectEvaluator.configureHierarchy(TaskPathProjectEvaluator.java:47)
17:47:11.890 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.configuration.DefaultBuildConfigurer.configure(DefaultBuildConfigurer.java:35)
17:47:11.891 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.initialization.DefaultGradleLauncher$2.run(DefaultGradleLauncher.java:125)
17:47:11.891 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.internal.Factories$1.create(Factories.java:22)
17:47:11.892 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:90)
17:47:11.892 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:52)
17:47:11.893 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.initialization.DefaultGradleLauncher.doBuildStages(DefaultGradleLauncher.java:122)
17:47:11.893 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.initialization.DefaultGradleLauncher.access$200(DefaultGradleLauncher.java:32)
17:47:11.894 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.initialization.DefaultGradleLauncher$1.create(DefaultGradleLauncher.java:99)
17:47:11.894 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.initialization.DefaultGradleLauncher$1.create(DefaultGradleLauncher.java:93)
17:47:11.894 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:90)
17:47:11.895 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:62)
17:47:11.895 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.initialization.DefaultGradleLauncher.doBuild(DefaultGradleLauncher.java:93)
17:47:11.896 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.initialization.DefaultGradleLauncher.run(DefaultGradleLauncher.java:82)
17:47:11.896 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.launcher.exec.InProcessBuildActionExecuter$DefaultBuildController.run(InProcessBuildActionExecuter.java:94)
17:47:11.897 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.tooling.internal.provider.ExecuteBuildActionRunner.run(ExecuteBuildActionRunner.java:28)
17:47:11.898 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)
17:47:11.898 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:43)
17:47:11.899 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:28)
17:47:11.899 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.launcher.exec.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:75)
17:47:11.900 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.launcher.exec.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:45)
17:47:11.900 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.launcher.exec.DaemonUsageSuggestingBuildActionExecuter.execute(DaemonUsageSuggestingBuildActionExecuter.java:51)
17:47:11.901 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.launcher.exec.DaemonUsageSuggestingBuildActionExecuter.execute(DaemonUsageSuggestingBuildActionExecuter.java:28)
17:47:11.901 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.launcher.cli.RunBuildAction.run(RunBuildAction.java:43)
17:47:11.902 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.internal.Actions$RunnableActionAdapter.execute(Actions.java:170)
17:47:11.902 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.launcher.cli.CommandLineActionFactory$ParseAndBuildAction.execute(CommandLineActionFactory.java:237)
17:47:11.903 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.launcher.cli.CommandLineActionFactory$ParseAndBuildAction.execute(CommandLineActionFactory.java:210)
17:47:11.903 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.launcher.cli.JavaRuntimeValidationAction.execute(JavaRuntimeValidationAction.java:35)
17:47:11.904 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.launcher.cli.JavaRuntimeValidationAction.execute(JavaRuntimeValidationAction.java:24)
17:47:11.904 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.launcher.cli.CommandLineActionFactory$WithLogging.execute(CommandLineActionFactory.java:206)
17:47:11.905 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.launcher.cli.CommandLineActionFactory$WithLogging.execute(CommandLineActionFactory.java:169)
17:47:11.905 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.launcher.cli.ExceptionReportingAction.execute(ExceptionReportingAction.java:33)
17:47:11.906 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.launcher.cli.ExceptionReportingAction.execute(ExceptionReportingAction.java:22)
17:47:11.906 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.launcher.Main.doAction(Main.java:33)
17:47:11.907 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.launcher.bootstrap.EntryPoint.run(EntryPoint.java:45)
17:47:11.907 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.launcher.bootstrap.ProcessBootstrap.runNoExit(ProcessBootstrap.java:54)
17:47:11.908 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.launcher.bootstrap.ProcessBootstrap.run(ProcessBootstrap.java:35)
17:47:11.908 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.launcher.GradleMain.main(GradleMain.java:23)
17:47:11.908 [ERROR] [org.gradle.BuildExceptionReporter] Caused by: org.gradle.api.internal.plugins.PluginApplicationException: Failed to apply plugin [id 'osdetector']
17:47:11.909 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.api.internal.plugins.DefaultPluginManager.doApply(DefaultPluginManager.java:153)
17:47:11.909 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.api.internal.plugins.DefaultPluginManager.apply(DefaultPluginManager.java:112)
17:47:11.910 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.api.internal.plugins.DefaultObjectConfigurationAction.applyType(DefaultObjectConfigurationAction.java:112)
17:47:11.910 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.api.internal.plugins.DefaultObjectConfigurationAction.access$200(DefaultObjectConfigurationAction.java:35)
17:47:11.911 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.api.internal.plugins.DefaultObjectConfigurationAction$3.run(DefaultObjectConfigurationAction.java:79)
17:47:11.912 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.api.internal.plugins.DefaultObjectConfigurationAction.execute(DefaultObjectConfigurationAction.java:135)
17:47:11.912 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.api.internal.project.AbstractPluginAware.apply(AbstractPluginAware.java:46)
17:47:11.913 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.api.plugins.PluginAware$apply.call(Unknown Source)
17:47:11.913 [ERROR] [org.gradle.BuildExceptionReporter]        at com.google.protobuf.gradle.ProtobufPlugin.doApply(ProtobufPlugin.groovy:104)
17:47:11.914 [ERROR] [org.gradle.BuildExceptionReporter]        at com.google.protobuf.gradle.ProtobufPlugin$_apply_closure1.doCall(ProtobufPlugin.groovy:86)
17:47:11.914 [ERROR] [org.gradle.BuildExceptionReporter]        at com.sun.proxy.$Proxy28.execute(Unknown Source)
17:47:11.914 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.api.internal.plugins.DefaultPluginManager$2.execute(DefaultPluginManager.java:209)
17:47:11.915 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.api.internal.plugins.DefaultPluginManager$2.execute(DefaultPluginManager.java:207)
17:47:11.915 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.listener.ActionBroadcast.execute(ActionBroadcast.java:39)
17:47:11.916 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.api.internal.DefaultDomainObjectCollection.doAdd(DefaultDomainObjectCollection.java:165)
17:47:11.916 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.api.internal.DefaultDomainObjectCollection.add(DefaultDomainObjectCollection.java:159)
17:47:11.917 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.api.internal.plugins.DefaultPluginManager$1.run(DefaultPluginManager.java:91)
17:47:11.917 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.api.internal.plugins.DefaultPluginManager.doApply(DefaultPluginManager.java:147)
17:47:11.918 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.api.internal.plugins.DefaultPluginManager.apply(DefaultPluginManager.java:104)
17:47:11.918 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.plugin.use.internal.DefaultPluginRequestApplicator$6.run(DefaultPluginRequestApplicator.java:141)
17:47:11.919 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.plugin.use.internal.DefaultPluginRequestApplicator.applyPlugin(DefaultPluginRequestApplicator.java:166)
17:47:11.919 [ERROR] [org.gradle.BuildExceptionReporter]        ... 46 more
17:47:11.920 [ERROR] [org.gradle.BuildExceptionReporter] Caused by: org.gradle.internal.reflect.ObjectInstantiationException: Could not create an instance of type com.google.gradle.osdetector.OsDetectorExtension_Decorated.
17:47:11.920 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.internal.reflect.DirectInstantiator.newInstance(DirectInstantiator.java:51)
17:47:11.921 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.api.internal.ClassGeneratorBackedInstantiator.newInstance(ClassGeneratorBackedInstantiator.java:36)
17:47:11.921 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.api.internal.plugins.DefaultConvention.create(DefaultConvention.java:106)
17:47:11.922 [ERROR] [org.gradle.BuildExceptionReporter]        at com.google.gradle.osdetector.OsDetectorPlugin.apply(OsDetectorPlugin.groovy:23)
17:47:11.922 [ERROR] [org.gradle.BuildExceptionReporter]        at com.google.gradle.osdetector.OsDetectorPlugin.apply(OsDetectorPlugin.groovy)
17:47:11.923 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.api.internal.plugins.ImperativeOnlyPluginApplicator.applyImperative(ImperativeOnlyPluginApplicator.java:35)
17:47:11.923 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.api.internal.plugins.RuleBasedPluginApplicator.applyImperative(RuleBasedPluginApplicator.java:43)
17:47:11.924 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.api.internal.plugins.DefaultPluginManager.doApply(DefaultPluginManager.java:137)
17:47:11.924 [ERROR] [org.gradle.BuildExceptionReporter]        ... 66 more
17:47:11.925 [ERROR] [org.gradle.BuildExceptionReporter] Caused by: java.lang.ExceptionInInitializerError
17:47:11.925 [ERROR] [org.gradle.BuildExceptionReporter]        at com.google.gradle.osdetector.OsDetectorExtension.<init>(OsDetectorPlugin.groovy:28)
17:47:11.926 [ERROR] [org.gradle.BuildExceptionReporter]        at com.google.gradle.osdetector.OsDetectorExtension_Decorated.<init>(Unknown Source)
17:47:11.926 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.internal.reflect.DirectInstantiator.newInstance(DirectInstantiator.java:49)
17:47:11.927 [ERROR] [org.gradle.BuildExceptionReporter]        ... 73 more
17:47:11.927 [ERROR] [org.gradle.BuildExceptionReporter] Caused by: kr.motd.maven.os.DetectionException: unknown os.arch: s390x
17:47:11.928 [ERROR] [org.gradle.BuildExceptionReporter]        at kr.motd.maven.os.Detector.detect(Detector.java:54)
17:47:11.928 [ERROR] [org.gradle.BuildExceptionReporter]        at com.google.gradle.osdetector.OsDetector$Impl.<init>(OsDetector.java:55)
17:47:11.929 [ERROR] [org.gradle.BuildExceptionReporter]        at com.google.gradle.osdetector.OsDetector.<clinit>(OsDetector.java:27)
17:47:11.929 [ERROR] [org.gradle.BuildExceptionReporter]        ... 76 more
17:47:11.930 [ERROR] [org.gradle.BuildExceptionReporter]
17:47:11.930 [LIFECYCLE] [org.gradle.BuildResultLogger]
17:47:11.931 [LIFECYCLE] [org.gradle.BuildResultLogger] BUILD FAILED{quote}

As can be seen in the stacktrace above, the s390x platform is not supported when attempting to build the Java shim.
",,bsmita,ChristopherFerris,denyeart,gennadyl,harrijk,inatatsu,rameshthoomu,samding01,satheeshk,silliman,SriramaSharma,vpaprots,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-273,,,,,,,,,FABCJ-105,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxbyf:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,bsmita,ChristopherFerris,denyeart,gennadyl,harrijk,inatatsu,rameshthoomu,samding01,satheeshk,silliman,SriramaSharma,vpaprots,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"13/Sep/16 11:48 AM;ChristopherFerris;we should stub out java shim build on Z for now.;;;","13/Sep/16 9:27 PM;harrijk;In addition to the stubbing out of the java shim, the javaenv Dockerfile FROM statement needs to be changed to something other than an x86-only base image.  Otherwise, the build will still fail.;;;","13/Sep/16 11:02 PM;satheeshk;Java docker env needs only openjdk, gradle and maven. So this can follow the same approach as Base image to figure out the architecture and use that as the base image `FROM _BASE_`, then add openjdk, gradle and maven to it. 

Gradle use osdetector plugin to figure out OS architecture information to generate java source from .proto for compilation, and it fails there. We can try the new gradle protobuf plugin that uses maven's latest osdetector plugin.;;;","15/Sep/16 12:02 AM;SriramaSharma;The same issue is applicable for ppc64le platform as well. 

Maven's osdetector plugin (version >1.3.0 ) has support for s390x and ppc64le. so using that plugin would help surpass the first issue. However subsequently, in build.gradle file, 'protoc' and 'grpc-jaca' is being pulled from public maven repository which only has x86_64 binaries. 

So as a next step, if we can make use of 'hyperledger/fabric-baseimage' directly in the javaenv Dockerfile FROM statement,  and add openjdk, gradle, and maven on top of it. Then we could even point the path in build.gradle to pick local 'protoc' which is part of the fabric base image (as against to pulling it from maven repo).;;;","21/Sep/16 3:33 AM;rameshthoomu;Observed below error while testing [~SriramaSharma] patch (https://github.com/SriramaSharma/fabric/tree/v0.6) on Power node:

00:21:56.855 ?   	github.com/hyperledger/fabric/core/chaincode/platforms/car	[no test files]
00:22:09.645 2016/09/20 17:52:43 setting Number of procs to -1, was 8
00:22:09.645 2016/09/20 17:52:47 Failed Chaincode docker build:
00:22:09.645 Step 1 : FROM hyperledger/fabric-ccenv:ppc64le-0.6.1-preview-snapshot-9fca22a
00:22:09.645  ---> 0baa76e0f8c8
00:22:09.645 Step 2 : COPY package.car /tmp/package.car
00:22:09.645  ---> 0dfc7155ca77
00:22:09.645 Removing intermediate container accd4658da32
00:22:09.645 Step 3 : RUN chaintool buildcar /tmp/package.car -o $GOPATH/bin/c54f83ff2d38a4b9ebf0e7ea1ce35e2022c8144048a664e89bb2a7d43c2f6df063703721c804eef8a53a91e3f74f902fdd7b8e75bc1c5f16b6eba079db4cc55f && rm /tmp/package.car
00:22:09.645  ---> Running in a32c8cdc0ca1
00:22:09.645 [91mUnrecognized option: -client
00:22:09.645 Error: Could not create the Java Virtual Machine.
00:22:09.645 Error: A fatal exception has occurred. Program will exit.
00:22:09.645 [0m
00:22:09.645 --- FAIL: TestCar_BuildImage (3.40s)
00:22:09.645 	car_test.go:53: Error building Chaincode container: The command '/bin/sh -c chaintool buildcar /tmp/package.car -o $GOPATH/bin/c54f83ff2d38a4b9ebf0e7ea1ce35e2022c8144048a664e89bb2a7d43c2f6df063703721c804eef8a53a91e3f74f902fdd7b8e75bc1c5f16b6eba079db4cc55f && rm /tmp/package.car' returned a non-zero code: 1
00:22:09.645 FAIL
00:22:09.645 coverage: 0.0% of statements
00:22:09.645 FAIL	github.com/hyperledger/fabric/core/chaincode/platforms/car/test	3.438s
00:22:09.657 error: exit status

Build file: https://jenkins.hyperledger.org/sandbox/job/fabric-on-power/27/console.

[~ghaskins] [~bsmita] [~harrijk] [~muralisr] inputs please?;;;","22/Sep/16 12:51 AM;bsmita;With Power it seems chaintool gives the following error:
Unrecognized option: -client
Error: Could not create the Java Virtual Machine.
Error: A fatal exception has occurred. Program will exit.

This is because JVM on Power does not take -client flag. 

Greg Haskins put in a patch for chaintool :  :jvm-opts [""-server""]
He will be dropping in this patch soon, may be version v0.9.1;;;","22/Sep/16 5:07 AM;samding01;The issue seems to me that gradle uses os-maven-plugin  that identifies the OS, however the default version (1.2.3) does not know s390x. After replacing it with version 1.4.0, it can progress, but failed in a new place:

  git diff core/chaincode/shim/java/build.gradle
diff --git a/core/chaincode/shim/java/build.gradle b/core/chaincode/shim/java/build.gradle
index 871ae83..1c3f58a 100644
--- a/core/chaincode/shim/java/build.gradle
+++ b/core/chaincode/shim/java/build.gradle
@@ -22,12 +22,14 @@ buildscript {
     }
     dependencies {
         classpath 'com.google.protobuf:protobuf-gradle-plugin:0.7.6'
+        classpath ""gradle.plugin.com.google.gradle:osdetector-gradle-plugin:1.4.0""
     }
 }

 plugins {
     id ""java""
     id ""com.google.protobuf"" version ""0.7.6""
+    id ""com.google.osdetector"" version ""1.4.0""
     id ""eclipse""
     id ""maven-publish""

and
   {quote} $  gradle -b core/chaincode/shim/java/build.gradle clean
        ............
         FAILURE: Build failed with an exception.

        * What went wrong:
        A problem occurred configuring project ':core:chaincode:shim:java'.
       > Could not resolve all dependencies for configuration ':core:chaincode:shim:java:protobufToolsLocator_protoc'.
        > Could not find protoc-linux-s390_64.exe (com.google.protobuf:protoc:3.0.0-beta-2).
           Searched in the following locations:
                 https://repo1.maven.org/maven2/com/google/protobuf/protoc/3.0.0-beta-2/protoc-3.0.0-beta-2-linux-s390_64.exe

         * Try:
         Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output.

          BUILD FAILED
 {quote}

""protoc-3.0.0-beta-2-linux-s390_64.exe""  is not existing. ;;;","26/Sep/16 11:26 PM;harrijk;Hi Sam.

I believe this issue you are seeing was supposed to be addressed with a pull request that was done on Github before they moved to Gerrit.

See https://github.com/hyperledger-archives/fabric/pull/2280

I'm not sure why all of these pull requests didn't get moved into gerrit.;;;","26/Sep/16 11:43 PM;samding01;Hi John,

Yes, the  #2280 lets us build ""protoc"". but the java images needs another ""protoc-gen-grpc-java"" from grpc-java, 
do yo have any updated information to build    ""protoc-gen-grpc-java""?

Thanks,

;;;","26/Sep/16 11:57 PM;harrijk;Hi Sam.

I don't have any information on building protoc-gen-grpc-java.  You can check with Gong Su as he seems to be on top off the latest issues. ;;;","08/Nov/16 12:41 AM;harrijk;Here are the list of issues with building the javaenv docker image for the z Systems (s390x) platform:

*1.* The version of os.detector used in the java shim's build.gradle file does not recognize the s390x platform.
*Mitigation Path:* include the classpath ""gradle.plugin.com.google.gradle:osdetector-gradle-plugin:1.4.0"" in the build.gradle file's buildscript dependency list.

*2.* The protoc:3.0.0-beta-2 and protoc-gen-grpc-java-0.13.2 dependencies to build the java shim do not exist on the maven repositories for the s390x platforms.
*Mitigation Path:* Both of the above dependencies (protoc and protoc-gen-grpc-java) need to be manually built for the s390x platform.  I am working on a solution to include both of the dependencies when the javaenv docker image is built with minimal changes to the build.gradle and the main fabric/Makefile files as well as reducing the build time for the s390x version of the javaenv docker image.

As soon as these issues are resolved, we can take the next step of incorporating z Systems into the CI Pipeline for Fabric builds.;;;","08/Nov/16 1:19 AM;vpaprots;We need opinion from developers at DTCC, [~satheeshk] perhaps. If they miss spam from JIRA, it might be good to ask for their opinion/review at #fabric-sdk-java. There are two other considerations:
- Greg Haskins had mentioned, why don't we use baseimage for javaenv base?
- on #fabric-sdk-java there was talk about moving to maven, which doesn't/shouldn't require as much arm-twisting to get to work on p/z, maybe that is getting ready?;;;","08/Nov/16 1:28 AM;harrijk;One of the solutions that I'm looking at is to include both of the java shim build dependencies in the s390x fabric-baseimage and then use fabric-baseimage for the javeenv docker image build.

I have not done anything with the #fabric-sdk-java channel, but will take a look.;;;","08/Nov/16 2:26 PM;satheeshk;We moved away from the the common base image to make the Java chaincode runtime docker image leaner. If this solves problem with the build then we can start to use the fabric-base image again. The reason we use osdetector plugin is to generate Java classes from proto files using native protoc binaries. Moving to Maven does not actually solve this.

We can work around this with 2 approaches,
1. Checking the generated source files in the repository ( There was some discussion to remove the checked in code from git)
2. Try to use the pure java code generator (https://github.com/psaradhi/protobuf) currently in the works. I am testing this and we can hope to integrate this soon.
By doing this we would no longer need protoc:3.0.0-beta-2 and protoc-gen-grpc-java-0.13.2.

Besides, this is something I could see it happen again, if we were to include other native code libraries in the future and its not supported in p/z platforms. ;;;","09/Nov/16 6:04 AM;harrijk;[~satheeshk], ideally option #1 would be my preference.  If I read it correctly, this option would eliminate any need to compile the proto files into java source files.

Option #2 would be my second choice.

What would it take to move forward with option #1?  Is there anything that I could do to accelerate this effort?

[~ghaskins], your thoughts?;;;","12/Apr/17 5:45 AM;denyeart;[~harrijk][~rameshthoomu][~sanchezl][~greg.haskins]
Any update on this one? Is it still a valid defect?  Should the target be 1.0.0 or 1.1?;;;","12/Apr/17 6:47 AM;denyeart;Is this related to FAB-1794?;;;","12/Apr/17 7:20 AM;harrijk;[~denyeart] [~sanchezl] [~greg.haskins] ...This issue relates for FAB-1794.  Although changes have been made to the Java SHIM build process, the issue still remains that the Java SHIM cannot build on z and p due to architecture specific pre-reqs that are currently not available.  The end result of this issue is that Java chaincode is not currently supported on z or p.

I had attempted to bump up the priority of FAB-1794 to ""highest"", but it was brought back down to ""high"".  I would like to have Java chaincode support in HL 1.0, if possible

Luis has started to take a look at what is involved to resolve this Java SHIM build issue for z and p.  ;;;","12/Apr/17 10:52 AM;denyeart;[~harrijk] Can either FAB-358 or FAB-1794 be closed as dup of the other one?  Or do we need two different fixes?;;;","12/Apr/17 11:11 PM;harrijk;[~denyeart] You can close out FAB-358 as a dup of FAB-1794. ;;;",,,,,,,,,,,,,,
Bootstrapping a blockchain network with Orderers and Peers,FAB-359,12660,,Epic,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,binhn,smithbk,smithbk,13/Sep/16 4:14 AM,14/Jan/19 12:28 PM,28/Oct/23 2:57 AM,19/Apr/17 10:13 PM,,,v1.0.0,,fabric-peer,,,0,consensus,Endorser,MembershipServices,,,"Bootstrapping Fabric network including bootstrapping 2 components: Orderers and Peers. Orderers make up a network of nodes with mesh connections. Peers network uses gossip to communicate with one another but direct connection with the Orderer network. All connections are TLS.

Each Orderer is configured by an administrative CLI command, which provides the necessary bootstrapping data, including a list of trusted roots, a list of Orderer certificates and IP addresses, a set of specific consensus algorithm properties, and access control policies. With this information, an Orderer may start up and connect with other Orderers.

Each Peer requires at least the following configurations:
# An enrollment certificate to participate in the network. The certificate may come from any CA as long as the CA is part of the trusted roots on the consensus service that the Peer will connect to
# A list of the Orderer certificates and IP addresses, which the administrative CLI from the consensus service can generate
# A list of trusted root certificates
# An optional list of channels that the Peer should subscribe. Unless explicitly configured, the Peer does not subscribe to any channels upon starting up

",,baohua,ChristopherFerris,dianfu,grapebaba,inatatsu,ishihara.shun,jeffgarratt,jyellick,kchristidis,markparz,mastersingh24,sanchezl,smithbk,tuand,v_thirugnanam,wutongtree,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,288000,115200,,0%,316800,115200,,,,,,,,,,,,,,,,,,,,,,FAB-426,FABC-697,FAB-686,,,FAB-708,FAB-1141,,,,,,,,"08/Oct/16 2:46 AM;sanchezl;Bootstrap.png;https://jira.hyperledger.org/secure/attachment/10112/Bootstrap.png","08/Oct/16 2:47 AM;sanchezl;Bootstrap.txt;https://jira.hyperledger.org/secure/attachment/10113/Bootstrap.txt","12/Oct/16 6:10 AM;jeffgarratt;bootstrap.feature;https://jira.hyperledger.org/secure/attachment/10122/bootstrap.feature","07/Oct/16 11:36 PM;tuand;bootstrap.png;https://jira.hyperledger.org/secure/attachment/10110/bootstrap.png","07/Oct/16 11:36 PM;tuand;bootstrap.txt;https://jira.hyperledger.org/secure/attachment/10111/bootstrap.txt",,,,,,,,Unset,,Unset,,,Bootstrap,,,,Unset,,,,"1|hzx94n:",,,,Unset,Unset,Sprint 1,Sprint 2,Sprint 3,,,,,,,,,,,,,8.0,,,,,,,,,,,,baohua,ChristopherFerris,dianfu,grapebaba,inatatsu,ishihara.shun,jeffgarratt,jyellick,kchristidis,markparz,mastersingh24,sanchezl,smithbk,tuand,v_thirugnanam,wutongtree,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,feature/ca,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"19/Sep/16 9:42 PM;ChristopherFerris;https://gerrit.hyperledger.org/r/#/c/1121/;;;","21/Sep/16 3:22 AM;markparz;I want to verify that after the yaml file is updated, it requires a manual reboot, is there any notification to the members that there was a change?;;;","24/Sep/16 9:30 PM;ChristopherFerris;So, reviewing this more closely, this is a rather clumsy design. Picking the peer id out of yaml scales operationally, how? You really want to have something that will be unique to each peer that is NOT dependent on someone knowing all the other names (which in a truly decentralized network you would not know, and for a system such as this, should not need to know. 

hashids is a means of generating unique ids, has implementations galore including js, java and go, all that is needed is some salt, an alphabet and a number or array of numbers. The salt could be a phrase, or company name, whatever. The alphabet we can choose, and the number we could have delivered from some sort of decentralized registrar (one per network member). It could be baked into the membership services and returned to a peer when it registers for an ecert, saved to a file and used hence-forth by that peer just as the ecert is used. http://hashids.org/

This gives us unique names for the peers without needing to know a priori the other names in the network. Hard coding names in config is fine for a toy, but seriously, the design above cannot be what we envisage as MVP for v1.

We really need to be considering operational aspects in our design, or else we'll build something that no one can meaningfully deploy.;;;","25/Sep/16 3:59 AM;smithbk;[~ibmmark] Mark, the yaml file is not updated.  It contains the peer ID and is not changed.  The file that is created is a json file containing the public certificates to trust.  The files in the trust directory are for bootstrapping only.  After bootstrapping and it is able to connect to the system ledger, this trust information is taken from the system ledger.  When it is updated, it does not require a peer restart.;;;","25/Sep/16 5:14 AM;smithbk;[~ChristopherFerris] Chris, this is for bootstrapping a network which requires some out-of-band communication.  There is an assumed agreement among all company's who want to join, so they would each know one another's company name.  The peer IDs would be prefixed by the company's name and would be unique assuming each company doesn't reuse peer IDs, which doesn't seem unmanageable/unscalable to me.  That said, if it is a big deal, we could dynamically assign a peer ID when enrolling the peer with MS.  For customers using their own CA, it would still be up to them to manually configure a unique peer ID.;;;","01/Oct/16 12:30 AM;jeffgarratt;[~keithsmith]  I worry that we are not taking into consideration the impact of multi-chains wrt to orderers and boostrap.  I have attempted to walk through the bootstrap perspective from the peer wrt to the orderer, and it seems to me that we cannot exclude the orderer from the concept of boostrap (https://jira.hyperledger.org/browse/FAB-426).  ;;;","04/Oct/16 12:54 AM;jyellick;[~keithsmith], [~jeffgarratt] pointed me to this issue and I'm also concerned that the ordering service is not mentioned in this bootstrapping process.

I'll comment further, in FAB-360, but it seems to me that we should not have two different paths for configuration of peer membership unless it is absolutely necessary.  I'm certain I am missing some things, but what would be the problem with the following flow?

1. Start MS1, MS2
2. Create and start ordering service (see notes)
2. Start P1-P4
3. Each peer submits a registration transaction because they are joining the network
4. Each peer receives the stream of blocks, informing them of what peers are registered

This glosses over the issue of how the ordering service knows which clients to accept transactions from, but, this is an issue which needs to be solved regardless, and eliminates any and all manual distribution of key material.

A few notes:

When starting the ordering service it will need some initial configuration to generate the genesis block, likely things like CA certificates for MS1/MS2.  When creating the service, the contents and hash of the genesis block could be returned, and the peers could be configured to verify the genesis block against this hash, to prevent the orderer from falsifying trust.

How are clients required to authenticate to the ordering service? Are all members readers and writers? Can a client invoking the broadcast API submit a transaction with someone else's signature? How do the peers validate the TLS integrity of their connection to the orderer?  How does the orderer learn of changes in peer membership? How does all of this change with multiple channels?  I think these questions need to be settled soon.;;;","04/Oct/16 5:19 AM;jyellick;So, just finished a long chat over the phone with Keith about this, and wanted to summarize here.

A few key points:

1. Referenced above are Peers 1,2,3,4.  These are not peers, these are orderers.
2. Because this is for the orderer network, the number of orderers involved is likely to be small, and the manual distribution of key material is something that is likely unavoidable for bootstrap
3. Because the orderers are not peers, they cannot be expected to support peer API calls or chaincodes, they also do not know how to apply MVCC data, so some other format is required
4. Orderers do not need CA certificates, each orderer has a unique ID, so a list of orderer certificates is all that is required

Some proposed solutions:

1. Configuration should be encoded as a special transaction which is much simpler than the MVCC model.  This should hopefully be a proposed configuration, and signatures of agreement from the interested parties.  No simulation result, or changeset, instead the entire config should be embedded.  We are looking for help from the crypto team on this.
2. Configuration should be partitioned by function (ie, the set of orderer certificates should be different from the set of peer CAs)
3. The bootstrapping should be either an ordered list of transactions (or equivalently, a block) which contains the special configuration transactions
4. Peers (not orderers) can connect to the ordering service for bootstrapping and do _not_ need the manual key distribution function
5. The COP function can be pulled into a tool for creating the configuration proposal, endorsing/signing the configuration proposal, and submitting the proposal.

Some other thoughts:

1. We should be careful to define the configuration structure to also embed its policy for modification.  IE, do all peer CAs need to sign in order to add, or is one sufficient?
2. We should think about what happens if we ever need to violate the configuration and update, IE, what if we require all peer CAs to sign, and one of the CAs goes out of business / needs to be kicked out of the network.  This would likely require a sort of 're-bootstrapping', but ideally in a way which allows the current chain to continue.;;;","04/Oct/16 10:19 PM;tuand;added links to other stories related to bootstrapping;;;","04/Oct/16 10:22 PM;tuand;I don't see how the discussion switched from peer to orderer ?

Could you add a flow diagram so that we can have a clearer view of the interactions between person/peer/orderer ?;;;","05/Oct/16 12:50 AM;smithbk;See my comments in {color:#d04437}<keith></keith>{color} related to Jason's previous comments ...

A few key points:

1. Referenced above are Peers 1,2,3,4. These are not peers, these are orderers.
{color:red}{color:#d04437}<keith>
I initially implemented this FAB to work with v0.6 which is why I said peers instead of orderers, but the code was written generically so it could be applied to a group of orderers in the same way. 
</keith>{color}{color}

2. Because this is for the orderer network, the number of orderers involved is likely to be small, and the manual distribution of key material is something that is likely unavoidable for bootstrap
{color:#d04437}<keith>
It is unavoidable unless you use a single CA for all orderers.  See the 1st use case in section 3 of https://docs.google.com/document/d/1TRYHcaT8yMn8MZlDtreqzkDcXx0WI50AV2JpAcvAM5w/edit#heading=h.5e6ytu5dk9vv 
The 2nd use case using multiple CAs does require this manual distribution. 
</keith>{color} 

3. Because the orderers are not peers, they cannot be expected to support peer API calls or chaincodes, they also do not know how to apply MVCC data, so some other format is required
{color:#d04437}<keith>
If we don't have MVCC (or some simplified version of this), then it assumes the config update operations do not depend upon the current state of the config.  For example, we couldn't have a single ""update config"" but would have to have more specific operations like ""add CA cert"" and ""remove CA cert"", etc.  I think this is more complex and less extensible.  I think it would be simpler to have a single ""update config"" but to maintain a simple counter of the current version of the config.  Each ""update config"" operation must have the version which is being updated and fails if it doesn't match.  This avoids the race condition.
</keith>{color} 

4. Orderers do not need CA certificates, each orderer has a unique ID, so a list of orderer certificates is all that is required
{color:#d04437}<keith>
By ""CA certificates"" I assume you mean it doesn't have to be a cert issued by a real CA that runs outside of the orderer process.  If this is what you mean, I would say the orderers do not *require* a CA certificate but a CA certificate *may* be used.  I'll use the term ""trusted root certificate"" which can be any cert.  So assuming each orderer has it's own trusted root cert (which it could get in any number of ways, i.e. cop, openssl, etc), cop will then provide a way of turning the list of certs into a deterministic, ordered list of transactions to be injected into the genesis block during bootstrap.
</keith>{color} 

Some proposed solutions:

1. Configuration should be encoded as a special transaction which is much simpler than the MVCC model. This should hopefully be a proposed configuration, and signatures of agreement from the interested parties. No simulation result, or changeset, instead the entire config should be embedded. We are looking for help from the crypto team on this.
{color:#d04437}<keith>
As mentioned previously, I think this special transaction requires a simple version number to avoid race conditions.
</keith>{color} 

2. Configuration should be partitioned by function (ie, the set of orderer certificates should be different from the set of peer CAs)
{color:#d04437}<keith>
Agreed
</keith>{color}

3. The bootstrapping should be either an ordered list of transactions (or equivalently, a block) which contains the special configuration transactions
{color:#d04437}<keith>
Agreed, was thinking of an ordered list of transactions as mentioned earlier
</keith>{color}

4. Peers (not orderers) can connect to the ordering service for bootstrapping and do not need the manual key distribution function
{color:#d04437}<keith>
This is what FAB-360 discusses but I agree there is a gap.  The reason for the gap is that I was told that there would be a single system ledger shared by all peers *and orderers* and I was designing around this, but Jason says the only ledger the orderers know about is the raw ledger.  We need clarity on this.
</keith>{color}

5. The COP function can be pulled into a tool for creating the configuration proposal, endorsing/signing the configuration proposal, and submitting the proposal.
{color:#d04437}<keith>
See section 1.3 of https://docs.google.com/document/d/1TRYHcaT8yMn8MZlDtreqzkDcXx0WI50AV2JpAcvAM5w/edit for the cop cli commands, but again in order to implement this, it was assuming a system chaincode and system ledger in orderers.  This definitely needs more discussion.
</keith>{color}

Some other thoughts:

1. We should be careful to define the configuration structure to also embed its policy for modification. IE, do all peer CAs need to sign in order to add, or is one sufficient?
 {color:#d04437}<keith>
The type of policy cop will provide is JSON-based and simple to start with similar to the following:
    { ""percentage"": 100 }
which means in order to update, we need signatures associated with all current trusted root certs in order to add a new trusted root cert to the list.  Or
     { ""names"": [<DN1>,<DN2>] }
which means in order to update, we need the signature associated with two distinquished names.
</keith>{color}

2. We should think about what happens if we ever need to violate the configuration and update, IE, what if we require all peer CAs to sign, and one of the CAs goes out of business / needs to be kicked out of the network. This would likely require a sort of 're-bootstrapping', but ideally in a way which allows the current chain to continue.
{color:#d04437}<keith>
The removal policy might say something like ""I can remove myself OR I can be removed if everyone else agrees that I should be removed"".
In other words, a CA may be voted off of the island by other CAs, if that is the desirable policy.
But yes, it would be possible, however, to define a policy such that if a CA loses the private key, then you're in trouble.
We would need to document how to evaluate risk.
</keith>{color}
;;;","05/Oct/16 2:51 AM;sanchezl;[~tuand], as I understand it, this story does not involve the peers at all. I've posted a draft feature on gerrit (https://gerrit.hyperledger.org/r/#/c/1469/) that we can use as a starting point on our way to consensus. 

After I get enough comments on the change set, we'll need to update the description of this story to match.

The fact that there are multiple membership services seems trivial, so I propose a new name for this story:
* *As an administrator, I want to bootstrap a new raw chain.*

Next, we'll need a story about bootstrapping the peers with the genesis block (which contains the orderer config). I'll take a closer look at the existing stories, tasks and epics and propose a cleanup of all the bootstrap related items.
;;;","05/Oct/16 3:09 AM;kchristidis;{quote}This is what FAB-360 discusses but I agree there is a gap. The reason for the gap is that I was told that there would be a single system ledger shared by all peers and orderers and I was designing around this, but Jason says the only ledger the orderers know about is the raw ledger. We need clarity on this.{quote}

Keith, the raw ledger that the orderers know about *+_is_+* this system ledger shared by all peers and orderers. Hopefully this eliminates any confusion.;;;","05/Oct/16 8:39 PM;mastersingh24;Are we not getting about 500 miles ahead of ourselves here?  (sorry if this seems harsh).

While I understand trying to have a common set of libraries, mechanisms, etc, I am not sure how we can explicitly design anything at this point.  What do I mean?

The way I see it:

+*Ordering Service*+

1) We will have an ordering service (and possibly multiple implementations - e.g. Solo, PBFT, Kafka, etc)
2) Peer will connect to these ordering service(s)
3) Ordering services will likely need to provide access control for ""peers"" and ""peers"" will need to be able to trust ""ordering services""

For 1), some of these ordering services will have the need for nodes to explicityly whitelist each other.  I will assert that we can't necessarily dictate how this is done except perhaps for ones which we build - e.g. the SBFT ordering service and the Kafka orderer

For now, let's start with the case of the sBFT orderer.  In this case, we know that each sBFT node must know the total number of nodes and the identities of each of those nodes.  This will require that nodes explicitly each provide some type of identity and that the other nodes will only connect to / allow connections from node identities which are part of some whitelist.

(note:  in the text below - ""node"" refers to an sBFT orderer node)

Questions:

1) Have we decided how nodes will identify each other?  Perhaps we assume will use cryptographic identities and that these will be extracted verified via digital digital signatures?   Perhaps we will require TLS (I would assert that we should just default to TLS and make sure we get it right ) and require that each node explicitly trust the TLS certificates of every other node?

2) Clearly if we choose either one (or both) of the options above, they have the same basic requirement - all nodes need to know the cryptographic ""identities"" of all nodes

3) Clearly for this to work, each node must be aware of the identities of all the nodes that will be part of the ""ordering service"" when it starts up   (we'll have to address dynamically adding / removing nodes in the future as well).

Then of course each node needs to provide / generate its cryptographic identity

Finally, we expect that clients of the ordering service will be required to ""authenticate"" with / be ""authorized by"" the ordering service before they can send/receive data from any channel in the ordering service (even if there is only one channel).  So again, my question is have we decided how we expect peers to provide their identity to an ordering service node?   Will we simply again be using digital signatures and trusting specific public keys (whether individual or some type of CA)

So have we even gotten this far?   Proving that a network of sBFT nodes can use a whitelist and only allow nodes from that whitelist to connect / participate?   If not, then how can we expect to know what type of ""bootstrap"" configuration to provide?

As an aside, assuming that we go down the TLS / PKIX for digitail signatures route, then we simply need to be able to load up the trusted certificates into a trust store - and Keith has showed how that could work.  He also has some code for nodes to generate their own identity which is useful for testing purposes.

+*""Peer Nodes""*+

We can go through the same thing in terms of any given peer attempting to connect to the ordering service.  There will likely be different information required by peers when working with different ordering services.   We do, however, more or less have the transport / API / interface(s) which the peer will use to send/receive data from the ordering service.  There is definitely *some* information that each peer will need to know about node(s) in the ordering service.  I will assert that this information will be different depending on the ordering service implementation.

I think just getting the sBFT  / orderer is a good enough start, so I'll stop here for now
;;;","06/Oct/16 6:39 AM;jyellick;> Keith, the raw ledger that the orderers know about is this system ledger shared by all peers and orderers. Hopefully this eliminates any confusion.

This is another case of our overloaded terminology biting us.  What [~kchristidis] is referring to as  ""raw ledger"" might more appropriately be called ""raw chain"", because it is all of the blocks and block contents.  What [~smithbk] is referring to is the KV store resulting from processing that ""raw chain"" as fabric transactions.  So yes, the orderer and the fabric have access to the same raw chain, but the orderer _does not_ run chaincode.

I am currently working with the crypto team in #fabric-crypto to try to get a much simplified transaction format that both the orderer and fabric can understand without bringing all of the complexity of the peer fabric side into the orderer.  Once we have this, then both the orderer and the peer can have the same view of some subset of what could be considered 'ledger state'.  In this case, that state should be extremely simple, and limited to expressing things like certificates and signature policies.

Because there was no clear fabric agnostic way to specify policy (this was embedded in the concept of system chaincode) I've written a fist pass https://gerrit.hyperledger.org/r/#/c/1487/ at a way specify this in a light and consumable way for both the fabric peer and the orderer.

> 1) Have we decided how nodes will identify each other? Perhaps we assume will use cryptographic identities and that these will be extracted verified via digital digital signatures? Perhaps we will require TLS (I would assert that we should just default to TLS and make sure we get it right ) and require that each node explicitly trust the TLS certificates of every other node?

The plan is to use TLS certificates.  For a system like SBFT, this will require every orderer node to generate a certficate and keypair, then embed the public piece into configuration which is distributed to all nodes before starting.

> 2) Clearly if we choose either one (or both) of the options above, they have the same basic requirement - all nodes need to know the cryptographic ""identities"" of all nodes

Agreed

> 3) Clearly for this to work, each node must be aware of the identities of all the nodes that will be part of the ""ordering service"" when it starts up (we'll have to address dynamically adding / removing nodes in the future as well).

Yes, I would prefer for the mechanism for bootstrapping and dynamic reconfiguration be the same, ie, to bootstrap, put a special transaction in the genesis block, to reconfigure inject a special transaction into the network (which goes into effect when it becomes part of a block)

>  So again, my question is have we decided how we expect peers to provide their identity to an ordering service node? Will we simply again be using digital signatures and trusting specific public keys (whether individual or some type of CA)

I've been told that knowing the peer CA certificates is sufficient (and to verify that the signature is from a cert signed by that CA).

>  Proving that a network of sBFT nodes can use a whitelist and only allow nodes from that whitelist to connect / participate? If not, then how can we expect to know what type of ""bootstrap"" configuration to provide?

[~corecode] proved this out months ago, but using some one-off configuration mechanisms.  This is clearly not technically very challenging, but making it user friendly probably is.  To me, the challenge is to express this configuration in a way that both the orderers and the peers can understand.

> There is definitely some information that each peer will need to know about node(s) in the ordering service. I will assert that this information will be different depending on the ordering service implementation.

I think the 'some information' can likely be distilled to either ""The genesis block"" or I think what would be much easier to consume, would be ""Hash of the genesis block and address of the ordering service"".  With the latter set of information, the peer can connect and retrieve the genesis block (with full confidence it is correct because of the hash) and then parse whatever additional more sophisticated information is needed to properly talk to the ordering service.  IE, is this a BFT ordering service? If so, what is f? Should I expect signatures on the blocks I get back and if so, what  set of signatures? etc.

At this point, I'm convinced it's not worth waiting for finalized transaction formats, so I am stubbing and mocking out structures for the pieces that I think will need to be there, and am going to try to plug these into the end to end flow that [~muralisr] put together.;;;","06/Oct/16 9:30 AM;smithbk;[~mastersingh24]  Gari, see my responses in {color:#d04437}<keith></keith>{color} below.

*Ordering Service*

1) We will have an ordering service (and possibly multiple implementations - e.g. Solo, PBFT, Kafka, etc)
2) Peer will connect to these ordering service(s)
3) Ordering services will likely need to provide access control for ""peers"" and ""peers"" will need to be able to trust ""ordering services""

For 1), some of these ordering services will have the need for nodes to explicityly whitelist each other. I will assert that we can't necessarily dictate how this is done except perhaps for ones which we build - e.g. the SBFT ordering service and the Kafka orderer
{color:#d04437}<keith>Right, how an ordering service nodes authenticate themselves to one another is hidden inside the ordering service implementation and not visible to it's clients.  But for the ordering services which we build, we should reuse code & processes as much as possible for orderer-to-orderer authentication.</keith>{color}

For now, let's start with the case of the sBFT orderer. In this case, we know that each sBFT node must know the total number of nodes and the identities of each of those nodes. This will require that nodes explicitly each provide some type of identity and that the other nodes will only connect to / allow connections from node identities which are part of some whitelist.

(note: in the text below - ""node"" refers to an sBFT orderer node)

Questions:

1) Have we decided how nodes will identify each other? Perhaps we assume will use cryptographic identities and that these will be extracted verified via digital digital signatures? Perhaps we will require TLS (I would assert that we should just default to TLS and make sure we get it right ) and require that each node explicitly trust the TLS certificates of every other node?
 {color:#d04437}<keith>
Yes, I think that both orderers and peers should only be supported with mutual TLS.  This will force us to ""get it right"", to test fully, and to make it as easy to use as possible.
</keith>{color}

2) Clearly if we choose either one (or both) of the options above, they have the same basic requirement - all nodes need to know the cryptographic ""identities"" of all nodes
 {color:#d04437}<keith>Yes, of course</keith>{color}

3) Clearly for this to work, each node must be aware of the identities of all the nodes that will be part of the ""ordering service"" when it starts up (we'll have to address dynamically adding / removing nodes in the future as well).
{color:#d04437}<keith>Yes, I think something similar to the process in FAB-360 will work for the dynamic part, which I'll update later to discuss orderers.  But 1st want to finish bootstrapping.</keith>{color}

Then of course each node needs to provide / generate its cryptographic identity

Finally, we expect that clients of the ordering service will be required to ""authenticate"" with / be ""authorized by"" the ordering service before they can send/receive data from any channel in the ordering service (even if there is only one channel). So again, my question is have we decided how we expect peers to provide their identity to an ordering service node? Will we simply again be using digital signatures and trusting specific public keys (whether individual or some type of CA)
{color:#d04437}<keith>
I think it should work as follows ...
The orderer accepts connections over a mutual TLS port from both orderers, peers, and SDK.
The orderer (or COP w/in the orderer) maintains a list of orderer certs and a separate list of peer CA certs.
The trust store of the orderer's TLS port contains certs from both lists. 
After accepting the connection, the orderer gets the TLS client cert and checks against a orderer certs to determine
if the connection is from an orderer or not.  If an orderer needs to distinguish between peer and SDK clients, we could
build that in also though I don't think that is needed, right?  
</keith>{color}

So have we even gotten this far? Proving that a network of sBFT nodes can use a whitelist and only allow nodes from that whitelist to connect / participate? If not, then how can we expect to know what type of ""bootstrap"" configuration to provide?

{color:#d04437}<keith>Not sure if you're asking me this question.  We've proven that we can bootstrap a group of v0.6 peers with multiple roots of trust.  For v1, we are reworking to use cfssl, and other than this, the only real difference will be keeping the orderer and peer certs separate.  We will then make the COP APIs available for the consensus team to use.</keith>{color}

As an aside, assuming that we go down the TLS / PKIX for digitail signatures route, then we simply need to be able to load up the trusted certificates into a trust store - and Keith has showed how that could work. He also has some code for nodes to generate their own identity which is useful for testing purposes.
{color:#d04437}<keith>
Even when customers provide their own certs, the COP CLI is still useful to bundle <cert, server type, host, port, etc> into a JSON format, and the COP library in the orderer be used to a) return the TLS cert pool and b) determine if a cert belongs to an order or peer.  When we start talking about dynamically adding/removing, it can also provide APIs to help. 
</keith>{color} 

*""Peer Nodes""*

We can go through the same thing in terms of any given peer attempting to connect to the ordering service. There will likely be different information required by peers when working with different ordering services. We do, however, more or less have the transport / API / interface(s) which the peer will use to send/receive data from the ordering service. There is definitely some information that each peer will need to know about node(s) in the ordering service. I will assert that this information will be different depending on the ordering service implementation.
{color:#d04437}<keith>
Could you expound on what other info may be required by a peer or by an orderer when working with a different ordering service?  I'm not sure how to design for it w/o understanding it better.
</keith>{color} 

I think just getting the sBFT / orderer is a good enough start, so I'll stop here for now
;;;","06/Oct/16 9:50 AM;smithbk;[~jyellick] Jason, with regard to signature policy, as part of the COP library APIs, see section 2.1.3 of https://docs.google.com/document/d/1TRYHcaT8yMn8MZlDtreqzkDcXx0WI50AV2JpAcvAM5w which I've pasted below.

We were planning on providing a JSON-based language starting with the following primitives, with others added as needed:

{""percentage"": 100}  - requires the signature of all current members of an arbitrary group.  See below.  This allows the policy to remain static as the size of the group changes.

{""approvers"": [""participant1"", ""participant2""]}  - requires signatures by participant 1 AND 2 ... a fixed policy for a bi-lateral contract

{""min"": 2} - require at least 2 signatures out of a group

Here is the excerpt from the google doc

2.1.3 Create endorsement with policy and collect responses

   // Create a group including 2 banks.  The names must be participant names.
   group, err := cop.NewGroup('bank1','bank2')

   // Create a new group endorsement which requires at least 51 percent of participants
   // in this group to endorse the same response.
   endorsement, err := group.NewEndorsement('{""percentage"":51}')

   // As responses are received from individual servers, call Endorse with a
   // 'response' and 'signature' of type []byte and the serverName which provided
   // provided the response.  Verify the signature using the certificate associated
   // with server 'serverId'.
   complete, err := endorsement.Endorse( response, signature, serverId)
   if complete {
      // 51% of participants have agreed with this response.
      // Return all of the signatures that agreed with this server
      signatures := endorsement.getSignatures(serverId)
   }
;;;","06/Oct/16 11:03 PM;jyellick;> see section 2.1.3 

[~keithsmith] The Google doc you linked does not contain this section, as best as I can tell.  I can see where I believe it was, so I added a comment within that it appears to be missing.

> We were planning on providing a JSON-based language starting with the following primitives

Especially since there is the DSL implementation I referenced in protobuf, a few comments.  

I prefer the idea of defining the language in Protobuf, rather than JSON, as it easily gives us the definition of 'well formed' and allows the format to be encoded into whatever format is deemed most useful and can still be encoded to / decoded from JSON easily enough.

Secondly, I think heard similar concerns voiced by [~marko.vukolic], but I think it's an incredibly bad idea to include percentage thresholds. A percentage is inherently based on network size, and therefore your rule inherently changes based based on membership.  Because of this dependency, it also makes auditing whether a policy was satisfied at a given time very difficult.  I'll give an example to illustrate why I think this is such a problem.

Example: A policy is defined as ""Requires 60%"" with a network of 10 banks, with the intent to require that 6 banks participate to form a majority, and then over time another 20 members join the network.  Now, the 'majority' actually requires 18 of the 30 participants must sign off (two more banks than are actually required for a majority).

The case could be made ""When the membership changes, a new percentage should be agreed upon"" but at that point, why not simply actually specify the actual number of signatures desired.

This also assumes that rules are _always_ written against membership counts which are controlled by the whole network.  The instant the rule ""51% of peers are required"" is in place, the system will be susceptible to basic Sybil attacks.

Finally, another push for the solution offered now in Gerrit, imagine wanting to express a rule of ""(Bank A must sign, and 6 of 10 of its subsidiaries must sign), Or (Bank A and Regulator must sign)"".  This is trivial using only the `NOutOf` construct, but I'm not sure how to describe this in the format from 2.1.3.

To my knowledge, the consensus squad did not know about any of this, have you discussed this with the endorsement team? I'd also be curious to hear what other use cases they have for endorsement.;;;","07/Oct/16 1:15 AM;kchristidis;Not picking a side on percentage-based policies, cause I think this specific point is largely irrelevant compared to the more immediate and practical concerns that we have, but since it was brought up --

(Everything below is conditional on the membership changes being posted on the chain.)

> Because of this dependency, it also makes auditing whether a policy was satisfied at a given time very difficult. I'll give an example to illustrate why I think this is such a problem.

If the auditor has trouble parsing the chain to identify when new members were added, or how many members are supposed to be present during the evaluation of block X, I think we have failed at a more fundamental level.

> The case could be made ""When the membership changes, a new percentage should be agreed upon"" but at that point, why not simply actually specify the actual number of signatures desired.

Actually, you can skip making that case if you want to have what that policy says: 60% of the banks to agree at any time. At any point you should be able to know how many members are in play, and calculate what 60% means. I don't see what makes auditing this ""very difficult""?

> This also assumes that rules are always written against membership counts which are controlled by the whole network. The instant the rule ""51% of peers are required"" is in place, the system will be susceptible to basic Sybil attacks.

In a system where you cannot forge multiple identities, how can you have a Sybil attack?;;;","07/Oct/16 1:50 AM;smithbk;Yes, we need to focus this FAB on the immediate bootstrapping concerns.  So since this FAB was not originally written for v0.6, I've rewritten it for v1.   Please re-read the description and comment only on how to bootstrap.;;;","07/Oct/16 1:57 AM;smithbk;The code segment's are badly displayed.  Anyone know how to do code format in jira?;;;","07/Oct/16 2:00 AM;smithbk;nevermind, just found it;;;","07/Oct/16 2:43 AM;jyellick;> Actually, you can skip making that case if you want to have what that policy says: 60% of the banks to agree at any time. At any point you should be able to know how many members are in play, and calculate what 60% means. I don't see what makes auditing this ""very difficult""?

Perhaps ""very difficult"" is a bit harsh.  Obviously it can be computed, and any auditor should be able to compute it.  Still, I feel like it is much simpler to be able to look at a policy, and look at a transaction (or other object) and be able to get a true/false, rather than to have a policy, a transaction, and a third piece of information which determines how the policy is applied to the transaction.

> In a system where you cannot forge multiple identities, how can you have a Sybil attack?

I said 51% of the _peers_.  This story talks about multiple roots of trust.  You have two membership services, one presumably controlled by company 1, and one by company 2.  Each may join as many peers as they wish.  Hence, company 1 could create many bogus peers in order to increase its relative voting power.  Of course, if you go and say 51% of the entities/companies, whose membership is determined by all interested parties, then I agree, there is no Sybil attack.;;;","07/Oct/16 3:01 AM;jyellick;With respect to the updated description.

> // 1) At start time, initialize cop as follows ...
> if this is the first time starting the orderer or peer (i.e. there is no raw ledger) {

I maintain that the genesis block should be created _once_ by an out of band procedure, and distributed.  An administrator will likely wish to review the contents of this generated block (and we should provide the ability to inspect it in a human readable way).  At this point, the orderer service can be bootstrapped simply by giving this genesis block to each orderer (and following a similar process of loading the genesis block from the filesystem if there is no ledger dir) and starting the orderer nodes.

The peers likewise could be given the genesis block, or, for a slightly more friendly configuration option, the peers could be given the hash of the genesis block and be told to connect to the orderer service to retrieve the genesis block (which can be validated by hash).

Assuming we have some policy verification mechanism, such that given a message, a set of (identities and signatures) and a policy, then we should be able to apply the policy to those signatures for that message, and get a true/false result.  I'm not sure what else is required beyond this?  I'm a little wary of API calls like {{certHandler.IsType('orderer')}} because it is doing validation by type, not by policy.  ;;;","07/Oct/16 6:22 AM;jyellick;After a long meeting via hangout in #fabric-consensus-dev today I think we have ironed out an agreed upon flow.  Present were [~tuand] [~muralisr] [~jeffgarratt] [~sanchezl] [~keithsmith].

*Components:*

COP: As a membership services replacement, this will be responsible for creating and signing certificates, acting as a CLI, server, or client for managing certificates.

Bootstrap: This is a separate utility which takes sets of certificates (usually generated from COP), as well as some pieces of configuration for both the orderer and peer, especially an orderer ingress policy (which peer CA certs are authorized to transact on the network), an orderer egress policy (how orderer clients (peers) should validate the orderer output) and finally the specific orderer config (for pbft f/K/L/etc.) and peer policy (bootstrapping of assorted system chaincodes).  This utility then packages this information into a transaction or set of transactions (format to be determined) which defines this config and encodes it as a genesis block.

Policy: Because we will have many components which need to enforce signature policies (endorsement policies, orderer ingress/egress policies, and config modification policies etc.), we should abstract this out into a _lightweight_ library which can be plugged into components as needed.  The peer and orderer being the two to start with.  There is the initial {{SignaturePolicy}} from the Gerrit commit above which can be used for prototyping, and potentially production use, but the ultimate format is yet to be decided.  Potentially a policy wrapper with type config can be embedded, but whatever we develop must work independent of fabric specifics like MVCC.

Addition/Removal of Participants:  Ultimately, this will come down to a policy update being executed with the relevant signatures included.  The signatures required will be specified by the policy as described above.  To facilitate this for larger or more complicated networks, a chaincode application may be built which allows for a sponsor to request membership, alerting other members to a pending membership request.  This is however a process improvement, and is not technically required for reconfiguration.

*Bootstrapping process:*

1. A bootstrap admin collects all necessary details, including the generated certificates, addresses, config etc. necessary to run the bootstrapping tool.
2. Bootstrap admin runs the bootstrap tool outputting a genesis block
3. Bootstrap admin gives the genesis block to the orderer admins who inspect it, and given it is satisfactory, copy it the ordering nodes.  The ordering nodes can then start, and service requests.  
4. When a peer wants to join, it requests a signed cert from the COP/membership services, as well as the hash of the genesis block (which the peer admin inspected and approved) and addresses of the ordering service.
5. The peer then calls {{Deliver}} on the ordering service to retrieve the genesis block (which it validates against the hash), then processes the config and policies embedded therein and is ready to participate in the network.

*Remaining points of contention:*

Policy specifications, and whether to have different policy modification rules by modification type.  On one hand, supporting different modification policies for adding or removal allows for more novel configurations, and might be especially useful for an entity which chooses to leave a network and does not wish permission to leave.  On the other hand, it introduces complexity into a shared component and risks cascading effects, such as other members being unaware that their membership thresholds have changed.

Policy specifications, whether to allow policy which relies on external state.  IE, whether to require all certs and explicit counts to be listed in the policy, or to allow this to be implicitly calculated based on a percentage or 'unanimous' etc.

Policy specifications, whether to encode updates incrementally, or require that complete policy be written after each modification.

Please feel free to chime in if anyone feels I have misinterpreted anything from the hangout.;;;","07/Oct/16 11:38 PM;tuand;To add to [~jyellick]'s comment above, this is a flow diagram of the proposed bootstrap process :  !bootstrap.png|thumbnail!  [^bootstrap.txt] 

And Jason's description of step 1 (Admin creates genesis block) :
1. Entities create CA certs for peer network
2. Entities create Self-signed certs for orderer network
3. Certs are sent to the bootstrap administrator
4. Bootstrap administrator uses bootstrapping tool to generate genesis block
 * Bootstrap administrator sets ordering ingress validation policy
 * Bootstrap administrator sets ordering egress validation policy
 * Bootstrap administrator sets ordering opaque config (for instance specifics of PBFT f/K/L/etc.)
 * Bootstrap administrator sets peer opaque config (VSCC policies, etc.)
9. Bootstrap administrator distributes the genesis block to other administrators
10. After inspection and approval, administrator installs block at orderer node and starts (orderer network now functional)
11. Admin supplies genesis hash and ordering service to peers, they connect and receive genesis block to bootstrap their configuration;;;","08/Oct/16 12:22 AM;kchristidis;Tuan, in the sequence diagram I believe that the peer should be requesting a _certificate_, right? Or, if my assumptions below are correct, it simply issues a ""join"" request that gives it back all the things that you list. (I would also update all references from ledger to chain to avoid confusion.)

Practically speaking, are there input arguments for the call that I, as a client wishing to participate in the ordering network, would pass in the function call in step 4 (from the bootstrapping process list)?

I would assume that the admin is configured to handle one ordering network + chain, so a simple join() call would return all the necessary info, same as Tuan shows in his sequence diagram. That implies that the only thing I need to know if I want to join the network is merely the URI of the bootstrap admin for that network. If that's not the case, let me know.

(By the way, on the Sybil attack issue above: ""I said 51% of the _peers_."" Yes but considering just the peers and not different orgs is nonsensical and prone to Sybil attacks no matter whether it's based on percentages or _actual numbers_. The original comment made it sound like policies specifying the actual number of signatures required would somehow be immune to this, which is not true and what raised my objection. That comment had started as a percentages versus actual numbers point, and then somehow brought peers versus orgs into the mix -- these two are orthogonal.);;;","08/Oct/16 12:51 AM;jyellick;> That comment had started as a percentages versus actual numbers point, and then somehow brought peers versus orgs into the mix – these two are orthogonal

I agree these two are orthogonal.  I only brought it up because I have most commonly heard references to percentage policies based on the number of peers.  If this is the use case for which percentages are being targeted, then we should re-examine it because any policy based on number of peers and not number of org level entities is dangerous.;;;","08/Oct/16 2:51 AM;sanchezl; !Bootstrap.png|thumbnail!   [^Bootstrap.txt] 

I updated the diagram posted in [Tuan's comment|#comment-19158] to show more details.


;;;","08/Oct/16 3:09 AM;tuand;[~kchristidis] yes, I should've type ""cert"" instead of ""key"". ([~sanchezl] is working up a more detailed flow diagram so I'm waiting for him to append before I see if I need to update mine )

We had not discussed as much how the admin goes about gathering/creating/disseminating the config data contained in the genesis block besides relying on the bootstrap tool mentioned in earlier comments. Nor did we dive into the peer/admin interaction but, I agree that that can be a join() call. We should probably decide on how the admin recognizes a request from an authorized entity or peer.;;;","08/Oct/16 6:56 PM;smithbk;WRT bootstrap ...
1) The precise details of usage and packaging of the bootstrap cli tool needs to be specified.  Is the same tool used for both pbft and kafka and other orderer services?  Do we have one cli or multiple?
2) When the peer 1st connects to the orderer over TLS, where does it get the cert pool to use for that connection?  Are you assuming that the peer has the genesis block or just the hash?  If it has the actual genesis block, it could extract the orderer certs to build its cert pool to use for the connection.  If it has only the hash, then I'm not sure exactly how that would work.

WRT policy ...
I just want to reiterate that I'm not at all convinced that a unanimous/percentage policy is a bad idea.  I think it is needed and makes things simpler.  I also want to clarify that I mean percentage-based *at the participant level, not the peer level*.  No sybil attack is possible because we are counting participants, not peers.  That said, I agree that we can have a policy engine which can change as we go forward, so it is not cast in stone.
I know what you have is intended for config update policy, but when I think of endorsement policy, signature policy processing is in 2 phases:
1) signature validation - this is what you have ... that is, once all of the signatures have been collected, someone needs to check that they are valid
2) signature collection - this is gathering endorsements and signatures one at a time with 3 possible outcomes as each response is received: yes, no, and wait.  For example, suppose we have a 2 out of 3 policy and consider two scenarios.
a)  We get back the 1st signature with response ""a"" and the answer is wait.  Then we get the 2nd signature with response ""a"", so the answer is yes with response of ""a"".
b) We get back the 1st signature with response ""a"" and the answer is wait.  Then we get the 2nd signature with response ""b"", so the answer is wait.  We get back the 3 signature with response of ""b"", so the answer is ""yes"" with a response of ""b"" because two agreed with the same answer.
    
;;;","10/Oct/16 10:07 PM;jyellick;> 2) When the peer 1st connects to the orderer over TLS, where does it get the cert pool to use for that connection? Are you assuming that the peer has the genesis block or just the hash? If it has the actual genesis block, it could extract the orderer certs to build its cert pool to use for the connection. If it has only the hash, then I'm not sure exactly how that would work.

If the genesis block is distributed to the peers manually, then I think this is all a non-issue, as the genesis block should contain all the needed information, and it should be a 'normal' startup (after doing whatever is required to pull the genesis block in).  If instead the hash of the genesis block is distributed (which I think would be a nice option to support, as it is text instead of binary), then the peer could connect with a permissive trust policy and not care about who it is connecting to.  The reason why this would be acceptable is because the peer can validate the genesis block returned by the orderer against the block hash.  It's not possible for the orderer to inject bad configuration in, because it cannot forge a block with the correct hash.  Once the peer has the genesis block, it would then drop the network connection and re-authenticate based on the contents of the genesis block for further communications.

> signature policy processing is in 2 phases: [ed: validation and collection]

These are separate issues in my head, but I agree they both need to be addressed.  However, I do think (2) is a good point because this implies the SDK will need to be able to evaluate the policies as well as the peer, which is a good argument for limiting complexity (since every SDK implementation will likely need to implement its own policy evaluation).;;;","12/Oct/16 6:11 AM;jeffgarratt;Attaching first draft of feature file for bootstrap.

 [^bootstrap.feature] ;;;","13/Oct/16 10:12 PM;tuand;I'm starting to work on FAB-665 which is to gather all the orderer certs/policies/config and create a genesis block out of the data. 

Who's working on the upstream tools as part pf FAB-359 to create the certs ?  I need to see if we have overlap and to tie the various tools together.;;;"
create repo for hyperledger/issue-bot in Gerrit ,FAB-364,12665,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ChristopherFerris,ChristopherFerris,ChristopherFerris,13/Sep/16 8:52 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,14/Sep/16 10:26 AM,,,,,,,,0,build-system,,,,,Please create repo for hyperledger/issue-bot in Gerrit . I don't think we need to mirror this one. I'll push code when created.,,ChristopherFerris,ryjones,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,7200,7200,,0%,10800,10800,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxa73:",,,,,,Sprint 1,,,,,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,ryjones,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"13/Sep/16 9:14 AM;ryjones;https://gerrit.hyperledger.org/r/#/admin/projects/issue-bot

committers are hyperledger-gerrit-fabric-committers;;;","14/Sep/16 10:26 AM;ChristopherFerris;merged;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
push hyper-issue-bot code to repo,FAB-365,12666,12665,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ChristopherFerris,ChristopherFerris,ChristopherFerris,13/Sep/16 8:53 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,14/Sep/16 10:26 AM,,,,,,,,0,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,3600,3600,,0%,3600,3600,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxbz3:",,,,,,Sprint 1,,,,,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"13/Sep/16 11:27 AM;ChristopherFerris;https://gerrit.hyperledger.org/r/#/c/1019/;;;","14/Sep/16 10:26 AM;ChristopherFerris;merged;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
docs out of synch with new chaincode api,FAB-366,12667,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,nickgaski,ChristopherFerris,ChristopherFerris,13/Sep/16 9:02 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,04/Oct/16 6:41 PM,,,v0.6,,,,,0,chaincode,Documentation,,,,"http://hyperledger-fabric.readthedocs.io/en/latest/Setup/Chaincode-setup/#running-the-cli-or-rest-api

uses dated signature",,bmos299,ChristopherFerris,nickgaski,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,28800,28800,,0%,28800,28800,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxbzb:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,bmos299,ChristopherFerris,nickgaski,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"30/Sep/16 3:04 AM;nickgaski;chris can you elaborate on this please.  The rest calls haven't changed.  what needs to be fixed here for v.6;;;","01/Oct/16 12:48 AM;bmos299;Please see https://jira.hyperledger.org/browse/FAB-543.  This one is some work.
;;;","04/Oct/16 6:41 PM;ChristopherFerris;All, I fixed this over the weekend.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
JIRA sign-up page confounds new users,FAB-368,12669,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,ryjones,ChristopherFerris,ChristopherFerris,13/Sep/16 11:24 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,14/Sep/16 10:29 AM,,,,,,,,0,build-system,,,,,"[1] https://jira.hyperledger.org/secure/Signup!default.jspa
[2] identity.linuxfoundation.org

The login has a link to sign-up for a JIRA account that leads to [1] rather than [2]. Then , after creating a JIRA ""account"" users cannot login. This confuses nearly everyone. Then they try to change their password thinking they got it wrong, and that doesn't help.

Can we disable the sign-up and make it clear that the LF ID is needed to login?",,ChristopherFerris,ryjones,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,57600,57600,,0%,57600,57600,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxa5j:",,,,,,Sprint 1,,,,,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,ryjones,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"13/Sep/16 1:42 PM;ryjones;visit https://jira.hyperledger.org/secure/Dashboard.jspa in an incognito window. that is about as good as I can make it - the text under the login pane, unfortunately, is baked in to JIRA

signup is disabled now, but it tells you to contact the admins to get an account. This is not optimal;;;","14/Sep/16 10:29 AM;ChristopherFerris;Good enough, thanks!;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Build Docker image for Kafka/Zookeeper,FAB-369,12670,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,kchristidis,kchristidis,kchristidis,13/Sep/16 3:05 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,13/Sep/16 3:10 PM,,,,,fabric-orderer,,,0,consensus,,,,,,,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,";13/Sep/16 3:37 PM;kchristidis;57600",,57600,0,57600,100%,57600,0,57600,,,,,,,,,,,,,,,,,,,,,FAB-32,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-32,,,,,,,,,"1|hzxbzr:",,,,,,Sprint 1,,,,,,,,,,,,,,,2.0,,,,,,,,,,,,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"13/Sep/16 3:10 PM;kchristidis;Forked the image provided by Spotify [1] and added several patches. (Their repo seems abadonned, sadly.) The new image can be found here [2].

[1] https://github.com/spotify/docker-kafka
[2] https://github.com/kchristidis/docker-kafka;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Build the Kafka orderer prototype,FAB-370,12671,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,kchristidis,kchristidis,kchristidis,13/Sep/16 3:06 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,13/Sep/16 3:11 PM,,,,,fabric-orderer,,,0,consensus,,,,,,,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,";13/Sep/16 3:38 PM;kchristidis;201600",,201600,0,201600,100%,201600,0,201600,,,,,,,,,,,,,,,,,,,,,FAB-32,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-32,,,,,,,,,"1|hzxbzz:",,,,,,Sprint 1,,,,,,,,,,,,,,,8.0,,,,,,,,,,,,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"13/Sep/16 3:11 PM;kchristidis;Prototype can be found here, complete with instructions [1].

[1] https://github.com/kchristidis/kafka-orderer/tree/devel;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Write unit tests for Kafka orderer,FAB-371,12672,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,kchristidis,kchristidis,kchristidis,13/Sep/16 3:07 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,13/Sep/16 3:12 PM,,,,,fabric-orderer,,,0,consensus,,,,,,,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,";13/Sep/16 3:38 PM;kchristidis;28800",";26/Sep/16 2:15 AM;kchristidis;57600",86400,0,86400,100%,86400,0,86400,,,,,,,,,,,,,,,,,,,,,FAB-32,,,,,,,,,,,,,,"26/Sep/16 2:14 AM;kchristidis;Screen Shot 2016-09-25 at 13.13.47.png;https://jira.hyperledger.org/secure/attachment/10094/Screen+Shot+2016-09-25+at+13.13.47.png",,,,,,,,,,,,,,,,FAB-32,,,,,,,,,"1|hzxc07:",,,,,,Sprint 1,,,,,,,,,,,,,,,4.0,,,,,,,,,,,,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"13/Sep/16 3:22 PM;kchristidis;I worked with the sarama mocks package today and stubbed our the mocks for all of the relevant structures in the kafka-orderer package. I did some refactoring to allow for easier testing. As a result of today's rewriting, the code _should_ be testable at any level.

To clarify what this means: Imagine that at the top level you have a Server struct, which carries a Broadcaster and a Deliverer. On the second level, the Broadcaster encompasses a Producer, and the Deliverer encompasses multiple Client-Deliverers  (as the name implies, we have one per client.) On the third level, the Client-Deliverer encompasses a Consumer.

If you want to test the Deliverer's functionality, you can call MockNewDeliverer() and you'll get an object of type Deliverer that you can test out. If you want to dive deeper, you can test out  a Client-Deliverer by calling MockNewClientDeliverer(), etc.;;;","26/Sep/16 2:14 AM;kchristidis; !Screen Shot 2016-09-25 at 13.13.47.png|thumbnail! ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Write Go-based BDD tests for Kafka orderer,FAB-372,12673,,Task,Closed,FAB,Fabric,software,denyeart,,,Lowest,Done,kchristidis,kchristidis,kchristidis,13/Sep/16 3:07 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,06/Oct/16 9:30 AM,,,,,fabric-orderer,,,0,consensus,,,,,"These will be written using the GoConvey framework, cause I want to switch over from the Python-based behave framework that we use know. (I know Go better than I know Python.) I know Jeff's already working on porting some of the BDD tests to Go as well.",,kchristidis,tuand,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,86400,86400,,0%,86400,86400,,,,,,,,,,,,,,,,,,,,,,FAB-32,,,,,FAB-387,,,,,,,,,,,,,,,,,,,,,,,,,FAB-32,,,,,,,,,"1|hzxbwv:",,,,,,Sprint 1,,,,,,,,,,,,,,,4.0,,,,,,,,,,,,kchristidis,tuand,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"27/Sep/16 6:12 AM;tuand;sprint 1 closed today. Moved to sprint 2 while work is continuing.;;;","27/Sep/16 9:25 AM;kchristidis;Jeff's work is covering me nicely here, and while a set of features in GoConvey would be nice, I have to prioritize other tasks. Will remove from this Sprint and tackle when time permits. We have BDD tests for the Kafka orderer already, so this doesn't affect us one bit.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Testing Effort for remote networks,FAB-375,12676,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,latitiah,latitiah,latitiah,13/Sep/16 10:37 PM,21/Jul/18 3:56 AM,28/Oct/23 2:57 AM,28/Apr/17 4:30 AM,,,,,fabric-quality,,,0,,,,,,The v0.5.2 and v0.6 builds should be tested in remote networks.,,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzxa27:",,,,Unset,,Sprint 1,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"28/Apr/17 4:30 AM;latitiah;No more work on v0.6 to be done at this point.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update behave tests as needed for both builds,FAB-376,12677,12676,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,latitiah,latitiah,latitiah,13/Sep/16 10:40 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,13/Sep/16 11:59 PM,,,,,fabric-orderer,,,0,consensus,,,,,Be sure to handle the port changes and update docker files and additional tests.,,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxc0v:",,,,,,Sprint 1,,,,,,,,,,,,,,,,,,,,,,,,,,,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Execute tests and create issues as needed,FAB-377,12678,12676,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,latitiah,latitiah,latitiah,13/Sep/16 10:41 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,28/Apr/17 4:31 AM,,,,,fabric-quality,,,0,,,,,,,,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxc13:",,,,,,Sprint 1,,,,,,,,,,,,,,,,,,,,,,,,,,,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Simple BFT,FAB-378,12679,,Epic,Closed,FAB,Fabric,software,denyeart,,,High,Done,corecode,tuand,tuand,13/Sep/16 10:43 PM,22/Aug/18 4:51 PM,28/Oct/23 2:57 AM,22/Aug/18 4:51 PM,,,Future,,fabric-orderer,,,0,sbft,,,,,"Placeholder for a rewrite of PBFT. v1 does not use v0.6 PBFT implementation but comes up with a new ""simplified"" one.

Simplified BFT (SBFT) follows PBFT ([http://research.microsoft.com/en-us/um/people/mcastro/publications/p398-castro-bft-tocs.pdf]) to a large extent. The differences (simplifications) are as follows:
1) No watermarks (or, hard-coded watermarks in which the high watermark equals the low watermark).
2) signatures used in view change msgs of PBFT (like in OSDI'99 version of PBFT and like in v0.6)
3) simplified state-transfer. As, most of the time, an orderer does not actually need a full Raw Ledger itself, we can often allow holes in the Raw Ledger at a given orderer. This considerably simplifies the reasoning about state transfer in SBFT.
4) extension of the 3-phase message pattern of PBFT to a 4-phase pattern in which the 4th phase (CHECKPOINT) messages are signed. f+1 signed checkpoint messages constitute a proof of an individual block. If we had 3-phase common case we would need to be having 2f+1 signatures (on COMMIT messages) for the block proof. There is a tradeoff (3 vs 4 phases in common case and 2f+1 vs f+1 signatures) explored here - the final decision on the design choice here is TBD as of Dec 2016. 
5) the retransmission component of PBFT and censorship protection aspects of PBFT are (will be) separated in a standalone component - see FAB-474 (https://jira.hyperledger.org/browse/FAB-474).
6) Requests are signed by the invoking clients (HL fabric clients and peers). 
7) SBFT will allow individual (i.e., a one-third minority) of replicas to progress with their Raw ledger, if stuck in a view change (something that PBFT w/o proactive recovery does not offer - see -FAB-707- https://jira.hyperledger.org/browse/FAB-707)
8) SBFT optimizes (reduces) PBFT quorum sizes (N-F) outside the classical config where N=3F+1",,baohua,ChristopherFerris,corecode,crazybit,daijianw,DinghaoLI 1,Eagel,fredbi,Henni,inatatsu,IngoRammer,itsme24543,Jeremy.yan,mffrench,Othman.Darwish,qiang0723,ShuoWang,tennenjl,tuand,vukolic,vzbarsky,wutongtree,yingmsky,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,Unset,,,Simplified BFT,,,,Unset,,,,"1|hzxa1r:",,,,Unset,Unset,Sprint 1,,,,,,,,,,,,,,,,,,,,,,,,,,,baohua,ChristopherFerris,corecode,crazybit,daijianw,DinghaoLI 1,Eagel,fredbi,Henni,inatatsu,IngoRammer,itsme24543,Jeremy.yan,mffrench,Othman.Darwish,qiang0723,ShuoWang,tennenjl,tuand,vukolic,vzbarsky,wutongtree,yingmsky,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"27/Sep/16 6:17 AM;tuand;[~corecode] could you break into JIRA sub-tasks and assign to sprint 2 ?  Sharon and team are checking  JIRA dashboard rather than having us on the monday calls;;;","05/Oct/16 7:45 PM;corecode;code in https://gerrit.hyperledger.org/r/#/c/1271 and https://gerrit.hyperledger.org/r/#/c/1467;;;","06/Jul/18 9:41 PM;ChristopherFerris;[~kchristidis] are we still tracking _this_ epic or is there another and this can be closed?;;;","06/Jul/18 10:00 PM;ChristopherFerris;nevermind, I see we are indeed tracking a separate epic. Closing this one;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Crash fault during ledger state portion of state transfer not handled correctly,FAB-379,12680,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,jyellick,jyellick,jyellick,13/Sep/16 10:50 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,13/Sep/16 10:54 PM,v0.5-developer-preview,v0.6,v0.5-developer-preview,v0.6,fabric-orderer,,12/Sep/16 12:00 AM,0,Consensus,,,,,"State transfer has two components, transfer of blocks, and transfer of ledger state.

If block transfer occurs before ledger state transfer, and then a peer crash-faults, the ledger state will not match the block state.  Because peers are assumed to have correct ledger state at startup, this could result in a fork of the blockchain or replying with incorrect data to queries.

The solution to this is to invalidate the state at startup, and verify it before replying to queries or executing invokes.  If the state is invalid, then it should be retrieved from another peer.",,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxa2f:",,,,,,Sprint 1,,,,,,,,,,,,,,,,,,,,,,,,,,,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
State snapshot channel buffer exhausted with no remedy,FAB-380,12681,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,jyellick,jyellick,jyellick,13/Sep/16 10:54 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,13/Sep/16 10:55 PM,v0.5-developer-preview,v0.6,v0.5-developer-preview,v0.6,fabric-orderer,,12/Sep/16 12:00 AM,0,Consensus,,,,,"During state transfer of a state snapshot, one peer sends its full world state to another.  The receiving peer puts messages into a buffer, but in fast systems, the receiving peer may not be able to keep up with the pace of the sending peer.

For this reason, the snapshot channel was created with a buffer, but, there is no feedback in place to slow transmission when the buffer fills, and for sufficiently fast systems with large world states, available RAM will be exhausted before the channel is large enough to handle the whole transmission.

The state snapshot transfer code needs to provide flow control to prevent this buffer overflowing and transfer aborting.",,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxa2n:",,,,,,Sprint 1,,,,,,,,,,,,,,,,,,,,,,,,,,,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"modify go sdk tests for consensus and ledger testing to work in local, vagrant/docker, and also external networks",FAB-381,12682,12676,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,scottz,scottz,scottz,13/Sep/16 10:54 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,13/Sep/16 11:57 PM,,,,,fabric-quality,,,0,consensus,Ledger,quality,,,"Test groupings:
obcsdk/automation scripts
obcsdk/CAT tests - consensus acceptance tests
obcsdk/ledgerstresstest tests 

To get most of tests running, make the essential modifications pertaining to:
network peers names, ports, and users, tests timing",,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxc1b:",,,,,,Sprint 1,,,,,,,,,,,,,,,,,,,,,,,,,,,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Execute go tests in CAT and ledgerstresstest directories for local and remote networks in v6,FAB-382,12683,12676,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,scottz,scottz,scottz,13/Sep/16 10:56 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,12/Nov/16 3:22 AM,,,,,fabric-quality,,,0,consensus,Ledger,quality,,,"run the tests, and create issues as needed for any problems found",,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxc1j:",,,,,,Sprint 1,,,,,,,,,,,,,,,,,,,,,,,,,,,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Verify manual state transfer works,FAB-383,12684,,Task,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,kchristidis,kchristidis,kchristidis,13/Sep/16 11:00 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,17/Sep/16 3:03 AM,,,v0.6,,fabric-orderer,,,0,consensus,,,,,"As we discussed over the weekend, following Gari's suggestion. Needed in case things go terribly bad.",,kchristidis,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,";17/Sep/16 3:27 AM;kchristidis;57600",";17/Sep/16 3:32 AM;kchristidis;28800",28800,0,86400,300%,28800,0,86400,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxa2v:",,,,,,Sprint 1,,,,,,,,,,,,,,,1.0,,,,,,,,,,,,kchristidis,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"17/Sep/16 3:01 AM;kchristidis;This works just fine.

Assume you have a ""bad"" peer whose state got corrupted and whom you want to bring up. You pick one of the other peers (a ""good"" peer) and shut it down gracefully: {{peer node stop}}

This ensures that {{db.Stop()}} is called and all of the blocks/data in memory are flushed to the disk by rocksDB.

Then copy over the good peer's {{CORE_PEER_FILESYSTEMPATH/db}} directory (default: {{/var/hyperledger/production/db}}) to the bad peer, replacing its own {{db}} folder entirely.

Restart the good and the bad peer and you should be good to go.

For anyone curious on how I tested this, I documented the procedure (for my own reference here): https://gist.github.com/kchristidis/64acf4c32da51a9afd06ede358d4c043

Thanks to [~manish-sethi] for helping me make sure the DB is stopped properly.;;;","17/Sep/16 3:30 AM;mastersingh24;do you mean {{peer node stop}}   ?
;;;","17/Sep/16 3:32 AM;kchristidis;Yes, good catch - updated it.;;;","17/Sep/16 3:34 AM;kchristidis;(Ah, the logged time for this task is not right but I cannot reset it, it seems.);;;","17/Sep/16 5:08 AM;kchristidis;I got bitten by a bug in the HashBlock function when investigating this by the way. I captured this in issue #20 in the GHE Fabric05 repo. (Thankfully, this doesn't affect the 0.6 release.);;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Standardize block format between raw ledger and validated ledger,FAB-384,12685,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,13/Sep/16 11:03 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,03/Nov/16 6:03 AM,,,,,fabric-orderer,,,0,Consensus,,,,,"The orderer work for consensus requires a raw ledger which stores blocks, and the peer work for ledger team also requires a solution which stores blocks.

Because of the commonality, a common block format needs to be decided upon that can satisfy both the needs of the raw ledger, and the validated ledger.",,denyeart,jyellick,kchristidis,mastersingh24,zmanian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,144000,144000,,0%,144000,144000,,,,,,,,,,,,,,,,,,,,,,FAB-193,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx96f:",,,,,,Sprint 2,Sprint 3,Sprint 4 - Consensus,,,,,,,,,,,,,4.0,,,,,,,,,,,,denyeart,jyellick,kchristidis,mastersingh24,zmanian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"13/Sep/16 11:35 PM;denyeart;I've changed this to a task related to FAB-193 User Story.;;;","28/Sep/16 3:09 AM;jyellick;I think there's been some general agreement, that the block format should be specified largely as bytes, with marshaled transactions as being the standard occupant of the bytes, where the `Transaction` message supports a `type` field to allow for arbitrary contents, but fabric will support the endorser/consenter/chaincode type transaction out of the box.

Looking at Simon's work, and his suggestion, I'd like to propose the following block format (in go notation for simplicity).  This is very similar to the bitcoin block format, with the addition of the BlockMetadata for unhashed data (in particular, for collections of signatures which cannot go into the hash).

{code}
type BlockHeader struct {
    Number uint64
    PreviousHash []byte // The hash of the previous block header
    ContentsHash []byte // A hash of the block contents, via MerkleTree
}

type BlockContents struct {
    contents [][]byte
}

type BlockMetadata struct {
    metadata [][]byte
}

type Block struct {
    header BlockHeader
    contents BlockContents
    metadata BlockMetadata
}
{code};;;","28/Sep/16 4:04 AM;kchristidis;What do you see going in the metadata field?;;;","28/Sep/16 4:18 AM;jyellick;Immediately, the block proof (usually a set of signatures).  But, obviously it could be used for other purposes.

I was wary of using the word 'Proof' because in some schemes, no proof may be stored here, but other data which would be different per node might be.  I could imagine for instance that someone might want to store the date and time they retrieved the block, as well as the public key of the source into the BlockMetadata.  Since everything I could come up with was essentially 'about the block', 'BlockMetadata' seemed appropriate.

I could even see the consumer of the block creating a hash chain with this data for extra auditibility.

Of course, we could also remove this field from the block definition, and instead wrapper the block in another datastructure, to make it more clear that it is not contained in the hash.  I'm not opposed to this, if you and or others believe this is the right mechanic, but opted to include it within the block definition so as not to have to invent yet another word.;;;","30/Sep/16 12:58 PM;zmanian;A block proof could be a set of signatures or a single threshold or aggregate signature + a public key and proof of membership in a merkle tree.;;;","30/Sep/16 1:40 PM;kchristidis;> a public key and proof of membership in a merkle tree

[~zmanian] Can you expand on this?;;;","30/Sep/16 1:55 PM;zmanian;Someday I'd like to port BFT Cosi [https://github.com/dedis/cosi] as consensus protocol to to Fabric. To validate the collective signatures from cosi, the validator constructs a merkle tree of all valid aggregate public keys. The block proof would consist of the aggregated signature, the aggregate public key and root of the merkle tree for the network.

;;;","30/Sep/16 2:15 PM;kchristidis;What would break if you were to remove the root of the Merkle tree of all valid aggregate public keys from the block proof?;;;","30/Sep/16 2:26 PM;zmanian;You could put the CA could hand out roots for instance. But you would need the path to public key and pubkey for validating the aggregate sig in the proof.;;;","22/Oct/16 9:08 AM;kchristidis;Can we add an update here to capture (a) what prevents us from closing this, and (b) exactly where we stand right now?

(As far as I can tell we have reached a consensus of sorts on this, and this should be marked as in review: https://gerrit.hyperledger.org/r/#/c/1361/);;;","25/Oct/16 6:07 PM;mastersingh24;Rebased and submitted to master as https://gerrit.hyperledger.org/r/#/c/1965;;;","03/Nov/16 6:03 AM;jyellick;Merged, flagging as done.;;;",,,,,,,,,,,,,,,,,,,,,,
Search is not working in fabric project documentation (readthedocs),FAB-385,12686,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,rameshthoomu,rameshthoomu,13/Sep/16 11:20 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,20/Sep/16 2:56 AM,,,,,,,,0,build-system,,,,,If I try to search for something under project (http://hyperledger-fabric.readthedocs.io/en/latest/?badge=latest) but nothing is found regardless of the word I enter. ,readthedocs,ChristopherFerris,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxc1r:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,v0.6,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"20/Sep/16 2:56 AM;ChristopherFerris;https://gerrit.hyperledger.org/r/#/c/1103/;;;","20/Sep/16 2:56 AM;ChristopherFerris;verified it seems to have been fixed. Thanks!;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add robust configuration mechanism for the orderer package,FAB-386,12687,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,13/Sep/16 11:44 PM,21/Jul/18 3:54 AM,28/Oct/23 2:57 AM,10/Oct/16 10:52 PM,,,,,fabric-orderer,,,0,Consensus,,,,,"The orderer service uses piecemeal configuration using environment variables today.  This should be done using Viper, but using the newer API which allows error on extraneous variables.

In the event that the newer version of Viper is not available, the similar but older version of the call can be used temporarily.

This should be re-usable across Solo, Kafka, and the RawLedger implementations.",,corecode,jyellick,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,57600,7200,,0%,57600,7200,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-467,FAB-507,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzx9kf:",,,,Unset,,Sprint 1,Sprint 2,,,,,,,,,,,,,,2.0,Unset,,,,,,,,,,,corecode,jyellick,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"16/Sep/16 5:39 PM;corecode;Configuration should mostly be read from the replica state (at least for pbft).;;;","17/Sep/16 2:46 AM;kchristidis;How do you provide an initial configuration to kick things off though? This is what this task addresses.;;;","17/Sep/16 8:02 AM;corecode;JSON config or commandline options?  then generate the initial node data.  I don't think viper/yaml is at all necessary.;;;","17/Sep/16 10:49 AM;kchristidis;I don't have a hard stand on this, but my main beef against JSON is that it doesn't support comments.;;;","19/Sep/16 11:31 AM;jyellick;As you point, not all configuration data needs to be consistent across all nodes, and might not be appropriate to store in the replica log.  Particularly I'm thinking things like logging levels and non-protocol level tune-ables (things like buffer or cache sizes), as well as storage locations, or anything else which might vary by system.

I also think there's something to be said for consistency with the other components in the fabric, especially as we will likely want to plug in some fabric components (like the high performance raw ledger) into the orderer.
;;;","21/Sep/16 2:59 AM;jyellick;Changeset submitted https://gerrit.hyperledger.org/r/#/c/1153/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,
Integrate the existing BDD tests to the Kafka orderer work,FAB-387,12688,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,lhaskins,kchristidis,kchristidis,14/Sep/16 12:25 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,30/Sep/16 12:53 PM,,,,,fabric-orderer,,,0,consensus,,,,,"The BDD tests that Jeff wrote are here: https://gerrit.hyperledger.org/r/gitweb?p=fabric.git;a=commit;h=ce733d223f51ca60ceed4a430a8a51f5062ada3a",,kchristidis,tuand,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-372,,,,,,,,,,,,,,"30/Sep/16 12:52 PM;kchristidis;Screen Shot 2016-09-29 at 23.23.16.png;https://jira.hyperledger.org/secure/attachment/10100/Screen+Shot+2016-09-29+at+23.23.16.png",,,,,,,,,,,,,,,,FAB-32,,,,,,,,,"1|hzx9l3:",,,,,,Sprint 1,Sprint 2,,,,,,,,,,,,,,,,,,,,,,,,,,kchristidis,tuand,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"27/Sep/16 6:13 AM;tuand;sprint 1 closed today. Move to sprint 2 while work is continuing;;;","30/Sep/16 12:53 PM;kchristidis; !Screen Shot 2016-09-29 at 23.23.16.png|thumbnail! 

All tests pass but FAB-540 needs to be resolved.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Make mock chaincode test framework take bytes arguments,FAB-390,12691,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,muralisr,muralisr,muralisr,14/Sep/16 4:59 AM,21/Jul/18 3:54 AM,28/Oct/23 2:57 AM,14/Sep/16 5:00 AM,,,,,fabric-peer,,,0,Endorser,,,,,The lifecycle system chaincode (and possibly other chaincodes) will formally use the [][]byte arguments to receive bytes payload directly. The unit test framework needs to support this. The current Mock framework uses [] string arguments for backward compatibility. Its ok to move to the [][]byte argument in the new architecture.,,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-757,,,,,,,,,"1|hzxa3z:",,,,Unset,,Sprint 1,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
`make checks` bug,FAB-393,12694,,Bug,Closed,FAB,Fabric,software,denyeart,,,Lowest,Done,ChristopherFerris,warm3snow,warm3snow,14/Sep/16 3:17 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,24/Sep/16 8:58 AM,,,v0.6,,fabric-build,,,0,build-system,getting-started,Usability,,,"$ make checks

cd gotools && make
make[1]: Entering directory '/home/opt/gopath/src/github.com/hyperledger/fabric/gotools'
Makefile:31: *** target pattern contains no '%'.  Stop.
make[1]: Leaving directory '/home/opt/gopath/src/github.com/hyperledger/fabric/gotools'
Makefile:80: recipe for target 'gotools' failed
make: *** [gotools] Error 2
",,ChristopherFerris,warm3snow,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,28800,28800,,0%,28800,28800,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx9hz:",,,,,,Sprint 2,,,,,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,warm3snow,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"24/Sep/16 8:57 AM;ChristopherFerris;cannot recreate - possibly transient error or fixed elsewhere.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
The chaincode log level cannot be changed,FAB-394,12695,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wlahti,altharp,altharp,15/Sep/16 2:18 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,17/Sep/16 3:18 AM,,,,,fabric-peer,,,0,,,,,,"Chaincode logs become large since the debug level of logging is enabled.  When attempting to change the chaincode log level by updating the logging.chaincode parameter in the core.yaml file to warning, no difference in logging is observed and there are still debug level log entries.  There is not a way to control the content of chaincode logs by either environment variables or the core.yaml file.",,altharp,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxc27:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,altharp,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"21/Sep/16 12:24 AM;wlahti;The fix was checked in at the end of last week and is now available in master.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As a Hyperledger Fabric system administrator, I want to be able to bootstrap the startup of all orderer nodes",FAB-395,12696,,Story,Closed,FAB,Fabric,software,denyeart,,,High,Done,tuand,tuand,tuand,15/Sep/16 4:50 AM,13/Dec/18 6:18 AM,28/Oct/23 2:57 AM,11/Apr/17 7:33 AM,,,WON'T FIX,,,,,0,,,,,,"Assuming that we start with one peer (P0) and one Orderer (O0), we want to be able to add other peers (P1,P2,..., Pn) and other Orderers (O1, O2,...,On) and record these additions on the blockchain.

From current discussions:
# O0 provisioned with signing cert
# O0 public key exported to file
# file imported by P0
# P0 gather [ECert, other data for identification] using O0 public key, encrypts to file
# P0 writes its identifying data to blockchain (Note that we will need a special process as consensus is not working yet )
# P0 writes O0 identifying data to blockchain ( again note special consensus process )
# O0 imports file from P0 - P0 and O0 now have a communications channel
# Other orderers are added manually like O0 or using a new process using the O0-P0 channel
# In some cases, the orderers will have to know which other nodes are authorized orderers and when we can start the consensus protocol. Re-visit the whitelist concept from the original hyperledger fabric implementation
# Adding Pn is a proposal with a TBD endorsement policy on P0...Pn-1.  If the ordering service is up then go through consensus and commit.  When Pn starts up , it will do state transfer to sync up with the existing peers. If ordering service is not yet up, fall back on special process same as for P0",,binhn,tuand,v_thirugnanam,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"15/Sep/16 4:34 AM;tuand;Bootstrap peer and consenter.jpg;https://jira.hyperledger.org/secure/attachment/10090/Bootstrap+peer+and+consenter.jpg",,,,,,,,,,,,,Unset,,ghx-label-5,FAB-810,fab-810,To Do,,,,,,,"1|hzxc2f:",,,,Unset,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,binhn,tuand,v_thirugnanam,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"22/Sep/16 4:20 AM;tuand;Updated to talk only about orderer service nodes and not peer nodes.
;;;","19/Oct/16 11:54 PM;binhn;We will use FAB-359 for bootstrap related activities;;;","20/Oct/16 2:11 AM;tuand;moved all stories to fab-359 since we are using that as the epic for bootstrapping work;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update/review the part of endorsers that does the crypto processing of a received proposal,FAB-397,12698,,Story,Closed,FAB,Fabric,software,denyeart,,,High,Done,adc,elli-androulaki,elli-androulaki,15/Sep/16 4:52 PM,21/Jul/18 3:57 AM,28/Oct/23 2:57 AM,05/Dec/16 5:46 PM,,,,,fabric-crypto,,,0,Security,,,,,"This issue relates 
 - review the code that does the parsing of a proposal to better understand it
 - ensure that all the needed security checks are in place
 - write  (refactoring from old code) the code to provide endorsements as required by the fabric-next protocol.
",,elli-androulaki,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,115200,115200,,0%,115200,115200,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-580,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-48,,,,,,,,,"1|hzx8av:",,,,Unset,,Sprint 6 - Crypto,Sprint 5 - Crypto,,,,,,,,,,,,,,4.0,Unset,,,,,,,,,,,elli-androulaki,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"24/Oct/16 9:08 PM;elli-androulaki;This issue is a review of code related to FAB-580.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update/review the clientSDK crypto code that does the crypto processing of non-confidential transactions,FAB-398,12699,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,elli-androulaki,elli-androulaki,15/Sep/16 4:56 PM,21/Jul/18 3:57 AM,28/Oct/23 2:57 AM,13/Apr/17 3:10 AM,,,,,fabric-crypto,,,0,Security,,,,,"Here, one would need to write and review the cliensdk code that does the crypto operations associated to a proposal, and of endorsement processing/transaction creation. 
We need to also ensure that the non-crypto part of the code does the necessary checks, as defined in fabric-next.proto after FAB-351 concludes.",,elli-androulaki,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-48,,,,,,,,,"1|hzx6lr:",,,,Unset,,Sprint 9  - Crypto,Sprint 10 - Crypto,,,,,,,,,,,,,,,Unset,,,,,,,,,,,elli-androulaki,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
As an infrastructure developer i want to implement the transaction validation part of the committing peer,FAB-399,12700,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ales,elli-androulaki,elli-androulaki,15/Sep/16 4:56 PM,21/Jul/18 3:55 AM,28/Oct/23 2:57 AM,09/Dec/16 7:32 PM,,,,,fabric-crypto,,,0,Security,,,,,"This relates to implementing the part of the committing peer that checks the validity of transactions received by the ordering service, using 
  1. membership service interface specified in task FAB-829
  2. security checks defined in task FAB-351
  3. BC-CSP crypto calls (when necessary and outside item 1) as defined in task FAB-355.",,elli-androulaki,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-48,,,,,,,,,"1|hzx85b:",,,,Unset,,Sprint 6 - Crypto,Sprint 5 - Crypto,Sprint 7 - Crypto,,,,,,,,,,,,,,Unset,,,,,,,,,,,elli-androulaki,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Confidential chaincode support at the endorser side,FAB-400,12701,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,elli-androulaki,elli-androulaki,15/Sep/16 4:58 PM,21/Jul/18 3:55 AM,28/Oct/23 2:57 AM,20/Mar/18 4:51 AM,,,Future,,fabric-crypto,,,0,Security,,,,,"Here a simple confidentiality/endorsement policy is assumed.
This issue is essentially an extension of the work needed for FAB-397.",,denyeart,elli-androulaki,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-48,,,,,,,,,"1|hzxc3b:",,,,Unset,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,denyeart,elli-androulaki,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"20/Mar/18 4:51 AM;denyeart;This item is outdated and being tracked in other items.  Closing this one.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Confidential chaincode support at the clientSDK side.,FAB-401,12702,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,elli-androulaki,elli-androulaki,15/Sep/16 5:00 PM,21/Jul/18 3:54 AM,28/Oct/23 2:57 AM,20/Mar/18 4:51 AM,,,Future,,fabric-crypto,,,0,Security,,,,,"Enhance the clientSDK that now supports the fabric-next protocol to submit confidential proposals, and process endorsements that corresponds to confidential chaincodes.",,denyeart,elli-androulaki,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-48,,,,,,,,,"1|hzxc3j:",,,,Unset,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,denyeart,elli-androulaki,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"20/Mar/18 4:51 AM;denyeart;This item is outdated and being tracked in other items.  Closing this one.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Confidential chaincode supoport at the committing peer side,FAB-402,12703,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,elli-androulaki,elli-androulaki,15/Sep/16 7:00 PM,21/Jul/18 3:53 AM,28/Oct/23 2:57 AM,20/Mar/18 4:50 AM,,,Future,,fabric-crypto,,,0,Security,,,,,,,denyeart,elli-androulaki,troyronda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-48,,,,,,,,,"1|hzxc3r:",,,,Unset,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,denyeart,elli-androulaki,troyronda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"20/Mar/18 4:50 AM;denyeart;This item is outdated and being tracked in other items.  Closing this one.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
recreate v0.6 branch,FAB-405,12706,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,ChristopherFerris,ChristopherFerris,16/Sep/16 1:25 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,16/Sep/16 1:26 AM,,,v0.6,,,,,0,build-system,,,,,recreate v0.6 branch after all of the identified patches have been merged.,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,3600,3600,,0%,3600,3600,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxc47:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
nodeSDK docs links are broken and missing from index,FAB-406,12707,,Bug,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,rameshthoomu,ChristopherFerris,ChristopherFerris,16/Sep/16 11:07 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,24/Sep/16 9:06 AM,,,v0.6,,,,,0,Documentation,node-SDK,,,,The links to the new nodeSDK docs are broken or missing.,,ChristopherFerris,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,7200,7200,,0%,7200,7200,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxc4f:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"17/Sep/16 10:06 AM;rameshthoomu;I have submitted patch to fix broken links and formatting issues of node sdk latest documents.

https://gerrit.hyperledger.org/r/#/c/1109/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Enable security.privacy for system chaincodes ,FAB-408,12709,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,muralisr,muralisr,18/Sep/16 8:49 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,29/Jun/17 1:13 AM,,,WON'T FIX,,fabric-peer,,,0,Endorser,,,,,"System chaincodes have been disabled if privacy is on. We need to understand the security policy for system chaincodes. 

This becomes important for the Endorser as it relies heavily on 3 chaincodes LCCC, ESCC and VSCC for its tasks",,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-757,,,,,,,,,"1|hzxa47:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"29/Jun/17 1:14 AM;muralisr;we don't have *security.privacy* in 1.0. ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
broken links in Node-sdk docs,FAB-411,12712,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,rameshthoomu,rameshthoomu,20/Sep/16 1:46 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,25/Sep/16 5:08 AM,,,,,,,,0,Documentation,,,,,"Observed few broken links in node-sdk docs and grpc port number is not correct in the below document.

http://hyperledger-fabric.readthedocs.io/en/latest/nodeSDK/sample-standalone-app/
Below are the broken links: 
seems Memebership-service.md document is removed but still referring to the doc and app-developer-overview have to rename  to app-overview.md

WARNING -  The page ""nodeSDK/app-overview.md"" contained a hyperlink to ""nodeSDK/membership-services.md"" which is not listed in the ""pages"" configuration. 
WARNING -  The page ""nodeSDK/node-sdk-indepth.md"" contained a hyperlink to ""nodeSDK/app-developer-overview.md"" which is not listed in the ""pages"" configuration",readthedocs and markdown,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxc5b:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"25/Sep/16 5:08 AM;rameshthoomu;Bret harrison fixed this in commit https://gerrit.hyperledger.org/r/#/c/1195/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
busywork: Additional timestamp and TPS for TX committed to all peers.,FAB-414,12715,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,bcbrock,dinotone,dinotone,21/Sep/16 11:59 AM,21/Jul/18 3:56 AM,28/Oct/23 2:57 AM,05/Oct/16 8:52 AM,,,,,,,,0,,,,,,We'd like to be able to understand the throughput for all transactions to be committed to all peers. ,,bcbrock,dinotone,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzxc5r:",,,,Unset,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,bcbrock,dinotone,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"22/Sep/16 2:16 AM;bcbrock;This isn't hard, I can add this.;;;","05/Oct/16 8:38 PM;dinotone;Thanks Bishop! ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
busywork: Tolerate x amount of transaction errors for a given measurement,FAB-415,12716,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,bcbrock,dinotone,dinotone,21/Sep/16 12:03 PM,21/Jul/18 3:53 AM,28/Oct/23 2:57 AM,23/Sep/16 12:56 AM,,,,,,,,0,,,,,,"Per previous conversation with Bishop, as we ramp up load, we might anticipate some lost transactions. Though these might not be perfect measurements the data will still be useful, especially if its a small # of relevant transaction failures. ",,bcbrock,dinotone,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzxc5z:",,,,Unset,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,bcbrock,dinotone,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"22/Sep/16 2:15 AM;bcbrock;Dino,

After thinking about it a bit, I'm going to push back on this one. You can already do this in a sense:

1) Run without -interlock
2) use -force to force the job to continue even in the face of errors.
3) (Optional) Use the -txDelay,-netDelay,-peerDelay to control TX issue rates

You can then look at the results and decide if ""too many"" got dropped.

The idea of a parameter that says ""allow 10% of TX to be dropped"" and interacts correctly with all of the other possible parameters and checking code would be a lot of work, and may be difficult to do sensibly. For example, imagine you are interlocking. This would require a completely new approach to interlocking, e.g. we might have to register a timeout for every single TX rather than for a block of TX as is done now, and it will probably require more than 1 parameter to cover all of the timeout and sequencing possibilities.

Given that the next generation fabric should (?) provide better reliability, and the workaround mentioned above, I currently do not plan to make this change myself. ;;;","22/Sep/16 2:41 AM;dinotone;Got it Bishop. Makes sense, and we'll consider your suggestions. I'm not sure how to close this issue. ;;;","23/Sep/16 12:54 AM;bcbrock;I do think this is a good ""lesson learned"" for a new driver. The way that busywork does interlock could be generalized, so that instead of requiring all TX just issued to be committed before continuing, we could do something like state a maximum # of TX that a client could have outstanding, and allow the client to more or less continuously submit TX (like token-based flow control).;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As an ordering service user, I want to be able to create a channel for use by a subset of the peers in the network",FAB-416,12717,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,tuand,tuand,21/Sep/16 11:28 PM,21/Jul/18 3:56 AM,28/Oct/23 2:57 AM,11/Apr/17 7:36 AM,,,WON'T FIX,,,,,0,,,,,,"(starting out as user story. May be changed to epic once we can discuss further)

A group of peers want to use a private channel into the ordering service such that only these peers can broadcast into the channel, have their proposals ordered with their own sequence number set and have the  batches delivered only through this channel.

From the discussions week of Sept 19, we need
# an api CreateChannel(channel_name,[]peers) for the channel creator to create the channel and list the peers in the group
# an update to Deliver() to specify which channel to send batches on and to verify which peers can connect to",,kchristidis,tuand,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-810,,,,,,,,,"1|hzx9m7:",,,,Unset,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,kchristidis,tuand,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"28/Sep/16 10:59 PM;yacovm;Is the channel membership supposed to be constant? monotonously increasing?
Will a peer be able to be evicted from a channel?

I'm asking this because in the long term, the connection between the consensus and the peers would be via the gossip network, and while adding a peer to a channel is easy- removing it from a channel (and notifying *all peers in that channel*) is a much harder problem. ;;;","22/Oct/16 12:31 PM;kchristidis;[~yacovm]: I believe we answered those questions in the #fabric-consensus-dev channel this past Thursday (answer: not monotonously increasing, and yes a peer will be able to be evicted from a channel), but if not, feel free to chime in again.

[~tuand]: I will close this as we will create new channel-related stories (under Binh's related epic) that match the updated channel spec.;;;","23/Oct/16 3:45 AM;yacovm;[~kchristidis], I know, and yesterday I had a chat with [~jyellick] in #fabric-gossip-dev. 
I would like to know the status of the code of this whole multi-channel support. If to be more precise- we (gossip guys) will need in the future a way of determining for each block to what peers it can be sent (Or, given a block and a peer PKI-id, can we send the block to that peer?)
From what I understood, what is written in the configuration is not the name/id/PKI-id of the peer but rather the *participant org CA membership* of the peer.
Is there a way (or is there going to be a way) of determining from that, what peers should get the block and what peers shouldn't? ;;;","24/Oct/16 3:50 AM;kchristidis;[~yacovm]: Not that I can think of.

The way we're approaching this is that it's the app's responsibility to pick the peers that will be participating on the channel. So, org A's application requests the creation of a channel by creating the appropriate config block, and after the channel has been created it passes on the channel's genesis block to a peer of its choosing (within the org) via the JoinChannel API (see step 5 in the ""Creating a channel"" section in the multi-channel document). So any peer within the org that gets a hold of that block can join the channel and broadcast/deliver from it.

So in gossip you're left with the problem of ""do I relay this block to you or not?"". I'm thinking aloud here but would it be unacceptable to relay it to all peers who belong in the same org and let them decide whether they will act on it or not? (They will act on it if they have been instructed by the org's app to do so.) An obvious drawback of this approach is that you'll be creating a lot of unnecessary traffic obviously.;;;","24/Oct/16 6:40 PM;yacovm;# But, the ordering service somehow knows what peers can get updates of that channel when they connect to it, right? So- if the ordering service knows, why can't other entities like peers also know that?
# You're saying that peers that connect to the ordering service and request blocks from a specific channel is only a subset of peers of that org that can potentially request these blocks. So you're worried about distributing blocks to peers that have no use of them, did I get that right?
# Regardless of what is possible from the design as it is today- you have to understand that any-how, a peer should be able to know if a fellow peer that requests a block (of a channel) from that peer is allowed to obtain that block from him, or not. Otherwise- there is *no way* of doing state transfer between peers, and when a new peer joins it will have to obtain all blocks starting from the genesis from the consensus. I assume that is not something we'd like to happen.;;;","24/Oct/16 10:18 PM;kchristidis;RE: 1 --

""But, the ordering service somehow knows what peers can get updates of that channel when they connect to it, right?"" Correct, via the message that these peers send along with their Deliver RPC. The current atomicbroadcast service definition doesn't support this, but it will have to be updated to include a channel ID of some sort.

""So- if the ordering service knows, why can't other entities like peers also know that?"" Good point. I'm not sure what kind of calls are exchanged between gossiping peers, but perhaps an inclusion of that same channel ID as we do in the peer-to-orderer communication is the way to go. ""If you're requesting blocks from a channel I'm a member of, and if you belong to the peer orgs that have access to this channel, I shall relay them to you."" Do you see any problems with this logic?

RE: 2 --

Correct.

RE: 3 --

I see the point about state transfer.

""a peer should be able to know if a fellow peer that requests a block (of a channel) from that peer is allowed to obtain that block from him, or not""

So I think the last paragraph in point 1 response is probably the way to go here. A peer will comply with any requests to relay blocks from chain X, as long as these requests come from peers that belong to the peer orgs that participate in chain X. And these peers find out about this chain because their org's application informed them about it via the JoinChannel API.

Let me know if you think there's any problems with this approach.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,
Gerrit docs should explain how to register ssh key,FAB-417,12718,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ChristopherFerris,ChristopherFerris,ChristopherFerris,22/Sep/16 12:34 AM,21/Jul/18 3:54 AM,28/Oct/23 2:57 AM,23/Sep/16 8:16 AM,,,v0.6,,,,,0,Documentation,,,,,Gerrit docs should explain how to register ssh key,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,28800,28800,,0%,28800,28800,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzxa9j:",,,,Unset,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,v0.6,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Enhance atomicbroadcast API to support channels,FAB-418,12719,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,jyellick,jyellick,22/Sep/16 2:40 AM,21/Jul/18 3:57 AM,28/Oct/23 2:57 AM,23/Nov/16 12:21 AM,,,,,fabric-orderer,,,0,Consensus,,,,,"In order to support delivering batches to only a subset of peers, the atomicbroadcast API must be enhanced to allow channel creation, channel membership polling or notifications, and broadcast or delivery to one or more channels.

This will require modifications to the `atomicbroadcast/ab.proto`.  This will cascade into modification of solo to support the new API.",,jyellick,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-686,,,,,,,,,"1|hzx967:",,,,Unset,,,,,,,,,,,,,,,,,8.0,Unset,,,,,,,,,,,jyellick,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"22/Oct/16 12:46 PM;kchristidis;Part of this may be covered towards the end of Sprint 4, but let's set is as Sprint 5 for now.;;;","23/Nov/16 12:24 AM;jyellick;This was resolved in https://gerrit.hyperledger.org/r/#/c/2075/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Define ab.proto channel API,FAB-419,12720,12719,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,22/Sep/16 2:42 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,23/Nov/16 12:26 AM,,,,,,,,0,,,,,,This task should define the new `ab.proto` with channels for use in the atomicbroadcast service.,,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxc67:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"06/Nov/16 11:02 AM;jyellick;This is addressed in https://gerrit.hyperledger.org/r/#/c/2257/ because the new messages include a header with chainID which can be leveraged for channel operations.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Modify solo orderer to implement the channel aware ab.proto,FAB-420,12721,12719,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,22/Sep/16 2:43 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,14/Jan/17 8:05 AM,,,,,,,,0,,,,,,"The solo orderer presently implements the single channel `ab.proto`.  However, it must be enhanced to support the newer multi-channel `ab.proto`.",,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxc6f:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add multi-ledger support to the rawledger interface,FAB-421,12722,12719,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,22/Sep/16 2:50 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,06/Dec/16 7:03 AM,,,,,,,,0,,,,,,"In order to implement channels for solo, the rawledger must support multiple chains.",,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxc6n:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Decide on orderer bootstrap design,FAB-423,12724,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,tuand,tuand,tuand,22/Sep/16 4:34 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,11/Apr/17 7:36 AM,,,WON'T FIX,,,,,0,,,,,,"From zrl/ykt/rtp discussions this week, we decided that 
* the number of nodes in an orderer service instance is static. We will not dynamically add/remove nodes (at least for the short term. Discussion on how to dynamically add/remove nodes will continue and we will look to add this feature in a future hyperledger release.)
* Orderer nodes will startup based on a whitelist listing all participating nodes ",,binhn,kchristidis,sanchezl,tuand,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,1152000,120,,0%,1152000,120,,,,,,,,,,,,,,,,,,,FAB-430,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-810,,,,,,,,,"1|hzx9lz:",,,,,,Sprint 1,Sprint 2,,,,,,,,,,,,,,16.0,,,,,,,,,,,,binhn,kchristidis,sanchezl,tuand,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"22/Sep/16 4:40 AM;tuand;The whitelist currently is viewed as a file manually created by a hyperledger administrator and manually copied to each orderer's file system

The whitelist contains , at least:
* the public key of all orderers
* Protocol specific configuration values
* a list of peers that are authorized to connect to the orderer service;;;","22/Sep/16 4:43 AM;tuand;How peers are identified and authorized to the orderer service is still in discussion.

Will check with [~keithsmith] as he's finalizing the peer bootstrap process;;;","22/Sep/16 3:20 PM;kchristidis;Is there any overlap between the work described here and Luis's FAB-29? The one tangible item from the FAB-29 work was extracting the work that Simon had done regarding bootstrapping and establishing TLS connections among all the consenters (which is also very close to what is being discussed this week).;;;","27/Sep/16 2:15 AM;sanchezl;See https://jira.hyperledger.org/browse/FAB-426 for a (WIP) feature file describing the design. ;;;","04/Oct/16 9:35 PM;kchristidis;Tuan, given the discussion in [FAB-359], are we good closing this or is there more work being done on this?;;;","04/Oct/16 10:29 PM;tuand;I can't say I understand what exactly is being done in FAB-359 so I've asked for flow diagrams.  Let's keep this one open for a day or two while we get clarification on [FAB-359];;;","11/Oct/16 5:05 PM;kchristidis;Tuan, I'm going to close this unless you think otherwise?;;;","11/Oct/16 10:52 PM;tuand;not if I beat you to it ;)  .


Close as dup of FAB-359;;;","23/Oct/16 12:51 AM;binhn;Move to graveyard FAB-810;;;",,,,,,,,,,,,,,,,,,,,,,,,,
Docker-based documentation fails to mention golang requirement,FAB-424,12725,,Bug,Closed,FAB,Fabric,software,denyeart,,,Lowest,Done,ChristopherFerris,greg.haskins,greg.haskins,23/Sep/16 1:02 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,24/Nov/16 12:41 AM,,,,,fabric-peer,,,0,Documentation,,,,,"The workflow described here

http://hyperledger-fabric.readthedocs.io/en/latest/Setup/Chaincode-setup/

neglects to mention that golang 1.6 is a prerequisite when following a docker-based workflow.

Thanks to @ant2221 via slack",,ChristopherFerris,greg.haskins,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,3600,3600,,0%,3600,3600,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxa9r:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,greg.haskins,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"24/Nov/16 12:41 AM;ChristopherFerris;this has moved to http://hyperledger-fabric.readthedocs.io/en/latest/dev-setup/devenv/ and is resolved;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Improve initial experience,FAB-425,12726,,Story,Closed,FAB,Fabric,software,denyeart,,,High,Done,ChristopherFerris,ChristopherFerris,ChristopherFerris,23/Sep/16 2:35 AM,21/Jul/18 3:54 AM,28/Oct/23 2:57 AM,24/Nov/16 12:37 AM,,,,,,,,0,Documentation,,,,,"As a new visitor, I should be able to quickly get started and should be able to find what I need.",,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,28800,28800,,0%,28800,28800,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzxa8v:",,,,Unset,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,v0.6,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"24/Sep/16 8:12 AM;ChristopherFerris;https://gerrit.hyperledger.org/r/#/c/1231/;;;","28/Sep/16 8:07 AM;ChristopherFerris;updated to reflect new name of 'fabric-starter-kit' to be more descriptive;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Non-validating engine implementation for next arch (aka skeleton),FAB-426,12727,,Task,Closed,FAB,Fabric,software,denyeart,,,High,Done,jeffgarratt,jeffgarratt,jeffgarratt,23/Sep/16 4:06 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,18/Nov/16 4:45 AM,,,,,,,,0,committer,,,,,Implementation of engine which will behave similar to prior NOOPS configuration.  The differences will be that this implementation will have consistent ledgers between peers.,,jeffgarratt,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,57600,57600,,0%,57600,57600,,,,,,,,,,,,,,,,,,,,,,FAB-29,,,,,FAB-359,,,,,,,,,"30/Sep/16 4:55 AM;jeffgarratt;2016-09-28-Bootstrap.png;https://jira.hyperledger.org/secure/attachment/10099/2016-09-28-Bootstrap.png",,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxc73:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,jeffgarratt,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"30/Sep/16 4:55 AM;jeffgarratt;Initial swipe at bootstrap to drive engine definition.

 !2016-09-28-Bootstrap.png|thumbnail! ;;;","26/Oct/16 12:10 AM;jeffgarratt;Added engine to allow for establishment of p2p network.  [Gerrit changeset|https://gerrit.hyperledger.org/r/#/c/1981/]).  Will add orderer ingestion function asap. ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Docker image build is not portable,FAB-427,12728,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,,bcbrock,bcbrock,23/Sep/16 6:16 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,02/Apr/17 9:41 PM,v0.6,,v1.0.0,,,,,0,,,,,,"I work on many different systems (X86 + POWER), so it is handy to maintain a single Hyperledger fabric tree on a network file system... except that it doesn't work anymore. This network file system quite reasonably does not allow the local ""root"" user to have any special privileges. Docker runs as root, so Docker can not access any of my files. This is the exact message I'm seeing (below). Is there a quick fix that will allow this process to complete on a network file system, or do I have to start maintaining redundant trees on every machine I use?

{code:java}
Building docker src-image
docker build -t hyperledger/fabric-src build/image/src
Sending build context to Docker daemon 12.26 MB
Step 1 : FROM hyperledger/fabric-baseimage:latest
 ---> 16a67cc02985
Step 2 : ADD gopath.tar.bz2 $GOPATH/src/github.com/hyperledger/fabric
 ---> 22d8393a8d20
Removing intermediate container d8168242f66d
Successfully built 22d8393a8d20
docker tag hyperledger/fabric-src hyperledger/fabric-src:x86_64-0.7.0-SNAPSHOT-81fd105
Building build/image/ccenv/bin/protoc-gen-go
docker: Error response from daemon: stat /gsa/ausgsa-h2/03/bcbrock/hyperledger/gopath/src/github.com/hyperledger/fabric/vendor/github.com/golang/protobuf: permission denied.
Makefile:126: recipe for target 'build/image/ccenv/bin/protoc-gen-go' failed
make: *** [build/image/ccenv/bin/protoc-gen-go] Error 125
[bcbrock@arlab178]$ 
{code}
",,Annbot,bcbrock,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxb4f:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Annbot,bcbrock,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"05/Nov/16 8:22 PM;mastersingh24;I think this has been resolved?;;;","02/Apr/17 9:41 PM;mastersingh24;I don't think this is an issue any more;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"when i docker-compose  up,i have get some error (Peer FSM cannot handle message)",FAB-428,12729,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,zhangzhen30,zhangzhen30,23/Sep/16 3:24 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,02/Apr/17 9:42 PM,v0.6,,WON'T FIX,,fabric-peer,,,0,,,,,,"vp1_1  | 06:04:41.607 [peer] handleChat -> ERRO 057 Error handling message: Peer FSM cannot handle message (DISC_GET_PEERS) with payload size (0) while in state: created
vp1_1  | 06:04:46.607 [peer] handleChat -> ERRO 058 Error handling message: Peer FSM cannot handle message (DISC_GET_PEERS) with payload size (0) while in state: created


",,altharp,mastersingh24,ShenthilkumarCK,zhangzhen30,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxc7b:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,altharp,mastersingh24,ShenthilkumarCK,zhangzhen30,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"27/Oct/16 3:46 AM;altharp;Repeating error messages such as the following are extremely prevalent in validating peer logs.  This accounts for many of the messages in the peer logs when using Hyperledger Fabric V0.5.3.

ERRO 02b[0m Error handling message: Peer FSM cannot handle message (DISC_GET_PEERS) with payload size (0) while in state: created 

The message appears to be written to the log once a minute.

All of these peer FSM messages make it hard to distinguish other messages which might be just as important or more important.  Eliminating this type of repeating message would make the peer logs more readable. ;;;","02/Apr/17 9:42 PM;mastersingh24;The peer to peer discovery / communication in v0.6 has been replaced with a new gossip layer in v1.0.0 so this is no longer relevant as we are no longer actively developing v0.6;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fabric event support  for TLS authentication,FAB-429,12730,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,pmullaney,pmullaney,pmullaney,23/Sep/16 10:53 PM,21/Jul/18 3:55 AM,28/Oct/23 2:57 AM,14/Oct/16 4:31 AM,,,,,fabric-crypto,,,0,Security,,,,,We need to support authentication for event transport.,,pmullaney,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzxc8v:",,,,Unset,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,pmullaney,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Create orderer bootstrap feature,FAB-430,12731,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sanchezl,sanchezl,sanchezl,23/Sep/16 11:18 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,11/Apr/17 7:35 AM,,,DUPLICATE,WON'T FIX,,,,0,,,,,,Create a `.feature` file describing the behavior of bootstrapping orderers. ,,sanchezl,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,86400,57600,,0%,86400,57600,,,,,,,,,,,,,,,,,,,,,FAB-423,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-810,,,,,,,,,"1|hzx9sv:",,,,,,Sprint 2,,,,,,,,,,,,,,,4.0,,,,,,,,,,,,sanchezl,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"06/Oct/16 11:49 PM;sanchezl;Closing (completing) this issue as a dup of FAB-423. Will track the feature file there.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[explorer] Instructions for installing are shown without new lines,FAB-431,12732,,Bug,Closed,FAB,Fabric,software,denyeart,,,Lowest,Done,ccooper21,ccooper21,ccooper21,24/Sep/16 2:24 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,17/Apr/17 12:57 AM,,,v1.0.0,,fabric-docs,,,0,explorer,,,,,"The instructions for installing the Hyperledger Explorer are shown without new lines on the GitHub replica due the wrong markdown being used.  This is specifically in regard to the ""/explorer_1/README.md"" file.",,ccooper21,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx9tj:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,ccooper21,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/npm_and_yarn/client/moment-timezone-0.5.35,dependabot/npm_and_yarn/client/json5-and-react-scripts-2.2.3,dependabot/npm_and_yarn/ejs-3.1.7,dependabot/npm_and_yarn/client/http-cache-semantics-4.1.1,main,dependabot/npm_and_yarn/moment-2.29.2,dependabot/npm_and_yarn/client/cookiejar-2.1.4,dependabot/npm_and_yarn/sequelize-6.29.0,dependabot/npm_and_yarn/node-fetch-2.6.7,dependabot/npm_and_yarn/express-4.17.3,dependabot/npm_and_yarn/client/e2e-test/ansi-regex-3.0.1,dependabot/npm_and_yarn/decode-uri-component-0.2.2,dependabot/npm_and_yarn/client/flat-and-wdio/mocha-framework-5.0.2,dependabot/npm_and_yarn/client/express-4.18.2,dependabot/npm_and_yarn/client/e2e-test/jpeg-js-0.4.4,dependabot/npm_and_yarn/client/json5-1.0.2,dependabot/npm_and_yarn/client/qs-6.5.3,dependabot/go_modules/app/platform/fabric/e2e-test/specs/k8s.io/client-go-0.20.0,dependabot/npm_and_yarn/json5-and-tsconfig-paths-2.2.3,dependabot/npm_and_yarn/client/terser-4.8.1,dependabot/npm_and_yarn/minimist-1.2.6,dependabot/npm_and_yarn/client/decode-uri-component-0.2.2,dependabot/npm_and_yarn/client/loader-utils-and-react-scripts-2.0.4,dependabot/npm_and_yarn/nconf-0.11.4,dependabot/npm_and_yarn/json5-1.0.2,dependabot/npm_and_yarn/jsonwebtoken-9.0.0,dependabot/npm_and_yarn/client/minimist-1.2.6,dependabot/npm_and_yarn/qs-and-body-parser-and-express-6.11.0,dependabot/go_modules/app/platform/fabric/e2e-test/specs/golang.org/x/sys-0.1.0,dependabot/npm_and_yarn/client/moment-2.29.2,dependabot/pip/docs/babel-2.9.1,,,,,,,,,,,,,,,,,,,true,"24/Sep/16 5:38 AM;ccooper21;The fix for this issue has been committed to the ""blockchain-explorer"" repository and the corresponding change can be viewed here:

http://gerrit.hyperledger.org/r/1219;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
As a Committer I want to get a batch and turn it into a Block,FAB-434,12735,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,muralisr,muralisr,25/Sep/16 1:01 AM,21/Jul/18 3:56 AM,28/Oct/23 2:57 AM,21/Oct/16 12:40 AM,,,,,fabric-peer,,,0,Endorser,,,,,"This is a overarching story involving Peer (as committer), Orderers and Gossip. ",,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-37,,,,,,,,,"1|hzxa33:",,,,Unset,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Sending an invoke transaction with confidentiality enabled to a chaincode without it enabled cause the chaincode to exit.,FAB-435,12736,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,zmanian,zmanian,25/Sep/16 1:45 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,12/Apr/17 4:04 AM,,,,,fabric-peer,,,0,,,,,,"Documenting observed and partially investigated behavior.

1. Launch a fabric network with confidentiality disabled.

2. Deploy chaincode

3. Invoke the chaincode from the SDK with confidentiality enabled.

4. the chaincode process exits with ErrDifferrentConfidentialityProtocolVersion.

What I suspect should have happened is that the invoke tx should never have been submitted to the chaincode process with the confidentiality mismatch.

",,denyeart,mastersingh24,muralisr,zmanian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx7fb:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,denyeart,mastersingh24,muralisr,zmanian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"25/Sep/16 2:37 AM;muralisr;[~zmanian] Agreed. Ideally, there should be a mechanism to compare and stop on breaking config changes. 

[~binhn], [~ChristopherFerris], [~mastersingh24], [~zmanian] 
Should this be considered in master or as part of new work in the convergence branch ?  ;;;","25/Sep/16 6:56 PM;mastersingh24;I would defer this at this point.  It's a bit ugly and inconvenient, but given things will be changing in V1 I suspect this is not worth fixing on the v0.6 release stream;;;","12/Apr/17 4:04 AM;denyeart;Not applicable in v1 - will not be fixed, closing.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
As an application developer I want to test `endorser-solo orderer-committer` flow using a minimal scaffold,FAB-437,12738,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,muralisr,muralisr,muralisr,25/Sep/16 11:06 PM,21/Jul/18 3:57 AM,28/Oct/23 2:57 AM,03/Apr/17 1:06 AM,,,,,fabric-peer,,,0,endorser,,,,,"There are stories and tasks for Endorsers, Orderers etc. This story attempts to provide minimal scaffolding so we can incrementally build and test V1 flows. The ""solo"" orderer (https://jira.hyperledger.org/browse/FAB-31) will be used for this.

A beginning towards this was made with 
https://gerrit.hyperledger.org/r/#/c/1057 (LCCC - lifecycle system chaincode), 
https://gerrit.hyperledger.org/r/#/c/1177 (CLI driver for LCCC and Endorser)

With the above, we can send ""deploy"" and ""invoke"" proposals to an Endorser and receive a ProposalResponse back. Tasks will be attached to this story for reminder of flows
* integrating with new ledger
* sending transaction to orderer from CLI and behave tests
* committing transaction from the solo orderer to the ledger 

",,ChristopherFerris,grapebaba,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"07/Oct/16 11:32 PM;muralisr;SkeletalEndToEndFlow.pptx;https://jira.hyperledger.org/secure/attachment/10109/SkeletalEndToEndFlow.pptx",,,,,,,,,,,,,Unset,,,FAB-37,,,,,,,,,"1|hzxc9j:",,,,Unset,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,ChristopherFerris,grapebaba,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"07/Oct/16 11:33 PM;muralisr;Added the PPT for the progress/skeletal end-to-end flow presented at the Oct 3-4 hackfest.;;;","03/Apr/17 12:53 AM;ChristopherFerris;Is this really still not done?;;;","03/Apr/17 1:06 AM;muralisr;[~ChristopherFerris] It is (but sometime's I can't help wondering if it is ... ;-) ).

Will mark it as done.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Java chaincode build fails on Fabric V0.6 branch ,FAB-439,12740,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,satheeshk,Ratnakar,Ratnakar,26/Sep/16 4:47 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,30/Sep/16 11:45 PM,v0.6,,v0.6,,fabric-build,,,0,0.6,chaincode,,,,"Unable to build Java chaincode on Fabric V0.6 branch as per the below link
https://github.com/hyperledger/fabric/blob/master/docs/Setup/JAVAChaincode.md#java-chaincode-deployment-in-dev-mode

Build fails with below error


{code:java}
FAILURE: Build failed with an exception.

* What went wrong:
Could not resolve all dependencies for configuration ':examples:chaincode:java:SimpleSample:compileClasspath'.
> Could not find org.hyperledger:shim-client:1.0.
  Searched in the following locations:
      file:/home/vagrant/.m2/repository/org/hyperledger/shim-client/1.0/shim-client-1.0.pom
      file:/home/vagrant/.m2/repository/org/hyperledger/shim-client/1.0/shim-client-1.0.jar
      https://repo1.maven.org/maven2/org/hyperledger/shim-client/1.0/shim-client-1.0.pom
      https://repo1.maven.org/maven2/org/hyperledger/shim-client/1.0/shim-client-1.0.jar
  Required by:
      fabric.examples.chaincode.java:SimpleSample:unspecified

* Try:
Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output.

BUILD FAILED

{code}


NOTE : 
- The problem is seen when running in dev mode works fine in net mode. ",,mastersingh24,Ratnakar,satheeshk,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"26/Sep/16 4:49 AM;Ratnakar;java_chaincode_build_failure.txt;https://jira.hyperledger.org/secure/attachment/10096/java_chaincode_build_failure.txt",,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxc9r:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mastersingh24,Ratnakar,satheeshk,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"28/Sep/16 8:05 PM;mastersingh24;[~satheeshk] - can you take a look at this?   I'd like to say we have support for Java chaincode with the v0.6 release;;;","28/Sep/16 10:08 PM;satheeshk;Hi  [~mastersingh24],

It needs a documentation update, I have submitted a patch
https://gerrit.hyperledger.org/r/#/c/1309/
;;;","29/Sep/16 3:21 AM;mastersingh24;many thanks [~satheeshk];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Prototype pluggable state database,FAB-440,12741,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,denyeart,denyeart,denyeart,26/Sep/16 4:11 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,11/Oct/16 8:04 AM,,,,,fabric-ledger,,,0,Ledger,,,,,Initial prototype to use an external state database will use CouchDB.,,denyeart,inatatsu,xiejunan,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,144000,144000,,0%,144000,144000,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-60,,,,,,,,,"1|hzx98n:",,,,,,Sprint 2,Sprint 3,,,,,,,,,,,,,,4.0,,,,,,,,,,,,denyeart,inatatsu,xiejunan,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Ledger storage of large values: For large key values, I don't want to duplicate the value in the state database, I want to point to the ledger block file instead, so that I don't incur a performance penalty when writing to the state database",FAB-441,12742,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,denyeart,denyeart,26/Sep/16 4:21 PM,23/Jan/20 3:39 AM,28/Oct/23 2:57 AM,23/Jan/20 3:39 AM,,,Future,,fabric-ledger,,,0,Ledger,stale-item,,,,"This would also help in scenarios where you don't want to trust state database, and prefer to get the data directly from the block storage (could do it for all reads/writes and not just for large data).

If we were to do this, state reads would be less efficient, and rich query would not be possible (on couchdb). These may or may not be import considerations, depending on the specific use case.",,C0rWin,denyeart,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-758,,,,,,,,,"1|hzxaon:",,,,Unset,,,,,,,,,,,,,,,,,4.0,Unset,,,,,,,,,,,C0rWin,denyeart,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 3:39 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Ledger consistent simulation (RocksDB snapshot option): As a consumer or ledger APIs (endorser), I want to perform proposal simulation using a consistent view of ledger state, by optionally using RocksDB snapshots",FAB-442,12743,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid,,denyeart,denyeart,26/Sep/16 4:25 PM,12/Jul/19 8:46 PM,28/Oct/23 2:57 AM,12/Jul/19 8:46 PM,,,Future,,fabric-ledger,,,0,Ledger,,,,,"Consistent reads has been implemented by using locks between readers and writers.  This task would implement consistent reads by using RocksDB snapshots, so that reads and writes can occur in parallel.  We then need to compare the two options and determine which one is better, e.g. from a performance perspective.",,denyeart,grapebaba,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-1036,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-758,,,,,,,,,"1|hzxe1r:",,,,Unset,,,,,,,,,,,,,,,,,4.0,Unset,,,,,,,,,,,denyeart,grapebaba,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Harden ledgernext block storage implementation,FAB-443,12744,,Task,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,manish-sethi,denyeart,denyeart,26/Sep/16 4:34 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,11/Oct/16 4:19 AM,,,,,fabric-ledger,,,0,ledger,,,,,"ledgernext was initially delivered in sprint1 to quickly unblock dependent components, in this task the block storage code will be hardened.",,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,144000,144000,,0%,144000,144000,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-758,,,,,,,,,"1|hzx98f:",,,,,,Sprint 2,Sprint 3,,,,,,,,,,,,,,4.0,,,,,,,,,,,,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Ledger recoverability system test: I want the ledger to be in a consistent state if the peer crashes in the middle of transaction commit,FAB-444,12745,,Task,Closed,FAB,Fabric,software,denyeart,,,High,Done,manish-sethi,denyeart,denyeart,26/Sep/16 4:40 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,11/Mar/18 10:34 PM,,,v1.0.0,,fabric-ledger,,,0,Ledger,,,,,Need to ensure blocks on file system are in sync with LevelDB indexes and state database and history database.,,binhn,denyeart,inatatsu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-758,,,,,,,,,"1|hzx7j3:",,,,,,Sprint 12 - Ledger,Sprint 13 - Ledger,Sprint 14  - Ledger,Sprint 15  - Ledger,,,,,,,,,,,,,,,,,,,,,,,,binhn,denyeart,inatatsu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"19/Apr/17 7:10 AM;binhn;The description says RocksDB. Should that be DB since we support pluggable now?;;;","11/Mar/18 10:35 PM;denyeart;Covered by system tests.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Ledger support for N EndorsedActions: I want the ledger to handle N EndorsedActions within a transaction, so that SDK can bundle multiple simulation results within one logical transaction",FAB-445,12746,,Story,Closed,FAB,Fabric,software,denyeart,,,High,Won't Do,,denyeart,denyeart,26/Sep/16 4:57 PM,23/Jan/20 3:39 AM,28/Oct/23 2:57 AM,23/Jan/20 3:39 AM,,,Future,,fabric-ledger,,,0,Ledger,stale-item,,,,,,denyeart,DrVadson,manish-sethi,SjirNijssen,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABJ-19,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzwtp4:",,,,Unset,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,denyeart,DrVadson,manish-sethi,SjirNijssen,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"10/Feb/17 5:35 PM;manish-sethi;If a transaction contains multiple read-write sets as a result of including different simulations results in a single transaction, the validation should also check for read conflicts between the read-write sets in addition to the read conflicts check with preceding transactions.

For instance, if a transaction contains two independently prepared read-write sets. One of them may transfer $10 from account A to account B and other may transfer $10 from account A to account C. Independently, both of the read-write sets may pass the version check and if committed - will amount to double spending.

So, from the validation point of view, both should be treated as if these were independent transactions (for covering the special case of conflicts between the read-write sets enclosed with in a single transaction). However, commit needs to understand the relation between these two read-write sets and make sure that non of these two gets committed when either of these two are marked as invalidated.;;;","23/Jan/20 3:39 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
REST is not enabled for multiple peer through block-listner,FAB-446,12747,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,,VenkyMadgundi,VenkyMadgundi,26/Sep/16 8:01 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,07/Apr/17 9:48 PM,,,v0.6,WON'T FIX,fabric-peer,,,0,,,,,,"I was running steps which are given in 'fabric/examples/events/block-listener/README.md', Peer is started but REST IS not enabled. Although I am peer is showing logs:

_vp0_1         | 10:09:48.360 [consensus/noops] newNoops -> DEBU 073 Creating a NOOPS object
vp0_1         | 10:09:48.367 [consensus/noops] newNoops -> INFO 074 NOOPS consensus type = *noops.Noops
vp0_1         | 10:09:48.367 [consensus/noops] newNoops -> INFO 075 NOOPS block size = 500
vp0_1         | 10:09:48.367 [consensus/noops] newNoops -> INFO 076 NOOPS block wait = 1s
vp0_1         | 10:09:48.370 [peer] chatWithSomePeers -> DEBU 077 Starting up the first peer of a new network
vp0_1         | 10:09:48.371 [consensus/statetransfer] verifyAndRecoverBlockchain -> DEBU 078 Validating existing blockchain, highest validated block is 0, valid through 0
vp0_1         | 10:09:48.371 [consensus/statetransfer] blockThread -> INFO 079 Validated blockchain to the genesis block
vp0_1         | 10:09:48.371 [consensus/handler] 1 -> DEBU 07a Starting up message thread for consenter
vp0_1         | 10:09:48.372 [nodeCmd] serve -> INFO 07b Starting peer with ID=name:""vp0"" , network ID=dev, address=172.17.0.3:7051, rootnodes=, validator=true
vp0_1         | 10:09:48.373 [peer] ensureConnected -> DEBU 07c Starting Peer reconnect service (touch service), with period = 6s
vp0_1         | 10:09:48.374 [rest] StartOpenchainRESTServer -> INFO 07d Initializing the REST service on 0.0.0.0:7050, TLS is disabled._",,VenkyMadgundi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxc9z:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,VenkyMadgundi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Implement BDD in golang as well as Python,FAB-448,12749,,Task,Closed,FAB,Fabric,software,denyeart,,,High,Done,jeffgarratt,jeffgarratt,jeffgarratt,27/Sep/16 4:01 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,27/Sep/16 7:09 AM,,,,,fabric-peer,,,0,Endorser,,,,,"Porting existing BDD to golang implementation using [godog|https://github.com/DATA-DOG/godog].  Godog is the official Cucumber BDD framework for Golang.  Behave is a python version of the same standard.  ",,jeffgarratt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxcaf:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,jeffgarratt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Integrate ledgernext into the chaincode framework,FAB-466,12767,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,muralisr,muralisr,27/Sep/16 7:33 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,01/Feb/17 1:13 PM,,,,,fabric-peer,,,0,Endorser,,,,,"Chaincode uses the old ledger where the transaction is committed after execution.

As a first step to moving towards collecting read/write sets, we need to make the chaincode framework use ledgernext.
",,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-757,,,,,,,,,"1|hzx8tr:",,,,,,Sprint 2,,,,,,,,,,,,,,,,,,,,,,,,,,,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"29/Sep/16 5:44 AM;muralisr;The first drop for ledgernext integration will use ledgernext only in the Endorser path. This means that the chaincode unit tests will continue to use the old ledger.

This is part of the work for https://jira.hyperledger.org/browse/FAB-437;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add support for orderer/config package,FAB-467,12768,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,kchristidis,kchristidis,kchristidis,27/Sep/16 9:23 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,27/Sep/16 1:54 PM,,,,,fabric-orderer,,,0,consensus,,,,,Switch over the Kafka orderer to the config package introduced in FAB-386: https://gerrit.hyperledger.org/r/1153,,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,";27/Sep/16 1:54 PM;kchristidis;43200",,43200,0,43200,100%,43200,0,43200,,,,,,,,,,,,,,,,,,,,,FAB-386,,,,,FAB-470,,,,,,,,,,,,,,,,,,,,,,,,,FAB-32,,,,,,,,,"1|hzx9kn:",,,,,,Sprint 2,,,,,,,,,,,,,,,2.0,,,,,,,,,,,,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"27/Sep/16 1:54 PM;kchristidis;Done: https://github.com/kchristidis/kafka-orderer/commit/a9bb5e7c67f3f4f3c10784176801efd4299de3a7;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add support MaxWindowSize and QueueSize,FAB-468,12769,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,kchristidis,kchristidis,kchristidis,27/Sep/16 9:31 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,27/Sep/16 11:08 PM,,,,,fabric-orderer,,,0,consensus,,,,,"MaxWindowSize sets an upper bound on a client's requested window, and QueueSize sets an upper bound on the maximum number of messages a client may have pending. These are not necessary to have but they are good features and they align the Kafka orderer with the Solo one.",,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,43200,43200,,0%,43200,43200,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-32,,,,,,,,,"1|hzx9kv:",,,,,,Sprint 2,,,,,,,,,,,,,,,2.0,,,,,,,,,,,,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"27/Sep/16 2:34 PM;kchristidis;Support for MaxWindowSize added: https://github.com/kchristidis/kafka-orderer/commit/a109782be0c6dd821ef76c65f52b707e5bd82594;;;","27/Sep/16 11:07 PM;kchristidis;I will not be adding support for QueueSize, at least right now. Upon further review:

# I claim that its purpose (at least as described in the orderer/config package) is ambiguous: https://gerrit.hyperledger.org/r/#/c/1153/3/orderer/orderer.yaml
# It turns out that the Solo orderer does not implement it as described.
# It may end up being an optimization that does not belong in the ""General"" section of a config file.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Ensure multiple orderer shims can operate in parallel,FAB-469,12770,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,kchristidis,kchristidis,27/Sep/16 9:37 AM,21/Jul/18 3:55 AM,28/Oct/23 2:57 AM,23/Nov/16 4:45 PM,,,,,fabric-orderer,,,0,consensus,help-wanted,,,,,,bcbrock,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,172800,172800,,0%,172800,172800,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-621,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-32,,,,,,,,,"1|hzx9fz:",,,,Unset,,Sprint 7 - consensus,,,,,,,,,,,,,,,0.0,Unset,,,,,,,,,,,bcbrock,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"27/Oct/16 8:27 AM;bcbrock;I'm not sure if this goes here, or should be a new issue, but the current Kafka orderer does not support networks of more than 1 Kafka broker. I needed to add code to my sandbox that allows the ""deliver"" system to discover which broker is the leader for the partition, which is required if there are multiple brokers.;;;","28/Oct/16 3:39 AM;kchristidis;Ah, thank you for reminding me to take care of this. I was aware of it, and had it marked as a TODO, but not recorded anywhere. (I shipped the Kafka work on purpose with support for only one broker so as not to delay it.)

Have a look at FAB-890, and let me know if you think I missed something.;;;","12/Nov/16 4:21 AM;kchristidis;This has been moved after FAB-621. We most likely won't have to do anything extra here, but I'm leaving this here as a place to do additional checks.;;;","23/Nov/16 4:44 PM;kchristidis;Covered already in work on the current sprint. Setting to 0 points and marking as done.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Make logging level configurable for solo orderer and config package,FAB-470,12771,,Task,Closed,FAB,Fabric,software,denyeart,,,Low,Done,kchristidis,kchristidis,kchristidis,27/Sep/16 1:05 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,10/Oct/16 10:53 PM,,,,,fabric-orderer,,,0,consensus,,,,,"I think a command-line flag (as we do in the Kafka orderer) will do to begin with, but we probably want to add this to the YAML file as well.",,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,57600,57600,,0%,57600,57600,,,,,,,,,,,,,,,,,,,,,,FAB-467,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxcan:",,,,,,Sprint 2,,,,,,,,,,,,,,,2.0,,,,,,,,,,,,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,feature/convergence,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"07/Oct/16 5:01 AM;kchristidis;https://gerrit.hyperledger.org/r/#/c/1629/1
https://gerrit.hyperledger.org/r/#/c/1631/1;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
sbft: state transfer,FAB-472,12773,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,corecode,corecode,27/Sep/16 8:55 PM,21/Jul/18 3:56 AM,28/Oct/23 2:57 AM,02/Nov/16 6:01 PM,,,,,fabric-orderer,,,0,consensus,,,,,"Use (to be) existing orderer atomic broadcast service to retrieve batches from other replicas.

process outline:
- on restart, mark as passive
- while passive, when observing a weak certificate for a seqno, ask application to sync to that batch
- start participating in consensus (i.e. mark active), also committing new batches, which might lead to holes in the ledger
- ledger component needs to be able to deal with holes
- to actively catch up to the network, exchange last checkpoint certificate when connections are re-established
- when active, hearing about a future checkpoint certificate does not necessarily trigger immediate state transfer
- while we have holes in our ledger, we do not service requests that are submitted via atomic broadcast.  This ensures that the network only progresses when there is at least one replica with a gapless ledger.

notes:
- how do we deal with (local) batches that lack signatures.  do we state transfer (signatures/batch) from elsewhere?

tests:
- rotate disconnects and reconnects so that all correct nodes have gaps in their ledgers.  state transfer finally manages to sync everybody to the latest batch.",,corecode,vukolic,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-378,,,,,,,,,"1|hzx9sf:",,,,Unset,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,corecode,vukolic,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"05/Oct/16 7:59 PM;corecode;The procedure outlined above should probably be modified to leverage FAB-478 and the procedures described in FAB-603 and FAB-604.  What this means is that on join, we can start active and will quickly start piling up backlog messages and Hello messages that will trigger a state transfer.;;;","01/Nov/16 7:03 PM;corecode;This should be addressed mostly in https://gerrit.hyperledger.org/r/#/c/2117/;;;","02/Nov/16 6:01 PM;corecode;Currently sbft does not perform a block chain level state transfer.  Filling gaps from other replicas is up to the raw ledger in the ordering service.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
sbft: create standalone consensus peer,FAB-473,12774,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,hgabre,corecode,corecode,27/Sep/16 8:56 PM,21/Jul/18 3:55 AM,28/Oct/23 2:57 AM,07/Dec/16 10:31 PM,,,,,fabric-orderer,,,0,consensus,,,,,create executable that will act as atomic broadcast client and use sbft as backend,,corecode,hgabre,kchristidis,sanchezl,tuand,vukolic,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-701,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-378,,,,,,,,,"1|hzx9rz:",,,,Unset,,Sprint 2,Sprint 3,,,,,,,,,,,,,,8.0,Unset,,,,,,,,,,,corecode,hgabre,kchristidis,sanchezl,tuand,vukolic,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"27/Sep/16 10:49 PM;hgabre;Work in progress: https://github.com/gabre/fabric/tree/sbft I will upload it to Gerrit.;;;","30/Sep/16 11:05 PM;hgabre;https://gerrit.hyperledger.org/r/#/c/1315/;;;","05/Oct/16 10:26 PM;tuand;[~sanchezl]  is this an overlap with [FAB-29] ? [~hgabre], [~jeffgarratt] and you might a quick check ?;;;","05/Oct/16 10:47 PM;hgabre;It seems similar to me btw it is not as detailed as this. Some people also suggested deletion there.;;;","05/Oct/16 11:38 PM;sanchezl;[~tuand], FAB-29 seems less and less defined every day. I vote that we just close it and create new stories.

We'll need stories to reflect the work still being defined for bootstrapping:
* define genesis block contents (e.g. tx format, CA certs, order node certs, orderer config for use by peers, etc.. )
* for each orderer impl, define the configuration info that will be embedded into the genesis block
* for each orderer impl, bootstrap the raw ledger's chain (i.e. generate genesis block)
* define how does the genesis block gets onto the fabric peers. (e.g. manual copy ?)
* make fabric peer exploit the configuration provided in the genesis block
* future work on how to update the configuration provided in the initial genesis block.;;;","06/Oct/16 12:06 AM;tuand;[~sanchezl]  agree with you. I'll post on [fab-29] and if no one objects I'll close 29  after our Thursday scrum;;;","22/Oct/16 11:00 AM;kchristidis;[~hgabre]: Could you post an update on where this stands, summarizing what prevents us from closing this? (I'm trying to figure out what goes into Sprint 4, and what is practically done.)

https://gerrit.hyperledger.org/r/#/c/1315/;;;","25/Oct/16 4:37 PM;hgabre;I think we should merge first the commits this is is based on and fix https://jira.hyperledger.org/browse/FAB-624 (somehow, for me this bug means that 'SBFT does not work as it is intended to work');;;","01/Nov/16 7:06 PM;corecode;submitted as https://gerrit.hyperledger.org/r/#/c/2037
;;;",,,,,,,,,,,,,,,,,,,,,,,,,
generic censorship prevention and duplicate request purge for BFT consensus,FAB-474,12775,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid,,corecode,corecode,27/Sep/16 9:14 PM,12/Jul/19 8:28 PM,28/Oct/23 2:57 AM,12/Jul/19 8:28 PM,,,Future,,fabric-orderer,,,0,sbft,,,,,"We want to prevent the primary of sBFT (but really any replica in any BFT atomic broadcast) to censor requests (i.e., drop individual requests).  

Proposal: Per discussion with [~vukolic], this could be addressed by a generic component (not be part of sbft core, nor specific to sbft), which keeps track of new requests (""fresh""), in-flight requests (""pending"", only at primary), and recently completed requests.  Timestamped entries are serviced infrequently (several second scale), and fresh requests will be brought to the attention of the remaining network, including the primary.  When a second, longer, timeout expires, the component signals to the atomic broadcast implementation that the leader should be changed.

Every time the atomic broadcast implementation observes a change in leader, this is communicated to the component and timeouts are adjusted to give the new leader time to act.

The leader also uses the registry of fresh requests to assemble a new batch.

This sounds deceivingly simple and probably will turn out to be more complicated than expected.",,corecode,mastersingh24,satheeshk,vukolic,wutongtree,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-331,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzx9tb:",,,,Unset,,,,,,,,,,,,,,,,,8.0,Unset,,,,,,,,,,,corecode,mastersingh24,satheeshk,vukolic,wutongtree,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"28/Sep/16 12:14 AM;vukolic;Thanks Simon - we should probably add that this (or a tightly related) component should be responsible for flow control as well. ;;;","12/Jul/19 8:28 PM;mastersingh24;not doing sbft;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
generic check for correct requests,FAB-475,12776,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,corecode,corecode,27/Sep/16 9:23 PM,21/Jul/18 3:54 AM,28/Oct/23 2:57 AM,08/Dec/16 6:21 AM,,,,,fabric-orderer,,,0,consensus,,,,,"The consensus network should not add garbage data to the batches it produces.  Especially under byzantine assumptions, it is possible that byzantine nodes (client, primary) introduce invalid data into the batches.  To protect against this, requests proposed by a leader need to be validated for a correct signature from an authorized client.  This way a leader (or unauthorized client) can not add invalid requests.  This can be implemented as a generic component that can be shared by different consensus implementations.  In the case of bft, replicas check the batch preprepared by the primary and perform a view change when requests are invalid.  This component would be used by FAB-474 to filter requests before they get added to the fresh pool.",,corecode,kchristidis,vukolic,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzx9rb:",,,,Unset,,,,,,,,,,,,,,,,,8.0,Unset,,,,,,,,,,,corecode,kchristidis,vukolic,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"08/Dec/16 6:21 AM;kchristidis;Common components give us two phase filtering.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
sbft: check whether quorum thresholds are correct,FAB-477,12778,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,vukolic,corecode,corecode,27/Sep/16 9:59 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,23/Dec/16 6:18 AM,,,,,fabric-orderer,,,0,consensus,,,,,"Some quorum thresholds should not include ourselves, so we need to use `> s.oneCorrectQuorum`, etc.  Revisit all quorum thresholds to make sure that we are correct.",,corecode,vukolic,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-378,,,,,,,,,"1|hzx9sn:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,corecode,vukolic,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"18/Nov/16 7:03 PM;vukolic;Currently common case quorum and view change quorum sizes are N-F. We can optimize conservative N-F sized quorums in commonCase and view change as follows. 

1) Common case quorum is the number of commit messages needed and number of prepare messages needed minus one (as primary does not send prepare).
In general, we need every two common case quorums of size X to intersect in at least F+1 orderers, hence 2X>=N+F+1, or X is: X= Ceil((N+F+1)/2)

2) Then we need every view change quorum (of size Y) to intersect with every common case quorum in F+1 orderers and hence Y = N+F+1 - X, where X is defined above.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
sbft: exchange peer replica state on new connection,FAB-478,12779,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,corecode,corecode,corecode,27/Sep/16 10:04 PM,21/Jul/18 3:57 AM,28/Oct/23 2:57 AM,01/Nov/16 7:04 PM,,,,,fabric-orderer,,,0,consensus,,,,,"When a connection gets (re) established, replicas exchange their latest chain state.  This allows a restarted/reconnecting replica to quickly catch up to the network without having to wait for new checkpoints that finally trigger state transfer.

From the code comment:

A reconnecting replica can play forward its blockchain to the batch listed in the hello message.  However, the currently in-flight batch will not be reflected in the Hello message, nor will all messages be present to actually commit the in-flight batch at the reconnecting replica.

Therefore we also send the most recent (pre)prepare, commit, checkpoint so that the reconnecting replica can catch up on the in-flight batch.
",,corecode,vukolic,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-378,,,,,,,,,"1|hzx9s7:",,,,Unset,,,,,,,,,,,,,,,,,4.0,Unset,,,,,,,,,,,corecode,vukolic,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"05/Oct/16 7:46 PM;corecode;partially addressed in https://gerrit.hyperledger.org/r/#/c/1467;;;","05/Oct/16 8:02 PM;corecode;future directions: store hello message and use in FAB-603 and FAB-604.;;;","27/Oct/16 6:35 PM;corecode;mostly addressed in https://gerrit.hyperledger.org/r/#/c/2061/;;;","01/Nov/16 7:03 PM;corecode;fully addressed in https://gerrit.hyperledger.org/r/#/c/2117/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"sbft: commit/pre-deliver on commit certificate, supply weak checkpoint certificate later",FAB-479,12780,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,corecode,corecode,27/Sep/16 10:11 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,17/Nov/16 9:56 PM,,,,,fabric-orderer,,,0,consensus,,,,,"To make state transfer (FAB-472) to work symmetrically for older and the most recent block, the local sbft application needs to receive the most recent block on commit certificate, and not only on a checkpoint certificate.  The reason is that while `A` received a commit certificate, but not a weak checkpoint certificate yet, the out of date `B` may already have observed a checkpoint certificate and ask `A` for a state transfer.  If we deliver on checkpoint, the latest block will not yet be available at `A`'s ledger.

Alternatively, `B` could supply the checkpoint certificate to `A` when requesting state transfer, thereby boosting `A` to obtain a checkpoint certificate.",,corecode,vukolic,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-378,,,,,,,,,"1|hzxa1z:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,corecode,vukolic,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"17/Nov/16 9:56 PM;vukolic;obsolete/deprecated;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Gossip Discovery implementation,FAB-480,12781,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,27/Sep/16 11:34 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,27/Sep/16 11:35 PM,,,,,fabric-gossip,,,0,gossip,,,,,"Implementation of the discovery module for the gossip component


https://gerrit.hyperledger.org/r/#/c/1199/
6d78968126f549a4c3338d672d35be5ef75a3222",,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-290,,,,,,,,,"1|hzxcav:",,,,,,Sprint 2,,,,,,,,,,,,,,,,,,,,,,,,,,,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Logging fix for gossip component,FAB-481,12782,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,27/Sep/16 11:37 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,27/Sep/16 11:37 PM,,,,,fabric-gossip,,,0,gossip,,,,,"This is an urgent logging fix to a bug that might break gossip tests. 
in op/go-logging/backend.go, the log invokes IsEnabledFor which goes to a global field defaultBackend that IsEnabledFor method for that global field invokes GetLevel which reads from a map. If a logger is initalized at the same time another goroutine reads from the map, a concurrent read-write would occur and will result in panic.


https://gerrit.hyperledger.org/r/#/c/1261/
9617a6ec3c4d1ab4978cc6f823a38bfc5a7c43df",,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-290,,,,,,,,,"1|hzxcb3:",,,,,,Sprint 2,,,,,,,,,,,,,,,,,,,,,,,,,,,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Gossip discovery bug - resurrected member isn't added to alive list,FAB-482,12783,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,27/Sep/16 11:43 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,10/Oct/16 10:09 PM,,,,,fabric-gossip,,,0,gossip,,,,," Fixes a scenario in which a node is resurrected, but isn't found in the dead list. Then it needs to be added to the alive list regardless.

https://gerrit.hyperledger.org/r/#/c/1265/
101da5f79c93d02ee5d4047b0e1a8cc8b9ba3bbc",,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-290,,,,,,,,,"1|hzx8t3:",,,,,,Sprint 2,,,,,,,,,,,,,,,,,,,,,,,,,,,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Gossip pull algorithm,FAB-483,12784,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,27/Sep/16 11:46 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,06/Oct/16 10:54 PM,,,,,fabric-gossip,,,0,gossip,,,,,"*Pull algorithm module for Gossip component* 
The gossip protocol disseminates messages via push and pull.
This commit contains the module that runs the pull protocol which is a separate, timer-based protocol. 

https://gerrit.hyperledger.org/r/#/c/1239/
a26444178a17d9e354d25e2c603387665617367a",,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-290,,,,,,,,,"1|hzxcbb:",,,,,,Sprint 2,,,,,,,,,,,,,,,,,,,,,,,,,,,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
gossip component- datastructures,FAB-484,12785,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,27/Sep/16 11:48 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,06/Oct/16 10:54 PM,,,,,fabric-gossip,,,0,gossip,,,,,"This commit adds 2 datastructures used by the gossip forwarding mechanism:
* messageStore: A storage cache for disseminated data items It is used to decide whether a message is ""fresh"", and needs to be forwarded to other peers, or maybe if its too ""old"" and it needs to be discarded. This cache is also in use by the pull mechanism the gossip code that'll be pushed later on will connect between them because it provides the data source for answering pull requests from other peers. 
* forwardingBatcher: A batch and time based component that causes the gossip to forward messages When a timer expires or if too many messages are outstanding.

https://gerrit.hyperledger.org/r/#/c/1257/
ae7fc24473c7278afa1e0eddecaf323227ea8de3",,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-290,,,,,,,,,"1|hzxcbj:",,,,,,Sprint 2,,,,,,,,,,,,,,,,,,,,,,,,,,,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Quality task,FAB-485,12786,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,bmos299,bmos299,28/Sep/16 1:12 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,01/Oct/16 12:53 AM,,,,,,,,0,,,,,,,,bmos299,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxcc7:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,bmos299,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Release Notes for Migrating from .5 to .6 Fabric,FAB-486,12787,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,bmos299,bmos299,bmos299,28/Sep/16 1:13 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,25/Oct/16 4:49 AM,,,v0.6,,fabric-quality,,,0,Quality,,,,,"New Features Write up:

1.  Custom Events: We believe this was already in .6 and Ratnakar will verify. 
Murali's comments:
blockchain listener is an example code (along with the fabric/examples/chaincode/go/eventsender chaincode) that excercises the chaincode (custom) events mechanism. And yes, the event listener is on port 7053 by default.. and as Jim points out this has been incorporated in the JDK as well 

2,  event handlers - code is being added to the node sdk, Ratnakar has tested and is working on a sample to publish

3.  Docker client upgrade:  Is this something we really want to tell customers?

4.  Java Chaicode shim:   Need to create a little blurb on this.

5.  Ability to build on Power System: Ramesh is working with Smita from the Power team on this....just that Power is part of the CI and gets builds..blah blah
  
6.  Ability to call chaincode using 64 encoded string:  --- 
<murali>I think this is about https://gerrit.hyperledger.org/r/#/c/639/. It is NOT a new feature but just fixes API breakage ... from the issue :
The REST/JSON API is more natural to use when taking strings, rather than when taking base64 encoded data. This change also restores the previous API behavior, which suffered compatibility breakage previously.
</murali>

7.  Consenus and bug fixes:  All good so far, maybe come up with a list of fixes in .6 for consensus

8.  on chaincode - I'm not positive what this one is saying.  Maybe the go routines when inside the chaincode? 
<murali>I think this refers to the known problem with GetRows where a goroutine is spun of to get rows concurrently. This approach is wrong and there is no easy fix without breaking interfaces. Alternative was to make the existing interface inefficient and a memory/latency hog which is not a good thing either. Iterating using GetRows should be warned against.</murali> ..probably dont say anything here. 

did not get terminated until later on (memory leak type)- this got fixed  -  Is there specif git issue or Jira issue I can reference? Murali
<murali>Barry, I think this is a continuation of the previous ""goroutine"" crash item and not a new one... if that's correct, I don't think it got fixed at all as mentioned </murali>

...i think there is nothing in the previous two.

9.  We are looking to add attribute support for role based access control that had not been completely tested/working prior -  
The only thing that I recall regarding ""attribute support"" is adding the ability to register a user with dynamically specified attributes through the SDK. This was not possible before and the attributes had to be hard coded inside the membership services configuration file. Keith worked on this change and it was merged into master, I am not sure about v0.6 branch however. I am CCing Keith to confirm this info. Also, I do not believe our testers have tested this change. 
",,bmos299,nickgaski,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-731,,,,,,,,,"1|hzxcr3:",,,,,,Sprint 2,Sprint 3,,,,,,,,,,,,,,,,,,,,,,,,,,bmos299,nickgaski,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"25/Oct/16 4:48 AM;bmos299;This has been worked through patch https://gerrit.hyperledger.org/r/#/c/1889/.  ;;;","09/Nov/16 1:28 AM;nickgaski;this is available at http://hyperledger-fabric.readthedocs.io/en/v0.6/v0.6_migration/#new-features

;;;","07/Dec/16 1:34 AM;nickgaski;and updated on 2373;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Document how application-level confidentiality could work,FAB-487,12788,12380,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,elli-androulaki,elli-androulaki,28/Sep/16 1:59 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,14/Oct/17 2:15 AM,,,,,fabric-crypto,,,0,Security,,,,,,,ChristopherFerris,elli-androulaki,troyronda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,28800,28800,,0%,28800,28800,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-488,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxccf:",,,,,,Sprint 1,,,,,,,,,,,,,,,1.0,,,,,,,,,,,,ChristopherFerris,elli-androulaki,troyronda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"14/Oct/17 2:15 AM;ChristopherFerris;closing, please reopen if still relevant;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Document confidentiality features of fabric and changes to the next architecture,FAB-488,12789,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,elli-androulaki,elli-androulaki,28/Sep/16 2:03 AM,21/Jul/18 3:55 AM,28/Oct/23 2:57 AM,11/Apr/17 7:35 AM,,,WON'T FIX,,fabric-crypto,,,0,Security,,,,,,,elli-androulaki,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,57600,57600,,0%,57600,57600,,,,,,,,,,,,,,,,,,,,,,FAB-487,FAB-87,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-810,,,,,,,,,"1|hzxacv:",,,,Unset,,,,,,,,,,,,,,,,,2.0,Unset,,,,,,,,,,,elli-androulaki,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Protobufs reflecting the next endorsement/consentor architecture ,FAB-489,12790,,Story,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,angelo.decaro,elli-androulaki,elli-androulaki,28/Sep/16 2:05 AM,21/Jul/18 3:57 AM,28/Oct/23 2:57 AM,05/Dec/16 5:43 PM,,,,,fabric-crypto,,,0,Security,,,,,,,elli-androulaki,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,172800,28800,,0%,172800,28800,,,,,,,,,,,,,,,,,,,,,,FAB-351,,,,,FAB-580,FAB-581,FAB-582,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzx8jr:",,,,Unset,,Sprint 2,Sprint 6 - consensus,Sprint 4 - Crypto,,,,,,,,,,,,,4.0,Unset,,,,,,,,,,,elli-androulaki,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"10/Oct/16 6:15 PM;elli-androulaki;First draft was posted here: https://hyperledgerproject.slack.com/files/adc/F2JKXGXEU/protobufmessagesandflow.pdf
Slack channel ""fabric-next-proto"" is used for discussing this particular work item. ;;;","10/Oct/16 6:53 PM;elli-androulaki;Associated gerrit review: https://gerrit.hyperledger.org/r/#/c/1561/ ;;;","25/Oct/16 12:24 AM;elli-androulaki;[~jyellick],[~muralisr],[~ales],[~adc] to confirm this:
The main bulk of work has completed here, and there has been some convergence on the current form. 
What still remains is to look at the exact structure/needs of messages of type CONFIGURATION as specified in FAB-37.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
deploying chaincode failing on master,FAB-490,12791,,Bug,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,ChristopherFerris,ChristopherFerris,ChristopherFerris,28/Sep/16 2:14 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,24/Nov/16 12:36 AM,,,,,fabric-peer,,,0,chaincode,,,,,"The logs from the peer will look something like this:

16:10:25.947 [dockercontroller] deployImage -> ERRO 018 Error building images: Error: image hyperledger/fabric-ccenv:x86_64- not found
16:10:25.947 [dockercontroller] deployImage -> ERRO 019 Image Output:
********************
Step 1 : FROM hyperledger/fabric-ccenv:x86_64-
Pulling repository docker.io/hyperledger/fabric-ccenv

********************
16:10:25.947 [chaincode] Launch -> ERRO 01a launchAndWaitForRegister failed Error starting container: Error: image hyperledger/fabric-ccenv:x86_64- not found

Apparently, the version is not being appended to the FROM in the Dockerfile used to deploy chaincode.",,Annbot,ChristopherFerris,inatatsu,nikileshsa,ShenthilkumarCK,zhangzhen30,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,28800,28800,,0%,28800,28800,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxccn:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Annbot,ChristopherFerris,inatatsu,nikileshsa,ShenthilkumarCK,zhangzhen30,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"28/Sep/16 3:31 PM;zhangzhen30;u need this hyperledger/fabric-ccenv:x86_64 image ,in you host.you can use `docker images ` to find it .
if you don't have it ,you can make images  in dev env ,and then you can see it.;;;","10/Nov/16 8:18 PM;Annbot;because PROJECT_VERSION is null
use ""make xxxx"" to set  metadata.Version, do not use ""go install"";;;","24/Nov/16 12:36 AM;ChristopherFerris;can no longer recreate, closing this;;;","28/Nov/16 4:27 PM;nikileshsa;I am able to reproduce this issue with the latest fabric code base. Does anyone know what exactly fixed this issue?

;;;","28/Nov/16 5:12 PM;inatatsu;When I deploy example02 via CLI, I observe the following error message:
Error: Chaincode argument error: illegal base64 data at input byte 0
The command I used is:
peer chaincode deploy --logging-level debug -n example02 -p github.com/hyperledger/fabric/examples/chaincode/go/chaincode_example02 -c '{""Args"": [""init"", ""a"", ""100"", ""b"", ""200""]}';;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Ledger is not using the Action.SimulationResult protobuf message,FAB-491,12792,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,denyeart,denyeart,denyeart,28/Sep/16 2:16 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,30/Sep/16 10:49 PM,,,,,fabric-ledger,,,0,Ledger,,,,,"When creating the transaction in the app constructTransaction(), the serialized TxReadWriteSet (simulationResults in the code) is getting added to the EndorseAction.ActionBytes.
And when parsing out the TxReadWriteSet in LockBasedTxMgr.ValidateAndPrepare() you get the tx.EndorsedActions[0].ActionBytes.

There is a layer missing... the serialized TxReadWriteSet should go into the Action.SimulationResult bytes (along with other fields), and then the whole Action should get serialized again into EndorsedAction.ActionBytes.
",,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,7200,7200,,0%,7200,7200,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxap3:",,,,,,Sprint 2,,,,,,,,,,,,,,,,,,,,,,,,,,,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
leverage GO obcsdk to use node.js API instead of REST,FAB-492,12793,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,scottz,scottz,scottz,28/Sep/16 4:10 AM,21/Jul/18 3:56 AM,28/Oct/23 2:57 AM,28/Apr/17 12:55 AM,,,,,fabric-quality,,,0,consensus,quality,,,,"Our GO obcsdk is used by a set of tests written in GO for consensus acceptance and regression, ledger stress tests, concurrency, and longrun testing. To talk to the Peers, client threads use REST calls. To leverage all these tests in v1.0 and beyond using node.js (especially needed if REST is deprecated), we must:
# Decouple the REST functions from the GO application layer, and create a well-defined API.
# Implement the node.js SDK communication interface methods, to perform the same functions as the existing REST functions.
# Provide a test environment variable for the GO application tests to choose either REST or node.js. ",,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,288000,288000,,0%,288000,288000,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzxccv:",,,,Unset,,,,,,,,,,,,,,,,,8.0,Unset,,,,,,,,,,,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"28/Apr/17 12:55 AM;scottz;Since this is v0.6 tool, which does not work with new architecture in v1.0, this change is no longer needed.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Embed orderer configuration in rawledger,FAB-495,12796,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,jyellick,jyellick,28/Sep/16 5:44 AM,21/Jul/18 3:56 AM,28/Oct/23 2:57 AM,09/Dec/16 5:17 AM,,,,,fabric-orderer,,,0,,,,,,"The orderer configuration needs to be embedded within the raw ledger.

This is for two reasons:

1. The orderer service needs to be able to convey initial configuration and configuration changes to the peer service so that the peer knows how to properly validate the raw ledger being returned (this may be different per orderer implementation, and may as simple as verifying a public key, or as complicated as a PBFT f+1 out of N signatures or connections)
2. The orderer service must agree to an initial configuration as without a common initial configuration (and common points of time for changing the configuration) the correctness of the orderer service may not be guaranteed.

This will require coordination between the chaincode/ledger peer side for applying and interpreting the configuration changes, as well as the orderer side for generating, and agreeing upon such changes..",,binhn,jyellick,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,576000,576000,,0%,576000,576000,,,FAB-497,FAB-496,FAB-498,FAB-499,,,,,,FAB-1020,,,,,,,,,,,,,,,FAB-686,,,,,,,,,,,,,,,,,,,,,,Unset,,ghx-label-7,FAB-37,Rawledger Config,To Do,,,,,,,"1|hzxe0n:",,,,Unset,,,,,,,,,,,,,,,,,21.0,Unset,,,,,,,,,,,binhn,jyellick,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"01/Nov/16 4:12 AM;binhn;I changed to Story and linked it to Epic fab-37 as we should not create any more epics for 1.0. This is for tracking the workload by epics. ;;;","07/Dec/16 11:16 PM;kchristidis;Let's update the status of this.;;;","08/Dec/16 6:47 AM;jyellick;I'm not sure who is still using this.  This is implemented at the orderer side, but I suspect there is still significant work to do on the peer side.;;;","09/Dec/16 5:17 AM;kchristidis;Discussed this with Binh, we're good to close this.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Generate initial configuration transaction for orderer genesis block,FAB-496,12797,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,jyellick,jyellick,28/Sep/16 5:49 AM,21/Jul/18 3:56 AM,28/Oct/23 2:57 AM,14/Apr/17 3:27 PM,,,v1.0.0,,fabric-orderer,,,0,common-components,,,,,"The orderer needs to be able to take its initial configuration and deterministically generate a configuration transaction which all orderers will agree on.  This transaction should be well formed, and must be able to be interpreted by both the ordering service and the peer.",,ChristopherFerris,jyellick,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,144000,144000,,0%,144000,144000,,,,,,,,,,,,FAB-495,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzx9bz:",,,,Unset,,,,,,,,,,,,,,,,,5.0,Unset,,,,,,,,,,,ChristopherFerris,jyellick,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"03/Oct/16 6:03 PM;kchristidis;Following up on the Kafka discussion in Slack, and how they do it --

The rebalancing mechanism is the closest we have to this. I'll make some simplifications to keep it close to our model.

# The partition in Kafka is what we call a channel/blockchain. Assume a single partition.
# The consumer group is what we call a peer, i.e. in our case we deal only with consumer groups of size one.
# Consequently, every peer in our system is also a group leader.
# The relevant change is the addition or removal of an ordering service node. This maps to changing the number of brokers in the cluster.

Let's assume that the addition/removal of a broker results in changing the leader of the partition. (This may not always be the case, hence us making this assumption explicit.)

Then:

# The cluster controller (a broker tasked with managing the set of brokers) catches wind of that via ZK and notifies all affected brokers (""you are now the leader of this partition"", ""you and you and you are now followers of it"".)
# Every consumer group is assigned to a group coordinator, a broker that coordinates who-consumes-what in that group. That group coordinator sends a message to the group leader and lets it know that a rebalancing is in place. ""This is the partition we have, this the new leader, and these are its followers. Please decide which consumer will own the partition in your group and let me know.""
# The group leader gives the assignments to the group coordinator, and the coordinator sends to every consumer in the group its assignment. In our case with a single partition and one consumer per group, this exchange is a bit silly -- it comes down to the group leader saying ""OK I will now consume the partition from the new leader"", sending this to the group coordinator and getting it back.
# After receiving the new assignment from the group coordinator, the group resumes the consumption of messages from the brokers. (This means that during this rebalancing the brokers stop handing out messages.)

If more details are needed, let me know.;;;","03/Oct/16 11:32 PM;jyellick;So, to summarize at an extremely high level, the brokers agree on the change  because ZK tells them of the change.  The brokers then coordinate directly with the consumers to handle the re-balancing.  Hopefully that is correct, but please correct me if I'm wrong.

My follow up question would be:

How do the broker's communicate this to the consumers at a protocol level?  Is this done on a side channel? Is it embedded in the message stream and then abstracted out to the client?;;;","04/Oct/16 2:23 AM;kchristidis;The high-level overview is right. The answer to your follow-up question: Kafka uses TCP to multiplex requests (consumer->broker) and responses (broker->consumer). There can be several ways to communicate the need to rebalance but a common one is: the coordinator responds to the client's (periodical) heartbeat request with an error, the client parses this as a signal that it should restart the join group process, so it immediately stops fetching messages, and send a join group request, etc.

Let me know if you have more questions.;;;","14/Apr/17 10:03 AM;ChristopherFerris;[~jyellick] [~kchristidis] if this is no longer relevant, please mark WONTFIX and close thanks;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Create system chaincode at the peer to handle configuration changes,FAB-497,12798,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,binhn,jyellick,jyellick,28/Sep/16 5:51 AM,21/Jul/18 3:54 AM,28/Oct/23 2:57 AM,17/Dec/16 11:18 AM,,,,,fabric-peer,,,0,Endorser,,,,,"When the peer receives a configuration transaction, as defined in FAB-496, it needs to call the Configuration System Chaincode (CSCC) which performs the following:
# map the changes into the correct read-write-set for the ledger to store
# process the configuration changes if applicable;  ex, removing a member CA from the chain, calling gossip
# commit the transaction to ledger

CSCC will provide the following functions:
# process ""join channel"" for the peer to start receiving transactions on the specified channel
# process transaction on commit
# process ""queries"" to return configuration data on channel (status, members, crypto)

For now, we will not require any endorsement of the transaction though this may be added in the future.
",,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,86400,86400,,0%,86400,86400,,,FAB-914,FAB-915,FAB-916,FAB-917,,,,,,FAB-495,FAB-1020,,,,,,,,,,,,,,FAB-757,FAB-686,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzx89j:",,,,Unset,,Sprint 5 - Endorser,Sprint 6 - nodeSDK,,,,,,,,,,,,,,3.0,Unset,,,,,,,,,,,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Create mechanism for orderer service to selectively process configuration transactions,FAB-498,12799,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,28/Sep/16 5:55 AM,21/Jul/18 3:57 AM,28/Oct/23 2:57 AM,02/Nov/16 9:37 PM,,,,,fabric-orderer,,,0,Consensus,,,,,"It is important that the ordering service not accept arbitrary configuration transactions, especially as the peer will not require any endorsement of these transactions initially.  Therefore, the ordering service should inspect and filter out these configuration changes, with a hook to allow them to be processed later, likely through validation of some endorsement-like process.",,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,144000,144000,,0%,291600,190800,14400,,,,,,,,,,,FAB-495,,,,,,,,,,,,,,,FAB-148,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzx96n:",,,,Unset,,Sprint 3,,,,,,,,,,,,,,,4.0,Unset,,,,,,,,,,,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Create mechanism for orderer to interpet the genesis block and configuration transactions,FAB-499,12800,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,jyellick,jyellick,28/Sep/16 5:57 AM,21/Jul/18 3:55 AM,28/Oct/23 2:57 AM,23/Nov/16 12:24 AM,,,,,,,,0,,,,,,"The orderer must be able to parse the content of a configuration transaction, whether this means pulling in the system chaincode execution environment from the peer, or more manually reading raw postimage data from the transaction itself.  The complexity vs reuse will need to be carefully weighed for this story.",,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,144000,144000,,0%,144000,144000,,,,,,,,,,,,FAB-495,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzx9c7:",,,,Unset,,,,,,,,,,,,,,,,,5.0,Unset,,,,,,,,,,,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Nov/16 12:25 AM;jyellick;This was resolved by: https://gerrit.hyperledger.org/r/#/c/1959/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
GO SDK changes to allow running tests in pre-existing remote networks,FAB-500,12801,,Task,Closed,FAB,Fabric,software,denyeart,,,High,Done,scottz,scottz,scottz,28/Sep/16 6:57 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,28/Apr/17 12:53 AM,,,v0.6,,fabric-quality,,,0,quality,,,,,"Some of our tests for consensus and ledger stress tests are written in GO, and use a GO SDK which creates a local network, given networkcredentials file. This task is for implementing changes to the GO SDK functions that will allow the option to run the same tests in non-local (external) networks that may even already exist.",,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,115200,115200,,0%,115200,115200,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx93z:",,,,,,Sprint 2,Sprint 3,,,,,,,,,,,,,,4.0,,,,,,,,,,,,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"28/Apr/17 12:53 AM;scottz;Since this is a v0.6 tool, this change is no longer needed.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
need a staged build for readthedocs to pull from gerrit so that we can preview doc merges,FAB-502,12803,,Story,Closed,FAB,Fabric,software,denyeart,,,High,Done,,ChristopherFerris,ChristopherFerris,28/Sep/16 9:07 PM,21/Jul/18 3:56 AM,28/Oct/23 2:57 AM,26/Apr/17 2:03 AM,,,DUPLICATE,,fabric-docs,,,0,build-system,Documentation,,,,,,ChristopherFerris,Clayton Sims,markparz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,57600,57600,,0%,57600,57600,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzxcdj:",,,,Unset,,Sprint 3,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,ChristopherFerris,Clayton Sims,markparz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"05/Apr/17 10:04 AM;Clayton Sims;whoever opened this did not update the component.    we need to talk to a maintainer :)
;;;","13/Apr/17 3:06 AM;ChristopherFerris;[~Clayton Sims] smartass... I think that we sort of have one. [~rameshthoomu] is this the case?;;;","26/Apr/17 2:03 AM;markparz;Ramesh is working on this... in FAB-2111 closing this out since more info in the other. ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add logging utility to hide specific logging library,FAB-505,12806,12619,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jimthematrix,jimthematrix,jimthematrix,28/Sep/16 10:12 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,20/Oct/16 11:55 PM,,,,,fabric-sdk-node,,,0,node-SDK,,,,,"Develop a standard logging util that in turn uses one of the popular JS logging libraries. Likely going to be winston.

The logging utility would expose standard configurable logging levels and hide the underlying logging library, so that the SDK consumers can set a logger for the SDK to use in order to have consistent logs format across the application (inside the SDK and outside).",,ChristopherFerris,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,57600,57600,,0%,57600,57600,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx8w7:",,,,,,Sprint 1,Sprint 2,Sprint 3,Sprint 4 - nodeSDK,,,,,,,,,,,,4.0,,,,,,,,,,,,ChristopherFerris,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"12/Oct/16 9:32 PM;ChristopherFerris;This seems unnecessary extra work. Why not just pick bunyon or winston and be done with it. Why add extra work when we have so much more to deal with?;;;","13/Oct/16 12:29 AM;jimthematrix;[~ChristopherFerris] The point of defining the standard log interface (really just 4 methods: debug, info, warn, error) is to allow users to set a logger so that the SDK and the rest of the node.js application uses the same logging utility. This is important because the format of the log determines Ops monitoring, health-check etc. we’ll have a built-in logger in case the user doesn’t have one for the app yet (like during early phase of development);;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fabric doc build failed with page not found error,FAB-506,12807,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,rameshthoomu,rameshthoomu,28/Sep/16 11:13 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,30/Sep/16 4:32 AM,,,,,,,,0,Documentation,,,,,"Fabric doc failed with below errors:

WARNING -  The page ""index.md"" contained a hyperlink to ""releases.md"" which is not listed in the ""pages"" configuration. 
WARNING -  The page ""index.md"" contained a hyperlink to ""Starter/fabric-starter-kit.md"" which is not listed in the ""pages"" configuration. 
ERROR   -  file not found: /home/docs/checkouts/readthedocs.org/user_builds/hyperledger-fabric/checkouts/latest/docs/SystemChaincodes/noop.md 
ERROR   -  Error building page SystemChaincodes/noop.md 
Traceback (most recent call last):",readthedocs,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxcdr:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"30/Sep/16 4:32 AM;rameshthoomu;fix has been submitted and merged;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Each solo orderer client should have a separate flow control window,FAB-507,12808,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sanchezl,sanchezl,sanchezl,28/Sep/16 11:14 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,11/Oct/16 5:04 PM,,,,,fabric-orderer,,,0,consensus,,,,,The QueueSize configuration option is being applied across all orderer clients. Change this to apply on a per-client basis.,,kchristidis,sanchezl,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-386,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx9t3:",,,,,,Sprint 2,,,,,,,,,,,,,,,2.0,,,,,,,,,,,,kchristidis,sanchezl,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Gossip security API change,FAB-511,12812,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,29/Sep/16 9:24 PM,21/Jul/18 3:55 AM,28/Oct/23 2:57 AM,04/Oct/16 9:28 PM,,,,,fabric-gossip,,,0,gossip,,,,,"This change:
1) Helps connect between the existing fabric message verification API to the gossip implementation by using the same signature methods as the crypto/crypto.go Peer interface 2) Adds a PKI_id to the discovery infrasturcture and to the communication layer in order for peers to assert: 
* Single connection to each peer 
*  Identity of connecting peer

Commit:
ff9c4f30e68eead76005116fb77badf22e7e6106
Gerrit:
https://gerrit.hyperledger.org/r/#/c/1343/",,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzxce7:",,,,Unset,,Sprint 2,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
deploying Java chaincode doesn't work through REST Client in netmode,FAB-512,12813,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,satheeshk,Ratnakar,Ratnakar,29/Sep/16 10:39 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,12/Oct/16 11:37 AM,v0.6,,,,fabric-build,,,0,.6,chaincode,,,,"Unable to deploy Java chaincode using REST Client when peer started in net mode as per the instructions given in https://github.com/hyperledger/fabric/blob/master/docs/Setup/JAVAChaincode.md


{code:java}
peer node start
{code}

Deploy request :

post: http://127.0.0.1:7050/chaincode

{code:java}

{
  ""jsonrpc"": ""2.0"",
  ""method"": ""deploy"",
  ""params"": {
    ""type"": 3,
    ""chaincodeID"":{
        ""path"":""/opt/gopath/src/github.com/hyperledger/fabric/examples/chaincode/java/SimpleSample""
    },
    ""ctorMsg"": {
        ""args"":[""init"",""a"",""100"",""b"",""200""]
    }
  },
  ""id"": 1
}
{code}

Fails with below error:


{code:java}
{
  ""jsonrpc"": ""2.0"",
  ""error"": {
    ""code"": -32001,
    ""message"": ""Deployment failure"",
    ""data"": ""Error when deploying chaincode: Error getting chaincode package bytes: Error generating hashcode: Error reading file: read /opt/gopath/src/github.com/hyperledger/fabric/examples/chaincode/java/SimpleSample: is a directory""
  },
  ""id"": 1
}
{code}

NOTE:
* Works fine when peer is started in DEV mode
* Attached screenshot for reference",,bmos299,Clayton Sims,mastersingh24,Ratnakar,satheeshk,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"07/Oct/16 11:24 PM;Ratnakar;core.yaml;https://jira.hyperledger.org/secure/attachment/10108/core.yaml","01/Oct/16 12:03 AM;Ratnakar;java-cc-deploy-dev.png;https://jira.hyperledger.org/secure/attachment/10101/java-cc-deploy-dev.png","01/Oct/16 12:03 AM;Ratnakar;java-cc-query-dev.png;https://jira.hyperledger.org/secure/attachment/10102/java-cc-query-dev.png","29/Sep/16 10:36 PM;Ratnakar;java-net-mode.png;https://jira.hyperledger.org/secure/attachment/10098/java-net-mode.png","11/Oct/16 11:44 PM;satheeshk;peer.log;https://jira.hyperledger.org/secure/attachment/10117/peer.log","07/Oct/16 11:00 PM;Ratnakar;peer_logs.txt;https://jira.hyperledger.org/secure/attachment/10107/peer_logs.txt",,,,,,,,,,,,,,,,,,,,"1|hzxcef:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,bmos299,Clayton Sims,mastersingh24,Ratnakar,satheeshk,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"29/Sep/16 11:51 PM;Clayton Sims;removing fix version.  lets get Gari's agreement before setting that field.  ;;;","30/Sep/16 6:40 PM;mastersingh24;[~satheeshk] - would you mind taking a look at this one?;;;","30/Sep/16 10:19 PM;satheeshk;[~mastersingh24][~Ratnakar]The type should be 4, instead of  ""type"": 3 in the deployment request.;;;","01/Oct/16 12:03 AM;Ratnakar;[~satheeshk] 


/opt/gopath/src/github.com/hyperledger/fabric/core/rest/rest_api.json

{code:java}
""ChaincodeSpec"": {
            ""type"": ""object"",
            ""properties"": {
                ""type"": {
                    ""type"": ""string"",
                    ""default"": ""GOLANG"",
                    ""example"": ""GOLANG"",
                    ""enum"":[
                        ""UNDEFINED"",
                        ""GOLANG"",
                        ""NODE"",
                        ""JAVA""
                    ],
                    ""description"": ""Chaincode specification language.""
                },
       .....
} 
{code}

Is it not the enum here starts from 0, Since for GOLANG we are using 1 and also I could see 3 works  for JAVA chaincode when running in dev mode.
Do you mean we should use 4 in NET mode ?

PS: Attached screenshots (java-cc-deploy-dev.png, java-cc-query-dev.png) when running the java chaincode in DEV mode;;;","07/Oct/16 9:24 PM;satheeshk;[~Ratnakar] I am referring to enum from chaincode.proto

{code:java}
    enum Type {
        UNDEFINED = 0;
        GOLANG = 1;
        NODE = 2;
        CAR = 3;
        JAVA = 4;
    }
{code}

Type may not be used in dev mode, since it doesn't have to prepare the chaincode deployment package, all that is needed is the chaincode id.

Try using 4 and please report back.
;;;","07/Oct/16 11:00 PM;Ratnakar;[~satheeshk] I have changed the value to 4 as per your suggestion. However it seems Deploy is still failing 

here is the JSON request I have used for Deploy

{code:java}

{ 
  ""jsonrpc"": ""2.0"",
  ""method"": ""deploy"",
  ""params"": {
    ""type"": 4,
    ""chaincodeID"":{
        ""path"":""/opt/gopath/src/github.com/hyperledger/fabric/examples/chaincode/java/SimpleSample""
    },
    ""ctorMsg"": {
        ""args"":[""init"",""a"",""100"",""b"",""200""]
    },
    ""secureContext"": ""test_user0""
  },
  ""id"": 1
}
{code}
 

Here is the error logs (attached complete debug logs)

{code:java}

13:49:06.556 [dockercontroller] createContainer -> DEBU 47c Create container: dev-jdoe-9ad27c7b81fd084130948bee121799b4f9e88c247904415d02c37e7a2d49eeff4d1216eab8965dc8dbe1bdd590cd88395263816dfade78614c04f01451e990ad
13:49:06.558 [dockercontroller] Start -> DEBU 47d start-could not find image ...attempt to recreate image no such image
13:49:07.537 [dockercontroller] deployImage -> ERRO 47e Error building images: API error (500): {""message"":""The Dockerfile (Dockerfile) cannot be empty""}
13:49:07.537 [dockercontroller] deployImage -> ERRO 47f Image Output:
********************

********************
13:49:07.537 [container] unlockContainer -> DEBU 480 container lock deleted(dev-jdoe-9ad27c7b81fd084130948bee121799b4f9e88c247904415d02c37e7a2d49eeff4d1216eab8965dc8dbe1bdd590cd88395263816dfade78614c04f01451e990ad)
13:49:07.537 [chaincode] Launch -> ERRO 481 launchAndWaitForRegister failed Error starting container: API error (500): {""message"":""The Dockerfile (Dockerfile) cannot be empty""}

{code}

 [^peer_logs.txt] ;;;","07/Oct/16 11:19 PM;satheeshk;[~Ratnakar]Could you please post the contents of core.yaml ? By the looks of it, it doesn't have a valid value for chaincode.java.Dockerfile;;;","07/Oct/16 11:25 PM;Ratnakar;Enclosed core.yaml file [^core.yaml] 

I am Verifying on the commit level :  *adc1600*;;;","11/Oct/16 2:16 AM;bmos299;Hi Satheesh, should this issue be assigned to you?

Thanks,
Barry;;;","11/Oct/16 11:44 PM;satheeshk;Hi [~Ratnakar] I am able to deploy via rest on your commit level after building peer and the images,

$/opt/gopath/src/github.com/hyperledger/fabric$ docker images | grep javaenv
hyperledger/fabric-javaenv                                                                                                                  latest                                  d17aaa6080db        About an hour ago   793.1 MB
hyperledger/fabric-javaenv                                                                                                                  x86_64-0.6.1-preview-snapshot-{color:red}adc1600 {color}  d17aaa6080db        About an hour ago   793.1 MB
hyperledger/fabric-javaenv                                                                                                                  x86_64-0.7.0-SNAPSHOT-e7138ae           c5ea8c3fe017        3 weeks ago         793.1 MB



{noformat}

{
  ""jsonrpc"": ""2.0"",
  ""method"": ""deploy"",
  ""params"": {
    ""type"": 4,
    ""chaincodeID"":{
        ""path"":""/opt/gopath/src/github.com/hyperledger/fabric/examples/chaincode/java/SimpleSample""
    },
    ""ctorMsg"": {
        ""args"":[""init"",""a"",""100"",""b"",""200""]
    }
  },
  ""id"": 1
}
{noformat}


Response


{noformat}


    {
        ""jsonrpc"": ""2.0"",
        ""result"":
        {
            ""status"": ""OK"",
            ""message"": ""081d2419d0f56f66e41a145c99e9dce19780f3c5ead80c638bb6c6c006e7bc00eeeae37d1c734399e8846ec55fefda21f1b5ce42a8e5c4d69eff5aad7d0bf83d""
        },
        ""id"": 1
    }
{noformat}


I am attaching the peer logs, we will switch to slack to resolve this quickly.
;;;","12/Oct/16 11:36 AM;Ratnakar;Missing the below images caused the problem 

{code:java}
hyperledger/fabric-javaenv      latest                                  e40a555aed54        About an hour ago   791 MB
hyperledger/fabric-javaenv      x86_64-0.6.1-preview-snapshot-e4a9b47   e40a555aed54        About an hour ago   791 MB
{code}

After following the below  two steps issue is no more reproducible
* Vagrant destory 
* make all;;;",,,,,,,,,,,,,,,,,,,,,,,
Gossip communication based on hashicorp gossip implementation,FAB-513,12814,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,gennadyl,gennadyl,gennadyl,29/Sep/16 10:43 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,13/Nov/16 11:29 PM,,,,,fabric-gossip,,,0,communication,gossip,,,,"Temporal implementation of gossip communication pattern based on hashicorp gossip (memberlist) package, including consensus-peers communication and inter-peer state transfer.",,gennadyl,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-290,,,,,,,,,"1|hzxcen:",,,,,,Sprint 2,Sprint 3,,,,,,,,,,,,,,,,,,,,,,,,,,gennadyl,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"18/Oct/16 11:17 PM;gennadyl;Implementation finished. Working on unit tests.
Moving all dependencies to vendors folder.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
escc and vscc for end-to-end skeleton,FAB-514,12815,12738,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,muralisr,muralisr,30/Sep/16 4:50 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,14/Oct/17 2:56 AM,,,,,fabric-peer,,,0,Endorser,,,,,"Create the first set of default endorser/validator system chaincode.

To start , these scc  are no-ops just so that we can use them in the end-toend skeleton.

Future tasks will add the endorser signature and the actual validate/invalidate methods",,ChristopherFerris,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-181,FAB-186,FAB-182,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxcev:",,,,,,,,,,,,,,,,,,,,,4.0,,,,,,,,,,,,ChristopherFerris,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"14/Oct/17 2:56 AM;ChristopherFerris;closing, please reopen if still relevant;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Version control for hyperledger/fabric readthedocs documentation,FAB-515,12816,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,rameshthoomu,rameshthoomu,30/Sep/16 4:52 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,30/Sep/16 4:53 AM,,,,,fabric-quality,,,0,build-system,quality,,,,Version control for hyperledger/fabric readthedocs documentation,,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,10800,10800,,0%,10800,10800,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxcdb:",,,,,,Sprint 2,,,,,,,,,,,,,,,,,,,,,,,,,,,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"30/Sep/16 9:20 AM;rameshthoomu;Updated build settings in readthedocs configuration to display versioning for each branch. Versioning in readthedocs shows bottom right corner. ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Integrate automation test suite in continuous integration v0.6 (Jenkins),FAB-516,12817,,Epic,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,rameshthoomu,rameshthoomu,30/Sep/16 5:08 AM,21/Jul/18 4:08 AM,28/Oct/23 2:57 AM,28/Apr/17 4:01 AM,,,,,fabric-quality,,,0,build-system,quality,,,,"Integrate below test automation suite in Continuous Integration process (Jenkins) on x86, Z and Power

- goSDK tests (Consensus)
- nodeSDK tests
- behave (functional) tests
- Performance tests (load, stress)
- long runs in each of the above areas, as needed",,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,Unset,ghx-label-9,,Integrate test automation suite in v0.6 continuous integration (Jenkins),Done,,,Unset,,,,"1|hzxl33:",,,,Unset,Unset,Sprint 2,,,,,,,,,,,,,,,,,,,,,,,,,,,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Create automation test suites,FAB-517,12818,,Epic,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,bmos299,rameshthoomu,rameshthoomu,30/Sep/16 5:15 AM,21/Jul/18 4:09 AM,28/Oct/23 2:57 AM,28/Apr/17 4:26 AM,,,v0.6,WON'T FIX,fabric-quality,,,0,quality,,,,,"Plan is to create test automation suite on the below functionality. This automation test suite supports hyperledger fabric v0.6 and future releases.

- goSDK tests (consensus)
- nodeSDK tests
- behave (functional) tests
- Performance tests (load and Stress)
- long runs",,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-519,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,Unset,ghx-label-2,,Create automation test suite,Done,,,Unset,,,,"1|hzxl2v:",,,,Unset,Unset,Sprint 2,,,,,,,,,,,,,,,,,,,,,,,,,,,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Create JJB setup for Sandbox environment to test any jenkins patch before submitting to ci-management repo,FAB-518,12819,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,rameshthoomu,rameshthoomu,30/Sep/16 5:18 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,05/Oct/16 8:27 AM,,,,,fabric-quality,,,0,build-system,quality,,,,"Create JJB setup for Sandbox environment to test any Jenkins patch before submitting to ""ci-management"" repository.",,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,10800,10800,,0%,10800,10800,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxcfz:",,,,,,Sprint 2,,,,,,,,,,,,,,,,,,,,,,,,,,,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"30/Sep/16 9:17 AM;rameshthoomu;Followed below steps to create virtual environment and modified jenkins.ini file to test or update jenkins jobs to sandbox environment

*Create virtual environment:*

sudo apt-get install python-virtualenv
virtualenv hyp
source hyp/bin/activate
pip install 'jenkins-job-builder==1.5.0'
jenkins-jobs --version
jenkins-jobs test --recursive jjb/

To Test Jenkins Job:
jenkins-jobs --conf jenkins.ini test jjb/ <job name>

To Update Jenkins job:
jenkins-jobs --conf jenkins.ini update jjb/ <job name>;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Setup Continuous Integration (Jenkins CI) for automation test suite,FAB-519,12820,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,rameshthoomu,rameshthoomu,30/Sep/16 5:31 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,28/Dec/16 1:29 AM,,,,,fabric-quality,,,0,quality,,,,,"-- Create Jenkins CI environment to run below automation test suites on X86, Z and Power machines (If Z and Power team provides build machines)

 - smoke test suite
 - daily suite
 - longrun suite
",,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-517,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-516,,,,,,,,,"1|hzxcg7:",,,,,,Sprint 2,,,,,,,,,,,,,,,,,,,,,,,,,,,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"05/Oct/16 8:26 AM;rameshthoomu;Created Private Jenkins Environment to run above mentioned tests.

-- Created master and slave network in vlaunch IBM internal environment
-- 3 x86_64 machines configured and they are ready to kick off the builds 
Hardware Environment: 2 CPU, 2 GB RAM & 80 GB Harddisk

Created Jenkins job to run long run (72hrs) tests (performance) on release-criteria repository.

-- Long run test is in-progress.

;;;","20/Oct/16 4:00 AM;rameshthoomu;Integrated below tests in Jenkins:

1. node-sdk Concurrency tests
2. Below go-SDK tests
     --- executing Concurrency 4 peers 1 minute local tests
     --- CAT TESTS
     --- Executing LST_REGRESSION
     --- 72hrs test
3. node-sdk 72hrs tests

Integrating performance tests. Will update the results soon.. ;;;","01/Nov/16 12:24 AM;rameshthoomu;Integrated below performance tests:

# Executing Invoke on chaincode_example02 - 4 peers - 4 threads - 3 mins
# Executing Query on Chaincode_example02 - 4 peers - 4 Threads - 3 mins
# Executing Invoke on Auction - 4 peers - 4 Threads - 1000 Requests
# Executing  Query on Auction - 4 peers - 4 Threads - 1000 Requests

Results are posted in *rel-criteria-build* slack channel http://jenkinvm.rtp.raleigh.ibm.com:8080/view/Daily%20Test%20Suite/job/rel-criteria-performance/;;;","01/Nov/16 4:28 AM;rameshthoomu;Integrated behave tests in Jenkins. Executing Smoke tests as part of daily builds.;;;","28/Dec/16 1:29 AM;rameshthoomu;Integrated Daily Test Suite, Longruns and Performance  test runs on vlaunch Jenkins machines for v0.6: Also Integrated behave tests.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Create Dashboard and populate test results on Jenkins,FAB-520,12821,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,rameshthoomu,rameshthoomu,30/Sep/16 5:45 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,14/Apr/17 10:01 AM,,,v0.6,,,,,0,,,,,,"Create Dashboard and populate test results on Jenkins:

",,ChristopherFerris,latitiah,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-516,,,,,,,,,"1|hzxc7j:",,,,,,Sprint 2,Sprint 3,,,,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,latitiah,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"29/Oct/16 3:51 AM;latitiah;All of the tests should be executed such that the output can be either xml (junit) or plain text. 

For example, when running behave tests one should be able to execute the following and retrieve test output formatted in the desired format.
""$ behave --junit --junit-directory=test_reports""

go tests (https://github.com/jstemmer/go-junit-report):
""$ go test -v | go-junit-report > report.xml""

node tests (https://www.npmjs.com/package/junit):
""$ junit test/*.js""
;;;","29/Oct/16 4:06 AM;rameshthoomu;[~scottz] [~dongming] Please see the above execution commands and let me know if this works with your programs. ;;;","29/Oct/16 6:24 AM;latitiah;If the above doesn't work, I think it would be worth taking some time getting it to work instead of spending time working on a text file parser for each kind of test script. Having our test scripts output data in a formatted standardized way is a huge plus for us.

;;;","14/Apr/17 10:02 AM;ChristopherFerris;closed this as no longer relevant;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Use ansible for deployment, monitoring, etc",FAB-521,12822,,Epic,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,latitiah,latitiah,30/Sep/16 5:45 AM,21/Jul/18 4:09 AM,28/Oct/23 2:57 AM,28/Apr/17 7:06 AM,,,v0.6,WON'T FIX,fabric-quality,,,0,quality,,,,,"ansible is a tool that we can use that will help simplify our docker and environment setup and tear down. We should utilize it in the fabric project.

In the end we should have a tool that we can pass the variables that we need with minimal changes to the ansible tool.
",,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,Unset,ghx-label-4,,Using Ansible in Fabric,Done,,,Unset,,,,"1|hzxcgn:",,,,Unset,Unset,,,,,,,,,,,,,,,,,,,,,,,,,,,,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Use ansible - docker deployment,FAB-522,12823,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,latitiah,latitiah,30/Sep/16 5:46 AM,21/Jul/18 3:54 AM,28/Oct/23 2:57 AM,28/Dec/16 1:30 AM,,,,,fabric-quality,,,0,quality,,,,,We can use ansible for deployment of peers given certain environment and docker variables that are used and selected at execution time. The deployment should be flexible enough such that changes to the ansible script should be minimal when certain features may or may not be required per execution.,,latitiah,rameshthoomu,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-521,,,,,,,,,"1|hzxcbr:",,,,Unset,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,latitiah,rameshthoomu,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"05/Oct/16 9:15 AM;rameshthoomu;[~suryalnvs] and myself worked on setting up peer network on latest docker images generated and submitted to docker hub account. *Ansible script* pulls the docker images on remote machine from docker hub and spinup peer network.;;;","26/Oct/16 2:08 AM;suryalnvs;Made changes to the existing ansible script to launch the peer network  on z-machine and power machine as well by pulling the latest images and also worked on ansible script to setup a non-vagrant environment. ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Integrate nodeSDK tests in ci-pipeline,FAB-523,12824,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,rameshthoomu,rameshthoomu,30/Sep/16 5:47 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,11/Oct/16 10:03 PM,,,,,fabric-quality,,,0,build-system,quality,,,,Integrate* nodeSDK* tests in *ci-pipeline*,,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-516,,,,,,,,,"1|hzxc7r:",,,,,,Sprint 2,Sprint 3,,,,,,,,,,,,,,,,,,,,,,,,,,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"05/Oct/16 9:37 AM;rameshthoomu;Makefile in sdk/node is not update in ""feature/Convergence"" & ""feature/ca"" repository. This is blocking me to enable ""node-sdk"" tests in Jenkins build. Will check with [~angrbrd] or [~jimthematrix] on this.

[~angrbrd] [~jimthematrix] inputs please ??;;;","11/Oct/16 10:01 PM;rameshthoomu;node-sdk-unit-tests are now in ci-pipeline on branch v0.6. Once the tests are streamlined will apply this patch for master if need. But we have a new repository created for fabric-node-sdk in gerrit. We may use this for node-sdk-tests once it is clean.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Use ansible - monitoring,FAB-524,12825,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,suryalnvs,latitiah,latitiah,30/Sep/16 5:48 AM,21/Jul/18 3:57 AM,28/Oct/23 2:57 AM,28/Apr/17 7:00 AM,,,v0.6,WON'T FIX,fabric-quality,,,0,quality,,,,,"We can use ansible for monitoring the peers within a network. This includes CPU, memory, disk space, etc...",,latitiah,rameshthoomu,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-521,,,,,,,,,"1|hzxcbz:",,,,Unset,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,latitiah,rameshthoomu,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"05/Oct/16 9:22 AM;rameshthoomu;We achieved this by running ""cAdvisor"" container inside local_fabric.sh script. Will work on adding same script to run cAdvisor container from ansible.;;;","28/Apr/17 7:00 AM;scottz;No more effort is being spent on v0.6 workitems. Someone can open a new jira task if they wish to explore using this tool in v1.0 and share how to use it.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add reconnection logic,FAB-526,12827,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,kchristidis,kchristidis,kchristidis,30/Sep/16 5:52 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,30/Sep/16 5:58 AM,,,,,fabric-orderer,,,0,consensus,,,,,"If the Kafka brokers are not up yet, the orderer should attempt to reconnect to them every X seconds for a period of Y seconds, instead of panicking right away.

This means there's no need for ""sleep 5s"" hacks when bringing up a network for BDD tests via Docker Compose.",,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,14400,14400,,0%,14400,14400,,,,,,,,,,,,,,,,,,,,,,FAB-32,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-32,,,,,,,,,"1|hzx9lb:",,,,,,Sprint 2,,,,,,,,,,,,,,,1.0,,,,,,,,,,,,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add v1.0 tests for orderer,FAB-531,12832,,Epic,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,latitiah,latitiah,30/Sep/16 6:39 AM,21/Jul/18 4:09 AM,28/Oct/23 2:57 AM,28/Apr/17 5:38 AM,,,,,fabric-quality,,,0,consensus,quality,,,,The orderer scenarios (both happy path and failure) should be added. (version 1.0),,latitiah,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,Unset,ghx-label-7,,Add v1.0 tests for orderer,Done,,,Unset,,,,"1|hzxcf3:",,,,Unset,Unset,,,,,,,,,,,,,,,,,,,,,,,,,,,,latitiah,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"28/Apr/17 5:38 AM;latitiah;Closing this as a duplicate of issues found in FAB-1017.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Commit tests to correct repository,FAB-532,12833,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,latitiah,latitiah,30/Sep/16 6:42 AM,21/Jul/18 3:54 AM,28/Oct/23 2:57 AM,26/Oct/16 4:38 AM,,,,,fabric-quality,,,0,quality,,,,,"All tests used for testing hyperledger/fabric should be submitted to github. 

Code should eventually be in hyperledger/fabric repository in the bddtests directory. There should also be a directory ""extended_regression"" in the bddtests directory.",,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-517,,,,,,,,,"1|hzx8mn:",,,,Unset,,Sprint 3,Sprint 4 - Quality,,,,,,,,,,,,,,,Unset,,,,,,,,,,,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Testing ""hot-swap"" back-ups of database and execution",FAB-534,12835,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,suryalnvs,latitiah,latitiah,30/Sep/16 6:51 AM,27/Aug/18 9:56 PM,28/Oct/23 2:57 AM,27/Aug/18 9:56 PM,,,Future,,fabric-quality,,,0,quality,,,,,"When a customer has backups of the peer ledger (no need to do anything with couchdb database), can that backup database replace the original and continue with execution as needed? Stop a peer some time after a backup is made, copy the old ledger backup in to replace the newer one, and restart the peer.

Expected result: There should be no problems. Execution should continue as if it were the original ledger. Peer will resume, and catchup all blocks.

This can be added as a behave test for automation.",,ChristopherFerris,latitiah,scottz,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-6446,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzxc87:",,,,Unset,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,ChristopherFerris,latitiah,scottz,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"14/Oct/17 2:55 AM;ChristopherFerris;this is an important test... [~latitiah] [~scottz] let's not lose sight of this;;;","27/Feb/18 8:18 AM;scottz;[~ChristopherFerris] [~latitiah] 

We are discussing this and will do some tests tomorrow. Question:
Is the test intent to stop the peer first, before overwriting the existing ledger directory structure with the outdated backup copy?

Or should we leave the peer actively running when we do this? (This would be more of a ""hot swap"", but who would do that to a live system? is this a valid testcase?)

Also, we should be able to do the same test with an orderer in a kafka network.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Modify automation tools to swap interface SDK used ,FAB-536,12837,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,latitiah,latitiah,latitiah,30/Sep/16 6:57 AM,11/Aug/18 1:15 AM,28/Oct/23 2:57 AM,11/Aug/18 1:15 AM,,,,,fabric-quality,,,0,quality,,,,,"The test automation tools should be modified such that we can change the SDK used as a parameter and without code changes. This will allow us to know if there are any issues more quickly between the different SDKs and find those holes more quickly. 

This can also come in handy when working with customers to know which SDKs they are using and possible issues that may be present as a result.
",,ChristopherFerris,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-6197,,,FAB-3634,FAB-6197,,,,FAB-11544,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzxc8f:",,,,Unset,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,ChristopherFerris,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,true,"14/Oct/17 2:51 AM;ChristopherFerris;[~latitiah] is this still relevant?;;;","14/Oct/17 2:59 AM;latitiah;Yes, this is what I'm working on now. This is for the system behave framework. I'll add the associated JIRA issues to this issue, so that it's clearer. Thanks!;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update 4 peer network script with TLS enabled,FAB-537,12838,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,suryalnvs,rameshthoomu,rameshthoomu,30/Sep/16 7:48 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,19/Nov/16 3:32 AM,,,,,,,,0,,,,,,Modify local_fabric.sh (Spinup 4 peer network) to enable docker TLS. ,,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxcgv:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Crash when run chaincode with pbft on 4 nodes.,FAB-538,12839,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,mqshen,mqshen,30/Sep/16 11:15 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,14/Apr/17 8:39 AM,v0.6,,WON'T FIX,,fabric-orderer,,,0,,,,,,"I run 4 vp nodes on one machine, and it crash when run for a while.
Node3's error log:


{code:none}
09:56:27.704 [consensus/pbft] execDoneSync -> INFO 093^[[0m Replica 2 finished execution 49, trying next
09:56:29.828 [consensus/pbft] executeOne -> INFO 094^[[0m Replica 2 executing/committing request batch for view=0/seqNo=50 and digest 27Z2b2ltYurwlR5fEeiNiUGZcgdyfE9pCmk45ktEFHGCMAx1oNEesjrntZZlHffzObXLv93ZVo6KYNFv0c0mzA==
fatal error: unexpected signal during runtime execution
[signal 0xb code=0x80 addr=0x0 pc=0x7f6d299a9618]

runtime stack:
runtime.throw(0x1028f80, 0x2a)
        /usr/local/go/src/runtime/panic.go:547 +0x90
runtime.sigpanic()
        /usr/local/go/src/runtime/sigpanic_unix.go:12 +0x5a

goroutine 12 [syscall, locked to thread]:
runtime.cgocall(0xbec3bd, 0xc8200c78b8, 0x100000000000000)
        /usr/local/go/src/runtime/cgocall.go:123 +0x11b fp=0xc8200c7880 sp=0xc8200c7850
github.com/hyperledger/fabric/vendor/github.com/tecbot/gorocksdb._Cfunc_rocksdb_write(0x2f54128, 0x3012a80, 0x2fff180, 0xc82013c5d8)
        github.com/hyperledger/fabric/vendor/github.com/tecbot/gorocksdb/_obj/_cgo_gotypes.go:2903 +0x3a fp=0xc8200c78b8 sp=0xc8200c7880
github.com/hyperledger/fabric/vendor/github.com/tecbot/gorocksdb.(*DB).Write(0xc820255440, 0xc82013c5d0, 0xc82013c5c0, 0x0, 0x0)
        /home/nginx/go/src/github.com/hyperledger/fabric/vendor/github.com/tecbot/gorocksdb/db.go:358 +0x2ed fp=0xc8200c79a0 sp=0xc8200c78b8
github.com/hyperledger/fabric/core/ledger.(*Ledger).CommitTxBatch(0xc820464160, 0xe72920, 0xc82045eeb0, 0x0, 0x0, 0x0, 0xc8208926a0, 0x4, 0x4, 0xc8203fba88, ...)
        /home/nginx/go/src/github.com/hyperledger/fabric/core/ledger/ledger.go:196 +0x5d1 fp=0xc8200c7b08 sp=0xc8200c79a0
github.com/hyperledger/fabric/consensus/helper.(*Helper).CommitTxBatch(0xc820468480, 0xe72920, 0xc82045eeb0, 0xc8203fba88, 0x2, 0x8, 0x0, 0x0, 0x0)
        /home/nginx/go/src/github.com/hyperledger/fabric/consensus/helper/helper.go:215 +0x236 fp=0xc8200c7c10 sp=0xc8200c7b08
github.com/hyperledger/fabric/consensus/executor.(*coordinatorImpl).ProcessEvent(0xc82045eeb0, 0xdd8680, 0xc820453bc0, 0x0, 0x0)
        /home/nginx/go/src/github.com/hyperledger/fabric/consensus/executor/executor.go:93 +0x9e4 fp=0xc8200c7df8 sp=0xc8200c7c10
github.com/hyperledger/fabric/consensus/util/events.SendEvent(0x7f6d2a77da90, 0xc82045eeb0, 0xdd8680, 0xc820453bc0)
        /home/nginx/go/src/github.com/hyperledger/fabric/consensus/util/events/events.go:113 +0x45 fp=0xc8200c7e38 sp=0xc8200c7df8
github.com/hyperledger/fabric/consensus/util/events.(*managerImpl).Inject(0xc8204652a0, 0xdd8680, 0xc820453bc0)
        /home/nginx/go/src/github.com/hyperledger/fabric/consensus/util/events/events.go:123 +0x4f fp=0xc8200c7e60 sp=0xc8200c7e38
github.com/hyperledger/fabric/consensus/util/events.(*managerImpl).eventLoop(0xc8204652a0)
        /home/nginx/go/src/github.com/hyperledger/fabric/consensus/util/events/events.go:132 +0xdb fp=0xc8200c7f88 sp=0xc8200c7e60
runtime.goexit()
        /usr/local/go/src/runtime/asm_amd64.s:1998 +0x1 fp=0xc8200c7f90 sp=0xc8200c7f88
created by github.com/hyperledger/fabric/consensus/util/events.(*managerImpl).Start
        /home/nginx/go/src/github.com/hyperledger/fabric/consensus/util/events/events.go:100 +0x35 
{code}

Node4'e error log:

{code:none}
09:56:27.704 [consensus/pbft] execDoneSync -> INFO 092^[[0m Replica 3 finished execution 49, trying next
09:56:29.833 [consensus/pbft] executeOne -> INFO 093^[[0m Replica 3 executing/committing request batch for view=0/seqNo=50 and digest 27Z2b2ltYurwlR5fEeiNiUGZcgdyfE9pCmk45ktEFHGCMAx1oNEesjrntZZlHffzObXLv93ZVo6KYNFv0c0mzA==
fatal error: unexpected signal during runtime execution
[signal 0xb code=0x80 addr=0x0 pc=0x7f5f2184a618]

runtime stack:
runtime.throw(0x1028f80, 0x2a)
        /usr/local/go/src/runtime/panic.go:547 +0x90
runtime.sigpanic()
        /usr/local/go/src/runtime/sigpanic_unix.go:12 +0x5a

goroutine 89 [syscall, locked to thread]:
runtime.cgocall(0xbec3bd, 0xc82012f8b8, 0x100000000000000)
        /usr/local/go/src/runtime/cgocall.go:123 +0x11b fp=0xc82012f880 sp=0xc82012f850
github.com/hyperledger/fabric/vendor/github.com/tecbot/gorocksdb._Cfunc_rocksdb_write(0x3622128, 0x36e0a60, 0x36cd180, 0xc820144588)
        github.com/hyperledger/fabric/vendor/github.com/tecbot/gorocksdb/_obj/_cgo_gotypes.go:2903 +0x3a fp=0xc82012f8b8 sp=0xc82012f880
github.com/hyperledger/fabric/vendor/github.com/tecbot/gorocksdb.(*DB).Write(0xc820251820, 0xc820144580, 0xc820144570, 0x0, 0x0)
        /home/nginx/go/src/github.com/hyperledger/fabric/vendor/github.com/tecbot/gorocksdb/db.go:358 +0x2ed fp=0xc82012f9a0 sp=0xc82012f8b8
github.com/hyperledger/fabric/core/ledger.(*Ledger).CommitTxBatch(0xc82046cd20, 0xe72920, 0xc820012550, 0x0, 0x0, 0x0, 0xc8202f14e0, 0x4, 0x4, 0xc820278e20, ...)
        /home/nginx/go/src/github.com/hyperledger/fabric/core/ledger/ledger.go:196 +0x5d1 fp=0xc82012fb08 sp=0xc82012f9a0
github.com/hyperledger/fabric/consensus/helper.(*Helper).CommitTxBatch(0xc820253100, 0xe72920, 0xc820012550, 0xc820278e20, 0x2, 0x8, 0x0, 0x0, 0x0)
        /home/nginx/go/src/github.com/hyperledger/fabric/consensus/helper/helper.go:215 +0x236 fp=0xc82012fc10 sp=0xc82012fb08
github.com/hyperledger/fabric/consensus/executor.(*coordinatorImpl).ProcessEvent(0xc820012550, 0xdd8680, 0xc8202f3aa0, 0x0, 0x0)
        /home/nginx/go/src/github.com/hyperledger/fabric/consensus/executor/executor.go:93 +0x9e4 fp=0xc82012fdf8 sp=0xc82012fc10
github.com/hyperledger/fabric/consensus/util/events.SendEvent(0x7f5f22661340, 0xc820012550, 0xdd8680, 0xc8202f3aa0)
        /home/nginx/go/src/github.com/hyperledger/fabric/consensus/util/events/events.go:113 +0x45 fp=0xc82012fe38 sp=0xc82012fdf8
github.com/hyperledger/fabric/consensus/util/events.(*managerImpl).Inject(0xc82000e420, 0xdd8680, 0xc8202f3aa0)
        /home/nginx/go/src/github.com/hyperledger/fabric/consensus/util/events/events.go:123 +0x4f fp=0xc82012fe60 sp=0xc82012fe38
github.com/hyperledger/fabric/consensus/util/events.(*managerImpl).eventLoop(0xc82000e420)
        /home/nginx/go/src/github.com/hyperledger/fabric/consensus/util/events/events.go:132 +0xdb fp=0xc82012ff88 sp=0xc82012fe60
runtime.goexit()
        /usr/local/go/src/runtime/asm_amd64.s:1998 +0x1 fp=0xc82012ff90 sp=0xc82012ff88
created by github.com/hyperledger/fabric/consensus/util/events.(*managerImpl).Start
        /home/nginx/go/src/github.com/hyperledger/fabric/consensus/util/events/events.go:100 +0x35
{code}
","OS:Ubuntu 16.04 LTS
fabric version: git commit 42ca84b78b9bb9fa29ea8008a7e53a7b01420591",mqshen,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxch3:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mqshen,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Implement crypto in python SDK,FAB-539,12840,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,grapebaba,grapebaba,grapebaba,30/Sep/16 11:34 AM,21/Jul/18 3:54 AM,28/Oct/23 2:57 AM,24/Oct/16 7:17 PM,,,v0.6,,fabric-crypto,,,0,Security,,,,,Follow SDK spec and refer to nodeJS SDK implementation.,,grapebaba,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,144000,144000,,0%,144000,144000,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzxchb:",,,,Unset,,Sprint 2,Sprint 2,,,,,,,,,,,,,,5.0,Unset,,,,,,,,,,,grapebaba,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Networking issue with Docker Compose file for BDD tests,FAB-540,12841,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,jeffgarratt,kchristidis,kchristidis,30/Sep/16 12:46 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,01/Oct/16 1:29 AM,,,,,fabric-orderer,,,0,consensus,,,,,"As a reminder, we are dealing with three components when we talk about the Kafka orderer:

# The Kafka/ZooKeeper container [0]
# The Kafka orderer [1]
# A client that interacts with the orderer (sample client [2])

Everything works great in both localhost and the Vagrant environment.

Things start to fail interesting ways if you bring up the Kafka orderer in its own container. Consider the Docker Compose file [4] which takes care of bringing up Kafka/Zookeeper and the orderer. A successful connection is established between these two containers, however an attempt to interact with the orderer via the client (bd_counter -rpc broadcast -count 1 -server 127.0.0.1:5005) fails with the following error:

{quote}2016/09/29 22:36:09 grpc: ClientConn.resetTransport failed to create client transport: connection error: desc = ""transport: write tcp 127.0.0.1:60785->127.0.0.1:5005: write: broken pipe""; Reconnecting to ""127.0.0.1:5005""
[22:36:09]    broadcast.go:55: [DEBUG] Sent broadcast message ""0"" to orderer
2016/09/29 22:36:09 transport: http2Client.notifyError got notified that the client transport was broken read tcp 127.0.0.1:60787->127.0.0.1:5005: read: connection reset by peer.
panic: Failed to receive a broadcast reply from orderer: rpc error: code = 13 desc = ""transport is closing""{quote}

All scenarios in the orderer-kafka.feature [4] file fail as well.

The only way I could finally get it to work was by modifying the Docker Compose file so as to have both Kafka/ZooKeeper and the orderer use the Docker host's (i.e. the Vagrant environment's) network interfaces (net: ""host""), and hard-coding references to ""localhost"" in both the Docker Compose file [5] and orderer_util.py [6].

Do we have any idea what's going wrong here?







[0] docker run -p 2181:2181 -p 9092:9092 --env ADVERTISED_HOST=0.0.0.0 --env ADVERTISED_PORT=9092 --name kafka kchristidis/kafka
[1] https://github.com/kchristidis/fabric/tree/803297429738731542148a043f49e368c2d0e09e/orderer (go install; ORDERER_GENERAL_ORDERERTYPE=kafka orderer)
[2] https://github.com/kchristidis/fabric/tree/803297429738731542148a043f49e368c2d0e09e/orderer/sample_clients/bd_counter (go install; bd_counter -rpc broadcast -count 1)
[3] https://github.com/kchristidis/fabric/blob/06b0fd0ddf5b97e220f26aee87f5a9668499832d/bddtests/docker-compose-orderer-kafka.yml
[4] https://github.com/kchristidis/fabric/blob/803297429738731542148a043f49e368c2d0e09e/bddtests/orderer-kafka.feature
[5] https://github.com/kchristidis/fabric/commit/803297429738731542148a043f49e368c2d0e09e#diff-78b987050d93022b0ba15ff7f82b0944
[6] https://github.com/kchristidis/fabric/commit/803297429738731542148a043f49e368c2d0e09e#diff-94b9f1f04698ba57fc7283087f8194cf",,jeffgarratt,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-32,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-32,,,,,,,,,"1|hzx9lj:",,,,,,Sprint 2,,,,,,,,,,,,,,,,,,,,,,,,,,,jeffgarratt,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"01/Oct/16 1:28 AM;jeffgarratt;Let me know if this is not resolved.  Thanks.;;;","01/Oct/16 1:28 AM;kchristidis;Resolved thanks to Jeff's help - thanks!;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Switch the fabric-starter-kit Dockerfile to install HFC from npm instead of local file system,FAB-541,12842,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,mastersingh24,jimthematrix,jimthematrix,30/Sep/16 11:35 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,09/Oct/16 3:26 PM,,,,,,,08/Oct/16 12:00 AM,0,node-SDK,,,,,"The last line of the Dockerfile is currently like this:

# install the hfc locally for use by the application
RUN npm install $GOPATH/src/github.com/hyperledger/fabric/sdk/node

This means the version of HFC can get out of sync with what the application developers are told to use, namely the version published in npm.

Also the publishing of this image could be lagging behind the publishing of HFC in npm, resulting in errors seen with the starter kit that have already been fixed in npm.

Should really switch to ""RUN npm install hfc""",,jimthematrix,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,";09/Oct/16 3:29 PM;mastersingh24;3600",,3600,0,3600,100%,3600,0,3600,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxchj:",,,,,,Sprint 2,,,,,,,,,,,,,,,,,,,,,,,,,,,jimthematrix,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"08/Oct/16 10:34 PM;mastersingh24;
Here's what the contents of the Dockerfile should be:


{noformat}
FROM hyperledger/fabric-peer:latest
# setup the chaincode sample
WORKDIR $GOPATH/src/github.com/hyperledger/fabric/examples/chaincode/go/chaincode_example02
RUN go build
# install the hfc locally for use by the application
RUN npm install hfc{noformat}


;;;","09/Oct/16 2:03 AM;mastersingh24;I'll take this unless someone else has it?;;;","09/Oct/16 4:30 AM;mastersingh24;https://gerrit.hyperledger.org/r/#/c/1621/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Chaincode migration from 0.5 to 0.6,FAB-543,12844,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,nickgaski,Ratnakar,Ratnakar,30/Sep/16 11:49 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,10/Dec/16 3:56 AM,,,,,fabric-build,,,0,0.6,Documentation,,,,"Need some documentation updates for the below items

Refer to - http://hyperledger-fabric.readthedocs.io/en/v0.6/v0.6_migration/

#  Replace ""**ChaincodeStub*"" with ""*ChaincodeStubInterface*"" for invoke, deploy, query
#  Chaincode calling chaincode using the APIs *InvokeChaincode* and *Querychaincode* doesn't take a function and takes data as bytes not a string
# Protocol spec still is inconsistent with the latest chaincode

{code:java}
https://github.com/hyperledger/fabric/blob/v0.6/docs/protocol-spec.md
https://github.com/hyperledger/fabric/blob/master/docs/protocol-spec.md

type Chaincode interface {
   Init(stub *ChaincodeStub, function string, args []string) ([]byte, error)
    Invoke(stub *ChaincodeStub, function string, args []string) ([]byte, error)
    Query(stub *ChaincodeStub, function string, args []string) ([]byte, error)
{code}
",,Ratnakar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxchr:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Ratnakar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
setup performance Node SDK on remote environment,FAB-544,12845,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,dongming,dongming,dongming,30/Sep/16 11:52 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,05/Nov/16 2:05 AM,,,,,fabric-quality,,,0,quality,,,,,setup performance Node SDK on z-performance environment in order to measure the performance (stress and concurrency test) on a non-production environment,,dongming,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx8lj:",,,,,,Sprint 3,Sprint 4 - Quality,,,,,,,,,,,,,,,,,,,,,,,,,,dongming,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
measure the performance (stress and concurrency) using Node SDK on remote environment,FAB-545,12846,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,dongming,dongming,dongming,30/Sep/16 11:56 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,14/Nov/16 11:47 PM,,,,,fabric-quality,,,0,quality,,,,,Need to measure the performance (stress and concurrency) using Node SDK on z-performance environment for release criteria. This task will be executed whenever needed.,,dongming,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-731,,,,,,,,,"1|hzx8zz:",,,,,,Sprint 3,Sprint 5 - Quality,,,,,,,,,,,,,,,,,,,,,,,,,,dongming,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"05/Nov/16 2:23 AM;dongming;Completed on the LPAR provided by Jason.
Waiting for the one from z-performance team to test.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
add new features to the performance Node SDK: traffic loads,FAB-546,12847,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,dongming,dongming,dongming,01/Oct/16 12:01 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,28/Oct/16 12:44 AM,,,,,fabric-quality,,,0,quality,,,,,New features will be added to performance Node SDK continuously.  The first one is for the performance Node SDK to support the traffic loads with mix of high and low traffic.  This will be performed on z-performance environment.,,dongming,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxcj3:",,,,,,Sprint 4 - Quality,,,,,,,,,,,,,,,,,,,,,,,,,,,dongming,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Write script for automating generic fabric performance tests,FAB-547,12848,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,dongming,dongming,dongming,01/Oct/16 12:04 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,15/Sep/17 3:36 AM,,,,,fabric-quality,,,0,quality,,,,,add scripts for automating generic fabric performance tests ,,dongming,kleniu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx87z:",,,,,,Sprint 6 - Crypto,Sprint 6 - Quality,,,,,,,,,,,,,,,,,,,,,,,,,,dongming,kleniu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"15/Sep/17 3:36 AM;dongming;This is to be done in many JIRA items such as FAB-3893, 4162 and 4226.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Performance: Concurrent reads and writes (scalability) - Many hosts,FAB-549,12850,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,dongming,dongming,dongming,01/Oct/16 12:18 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,15/Sep/17 3:38 AM,,,,,fabric-quality,,,0,quality,,,,,Performance Node SDK to support concurrent reads and writes (scalability) on multiple hosts,,dongming,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxcjz:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,dongming,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"29/Oct/16 3:54 AM;dongming;Performance Node SDK supports simultaneous invokes and queries transaction on multiple LPARs concurrently. Each LPAR has multiple threads running concurrently.;;;","15/Sep/17 3:38 AM;dongming;This is done in FAB-6034: PTE checked into fabric-test;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Performance: Concurrent reads and writes (scalability) - Many threads,FAB-550,12851,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,dongming,dongming,dongming,01/Oct/16 12:19 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,29/Oct/16 3:50 AM,,,,,fabric-quality,,,0,quality,,,,,Have performance Node SDK to support concurrent reads/writes (scalability) with multiple threads on each LPAR.,,dongming,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxchz:",,,,,,Sprint 4 - Quality,,,,,,,,,,,,,,,,,,,,,,,,,,,dongming,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"29/Oct/16 3:43 AM;dongming;The performance Node SDK needs to support invokes and queries simultaneously on multiple threads.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
performance: concurrent/interchage reads/write,FAB-551,12852,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,dongming,dongming,dongming,01/Oct/16 12:21 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,15/Sep/17 3:32 AM,,,,,fabric-quality,,,0,quality,,,,,"Have performacne Node SDK to support concurrent reads and writes (scalability) - There are many reads and writes (interchange them and ensure accuracy) -  (Support pre-testing, using NodeSDK/gRPC)",,dongming,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxck7:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,dongming,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"15/Sep/17 3:32 AM;dongming;This is done in FAB-6034: PTE checked into fabric-test repo;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
performance Node SDK to support heavy loads,FAB-552,12853,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,dongming,dongming,dongming,01/Oct/16 12:22 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,28/Oct/16 2:06 AM,,,,,fabric-quality,,,0,quality,,,,,"Have performance Node SDK to support heavy loads (constant hammering for 10 min, 20 min, etc.) -- traffic capacity and mix similar to that at the customer site.",,dongming,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx8lb:",,,,,,Sprint 4 - Quality,,,,,,,,,,,,,,,,,,,,,,,,,,,dongming,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Long run tests,FAB-553,12854,,Epic,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,dongming,Ratnakar,Ratnakar,01/Oct/16 12:26 AM,21/Jul/18 4:09 AM,28/Oct/23 2:57 AM,18/Oct/16 8:28 AM,,,,,fabric-quality,,,0,quality,,,,,"* Script development for long runs and uploading the tests in repo
* Long runs with bursts and variable traffic rates
* Long test runs over multiple days
* Traffic soak lab, long run of major release, never stop running (and could practice upgrade/swap in fixes as necessary here)
",,Ratnakar,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,Unset,ghx-label-6,,Long run tests,Done,,,Unset,,,,"1|hzxe3z:",,,,Unset,Unset,Sprint 2,,,,,,,,,,,,,,,,,,,,,,,,,,,Ratnakar,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"18/Oct/16 8:28 AM;scottz;Closing this epic, because it overlaps with others.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
performance Node SDK to support traffic rate higher than network capacity,FAB-554,12855,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,dongming,dongming,dongming,01/Oct/16 12:27 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,28/Oct/16 2:06 AM,,,,,fabric-quality,,,0,quality,,,,,"Have performance Node SDK to support and execute heavytraffic rates (constant hammering for 10 min, 20 min, etc.) higher than the network capacity.  And then study the results.",,dongming,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx8lr:",,,,,,Sprint 4 - Quality,,,,,,,,,,,,,,,,,,,,,,,,,,,dongming,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
performance Node SDK to support customer chaincode,FAB-555,12856,,Task,Closed,FAB,Fabric,software,denyeart,,,Low,Done,dongming,dongming,dongming,01/Oct/16 12:32 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,14/Oct/17 2:54 AM,,,,,fabric-quality,,,0,quality,,,,,"Have performance Node SDK to support customer chaincode upon request and to provide the performance results, such as transaction per second.  This will be an ongoing activity.",,ChristopherFerris,dongming,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxckf:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,dongming,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"14/Oct/17 2:54 AM;ChristopherFerris;closing, please reopen if still relevant;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
NodeSDk based testing using real world/complex applications,FAB-557,12858,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,Ratnakar,Ratnakar,01/Oct/16 12:36 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,29/Apr/17 12:09 AM,,,,,fabric-quality,,,0,quality,,,,,"NodeSDk based testing using real world/complex applications (Auction)

Make a generic framework/program which can be used to for any other complex chaincodes",,Ratnakar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxckn:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Ratnakar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"29/Apr/17 12:09 AM;Ratnakar;This shall be taken care by few other JIRA items
https://jira.hyperledger.org/browse/FAB-3474
https://jira.hyperledger.org/browse/FAB-3475

No active development is going on on this task

;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Investigation on Load testing tools,FAB-558,12859,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,Ratnakar,Ratnakar,01/Oct/16 12:39 AM,21/Jul/18 3:54 AM,28/Oct/23 2:57 AM,29/Apr/17 12:09 AM,,,,,fabric-quality,,,0,quality,,,,,Investigation on the tools that can be used for Load testing,,Ratnakar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzxckv:",,,,Unset,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,Ratnakar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"29/Apr/17 12:09 AM;Ratnakar;No active development is going on on this task

;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Identifying test coverage gaps - both functional features and code coverage,FAB-559,12860,,Epic,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,bmos299,Ratnakar,Ratnakar,01/Oct/16 12:46 AM,21/Jul/18 4:08 AM,28/Oct/23 2:57 AM,29/Jun/17 11:37 PM,,,,,fabric-quality,,,0,quality,,,,,"# Obtain coverage reports, to research what areas need more test coverage
# Research Release Notes / COMMITS to identify more testcases (per release)
# Research Plans, to see what features are in pipeline and what needs to be tested
# Error scenarios and failure scenarios testing",,bmos299,ChristopherFerris,Ratnakar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,Unset,ghx-label-8,,Identifying test coverage gaps,To Do,,,Unset,,,,"1|hzxcfj:",,,,Unset,Unset,,,,,,,,,,,,,,,,,,,,,,,,,,,,bmos299,ChristopherFerris,Ratnakar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"28/Jun/17 9:09 AM;ChristopherFerris;[~bmos299] is this still relevant? Seems like we have this under control and we don't need an epic.;;;","29/Jun/17 11:37 PM;bmos299;[~ChristopherFerris], yes, marking as done. ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Script development for long runs using NodeSdk,FAB-560,12861,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,Ratnakar,Ratnakar,Ratnakar,01/Oct/16 12:48 AM,21/Jul/18 3:55 AM,28/Oct/23 2:57 AM,05/Nov/16 2:46 AM,,,,,fabric-quality,,,0,quality,,,,,Script development for long runs and uploading the tests in repo,,Ratnakar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-692,FAB-596,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-517,,,,,,,,,"1|hzxcjr:",,,,Unset,,Sprint 3,Sprint 4 - Quality,,,,,,,,,,,,,,,Unset,,,,,,,,,,,Ratnakar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
new feature to node.sdk performance engine for bursts and variable traffic rates,FAB-561,12862,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,dongming,Ratnakar,Ratnakar,01/Oct/16 12:48 AM,21/Jul/18 3:53 AM,28/Oct/23 2:57 AM,20/Oct/16 2:02 AM,,,,,fabric-quality,,,0,quality,,,,,,,dongming,Ratnakar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzxc7z:",,,,Unset,,Sprint 2,Sprint 3,,,,,,,,,,,,,,,Unset,,,,,,,,,,,dongming,Ratnakar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"15/Oct/16 4:46 AM;dongming;will add burst traffic support in performance Node SDK;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"define parameters and the number of long test runs over multiple days, with node sdk performance engine",FAB-562,12863,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,dongming,Ratnakar,Ratnakar,01/Oct/16 12:49 AM,21/Jul/18 3:56 AM,28/Oct/23 2:57 AM,10/Nov/16 7:28 AM,,,,,fabric-quality,,,0,quality,,,,,"Long test runs over multiple days
",,Ratnakar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-596,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-517,,,,,,,,,"1|hzx90n:",,,,Unset,,Sprint 2,Sprint 3,Sprint 5 - Quality,,,,,,,,,,,,,,Unset,,,,,,,,,,,Ratnakar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Traffic soak lab, long run of major release, never stop running ",FAB-563,12864,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,Ratnakar,Ratnakar,01/Oct/16 12:49 AM,21/Jul/18 3:57 AM,28/Oct/23 2:57 AM,29/Apr/17 12:08 AM,,,,,fabric-quality,,,0,quality,,,,,"Traffic soak lab, long run of major release, never stop running (and could practice upgrade/swap in fixes as necessary here)
",,Ratnakar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzxcl3:",,,,Unset,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,Ratnakar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"29/Apr/17 12:08 AM;Ratnakar;This shall be taken care by few other JIRA items
https://jira.hyperledger.org/browse/FAB-3474
https://jira.hyperledger.org/browse/FAB-3475

and Few Other tests.
No active development is going on on this task

;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Research Release Notes / COMMITS to identify more testcases (per release),FAB-565,12866,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,Ratnakar,Ratnakar,01/Oct/16 12:50 AM,21/Jul/18 3:54 AM,28/Oct/23 2:57 AM,14/Oct/17 2:52 AM,,,,,fabric-quality,,,0,quality,,,,,"Research Release Notes / COMMITS to identify more testcases (per release)
",,ChristopherFerris,Ratnakar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-559,,,,,,,,,"1|hzxclj:",,,,Unset,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,ChristopherFerris,Ratnakar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"14/Oct/17 2:52 AM;ChristopherFerris;closing, please reopen if still relevant;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Research Plans, to see what features are in pipeline and what needs to be tested",FAB-566,12867,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,Ratnakar,Ratnakar,01/Oct/16 12:50 AM,21/Jul/18 3:54 AM,28/Oct/23 2:57 AM,23/Apr/17 10:37 PM,,,WON'T FIX,,fabric-quality,,,0,quality,,,,,"Research Plans, to see what features are in pipeline and what needs to be tested",,ChristopherFerris,Ratnakar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-559,,,,,,,,,"1|hzxclb:",,,,Unset,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,ChristopherFerris,Ratnakar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"04/Apr/17 4:34 AM;ChristopherFerris;unclear to me that this is still needed. can it be closed?;;;","23/Apr/17 10:37 PM;ChristopherFerris;closing this, I don't think it is needed.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Error scenarios and failure scenarios testing,FAB-567,12868,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,Ratnakar,Ratnakar,01/Oct/16 12:51 AM,21/Jul/18 3:54 AM,28/Oct/23 2:57 AM,14/Oct/17 2:53 AM,,,,,fabric-quality,,,0,quality,,,,,"Error scenarios and failure scenarios testing
",,ChristopherFerris,Ratnakar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-559,,,,,,,,,"1|hzxclr:",,,,Unset,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,ChristopherFerris,Ratnakar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"14/Oct/17 2:53 AM;ChristopherFerris;closing, please reopen if still relevant;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Research how we can calculate a Code Coverage number, based on running our tests",FAB-568,12869,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,Ratnakar,Ratnakar,01/Oct/16 12:58 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,03/Jun/17 7:06 PM,,,,,fabric-quality,,,0,quality,,,,,"Research how we can calculate a Code Coverage number, based on running our tests",,Ratnakar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxclz:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Ratnakar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
goSDK tests,FAB-569,12870,12833,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,scottz,latitiah,latitiah,01/Oct/16 1:52 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,18/Oct/16 7:40 AM,,,,,fabric-quality,,,0,quality,,,,,,,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxcm7:",,,,,,Sprint 3,Sprint 4 - Quality,,,,,,,,,,,,,,,,,,,,,,,,,,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
NodeSDK tests,FAB-570,12871,12833,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,Nishi,latitiah,latitiah,01/Oct/16 1:53 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,26/Oct/16 4:38 AM,,,,,fabric-quality,,,0,quality,,,,,,,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxcmf:",,,,,,Sprint 3,Sprint 4 - Quality,,,,,,,,,,,,,,,,,,,,,,,,,,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Performance tests (statistics, python)",FAB-571,12872,12833,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,latitiah,latitiah,latitiah,01/Oct/16 1:53 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,13/Oct/16 5:44 AM,,,,,fabric-quality,,,0,quality,,,,,,,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxcmn:",,,,,,Sprint 3,Sprint 4 - Quality,,,,,,,,,,,,,,1.0,,,,,,,,,,,,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Behave tests,FAB-572,12873,12833,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,latitiah,latitiah,latitiah,01/Oct/16 1:53 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,26/Oct/16 2:35 AM,,,,,fabric-quality,,,0,quality,,,,,,,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxcmv:",,,,,,Sprint 3,Sprint 4 - Quality,,,,,,,,,,,,,,1.0,,,,,,,,,,,,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
go-logging concurrency bug fix,FAB-573,12874,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,01/Oct/16 2:17 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,02/Oct/16 10:54 PM,,,,,,,,0,,,,,,"Fix go-logging concurrent map read-write bug

This bug sometimes fails unit tests because logging are sometimes set up
in parallel.

Added a RWLock to op/go-logging/level.go's moduleLeveled struct
and it RLocks in GetLevel and WLocks at SetLevel

https://gerrit.hyperledger.org/r/#/c/1379/
commit 8c2566635c35abe74f27d3596621daf85d4ac901",,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxcn3:",,,,,,Sprint 2,,,,,,,,,,,,,,,,,,,,,,,,,,,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
As an administrator I want to change the log level for a module of the peer dynamically,FAB-574,12875,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wlahti,wlahti,wlahti,01/Oct/16 4:30 AM,21/Jul/18 3:53 AM,28/Oct/23 2:57 AM,10/Jan/17 5:31 AM,,,,,,,,0,,,,,,"There is a need to dynamically modify the log levels for components of the fabric for debugging and problem determination purposes. 

This story emerged as a next logical step from the fix in https://jira.hyperledger.org/browse/FAB-394.",,muralisr,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-37,,,,,,,,,"1|hzxcnb:",,,,Unset,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,muralisr,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Behave execution in remote systems,FAB-575,12876,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,latitiah,latitiah,latitiah,01/Oct/16 4:42 AM,21/Jul/18 3:55 AM,28/Oct/23 2:57 AM,15/Nov/16 12:57 AM,,,,,fabric-quality,,,0,quality,,,,,,,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-731,,,,,,,,,"1|hzx90f:",,,,Unset,,Sprint 2,Sprint 3,Sprint 5 - Quality,,,,,,,,,,,,,4.0,Unset,,,,,,,,,,,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,v0.6,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"12/Oct/16 7:18 AM;latitiah;Blocked: The ""stop"" REST API for a node/peer does not work. (Unable to test ""restart"" until ""stop"" works as expected.) Once the new load is available, I will retest. If this is still an issue, I will open a new issue referring to the ""stop node"" API.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update Docs » NodeSDK » Sample-Standalone-app,FAB-576,12877,,Story,Closed,FAB,Fabric,software,denyeart,,,Lowest,Done,LenH,LenH,LenH,01/Oct/16 4:21 PM,21/Jul/18 3:57 AM,28/Oct/23 2:57 AM,01/Oct/16 8:05 PM,,,,,,,,0,,,,,,"The current documentation states to pull the sample app.js file and run using 'node app' which does not work.

Cmd line fix:
CORE_CHAINCODE_ID_NAME=mycc CORE_PEER_ADDRESS=0.0.0.0:7051 MEMBERSRVC_ADDRESS=0.0.0.0:7054 DEPLOY_MODE=dev node app

File fix - update line - to :
30 - var PEER_ADDRESS         = '0.0.0.0:7051'; 
31 - var MEMBERSRVC_ADDRESS   = '0.0.0.0:7054';
48 - var mode =  'dev';
97 - chaincodeName: 'mycc',


",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzxcnj:",,,,Unset,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,v0.6,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
CoreAPI.md has incorrect description of REST api calls,FAB-578,12879,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ChristopherFerris,ChristopherFerris,ChristopherFerris,01/Oct/16 9:42 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,02/Oct/16 10:20 PM,,,v0.6,,,,,0,Documentation,,,,,CoreAPI.md REST API has incorrect signature for chaincode calls,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,28800,28800,,0%,28800,28800,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxco7:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
invalid memory address or nil pointer dereference when run asset_management02 test code,FAB-579,12880,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,genggjh,genggjh,genggjh,02/Oct/16 7:08 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,11/Oct/16 3:21 PM,v0.6,,,,fabric-build,,,0,,,,,,"Fail to run the `go test` under both asset_management02 and asset_management_with_roles with following error:

--- FAIL: TestChaincodeDeploy (0.01s)
panic: runtime error: invalid memory address or nil pointer dereference [recovered]
       	panic: runtime error: invalid memory address or nil pointer dereference
[signal 0xb code=0x1 addr=0x0 pc=0x834eac]

goroutine 213 [running]:
panic(0xd2e9a0, 0xc82000a110)
       	/opt/go/src/runtime/panic.go:464 +0x3e6
testing.tRunner.func1(0xc82043f8c0)
       	/opt/go/src/testing/testing.go:467 +0x192
panic(0xd2e9a0, 0xc82000a110)
       	/opt/go/src/runtime/panic.go:426 +0x4e9
github.com/hyperledger/fabric/vendor/github.com/tecbot/gorocksdb.(*DB).GetCF(0x0, 0xc82011a368, 0x0, 0x14fbab0, 0xa, 0xa, 0x0, 0x0, 0x0)
       	/opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/tecbot/gorocksdb/db.go:258 +0xcc
github.com/hyperledger/fabric/core/db.(*OpenchainDB).Get(0xc8201964e0, 0x0, 0x14fbab0, 0xa, 0xa, 0x0, 0x0, 0x0, 0x0, 0x0)
       	/opt/gopath/src/github.com/hyperledger/fabric/core/db/db.go:229 +0xd4
github.com/hyperledger/fabric/core/db.(*OpenchainDB).GetFromBlockchainCF(0xc8201964e0, 0x14fbab0, 0xa, 0xa, 0x0, 0x0, 0x0, 0x0, 0x0)
       	/opt/gopath/src/github.com/hyperledger/fabric/core/db/db.go:81 +0x75
github.com/hyperledger/fabric/core/ledger.fetchBlockchainSizeFromDB(0xa1, 0x0, 0x0)
       	/opt/gopath/src/github.com/hyperledger/fabric/core/ledger/blockchain.go:278 +0x57
github.com/hyperledger/fabric/core/ledger.newBlockchain(0x0, 0x0, 0x0)
       	/opt/gopath/src/github.com/hyperledger/fabric/core/ledger/blockchain.go:49 +0x2e
github.com/hyperledger/fabric/core/ledger.GetNewLedger(0xc820477c70, 0x0, 0x0)
       	/opt/gopath/src/github.com/hyperledger/fabric/core/ledger/ledger.go:101 +0x28
github.com/hyperledger/fabric/core/ledger.GetLedger.func1()
       	/opt/gopath/src/github.com/hyperledger/fabric/core/ledger/ledger.go:94 +0x1c
sync.(*Once).Do(0x15339f8, 0xfeb170)
       	/opt/go/src/sync/once.go:44 +0xe4
github.com/hyperledger/fabric/core/ledger.GetLedger(0xc8202fb5c0, 0x0, 0x0)
       	/opt/gopath/src/github.com/hyperledger/fabric/core/ledger/ledger.go:95 +0x3b
github.com/hyperledger/fabric/examples/chaincode/go/asset_management02.deploy(0x7fa687244f08, 0xc8203da7c0, 0x0, 0x0)
       	/opt/gopath/src/github.com/hyperledger/fabric/examples/chaincode/go/asset_management02/asset_management02_test.go:353 +0x4a0
github.com/hyperledger/fabric/examples/chaincode/go/asset_management02.TestChaincodeDeploy(0xc82043f8c0)
       	/opt/gopath/src/github.com/hyperledger/fabric/examples/chaincode/go/asset_management02/asset_management02_test.go:108 +0x16e
testing.tRunner(0xc82043f8c0, 0x14f3a00)
       	/opt/go/src/testing/testing.go:473 +0x98
created by testing.RunTests
       	/opt/go/src/testing/testing.go:582 +0x892
exit status 2
FAIL   	github.com/hyperledger/fabric/examples/chaincode/go/asset_management02 	11.478s",,genggjh,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx9br:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,genggjh,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"02/Oct/16 7:10 PM;genggjh;I run this test in my vagrant env with latest code from github master branch.;;;","02/Oct/16 8:43 PM;genggjh;I got the root case, will fix it.;;;","02/Oct/16 9:35 PM;genggjh;Fix is here: https://gerrit.hyperledger.org/r/#/c/1399/;;;","11/Oct/16 3:21 PM;genggjh;Code has been merged. So we can close it.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
As a fabric developer working on endorser logic I want to do all the required security checks on a client proposal,FAB-580,12882,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ales,elli-androulaki,elli-androulaki,02/Oct/16 9:38 PM,21/Jul/18 3:55 AM,28/Oct/23 2:57 AM,05/Dec/16 5:45 PM,,,,,fabric-crypto,,,0,Security,,,,,"This is in accordance to FAB-351, and FAB-489.",,elli-androulaki,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,288000,288000,,0%,288000,288000,,,,,,,,,,,,,,,,,,,,,,FAB-489,FAB-351,FAB-353,FAB-397,,FAB-829,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzx8an:",,,,Unset,,Sprint 6 - Crypto,Sprint 5 - Crypto,,,,,,,,,,,,,,8.0,Unset,,,,,,,,,,,elli-androulaki,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
As a fabric developer working on client logic I want to do all the required security checks on a proposal response received by client from endorser,FAB-581,12883,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ales,elli-androulaki,elli-androulaki,02/Oct/16 9:45 PM,21/Jul/18 3:54 AM,28/Oct/23 2:57 AM,08/Apr/17 2:16 AM,,,,,fabric-crypto,,,0,node-SDK,Security,,,,"This is in association to FAB-351, and FAB-489.

In two steps:
 - Golang client
 - Nodejs client

These checks will be implemented given the membership service provider interfaces defined in FAB-823 and when needed the BC-CSP (crypto library interface) decided within FAB-355.",,elli-androulaki,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,576000,576000,,0%,576000,576000,,,,,,,,,,,,,,,,,,,,,,FAB-489,FAB-351,FAB-283,FAB-355,FAB-353,FAB-829,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzx6lj:",,,,Unset,,Sprint 6 - Crypto,Sprint 4 - Crypto,Sprint 5 - Crypto,Sprint 8 - Crypto,Sprint 9 - Crypto,Sprint 10 - Crypto,,,,,,,,,,,Unset,,,,,,,,,,,elli-androulaki,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"09/Dec/16 5:38 PM;elli-androulaki;Hi, [~ales] I know you have worked on some golang code for this for testing the endorsement code, [~jimthematrix] I am adding this to your pile just to confirm that its done :);;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
As a fabric developer working on committing peer logic I want to do all the required security checks on a transaction,FAB-582,12884,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,elli-androulaki,elli-androulaki,02/Oct/16 9:50 PM,21/Jul/18 3:57 AM,28/Oct/23 2:57 AM,14/Apr/17 1:15 AM,,,,,fabric-peer,,,0,,,,,,"Here, we would need to use the crypto interface defined within FAB-355 to build the commiting peer component that performs all the security checks within a transaction.",,elli-androulaki,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,288000,288000,,0%,288000,288000,,,,,,,,,,,,,,,,,,,,,,FAB-489,FAB-351,FAB-355,FAB-353,,FAB-829,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzxacf:",,,,Unset,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,elli-androulaki,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
As a fabric developer working on next architecture logic I want to have replay attack protection in place.,FAB-583,12885,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,angelo.decaro,elli-androulaki,elli-androulaki,02/Oct/16 9:53 PM,30/Jul/19 12:53 PM,28/Oct/23 2:57 AM,30/Jul/19 12:53 PM,,,,,fabric-crypto,,,0,Security,,,,,"Documentation & implementation of replay attack resistance related components on the committing peer side, endorser, and client side.",,angelo.decaro,elli-androulaki,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,432000,432000,,0%,432000,432000,,,,,,,,,,,,,,,,,,,,,,FAB-351,FAB-355,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzx68f:",,,,Unset,,Sprint 6 - consensus,Sprint 9 - Crypto,Sprint 10 - Crypto,Sprint 11 - Crypto,,,,,,,,,,,,,Unset,,,,,,,,,,,angelo.decaro,elli-androulaki,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"14/Feb/17 11:23 PM;angelo.decaro;Change-set https://gerrit.hyperledger.org/r/#/c/5945/ implements replay attack protection at endorsers and committers by a lookup into the ledger for the TxID. Fabric enforces that TxID is computed as the HASH of nonce and creator fields.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Gossip API update ,FAB-584,12886,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,03/Oct/16 12:26 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,06/Oct/16 11:42 PM,,,,,fabric-gossip,,,0,gossip,,,,,"The committed Gossip API needs to be adjusted to:
* Reflect cryptographic methods that exist in the fabric peer by having parameters of similar type in verifications/signing signatures, i.e- use PKI_id like in fabric peer
* Provide future support for dissemination of other entities apart from blocks and alive messages, such as block validations, and maybe even certificates (currently to obtain a certificate, an RPC call is made to the membership service)
https://gerrit.hyperledger.org/r/#/c/1343/
154955417eebd54424be4820d71f6624aa66e01c",,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-290,,,,,,,,,"1|hzxcon:",,,,,,Sprint 2,,,,,,,,,,,,,,,,,,,,,,,,,,,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
New unit tests infrastructure - part I,FAB-585,12887,,Story,Closed,FAB,Fabric,software,denyeart,,,High,Done,jimthematrix,jimthematrix,jimthematrix,04/Oct/16 3:51 AM,21/Jul/18 3:56 AM,28/Oct/23 2:57 AM,06/Nov/16 11:01 PM,,,,,fabric-sdk-node,,,0,node-SDK,,,,,"When i run any unit tests, including both the headless and those that require a target network, I should just be doing ""npm test"" or ""node <path to test JS>"", without relying on any external shell scripts.

The first step should be building a local target based on docker images.",,jimthematrix,rennman,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-724,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzx8nz:",,,,Unset,,Sprint 2,Sprint 3,Sprint 4 - nodeSDK,,,,,,,,,,,,,4.0,Unset,,,,,,,,,,,jimthematrix,rennman,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"18/Oct/16 1:19 PM;jimthematrix;[~rennman] are you able to get started with this one?;;;","18/Oct/16 10:53 PM;rennman;I have a docker compose file and a node app that starts one instance each of membersrv and peer. I'll need to get some assistance in syncing up the processes from node.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Behave tests adaptations for v0.6,FAB-587,12889,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,latitiah,scottz,scottz,05/Oct/16 12:15 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,26/Oct/16 2:48 AM,,,,,fabric-quality,,,0,quality,,,,,"changes in v0.6 require our tests to be more flexible with HTTP vs HTTPS, and other interface changes",,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx8l3:",,,,,,Sprint 3,Sprint 4 - Quality,,,,,,,,,,,,,,,,,,,,,,,,,,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Create Governance Document for All Solutions,FAB-588,12890,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,bmos299,bmos299,bmos299,05/Oct/16 12:28 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,07/Oct/16 2:32 AM,,,v0.6,,fabric-quality,,,0,quality,,,,,"Work with the team to develop a document that will be distributed to any IBM teams designing a solution with the blockchain.  The document is in Box and will be worked on by me, sharon, dongming, mohan, ratanakar and any other necessary teams. ",,bmos299,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,144000,144000,,0%,144000,144000,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxcp3:",,,,,,Sprint 2,,,,,,,,,,,,,,,,,,,,,,,,,,,bmos299,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Track Release 6 Testing,FAB-589,12891,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,bmos299,bmos299,bmos299,05/Oct/16 12:30 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,15/Nov/16 12:57 AM,,,v0.6,,fabric-quality,,,0,quality,,,,,Continue to monitor all the work being done on the .6 testing to meet Clayton's deliverable for next week. ,,bmos299,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,288000,288000,,0%,288000,288000,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-731,,,,,,,,,"1|hzx8zr:",,,,,,Sprint 2,Sprint 5 - Quality,,,,,,,,,,,,,,,,,,,,,,,,,,bmos299,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Ensuring Docker Image Deliverables Work Moves Forward,FAB-590,12892,,Task,Closed,FAB,Fabric,software,denyeart,,,High,Done,bmos299,bmos299,bmos299,05/Oct/16 12:31 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,10/Nov/16 5:07 AM,,,,,fabric-quality,,,0,quality,,,,,Working with p and z teams in particular to make sure the docker images are built.  Also working with the documentation team to help get the docs current and add information for the docker compose work being delivered.,,bmos299,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx8zj:",,,,,,Sprint 2,Sprint 5 - Quality,,,,,,,,,,,,,,,,,,,,,,,,,,bmos299,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"14/Oct/16 11:35 PM;bmos299;The work is being done in https://github.com/IBM-Blockchain/fabric-images which is Gari's repo.  The readme is looking pretty good and we need to work with the official release and post in ibmblockchain dockerhub and go through the end-to-end support process.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add broadcast filter framework,FAB-591,12893,12799,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,05/Oct/16 3:23 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,02/Nov/16 9:38 PM,,,,,fabric-orderer,,,0,Consensus,,,,,,,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,21600,21600,,0%,21600,21600,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxcpb:",,,,,,Sprint 3,,,,,,,,,,,,,,,1.0,,,,,,,,,,,,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add client validation broadcast filter,FAB-592,12894,12799,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,05/Oct/16 3:24 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,21/Oct/16 3:43 AM,,,,,fabric-orderer,,,0,consensus,,,,,,,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,21600,21600,,0%,21600,21600,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxcpj:",,,,,,Sprint 3,,,,,,,,,,,,,,,1.0,,,,,,,,,,,,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"21/Oct/16 3:44 AM;jyellick;There is no obvious way to delete this task, but it is outside the scope of FAB-498, so flagged as done.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add orderer configuration broadcast filter,FAB-593,12895,12799,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,05/Oct/16 3:24 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,02/Nov/16 9:38 PM,,,,,fabric-orderer,,,0,Consensus,,,,,,,jyellick,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-817,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxcpr:",,,,,,Sprint 3,,,,,,,,,,,,,,,1.0,,,,,,,,,,,,jyellick,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"22/Oct/16 10:32 AM;kchristidis;https://gerrit.hyperledger.org/r/#/c/1837/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
add automated performance tests to run against fabric,FAB-596,12898,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,dongming,scottz,scottz,05/Oct/16 5:31 AM,21/Jul/18 3:56 AM,28/Oct/23 2:57 AM,28/Apr/17 4:22 AM,,,v0.6,WON'T FIX,fabric-quality,,,0,quality,,,,,"Modify tests as needed for automation, and submit to correct repo/branch: master, v0.6

Specify which ones can be executed for each story (each of the automation test suites) and provide instructions how to run them:

* smoke
* daily
* longrun",,bcbrock,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-713,FAB-714,FAB-715,,,,,,,,,,,,,FAB-562,FAB-560,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-517,,,,,,,,,"1|hzxd2f:",,,,Unset,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,bcbrock,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"06/Oct/16 1:42 AM;bcbrock;busywork (fabric/tools/busywork) could be used to partially address this issue. I have not pushed for this in the past due to inherent unreliability of the fabric, e.g., busywork tests do not pass in the Vagrant VM because the fabric consistently and silently drops transactions in this resource-constrained environment. However if the node(s) running the benchmarks are beefy enough you should be able to push the fabric to the limits of its (correct) performance with busywork.;;;","28/Apr/17 4:22 AM;scottz;Closing. No more effort on v0.6.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
update unit-test command to go-sdk-unit-tests,FAB-597,12899,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,rameshthoomu,rameshthoomu,05/Oct/16 8:50 AM,21/Jul/18 3:54 AM,28/Oct/23 2:57 AM,13/Apr/17 2:48 AM,,,WON'T FIX,,fabric-quality,,,0,build-system,quality,,,,"Update unit-test target in ""make file"" and ""documentation"" to *go-sdk-unit-tests*. 

In Fabric ""Makefile"", unit-test target name is confusing as we have Node-sdk and Go unit tests. As we mentioned node-sdk-unit-tests target for node-sdk-tests, it's better to update unit-test to *""go-sdk-unit-tests""*",,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzx34n:",,,,Unset,,Sprint 2,Sprint 3,Sprint 4 - Quality,Sprint 6 - Crypto,Sprint 6 - Quality,Sprint 8 - Quality,Sprint 9 - Quality,Sprint 10 - Quality,Sprint 11 - Quality,Sprint 12 - Quality,Sprint 13 - Quality,Sprint 14 - Quality,Sprint 15 - Quality,Sprint 16 - Quality,,,Unset,,,,,,,,,,,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"28/Dec/16 1:38 AM;rameshthoomu;As node-sdk tests are now moved out to it's own fabric-node-sdk repository. For now will hold on this change as this requires change in CI scripts as well.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Add ""permanent Link"" to readthedocs documentation pages",FAB-598,12900,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,rameshthoomu,rameshthoomu,05/Oct/16 8:56 AM,21/Jul/18 3:55 AM,28/Oct/23 2:57 AM,27/Oct/16 5:00 AM,,,,,fabric-quality,,,0,build-system,quality,,,,"Add ""permanent Link"" to readthedocs documentation pages.

Update configuration in mkdocs.yaml file to provide link for each header in readthedocs pages. This helps user to share specific section of the document. 

Provided reference link here..

http://fabricrepo.readthedocs.io/en/latest/#chaincode-developer-guide",,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzxcq7:",,,,Unset,,Sprint 2,Sprint 3,,,,,,,,,,,,,,,Unset,,,,,,,,,,,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"05/Oct/16 9:00 AM;rameshthoomu;Fix has been submitted on ""master"" and ""v0.6"" branches:

https://gerrit.hyperledger.org/r/#/c/1483/ (v0.6)
https://gerrit.hyperledger.org/r/#/c/1481/ (master);;;","20/Oct/16 2:47 AM;rameshthoomu;Patch has been merged in v0.6 branch (https://gerrit.hyperledger.org/r/#/c/1809/). Yet to merge this patch https://gerrit.hyperledger.org/r/#/c/1481/ in master branch. 

keeping this task open till above patch merge into master.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Build fabric-starter-kit (Node-SDK) image and publish image to hyperledger docker hub,FAB-599,12901,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,rameshthoomu,rameshthoomu,05/Oct/16 9:31 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,20/Oct/16 6:23 AM,,,,,fabric-quality,,,0,build-system,quality,,,,Build fabric-starter-kit (Node-sdk) image from ci-pipeline and push fabric-starter-kit image to hyperledger docker hub account.,,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxcqf:",,,,,,Sprint 2,Sprint 3,,,,,,,,,,,,,,,,,,,,,,,,,,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"07/Oct/16 9:01 AM;rameshthoomu;[~jimthematrix] [~harrisob@us.ibm.com] Could you please give me below details before I write job:

--  From which repository and branch I have to build an Image?
--  Do you want me to push node-sdk-image for every merge commit?
--  Any naming conventions on TAG ( FYI:  Current TAGGING format we are using for other images TAG ARCH-imageversion-snapshot-commitnumber) Ex; x86_64-0.7.0-snapshot-96af765
;;;","20/Oct/16 2:44 AM;rameshthoomu;Building hyperledger/fabric-starter-kit images from sandbox environment on branch v0.6 and tag v0.6.1-preview. 

Below is the tag applied on fabric-starter-kit image and images available here: https://hub.docker.com/r/hyperledger/fabric-starter-kit/tags/

hyperledger/fabric-starter-kit   latest                 6e43009f62cb        7 minutes ago       1.707 GB
hyperledger/fabric-starter-kit   x86_64-0.6.1-preview   6e43009f62cb        7 minutes ago       1.707 GB;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As an endorser performing simulation, I want the state database to always be in sync with the blockchain ledger on the file system",FAB-600,12902,,Story,Closed,FAB,Fabric,software,denyeart,,,High,Done,Senthil1,denyeart,denyeart,05/Oct/16 7:06 PM,21/Jul/18 3:56 AM,28/Oct/23 2:57 AM,14/Dec/16 1:09 AM,,,,,fabric-ledger,,,0,Ledger,,,,,"ledgernext was initially delivered in sprint1 to quickly unblock dependent components, in this task the simulation and state management code will be hardened, for example to ensure the state index is always consistent with the blockchain ledger.",,denyeart,inatatsu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-758,,,,,,,,,"1|hzxajb:",,,,Unset,,Sprint 7 - Ledger,,,,,,,,,,,,,,,8.0,Unset,,,,,,,,,,,denyeart,inatatsu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Ledger versioning scheme: I want to use the block/transaction height as a variable's version, instead of an incrementing version number, so that I have traceability between state data and transaction data",FAB-601,12903,,Story,Closed,FAB,Fabric,software,denyeart,,,High,Done,manish-sethi,denyeart,denyeart,05/Oct/16 7:22 PM,21/Jul/18 3:57 AM,28/Oct/23 2:57 AM,07/Dec/16 1:15 AM,,,,,fabric-ledger,,,0,Ledger,,,,,"Ledger versioning scheme: I want to use the block/transaction height as a variable's version, instead of an incrementing version number, so that I have traceability between state data and transaction data",,denyeart,inatatsu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-758,,,,,,,,,"1|hzxajj:",,,,Unset,,Sprint 7 - Ledger,,,,,,,,,,,,,,,2.0,Unset,,,,,,,,,,,denyeart,inatatsu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Refactor LevelDB state database for new state database plugin model,FAB-602,12904,13913,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,manish-sethi,denyeart,denyeart,05/Oct/16 7:32 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,03/Jan/17 11:26 PM,,,,,fabric-ledger,,,0,Ledger,,,,,"Ensure common code such as endorser simulation can be shared, and the state database interactions can be plugged in to support other databases.

This work item focus is on LevelDB refactor.

Look into Go 1.8's plugin system:
https://tip.golang.org/pkg/plugin/",,binhn,denyeart,inatatsu,manish-sethi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxaj3:",,,,,,Sprint 9 - Ledger,,,,,,,,,,,,,,,4.0,,,,,,,,,,,,binhn,denyeart,inatatsu,manish-sethi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"14/Dec/16 9:07 AM;binhn;2 thoughts:
#   the current plugin model implemetation doesn't look right.  I see code refers to couchdb config at the base level.  We need better abstraction
#   when people talk about plugin database, they actual think every thing is in the database (not just state) so that backup/recovery would be taken care of;;;","14/Dec/16 10:34 PM;manish-sethi;[~binhn] Yes, you are right. However, in the current implementation I did not touch couch code and hence kvledger code because, as of now couch implementation was half baked and requires a separate effort altogether. I had mainly focused on organizing the code in terms of interface and moving the code related to leveldb and other aspects behind those interfaces. The intention was that some one can cleanup couch code in those lines (because, it was mostly a copy-paste of leveldb based code so it should be easy for some one to cleanup looking at the new structure.) And then finally, clean-up the kvledger.

Do you prefer to see all in a single commit?;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
sbft: Prevent DoS by limiting the number of messages per replica,FAB-603,12905,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,corecode,corecode,05/Oct/16 7:48 PM,21/Jul/18 3:54 AM,28/Oct/23 2:57 AM,02/Nov/16 12:39 AM,,,,,,,,0,,,,,,"If the backlog limit is exceeded, discard all messages with Seq before the replica's hello message (we can, because we can play forward to this batch via state transfer).  If there is no hello message, we must be really slow or the replica must be byzantine.  In this case we probably should re-establish the connection.

After the connection has been re-established, we will receive a hello, and the following messages will trigger the pruning of old messages.  If this pruning lead us not to make progress, the backlog processing algorithm as lined out below will take care of starting a state transfer, using the hello message we received on reconnect.
",,corecode,vukolic,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-378,,,,,,,,,"1|hzxcrj:",,,,Unset,,,,,,,,,,,,,,,,,4.0,Unset,,,,,,,,,,,corecode,vukolic,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"02/Nov/16 12:39 AM;corecode;addressed in https://gerrit.hyperledger.org/r/#/c/2139/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
sbft: detect that we are behind and need state transfer,FAB-604,12906,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,corecode,corecode,05/Oct/16 7:51 PM,21/Jul/18 3:54 AM,28/Oct/23 2:57 AM,02/Nov/16 6:00 PM,,,,,,,,0,,,,,,"From the code comment after processing the backlog:

We arrived here because either all is fine, we're with the pack.  Or we have messages in the backlog because we're connected asymmetrically, and a close replica already started talking about the next batch while we're still waiting for rounds to arrive for our current batch.  That's still fine.

We might also be here because we lost connectivity, and we either missed some messages, or our connection is bad and we should reconnect to get a working connection going again. 

If a noFaultyQuorum (-1, because we're not faulty, just were disconnected) is backlogged, we know that we need to perform a state transfer.  Of course, f of these might be byzantine, and the remaining f that are not backlogged will allow us to get unstuck.  To check against that, we need to only consider backlogged replicas of which we have a hello message that talks about a future Seq. 

We need to pick the highest Seq of all the hello messages we received, perform a state transfer to that Batch, and discard all backlogged messages that refer to a lower Seq.

Do we need to detect that a connection is stuck and we should reconnect?
",,corecode,vukolic,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-378,,,,,,,,,"1|hzxcrr:",,,,Unset,,,,,,,,,,,,,,,,,8.0,Unset,,,,,,,,,,,corecode,vukolic,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"02/Nov/16 6:00 PM;corecode;I believe this is handled by reconnect on full backlog + hello messages.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Hyperledger Fabric v1.0 Preview doc review,FAB-605,12907,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,nickgaski,joshhus,joshhus,05/Oct/16 10:30 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,05/Oct/16 11:09 PM,,,,,,,,0,Documentation,,,,,"Edits and clarifications, which would benefit readers of the v1.0 Preview Doc. 

For 1.0 Preview doc: http://hyperledger-fabric.readthedocs.io/en/latest/abstract_v1/ 

(Line #s are approximate)

Line 1: ""They"" typo (The) Hyperledger Fabric ...
Line 1: It's not a ""platform"" right-it's agnostic to OS and HW. So ""architecture"", perhaps.
Line 1: I like the word ""robust"" personally, but it can imply different/subjective things; high-performance, reliable, scalable, are possibly more descriptive/accurate.
Line 2: ""Byzantine"" capitalized. Is it PBFT specifically, or any ""byzantine fault tolerant"" protocol? ... And is HL v1.0 no longer agnostic / modular wrt consensus protocol? - it's ""byzantine"" only now? (no PoET, PoW, PoS) ... and add ""protocol"" after consensus.
Line 3: ""throuh"" typo (through)
Line 3: ""v0.6-preview"" 2x - what does ""preview"" mean to a reader wrt v0.6 - from an IBM Bluemix is concerned, v0.6 is planned to be a ""GA"" release of HL.

Paragraph 2: 
Line 1: adding ""and organizations"" to ""businesses"" might be more welcoming to gov., non-profits, etc.
Line 3: ""FOREX"" markets is lowercase - ""forex"". (The web site URL advertises FOREX.com all caps for some reason.)

WHERE WE ARE:
Parag. 3: 
Line 1: Add (v0.6) after ""current implementation"" ... 

WHERE WE'RE GOING:
Parag. 4: 
Line 1: Add (v1.0) after ""new architecture"" ... 
Line 2: ""... the peers are diverged into two distinct roles"" could be read as each peer is diverged to handle both roles. Try, ""Each peer is assigned one of two distinct roles - "" assuming that's correct. Likewise, use ""As an endorser, the peer"" only if each peer performs both roles; assuming each peer only does one of the two roles, use ""Endorser peers"" and ""Committer peers"" instead, or similar.
Line 5: ""deterministic and stable."" (""or"" raises questions.) ... alternatively, if deterministic is being explained here: ""deterministic (stable/reliable).""
Line 6: I would delete, ""without the network being made cognizant of the transaction."" Specific peers are part of the network, and the network would become cognizant of it through replication of the ledger. What's meant here is all network peers aren't required to be available to participate in consensus for this transaction, I think. 
Line 8: Here we go back to endorsement and ""validation"" rather than the new ""commitment"" concept. If we're getting rid of ""validation"" use ""commitment"" here.
Line 9: ""thrown out"" is English jargon. Use international ""deleted"" or ""discarded"" or ""ignored"" or ""omitted"", whichever is most accurate.
Line 10: Change ""possibility"" to ""capability"" or ""potential"" 

parag. 5.
Line 1: Start with ""In Hyperledger Fabric v1.0, the consensus process ..."" 
Line 5: Some readers might want more explanation of this: ""Now networks can grow dynamically (i.e. add endorsers and committers) without having to add corresponding consenters, ..."" ... Because endorsers and committers are the consenters in 1.0, this feels like a semantic twist. What are we actually saying here about dynamic growth? PBFT will still require one less than one-third of all network nodes to agree (reach consensus) on the order of transactions. ... How many endorser adds are required per committer add, or vice versa.
Line 9: this ""Moreover..."" comment is interesting, but could use some clarification: The ""liberated"" networks are still blockchain networks right, or not? Are we saying a ""liberated"" blockchain network can exist without any endorsers or committers. Or is the ""consensus cloud"" network doing the commitment part of consensus only? ... 

parag. 6: Where is the ""high-level overview"" - did it not build?

HOW TO CONTRIBUTE:
1. Gerritt typo - Gerrit ... 
2. period at end of all list items, or not.
3-5. All of these JIRA links are problematic - they take me to JIRA, which then blocks the browser Back button - so I'm stuck at JIRA and can't get back to the preview doc. So use a target=new for a a new tab for all JIRA links.

(Change the all caps headings to initial caps to match the rest of the site.)


",,joshhus,nickgaski,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxcrz:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,joshhus,nickgaski,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"05/Oct/16 11:09 PM;nickgaski;issues have been addressed and video embedded.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
.md tagging fix needed,FAB-606,12908,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,joshhus,joshhus,05/Oct/16 10:53 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,12/Apr/17 11:41 PM,,,WON'T FIX,,,,,0,,,,,,"Location: http://hyperledger-fabric.readthedocs.io/en/latest/#fabric-developer-guide
v: latest

This page needs some .md tagging fixed, for three sections:
Application developer guide
Fabric developer guide
Operations guide

Symptom: In contrast to other sections on this same page, text in these three sections is displayed in white boxes, and included links are inactive.",,ChristopherFerris,joshhus,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxcs7:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,joshhus,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"12/Apr/17 11:42 PM;ChristopherFerris;no longer an issue, translated to rst;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add learn chaincode tutorial to hyperledger doc - 1.0,FAB-607,12909,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,nickgaski,nickgaski,nickgaski,05/Oct/16 11:16 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,17/Feb/17 6:49 AM,,,v0.5-developer-preview,v0.6,fabric-quality,,,0,Documentation,quality,,,,"mimic chaincode dev setup and create a walkthrough for learn chaincode.  docker-compose up for peer and CA.  cURL to retrieve go code from public github after user has finished writing it.  Use an API client to interact with the chaincode.  

Will avoid using vagrant for the time being...",,markparz,nickgaski,troyronda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,86400,86400,,0%,86400,86400,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx63r:",,,,,,Sprint 6 - Crypto,Sprint 6 - Quality,Sprint 7 - Quality,Sprint 8 - Quality,Sprint 9 - Quality,Sprint 10 - Quality,Sprint 11 - Quality,Sprint 12 - Quality,,,,,,,,,,,,,,,,,,,,markparz,nickgaski,troyronda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"17/Feb/17 6:50 AM;markparz;Getting started doc, this is an old issue;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
chaincode-setup.md has incorrect REST API payload and CLI commands,FAB-608,12910,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,nickgaski,nickgaski,nickgaski,05/Oct/16 11:19 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,10/Dec/16 3:57 AM,,,v0.5-developer-preview,v0.6,,,,0,Documentation,,,,,"chaincode-setup.md has incorrect REST API payload and CLI commands.
Function needs to be removed and added into the args parameter",,nickgaski,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,28800,28800,,0%,28800,28800,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxcsf:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,nickgaski,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Ledger VerifyChain: As a consumer of Ledger APIs, I want to verify the integrity of the blockchain",FAB-609,12911,,Story,Closed,FAB,Fabric,software,denyeart,,,High,Won't Do,balaji.viswanathan,denyeart,denyeart,06/Oct/16 12:14 AM,23/Jan/20 3:40 AM,28/Oct/23 2:57 AM,23/Jan/20 3:40 AM,,,Future,,fabric-ledger,,,3,Ledger,stale-item,,,,"	//VerifyChain will verify the integrity of the blockchain. This is accomplished
	// by ensuring that the previous block hash stored in each block matches
	// the actual hash of the previous block in the chain. The return value is the
	// block number of lowest block in the range which can be verified as valid.

Also we need to verify that state database is correct, or have an option to rebuild it to ensure it is correct.
",,ccastroiragorri,denyeart,grapebaba,inatatsu,kchristidis,sykesm,yuchaoran2011,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-1039,,FAB-1721,,,,,,,,FAB-6486,,,,,,,,,"20/Jan/17 1:37 AM;denyeart;ledger_mgmt.go;https://jira.hyperledger.org/secure/attachment/10397/ledger_mgmt.go","20/Jan/17 1:37 AM;denyeart;ledger_mgmt_test.go;https://jira.hyperledger.org/secure/attachment/10398/ledger_mgmt_test.go",,,,,,,,,,,,Unset,,,FAB-758,,,,,,,,,"1|hzx07z:",,,,Unset,,,,,,,,,,,,,,,,,4.0,Unset,,,,,,,,,,,ccastroiragorri,denyeart,grapebaba,inatatsu,kchristidis,sykesm,yuchaoran2011,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"20/Jan/17 1:38 AM;denyeart;This item is deferred until we have a cross-peer verify design.  Attached code for single peer VerifyChain from https://gerrit.hyperledger.org/r/#/c/4061/.;;;","17/Jul/17 12:47 AM;kchristidis;Left a comment on the changeset. Cross-peer verification is great, but I don't see why single-peer verification is useless.;;;","12/Oct/17 6:50 PM;denyeart;I agree VerifyChain() is important by itself.  See more recent discussion in FAB-6486.;;;","23/Jan/20 3:40 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Ledger check block number: When committing a block, with a blockchain height of n, ensure that the next block committed is n+1",FAB-610,12912,,Story,Closed,FAB,Fabric,software,denyeart,,,High,Done,,denyeart,denyeart,06/Oct/16 12:20 AM,21/Jul/18 3:55 AM,28/Oct/23 2:57 AM,31/Mar/17 3:13 PM,,,,,fabric-ledger,,,0,Ledger,,,,,,,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-758,,,,,,,,,"1|hzx56v:",,,,Unset,,Sprint 12 - Ledger,Sprint 13 - Ledger,Sprint 14  - Ledger,Sprint 15  - Ledger,,,,,,,,,,,,,Unset,,,,,,,,,,,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Create headless crypto unit tests for node.js SDK standalone,FAB-611,12913,12619,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,cdaughtr,cdaughtr,cdaughtr,06/Oct/16 4:07 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,18/Oct/16 12:49 AM,,,,,fabric-sdk-node,,,0,node-SDK,,,,,,,cdaughtr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-43,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx8xj:",,,,,,Sprint 1,Sprint 2,Sprint 3,Sprint 4 - nodeSDK,,,,,,,,,,,,4.0,,,,,,,,,,,,cdaughtr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"18/Oct/16 12:49 AM;cdaughtr;Merged https://gerrit.hyperledger.org/r/#/c/1661/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Need to wait more before broadcasting in BDD orderer tests,FAB-612,12914,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,kchristidis,kchristidis,kchristidis,06/Oct/16 9:22 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,10/Oct/16 10:53 PM,,,,,fabric-orderer,,,0,Consensus,,,,,"The Docker Compose file for the BDD tests for Kafka brings up two containers:

# The Kafka orderer and
# The Kafka broker + ZK ensemble.

The orderer process in container 1 always comes up faster than the Kafka process in container 2, so I have added logic that attempts to establish a connection between the two every 3 seconds. (This reconnection period is configurable, and it usually takes just 1 or 2 efforts for a proper link to be established.)

As things stand today, the BDD tests wait for .5 seconds (""And I wait .5 seconds""), then an attempt is made to start broadcasting.

However, given that the orderer hasn't been set up yet (remember that the connection with the broker is still pending), the tests fails with an error of type ""AbortionError (service unavailable)"".

The problem can be solved if we have each BDD test wait for, say, 5 seconds.

This seems rather flaky though. I am wondering whether we can change something in the code, whether that's on the orderer's side or the BDD implementation side (orderer_util.py or orderer_impl.py) to fix it.",,jeffgarratt,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-32,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-32,,,,,,,,,"1|hzx9lr:",,,,,,Sprint 2,,,,,,,,,,,,,,,,,,,,,,,,,,,jeffgarratt,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"06/Oct/16 9:37 AM;jeffgarratt;It would be trivial to add another 'Given' condition of say:

Given we compose...
And...
And I am willing to wait for up to 'X' seconds for the orderer service to be available on orderers:
|orderer0| ordererX...|

We can discuss at your convenience [~kchristidis];;;","08/Oct/16 8:44 AM;kchristidis;Discussed with with [~jeffgarratt] earlier today. Following his suggestion, I will make wait time a parameter, and set it to ""5"" seconds for Kafka. Later on we can add the ""wait for up to X seconds"" clause. ;;;","09/Oct/16 8:06 AM;kchristidis;https://gerrit.hyperledger.org/r/#/c/1627/1;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Provide Kafka-specific metrics,FAB-613,12915,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,kchristidis,kchristidis,06/Oct/16 10:01 AM,29/Nov/18 6:05 AM,28/Oct/23 2:57 AM,29/Nov/18 6:05 AM,v1.0.0-rc1,,v1.4.0,,fabric-orderer,,,0,operations,,,,,One of our goals with the Kafka-based orderer is to have it act as a benchmark of sorts for the throughput and latency we can achieve. We need to instrument the code so that we can derive these metrics. The Go library that we're using for Kafka has built in support for the go-metrics library: https://github.com/rcrowley/go-metrics I am not sure whether this is enough to cover our needs or whether we'll need to go deeper.,,bcbrock,daveryIBM,grapebaba,jyellick,kchristidis,qiang0723,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-32,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-3388,,,,,,,,,"1|hzzq7z:",,,,Unset,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,bcbrock,daveryIBM,grapebaba,jyellick,kchristidis,qiang0723,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"11/Jan/17 4:16 PM;grapebaba;[~kchristidis]It is interesting. If any plan to do it, I want to take if you can guide;;;","28/Feb/17 7:46 AM;daveryIBM;For what it's worth, I created a draft CR that attaches grpc unary and stream interceptors to Gari Singh's GRPCServer in fabric/core/comm.  This interceptor uses a statsd [https://www.datadoghq.com/blog/statsd/] client to send a counter metrics for the number of messages that have been sent through the GRPCServer.  In an earlier version of the code, I was keeping a count of the number of messages sent to each GRPC endpoint or ""method"".  Anyway, I'll leave the draft up in case anyone is interested in the code, and I've also published it on Github, as it has a prettier UI to view the changes.

Github:
https://github.com/masterDev1985/fabric/commit/9256ee4f28440272569f037b52240fa2f86b82c8

Gerrit:
https://gerrit.hyperledger.org/r/#/c/6353/

I should point out that I didn't publish the CR because I wasn't sure what I was implementing was a compelling addition to the fabric and because I think others are already working on something similar.  I think the value of my CR at this point is in how it demonstrates how lightweight the statsd client is for go.;;;","28/Feb/17 10:26 AM;grapebaba;[~daveryIBM]Nice to see，will you lead development of this story?;;;","01/Mar/17 3:35 AM;daveryIBM;Kai Chen not right now.  I've got other things to focus on right now, but maybe I could help out in the future.  I wanted to leave one more thought about my implementation.  I think a much more valuable contribution would have been to create a library that wraps a metrics package like go-metrics or the statsd client and exposes methods to access or use these clients in a similar fashion to the nifty go-logging library.  I really like how this package makes it so simple for packages all over the fabric to write logs in a standardized format without everyone having to do anything more than import the package and instantiate the logger.  The metrics package should be similar; after some setup code in main.go to configure your chosen metrics client, other packages would just need a line similar to `metricsClient := metrics.MustGetMetricsClient(""consensus"")` to be able to send metrics.  I suppose this deliverable should also include a set of mock clients to make it easier for other developers to write unit tests for their metrics as they add this functionality to the fabric packages they control.

;;;","12/Jul/17 12:13 PM;kchristidis;FYI: https://docs.google.com/document/d/1nPjGpl5gdd22iF0ju6BLOioWhBOE1U16_-yGCLxEZuw/edit;;;","12/Jul/17 12:40 PM;grapebaba;[~kchristidis]That is a draft design, welcome more core member feedback. Thanks;;;","19/Jul/17 2:25 PM;kchristidis;Metrics to keep in mind: http://docs.confluent.io/current/kafka/monitoring.html;;;","06/Nov/18 6:11 AM;jyellick;Now that we are finally pushing to bring metrics in via go-kit/metrics (to enable both prometheus and statsd), it's probably time to pick this up again.

Per the documentation at: https://godoc.org/github.com/Shopify/sarama there is the following set of metrics:

{noformat}
+----------------------------------------------+------------+---------------------------------------------------------------+
| Name                                         | Type       | Description                                                   |
+----------------------------------------------+------------+---------------------------------------------------------------+
| incoming-byte-rate                           | meter      | Bytes/second read off all brokers                             |
| incoming-byte-rate-for-broker-<broker-id>    | meter      | Bytes/second read off a given broker                          |
| outgoing-byte-rate                           | meter      | Bytes/second written off all brokers                          |
| outgoing-byte-rate-for-broker-<broker-id>    | meter      | Bytes/second written off a given broker                       |
| request-rate                                 | meter      | Requests/second sent to all brokers                           |
| request-rate-for-broker-<broker-id>          | meter      | Requests/second sent to a given broker                        |
| request-size                                 | histogram  | Distribution of the request size in bytes for all brokers     |
| request-size-for-broker-<broker-id>          | histogram  | Distribution of the request size in bytes for a given broker  |
| request-latency-in-ms                        | histogram  | Distribution of the request latency in ms for all brokers     |
| request-latency-in-ms-for-broker-<broker-id> | histogram  | Distribution of the request latency in ms for a given broker  |
| response-rate                                | meter      | Responses/second received from all brokers                    |
| response-rate-for-broker-<broker-id>         | meter      | Responses/second received from a given broker                 |
| response-size                                | histogram  | Distribution of the response size in bytes for all brokers    |
| response-size-for-broker-<broker-id>         | histogram  | Distribution of the response size in bytes for a given broker |
+----------------------------------------------+------------+---------------------------------------------------------------+
{noformat}

and

{noformat}
+-------------------------------------------+------------+--------------------------------------------------------------------------------------+
| Name                                      | Type       | Description                                                                          |
+-------------------------------------------+------------+--------------------------------------------------------------------------------------+
| batch-size                                | histogram  | Distribution of the number of bytes sent per partition per request for all topics    |
| batch-size-for-topic-<topic>              | histogram  | Distribution of the number of bytes sent per partition per request for a given topic |
| record-send-rate                          | meter      | Records/second sent to all topics                                                    |
| record-send-rate-for-topic-<topic>        | meter      | Records/second sent to a given topic                                                 |
| records-per-request                       | histogram  | Distribution of the number of records sent per request for all topics                |
| records-per-request-for-topic-<topic>     | histogram  | Distribution of the number of records sent per request for a given topic             |
| compression-ratio                         | histogram  | Distribution of the compression ratio times 100 of record batches for all topics     |
| compression-ratio-for-topic-<topic>       | histogram  | Distribution of the compression ratio times 100 of record batches for a given topic  |
+-------------------------------------------+------------+--------------------------------------------------------------------------------------+
{noformat}

However, because Sarama has chosen to use go-metrics instead of go-kit/metrics, there is no obvious way to simply plug sarama into go-kit/metrics.  Instead, we'll need to take an approach very similar to the prometheus sink for go-metrics: https://github.com/deathowl/go-metrics-prometheus/blob/7cfe975c505b0cf33594913496d057316ee73bfc/prometheusmetrics.go#L66-L88

With a ticker, we can periodically poll the status of the metrics from go-metrics, and publish them to go-kit/metrics.  For better prometheus support, we should make the broker-id a label, and topic a label for the broker and topic related metrics respectively and allow go-kit/metrics to flatten it only for statsd.;;;","29/Nov/18 6:05 AM;kchristidis;https://gerrit.hyperledger.org/r/c/27741/;;;",,,,,,,,,,,,,,,,,,,,,,,,,
Document auditability capabilities within fabric-next,FAB-614,12916,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,elli-androulaki,elli-androulaki,elli-androulaki,06/Oct/16 5:43 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,23/Mar/18 7:23 AM,,,,,fabric-crypto,fabric-docs,,0,Security,,,,,"This would be an attempt to list potential auditing threat models and in what ways fabric-next protocol accommodate such models. 

This associates to most components of the system, endorsers, committing peers, orderers, and more importantly, clients.",,elli-androulaki,joe-alewine,nikileshsa,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,86400,86400,,0%,86400,86400,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx5m7:",,,,,,Sprint 2,Sprint 5 - Crypto,Sprint 7 - Crypto,Sprint 8 - Crypto,Sprint 9 - Crypto,Sprint 9  - Crypto,Sprint 10 - Crypto,,,,,,,,,4.0,,,,,,,,,,,,elli-androulaki,joe-alewine,nikileshsa,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
As a fabric developer I want to use the fabric crypto library throughout the fabric peer and membership service code in 0.6 branch.,FAB-615,12917,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,angelo.decaro,elli-androulaki,elli-androulaki,06/Oct/16 5:52 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,07/Nov/16 10:44 PM,,,,,fabric-crypto,,,0,0.6,Security,,,,"Here we would need to update the fabric peer and memebrship service crypto operations with code that leverages the crypto API defined in FAB-354.
We aim to do this for the *0.6 branch*, and (with other issues/tasks) extend this to the *master* using FAB-580-582 and FAB-744. Smaller chunk work-items involve:
 A) as long as the signing capabilities are supported by a software provider offering the API defined in FAB-354 (part of FAB-355), we refactor peer (golang) code (NVP and VP) to sign using that library (and its APIs
 B) as long as the signing capabilities are supported by a software provider offering the API defined in FAB-354 (part of FAB-355), we refactor membership service server code to sign using that library (and its APIs
 C) as long as ECIES encryption capabilities are supported by a software provider offering the API defined in FAB-354 (part of FAB-355), we refactor peer (golang) code (NVP and VP) to decrypt transactions using that library (and its APIs)
 D) repeat the process for the master branch
",,elli-androulaki,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,432000,432000,,0%,432000,432000,,,,,,,,,,,,,,,,,,,,,,FAB-355,FAB-354,FAB-353,,,FAB-744,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxdg7:",,,,,,Sprint 4 - Crypto,,,,,,,,,,,,,,,6.0,,,,,,,,,,,,elli-androulaki,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"10/Oct/16 11:57 PM;elli-androulaki;A first Gerrit review package for 0.6 on golang peer (NVP and VP)  being able to use the crypto library for signing/signature verification operations is located here: https://gerrit.hyperledger.org/r/#/c/1647/;;;","18/Oct/16 10:35 PM;elli-androulaki;For **0.6 branch** changesets related to membership services and peer changes to have crypto calls routed through BCCSP are listed below:

https://gerrit.hyperledger.org/r/#/c/1691/2
https://gerrit.hyperledger.org/r/#/c/1653/2
;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add headless unit tests for Peer.js and Member.js,FAB-617,12919,12619,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,cdaughtr,jimthematrix,jimthematrix,06/Oct/16 11:38 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,06/Nov/16 10:57 PM,,,,,fabric-sdk-node,,,0,node-SDK,,,,,"So that each function are tested for handling good and bad params, etc.",,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx9tz:",,,,,,Sprint 1,Sprint 2,Sprint 3,Sprint 4 - nodeSDK,,,,,,,,,,,,2.0,,,,,,,,,,,,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add error paths to endorser-tests.js,FAB-618,12920,12619,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,harrisob@us.ibm.com,jimthematrix,jimthematrix,06/Oct/16 11:40 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,05/Nov/16 4:31 AM,,,,,fabric-sdk-node,,,0,node-SDK,,,,,In the initial changeset there's only happy path. Need to add more error paths like what's done in ca-tests.js.,,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxcsn:",,,,,,Sprint 1,Sprint 2,Sprint 3,Sprint 4 - nodeSDK,,,,,,,,,,,,2.0,,,,,,,,,,,,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"05/Nov/16 4:32 AM;jimthematrix;resolved by changeset https://gerrit.hyperledger.org/r/#/c/2255/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
performance Node SDK supports mix transactions,FAB-619,12921,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,dongming,dongming,dongming,07/Oct/16 1:19 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,13/Oct/16 5:40 AM,,,,,fabric-quality,,,0,quality,,,,,"Add mix transactions support to performance Node SDK.  The transactions will be that  1 query is issued upon the completion of each invoke.  To use this feature, specify the transType as ""Mix"" in the user input json file.",,dongming,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxcrb:",,,,,,Sprint 3,,,,,,,,,,,,,,,,,,,,,,,,,,,dongming,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Create a hash-chain for the Kafka orderer,FAB-621,12923,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,kchristidis,kchristidis,kchristidis,07/Oct/16 5:42 AM,21/Jul/18 3:56 AM,28/Oct/23 2:57 AM,20/Dec/16 1:32 PM,,,,,fabric-orderer,,,0,kafka,,,,,"Remember that our goal is to make this ""Kafka orderer"" layer that now stands between the client and the broker as thin as possible. We want to let Kafka do most of the work, since it's a well-tested and performant solution and we don't want to replicate any of its functionality.

The Kafka orderer does two things:
# It batches transactions into blocks (which we should stop doing by the way, because Kafka can do it for us), and
# It creates a hash-chain between the blocks

In this story, we should explore the various ways with which we can create hash-chain with Kafka. Our goal is to find (a) the one that performs best (i.e. is the fastest), and (b) uses as less custom code as possible.

Suggestions:
# [~bcbrock] suggested that it may be worth looking into Kafka Connect.
# I haven't studied it carefully but I am wondering whether the new Kafka Streams functionality can get us there.
# Finally, there is always the option of creating a hash-chain via checkpoint messages, an idea that was first suggested by Chet Murthy: every K messages received, each client broadcasts a checkpoint message via the orderer that is the hash of this concatenation: (previous checkpoint hash + K most recent messages)",,bcbrock,kchristidis,troyronda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-469,,,,,,,,,,,,,,"27/Oct/16 7:47 AM;bcbrock;Kafka Connect Orderer 20161026.pdf;https://jira.hyperledger.org/secure/attachment/10205/Kafka+Connect+Orderer+20161026.pdf",,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzx9gn:",,,,Unset,,Sprint 6 - Crypto,Sprint 6 - consensus,Sprint 7 - consensus,,,,,,,,,,,,,12.0,Unset,,,,,,,,,,,bcbrock,kchristidis,troyronda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"22/Oct/16 1:36 PM;kchristidis;This (or at least the biggest part of it) should be handled during this sprint.

The most likely scenario ahead, for better or for worse, is Option 3 as presented here: https://hyperledgerproject.slack.com/archives/fabric-consensus-dev/p1476806651002202

(Option 4 will give us a headache with a lot of noise in the leader election process: https://hyperledgerproject.slack.com/archives/fabric-consensus-dev/p1476997517002456)

The plan I have in mind as I'm writing this is the following:

- Two partitions per channel.
- Each orderer (shim) writes (produces) and listens (consumes) to/from both.
- Partition 1 is where all the orderers (shims) forward the transactions as soon as they receive them from the clients.
- Once K transactions have been posted in partition 1, or time T has elapsed since the first transaction after the last block (whichever comes first), the orderer that's marked as the leader for the channel in the etcd/ZK ensemble sends a ""time-to-cut"" message in partition 1, and proceeds with creating the block and posting in partition 2.
- If he fails to do that within X amount of time, a new leader (shim) is elected that's charged with the same task.
- This gives us a ""raw ledger"" of sorts in Partition 2, and this is what the shims Deliver from.

I may refine it as I find flaws during implementation, (and I anticipate I'll bump into several issues when implementing this anyway), but feel free to join in on the fun now, and point out the difficulties in the road that lies ahead.

(FWIW, I think that [~cca88] has a point when he suggests that in the Kafka case we shouldn't be doing blocks to begin with: https://hyperledgerproject.slack.com/archives/fabric-consensus-dev/p1477035141002478);;;","25/Oct/16 1:33 AM;kchristidis;Need to add Gari's suggestion here for consumer groups, and need to break it into tasks as part of this story will extend to the next sprint as well.;;;","27/Oct/16 7:58 AM;bcbrock; [^Kafka Connect Orderer 20161026.pdf] (sorry, page 1 of this PDF is blank)
This picture shows how I imagined Kafka Connect might be involved. Like your proposal, it requires storage for both an unchained and a chained ledger for each channel. It might be simpler though in that it doesn't require the shims to elect a leader. There is no ""block""-chain here. Each TX is a block. It's possible that Kafka Connect may be the wrong choice here if it requires a new Kafka Connect process for each channel. Given that the shim knows about the channels, it may be simpler to simply have intermediate shim threads that create the local chains, and store them in Kafka for simplicity. The end game of this type of approach would be to propose a modification to Kafka to directly support hash-chained message streams.;;;","07/Dec/16 6:30 AM;kchristidis;Completed here: https://github.com/kchristidis/fabric/commit/f9006f4c997dbbc8ae5a8f6e1b45fbf1cb3afffa

We're working out an issue with BDD testing. I'll break it into smaller changesets and start pushing for review.;;;","07/Dec/16 6:32 AM;kchristidis;The design behind this is described here: https://docs.google.com/document/d/1vNMaM7XhOlu9tB_10dKnlrhy5d7b1u8lSY8a-kVjCO4/edit;;;","12/Dec/16 2:30 PM;kchristidis;https://gerrit.hyperledger.org/r/3207;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,
chaincode unit test fails on zLinux,FAB-622,12924,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,,gongsu,gongsu,07/Oct/16 5:55 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,10/Apr/17 8:30 PM,v0.6,,WON'T FIX,,fabric-peer,,,0,,,,,,"Code leve:

commit 3ed2416fd8729f5c0954b55f9f95330a3e723c97
Merge: 448d207 4e9dd2b
Author: Gari Singh <gari.r.singh@gmail.com>
Date:   Thu Oct 6 12:08:47 2016 +0000

    Merge ""Utility to assist in writing Node SDK Unit tests""

Running ""make unit-test"" on zLinux produces the following error:

Running unit tests using hyperledger/fabric-peer:s390x-0.7.0-snapshot-3ed2416
Cleaning membership services folder
Obtaining list of tests to run..DONE!
Starting peer..DONE!
Running tests...
?   	github.com/hyperledger/fabric/bddtests/chaincode/go/table	[no test files]
ok  	github.com/hyperledger/fabric/bddtests/syschaincode/noop	0.017s	coverage: 71.0% of statements
?   	github.com/hyperledger/fabric/consensus	[no test files]
?   	github.com/hyperledger/fabric/consensus/controller	[no test files]
ok  	github.com/hyperledger/fabric/consensus/executor	0.020s	coverage: 79.7% of statements
ok  	github.com/hyperledger/fabric/consensus/helper	0.019s	coverage: 0.5% of statements
ok  	github.com/hyperledger/fabric/consensus/helper/persist	0.006s	coverage: 0.0% of statements
?   	github.com/hyperledger/fabric/consensus/noops	[no test files]
ok  	github.com/hyperledger/fabric/consensus/pbft	73.389s	coverage: 80.1% of statements
ok  	github.com/hyperledger/fabric/consensus/util	0.084s	coverage: 88.9% of statements
ok  	github.com/hyperledger/fabric/consensus/util/events	0.206s	coverage: 91.2% of statements
ok  	github.com/hyperledger/fabric/core	0.017s	coverage: 3.3% of statements
16:44:42.997 [chaincode] NewChaincodeSupport -> INFO 001 Chaincode support using peerAddress: 0.0.0.0:21212
getting deployment spec for chaincode spec: type:GOLANG chaincodeID:<path:""github.com/hyperledger/fabric/examples/chaincode/go/chaincode_example01"" > ctorMsg:<args:""init"" args:""a"" args:""100"" args:""b"" args:""200"" >
16:44:42.999 [container] WriteGopathSrc -> INFO 002 rootDirectory = /opt/openchain/src
16:44:42.999 [container] WriteFolderToTarPackage -> INFO 003 rootDirectory = /opt/openchain/src
16:44:47.225 [state] loadConfig -> INFO 004 Loading configurations...
16:44:47.226 [state] loadConfig -> INFO 005 Configurations loaded. stateImplName=[buckettree], stateImplConfigs=map[bucketCacheSize:%!s(int=100) numBuckets:%!s(int=1000003) maxGroupingAtEachLevel:%!s(int=5)], deltaHistorySize=[500]
16:44:47.226 [state] NewState -> INFO 006 Initializing state implementation [buckettree]
16:44:47.226 [buckettree] initConfig -> INFO 007 configs passed during initialization = map[string]interface {}{""maxGroupingAtEachLevel"":5, ""bucketCacheSize"":100, ""numBuckets"":1000003}
16:44:47.226 [buckettree] initConfig -> INFO 008 Initializing bucket tree state implemetation with configurations &{maxGroupingAtEachLevel:5 lowestLevel:9 levelToNumBucketsMap:map[9:1000003 8:200001 4:321 2:13 5:1601 7:40001 6:8001 3:65 1:3 0:1] hashFunc:0x8060d3d0}
16:44:47.226 [buckettree] newBucketCache -> INFO 009 Constructing bucket-cache with max bucket cache size = [100] MBs
16:44:47.226 [buckettree] loadAllBucketNodesFromDB -> INFO 00a Loaded buckets data in cache. Total buckets in DB = [0]. Total cache size:=0
16:45:20.246 [chaincode] processStream -> ERRO 00b Error handling chaincode support stream: stream error: code = 1 desc = ""context canceled""
set GOPATH to: ""/opt/openchain/:/tmp/foo:/tmp/bar""
16:45:22.589 [chaincode] NewChaincodeSupport -> INFO 00c Chaincode support using peerAddress: 0.0.0.0:21212
getting deployment spec for chaincode spec: type:GOLANG chaincodeID:<path:""github.com/hyperledger/fabric/examples/chaincode/go/chaincode_example01"" > ctorMsg:<args:""init"" args:""a"" args:""100"" args:""b"" args:""200"" >
16:45:22.591 [container] WriteGopathSrc -> INFO 00d rootDirectory = /opt/openchain/src
16:45:22.591 [container] WriteFolderToTarPackage -> INFO 00e rootDirectory = /opt/openchain/src
16:45:29.842 [chaincode] processStream -> ERRO 00f Error handling chaincode support stream: stream error: code = 1 desc = ""context canceled""
16:45:32.170 [chaincode] NewChaincodeSupport -> INFO 010 Chaincode support using peerAddress: 0.0.0.0:21212
getting deployment spec for chaincode spec: type:GOLANG chaincodeID:<path:""http://gopkg.in/mastersingh24/fabric-test-resources.v0"" > ctorMsg:<args:""init"" args:""a"" args:""100"" args:""b"" args:""200"" >
16:45:34.882 [container] WriteGopathSrc -> INFO 011 rootDirectory = /opt/openchain/src
16:45:34.882 [container] WriteFolderToTarPackage -> INFO 012 rootDirectory = /opt/openchain/src
16:46:12.294 [chaincode] processStream -> ERRO 013 Error handling chaincode support stream: stream error: code = 1 desc = ""context canceled""
16:46:14.639 [chaincode] NewChaincodeSupport -> INFO 014 Chaincode support using peerAddress: 0.0.0.0:21212
getting deployment spec for chaincode spec: type:GOLANG chaincodeID:<path:""github.com/hyperledger/fabric/examples/chaincode/go/chaincode_example02"" > ctorMsg:<args:""init"" args:""a"" args:""100"" args:""b"" args:""200"" >
16:46:15.851 [container] WriteGopathSrc -> INFO 015 rootDirectory = /opt/openchain/src
16:46:15.851 [container] WriteFolderToTarPackage -> INFO 016 rootDirectory = /opt/openchain/src
16:46:49.971 [chaincode] processStream -> ERRO 017 Error handling chaincode support stream: stream error: code = 1 desc = ""context canceled""
Got string: 90
Aval = 90, Bval = 210
Invoke test passed
16:47:03.810 [chaincode] processStream -> ERRO 018 Error handling chaincode support stream: stream error: code = 1 desc = ""context canceled""
16:47:06.128 [chaincode] NewChaincodeSupport -> INFO 019 Chaincode support using peerAddress: 0.0.0.0:21212
getting deployment spec for chaincode spec: type:GOLANG chaincodeID:<path:""github.com/hyperledger/fabric/examples/chaincode/go/chaincode_example02"" > ctorMsg:<args:""init"" args:""a"" args:""100"" args:""b"" args:""200"" >
16:47:07.322 [container] WriteGopathSrc -> INFO 01a rootDirectory = /opt/openchain/src
16:47:07.322 [container] WriteFolderToTarPackage -> INFO 01b rootDirectory = /opt/openchain/src
16:47:16.882 [chaincode] processStream -> ERRO 01c Error handling chaincode support stream: stream error: code = 1 desc = ""context canceled""
16:47:19.219 [chaincode] NewChaincodeSupport -> INFO 01d Chaincode support using peerAddress: 0.0.0.0:21212
getting deployment spec for chaincode spec: type:GOLANG chaincodeID:<path:""github.com/hyperledger/fabric/examples/chaincode/go/chaincode_example02"" > ctorMsg:<args:""init"" args:""a"" args:""100"" args:""b"" args:""200"" >
16:47:20.430 [container] WriteGopathSrc -> INFO 01e rootDirectory = /opt/openchain/src
16:47:20.430 [container] WriteFolderToTarPackage -> INFO 01f rootDirectory = /opt/openchain/src
16:47:28.914 [chaincode] processStream -> ERRO 020 Got error: Incorrect number of arguments. Expecting 3
16:47:28.942 [chaincode] processStream -> ERRO 021 Error handling chaincode support stream: stream error: code = 1 desc = ""context canceled""
16:47:31.284 [chaincode] NewChaincodeSupport -> INFO 022 Chaincode support using peerAddress: 0.0.0.0:21212
getting deployment spec for chaincode spec: type:GOLANG chaincodeID:<path:""github.com/hyperledger/fabric/examples/chaincode/go/chaincode_example03"" > ctorMsg:<args:""init"" args:""a"" args:""100"" >
16:47:31.285 [container] WriteGopathSrc -> INFO 023 rootDirectory = /opt/openchain/src
16:47:31.285 [container] WriteFolderToTarPackage -> INFO 024 rootDirectory = /opt/openchain/src
16:48:04.882 [chaincode] processStream -> ERRO 025 Error handling chaincode support stream: stream error: code = 1 desc = ""context canceled""
16:48:07.221 [chaincode] NewChaincodeSupport -> INFO 026 Chaincode support using peerAddress: 0.0.0.0:21212
getting deployment spec for chaincode spec: type:GOLANG chaincodeID:<path:""github.com/hyperledger/fabric/examples/chaincode/go/chaincode_example02"" > ctorMsg:<args:""init"" args:""a"" args:""100"" args:""b"" args:""200"" >
16:48:08.404 [container] WriteGopathSrc -> INFO 027 rootDirectory = /opt/openchain/src
16:48:08.404 [container] WriteFolderToTarPackage -> INFO 028 rootDirectory = /opt/openchain/src
getting deployment spec for chaincode spec: type:GOLANG chaincodeID:<path:""github.com/hyperledger/fabric/examples/chaincode/go/chaincode_example04"" > ctorMsg:<args:""init"" args:""e"" args:""0"" >
16:48:16.952 [container] WriteGopathSrc -> INFO 029 rootDirectory = /opt/openchain/src
16:48:16.952 [container] WriteFolderToTarPackage -> INFO 02a rootDirectory = /opt/openchain/src
16:48:35.585 [chaincode] processStream -> ERRO 02b Got error: [5776c8e8-bcb2-4e9a-9c4b-a0e6fdff2c28]Chaincode handler FSM cannot handle message (ERROR) with payload size (269) while in state: ready
16:48:35.614 [chaincode] processStream -> ERRO 02c Error handling chaincode support stream: stream error: code = 1 desc = ""context canceled""
--- FAIL: TestChaincodeInvokeChaincode (30.86s)
	exectransaction_test.go:797: TestChaincodeInvokeChaincode starting
	db_test_exports.go:47: Creating testDB
	exectransaction_test.go:862: deployed chaincode_example02 got cID1:path:""github.com/hyperledger/fabric/examples/chaincode/go/chaincode_example02"" name:""ef78c8752e03b7381af614a50fbe425de38a6eed9dbee2b443efdd6668bd374ecf62a523705aeb48e582cf05f480b7eb3f7e174d728a9e1eed5356b7f6a85b46"" ,
		 chaincodeID1:ef78c8752e03b7381af614a50fbe425de38a6eed9dbee2b443efdd6668bd374ecf62a523705aeb48e582cf05f480b7eb3f7e174d728a9e1eed5356b7f6a85b46
	exectransaction_test.go:898: Error invoking <44d53a299f3f92fafcb0452877148f5d699247f20caa8756bf204d829338f73ee0a8168d8060a090330fd56cb770c3daa9dece75064532e2b2b2ca731e3f4ff6>: Error invoking chaincode: Transaction or query returned with failure: [5776c8e8-bcb2-4e9a-9c4b-a0e6fdff2c28]Chaincode handler FSM cannot handle message (ERROR) with payload size (269) while in state: ready
	exectransaction_test.go:833: Failed chaincode invoke chaincode : Error invoking chaincode: Transaction or query returned with failure: [5776c8e8-bcb2-4e9a-9c4b-a0e6fdff2c28]Chaincode handler FSM cannot handle message (ERROR) with payload size (269) while in state: ready
16:48:38.090 [ca] NewCA -> INFO 02d Fresh start; creating databases, key pairs, and certificates.
16:48:38.148 [aca] Start -> INFO 02e Staring ACA services...
16:48:38.148 [aca] startACAP -> INFO 02f ACA PUBLIC gRPC API server started
16:48:38.148 [aca] Start -> INFO 030 ACA services started
16:48:38.148 [eca] Start -> INFO 031 Starting ECA...
16:48:38.148 [eca] startECAP -> INFO 032 ECA PUBLIC gRPC API server started
16:48:38.148 [eca] startECAA -> INFO 033 ECA ADMIN gRPC API server started
16:48:38.148 [eca] Start -> INFO 034 ECA started.
16:48:38.148 [tca] Start -> INFO 035 Staring TCA services...
16:48:38.148 [tca] startTCAP -> INFO 036 TCA PUBLIC gRPC API server started
16:48:38.148 [tca] startTCAA -> INFO 037 TCA ADMIN gRPC API server started
16:48:38.148 [tca] Start -> INFO 038 TCA started.
16:48:38.148 [tlsca] Start -> INFO 039 TLSCA started.
16:48:40.151 [crypto] RegisterValidator -> INFO 03a Registering validator [vp] with name [vp]...
16:48:40.202 [crypto] RegisterValidator -> INFO 03b Registering validator [vp] with name [vp]...done!
16:48:40.202 [crypto] InitValidator -> INFO 03c Initializing validator [vp]...
16:48:40.208 [crypto] InitValidator -> INFO 03d Initializing validator [vp]...done!
16:48:40.208 [chaincode] NewChaincodeSupport -> INFO 03e Chaincode support using peerAddress: 0.0.0.0:21212
16:48:40.208 [crypto] RegisterClient -> INFO 03f Registering client [jim] with name [jim]...
16:48:40.265 [crypto] Info -> INFO 040 [client.jim]  Register crypto engine...
16:48:40.265 [crypto] Info -> INFO 041 [client.jim]  Register crypto engine...done.
16:48:40.265 [crypto] RegisterClient -> INFO 042 Registering client [jim] with name [jim]...done!
getting deployment spec for chaincode spec: type:GOLANG chaincodeID:<path:""github.com/hyperledger/fabric/examples/chaincode/go/chaincode_example02"" > ctorMsg:<args:""init"" args:""a"" args:""100"" args:""b"" args:""200"" > secureContext:""jim""
16:48:41.449 [container] WriteGopathSrc -> INFO 043 rootDirectory = /opt/openchain/src
16:48:41.449 [container] WriteFolderToTarPackage -> INFO 044 rootDirectory = /opt/openchain/src
16:48:45.662 [crypto] InitClient -> INFO 045 Initializing client [jim]...
16:48:45.672 [crypto] InitClient -> INFO 046 Initializing client [jim]...done!
16:48:47.488 [crypto] closeClientInternal -> INFO 047 Closing client [jim]...
getting deployment spec for chaincode spec: type:GOLANG chaincodeID:<path:""github.com/hyperledger/fabric/examples/chaincode/go/chaincode_example04"" > ctorMsg:<args:""init"" args:""e"" args:""0"" > secureContext:""jim""
16:48:51.788 [container] WriteGopathSrc -> INFO 048 rootDirectory = /opt/openchain/src
16:48:51.788 [container] WriteFolderToTarPackage -> INFO 049 rootDirectory = /opt/openchain/src
16:48:55.966 [crypto] InitClient -> INFO 04a Initializing client [jim]...
16:48:57.067 [crypto] InitClient -> INFO 04b Initializing client [jim]...done!
16:48:57.207 [crypto] closeClientInternal -> INFO 04c Closing client [jim]...
16:49:01.236 [chaincode] processStream -> ERRO 04d Got error: [9655e7f3-53e8-4b58-b152-fd3887e16b4a]Chaincode handler FSM cannot handle message (ERROR) with payload size (269) while in state: ready
16:49:01.274 [chaincode] processStream -> ERRO 04e Error handling chaincode support stream: stream error: code = 1 desc = ""context canceled""
--- FAIL: TestChaincodeInvokeChaincodeWithSec (27.64s)
	db_test_exports.go:47: Creating testDB
	exectransaction_test.go:862: deployed chaincode_example02 got cID1:path:""github.com/hyperledger/fabric/examples/chaincode/go/chaincode_example02"" name:""ef78c8752e03b7381af614a50fbe425de38a6eed9dbee2b443efdd6668bd374ecf62a523705aeb48e582cf05f480b7eb3f7e174d728a9e1eed5356b7f6a85b46"" ,
		 chaincodeID1:ef78c8752e03b7381af614a50fbe425de38a6eed9dbee2b443efdd6668bd374ecf62a523705aeb48e582cf05f480b7eb3f7e174d728a9e1eed5356b7f6a85b46
	exectransaction_test.go:898: Error invoking <44d53a299f3f92fafcb0452877148f5d699247f20caa8756bf204d829338f73ee0a8168d8060a090330fd56cb770c3daa9dece75064532e2b2b2ca731e3f4ff6>: Error invoking chaincode: Transaction or query returned with failure: [9655e7f3-53e8-4b58-b152-fd3887e16b4a]Chaincode handler FSM cannot handle message (ERROR) with payload size (269) while in state: ready
	exectransaction_test.go:964: Error executing test Error invoking chaincode: Transaction or query returned with failure: [9655e7f3-53e8-4b58-b152-fd3887e16b4a]Chaincode handler FSM cannot handle message (ERROR) with payload size (269) while in state: ready
16:49:05.724 [chaincode] NewChaincodeSupport -> INFO 04f Chaincode support using peerAddress: 0.0.0.0:21212
getting deployment spec for chaincode spec: type:GOLANG chaincodeID:<path:""github.com/hyperledger/fabric/examples/chaincode/go/chaincode_example02"" > ctorMsg:<args:""init"" args:""a"" args:""100"" args:""b"" args:""200"" >
16:49:06.929 [container] WriteGopathSrc -> INFO 050 rootDirectory = /opt/openchain/src
16:49:06.929 [container] WriteFolderToTarPackage -> INFO 051 rootDirectory = /opt/openchain/src
getting deployment spec for chaincode spec: type:GOLANG chaincodeID:<path:""github.com/hyperledger/fabric/examples/chaincode/go/passthru"" > ctorMsg:<args:""init"" >
16:49:15.369 [container] WriteGopathSrc -> INFO 052 rootDirectory = /opt/openchain/src
16:49:15.369 [container] WriteFolderToTarPackage -> INFO 053 rootDirectory = /opt/openchain/src
16:49:34.057 [chaincode] processStream -> ERRO 054 Got error: Incorrect number of arguments. Expecting 3
16:49:34.057 [chaincode] processStream -> ERRO 055 Got error: Incorrect number of arguments. Expecting 3
16:49:34.086 [chaincode] processStream -> ERRO 056 Error handling chaincode support stream: stream error: code = 1 desc = ""context canceled""
16:49:34.434 [chaincode] processStream -> ERRO 057 Error handling chaincode support stream: stream error: code = 1 desc = ""context canceled""
16:49:36.794 [crypto] RegisterValidator -> INFO 058 Registering validator [vp] with name [vp]...
16:49:36.794 [crypto] RegisterValidator -> INFO 059 Registering validator [vp] with name [vp]...done. Already initialized.
16:49:36.794 [crypto] InitValidator -> INFO 05a Initializing validator [vp]...
16:49:36.794 [crypto] InitValidator -> INFO 05b Validator already initiliazied [vp]. Increasing counter from [1]
16:49:36.795 [chaincode] NewChaincodeSupport -> INFO 05c Chaincode support using peerAddress: 0.0.0.0:21212
getting deployment spec for chaincode spec: type:GOLANG chaincodeID:<path:""github.com/hyperledger/fabric/examples/chaincode/go/chaincode_example02"" > ctorMsg:<args:""init"" args:""a"" args:""100"" args:""b"" args:""200"" >
16:49:38.001 [container] WriteGopathSrc -> INFO 05d rootDirectory = /opt/openchain/src
16:49:38.001 [container] WriteFolderToTarPackage -> INFO 05e rootDirectory = /opt/openchain/src
getting deployment spec for chaincode spec: type:GOLANG chaincodeID:<path:""github.com/hyperledger/fabric/examples/chaincode/go/chaincode_example05"" > ctorMsg:<args:""init"" args:""sum"" args:""0"" >
16:49:46.446 [container] WriteGopathSrc -> INFO 05f rootDirectory = /opt/openchain/src
16:49:46.446 [container] WriteFolderToTarPackage -> INFO 060 rootDirectory = /opt/openchain/src
16:50:05.206 [chaincode] processStream -> ERRO 061 Error handling chaincode support stream: stream error: code = 1 desc = ""context canceled""
16:50:05.562 [chaincode] processStream -> ERRO 062 Error handling chaincode support stream: stream error: code = 1 desc = ""context canceled""
16:50:07.898 [chaincode] NewChaincodeSupport -> INFO 063 Chaincode support using peerAddress: 0.0.0.0:21212
getting deployment spec for chaincode spec: type:GOLANG chaincodeID:<path:""github.com/hyperledger/fabric/examples/chaincode/go/chaincode_example02"" > ctorMsg:<args:""init"" args:""a"" args:""100"" args:""b"" args:""200"" >
16:50:09.087 [container] WriteGopathSrc -> INFO 064 rootDirectory = /opt/openchain/src
16:50:09.087 [container] WriteFolderToTarPackage -> INFO 065 rootDirectory = /opt/openchain/src
getting deployment spec for chaincode spec: type:GOLANG chaincodeID:<path:""github.com/hyperledger/fabric/examples/chaincode/go/passthru"" > ctorMsg:<args:""init"" >
16:50:17.555 [container] WriteGopathSrc -> INFO 066 rootDirectory = /opt/openchain/src
16:50:17.555 [container] WriteFolderToTarPackage -> INFO 067 rootDirectory = /opt/openchain/src
16:50:25.798 [chaincode] processStream -> ERRO 068 Error handling chaincode support stream: stream error: code = 1 desc = ""context canceled""
16:50:26.170 [chaincode] processStream -> ERRO 069 Error handling chaincode support stream: stream error: code = 1 desc = ""context canceled""
16:50:28.506 [ca] NewCA -> INFO 06a Fresh start; creating databases, key pairs, and certificates.
16:50:28.562 [aca] Start -> INFO 06b Staring ACA services...
16:50:28.562 [aca] startACAP -> INFO 06c ACA PUBLIC gRPC API server started
16:50:28.562 [aca] Start -> INFO 06d ACA services started
16:50:28.562 [eca] Start -> INFO 06e Starting ECA...
16:50:28.562 [eca] startECAP -> INFO 06f ECA PUBLIC gRPC API server started
16:50:28.562 [eca] startECAA -> INFO 070 ECA ADMIN gRPC API server started
16:50:28.562 [eca] Start -> INFO 071 ECA started.
16:50:28.562 [tca] Start -> INFO 072 Staring TCA services...
16:50:28.562 [tca] startTCAP -> INFO 073 TCA PUBLIC gRPC API server started
16:50:28.562 [tca] startTCAA -> INFO 074 TCA ADMIN gRPC API server started
16:50:28.562 [tca] Start -> INFO 075 TCA started.
16:50:28.562 [tlsca] Start -> INFO 076 TLSCA started.
16:50:30.563 [crypto] RegisterValidator -> INFO 077 Registering validator [vp] with name [vp]...
16:50:30.563 [crypto] RegisterValidator -> INFO 078 Registering validator [vp] with name [vp]...done. Already initialized.
16:50:30.563 [crypto] InitValidator -> INFO 079 Initializing validator [vp]...
16:50:30.563 [crypto] InitValidator -> INFO 07a Validator already initiliazied [vp]. Increasing counter from [2]
16:50:30.563 [chaincode] NewChaincodeSupport -> INFO 07b Chaincode support using peerAddress: 0.0.0.0:21212
16:50:30.563 [crypto] RegisterClient -> INFO 07c Registering client [jim] with name [jim]...
16:50:30.619 [crypto] Info -> INFO 07d [client.jim]  Register crypto engine...
16:50:30.619 [crypto] Info -> INFO 07e [client.jim]  Register crypto engine...done.
16:50:30.619 [crypto] RegisterClient -> INFO 07f Registering client [jim] with name [jim]...done!
getting deployment spec for chaincode spec: type:GOLANG chaincodeID:<path:""github.com/hyperledger/fabric/examples/chaincode/go/chaincode_example02"" > ctorMsg:<args:""init"" args:""a"" args:""100"" args:""b"" args:""200"" > secureContext:""jim""
16:50:31.815 [container] WriteGopathSrc -> INFO 080 rootDirectory = /opt/openchain/src
16:50:31.815 [container] WriteFolderToTarPackage -> INFO 081 rootDirectory = /opt/openchain/src
16:50:35.969 [crypto] InitClient -> INFO 082 Initializing client [jim]...
16:50:35.979 [crypto] InitClient -> INFO 083 Initializing client [jim]...done!
16:50:37.782 [crypto] closeClientInternal -> INFO 084 Closing client [jim]...
getting deployment spec for chaincode spec: type:GOLANG chaincodeID:<path:""github.com/hyperledger/fabric/examples/chaincode/go/chaincode_example05"" > ctorMsg:<args:""init"" args:""sum"" args:""0"" > secureContext:""jim""
16:50:42.070 [container] WriteGopathSrc -> INFO 085 rootDirectory = /opt/openchain/src
16:50:42.070 [container] WriteFolderToTarPackage -> INFO 086 rootDirectory = /opt/openchain/src
16:50:46.234 [crypto] InitClient -> INFO 087 Initializing client [jim]...
16:50:47.334 [crypto] InitClient -> INFO 088 Initializing client [jim]...done!
16:50:47.479 [crypto] closeClientInternal -> INFO 089 Closing client [jim]...
16:50:51.526 [chaincode] processStream -> ERRO 08a Error handling chaincode support stream: stream error: code = 1 desc = ""context canceled""
16:50:51.862 [chaincode] processStream -> ERRO 08b Error handling chaincode support stream: stream error: code = 1 desc = ""context canceled""
16:50:56.189 [chaincode] NewChaincodeSupport -> INFO 08c Chaincode support using peerAddress: 0.0.0.0:21212
getting deployment spec for chaincode spec: type:GOLANG chaincodeID:<path:""github.com/hyperledger/fabric/examples/chaincode/go/map"" > ctorMsg:<args:""init"" >
16:50:56.190 [container] WriteGopathSrc -> INFO 08d rootDirectory = /opt/openchain/src
16:50:56.190 [container] WriteFolderToTarPackage -> INFO 08e rootDirectory = /opt/openchain/src
16:51:13.866 [chaincode] processStream -> ERRO 08f Error handling chaincode support stream: stream error: code = 1 desc = ""context canceled""
16:51:16.198 [chaincode] NewChaincodeSupport -> INFO 090 Chaincode support using peerAddress: 0.0.0.0:21212
getting deployment spec for chaincode spec: type:GOLANG chaincodeID:<path:""github.com/hyperledger/fabric/examples/chaincode/go/eventsender"" > ctorMsg:<args:""init"" >
16:51:16.199 [container] WriteGopathSrc -> INFO 091 rootDirectory = /opt/openchain/src
16:51:16.199 [container] WriteFolderToTarPackage -> INFO 092 rootDirectory = /opt/openchain/src
16:51:34.830 [chaincode] processStream -> ERRO 093 Error handling chaincode support stream: stream error: code = 1 desc = ""context canceled""
FAIL
coverage: 63.0% of statements
FAIL	github.com/hyperledger/fabric/core/chaincode	414.235s
error: exit status 1
panic: EOF

goroutine 1 [running]:
panic(0x171b40, 0xc82000a130)
	/usr/lib/go-1.6/src/runtime/panic.go:464 +0x400
main.main()
	/opt/golang/src/github.com/AlekSi/gocov-xml/gocov-xml.go:60 +0x15e
Stopping peer..
Makefile:91: recipe for target 'unit-test' failed
make: *** [unit-test] Error 2
",Linux s390x Debian 8 Jessie,gongsu,rameshthoomu,SriramaSharma,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"12/Oct/16 4:59 AM;gongsu;unit-test-chaincode.log;https://jira.hyperledger.org/secure/attachment/10119/unit-test-chaincode.log",,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxcsv:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,gongsu,rameshthoomu,SriramaSharma,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"07/Oct/16 8:33 AM;rameshthoomu;[~gongsu] I could see chaincode ID is changed in the above log. This only happens when you run *node-sdk-unit-tests* first and then run *""make unit-tests""*. Could you please confirm.

chaincodeID1:ef78c8752e03b7381af614a50fbe425de38a6eed9dbee2b443efdd6668bd374ecf62a523705aeb48e582cf05f480b7eb3f7e174d728a9e1eed5356b7f6a85b46
exectransaction_test.go:898: Error invoking <44d53a299f3f92fafcb0452877148f5d699247f20caa8756bf204d829338f73ee0a8168d8060a090330fd56cb770c3daa9dece75064532e2b2b2ca731e3f4ff6>: Error invoking 

For more reference, please refer JIRA issue#https://jira.hyperledger.org/browse/FAB-287;;;","07/Oct/16 9:47 AM;gongsu;No I did not run node-sdk-unit-tests before running unit-test. Also note that I ran ""make unit-test"", not ""make unit-tests"".;;;","07/Oct/16 11:41 PM;SriramaSharma;I am able to reproduce the same issue when I run 'make unit-test' on v0.6 branch on ppc64le architecture as well. Currently in v0.6 branch, I am at the below specified commit level:

commit adc16001552cfff073c8e7004ae4f1a093a7a350
Author: Christopher Ferris <chrisfer@us.ibm.com>
Date:   Sat Oct 1 14:45:16 2016 +0200

    Fix FAB-578
    
    Fix FAB-578 incorrect chaincode signature in REST API
    fix rest_api.json
    
    NB: Cherry-picked from a96b9edc80e86 after reverting
    inadvertent merge of master - GMH
    
    Change-Id: I852de103d902d5630f27b43a8057e0ee82f1b020
    Signed-off-by: Christopher Ferris <chrisfer@us.ibm.com>
    Signed-off-by: Greg Haskins <gregory.haskins@gmail.com>
;;;","12/Oct/16 5:00 AM;gongsu;Here is the log of running the failed chaincode unit-test with DEBUG level using the command:

# CORE_LOGGING_LEVEL=DEBUG go test -ldflags ""-X github.com/hyperledger/fabric/metadata.Version=0.7.0-snapshot-c8e6615"" github.com/hyperledger/fabric/core/chaincode -p 1 -timeout=20m

 [^unit-test-chaincode.log] ;;;","13/Oct/16 3:15 AM;gongsu;OK here is the problem although I don't know yet why this is happening on z but not x86. When chaincode_example02 is deployed on z, it gets an ef78... ID, as shown below:

{quote}--- FAIL: TestChaincodeInvokeChaincode (94.57s)
        exectransaction_test.go:797: TestChaincodeInvokeChaincode starting
        db_test_exports.go:47: Creating testDB
        exectransaction_test.go:862: deployed chaincode_example02 got cID1:path:""github.com/hyperledger/fabric/examples/chaincode/go/chaincode_example02"" name:""ef78c8752e03b7381af614a50fbe425de38a6eed9dbee2b443efdd6668bd374ecf62a523705aeb48e582cf05f480b7eb3f7e174d728a9e1eed5356b7f6a85b46"" ,
                 *chaincodeID1:ef78c8752e03b7381af614a50fbe425de38a6eed9dbee2b443efdd6668bd374ecf62a523705aeb48e582cf05f480b7eb3f7e174d728a9e1eed5356b7f6a85b46*{quote}

However, when later when invoked, the chaincode ID became ee5b...

{quote}13:37:09.747 [chaincode] afterInvokeChaincode -> DEBU 8b3 Received INVOKE_CHAINCODE in state busyxact, invoking another chaincode
13:37:09.747 [chaincode] func1 -> DEBU 8b4 [5ecacdd4]state is busyxact
13:37:09.747 [chaincode] func1 -> DEBU 8b5 [5ecacdd4] C-call-C
13:37:09.747 [chaincode] func1 -> DEBU 8b6 [5ecacdd4] *C-call-C ee5b24a1f17c356dd5f6e37307922e39ddba12e5d2e203ed93401d7d05eb0dd194fb9070549c5dc31eb63f4e654dbd5a1d86cbb30c48e3ab1812590cd0f78539*
13:37:09.747 [chaincode] func1 -> DEBU 8b7 [5ecacdd4]Failed to launch invoked chaincode. Sending ERROR
{quote}

On x86, chaincode_example02 gets the correct ID ee5b... when it was deployed.;;;","15/Oct/16 2:27 AM;gongsu;OK the bug has been chased down. When chaincode_example02 gets deployed, the calculation of the hashcode includes ALL files in the chaincode_example02 directory. I have some stray files there over the course of playing with various things. So the hashcode came out as ef78... Later when chaincode_example04 invokes chaincode_example02, the ""correct"" hashcode ee5b... is hardcoded in chaincode_example04.go.

Instead of hardcoding the hashcode of chaincode_example02, a better solution would be to have exectransaction_test.go pass in whatever the deployment hashcode of chaincode_example02 into chaincode_example04. I will push a patch to gerrit.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,
SBFT unit test TestRestartAfterCheckpoint sometimes fails,FAB-624,12926,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,hgabre,hgabre,hgabre,07/Oct/16 10:21 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,01/Nov/16 7:05 PM,,,,,fabric-orderer,,,0,consensus,,,,,"A bug of SBFT implementation: https://gerrit.hyperledger.org/r/#/c/1467/

TestRestartAfterCheckpoint sometimes (every 6th-7th test) fails with the following error message:
--- FAIL: TestRestartAfterCheckpoint (0.15s)
panic: runtime error: index out of range [recovered]
        panic: runtime error: index out of range

The error is caused by an uint64 overflow in calendarqueue. The root cause behind this might be that the primary node falls into an infinite loop of view changes resulting in a very high view change timeout.

The problem can be solved by making connectAll's (simplebft_test.go) adapter map (sys.adapters) iteration (for .. range) deterministic (go map iteration is non-deterministic). E.g.:
     keys := uint64slicetype{}
     for k, _ := range sys.adapters { keys = append(keys,uint64(k)) }
     sort.Sort(keys)",,corecode,hgabre,jyellick,v_thirugnanam,vukolic,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,57600,57600,,0%,57600,57600,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-378,,,,,,,,,"1|hzx9rr:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,corecode,hgabre,jyellick,v_thirugnanam,vukolic,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"08/Oct/16 5:43 AM;jyellick;I was unable to reproduce this with the changeset you linked to (tried with -{{go test -count 2000}} but it still passes), however, I am able to reproduce this with https://gerrit.hyperledger.org/r/#/c/1467/ .  The view change message should only be being sent once, and should not be being resent (especially not incremented) unless the new view becomes active.  I'll be planning to investigate further.;;;","10/Oct/16 4:08 PM;hgabre;Sorry, you are right, the 'problematic' patchset is https://gerrit.hyperledger.org/r/#/c/1467/ I will update the issue.;;;","13/Oct/16 7:27 PM;hgabre;Solution:{color:#707070}
First, sbft used to send change view messages periodically, using a doubling behavior. A timer was started in sendViewChange and a next sendViewChange call was made after some time. It was found out that this was erroneous, and instead of this{color} {color:#333333}a timer should be started when the (non-primary) node supposes that the primary has enough view change messages to send a new view (this happens at 2f+1). The timer waits for some time, giving some time to the primary to send out a new view. If it does not send it and the timer times out, a new `view change` message is sent using the next view number.{color};;;","27/Oct/16 6:37 PM;corecode;fixed in https://gerrit.hyperledger.org/r/#/c/2061/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Pared down minimal Peer for getting fabric ready for new architecture work,FAB-631,12933,,Story,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,muralisr,muralisr,muralisr,09/Oct/16 12:27 AM,21/Jul/18 3:55 AM,28/Oct/23 2:57 AM,03/Apr/17 12:37 AM,,,,,fabric-peer,,,0,Endorser,,,,,"Few things need to be done to clean up the fabric post skeletal end-to-end flow to get it ready for the community to do full-fledged new architecture work. 

This can be divided into three categories
* merge -  this can be done in three ways
{quote}# merge `master` to `convergence` and then clean up
# merge `convergence` to `master` and then clean up
# clean up `convergence` and cherry pick fixes from `master` (see https://gerrit.hyperledger.org/r/#/c/1633 for a WIP on this approach){quote}

* clean up -  started list laundry list of sub-tasks (again, see https://gerrit.hyperledger.org/r/#/c/1633)
{quote}* remove vestiges of `ledger` and use only `ledgernext` in chaincode framework
* remove `consensus` from 'peer` executable
* get chaincode unit tests to use ledgernext
* remove encryption / decryption from chaincode{quote}

* use protobuf definition 
{quote}* finalize protobuf definition (see https://jira.hyperledger.org/browse/FAB-489)
* remove old protobuf definition (such as protos.Transaction)
* use new protobuf definition{quote}

*{color:#d04437}The first thing to decide if we are going to merge or cherry pick.{color}*",,ChristopherFerris,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-844,FAB-845,FAB-846,FAB-885,FAB-913,FAB-934,FAB-1035,FAB-1128,FAB-1201,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-37,,,,,,,,,"1|hzx8hb:",,,,Unset,,Sprint 3,Sprint 4 - Endorser,Sprint 5 - Consensus,,,,,,,,,,,,,,Unset,,,,,,,,,,,ChristopherFerris,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"10/Oct/16 6:47 AM;muralisr;Completed
* Removed old ledger from chaincode framework (and converted chaincode to use ledgernext)
* Converted chaincode unit tests to use ledgernext
* Removed consensus package

TODO
* core/peer - eliminate ledger or replace with ledgernext
* core/api - eliminate ledger  or replace with ledgernext (or just delete core/api ?);;;","27/Oct/16 2:10 AM;muralisr;Completed
* core/peer - eliminate ledger or replace with ledgernext
* core/api - eliminate ledger or replace with ledgernext (or just delete core/api ?)

TODO
* next/*.proto integration
;;;","03/Apr/17 12:32 AM;ChristopherFerris;Why is this still marked as TODO? Seems like it is completed. What is missing is which Gerrit item(s) pertain.;;;","03/Apr/17 12:37 AM;muralisr;[~ChristopherFerris] moving to done.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
build error,FAB-632,12934,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,xuxinlai,xuxinlai,09/Oct/16 9:49 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,02/Apr/17 9:38 PM,v0.6,,WON'T FIX,,fabric-build,,,0,,,,,,"xuxinlai@xuxinlai-Aspire-TC-705:~/envH$ sudo docker build -t hyperledger/fabric-starter-kit:latest .
[sudo] password for xuxinlai: 
Sending build context to Docker daemon  5.12 kB
Step 1 : FROM hyperledger/fabric-peer:latest
 ---> 05989d10c6e1
Step 2 : WORKDIR $GOPATH/src/github.com/hyperledger/fabric/examples/chaincode/go/chaincode_example02
 ---> Using cache
 ---> f48fcfc6df63
Step 3 : RUN go build
 ---> Using cache
 ---> c8919de6ff38
Step 4 : WORKDIR $GOPATH/src/github.com/hyperledger/fabric/sdk/node
 ---> Using cache
 ---> 6804811e3daf
Step 5 : RUN make all
 ---> Running in 0af7caea3dc8
[INSTALL] node_modules/.bin/typings
npm install typings
npm WARN package.json hfc@0.0.2 No repository field.
npm WARN package.json hfc@0.0.2 No license field.
npm ERR! Linux 4.4.0-38-generic
npm ERR! argv ""/usr/local/bin/node"" ""/usr/local/bin/npm"" ""install"" ""typings""
npm ERR! node v0.12.7
npm ERR! npm  v2.11.3
npm ERR! code ENOTFOUND
npm ERR! errno ENOTFOUND
npm ERR! syscall getaddrinfo

npm ERR! network getaddrinfo ENOTFOUND registry.npmjs.org
npm ERR! network This is most likely not a problem with npm itself
npm ERR! network and is related to network connectivity.
npm ERR! network In most cases you are behind a proxy or have bad network settings.
npm ERR! network 
npm ERR! network If you are behind a proxy, please make sure that the
npm ERR! network 'proxy' config is set properly.  See: 'npm help config'

npm ERR! Please include the following file with any support request:
npm ERR!     /opt/gopath/src/github.com/hyperledger/fabric/sdk/node/npm-debug.log
make: *** [node_modules/.bin/typings] Error 1
The command '/bin/sh -c make all' returned a non-zero code: 2",,mastersingh24,xuxinlai,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxctb:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mastersingh24,xuxinlai,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"02/Apr/17 9:38 PM;mastersingh24;No longer relevant in the transition to v1.0.0;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
As a fabric developer I want to document the ordering-service channel ACL design,FAB-633,12935,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,elli-androulaki,elli-androulaki,elli-androulaki,10/Oct/16 5:23 PM,21/Jul/18 3:56 AM,28/Oct/23 2:57 AM,13/Apr/17 3:06 AM,,,,,fabric-crypto,,,0,Documentation,Security,,,,,,elli-androulaki,kchristidis,msoumeit,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,115200,115200,,0%,115200,115200,,,,,,,,,,,,,,,,,,,,,,FAB-637,,,,,,,,,,,,,,"07/Nov/16 10:47 PM;elli-androulaki;multi-channel-ACL-v6.pdf;https://jira.hyperledger.org/secure/attachment/10218/multi-channel-ACL-v6.pdf",,,,,,,,,,,,,Unset,,,FAB-1324,,,,,,,,,"1|hzx6jr:",,,,Unset,,Sprint 5 - Crypto,Sprint 7 - Crypto,Sprint 8 - Crypto,Sprint 9 - Crypto,Sprint 9  - Crypto,Sprint 10 - Crypto,,,,,,,,,,4.0,Unset,,,,,,,,,,,elli-androulaki,kchristidis,msoumeit,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"29/Nov/16 1:21 AM;elli-androulaki;Documentation of the channel ACLs can be found here: 
https://docs.google.com/document/d/1Qg7ZEccOIsrShSHSNl4kBHOFvLYRhQ3903srJ6c_AZE/edit?usp=sharing;;;","23/Jan/17 9:14 PM;elli-androulaki;Document detailing how ACLs can be constructed using MSPs and a chain setup example.

https://docs.google.com/document/d/1Qg7ZEccOIsrShSHSNl4kBHOFvLYRhQ3903srJ6c_AZE/edit?usp=sharing;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
As an application developer I want to document a secure invocation access control design for chaincodes,FAB-634,12936,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,elli-androulaki,elli-androulaki,elli-androulaki,10/Oct/16 5:24 PM,21/Jul/18 3:55 AM,28/Oct/23 2:57 AM,06/Jul/18 9:35 PM,,,Future,,fabric-crypto,,,0,chaincode,security,,,,This is an issue for detailed documentation of the design of a library that features invocation access control capabilies at the application layer. It also includes the design of a library used by the client application and the chaincode to enable attribute-based client authentication.,,elli-androulaki,tuand,wutongtree,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-1219,,,,,,,,,"1|hzx6hj:",,,,Unset,,Sprint 6 - consensus,Sprint 4 - Crypto,Sprint 7 - Crypto,Sprint 8 - Crypto,Sprint 9 - Crypto,Sprint 9  - Crypto,Sprint 10 - Crypto,Sprint 12 - Crypto,Sprint 13 - Crypto,,,,,,,,Unset,,,,,,,,,,,elli-androulaki,tuand,wutongtree,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"29/Nov/16 1:05 AM;elli-androulaki;Related document on the ACL design for channels and their chains. Relates to chaincode access as chain access to someone would automatically give that party access to the events of the chaincodes listed in that chain.
https://docs.google.com/document/d/1Qg7ZEccOIsrShSHSNl4kBHOFvLYRhQ3903srJ6c_AZE/edit?usp=sharing;;;","29/Nov/16 3:57 AM;tuand;I see there are 2 documents dealing with MSP and ACL :

https://docs.google.com/document/d/1Qg7ZEccOIsrShSHSNl4kBHOFvLYRhQ3903srJ6c_AZE/edit#

and 

https://docs.google.com/document/d/1_vf5X5WPpECr0PsHM1XfPHB0gmoPJX9j_iGJ5_0mlmI/edit#heading=h.hp7zg2njuvr

Which one should be designated the ""official"" doc ?;;;","09/Dec/16 7:14 PM;elli-androulaki;Correct, but these do not relate to a chaincode ACL, rather to chain / chain events ACL.;;;","23/Jan/17 9:17 PM;elli-androulaki;Hi, here is the document describing the design of invocation access control library.
https://docs.google.com/document/d/18XDGqxb3pz4sTS6jTJod1KufRSC7rRA-O3PMT5cUsqY/edit?usp=sharing;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Gossip demo,FAB-636,12938,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,10/Oct/16 6:54 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,10/Oct/16 6:54 PM,,,,,fabric-gossip,,10/Oct/16 12:00 AM,0,gossip,,,,,"I created an application that demonstrates the gossip implementation:

https://www.youtube.com/watch?v=qpFzZRNKKp0

",,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,86400,86400,,0%,86400,86400,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-290,,,,,,,,,"1|hzxctj:",,,,,,Sprint 2,,,,,,,,,,,,,,,,,,,,,,,,,,,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
As a fabric developer I want to document a secure ACL design for chains/ chain events,FAB-637,12939,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,elli-androulaki,elli-androulaki,elli-androulaki,10/Oct/16 6:57 PM,21/Jul/18 3:54 AM,28/Oct/23 2:57 AM,06/Jul/18 9:39 PM,,,Future,,fabric-crypto,,,0,security,,,,,,,elli-androulaki,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,144000,144000,,0%,144000,144000,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-826,FAB-633,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-1329,,,,,,,,,"1|hzx5mf:",,,,Unset,,Sprint 6 - Crypto,Sprint 4 - Crypto,Sprint 5 - Crypto,Sprint 7 - Crypto,Sprint 8 - Crypto,Sprint 9 - Crypto,Sprint 9  - Crypto,Sprint 10 - Crypto,Sprint 12 - Crypto,Sprint 13 - Crypto,Sprint 14 - Crypto,,,,,,Unset,,,,,,,,,,,elli-androulaki,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"09/Dec/16 6:13 PM;elli-androulaki;For chain/events access control two documents have been produced:
 1) Document describing the overall flow for setting up nodes and chains including how the  ACLs are defined there https://docs.google.com/document/d/1_vf5X5WPpECr0PsHM1XfPHB0gmoPJX9j_iGJ5_0mlmI/edit?usp=sharing

 2) Document describing the notion of membership service providers, and how they can be used to offer chain access control capabilities.
https://docs.google.com/document/d/1Qg7ZEccOIsrShSHSNl4kBHOFvLYRhQ3903srJ6c_AZE/edit
;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Make Gossip communication resiliant to impersonation,FAB-639,12941,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,10/Oct/16 8:54 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,02/Nov/16 12:29 AM,,,,,fabric-gossip,,,0,communication,gossip,,,,,,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-290,,,,,,,,,"1|hzx8mv:",,,,,,Sprint 3,Sprint 4 - Gossip,,,,,,,,,,,,,,,,,,,,,,,,,,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Peer binary does not build using homebrew version of RocksDB on OS X,FAB-640,12942,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ChristopherFerris,donovanhide,donovanhide,10/Oct/16 10:51 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,01/Jan/17 5:35 AM,v0.6,,,,fabric-peer,,,0,wont't-fix,,,,,"RocksDB had a public API change:

https://github.com/facebook/rocksdb/blob/master/HISTORY.md#public-api-change-3

which was fixed in gorocksdb here:

https://github.com/tecbot/gorocksdb/issues/63

This fixes the issue:
{code}
govendor update github.com/tecbot/gorocksdb
{code}",,ChristopherFerris,donovanhide,stevenroose,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxcu7:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,donovanhide,stevenroose,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"11/Oct/16 3:09 AM;ChristopherFerris;We are currently using v4.1 of RocksDB. As we progress towards v1.0 we will be updating our dependencies. For now, you need to build RocksDB v4.1 locally on MacOSX.

http://hyperledger-fabric.readthedocs.io/en/latest/dev-setup/build/#building-natively-on-osx

The instructions are a little confusing, but basically follow the directions for building 4.1 of RocksDB

brew install go rocksdb snappy gnu-tar
cd /tmp
git clone https://github.com/facebook/rocksdb.git
cd rocksdb
git checkout v4.1
PORTABLE=1 make shared_lib
INSTALL_PATH=/usr/local make install-shared

;;;","11/Oct/16 3:28 AM;donovanhide;That's a lot of hoops to jump through to build a year old version of RocksDB :D
Was there any particular issue with a version of RocksDB between 4.1.0 and 4.12.0?

I guess in an ideal world we could just do:

{code}
brew update && brew install hyperledger-fabric
{code};;;","02/Nov/16 11:15 PM;stevenroose;This CR should fix this: https://gerrit.hyperledger.org/r/#/c/2181/;;;","02/Nov/16 11:36 PM;stevenroose;It might be good to change the topic of the issue to not be specific to Homebrew. It fails to build against the [latest version in Arch](https://aur.archlinux.org/packages/rocksdb/) too.;;;","24/Nov/16 12:46 AM;ChristopherFerris;[~stevenroose] that changeset does not build (sorry for not following up... been on holiday). As to why we use the older version of RocksDB this is mostly just anachronism and not a high priority. If we do update RocksDB, then the corresponding code in Fabric that calls the relevant APIs that have changed will need to be addressed as part of this changeset.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"docker instructions for power, z and x_86",FAB-642,12944,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,nickgaski,nickgaski,nickgaski,11/Oct/16 5:16 AM,21/Jul/18 3:54 AM,28/Oct/23 2:57 AM,09/Nov/16 12:27 AM,,,,,fabric-quality,,,0,Documentation,quality,,,,create instructions and videos for using docker-compose to create network or dev environment with fabric-peer and fabric-membersrvc images from DockerHub...,,nickgaski,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,115200,115200,,0%,115200,115200,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzx84v:",,,,Unset,,Sprint 3,Sprint 7 - Quality,,,,,,,,,,,,,,,Unset,,,,,,,,,,,nickgaski,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"07/Dec/16 1:36 AM;nickgaski;this is done here - https://hub.docker.com/r/ibmblockchain/fabric-peer/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Starter Kit documentation is confusing,FAB-643,12945,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,lehors,lehors,lehors,11/Oct/16 5:37 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,14/Oct/16 3:17 AM,,,,,,,,0,,,,,,"The second paragraph of the Starter Kit page reads:

Further exploration

If you wish, there are a number of chaincode examples near by.

   cd ../../chaincode

At that point in the page this command makes no sense whatsoever
At the minimum this section needs to be moved further down where it makes sense and be given some context so that the user knows in which terminal window and from which directory to type this command. It's probably better to give an absolute path in this case.",,lehors,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxcun:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,lehors,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Docs home page has some broken markup,FAB-651,12953,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,lehors,lehors,lehors,11/Oct/16 7:06 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,14/Oct/16 3:17 AM,,,,,,,,0,,,,,,"The developer guides section is broken and renders as follows:

Application developer guide

     - [APIs - CLI, REST, and Node.js](API/CoreAPI.md)
       - [CLI](API/CoreAPI.md#cli): working with the command-line interface.
       - [REST](API/CoreAPI.md#rest-api): working with the REST API (*deprecated*).
       - [Node.js SDK](nodeSDK/node-sdk-guide.md): working with the Node.js SDK.
Fabric developer guide

     - [Making code contributions](CONTRIBUTING.md): First, you'll want to familiarize
     yourself with the project's contribution guidelines.
     - [Setting up the development environment](dev-setup/devenv.md): after that, you
     will want to set up your development environment.
     - [Building the fabric core](dev-setup/build.md): next, try building the project
     in your local development environment to ensure that everything is set up
     correctly.
     - [Building outside of Vagrant](dev-setup/build.md#building-outside-of-vagrant):
     for the *adventurous*, you might try to build outside of the standard Vagrant
     development environment.
     - [Logging control](Setup/logging-control.md): describes how to tweak the logging
     levels of various components within the fabric.
     - [License header](dev-setup/headers.txt): every source file must include this
     license header modified to include a copyright statement for the principle
     author(s).
Operations guide

      - [Setting Up a Network](Setup/Network-setup.md): instructions for setting up a
      network of fabric peers.
      - [Certificate Authority (CA) Setup](Setup/ca-setup.md): setting up a CA to
      support identity, security (authentication/authorization), privacy and
      confidentiality.
      - [Application ACL](tech/application-ACL.md): working with access control lists.
",,lehors,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"11/Oct/16 7:22 PM;lehors;Fabric docs home page.png;https://jira.hyperledger.org/secure/attachment/10116/Fabric+docs+home+page.png",,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxcvb:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,lehors,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
tests for larger networks,FAB-652,12954,,Story,Closed,FAB,Fabric,software,denyeart,,,High,Done,rameshthoomu,scottz,scottz,11/Oct/16 9:50 PM,21/Jul/18 3:56 AM,28/Oct/23 2:57 AM,04/Nov/16 12:59 AM,,,,,fabric-quality,,,0,quality,,,,,"Create, run, and automate tests for networks larger than the standard 4-peer pbft network. Local environment only.",,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-517,,,,,,,,,"1|hzxcjj:",,,,Unset,,Sprint 4 - Quality,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
behave tests for larger networks,FAB-653,12955,12954,Sub-task,Closed,FAB,Fabric,software,denyeart,,,High,Done,latitiah,scottz,scottz,11/Oct/16 9:54 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,25/Oct/16 6:39 AM,,,,,fabric-quality,,,0,quality,,,,,create and automate Behave tests to test APIs and basic consensus in Behave for larger networks. And submit them into correct repository to be put into a regression suite for v0.6 and master releases.,,latitiah,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxcvj:",,,,,,Sprint 4 - Quality,,,,,,,,,,,,,,,,,,,,,,,,,,,latitiah,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"12/Oct/16 7:12 AM;latitiah;Docker compose files are complete. This will all get pushed with behave push in FAB-572. (There are tests that are using code written under that issue.);;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
GO SDK tests for larger networks,FAB-654,12956,12954,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,scottz,scottz,scottz,11/Oct/16 9:55 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,18/Oct/16 5:15 AM,,,,,fabric-quality,,,0,quality,,,,,create and automate Behave tests to test APIs and basic consensus in Behave for larger networks. And submit them into correct repository to be put into a regression suite for v0.6 and master releases.,,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxcvr:",,,,,,Sprint 4 - Quality,,,,,,,,,,,,,,,,,,,,,,,,,,,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"15/Oct/16 3:40 AM;scottz;obcsdk/automation/run_largeNetworkSmokeTests.sh;;;","18/Oct/16 7:07 AM;scottz;Tests in the script (API tests and basic consensus tests) passed in local docker environment with 
N    F
10   3
10   1
16   5
16   3
;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
function for network peer names,FAB-655,12957,12801,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,scottz,scottz,scottz,11/Oct/16 10:13 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,28/Oct/16 4:14 AM,,,,,fabric-quality,,,0,quality,,,,,"create a function to retrieve the name of a peer from the internal database, after reading all the names and data in from the networkcredentials file, instead of using partially hardcoded values.",,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxcvz:",,,,,,Sprint 2,Sprint 3,,,,,,,,,,,,,,,,,,,,,,,,,,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
functions for stop/start for remote networks too,FAB-656,12958,12801,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,scottz,scottz,scottz,11/Oct/16 10:15 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,28/Apr/17 12:52 AM,,,v0.6,,fabric-quality,,,0,quality,,,,,"Create more general functions, allowing for different message format/mechanisms, to stop and start peers. Expand from ""docker stop and docker start"" that is used for Local networks, to allow the use of other mechanisms required by other networks.",,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxcw7:",,,,,,Sprint 2,Sprint 3,,,,,,,,,,,,,,,,,,,,,,,,,,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"28/Apr/17 12:51 AM;scottz;Since this is v0.6 tool, this is no longer needed.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Custom-Events stress tests development,FAB-657,12959,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,Ratnakar,Ratnakar,Ratnakar,11/Oct/16 10:38 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,28/Apr/17 3:24 AM,,,,,fabric-quality,,,0,quality,,,,,Events stress test development using NodeSdk with concurrency of 5 threads and different events.,,Ratnakar,tanykj,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-3,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx947:",,,,,,Sprint 3,,,,,,,,,,,,,,,,,,,,,,,,,,,Ratnakar,tanykj,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"13/Oct/16 5:18 AM;Ratnakar;Due to limitations in NodeSdk, unable to test this scenario.
More details can be found here https://jira.hyperledger.org/browse/FAB-620 ;;;","13/Oct/16 5:23 AM;Ratnakar;As per [~jimthematrix] suggestion created multiple chains and tried send the traffic on multiple users registered with certain delay (no concurrency), However it still crashes 

*Code snippet:*


{code:java}
for (var i=0;i<100;i++){
    if ( (i+1) % 5 == 0 ) {
      sleep.usleep(500000);
    }
    invoke(i)
  }

function invoke(n) {
    var args = testUtils.getArgs(config.invokeRequest);
    args[0] = (parseInt(args[0]) + n).toString();;
    var invokeRequest = {
        chaincodeID: testChaincodeID,
        fcn: config.invokeRequest.functionName,
        args: args
    };

    var invokeTx = invokers[n%5].invoke(invokeRequest);

    invokeTx.on('complete', function(results) { ....    });
    invokeTx.on('error', function(err) { ... });
}

{code}


Gist of error logs :

{code:java}

Enrolled admin successfully


Enrolled test_user2 successfully


Enrolled test_user1 successfully


Enrolled test_user0 successfully


Enrolled test_user3 successfully

[ Chaincode ID :  eaba3d18258fab4968d0bbf167756e6056a5f5549fcb2bf70091d3cfd0a5e873 ]

Successfully deployed chaincode: request={""chaincodePath"":""chaincode"",""fcn"":""init"",""args"":[]}, response={""uuid"":""eaba3d18258fab4968d0bbf167756e6056a5f5549fcb2bf70091d3cfd0a5e873"",""chaincodeID"":""eaba3d18258fab4968d0bbf167756e6056a5f5549fcb2bf70091d3cfd0a5e873""} 

/home/ratnakar/go/src/github.com/hyperledger/fabric/event-stress/node_modules/hfc/lib/stats.js:77
            throw Error(""started twice without stopping"");
            ^

Error: started twice without stopping
    at Error (native)
    at ResponseTime.start (/home/ratnakar/go/src/github.com/hyperledger/fabric/event-stress/node_modules/hfc/lib/stats.js:77:19)
    at TCertGetter.getTCerts (/home/ratnakar/go/src/github.com/hyperledger/fabric/event-stress/node_modules/hfc/lib/hfc.js:1705:35)
    at TCertGetter.getNextTCert (/home/ratnakar/go/src/github.com/hyperledger/fabric/event-stress/node_modules/hfc/lib/hfc.js:1659:18)
    at Member.getNextTCert (/home/ratnakar/go/src/github.com/hyperledger/fabric/event-stress/node_modules/hfc/lib/hfc.js:862:28)
    at TransactionContext.getMyTCert (/home/ratnakar/go/src/github.com/hyperledger/fabric/event-stress/node_modules/hfc/lib/hfc.js:1175:21)
    at TransactionContext.invoke (/home/ratnakar/go/src/github.com/hyperledger/fabric/event-stress/node_modules/hfc/lib/hfc.js:1012:14)
    at Member.invoke (/home/ratnakar/go/src/github.com/hyperledger/fabric/event-stress/node_modules/hfc/lib/hfc.js:814:12)
    at invoke (/home/ratnakar/go/src/github.com/hyperledger/fabric/event-stress/app.js:321:34)
    at invokeLoop (/home/ratnakar/go/src/github.com/hyperledger/fabric/event-stress/app.js:302:5)

{code}
;;;","14/Feb/17 12:06 AM;tanykj;I am experiencing the same issue with the SDK demo code on Bluemix starter plan. Using node 6.9.1 and hfc 0.6.5. Is there a solution for this?;;;","28/Apr/17 3:24 AM;Ratnakar;Due to limitations in NodeSdk V0.6, unable to test this scenario;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"add more users/passwords, to use with more network peers",FAB-658,12960,12954,Sub-task,Closed,FAB,Fabric,software,denyeart,,,High,Done,rameshthoomu,scottz,scottz,11/Oct/16 11:18 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,03/Nov/16 2:29 AM,,,,,fabric-quality,,,0,quality,,,,,,,rameshthoomu,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxcwf:",,,,,,Sprint 4 - Quality,,,,,,,,,,,,,,,,,,,,,,,,,,,rameshthoomu,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,v0.6,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"03/Nov/16 2:29 AM;rameshthoomu;Now membersrvc.yaml file is supporting for 64 peers.. This change is not existed in current docker images, we will publish this change in next release images.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Merge master branch's bug fixes and tests into fabric-sdk-node,FAB-659,12961,12619,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,cdaughtr,jimthematrix,jimthematrix,11/Oct/16 11:50 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,25/Oct/16 12:03 AM,,,,,fabric-sdk-node,,,0,node-SDK,,,,,"the new repository ""fabric-sdk-node"" was based on a pre-v0.6 version of the master branch. The master branch has since been further enhanced with bug fixes. We want to bring those into the new repo where make sense.

[~pmullaney] has already started working on migrating over the event hub feature into the new repo, so this effort doesn't need to take into account any code related to event hub.",,cdaughtr,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-782,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxcwn:",,,,,,Sprint 1,Sprint 2,Sprint 3,Sprint 4 - nodeSDK,,,,,,,,,,,,8.0,,,,,,,,,,,,cdaughtr,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"20/Oct/16 12:30 AM;cdaughtr;Merged change 1011 from master to fabric-sdk-node with https://gerrit.hyperledger.org/r/#/c/1861/.
Change 1023 for GRPC options will be included with https://jira.hyperledger.org/browse/FAB-741.;;;","21/Oct/16 12:45 AM;jimthematrix;hi [~cdaughtr], are there any more changes that need to be merged? if not, we should start removing the /sdk/node folder from the ""fabric"" project;;;","24/Oct/16 11:37 PM;cdaughtr;Change 1861 is now merged into fabric-sdk-node .  There are no more changes to be merged, but need to re-check the open change sets to make sure there are no more pending changes.;;;","25/Oct/16 12:00 AM;cdaughtr;There is a minor change to https://gerrit.hyperledger.org/r/#/c/1823/1/sdk/node/src/hfc.ts in debug logging which is under review.  Will keep track of this and ensure it gets into the fabric-sdk-node in function newInvokeOrQueryTransaction, lines 1996 (...level to CONFIDENTIAL) and 1999 (...level to PUBLIC).

I do not see any other open changes that need to be merged.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As a fabric administrator, I can gather my fabric network signer certificates, so that I may provide them to a bootstrap admin.",FAB-660,12962,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,tuand,sanchezl,sanchezl,12/Oct/16 12:07 AM,21/Jul/18 3:54 AM,28/Oct/23 2:57 AM,11/Apr/17 7:30 AM,,,WON'T FIX,,,,,0,,,,,,,,binhn,kchristidis,sanchezl,tuand,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-661,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-810,,,,,,,,,"1|hzx8db:",,,,Unset,,Sprint 5 - Consensus,,,,,,,,,,,,,,,1.0,Unset,,,,,,,,,,,binhn,kchristidis,sanchezl,tuand,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"21/Oct/16 10:15 PM;tuand;Use this story to work with security team on creating the certs and CA certs for orderers and peers;;;","22/Oct/16 12:26 PM;kchristidis;Can you add more details on the deliverables of this story? Instructions on how to create the certs and CA certs (similar to FAB-708) or something else?;;;","23/Oct/16 12:29 AM;binhn;This one sounds non-functional to me. Each deployment has own way of collecting trusted roots. Were we thinking about prescribing such process?;;;","23/Oct/16 12:32 AM;binhn;I am moving this to the graveyard FAB-810. Move back if you think it is needed ;;;","25/Oct/16 5:54 AM;sanchezl;The idea here is to document how the CA certs are provided to the bootstrap admin. The deliverable would be:
* Documentation on what is to be provided to the orderer admin, for example :
** Are there any guidelines for what is expected in the cert? format, key types, Server Name attribute,  etc...
** Any other configuration data provided in some kind of configuration file ? hostnames, ports, etc... 
;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As a fabric administrator, I can provide the bootstrap administrator with my peer network's signer certificates, so that the bootstrap administrator can included the information in a genesis block.",FAB-661,12963,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,tuand,sanchezl,sanchezl,12/Oct/16 12:07 AM,21/Jul/18 3:54 AM,28/Oct/23 2:57 AM,11/Apr/17 7:38 AM,,,WON'T FIX,,,,,0,,,,,,Use this story to work with security team on how to generate the CA certs and how to distribute to the bootstrap admin,,binhn,sanchezl,tuand,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-665,,,,,,,FAB-662,,FAB-660,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-810,,,,,,,,,"1|hzx973:",,,,Unset,,,,,,,,,,,,,,,,,0.0,Unset,,,,,,,,,,,binhn,sanchezl,tuand,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"21/Oct/16 10:17 PM;tuand;Close as duplicate of fab-660;;;","23/Oct/16 12:33 AM;binhn;move to graveyard fab-810;;;","25/Oct/16 5:57 AM;sanchezl;Deliverables:
* Documentation: Ideal way to provide the CA certs and any other required configuration to the bootstrap admin , such as packaged a zip/tar file with a certain directory structure.
* Possibly: any tools we can provide to simplify the creation of this 'package' ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As a bootstrap administrator, I can gather the signer certificates of one or more organizations running a common fabric network, so that I can generate a genesis block.",FAB-662,12964,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,tuand,sanchezl,sanchezl,12/Oct/16 12:07 AM,21/Jul/18 3:54 AM,28/Oct/23 2:57 AM,11/Apr/17 7:37 AM,,,DUPLICATE,WON'T FIX,,,,0,,,,,,,,binhn,sanchezl,tuand,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-661,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-810,,,,,,,,,"1|hzx97b:",,,,Unset,,,,,,,,,,,,,,,,,0.0,Unset,,,,,,,,,,,binhn,sanchezl,tuand,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"21/Oct/16 10:20 PM;tuand;close as duplicate for fab-661;;;","23/Oct/16 12:34 AM;binhn;move to graveyard FAB-810;;;","25/Oct/16 6:11 AM;sanchezl;This is FAB-661 from the point of view of the bootstrap administrator. I would expect some documentation as the deliverable as to how the bootstrap administrator would consume the CA cert package from the peer administrators. For example: 1. create bootstrap dir. 2. create entity dir 3. extract peer admin CA cert package package here. ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As an orderer administrator, I can provide the bootstrap administrator with the configuration of the orderer nodes I administer, so that the bootstrap administrator can include the information in a genesis block.",FAB-663,12965,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,tuand,sanchezl,sanchezl,12/Oct/16 12:07 AM,21/Jul/18 3:55 AM,28/Oct/23 2:57 AM,11/Apr/17 7:44 AM,,,WON'T FIX,,,,,0,,,,,,Decide on who should decide the number of orderer nodes and how that information is distributed to the nodes,,binhn,kchristidis,sanchezl,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-665,,,,,,,,,,FAB-665,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-810,,,,,,,,,"1|hzx8dj:",,,,Unset,,Sprint 5 - Consensus,,,,,,,,,,,,,,,1.0,Unset,,,,,,,,,,,binhn,kchristidis,sanchezl,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"22/Oct/16 12:23 PM;kchristidis;So, doesn't this communication happen off-band?

The orderer admins of each entity get on the same call with the bootstrapAdmin for all we know, and they agree that they will roll with a 4-node PBFT network, where each entity has a node. The bootstrapAdmin says ""I got this"", sets the corresponding values to the genesis block (using the process you outline in FAB-665), and then, with the work covered in FAB-666 this block is communicated to the orderer administrators, who inspect it (FAB-667) to make sure everything looks good.

What will the deliverable of this story be?;;;","23/Oct/16 12:48 AM;binhn;Move to graveyard FAB-810;;;","25/Oct/16 6:13 AM;sanchezl;The deliverable here would be documentation on what exactly is communicated and how it is capture by the bootstrap administrator (such as in a config file).;;;","25/Oct/16 6:43 AM;kchristidis;Alright, I've added a note in FAB-665 that we should make sure these are written down properly.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As a bootstrap administrator, I can gather the orderer node configurations of one or more organizations running a common orderer network, so that I can generate a genesis block.",FAB-664,12966,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,sanchezl,sanchezl,12/Oct/16 12:07 AM,21/Jul/18 3:55 AM,28/Oct/23 2:57 AM,11/Apr/17 7:44 AM,,,WON'T FIX,,,,,0,,,,,,,,binhn,kchristidis,sanchezl,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-810,,,,,,,,,"1|hzx8dr:",,,,Unset,,Sprint 5 - Consensus,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,binhn,kchristidis,sanchezl,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"22/Oct/16 12:42 PM;kchristidis;If this doesn't happen off-band, how do you intend to approach this?;;;","23/Oct/16 12:46 AM;binhn;I don't see any additional work here not covered by FAB-665, so move it to graveyard FAB-810;;;","25/Oct/16 6:14 AM;sanchezl;This is FAB-663 from the bootstrap administrator's point of view. Deliverable is documentation.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As a bootstrap administrator, I want to be able to generate a genesis block",FAB-665,12967,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,tuand,sanchezl,sanchezl,12/Oct/16 12:07 AM,21/Jul/18 3:55 AM,28/Oct/23 2:57 AM,05/Feb/17 10:33 AM,,,,,fabric-orderer,,,0,common-components,,,,,"We need a tool (CLI) that accepts the necessary inputs and generate a file, which will be used by orderers and member peers on start-up.",,ales,elli-androulaki,jeffgarratt,jyellick,sanchezl,smithbk,tuand,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-661,FAB-663,FAB-666,FAB-670,,,,,,,,,,,,,FAB-669,,,FAB-900,,,,,FAB-663,FABC-663,,,,,,,,"01/Dec/16 3:52 AM;tuand;template.json;https://jira.hyperledger.org/secure/attachment/10246/template.json",,,,,,,,,,,,,Unset,,,FAB-359,,,,,,,,,"1|hzx6cv:",,,,Unset,,Sprint 4 - Consensus,Sprint 5 - Consensus,Sprint 7 - consensus,Sprint 8 - consensus,Sprint 9 - consensus,Sprint 10 - consensus,Sprint 11 - consensus,,,,,,,,,4.0,Unset,,,,,,,,,,,ales,elli-androulaki,jeffgarratt,jyellick,sanchezl,smithbk,tuand,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"13/Oct/16 5:21 AM;tuand;from the bootstrap feature file in FAB-359, the contents of the genesis block :

@given(u'the bootstrapAdmin creates the genesis block')
def step_impl(context):
   '''
   Gets the ordererOrgs CA certs
   gets the peer orgs CA certs
   Chain Policies:
       Orderer Org modificatio policy # Specifies what is required in order to modify the orderer org membership
       Peer org modififcation policy  # Specifies what is required in order to modify the peer org membership
   the orderer Node configurations:
       Node cert   # From orderer admins
       address   # IP:port from orderer admin
       Consensus Config:  # Chosen by chainBootstrapAdmin;;;","21/Oct/16 10:03 PM;tuand;While I wait for the convergence->master merge ...  here's what the workflow looks like right now:

- Admin gathers certs for all orderers, CA certs for all entities, ingress/egress policies.
- Admin puts all data into a json file using this format :
{
   ""policies"": {
      ""ordererorgmodificationpolicy"": ""???"",
      ""peerorgmodificationpolicy"": ""???""
   },
   ""orderers"":[
      {
         ""cert"": ""./02certfile""
      },
      {
         ""cert"": ""./03certfile""
      }
   ],
   ""ordererconfiguration"": {
      ""protocol"": ""ttd"",
      ""config"": ""./somepath/config.file""
   },
   ""entities"": [
      {
         ""cacert"": ""./peer/1certfile"",
      },
      {
         ""cacert"": ""./peer/2certfile""
      }
   ]
}

- Tool parses this json file and creates a genesis block following the definitions drafted in https://gerrit.hyperledger.org/r/#/c/1795/ and in https://gerrit.hyperledger.org/r/#/c/1817
- Tool serializes this block to a file
- Ordered reads this serialized genesis block from its file system and starts;;;","21/Oct/16 10:31 PM;tuand;move to sprint 4 as I need to pick up a couple of jason's changesets and wait for completion of convergence->master;;;","22/Oct/16 11:48 AM;kchristidis;Thanks for writing this up. Two questions:

# In the sample JSON file that you list above, should these be ""certs"" for the orderers, or ""cacerts""? Jeff's impl.py refers to ""ordererOrgs CA certs"".
# Not sure why the merging of convergence to master is affecting you?;;;","25/Oct/16 6:41 AM;kchristidis;Let's make sure we document the process as [~sanchezl] suggests here: https://jira.hyperledger.org/browse/FAB-662?focusedCommentId=19436&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-19436;;;","26/Oct/16 4:25 AM;smithbk;Tuan and I just discussed the following.  A certificate config update will be:

1) ID = ""cert""?
2) Type = Chain
3) Data = CertList 

where

message CertList {
          enum CertListType { peer, orderer, crl }
          repeated bytes Certs
   }

There will be 3 lists of certs: peers, orderers, and a CRL list.
When adding/removing an entry from the CRL list, I think we need to ensure that the config update has a signature of:
1) the certificate being revoked (so someone can revoke their own certificate)
2) one of the issuers of the certificate
The current language is not flexible enough to handle this, but I think we could add some methods to check this on the COP CertMgr.;;;","20/Nov/16 5:57 AM;kchristidis;I've seen the Gerrit changeset but have not reviewed it myself: https://gerrit.hyperledger.org/r/#/c/2259/

Can we please post an update on where we stand on this?

How far away would we say we are from completion?;;;","21/Nov/16 11:03 PM;tuand;With the 2259 and 2605 change set,  the genesis creation and ingestion flow is pretty much done.

What's left is the actual content of the genesis block which I believe is still going through changes via the MSP discussions. Worth separating out into a separate task ?;;;","21/Nov/16 11:19 PM;kchristidis;Got it, thank you. No need to add a task (as we'll be dealing with changes for some time to come I guess), but let's keep an eye on it and make sure that the block outputted by the tool stays current.;;;","29/Nov/16 2:41 AM;tuand;[~jeffgarratt] [~binhn] just a pointer to our hallway talk ... 

also changesets https://gerrit.hyperledger.org/r/#/c/2259/
and
https://gerrit.hyperledger.org/r/#/c/2605/;;;","30/Nov/16 10:59 PM;tuand;working with [~ellaki] and team to integrate FAB-634 MSP config with this tool;;;","01/Dec/16 4:10 AM;tuand;[~ellaki] [~adecaro] [~ales] [~binhn] [~jeffgarratt] 

Here's how I see the tool working : 
input is a file containing the following : [^template.json]
The tool parses the input file and creates a genesis block with the following ConfigurationItems:
# configurationItem { type: orderer, Key: ordererlist, Value: [][]byte{each byte array is the content of an orderer cert listed in the input}
# configurationIItem { type: orderer, Key: localconfig, Value: []byte(local config data written out as bytes)
# configurationItem { type:orderer, Key: consensusconfig, Value: []byte(content of consensus config file)
# configurationItem {type: orderer, Key: mspconfig, Value: []byte(content of msp config file)

When the orderer reads the genesis block,  it will see the configurationItem with Key: mspconfig  and call MSPManager.
MSPManager can parse the Value []byte array however it wishes

This way,  the tool ( and by extension the admin ) does not need to understand the syntax of the different configs and we leave the parsing and processing of the config data to the component that needs to handle it.
 ;;;","01/Dec/16 4:50 AM;jyellick;> 1. configurationItem { type: orderer, Key: ordererlist, Value: [][]byte {each byte array is the content of an orderer cert listed in the input}

This seems somewhat consensus dependent? In the Kafka case, for instance, it might not be that every orderer (shim) need to be enumerated in the genesis block, instead, there would simply be the orderer org definition, and the policy would be that there must be a valid chain to the orderer CA.  I also wonder if we don't need to tie addresses to these certs.

I'm also not convinced this belongs as the 'Orderer' type, as in general, the contents of the 'Orderer' configuration should be largely opaque to the network.  

> 2. configurationIItem { type: orderer, Key: localconfig, Value: []byte(local config data written out as bytes)

Local configuration is just that, local, it may vary node to node, so this definitely does not belong in the genesis block.

> 3. configurationItem { type:orderer, Key: consensusconfig, Value: []byte(content of consensus config file)

Since this configuration always derives from the network, it doesn't make sense to specify this as a configuration item.  Further, because per consensus item we might wish to have different modification policies, I think this needs to be split across config items.

> 4. configurationItem {type: orderer, Key: mspconfig, Value: []byte(content of msp config file)

I thought we had agreed that we were going to introduce two new top level config item types ""MSP"" and ""GroupIdentity"" or something similar.  The MSPs would be encoded as type MSP, and named, while the ""GroupIdentity"" would allow for the MSP groups like ""org0admin"" to be defined in a generic way (which can be used in policies).

> This way, the tool ( and by extension the admin ) does not need to understand the syntax of the different configs and we leave the parsing and processing of the config data to the component that needs to handle it.

I'm not sure I agree with this approach generally.  This assumes that each configuration item is consumed by only one component, and further assumes that the entire configuration for a component is modified under the same policy.  I don't think either of these assumptions are generally valid.  In specific cases, like the MSP where it's intended to be an embedded component used across the stack, we can get away with encoding large chunks of data together, but consider something as simple as the orderer addresses.  This is something that the SDK will need to read, that the peer will need to read, that the orderers will need to read, and encoding this as something like yaml just pushes the burden of decoding it into each component.  If all components must be able to speak proto, this points to proto being the natural encoding to me.

Really, I think we are way ahead of ourselves here.  We simply don't know enough to do this properly.  We should start much smaller.  Do we have the peer working with an MSP such that the sdk sends a transaction to ordering, and the peer is able to validate the transaction after?  If not, let's do that, if so, what's the bare minimum that we need to put into the genesis block so that the orderer can also verify the signature on broadcast?;;;","01/Dec/16 4:55 AM;ales;Thanks [~tuand]. Note that there is some overlap between 
https://gerrit.hyperledger.org/r/#/c/2677/18/config-files/chain-genesis-block-test-result.json
and
https://gerrit.hyperledger.org/r/#/c/2677/18/config-files/peer-init-config-test-result.json
with respect to MSP configuration (I'm referring to ""msp-config""). So if your tool picks up chain-genesis-block-test-result.json it will also pick up the ""msp-config"" section which is also present in the peer-init-config json file.

Should we remove the ""msp-config"" entry from the peer-init-config json file? ([~ellaki] please also weigh in);;;","01/Dec/16 10:15 PM;elli-androulaki;Hi, 
Thanks [~tuand]. 

So is this for the orderer node or system channel configuration?

 >> configurationItem {type: orderer, Key: mspconfig, Value: []byte(content of msp config file)
In this case, as Jason mentioned we could set the type to be ""msp"" and have such config items by default processed by everyone (orderers/peers).

After that, we would need some configuration items associated to (system) chain configuration. For example we can have readers, writers, chain admins all included in a single config item of type chain (that can be set or unset by chain admins).

[~jyellick]: [~ales] has already worked the simple circle that you mentioned, and is missing the part where the peer dynamically loads the CA(s) certificates from a config file. In parallel we discuss MSP configuration as it is relevant to peer setup/signing identity and needs to be consistent to what is advertised through the blockchain. Hence  the chat of which parts of it ought to be part of the genesis config-file, in what form, and which configuration items would make sense to have in the context of MSPs. To this end, the simpler approach is to put everything associated to an MSP as a single config item, and split it differently later as we think approprietly. This is anyway a question to ask the wider community/ companies that would be willing to use that or bring their own MSP along. ;;;","02/Dec/16 1:00 AM;jeffgarratt;I would ask for the simplest possible config we see as functional viable.  Then we can layer complexity as desired.;;;","02/Dec/16 1:38 AM;tuand;@elli,  for now, it's the genesis block for the system channel.  It can be extended pretty easily to create any config block.
_
> 1. configurationItem { type: orderer, Key: ordererlist, Value: [][]byte
{each byte array is the content of an orderer cert listed in the input}_
I think that regardless of consensus protocol,  every set of orderers will need to recognize/authenticate each other so we should at least have the list available.  This could actually be replaced by an MSP configuration as well. 

Should we change type to ""fabric"" or something else ?

_> 2. configurationIItem { type: orderer, Key: localconfig, Value: []byte(local config data written out as bytes)_
I should have used something like ""genericOrdererConfig"" rather than localConfig.  There was a mention of configuration values that pertain to all orderers but not to any specific consensus protocol

_> 3. configurationItem { type:orderer, Key: consensusconfig, Value: []byte(content of consensus config file)
Since this configuration always derives from the network, it doesn't make sense to specify this as a configuration item. Further, because per consensus item we might wish to have different modification policies, I think this needs to be split across config items_
I thought the genesis block would contain the original configuration for the network ?  
I wanted to start simple and not have the tool needing to understand configuration values and policies since it is just an assembler. Semantics and policy management should be on the orderer side, not user side ?

_> 4. configurationItem {type: orderer, Key: mspconfig, Value: []byte(content of msp config file)_
I thought we had agreed that we were going to introduce two new top level config item types ""MSP"" an
I haven't been reading Gerrit fast enough !  Everyone, let me know what values I should use for ""type"" and ""key""

_I'm not sure I agree with this approach generally. This assumes that each configuration item is consumed by only one component, and further assumes that the entire configuration for a component is modified under the same policy._
I think [~ellaki] commented on this earlier as well .
I'm trying to keep things simple for the admin who has to manually gather all the content. And I don't think we've decided everything regarding use of policies ([~binhn]?)  So far, most everything in the genesis block is a chunk to be processed by a component. For things like orderer list,  agree that we should keep in protobuf 

  ;;;","02/Dec/16 2:48 AM;jyellick;
[~jeffgarratt] 
> I would ask for the simplest possible config we see as functional viable. Then we can layer complexity as desired.

+1 to this

[~tuand]
> regardless of consensus protocol, every set of orderers will need to recognize/authenticate each other
I disagree, consider the Kafka case.  No shim talks to any other shim, in fact, they don't even need to know that the others exist.  They need to know the brokers, but that is an implementation detail and quite Kafka specific.

> I should have used something like ""genericOrdererConfig"" rather than localConfig. There was a mention of configuration values that pertain to all orderers but not to any specific consensus protocol

This makes more sense.  I would still advocate to add these config values as they are needed, not to do so monolithically.  Consider for instance the consensus type, and the batch size, both common configuration parameters to all orderers, but they must have different modification policies.  The consensus type should probably be locked with no modifications ever allowed, while the batch size might require a simple majority.

> I thought the genesis block would contain the original configuration for the network?
I'm not sure I follow.  The genesis block does contain the network configuration, What I meant to say, is that there is no ""shared consensus configuration config file"" to embed here.  Early on we did cheat and encode some of this information in the yaml, but that was just a matter of convenience.  Since those values will no longer be encoded in that yaml file (because configuration comes from the genesis block) it's odd to encode a yaml file into the genesis block.  Essentially, we're adding a second layer of encoding on top of the genesis encoding, and I'm not sure why?

> I wanted to start simple and not have the tool needing to understand configuration values and policies since it is just an assembler. Semantics and policy management should be on the orderer side, not user side?
The tool needs to take something that users can understand, and convert it to something that the fabric can understand.  The fabric must understand {cb.ConfigurationItem} encodings, because that is the block representation.  The fabric absolutely does not (and in my opinion should not) have to understand the user consumable format, because the tool should encode it to the more basic format.  As I see it, there are essentially two options:

1. User encodes data into user readable form, tool packages user readable form directly into genesis block, every consumer of the genesis block needs to understand the user encoding
2. User encodes data into user readable form, tool converts this to fabric consumable form and encodes it into the genesis block, consumers of the genesis block need only to know how to read the base data format.

Since in option 1 it pushes the decoding responsibility into multiple components, whereas in option 2 the decoding is only done in the tool, option 2 seems like the winner to me.;;;","06/Dec/16 4:12 AM;tuand;Following discussions from last week,  the configuration data for peer and orderer bootstrap is now defined in https://docs.google.com/document/d/1Qg7ZEccOIsrShSHSNl4kBHOFvLYRhQ3903srJ6c_AZE/edit# and in changeset https://gerrit.hyperledger.org/r/#/c/2925/

The genesisBlockCreate tools will read in this config data and map into configurationItems to create a genesis block.;;;","07/Dec/16 7:06 AM;tuand;After talking with teams on #fabric-consensus-dev, we decide to start with creating a block that only contains MSP configuration so that Alex and Angelo can get their MSP code going.
https://gerrit.hyperledger.org/r/#/c/3037

Elli is continuing to firm up the confguration block content in https://gerrit.hyperledger.org/r/#/c/3015 and I will continue to add the other configuration items to the tool as soon as we get the MSP portion running.  ;;;",,,,,,,,,,,,,,
As an orderer I want to retrieve the genesis block and join the network,FAB-666,12968,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,tuand,sanchezl,sanchezl,12/Oct/16 12:07 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,07/Jan/17 12:07 AM,,,,,fabric-orderer,,,0,common-components,,,,,Implement bootstrap startup procedure that accepts genesis block file containing configuration for orderer. Make sure the data is organized as specified in FAB-359.,,kchristidis,sanchezl,tuand,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-665,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-359,,,,,,,,,"1|hzx9hb:",,,,,,Sprint 5 - Consensus,Sprint 9 - consensus,,,,,,,,,,,,,,2.0,,,,,,,,,,,,kchristidis,sanchezl,tuand,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"21/Oct/16 10:11 PM;tuand;Use this story to decide how to distribute and where on the orderer file system to put the resulting file from fab-665;;;","25/Oct/16 6:37 AM;kchristidis;We should be able to set the genesis block's location either via the config file, or via a command-line flag when booting.

Then the process will copy it over to the proper location; I guess it's the equivalent of `/var/hyperledger/production/db` for 0.5-0.6.

The deliverable here is an orderer that can be booted using this process and can serve broadcast and deliver RPCs from the chain that begins with the given genesis block.;;;","31/Oct/16 10:38 AM;kchristidis;Update on the deliverables:

I want to make it explicit that part of this task is to also replace the ""fake genesis"" block injection that currently happens at the Kafka orderer: see {{sendBlock()}} call in the {{Broadcast()}} function, which needs to go.;;;","09/Nov/16 11:26 PM;tuand;Currently the orderer loads configuration from a .yaml file from which it pulls what protocol it wants to run and what url:port to listen on. Orderer then calls static which creates the fake genesis block which contains only default policies.

The tool from FAB-665 nows gives you a fully-formed genesis block so we'll need to modify the orderer launch code to read the block from file , retrieve consensus configurationItems, apply configuration and write the block.

One thing to think about is that orderer currently determines whether to launch solo fileledger, solo ramledger or kafka. We might want to separate into 3 distinct executables, using a common bootstrap helper to get the genesis block but each processing the config data contained in the genesis block in a different way.  The only input argument would be the filename of the file containing the genesis block.
Then at some later point, we can see if a plugin method is better.;;;","10/Nov/16 12:31 AM;kchristidis;Thanks for updating the issue.

> We might want to separate into 3 distinct executables, using a common bootstrap helper to get the genesis block but each processing the config data contained in the genesis block in a different way.

I'm not sure I got that part, can you elaborate?;;;","10/Nov/16 2:12 AM;tuand;currently we use the same configuration file for all solo and kafka config including which ledger type to use and what address:port to listen on. The orderer.main() parses this config file then decides in a hardcoded case statement whether to launch kafka or solo ram or solo file .

To get away from having to hardcode all types of consensus protocol before we start up the orderer, I'm thinking we should have a KafkaOrderer, a SoloRamLedgerOderer, a SoloFileLedgerOrderer,  all of which call a common helper to get the genesis block but otherwise separately decide how to continue bootstrapping.

The admin decides beforehand which orderer to use.

A side effect is that we can add more consensus types without having to touch existing code.;;;","20/Nov/16 5:46 AM;kchristidis;Changeset: https://gerrit.hyperledger.org/r/#/c/2605/;;;","20/Nov/16 5:47 AM;kchristidis;I noticed certain TODOs in the changeset. If these are not to be tackled as part of this story, can we please itemize them here?;;;","30/Nov/16 10:58 PM;tuand;working with [~ellaki] and team to combine FAB-634 MSP configuration with this tool;;;","07/Dec/16 7:08 AM;tuand;Waiting on FAB-665 and getting configuration to MSP only.

The flow in https://gerrit.hyperledger.org/r/#/c/2605/  is still valid. I will update and rebase once Alex and Angelo get MSP running;;;",,,,,,,,,,,,,,,,,,,,,,,,
"As an orderer administrator, I can inspect a genesis block, so that I may deem it satisfactory.",FAB-667,12969,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,tuand,sanchezl,sanchezl,12/Oct/16 12:07 AM,21/Jul/18 3:57 AM,28/Oct/23 2:57 AM,11/Apr/17 7:44 AM,,,WON'T FIX,,,,,0,,,,,,"on orderer bootstrap, verify that inputted genesis block is valid",,binhn,kchristidis,sanchezl,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-810,,,,,,,,,"1|hzx8fr:",,,,Unset,,Sprint 5 - Consensus,,,,,,,,,,,,,,,1.0,Unset,,,,,,,,,,,binhn,kchristidis,sanchezl,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"22/Oct/16 12:01 PM;kchristidis;Can you provide some detail into what this story entails, on a technical level? (I assume it involves a printout of the genesis block in a user-friendly manner.);;;","23/Oct/16 12:24 AM;binhn;I have no ideas what this story will do. I am moving it to FAB-810, the graveyard.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As an orderer administrator, I can startup new orderer nodes using a genesis block, so that I can bootstrap my orderer network.",FAB-668,12970,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,tuand,sanchezl,sanchezl,12/Oct/16 12:07 AM,21/Jul/18 3:57 AM,28/Oct/23 2:57 AM,11/Apr/17 7:42 AM,,,WON'T FIX,,,,,0,,,,,,"given a genesis block as defined in fab-665,  start an orderer node",,binhn,kchristidis,sanchezl,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-810,,,,,,,,,"1|hzx8fz:",,,,Unset,,Sprint 5 - Consensus,,,,,,,,,,,,,,,2.0,Unset,,,,,,,,,,,binhn,kchristidis,sanchezl,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"22/Oct/16 12:05 PM;kchristidis;What's the deliverable of this story? Is it an artifact, is it an update of the orderer CLI so that it points to the genesis block (which seems like a config YAML issue to begin with), or something else?;;;","23/Oct/16 12:49 AM;binhn;I don't see this as a story.  Move to graveyard FAB-810;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As an orderer administrator, I can generate a genesis block hash and initial connection settings to the orderer nodes, so that I can provide them to a fabric administrator.",FAB-669,12971,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,tuand,sanchezl,sanchezl,12/Oct/16 12:07 AM,12/Apr/19 5:55 AM,28/Oct/23 2:57 AM,11/Apr/17 7:37 AM,,,WON'T FIX,,,,,0,,,,,,,,binhn,sanchezl,tuand,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-665,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-810,,,,,,,,,"1|hzx987:",,,,Unset,,Sprint 3,,,,,,,,,,,,,,,0.0,Unset,,,,,,,,,,,binhn,sanchezl,tuand,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"21/Oct/16 10:08 PM;tuand;close this as a duplicate of fab-665;;;","23/Oct/16 12:44 AM;binhn;Move to graveyard FAB-810;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Verify bootstrap genesis block hash,FAB-670,12972,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,sanchezl,sanchezl,12/Oct/16 12:07 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,14/Oct/17 2:14 AM,,,,,fabric-peer,,,0,,,,,,"As a fabric administrator, I can configure a new fabric peer node with a genesis block checksum hash and initial connection settings to the orderer nodes, so that the fabric peer node can retrieve a genesis block when bootstrapping.",,ChristopherFerris,sanchezl,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-665,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx97j:",,,,,,Sprint 5 - Consensus,,,,,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,sanchezl,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"14/Oct/17 1:49 AM;ChristopherFerris;Is this still relevant? if not, please close. [~sanchezl];;;","14/Oct/17 2:14 AM;ChristopherFerris;closing, please reopen if still relevant;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As a fabric peer, I can request my public and private key certificates, the genesis block checksum hash, and the initial connection settings to some orderer nodes from membership services, so that I may bootstrap myself.",FAB-671,12973,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,sanchezl,sanchezl,12/Oct/16 12:07 AM,21/Jul/18 3:55 AM,28/Oct/23 2:57 AM,11/Apr/17 7:29 AM,,,WON'T FIX,,,,,0,,,,,,,,sanchezl,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-810,,,,,,,,,"1|hzxcwv:",,,,Unset,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,sanchezl,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"12/Oct/16 12:26 AM;sanchezl;This story is invalid.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Bootstrap a Peer,FAB-672,12974,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,scottz,sanchezl,sanchezl,12/Oct/16 12:07 AM,21/Jul/18 3:53 AM,28/Oct/23 2:57 AM,28/Apr/17 12:23 AM,,,,,fabric-quality,,,0,Endorser,quality,,,,"Bootstrap a peer

To start up and connect to a consensus service, a Peer requires at least the following configurations:
# An enrollment certificate to participate in the network. The certificate may come from any CA as long as the CA is part of the trusted roots on the consensus service that the Peer will connect to
# A list of the Orderer certificates and IP addresses, which the administrative CLI from the consensus service can generate
# A list of trusted roots
# An optional list of channels that the Peer should subscribe. Unless explicitly configured, the Peer does not subscribe to any channels upon starting up

Either via CLI or application using SDK API, a Peer can be instructed to subscribe to existing channels. Access control on whom may join a channel is performed by the Orderers with the information given during channel creation or reconfiguration thereafter.
",,sanchezl,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-359,,,,,,,,,"1|hzx86n:",,,,Unset,,Sprint 6 - Crypto,Sprint 6 - Quality,,,,,,,,,,,,,,,Unset,,,,,,,,,,,sanchezl,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"28/Apr/17 12:23 AM;scottz;This code has been implemented by many many submissions over time, and test coverage is provided by the steps in https://github.com/hyperledger/fabric/tree/master/examples/e2e_cli;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As a fabric peer, I need to restart after retrieving the genesis block, so that I may use the orderer node connection settings provided in the genesis block.",FAB-673,12975,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,sanchezl,sanchezl,12/Oct/16 12:07 AM,21/Jul/18 3:56 AM,28/Oct/23 2:57 AM,11/Apr/17 7:37 AM,,,WON'T FIX,,,,,0,,,,,,,,binhn,sanchezl,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-810,,,,,,,,,"1|hzx97r:",,,,Unset,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,binhn,sanchezl,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Oct/16 12:41 AM;binhn;What would the work be required for this story? 
We have all the info in the bootstrap genesis block file, so I am not sure why we would need to restart. ;;;","25/Oct/16 5:58 AM;sanchezl;Initially we were going to distribute only a genesis block hash, no the genesis block itself.;;;","25/Oct/16 6:00 AM;sanchezl;Moved to Graveyard, as we are distributing the genesis block itself.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As a fabric peer, I need to use the orderer node connection settings provided in the genesis block to connect to the orderer nodes.",FAB-674,12976,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,sanchezl,sanchezl,12/Oct/16 12:07 AM,21/Jul/18 3:53 AM,28/Oct/23 2:57 AM,11/Apr/17 7:37 AM,,,WON'T FIX,,,,,0,,,,,,,,binhn,sanchezl,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-708,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-810,,,,,,,,,"1|hzx97z:",,,,Unset,,Sprint 5 - Consensus,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,binhn,sanchezl,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Oct/16 12:43 AM;binhn;This looks like a dup of FAB-665.
I am moving it to graveyard FAB-810.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Support ""binary deployment"" of peer from dockerhub",FAB-678,12980,,Story,Closed,FAB,Fabric,software,denyeart,,,High,Done,greg.haskins,greg.haskins,greg.haskins,12/Oct/16 5:11 AM,21/Jul/18 3:55 AM,28/Oct/23 2:57 AM,14/Feb/17 6:08 AM,,,,,fabric-peer,,,0,,,,,,"There is currently only one supported way to deploy a peer: build it from source.  This is because we currently rely on the build to produce several synthetic artifacts (baseimage:latest in older versions of the code, ccenv:latest in newer).  Going forward, we would like to support use cases where deployments may be as simple as doing something like ""docker run hyperledger/fabric-peer"" and all the of the correct things happen including ensuring that the peer environment has the full set resources it needs to run chaincode, etc.

Today, we formally publish baseimage, membersrvc, and peer.  We need to also add ccenv and javaenv to the mix, and ensure the peer/clients are prepared to reference them properly.  This is a task to track the basic notion of ""binary deployment"".  Until this task is complete, the only supported way to run the peer is from an environment that can complete ""make peer"" from the fabric.git sources properly.",,greg.haskins,ishihara.shun,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzxcxr:",,,,Unset,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,greg.haskins,ishihara.shun,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,dev,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"24/Jan/17 4:15 AM;greg.haskins;Another aspect needed to support this is related to deployment payloads:  Today, we push deployment payloads around the network that contain Dockerfile instructions.  Instead, we should only push code-packages around the network and let the endorser supply a contextually correct Dockerfile on the fly.;;;","05/Feb/17 12:07 PM;greg.haskins;Remaining tasks:

# Review/approve/merge https://gerrit.hyperledger.org/r/#/c/5427/
# Address the ability to pull remote images from dockerhub when not found locally: https://github.com/hyperledger/fabric/blob/923bf3a8e774249344b09c535b726799aec865bd/core/container/dockercontroller/dockercontroller.go#L124;;;","09/Feb/17 1:25 PM;greg.haskins;I am pleased to report that this is now fixed, I believe.  I will run a test where I point the configuration to something like the ghaskins/ dockerhub namespace and confirm, but I think everything should be in place to support binary deployment.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
As a fabric deployer I want to be able to configure the location of where BCCSP keys are stored,FAB-682,12984,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,angelo.decaro,elli-androulaki,elli-androulaki,12/Oct/16 8:22 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,09/Jan/17 6:47 PM,,,,,fabric-crypto,,,0,Security,,,,,"Within this item, we would need to
 - implement a keystore component within the BC-CSP, that manages the keys used by the software bc-csp. 
 - have the configuration information of where the keystore resides passed to the bccsp component at the peer/orderer setup time.
",,elli-androulaki,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,86400,86400,,0%,86400,86400,,,,,,,,,,,,,,,,,,,,,,FAB-355,FAB-354,FAB-356,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx813:",,,,,,Sprint 6 - Crypto,Sprint 5 - Crypto,Sprint 7 - Crypto,Sprint 8 - Crypto,Sprint 9 - Crypto,,,,,,,,,,,,,,,,,,,,,,,elli-androulaki,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As an infrastructure and application developer I would like to use a crypto service provider leveraging cryptographic algorithms as described in CM1, CM3.",FAB-683,12985,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,elli-androulaki,elli-androulaki,12/Oct/16 8:42 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,02/May/17 4:36 AM,,,WON'T FIX,,fabric-crypto,,,0,help-wanted,Security,,,,"Through FAB-354, FAB-355 the fabric will be possible to leverage a crypto library that supports multiple crypto providers to do encryption/signing.
This is related to FAB-354, FAB-355.",,ChristopherFerris,elli-androulaki,grapebaba,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx8k7:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,elli-androulaki,grapebaba,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"11/Jan/17 4:23 PM;grapebaba;what need this task do? Can I do help?[~ellaki][~elli-androulaki];;;","02/May/17 4:37 AM;ChristopherFerris;closing this because won't fix;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Unable to deploy Java chaincode using docker-compose file,FAB-684,12986,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,,Ratnakar,Ratnakar,13/Oct/16 12:01 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,28/Apr/17 11:37 PM,v0.6,,,,fabric-quality,,,1,quality,,,,,"Can deploy Java chaincode on native peer *peer node start*

However when we use [docker-compose](https://github.com/hyperledger/fabric/blob/master/bddtests/bdd-docker/docker-compose-4-consensus-batch.yml) file to spin the peers, It is failed to deploy the chaincode and could see below error in PEER logs

{code:java}
vp3_1         | 03:35:16.117 [dockercontroller] deployImage -> ERRO 1a3 Error building images: API error (500): {""message"":""The Dockerfile (Dockerfile) cannot be empty""}
vp3_1         | 03:35:16.117 [dockercontroller] deployImage -> ERRO 1a4 Image Output:
vp3_1         | ********************
vp3_1         | 
vp3_1         | ********************
vp3_1         | 03:35:16.117 [container] unlockContainer -> DEBU 1a5 container lock deleted(dev-vp3-0f5b1d65041bc6d500bd0f1cab50eb6154c291ef0f4596d64b6797e8ef8f7c34a179b5a2cea82253ff3d74e768512fe0481503eadcf13d18f9761bbb8133efd0)
vp3_1         | 03:35:16.117 [chaincode] Launch -> ERRO 1a6 launchAndWaitForRegister failed Error starting container: API error (500): {""message"":""The Dockerfile (Dockerfile) cannot be empty""}
vp3_1         | 03:35:16.117 [state] TxFinish -> DEBU 1a7 txFinish() for txId [0f5b1d65041bc6d500bd0f1cab50eb6154c291ef0f4596d64b6797e8ef8f7c34a179b5a2cea82253ff3d74e768512fe0481503eadcf13d18f9761bbb8133efd0], txSuccessful=[false]
vp3_1         | 03:35:16.117 [state] GetHash -> DEBU 1a8 Enter - GetHash()
vp3_1         | 03:35:16.117 [buckettree] ComputeCryptoHash -> DEBU 1a9 Enter - ComputeCryptoHash()
vp3_1         | 03:35:16.118 [buckettree] ComputeCryptoHash -> DEBU 1aa Returing existing crypto-hash as recomputation not required
vp3_1         | 03:35:16.118 [state] GetHash -> DEBU 1ab Exit - GetHash()
vp3_1         | 03:35:16.118 [consensus/pbft] ProcessEvent -> DEBU 1ac Replica 3 batch main thread looping

{code}

enclosed debug logs",,bfuentes@fr.ibm.com,Ratnakar,wutongtree,zamrokk,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"13/Oct/16 12:00 AM;Ratnakar;docker-peer-logs.txt;https://jira.hyperledger.org/secure/attachment/10125/docker-peer-logs.txt","17/Oct/16 11:24 PM;Ratnakar;logs-with-membersrvc.txt;https://jira.hyperledger.org/secure/attachment/10140/logs-with-membersrvc.txt",,,,,,,,,,,,,,,,,,,,,,,,"1|hzxcyf:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,bfuentes@fr.ibm.com,Ratnakar,wutongtree,zamrokk,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"17/Oct/16 11:24 PM;Ratnakar;We do see the above issue when trying to deploy with Security and Privacy enabled.

Steps to reproduce the issue:

*vagrant ssh*

+Terminal1:+ 
*membersrvc*

+Terminal2:+
*CORE_LOGGING_LEVEL=debug CORE_SECURITY_ENABLED=true CORE_SECURITY_PRIVACY=true peer node start*


{color:#333333}From REST Client:{color}

_Registrar payload :_

POST : http://127.0.0.1:7050/registrar

{code:java}

{
  ""enrollId"": ""test_user0"",
  ""enrollSecret"": ""MS9qrN8hFjlE""
}
{code}

_Deploy Payload:_

POST : http://127.0.0.1:7050/chaincode

{code:java}
{
  ""jsonrpc"": ""2.0"",
  ""method"": ""deploy"",
  ""params"": {
    ""type"": 4,
    ""chaincodeID"":{
        ""path"":""examples/chaincode/java/SimpleSample""
    },
    ""ctorMsg"": {
        ""function"" : ""init"",
        ""args"":[""a"",""100"",""b"",""200""]
    },
    ""secureContext"":""test_user0""
  },
  ""id"": 1
}
{code}

 [^logs-with-membersrvc.txt] 
;;;","24/Nov/16 8:57 PM;bfuentes@fr.ibm.com;I have same problem with security enabled;;;","14/Apr/17 4:30 PM;zamrokk;Tagging java docker image to :latest tag, works as a workaround;;;","28/Apr/17 11:36 PM;Ratnakar;This is no more relevant. As per the work around suggested by [~bfuentes@fr.ibm.com] closing this issue.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Create channels among  subset of network peers for private communications and ledgers,FAB-686,12988,,Epic,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,binhn,binhn,13/Oct/16 2:57 AM,23/Jan/20 3:40 AM,28/Oct/23 2:57 AM,23/Jan/20 3:40 AM,,,v1.0.0,,,,,1,stale-item,,,,,"Working document: https://docs.google.com/document/d/1eRNxxQ0P8yp4Wh__Vi6ddaN_vhN2RQHP-IruHNUwyhc/edit?usp=sharing

""Each Peer connects to consensus service like pub-sub on a channel. Transactions broadcasted on a channel are ordered by consensus (such as  PBFT) and delivered only to the subscribers (Peers) in cryptographically linked blocks. Each Peer validates the blocks and commits them to the ledger then provides other services to the applications to use the ledger.""
",,binhn,ChristopherFerris,dianfu,sykesm,troyronda,wutongtree,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-902,FAB-497,FAB-495,,,FAB-690,FAB-359,,,,,,,,,,,,,,,,,,,,Unset,,Unset,ghx-label-1,,v1,To Do,,,Unset,,,,"1|hzxcyv:",,,,Unset,Unset,,,,,,,,,,,,,,,,,,,,,,,,,,,,binhn,ChristopherFerris,dianfu,sykesm,troyronda,wutongtree,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"28/Jun/17 9:07 AM;ChristopherFerris;[~binhn] [~muralisr] [~mastersingh24] I'd suggest this is DONE and that we should create a new Epic(s) to handle BFT and any other new features.;;;","23/Jan/20 3:40 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Make genesis block configurable ,FAB-688,12990,12799,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,13/Oct/16 3:09 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,02/Nov/16 9:37 PM,,,,,,,,0,,,,,,"The orderer rawledgers have a static genesis block hardcoded in them today.  Although we will likely want to continue to use a static block for testing, hard coding it should be centralized and not distributed throughout the codebase.",,jyellick,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,14400,3600,,0%,14400,3600,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxcz3:",,,,,,Sprint 3,,,,,,,,,,,,,,,1.0,,,,,,,,,,,,jyellick,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"22/Oct/16 10:33 AM;kchristidis;https://gerrit.hyperledger.org/r/#/c/1703/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Enable chaincode for multichain,FAB-689,12991,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,binhn,binhn,13/Oct/16 4:09 AM,12/Jul/19 8:16 PM,28/Oct/23 2:57 AM,12/Jul/19 8:16 PM,,,v1.0.0,,fabric-peer,,,0,endorser,,,,,"A callee chaincode needs to run in a different context than its deploying context so that we can optimize the deployments of chaincodes. Specifically, when a chaincode deployed on system chain, it should be able to run on any chain using that chain context.

See the Epic for more info",,binhn,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-757,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-686,,,,,,,,,"1|hzxczb:",,,,Unset,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,binhn,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Bootstrap a peer with multichain,FAB-690,12992,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,binhn,binhn,13/Oct/16 4:16 AM,21/Jul/18 3:55 AM,28/Oct/23 2:57 AM,14/Apr/17 10:15 PM,,,DUPLICATE,v1.0.0,fabric-peer,,,0,endorser,Endorser,,,,"During bootstrap, a peer may receive a list of channels to join so that it can participate in private transactions. 

After having successfully completed the connection to orderer, the peer joins the channels and initiates sync for each channel/ledger.
",,binhn,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-686,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-359,,,,,,,,,"1|hzxczj:",,,,Unset,,Sprint 5 - Consensus,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,binhn,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"20/Oct/16 12:09 AM;binhn;I have to select a Resolution to update the content since it is required and no available choice appropriate;;;","14/Apr/17 10:15 PM;ChristopherFerris;I'm closing this as a DUPLICATE.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Build docker-compose file for bringing up fabric without using hyperledger builds,FAB-691,12993,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,latitiah,latitiah,latitiah,13/Oct/16 5:35 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,13/Oct/16 5:35 AM,,,,,fabric-quality,,,0,quality,,,,,Pull images directly from docker hub.,,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx8rb:",,,,,,Sprint 3,,,,,,,,,,,,,,,,,,,,,,,,,,,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
goSDK 72HrLongRun,FAB-692,12994,12833,Sub-task,Closed,FAB,Fabric,software,denyeart,,,High,Done,Nishi,Nishi,Nishi,13/Oct/16 5:59 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,18/Oct/16 8:02 AM,,,,,fabric-quality,,,0,quality,,,,,,,bmos299,Nishi,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-560,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxczr:",,,,,,Sprint 3,Sprint 4 - Quality,,,,,,,,,,,,,,,,,,,,,,,,,,bmos299,Nishi,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"14/Oct/16 11:12 PM;bmos299;Scott reviewing.;;;","15/Oct/16 5:21 AM;scottz;test is written, but cannot close this issue until a bash script is written and pushed in correct repo folder that will execute the script with correct parameters and produce a Pass/Fail result, so can be run easily from jenkins/automation script;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
goSDK Concrrency,FAB-693,12995,12833,Sub-task,Closed,FAB,Fabric,software,denyeart,,,High,Done,Nishi,Nishi,Nishi,13/Oct/16 6:00 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,18/Oct/16 8:02 AM,,,,,fabric-quality,,,0,quality,,,,,,,bmos299,Nishi,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxczz:",,,,,,Sprint 3,Sprint 4 - Quality,,,,,,,,,,,,,,,,,,,,,,,,,,bmos299,Nishi,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"14/Oct/16 11:13 PM;bmos299;Scott reviewing.;;;","15/Oct/16 5:21 AM;scottz;test is written, but cannot close this issue until a bash script is written and pushed in correct repo folder that will execute the script with correct parameters and produce a Pass/Fail result, so can be run easily from jenkins/automation script;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add check in the behave tests for the container names when stopping/starting peers,FAB-694,12996,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,latitiah,latitiah,latitiah,13/Oct/16 7:04 AM,21/Jul/18 3:56 AM,28/Oct/23 2:57 AM,05/Nov/16 1:12 AM,,,,,fabric-quality,,,0,quality,,,,,"There are times (depending on version of docker being used) that when stopping or starting a peer the resulting output returns the service name and not the container name. 

There should be checks in place that will ensure that the container name is what is being saved in the context for future use. (e.g. when trying to perform ""docker inspect"" on a container)",,latitiah,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-268,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzxcin:",,,,Unset,,Sprint 3,Sprint 4 - Quality,,,,,,,,,,,,,,,Unset,,,,,,,,,,,latitiah,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,v0.6,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"14/Oct/16 4:06 AM;rameshthoomu;[~lhaskins]:  Issue# 268 is reproducing in Jenkins CI environment.  We suspected this could be because of below docker environment.

Docker version in Jenkins is 1.8.2
Docker-compose is 1.5.2..

We tried to upgrade Jenkins docker version to 1.12.1 but we are getting issues while updating ubuntu packages.
;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Connections between shims and Kafka cluster should be authenticated,FAB-701,13003,,Story,Closed,FAB,Fabric,software,denyeart,,,High,Done,sanchezl,kchristidis,kchristidis,13/Oct/16 11:04 PM,21/Jul/18 3:56 AM,28/Oct/23 2:57 AM,05/Feb/17 10:30 AM,,,,,fabric-orderer,,,0,kafka,,,,,"As of 0.9, Kafka supports TLS for client/broker and inter-broker communication.

We need to enable it, and also make sure that when a shim or broker is added/removed, the ACLs are updated accordingly.

There are no APIs provided by Kafka for this, so we will have to resort to executing scripts.

https://cwiki.apache.org/confluence/display/KAFKA/Kafka+Authorization+Command+Line+Interface
http://www.confluent.io/blog/apache-kafka-security-authorization-authentication-encryption/

Some more context here: https://hyperledgerproject.slack.com/archives/fabric-consensus-dev/p1477597906002876

Feel free to break this story into tasks, but let's use this as a point of reference for comments and discussion.",,kchristidis,tuand,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-32,FAB-473,FAB-708,,,FAB-1373,FAB-1518,,,,,,,,"08/Dec/16 3:56 AM;tuand;client-ssl.properties;https://jira.hyperledger.org/secure/attachment/10302/client-ssl.properties","08/Dec/16 3:32 AM;tuand;server.log.2016-12-07-11;https://jira.hyperledger.org/secure/attachment/10301/server.log.2016-12-07-11","08/Dec/16 3:56 AM;tuand;server.properties;https://jira.hyperledger.org/secure/attachment/10303/server.properties",,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzx6d3:",,,,Unset,,Sprint 9 - consensus,Sprint 10 - consensus,Sprint 11 - consensus,,,,,,,,,,,,,8.0,Unset,,,,,,,,,,,kchristidis,tuand,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"29/Nov/16 5:37 AM;tuand;Listing possible authentication scenarios so we're clear on what we want to handle in this story
# client (shim) <-> broker :  yes, handle this via TLS
# broker <-> broker : yes , handle via TLS
# broker <-> zookeeper :  no, do not handle.  As of Kafka 0.9, Kerberos only.  We'll have to document the default kafka network configuration
# zookeeper <-> zookeeper : no, do not handle. ;;;","29/Nov/16 5:44 AM;tuand;For client <-> broker authentication,  Kafka uses the ""system"" key/trust stores ( their examples use openssl and keytool ) and use CA certs in their examples.
We should probably continue to use CA certs as that simplifies things in not having to gather and distribute individual certs for each client/shim.

Kafka docs mentions using 2 Certificate authorities,  one for the clients and one for the brokers.  In any case,  this calls for having a CA for the ordering service.  Will have to note that as the COP/MSP discussions continue;;;","29/Nov/16 5:47 AM;tuand;TLS, Kerberos, etc ... configuration is done via configuration files (JAAS and .properties files in Kafka lingo).  Don't see a way around this yet, there will be much manual configuration.;;;","29/Nov/16 5:54 AM;tuand;Kafka ACL has CLI commands to add/remove consumers and producers. Although, at this point,  I don't see the need for using this. Authentication/authorization for the fabric is already handled at the peer <-> ordering service interface so as long as the client<->broker is allowed via TLS,  is there a need for further Kafka ACL processing ?
In addition, given that connections are authorized via CA certs,  is there a need to keep track of individual client or broker entering/leaving the network ? ;;;","29/Nov/16 6:13 AM;kchristidis;""Kafka ACL has APIs to add/remove consumers and producers.""

For what it's worth, this is incorrect. There is a CLI but not an API, unless there was a development on this in the past 2-3 weeks that I've missed.;;;","29/Nov/16 7:12 AM;tuand;I need to be more precise [~kchristidis] . Yes, CLI, not API;;;","07/Dec/16 12:44 AM;kchristidis;I am still not sure what the plan of attack is here, esp. w/r/t updating this setup whenever, say, a new org is added as an orderer. Could you provide some details?;;;","07/Dec/16 6:34 AM;tuand;A decent overview on securing Kafka : http://www.slideshare.net/ConfluentInc/securing-kafka;;;","07/Dec/16 6:47 AM;tuand;I think this is the steps we need to go through :
# before startup of fabric/orderer/kafka
* create CA certs for all organizations that are providing orderers , call then O_CA1, O_CA2, etc ...
* create CA cert for Kafka network, call it K_CA,  i.e. each Kafka broker has a certificate signed by K_CA
* for each Kafka broker, create a keystore (containing the cert and private key of the broker)
* for each Kafka broker, create a truststore ( containing O_CA1, O_CA2, etc ... )
* for each Kafka broker, edit .properties file to turn TLS on and point to keystore/truststore
* for each orderer, create tls.Config struct which contains the orderer's certificate and K_CA, pass config to sarama
# Start orderers and Kafka brokers
# At this point,  the orderer<->Kafka connection is secured via TLS;;;","07/Dec/16 6:54 AM;tuand;to add an orderer:
* if the orderer is part of an organization with an O_CA cert already in the Kafka broker's truststore,  nothing needs to be done on the Kafka broker. The new orderer is confiigured the same as existing orderers
* if the orderer is part of a new organization then that organization's CA cert needs to be added to the Kafka broker's truststore.  *+I do not yet know+* if the brokers can dynamically handle a new addition to the truststore or if we have to restart.;;;","07/Dec/16 7:02 AM;tuand;To remove an orderer:
*+I do not know yet+* if Kafka supports a Certificate Revocation List.  

The one recommendation I've seen so far ( in slide deck in comment above )  is to remove r/w permissions via the
authorizer. The authorizer can be a CLI call or we can write a plugin.

And as for addition, I do see yet if removal can be done dynamically or if we have to restart Kafka;;;","08/Dec/16 3:38 AM;tuand;a sample broker TLS configuration ( search for string ""ssl"" )   [^server.properties] 

a sample Kafka client TLS configuration  [^client-ssl.properties] 

The console producer and consumer work with this configuration

The certificates, keystores and truststores are created using keytool and openssl following instructions from [this link|http://docs.confluent.io/2.0.0/kafka/ssl.html]

The broker and client each have a certificate.  Both certificates are signed by the same CA.
;;;","08/Dec/16 5:34 AM;tuand;For mutual TLS,  the orderer will need to have the CA cert of Kafka. This will be used to populate sarama's tls.Config.RootCAs  field

Probably will need to pass it via orderer config.

And vice versa, Kafka will need to know the orderer's CA certificate(s).;;;","08/Dec/16 7:20 AM;tuand;From asking on the Kafka users mailing list, it doesn't look like Kafka will dynamically pick up SSL changes ( I will add the mailing list thread once the archives catch up )

A new orderer will either have to be part of an existing CA or a Kafka admin will have to devise a strategy to serially bounce all the brokers

Removing an orderer will have to be done via a CLI authorizer call as described [here|https://kafka.apache.org/documentation#security_authz];;;","08/Dec/16 7:38 AM;kchristidis;I saw the email on the mailing list and its response.

I'll note that we want to be able to add a new ordering org, so the script will have to serially bounce all the brokers, if that's the only option available.

Likewise for removing orderers, I assume it will be on a per-org basis.

We'll also need BDD tests for this.;;;","08/Dec/16 8:09 AM;tuand;if we only add/remove orderers on an org basis then the process is much simpler. 
In all cases then,  we update the kafka truststore then serially bounce the brokers . 

There will necessarily be a minutes?hours? time lag from deciding to add/remove till kafka is ready since this is out-of-band work. We'll have to document in detail;;;","13/Dec/16 3:49 AM;tuand;An issue that came up on #fabric-crypto was who should create the cert used by the orderer when setting up mutual auth TLS between orderer and Kafka brokers.

We agreed that you should not the eCert or have COP create another certificate for TLS use. Mainly because COP's use case is for fabric identity/signing/verification use.   Any enterprise will already have processes in place for creation and use of certificates in SSL/TLS .

We then agreed that creation of the TLS certs used by orderers and brokers is the responsibility of the respective administrators outside of fabric. The administrators are also responsible for passing the location of the certs and configuring orderers and brokers to use these certs. 
;;;","13/Dec/16 3:51 AM;tuand;(continued ... )
For brokers, this entails adding the right certs and keys to the brokers'  keystore and truststore.
For orderers, this entails passing the locations of the CA cert, TLS cert and private key to the orderer. Orderer reads this data and maps to the sarama config struct and sarama will take care of the actual TLS connection.;;;",,,,,,,,,,,,,,,,
Dynamic set of peers.,FAB-702,13004,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,C0rWin,C0rWin,C0rWin,13/Oct/16 11:34 PM,21/Jul/18 3:57 AM,28/Oct/23 2:57 AM,02/Nov/16 10:07 PM,,,,,fabric-gossip,,,0,gossip,,,,,"Dissemination layer has to provide an ability of dynamic addition for new peer members, it has to be able to recover from network partition and congestion. Moreover it has to preserve node state integrity.

New coming or lagging peers will use the capabilities of this module to synchronize their state from the neighbor peers. ",,C0rWin,troyronda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,57600,57600,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-290,,,,,,,,,"1|hzx8n3:",,,,Unset,,Sprint 3,Sprint 4 - Gossip,,,,,,,,,,,,,,8.0,Unset,,,,,,,,,,,C0rWin,troyronda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Create signature validation DSL for use by filtering framework and later more broad use,FAB-704,13008,12799,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,14/Oct/16 12:51 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,02/Nov/16 9:38 PM,,,,,fabric-orderer,,,0,Consensus,,,,,"At a high level, the initial configuration defines things like ""Only allow clients who have a certificate which is signed by one of these 6 parties"", but there is no obvious way to express this in a datastructure.  Especially as more complicated signature schemes must be specified such as ""It must be signed by the network owner, and, it must also have 4 of the 7 stake holders sign off as well"" the need for a domain specific language arises to express these concepts.

This should be defined in protobuf, as it is how we store and marshal things on the blockchain today.",,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,43200,0,,0%,43200,0,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-817,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxd0v:",,,,,,Sprint 3,,,,,,,,,,,,,,,2.0,,,,,,,,,,,,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Create a policy manager,FAB-705,13009,12799,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,14/Oct/16 1:03 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,02/Nov/16 9:38 PM,,,,,fabric-orderer,,,0,Consensus,,,,,"With the ability to specify policy in FAB-704 it is necessary for the orderer to track what policies are currently in effect and be able to evaluate whether a policy is satisfied by a given transaction.

Therefore, a framework for updating and evaluating policies is necessary.",,jyellick,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,";18/Oct/16 11:47 PM;jyellick;14400",,43200,0,14400,33%,43200,0,14400,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-817,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxd13:",,,,,,Sprint 3,,,,,,,,,,,,,,,2.0,,,,,,,,,,,,jyellick,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"22/Oct/16 10:08 AM;kchristidis;https://gerrit.hyperledger.org/r/#/c/1797/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Create orderer common components dir,FAB-706,13010,12799,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,14/Oct/16 2:12 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,02/Nov/16 9:38 PM,,,,,fabric-orderer,,,0,Consensus,,,,,The complexity with introducing pluggable pieces for filtering and validation into ordering is making the 'throw everything into the orderer directory' policy not make sense.  The directory structure should be re-arranged.,,jyellick,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,3600,0,,0%,3600,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxd1b:",,,,,,Sprint 3,,,,,,,,,,,,,,,1.0,,,,,,,,,,,,jyellick,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"22/Oct/16 9:27 AM;kchristidis;https://gerrit.hyperledger.org/r/#/c/1719/3;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"disconnected Peer can't recover from lost connection, then start sending view change requests",FAB-707,13011,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,,frankylu,frankylu,14/Oct/16 2:30 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,08/Apr/17 5:06 AM,v0.6,,WON'T FIX,,fabric-orderer,,,1,0.6,,,,,"v0.6 code base

way to reproduce:

set K=10

Deploy chaincode
Stop vp3
Send vp0 any number of transactions (I have tried 3 and 50+, the latter will move it past peer's high watermark)
Start vp3
(at this point, if you query, vp3 will not return updated world state)
Stop vp3
Send vp0 a few more transactions 
Start vp3
query/invoke world state a few times
(at some point the vp3 peer will notice it is behind, and then it will stop broadcasting transactions until the network progresses to H, but before that it will start thinking the primary is bad and start sending view change requests to other peers. However this view change request will never stop, since other peers will think the view is ok and will not also send view change requests)

The biggest problem is once a node experience network failures and missed a tx or 2, then it will enter un-ending loop of view change requests even after restarting the node (in most cases, since this status is persisted, but there are cases the status don't get persisted so restart would work --- likely another bug).


*VP3 Log:*

2016-10-13T06:40:13.355382628Z 14:40:13.354 [rest] ProcessChaincode -> INFO 02c REST processing chaincode request...
2016-10-13T06:40:13.356770119Z 14:40:13.356 [rest] processChaincodeInvokeOrQuery -> INFO 02d REST query chaincode...
2016-10-13T06:40:13.358234467Z 14:40:13.357 [rest] processChaincodeInvokeOrQuery -> INFO 02e Local user 'WebAppAdmin' is already logged in. Retrieving login token.
2016-10-13T06:40:13.359274523Z 14:40:13.359 [devops] invokeOrQuery -> INFO 02f Transaction ID: a89051f6-ca8c-4209-893c-dfc7feea132d
2016-10-13T06:40:13.359763704Z 14:40:13.359 [crypto] InitClient -> INFO 030 Initializing client [WebAppAdmin]...
2016-10-13T06:40:13.531133086Z 14:40:13.530 [crypto] InitClient -> INFO 031 Initializing client [WebAppAdmin]...done!
2016-10-13T06:40:19.039016928Z 14:40:19.038 [crypto] closeClientInternal -> INFO 032 Closing client [WebAppAdmin]...
2016-10-13T06:40:19.101091198Z 14:40:19.100 [rest] processChaincodeInvokeOrQuery -> INFO 033 Successfully queried chaincode: 10000000
2016-10-13T06:40:19.102617413Z 14:40:19.101 [rest] ProcessChaincode -> INFO 034 REST successfully query chaincode: {""jsonrpc"":""2.0"",""result"":{""status"":""OK"",""message"":""10000000""},""id"":5}
2016-10-13T06:40:38.283587179Z 14:40:38.279 [rest] ProcessChaincode -> INFO 035 REST processing chaincode request...
2016-10-13T06:40:38.283647199Z 14:40:38.279 [rest] processChaincodeInvokeOrQuery -> INFO 036 REST invoke chaincode...
2016-10-13T06:40:38.283660184Z 14:40:38.279 [rest] processChaincodeInvokeOrQuery -> INFO 037 Local user 'WebAppAdmin' is already logged in. Retrieving login token.
2016-10-13T06:40:38.283669160Z 14:40:38.280 [devops] invokeOrQuery -> INFO 038 Transaction ID: 3deb8664-2ea1-4e07-895c-b838f61c9daf
2016-10-13T06:40:38.283676533Z 14:40:38.280 [crypto] InitClient -> INFO 039 Initializing client [WebAppAdmin]...
2016-10-13T06:40:38.449260250Z 14:40:38.449 [crypto] InitClient -> INFO 03a Initializing client [WebAppAdmin]...done!
2016-10-13T06:40:38.450076225Z 14:40:38.449 [crypto] closeClientInternal -> INFO 03b Closing client [WebAppAdmin]...
2016-10-13T06:40:38.514754101Z 14:40:38.514 [rest] processChaincodeInvokeOrQuery -> INFO 03c Successfully submitted invoke transaction with txid (3deb8664-2ea1-4e07-895c-b838f61c9daf)
2016-10-13T06:40:38.515365413Z 14:40:38.514 [rest] ProcessChaincode -> INFO 03d REST successfully submitted invoke transaction: {""jsonrpc"":""2.0"",""result"":{""status"":""OK"",""message"":""3deb8664-2ea1-4e07-895c-b838f61c9daf""},""id"":1}
2016-10-13T06:40:48.461565468Z 14:40:48.460 [consensus/pbft] ProcessEvent -> INFO 03e Replica 3 view change timer expired, sending view change: Batch outstanding requests
2016-10-13T06:40:48.463446964Z 14:40:48.463 [consensus/pbft] sendViewChange -> INFO 03f Replica 3 sending view-change, v:1, h:0, |C|:1, |P|:2, |Q|:2
2016-10-13T06:40:48.465177019Z 14:40:48.464 [consensus/pbft] recvViewChange -> INFO 040 Replica 3 received view-change from replica 3, v:1, h:0, |C|:1, |P|:2, |Q|:2
2016-10-13T06:40:50.465953533Z 14:40:50.465 [consensus/pbft] sendViewChange -> INFO 041 Replica 3 sending view-change, v:1, h:0, |C|:1, |P|:2, |Q|:2
2016-10-13T06:40:50.467386532Z 14:40:50.466 [consensus/pbft] recvViewChange -> INFO 042 Replica 3 received view-change from replica 3, v:1, h:0, |C|:1, |P|:2, |Q|:2
2016-10-13T06:40:50.468601501Z 14:40:50.468 [consensus/pbft] recvViewChange -> WARN 043 Replica 3 already has a view change message for view 1 from replica 3
2016-10-13T06:40:52.469097537Z 14:40:52.468 [consensus/pbft] sendViewChange -> INFO 044 Replica 3 sending view-change, v:1, h:0, |C|:1, |P|:2, |Q|:2
2016-10-13T06:40:52.472291299Z 14:40:52.471 [consensus/pbft] recvViewChange -> INFO 045 Replica 3 received view-change from replica 3, v:1, h:0, |C|:1, |P|:2, |Q|:2
2016-10-13T06:40:52.475499721Z 14:40:52.475 [consensus/pbft] recvViewChange -> WARN 046 Replica 3 already has a view change message for view 1 from replica 3
2016-10-13T06:40:54.473388350Z 14:40:54.472 [consensus/pbft] sendViewChange -> INFO 047 Replica 3 sending view-change, v:1, h:0, |C|:1, |P|:2, |Q|:2
2016-10-13T06:40:54.475203585Z 14:40:54.474 [consensus/pbft] recvViewChange -> INFO 048 Replica 3 received view-change from replica 3, v:1, h:0, |C|:1, |P|:2, |Q|:2
2016-10-13T06:40:54.477673544Z 14:40:54.477 [consensus/pbft] recvViewChange -> WARN 049 Replica 3 already has a view change message for view 1 from replica 3
2016-10-13T06:40:56.479023414Z 14:40:56.477 [consensus/pbft] sendViewChange -> INFO 04a Replica 3 sending view-change, v:1, h:0, |C|:1, |P|:2, |Q|:2
2016-10-13T06:40:56.479108449Z 14:40:56.477 [consensus/pbft] recvViewChange -> INFO 04b Replica 3 received view-change from replica 3, v:1, h:0, |C|:1, |P|:2, |Q|:2
2016-10-13T06:40:56.479122208Z 14:40:56.478 [consensus/pbft] recvViewChange -> WARN 04c Replica 3 already has a view change message for view 1 from replica 3
2016-10-13T06:40:58.479865467Z 14:40:58.479 [consensus/pbft] sendViewChange -> INFO 04d Replica 3 sending view-change, v:1, h:0, |C|:1, |P|:2, |Q|:2
2016-10-13T06:40:58.480836852Z 14:40:58.480 [consensus/pbft] recvViewChange -> INFO 04e Replica 3 received view-change from replica 3, v:1, h:0, |C|:1, |P|:2, |Q|:2
2016-10-13T06:40:58.482556746Z 14:40:58.482 [consensus/pbft] recvViewChange -> WARN 04f Replica 3 already has a view change message for view 1 from replica 3
2016-10-13T06:41:00.484739101Z 14:41:00.483 [consensus/pbft] sendViewChange -> INFO 050 Replica 3 sending view-change, v:1, h:0, |C|:1, |P|:2, |Q|:2
2016-10-13T06:41:00.486727018Z 14:41:00.486 [consensus/pbft] recvViewChange -> INFO 051 Replica 3 received view-change from replica 3, v:1, h:0, |C|:1, |P|:2, |Q|:2
2016-10-13T06:41:00.488710055Z 14:41:00.488 [consensus/pbft] recvViewChange -> WARN 052 Replica 3 already has a view change message for view 1 from replica 3
2016-10-13T06:41:02.488723335Z 14:41:02.488 [consensus/pbft] sendViewChange -> INFO 053 Replica 3 sending view-change, v:1, h:0, |C|:1, |P|:2, |Q|:2
2016-10-13T06:41:02.489028215Z 14:41:02.488 [consensus/pbft] recvViewChange -> INFO 054 Replica 3 received view-change from replica 3, v:1, h:0, |C|:1, |P|:2, |Q|:2
2016-10-13T06:41:02.490053942Z 14:41:02.489 [consensus/pbft] recvViewChange -> WARN 055 Replica 3 already has a view change message for view 1 from replica 3


*VP0 Log*


2016-10-13T06:21:51.229828941Z 14:21:51.226 [rest] ProcessChaincode -> INFO 0a2 REST processing chaincode request...
2016-10-13T06:21:51.229992941Z 14:21:51.226 [rest] processChaincodeInvokeOrQuery -> INFO 0a3 REST query chaincode...
2016-10-13T06:21:51.230271921Z 14:21:51.227 [rest] processChaincodeInvokeOrQuery -> INFO 0a4 Local user 'lukas' is already logged in. Retrieving login token.
2016-10-13T06:21:51.230306918Z 14:21:51.228 [devops] invokeOrQuery -> INFO 0a5 Transaction ID: 4063c51e-f7ba-474b-879f-5b8b244c54f4
2016-10-13T06:21:51.230332021Z 14:21:51.228 [crypto] InitClient -> INFO 0a6 Initializing client [lukas]...
2016-10-13T06:21:51.584828001Z 14:21:51.584 [crypto] InitClient -> INFO 0a7 Initializing client [lukas]...done!
2016-10-13T06:21:51.592824019Z 14:21:51.592 [crypto] closeClientInternal -> INFO 0a8 Closing client [lukas]...
2016-10-13T06:21:51.747391011Z 14:21:51.746 [rest] processChaincodeInvokeOrQuery -> INFO 0a9 Successfully queried chaincode: 9999995
2016-10-13T06:21:51.747541748Z 14:21:51.747 [rest] ProcessChaincode -> INFO 0aa REST successfully query chaincode: {""jsonrpc"":""2.0"",""result"":{""status"":""OK"",""message"":""9999995""},""id"":5}
2016-10-13T06:37:21.468108942Z 14:37:21.467 [peer] handleChat -> ERRO 0ab Error during Chat, stopping handler: stream error: code = 1 desc = ""context canceled""
2016-10-13T06:37:21.471550664Z 14:37:21.469 [peer] handleChat -> ERRO 0ac Error during Chat, stopping handler: stream error: code = 1 desc = ""context canceled""
2016-10-13T06:37:21.872733785Z 14:37:21.842 [peer] ensureConnected -> WARN 0ad Touch service indicates dropped connections, attempting to reconnect...
2016-10-13T06:37:22.845546290Z 2016/10/13 14:37:22 grpc: addrConn.resetTransport failed to create client transport: connection error: desc = ""transport: dial tcp 10.20.26.81:7051: getsockopt: connection refused""; Reconnecting to {""10.20.26.81:7051"" <nil>}
2016-10-13T06:37:24.462145845Z 2016/10/13 14:37:24 grpc: addrConn.resetTransport failed to create client transport: connection error: desc = ""transport: dial tcp 10.20.26.81:7051: getsockopt: connection refused""; Reconnecting to {""10.20.26.81:7051"" <nil>}
2016-10-13T06:37:24.847708157Z 14:37:24.844 [peer] chatWithPeer -> ERRO 0ae Error creating connection to peer address 10.20.26.81:7051: grpc: timed out when dialing
2016-10-13T06:37:24.847823427Z 2016/10/13 14:37:24 grpc: addrConn.resetTransport failed to create client transport: connection error: desc = ""transport: dial tcp 10.20.26.81:7051: getsockopt: connection refused""; Reconnecting to {""10.20.26.81:7051"" <nil>}
2016-10-13T06:37:27.842679082Z 14:37:27.841 [peer] ensureConnected -> WARN 0af Touch service indicates dropped connections, attempting to reconnect...
2016-10-13T06:37:28.843671599Z 2016/10/13 14:37:28 grpc: addrConn.resetTransport failed to create client transport: connection error: desc = ""transport: dial tcp 10.20.26.81:7051: getsockopt: connection refused""; Reconnecting to {""10.20.26.81:7051"" <nil>}
2016-10-13T06:37:30.225842377Z 2016/10/13 14:37:30 grpc: addrConn.resetTransport failed to create client transport: connection error: desc = ""transport: dial tcp 10.20.26.81:7051: getsockopt: connection refused""; Reconnecting to {""10.20.26.81:7051"" <nil>}
2016-10-13T06:37:30.843118277Z 2016/10/13 14:37:30 grpc: addrConn.resetTransport failed to create client transport: connection error: desc = ""transport: dial tcp 10.20.26.81:7051: getsockopt: connection refused""; Reconnecting to {""10.20.26.81:7051"" <nil>}
2016-10-13T06:37:30.843239157Z 14:37:30.842 [peer] chatWithPeer -> ERRO 0b0 Error creating connection to peer address 10.20.26.81:7051: grpc: timed out when dialing
2016-10-13T06:37:31.279993217Z 14:37:31.279 [rest] ProcessChaincode -> INFO 0b1 REST processing chaincode request...
2016-10-13T06:37:31.281168752Z 14:37:31.280 [rest] processChaincodeInvokeOrQuery -> INFO 0b2 REST invoke chaincode...
2016-10-13T06:37:31.282310162Z 14:37:31.281 [rest] processChaincodeInvokeOrQuery -> INFO 0b3 Local user 'lukas' is already logged in. Retrieving login token.
2016-10-13T06:37:31.282758145Z 14:37:31.282 [devops] invokeOrQuery -> INFO 0b4 Transaction ID: 70dbcb7e-3143-4e4b-aefc-634ced7cb29f
2016-10-13T06:37:31.283296499Z 14:37:31.282 [crypto] InitClient -> INFO 0b5 Initializing client [lukas]...
2016-10-13T06:37:31.660180347Z 14:37:31.659 [crypto] InitClient -> INFO 0b6 Initializing client [lukas]...done!
2016-10-13T06:37:31.661402134Z 14:37:31.661 [crypto] closeClientInternal -> INFO 0b7 Closing client [lukas]...
2016-10-13T06:37:31.662340520Z 14:37:31.662 [consensus/pbft] sendBatch -> INFO 0b8 Creating batch with 1 requests
2016-10-13T06:37:31.667011406Z 14:37:31.666 [consensus/pbft] executeOne -> INFO 0b9 Replica 0 executing/committing request batch for view=0/seqNo=7 and digest 6ta8XRrX4SxaIOdc2iZpt6zMeRCPLml5nGRdVbH+FBHGEkjV9/UMGoiO1gUSiwONBgmT4kVrtG2yTvtNLDZlvQ==
2016-10-13T06:37:31.684015940Z 14:37:31.683 [consensus/pbft] execDoneSync -> INFO 0ba Replica 0 finished execution 7, trying next
2016-10-13T06:37:31.818382756Z 14:37:31.817 [rest] processChaincodeInvokeOrQuery -> INFO 0bb Successfully submitted invoke transaction with txid (70dbcb7e-3143-4e4b-aefc-634ced7cb29f)
2016-10-13T06:37:31.819173365Z 14:37:31.818 [rest] ProcessChaincode -> INFO 0bc REST successfully submitted invoke transaction: {""jsonrpc"":""2.0"",""result"":{""status"":""OK"",""message"":""70dbcb7e-3143-4e4b-aefc-634ced7cb29f""},""id"":1}
2016-10-13T06:37:32.337394525Z 14:37:32.337 [rest] ProcessChaincode -> INFO 0bd REST processing chaincode request...
2016-10-13T06:37:32.337686237Z 14:37:32.337 [rest] processChaincodeInvokeOrQuery -> INFO 0be REST invoke chaincode...
2016-10-13T06:37:32.338081352Z 14:37:32.337 [rest] processChaincodeInvokeOrQuery -> INFO 0bf Local user 'lukas' is already logged in. Retrieving login token.
2016-10-13T06:37:32.338910705Z 14:37:32.338 [devops] invokeOrQuery -> INFO 0c0 Transaction ID: b9897c64-e1a9-429b-98c3-31387c3067ac
2016-10-13T06:37:32.338951454Z 14:37:32.338 [crypto] InitClient -> INFO 0c1 Initializing client [lukas]...
2016-10-13T06:37:32.602482645Z 14:37:32.602 [crypto] InitClient -> INFO 0c2 Initializing client [lukas]...done!
2016-10-13T06:37:32.603257787Z 14:37:32.602 [crypto] closeClientInternal -> INFO 0c3 Closing client [lukas]...
2016-10-13T06:37:32.604894548Z 14:37:32.603 [consensus/pbft] sendBatch -> INFO 0c4 Creating batch with 1 requests
2016-10-13T06:37:32.617868208Z 14:37:32.617 [consensus/pbft] executeOne -> INFO 0c5 Replica 0 executing/committing request batch for view=0/seqNo=8 and digest KlPFqVCzGcVhIVP4cIsNC33leUgtvd6d7lE0fimGg1Ppc6KUgfsJWZcKSSbz87COE7TmyNiawm7T8B5r1KomRg==
2016-10-13T06:37:32.624340340Z 14:37:32.624 [consensus/pbft] execDoneSync -> INFO 0c6 Replica 0 finished execution 8, trying next
2016-10-13T06:37:32.711900019Z 14:37:32.711 [rest] processChaincodeInvokeOrQuery -> INFO 0c7 Successfully submitted invoke transaction with txid (b9897c64-e1a9-429b-98c3-31387c3067ac)
2016-10-13T06:37:32.713054088Z 14:37:32.712 [rest] ProcessChaincode -> INFO 0c8 REST successfully submitted invoke transaction: {""jsonrpc"":""2.0"",""result"":{""status"":""OK"",""message"":""b9897c64-e1a9-429b-98c3-31387c3067ac""},""id"":1}
2016-10-13T06:37:33.230197104Z 14:37:33.229 [rest] ProcessChaincode -> INFO 0c9 REST processing chaincode request...
2016-10-13T06:37:33.231237410Z 14:37:33.230 [rest] processChaincodeInvokeOrQuery -> INFO 0ca REST invoke chaincode...
2016-10-13T06:37:33.232032614Z 14:37:33.231 [rest] processChaincodeInvokeOrQuery -> INFO 0cb Local user 'lukas' is already logged in. Retrieving login token.
2016-10-13T06:37:33.232570021Z 14:37:33.232 [devops] invokeOrQuery -> INFO 0cc Transaction ID: 4f010a3f-c78d-4e5c-b590-c60b601615a3
2016-10-13T06:37:33.233029088Z 14:37:33.232 [crypto] InitClient -> INFO 0cd Initializing client [lukas]...
2016-10-13T06:37:33.461031752Z 14:37:33.460 [crypto] InitClient -> INFO 0ce Initializing client [lukas]...done!
2016-10-13T06:37:33.461930764Z 14:37:33.461 [crypto] closeClientInternal -> INFO 0cf Closing client [lukas]...
2016-10-13T06:37:33.463469641Z 14:37:33.463 [consensus/pbft] sendBatch -> INFO 0d0 Creating batch with 1 requests
2016-10-13T06:37:33.467505766Z 14:37:33.467 [consensus/pbft] executeOne -> INFO 0d1 Replica 0 executing/committing request batch for view=0/seqNo=9 and digest nMZ7Ji6LoZOfbspMg++/xijd7+kza5J0mFMCj4aMva4VyAbtegnZ5iHE9de3F9QiIGAEqHchtPxrRYtAr8Wl8Q==
2016-10-13T06:37:33.474121935Z 14:37:33.473 [consensus/pbft] execDoneSync -> INFO 0d2 Replica 0 finished execution 9, trying next
2016-10-13T06:37:33.595336893Z 14:37:33.594 [rest] processChaincodeInvokeOrQuery -> INFO 0d3 Successfully submitted invoke transaction with txid (4f010a3f-c78d-4e5c-b590-c60b601615a3)
2016-10-13T06:37:33.596581346Z 14:37:33.595 [rest] ProcessChaincode -> INFO 0d4 REST successfully submitted invoke transaction: {""jsonrpc"":""2.0"",""result"":{""status"":""OK"",""message"":""4f010a3f-c78d-4e5c-b590-c60b601615a3""},""id"":1}
2016-10-13T06:37:33.842084449Z 14:37:33.841 [peer] ensureConnected -> WARN 0d5 Touch service indicates dropped connections, attempting to reconnect...
2016-10-13T06:37:34.124749386Z 14:37:34.121 [rest] ProcessChaincode -> INFO 0d6 REST processing chaincode request...
2016-10-13T06:37:34.124834070Z 14:37:34.122 [rest] processChaincodeInvokeOrQuery -> INFO 0d7 REST invoke chaincode...
2016-10-13T06:37:34.124851790Z 14:37:34.123 [rest] processChaincodeInvokeOrQuery -> INFO 0d8 Local user 'lukas' is already logged in. Retrieving login token.
2016-10-13T06:37:34.124863960Z 14:37:34.123 [devops] invokeOrQuery -> INFO 0d9 Transaction ID: 3aec3171-1458-4c49-bec4-74ee66a83c0b
2016-10-13T06:37:34.124874346Z 14:37:34.123 [crypto] InitClient -> INFO 0da Initializing client [lukas]...
2016-10-13T06:37:34.531384433Z 14:37:34.530 [crypto] InitClient -> INFO 0db Initializing client [lukas]...done!
2016-10-13T06:37:34.531695119Z 14:37:34.531 [crypto] closeClientInternal -> INFO 0dc Closing client [lukas]...
2016-10-13T06:37:34.535269117Z 14:37:34.535 [consensus/pbft] sendBatch -> INFO 0dd Creating batch with 1 requests
2016-10-13T06:37:34.552355562Z 14:37:34.552 [consensus/pbft] executeOne -> INFO 0de Replica 0 executing/committing request batch for view=0/seqNo=10 and digest qoI9m+K4bVdcjxidzvVZYEuuXeS/m3L/c+WwiZgiWFZ2+IiUoOnVmegVJ9bRnchhvnmyCyCktRnU8ZJL0sA9zw==
2016-10-13T06:37:34.563923547Z 14:37:34.563 [consensus/pbft] execDoneSync -> INFO 0df Replica 0 finished execution 10, trying next
2016-10-13T06:37:34.707032954Z 14:37:34.706 [rest] processChaincodeInvokeOrQuery -> INFO 0e0 Successfully submitted invoke transaction with txid (3aec3171-1458-4c49-bec4-74ee66a83c0b)
2016-10-13T06:37:34.707145460Z 14:37:34.706 [rest] ProcessChaincode -> INFO 0e1 REST successfully submitted invoke transaction: {""jsonrpc"":""2.0"",""result"":{""status"":""OK"",""message"":""3aec3171-1458-4c49-bec4-74ee66a83c0b""},""id"":1}
2016-10-13T06:37:34.844404641Z 2016/10/13 14:37:34 grpc: addrConn.resetTransport failed to create client transport: connection error: desc = ""transport: dial tcp 10.20.26.81:7051: getsockopt: connection refused""; Reconnecting to {""10.20.26.81:7051"" <nil>}
2016-10-13T06:37:35.115076792Z 14:37:35.113 [rest] ProcessChaincode -> INFO 0e2 REST processing chaincode request...
2016-10-13T06:37:35.115197084Z 14:37:35.114 [rest] processChaincodeInvokeOrQuery -> INFO 0e3 REST invoke chaincode...
2016-10-13T06:37:35.116530376Z 14:37:35.116 [rest] processChaincodeInvokeOrQuery -> INFO 0e4 Local user 'lukas' is already logged in. Retrieving login token.
2016-10-13T06:37:35.117497853Z 14:37:35.117 [devops] invokeOrQuery -> INFO 0e5 Transaction ID: bf037e08-34b4-47e9-97ad-27b33838da5a
2016-10-13T06:37:35.117737866Z 14:37:35.117 [crypto] InitClient -> INFO 0e6 Initializing client [lukas]...
2016-10-13T06:37:35.545628790Z 14:37:35.544 [crypto] InitClient -> INFO 0e7 Initializing client [lukas]...done!
2016-10-13T06:37:35.546807504Z 14:37:35.545 [crypto] closeClientInternal -> INFO 0e8 Closing client [lukas]...
2016-10-13T06:37:35.552462329Z 14:37:35.551 [consensus/pbft] sendBatch -> INFO 0e9 Creating batch with 1 requests
2016-10-13T06:37:35.559083458Z 14:37:35.558 [consensus/pbft] executeOne -> INFO 0ea Replica 0 executing/committing request batch for view=0/seqNo=11 and digest MJKi9GhsEZR8vntS2XiRWojo8J8du48anJFphvLOE93g6/Zy4S8+xpU+54yi6zVUlkZ0g4axV5rvu9Ql5mf2nQ==
2016-10-13T06:37:35.573009069Z 14:37:35.572 [consensus/pbft] execDoneSync -> INFO 0eb Replica 0 finished execution 11, trying next
2016-10-13T06:37:35.707578598Z 14:37:35.706 [rest] processChaincodeInvokeOrQuery -> INFO 0ec Successfully submitted invoke transaction with txid (bf037e08-34b4-47e9-97ad-27b33838da5a)
2016-10-13T06:37:35.707669568Z 14:37:35.706 [rest] ProcessChaincode -> INFO 0ed REST successfully submitted invoke transaction: {""jsonrpc"":""2.0"",""result"":{""status"":""OK"",""message"":""bf037e08-34b4-47e9-97ad-27b33838da5a""},""id"":1}
2016-10-13T06:37:36.206986228Z 14:37:36.206 [rest] ProcessChaincode -> INFO 0ee REST processing chaincode request...
2016-10-13T06:37:36.208553268Z 14:37:36.207 [rest] processChaincodeInvokeOrQuery -> INFO 0ef REST invoke chaincode...
2016-10-13T06:37:36.211221851Z 14:37:36.210 [rest] processChaincodeInvokeOrQuery -> INFO 0f0 Local user 'lukas' is already logged in. Retrieving login token.
2016-10-13T06:37:36.212795599Z 14:37:36.212 [devops] invokeOrQuery -> INFO 0f1 Transaction ID: 21784685-cd46-476c-bbf7-bcb4224958b0
2016-10-13T06:37:36.212958669Z 14:37:36.212 [crypto] InitClient -> INFO 0f2 Initializing client [lukas]...
2016-10-13T06:37:36.610699950Z 14:37:36.609 [crypto] InitClient -> INFO 0f3 Initializing client [lukas]...done!
2016-10-13T06:37:36.610798016Z 14:37:36.610 [crypto] closeClientInternal -> INFO 0f4 Closing client [lukas]...
2016-10-13T06:37:36.615280778Z 14:37:36.614 [consensus/pbft] sendBatch -> INFO 0f5 Creating batch with 1 requests
2016-10-13T06:37:36.622347777Z 14:37:36.621 [consensus/pbft] executeOne -> INFO 0f6 Replica 0 executing/committing request batch for view=0/seqNo=12 and digest 3grqqX046YtftLzvL+yGWW8raoZPY/T4WPOyqgBw4QfJdTPsL6YJ/XyGEtYAroGwBlMKTcmVbyOaWsLusHx/2Q==
2016-10-13T06:37:36.640666038Z 14:37:36.640 [consensus/pbft] execDoneSync -> INFO 0f7 Replica 0 finished execution 12, trying next
2016-10-13T06:37:36.749368157Z 2016/10/13 14:37:36 grpc: addrConn.resetTransport failed to create client transport: connection error: desc = ""transport: dial tcp 10.20.26.81:7051: getsockopt: connection refused""; Reconnecting to {""10.20.26.81:7051"" <nil>}
2016-10-13T06:37:36.797182869Z 14:37:36.796 [rest] processChaincodeInvokeOrQuery -> INFO 0f8 Successfully submitted invoke transaction with txid (21784685-cd46-476c-bbf7-bcb4224958b0)
2016-10-13T06:37:36.798528795Z 14:37:36.797 [rest] ProcessChaincode -> INFO 0f9 REST successfully submitted invoke transaction: {""jsonrpc"":""2.0"",""result"":{""status"":""OK"",""message"":""21784685-cd46-476c-bbf7-bcb4224958b0""},""id"":1}
2016-10-13T06:37:36.844327759Z 14:37:36.843 [peer] chatWithPeer -> ERRO 0fa Error creating connection to peer address 10.20.26.81:7051: grpc: timed out when dialing
2016-10-13T06:37:36.845258673Z 2016/10/13 14:37:36 grpc: addrConn.resetTransport failed to create client transport: connection error: desc = ""transport: dial tcp 10.20.26.81:7051: getsockopt: connection refused""; Reconnecting to {""10.20.26.81:7051"" <nil>}
2016-10-13T06:37:39.843999003Z 14:37:39.841 [peer] ensureConnected -> WARN 0fb Touch service indicates dropped connections, attempting to reconnect...
2016-10-13T06:37:40.844343667Z 2016/10/13 14:37:40 grpc: addrConn.resetTransport failed to create client transport: connection error: desc = ""transport: dial tcp 10.20.26.81:7051: getsockopt: connection refused""; Reconnecting to {""10.20.26.81:7051"" <nil>}
2016-10-13T06:37:42.507726779Z 2016/10/13 14:37:42 grpc: addrConn.resetTransport failed to create client transport: connection error: desc = ""transport: dial tcp 10.20.26.81:7051: getsockopt: connection refused""; Reconnecting to {""10.20.26.81:7051"" <nil>}
2016-10-13T06:37:42.843955917Z 2016/10/13 14:37:42 grpc: addrConn.resetTransport failed to create client transport: connection error: desc = ""transport: dial tcp 10.20.26.81:7051: getsockopt: connection refused""; Reconnecting to {""10.20.26.81:7051"" <nil>}
2016-10-13T06:37:42.844102530Z 14:37:42.843 [peer] chatWithPeer -> ERRO 0fc Error creating connection to peer address 10.20.26.81:7051: grpc: timed out when dialing
2016-10-13T06:37:45.842708885Z 14:37:45.841 [peer] ensureConnected -> WARN 0fd Touch service indicates dropped connections, attempting to reconnect...
2016-10-13T06:37:46.843545932Z 2016/10/13 14:37:46 grpc: addrConn.resetTransport failed to create client transport: connection error: desc = ""transport: dial tcp 10.20.26.81:7051: getsockopt: connection refused""; Reconnecting to {""10.20.26.81:7051"" <nil>}
2016-10-13T06:37:48.611421816Z 2016/10/13 14:37:48 grpc: addrConn.resetTransport failed to create client transport: connection error: desc = ""transport: dial tcp 10.20.26.81:7051: getsockopt: connection refused""; Reconnecting to {""10.20.26.81:7051"" <nil>}
2016-10-13T06:37:49.058964378Z 14:37:49.058 [peer] chatWithPeer -> ERRO 0fe Error creating connection to peer address 10.20.26.81:7051: grpc: timed out when dialing
2016-10-13T06:37:51.818871357Z 14:37:51.818 [consensus/util] RegisterChannel -> WARN 0ff Received duplicate connection from <nil>, switching to new connection
2016-10-13T06:37:51.828713114Z 14:37:51.828 [consensus/util] RegisterChannel -> WARN 100 Received duplicate connection from <nil>, switching to new connection
2016-10-13T06:37:51.842903489Z 14:37:51.842 [peer] ensureConnected -> WARN 101 Touch service indicates dropped connections, attempting to reconnect...
2016-10-13T06:37:51.850482549Z 14:37:51.850 [consensus/util] RegisterChannel -> WARN 102 Received duplicate connection from <nil>, switching to new connection
2016-10-13T06:37:52.022731602Z 14:37:52.020 [peer] handleChat -> ERRO 103 Error handling message: Peer FSM failed while handling message (DISC_HELLO): current state: created, error: transition canceled with error: Error registering Handler: Duplicate Handler error: {nam4锟?锟斤拷?锟?@锟?锟斤拷锟?$xB4I}锟
2016-10-13T06:37:52.048799374Z 14:37:52.048 [peer] handleChat -> ERRO 104 Error handling message: Peer FSM failed while handling message (DISC_HELLO): current state: created, error: transition canceled with error: Error registering Handler: Duplicate Handler error: {nam4锟?锟斤拷?锟?@锟?锟斤拷锟?$xB4I}锟
2016-10-13T06:39:18.962489454Z 14:39:18.949 [rest] ProcessChaincode -> INFO 105 REST processing chaincode request...
2016-10-13T06:39:18.962552617Z 14:39:18.949 [rest] processChaincodeInvokeOrQuery -> INFO 106 REST query chaincode...
2016-10-13T06:39:18.962563091Z 14:39:18.950 [rest] processChaincodeInvokeOrQuery -> INFO 107 Local user 'lukas' is already logged in. Retrieving login token.
2016-10-13T06:39:18.962570168Z 14:39:18.950 [devops] invokeOrQuery -> INFO 108 Transaction ID: c55b0c8d-e50c-4027-b35a-e9d919bb30ff
2016-10-13T06:39:18.962575451Z 14:39:18.950 [crypto] InitClient -> INFO 109 Initializing client [lukas]...
2016-10-13T06:39:19.148554725Z 14:39:19.148 [crypto] InitClient -> INFO 10a Initializing client [lukas]...done!
2016-10-13T06:39:19.152000888Z 14:39:19.151 [crypto] closeClientInternal -> INFO 10b Closing client [lukas]...
2016-10-13T06:39:19.240486787Z 14:39:19.240 [rest] processChaincodeInvokeOrQuery -> INFO 10c Successfully queried chaincode: 9999989
2016-10-13T06:39:19.240573389Z 14:39:19.240 [rest] ProcessChaincode -> INFO 10d REST successfully query chaincode: {""jsonrpc"":""2.0"",""result"":{""status"":""OK"",""message"":""9999989""},""id"":5}
2016-10-13T06:40:38.453276094Z 14:40:38.452 [consensus/pbft] sendBatch -> INFO 10e Creating batch with 1 requests
2016-10-13T06:40:38.455563360Z 14:40:38.455 [consensus/pbft] executeOne -> INFO 10f Replica 0 executing/committing request batch for view=0/seqNo=13 and digest N4vgPTO505CtdDiAO3mzjn9C6jomua50FiEXGycpRyh1JUgsMgngRwPml/PLtYnO9ZI66IWcyyPPsssMJ4VLmA==
2016-10-13T06:40:38.460485970Z 14:40:38.460 [consensus/pbft] execDoneSync -> INFO 110 Replica 0 finished execution 13, trying next
2016-10-13T06:40:48.465499225Z 14:40:48.464 [consensus/pbft] recvViewChange -> INFO 111 Replica 0 received view-change from replica 3, v:1, h:0, |C|:1, |P|:2, |Q|:2
2016-10-13T06:40:50.467753022Z 14:40:50.467 [consensus/pbft] recvViewChange -> INFO 112 Replica 0 received view-change from replica 3, v:1, h:0, |C|:1, |P|:2, |Q|:2
2016-10-13T06:40:50.467988605Z 14:40:50.467 [consensus/pbft] recvViewChange -> WARN 113 Replica 0 already has a view change message for view 1 from replica 3
2016-10-13T06:40:52.494670936Z 14:40:52.494 [consensus/pbft] recvViewChange -> INFO 114 Replica 0 received view-change from replica 3, v:1, h:0, |C|:1, |P|:2, |Q|:2
2016-10-13T06:40:52.495597126Z 14:40:52.494 [consensus/pbft] recvViewChange -> WARN 115 Replica 0 already has a view change message for view 1 from replica 3
2016-10-13T06:40:54.478574022Z 14:40:54.477 [consensus/pbft] recvViewChange -> INFO 116 Replica 0 received view-change from replica 3, v:1, h:0, |C|:1, |P|:2, |Q|:2
2016-10-13T06:40:54.478752042Z 14:40:54.478 [consensus/pbft] recvViewChange -> WARN 117 Replica 0 already has a view change message for view 1 from replica 3
2016-10-13T06:40:56.479320327Z 14:40:56.478 [consensus/pbft] recvViewChange -> INFO 118 Replica 0 received view-change from replica 3, v:1, h:0, |C|:1, |P|:2, |Q|:2
2016-10-13T06:40:56.479451685Z 14:40:56.479 [consensus/pbft] recvViewChange -> WARN 119 Replica 0 already has a view change message for view 1 from replica 3
2016-10-13T06:40:58.481718209Z 14:40:58.481 [consensus/pbft] recvViewChange -> INFO 11a Replica 0 received view-change from replica 3, v:1, h:0, |C|:1, |P|:2, |Q|:2
2016-10-13T06:40:58.481788220Z 14:40:58.481 [consensus/pbft] recvViewChange -> WARN 11b Replica 0 already has a view change message for view 1 from replica 3
2016-10-13T06:41:00.487043120Z 14:41:00.486 [consensus/pbft] recvViewChange -> INFO 11c Replica 0 received view-change from replica 3, v:1, h:0, |C|:1, |P|:2, |Q|:2
2016-10-13T06:41:00.487322230Z 14:41:00.487 [consensus/pbft] recvViewChange -> WARN 11d Replica 0 already has a view change message for view 1 from replica 3
2016-10-13T06:41:02.489947973Z 14:41:02.489 [consensus/pbft] recvViewChange -> INFO 11e Replica 0 received view-change from replica 3, v:1, h:0, |C|:1, |P|:2, |Q|:2
2016-10-13T06:41:02.490824393Z 14:41:02.490 [consensus/pbft] recvViewChange -> WARN 11f Replica 0 already has a view change message for view 1 from replica 3
2016-10-13T06:41:04.494719254Z 14:41:04.493 [consensus/pbft] recvViewChange -> INFO 120 Replica 0 received view-change from replica 3, v:1, h:0, |C|:1, |P|:2, |Q|:2
2016-10-13T06:41:04.495724962Z 14:41:04.495 [consensus/pbft] recvViewChange -> WARN 121 Replica 0 already has a view change message for view 1 from replica 3
","nodes are deployed on different machines 

but you can also simulate this behavior in BDD after setting K to 10",binhn,frankylu,jyellick,scottz,tuand,vukolic,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-840,FAB-841,FAB-1744,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxcd3:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,binhn,frankylu,jyellick,scottz,tuand,vukolic,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"14/Oct/16 2:41 AM;tuand;Hi [~scottz] take first crack at reproducing ?   Also [~bmos299];;;","14/Oct/16 2:52 AM;jyellick;This is a known issue/limitation.  For a thorough discussion, please see https://github.com/hyperledger-archives/fabric/issues/1120

Essentially, once a replica advances its view, it will ignore messages in views with a lower number.  In this case, vp3 has erroneously advanced its view to 1, but the rest of the network is in view=0, so, vp3 will ignore the messages from the rest of the network until the view advances.

The question is whether this is a bug or not.  By academic definitions, this is working as designed.  PBFT guarantees that f+1 correct replicas have the current state at any time, and to have a guarantee about a query result, it must be done as a strong read which goes through consensus (which requires 2f+1 replicas to participate).  In this case, f=1 of the replicas is out of sync, and this would be considered 'okay'.

Still, we anticipated that this might not be desirable for some clients, so there is a periodic view change which can be turned on, which causes the network to periodically advance the view.  When this happens, the network's view will catch up to the out of sync replica's view, and this replica will be able to participate again.  However, changing views does cause overhead, and so enabling this feature will slow network throughput.  Also note, because this is not default config, it is a less tested configuration.;;;","14/Oct/16 10:18 AM;scottz;Even though the network can continue without it, I would say that if ""vp3 has erroneously advanced its view"", then it sounds like a real bug to me. Other statements from design have indicated that an ""extra"" peer will eventually catch up after a deterministic number of batches. If this peer vp3 does not do that, and/or continues causing confusion with its viewchanges, and has essentially become a non-participating member, then it sounds like it should be fixed. 

What happens if other peers do the same thing? Even if all is fine should the peer Nevertheless the network is not operating optimally, so we are not providing the best service possible, which is being paid for.

The decision of when (i.e. whether or not to fix in v0.6 urgently) is a different decision.;;;","20/Oct/16 11:08 PM;frankylu;maybe the paper just didn't have enough space to cover this level of detail :) The problem comes when the request wait time is not long enough for rest of the network to push seqNo exceed the watermark by at least one checkpoint. the quick solution out of people's mind would be to increase the request timeout so that a reconnected replica will wait long enough for the network to move beyond its high watermark. However, in real life there will be many systems running 24/7 so the TPS will vary greatly depending on the time of the day/week, so you may need to set the request timeout very long just to prevent they system from failing when the TPS is very low, but this will of course trigger other problems if a replica got disconnected when the TPS is high during some peak hour of a normal working day.

just wondering,  I don’t remember the paper covered this, but intuitively speaking, if the view change is triggered by a replica’s own problem, shouldn’t the recovered replica return back to the original view when no one else on the network would agree with its view change request? thoughts? [~jyellick] [~marko.vukolic] [~cca88]

from business stand point, if the purpose of blockchain is for independent organizations to co-own a data service, then I am not sure if any “client” can accept the fact that their out of sync peer will be out of the network forever (unless you wipe out all the data and restart the network).

making view change a timed mandatory event would sort of work though, albeit not a very efficient option and is difficult to pick the right interval (same 24/7 problem).

;;;","21/Oct/16 1:19 AM;jyellick;> Other statements from design have indicated that an ""extra"" peer will eventually catch up after a deterministic number of batches.

This is a true statement, but is perhaps misinterpreted.  The peer's _state_ will catch up after a deterministic number of batches, but this is not the same as saying that it will become an active participant in the PBFT network after a deterministic number of batches.  In fact, in this case the state will catch up, then it will fall behind, and catch up, and fall behind and so on until the network changes view.  Though this might sound somewhat pointless, the idea is that the peer's state will be 'nearly current' when the view advances so that it can quickly step in and participate.

> The decision of when (i.e. whether or not to fix in v0.6 urgently) is a different decision.

The reason that a 'fix' was not included in 0.5 was because it is an extremely non-trivial thing to fix.  As pointed out in the github issue linked, this would likely require introducing a new message type and logic around that message, which is not a minor undertaking.

> The problem comes when the request wait time is not long enough for rest of the network to push seqNo exceed the watermark by at least one checkpoint. 

The replica has actually missed a transaction, and missing a transaction is valid grounds to issue a view change request.  By setting the request timer to a very high value, the replica can retrieve the missing transaction via state transfer, but this is a bit of an odd end-around, and I agree, it's not a good solution because it will make recovery times very slow when real faults do happen.

> just wondering, I don’t remember the paper covered this, but intuitively speaking, if the view change is triggered by a replica’s own problem, shouldn’t the recovered replica return back to the original view when no one else on the network would agree with its view change request?

I think it's hard to define ""the replica's own problem"", because the replica does not know whether the primary is being byzantine and not sending the message, or whether it somehow just 'missed' the message.  The proposal outlined by [~marko.vukolic] in the Github issue is to issue 'Suspect' messages, which do not actually advance the view, but instead wait for a sufficient number of suspicions before doing so.  I'm not sure what the implications of continuing to participate in the network after sending a view change would be, but I suspect there are some corner cases this addresses as otherwise this would be the obvious behavior.

> from business stand point, if the purpose of blockchain is for independent organizations to co-own a data service, then I am not sure if any “client” can accept the fact that their out of sync peer will be out of the network forever (unless you wipe out all the data and restart the network).

The peer would rejoin the network if another failure ever occurred (causing a view change), but I agree, this is not optimal.  

> making view change a timed mandatory event would sort of work though, albeit not a very efficient option and is difficult to pick the right interval (same 24/7 problem).

A timer could be started on startup or new-view, which triggers a view change after some period of time.  This would be a pretty trivial code change.;;;","22/Oct/16 12:57 PM;kchristidis;This is inline with what we discussed with Frank on the #fabric-consensus-dev channel a few weekends back as well.

I will give this a few days and then close it unless there are any objections.;;;","23/Oct/16 1:21 PM;frankylu;>  The proposal outlined by Marko Vukolic in the Github issue is to issue 'Suspect' messages, which do not actually advance the view, but instead wait for a sufficient number of suspicions before doing so. I'm not sure what the implications of continuing to participate in the network after sending a view change would be, but I suspect there are some corner cases this addresses as otherwise this would be the obvious behavior.

I think 'suspect' message would be necessary to follow up protocols (eg. sbft) if we don't have another way to solve it. 

Switching view after a fixed number of checkpoints is still problematic because it will mean view changes will happen more frequently during peak tx hours. basically, you will slow the system down whenever you need the most throughput performance.

> A timer could be started on startup or new-view, which triggers a view change after some period of time. This would be a pretty trivial code change.

This would be a better option than triggering view change after a fixed number of checkpoints, though probably not that trivial consider timer on most nodes needs to be in sync.


 ;;;","24/Oct/16 2:16 AM;scottz;I read many of those other issues, and have a better understanding. Correct me if I am wrong; you are saying it is OK for VP3 behave as it is behaving. As a result of restarting, VP3 has advanced its view and is ahead of the rest of the network. It would become an active participant in the network again at some unknown future time when the network advances its view.
* This could happen, for example, if VP2 stops, leaving only VP0 and VP1 in sync - so those two would request viewchanges and advance the network view to the point where VP3 could work with them to process transactions.
* This could also happen if we use a non-default value for a config parm to force viewchanges after some time or number of transactions.)

Questions: 
# Why did VP3 advance its view? Was that necessary? Nobody seemed to talk about that, so I suppose it might be part of the PBFT protocol (which I admit I am not an expert).
# As a Network Operations Manager/Observer, how can I determine the health of the network? Can I tell how many peer nodes that can be counted on, at any given moment? That would be the sum of the number of valid nodes plus any such as VP3. Or it might the the sum of functional nodes minus the number of byzantines. Let me rephrase: a network management tool could ping all the peers in the network to see which are functioning. It could also query them all to see their chainheights or chaincode data values. It would observe VP3 is lagging. Is it considered byzantine? Or, could the tool determine whether VP3 is ""giving an honest effort"" and is in such a state that it could help the network (eventually) if it becomes necessary due to other node faults? How could it distinguish between an OK node like this and a truly faulty/byzantine node?
;;;","25/Oct/16 12:48 AM;jyellick;> Why did VP3 advance its view? Was that necessary? Nobody seemed to talk about that, so I suppose it might be part of the PBFT protocol (which I admit I am not an expert).

Vp3 observed the primary 'skip' a sequence number.  This happened because the primary broadcasted the message while vp3 was down.  When a primary skips a sequence number, this prevents execution and halts the network until view change, vp3 is contributing its vote because it thinks the network needs a view change to advance.

> As a Network Operations Manager/Observer, how can I determine the health of the network? Can I tell how many peer nodes that can be counted on, at any given moment? That would be the sum of the number of valid nodes plus any such as VP3. Or it might the the sum of functional nodes minus the number of byzantines. Let me rephrase: a network management tool could ping all the peers in the network to see which are functioning. It could also query them all to see their chainheights or chaincode data values. It would observe VP3 is lagging. Is it considered byzantine? Or, could the tool determine whether VP3 is ""giving an honest effort"" and is in such a state that it could help the network (eventually) if it becomes necessary due to other node faults? How could it distinguish between an OK node like this and a truly faulty/byzantine node?

Under true byzantine conditions, you can always be assured the there are f+1 correct peers actively participating in the network.  You may be able to identify replicas which are not actively participating by examining their chain heights, but this is not foolproof.  It's essentially impossible to determine byzantine from best effort, the best you could hope for is for the replica to report that it knows it is out of sync.  For future work, I think it would be a good idea to include a gRPC call to get replica state (whether its view is active, what view, what seqno, etc.), but in v0.5/0.6 there is nothing of this sort.;;;","25/Oct/16 2:12 AM;binhn;> Vp3 observed the primary 'skip' a sequence number. This happened because the primary broadcasted the message while vp3 was down. When a primary skips a sequence number, this prevents execution and halts the network until view change, vp3 is contributing its vote because it thinks the network needs a view change to advance.

For next rev of the algo, perhaps we should consider that if a peer has not (re)joined consensus and has not received a view change request from other peers, then it should wait rather than keep sending useless view change requests. This certainly doesn't offer the ability for a peer to rejoin consensus. ;;;","25/Oct/16 3:00 AM;scottz;OK, I will not object to closing this issue as ""design intent"". 

I will create two other issues, as suggested by Jason (an interface to provide status info) and Binh (optimization to reduce/eliminate the noisy useless viewchange requests in this situation which are occurring every 2 seconds).;;;","08/Nov/16 2:47 PM;frankylu;Yes, if we think this problem as a pure academic topic when the protocol was designed then this issue is a ""design intent"", but if we think this implementation as something to be used by industries then it would become a ""design gap""

I vote to keep this open until we get a confirmation that some mechanism (such as the proposed SUSPECT message ) is added to the either this protocol or SBFT. [~marko.vukolic] [~kchristidis];;;","12/Nov/16 3:28 AM;scottz;This has been confirmed with testing. I am putting this back on the team's list of unassigned issues, and it can be fixed if it becomes critical in future.;;;","12/Dec/16 11:36 PM;vukolic;I am aware of this issue and minding it for v1 (simple(p)bft implementation). The SUSPECTS would be a heavyweight and invasive change. I am more inclined to have a solution in which such a replica, while perhaps remaining ""stuck"" alone in a view change, obtains periodically updates from other replicas via a separate very lightweight ""state-transfer-like"" mechanism.;;;",,,,,,,,,,,,,,,,,,,,
Investigate certificate pinning for gRPC TLS,FAB-708,13012,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sanchezl,sanchezl,sanchezl,14/Oct/16 2:37 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,07/Dec/16 10:31 PM,,,,,fabric-orderer,,,0,consensus,,,,,"In fabric 1.0 orderer nodes will identified via self-signed certificates. These certificates will not be verifiable via a known root certificate chain. The individual certificates will be made available to the various fabric / orderer network nodes via transactions (in blocks) on a block chain.
If these same certificates can be used to initiate the TLS connection between the various nodes that might prove to be enough to 'identify' the nodes.",,donovanhide,kchristidis,sanchezl,smithbk,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,";20/Oct/16 11:00 PM;sanchezl;115200",,144000,28800,115200,80%,144000,28800,115200,,,,,,,,,,,,,,,,,,,,,FAB-674,FAB-359,,,,FAB-701,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx96v:",,,,,,Sprint 3,,,,,,,,,,,,,,,4.0,,,,,,,,,,,,donovanhide,kchristidis,sanchezl,smithbk,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"20/Oct/16 3:02 AM;sanchezl;h2. Generating keys using openssl

Generate a key. This prompts for a password.
{noformat}
openssl genrsa -aes256 -out server_encrypted.key 2048
{noformat}

To generate with a password, use the {{-passout}} parameter. The {{-passout}} paramenter can get the password from the command line ({{pass:}}), an env var ({{env:}}) or a file ({{file:}}) (or {{fd:}} or {{stdin}}).

{noformat}
openssl genrsa -aes256 -out server_encrypted.key -passout pass:secret 2048
{noformat}

Key is saved in [PEM|https://en.wikipedia.org/wiki/Privacy-enhanced_Electronic_Mail] format.

To display key:

{noformat}
openssl rsa -text -in server_encrypted.key -passin pass:secret
{noformat}

To remove the password:

{noformat}
openssl rsa -in server_encrypted.key -out server.key -passin pass:secret
{noformat}

To get just the public key:

{noformat}
openssl rsa -in server.pass.key -out server_pub.key -passin pass:secret -pubout
{noformat}
;;;","20/Oct/16 3:04 AM;sanchezl;h2. Self Signing Certificates
h3. Create a self signed certificate from a key
{noformat}
openssl req -new -x509 -days 365 -key server.key -out server.crt -subj ""/CN=sanchezl@us.ibm.com""
{noformat}
h3. Create a self signed certificate and key pair in one command
{noformat}
openssl req -x509 -newkey rsa:2048 -keyout server2.key -out server2_pub.key -days 365 -nodes -subj ""/CN=sanchezl@us.ibm.com""
{noformat}
The {{-nodes}} options turns off encrypting the private key with DES, so no password is required.
h3. Create a self signed certificate using Go
See {{src/crypto/tls/generate_cert.go}}.;;;","20/Oct/16 3:17 AM;sanchezl;h2. Go TLS Client Configuration

h3. Dial using host name, default config

{code}
config := &tls.Config{}
tls.Dial(""tcp"", ""localhost:9443"", config)
{code}

h5. Result:

{noformat}
x509: certificate is valid for sanchezl, not localhost
{noformat}

h3. Dial using host name, enabling {{Config.InsecureSkipVerify}}

{code}
config := &tls.Config{InsecureSkipVerify: true}
tls.Dial(""tcp"", ""localhost:9443"", config)
{code}

h5. Result:

The connection is successful.

h5. Analysis:

This seems to disable any host name verification and certificate chain verification.

h3. Dial using ip address, default config

{code}
config := &tls.Config{}
tls.Dial(""tcp"", ""127.0.0.1:9443"", config)
{code}

h5. Result:

{noformat}
x509: cannot validate certificate for 127.0.0.1 because it doesn't contain any IP SANs
{noformat}

h5. Analysis:

The {{tls.Dial}} call can differentiate between the target address being specified as a host name versus an ip address. When it detects an ip address then it expects the certificate to contain an attribute of the form:

{noformat}
subjectAltName = IP:XX.XX.XX.XX
{noformat}

h3. Dial using host name, setting {{Config.ServerName}}

{code}
config := &tls.Config{ServerName: ""sanchezl""}
tls.Dial(""tcp"", ""localhost:9443"", config)
{code}

h5. Result:

{noformat}
x509: certificate signed by unknown authority
{noformat}

h5. Analysis:

* The host name verification has succeeded due to having {{Config.ServerName}} set to the value of the {{CN}} component of the {{Subject}} in the certificate.
* The certificate chain could not be authenticated.

h3. Dial using host name, setting {{Config.ServerName}} and {{Config.RootCAs}}

{code}
// load server certificate chain to byte array
certificates := ioutil.ReadFile(""server.crt"")

// tls configuration
rootCAs := x509.NewCertPool()
rootCAs.AppendCertsFromPEM(certificates)
config := &tls.Config{
  ServerName: ""sanchezl"",
  RootCAs:    rootCAs,
}

// connect to server
conn := tls.Dial(""tcp"", ""localhost:9443"", config)
{code}

h5. Result:

The connection is successful.

h5. Analysis:

I was not able to force tls to ignore the host name AND validate the certificates at the same time.;;;","20/Oct/16 11:09 PM;yacovm;"" If these same certificates can be used to initiate the TLS connection between the various nodes that might prove to be enough to 'identify' the nodes."" - why is that true? how do you ensure the node's ID is the ID it claims it is? ;;;","21/Oct/16 11:48 PM;smithbk;Self-signed certs are generally a bad idea because if a private key is lost (e.g. via a server crash), then the cert needs to be updated.;;;","22/Oct/16 11:28 AM;kchristidis;[~yacovm]: This is far from my area of expertise, but won't TLS ask for for a signature that corresponds to the certificate that you claim you have during the handshake? _If_ that is the case, isn't this the way I know that I connected to orderer with self-signed certificate ""foo""? (This is this node's ID, by the way.);;;","22/Oct/16 11:35 AM;kchristidis;[~keithsmith]: Unless I'm mistaken, the plan is to have the genesis block include the orderer root CA certs. If that is the case, every orderer just needs to present a certificate chain where the end-user certificate links back one of the orderer root CA certs. Would that solve the problem?

If not, can you please list here the concrete steps we need to take to do things right?;;;","22/Oct/16 12:26 PM;kchristidis;Luis, thanks for the detailed write-up. So, what are your conclusions? (And what is still left for this task to be closed?);;;","22/Oct/16 3:58 PM;yacovm;[~kchristidis], The thing here is: the orderer doesn't care *who* connects to it, but peers do care. 
In the fabric code, when a peer connects to you it sends you first a hello message with its ID inside and you use that to associate the gRPC stream with the remote peer. 
What I am saying is that having SSL-layer authentication does not equal application-layer authentication unless you find a way to extract the client certificate in the application (specifically- in the gRPC server-side stream method). 
Without this- I can connect to you with my credentials but assert to your peer logic that I'm someone else. ;;;","23/Oct/16 1:38 AM;kchristidis;{quote}What I am saying is that having SSL-layer authentication does not equal application-layer authentication unless you find a way to extract the client certificate in the application (specifically in the gRPC server-side stream method). {quote}

Ah, I get you now. You are, of course, correct.;;;","23/Oct/16 8:53 PM;smithbk;So is the issue that go grpc doesn't provide a way to enable mutual TLS and to extract the client cert on the server?
I see the following for doing mutual TLS https://github.com/grpc/grpc-go/issues/403 but doesn't give you access to the client cert.   I see this discussed (at length) in https://github.com/grpc/grpc-go/issues/111.  It seems to indicate that we need to implement our own TransportAuthenticator but is not clear.;;;","23/Oct/16 8:59 PM;yacovm;I already took care of that this morning, in a different way:
https://gerrit.hyperledger.org/r/#/c/1915/;;;","24/Oct/16 4:45 AM;kchristidis;I'm looking at Yacov's implementation and the grpc-go thread (https://github.com/grpc/grpc-go/issues/934) - great idea.;;;",,,,,,,,,,,,,,,,,,,,,
"15:10:05.134 [eventhub_producer] Chat -> ERRO 017 Error during Chat, stopping handler: stream error: code = 1 desc = ""context canceled""",FAB-710,13014,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,,jjjjibm,jjjjibm,14/Oct/16 5:56 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,28/Nov/16 1:44 PM,,,,,fabric-peer,,,0,node-SDK,,,,,"This message appears on the peer console whenever I run Ratnakar's sample application, whether the application fails or succeeds:

+15:10:05.134 [eventhub_producer] Chat -> ERRO 017 Error during Chat, stopping handler: stream error: code = 1 desc = ""context canceled""
+
I attached logs from yesterday's run.  Peer logging level = DEBUG is set.
On the client side, I captured stdout and stderr. 

If you will look in the tracing, you'll see some interesting error messages:
*18:32:36.210 [ledger] CommitTxBatch -> DEBU 37e There were some erroneous transactions. We need to send a 'TX rejected' message here.
*
Here is a link to Ratnakar's sample: https://github.com/ratnakar-asara/NodeSdkSample/tree/master/events

I am running on a vlaunch VM.  Ratnakar runs in vagrant on a laptop, but he reports seeing the message too. 




",Vlaunch VM running Ubuntu 14 (Trusty).   There's no vagrant. ,jimthematrix,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"14/Oct/16 5:43 AM;jjjjibm;event-sample.out;https://jira.hyperledger.org/secure/attachment/10129/event-sample.out","14/Oct/16 5:43 AM;jjjjibm;event-sample.stderr.out;https://jira.hyperledger.org/secure/attachment/10128/event-sample.stderr.out","14/Oct/16 5:40 AM;jjjjibm;peer.on.vlaunch.log;https://jira.hyperledger.org/secure/attachment/10130/peer.on.vlaunch.log",,,,,,,,,,,,,,,,,,,,,,,"1|hzxd1r:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,jimthematrix,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"28/Nov/16 1:45 PM;jimthematrix;rejecting as it's only happening in v0.6;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Create Release Criteria Testing Document for .6,FAB-712,13016,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,bmos299,bmos299,bmos299,14/Oct/16 11:42 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,15/Nov/16 11:20 PM,,,,,fabric-quality,,,0,quality,,,,,,,bmos299,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-731,,,,,,,,,"1|hzx907:",,,,,,Sprint 3,Sprint 5 - Quality,,,,,,,,,,,,,,,,,,,,,,,,,,bmos299,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
smoke test suite,FAB-713,13017,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,bmos299,scottz,scottz,15/Oct/16 12:47 AM,21/Jul/18 3:54 AM,28/Oct/23 2:57 AM,28/Apr/17 4:23 AM,,,v0.6,WON'T FIX,fabric-quality,,,0,quality,,,,,"Create a short (1-2 hrs?) automation test suite to execute tests that are submitted to community hyperledger fabric.
This could serve as a preliminary smoke test, before kicking off longer test suites.
This will include a few tests for basic functionality and APIs in each test area.
(Another epic 516 will handle actually running and displaying results.)

When code is merged:
# Run First: Smoke Test Suite (15 minutes maximum)
*                 REST    API one-time tests, bring up network, deploy, invoke/query all 4 peers.  Also? Stop 2 peers to confirm network halts, restart 1 to confirm it resumes. Drive from Behave (Latitia)
*                 node    API one-time tests, bring up network, deploy, invoke/query all 4 peers. (nishi)
*                 Performance engine quick test: time for 1000 Tx (dongming)

# Run Second, if Smoke Test passes: make all Unit Tests:
*                 same as today, includes all current and new Behave tests (Latitia), plus
*                 all the Node UT being submitted this month (Allen, Janet)
",,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-596,FAB-716,FAB-717,FAB-718,,,,,,FAB-719,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-517,,,,,,,,,"1|hzx92n:",,,,Unset,,Sprint 5 - Quality,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"28/Apr/17 4:21 AM;scottz;Closing. No more effort on v0.6.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
daily test suite,FAB-714,13018,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,bmos299,scottz,scottz,15/Oct/16 12:52 AM,21/Jul/18 3:56 AM,28/Oct/23 2:57 AM,28/Apr/17 4:24 AM,,,v0.6,WON'T FIX,fabric-quality,,,0,quality,,,,,"Define a daily (6-8 hrs?) automation test suite.
This could be run daily with the latest successfully built images (which passed unit tests and behave, per existing guidelines for code submissions).
This will include a few tests for functionality and APIs in each test area.
(Another epic 516 will handle actually running and displaying results.)

Daily Test Suite: (up to 22 hrs; jenkins could use a few parallel machines)
*                 GO SDK - Consensus CAT*                 (uses REST) scott
*                 GO SDK - Ledger LST*                    (uses REST) scott
*                 GO SDK - Concurrency/Ledger             (uses REST) scott/nishi
*                 Node.js Concurrency with Auction        (uses Node) dongming
*                 Complex Transactions with Auction       (uses Node) nishi
*                 Performance engine Baseline tests       (uses Node) dongming ",,bmos299,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-596,FAB-716,FAB-717,FAB-718,,,,,,FAB-720,,,,,,,,,,,,,,,FAB-878,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-517,,,,,,,,,"1|hzx92f:",,,,Unset,,Sprint 5 - Quality,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,bmos299,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"27/Oct/16 12:46 AM;bmos299;Do we need tasks here that go into details on all the items included in the daily tests?  Part of the attraction here is that the maintainers can read exactly what the test is going and the benefit to running it.  We could create one task where everyone puts their section or make individual sections.  What do you all think?;;;","27/Oct/16 12:49 AM;bmos299;I just added task FAB-878 for this work. ;;;","05/Nov/16 3:22 AM;scottz;We updated the README file in regression/ folder. 
Another story was created to ensure all tests, and the daily.sh test scripts contain same comment headers too.
Several daily.sh scripts (one for each job executed by jenkins) will each list the exact tests and execute them.;;;","28/Apr/17 4:24 AM;scottz;Closing. No more effort on v0.6.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
test suite for long runs,FAB-715,13019,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,bmos299,scottz,scottz,15/Oct/16 12:54 AM,21/Jul/18 3:57 AM,28/Oct/23 2:57 AM,28/Apr/17 4:25 AM,,,v0.6,WON'T FIX,fabric-quality,,,0,quality,,,,,"Define a long-running (10-72 hrs?) automation test suite, for weekly or bi-weekly test runs during development and testing phases of hyperledger/fabric v1,0 (and v0.6), using the latest successfully built images (which passed unit tests and behave, per existing guidelines for code submissions).=
(Another epic 516 will handle actually running and displaying results.)

Long Run Test Suite: (10-72 hrs) - DIFFERENT tests from Daily Suite
*                 GO SDK - Consensus CRT*, LargeNetwks    (uses REST) scott
*                 GO SDK - Ledger Long LST*               (uses REST) scott/nishi
*                 Node.js Concurrency with Auction        (uses Node) nishi
*                 Complex Transactions with Auction       (uses Node) nishi
*                 Performance engine tests                (uses Node) dongming
**                  - verify can handle fixed-rate ""supported"" number of Tx per sec
**                  - repeat for various durations, 1 or 10 or 60 minutes
**                  - measure for variable traffic rates, and burstiness
**                  - find the max Tx per sec that can be handled in 1 or 10 or 60 minutes
**                  - sequential and concurrency
",,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-596,FAB-716,FAB-717,FAB-718,,,,,,FAB-721,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-517,,,,,,,,,"1|hzxd27:",,,,Unset,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"28/Apr/17 4:25 AM;scottz;Closing. No more effort on v0.6.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
add automated go sdk tests,FAB-716,13020,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,scottz,scottz,scottz,15/Oct/16 2:45 AM,21/Jul/18 3:56 AM,28/Oct/23 2:57 AM,28/Apr/17 12:57 AM,,,,,fabric-quality,,,0,quality,,,,,"Modify tests as needed for automation, and submit to correct repo/branch: master, v0.6

Specify which ones can be executed for each story (each of the automation test suites) and provide instructions how to run them:

* smoke
* daily
* longrun",,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-889,,,,,,,,,FAB-713,FAB-714,FAB-715,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-517,,,,,,,,,"1|hzxd2v:",,,,Unset,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"04/Nov/16 1:04 AM;scottz;Need to explore using ""GO TEST"", and produce XML output, for automation tools to work well. This would likely require modifying the structure of all GO OBCSDK app testcases, which are currently executed with ""GO RUN"" and produce logfiles in text format which must be examined for test results.;;;","28/Apr/17 12:57 AM;scottz;Since GO SDK is a tool that works only with v0.6, this is no longer needed.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
add automated node sdk tetsts,FAB-717,13021,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,Ratnakar,scottz,scottz,15/Oct/16 2:46 AM,21/Jul/18 3:55 AM,28/Oct/23 2:57 AM,28/Apr/17 3:18 AM,,,,,fabric-quality,,,0,quality,,,,,"Modify tests as needed for automation, and submit to correct repo/branch: master, v0.6

Specify which ones can be executed for each story (each of the automation test suites) and provide instructions how to run them:

* smoke
* daily
* longrun",,Ratnakar,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-713,FAB-714,FAB-715,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-517,,,,,,,,,"1|hzxd2n:",,,,Unset,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,Ratnakar,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"28/Apr/17 3:18 AM;Ratnakar;PTE (Performance Traffic Engine ) tool covers the functionality and objective of this task;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
add automated Behave tests,FAB-718,13022,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,latitiah,scottz,scottz,15/Oct/16 2:48 AM,21/Jul/18 3:55 AM,28/Oct/23 2:57 AM,26/Oct/16 4:13 AM,,,,,fabric-quality,,,0,quality,,,,,"Modify tests as needed for automation, and submit to correct repo/branch: master, v0.6
This is for tests that more comprehensive than those Behave tests and unit tests that are run with each code submission.

Specify which ones can be executed for each story (each of the automation test suites) and provide instructions how to run them:
* smoke
* daily
* longrun",,bmos299,latitiah,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-713,FAB-714,FAB-715,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-517,,,,,,,,,"1|hzx8mf:",,,,Unset,,Sprint 4 - Quality,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,bmos299,latitiah,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"26/Oct/16 4:16 AM;latitiah;Added @smoke tag to the scenarios that can be ideally used for a quick smoke test.

Execute by `behave --tags=smoke`

All behave tests can be executed for each commit.
;;;","27/Oct/16 12:42 AM;bmos299;So we decided Behave will be used for the smoke test and the merge testing but not the daily run or 72 hour run?;;;","27/Oct/16 4:00 AM;scottz;yes. folks will run the behave and unit tests themselves, and the ""smoke tests"" that would be run automatically as part of the merge process are simply a subset of those which are run first.
;;;","27/Oct/16 4:05 AM;latitiah;Yes, that's correct. There are a handful of tests that make sense for testing the very basic functionality before going into more extensive tests and would be great for a smoke test. Since the behave tests will be executed with every merge, there's no need to run them in a daily or 72 hour run.

At this point, the behave tests take about an hour to run through all of the feature files.
;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
automate smoke test suite,FAB-719,13023,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,scottz,scottz,15/Oct/16 3:18 AM,21/Jul/18 3:56 AM,28/Oct/23 2:57 AM,28/Apr/17 3:57 AM,,,,,fabric-quality,,,0,quality,,,,,"set up a version of this test suite on each machine type required; it will include a cross-section of all our automated test coverage areas",,rameshthoomu,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-713,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-516,,,,,,,,,"1|hzxcgf:",,,,Unset,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,rameshthoomu,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"20/Oct/16 6:24 AM;rameshthoomu;[~scottz]: Please specify what tests we have to run as part of smoke tests. ;;;","28/Dec/16 1:41 AM;rameshthoomu;Smoke test job is no more required to test v0.6 functionality. We continue executing daily test suite, long runs, performance and behave tests as part of CI process.;;;","28/Apr/17 3:59 AM;scottz;This should have been closed long ago. Smoke test suite is not needed. We have the CI unit-tests and other tests run with each submission. Besides, this is for v06, and there is no more development effort on v0.6.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
automate daily test suite,FAB-720,13024,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,scottz,scottz,15/Oct/16 3:19 AM,21/Jul/18 3:57 AM,28/Oct/23 2:57 AM,03/Nov/16 2:31 AM,,,,,fabric-quality,,,0,quality,,,,,"set up a version of this test suite on each machine type required; it will include a cross-section of all our automated test coverage areas",,rameshthoomu,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-714,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-516,,,,,,,,,"1|hzxd33:",,,,Unset,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,rameshthoomu,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"20/Oct/16 4:47 AM;rameshthoomu;[~scottz] Could you please provide what tests you are referring here..?;;;","26/Oct/16 6:28 AM;rameshthoomu;Integrated go-SDK, Node-SDK, Performance tests in Jenkins build and results are updating in rel-criteria slack channel. Working on integrating few more daily tests. ;;;","29/Oct/16 5:24 AM;rameshthoomu;Below are the release criteria tests integrated in Jenkins pipeline:

# go-SDK tests

*     Basic Chain Code Function
*     Resiliency/Consensus (CAT Tests)
*     LST (Ledger Stress Tests)
*     Complex Transactions using Node SDK on auction chaincode
*     Concurrency using REST API

# Performance/Stress (Invoke - Query on Auction and Example 02 chain codes with different pay load);;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
automate longrun test suite,FAB-721,13025,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,scottz,scottz,15/Oct/16 3:20 AM,21/Jul/18 3:56 AM,28/Oct/23 2:57 AM,28/Dec/16 1:17 AM,,,,,fabric-quality,,,0,quality,,,,,"set up a version of this test suite on each machine type required; it will include a cross-section of all our automated test coverage areas; one or more long runs may be run in parallel, for each test coverage area: 
- go sdk addrecs/concurrency 72 hr longrun
- performance tests via behave, or node, etc.
- other",,rameshthoomu,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-715,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-516,,,,,,,,,"1|hzxd3b:",,,,Unset,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,rameshthoomu,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"17/Oct/16 11:22 AM;rameshthoomu;Integrated nodesdk 72 hrs performance test in Jenkins. ;;;","28/Oct/16 10:53 PM;rameshthoomu;Integrated go sdk addrecs/concurrency 72 hr longrun test in vlaunch environment on Image: ""x86_64-0.6.1-preview"".. Integrating node-sdk Performance 72 hr long run is in-progress.;;;","29/Oct/16 5:31 AM;rameshthoomu;#  Below are the release criteria tests integrated in Jenkins pipeline

*Performance:*

     * Long Run using Node SDK (sending invokes of random payload sizes ranging from 1KB-2KB using auction chaincode to a node for 72 hours at 1 transaction per second)

*Node-SDK*

     *  Long Run using REST AP ( sending invokes, blockchain height and queries every 10 seconds for 72 hours to all four peer nodes with example02);;;","28/Dec/16 1:17 AM;rameshthoomu;Created CI jobs to run long run test suites in Vlaunch CI machines.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"first draft: automate a skeleton smoke test suite, executing only one or a few tests",FAB-722,13026,13023,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,scottz,scottz,15/Oct/16 3:55 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,03/May/17 12:07 PM,,,,,fabric-quality,,,0,quality,,,,,,,rameshthoomu,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxd3j:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,rameshthoomu,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"03/May/17 12:07 PM;rameshthoomu;No active development on 0.6 branch.. We are tracking v1.0.0 CI run approach on daily/weekly/release tests in another JIRA item. Closing this now.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Create chain config subsystem to manager configuration data,FAB-724,13028,12660,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,16/Oct/16 1:05 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,06/Nov/16 10:57 AM,,,,,,,,0,,,,,,There is a need to embed initial configuration in the genesis block of the chain.  This information must further be able to be conditionally modified in the future.  This task is to define the necessary proto messages and write a configuration subsystem to store and modify chain configuration.,,jyellick,kchristidis,tuand,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,28800,0,,0%,28800,0,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-816,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxd3z:",,,,,,Sprint 1,Sprint 2,Sprint 3,,,,,,,,,,,,,1.0,,,,,,,,,,,,jyellick,kchristidis,tuand,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"19/Oct/16 10:48 PM;tuand;added link to fab-359 as we're using this for bootstrapping design;;;","22/Oct/16 9:57 AM;kchristidis;https://gerrit.hyperledger.org/r/#/c/1799/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
TAG based releases from Jenkins for baseimage and application images,FAB-726,13030,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,rameshthoomu,rameshthoomu,17/Oct/16 11:29 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,20/Oct/16 2:29 AM,,,,,fabric-quality,,17/Oct/16 12:00 AM,0,build-system,quality,,,,TAG based releases from Jenkins for baseimage and application images:,,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,14400,14400,,0%,14400,14400,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxd4f:",,,,,,Sprint 3,,,,,,,,,,,,,,,,,,,,,,,,,,,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"17/Oct/16 11:32 AM;rameshthoomu;Added Jenkins jobs in sandbox environment to build baseimage and application images automatically on TAG based. 

Have to add same jobs in Hyperledger ci-pipeline. ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Disk Full when running a longrun test,FAB-727,13031,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,Nishi,Nishi,18/Oct/16 12:13 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,25/Oct/16 12:36 AM,,,,,,,,0,,,,,,"Scheduled a longrun test for 3days to find that test exited with following message:

""POST /chaincode returned code =-32002 message=Invocation failure data=Error when invoking chaincode: database or disk is full""

Checked for disk space inside docker container on a peer, and also space on vagrant, it was found that there was enough space on both container inside docker and vagrant systems.

Ran:
vagrant@hyperledger-devenv:v0.0.11-a80038d:/opt/gopath/src/github.com/hyperledger/fabric/vendor/release-criteria/svt/longruns$ docker exec -it PEER0 bash

Issued a Query from inside docker container:
root@37544e83a44a:/opt/gopath/src/github.com/hyperledger/fabric# peer chaincode query -n -u test_user0 e383d45384dce3722b9e38c07637f0f7a8ac743ce30bb959ff9f5b025ffd9297ab67dbc78e03a165b3059580bfde4e6fafc7856a6484f1f4c5d6c4ed34f2dcf4

Result from above command:
14:38:41.058 [chaincodeCmd] getChaincodeSpecification -> INFO 002 Local user 'test_user0' is already logged in. Retrieving login token.
14:38:41.058 [chaincodeCmd] getChaincodeSpecification -> INFO 003 Set confidentiality level to CONFIDENTIAL.
14:38:41.202 [chaincodeCmd] chaincodeInvokeOrQuery -> INFO 004 Successfully queried transaction: chaincodeSpec:<type:GOLANG chaincodeID:<name:""e383d45384dce3722b9e38c07637f0f7a8ac743ce30bb959ff9f5b025ffd9297ab67dbc78e03a165b3059580bfde4e6fafc7856a6484f1f4c5d6c4ed34f2dcf4"" > ctorMsg:<args:""query"" args:""counter"" > secureContext:""test_user0"" confidentialityLevel:CONFIDENTIAL > 
Query Result: 8000

Looks like program exited only after 8000 tx in long run, which does not seem right.

Issuing df -h from docker container:

root@37544e83a44a:/opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com# df -h
Filesystem      Size  Used Avail Use% Mounted on
none             39G   11G   27G  29% /
tmpfs           2.0G     0  2.0G   0% /dev
tmpfs           2.0G     0  2.0G   0% /sys/fs/cgroup
/dev/sda1        39G   11G   27G  29% /etc/hosts
shm              64M     0   64M   0% /dev/shm

Displayed that there was enough disk space inside docker container:

From outside docker container:

vagrant@hyperledger-devenv:v0.0.11-a80038d:/opt/gopath/src/github.com/hyperledger/fabric/vendor/release-criteria/svt/longruns$ df -h
Filesystem      Size  Used Avail Use% Mounted on
udev            2.0G  4.0K  2.0G   1% /dev
tmpfs           396M  664K  395M   1% /run
/dev/sda1        39G   11G   27G  29% /
none            4.0K     0  4.0K   0% /sys/fs/cgroup
none            5.0M     0  5.0M   0% /run/lock
none            2.0G  956K  2.0G   1% /run/shm
none            100M     0  100M   0% /run/user
none            443G  212G  232G  48% /vagrant
none            443G  212G  232G  48% /local-dev
none            443G  212G  232G  48% /hyperledger
none            443G  212G  232G  48% /opt/gopath/src/github.com/hyperledger/fabric


Not sure how the test program ran into disk space full error.
",,Nishi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxd4n:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Nishi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"25/Oct/16 12:36 AM;Nishi;After updating logs to write only when critical we observed docker ""/dev/sda1"" was not being used as earlier when we had logs@debug level;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Pluggable state database - Initial implemenation for CouchDB,FAB-728,13032,,Task,Closed,FAB,Fabric,software,denyeart,,,High,Done,denyeart,denyeart,denyeart,18/Oct/16 2:00 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,28/Oct/16 5:14 PM,,,,,fabric-ledger,,,0,Ledger,,,,,Pluggable state database - Initial implemenation for CouchDB as state database.,,denyeart,inatatsu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-812,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-60,,,,,,,,,"1|hzxafz:",,,,,,Sprint 3,Sprint 4 -xxxxx,,,,,,,,,,,,,,4.0,,,,,,,,,,,,denyeart,inatatsu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"25/Oct/16 1:52 AM;denyeart;Initial implementation for CouchDB can be found in these feature/convergence branch commits (that build on each other):
- https://gerrit.hyperledger.org/r/#/c/1669/
- https://gerrit.hyperledger.org/r/#/c/1891/

These commits will be ported to master branch and then will be merged.;;;","26/Oct/16 12:04 AM;denyeart;The ports to master will be here:
Part1 (Dave) https://gerrit.hyperledger.org/r/#/c/1931/
Part2 (Chris) https://gerrit.hyperledger.org/r/#/c/1943/
;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Pluggable state database - Install CouchDB into Vagrant dev env as a docker image,FAB-729,13033,,Task,Closed,FAB,Fabric,software,denyeart,,,High,Done,sanchezl,denyeart,denyeart,18/Oct/16 2:01 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,28/Oct/16 5:14 PM,,,,,fabric-ledger,,,0,Ledger,,,,,"Pluggable state database - Install CouchDB into Vagrant dev env
",,denyeart,inatatsu,sanchezl,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-60,,,,,,,,,"1|hzxafr:",,,,,,Sprint 3,Sprint 4 -xxxxx,,,,,,,,,,,,,,4.0,,,,,,,,,,,,denyeart,inatatsu,sanchezl,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"21/Oct/16 10:38 PM;sanchezl;Official {{couchdb}} images are available on docker hub, but the version 2.0.0 images are still in beta.
The official images are actually mapped to the {{klaemo/couchdb}} images. We can use the 'beta' {{klaemo/couchdb:2.0.0}} image directly for now as the {{couchdb:2.0.0}} image will eventually map to it.;;;","25/Oct/16 1:54 AM;denyeart;Initial implementation for CouchDB docker can be found in this feature/convergence branch commit:
https://gerrit.hyperledger.org/r/#/c/1865/

""couchdb start"" will start the couchdb docker image and couchdb process, and will also download the couchdb docker if this is the first time using it.

This commit will be ported to master branch and then will be merged.;;;","25/Oct/16 2:35 AM;denyeart;Master branch commit under review:
https://gerrit.hyperledger.org/r/#/c/1935/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
run all tests in v0.6 rel-crit document to get pass/fail results in remote ntwk,FAB-731,13035,,Epic,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,bmos299,scottz,scottz,18/Oct/16 6:11 AM,21/Jul/18 4:09 AM,28/Oct/23 2:57 AM,15/Nov/16 11:22 PM,,,v0.6,,fabric-quality,,,0,quality,,,,,"This epic will be complete when first-pass testing is done for all tests defined in the v0.6 release-criteria document written by Barry's team - after every test is fully executed and produces a result, whether pass or fail. Includes running tests in remote networks, where appropriate.",,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,Unset,ghx-label-3,,run v0.6 remote tests,Done,,,Unset,,,,"1|hzxl2n:",,,,Unset,Unset,Sprint 5 - Quality,,,,,,,,,,,,,,,,,,,,,,,,,,,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"run addrecs ledger stress tests, serial and concurrency, in remote systems",FAB-732,13036,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,scottz,scottz,scottz,18/Oct/16 7:45 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,18/Oct/16 8:03 AM,,,,,fabric-quality,,,0,quality,,,,,,,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-731,,,,,,,,,"1|hzxcqn:",,,,,,Sprint 3,,,,,,,,,,,,,,,,,,,,,,,,,,,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
run LongRun72hr go sdk rest,FAB-733,13037,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,2020Nishi,scottz,scottz,18/Oct/16 7:59 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,05/Nov/16 2:13 AM,,,,,fabric-quality,,,0,quality,,,,,,,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-731,,,,,,,,,"1|hzxciv:",,,,,,Sprint 4 - Quality,,,,,,,,,,,,,,,,,,,,,,,,,,,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
run long run 72hr node gRPC,FAB-734,13038,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,dongming,scottz,scottz,18/Oct/16 7:59 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,05/Nov/16 2:16 AM,,,,,fabric-quality,,,0,quality,,,,,,,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-731,,,,,,,,,"1|hzxci7:",,,,,,Sprint 3,Sprint 4 - Quality,,,,,,,,,,,,,,,,,,,,,,,,,,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
The log is confusing when setting confidentiality level for transaction in newInvokeOrQueryTransaction,FAB-735,13039,,Bug,Closed,FAB,Fabric,software,denyeart,,,Low,Done,hanhzf,hanhzf,hanhzf,18/Oct/16 8:47 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,18/Nov/16 6:12 AM,,,v0.6,,fabric-peer,,,0,node-SDK,,,,,"Currently the log looks like below: 

       // Set confidentiality level
        if (request.confidential) {
            debug('Set confidentiality on');
            tx.setConfidentialityLevel(_fabricProto.ConfidentialityLevel.CONFIDENTIAL)
        } else {
           {color:red} debug('Set confidentiality on');{color}
            tx.setConfidentialityLevel(_fabricProto.ConfidentialityLevel.PUBLIC)
        }


Both CONFIDENTIAL and PUBLIC are logged as ('Set confidentiality on'), should log as :

{color:#14892c}debug(""Set confidentiality level to CONFIDENTIAL"");
debug(""Set confidentiality level to PUBLIC"");{color}",,hanhzf,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,14400,14400,,0%,14400,14400,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx8kv:",,,,,,Sprint 3,Sprint 4 - nodeSDK,Sprint 5 - nodeSDK,,,,,,,,,,,,,,,,,,,,,,,,,hanhzf,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"18/Oct/16 9:18 AM;hanhzf;Fix has been submitted to https://gerrit.hyperledger.org/r/#/c/1823/;;;","18/Nov/16 6:13 AM;jimthematrix;marking this as done (there's no better status to use) as this is not needed any longer in v1.0 code base since confidentiality with encryption is not supported anymore.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Peer-to-Peer TLS communication does not work ? ,FAB-740,13044,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,swangbj,swangbj,18/Oct/16 6:06 PM,21/Jul/18 3:56 AM,28/Oct/23 2:57 AM,08/May/17 10:15 PM,v0.6,,WON'T FIX,,fabric-peer,,,0,,,,,,"h2. Well,I have environmental settings in my docker-compose.yml file to  set up a fabric network which enables tls. 
   vp0:
 image: hyperledger/fabric-peer
 environment:
   - CORE_PEER_ADDRESSAUTODETECT=true
   - CORE_VM_ENDPOINT=http://172.17.0.1:2375
   - CORE_LOGGING_LEVEL=DEBU
#  - CORE_PEER_VALIDATOR_CONSENSUS_PLUGIN=pbft
   - CORE_PEER_ID=vp0
   - CORE_SECURITY_ENABLED=true
   - CORE_SECURITY_PRIVACY=true
   - CORE_PEER_PKI_ECA_PADDR=172.17.0.1:50051
   - CORE_PEER_PKI_TCA_PADDR=172.17.0.1:50051
   - CORE_PEER_PKI_TLSCA_PADDR=172.17.0.1:50051
   - CORE_SECURITY_ENROLLID=test_vp0
   - CORE_SECURITY_ENROLLSECRET=MwYpmSRjupbT
   - CORE_PEER_PKI_TLS_ENABLED=true
   - CORE_PEER_PKI_TLS_ROOTCERT=/var/hyperledger/production/.membersrvc/tlsca.cert
   - CORE_PEER_TLS_ENABLED=true
   - CORE_PEER_TLS_CERT_FILE=/var/hyperledger/production/.membersrvc/tlsca.cert
   - CORE_PEER_TLS_KEY_FILE=/var/hyperledger/production/.membersrvc/tlsca.priv
  # - CORE_PEER_TLS_CERT_FILE=/var/hyperledger/production/crypto/validator/test_vp0/ks/raw/tls.cert
    # - CORE_PEER_TLS_KEY_FILE=/var/hyperledger/production/crypto/validator/test_vp0/ks/raw/tls.key
 volumes:
   - /var/hyperledger:/var/hyperledger
 command: sh -c ""sleep 5; peer node start""
vp4:
  extends:
    service: vp0
  environment:
    - CORE_PEER_FILESYSTEMPATH=/var/hyperledger/test_vp4/production
    - CORE_PEER_ID=vp4
    - CORE_PEER_DISCOVERY_ROOTNODE=vp0:30303
    - CORE_SECURITY_ENROLLID=test_vp4
    - CORE_SECURITY_ENROLLSECRET=Pqh90CEW5juZ
    - CORE_PEER_PKI_TLS_ROOTCERT=/var/hyperledger/production/.membersrvc/tlsca.cert
    - CORE_PEER_TLS_CERT_FILE=/var/hyperledger/production/.membersrvc/tlsca.cert
    - CORE_PEER_TLS_KEY_FILE=/var/hyperledger/production/.membersrvc/tlsca.priv
  # - CORE_PEER_TLS_CERT_FILE=/var/hyperledger/test_vp4/production/crypto/validator/test_vp4/ks/raw/tls.cert
    # - CORE_PEER_TLS_KEY_FILE=/var/hyperledger/test_vp4/production/crypto/validator/test_vp4/ks/raw/tls.key
  links:
    - vp0

And after I run docker-compose up . I get the following errors.
    vp0_1 | 2016/10/18 07:44:49 grpc: Server.Serve failed to complete security handshake.
vp0_1 | 2016/10/18 07:44:50 grpc: ClientConn.resetTransport failed to create client transport: connection error: desc = ""transport: x509: cannot validate certificate for 172.17.0.3 because it doesn't contain any IP SANs""; Reconnecting to ""172.17.0.3:30303""
vp4_1 | 2016/10/18 07:44:50 grpc: Server.Serve failed to complete security handshake.
vp4_1 | 2016/10/18 07:44:50 grpc: ClientConn.resetTransport failed to create client transport: connection error: desc = ""transport: x509: cannot validate certificate for 172.17.0.2 because it doesn't contain any IP SANs""; Reconnecting to ""172.17.0.2:30303""
vp0_1 | 2016/10/18 07:44:50 grpc: Server.Serve failed to complete security handshake.
vp4_1 | 2016/10/18 07:44:52 grpc: Server.Serve failed to complete security handshake.
vp0_1 | 2016/10/18 07:44:52 grpc: ClientConn.resetTransport failed to create client transport: connection error: desc = ""transport: x509: cannot validate certificate for 172.17.0.3 because it doesn't contain any IP SANs""; Reconnecting to ""172.17.0.3:30303""
vp0_1 | 07:44:52.021 [peer] chatWithPeer -> ERRO 0f4 Error creating connection to peer address 172.17.0.3:30303: grpc: timed out trying to connect
vp4_1 | 2016/10/18 07:44:52 grpc: ClientConn.resetTransport failed to create client transport: connection error: desc = ""transport: x509: cannot validate certificate for 172.17.0.2 because it doesn't contain any IP SANs""; Reconnecting to ""172.17.0.2:30303""
vp4_1 | 07:44:52.753 [peer] chatWithPeer -> ERRO 0f6 Error creating connection to peer address 172.17.0.2:30303: grpc: timed out trying to connect
",,swangbj,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-2478,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzxd5r:",,,,Unset,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,swangbj,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"18/Oct/16 6:07 PM;swangbj;How should I set my environments to set up the p2p tls network? ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Node SDK - add hierarchical  configuration support,FAB-741,13045,12619,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,harrisob@us.ibm.com,harrisob@us.ibm.com,harrisob@us.ibm.com,18/Oct/16 10:38 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,02/Nov/16 10:48 AM,,,,,fabric-sdk-node,,,0,node-SDK,,,,,"Adding in configuration setting support using the NPM package ‘config’ to allow having settings from multiple files, environment, and an invocation parameter, each overriding settings of the lower hierarchical input.

Hierarchy 
 - in code defaults
 - files in ./config
      — “default”
      — “development”  unless environment says otherwise
 - environment
 - command line invocation


Also restructure the target nodes (Peer, Orderer, MemberServices) to extend a common class so that each node type will process the configuration settings related to the RPC connection the same way.",,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxd5z:",,,,,,Sprint 1,Sprint 2,Sprint 3,Sprint 4 - nodeSDK,,,,,,,,,,,,,,,,,,,,,,,,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Create and define gossiping node meta object,FAB-742,13046,13004,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,C0rWin,C0rWin,C0rWin,18/Oct/16 11:00 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,02/Nov/16 10:07 PM,,,,,fabric-gossip,,,0,gossip,state,,,,"Once new node appears in the network it has to complete the state based on the information of the ledger height in other nodes. This information is disseminated during gossip keep alive mechanism, e.g. each node transfer its meta-state which should include information about ledger.

Need to provide an ability to store relevant info within nodes, serialize and de-serialize this information.",,C0rWin,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,28800,28800,,0%,28800,28800,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxd67:",,,,,,Sprint 3,Sprint 4 - Gossip,,,,,,,,,,,,,,1.0,,,,,,,,,,,,C0rWin,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"19/Oct/16 8:30 PM;C0rWin;Awaiting for code review: https://gerrit.hyperledger.org/r/#/c/1853/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Support blocks re-ordering,FAB-743,13047,13004,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,C0rWin,C0rWin,C0rWin,18/Oct/16 11:07 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,02/Nov/16 10:06 PM,,,,,fabric-gossip,,,0,gossip,,,,,"Blocks disseminated via gossiping layer from concenters might be delivered out of order, therefore state of gossip protocol should be able to re-order block in appropriate order before delivering further to the ledger.

There is a need to create structure to support/allow re-ordering of incoming messages and indicate whenever new block are ready to be transferred to the ledger. ",,C0rWin,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,28800,28800,,0%,28800,28800,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxd6f:",,,,,,Sprint 3,Sprint 4 - Gossip,,,,,,,,,,,,,,,,,,,,,,,,,,C0rWin,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"30/Oct/16 9:52 PM;C0rWin;https://gerrit.hyperledger.org/r/#/c/2101/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
As an infrastructure developer I would like to have crypto calls within COP server to be routed through the fabric crypto library (BCCSP).,FAB-744,13048,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,vpaprots,elli-androulaki,elli-androulaki,18/Oct/16 11:28 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,28/Apr/17 9:19 PM,,,DUPLICATE,,fabric-crypto,,,0,Endorser,HSM,MembershipServices,node-SDK,security,"Here, we would like to modify the COP server such that CFSSL crypto in it leverages BCCSP defined in FAB-354/FAB-355. 
This is to be done in two steps: 
 - signing capabilities are routed through BCCSP
 - other crypto operations are routed through BCCSP
",,elli-androulaki,vpaprots,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABC-98,FAB-615,FAB-354,FAB-355,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx5nb:",,,,,,Sprint 7 - Crypto,Sprint 8 - Crypto,Sprint 9 - Crypto,Sprint 9  - Crypto,Sprint 10 - Crypto,,,,,,,,,,,,,,,,,,,,,,,elli-androulaki,vpaprots,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"13/Apr/17 3:08 AM;elli-androulaki;[~keithsmith] is this done?;;;","21/Apr/17 11:00 PM;vpaprots;This is a dup of 2601;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Integrate configuration manager into orderer startup,FAB-745,13049,12660,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,18/Oct/16 11:49 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,06/Nov/16 10:57 AM,,,,,,,,0,,,,,,,,jyellick,tuand,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxd6n:",,,,,,Sprint 1,Sprint 2,Sprint 3,,,,,,,,,,,,,1.0,,,,,,,,,,,,jyellick,tuand,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"19/Oct/16 10:49 PM;tuand;adding link to fab-359 as we're using this for design of bootstrapping;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add code coverage to CI jobs,FAB-746,13050,12619,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,jimthematrix,jimthematrix,19/Oct/16 1:48 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,20/Oct/16 6:37 AM,,,,,,,,0,node-SDK,,,,,"best option with node.js is using ""Istanbul"".

it doesn't require any code changes. As long as the test cases are written, Istanbul can automatically insert itself with runtime instrumentation.

Basic procedures to enable this on CI jobs:
- install istanbul globally
- ""istanbul cover test/unit/headless-tests.js""
- print a link to the coverage report html (in coverage/lcov-report/index.html)

In addition, Jenkins has a code coverage plugin that supports Istanbul reports, plus keeping track of coverage trends and generates charts",,jimthematrix,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxd6v:",,,,,,Sprint 1,Sprint 2,Sprint 3,Sprint 4 - nodeSDK,,,,,,,,,,,,2.0,,,,,,,,,,,,jimthematrix,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"19/Oct/16 7:09 AM;rameshthoomu;[~jimthematrix] Submitted patch in ci-management repository to enable this. https://gerrit.hyperledger.org/r/#/c/1845/ 

This was already tested in sandbox environment https://jenkins.hyperledger.org/sandbox/job/fabric-sdk-node-verify-x86_64/29/cobertura/;;;","19/Oct/16 8:17 AM;rameshthoomu;Working on generating cobertura coverage report.. Observed it's skipping now due to the patch mismatches. Will update;;;","20/Oct/16 6:37 AM;rameshthoomu;Implemented cobertura coverage report for fabric-sdk-node repository.. We are only running headless-tests.js in Jenkins CI at this time, we will add more tests once tests are ready.. ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[node-SDK] npm warnings from npm install in fabric-sdk-node,FAB-748,13052,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,,jjjjibm,jjjjibm,19/Oct/16 2:58 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,02/Apr/17 9:37 PM,,,WON'T FIX,,,,,0,,,,,,"Today, I cloned fabric-sdk-node, and ran 'npm install' from the fabric-sdk-node directory.

Npm issued these warnings:

:~/work/src/github.com/hyperledger/fabric-sdk-node$ npm install
npm WARN deprecated minimatch@2.0.10: Please update to minimatch 3.0.2 or higher to avoid a RegExp DoS issue
npm WARN deprecated minimatch@0.2.14: Please update to minimatch 3.0.2 or higher to avoid a RegExp DoS issue
npm WARN deprecated graceful-fs@1.2.3: graceful-fs v3.0.0 and before will fail on node releases >= v7.0. Please update to graceful-fs@^4.0.0 as soon as possible. Use 'npm ls graceful-fs' to find it in the tree.
npm WARN prefer global marked@0.3.6 should be installed with -g

We should avoid using deprecated software.

How to recreate:
1.cd $GOPATH/src/github.com/hyperledger/
2.git clone http://gerrit.hyperledger.org/r/fabric-sdk-node
3.cd fabric-sdk-node
4.sudo bash (or the npm install fails)
4.npm install 
",,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-500,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxd7b:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Intermittent ""Failed invoking CreateCertficatePair"" in core/crypto unit tests",FAB-751,13055,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,,greg.haskins,greg.haskins,19/Oct/16 5:14 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,15/Apr/17 8:02 PM,v0.6,,WON'T FIX,,fabric-crypto,,,0,,,,,,"We are seeing intermittent CI failures such as with the following merge:

https://gerrit.hyperledger.org/r/#/c/1501/

https://jenkins.hyperledger.org/job/fabric-merge-x86_64/238/console

",,ChristopherFerris,elli-androulaki,greg.haskins,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"19/Oct/16 5:12 AM;greg.haskins;crash.txt;https://jira.hyperledger.org/secure/attachment/10141/crash.txt",,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxd8f:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,elli-androulaki,greg.haskins,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"14/Apr/17 9:42 AM;ChristopherFerris;[~ellaki] this needs to be verified for v1.0 please. If no longer relevant, please mark fixVersion WON'T FIX and close it. Thanks;;;","14/Apr/17 6:19 PM;elli-androulaki;Ok, will do.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add dependencies to vendors,FAB-752,13057,12814,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,gennadyl,gennadyl,gennadyl,19/Oct/16 11:11 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,09/Apr/17 8:12 PM,,,,,fabric-gossip,,,0,gossip,,,,,"Hashicorp gossip implementation requires multiple dependencies to work, so we need to add them to fabric vendors folder.",,ChristopherFerris,gennadyl,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxd8v:",,,,,,Sprint 2,Sprint 3,,,,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,gennadyl,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"19/Oct/16 11:19 PM;gennadyl;http://gerrit.hyperledger.org/r/1857;;;","04/Apr/17 4:29 AM;ChristopherFerris;The change request above was abandoned. [~gennadyl] what is the status of this? Should we simply close as WONTFIX?;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
GRPC API to Fabric blockchain,FAB-754,13059,,Epic,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,,binhn,binhn,20/Oct/16 1:52 AM,21/Jul/18 4:08 AM,28/Oct/23 2:57 AM,03/Jun/17 6:41 PM,,,v1.0.0,v1.0.0-beta,fabric-peer,,,1,Consensus,Endorser,MembershipServices,,,"We want to provide basic API using Protocol Buffers over gRPC for applications to interact with the blockchain network. The API covers transaction processing, security membership services, blockchain traversal, and event handling.

Note that the current REST API is being deprecated. The reasons for going with gRPC over REST are 
1) ability to control the flow with full-duplex streaming (most of API calls are asynchronous), and 
2) better performance. Furthermore, the Peer doesn’t have to open up more ports for HTTP/HTTPS since internally we also use gRPC for inter-component communication.

For reference, the Fabric v1.0 architecture and interaction model can be found in the attached documents in https://jira.hyperledger.org/browse/FAB-37  and SDK specification at https://docs.google.com/document/d/1R5RtIBMW9fZpli37E5Li5_Q9ve3BnQ4q3gWmGZj6Sv4/edit
",,binhn,muralisr,vdods,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABC-690,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,Unset,ghx-label-6,,GRPC API,To Do,,,Unset,,,,"1|hzxd93:",,,,Unset,Unset,,,,,,,,,,,,,,,,,,,,,,,,,,,,binhn,muralisr,vdods,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Intermittent failure in TestClassicBackToBackStateTransfer on convergence branch,FAB-755,13060,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,greg.haskins,greg.haskins,20/Oct/16 1:59 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,12/Apr/17 5:53 AM,,,,,fabric-peer,,,0,,,,,,"Various unit-test runs intermittently fail in both local and CI environments with the following report:

--- FAIL: TestClassicBackToBackStateTransfer (60.37s)
panic: Test network took more than 60 seconds to resolve requests, this usually indicates a hang [recovered]
	panic: Test network took more than 60 seconds to resolve requests, this usually indicates a hang

goroutine 222 [running]:
panic(0xb17d80, 0xc8202f56e0)
	/opt/go/go1.6.linux.amd64/src/runtime/panic.go:464 +0x3e6
testing.tRunner.func1(0xc82043d4d0)
	/opt/go/go1.6.linux.amd64/src/testing/testing.go:467 +0x192
panic(0xb17d80, 0xc8202f56e0)
	/opt/go/go1.6.linux.amd64/src/runtime/panic.go:426 +0x4e9
github.com/hyperledger/fabric/consensus/pbft.(*testnet).process(0xc8202c0dc0, 0x0, 0x0)
	/w/workspace/fabric-verify-x86_64/gopath/src/github.com/hyperledger/fabric/consensus/pbft/mock_network_test.go:230 +0x33e
github.com/hyperledger/fabric/consensus/pbft.TestClassicBackToBackStateTransfer(0xc82043d4d0)
	/w/workspace/fabric-verify-x86_64/gopath/src/github.com/hyperledger/fabric/consensus/pbft/batch_test.go:364 +0x3c3
testing.tRunner(0xc82043d4d0, 0x1407dd0)
	/opt/go/go1.6.linux.amd64/src/testing/testing.go:473 +0x98
created by testing.RunTests
	/opt/go/go1.6.linux.amd64/src/testing/testing.go:582 +0x892
FAIL	github.com/hyperledger/fabric/consensus/pbft	62.447s
error: exit status 1
panic: EOF

goroutine 1 [running]:
panic(0x544960, 0xc82000a150)
	/opt/go/go1.6.linux.amd64/src/runtime/panic.go:464 +0x3e6
main.main()
	/w/workspace/fabric-verify-x86_64/gopath/src/github.com/AlekSi/gocov-xml/gocov-xml.go:60 +0x177
Stopping peer..
make: *** [unit-test] Error 2

Examples:

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/1866/console",feature/convergence branch,denyeart,greg.haskins,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"20/Oct/16 1:57 AM;greg.haskins;crash.txt;https://jira.hyperledger.org/secure/attachment/10142/crash.txt",,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxd9b:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,denyeart,greg.haskins,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"20/Oct/16 2:02 AM;greg.haskins;This has been seeing in at least two different CRs on convergence:

https://gerrit.hyperledger.org/r/#/c/1839/
https://gerrit.hyperledger.org/r/#/c/1669/

leading me to conclude that there is a latent bug in the branch, not a new problem introduced by the respective CRs.;;;","12/Apr/17 5:53 AM;denyeart;Looks like this is no longer a test.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Endorser GRPC API,FAB-756,13061,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,binhn,binhn,20/Oct/16 5:28 AM,21/Jul/18 3:55 AM,28/Oct/23 2:57 AM,08/Nov/16 7:36 AM,,,,,fabric-peer,,,0,Endorser,,,,,Define GRPC API on Endorser Peer to allow submitting a Proposal and for app to tell a peer to join a channel,,binhn,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-754,,,,,,,,,"1|hzxdkf:",,,,Unset,,Sprint 4 - Endorser,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,binhn,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"08/Nov/16 7:36 AM;binhn;API for joining a channel on the peer is going to be a system chaincode, and the API for submitting a transaction proposal has been defined, so this story is done.

The system chaincode work is in FAB-1020. ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Rework chaincode to support endorsement model,FAB-757,13062,,Epic,Closed,FAB,Fabric,software,denyeart,,,High,Done,,binhn,binhn,20/Oct/16 6:06 AM,21/Jul/18 4:09 AM,28/Oct/23 2:57 AM,06/Jul/18 9:44 PM,,,,,fabric-peer,,,0,chaincode,,,,,"To support the new model, we need the following capabilities and chaincodes:
# Life-cycle management
# Naming
# Upgrade
# Endorsement (endorse a proposal)
# Validation (validate a transaction)
# Access control
# Concurrent execution
# Support for multi chain ( multi channel or multi-ledger)
",,binhn,caoyu,ChristopherFerris,elli-androulaki,ibmamnt,Jan_Rzepecki,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-689,FAB-497,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,Unset,ghx-label-8,,Chaincode rework in endorsement model,To Do,,,Unset,,,,"1|hzxd9j:",,,,Unset,Unset,,,,,,,,,,,,,,,,,,,,,,,,,,,,binhn,caoyu,ChristopherFerris,elli-androulaki,ibmamnt,Jan_Rzepecki,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"20/Oct/16 9:38 PM;elli-androulaki;So, questions regarding this:
 - naming, upgrade and life-cycle operations should be handled by the LFSCC, correct? Does this item have to do with the implementation of this chaincode?
 - follow up on this, how do you see the endorsement of a system chaincode to take place? Is post-processing that will be supported, and if not, will there be a set of privileged endorsers doing this? 
 - what would constitute the access control item? Wouldn't this be part of the application libraries?
 - w.r.t.. access control, would it make sense to have interface btween the endorsers and chaincode extended in such a way such that a chaincode can tell the endorser if the latter should *not* respond to a query? in certain environments, even responding with an error code will not be acceptable.


[~binhn], [~marko.vukolic], [~muralisr], [~ales], [~adc] comments? 

;;;","21/Oct/16 1:35 AM;binhn;I moved chaincode related stories/tasks here now. 
To answer your questions:
* yes
* same as other chaincodes, but for our out of the box scc, we will configure them to appropriate default e/vscc -- at least single signature and document as such. Anyone can change this config
* we should have an acl scc to configure, and yes, a lib so that chaincode and fabric developers may use
* I think for 1.0, we should be simple (like http server) with returned status codes since we already verify signature on the request
;;;","28/Jun/17 9:06 AM;ChristopherFerris;[~binhn] [~muralisr] is this done in 1.0? ;;;","06/Jul/18 9:44 PM;ChristopherFerris;marking as done;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Rework ledger to support endorsement model,FAB-758,13063,,Epic,Closed,FAB,Fabric,software,denyeart,,,High,Won't Do,,binhn,binhn,20/Oct/16 6:20 AM,23/Jan/20 3:40 AM,28/Oct/23 2:57 AM,23/Jan/20 3:40 AM,,,v1.0.0,,fabric-ledger,,,1,Ledger,stale-item,,,,"Rework the ledger to support endorsement model where we need read-write-set simulation, MVCC check, file-based blockchain transaction log, state database.",,binhn,ChristopherFerris,Eagel,joshhus,luomin,SriramaSharma,sykesm,wutongtree,zmanian,zshwei,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"15/Mar/17 11:08 PM;denyeart;HyperledgerFabric_LedgerV1_20170315.pptx;https://jira.hyperledger.org/secure/attachment/10585/HyperledgerFabric_LedgerV1_20170315.pptx",,,,,,,,,,,,Unset,,Unset,ghx-label-1,,Ledger rework,To Do,,,Unset,,,,"1|hzxd9r:",,,,Unset,Unset,,,,,,,,,,,,,,,,,,,,,,,,,,,,binhn,ChristopherFerris,Eagel,joshhus,luomin,SriramaSharma,sykesm,wutongtree,zmanian,zshwei,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"03/Dec/16 1:06 AM;joshhus;Hello, working on some ID / documentation tasks - specifically a glossary for v1.0 terms, at the moment.

In the posted HyperledgerFabric_LedgerV1_20161129.pptx file above, slide 3 - where is the *raw ledger* in the ""v1 Transaction Lifecycle"" diagram? -- The v1.0 architecture doc emphasizes 3 data structures - 1) raw ledger, 2) blockchain state, and 3) validated ledger. The arch. doc. describes ""batches"" of transactions being written to the raw ledger, which includes both ""valid"" and ""invalid"" transactions. Invalid transactions are eventually filtered out and written to the validated ledger as ""blocks"". The raw ledger remains as the record of all attempts to modify state, but can be ""pruned"" (edited) to remove invalid transactions. (See Sec. 4 at: https://github.com/hyperledger/fabric/blob/master/proposals/r1/Next-Consensus-Architecture-Proposal.md) 

So some questions to help clarify *slide 3* in the .pptx, as compared to the arch. 1.0 doc:
1) Can an endorsing peer and a committing peer be the same peer?
2) Are all endorsing peers also committing peers? (But not all committing peers are necessarily endorsing peers.)
3) Is the raw ledger on the endorsing peer(s) only. And the validated ledger on the committing peer(s) only? (Which in many cases is the same peer?)
4) The ""Blockchain File System"" under/on the endorsing peer, in the slide 3 diagram, is not connected to anything. Is that the raw ledger?

Thanks ... jh


;;;","03/Dec/16 1:38 AM;joshhus;Dave E. has clarified for me that some of the concepts in the architecture doc are not in v1.0. A definitive list of 1.0 might be helpful to various folks. Does that exist? ty.;;;","06/Jul/18 9:57 PM;ChristopherFerris;[~denyeart] are we still tracking this?;;;","23/Jan/20 3:40 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Orderer GRPC API,FAB-761,13066,,Story,Closed,FAB,Fabric,software,denyeart,,,High,Done,jyellick,binhn,binhn,20/Oct/16 7:11 AM,21/Jul/18 3:55 AM,28/Oct/23 2:57 AM,08/Nov/16 11:43 AM,,,,,fabric-orderer,,,0,consensus,,,,,"Define a GRPC API for client to submit a transaction to Orderer (ie broadcast and deliver). 

This is currently in ab.proto, which we need to beef up the description on error conditions.",,binhn,jyellick,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-754,,,,,,,,,"1|hzx853:",,,,Unset,,Sprint 7 - Quality,,,,,,,,,,,,,,,1.0,Unset,,,,,,,,,,,binhn,jyellick,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"22/Oct/16 9:11 AM;kchristidis;[~binhn]: Isn't this proto what we're after here? https://gerrit.hyperledger.org/r/gitweb?p=fabric.git;a=blob;f=orderer/atomicbroadcast/ab.proto;h=e115680debf64c199dedcdc4f1ac0c258276b5bc;hb=refs/heads/feature/convergence;;;","07/Nov/16 1:26 AM;kchristidis;I may be remembering wrong, but I think Binh's ask here was to take care of the error codes that we return. (And I see a couple of comments along these lines in Gerrit.) Feel free to correct me if I'm wrong and anything more is needed here.;;;","07/Nov/16 11:45 PM;jyellick;If so, this is in review, per https://gerrit.hyperledger.org/r/#/c/2075/14/orderer/atomicbroadcast/ab.proto;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
GRPC API for querying blockchain,FAB-762,13067,,Story,Closed,FAB,Fabric,software,denyeart,,,High,Done,,binhn,binhn,20/Oct/16 7:15 AM,21/Jul/18 3:56 AM,28/Oct/23 2:57 AM,03/Jun/17 6:40 PM,,,Future,,fabric-peer,,,0,endorser,Endorser,,,,"Provide GRPC API for application and CLI to query blockchain, including by block number, transaction by id.  Note that the API requires signature and access control",,binhn,Hangyu_FJH,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-754,,,,,,,,,"1|hzxdaf:",,,,Unset,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,binhn,Hangyu_FJH,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Event handling GRPC API,FAB-764,13069,,Story,Closed,FAB,Fabric,software,denyeart,,,High,Done,,binhn,binhn,20/Oct/16 7:34 AM,21/Jul/18 3:56 AM,28/Oct/23 2:57 AM,03/Jun/17 6:40 PM,,,Future,,fabric-peer,,,0,endorser,Endorser,,,,Provide GRPC API for application to listen to events,,binhn,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-754,,,,,,,,,"1|hzxdan:",,,,Unset,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,binhn,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Enable unit tests to validate hashicorp gossip impl.,FAB-766,13071,12814,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,gennadyl,C0rWin,C0rWin,20/Oct/16 5:17 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,10/Apr/17 5:24 AM,,,,,fabric-gossip,,,0,gossip,,,,,In order to verify hashicorp based gossip implementation there is a need to add BDD based unit tests.,,C0rWin,gennadyl,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxdb3:",,,,,,Sprint 2,Sprint 3,,,,,,,,,,,,,,,,,,,,,,,,,,C0rWin,gennadyl,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"09/Apr/17 7:39 PM;yacovm;[~C0rWin] shall we close this? ;;;","10/Apr/17 5:16 AM;gennadyl;[~yacovm] [~C0rWin] For sure we should close it...;;;","10/Apr/17 6:56 AM;C0rWin;[~gennadyl] [~yacovm] ok, closing it.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Integration with dynamic set of peers capability,FAB-767,13072,12814,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,gennadyl,C0rWin,C0rWin,20/Oct/16 5:20 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,07/Feb/17 8:15 PM,,,,,fabric-gossip,,,0,gossip,,,,,Need to connect between gossip layer and capability which supports dynamic set of peers in order to enable state synchronization. ,,C0rWin,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxdbb:",,,,,,Sprint 2,Sprint 3,,,,,,,,,,,,,,,,,,,,,,,,,,C0rWin,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Enable direct communication between consenters and peers,FAB-768,13073,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,C0rWin,C0rWin,20/Oct/16 5:31 PM,21/Jul/18 3:54 AM,28/Oct/23 2:57 AM,07/Feb/17 8:15 PM,,,,,fabric-gossip,,,0,gossip,,,,,"Direct communication between consenters and peers. Have a consensus client on the peer implementing necessary logic based on the consensus algorithm (for example collect t+1 identical blocks for pbft)
",,C0rWin,troyronda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-290,,,,,,,,,"1|hzx6zb:",,,,Unset,,Sprint 3,Sprint 5 - gossip,Sprint 6 - Gossip,Sprint 7 - Gossip,Sprint 8 - Gossip,Sprint 9 - Gossip,Sprint 10 - Gossip,,,,,,,,,,Unset,,,,,,,,,,,C0rWin,troyronda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Define generic API for communication,FAB-769,13074,13073,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,C0rWin,C0rWin,20/Oct/16 5:33 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,14/Oct/17 2:59 AM,,,,,fabric-gossip,,,0,gossip,,,,,As we need to support multiple types of consenters first step will be to define generic API to generalize communication between consenters and peers.,,C0rWin,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxdbj:",,,,,,Sprint 3,Sprint 5 - gossip,Sprint 6 - Gossip,Sprint 7 - Gossip,Sprint 8 - Gossip,Sprint 9 - Gossip,Sprint 10 - Gossip,,,,,,,,,,,,,,,,,,,,,C0rWin,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"14/Oct/17 2:59 AM;ChristopherFerris;closing, please reopen if still relevant;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Implement communication between peers and pbft orderer.,FAB-770,13075,13073,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,C0rWin,C0rWin,20/Oct/16 5:36 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,14/Oct/17 2:59 AM,,,,,fabric-gossip,,,0,gossip,,,,,"Implementation has to connect to the pbft and get configuration of the protocol parameters F, N.

* F - portion of failure nodes
* N - number of nodes",,C0rWin,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxdbr:",,,,,,Sprint 3,Sprint 5 - gossip,Sprint 6 - Gossip,Sprint 7 - Gossip,Sprint 8 - Gossip,Sprint 9 - Gossip,Sprint 10 - Gossip,,,,,,,,,,,,,,,,,,,,,C0rWin,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"14/Oct/17 2:59 AM;ChristopherFerris;closing, please reopen if still relevant;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Implement communication between peers and Kafka based orderer.,FAB-771,13076,13073,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,C0rWin,C0rWin,20/Oct/16 5:39 PM,12/Jul/19 8:23 PM,28/Oct/23 2:57 AM,12/Jul/19 8:23 PM,,,v1.0.0,,fabric-gossip,,,0,gossip,,,,,,,C0rWin,ChristopherFerris,sait,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxdbz:",,,,,,Sprint 3,Sprint 5 - gossip,Sprint 6 - Gossip,Sprint 7 - Gossip,Sprint 8 - Gossip,Sprint 9 - Gossip,Sprint 10 - Gossip,,,,,,,,,,,,,,,,,,,,,C0rWin,ChristopherFerris,sait,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"14/Oct/17 2:58 AM;ChristopherFerris;is this still relevant? [~C0rWin];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Gossip protocol implementation,FAB-772,13077,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,C0rWin,C0rWin,20/Oct/16 5:46 PM,21/Jul/18 3:53 AM,28/Oct/23 2:57 AM,11/Dec/16 10:33 PM,,,,,fabric-gossip,,,0,gossip,,,,,"Implement gossip communication abstraction, this should include:

* Discovery + Membership of new nodes
* Communication module
* Push/Pull mechanism
* Impersonation prevention",,C0rWin,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-290,,,,,,,,,"1|hzx83b:",,,,Unset,,Sprint 3,Sprint 4 - Gossip,Sprint 5 - gossip,Sprint 6 - Gossip,Sprint 7 - Gossip,,,,,,,,,,,,Unset,,,,,,,,,,,C0rWin,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Integration between gossip communication and dynamic set of peers capability,FAB-773,13078,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,C0rWin,C0rWin,C0rWin,20/Oct/16 5:48 PM,21/Jul/18 3:55 AM,28/Oct/23 2:57 AM,18/Nov/16 7:13 AM,,,,,fabric-gossip,,,0,gossip,,,,,Gossip protocol has to support dynamic set of peers and provide an ability of state synchronization and missing block completion. ,,C0rWin,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-290,,,,,,,,,"1|hzx8jb:",,,,Unset,,Sprint 3,Sprint 4 - Gossip,Sprint 5 - gossip,,,,,,,,,,,,,,Unset,,,,,,,,,,,C0rWin,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Integrate gossip into the peer code.,FAB-774,13079,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,C0rWin,C0rWin,20/Oct/16 6:19 PM,21/Jul/18 3:55 AM,28/Oct/23 2:57 AM,07/Dec/16 12:54 AM,,,,,fabric-gossip,,,0,gossip,,,,,In order to fully enable dynamic set of peers capability nodes should be able to communicate and make state synchronization via gossip protocol.,,C0rWin,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-871,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-290,,,,,,,,,"1|hzx8bb:",,,,Unset,,Sprint 3,Sprint 4 - Gossip,Sprint 5 - gossip,Sprint 6 - Gossip,,,,,,,,,,,,,Unset,,,,,,,,,,,C0rWin,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Document status codes for GRPC API,FAB-775,13080,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,binhn,binhn,20/Oct/16 8:24 PM,13/Oct/18 8:05 AM,28/Oct/23 2:57 AM,03/Jun/17 6:40 PM,,,Future,,fabric-peer,,,0,endorser,Endorser,,,,"We are using HTTP codes for GRPC API, and we need to document those with the API so that app/SDK may check for them",,binhn,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-754,,,,,,,,,"1|hzxdc7:",,,,Unset,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,binhn,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Convert commerical paper web application compatible with Fabric0.6 and make it run against docker-compose fabric,FAB-777,13082,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,Ratnakar,Ratnakar,Ratnakar,20/Oct/16 11:49 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,28/Dec/16 2:37 AM,,,,,fabric-quality,,,0,.6,quality,,,,Changes to make the commerical paper web application(https://github.com/IBM-Blockchain/cp-web) compatible with Fabric0.6 and docker-compose fabric (https://github.com/IBM-Blockchain/fabric-images),,Ratnakar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxdcn:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Ratnakar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"28/Dec/16 2:37 AM;Ratnakar;Made the required changes and repo available here https://github.com/ratnakar-asara/cp-web;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update readme for the fabric-sdk-node repo to be more contributor friendly,FAB-780,13085,12619,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jimthematrix,jimthematrix,jimthematrix,20/Oct/16 11:57 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,20/Oct/16 11:57 PM,,,,,fabric-sdk-node,,,0,node-SDK,,,,,"should prominently include steps to build, set up test environment and run tests.",,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxddb:",,,,,,Sprint 1,Sprint 2,Sprint 3,Sprint 4 - nodeSDK,,,,,,,,,,,,1.0,,,,,,,,,,,,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Chain ID on protocol,FAB-781,13086,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,binhn,binhn,21/Oct/16 12:16 AM,21/Jul/18 3:54 AM,28/Oct/23 2:57 AM,27/Oct/16 2:42 AM,,,,,fabric-peer,,,0,endorser,,,,,We need to add chain id to the protocol for endorsement and transaction so that the peer knows which chain to operate against.,,binhn,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-686,,,,,,,,,"1|hzxddj:",,,,Unset,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,binhn,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Remove sdk/node folder from ""fabric"" project in master",FAB-782,13087,13154,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,cdaughtr,jimthematrix,jimthematrix,21/Oct/16 1:05 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,28/Oct/16 1:48 AM,,,,,fabric-sdk-node,,,0,node-SDK,,,,,"[~cdaughtr] has done the work to merge all subsequent changes to v0.6 and master in the original location (fabric/sdk/node) to the new project (fabric-sdk-node), tracked in FAB-659. so there's no need to keep the old code around in fabric.

[~greg.haskins] [~rameshthoomu] want to make sure you guys are aware of this planned action. Hoping to do it asap. Would there be any concerns w.r.t the build steps and CI jobs? we'll for sure clean up the make file as part of this.",,cdaughtr,jimthematrix,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-659,,,,,,,,,,,,,,,,,,,,,,,,FABN-105,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxddr:",,,,,,Sprint 4 - nodeSDK,,,,,,,,,,,,,,,2.0,,,,,,,,,,,,cdaughtr,jimthematrix,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"25/Oct/16 4:14 AM;rameshthoomu;[~jimthematrix] [~cdaughtr]: We have new job created in jenkins for Fabric-sdk-node repository and executing headless-tests.js for every commit pushed to this repository. I will remove verify and merge sdk node jenkins jobs from jenkins which are running on v0.6 branch. 

This change will not effect node-sdk build process but you have to remove the references in from fabric doc folders. Also, please do let me know when I have to disable node-sdk jobs from Fabric repository.;;;","25/Oct/16 11:28 PM;cdaughtr;We discussed the doc changes and will do those under a separate task.  Will try out moving the node sdk doc to fabric-sdk-node project, and assess to see if the new format is acceptable to the hyperledger community.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Pluggable state database - Design for transactional behavior,FAB-783,13088,,Task,Closed,FAB,Fabric,software,denyeart,,,High,Done,manish-sethi,denyeart,denyeart,21/Oct/16 1:20 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,06/Mar/18 5:33 AM,,,,,fabric-ledger,,,0,Ledger,,,,,Pluggable state database - Design for transactional behavior,,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-60,,,,,,,,,"1|hzx993:",,,,,,Sprint 3,,,,,,,,,,,,,,,4.0,,,,,,,,,,,,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
change node.js sdk tests to dynamically retrieve Fabric instead of storing a copy in vendor folder,FAB-785,13090,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,scottz,scottz,21/Oct/16 1:38 AM,21/Jul/18 3:56 AM,28/Oct/23 2:57 AM,14/Oct/17 2:52 AM,,,,,fabric-quality,,,0,quality,,,,,"Modify our node.js SDK tests, to eliminate copy of entire Fabric, and instead the tests should dynamically retrieve. (The required actual modifications will depend on the solution offered by FAB-11, upon which this issue is blocked). We can significantly reduce the space required in every copy of the tests saved in the release-criteria repository, or in Fabric itself, and reduce the time to deploy as well.
",,ChristopherFerris,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzxd1z:",,,,Unset,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,ChristopherFerris,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"14/Oct/17 2:53 AM;ChristopherFerris;closing, please reopen if still relevant;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As a fabric developer, I want to use ledger CouchDB in the end-to-end endorser/orderer/committer skeleton",FAB-786,13091,,Story,Closed,FAB,Fabric,software,denyeart,,,High,Done,denyeart,denyeart,denyeart,21/Oct/16 1:44 AM,21/Jul/18 3:54 AM,28/Oct/23 2:57 AM,22/Nov/16 12:38 AM,,,,,fabric-ledger,,,0,Ledger,,,,,,,bobbiejc,denyeart,inatatsu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-60,,,,,,,,,"1|hzxagf:",,,,Unset,,Sprint 5 - Ledger,,,,,,,,,,,,,,,8.0,Unset,,,,,,,,,,,bobbiejc,denyeart,inatatsu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As a fabric deployer, I want a CouchDB docker image that can be deployed with a fabric network",FAB-787,13092,,Story,Closed,FAB,Fabric,software,denyeart,,,High,Done,,denyeart,denyeart,21/Oct/16 1:49 AM,21/Jul/18 3:53 AM,28/Oct/23 2:57 AM,24/Mar/17 2:41 AM,,,,,fabric-ledger,,,0,Ledger,,,,,,,chrisconway,denyeart,inatatsu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-60,,,,,,,,,"1|hzx5an:",,,,Unset,,Sprint 10 - Ledger,Sprint 12 - Ledger,Sprint 13 - Ledger,Sprint 14  - Ledger,,,,,,,,,,,,4.0,Unset,,,,,,,,,,,chrisconway,denyeart,inatatsu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As a fabric developer, I want to replace RocksDB with another key/value datastore",FAB-788,13093,,Story,Closed,FAB,Fabric,software,denyeart,,,High,Done,manish-sethi,denyeart,denyeart,21/Oct/16 1:51 AM,10/Aug/18 3:45 AM,28/Oct/23 2:57 AM,15/Nov/16 11:19 PM,,,v1.0.0,,fabric-ledger,,,0,Ledger,,,,,"RocksDB has a patent infringement license in it from Facebook. The legal team is therefore not comfortable with using it. For details read: https://github.com/facebook/rocksdb/blob/master/PATENTS

The alternatives include
1. LevelDB (https://github.com/google/leveldb) with a go wrapper (https://github.com/jmhodges/levigo),
2. *goleveldb* (https://github.com/syndtr/goleveldb) - a porting of leveldb in golang
3. BoltDB (https://github.com/boltdb/bolt)

BoltDB is suitable for read heavy workloads (e.g., LDAP) but has a relatively poor performance for read-write workloads.
Of the other two options, *goleveldb* is chosen because it is implemented in golang and hence easy to intergate and maintain.
In addition, as a precedent, ethereum go implementation also uses this package (https://github.com/ethereum/go-ethereum/blob/master/ethdb/database.go)",,denyeart,dianfu,donovanhide,inatatsu,jeffgarratt,manish-sethi,mastersingh24,troyronda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-758,,,,,,,,,"1|hzxag7:",,,,Unset,,Sprint 5 - Ledger,,,,,,,,,,,,,,,8.0,Unset,,,,,,,,,,,denyeart,dianfu,donovanhide,inatatsu,jeffgarratt,manish-sethi,mastersingh24,troyronda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"22/Oct/16 12:25 AM;mastersingh24;is it safe to assume that the #1 option for this right now is LevelDB?;;;","22/Oct/16 12:33 AM;denyeart;[~mastersingh24] Yes, LevelDB is the leading contender, but Manish is going to do a deeper review next week as due diligence to ensure we don't overlook another good option.;;;","22/Oct/16 7:10 PM;donovanhide;BoltDB might be an interesting option, as it is pure Go, and would allow fabric to be fully ""go get-able"".

https://github.com/boltdb/bolt

Also worth considering might be Go 1.8's plugin system:

https://tip.golang.org/pkg/plugin/

So that you don't need to have RocksDB, LevelDB, BoltDB, etc. all installed to build the main binary.;;;","22/Oct/16 7:28 PM;mastersingh24;BoltDB does look interesting and does support the same types of ""simple"" queries as Level and Rocks.  It is also MIT licensed which is nice.

;;;","26/Oct/16 12:22 AM;jeffgarratt;Can we add a why to this issue (Why is the developer doing this)?  BoltDB was my original recommendation in the beginning but was not chosen in lieu of RocksDB, I assume for a good reason.;;;","26/Oct/16 2:24 AM;denyeart;There are license updates which makes RocksDB unfavorable going forward.

BoltDB did sound good since it is native go, but it does in fact look like LevelDB is more aligned with our use case requirements.  We will post detailed analysis to this work item in the coming days.;;;","26/Oct/16 10:58 PM;denyeart;We are recommending to use LevelDB as the RocksDB replacement.  Of the key/value databases analyzed, LevelDB is most aligned with RocksDB and our specific use cases.

Now, there are still two options with LevelDB:

1) We can use LevelDB (https://github.com/google/leveldb C++ BSD-3-Clause license) with a LevelDB go wrapper (https://github.com/jmhodges/levigo MIT license)
or
2) We can use a native golang port of LevelDB called goleveldb (https://github.com/syndtr/goleveldb BSD-2-Clause license).

#1 has broader use in the industry and is more aligned with our use of RocksDB, and therefore seems less risky.
But Ethereum uses #2 in their golang implementation (https://github.com/ethereum/go-ethereum/blob/master/ethdb/database.go) so there is some precedent, and is go gettable/vendorable which simplifies things for us.

Thoughts?;;;","26/Oct/16 11:24 PM;denyeart;For more background - RocksDB has a patent infringement license in it from Facebook. The legal team is therefore not comfortable with using it.  For details read: https://github.com/facebook/rocksdb/blob/master/PATENTS;;;","09/Nov/16 9:30 PM;manish-sethi;The alternatives include 
1. LevelDB (https://github.com/google/leveldb) with a go wrapper (https://github.com/jmhodges/levigo), 
2. goleveldb (https://github.com/syndtr/goleveldb) - a porting of leveldb in golang 
3. BoltDB (https://github.com/boltdb/bolt) 

BoltDB is suitable for read heavy workloads (e.g., LDAP) but has a relatively poor performance for read-write workloads. 
Of the other two options, goleveldb is chosen because it is implemented in golang and hence easy to intergate and maintain. 
In addition, as a precedent, ethereum go implementation also uses this package (https://github.com/ethereum/go-ethereum/blob/master/ethdb/database.go);;;","10/Aug/18 3:45 AM;troyronda;I guess RocksDB updated their license scheme last year to allow for Apache 2.0 

https://github.com/facebook/rocksdb/blob/master/README.md#license
;;;",,,,,,,,,,,,,,,,,,,,,,,,
"As a fabric developer, I want to understand CouchDB performance as a ledger state database",FAB-789,13094,,Story,Closed,FAB,Fabric,software,denyeart,,,High,Done,Senthil1,denyeart,denyeart,21/Oct/16 1:54 AM,21/Jul/18 3:57 AM,28/Oct/23 2:57 AM,22/Nov/16 12:28 AM,,,,,fabric-ledger,,,0,Ledger,,,,,Initial assessment is complete.  Senthil please attach a community-friendly copy of the performance assessment to this work item.,,denyeart,inatatsu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-790,,,,,,,,,,,,,,,,,,,"14/Nov/16 7:32 PM;Senthil1;performance-couchdb.docx;https://jira.hyperledger.org/secure/attachment/10226/performance-couchdb.docx",,,,,,,,,,,,,Unset,,,FAB-60,,,,,,,,,"1|hzxagn:",,,,Unset,,Sprint 5 - Ledger,,,,,,,,,,,,,,,8.0,Unset,,,,,,,,,,,denyeart,inatatsu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As a fabric developer, I want to understand ledger LevelDB performance",FAB-790,13095,,Story,Closed,FAB,Fabric,software,denyeart,,,High,Done,manish-sethi,denyeart,denyeart,21/Oct/16 1:55 AM,19/Jan/19 4:12 AM,28/Oct/23 2:57 AM,07/Nov/16 11:07 AM,,,,,fabric-ledger,,,0,Ledger,,,,,,,denyeart,dianfu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-789,,,,,,,,,,,,,,,,,,"07/Nov/16 11:08 AM;denyeart;LevelDB_Perf_Summary.pptx;https://jira.hyperledger.org/secure/attachment/10217/LevelDB_Perf_Summary.pptx",,,,,,,,,,,,,Unset,,,FAB-758,,,,,,,,,"1|hzxakn:",,,,Unset,,Sprint 4 -xxxxx,,,,,,,,,,,,,,,4.0,Unset,,,,,,,,,,,denyeart,dianfu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As a fabric developer, I want to understand CouchDB security implications as a ledger state database",FAB-791,13096,,Story,Closed,FAB,Fabric,software,denyeart,,,High,Done,,denyeart,denyeart,21/Oct/16 1:57 AM,21/Jul/18 3:56 AM,28/Oct/23 2:57 AM,07/Nov/16 11:07 AM,,,,,fabric-ledger,,,0,Ledger,,,,,,,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-60,,,,,,,,,"1|hzxakf:",,,,Unset,,Sprint 4 -xxxxx,,,,,,,,,,,,,,,8.0,Unset,,,,,,,,,,,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Failure and Recovery of Fabric Events,FAB-792,13097,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid,,pmullaney,pmullaney,21/Oct/16 2:05 AM,01/May/19 2:35 AM,28/Oct/23 2:57 AM,01/May/19 2:35 AM,,,Future,,fabric-peer,fabric-sdk-node,,0,node-SDK,,,,,This story outlines various failure scenarios for events and methods to handle them. It also covers additional requirements for the sdk and peer.,,mastersingh24,muralisr,pmullaney,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"21/Oct/16 2:06 AM;pmullaney;webapp-failures.pdf;https://jira.hyperledger.org/secure/attachment/10143/webapp-failures.pdf",,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzx76f:",,,,Unset,,Sprint 8 - nodeSDK,Sprint 9 - nodeSDK,Sprint 10 - nodeSDK,,,,,,,,,,,,,,Unset,,,,,,,,,,,mastersingh24,muralisr,pmullaney,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"13/Apr/17 4:32 PM;muralisr;[~pmullaney] doesn't sound it'll fit v1.0 ? Can we move this to v1.0 in the Fix Version field please ?;;;","14/Apr/17 12:38 AM;pmullaney;I moved it to v1.0. I hope that was right.;;;","01/May/19 2:35 AM;mastersingh24;Event Hub has been replaced with Channel Event Hub;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Allow clients of SDK to generate transaction id,FAB-793,13098,13097,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,pmullaney,pmullaney,21/Oct/16 2:46 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,14/Oct/17 2:09 AM,,,,,fabric-sdk-node,,,0,node-SDK,,,,,"Clients of SDK need to know the transaction id in case of a server webapp, peer or network failure. Recovery for invokes requires that they query(by txid) for the status of the transaction before retrying. ",,ChristopherFerris,mastersingh24,pmullaney,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxde7:",,,,,,Sprint 8 - nodeSDK,Sprint 9 - nodeSDK,Sprint 10 - nodeSDK,,,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,mastersingh24,pmullaney,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"18/Nov/16 1:24 AM;mastersingh24;With V1, ""invoking"" chaincode is really sending an endorsement request to multiple peers and waiting for responses.  Only after you've collected enough endorsements would you broadcast to the orderer and it's only when a peer receives a message via deliver from the ordering service does the transaction have any chance of making it to the ledger.

I say all of this because from that perspective doesn't it make more sense for the endorser(s) to generate the transaction id and send back in the metadata for the proposal response?;;;","14/Oct/17 1:57 AM;ChristopherFerris;[~pmullaney] [~mastersingh24] seems like this can be closed?;;;","14/Oct/17 2:09 AM;ChristopherFerris;closing - reopen if relevant;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Method for client to verify transaction status,FAB-794,13099,13097,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid,,pmullaney,pmullaney,21/Oct/16 2:48 AM,12/Jul/19 8:29 PM,28/Oct/23 2:57 AM,12/Jul/19 8:29 PM,,,Future,,fabric-peer,,,0,,,,,,A query for transaction status is needed for client recovery during failures.,,mastersingh24,pmullaney,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxdef:",,,,,,Sprint 8 - nodeSDK,Sprint 9 - nodeSDK,Sprint 10 - nodeSDK,,,,,,,,,,,,,,,,,,,,,,,,,mastersingh24,pmullaney,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"12/Jul/19 8:29 PM;mastersingh24;channel event hub was implemented;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Method to replay events from a previous block number,FAB-795,13100,13097,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,pmullaney,pmullaney,21/Oct/16 2:52 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,14/Oct/17 2:14 AM,,,,,fabric-peer,,,0,,,,,,Recovery from a Peer or Server Webapp failure requires an event replay machanism to avoid loss of events.,,ChristopherFerris,jimthematrix,pmullaney,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxden:",,,,,,Sprint 8 - nodeSDK,Sprint 9 - nodeSDK,Sprint 10 - nodeSDK,,,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,jimthematrix,pmullaney,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"26/Oct/16 2:33 AM;jimthematrix;[~pmullaney] [~muralisr] can we clarify ""peer failure"" as related to block events. My understanding is that when a peer crashed and restored, it'll catch up with the network via state transfer. and as part of that will the blocks that got transferred cause BLOCK and CHAINCODE events to get fired? if yes, then I think we have this mostly covered, as long as the event stream can be re-established in time with the event listener (on the SDK side) while this is happening. or a more robust solution is connecting the peer event stream to a persistent message queue (kafka, websphere MQ, etc.) so that even if the event listener gets restored late, it wouldn't miss any events.;;;","14/Oct/17 1:51 AM;ChristopherFerris;Is this still relevant? [~pmullaney] [~jimthematrix] [~muralisr];;;","14/Oct/17 2:13 AM;ChristopherFerris;closing, please reopen if still relevant;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Peer Event producer needs to add current block number to events,FAB-796,13101,13097,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,pmullaney,pmullaney,21/Oct/16 2:56 AM,12/Jul/19 8:30 PM,28/Oct/23 2:57 AM,12/Jul/19 8:30 PM,,,Future,,fabric-peer,,,0,,,,,,,,mastersingh24,pmullaney,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxdev:",,,,,,Sprint 8 - nodeSDK,Sprint 9 - nodeSDK,Sprint 10 - nodeSDK,,,,,,,,,,,,,,,,,,,,,,,,,mastersingh24,pmullaney,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"12/Jul/19 8:30 PM;mastersingh24;channel event hub / deliver service added to peer;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
EventHub needs to consume new producer messages containing current block number,FAB-797,13102,13097,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,pmullaney,pmullaney,21/Oct/16 3:00 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,14/Oct/17 2:13 AM,,,,,fabric-sdk-node,,,0,node-SDK,,,,,"Once the Peer producer is extended to include current block number, EventHub needs to:
1. Save current block number persistently to db
2. Restore current block number on startup and send to producer",,ChristopherFerris,pmullaney,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxdf3:",,,,,,Sprint 8 - nodeSDK,Sprint 9 - nodeSDK,Sprint 10 - nodeSDK,,,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,pmullaney,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"14/Oct/17 1:51 AM;ChristopherFerris;Is this still relevant? [~pmullaney] [~jimthematrix@gmail.com];;;","14/Oct/17 2:13 AM;ChristopherFerris;closing, please reopen if still relevant;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Abstract out common Kafka/Solo components,FAB-798,13103,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,21/Oct/16 3:53 AM,21/Jul/18 3:54 AM,28/Oct/23 2:57 AM,03/Jan/17 11:11 PM,,,,,fabric-orderer,,,0,common-components,,,,,"The ordering service has multiple ordering providers, including kafka and solo.  Because each service must implement the same ordering api, there are significant functional duplication between the codebases.

This story is intended to cover the work of identifying the common components, abstracting them out, and ensuring that both handle configuration and reconfiguration as well as transaction filtering the same way.",,jyellick,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzx9gf:",,,,Unset,,Sprint 7 - consensus,,,,,,,,,,,,,,,4.0,Unset,,,,,,,,,,,jyellick,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"05/Dec/16 11:36 PM;kchristidis;Let me know if we're marking this as In Review, or we keep it as In Progress while the internal logic of dynamic chain creation is revised.;;;","06/Dec/16 7:03 AM;jyellick;Marking this as in review for now, this story really exploded from ""Factor out the common ordering stuff for singlechain"" into ""Factor out the common ordering stuff from singlechain while converting it into multichain"" so I've added a few more stories to capture that.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Concurrent chaincode execution,FAB-799,13104,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,binhn,binhn,21/Oct/16 6:05 AM,21/Jul/18 3:54 AM,28/Oct/23 2:57 AM,07/Feb/17 11:44 AM,,,,,fabric-peer,,,0,Endorser,,,,,"In the endorsement model, a chaincode may be called concurrently to simulate the transaction against the ledger. This doesn't require serialization since each simulation keeps track of own MVCC to be validated during commit. ",,binhn,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-757,,,,,,,,,"1|hzx6bb:",,,,Unset,,Sprint 4 - Endorser,Sprint 5 - Consensus,Sprint 7 - Endorser,Sprint 8 - Endorser,Sprint 9 - Endorser,Sprint 10 - Endorser,Sprint 11 - Endorser,,,,,,,,,,Unset,,,,,,,,,,,binhn,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update CI jobs to support the new unit test infrastructure,FAB-805,13110,12887,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,jimthematrix,jimthematrix,21/Oct/16 10:34 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,03/May/17 12:03 PM,,,DUPLICATE,,,,,0,,,,,,"Once FAB-776 is complete, need to update the CI job to run the new unit tests that require setting up the target network (with docker)",,jimthematrix,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-725,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxdfj:",,,,,,Sprint 2,Sprint 3,Sprint 4 - nodeSDK,,,,,,,,,,,,,2.0,,,,,,,,,,,,jimthematrix,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"16/Feb/17 1:37 AM;rameshthoomu;[~jimthematrix] I think this is covered as part of end-to-end.js test.. Are you referring any other tests based on docker?;;;","04/Mar/17 10:54 PM;rameshthoomu;[~jimthematrix] could you please let me know if the requirement is still valid otherwise please close the bug.;;;","03/May/17 12:04 PM;jimthematrix;closing as this was already accomplished;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Events access control,FAB-806,13111,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,binhn,binhn,21/Oct/16 11:01 PM,21/Jul/18 3:56 AM,28/Oct/23 2:57 AM,02/May/17 4:39 AM,,,DUPLICATE,,fabric-crypto,,,0,security,,,,,"By default, only those on chain may listen to events from that chain. Additional members may be added to the ACL via individual certificates or attributes.",,binhn,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-757,,,,,,,,,"1|hzx8kn:",,,,Unset,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,binhn,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"02/May/17 4:39 AM;ChristopherFerris;closing because marked duplicate;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
API access control,FAB-808,13113,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,binhn,binhn,21/Oct/16 11:05 PM,21/Jul/18 3:55 AM,28/Oct/23 2:57 AM,02/May/17 4:38 AM,,,DUPLICATE,,fabric-crypto,,,0,security,,,,,"API requires signature, so only those on chain may access. Additional members may be granted access using either attributes or individual certificate.",,binhn,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-757,,,,,,,,,"1|hzx8kf:",,,,Unset,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,binhn,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"02/May/17 4:38 AM;ChristopherFerris;closing because marked duplicate;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
The death comes here,FAB-810,13115,,Epic,Closed,FAB,Fabric,software,denyeart,,,Lowest,Done,,binhn,binhn,22/Oct/16 4:44 AM,21/Jul/18 4:08 AM,28/Oct/23 2:57 AM,02/May/17 4:35 AM,,,WON'T FIX,,,,,0,,,,,,"Just to manage Jira:  Since no way to delete an item, we move them here for RIP",,binhn,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,Unset,ghx-label-5,,Graveyard,To Do,,,Unset,,,,"1|hzxdfr:",,,,Unset,Unset,,,,,,,,,,,,,,,,,,,,,,,,,,,,binhn,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"10/Apr/17 12:07 AM;ChristopherFerris;[~binhn] what is this? If we need to close an item with no action, mark version WONTFIX and then change status to DONE.;;;","11/Apr/17 7:28 AM;ChristopherFerris;Ok, I am going to mark as DONE all items linked because OMG what a mess.;;;","11/Apr/17 7:46 AM;ChristopherFerris;someone should review the list of linked items to confirm that they are indeed WONTFIX, then we should mark THIS as DONE.;;;","02/May/17 4:36 AM;ChristopherFerris;closing this since there was no feedback;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
CouchDB - Support versioning of keys - Create a document wrapper for CouchDB to persist version and chaincode id,FAB-811,13116,,Task,Closed,FAB,Fabric,software,denyeart,,,High,Done,chris.elder,denyeart,denyeart,22/Oct/16 5:24 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,13/Feb/17 11:51 PM,,,,,fabric-ledger,,,0,Ledger,,,,,,,denyeart,inatatsu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-60,,,,,,,,,"1|hzx7pj:",,,,,,Sprint 7 - Ledger,Sprint 10 - Ledger,Sprint 11 - Ledger,,,,,,,,,,,,,,,,,,,,,,,,,denyeart,inatatsu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Push CouchDB prototype into fabric,FAB-812,13117,13032,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,denyeart,denyeart,denyeart,22/Oct/16 6:04 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,28/Oct/16 5:14 PM,,,,,fabric-ledger,,,0,Ledger,,,,,,,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-728,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx98v:",,,,,,Sprint 3,Sprint 4 -xxxxx,,,,,,,,,,,,,,2.0,,,,,,,,,,,,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add Go pprof service to orderer,FAB-813,13118,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,bcbrock,bcbrock,bcbrock,22/Oct/16 7:33 AM,21/Jul/18 3:56 AM,28/Oct/23 2:57 AM,03/Nov/16 8:51 AM,,,,,fabric-orderer,,,0,consensus,Orderer,,,,"I would like to add a configuration option to enable the standard Go net/http/pprof service in the orderer. It would be configured just like the service is in the peer, with two new YAML configs options:

profile:
    enabled: false
    listenaddress: 0.0.0.0:6060",,bcbrock,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzxdqn:",,,,Unset,,Sprint 4 - Consensus,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,bcbrock,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"22/Oct/16 11:06 AM;kchristidis;(Adding the ""consensus"" label, simply so that is shows up in our dashboard.);;;","03/Nov/16 8:51 AM;kchristidis;https://gerrit.hyperledger.org/r/2199;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Define syntax for 'new channel' configuration (or 'existing channel' reconfiguration) transaction,FAB-814,13119,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,kchristidis,kchristidis,22/Oct/16 2:10 PM,25/Jan/19 10:02 AM,28/Oct/23 2:57 AM,08/Dec/16 11:54 PM,,,,,fabric-orderer,,,0,common-components,,,,,"As a peer wishing to create a channel for private transactions with another peer (or peers), I need to know what the new-channel configuration transaction looks like (fields, values, etc.). This is essentially the transaction that the API described FAB-687 will create.

Part of this (or all of this) may be covered by: https://gerrit.hyperledger.org/r/#/c/1795/",,jyellick,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-785,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-686,,,,,,,,,"1|hzx9o7:",,,,Unset,,Sprint 7 - consensus,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,jyellick,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"07/Dec/16 10:40 PM;kchristidis;Let's update the status of this one.;;;","08/Dec/16 11:49 PM;jyellick;The syntax is certainly defined, but the contents are not.  This is because the needs of and encoding of some of the other components in the system are still being finalized.  See https://docs.google.com/document/d/1Qg7ZEccOIsrShSHSNl4kBHOFvLYRhQ3903srJ6c_AZE/edit?ts=5835b046# for discussion.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add support for endorsement of configuration transactions,FAB-815,13120,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid,,kchristidis,kchristidis,22/Oct/16 2:13 PM,12/Jul/19 8:19 PM,28/Oct/23 2:57 AM,12/Jul/19 8:19 PM,,,Future,,fabric-peer,,,0,Endorser,node-SDK,,,,,,binhn,jeffgarratt,kchristidis,mastersingh24,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-686,,,,,,,,,"1|hzx7hj:",,,,Unset,,Sprint 4 - Endorser,Sprint 5 - Consensus,Sprint 7 - Endorser,Sprint 8 - Endorser,Sprint 9 - Endorser,Sprint 10 - Endorser,Sprint 11 - Endorser,Sprint 12 - Endorser,Sprint 13 - Endorser,Sprint 14 - Endorser,Sprint 15 - Endorser,,,,,,Unset,,,,,,,,,,,binhn,jeffgarratt,kchristidis,mastersingh24,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"09/Feb/17 3:51 AM;binhn;Isn't config tx sent directly to orderer for sdk/cli?;;;","08/Apr/17 12:01 AM;muralisr;[~kchristidis]  Can you elaborate in Description (and perhaps address [~binhn] comment too) please ?;;;","08/Apr/17 12:24 AM;kchristidis;[~muralisr] My best guess is that this was created when we were trying to map out a rough plan, w/o a concrete understanding of the steps involved.

In an earlier edit, I suggested that we mark this as done (i.e. close it), however do we have a means to address the following: a configuration transaction that requires endorsement/signatures from more than one orgs? If we don't, this JIRA is relevant.;;;","08/Apr/17 12:32 AM;muralisr;thanks [~kchristidis]. Agree we should close this one. We can open another if needed.;;;","08/Apr/17 12:35 AM;muralisr;[~kchristidis] I closed too quickly...reopening for discussion.;;;","19/Apr/17 2:16 AM;binhn;[~kchristidis] [~muralisr]
I don't think this item belongs to Endorser, which doesn't have the orderer's MSP signers that might require in some config.

At this point, I think it should be an out of band process, like signing of a chaincode package. We need a standalone tool or CLI to do this.;;;","19/Apr/17 11:21 PM;jeffgarratt;Per [~binhn]'s comment, this out of band process is captured by the boostrap.feature in the BDD system (See https://github.com/hyperledger/fabric/blob/master/bddtests/features/bootstrap.feature#L120-L123).  The actual implementation can be seen here https://github.com/hyperledger/fabric/blob/master/bddtests/steps/bootstrap_impl.py#L182-L192.;;;","12/Jul/19 8:19 PM;mastersingh24;not the way things work;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
Add support for channel configuration transaction at the orderer level,FAB-816,13121,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,kchristidis,kchristidis,22/Oct/16 2:15 PM,21/Jul/18 3:57 AM,28/Oct/23 2:57 AM,03/Jan/17 11:11 PM,,,,,fabric-orderer,,,0,common-components,,,,,I expect that this is covered by the work in https://gerrit.hyperledger.org/r/#/c/1795/,,kchristidis,troyronda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-724,,,,,FAB-1278,FAB-1279,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-686,,,,,,,,,"1|hzx9r3:",,,,Unset,,Sprint 7 - consensus,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,kchristidis,troyronda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add ACL support on the orderer service for new (or reconfigured) channels,FAB-817,13122,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,kchristidis,kchristidis,22/Oct/16 2:21 PM,21/Jul/18 3:53 AM,28/Oct/23 2:57 AM,23/Nov/16 4:47 PM,,,,,fabric-orderer,,,0,consensus,,,,,"I expect a combination of FAB-593, FAB-704, FAB-705 to come handy here.",,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-593,FAB-704,FAB-705,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-686,,,,,,,,,"1|hzx9g7:",,,,Unset,,Sprint 7 - consensus,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add JoinChannel API to the Peer,FAB-818,13123,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,kchristidis,kchristidis,22/Oct/16 2:23 PM,21/Jul/18 3:54 AM,28/Oct/23 2:57 AM,03/Feb/17 1:27 AM,,,,,fabric-peer,,,0,endorser,node-SDK,,,,Details on the API here: https://docs.google.com/document/d/1eRNxxQ0P8yp4Wh__Vi6ddaN_vhN2RQHP-IruHNUwyhc/edit,,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-686,,,,,,,,,"1|hzx6bj:",,,,Unset,,Sprint 4 - Endorser,Sprint 5 - Consensus,Sprint 7 - Endorser,Sprint 8 - Endorser,Sprint 9 - Endorser,Sprint 10 - Endorser,Sprint 11 - Endorser,,,,,,,,,,Unset,,,,,,,,,,,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
As an ordering service user I want to have multi-chain support,FAB-819,13124,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,kchristidis,kchristidis,kchristidis,22/Oct/16 2:28 PM,21/Jul/18 3:55 AM,28/Oct/23 2:57 AM,17/Dec/16 12:02 AM,,,,,fabric-orderer,,,0,kafka,,,,,"I want to be able to send a ConfigurationEnvelope that calls for the creation of a new ChainID, and have a new chain created. I then want to be able to then broadcast and deliver on that chain.

This story will NOT cover the following: The logic that turns a new-chain ConfigurationEnvelope and creates an appropriate genesis block for that new chain. The code that will be delivered with this story will keep using the same genesis block (the one returned by the static bootstrapper).",,kchristidis,troyronda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-32,,,,,FAB-993,FAB-994,FAB-995,FAB-996,FAB-997,FAB-998,FAB-999,FAB-1000,FAB-1013,,,,,,,,,,,,,,Unset,,,FAB-686,,,,,,,,,"1|hzx9gv:",,,,Unset,,Sprint 4 - Consensus,Sprint 5 - Consensus,Sprint 7 - consensus,,,,,,,,,,,,,12.0,Unset,,,,,,,,,,,kchristidis,troyronda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"16/Dec/16 1:31 PM;kchristidis;# Fetch and checkout this changeset: https://gerrit.hyperledger.org/r/#/c/3361/
# Download this `docker-compose.yml` file https://gist.github.com/kchristidis/a53c24a334abb4e96219aa938f9e1b62 or just add a `7050:7050` port mapping to the `docker-compose.yml` file in `bddtests/environments/orderer-1-kafka-1` then do: docker-compose up
# cd orderer/sample_clients/broadcast_config; go build; ORDERER_KAFKA_BROKERS=[kafka0:9092] ./broadcast_config -cmd newChain -consensusType kafka -chainID new_chain
# cd orderer/sample_clients/broadcast_timestamp; go build; ./broadcast_timestamp -messages 10 -chainID new_chain
# cd orderer/sample_clients/deliver_stdout; go build; ./deliver_stdout -chainID new_chain (you are now reading the chain of new_chain - it has two blocks the genesis block that you created in step 3, and the block containing 10 transactions that you created in step 4);;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Admin GRPC API,FAB-820,13125,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,binhn,binhn,23/Oct/16 1:11 AM,21/Jul/18 3:56 AM,28/Oct/23 2:57 AM,03/Jun/17 6:40 PM,,,Future,,fabric-peer,,,0,endorser,Endorser,,,,"We currently have a number of administrative API defined in server_admin.proto and devops.proto. We need to re-evaluate these, especially devops since most functions are taken care of by the life-cycle system chaincode. ",,binhn,denyeart,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-754,,,,,,,,,"1|hzx7hr:",,,,Unset,,Sprint 5 - Endorser,Sprint 6 - nodeSDK,Sprint 9 - Endorser,Sprint 10 - Endorser,Sprint 11 - Endorser,Sprint 12 - Endorser,Sprint 13 - Endorser,Sprint 14 - Endorser,Sprint 15 - Endorser,,,,,,,,Unset,,,,,,,,,,,binhn,denyeart,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"09/Feb/17 10:35 PM;muralisr;[~binhn] This is now the ""query"" system chaincode we have in place, right ? Can we remove this ?;;;","10/Feb/17 12:33 AM;binhn;We need to work with Jeff to remove protos/peer/admin.proto, especially the set of GRPC APIs that have no security:

```
service Admin {
    // Return the serve status.
    rpc GetStatus(google.protobuf.Empty) returns (ServerStatus) {}
    rpc StartServer(google.protobuf.Empty) returns (ServerStatus) {}
    rpc StopServer(google.protobuf.Empty) returns (ServerStatus) {}
    rpc GetModuleLogLevel(LogLevelRequest) returns (LogLevelResponse) {}
    rpc SetModuleLogLevel(LogLevelRequest) returns (LogLevelResponse) {}
}
```;;;","12/Apr/17 3:54 AM;denyeart;[~binhn][~jeffgarratt] What remains to be done for this one before we can close?;;;","19/Apr/17 4:32 AM;muralisr;We should avoid multiple entry points to the peer. We should do all these admin related activities with a ""admin"" System Chaincode (""ascc"" ?) where we can properly do ACL and other checks rather than keep the old GRPC api. Too late for 1.0, moving to 1.1.;;;","19/Apr/17 6:20 AM;binhn;I think we should move this out of 1.0 as these fucntions are currently called by CLI `peer node` and `peer logging`, which would require a lot of work to replace with scc. ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Size broadcaster's batchChan appropriately,FAB-821,13126,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,kchristidis,kchristidis,23/Oct/16 1:51 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,24/Nov/16 12:35 AM,,,,,fabric-orderer,,,0,consensus,help-wanted,,,,"See https://gerrit.hyperledger.org/r/#/c/1627/3/orderer/kafka/broadcast.go@50 and [~bcbrock]'s comment for details.

batchChan is the buffered channel where the broadcaster part of the Kafka shim holds incoming messages until it's time to cut a new block. In the current solo-like implementation, setting the number of elements of this buffer equal to the number of messages a block is expected to have is short-sighted.

We are now moving towards a model where the shim just relays each message to the broker as it receives it, so the original problem goes away, but we should still come up with an appropriate capacity for this.

Do we expose this as a configuration parameter with a sensible default and call it a day? (And what makes for a sensible default?)",,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-32,,,,,,,,,"1|hzx9nz:",,,,,,Sprint 6 - consensus,,,,,,,,,,,,,,,0.0,,,,,,,,,,,,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"24/Nov/16 12:34 AM;kchristidis;Removing as the common blockcutter is rendering this obsolete.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
DeleteTable doesn't delete rows have keys begin with an empty string,FAB-822,13127,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,zanejia,zanejia,zanejia,24/Oct/16 5:26 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,02/Apr/17 9:28 PM,v0.6,,WON'T FIX,,fabric-peer,,,0,,,,,,"Since the InsertRow operation does not prevent the length of a string (or bytes) type column's value being zero.

Suppose there is a table looks like this:

tableName: MyTable
|| _ROW-DEFINITION_ || string, key=true || int, key=false ||
| _ROW-VALUE_ | """" | 47 |

table key: 7MyTable
row key: 7MyTable0

The DeleteTable operation just delete rows searched by RangeStateQuery(tableKey + ""1"", tableKey + "":"").
So the row {"""", 47} won't be deleted.

Similarly, the GetRows operation won't get some rows contain empty strings.

",,mastersingh24,zanejia,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxdfz:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mastersingh24,zanejia,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"24/Oct/16 7:05 PM;zanejia;https://gerrit.hyperledger.org/r/#/c/1907/;;;","02/Apr/17 9:28 PM;mastersingh24;This was filed against v0.6 which is no longer in active development and this issue is no longer relevant in v1.0.0 since we no longer have the table API;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
As an infrastructure developer i want to build a default membership service provider for peer functionality,FAB-824,13129,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ales,elli-androulaki,elli-androulaki,24/Oct/16 8:51 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,09/Jan/17 9:48 PM,,,,,fabric-crypto,,,0,Security,,,,,"On one hand, here we would need to refactor the code associated to membership service functionalities, i.e., code for signing w.r.t. a certificate, certificate signature verification to export the interface agreed within FAB-829. This would substitute the default membership service provider for fabric. 
Another task associated to this story is that throughout the implementation of this default IDP we would need to make sure that crypto calls go through our BC-CSP that was implemented in FAB-355.",,elli-androulaki,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-354,FAB-355,,,,FABN-734,FAB-1986,,,,,,,,,,,,,,,,,,,,,,,,FAB-1321,,,,,,,,,"1|hzx80f:",,,,,,Sprint 6 - Crypto,Sprint 5 - Crypto,Sprint 7 - Crypto,Sprint 8 - Crypto,Sprint 9 - Crypto,Sprint 9  - Crypto,,,,,,,,,,4.0,,,,,,,,,,,,elli-androulaki,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
As an infrastructure developer i want to implement ACLs on (channel) events,FAB-826,13131,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid,,elli-androulaki,elli-androulaki,24/Oct/16 9:38 PM,12/Jul/19 8:43 PM,28/Oct/23 2:57 AM,12/Jul/19 8:43 PM,,,Unverifiable,,fabric-crypto,,,0,security,,,,,Implement the technique designed in FAB-637 for registration (access control enforcement) to a channel's events. Extend that implementation to have a aper-channel access policy/check.,,elli-androulaki,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-637,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx9mf:",,,,,,Sprint 6 - consensus,,,,,,,,,,,,,,,8.0,,,,,,,,,,,,elli-androulaki,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"29/Nov/16 1:13 AM;elli-androulaki;This is covered by the chain ACL analysis described in this document: 
https://docs.google.com/document/d/1Qg7ZEccOIsrShSHSNl4kBHOFvLYRhQ3903srJ6c_AZE/edit?usp=sharing;;;","12/Jul/19 8:43 PM;mastersingh24;we have this but not quite done this way;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add config option in core.yaml to switch state database from goleveldb to CouchDB,FAB-827,13132,13091,Sub-task,Closed,FAB,Fabric,software,denyeart,,,High,Done,chris.elder,denyeart,denyeart,24/Oct/16 9:39 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,22/Nov/16 12:27 AM,,,,,fabric-ledger,,,0,Ledger,,,,,,,denyeart,inatatsu,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxdgv:",,,,,,Sprint 5 - Ledger,,,,,,,,,,,,,,,,,,,,,,,,,,,denyeart,inatatsu,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"10/Nov/16 9:25 PM;mastersingh24;I assume this should now be switch between LedgerDB and CouchDB?    

Also - do we plan to support mixed mode deployments - where some peers can be using LedgerDB and some using CouchDB?   I imagine this COULD be problematic if we support extended APIs for Couch;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Create couchdb database automatically for main system ledger,FAB-828,13133,,Story,Closed,FAB,Fabric,software,denyeart,,,High,Done,,denyeart,denyeart,24/Oct/16 9:41 PM,21/Jul/18 3:55 AM,28/Oct/23 2:57 AM,05/Nov/16 8:48 PM,,,,,fabric-ledger,,,0,Ledger,,,,,"The assumption is that all chaincode will run in one CouchDB database for the system ledger, and there will be separate databases for each subledger.",,chrisconway,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-60,,,,,,,,,"1|hzxdh3:",,,,Unset,,Sprint 4 -xxxxx,,,,,,,,,,,,,,,2.0,Unset,,,,,,,,,,,chrisconway,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
As an application/infrastructure developer I want to design a generic membership service interface,FAB-829,13134,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,elli-androulaki,elli-androulaki,elli-androulaki,24/Oct/16 9:52 PM,21/Jul/18 3:56 AM,28/Oct/23 2:57 AM,23/Jan/17 9:12 PM,,,,,fabric-crypto,,,0,security,,,,,"This item reflects the work needed to design an interface for membership services operations (issuing/managing certificates, and authentication mechanisms using those certificates) in a way that that interface does not depend on the exact implementation/cryptographic primitives that the membership service uses. 

This interface is to be integrated to core operations of the fabric, such that a fabric deployer who wishes to substitute only membership service component of the system, is able to do so without affecting the code of fabric core/transaction processing. 

Wee need to define one interface used by the infrastructure (verification MSP interface) and one for the client to construct transactions (retrieving the corresponding certificates), and signing with its secret key.

",,elli-androulaki,smithbk,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,288000,288000,,0%,288000,288000,,,,,,,,,,,,,,,,,,,,,,FAB-580,FAB-581,FAB-582,,,FAB-1077,,,,,,,,,"27/Oct/16 12:59 AM;elli-androulaki;mspIF-v3.pdf;https://jira.hyperledger.org/secure/attachment/10201/mspIF-v3.pdf",,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzx7u7:",,,,Unset,,Sprint 4 - Crypto,Sprint 5 - Crypto,Sprint 7 - Crypto,Sprint 8 - Crypto,Sprint 9 - Crypto,Sprint 9  - Crypto,Sprint 10 - Crypto,,,,,,,,,8.0,Unset,,,,,,,,,,,elli-androulaki,smithbk,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"04/Nov/16 10:13 PM;elli-androulaki;Related Gerrit changeset: 
https://gerrit.hyperledger.org/r/#/c/2243/
;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
As an application developer I want to have available an application library to offer encryption on transaction data.,FAB-830,13135,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ales,elli-androulaki,elli-androulaki,24/Oct/16 9:55 PM,21/Jul/18 3:56 AM,28/Oct/23 2:57 AM,30/Oct/17 3:16 AM,,,v1.1.0-preview,,fabric-crypto,,,2,Release-planning-1.1,security,,,,"This relates to fabric application security, and aims to define and implement an interface of a library that an application developer can use to enhance proposals/transactions with certain encryption-based confidentiality mechanisms.",,binhn,denyeart,DrVadson,elli-androulaki,fredbi,Hangyu_FJH,MichaelWang,troyronda,vdods,weeds,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,432000,432000,,0%,950400,950400,,,,,,,,,,,,FAB-6439,FAB-6753,,,,,,FAB-1559,,,,,,,,FAB-6535,FAB-7066,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzx6in:",,,,Unset,,Sprint 10 - Crypto,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,binhn,denyeart,DrVadson,elli-androulaki,fredbi,Hangyu_FJH,MichaelWang,troyronda,vdods,weeds,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,main,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,release-2.4,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,lindluni-patch-1,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,mergify/bp/release-2.2/pr-3750,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,mergify/bp/release-2.2/pr-4374,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,true,"08/Apr/17 4:49 AM;binhn;I am moving this to post 1.0;;;","11/Aug/17 9:18 PM;weeds;WE have a lot of this work that we can pull from another project that we might be able to contribut, and we have about 5 days of work that would have to be done if want it .;;;","29/Aug/17 10:00 PM;elli-androulaki;Related CRs:

[https://gerrit.hyperledger.org/r/#/c/12809/] - merged

[https://gerrit.hyperledger.org/r/#/c/12811/]

[https://gerrit.hyperledger.org/r/#/c/12787/] - merged

[https://gerrit.hyperledger.org/r/#/c/12781/] - merged;;;","20/Sep/17 6:21 AM;denyeart;It is not viable to deliver FAB-830 as a production feature without FAB-5951 and FAB-5952, since they add support for multiple (deterministic) endorsements.  Therefore I've included them as subtasks of FAB-830.;;;","13/Oct/17 12:04 AM;elli-androulaki;Related documentation : [https://docs.google.com/document/d/1NA3mxhwiH00Vi7MU5WyX6O9di6NJQxquQYAVW-icUl0/edit?usp=sharing]

 ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
As an application I want to have available a library to  help me enforce invocation access control on my chaincodes.,FAB-831,13136,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,angelo.decaro,elli-androulaki,elli-androulaki,24/Oct/16 9:56 PM,28/Jul/19 1:24 AM,28/Oct/23 2:57 AM,28/Jul/19 1:24 AM,,,,,fabric-crypto,,,0,Release-planning-1.2,Security,,,,,,ChristopherFerris,elli-androulaki,inatatsu,johncaboose,kenzhang,satheeshk,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,288000,288000,,0%,288000,288000,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-1219,,,,,,,,,"1|hzwrwn:",,,,Unset,,Sprint 9 - Crypto,Sprint 10 - Crypto,Sprint 12 - Crypto,,,,,,,,,,,,,8.0,Unset,,,,,,,,,,,ChristopherFerris,elli-androulaki,inatatsu,johncaboose,kenzhang,satheeshk,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"06/Jul/18 9:36 PM;ChristopherFerris;[~elli-androulaki] can this be marked Done? Why are all these items from way back when still open?;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
As an application developer I want to define an interface for an application library to offer confidentiality of transaction data.,FAB-832,13137,13135,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,elli-androulaki,elli-androulaki,24/Oct/16 9:59 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,01/Sep/17 8:19 PM,,,,,fabric-crypto,,,0,,,,,,"This relates to the design of an interface of a library offering application level confidentiality.
That would, e.g., enable an application developer to leverage proposals that organize their transient data in such a way, that would enable the chaincode to perform encryption/decryption  without keys being stored to the blockchain.",,ChristopherFerris,elli-androulaki,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,144000,144000,,0%,144000,144000,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxdhb:",,,,,,Sprint 10 - Crypto,,,,,,,,,,,,,,,4.0,,,,,,,,,,,,ChristopherFerris,elli-androulaki,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"14/Apr/17 9:54 AM;ChristopherFerris;[~ellaki] to which version does this apply? if no longer relevant, please set fixVersion WON'T FIX and close.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
As an application developer I want to implement an application library to offer confidentiality of transaction data.,FAB-833,13138,13135,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,elli-androulaki,elli-androulaki,24/Oct/16 10:00 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,26/Sep/17 10:25 PM,,,v1.1.0,,fabric-crypto,,,0,,,,,,This task relates to the implementation of the interface defined in previous work item of 830.,,ChristopherFerris,elli-androulaki,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,288000,288000,,0%,288000,288000,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxdhj:",,,,,,Sprint 10 - Crypto,,,,,,,,,,,,,,,8.0,,,,,,,,,,,,ChristopherFerris,elli-androulaki,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"14/Apr/17 9:53 AM;ChristopherFerris;[~ellaki] to which version does this apply? if no longer relevant, please set fixVersion WON'T FIX and close.;;;","14/Apr/17 6:22 PM;elli-androulaki;This relates to the encryption library we want to offer to the application to allow it to encrypt parts of its state. Part of post v1 components.;;;","26/Sep/17 10:25 PM;Clayton Sims;Marking done per RC with Elli;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As a Fabric user, I want to know how the Kafka-based ordering service works",FAB-835,13140,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,kchristidis,kchristidis,kchristidis,25/Oct/16 12:10 AM,21/Jul/18 3:53 AM,28/Oct/23 2:57 AM,25/Nov/16 1:33 AM,,,,,fabric-orderer,,,1,consensus,,,,,"We've designed this out in the open, and all the logic is written down in the various JIRA issues that belong to FAB-32, and in #fabric-consensus-dev.

However, it's necessary to wrap everything up in a single document that acts as a point of reference.",,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-32,,,,,,,,,"1|hzx9mv:",,,,Unset,,Sprint 5 - Consensus,Sprint 6 - consensus,,,,,,,,,,,,,,2.0,Unset,,,,,,,,,,,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"25/Nov/16 1:33 AM;kchristidis;https://docs.google.com/document/d/1vNMaM7XhOlu9tB_10dKnlrhy5d7b1u8lSY8a-kVjCO4/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Busywork End-Of-Life,FAB-838,13143,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,bcbrock,bcbrock,bcbrock,25/Oct/16 1:33 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,05/Nov/16 6:56 PM,,,v0.6,,,,,0,busywork,,,,,"The busywork project has failed and should be deprecated:

* I noted in the original HIP that the project would only succeed if the community became involved. Although busywork is used by IBM teams for testing of v0.6 code, to date I am the only person who has ever suggested changes to busywork.

* On multiple occasions busywork has stopped working due to API changes, and as far as I know no-one has ever complained publicly.

* I have no plans to modify busywork to use the SDK interfaces, or to support the V1 architecture.

Although I still believe that the Hyperledger fabric needs comprehensive, system-level stress testing and benchmarking, busywork (at least in its current form) is not the solution. Now that the feature/convergence branch has been merged to master, I propose the following

* Merge appropriate busywork updates from the master branch into the v0.6 branch

* Delete fabric/tools/busywork from the master branch",,bcbrock,inatatsu,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxdhr:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,bcbrock,inatatsu,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,v0.6,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"05/Nov/16 6:56 PM;mastersingh24;https://gerrit.hyperledger.org/r/#/c/2143/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Create per-session buffered channel for broadcast responses,FAB-839,13144,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sanchezl,kchristidis,kchristidis,25/Oct/16 1:39 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,15/Nov/16 10:23 PM,,,,,fabric-orderer,,,0,consensus,,,,,"The Recv path should as clear from blocks as possible. An appropriately-sized buffered response channel per connected client and a non-blocking write to it is the way to go.

See https://gerrit.hyperledger.org/r/#/c/1627/5/orderer/kafka/broadcast.go@129 for more details.",,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-32,,,,,,,,,"1|hzx8fj:",,,,,,Sprint 4 - Consensus,Sprint 5 - Consensus,,,,,,,,,,,,,,2.0,,,,,,,,,,,,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"27/Oct/16 4:32 AM;kchristidis;Changeset: https://gerrit.hyperledger.org/r/#/c/2043/1;;;","07/Nov/16 1:12 AM;kchristidis;Let's post an update here summarizing what's the status of this, and what's left before it gets marked as DONE.

(Basically a summary of the reviews we're exchanging on Gerrit + the plan moving forward.);;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
reduce viewchange requests from reconnected spare nodes,FAB-840,13145,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,scottz,scottz,25/Oct/16 3:14 AM,21/Jul/18 3:53 AM,28/Oct/23 2:57 AM,08/Apr/17 5:06 AM,,,WON'T FIX,,fabric-orderer,,,0,0.6,,,,,"Reference FAB-707 for more details.
After VP3 restarted, it missed some sequence numbers for transactions that occurred while it was down, so it advanced its view requested a viewchange - but the network had not advanced its view. So VP3 ledger lags behind, and VP3 sends repeated viewchange requests, until the rest of the network decides on a viewchange. At this point, VP3 is a ""spare"" validating peer node, that could participate if other working nodes stop - but there is not a good way to tell if it is in this state or is intentionally byzantine.

This issue is for implementing an optimization to stop VP3 and other ""spare"" nodes  from forever sending viewchange requests every 2 seconds, in this situation. As many as ""F"" nodes could broadcast these wasteful, confusing, useless messages into the network. 
",,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-707,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzxdhz:",,,,Unset,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
gRPC API for replica state information,FAB-841,13146,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,scottz,scottz,25/Oct/16 3:21 AM,21/Jul/18 3:56 AM,28/Oct/23 2:57 AM,29/Mar/17 4:09 AM,,,,,fabric-orderer,,,0,common-components,,,,,"This issue is created for v1.0, to provide an API as suggested (gRPC) for the peers to provide as many details as possible about their replica state. This should help a network manager determine whether the peer is participating in the network, or is byzantine or not.

Reference FAB-707 for more details.
After VP3 restarted, it missed some sequence numbers for transactions that occurred while it was down, so it advanced its view requested a viewchange - but the network had not advanced its view. So VP3 ledger lags behind, and VP3 sends repeated viewchange requests, until the rest of the network decides on a viewchange. At this point, VP3 is a ""spare"" validating peer node, that could participate if other working nodes stop - but there is not a good way to tell if it is in this state or is intentionally byzantine.

> As a Network Operations Manager/Observer, how can I determine the health of the network? Can I tell how many peer nodes that can be counted on, at any given moment? That would be the sum of the number of valid nodes plus any such as VP3. Or it might the the sum of functional nodes minus the number of byzantines. Let me rephrase: a network management tool could ping all the peers in the network to see which are functioning. It could also query them all to see their chainheights or chaincode data values. It would observe VP3 is lagging. Is it considered byzantine? Or, could the tool determine whether VP3 is ""giving an honest effort"" and is in such a state that it could help the network (eventually) if it becomes necessary due to other node faults? How could it distinguish between an OK node like this and a truly faulty/byzantine node?

Under true byzantine conditions, you can always be assured the there are f+1 correct peers actively participating in the network. You may be able to identify replicas which are not actively participating by examining their chain heights, but this is not foolproof. It's essentially impossible to determine byzantine from best effort, the best you could hope for is for the replica to report that it knows it is out of sync. For future work, I think it would be a good idea to include a gRPC call to get replica state (whether its view is active, what view, what seqno, etc.), but in v0.5/0.6 there is nothing of this sort.
",,kchristidis,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-707,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzxdi7:",,,,Unset,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,kchristidis,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"08/Dec/16 8:52 AM;kchristidis;Is this covered by FAB-1300?;;;","29/Mar/17 4:09 AM;kchristidis;Marking it as Done assuming it's covered by FAB-1300. If not, please re-open.;;;","29/Mar/17 11:03 PM;scottz;OK, I added a note to FAB-1300 to reference this one, and I accept closure of this as a duplicate.;;;","29/Mar/17 11:50 PM;kchristidis;Got it, thanks Scott.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Rework CLI for the endorsement model,FAB-842,13147,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,binhn,binhn,25/Oct/16 3:32 AM,01/May/19 2:34 AM,28/Oct/23 2:57 AM,01/May/19 2:34 AM,,,Future,,fabric-peer,,,0,endorser,,,,,"The new model requires multiple changes to the current CLI, including:
# Chaincode life-cycle  supports like deploy, invoke, query, upgrade
# Additional admin commands such as logging, status of peer and orderer

We no longer technically require deploy, invoke, query transactions since all are handled by the life-cycle system chaincode, so these various transactions are just function calls on the life-cycle system chaincode.  However, for clarity at the user level, the CLI should provide explicit specification for each deploy, invoke, query, and update.",,binhn,inatatsu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-884,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-37,,,,,,,,,"1|hzxdif:",,,,Unset,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,binhn,inatatsu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Running behave tests Exception ImportError: No module named google.protobuf,FAB-843,13148,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,,jjjjibm,jjjjibm,25/Oct/16 4:04 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,14/Apr/17 8:15 AM,,,v1.0.0,,fabric-build,,,0,,,,,,"I cloned fabric 'master' today and ran 'make all'.  The make fails running the behave tests:

Running behave tests
Exception ImportError: No module named google.protobuf
Traceback (most recent call last):
  File ""/usr/local/bin/behave"", line 11, in <module>
    sys.exit(main())
  File ""/usr/local/lib/python2.7/dist-packages/behave/__main__.py"", line 109, in main
    failed = runner.run()
  File ""/usr/local/lib/python2.7/dist-packages/behave/runner.py"", line 672, in run
    return self.run_with_paths()
  File ""/usr/local/lib/python2.7/dist-packages/behave/runner.py"", line 678, in run_with_paths
    self.load_step_definitions()
  File ""/usr/local/lib/python2.7/dist-packages/behave/runner.py"", line 658, in load_step_definitions
    exec_file(os.path.join(path, name), step_module_globals)
  File ""/usr/local/lib/python2.7/dist-packages/behave/runner.py"", line 304, in exec_file
    exec(code, globals, locals)
  File ""steps/bdd_grpc_util.py"", line 20, in <module>
    import devops_pb2
  File ""/home/ibmadmin/work/src/github.com/hyperledger/fabric/bddtests/devops_pb2.py"", line 6, in <module>
    from google.protobuf import descriptor as _descriptor
ImportError: No module named google.protobuf
make: *** [behave] Error 1
ibmadmin@jcwNodeSDK:~/work/src/github.com/hyperledger/fabric$

How to recreate:
1.cd to $GOPATH/src/github.com/hyperledger
2.git clone http://gerrit.hyperledger.org/r/fabric
3.cd fabric
4.make all   OR make behave

",vlaunch VM running Ubuntu 14.04.5 LTS (GNU/Linux 3.13.0-85-generic x86_64),ChristopherFerris,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxdin:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"14/Apr/17 8:15 AM;ChristopherFerris;believe this is fixed;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Clean up post merge,FAB-844,13149,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,muralisr,binhn,binhn,25/Oct/16 4:48 AM,21/Jul/18 3:54 AM,28/Oct/23 2:57 AM,27/Oct/16 2:09 AM,,,,,fabric-peer,,,0,Endorser,,,,,"# Move peer to peerold and peernext to peer.
# Rename ledger to ledgerold and ledgernext to ledger.
",,binhn,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-853,FAB-854,,,,,,,,FAB-631,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzxdkn:",,,,Unset,,Sprint 4 - Endorser,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,binhn,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"27/Oct/16 2:09 AM;muralisr;Clean up w.r.t ledger and peer done. Protos work in another task. Closing this as dependent tasks are done and merged.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fix up protos post merge,FAB-845,13150,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,muralisr,binhn,binhn,25/Oct/16 4:51 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,29/Oct/16 5:06 AM,,,,,fabric-peer,,,0,Endorser,,,,,Rebase protos to master branch,,binhn,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-1252,,,,,,,,,FAB-631,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-37,,,,,,,,,"1|hzxdkv:",,,,,,Sprint 4 - Endorser,,,,,,,,,,,,,,,,,,,,,,,,,,,binhn,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"29/Oct/16 5:06 AM;muralisr;Merged in https://gerrit.hyperledger.org/r/#/c/2081/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove REST API,FAB-846,13151,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jiangyaoguo,binhn,binhn,25/Oct/16 4:52 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,21/Dec/16 12:03 PM,,,,,fabric-peer,,,0,Endorser,,,,,Remove REST API from Peer and fix up the CLI,,binhn,jiangyaoguo,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-631,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxdiv:",,,,,,Sprint 5 - gossip,,,,,,,,,,,,,,,,,,,,,,,,,,,binhn,jiangyaoguo,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"26/Oct/16 10:17 PM;jiangyaoguo;Start with https://gerrit.hyperledger.org/r/#/c/2035/
IIUC, REST API server will be build to a independent target like ""apiserver"", not included in peer.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Distribute genesis block to all orderers,FAB-847,13152,12968,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,tuand,tuand,25/Oct/16 5:15 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,25/Oct/16 6:34 AM,,,,,fabric-orderer,,,0,consensus,,,,,"Once we gather the information needed and create the genesis block via FAB-665, distribute the genesis block to all orderers or save block hash for bootstrap admin.

At this point, we are still doing distribution manually so the thought is to copy the genesis block to a specific spot in the file system. Verify the file system location with Keith's group and update BDD accordingly.",,kchristidis,tuand,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxdj3:",,,,,,Sprint 5 - Consensus,Sprint 9 - consensus,,,,,,,,,,,,,,,,,,,,,,,,,,kchristidis,tuand,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"25/Oct/16 6:32 AM;kchristidis;# I think the description here should be revised: we will either adopt a pull model (where the orderers make a call to the bootstrap admin to get the block), or go with what Binh had suggested where the orderer admins have access to the same material as the bootstrap admin (see FAB-665) and they generate the genesis block locally. Of course, that exposes us to issues with deterministic marshaling, so the pull model is probably better.
# At any rate, I am not sure why the filesystem location of the genesis block falls into the security domain. If anything, I would expect it to be a ledger-related issue.

I will move this one to the graveyard, as I think the filesystem location is the deliverable here, and it seems a bit small to stand on its own.;;;","25/Oct/16 6:34 AM;kchristidis;Subtasks cannot be moved to epics, so they cannot be moved to the graveyard.

Will mark it as done, to remove it from the view - if you disagree, we'll reinstate it.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Orderer bootstrap,FAB-848,13153,12968,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,tuand,tuand,25/Oct/16 5:19 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,25/Oct/16 6:46 AM,,,,,,,,0,,,,,,"On orderer bootstrap, read genesis block from file system, parse and save policies, orderer whitelist and peer org certs to appropriate locations then pass control to next orderer process.",,jyellick,kchristidis,tuand,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxdjb:",,,,,,Sprint 5 - Consensus,Sprint 9 - consensus,,,,,,,,,,,,,,0.0,,,,,,,,,,,,jyellick,kchristidis,tuand,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"25/Oct/16 6:30 AM;kchristidis;I think everything here is covered by the work in FAB-498. Will ask Jason to chime in.;;;","25/Oct/16 6:41 AM;jyellick;Yes, I'd agree, this is covered by FAB-498.  This addresses the machinery necessary to do all of the above.  For specific orderer processes (like sbft vs kafka) the actual config required will vary, and the specific implementations are pending.;;;","25/Oct/16 6:46 AM;kchristidis;Cannot move to graveyard as sub-tasks cannot be moved to epics, so will mark it as done to remove it from view.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove the SDK from the fabric repo,FAB-849,13154,,Story,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,cdaughtr,mastersingh24,mastersingh24,25/Oct/16 7:07 PM,21/Jul/18 3:55 AM,28/Oct/23 2:57 AM,28/Oct/16 1:03 PM,,,,,fabric-sdk-node,,,0,node-SDK,,,,,"In fabric v1, the various clients SDKs have been moved (or created as) separate repositories.
We need to remove the SDK from the core fabric repo",,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,28800,28800,,0%,39600,39600,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzx8nj:",,,,Unset,,Sprint 4 - nodeSDK,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
delete sdk directory from fabric master,FAB-850,13155,13154,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,cdaughtr,mastersingh24,mastersingh24,25/Oct/16 7:09 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,26/Oct/16 2:53 AM,,,,,fabric-sdk-node,,,0,,,,,,need to delete the sdk folder from the fabric master branch,,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,3600,3600,,0%,3600,3600,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxdjj:",,,,,,Sprint 4 - nodeSDK,,,,,,,,,,,,,,,,,,,,,,,,,,,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"26/Oct/16 2:52 AM;mastersingh24;duplicate of FAB-782;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
remove node-sdk tests from CI,FAB-851,13156,13154,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,rameshthoomu,mastersingh24,mastersingh24,25/Oct/16 7:10 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,26/Oct/16 9:17 AM,,,,,,,,0,,,,,,"Need to remove the node sdk tests from CI for fabric master.  If this is a problem, I can no-op them in the Makefile",,mastersingh24,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,3600,3600,,0%,3600,3600,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxdjr:",,,,,,Sprint 4 - nodeSDK,,,,,,,,,,,,,,,,,,,,,,,,,,,mastersingh24,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"25/Oct/16 11:09 PM;rameshthoomu;[~mastersingh24]: We have a sdk-node job to test node-sdk changes only on v0.6 branch from Fabric repository. I have submitted patch to disable sdk-node tests from CI-pipeline. later I realized your request is only to disable node sdk tests on master branch.  Do you want me to disable node-sdk jobs completely from fabric repo or only on master.

FYI: We have a new job created and operational to test fabric-node-sdk changes from fabric-node-sdk repository.  ;;;","26/Oct/16 2:52 AM;mastersingh24;[~rameshthoomu] just disable on master please.  we'll still need them on v0.6 as the sdk and fabric are still tied together in that branch;;;","26/Oct/16 5:18 AM;rameshthoomu;[~mastersingh24] As mentioned we don't have job to perform node sdk tests on master branch.  I will enable node-sdk job in Jenkins ci until sdk node is completely removed from fabric repo.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
remove references to node sdk from Makefile,FAB-852,13157,13154,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,mastersingh24,mastersingh24,mastersingh24,25/Oct/16 7:13 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,26/Oct/16 2:53 AM,,,,,,,,0,,,,,,need to delete all references to the node sdk in the Makefile,,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,3600,3600,,0%,3600,3600,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxdjz:",,,,,,Sprint 4 - nodeSDK,,,,,,,,,,,,,,,,,,,,,,,,,,,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"25/Oct/16 11:17 PM;mastersingh24;In the initial phase, I plan to just no-op the tasks until they are removed from CI;;;","25/Oct/16 11:31 PM;mastersingh24;duplicate of FAB-782;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Rename ledger to ledgerold and ledgernext to ledger,FAB-853,13158,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,muralisr,muralisr,muralisr,25/Oct/16 7:45 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,26/Oct/16 9:16 PM,,,,,fabric-peer,,,0,Endorser,,,,,,,mastersingh24,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-844,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-37,,,,,,,,,"1|hzxdk7:",,,,,,Sprint 4 - Endorser,,,,,,,,,,,,,,,,,,,,,,,,,,,mastersingh24,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"25/Oct/16 8:43 PM;muralisr;Working on this today. goal to complete this today.;;;","26/Oct/16 12:00 AM;mastersingh24;does this mean we can remove all of the old ledger code as well after this?  I was not sure if this was done based on your previous change to pare things down;;;","26/Oct/16 9:13 AM;muralisr;[~mastersingh24] yes, the previous change no longer uses ""ledger"". This finalizes that by moving ledgernext to ledger. We could remove the old ledger completely but thought we could leave it around to make it easy for ledger folks to pick up any reusable code easily.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Move peer to peerold and peernext to peer,FAB-854,13159,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jeffgarratt,muralisr,muralisr,25/Oct/16 8:08 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,26/Oct/16 9:18 PM,,,,,fabric-peer,,,0,Endorser,,,,,,,jeffgarratt,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-844,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxdl3:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,jeffgarratt,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"25/Oct/16 8:44 PM;muralisr;working on this today. Goal to complete this today.;;;","25/Oct/16 11:02 PM;muralisr;Thanks [~jeffgarratt] for picking up moving peernext to peer;;;","26/Oct/16 2:46 AM;jeffgarratt;Addressed in [this gerrit changeset|https://gerrit.hyperledger.org/r/#/c/1993/];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Gossip pull algorithm fix,FAB-855,13160,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,25/Oct/16 8:33 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,25/Oct/16 10:36 PM,,,,,,,,0,,,,,," Had a bug in the pull algorithm: 
The NONCE set was actually needed to be split into 2 diff sets, because servicing sync requests has nothing to do with initiating them, and the cleanup of initiated sync requests effected sync requets that were serviced. 

Added a unit test that successfully reproduced the bug, and after I fixed it it always succeeds.

Ie99f41485a41ddb46e99d8fa7d8db408f669b20c
https://gerrit.hyperledger.org/r/#/c/1975/",,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-290,,,,,,,,,"1|hzxdlb:",,,,,,Sprint 4 - Gossip,,,,,,,,,,,,,,,,,,,,,,,,,,,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Consensus continues when failure expected with docker compose,FAB-866,13171,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,latitiah,latitiah,26/Oct/16 1:54 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,14/Apr/17 8:39 AM,v0.6,,WON'T FIX,,fabric-orderer,,,0,,,,,,"Given the following behave Scenario:
```
  Scenario: 10 peer network - basic consensus
    Given we compose ""docker-compose-10-consensus.yml""
    And I register with CA supplying username ""binhn"" and secret ""7avZQLwcUe9q"" on peers:
                                 | vp0  |
    And I use the following credentials for querying peers:
                                 | peer  |   username   |    secret    |
                                 | vp0   |  test_user0  | MS9qrN8hFjlE |
                                 | vp1   |  test_user1  | jGlNl6ImkuDo |
                                 | vp2   |  test_user2  | zMflqOKezFiA |
                                 | vp3   |  test_user3  | vWdLCE00vJy0 |
                                 | vp4   |  test_user4  | 4nXSrfoYGFCP |
                                 | vp5   |  test_user5  | yg5DVhm0er1z |
                                 | vp6   |  test_user6  | b7pmSxzKNFiw |
                                 | vp7   |  test_user7  | YsWZD4qQmYxo |
                                 | vp8   |  test_user8  | W8G0usrU7jRk |
                                 | vp9   |  test_user9  | H80SiB5ODKKQ |

    When requesting ""/network/peers"" from ""vp0""
    Then I should get a JSON response with array ""peers"" contains ""10"" elements

    # Deploy
    When I deploy chaincode ""github.com/hyperledger/fabric/examples/chaincode/go/chaincode_example02"" with ctor ""init"" to ""vp0""
                                            | arg1 |  arg2 | arg3 | arg4 |
                                            |  a   |  200  |  b   |  300 |
    Then I should have received a chaincode name
    Then I wait up to ""480"" seconds for transaction to be committed to peers:
           | vp1 | vp2 | vp3 | vp4 | vp5 | vp6 | vp7 | vp8 | vp9 |

    When I invoke chaincode ""example2"" function name ""invoke"" on ""vp0"" ""10"" times
                       |arg1|arg2|arg3|
                       | b  | a  | 1  |
    Then I should have received a transactionID
    Then I wait up to ""480"" seconds for transaction to be committed to peers:
           | vp1 | vp2 | vp3 | vp4 | vp5 | vp6 | vp7 | vp8 | vp9 |

    When I query chaincode ""example2"" function name ""query"" with value ""a"" on peers:
           | vp0  | vp1 | vp2 | vp3 |
    Then I should get a JSON response from peers with ""result.message"" = ""210""
           | vp0  | vp1 | vp2 | vp3 |
    And I wait ""60"" seconds

    When requesting ""/chain"" from ""vp0""
    Then I should ""store"" the ""height"" from the JSON response
    Given I stop peers:
            | vp1 | vp2 | vp3 | vp4 | vp5 |

    And I wait ""30"" seconds

    When I invoke chaincode ""example2"" function name ""invoke"" on ""vp0"" ""1"" times
            |arg1|arg2|arg3|
            | a  | b  | 5 |
    And I wait ""60"" seconds

    When requesting ""/chain"" from ""vp0""
    Then I should get a JSON response with ""height"" = ""previous""

    When I query chaincode ""example2"" function name ""query"" with value ""a"" on peers:
            | vp0 | vp7 | vp8 | vp9 |
    Then I should get a JSON response from peers with ""result.message"" = ""210""
            | vp0 | vp7 | vp8 | vp9 |

    Given I start peers:
            | vp3 |
    And I wait ""30"" seconds

    When I invoke chaincode ""example2"" function name ""invoke"" on ""vp0""
            |arg1|arg2|arg3|
            | a  | b  | 10 |
    Then I should have received a transactionID
    Then I wait up to ""480"" seconds for transaction to be committed to peers:
           | vp3 | vp5 | vp6 | vp7 | vp8 | vp9 |
    When I query chaincode ""example2"" function name ""query"" with value ""a"" on peers:
           | vp0  | vp3 | vp8 | vp9 |
    Then I should get a JSON response from peers with ""result.message"" = ""200""
           | vp0  | vp3 | vp8 | vp9 |

    When requesting ""/chain"" from ""vp0""
    Then I should get a JSON response with ""height"" > ""previous""

```
After stopping 4 peers, it was expected that consensus will fail F=(N-1)/3. Consensus continues. (N=10, F=3, K=2)

When N=16 and F=5 (K=2), consensus breaks as expected when 6 peers are stopped.
When N=16, F=2 (K=2), consensus continues even after stopping 15 peers.

Accompanying docker files have been attached.

",,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"26/Oct/16 1:53 AM;latitiah;docker-compose-10-consensus-base.yml;https://jira.hyperledger.org/secure/attachment/10145/docker-compose-10-consensus-base.yml","26/Oct/16 1:53 AM;latitiah;docker-compose-10-consensus.yml;https://jira.hyperledger.org/secure/attachment/10146/docker-compose-10-consensus.yml",,,,,,,,,,,,,,,,,,,,,,,,"1|hzxd87:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Rectify orderer protos with fabric-next protos,FAB-868,13173,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,26/Oct/16 3:16 AM,21/Jul/18 3:54 AM,28/Oct/23 2:57 AM,08/Nov/16 11:45 AM,,,,,fabric-orderer,,,0,Consensus,,,,,"The fabric-next protos were recently merged ( https://gerrit.hyperledger.org/r/#/c/1977/2 ) so now all of the temporary protos defined for atomicbroadcast, especially for configuration must be abandoned in favor of the generic set.",,jyellick,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-359,,,,,,,,,"1|hzx8g7:",,,,Unset,,Sprint 4 - Consensus,,,,,,,,,,,,,,,4.0,Unset,,,,,,,,,,,jyellick,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"06/Nov/16 11:01 AM;jyellick;https://gerrit.hyperledger.org/r/#/c/2075/
https://gerrit.hyperledger.org/r/#/c/2153/
https://gerrit.hyperledger.org/r/#/c/2257/

This turned out to be more complex than expected, and is addressed by the above changesets.;;;","07/Nov/16 1:23 AM;kchristidis;Am I right to believe that we've reached consensus here, and we're practically done? (Trying to figure out how many cycles will be spend on this in sprint 5.);;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add client to connect to ordering service to pull blocks and gossip them into the network.,FAB-871,13202,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,gennadyl,C0rWin,C0rWin,26/Oct/16 8:02 PM,21/Jul/18 3:53 AM,28/Oct/23 2:57 AM,11/Dec/16 10:33 PM,,,,,fabric-gossip,,,0,gossip,,,,,"As was discussed, gossip component will run some flavor of leader election to decide on dedicated (""first-order"") peers. These dedicated peers will open connection to the ordering service to receive block via ""deliver"" protocol and initiate gossip of those block over the peers gossip network.",,C0rWin,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-774,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-290,,,,,,,,,"1|hzx83j:",,,,Unset,,Sprint 4 - Gossip,Sprint 5 - gossip,Sprint 6 - Gossip,Sprint 7 - Gossip,,,,,,,,,,,,,Unset,,,,,,,,,,,C0rWin,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"14/Nov/16 12:04 AM;kchristidis;Is this code that's being added to the orderer? (That's how I parse the term consenter nodes.);;;","14/Nov/16 12:25 AM;C0rWin;That was our initial intent, while now. Gossip will choose designated peer to pull block from the orderers. 
Changing items title and description accordingly.;;;","14/Nov/16 12:56 AM;kchristidis;Gotcha, thank you.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add multi channel support into gossip communication.,FAB-872,13203,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,C0rWin,C0rWin,26/Oct/16 8:09 PM,21/Jul/18 3:57 AM,28/Oct/23 2:57 AM,10/Jan/17 5:09 AM,,,,,fabric-gossip,,,0,gossip,,,,,Ensure that gossiping network will be able to support multi channel policy restriction and provide clear and secure separation between different channels. ,,C0rWin,troyronda,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-1444,FAB-1445,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-290,,,,,,,,,"1|hzx7zr:",,,,Unset,,Sprint 5 - gossip,Sprint 6 - Gossip,Sprint 7 - Gossip,Sprint 8 - Gossip,Sprint 9 - Gossip,,,,,,,,,,,,Unset,,,,,,,,,,,C0rWin,troyronda,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"16/Nov/16 5:45 PM;yacovm;I can't continue this until https://gerrit.hyperledger.org/r/#/c/2353/ is merged;;;","17/Nov/16 9:14 PM;yacovm;Working now on integrating leveraging https://gerrit.hyperledger.org/r/#/c/2353/ into gossip code, before I can continue with this one.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Further discuss the overall architecture and the separation between peers and consenters.,FAB-875,13206,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,cca88,cca88,26/Oct/16 11:07 PM,12/Jul/19 8:46 PM,28/Oct/23 2:57 AM,12/Jul/19 8:46 PM,,,Future,,fabric-orderer,,,0,consensus,,,,,"The purpose of this topic is to provide a home for continued discussion and refinement of the overall architecture document that appears here:   https://github.com/hyperledger/fabric/blob/master/proposals/r1/Next-Consensus-Architecture-Proposal.md

An earlier version of this architecture document is still available here:
  https://github.com/hyperledger-archives/fabric/wiki/Next-Consensus-Architecture-Proposal
The related discussion, which precedes the discussion intended for this topic, appears also under hyperledger-archives on github:
  https://github.com/hyperledger-archives/fabric/issues/1631
",,cca88,dianfu,ianj_mitchell@uk.ibm.com,joshhus,kchristidis,mastersingh24,SjirNijssen,vukolic,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-37,,,,,,,,,"1|hzxdnj:",,,,Unset,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,cca88,dianfu,ianj_mitchell@uk.ibm.com,joshhus,kchristidis,mastersingh24,SjirNijssen,vukolic,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"26/Oct/16 11:14 PM;cca88;Question: What if two invokes for the same chain code are done by different clients relatively close together?  It could be that two endorsers have different states because one has had a deliver from consensus and the other one hasn't.

Answer: Note that the consensus on the order of transactions is necessary to resolve exactly this case of contention. However, if chaincode is programmed in a way where every transaction creates interference with another, this effect may become too frequent and render the system unusable. Therefore one must assume a low level of such  contention or design the application accordingly. For example, instead of each transaction changing a counter that holds a balance, an initial balance state is created once and later transactions merely append records that subtract from the balance (in both cases invariants such as balance >= 0 can be checked and maintained).

Furthermore the there is the mechanism of ""anchoring"" an endorsement that other endorsers are supposed to follow in the document, whereby a submitter can ask for endorsement of a tx at a given point in time (""anchor""). This does not resolve the concurrency issue if the anchor-producing endorser is behind but helps with the case when the anchor-producing endorser is ahead of others.

;;;","30/Nov/16 5:40 AM;joshhus;I'm in ID, so my comments will lean towards how the design document discusses and presents the Fabric v1.0. In so doing, technical observations are included. Questions pose areas where the document could perhaps be clarified or expanded on - for the authors to judge/decide. 

Review of https://github.com/hyperledger/fabric/blob/master/proposals/r1/Next-Consensus-Architecture-Proposal.md

(Suggest adding a title to the document)

1. Paragraph 1: Consensus nodes, or ""consenters"" are described as distinct from ""peers"". Section 5.2.2 (GCVP) allows a consenting node to also be a peer. Are these two descriptions in conflict, or can a single node serve both roles? ... If consenters use P2P to communicate with peers, would this make them ""peers"" also. (Perhaps there are processing peers, endorsement peers and consensus peers. Though consenters don't maintain state or ledger.)
2. Paragraph 2: Scalability - Can we promise more than just v1.0 ""may"" scale better than v0.6?
3. Paragraph 2: Confidentiality - v0.6 offered ""unlinkability"" between a user ID and transactions involving that user ID; is that still offered in v1.0?

Sec. 1. System Architecture:
4.  Sec. 1. ""The blockchain"" (as a noun), though not uncommon, sounds like a single, massive network. Multiple smaller blockchain (as an adj.) networks could be suggested as: ""A blockchain network is a distributed (and decentralized) system ..."" 
5. Sec. 1.1. Transactions: The ""document does not yet describe support for ... a) cross-chaincode transactions or b) query transactions."" ... Are these functions not supported in v1.0, or just not documented here yet? 
6. Sec. 1.2. State: The blockchain state is derived from the raw ledger. The chaincode state is the sum of all transactions run against specific chaincode; where does the chaincode state reside, or is it just part of / derived from the raw ledger?
7. Sec. 1.3.3. Consenters: (TODO noted: add API for fetching specific batches from raw ledger).

Sec. 2 Transaction flow:
8. Sec. 2.4 - Consensus service delivers transactions to peers: When is the consensus algorithm run, such as PBFT, as separate from the endorsement policy checks? ... Sec. 2.3 invokes the consensus fabric - does Sec. 2.4 only occur if a ""pass"" of consensus algorithm occurred in Sec. 2.3? (i.e. might benefit from more clarity on diffs. between endorsement and consensus.)
9. Sec. 2.4, cont.: Final bullet says any invalid transactions are dropped and not recorded; is this in conflict with all transactions, including invalid transactions, being recorded on the raw ledger? i.e. is this the validated ledger at this point, which is derived from the raw ledger and does not include invalid transactions.

10. Sec. 3.2 Transaction evaluation ... Final paragraph on deterministic: Endorsement is evaluated either by every peer or by every consenting node? ... When would consenting nodes and non-endorsing peers be doing endorsement evaluation. i.e. it seems this is a case where endorsement is already granted by endorsing peers, then consenters and peers would check/verify that endorsement has been achieved. ?

11. Sec. 4 Blockchain data structures: What are the differences between blockchain state and the validated ledger? State is a KVS whereas the ledger is a hashchain? (They both contain only valid transactions, derived from raw ledger.)
12. Sec. 4.1 Consensus output forms the raw ledger; how do invalid transactions ""pass"" the consensus protocol? Clarify the diff. there; that an invalid transaction could still pass consensus. ?

Sec. 5 State transfer:
13. 5.1 Raw ledger state transfer: (check reference at the end here to Sec. 2.5, which doesn't exist - seems 2.4 is intended.)
14. 5.2 Checkpointing: Pruning the raw ledger of invalid transactions; does pruning have to be done by either all peers or none of them? i.e. if only some do it, problems ahead with syncing raw ledgers? 
15. 5.2, cont.: Is the pruning trade-off, in favor of storage space and performance, at the cost of auditing / regulating the network history, worth it? Or is that judgment simply for the network ""owners"" to decide on.
16. 5.2.2. Valid checkpoints: Here is where (final bullet) the combined peer/consenter is introduced - notable, in that their separation has been notable, to this point.

Hope some of this is helpful ... jh

END
--------







;;;","19/Dec/16 9:50 PM;vukolic;Hi Josh - with apologies for delay

1. Consenter (to be renamed to ""orderer"") can be deployed on the same machine as a peer. The code bases remain separate. 
2. I would hate promising hard numbers because this will heavily depend on the underlying network. We will add performance numbers once available.
3. Yes - so long as TCerts are used for signing proposals/transactions.

4. HL Fabric glossary coming soon to complement this document - please see https://jira.hyperledger.org/browse/FAB-1209 (and https://gerrit.hyperledger.org/r/#/c/3227/)
5. cross-chaincode will not be supported in v1 and is post v1. Queries are supported in v1
6. blockchain state is the history of the Raw Ledger. A short representation of the latest version of the state is via a key value store mentioned in the spec. 

8. Not sure I understand but let me try - consensus (PBFT) is run post-endorsement phase but before endorsement policy validation. So endorsement pattern --> consensus (ordering) --> endorsement policy validation
9. it should read ""..not recorded [on the validated ledger]"". Raw ledger still contains invalid tx
10. consensus nodes should not be mentioned there - will fix

11. ""state"" would be the latest version of the blockchain state, validated ledger is a history of it. 
12. I thought this is clear - but will suggest more details
13. ack
14. Pruning can be done by some peers. Notice that pruning is post-v1 feature and the problems you mention should be addressed then (no obvious fundamental problems though - that would prevent an implementation)
15. there is a tradeoff indeed. A deployment admins may decide to never allow pruning.
16. Yes, I will add more details saying that this is a deployment option - to collocate consenters and peers - but certainly not a requirement.. ;;;","20/Dec/16 5:34 AM;joshhus;Much thanks. This helps with the glossary and the 5 page v1.0 Overview that I am drafting. TBA.;;;","21/Dec/16 1:13 AM;ianj_mitchell@uk.ibm.com;It's still unclear to me what's being said about determinism of chain code... 

Section 2 says...

_Remark: Notice that the following protocol does not assume that all transactions are deterministic, i.e., it allows for non-deterministic transactions._

and in 2.2...

_However, endorsing logic may interpret arbitrary functionality, to, e.g., interact with legacy systems with tran-proposal and tx as inputs to reach the decision whether to endorse a transaction or not._

But the 2.2 piece about endorsing logic not the deployed application chain code... I'm still not clear how such logic is deployed.

Neglecting the distinction between chain code and endorsing logic for a moment, the way I read these two statements is that there is an intent to allow what is executed in each endorsing peer to reference state outside of ledger (world) state, and thus may be different in each endorsing peer and is 'relevant' only at the time of reference (ie whatever a peer sees is valid when it sees it and it may never see the same thing again). Thus endorsers can come to different conclusions. Is the distinction between chain code doing it and endorsing logic doing it of any real consequence? What am I missing?

I further take it that the mention of determinism in the last para of 3.2 has nothing to do with the determinism of endorsing logic - rather it is the determinism of the evaluation by the submitting client of the endorsement policy predicate (which is a different animal to the endorsement logic in the endorsing peers). This is (relatively simply) to ensure that the handling of endorsements received back from endorsers is consistently evaluated regardless of where it is done.

Since I'm working on System of Record integration, I need to get this clear in my head. And then there's the whole notion of how the suggested 'interaction with legacy systems' actually happens... eg can all the endorses see (an instance of) the service, the security credentials required to make the call, etc etc;;;","20/Jan/17 1:00 AM;ianj_mitchell@uk.ibm.com;my 'trouble' is that I don't see any remaining reason why endorsers can't run application chain code (or even the endorsing logic system chain code) which makes a peer-specific external reference to a service and make the outcome of that service invocation part of its reply to the endorsement request.

This seems to be specifically permitted by the sentence ""However, endorsing logic may interpret arbitrary functionality, to, e.g., interact with legacy systems with tran-proposal and tx as inputs to reach the decision whether to endorse a transaction or not."" - here I could loosely interpret 'endorsing logic' as either application chain code or the endorsing logic system chain code.
As per the first comment here (Christian is quoting an email from me which contained the question), the endorsement phase has no assurance that even the KV store is consistent between different peers, so when evaluating the endorsement results you have to expect different results due to timing of delivery. Different results due to making external references seems effectively no different.;;;","20/Jan/17 3:01 AM;vukolic;[~ianj_mitchell@uk.ibm.com] indeed there is no reason ""why endorsers can't run... a peer-specific external reference ""

Is it said/written anywhere that this is forbidden?;;;","20/Jan/17 4:19 AM;ianj_mitchell@uk.ibm.com;I was just after confirmation... since this was a pretty hot topic previously. I'm very glad to be reading this correctly!;;;","24/Jan/17 10:24 PM;ianj_mitchell@uk.ibm.com;luvin' https://letstalkpayments.com/are-capabilities-of-smart-contracts-overblown/ - I think 1.0 improves his life.;;;","12/Jul/19 8:46 PM;mastersingh24;already implemented the architecture;;;",,,,,,,,,,,,,,,,,,,,,,,,
Daily Test Suite Tests Description,FAB-878,13209,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,2020Nishi,bmos299,bmos299,27/Oct/16 12:48 AM,21/Jul/18 3:56 AM,28/Oct/23 2:57 AM,28/Apr/17 4:20 AM,,,v0.6,WON'T FIX,fabric-quality,,,0,quality,,,,,Everyone should add a detailed writeup on what their test does and why it is important to be included in the daily test. ,,bmos299,ChristopherFerris,latitiah,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-714,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-517,,,,,,,,,"1|hzx92v:",,,,Unset,,Sprint 5 - Quality,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,bmos299,ChristopherFerris,latitiah,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"05/Nov/16 2:34 AM;latitiah;The agreed upon test format for each test should be:
{code}
#-----------------------------------------------------------------------
# TEST OBJECTIVE : basic network setup, deploy, invoke, query on all
#	peers using REST interface, and exercise chaincode APIs
# SETUP STEPS:
#   1. Set environment variable: export TEST_NETWORK=LOCAL
# TEST DETAILS (Optional):
#   1. Setup local docker network with security with 4 peer nodes
#   2. Deploy chaincode example02
#   3. Send Invoke Requests on all peers using go routines
#   4. Verify query results and chainheights match on all peers
#----------------------------------------------------------------------
{code}

The README.md format should follow:
{code}
# <Some Title>
some description

# Setup
<setup details>

# Usage
<usage info including prereqs and execution details>
## Examples
## 
{code}
;;;","04/Apr/17 2:17 AM;ChristopherFerris;Not closing this, but IMO it should be closed. Why would we be working on test infra for v0.6 still?;;;","14/Apr/17 8:58 PM;ChristopherFerris;[~bmos299] see above comment. Please close this if no longer relevant.;;;","28/Apr/17 4:20 AM;scottz;Closing this. We are no longer spending effort on v0.6.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update documentation for using behave in remote systems,FAB-881,13212,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,latitiah,latitiah,latitiah,27/Oct/16 1:35 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,05/Nov/16 1:12 AM,,,,,fabric-quality,,,0,quality,,,,,The remote execution of behave tests needs to be documented on it's usage.,,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx8m7:",,,,,,Sprint 4 - Quality,,,,,,,,,,,,,,,,,,,,,,,,,,,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
bring in new fabric protos and replace the old - 1,FAB-883,13214,,Task,Closed,FAB,Fabric,software,denyeart,,,High,Done,muralisr,muralisr,muralisr,27/Oct/16 1:50 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,11/Apr/17 7:38 AM,,,WON'T FIX,,fabric-peer,,,0,,,,,,There is another protos story https://jira.hyperledger.org/browse/FAB-845 ... abandoning this.,,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-810,,,,,,,,,"1|hzx8gf:",,,,,,Sprint 5 - Consensus,,,,,,,,,,,,,,,,,,,,,,,,,,,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Rework query transaction CLI,FAB-884,13215,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jiangyaoguo,binhn,binhn,27/Oct/16 2:19 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,13/Jul/17 10:38 AM,,,,,,,,0,,,,,,"Query is an endorsement request in the new architecture where there's no follow on transaction. The CLI composes a Proposal and sends to a set of endorsers. It will receive the endorsements back, compare the results and print output.",,binhn,jiangyaoguo,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-842,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxdo7:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,binhn,jiangyaoguo,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"21/Nov/16 8:51 PM;jiangyaoguo;Start at https://gerrit.hyperledger.org/r/#/c/2647/  [~binhn];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Enable successful execution of endorser.feature without bootstrap,FAB-885,13216,,Task,Closed,FAB,Fabric,software,denyeart,,,High,Done,jeffgarratt,jeffgarratt,jeffgarratt,27/Oct/16 3:37 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,18/Jan/17 11:36 PM,,,,,fabric-peer,,,0,endorser,,,,,"This will not take into account bootstrapping, but will test the engine flow from the client prespective.",,jeffgarratt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,57600,57600,,0%,57600,57600,,,,,,,,,,,,FAB-631,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx8hr:",,,,,,Sprint 4 - Endorser,Sprint 5 - Consensus,,,,,,,,,,,,,,1.0,,,,,,,,,,,,jeffgarratt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"18/Jan/17 11:37 PM;jeffgarratt;This is complete.  Working on new features using true bootstrap.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
CLI based tests to simulate concurrent transactions for Fabric 1.0,FAB-886,13217,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,Ratnakar,Ratnakar,Ratnakar,27/Oct/16 3:56 AM,21/Jul/18 3:54 AM,28/Oct/23 2:57 AM,13/Jan/17 9:30 AM,,,,,fabric-quality,,,0,quality,,,,,"Experimental changes to simulate concurrent transactions for Fabric 1.0.
This task is to support the actual work described here : https://jira.hyperledger.org/browse/FAB-799.
Once the changes are available, need to measure the performance withe these changes",,Ratnakar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzx7yn:",,,,Unset,,Sprint 4 - Quality,Sprint 6 - Crypto,Sprint 6 - Quality,Sprint 7 - Quality,Sprint 8 - Quality,Sprint 9 - Quality,,,,,,,,,,,Unset,,,,,,,,,,,Ratnakar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"27/Oct/16 4:23 AM;Ratnakar;Made some experimental changes and facing some issues while deploying. Working with Murali.
https://github.com/ratnakar-asara/fabric-1/commit/e69426d474eede0978ce6ba166e4fb88f29d31ad

Some errors with changes:


{code:java}
14:26:01.252 [chaincode] Launch -> DEBU 05b chaincode is running(no need to launch) : lccc
14:26:01.256 [chaincode] sendExecuteMessage -> DEBU 05c [af20c73e]Inside sendExecuteMessage. Message QUERY
14:26:01.256 [chaincode] setChaincodeSecurityContext -> DEBU 05d setting chaincode security context...
14:26:01.256 [chaincode] setChaincodeSecurityContext -> DEBU 05e setting chaincode security context. Transaction different from nil
14:26:01.256 [chaincode] setChaincodeSecurityContext -> DEBU 05f setting chaincode security context. Metadata []
14:26:01.265 [chaincode] sendExecuteMessage -> DEBU 060 [af20c73e]sending query
14:26:01.274 [chaincode] processStream -> DEBU 061 [af20c73e]Received message GET_STATE from shim
14:26:01.274 [chaincode] HandleMessage -> DEBU 062 [af20c73e]Handling ChaincodeMessage of type: GET_STATE in state ready
14:26:01.274 [chaincode] afterGetState -> DEBU 063 [af20c73e]Received GET_STATE, invoking get state from ledger
14:26:01.274 [chaincode] filterError -> DEBU 064 Ignoring NoTransitionError: no transition
14:26:01.274 [chaincode] func1 -> DEBU 065 [af20c73e]No state associated with key: 18chaincodes-default. Sending RESPONSE with an empty payload
14:26:01.274 [chaincode] 1 -> DEBU 066 [af20c73e]handleGetState serial send RESPONSE
14:26:01.274 [chaincode] processStream -> DEBU 067 [af20c73e]Received message GET_STATE from shim
14:26:01.274 [chaincode] HandleMessage -> DEBU 068 [af20c73e]Handling ChaincodeMessage of type: GET_STATE in state ready
14:26:01.274 [chaincode] afterGetState -> DEBU 069 [af20c73e]Received GET_STATE, invoking get state from ledger
14:26:01.274 [chaincode] filterError -> DEBU 06a Ignoring NoTransitionError: no transition
14:26:01.274 [chaincode] func1 -> DEBU 06b [af20c73e]No state associated with key: 18chaincodes-default. Sending RESPONSE with an empty payload
14:26:01.275 [chaincode] 1 -> DEBU 06c [af20c73e]handleGetState serial send RESPONSE
14:26:01.275 [chaincode] processStream -> DEBU 06d [af20c73e]Received message PUT_STATE from shim
14:26:01.275 [chaincode] HandleMessage -> DEBU 06e [af20c73e]Handling ChaincodeMessage of type: PUT_STATE in state ready
14:26:01.275 [chaincode] HandleMessage -> ERRO 06f [af20c73e-27cf-4d6a-9f51-96c1a443d7be]Cannot handle PUT_STATE in query context. Sending ERROR
14:26:01.275 [chaincode] processStream -> ERRO 070 [af20c73e]Error handling message, ending stream: Cannot handle PUT_STATE in query context
14:26:01.275 [chaincode] deregisterHandler -> DEBU 071 Deregister handler: lccc
14:26:01.275 [chaincode] deregisterHandler -> DEBU 072 Deregistered handler with key: lccc
14:26:01.275 [inproccontroller] func2 -> ERRO 073 chaincode ended with err: Error handling message, ending stream: Cannot handle PUT_STATE in query context
{code}

;;;","20/Dec/16 1:10 AM;Ratnakar;Made the required changes and verified , However the changes are tighly coupled with peer code and it should be seperated out to make it a seperate package.;;;","13/Jan/17 9:30 AM;Ratnakar;Some of the changes made for this JIRA are already integrated in the below Gerrit changeset.

Gerrit : https://gerrit.hyperledger.org/r/#/c/3563/
Jira : https://jira.hyperledger.org/browse/FAB-1475;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Use SHA-2 as the default hash in all Hyperledger fabric components,FAB-887,13218,,Story,Closed,FAB,Fabric,software,denyeart,,,High,Done,,bcbrock,bcbrock,27/Oct/16 4:39 AM,01/Dec/20 5:26 PM,28/Oct/23 2:57 AM,12/Apr/18 10:03 PM,,,v1.0.0,,,,,0,,,,,,"To those of us looking at the Hyperledger fabric (HLF) from a hardware point
of view, the current default of using SHA-3 for block hashing, and in other
HLF proposals has been confusing for several reasons:

1. According to NIST:

    ""NIST encourages application and protocol designers to implement SHA-256
    at a minimum for any applications of hash functions requiring
    interoperability.""

    ""Currently there is no reason to transition applications from SHA-2 to
    SHA-3""

    http://csrc.nist.gov/groups/ST/hash/policy.html
   (Updated September 14, 2016)

2. Current Intel, IBM and ARM server processors provide instruction set
support for accelerating SHA256.

3. Multiple vendors offer low-cost, low-power ASICs with validated
implementations for accelerating current internet security standards that
include SHA256. Components like these might also prove useful for accelerating
HLF applications.

4. Although it is not my area of expertise, I am not aware of any network
security standards that require SHA-3. I do know that the latest draft of the
TLSv1.3 specification does not mention SHA-3:

	      https://tools.ietf.org/html/draft-ietf-tls-tls13-18
             (Updated October 26, 2016)

We can speculate on whether or not we will see widespread hardware support for
SHA-3 acceleration until or unless SHA-3 becomes part of such a standard.

Given the above, it seems premature for the HLF to default to the use of
SHA-3, which use is pervasive throughout the HLF codebase. I would suggest that
all HLF components of the V1 architecture be immediately modified to default
to the use of the recommended SHA-2 family of hash functions. I consider this a ""bug"" because it impacts interoperability, and it is important to correct the default behavior prior to the V1 code release.
",,angelo.decaro,baohua,bcbrock,binhn,kchristidis,mastersingh24,SriramaSharma,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-18358,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzxdof:",,,,Unset,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,angelo.decaro,baohua,bcbrock,binhn,kchristidis,mastersingh24,SriramaSharma,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"27/Oct/16 10:35 PM;angelo.decaro;I think the most important thing is to have the hash function pluggable. It is already to some extend given that once can choose among SHA2 and SHA3 families. The introduction of the BCCSP (https://jira.hyperledger.org/browse/FAB-354) should simplify even more this by allowing everyone to plug in the algorithms that they better prefer.;;;","28/Oct/16 9:40 PM;binhn;Today we allow the setting on core.yaml `hashAlgorithm: SHA3`.  We can just simply change that to SHA2, but I agreed with Angelo on pluggability so that we don't have to check this flag;;;","28/Oct/16 10:54 PM;bcbrock;I've looked through the issue that Angelo referenced, plus several of his code changes. How does the user specify their choice in this new approach? Are the current YAML options going to be removed?;;;","29/Oct/16 12:57 AM;angelo.decaro;I'm expecting the current options to go away but, of course, there will be some configuration anyway. In that case, what to choose as default can be discussed. Again, what I care that it is pluggable and that there are from the very beginning multiple options available so that one goes to production can decide really what he wants.;;;","29/Oct/16 4:22 AM;bcbrock;I am not arguing against pluggability, but rather noting that pluggability is a one-time-only option. Once a blockchain is initiated with one crypto-suite, clients will not be able to switch to a new suite for their blockchain without great pain. Therefore it is important that we steer clients to crypto suites that have the broadest possible support.;;;","31/Oct/16 4:14 PM;angelo.decaro;Look, Ethereum is using SHA3 and not even a standard version of it. Instantiating a blockchain is not an easy thing. Care must be put in choosing all the parameters, anyway.;;;","13/Nov/16 3:37 PM;kchristidis;I think there are two points to make here:

1. I am no crypto expert, but based on the arguments presented here, it seems that SHA-2 should be the default choice. Do we agree on that?

2. The orderer heavily relies on the function, since it is the one that is generating the blockchain. Having a quick look at the codebase, I'm a bit lost as to what the right function to call is anymore. I thought that the (horribly-named) `ComputeCryptoHash` function in the `core/util` package was the single point of reference for all of our hashing needs. However I see that (a) `ComputeCryptoHash` is hardcoded to use sha3, and (b) the `crypto/primitives` package rolls with their own hashing functions. (On top of that, if I'm not mistaken, a `SetSecurityLevel` function in that package needs to be called first.)

Can we reach an agreement on how to do hashing going forward? Specifically, I would like us to settle on:
# The function's signature: Hash(data[]byte) []byte, or Hash(algo string, data []byte) []byte to avoid the need for a separate `SetSecurityLevel` call (or an editing of a YAML file that's outside of our domain, as is the case with the core YAML file and the orderer)
# The package where it belongs: core/util, orderer/common/util, crypto/primitives?;;;","15/Nov/16 11:06 PM;angelo.decaro;I would say that the orderer has to have its own way to configure the hash function to use. This might mean that there is a place where an hash.Hash instance can be obtained. Once this is in, one can later decide if the hash.Hash instance has to be provided by the BCCSP or is hardocded or something else. Does this make sense?;;;","09/Dec/16 10:14 PM;mastersingh24;this is not a bug so changing to improvement;;;",,,,,,,,,,,,,,,,,,,,,,,,,
Verify power environment for CI,FAB-888,13219,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,rameshthoomu,rameshthoomu,27/Oct/16 6:00 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,28/Dec/16 12:46 AM,,,,,,,,0,build-system,,,,,"We have received 5 power machines from Power team to include them in ci-pipeline to execute tests in power nodes.

Integrate them in sandbox environment and verify all these machines are good to integrate in main ci-pipeline.",,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxdon:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"28/Oct/16 4:45 AM;rameshthoomu;Verifying environment setup on power machines for ci-pipeline. Out of 5 machines, verified two machines and seems they are good integrate on main ci-pipeline;;;","01/Nov/16 12:32 AM;rameshthoomu;Verified power machines availability for CI environment.. Below are observations noted while running tests on power machines

# Error opening DB: IO error: /tmp/hyperledger/production/db/LOCK: Permission denied
# panic: Error opening DB: IO error: /var/hyperledger/production/db/LOCK: Permission denied
# Makefile:217: recipe for target 'build/image/javaenv/.dummy' failed
#  Cannot connect to the Docker daemon. Is the docker daemon running on this host?
#  Behave tests are failing. -- Checking this issue.

[~bsmita] resolved above issues. Suggested to include ""chown -R jenkins:Jenkins /var/hyperledger"" in installation setup script. ;;;","28/Dec/16 12:46 AM;rameshthoomu;We have 5 power machines integrated to production CI and ready for build process.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"explore converting all go programs to use Go Test, for automation",FAB-889,13220,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,scottz,scottz,scottz,28/Oct/16 3:18 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,28/Apr/17 12:48 AM,,,,,fabric-quality,,,0,quality,,,,,"what are the benefits of using GO TEST? 
will it simplify the way we use jenkins for automation of test execution and report generation?
effort required for conversion?
",,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-716,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-517,,,,,,,,,"1|hzx933:",,,,,,Sprint 5 - Quality,,,,,,,,,,,,,,,,,,,,,,,,,,,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"28/Apr/17 12:46 AM;scottz;It is convenient to run individual tests using ""go test"", so defining these tests will enable users to run the tests easily. However, keep in mind the go tests are usually written to unit-test the go program code itself (not to run functional tests) and to contribute to code coverage numbers. Therefore, when creating ""go test's for system or functional test purposes, you may wish to list the directory in the exclusions list in .../fabric/unit-tests/run.sh

A nice tool exists to easily translate the ""go test"" output to xml for reports. This is useful for automated test suites that are automatically executed from Jenkins by Continuous Improvement processes, which posts summary reports.

    go get github.com/jstemmer/go-junit-report

An example how to use to generate xml output which can be used by Jenkins to generate reports, to run all ""go tests"" in the current directory (in files named *_test.go, all function names that start with string ""Test_"" and contain string ""CI""):

     go test -v -timeout 30m -run CI | go-junit-report > ote_report.xml
;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add support for multiple brokers,FAB-890,13221,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sanchezl,kchristidis,kchristidis,28/Oct/16 3:38 AM,21/Jul/18 3:55 AM,28/Oct/23 2:57 AM,30/Nov/16 1:24 PM,,,,,fabric-orderer,,,0,consensus,,,,,"Here's a way of going at it:

1. Modify the Docker image so that it spawns three Kafka brokers instead of one.
2. Use a replication factor 3 for created topics.
3. Have the Producers and Deliverers use the Metadata API to find out which broker is the partition leader replica for the given partition, and have the route their requests to it.
4. Verify that everything works.
5. Kill the broker process that owns this replica.
6. Verify that the Producers and Deliverers are using the Metadata API correctly and are rerouting their requests to the new leader.

(That flow may be edited - it is just a suggestion kick things off.)

Let's create linked tasks for the individual work items if necessary, but I would suggest using this story for all related comments, so that we have a single point of reference.",,bcbrock,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-931,FAB-1164,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-32,,,,,,,,,"1|hzx9n3:",,,,Unset,,Sprint 4 - Consensus,Sprint 5 - Consensus,,,,,,,,,,,,,,4.0,Unset,,,,,,,,,,,bcbrock,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"28/Oct/16 5:31 AM;bcbrock;-Re: Item 3, I don't believe that the producers need to route their requests to the partition leader, only the consumers need to do so. I believe that the brokers take care of distributing incoming message, so the producer should send the request to the local Kafka broker (if there is one) to reduce latency and overhead.- This is wrong, I don't know what I was thinking :);;;","07/Nov/16 1:10 AM;kchristidis;Let's post an update here on where we stand.;;;","07/Nov/16 10:28 AM;bcbrock;If it helps, this is how I redefined newBroker() to work with multiple brokers in my sandbox:

{code}
// newBroker creates a connection to the leading broker for a
// topic/partition. We first create a connection to the (arbitrary) first
// broker in order to make a metadata request for the topic, then search for
// the leader by broker ID in the returned list of brokers.
func newBroker(conf *config.TopLevel) Broker {

	broker0 := sarama.NewBroker(conf.Kafka.Brokers[0])
	if err := broker0.Open(nil); err != nil {
		panic(fmt.Errorf(""Failed to open broker0 for metadata request: %v"", err))
	}

	topic := conf.Kafka.Topic
	metaData, err := broker0.GetMetadata(&sarama.MetadataRequest{Topics: []string{topic}})
	if err != nil {
		panic(fmt.Errorf(""GetMetadata failed for topic %s: %v"", topic, err))
	}
	err = broker0.Close()
	if err != nil {
		panic(fmt.Errorf(""Close of broker0 failed: %v"", err))
	}

	pid := conf.Kafka.PartitionID
	if (pid < 0) || (pid > int32(len(metaData.Topics[0].Partitions))) {
		panic(fmt.Errorf(""Illegal partition ID %d"", pid))
	}
	leader:= metaData.Topics[0].Partitions[pid].Leader
	logger.Debugf(""Leading broker for topic %s/partition %d is broker ID %d"",
		topic, pid, leader)

	var broker *sarama.Broker
	for _, b := range metaData.Brokers {
		if b.ID() == leader {
			broker = b
			break
		}
	}
	if broker == nil {
		panic(fmt.Errorf(""Can't find leader for topic %s/partition %d"",
			topic, pid))
	}

	if err := broker.Open(nil); err != nil {
		panic(fmt.Errorf(""Failed to open Kafka broker: %v"", err))
	}

	return &brokerImpl{
		broker: broker,
		config: conf,
	}
}


{code}
;;;","29/Nov/16 4:22 AM;kchristidis;Updating the status of this from in review to in progress until we add tests.;;;","30/Nov/16 1:47 AM;kchristidis;Test added, this is practically done - waiting for merging.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
As an orderer I have to authenticate the peer that connects to me,FAB-892,13223,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,tuand,kchristidis,kchristidis,28/Oct/16 5:01 AM,21/Jul/18 3:55 AM,28/Oct/23 2:57 AM,30/Nov/16 11:02 PM,,,,,fabric-orderer,,,0,consensus,,,,,The orderer/shim needs to check that the peer's certificate links back to a CA that's referenced in the channel's genesis/reconfiguration block.,,angelo.decaro,kchristidis,tuand,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-32,,,,,,,,,"1|hzx9nr:",,,,Unset,,Sprint 5 - Consensus,Sprint 6 - consensus,,,,,,,,,,,,,,2.0,Unset,,,,,,,,,,,angelo.decaro,kchristidis,tuand,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"17/Nov/16 11:36 PM;tuand;at first blush,  This should be done as part of the grpc stream setup. The grpc server has various method to set up TLS cert pools.

Poking [~jeffgarratt] to find out more about how TLS is set up in current code.;;;","18/Nov/16 3:34 AM;tuand;[~adc]  are you doing this for MSP ?;;;","20/Nov/16 1:18 AM;kchristidis;Can we post an update on this?;;;","21/Nov/16 11:17 PM;tuand;Had a quick chat with Angelo late Thursday. Binh had mentioned him doing the code for the orderer which would include this.  At that time Angelo needed to check with Elli on actual tasks.

[~adc] will update this issue.;;;","21/Nov/16 11:22 PM;kchristidis;Got it, thank you. [~adc] let me know which sprint you plan to tackle this on.;;;","21/Nov/16 11:44 PM;angelo.decaro;[~kchristidis],[~tuand], I need some clarification here. What we can provide is an MSP method to tell if an identity (x509 cert, for example) belong to a certain MSP. Is this what is meant by this jira item? To me, it looks more complex than that.;;;","22/Nov/16 12:01 AM;tuand;Hi [~adc]  when a peer connects to the ordering service via the normal Broadcast() and Deliver() calls,  we want to verify that the peer is allowed to connect, i.e. that a peer is part of one of the peer organizations ( I think Keith calls them participants ) in the network.

An orderer has a list of all the CA certs.  Thus, my first thought is that we configure the grpc stream btw peer and orderer with TLS and authenticate the peer in that way.

Not sure how MSP is going to work but is the authentication/authorization that we want included in what you're doing for MSP ?;;;","22/Nov/16 4:25 PM;angelo.decaro;Hi [~tuand], I can say this: In the genesis/configuration block, there will be a section that declares policies to identity who has the right to call the Broadcast (write permission) and Deliver (read permission). The MSP can be used in this context to learn if a certain identity is part of an MSP, for example. We will provide this functionality. [~ellaki] will soon post an example of genesis block. Regarding the TLS level, this is another story. [~keithsmith], is the cop server in charge to generate TLS certificates? ;;;","29/Nov/16 4:11 AM;tuand;[~adc] [~binhn]

If I read FAB-634 correctly,  an orderer will have an MSP component to determine based on a Block signature whether the sender is authorized to talk to the ordering service ?
For this issue originally, we were looking at determining whether a peer could connect to the ordering service at the grpc level. And we were going to do this by turning symmetric TLS on for the grpc stream. 
I talked with Binh earlier and we're now leaning towards letting anyone connect to the ordering service grpc and doing the authentication at the block signature level.  Agree ? Disagree ?;;;","30/Nov/16 11:02 PM;tuand;After talking with [~binhn],  we've decided to have MSP handle the peer authentication.  

I'm closing this issue for now.  If in the future , we determine the need to turn TLS on for the grpc stream, I'll create a new user story;;;","01/Dec/16 1:08 AM;kchristidis;Tuan, thanks for the update.

What is the high-level view of things then? How does peer authentication to the ordering service work?

You connect to the ordering service, some MSP check happens, and if it returns false, the connection is dropped?

Or something else?;;;","01/Dec/16 3:24 AM;tuand;The MSPManager maintains the list of all the organizations ( peers, users, CA ) participating in the fabric and the ACLs for who can do config/read/write/deploy.

On receipt of a Block,  orderer passes it to the MSP which then does its verification based on the signatures and ACLs;;;","01/Dec/16 3:38 AM;kchristidis;1. I guess you mean ""on receipt of an Envelope or DeliverUpdate""?
2. What happens if the verification fails? And who writes the code for what happens if this verification fails?;;;","01/Dec/16 4:17 AM;tuand;right, on receipt of Envelope or DeliverUpdate.

We do need to agree with [~adc] on how orderer interacts with MSP;;;","01/Dec/16 4:38 AM;kchristidis;Can we track this then as a JIRA issue? I'm mostly interested in identifying the work that needs to be done from the the ordering side.;;;","05/Dec/16 11:40 PM;tuand;created FAB-1274  as placeholder until Angelo can give us the official Jira issue for this work.;;;",,,,,,,,,,,,,,,,,,
Add basic chaincode query support,FAB-895,13226,12613,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,harrisob@us.ibm.com,jimthematrix,jimthematrix,28/Oct/16 1:14 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,05/Nov/16 4:27 AM,,,,,fabric-sdk-node,,,0,node-SDK,,,,,"the original ""Query"" function has been eliminated from the new design of ChaincodeStubInterface. Instead queries on state values will be performed by sending Proposals.",,inatatsu,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxdpb:",,,,,,Sprint 4 - nodeSDK,,,,,,,,,,,,,,,4.0,,,,,,,,,,,,inatatsu,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"03/Nov/16 2:22 AM;jimthematrix;moving this to Bret since he's been investigating the query path with chaincode since yesterday;;;","05/Nov/16 4:32 AM;jimthematrix;resolved by changeset https://gerrit.hyperledger.org/r/#/c/2255/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Events support for new nodejs sdk (es6),FAB-896,13227,,Story,Closed,FAB,Fabric,software,denyeart,,,High,Done,pmullaney,pmullaney,pmullaney,29/Oct/16 12:14 AM,21/Jul/18 3:54 AM,28/Oct/23 2:57 AM,21/Apr/17 10:41 PM,,,v1.0.0,,fabric-sdk-node,,,0,node-SDK,,,,,"node.js SDK needs to expose the following events from the Peer to notify client applications of transaction processing results (protots/peer/events.proto):

```
enum EventType {
        REGISTER = 0;
        BLOCK = 1;
	CHAINCODE = 2;
	REJECTION = 3;
}
```
- BLOCK: notified when a block has been committed by the Peer in the ledger. event payload has the entire raw block content
- CHAINCODE: also known as ""custom events"", which is defined by chaincode and is also notified when a Block containing transaction(s) processed by that chaincode is committed to the ledger
- REJECTION: notified when a transaction is rejected by the Peer validator (eg. failed endorsement policy in VSCC)
- REGISTER: not needed for applications, this looks like an internal event to notify the registration of a event by a consumer

The SDK should:
- allow application to register listeners to events of the above types, plus a synthetic ""Transaction Completed"" event with a transaction ID
- connect to the event stream (persistent grpc stream) and on receiving an event, decide whether it is of interest to the application based on the event listener registration
- when an event of interest to the application has been received from the event stream, produce a JavaScript event object that encapsulates the useful payload (transaction, or error message) and emit to trigger the application event listeners

The event registration and triggering should be per-chain/channel, such that events by the same name (customer events produced by the identical chaincodes deployed to different chain/channels) don't get mixed up across chains.",,dinotone,elisafla,ianj_mitchell@uk.ibm.com,inatatsu,pmullaney,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,144000,144000,,0%,144000,144000,,,,,,,,,,,,,,,,,,,,,FABN-632,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzx36v:",,,,Unset,,Sprint 5 - Consensus,Sprint 7 - nodeSDK,Sprint 8 - nodeSDK,Sprint 9 - nodeSDK,Sprint 10 - nodeSDK,Sprint 11 - SDK node,Sprint 12 - SDK node,Sprint 13 - SDK node,Sprint 14 - SDK node,Sprint 15 - SDK node,Sprint 16 - SDK node,,,,,,Unset,,,,,,,,,,,dinotone,elisafla,ianj_mitchell@uk.ibm.com,inatatsu,pmullaney,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"07/Jan/17 12:34 AM;ianj_mitchell@uk.ibm.com;Is there somewhere to look to understand more detail of what's being done here?;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Alternative to sbft with pipelining needed for WAN performance,FAB-897,13228,,Story,Closed,FAB,Fabric,software,denyeart,,,Low,Invalid,,vukolic,vukolic,29/Oct/16 12:25 AM,01/May/19 2:33 AM,28/Oct/23 2:57 AM,01/May/19 2:33 AM,,,Future,,fabric-orderer,,,0,sbft,,,,,"With removal of PBFT watermarks, sBFT replicas (consenters) now process one batch at the time. For instance, a replica will not process a pre-prepare for seqno n+1 until it has committed (or even weak checkpointed) batch with seqno n. Whereas this is not a performance issue when the network is simulated on a single machine, it is certainly an issue for WAN deployments, with any non-negligible network latency. 

To fix this, a new protocol alternative to simplebft (sBFT) is needed (sBFT may stay for use in clusters). 

The goal is to implement a BFT protocol based on sBFT with pipelining-enabled replicas, Pipelining involves processing of a BFT protocol message (e.g., pre-prepare, prepare, commit, checkpoint) for batch n+1 as soon as the same message type was processed for batch n. Notice that this does not mean introduction of PBFT watermarks which can create holes. Pipelining does not create holes for a given msg type.",,kchristidis,vukolic,wutongtree,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,144000,144000,,0%,144000,144000,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzxdpj:",,,,Unset,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,kchristidis,vukolic,wutongtree,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"08/Nov/16 7:23 PM;vukolic;A useful study of the topic and reasons for pipelining in WANs: https://infoscience.epfl.ch/record/161821/files/santos10%20-%20Tuning%20Paxos%20for%20high-throughput%20with%20batching%20and%20pipelining.pdf

;;;","10/Nov/16 1:46 AM;vukolic;This issue involves invasive changes to how simplebft (sbft) works - so the goal is to have a separate consensus component(called e.g., pipelinedPBFT) based on simplebft fork,  implementing same interfaces (notably System/Receiver);;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
deploy endorsement for chaincode through GRPC is failing in behave,FAB-898,13229,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,latitiah,rameshthoomu,rameshthoomu,29/Oct/16 12:37 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,12/Apr/17 4:06 AM,,,,,fabric-peer,,,0,Endorser,,,,,"Observed deploy endorsement for chaincode through GRPC is failing in behave. FAB-184

Environment: Jenkins
Commit# 1928035
Branch# fabric master

Attached is the log file: https://jenkins.hyperledger.org/view/fabric/job/fabric-merge-behave-x86_64/113/testReport/junit/features.endorser/Endorser/Basic_deploy_endorsement_for_chaincode_through_GRPC_to_multiple_endorsers_____1_1_Orderer_Options/",Jenkins CI,C0rWin,denyeart,latitiah,muralisr,rameshthoomu,Ratnakar,tuand,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-1191,,,,,,,,,,,,,,,"29/Oct/16 12:32 AM;rameshthoomu;FAB-184.txt;https://jira.hyperledger.org/secure/attachment/10207/FAB-184.txt",,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx7fj:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,C0rWin,denyeart,latitiah,muralisr,rameshthoomu,Ratnakar,tuand,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"31/Oct/16 1:01 AM;C0rWin;Experience similar problem, please see here: https://jenkins.hyperledger.org/job/fabric-verify-behave-x86_64/1055/console;;;","01/Nov/16 1:34 AM;Ratnakar;Ran this behave scenario locally and observed issue in behave tests but not in core componnent

{code:java}

$behave -n ""Basic deploy endorsement for chaincode through GRPC to multiple endorsers

      Traceback (most recent call last):
        File ""/usr/local/lib/python2.7/dist-packages/behave/model.py"", line 1456, in run
          match.run(runner.context)
        File ""/usr/local/lib/python2.7/dist-packages/behave/model.py"", line 1903, in run
          self.func(context, *args, **kwargs)
        File ""/opt/gopath/src/github.com/hyperledger/fabric/bddtests/steps/peer_basic_impl.py"", line 677, in step_impl
          resp = requests.post(request_url, headers={'Content-type': 'application/json'}, data=json.dumps(secretMsg), verify=False)
        File ""/usr/local/lib/python2.7/dist-packages/requests/api.py"", line 94, in post
          return request('post', url, data=data, json=json, **kwargs)
        File ""/usr/local/lib/python2.7/dist-packages/requests/api.py"", line 49, in request
          return session.request(method=method, url=url, **kwargs)
        File ""/usr/local/lib/python2.7/dist-packages/requests/sessions.py"", line 443, in request
          prep = self.prepare_request(req)
        File ""/usr/local/lib/python2.7/dist-packages/requests/sessions.py"", line 374, in prepare_request
          hooks=merge_hooks(request.hooks, self.hooks),
        File ""/usr/local/lib/python2.7/dist-packages/requests/models.py"", line 304, in prepare
          self.prepare_url(url, params)
        File ""/usr/local/lib/python2.7/dist-packages/requests/models.py"", line 361, in prepare_url
          raise InvalidURL(""Invalid URL %r: No host supplied"" % url)
      InvalidURL: Invalid URL u'http://:7050/registrar': No host supplied
      
      Captured stdout:
      16:07:32 POSTing path = http://:7050/registrar


{code}


`InvalidURL: Invalid URL u'http://:7050/registrar': No host supplied`

Contructor  *ContainerData* is not intialized any where with the required IP from the docker containers which causes the above failure

Behave test has to be changed to resolve the above error;;;","01/Nov/16 1:37 AM;latitiah;I've discussed this issue with Ratnakar and work on fixing this.;;;","02/Nov/16 3:36 AM;latitiah;Now, the error for this is:

{code:none}
And I register with CA supplying username ""binhn"" and secret ""7avZQLwcUe9q"" on peers                                                                                    # steps/peer_basic_impl.py:658 0.020s
      | vp0 |
      Traceback (most recent call last):
        File ""/usr/local/lib/python2.7/dist-packages/behave/model.py"", line 1456, in run
          match.run(runner.context)
        File ""/usr/local/lib/python2.7/dist-packages/behave/model.py"", line 1903, in run
          self.func(context, *args, **kwargs)
        File ""/opt/gopath/src/github.com/hyperledger/fabric/bddtests/steps/peer_basic_impl.py"", line 677, in step_impl
          resp = requests.post(request_url, headers={'Content-type': 'application/json'}, data=json.dumps(secretMsg), verify=False)
        File ""/usr/local/lib/python2.7/dist-packages/requests/api.py"", line 109, in post
          return request('post', url, data=data, json=json, **kwargs)
        File ""/usr/local/lib/python2.7/dist-packages/requests/api.py"", line 50, in request
          response = session.request(method=method, url=url, **kwargs)
        File ""/usr/local/lib/python2.7/dist-packages/requests/sessions.py"", line 465, in request
          resp = self.send(prep, **send_kwargs)
        File ""/usr/local/lib/python2.7/dist-packages/requests/sessions.py"", line 573, in send
          r = adapter.send(request, **kwargs)
        File ""/usr/local/lib/python2.7/dist-packages/requests/adapters.py"", line 415, in send
          raise ConnectionError(err, request=request)
      ConnectionError: ('Connection aborted.', error(111, 'Connection refused'))
      
      Captured stdout:
      14:53:52 POSTing path = http://172.17.0.4:7050/registrar
{code}

This is the IP address for vp0. It looks like there is a separate problem.;;;","08/Nov/16 6:02 AM;muralisr;thanks [~latitiah] .. moved the defect to your name.;;;","08/Nov/16 11:15 PM;rameshthoomu;Still I could see scenario is failing with the same error reported earlier. [~latitiah] Could you please check this error https://jenkins.hyperledger.org/view/fabric/job/fabric-verify-behave-x86_64/1382/testReport/junit/features.endorser/Endorser/Basic_deploy_endorsement_for_chaincode_through_GRPC_to_multiple_endorsers_____1_1_Orderer_Options/;;;","16/Nov/16 11:26 PM;tuand;seeing this error on verify of changeset https://gerrit.hyperledger.org/r/#/c/2451;;;","12/Apr/17 4:05 AM;denyeart;I believe this has been resolved. Please re-open if not.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
Kafka orderer hangs if blocks are cut by a timeout,FAB-899,13230,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,kchristidis,bcbrock,bcbrock,29/Oct/16 12:42 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,01/Nov/16 4:40 AM,,,,,fabric-orderer,,,0,Consensus,,,,,"The way the timer reset is handled at lines 104-106 of orderer/kafka/broadcast.go assumes that if timer.Stop() returns false, then the timer channel contains an event. This is not true - and the Go documentation should be clearer on the semantics of timer.Stop(). The simple fix is to only remove events from the channel if there are known to be any in the channel. Otherwise, the goroutine hangs waiting for the now-stopped timer to produce an event.",,bcbrock,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-32,,,,,,,,,"1|hzxdpz:",,,,,,Sprint 4 - Consensus,,,,,,,,,,,,,,,,,,,,,,,,,,,bcbrock,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"29/Oct/16 8:54 AM;bcbrock;On further analysis, the real bug here is that the timer is not being reset on the ""case <-timer.C"" branch. This is required because Go timers are one-shot timers, and without this, once the timer has cut a block, the timeout will be inactive until the message-limit cuts a block, which may never occur if the client(s) stop sending messages. With timer.Reset() on this branch, the current code on the ""case msg := <-b.batchChan"" should work as-is.;;;","30/Oct/16 2:04 AM;kchristidis;Thank you both for reporting and debugging this.

I pushed a fix along with the relevant tests to make sure it doesn't happen again: https://gerrit.hyperledger.org/r/#/c/2097/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Test Bootstrapping,FAB-900,13231,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,latitiah,latitiah,latitiah,29/Oct/16 2:04 AM,21/Jul/18 3:55 AM,28/Oct/23 2:57 AM,16/Aug/17 12:25 AM,,,,,fabric-quality,,,0,consensus,quality,,,,"An admin would bootstrap the network and would need the following:
* users and certs for each peer
* orderer certs and URL/IP address for the network
* any possible subchannel information if network will be configured with such

The output is:
* the genesis block that contains cert info for all peers in the network
* a hash that is sent to each peer for determining if the genesis block that they receive from the network is genuine.
",,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-665,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-1017,,,,,,,,,"1|hzx2tj:",,,,Unset,,Sprint 19 - Quality,,,,,,,,,,,,,,,3.0,Unset,,,,,,,,,,,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,true,"18/Jul/17 5:57 AM;latitiah;https://gerrit.hyperledger.org/r/11713;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Access Control Policies Testing,FAB-901,13232,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,latitiah,latitiah,29/Oct/16 2:19 AM,30/Jul/19 11:42 AM,28/Oct/23 2:57 AM,30/Jul/19 11:42 AM,,,,,fabric-quality,,,0,consensus,quality,,,,"A user/org may or may not be able to modify the orderer policy being used in the orderer (PBFT, Kafta, SOLO, etc.). The same is true for endorsement policies. These scenarios should be tested.

1.What is the default and what happens if and when this is changed?
2. At what point in the process are these permissions set? 
3. How should this look when setting the genesis block? How does one update it?",,latitiah,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-1017,,,,,,,,,"1|hzy96n:",,,,Unset,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,latitiah,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"28/Apr/17 8:24 AM;latitiah;The policies are changed in the configtx.yaml file.
The initial genesis block can be set using the configtxgen tool.

This story needs to be groomed more to answer more questions:
1. What are the possible values? (Default seems to be None at this point)
2. What command can be used to update the orderer config block?
3. How do you update the network with the new config block?;;;","30/Jul/19 11:42 AM;mastersingh24;Open 1 year or more with no activity ... time to cleanup;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Test multi-channel configurations,FAB-902,13233,16637,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,latitiah,latitiah,latitiah,29/Oct/16 2:30 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,20/Oct/17 4:35 AM,,,,,fabric-quality,,,0,consensus,quality,,,,"Peers may communicate over multiple channels. These tests should cover a minimum of the following scenarios:
* a peer allowed to communicate on a specified channel
* a peer disallowed to communicate on a specified channel
* a peer has permission revoked from a specified channel
* a peer that can communicate over multiple channels using different chaincode across channels
* a peer that can communicate over multiple channels using the same chaincode across channels
",,kletkeman,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3865,FAB-3866,,,,FAB-686,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx93r:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,kletkeman,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"29/Oct/16 2:32 AM;latitiah;Specifics needed:
* API for requesting the subchannel
* API for using the subchannel
* Is this subchannel only between 2 peers or can many peers be apart of the subchannel?
* Can you restrict who can be allowed in a subchannel? Is this in the genesis block?
;;;","13/Mar/17 11:04 PM;kletkeman;Hi all, is a ""subchannel"" mentioned here just a channel in actuality? Or is this a different concept?
[~jimthematrix] [~mastersingh24] [~binhn];;;","14/Mar/17 3:26 AM;latitiah;Hi [~kim@letkeman.net],
Yes, this issue was written in Oct, before the idea of channel was more ""baked"" than it is now. Now, we use channels and there is a slightly different process that is followed for multiple peers to join a channel. In short, we no longer have the concept of ""subchannels"" - only channels.
;;;","14/Mar/17 3:50 AM;kletkeman;Thanks very much Latitia. It is as I suspected.;;;","19/Jul/17 11:57 PM;latitiah;These 2 CRs cover 2 of these cases:
https://gerrit.hyperledger.org/r/#/c/11155/
https://gerrit.hyperledger.org/r/#/c/11283/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Ledger corrupt when start peer then stop peer without processing blocks,FAB-903,13234,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,manish-sethi,denyeart,denyeart,29/Oct/16 5:26 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,03/Nov/16 5:28 AM,,,,,fabric-ledger,,,0,Ledger,,,,,"I am running the end-to-end v1 trial with CLI (and RocksDB), see the attachment in Binh's forum email:
https://lists.hyperledger.org/pipermail/hyperledger-fabric/2016-October/000421.html

The attachment at the bottom is:
http://lists.hyperledger.org/pipermail/hyperledger-fabric/attachments/20161022/d3860afb/attachment.obj

When I deploy chaincode and invoke chaincode all is good.
I stop peer server with Ctrl-C.
I re-start peer with:
CORE_PEER_COMMITTER_LEDGER_ORDERER=0.0.0.0:5151 CORE_LOGGING_LEVEL=DEBUG peer node start

Everything works fine if I do at least one invoke.  If I do no invokes and stop the peer, the ledger appears to get corrupt.  I cannot start the peer again.  Upon peer start I get error in stdout:

...
20:14:38.596 [kvledger] indexBlock -> DEBU 0a1 Indexing block [blockNum=43, blockHash=[]byte{0xac, 0x4a, 0xe3, 0xd3, 0xf4, 0x99, 0xcc, 0xec, 0x74, 0x70, 0x51, 0x7a, 0xae, 0x88, 0xe3, 0xe2, 0x88, 0xe1, 0x9, 0x82, 0x89, 0xa9, 0xc8, 0xe7, 0x96, 0x52, 0x26, 0x60, 0xeb, 0xd5, 0x7a, 0x4e, 0xc2, 0x96, 0x2, 0xf3, 0xdf, 0xd2, 0x27, 0x53, 0xcc, 0xd3, 0x5f, 0xdb, 0xb2, 0x83, 0xa2, 0x66, 0x22, 0xc8, 0x8, 0x12, 0x5d, 0x4c, 0x94, 0x37, 0x4a, 0x4b, 0x60, 0xd1, 0xf6, 0x39, 0xf5, 0xd4}]
20:14:38.596 [kvledger] nextBlockBytesAndPlacementInfo -> DEBU 0a2 current file [0]
20:14:38.596 [kvledger] nextBlockBytesAndPlacementInfo -> DEBU 0a3 blockbytes [0]. Err:unexpected end of blockfile
20:14:38.596 [kvledger] retrieveSerBlockByNumber -> DEBU 0a4 retrieveSerBlockByNumber() - blockNum = [44]
panic: Could not retrieve last block form file: Entry not found in index

Full stdout for working scenarios and then broken scenario is attached.

Ledger in corrupt state from /var/hyperledger/production dir is too large to attach, find it here:
https://drive.google.com/file/d/0B-qNtwPcxZjPTGxEdS1CN3hsb3M/view?usp=sharing",,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"29/Oct/16 5:18 AM;denyeart;PeerDebug.rtf;https://jira.hyperledger.org/secure/attachment/10208/PeerDebug.rtf",,,,,,,,,,,,,,,,FAB-758,,,,,,,,,"1|hzxakv:",,,,,,Sprint 4 -xxxxx,,,,,,,,,,,,,,,,,,,,,,,,,,,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Kafka orderer requires message-size constraint specifications/enforcement/documentation,FAB-904,13235,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,nickgaski,bcbrock,bcbrock,29/Oct/16 5:57 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,29/Mar/17 4:15 AM,,,,,fabric-quality,,,0,kafka,,,,,"For better or worse, Kafka configuration includes several parameters related to maximum messages sizes. I hit this just now when trying to order 1KiB blobs in blocks of 1000 - this exceeded the default 1MB message-size limit and the orderer crashed when Kafka threw an exception.

One way or the other the Kafka orderer should reject blobs that are too big, and be coded in such a way that it will never aggregate blocks that are too big for the current configuration. It may be possible for the orderer to learn these constraints by metadata requests to Kafka. Or the orderer could take constraints from the config file and reconfigure Kafka based on the constraints (?) 

The interaction of the constraints will need to be well-documeted so that clients understand their resonsibility (if any) for creating consistent Kafka/orderer configurations and avoiding issuing blobs that are too big. This will also have to go back into the SDK to gracefully handle these types of failures. 

I'm labelling this a bug because the orderer ""should have"" known that my block was getting too big and cut the block before it got too big.",,bcbrock,kchristidis,kenzhang,sanchezl,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-1171,,,,,,,,,,,,,,,,,,,,,,,,FAB-1253,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx6dz:",,,,,,Sprint 5 - Consensus,Sprint 10 - consensus,Sprint 11 - consensus,,,,,,,,,,,,,,,,,,,,,,,,,bcbrock,kchristidis,kenzhang,sanchezl,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"21/Nov/16 4:40 PM;sanchezl;{quote}It may be possible for the orderer to learn these constraints by metadata requests to Kafka.{quote}
It is not possible to retrieve any values defined in the `server.properties` file remotely.
{quote}... the orderer could take constraints from the config file and reconfigure Kafka based on the constraints {quote}
It is not possible to change any values defined in the `server.properties` programmatically.
{quote} ... the Kafka orderer should reject blobs that are too big, and be coded in such a way that it will never aggregate blocks that are too big for the current configuration. ...
The interaction of the constraints will need to be well-documeted so that clients understand their resonsibility (if any) for creating consistent Kafka/orderer configurations and avoiding issuing blobs that are too big.{quote}
This looks like the only available path at the moment. I propose that we:
* Add a `config.Kafka.MessageMaxBytes` property to the orderer configuration.
** We can default to the Kafka broker `message.max.bytes` default value of `1000012`.
* Cut a block before it reaches a size of `config.Kafka.MessageMaxBytes`.
* Document the interaction of the `config.Kafka.MessageMaxBytes` and the various Kafka configuration properties affected:
** `message.max.bytes` – from server.properties
** `replica.fetch.max.bytes` – from server.properties
** `message.max.bytes` – from topic specific entry in ZooKeeper
** `fetch.message.max.bytes` – from consumer properties
 ;;;","22/Nov/16 1:28 AM;bcbrock;Please see https://jira.hyperledger.org/browse/FAB-1171. The message size constraint should as least be documented as an optimization tool. For simplicity we could consider removing the number-of-TX-per-block limit.;;;","30/Nov/16 1:44 PM;sanchezl;In leu of [FAB-1171|https://jira.hyperledger.org/browse/FAB-1171], this issue will be about documenting the relationship between the various kafka {{*.max.bytes}} configuration settings and the configuration settings added in [FAB-1171|https://jira.hyperledger.org/browse/FAB-1171].;;;","18/Jan/17 11:58 PM;sanchezl;Draft posted to https://gerrit.hyperledger.org/r/4123;;;","20/Jan/17 2:34 AM;kchristidis;[~nickgaski] is on this, and will use Luis's draft when writing documentation for the project.

I'm moving this to the backlog as I don't know when Nick & co. plan to have this ready. Nick feel free correct any of the above, and adjust the sprint accordingly. (Thanks!);;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
enhance tools and write scalability tests,FAB-905,13236,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,dongming,scottz,scottz,29/Oct/16 6:07 AM,21/Jul/18 3:53 AM,28/Oct/23 2:57 AM,15/Sep/17 3:31 AM,,,,,fabric-quality,,,0,quality,,,,,"PREFACE:  In this description, ""peers"" refers to the peers in a v0.6 network. In v1.0, the ""peer"" will include the concept of endorser and committer - everything EXCEPT the orderer nodes which are actually used for consensus to order batches. So, when implementing this story for v1.0, use the term ""orderer node"" instead of peer.


We should measure scalability : measure network throughput rates and timings (durations to deploy or process transactions) or other performance characteristics, for different sized networks.

STEP 0: 
First modify tests as needed to run with different sized networks. Devise smarter tests that can run, take down a peer, and rerun, and compare differences in throughput, etc.
 
STEP 1:
We can run specific existing performance measurement tests on different size networks, for example, 4, 7, 10, 16 peers (when F is 1, 2, 3, 5). At first, tests may need to be run in separate networks, statically created, because fabric does not allow dynamically changing the number of peers in the network (or the number of peers required for consensus).

STEP 2:
Another thought is to measure performance of the same network when some peers are not operating. For example, using a network of 6 peers (N=6, F=2), we could create a network and run the tests to collect performance measurements while all 6 nodes are running, then stop one peer and collect measurements, and then stop a 2nd peer and collect measurements. (Stopping a third peer would leave only 3 running, and the network would halt processing.)

STEP 3:
Once fabric is enhanced to allow dynamically adding a peer to a network (and change both N and F), then we could extend the tests in STEP2 for example to run in a network with N=10 and F=3, and stop a peer, rerun, stop another to reduce to 8, rerun, 7, rerun, ..., 4, rerun.
",,dongming,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzxdq7:",,,,Unset,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,dongming,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"15/Sep/17 3:31 AM;dongming;This is done in FAB-6034: PTE checked into fabric-test;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Kafka orderer: Update vendor/github.com/klauspost/crc32 for system Z support,FAB-906,13237,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,kchristidis,bcbrock,bcbrock,29/Oct/16 8:20 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,03/Nov/16 8:50 AM,,,,,fabric-orderer,,,0,Consensus,,,,,"Go 1.7 now supports accelerated CRC computation for Z, required by Kafka. This code appears to have been integrated into klauspost/crc32 12 days ago - our vendor version was installed 20 days ago so we just missed it!

Also, once Go 1.8 is released I believe that we can lobby Shopify/sarama to drop the requirement for klauspost/crc32 and simplify our vendor library.",,bcbrock,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-32,,,,,,,,,"1|hzxdqf:",,,,,,Sprint 4 - Consensus,,,,,,,,,,,,,,,,,,,,,,,,,,,bcbrock,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"30/Oct/16 2:45 AM;kchristidis;Thank you for reporting this.

Just pushed a changeset that updates the vendored version to the one released on 10/16: https://gerrit.hyperledger.org/r/#/c/2099/;;;","30/Oct/16 9:07 AM;bcbrock;Thanks Kostas!;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Unable to run the unit tests written for Fabrick-sdk-java,FAB-907,13238,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,malik-altaf,Ratnakar,Ratnakar,30/Oct/16 2:10 AM,23/Apr/19 10:06 PM,28/Oct/23 2:57 AM,05/Nov/16 12:43 AM,,,,,fabric-quality,,,0,quality,,,,,"From the documentation provided here https://github.com/hyperledger/fabric-sdk-java. 

After the environment setup, Unit tests are executed with either of the below commands, However it fails with error ""*UNKNOWN: Identity or token does not match*""


{code:java}
* mvn install
* mvn test
{code}


Gist of error logs:


{code:java}
INFO: [ManagedChannelImpl@ba8d91c] Created with target localhost:7051
org.hyperledger.fabric.sdk.exception.EnrollmentException: Failed to enroll user
	at org.hyperledger.fabric.sdk.MemberServicesImpl.enroll(MemberServicesImpl.java:218)
	at org.hyperledger.fabric.sdk.Member.enroll(Member.java:215)
	at org.hyperledger.fabric.sdk.Chain.enroll(Chain.java:296)
	at org.hyperledger.fabric.sdk.PeerClientTest.init(PeerClientTest.java:25)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:24)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.apache.maven.surefire.junit4.JUnit4TestSet.execute(JUnit4TestSet.java:53)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:123)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:104)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.maven.surefire.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:164)
	at org.apache.maven.surefire.booter.ProviderFactory$ProviderProxy.invoke(ProviderFactory.java:110)
	at org.apache.maven.surefire.booter.SurefireStarter.invokeProvider(SurefireStarter.java:175)
	at org.apache.maven.surefire.booter.SurefireStarter.runSuitesInProcessWhenForked(SurefireStarter.java:107)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:68)
Caused by: io.grpc.StatusRuntimeException: UNKNOWN: Identity or token does not match.
	at io.grpc.Status.asRuntimeException(Status.java:536)
	at io.grpc.stub.ClientCalls.getUnchecked(ClientCalls.java:208)
	at io.grpc.stub.ClientCalls.blockingUnaryCall(ClientCalls.java:141)
	at org.hyperledger.protos.ECAPGrpc$ECAPBlockingStub.createCertificatePair(ECAPGrpc.java:321)
	at org.hyperledger.fabric.sdk.MemberServicesImpl.enroll(MemberServicesImpl.java:190)
	... 32 more

{code}


*NOTE: It is not clear on what to be added in '+_test.properties_+', Is it not a pre-req to have something in this file ?*

It would be great to have a sample program on how to use fabric-sdk-java.
",,malik-altaf,Ratnakar,sejalpawar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"30/Oct/16 2:10 AM;Ratnakar;java-sdk-unit-test-failures.txt;https://jira.hyperledger.org/secure/attachment/10209/java-sdk-unit-test-failures.txt","03/Nov/16 11:07 PM;Ratnakar;non-vagrant-logs.txt;https://jira.hyperledger.org/secure/attachment/10211/non-vagrant-logs.txt","04/Nov/16 10:43 AM;Ratnakar;query-failure.txt;https://jira.hyperledger.org/secure/attachment/10215/query-failure.txt","03/Nov/16 11:07 PM;Ratnakar;vagrant-logs.txt;https://jira.hyperledger.org/secure/attachment/10212/vagrant-logs.txt",,,,,,,,,,,,,,,,,,,,,,"1|hzxdqv:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,malik-altaf,Ratnakar,sejalpawar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"03/Nov/16 2:16 PM;malik-altaf;This error occures when the user is already enrolled,  the membership service does not allow re-enrolling a user. To get the test cases work, you need to do two things:
(1) Delete the membership database - typically this involves deleting the /var/hyperledger/production folder (unless you modified the core.yaml file to use a different database location)

(2) Delete the local KeyValStore - testcases use ${user.home}/test.properties.

After performing the above two steps, {{mvn test}} should succeed unless the chaincode referred in test cases is not at default location.

* What should be in test.properties
===========================
Nothing. The test.properties file is created by the SDK test cases to store the membership details including the keys and certs. This will be automatically created and updated when you enroll or register a member. Please note that whenever you clear the membership services database, delete this file as well otherwise SDK will think that the user is registered while the

This information has been updated in README file for future references ;;;","03/Nov/16 11:16 PM;Ratnakar;[~malik-altaf] Thanks for clarifying on the *test.properties* file.

However I couldn't get rid of the issue still. First of all the test.properties has never been created I myself has created one (I deleted again)

The steps I followed are as below :

{panel}
rm -rf /var/hyperledger/*
{panel}

Started Membersrvc
{panel}
membersrvc
{panel}

started peer
{panel}
CORE_LOGGING_LEVEL=debug peer node start
{panel}

and ran the tests (both from inside and outside vagrant environments)
{panel}
cd /opt/gopath/src/github.com/hyperledger/fabric-sdk-java
mvn install
{panel}


Did I missed any steps here ? Do i need to setup any thing else ?


Tried  on vagrant and non-vagrant environments, root cause seems to be the same.
attached the log files for both the environments  [^non-vagrant-logs.txt]  [^vagrant-logs.txt] 


Here are the gist of logs for your reference in both the environments

{code:java}
Nov 03, 2016 1:50:29 PM org.hyperledger.fabric.sdk.FileKeyValStore loadProperties
WARNING: Could not find the file ""/home/vagrant/test.properties""
Nov 03, 2016 1:50:29 PM org.hyperledger.fabric.sdk.FileKeyValStore loadProperties
WARNING: Could not find the file ""/home/vagrant/test.properties""
org.hyperledger.fabric.sdk.exception.EnrollmentException: Failed to enroll user
	at org.hyperledger.fabric.sdk.MemberServicesImpl.enroll(MemberServicesImpl.java:218)
	at org.hyperledger.fabric.sdk.Member.enroll(Member.java:224)
	at org.hyperledger.fabric.sdk.Chain.enroll(Chain.java:299)
	at org.hyperledger.fabric.sdk.PeerClientTest.setupChain(PeerClientTest.java:29)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:24)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:252)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:141)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:112)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.maven.surefire.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:189)
	at org.apache.maven.surefire.booter.ProviderFactory$ProviderProxy.invoke(ProviderFactory.java:165)
	at org.apache.maven.surefire.booter.ProviderFactory.invokeProvider(ProviderFactory.java:85)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:115)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:75)
Caused by: io.grpc.StatusRuntimeException: UNKNOWN: Identity or token does not match.
	at io.grpc.Status.asRuntimeException(Status.java:536)
	at io.grpc.stub.ClientCalls.getUnchecked(ClientCalls.java:208)
	at io.grpc.stub.ClientCalls.blockingUnaryCall(ClientCalls.java:141)
	at org.hyperledger.protos.ECAPGrpc$ECAPBlockingStub.createCertificatePair(ECAPGrpc.java:321)
	at org.hyperledger.fabric.sdk.MemberServicesImpl.enroll(MemberServicesImpl.java:190)
	... 24 more
Tests run: 2, Failures: 0, Errors: 2, Skipped: 0, Time elapsed: 1.365 sec <<< FAILURE!
{code};;;","04/Nov/16 9:37 AM;malik-altaf;The logs contain two different errors.
The non-vagrant logs show an error about IllegalKeySize, which indicates that your version of JDK does not include unlimited strength crypto capabilities. I have included the instructions in README.md, please see if your issue gets fixed.

The vagrant logs show that it is looking for file ""/home/vagrant/test.properties"", so please make sure you delete this file as well alongside /var/hyperledger/production. This file will be inside the vagrant VM in case you are looking for this in your HOST OS.;;;","04/Nov/16 10:43 AM;Ratnakar;After fixning the security issue as per the readme file from here https://gerrit.hyperledger.org/r/#/c/2209/3/README.md

I still see Query failure randomly 

Results :
{code:java}
Tests in error: 
  testQuery(org.hyperledger.fabric.sdk.PeerClientTest): Error:Failed to launch chaincode spec(Could not get deployment transaction for 0113161a2d28ce1a7b5de317c6ab440e560fad7a634ba09d40add68facee7017 - LedgerError - ResourceNotFound: ledger: resource not found)
{code}

{code}
$ docker ps
CONTAINER ID        IMAGE                                                                       COMMAND                  CREATED             STATUS              PORTS               NAMES
23d6b1e6fdec        dev-jdoe-0113161a2d28ce1a7b5de317c6ab440e560fad7a634ba09d40add68facee7017   ""/opt/gopath/bin/0113""   13 seconds ago      Up 12 seconds                           dev-jdoe-0113161a2d28ce1a7b5de317c6ab440e560fad7a634ba09d40add68facee7017
{code}
I made sure the container is getting created 
I also see the container logs which indicates  Invoke is successful.

{code}
vagrant@hyperledger-devenv:v0.0.11-02a123c:/opt/gopath/src/github.com/hyperledger/fabric-sdk-java$ docker logs -f 23d6b1e6fdec44505601cc87320c0412e969527b48e6035f1091a7b6ec87d567 
01:36:21.008 [shim] DEBU : Peer address: 0.0.0.0:7051
01:36:21.008 [shim] DEBU : os.Args returns: [/opt/gopath/bin/0113161a2d28ce1a7b5de317c6ab440e560fad7a634ba09d40add68facee7017 -peer.address=0.0.0.0:7051]
01:36:21.008 [shim] DEBU : Registering.. sending REGISTER
01:36:21.012 [shim] DEBU : []Received message REGISTERED from shim
01:36:21.012 [shim] DEBU : []Handling ChaincodeMessage of type: REGISTERED(state:created)
01:36:21.013 [shim] DEBU : Received REGISTERED, ready for invocations
01:36:21.023 [shim] DEBU : [4f8321e1]Received message INIT from shim
01:36:21.024 [shim] DEBU : [4f8321e1]Handling ChaincodeMessage of type: INIT(state:established)
01:36:21.024 [shim] DEBU : Entered state init
01:36:21.024 [shim] DEBU : [4f8321e1]Received INIT, initializing chaincode
Aval = 700, Bval = 20000
01:36:21.024 [shim] DEBU : [4f8321e1]Inside putstate, isTransaction = true
01:36:21.024 [shim] DEBU : [4f8321e1]Sending PUT_STATE
01:36:21.026 [shim] DEBU : [4f8321e1]Received message RESPONSE from shim
...
01:36:22.097 [shim] DEBU : [0113161a]after send
01:36:22.097 [shim] DEBU : [0113161a]Received RESPONSE, communicated (state:transaction)
01:36:22.097 [shim] DEBU : [0113161a]GetState received payload RESPONSE
Aval = 500, Bval = 20200
01:36:22.097 [shim] DEBU : [0113161a]Inside putstate, isTransaction = true
....
01:36:22.101 [shim] DEBU : [0113161a]Move state message COMPLETED
01:36:22.101 [shim] DEBU : [0113161a]Handling ChaincodeMessage of type: COMPLETED(state:transaction)
01:36:22.101 [shim] DEBU : [0113161a]send state message COMPLETED

{code}

complete logs attached  [^query-failure.txt] 
;;;","23/Apr/19 10:06 PM;sejalpawar;[~Ratnakar] I am facing the same issue: /home/ubuntu/test.properties not found. Even though the file does exist at the said path. (I did not create the file.) How did you solve the issue?;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
peer chaincode ls？,FAB-908,13239,,Story,Closed,FAB,Fabric,software,denyeart,,,Low,Duplicate,,ckeyer,ckeyer,30/Oct/16 2:53 AM,09/Jan/19 3:49 AM,28/Oct/23 2:57 AM,09/Jan/19 3:49 AM,,,Future,,fabric-peer,,,0,chaincode,help-wanted,,,,"How can I query chaincodes that have been deployed, such as `peer chaincode ls`
",,ckeyer,denyeart,mastersingh24,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzxdr3:",,,,Unset,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,ckeyer,denyeart,mastersingh24,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"01/Jan/17 5:41 AM;mastersingh24;[~muralisr] [~binhn]  We should be able to have this type of functionality in V1 now that we have lifecycle mgmt?;;;","01/Jan/17 6:04 AM;muralisr;[~mastersingh24] [~ckeyer] absolutely. It could be a useful addition to lccc.go. Let me add a help wanted tag to this item.

[~ckeyer] do assign this to yourself if you'd like to work on this (I can help of course).;;;","09/Jan/19 3:49 AM;denyeart;""peer chaincode list"" has been implemented.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Inconsistent ""cryto_test.go"" unit test case failure in Jenkins CI",FAB-909,13240,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,adc,rameshthoomu,rameshthoomu,30/Oct/16 11:59 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,14/Feb/17 12:57 PM,,,,,fabric-quality,,,0,build-system,quality,,,,"Inconsistent unit-test case failure in Jenkins environment. Below is the error description and Jenkins console output.

Commit# b4473da
Branch: Master
Repository: Fabric

18:27:26 --- FAIL: TestParallelInitClose (0.00s)
18:27:26 	crypto_test.go:172: Failed registerting userthread.
18:27:26 2016/10/29 18:27:21 grpc: addrConn.resetTransport failed to create client transport: connection error: desc = ""transport: dial tcp 127.0.0.1:50541: getsockopt: connection refused""; Reconnecting to {""localhost:50541"" <nil>}
18:27:26 2016/10/29 18:27:21 Failed to dial localhost:50541: grpc: the connection is closing; please retry.
18:27:26 open socket...done

https://jenkins.hyperledger.org/view/fabric/job/fabric-merge-x86_64/292/",Jenkins CI Environment,angelo.decaro,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxdrb:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,angelo.decaro,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"01/Nov/16 12:16 AM;rameshthoomu;Above reported issues reproducing in Production origin/master merges. here is the latest build from Jenkins https://jenkins.hyperledger.org/view/fabric/job/fabric-merge-x86_64/293/console

Similar ""cypto"" issue observed by Murali and the bug is tracked here: https://jira.hyperledger.org/browse/FAB-910. ;;;","07/Dec/16 1:38 AM;angelo.decaro;Hi [~rameshthoomu], I'm not able to access the link you posted. I get HTTP ERROR 404. What's wrong?;;;","07/Dec/16 1:40 AM;angelo.decaro;Are we talking about 0.6 or the current master?;;;","14/Feb/17 12:57 PM;rameshthoomu;Issue is now fixed on latest commits.. Closing this issue;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
CI unit-tests fail in crypto with panic from github.com/spf13/viper,FAB-910,13241,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,angelo.decaro,muralisr,muralisr,31/Oct/16 1:23 AM,29/Jan/19 5:13 AM,28/Oct/23 2:57 AM,12/Apr/17 5:55 AM,,,,,fabric-crypto,,,0,,,,,,"
{code:java}
11:48:22 Cleanup...done!
11:48:22 === End tests for scenario 'Using SHA2-256'  ===
11:48:22 === Start tests for scenario 'Using SHA2-384' ===
11:48:22 11:48:22.094 [ca] NewCA -> INFO 257[0m Fresh start; creating databases, key pairs, and certificates.
11:48:22 fatal error: concurrent map read and map write
11:48:22 
11:48:22 goroutine 9085 [running]:
11:48:22 runtime.throw(0xd3a460, 0x21)
11:48:22 	/opt/go/go1.6.linux.amd64/src/runtime/panic.go:530 +0x90 fp=0xc82097ba98 sp=0xc82097ba80
11:48:22 runtime.mapaccess2_faststr(0xa66980, 0xc820010f60, 0xd10870, 0x14, 0x12b5ac0, 0xd10800)
11:48:22 	/opt/go/go1.6.linux.amd64/src/runtime/hashmap_fast.go:307 +0x5b fp=0xc82097baf8 sp=0xc82097ba98
11:48:22 github.com/hyperledger/fabric/vendor/github.com/spf13/viper.(*Viper).find(0xc8200e4000, 0xd10870, 0x14, 0x0, 0x0)
11:48:22 	/w/workspace/fabric-verify-x86_64/gopath/src/github.com/hyperledger/fabric/vendor/github.com/spf13/viper/viper.go:628 +0x3f0 fp=0xc82097bc60 sp=0xc82097baf8

{code}

unit-test fails in crypto with that panic from viper and sometimes takes severy reverify's to pass. For example https://jenkins.hyperledger.org/job/fabric-verify-x86_64/2160/console.

Will be good to address this for quicker changeset turnaround.",,angelo.decaro,ashutosh_kumar,denyeart,muralisr,smithbk,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxdrj:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,angelo.decaro,ashutosh_kumar,denyeart,muralisr,smithbk,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"31/Oct/16 10:58 PM;ashutosh_kumar;[~muralisr] , which branch this code is in ? Can you provide steps to recreate the problem ? ;;;","31/Oct/16 11:47 PM;smithbk;Assigning to Angelo as it is in crypto test;;;","01/Nov/16 12:45 AM;angelo.decaro;This error comes from github.com/hyperledger/fabric/core/crypto.startPKI(). Who is in charge of the membership services should take care of this.;;;","02/Nov/16 4:34 PM;angelo.decaro;So, anyway, I have tried to replicate the scenario but nothing I don't see the error happening :(;;;","12/Apr/17 5:55 AM;denyeart;Have not seen recently, closing...;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Tx lost from vp0 after stop vp0 vp1 vp2, deploy, restart vp0 vp1, invokes",FAB-911,13242,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,scottz,scottz,31/Oct/16 11:05 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,08/Apr/17 5:06 AM,,,WON'T FIX,,fabric-orderer,,,0,0.6,,,,,"Transactions that are sent to vp0 are lost. Some other scenarios, and other peers, do not exhibit the problem.

Found in v0.6 testing. Similar to FAB-333 and FAB-335, but not same.

CAT_407_S0S1S2_D_I_R0R1_IQ.go
Scenario:
Bring up a 4 peer network with security using example02.
Stop peers vp0 vp1 vp2.
100 Invokes to vp3.
Deploy new instance of chaincode, to vp3. a=b=10000
Wait over 6 minutes.
Start peers vp0 vp1.
Invokes:  77 to vp0,  2 to vp1,  8 to vp3.
Query: 
EXPECTED A/B:      9813     10187.
ACTUALs:
Peer 0             9890     10110
Peer 1             9890     10110
Peer 3             9890     10110

Those 77 invokes sent to vp0 were lost.
In future we can enhance test case to check for event notification to confirm whether or not the fabric knew they were being dropped, but nevertheless it seems odd that only those that were sent to vp0 were dropped.
",,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxe13:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Tx lost from all peers after stop vp1 vp2 vp3, deploy, restart vp1 vp2, invokes",FAB-912,13243,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,scottz,scottz,01/Nov/16 12:02 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,08/Apr/17 5:06 AM,v0.6,,WON'T FIX,,fabric-orderer,,,0,0.6,,,,,"Transactions that are sent to all active peers after restart and deployment are lost. 

Found in v0.6 testing. Similar to FAB-333 and FAB-335, but not same. This is similar to FAB-911, but here, vp0 is not one of the stopped peers, as was done in FAB-911.

Scenario:
CAT_409_S1S2S3_D_I_R1R2_IQ.go
Bring up a 4 peer network with security using example02.
Stop peers vp1 vp2 vp3.
100 Invokes to vp0.
Deploy new instance of chaincode, to vp0. a=b=10000
Wait over 5 minutes.
Start peers vp1 vp2.
Send 7 Invokes: 1 to vp0, 2 to vp1, 4 to vp2.Scenario:
Query, Request another 100 Invokes.
Those first 7 invokes sent to vp0,vp1,vp2 were lost.

We realize all transactions are not guaranteed to be processed, and observed the network peers did keep consensus, but some other scenarios do not exhibit the problem. In future we can enhance test case to check for event notification to confirm whether or not the fabric knew they were being dropped, but nevertheless it seems odd that the first groups of transactions were dropped, so long after the restarts happened.
",,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-334,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxdrr:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Further consolidation of protos,FAB-913,13244,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,muralisr,muralisr,01/Nov/16 1:09 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,06/Dec/16 7:05 AM,,,,,fabric-peer,,,0,,,,,,"https://jira.hyperledger.org/browse/FAB-845 took a first pass into getting new protos structures into fabric and incorporating them in code path. There needs to be another level of consolidation with atomic broadcast protos so we can support config flows in addition to endorser flows.

In addition the consolidation also forces beneficial protos abstraction so both flows (and possibly others in future) can be treated generically.


",,jyellick,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-631,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-37,,,,,,,,,"1|hzx8gn:",,,,,,Sprint 5 - Consensus,,,,,,,,,,,,,,,,,,,,,,,,,,,jyellick,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"06/Nov/16 10:56 AM;jyellick;https://gerrit.hyperledger.org/r/#/c/2257/

The orderer half of this consolidation is included in the above;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Process Join Channel from CSCC,FAB-914,13245,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,binhn,binhn,01/Nov/16 5:45 AM,12/Jul/19 8:25 PM,28/Oct/23 2:57 AM,12/Jul/19 8:25 PM,,,v1.0.0,,fabric-peer,,,0,Endorser,,,,,"Provide a transactional method for the application to call as part of a proposal invocation to request a peer to join a channel. In the method, call Deliver() RPC on Orderer with the specified channel from the client app.",,binhn,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-497,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxdrz:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,binhn,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Process query configuration from CSCC,FAB-915,13246,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,binhn,binhn,01/Nov/16 5:50 AM,12/Jul/19 8:26 PM,28/Oct/23 2:57 AM,12/Jul/19 8:26 PM,,,v1.0.0,,fabric-peer,,,0,Endorser,,,,,Provide a query function to return the configuration object.  This call is response to a proposal request. We should consider breaking it up into different query functions if the payload is too large.,,binhn,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-497,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxds7:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,binhn,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Call CSCC from Committer,FAB-916,13247,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid,,binhn,binhn,01/Nov/16 5:52 AM,12/Jul/19 8:31 PM,28/Oct/23 2:57 AM,12/Jul/19 8:31 PM,,,Future,,fabric-peer,,,0,Endorser,,,,,"When Committer receives a Configuration transaction, it needs to call CSCC to process the transaction. ",,binhn,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-497,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxdsf:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,binhn,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Parse config from CSCC,FAB-917,13248,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid,,binhn,binhn,01/Nov/16 5:55 AM,12/Jul/19 8:30 PM,28/Oct/23 2:57 AM,12/Jul/19 8:30 PM,,,Future,,fabric-peer,,,0,Endorser,,,,,"When called to process a config transaction, CSCC parses the transaction and maps changes into read-write-set suitable for committing to the ledger",,binhn,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-497,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxdsn:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,binhn,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Nested configs are not processed correctly by the orderer when passed as env. vars,FAB-918,13249,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,jyellick,bcbrock,bcbrock,01/Nov/16 9:00 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,02/Nov/16 1:38 AM,,,,,fabric-orderer,,,0,Consensus,,,,,"This issue only affects configurations nested more than 2 levels deep, it seems. Briefly, you can observe that the orderer does not correctly processes certain nested configs. when entered as env. vars from the command line:

{code:java}
 ORDERER_KAFKA_RETRY_PERIOD=10s ./orderer
...
h3. [18:45:22.261]      config.go:196: [INFO ] Validated configuration to: &{General:{OrdererType:solo LedgerType:ram BatchTimeout:10s BatchSize:10 QueueSize:10 MaxWindowSize:1000 ListenAddress:127.0.0.1 ListenPort:5151 GenesisMethod:static Profile:{Enabled:false Address:0.0.0.0:6060}} RAMLedger:{HistorySize:1000} FileLedger:{Location: Prefix:hyperledger-fabric-rawledger} Kafka:{Brokers:[127.0.0.1:9092] Topic:test PartitionID:0 Retry:{Period:3s Stop:1m0s} Version:{version:[0 9 0 1]}}}
{code}

Note that the Kafka/retry/period period has not changed from the default 3 seconds as reported by the debug output. The fix I will submit shortly fixes this:
{code}
 ORDERER_KAFKA_RETRY_PERIOD=10s ./orderer
...
[18:44:30.830]      config.go:196: [INFO ] Validated configuration to: &{General:{OrdererType:solo LedgerType:ram BatchTimeout:10s BatchSize:10 QueueSize:10 MaxWindowSize:1000 ListenAddress:127.0.0.1 ListenPort:5151 GenesisMethod:static Profile:{Enabled:false Address:0.0.0.0:6060}} RAMLedger:{HistorySize:1000} FileLedger:{Location: Prefix:hyperledger-fabric-rawledger} Kafka:{Brokers:[127.0.0.1:9092] Topic:test PartitionID:0 Retry:{Period:10s Stop:1m0s} Version:{version:[0 9 0 1]}}}
{code}
Now Kafka/retry/period is correctly overridden to 10 seconds.

When can we eliminate the use of Viper - please?",,bcbrock,jyellick,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxdsv:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,bcbrock,jyellick,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"01/Nov/16 10:17 PM;kchristidis;Thanks for reporting this and looking into it.

(Do you have a better alternative for dealing with YAML files? The most relevant discussion I can think of is this one https://jira.hyperledger.org/browse/FAB-50, but it discusses alternatives to the YAML format.);;;","01/Nov/16 10:21 PM;jyellick;I really think the key is that we need to upgrade our version of Viper.  When I submitted the config, I noted an issue on Github about the improperly handled nested config for env overrides.  I know this has been fixed since, and I suspect there are other bug fixes lurking out there which have yet to bite us.;;;","01/Nov/16 11:59 PM;bcbrock;Jason, if you'd like to redo the config handling based on a new version of Viper it's OK with me, I can drop my proposed fix.

Some of the original arguments about alternatives to Viper are documented here: https://github.com/hyperledger-archives/fabric/issues/1309
As I mentioned there I think it would be helpful to have 2 YAML files: One read-only file documenting all config. options and their defaults, and another with the user's overrides. ;;;","02/Nov/16 12:21 AM;jyellick;It would probably be worth writing up a help wanted JIRA item for the config work, but I don't have the cycles to implement this at the moment.

I +2-ed your changeset because it fixes a current bug, is simple, and I have no real time-table for when the viper upgrade might happen, so I would not suggest you abandon your changeset.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Failure during 'make all': recipe for target 'linter' failed,FAB-920,13251,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,angelo.decaro,angelo.decaro,01/Nov/16 10:52 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,10/Nov/16 6:34 AM,,,,,,,,0,,,,,,"I have cloned the current master and tried 'make all'.
This is the error: ""recipe for target 'linter' failed""

Here is the stacktrace:

go vet ./orderer/...
orderer/solo/broadcast.go:175: github.com/hyperledger/fabric/orderer/atomicbroadcast.BroadcastResponse composite literal uses unkeyed fields
orderer/solo/broadcast.go:177: github.com/hyperledger/fabric/orderer/atomicbroadcast.BroadcastResponse composite literal uses unkeyed fields
orderer/solo/broadcast.go:182: github.com/hyperledger/fabric/orderer/atomicbroadcast.BroadcastResponse composite literal uses unkeyed fields
orderer/solo/broadcast_test.go:211: github.com/hyperledger/fabric/orderer/atomicbroadcast.BroadcastMessage composite literal uses unkeyed fields
orderer/solo/broadcast_test.go:251: github.com/hyperledger/fabric/orderer/atomicbroadcast.BroadcastMessage composite literal uses unkeyed fields
orderer/solo/broadcast_test.go:252: github.com/hyperledger/fabric/orderer/atomicbroadcast.BroadcastMessage composite literal uses unkeyed fields
orderer/solo/broadcast_test.go:253: github.com/hyperledger/fabric/orderer/atomicbroadcast.BroadcastMessage composite literal uses unkeyed fields
orderer/solo/broadcast_test.go:254: github.com/hyperledger/fabric/orderer/atomicbroadcast.BroadcastMessage composite literal uses unkeyed fields
orderer/solo/broadcast_test.go:283: github.com/hyperledger/fabric/orderer/atomicbroadcast.BroadcastMessage composite literal uses unkeyed fields
orderer/solo/broadcast_test.go:284: github.com/hyperledger/fabric/orderer/atomicbroadcast.BroadcastMessage composite literal uses unkeyed fields
orderer/solo/broadcast_test.go:285: github.com/hyperledger/fabric/orderer/atomicbroadcast.BroadcastMessage composite literal uses unkeyed fields
orderer/solo/broadcast_test.go:314: github.com/hyperledger/fabric/orderer/atomicbroadcast.BroadcastMessage composite literal uses unkeyed fields
orderer/solo/broadcast_test.go:315: github.com/hyperledger/fabric/orderer/atomicbroadcast.BroadcastMessage composite literal uses unkeyed fields
orderer/solo/broadcast_test.go:316: github.com/hyperledger/fabric/orderer/atomicbroadcast.BroadcastMessage composite literal uses unkeyed fields
exit status 1
Makefile:107: recipe for target 'linter' failed
make: *** [linter] Error 1",,angelo.decaro,jyellick,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxdtb:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,angelo.decaro,jyellick,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"05/Nov/16 8:16 PM;mastersingh24;I guess we don't run this test in CI?  The failure is easy to fix but wondering why it made it through CI in the first place;;;","06/Nov/16 10:59 AM;jyellick;Fix incorporated into: https://gerrit.hyperledger.org/r/#/c/2257/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Gossip layer implementation,FAB-922,13253,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,02/Nov/16 12:30 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,02/Nov/16 12:30 AM,,,,,fabric-gossip,,,0,gossip,,,,,"Code the implementation of the gossip layer itself, that connects between the comm layer and the various gossip data structs (pull, forwarding, discovery)",,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-290,,,,,,,,,"1|hzxdtr:",,,,,,Sprint 4 - Gossip,,,,,,,,,,,,,,,,,,,,,,,,,,,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Change orderer listening port,FAB-923,13254,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,tuand,jimthematrix,jimthematrix,02/Nov/16 12:35 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,23/Nov/16 4:35 PM,,,,,fabric-orderer,,,1,consensus,,,,,"i noticed that orderer.yaml defaults the listening port to `5151`, but the docker-compose overrides it to `5005`, is there a reason for this? why not decide on one of them and go with it everywhere? from SDK point of view we’d like to decide on which one to use for the test cases. right now our tests are set up with docker-compose so it makes sense to use 5005. but having 5151 as default can break contributors who fire up SOLO orderer as native process.

discussed with Jason/Kostas/Chris on slack, should pick 5151 as it's not likely going to conflict with existing services.",,jimthematrix,kchristidis,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,28800,28800,,0%,28800,28800,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx9nb:",,,,,,Sprint 5 - Consensus,Sprint 6 - consensus,,,,,,,,,,,,,,,,,,,,,,,,,,jimthematrix,kchristidis,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"02/Nov/16 12:38 AM;kchristidis;Update: 7050 seems to be the right pick, as we're working with the 7050-7060 range.

https://github.com/hyperledger-archives/fabric/pull/2286;;;","22/Nov/16 3:14 AM;kchristidis;In review: https://gerrit.hyperledger.org/r/#/c/2687/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Develop an end-2-end test to drive all v1.0 APIs,FAB-924,13255,12613,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,jimthematrix,jimthematrix,jimthematrix,02/Nov/16 2:10 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,02/Nov/16 2:11 AM,,,,,fabric-sdk-node,,,0,,,,,,"this is a happy path test that ensures all peer APIs have not regressed or changed, to ensure the SDK API and peer stay in sync",,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxdtz:",,,,,,Sprint 4 - nodeSDK,,,,,,,,,,,,,,,2.0,,,,,,,,,,,,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Improve coding styles in headless-tests.js for chaining Promise-based APIs,FAB-925,13256,12619,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jimthematrix,jimthematrix,jimthematrix,02/Nov/16 10:53 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,03/Nov/16 11:46 AM,,,,,fabric-sdk-node,,,0,,,,,,"the current headless-tests.js have a lot of embedded promise-based calls, like below:

functionA()
.then(
   function(result) {
      // do stuff
      functionB()
      .then(
         function(result) {...});
   });

this is defeating the purpose of the design of Promise-based APIs, it should have been chained like below (note the ""return"" statement on the call to functionB()):

functionA()
.then(
   function(result) {
      // do stuff
      return functionB();
   })
.then(
   function(result) {...});
);
",,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxdu7:",,,,,,Sprint 1,Sprint 2,Sprint 3,Sprint 4 - nodeSDK,,,,,,,,,,,,1.0,,,,,,,,,,,,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Make it easy to use the SDK to implement a REST API,FAB-930,13261,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,jimthematrix,jimthematrix,03/Nov/16 12:47 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,14/Dec/16 1:50 AM,,,,,,,,0,,,,,,"The REST APIs have been removed form the Peers. The main reason is that the Peer (where the REST APIs were hosted) was really not in the ideal position to be performing the tasks, namely deploy, transaction invoke or query, because all of these requests must be done under an enrolled user identity.

a Peer’s role should be a stateless transaction processing engine

it shouldn’t be required to maintain an arbitrary number of user identities

that should be separated out to the application layer

node.js SDK should make it really simple to write a web application that hosts REST APIs for chaincode deploy, transaction invocation and queries.",,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx81r:",,,,,,,,,,,,,,,,,,,,,8.0,,,,,,,,,,,,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"14/Dec/16 1:51 AM;jimthematrix;This work is superseded by FAB-156;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Create Kafka docker environment,FAB-931,13262,13221,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sanchezl,sanchezl,sanchezl,03/Nov/16 2:09 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,07/Dec/16 10:31 PM,,,,,fabric-orderer,,,0,consensus,,,,,Create a Kafka docker environment for running tests.,,sanchezl,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-890,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx8gv:",,,,,,Sprint 4 - Consensus,Sprint 5 - Consensus,,,,,,,,,,,,,,,,,,,,,,,,,,sanchezl,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"03/Nov/16 2:12 AM;sanchezl;I intend to create the needed docker-compose resources to start an environment with:
* A ZooKeeper instance in a container.
* Three Kafka instances, each in it's own container.
;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add a gulp task for running tests with coverage reports,FAB-932,13263,12887,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jimthematrix,jimthematrix,jimthematrix,03/Nov/16 5:44 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,04/Nov/16 3:11 AM,,,,,fabric-sdk-node,,,0,node-SDK,,,,,"""gulp test"" to run the whole test bucket
""gulp test-headless"" to run just the headless tests

both should print a report in the output and generate the HTMLs for the coverage report",,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxduv:",,,,,,Sprint 2,Sprint 3,Sprint 4 - nodeSDK,,,,,,,,,,,,,1.0,,,,,,,,,,,,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update static bootstrapper to new block format ,FAB-933,13264,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,kchristidis,kchristidis,kchristidis,03/Nov/16 8:49 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,15/Nov/16 10:23 PM,,,,,fabric-orderer,,,0,consensus,,,,,Also add tests.,,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx8dz:",,,,,,Sprint 4 - Consensus,Sprint 5 - Consensus,,,,,,,,,,,,,,,,,,,,,,,,,,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"03/Nov/16 8:50 AM;kchristidis;New block: https://gerrit.hyperledger.org/r/2177
Tests: https://gerrit.hyperledger.org/r/2179;;;","11/Nov/16 5:16 PM;kchristidis;Updated to match the latest proto changes (https://gerrit.hyperledger.org/r/#/c/2177/).;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Cleanup crypto,FAB-934,13265,,Task,Closed,FAB,Fabric,software,denyeart,,,High,Done,mastersingh24,muralisr,muralisr,03/Nov/16 11:14 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,08/Nov/16 9:52 AM,,,,,fabric-peer,,,1,,,,,,"Two major areas of cleanup 
* fabric/crypto
* security properties in core.yaml

Given BCCSP, it might be better to do crypto cleanup sooner than later.",,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-631,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-37,,,,,,,,,"1|hzx8h3:",,,,,,Sprint 5 - Consensus,,,,,,,,,,,,,,,,,,,,,,,,,,,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"06/Nov/16 4:19 AM;muralisr;[~mastersingh24] kindly was going to take a look as [~adc] is tied up with BCCSP;;;","08/Nov/16 9:52 AM;muralisr;thanks, [~mastersingh24] ... closing this out;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Error reading CORE_PBFT plugin config: Unsupported Config Type """"",FAB-935,13266,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,warm3snow,warm3snow,03/Nov/16 5:54 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,01/Apr/17 6:32 PM,,,v0.6,,fabric-peer,,,0,,,,,,"When I deploy chaincode, I got the below error
```
panic: Error reading CORE_PBFT plugin config: Unsupported Config Type """"

goroutine 1 [running]:
panic(0xd7d400, 0xc8201b2c40)
        /usr/lib/go-1.6/src/runtime/panic.go:481 +0x3e6
github.com/hyperledger/fabric/consensus/pbft.loadConfig(0xc820160c30)
        /home/opt/gopath/src/github.com/hyperledger/fabric/consensus/pbft/pbft.go:86 +0x7dd
github.com/hyperledger/fabric/consensus/pbft.init.4()
        /home/opt/gopath/src/github.com/hyperledger/fabric/consensus/pbft/pbft.go:39 +0x18
github.com/hyperledger/fabric/consensus/pbft.init()
        /home/opt/gopath/src/github.com/hyperledger/fabric/consensus/pbft/viewchange.go:668 +0xb2
github.com/hyperledger/fabric/consensus/controller.init()
        /home/opt/gopath/src/github.com/hyperledger/fabric/consensus/controller/controller.go:48 +0x54
github.com/hyperledger/fabric/consensus/helper.init()
        /home/opt/gopath/src/github.com/hyperledger/fabric/consensus/helper/helper.go:388 +0x58
github.com/hyperledger/fabric/peer/node.init()
        /home/opt/gopath/src/github.com/hyperledger/fabric/peer/node/stop.go:117 +0x83
main.init()
        /home/opt/gopath/src/github.com/hyperledger/fabric/peer/main.go:158 +0x8d
```",,mastersingh24,warm3snow,zhenbin,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxdv3:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mastersingh24,warm3snow,zhenbin,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"05/Nov/16 8:27 PM;mastersingh24;not sure how you are running your peer(s), but looks like it cannot find the pbft config files;;;","29/Nov/16 8:54 PM;zhenbin;hi, I met the same problem, but i solved it. In my case, i pull the hyperledger/fabric-peer docker image v0.6. but i didn't update the hyperledger source code(still maste version). when i update the source code to v0.6, the error has gone. I hope it's useful.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Gossip tests fixes,FAB-936,13267,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,03/Nov/16 9:01 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,03/Nov/16 9:01 PM,,,,,,,,0,,,,,,"* Had a bug in the gossip tests that made them fail on Mac computers due to different order of stack trace of the testing packages. 
* Also made the gossip and discovery tests faster by making the sleeps there sleep only until the next phase is ready instead of sleeping the whole time anyway. 
https://gerrit.hyperledger.org/r/#/c/2167/
2800ab9871adb9c83abe4d0a18239179cb44925e

* Also relaxes some timeouts of the tests because a developer complained they fail on his PC.
https://gerrit.hyperledger.org/r/#/c/2137/
5bf0eb18ec017a80852f6c7fd42821e5e3c68eb9

",,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-290,,,,,,,,,"1|hzxdvb:",,,,,,Sprint 4 - Gossip,,,,,,,,,,,,,,,,,,,,,,,,,,,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Improve gossip-discovery tests code coverage,FAB-937,13268,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,03/Nov/16 9:01 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,27/Nov/16 6:17 PM,,,,,,,,0,,,,,,"It's currently on 70%. Will write more tests that will increase it.
",,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxdvj:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update end-2-end test to latest protobuf,FAB-938,13269,12613,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,jimthematrix,jimthematrix,jimthematrix,03/Nov/16 10:18 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,04/Nov/16 6:00 AM,,,,,fabric-sdk-node,,,0,node-SDK,,,,,"the end-2-end test has the code that constructs the Transaction2 object from the ProposalResponse, which also needs to be caught up to the latest protobuf",,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxdvr:",,,,,,Sprint 4 - nodeSDK,,,,,,,,,,,,,,,,,,,,,,,,,,,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Orderer rejects legit broadcast messages due to configFilter,FAB-939,13270,,Bug,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,jyellick,jimthematrix,jimthematrix,03/Nov/16 10:20 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,06/Nov/16 10:54 AM,,,,,fabric-peer,,,0,,,,,,I'm getting BAD_REQUEST responses from the orderer. From [~muralisr] and my own debugging it points to the configFilter rule that caused the reject action.,,jimthematrix,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxdvz:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,jimthematrix,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"03/Nov/16 10:40 PM;jyellick;This is a known bug, because the transaction format is in flux.  Essentially, unless a proto message type is known, unmarshaling it will have undefined results, not necessarily resulting in an error.  Here, things which are not configuration transactions (but are also not `Envelope` messages) are unmarshaling to look like configuration transactions.  But, because they are not 'valid', the filter is correctly throwing them out.

Once the fabric transactions onto the new transaction format, this should resolve itself.;;;","06/Nov/16 10:54 AM;jyellick;https://gerrit.hyperledger.org/r/#/c/2225/

Worked around by the above;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
PreviousHash of one block does not match the StateHash of it's previous block literally,FAB-940,13271,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,azaleta,azaleta,03/Nov/16 10:51 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,12/Apr/17 5:56 AM,,,,,fabric-peer,,,0,,,,,,"the enviroment is fabric( v0.6) with single peer node , get block infomation from rest service (7050)
PreviousHash of one block does not match the StateHash of it's previous block literally
for example:
block 3 has a previousBlockHash ""LONqFDCzSBbAJWXejefpJnR70rmGaQtnms3yvIBTfyMzZyWDBZ4p6cBR+UVMUDp8EhmmTYMKYYjMupXjI9+Yzw==""

while block 2 has a stateHash ""u9Oc98t4jNniDSF5j+6K+V1UW/wD8dr709kwSU8DxlGrfZljwWa0g0HAa5cvyRiqjCkaxnu5FfcxzYShvEXKpg==""

Does it make sense ?

Another problem is that the block 1 does not have stateHash field.
It does not make any sense either.",,azaleta,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxdw7:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,azaleta,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"05/Nov/16 8:10 PM;mastersingh24;block hash and state hash are not the same thing.  the statehash is actually including in the blockhash - so previousBlockHash is actually the hash of the previous block including the stateHash of that block.

Not sure which block you were not seeing the stateHash for, but if it was block 0, that's the genesis block;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Integration to Identity API Definitions,FAB-942,13273,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,ashutosh_kumar,ashutosh_kumar,03/Nov/16 11:20 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,15/Apr/17 2:23 AM,,,DUPLICATE,WON'T FIX,,,,0,,,,,,"Following are work covered under this : 
* Define Structure for GetPrivateSignersRequest
* Client -> Server Integration
* End-to-End test",,ashutosh_kumar,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxdwn:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,ashutosh_kumar,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"15/Apr/17 2:22 AM;mastersingh24;no longer relevant;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Integration to Identity API Definitions,FAB-944,13275,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,ashutosh_kumar,ashutosh_kumar,03/Nov/16 11:46 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,15/Apr/17 2:23 AM,,,WON'T FIX,,,,,0,,,,,,"Here is the breakup 
    Define Structure for GetPrivateSignersRequest
    Integrate from Client to Server.
",,ashutosh_kumar,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxdwv:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,ashutosh_kumar,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"15/Apr/17 2:22 AM;mastersingh24;no longer relevant;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
protoc-gen-go is not appropriately regenerated,FAB-947,13278,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ChristopherFerris,jyellick,jyellick,04/Nov/16 12:27 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,12/May/17 6:59 AM,v1.0.0-alpha1,,DUPLICATE,,fabric-build,,,0,help-wanted,,,,,"When protobuf is upgraded to a new level (say v3.0.0 to v3.1.0) protoc-gen-go will produce incorrect and unreliable output until it is rebuilt.

{{make protos}} will automatically generate protoc-gen-go if it is missing, but if it is back-leveled, then no update will be made, and the resulting proto output will be subtly invalid.",,ChristopherFerris,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxdx3:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"14/Apr/17 8:17 AM;ChristopherFerris;is this still an issue [~jyellick]?
;;;","12/May/17 7:00 AM;ChristopherFerris;already fixed;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
ledger tests for v0.6,FAB-948,13279,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,scottz,scottz,scottz,04/Nov/16 12:57 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,05/Nov/16 1:07 AM,,,,,fabric-quality,,,0,quality,,,,,"using rest, 20K, external remote network
send invoke transactions at rates of 1, 4, 8, or more tps",,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-731,,,,,,,,,"1|hzxcjb:",,,,,,Sprint 4 - Quality,,,,,,,,,,,,,,,,,,,,,,,,,,,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"04/Nov/16 1:09 AM;scottz;Basic API test - passed 11/3
1peer1client 1 tps 20K transactions - passed 11/3

All 5 ledger tests (20K transactions) exceeding 2 tps are currently failing when run against external remote network of peers; exploring possible firewall/networking issues in our lab area;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Have self-contained chaincode deployment setup so no manual prep is needed,FAB-950,13281,12887,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jimthematrix,jimthematrix,jimthematrix,04/Nov/16 3:14 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,04/Nov/16 5:59 AM,,,,,fabric-sdk-node,,,0,node-SDK,,,,,"Tests that need to deploy chaincode need the following setup:
- GOPATH environment variable
- chaincode available at the folder corresponding to $GOPATH/src/<the GO package>

have this be part of the test fixture so contributors don't have to manually set it up locally. set process.env.GOPATH in the code to the test fixture folder just for the test execution.",,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxdxj:",,,,,,Sprint 2,Sprint 3,Sprint 4 - nodeSDK,,,,,,,,,,,,,1.0,,,,,,,,,,,,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Hyperledger Fabric deployment (net mode) issue,FAB-951,13282,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,dipankar1biswas,dipankar1biswas,04/Nov/16 3:24 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,12/Apr/17 6:00 AM,,,,,fabric-peer,,,0,,,,,,"I am trying to create a network environment with 3 peers running in different physical system with the following commands.
1) docker run --rm -it --network host -e CORE_VM_ENDPOINT=http://100.200.250.68:2375 -e CORE_LOGGING_LEVEL=DEBUG -e CORE_PEER_ID=vp1 -e CORE_PEER_ADDRESSAUTODETECT=true hyperledger/fabric-peer peer node start
2) docker run --rm -it -e CORE_VM_ENDPOINT=http://100.200.250.69:2375 -e CORE_PEER_ID=vp2 -e CORE_PEER_ADDRESSAUTODETECT=true -e CORE_PEER_DISCOVERY_ROOTNODE=100.200.250.68:7051 hyperledger/fabric-peer peer node start
3) docker run --rm -it -e CORE_VM_ENDPOINT=http://100.200.250.67:2375 -e CORE_PEER_ID=vp3 -e CORE_PEER_ADDRESSAUTODETECT=true -e CORE_PEER_DISCOVERY_ROOTNODE=100.200.250.68:7051 hyperledger/fabric-peer peer node start
 
Here I could see all the peers available in the environment using REST API '/network/peers'.
Next I executed the Deploy using REST API '/chaincode', which returns the success message also.
But when I execute the Query command, it is returning the error code '32003' with following message.
'LedgerError - ResourceNotFound: ledger: resource not found'
 
Deploy Request message:
{""jsonrpc"":""2.0"", ""method"":""deploy"", ""params"":{""type"":1, ""chaincodeID"":{""path"":""github.com/hyperledger/fabric/examples/chaincode/go/chaincode_example02""}, ""ctorMsg"": {""function"":""init"", ""args"":[""a"", ""150"", ""b"", ""250""]}},""id"":""1"" }'
 
Query Request message:
{""jsonrpc"": ""2.0"",""method"": ""query"",""params"": {""type"": 1,""chaincodeID"":{""name"":""1cad6f2cacf3fa17a794853c44f5b58eddaf2715d71c41298a99f9d812e014df9c64cab7fe9a84b5946c067c9ac76145d96df6f7aafa458a2d176d1fddb3c7a3""},""ctorMsg"": {""function"":""query"",""args"":[""a""]}},""id"": ""1""}

Please guide me to implement
",,denyeart,dipankar1biswas,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxdxr:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,denyeart,dipankar1biswas,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"05/Nov/16 8:03 PM;mastersingh24;it's likely that your chaincode never actually deployed.  Can you post any logs?;;;","12/Apr/17 6:00 AM;denyeart;This looks like a question rather than a bug.  Please use rocket.chat #fabric-questions.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Kafka orderer: Hot-idle loop issues,FAB-953,13284,,Story,Closed,FAB,Fabric,software,denyeart,,,Low,Done,,bcbrock,bcbrock,04/Nov/16 9:02 AM,21/Jul/18 3:54 AM,28/Oct/23 2:57 AM,11/Aug/17 1:01 PM,v1.0.0,,WON'T FIX,,fabric-orderer,,,0,performance,,,,,"In the Kafka orderer, the routine sendBlocks() in client_deliver.go is implemented as a ""hot idle"" loop. Every client that connects to the orderer for delivery service will spawn a goroutine that executes this loop, and as long as the client has ""push tokens"", this loop will never terminate. I've attached a screenshot of ""top"" showing that an ""idle"" Kafka orderer - that is, one that is not actually delivering any blocks - is consuming 11.24 HW thread-equivalents on this POWER8 system when serving 100 delivery clients.

Also interesting is that 47.8% of the CPU is reported as ""waiting"" by the OS. This is why we are not seeing even higher CPU utilization here, and is also pointing to a potential problem. The problem is that each delivery client shares a common `cd.deadChan`. When Go executes a `select`, it operates in a critical section that begins by locking every channel named in the select.  What is happening here is that every goroutine is simultaneously competing for the lock on `cd.deadChan`. Unable to immediately get the lock, the goroutines block (sleep) until it is their turn, and the OS is marking this sleep as I/O wait time. If the `cd.deadChan` case is commented out, CPU utilization can go as high as 100% of the entire machine if enough clients are connected (even though no actual work is being done).

I've attached a proposed patch idea for the first problem. Go allows `select` cases to be NIL. So instead of the 2-level scheme currently used, we can simply select on a variable that is NIL when the client has no tokens, and is set to the Kafka message channel when the client has tokens.

I have not yet looked for evidence of the global lock being an issue if this loop is event-driven. It's something to be aware of though, especially given the way that the Go runtime implements `select`.",,bcbrock,jyellick,kchristidis,vukolic,xixuejia,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"04/Nov/16 9:00 AM;bcbrock;Screen Shot 2016-11-03 at 4.03.47 PM.png;https://jira.hyperledger.org/secure/attachment/10214/Screen+Shot+2016-11-03+at+4.03.47+PM.png","04/Nov/16 9:00 AM;bcbrock;looper.txt;https://jira.hyperledger.org/secure/attachment/10213/looper.txt",,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzxfj3:",,,,Unset,,Sprint 6 - Crypto,Sprint 6 - consensus,,,,,,,,,,,,,,,Unset,,,,,,,,,,,bcbrock,jyellick,kchristidis,vukolic,xixuejia,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"09/Nov/16 12:55 AM;kchristidis;Discussed this with Bishop yesterday, the plan is to apply Bishop's patch + assign a deadChan per clientDeliverer (which is exactly how I deal with things in the revamped Broadcaster for multiple chains).

Wil get on it once FAB-819 is done.;;;","08/Dec/16 7:29 AM;kchristidis;In the revised code that is based on common components, the issue that Bishop witnessed will show up here:

https://gerrit.hyperledger.org/r/gitweb?p=fabric.git;a=blob;f=orderer/common/deliver/deliver.go;h=4b8441dea7d612b2dad1b0656ece65ea67ca3a3c;hb=refs/heads/master#l121

The signal channel can be shared among deliverers.

Let's keep track of how badly it affects us on this new revision, and we will prioritize a fix for this (minimizing the number of readers on the same channel) accordingly.;;;","08/Dec/16 7:31 AM;jyellick;Just to clarify for anyone reading, the 'hot looping' of constantly spinning in the for loop is gone, but there will still be contention among many threads for the same channel which is likely to ultimately be a performance bottleneck.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As an application developer design a membership service interface that could be used by chaincodes, and applications easily",FAB-954,13285,13134,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,elli-androulaki,elli-androulaki,elli-androulaki,04/Nov/16 5:30 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,19/Jan/17 5:59 PM,,,,,fabric-crypto,,,0,Security,,,,,,,elli-androulaki,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxdy7:",,,,,,Sprint 4 - Crypto,Sprint 5 - Crypto,Sprint 7 - Crypto,Sprint 8 - Crypto,Sprint 9 - Crypto,Sprint 9  - Crypto,Sprint 10 - Crypto,,,,,,,,,,,,,,,,,,,,,elli-androulaki,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"09/Dec/16 9:12 PM;elli-androulaki;Related changeset: https://gerrit.hyperledger.org/r/#/c/2875/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
As a fabric developer I want to design an interface of a membership service provider that could cover fabric signing/verification needs.,FAB-955,13286,13134,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,elli-androulaki,elli-androulaki,elli-androulaki,04/Nov/16 5:31 PM,05/Dec/18 5:49 AM,28/Oct/23 2:57 AM,22/Nov/16 1:50 AM,,,,,fabric-peer,,,0,,,,,,,,elli-androulaki,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxdyf:",,,,,,Sprint 4 - Crypto,Sprint 5 - Crypto,Sprint 7 - Crypto,Sprint 8 - Crypto,Sprint 9 - Crypto,Sprint 9  - Crypto,Sprint 10 - Crypto,,,,,,,,,,,,,,,,,,,,,elli-androulaki,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
As an infrastructure developer I want to provide a golang version of the defined interface,FAB-956,13287,13134,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,elli-androulaki,elli-androulaki,elli-androulaki,04/Nov/16 5:32 PM,05/Dec/18 5:49 AM,28/Oct/23 2:57 AM,22/Nov/16 1:50 AM,,,,,fabric-peer,,,0,,,,,,This is associated to the interface defined in Subtasks 1 and 2.,,elli-androulaki,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxdyn:",,,,,,Sprint 4 - Crypto,Sprint 5 - Crypto,Sprint 7 - Crypto,Sprint 8 - Crypto,Sprint 9 - Crypto,Sprint 9  - Crypto,Sprint 10 - Crypto,,,,,,,,,,,,,,,,,,,,,elli-androulaki,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"07/Nov/16 10:50 PM;elli-androulaki;First changeset associated to this is here:
https://gerrit.hyperledger.org/r/#/c/2243/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
As an infrastructure developer I want to provide a sample configuration file of an MSP manager.,FAB-957,13288,13134,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,elli-androulaki,elli-androulaki,elli-androulaki,04/Nov/16 5:33 PM,05/Dec/18 5:49 AM,28/Oct/23 2:57 AM,09/Dec/16 9:13 PM,,,,,fabric-peer,,,0,,,,,,,,elli-androulaki,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxdyv:",,,,,,Sprint 4 - Crypto,Sprint 5 - Crypto,Sprint 7 - Crypto,Sprint 8 - Crypto,Sprint 9 - Crypto,Sprint 9  - Crypto,Sprint 10 - Crypto,,,,,,,,,,,,,,,,,,,,,elli-androulaki,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"07/Nov/16 10:51 PM;elli-androulaki;Samples of potential configuration files for MSPs are included in this changeset:
https://gerrit.hyperledger.org/r/#/c/2243/
;;;","22/Nov/16 1:51 AM;elli-androulaki;Related changeset: 
https://gerrit.hyperledger.org/r/#/c/2677/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Support chaincode with binary values in CouchDB,FAB-959,13290,13091,Sub-task,Closed,FAB,Fabric,software,denyeart,,,High,Done,chris.elder,denyeart,denyeart,04/Nov/16 10:40 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,08/Nov/16 12:03 AM,,,,,fabric-ledger,,,0,Ledger,,,,,"CouchDB is most suited for handling chaincode with JSON values.  But in some cases chaincode with binary values will need to be stored in CouchDB state database, for example to support chaincode deployment in lifecycle chaincode.",,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxdzb:",,,,,,Sprint 5 - Ledger,,,,,,,,,,,,,,,,,,,,,,,,,,,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Provide ESCC/VSCC for config updates,FAB-964,13295,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid,muralisr,smithbk,smithbk,04/Nov/16 11:05 PM,12/Jul/19 8:31 PM,28/Oct/23 2:57 AM,12/Jul/19 8:31 PM,,,Future,,fabric-peer,,,0,,,,,,Default endorser and validating system chaincode is needed for config updates.,,smithbk,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABC-663,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxe0f:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,smithbk,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
start new view timer only after receiving a quorum of view change messages,FAB-967,13298,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,corecode,corecode,corecode,05/Nov/16 12:38 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,16/Nov/16 8:24 PM,,,,,fabric-orderer,,,0,consensus,,,,,"Right now we start the new view timer as soon as we send our own view change message.  Per PBFT, we should only start the new view timer once we have received a quorum of view change messages.  Related to that, we probably should resend our most recent view change message on Connection, if we are still in view change.",,corecode,vukolic,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-378,,,,,,,,,"1|hzxe1z:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,corecode,vukolic,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"16/Nov/16 5:58 PM;corecode;Turns out this uncovered a set of new view processing issues that need to be addressed first.;;;","16/Nov/16 8:20 PM;corecode;Addressed in https://gerrit.hyperledger.org/r/#/c/2511;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Need to update the logrus package ,FAB-968,13299,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,mastersingh24,mastersingh24,mastersingh24,05/Nov/16 1:09 AM,21/Jul/18 3:56 AM,28/Oct/23 2:57 AM,05/Nov/16 4:31 AM,,,,,fabric-peer,,,0,,,,,,"Logrus is currently vendored as it is used by the go-dockerclient (I believe).  The vendoring is a bit messed up (some odd files) and the version in there does not compile natively on OSX.

As an aside, I am also going to propose moving to using this package for logging in general, so will be good to update it",,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,";05/Nov/16 4:32 AM;mastersingh24;900",,3600,2700,900,25%,3600,2700,900,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzxe27:",,,,Unset,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"05/Nov/16 1:32 AM;mastersingh24;https://gerrit.hyperledger.org/r/#/c/2255/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add docker-compose files for both solo and kafka,FAB-969,13300,13231,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,latitiah,latitiah,latitiah,05/Nov/16 1:19 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,24/May/17 4:44 AM,,,,,fabric-quality,,,0,quality,,,,,The feature and system behave framework should have some docker compose files that it can use by default.,,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxe2f:",,,,,,Sprint 19 - Quality,,,,,,,,,,,,,,,,,,,,,,,,,,,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
tool for non-deterministic chaincode,FAB-970,13301,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,scottz,scottz,05/Nov/16 1:27 AM,21/Jul/18 3:54 AM,28/Oct/23 2:57 AM,16/Oct/17 10:59 PM,,,,,fabric-quality,,,0,quality,,,,,"Write/borrow/port and merge code tool to detect if a chaincode is non-deterministic.
Create tests using non-deterministic chaincode to verify endorser behavior rejects transactions generated using said chaincode.
",,ChristopherFerris,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzxe2n:",,,,Unset,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,ChristopherFerris,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"14/Oct/17 2:51 AM;ChristopherFerris;[~scottz] is this still relevant?;;;","16/Oct/17 10:59 PM;scottz;no. not relevant anymore.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Test Simple BFT,FAB-971,13302,16112,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid,,latitiah,latitiah,05/Nov/16 1:29 AM,12/Jul/19 8:36 PM,28/Oct/23 2:57 AM,12/Jul/19 8:36 PM,,,,,fabric-quality,,,0,consensus,quality,,,,,,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxrjz:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Orderer Functional test coverage designs,FAB-972,13303,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,scottz,latitiah,latitiah,05/Nov/16 2:01 AM,21/Jul/18 3:56 AM,28/Oct/23 2:57 AM,29/Apr/17 7:17 AM,,,v1.0.0,,fabric-quality,,,0,kafka,quality,,,,"From the list of Orderer test scenarios, each will be used to detail specific steps when generating behave tests.

The orderer scenarios (both happy path and failure) should be added. (version 1.0)

*Output:* A list of scenario test cases/possible scenarios that will be discussed with a developer/owner, and identify test utilities needed. These test scenarios will be saved (and possibly reformatted) for use as the feature files.",,latitiah,scottz,troyronda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3515,FAB-3517,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-1017,,,,,,,,,"1|hzx307:",,,,Unset,,Sprint 6 - Crypto,Sprint 6 - Quality,Sprint 8 - Quality,Sprint 9 - Quality,Sprint 10 - Quality,Sprint 11 - Quality,Sprint 12 - Quality,Sprint 13 - Quality,Sprint 14 - Quality,Sprint 15 - Quality,Sprint 16 - Quality,Sprint 17 - Quality,,,,,Unset,,,,,,,,,,,latitiah,scottz,troyronda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"24/Dec/16 6:07 AM;scottz;Progress so far on Murali's and Simon's submissions (listed in FAB-1434):

==============================
FAB-1192: Solo orderer not cutting blocks after first batch
We must ensure that there are multiple blocks and multiple batches.
1. Create a network containing 1 endorser/committer peer and 1 orderer configured as Solo. Deploy a chaincode.
2. Propose and broadcast 1 transaction, and wait for batch timeout (the default is 10 secs) and
   verify that a batch/block is delivered and committed and blockheight increases.
3. Repeat previous step, and confirm blockheight increases again.

===========================
FAB-1095: atomic broadcast delivery client (committer) needs to receive delivered batches from more than one orderer.
? Is it ok to generally think as if there was communication between only 1 orderer node and a peer,
  since the requirement for this is really only for crash tolerance and BFT? (ie. another orderer must
  deliver msgs when the designated one is unavailable)
? Or, does normal behavior dictate that leader-peers receive duplicate
  deliveries (and therefore must ignore dups)? Can we write unit tests or feature tests to
  confirm that the leader-peer receives two deliveries of each block (when all orderers functioning normally)
  or receive at least one delivery whenever any one orderer is unavailable?
  Confirm by watching for those delivery msgs; or maybe use the bigger picture by using
  event notifications, or using queries to ensure every transaction is written exactly once.

The peers gossip and elect a leader and that one probably contacts the orderers to tell them that
he wants to receive all the deliveries for the channel. But how does the peer know which orderer
to talk to? And how do the orderer(s) decide which will deliver the blocks to the leader peer(s)?
We can talk to Tuan about that.

# Confirm messaging between orderers and peers, regardless of which leader peer or orderer is OOS.
This is more an IT test than FT, as it uses full network (unlike the next test for FAB-478
that focuses and uses only orderers).
1. Set up 4 peers on one chain. Let gossip select one or more leaders.
10. Set up 4 nodes in the orderer service using SBFT. (What is the expected behavior for others?)
20. Cycle through those 8 servers:
        stop one at a time,
        send transactions,
        confirm ordered and committed (either event notification or query all active committer-peers) to ledger,
        restart it.
40. At end, send 4 transactions, one to each orderer node, and query all peers (A & B values)
    to ensure all are committed and all peers are in sync.


===================================
FAB-967: Start View timer after receiving a quorum (2f+1) of view change messages instead of
immediately when we send our own view change message (after recovery when we discover we are behind)
(https://gerrit.hyperledger.org/r/#/c/2511/4/orderer/sbft/simplebft/simplebft_test.go)
Starting it too early and timing out sooner would cause an observable incorrect behavior such as: ... ?
   (I need to read more about PBFT. maybe this timeout would increment our viewchange number and
    postpone the sync-up with rest of network?)
Therefore, doing this correctly results in this: ... ?
... This is covered in UT: orderer/sbft/simplebftr/simplebft_test.go func TestViewChangeTimer().
... Not sure we can write FT testcase. Skip it.


=======================
FAB-473: SBFT: Interaction with an atomic broadcast client and SBFT orderer
Seems this was a temporary stage along the way to allow partial bootstrapping, in September.
... No FT needed.


===================================
FAB-478/FAB-472/FAB-604: SBFT: state transfers when new node joins or when detect behind;
exchange Node replica state and state transfer on new connection.
Objective: Node joins late, and catches up.
Objective: Rotate disconnects and reconnects so that all correct nodes have gaps in their ledgers.
State transfer finally manages to sync everybody to the latest batch.
1. Create an orderer service network containing 4 orderers configured as SBFT - but start only vp0 vp1 vp2.
2. Set up an authorized user (bihn) for broadcasting Tx to the orderer service, and for receiving deliveries.
3. Deploy a chaincode
4. Broadcast 10 invoke transactions. Verify all delivered/committed.
   # (Choose 10 to ensure a new block.
   #  Otherwise could send one Tx and wait 10 secs for it to be batched).
   ### Look at these parameters in fabric/orderer/orderer.yaml :
   # Batch Timeout: The amount of time to wait before creating a batch
    BatchTimeout: 10s
   # Batch Size: Controls the number of messages batched into a block
    BatchSize:
        # Max Message Count: The maximum number of messages to permit in a batch
        MaxMessageCount: 10
5. Start vp3.
6. Broadcast 10 Tx to any orderer vpN.
7. stop/disconnect orderer 0, broadcast 10 Tx to orderer 3, verify o1 o2 o3 all process and at least one orderer delivers 1 or 2 batch(es), restart orderer 0.
8. stop/disconnect orderer 1, broadcast 10 Tx to orderer 3, verify o0 o2 o3 all process and at least one orderer delivers 1 or 2 batch(es), restart orderer 1.
9. stop/disconnect orderer 2, broadcast 10 Tx to orderer 3, verify o0 o1 o3 all process and at least one orderer delivers 1 or 2 batch(es), restart orderer 2.
10.stop/disconnect orderer 3, broadcast 10 Tx to orderer 0, verify o0 o1 o2 all process and at least one orderer delivers 1 or 2 batch(es), restart orderer 3.
11.Broadcast 10 or 40 or 800 Tx, verify all Tx delivered, and if possible we must:
   verify all orderers are in sync with same view and state (by examining logs or ?),
   and verify matching blockchain height and chaincode attribute values on all 4 nodes


===================================
FAB-603: Limit the number of messages per replica. SBFT. Solved in https://gerrit.hyperledger.org/r/#/c/2139/
This is not configurable, although maybe should be. See consensus/simplebft/backlog.go
If any one source has sent us more than (4x3) msgs into our backlog, then discard them all and reconnect.
  const maxBacklogSeq = 4
  const msgPerSeq = 3 // (pre)prepare, commit, checkpoint: 3 msgs per viewchange
There is a unit test already. I am not sure how we can do this as a
feature test (black box test, without intrusions). Thoughts:
- Can we keep the 4th peer alive while halting the task processing/emptying queued msgs,
   while other peers advance thru several viewchanges?
   If it is stopped, the msgs won't be queued. If it is running normally, the msgs
   will be processed as they arrive instead of queued.
- Maybe we can docker-pause it, to disconnect it. But the msgs won't queue up and
   all arrive when reconnect; rather msgs sent while disconnected would be simply lost.
- Maybe we could rebuild one of the other peers, to send 13 msgs (duplicates, erroneously)
   instead of one, to this target peer.  But then that would not be a black box feature test...
1. Create a network containing 4 orderers (configured as SBFT), COP, and 1 peer.
2. Deploy a chaincode. Cause 5 viewchanges, by stop/restarting one of the other orderers.
???  Does the target orderer discard msgs and reconnect to all the other orderers as it should?
--> Decision: just leave this for unit testing, and skip trying to write a feature test.

=======================
FAB-1139: Peer exit with panic when invoking the chaincode (Network unable to find stable certificate) -
we do not want to see this error in log
...This was closed; it was determined to be a chaincode problem - maybe non-determinism...




===================================
FAB-1203: Non-vpn peer name
With PBFT, DEPLOY fails if we change PEER_ID from vpN to anything else
This ticket was marked Done, with no submission that I can find. Write a test anyways:
1. Create a network containing 4 orderers (configured as PBFT), COP, and 1 peer, using
   an orderer name node1 (set PEER_ID in compose file). See peer-secure-pbft-base.yaml.
2. Deploy a chaincode on node1, a node named something other than vpN.
3. Deploy should pass; Check logs to see if the nodes synchronize. Here is example failure message in logs:
   node1_1 | 08:56:35.018 [consensus/pbft] recvViewChange -> WARN 7eb Replica 0 found incorrect signature in view-change message: Could not verify message from vp0 (unknown peer)
;;;","29/Dec/16 6:15 AM;latitiah;-- FAB-1253: Send transactions to kafka server larger than 1M 
- Send transactions to solo orderer larger than 1M
--- What size is considered too larger?
- FAB-1232: Send a ""too larger"" transaction to orderer: (Recv: REQUEST_ENTITY_TOO_LARGE- 413 error)
1. Create a network containing an orderer (different iterations configured as solo, kafka, sbft) (and 1 peer? Can I send transaction without the peer?)
2. Set up an authorized user (bihn) for the orderer service
3. The authorized user should ""broadcast"" a 1M jpeg to the orderer
4. The authorized user should receive a ""deliver"" message from the orderer
5. Within a certain amount of time (?), the ""deliver"" message should contain:
   a. 1 block
   b. ?
   c. ?
6. The authorized user should ""broadcast"" a 10M mpg to the orderer
7. The authorized user should receive a ""deliver"" message from the orderer
8. Within a certain amount of time (?), the ""deliver"" message should report a REQUEST_ENTITY_TOO_LARGE- 413 error



 FAB-890: Kafka: produce and consume a specific topic (Be sure that different topics work using the same orderer service)
- FAB-890: Kafka: multiple kafka brokers
- FAB-890: Kafka: all kafka brokers go down - what happens?
--- What is ""replication factor 3""?
- FAB-890: Kakfa: Use the partition leader when using a broker connection
- FAB-1335: The Kafka orderer should be resilient to faults
- FAB-1306: Adding/removing orderers from a Kafka network
- FAB-1382: Windowing removed
1. Create a network containing an orderer (configured as kafka), 3 kafka brokers(, and 1 peer? Can I send transaction without the peer?)
2. Set up an authorized user (bihn) for the orderer service
3. The authorized user should ""broadcast"" 20 unique messages to the orderer
4. The authorized user should request a ""deliver"" message from the orderer starting with ??? and ending with ???
5. Within a certain amount of time (?), the ""deliver"" message should contain:
   a. 2 blocks
   b. ?
   c. ?
6. Take down the kakfa network (all 3 brokers)
7. The authorized user should ""broadcast"" 40 unique messages to the orderer
8. The authorized user waits for a certain amount of time
9. Should a failed deliver message come from the orderer??
10. Bring back 2 brokers of the kafka network
11. Does a ""deliver"" message get sent at this time? 
12. The authorized user should ""broadcast"" 40 unique messages to the orderer
13. The authorized user should receive a ""deliver"" message from the orderer with a windowsize of 10
14. Within a certain amount of time (?), the ""deliver"" message should contain:
   a. 4 blocks (or will it be 8?)
   b. ?
   c. ?


- FAB-819: Multi-chain support in ordering service
- FAB-839: Create per-session buffered channel for broadcast responses
- FAB-892: Peer authentication when connecting to an orderer
1. Create a network containing an orderer (configured as solo), and 2 peers
2. Set up an authorized user (bihn) for the orderer service
3. The authorized user should ""broadcast"" 5 unique messages to the orderer
4. Set up an channel for user between the 2 peers
5. The authorized user should receive a ""deliver"" message from the orderer



- FAB-998: Config envelope for new chain creation turns into genesis block
- FAB-1161: Creating genesis block when setting up broadcaster
--- Be sure to verify the format of the block
- FAB-1092, FAB-1013: Valid configuration envelope created by the orderer which then creates a genesis block
- FAB-892: Peer authentication when connecting to an orderer
1. Create a network containing an orderer (configured as solo), cop server, and 1 peer
2. Set up an authorized user (bihn) for the orderer service
3. Obtain the genesis block
4. Verify the following items are in the genesis block:
  a. certs for peers
  b. policy information
  c. ??



- FAB-469: Multiple shims operating in parallel
- FAB-621: Hash-chain for Kafka orderer
-- 2 kafka partitions per chain???
1. Create a network containing 3 kafka brokers and a kafka orderer
2. Set up an authorized user (bihn) for the orderer service
3. The authorized user should ""broadcast"" 5 unique messages to the orderer
4. The transactions should be batched into blocks
5. There should be a hash-chain between the blocks ?? What does this look like?
-> what do the checkpoint messages look like? Is that apart of this testing or a separate test?




- FAB-467: Orderer config combinations
(This test will utilize multiple docker compose combinations)
1. Create a network containing # kafka brokers and a kafka orderer
- Be sure to modify BatchSize, BatchTimeout, num of brokers, queue size(?)
2. Set up an authorized user (bihn) for the orderer service
3. The authorized user should ""broadcast"" 5 unique messages to the orderer
4. The transactions should be batched into blocks according to config set


;;;","30/Dec/16 3:11 AM;latitiah;- FAB-526: An orderer is able to reconnect, catch up as necessary and continue as if connection was not lost
- FAB-899: Orderer Block timeout
1. Create a network containing an orderer (for kafka, sbft and solo)
2. Set up an authorized user (bihn) for the orderer service
3. The authorized user should ""broadcast"" 5 unique messages to the orderer
4. The authorized user should receive a ""deliver"" message from the orderer
5. Within a certain amount of time (?), the ""deliver"" message should contain:
 a. ??
 b. ??
6. Stop the orderer
7. The authorized user should ""broadcast"" 5 unique messages to the orderer
8. Restart the orderer
9. Wait for a certain amount of time
10. The authorized user should receive a ""deliver"" message from the orderer
11. Within a certain amount of time (?), the ""deliver"" message should contain:
 a. ??
 b. ??
12. Stop the orderer
13. The authorized user should ""broadcast"" 5 unique messages to the orderer
14. Wait for a certain amount of time (causing a timeout - do we need a peer for this?)
15. Restart the orderer
16. What should happen here???



- FAB-817: Add ACL support on the orderer service for channels
1. Create a network containing an orderer (for kafka, sbft and solo)
2. Set up 1 authorized user for the orderer service
3. Set up 1 unauthorized user for the orderer service
4. The authorized user should ""broadcast"" 5 unique messages to the orderer
5. The authorized user should receive a ""deliver"" message from the orderer
6. The unauthorized user should ""broadcast"" 5 unique messages to the orderer
7. The unauthorized user should not receive a ""deliver"" message from the orderer
8. Should something else happen here? A message sent to someone about unauthorized user? Log about unauthorized user?

;;;","30/Dec/16 12:55 PM;scottz;===================================
FAB-918: Orderer configs should be processed correctly

This command-line argument processing was actually fixed by Bishop Brock.
Applicable to overriding any env-vars for orderers - especially the
internal ones nested 2 levels deep or more inside orderer/orderer.yaml.
The Retry Period is for triggering attempt by orderer to reconnect to kafka brokers, when
orderer gets no response from any kafka broker for that long.

Generally, we should test the entire API.
* The Orderer accepts valid broadcast Transactions of these types: 1, 3

Orderer INPUTs: only a Broadcast Transaction, Envelope.Payload.Header.type one of
    MESSAGE = 0;                   // Used for messages which are signed but opaque
*   CONFIGURATION_TRANSACTION = 1; // Used for messages which reconfigure the chain (node set, policies, parameters...)
    CONFIGURATION_ITEM = 2;        // Used inside of the the reconfiguration message for signing over ConfigurationItems
*   ENDORSER_TRANSACTION = 3;      // Used by the SDK to submit endorser based transactions (and after endorsements recvd,
                                   //  the sdk attaches the signed endorsements and later broadcasts Tx to ordserv)
    ORDERER_TRANSACTION = 4;       // Used internally by the orderer for management

Orderer OUTPUTs: only a Delivered Transaction

 - confirm an error-free and good Tx is batched and delivered, or
 - confirm a Tx that is unsigned or illegally signed is not delivered, and
     the orderer instead responds immediately to sender to reject it


+++
1. Create a bootstrapped network (docker-compose file) containing:
   - COP to provide ca certs for orderer and peer, and ecerts for binhn and a mysterious peer that endorses binhn's Tx
   - 1 orderer configured with
     - environment variable OrdererType set to kafka
     - environment variable ORDERER_KAFKA_RETRY_PERIOD set to 15s
   Make sure this value is more than the batch_timeout value (default=10s), but less than the
   stop/panic timeout value (default=60s). Set the value on command line when creating orderer(s):
         ORDERER_ORDERERTYPE=kafka ORDERER_KAFKA_RETRY_PERIOD=15s ./orderer
   The Behave/test process is the application to send/broadcast msgs to the peer, and retrieve/read the Deliver().

2. Create an authorized user (binhn) for broadcasting Tx to the orderer service

3. FUTURE when v1.0 is more fully functional, we may need to modify this test, to
   make this a more complete IT test,
   starting an entire bootstrapped network, and deploy cc and create chan, etc,
   instead of just creating an orderer and connecting directly to it.

   A - a channel created for that user to use ?
   B - add a single peer to the channel
   C - Invoke/Deploy a chaincode to the peer

4. Broadcast 1 invoke transaction.
5. Query to verify it was successfully delivered/committed, allowing up to the batch_timeout (10 secs).
6. Disconnect the kafka broker
   (or simulate that condition; how do we do that?
    The default kafka broker is found at 127.0.0.1:9092.
    Can we temporarily block that port so the orderer cannot get msgs from it?)
7. Broadcast 1 invoke transaction.
8. Poll/Call Deliver(), allowing up to the batch_timeout (10 secs). Expect this to FAIL.
9. Reconnect the kafka broker.
   Should we wait for up to whatever timelength is needed to safely resync and resume operations???
   Do we have to ping it or something to verify reconnectivity???
   Should we poll/deliver(), expecting the queued Tx (prev step) to be delivered???
10. Broadcast 1 invoke transaction.
11. Poll/Call Deliver(), allowing up to the batch_timeout (10 secs). Expect this to SUCCEED.

 +++ RERUN test a 2nd time, while instead setting the env vars BEFORE composing the network (not on command line).
     This will simply require an Examples table, and a reference to a different docdker-compose file.

===================================
FAB-761: gRPC API for broadcast and deliver with the orderer
Refer to .../protos/orderer/ab.pb.go. Test these Status response codes from fabric/protos/common/common.pb.go
          0:   ""UNKNOWN"",			? (not used yet in code, but maybe send a HeaderType = 99 and see what happens (everything above 4 should be rejected)
        200: ""SUCCESS"",				ok : broadcast a good Tx and get a BroadcastResponse with 200 SUCCESS
        400: ""BAD_REQUEST"",			err during chain creation: cannot unmarshal a config item, or e.g. 1st config item must be but is not a Creation Policy; OR payload.Header == nil || payload.Header.ChainHeader == nil || payload.Header.ChainHeader.ChainID == """"
        403: ""FORBIDDEN"",    			user recognized but unauthorized to create a chain, using an unauthorized/bad password/cert; i.e. ""Failed to validate chain creation because chain creation policy is not authorized for chain creation""
        404: ""NOT_FOUND"",			unknown chainID, both when broadcasting or delivering (peer calls deliver(0 for a chainID); OR we should see this with an unknown userid
        413: ""REQUEST_ENTITY_TOO_LARGE"",	? (not used yet in code, but this might mean the Envelope.Payload size too big for int32)
        500: ""INTERNAL_SERVER_ERROR"",		error marshaling a proposed new system chain Envelope or Payload, or other internal errs
        503: ""SERVICE_UNAVAILABLE"",		no more space available when configured to use file ledger; OR orderer cannot Enqueue an incoming broadcast msg (but i don't know WHY or HOW this can happen - must ask designers)

### BROADCAST RESPONSE CODES
1. Create a bootstrapped network (docker-compose file) containing a basic setup with:
   - 1 cop
   - 1 orderer configured with solo
   - 1 peer configured with no gossip
   - 1 deployed chaincode
   - 2 peers, but only on added to the channel
   - two authorized users (binhn, garys) for broadcasting Tx to the orderer service on same channel
   - one users (padawan) UNauthorized for broadcasting on that channel

2. User binhn create and broadcast a Tx (simulating a msg from SDK), to generate each of these BroadcastResponses.
+++ 0    not sure what should trigger this response; let's try a transaction with an invalid headertype=99
+++ 200  ok : authorized user binhn broadcasts invoke ValidTx (with valid chainID using his own valid ecert)
+++ 400  binhn broadcasts Tx except uses a chainID=nil
+++ 403  binhn broadcasts Tx except uses garys ecert (User is recognized/authorized but gave the wrong password)
+++ 403  binhn broadcasts Tx except uses a garbage or nil ecert (User is recognized/authorized but gave the wrong password)
+++ 404  padawan broadcasts Tx (User and chainID exist but user not permitted on this chainID)
+++ 404  binhn use non-null invalid chainID, one that is not created yet, when broadcast (User is not permitted)
+++ 413  binhn send a Tx with Envelope.Payload size > int32 0x1 0000 0000 (can we just set a value in the header, or do we need a huge msg?)
+++ 500  binhn create a chain using badly formed payload, to cause error marshaling
+++ 503  ASK DESIGNERS! The only two code instances I found are:
          + no more space available when configured to use file ledger (difficult to reproduce in a test)
          + orderer cannot Enqueue an incoming broadcast msg (but i don't know WHY or HOW this can happen)
3. Confirm the indicated BroadcastResponse (200 SUCCESS) to the sender/broadcaster
4. AND confirm that the Tx is delivered within the timeout period (10 secs).

### DELIVER RESPONSE CODES
Step (1) as above.
2. Test API calls Deliver (simulating a Peer receiving a delivered msg from orderer), to generate each of these BroadcastResponses.
+++ 200  ok - binhn broadcast a Tx on a channel, and binhn call deliver() on same channel to receive a block with that successfully delivered Tx
+++ 400  binhn broadcast a Tx on a channel, and call deliver on a channel using chainID=nil
+++ 403  binhn broadcast a Tx on a channel, and call deliver on a channel using garys cert
+++ 404  binhn broadcast a Tx on a channel, and call deliver using non-null invalid chainID
+++ 404  binhn broadcast a Tx on a channel, and padawan on non-member 2nd peer calls deliver
+++ ???  do NOT broadcast Tx, call deliver, using a timeout (instead of wait-forever-for-a-block) to force timeout when NO delivery from orderer on the indicated channel

3. Confirm the expected BroadcastResponse
4. AND confirm NO transactions delivered (wait up to timeout period)

===================================
FAB-498: Create mechanism for orderer service to selectively process configuration transactions

MULTI-CHANNEL IT TESTING (OUT OF THIS SCOPE): add/del users and peers - and then confirm they can/cannot perform broadcast/deliver

------------------
FAB-498
Pluggable pieces for the orderer service are set only in the initial bootstrap config file:
(bootstrap simplest orderer service with each of these combinations, and do basic broadcast/deliver tests)
 - OrdererType = solo [default], kafka
 - LedgerType = ram [default], file      - check if this can be also changed on the fly like other parameters listed below?
 - any other pluggable pieces ???
  1. Bootstrap a network with
+++    OrdererType=solo  and LedgerType=ram
+++    OrdererType=solo  and LedgerType=file and FileLedger_Prefix=solo_rawledger and FileLedger_Location=/tmp/hf
+++    OrdererType=kafka and LedgerType=ram
+++    OrdererType=kafka and LedgerType=file (and just use defaults for FileLedger _Prefix and _Location)
  2. Verify transactions can be sent/delivered.
  3. If ""file"" case, confirm file is written/grows, in the directory specified.

------------------
FAB-498,FAB-148: Support dynamic reconfiguration of orderers - change node set for kafka ntwk
Add/delete members in node set. ASK WHAT IS ALLOWED, with each OrdererType plugin: kafka/brokers? sbft?
  - sbft nodes (Defer: since not yet supported)
  - solo - Not Applicable (this makes no sense, since we can have only one solo-orderer right?)
           Could we change hardware and/or IP address of an existing solo orderer to upgrade it??
+++ Kafka brokers list change:
    Verify can add, remove, and add+remove in same reconfig transaction.
        (We just want to confirm that the reconfig transaction will work when changing the orderer node set.
         We will not touch K0, since things are more likely to remain stable if we do not touch the first node. 
         It is out-of-scope to confirm Kafka robustness during all possible disruptive testing.)
    1. Bootstrap a network using one kafka broker, K0, and one peer.
    2. Send transactions to K0; verify blocks delivered to peer containing all successfully ordered Tx.
    3. Add K1. 
    4. Send transactions to K0 and K1; verify blocks delivered to peer containing all successfully ordered Tx.
    5. Remove K1. 
    6. Send transactions to K0; verify blocks delivered containing all successfully ordered Tx.
    7. Send transactions to K1; verify requests are not processed (maybe err = destination not found?) nor delivered to peer
    8. Add K1.
    9. Send transactions to K0 and K1; verify blocks delivered to peer containing all successfully ordered Tx.
    10. Add K2 and remove K1 in same transaction reconfiguration.
    11  Send transactions to K0 and K2; verify blocks delivered to peer containing all successfully ordered Tx.
    12. Send transactions to K1; verify requests are not processed (maybe err = destination not found?) nor delivered to peer

------------------
FAB-498,FAB-148: Support dynamic reconfiguration of orderers - change config parameters for solo
Send Transaction to reconfig by changing parameters from defaults that are defined in orderer/orderer.yaml.
Here we test that each of these params can be changed in the orderer reconfiguration transaction.
GENERAL:
 -  BatchTimeout: 10s
 -  BatchSize:
        MaxMessageCount: 10
    # Queue Size: The maximum number of messages to allow pending from a gRPC client.
 -  QueueSize: 10
    # Max Window Size: The maximum number of messages to for the orderer Deliver
    # to allow before acknowledgement must be received from the client.
 -  MaxWindowSize: 1000
    # Listen address: The IP on which to bind to listen
 -  ListenAddress: 127.0.0.1
    # Listen port: The port on which to bind to listen
 -  ListenPort: 7050
    # Log Level: The level at which to log.  This accepts logging specifications
    # per fabric/docs/Setup/logging-control.md
 -  LogLevel: info
    # Genesis method: The method by which to retrieve/generate the genesis block
 -  GenesisMethod: provisional
    # Genesis file: The file containing the genesis block. Used by the orderer when GenesisMethod is set to ""file""
 -  GenesisFile: ./genesisblock
    # Enable an HTTP service for Go ""pprof"" profiling as documented at
    # https://golang.org/pkg/net/http/pprof
 -  Profile:
        Enabled: false
        Address: 0.0.0.0:6060
RAMLedger:
    # History Size: The number of blocks that the RAM ledger is set to retain
    HistorySize: 1000
FileLedger:
    # Location: The directory to store the blocks in
    # NOTE: If this is unset, a temporary location will be chosen using
    # the prefix specified by Prefix
    Location:
    # The prefix to use when generating a ledger directory in temporary space
    # Otherwise, this value is ignored
    Prefix: hyperledger-fabric-rawledger
Kafka:
    # Brokers: A list of Kafka brokers to which the orderer connects
    # NOTE: Use IP:port notation
    Brokers:
        - 127.0.0.1:9092
    # Retry: What to do if none of the Kafka brokers are available
    Retry:
        # The producer should attempt to reconnect every <Period>
        Period: 3s
        # Panic if <Stop> has elapsed and no connection has been established
        Stop: 60s
    # Verbose: Turn on logging for sarama, the client library that we use to
    # interact with the Kafka cluster
    Verbose: false

+++
1. GIVEN a Bootstrapped network (default 1 solo orderer, 1 peer)
2. Send transaction and verify blocks delivered to peer containing all successfully ordered Tx
3. Send transaction to reconfigure virtually all the parameters in GENERAL and RAMLEDGER section
 GENERAL_
 -  OrdererType: solo #leave as is
 -  LedgerType: ram   #leave as is
 -  BatchTimeout=20s
 -  BatchSize_MaxMessageCount: 2
 -  QueueSize: 20
 -  MaxWindowSize: 2000
 -  ListenAddress: 127.0.0.2
 -  ListenPort: 7020
 -  LogLevel: debug
 -  GenesisMethod: file
 -  GenesisFile: ./genesisblock_file  # does this mean file is located in .../fabric/orderer/ ???
 -  Profile:
        Enabled: true
        Address: 0.0.0.0:6060
 RAMLedger_HistorySize: 20
4. We should not need to bootstrap the peers and sdk/applications again after every orderer reconfiguration -
   but maybe we do need to do it after certain parameters are changed???  such as ports for broadcasts/delivers:
     - list of orderers - ListenAddress:ListenPort (used by Solo, right?) (or Kafka_Brokers node list when using kafka)
       where sdk needs to send/broadcast transactions
5. After reconnect peer to the new deliver ports and shared with the sdk/application the new kafka brokers addresses,
   look at log to confirm all these settings, and
6. send transaction and verify blocks delivered to peer containing all successfully ordered Tx

?????????? Do we also need to verify HERE the functionality of every parameter??????????

------------------
FAB-498,FAB-705: Updating the Policy via a policy manager.
Are these simply the Signature policies, which is all that is verified here in the orderer?
e.g. One default policy could be something like this:
     Assume user is authorized (do not authenticate identity) and always approve if the transaction formatted valid.
e.g. One expected default policy could be something like this:
     Authenticate identity:
     Ensure the user submitting the Tx is an authorized user on this channel, and the signature is correct for that user.
e.g. And we should also have a simple policy to verify users or peers certs (member org of indicated channel) for the Deliver API.

+++
To verify, simply rerun earlier API test for 404 broadcast (user binhn using garys cert)
broadcasting to orderer a configtype transaction that changes the policies for authenticating broadcast requests
from the default (dont authenticate) to one that authenticates the submitter/user.

+++
To verify, simply rerun earlier API test for 404 deliver (peer requesting delivery is in an org that is not part of the channel)
broadcasting to orderer a configtype transaction that changes the policies for authenticating deliveries requests
from the default (dont authenticate) to one that authenticates the submitting peer org and/or user.


------------------
FAB-498,FAB-704: Create signature validation Domain Specific Language (DSL) for use by filtering framework and later more broad use
Refer to protos/common/configuration.proto. In particular, the two primitives which comprise a policy are:
    NOutOf(n, []policies)
    SignedBy(id)
To test, we need to create signature policies that use both of the following DSL concepts, while at the
same time defining permissioned users that the policies will enforce:
    e.g. endorsed/signedby 2 out of 3 of the accompanying list of policies
    e.g. endorsed/signedby specific user id (This will be the certificate itself for a self-signed certificate
                                             and will be the CA for more traditional certificates)
This common DSL was expected to be used by orderers as well as by peers.
This was developed especially for aiding in specifying bootstrap configuration for signature policies -
Covered by FAB-705 above.

------------------
FAB-498,FAB-591: Orderer broadcast filtering framework
Allows the orderer plugin (solo, kafka, sbft, etc) to specify filters, such as this one
for incoming messages (which are broadcast in to orderer from outside):
    ""accept only non-empty messages"" [this is the default]

+++
Try using a different ""broadcast msg"" filter when bootstrap/configure the orderer service.
Send transactions to test and confirm it works correctly for Tx that meet (or do not meet) the criteria
Should see immediate responses to sender for transactions that are rejected, or
see the delivered Tx for those meeting criteria.

+++
And reconfigure the ""broadcast msg"" filter after ordserv is running.
Send transactions to test and confirm it works correctly for Tx that meet (or do not meet) the criteria
Should see immediate responses to sender for transactions that are rejected, or
see the delivered Tx for those meeting criteria.


------------------
FAB-498,FAB-593: Orderer configuration broadcast filter
### This is covered by the 2nd test written above for FAB-498/FAB-148
Send a 'configuration_transaction' transaction type to reconfigure params for solo orderer.
With the completion of the broadcast filtering framework (FAB-591),
the genesis block creation configurable (FAB-688),
the policy manager (FAB-705),
and the configuration manager (FAB-704),
it is now possible for the orderer to filter and apply
configuration received over the wire as a transaction. And to change config.
This changeset added that functionality for the solo ordering service.
This (sending transactions) will be the method used to test those configuration items.
;;;","05/Jan/17 3:30 AM;latitiah;- FAB-1094: Utilities to build configuration envelope for the genesis block
- FAB-666: Orderer node should be able to retrieve the genesis block and join the network of nodes
- FAB-666: All orderer nodes should recieve the genesis block
- FAB-666: When an orderer is bootstrapped, the following should be performed: read genesis block, parse and save policies, orderer whitelist, and peer org certificates to correct locations
1. Create a network containing an orderer (configured as solo), cop server, and 1 peer
2. Set up an authorized user (bihn) for the orderer service
3. Obtain the genesis block
-- What does the broadcast message look like for this? What are the different config values possibilities?
4. Verify the following items are in the genesis block:
  a. certs for peers
  b. policy information
  c. ??;;;","28/Apr/17 12:30 AM;scottz;This test design task is completed, so we can close this issue. However, we still need to review this thoroughly to ensure all these testcases are covered by existing testcases, many of which are also listed in testplan (we can use the steps included here to write the tests) https://docs.google.com/spreadsheets/d/1_IdXCuYMKkqXr3Za0pVnFP3sP1jBcNbYnTJGV-nSkxI/edit#gid=442991954 . I opened two stories to guide this effort - one for creating the Behave tests and one for the OTE tests.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update tests to include test comments,FAB-973,13304,13209,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,latitiah,latitiah,05/Nov/16 2:35 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,10/Jul/18 3:23 AM,,,v1.0.0,,fabric-quality,,,0,quality,,,,,,,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxe2v:",,,,,,Sprint 5 - Quality,,,,,,,,,,,,,,,,,,,,,,,,,,,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Separate test scripts for each test type,FAB-974,13305,13209,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,latitiah,latitiah,05/Nov/16 2:38 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,10/Jul/18 3:23 AM,,,v1.0.0,,fabric-quality,,,0,quality,,,,,Every daily test suite needs to be broken out into the separate test categories. The same is true for the long run tests.,,latitiah,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxe33:",,,,,,Sprint 5 - Quality,,,,,,,,,,,,,,,,,,,,,,,,,,,latitiah,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"07/Nov/16 11:42 PM;rameshthoomu;seems this task is blocked by other tasks.. I don't see them here.. Will tag and update this ticket with blocked tasks/issues. [~latitiah] FYI;;;","03/May/17 12:00 PM;rameshthoomu;[~latitiah] could you please close this If this is not a valid task with the current approach.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
All tests need to be able to set a junit parameter to allow for test retrieval,FAB-975,13306,13209,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,latitiah,latitiah,05/Nov/16 2:40 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,10/Jul/18 3:23 AM,,,v1.0.0,,fabric-quality,,,0,quality,,,,,,,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxe3b:",,,,,,Sprint 5 - Quality,,,,,,,,,,,,,,,,,,,,,,,,,,,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Write script to pull the test comments/descriptions and README info for the release criteria documentation,FAB-976,13307,13209,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,latitiah,latitiah,05/Nov/16 2:41 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,10/Jul/18 3:23 AM,,,v1.0.0,,fabric-quality,,,0,quality,,,,,,,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxe3j:",,,,,,Sprint 5 - Quality,,,,,,,,,,,,,,,,,,,,,,,,,,,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Write script to pull the test results for the release criteria documentation,FAB-977,13308,13209,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,latitiah,latitiah,latitiah,05/Nov/16 2:42 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,05/Nov/16 2:44 AM,,,v0.6,,fabric-quality,,,0,quality,,,,,,,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxe3r:",,,,,,Sprint 5 - Quality,,,,,,,,,,,,,,,,,,,,,,,,,,,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Ledger Testing,FAB-978,13309,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,AdnanChoudhury,latitiah,latitiah,05/Nov/16 3:05 AM,21/Jul/18 3:55 AM,28/Oct/23 2:57 AM,07/Jul/18 12:25 AM,,,,,,,,0,,,,,,"This is for testing the fabric ledgers both for performance and functionally with the peers and orderers.

(Edit: The LTE tests added as tasks here are Ledger-component specific only)",,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-1017,,,,,,,,,"1|hzy8zj:",,,,Unset,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
All tests and test framework should be migrated to v1.0,FAB-979,13310,,Epic,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,bmos299,latitiah,latitiah,05/Nov/16 3:11 AM,21/Jul/18 4:08 AM,28/Oct/23 2:57 AM,01/May/17 10:46 PM,,,v1.0.0,,fabric-quality,,,0,quality,,,,,,,bmos299,ChristopherFerris,latitiah,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,Unset,ghx-label-1,,Convert Tests to v1.0,Done,,,Unset,,,,"1|hzxcfb:",,,,Unset,Unset,,,,,,,,,,,,,,,,,,,,,,,,,,,,bmos299,ChristopherFerris,latitiah,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"10/Apr/17 12:06 AM;ChristopherFerris;[~bmos299] we need an update on where this stands;;;","10/Apr/17 4:02 AM;bmos299;I will put together a post on this item and add weekly reports in rocket chat for the community to see our progress. ;;;","01/May/17 10:45 PM;scottz;We have added new jira tasks and stories in each functional area, to write and convert tests and tools, so this is effectively a duplicate of FAB-1017 and its pieces. Closing this one.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Move behave tests to new v1.0 structure,FAB-980,13311,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,latitiah,latitiah,05/Nov/16 3:13 AM,21/Jul/18 3:54 AM,28/Oct/23 2:57 AM,28/Apr/17 6:40 AM,,,WON'T FIX,,fabric-quality,,,0,quality,,,,,,,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-979,,,,,,,,,"1|hzx93b:",,,,Unset,,Sprint 5 - Quality,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Move regression tests to new v1.0 structure,FAB-981,13312,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,latitiah,latitiah,05/Nov/16 3:15 AM,21/Jul/18 3:56 AM,28/Oct/23 2:57 AM,01/May/17 10:43 PM,,,,,fabric-quality,,,0,quality,,,,,,,latitiah,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-979,,,,,,,,,"1|hzx93j:",,,,Unset,,Sprint 5 - Quality,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,latitiah,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"01/May/17 10:43 PM;scottz;We have added new jira tasks and stories to write and convert tests in each functional area, so this is effectively a duplicate. Close.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add channel/subledger support,FAB-984,13315,13364,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,jimthematrix,jimthematrix,05/Nov/16 4:41 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,14/Oct/17 2:09 AM,,,,,fabric-sdk-node,,,0,node-SDK,,,,,,,ChristopherFerris,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxe4f:",,,,,,Sprint 7 - nodeSDK,,,,,,,,,,,,,,,4.0,,,,,,,,,,,,ChristopherFerris,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"14/Oct/17 1:56 AM;ChristopherFerris;[~jimthematrix@gmail.com] is this still relevant?;;;","14/Oct/17 2:09 AM;ChristopherFerris;closing, reopen if relevant;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
pbft will drop tx messages when tx load is high,FAB-990,13321,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,frankylu,frankylu,06/Nov/16 2:55 PM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,12/Apr/17 12:32 PM,,,v0.6,WON'T FIX,fabric-orderer,,,0,,,,,,"Some tx messages will get dropped when tx load is high and CPU resources are fully occupied. the result is serious since you don't get noticed that your message was never processed.

this is because broadcaster queue is too small (currently hard coded to 10), should be a quick and easy fix though, ideally should be a config param.

func newBroadcaster(self uint64, N int, f int, broadcastTimeout time.Duration, c communicator) *broadcaster {
	queueSize := *{color:red}10{color}* // XXX increase after testing


I also wonder if it is better to just block the thread instead of discarding messages when channel is full

",,denyeart,frankylu,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxe4v:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,denyeart,frankylu,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"08/Nov/16 7:00 AM;jyellick;The queue size is intended to be configurable, and ultimately, we will coalesce the broadcast server paths to share this sort of configuration.

I do not however agree that we should turn this into a blocking all.  Making this a blocking call simply pushes the buffering into gRPC, so the gRPC must maintain a queue, and then block or fail.  By specifying the queue size in the application, the client can appropriately implement flow control.

If the client knows the queue size is set to 10 for instance, it can make sure that it sends only 10 requests, then sends only one request per ack it receives.  In this way, the client throttles itself to keep from overloading the server, dependent on the server's load.;;;","08/Nov/16 2:33 PM;frankylu;[~jyellick] I hope this will be done for v0.6, which is enough for a lot of people, otherwise the problem this causes is actually pretty serious. for financial records, randomly dropping txs can be as bad as crushing the server ;;;","08/Nov/16 11:09 PM;jyellick;Ah, I had assumed that this was v1 code, sorry for not following.

In general, the idea behind the broadcaster stuff in 0.5/0.6 is that if a peer stops acknowledging messages, the gRPC queue can back up and the sender ultimately blocks on the attempted send, which prevents his thread from doing any work.  We must drop in this case, because otherwise, one bad node can prevent all the other nodes from getting any work done.  But, the queue size could definitely be larger, and configurable.  If you can confirm this is causing problems for you in 0.6, let me know, and I will put a patch together.;;;","20/Nov/16 12:10 PM;frankylu;yah, it would be good to add a fix to FAB990, for the time being just increase the hard coded queue size (i.e. 500) would solve the problem for most people, if adding to config is too troublesome ;;;","12/Apr/17 6:03 AM;denyeart;[~kchristidis]If there is no intent to enhance 0.6 please close.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Create ChainPartition type,FAB-993,13324,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,kchristidis,kchristidis,kchristidis,07/Nov/16 12:50 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,07/Nov/16 1:06 AM,,,,,fabric-orderer,,,0,consensus,,,,,"This maps to a Kafka partition, and is related to the two partitions per chain idea we're exploring for FAB-621. ",,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-819,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxe5j:",,,,,,Sprint 4 - Consensus,,,,,,,,,,,,,,,1.0,,,,,,,,,,,,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Create DataHolder type,FAB-994,13325,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,kchristidis,kchristidis,kchristidis,07/Nov/16 12:53 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,07/Nov/16 1:06 AM,,,,,fabric-orderer,,,0,consensus,,,,,"Holds all the data that the Broadcaster needs to keep track of, in order to eventually send a new block on the chain. There is a 1-to-1 mapping between chains and DataHolders.",,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-819,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxe5r:",,,,,,Sprint 4 - Consensus,,,,,,,,,,,,,,,1.0,,,,,,,,,,,,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Rewrite Broadcaster so as to support ChainPartitions and DataHolders,FAB-995,13326,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,kchristidis,kchristidis,kchristidis,07/Nov/16 12:56 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,07/Nov/16 1:06 AM,,,,,fabric-orderer,,,0,consensus,,,,,"The Broadcaster creates a DataHolder reference and spawns a cutBlock goroutine for every chain that is created. It keeps track of which goroutines are running, and can terminate them if need be.",,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-819,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxe5z:",,,,,,Sprint 4 - Consensus,,,,,,,,,,,,,,,2.0,,,,,,,,,,,,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add a commons/util package,FAB-996,13327,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,kchristidis,kchristidis,kchristidis,07/Nov/16 1:03 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,07/Nov/16 1:06 AM,,,,,fabric-orderer,,,0,consensus,,,,,"The point is to not have to rewrite the same common utility functions again and again.

This is what I have so far:

# Marshal(pb proto.Message) []byte
# Hash(data []byte) []byte
# ExtractEnvelope(block *ab.Block, index int) (envelope *ab.Envelope, err error)
# ExtractPayload(envelope *ab.Envelope) *ab.Payload

The Hash function exists in the core util package as ComputeCryptoHash, so I may have to remove that in the end. I'm doing it now cause I want to switch to SHA-2 (FAB-887).",,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-819,FAB-1094,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxe67:",,,,,,Sprint 4 - Consensus,,,,,,,,,,,,,,,1.0,,,,,,,,,,,,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"13/Nov/16 3:42 PM;kchristidis;I will hold off on adding a Hash function to this package and instead use the core/util one, until we reach consensus here: https://jira.hyperledger.org/browse/FAB-887?focusedCommentId=19743&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-19743;;;","13/Nov/16 6:23 PM;kchristidis;https://gerrit.hyperledger.org/r/#/c/2455/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fix failing unit tests,FAB-997,13328,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,kchristidis,kchristidis,kchristidis,07/Nov/16 1:04 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,20/Nov/16 1:15 AM,,,,,fabric-orderer,,,0,consensus,,,,,,,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-819,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx953:",,,,,,Sprint 5 - Consensus,,,,,,,,,,,,,,,2.0,,,,,,,,,,,,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Write test client that sends configuration envelope for new chain creation,FAB-998,13329,,Task,Closed,FAB,Fabric,software,denyeart,,,High,Done,kchristidis,kchristidis,kchristidis,07/Nov/16 1:04 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,15/Nov/16 10:23 PM,,,,,fabric-orderer,,,0,consensus,,,,,"This is part of the FAB-819 story. The goal is to use the ""broadcast_configuration"" client to send out a transaction that calls for the creation of a new channel. Then we will use the ""bd_counter"" client to make sure messages show up on the new channel.",,jyellick,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-819,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx95b:",,,,,,Sprint 5 - Consensus,,,,,,,,,,,,,,,1.0,,,,,,,,,,,,jyellick,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"14/Nov/16 1:09 AM;kchristidis;Let's try to come up with some sensible defaults for the message that this client will send out. I'm looking at the enclosed ConfigurationItem message in particular.

# Is the ConfigurationType Chain or Orderer?
# Do we agree that the ChainHeader of both the Payload and the ConfigurationItem should reference the ""private"", internal-to-the-ordering-service chainID?
# Do we choose the same ModificationPolicy as for the static bootstrapper to begin with?
# New chain ID value: Looking at Elli's deck, the new chain ID value should be the hash of a message that includes a nonce, and a bunch of certificate chains and signatures. Concretely, for this minimum test client, given that it won't use signatures or certificates, what do we generate this hash over? Should it be the hash of the nonce in the SignatureHeader, the nonce itself, or something else?
# Assuming the assumption in #2 is correct, we still need a way to express that we want a new channel to be created, so this is where the Key and Value fields presumably come in. Key=""chainID"" and Value=new-chain-ID-value-goes-here?
# Finally, let's agree down on how the epoch number is generated.;;;","14/Nov/16 11:30 PM;jyellick;> 1. Is the ConfigurationType Chain or Orderer?

In general, for a valid configuration, the {{ConfigurationItem}} items will be of mixed type.  I'm not sure what this is asking?

> 2. Do we agree that the ChainHeader of both the Payload and the ConfigurationItem should reference the ""private"", internal-to-the-ordering-service chainID?

I would actually say no, this is flipped.  The ChainID should be the new ID of the new chain.  There should be a config item which specifies the 'ordering internal chain' id.

> 3. Do we choose the same ModificationPolicy as for the static bootstrapper to begin with?

You'll notice that the modification policy that the static bootstrapper puts in place today essentially makes all modification impossible (1 out of 0 sigs required).  Without a real crypto stack implemented or certificate material to work with, the modification policies are of questionable value (beyond allowing all modification or none).  For the purposes of the test client, I would think to create a new modification policy which is entirely permissive (0 out of 0 sigs required) and utilize this.

> 4. New chain ID value: Looking at Elli's deck, the new chain ID value should be the hash of a message that includes a nonce, and a bunch of certificate chains and signatures. Concretely, for this minimum test client, given that it won't use signatures or certificates, what do we generate this hash over? Should it be the hash of the nonce in the SignatureHeader, the nonce itself, or something else?

I'd like to talk a little with you and Elli about this, but is it particularly important for this test client? Once the logic is hammered out, we'll need to implement a filter or other mechanism to enforce it, but for the time being use a hash of the current time or something?

> 5. Assuming the assumption in #2 is correct, we still need a way to express that we want a new channel to be created, so this is where the Key and Value fields presumably come in. Key=""chainID"" and Value=new-chain-ID-value-goes-here?

As mentioned in (2), I saw this flipped, where the config specifies the parent chain ID and the new chain ID is specified in the header.

> 6. Finally, let's agree down on how the epoch number is generated.

All I've really been told is that it is 'based on the block number'.  My naive assumption would be that this should be 'the block number through which I want this signature to be accepted"" so that the client can pick epochs based on the current network volume, but Elli might have a better response.;;;","15/Nov/16 12:27 AM;jyellick;Just to elaborate on why I think the configuration transaction must have the target chain ID in the header, this transaction will form the genesis block for the new chain, and all transactions in a chain should have the same chainID.  If the transaction were bound for the ordering specific chain, then the ordering service would somehow need to transform it to form the genesis block, and it would be tricky to keep the non-repudiation about how requested the new channel.

I do however see this channel creation request being wrapped by the ingress orderer and sent on an ORDERING_TRANSACTION type message to the ordering specific chain (as dictated by the config parameter).  Fundamentally, the chain creation stuff is really an 'orderer application', so it makes sense to me that it would be an orderer who submits the ORDERER_TRANSACTION transaction request to create a chain embedding that CONFIGURATION_TRANSACTION.;;;","15/Nov/16 6:46 AM;kchristidis;For #2, if we do flip the chains as you suggest, then I'd note that the epoch (#5) should reference the block height of the new chain, otherwise we're inconsistent. Then, a new-chain transaction is basically a configuration transaction that references a new-chain-id and has an epoch of 0.

(This was written before we discussed this in person. We both agree with the approach, just posting it here for reference.);;;","15/Nov/16 10:44 AM;kchristidis;> For the purposes of the test client, I would think to create a new modification policy which is entirely permissive (0 out of 0 sigs required) and utilize this.

Isn't this what the {{AcceptAllPolicy}} in the {{cauthdsl}} package is for?;;;","15/Nov/16 1:06 PM;jyellick;> Isn't this what the AcceptAllPolicy in the cauthdsl package is for?

Correct;;;","15/Nov/16 10:23 PM;kchristidis;WIP changeset here: https://gerrit.hyperledger.org/r/#/c/2483/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove envelope marshaling from the hot path in the cutBlock goroutine,FAB-999,13330,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,kchristidis,kchristidis,kchristidis,07/Nov/16 1:05 AM,20/Jul/18 11:10 PM,28/Oct/23 2:57 AM,20/Nov/16 1:11 AM,,,,,fabric-orderer,,,0,consensus,,,,,,,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-819,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx95j:",,,,,,Sprint 5 - Consensus,,,,,,,,,,,,,,,0.0,,,,,,,,,,,,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"20/Nov/16 1:11 AM;kchristidis;No longer relevant, I have a design (and finishing a changeset) that uses common components (for both the solo and kafka packages) to take care of that. Setting to 0 points and marking as done.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
