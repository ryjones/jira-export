<Issue id="26697" key="IS-512" number="512" project="10401" reporter="ryanmarsh" assignee="ryanmarsh" creator="ryanmarsh" type="10004" summary="Keys in wallet are overwritten when indy_issuer_create_and_store_claim_def is called more than once" priority="1" resolution="10000" status="10001" created="2018-01-09 21:12:54.0" updated="2018-01-24 15:44:05.0" resolutiondate="2018-01-24 14:58:39.0" votes="0" watches="4" workflowId="51213"> <description><! CDATA -Wallet is corrupted when indy_issuer_create_and_store_claim_def is called more than once.  -The keys associated to this claim_def are overwritten making the initial claim_def unusable.  -All of this is done silently. No message or error is given when it overwrites the keys.   -There is no way, through the api, to see if a specific claim_def is already in the wallet. {code:java} // Creating Claim // Keys are created and stored in my wallet indy_issuer_create_and_store_claim_def(command_handle, wallet_handle, my_issuer_did,  schema_json, signature_type, create_non_revoc, cb); // Write to ledger  // Call create claim again with same issuer_did and schema indy_issuer_create_and_store_claim_def(command_handle, wallet_handle, my_issuer_did,  schema_json, signature_type, create_non_revoc, cb);  //I no longer have access to the keys associated with the claim_def stored on the ledger.  {code}  ></description> </Issue>
