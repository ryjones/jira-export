<Issue id="30531" key="IS-708" number="708" project="10401" reporter="anikitindsr" assignee="zhigunenko.dsr" creator="anikitindsr" type="10004" summary="Crash while consistency proof include empty &apos;proof&apos; and invalid root_hash" priority="3" resolution="10000" status="10001" created="2018-05-23 12:45:19.0" updated="2018-08-10 11:16:33.0" resolutiondate="2018-08-10 11:16:33.0" votes="0" watches="5" workflowId="51377"> <description><! CDATA Thread with pool handler unexpective closed, when node send CatchupReply with end==catchUpTill (last transaction for cathup) with empty "proof" and wrong root_hash.  file: src/services/ledger/merkletree/mod.rs  stack backtrace: 0: std::sys::unix::backtrace::tracing::imp::unwind_backtrace at libstd/sys/unix/backtrace/tracing/gcc_s.rs:49 1: std::sys_common::backtrace::_print at libstd/sys_common/backtrace.rs:71 2: std::panicking::default_hook::{{closure}} at libstd/sys_common/backtrace.rs:59 at libstd/panicking.rs:380 3: std::panicking::default_hook at libstd/panicking.rs:396 4: std::panicking::rust_panic_with_hook at libstd/panicking.rs:576 5: std::panicking::begin_panic at libstd/panicking.rs:537 6: std::panicking::begin_panic_fmt at libstd/panicking.rs:521 7: rust_begin_unwind at libstd/panicking.rs:497 8: core::panicking::panic_fmt at libcore/panicking.rs:71 9: core::panicking::panic at libcore/panicking.rs:51 10: <core::option::Option<T>>::unwrap at /checkout/src/libcore/macros.rs:20 11: indy::services::ledger::merkletree::<impl indy::services::ledger::merkletree::merkletree::MerkleTree>::consistency_proof at src/services/ledger/merkletree/mod.rs:94 12: indy::services::pool::catchup::CatchupHandler::check_cons_proofs at src/services/pool/catchup.rs:285 13: indy::services::pool::catchup::CatchupHandler::catchup_step at src/services/pool/catchup.rs:256 14: indy::services::pool::catchup::CatchupHandler::process_catchup_rep at src/services/pool/catchup.rs:217 15: indy::services::pool::catchup::CatchupHandler::process_msg at src/services/pool/catchup.rs:97 16: indy::services::pool::PoolWorkerHandler::process_msg at src/services/pool/mod.rs:83 17: indy::services::pool::PoolWorker::process_actions at src/services/pool/mod.rs:265 18: indy::services::pool::PoolWorker::_run at src/services/pool/mod.rs:245 19: indy::services::pool::PoolWorker::run at src/services/pool/mod.rs:228 20: indy::services::pool::Pool::new::{{closure}} at src/services/pool/mod.rs:430   ></description> </Issue>
