<Action id="68016" issue="44377" author="vladimirwork" type="comment" body="Actually we have an error message: *ERROR:indy.libindy.native.indy.services.pool.state_proof:	src/services/pool/state_proof/mod.rs:86 | Given signature is not for current root hash, aborting* but it looks like we shouldn&apos;t return REPLY and seqNo in this case." created="2020-02-20 09:59:31.0" updateauthor="vladimirwork" updated="2020-02-20 09:59:31.0"/>
<Action id="68018" issue="44377" author="jrallen" type="comment" created="2020-02-20 13:07:07.0" updateauthor="jrallen" updated="2020-02-20 13:07:07.0"> <body><! CDATA The problem could come from request_handler.rs line 409, where _send_ok_replies is called both for the case where cnt > f (true in this case, i.e. too many retries) or in the case where _check_state_proof returns true (false in this case, because the proof is incorrect).  Do you want me to file a second bug about the fact that the proof is incorrect for audit ledger? Because that's the actual problem that lead me to find this other problem.  ></body> </Action>
<Action id="68075" issue="44377" author="kithat" type="comment" created="2020-02-24 22:22:34.0" updateauthor="kithat" updated="2020-02-24 22:22:34.0"> <body><! CDATA Hi  ~jrallen , I have investigated the issue, logs and libindy code. The behaviour you have observed is correct and it is intended by design. It is more of a question to Indy Plenum design. You are querying Audit Ledger -- the ledger that is used by all nodes to remain consistent with each other and make catch-ups. The error you observed is saying that there are no signature to verify in proof for this request -- and this is ok for an audit ledger, nodes are not making BLS signatures for it.  So if there no signature in this proof or something else is wrong with the proof libindy will just collect consensus of responses and return it to you -- that is what happened in your logs.  Maybe in the future we might support BLS signatures for Audit Ledger and short path will start working for it -- but it is not on our priorities in a foreseeable future.  TL;DR: everything is ok and works as expected. We might fix it but not in the nearest time and the probability of it is quite small.  ></body> </Action>
