<Action id="48104" issue="32389" author="artemkaaas" type="comment" created="2018-07-30 12:29:44.0" updateauthor="artemkaaas" updated="2018-07-30 12:38:50.0"> <body><! CDATA We wrote 2 tests in Libindy  -  https://github.com/Artemkaaas/indy-sdk/blob/bugfix/big-proof/libindy/tests/anoncreds.rs#L5819  * Primary Proof. One credential. Proof request contains 3 self-attested attributes, 37 revealed attributes from this credentials Results:  {code:java} Time prover_get_credentials_for_proof_req Duration { secs: 0, nanos: 28462881 } Time prover_create_proof Duration { secs: 0, nanos: 29663167 } Time verifier_verify_proof Duration { secs: 0, nanos: 25492160 }{code} * Primary Proof.  Five same credentials. Proof request contains 3 self-attested attributes, 37 revealed attributes from 5 different credentials Results:  {code:java} Time prover_get_credentials_for_proof_req Duration { secs: 0, nanos: 113216821 } Time prover_create_proof Duration { secs: 0, nanos: 373353170 } Time verifier_verify_proof Duration { secs: 0, nanos: 333423834 }{code} If you want we will write a test in Libindy xCode wrapper.  But it's unlikely will be slower more than 1000 times. You can provide a more detailed description than a video with the hung screen. We will write the same test.  ></body> </Action>
<Action id="48106" issue="32389" author="viswa0269" type="comment" body="I had created a proof request with 10 self attested attributes and 30 autofilled attributes. In this 30 autofilled attributes, the attribute values were stored from 5-6 different schemas that were created.Moreover while sending the proof request, I had selected attribute values by swiping towards left or right in the proof request UI that was received in connect.me." created="2018-07-30 12:50:01.0" updateauthor="viswa0269" updated="2018-07-30 12:50:01.0"/>
<Action id="48114" issue="32389" author="artemkaaas" type="comment" created="2018-07-30 13:45:01.0" updateauthor="artemkaaas" updated="2018-07-30 13:45:01.0"> <body><! CDATA Please share connect.me and Libindy logs. (use RUST_LOG=trace) And on the video we see only 5 attributes. Why do you speak about 40?  ></body> </Action>
<Action id="48123" issue="32389" author="viswa0269" type="comment" body="Yeah the error was observed with just 5 attributes in the video. But I was able to observe the same with 40 as well. Attaching the snapshot for the same. we are unable to guess the pattern as to when the error might be observed." created="2018-07-30 15:15:13.0" updateauthor="viswa0269" updated="2018-07-30 15:15:13.0"/>
<Action id="48130" issue="32389" author="viswa0269" type="comment" body="Are you using local docker instance or a dev pool running? For this issue, create different schema and different claim def with same attributes and then choose attributes from different credentials. Similarly create different schema and different claim def and then pick and choose attributes from different credentials." created="2018-07-30 16:45:21.0" updateauthor="viswa0269" updated="2018-07-30 16:45:21.0"/>
<Action id="48144" issue="32389" author="sergey.minaev" type="comment" created="2018-07-30 20:08:48.0" updateauthor="sergey.minaev" updated="2018-07-30 20:09:34.0"> <body><! CDATA {quote}Are you using local docker instance or a dev pool running?{quote} for tests we are using local docker instance of nodes pool  ></body> </Action>
<Action id="48145" issue="32389" author="sergey.minaev" type="comment" body=" ~viswa0269  please specify steps to reproduce in minimal scenario. Is 2 schemas, 2 cred def and 2 credential (totally) enough? Is libindy 1.6.1 used here? Which version of VCX is used?" created="2018-07-30 20:13:24.0" updateauthor="sergey.minaev" updated="2018-07-30 20:13:24.0"/>
<Action id="48163" issue="32389" author="viswa0269" type="comment" created="2018-07-31 08:16:37.0" updateauthor="viswa0269" updated="2018-07-31 08:16:37.0"> <body><! CDATA  ~sergey.minaev  App is using libindy 1.6.1 and vcx version 0.1.2097319+338ad01. Verity UI uses libindy 1.5.0~619 and vcx version 0.1.17053972-DF31E48.   It would be better to have 5 schemas/cred def/credentials from different issuers having same attributes. Proof request template can contain these 5 autofilled attributes along with some self attested attributes.     ></body> </Action>
<Action id="48171" issue="32389" author="artemkaaas" type="comment" created="2018-07-31 10:11:37.0" updateauthor="artemkaaas" updated="2018-07-31 10:13:20.0"> <body><! CDATA I wrote the  test according to your scenarion|https://github.com/Artemkaaas/indy-sdk/blob/bugfix/big-proof/libindy/tests/anoncreds.rs#L6140 : 5 different schemas, 5 different credential definitions, 5 different credentials that contain the same field. a proof request contains  12 requested attributes self-attested and autofilled. It works. Here are the time results:  {code:java} Time prover_get_credentials_for_proof_req Duration { secs: 0, nanos: 5476832 } Time prover_create_proof Duration { secs: 0, nanos: 93479123 } Time verifier_verify_proof Duration { secs: 0, nanos: 78838641 } {code}     ></body> </Action>
<Action id="48173" issue="32389" author="artemkaaas" type="comment" created="2018-07-31 10:16:14.0" updateauthor="artemkaaas" updated="2018-07-31 10:16:14.0"> <body><! CDATA There are following  ways to solve your problem: * try to reproduce full scenario from scratch.  * try to reproduce scenario from scratch on devices with the same Libindy versions.  Libindy 1.6.1 is preferable * attach Libindy logs  ></body> </Action>
<Action id="48174" issue="32389" author="sergey.minaev" type="comment" body=" ~viswa0269  current description isn&apos;t enough to determine a problem reason. It may be some issue in code of application, wrapper, VCX, libindy. Or may be in network communication. I suggest to follow Artem&apos;s comment above. At least start from scratch and attach libindy logs with *trace* level. May be it allow us suggest something before new Verity UI will be available with 1.6.1 libindy" created="2018-07-31 10:24:44.0" updateauthor="sergey.minaev" updated="2018-07-31 10:24:44.0"/>
<Action id="48781" issue="32389" author="nagadurga" type="comment" body="please review   ^proof generating error.rtf  . " created="2018-08-13 10:23:49.0" updateauthor="nagadurga" updated="2018-08-13 10:23:49.0"/>
<Action id="48847" issue="32389" author="sergey.minaev" type="comment" created="2018-08-14 13:14:28.0" updateauthor="sergey.minaev" updated="2018-08-14 13:14:48.0"> <body><! CDATA  ~DouglasWightman  there is error hiding in VCX, please fix it: https://github.com/evernym/sdk/blob/master/vcx/libvcx/src/disclosed_proof.rs#L223   ~NagaDurga  btw bug in VCX is not a root of the problem. It just hide error on previous step. VCX try to fetch credential definitions from the ledger with id {{V4SGRU86Z58d6TV7PBUe6f:3:CL:180:tag1}} and ledger response with not found. Is this credential definition present in ledger? How this credential definition is posted to the ledger?  ></body> </Action>
<Action id="49008" issue="32389" author="nagadurga" type="comment" body="nice catch  ~sergey.minaev . Thank u" created="2018-08-17 09:20:21.0" updateauthor="nagadurga" updated="2018-08-17 09:20:21.0"/>
<Action id="49116" issue="32389" author="viswa0269" type="comment" body=" ~DouglasWightman  Can you take a look at this ?" created="2018-08-21 05:49:16.0" updateauthor="viswa0269" updated="2018-08-21 05:49:16.0"/>
<Action id="49122" issue="32389" author="nagadurga" type="comment" body=" ~sergey.minaev  I can confirm that credential definition was created and written by verity-ui to the ledger.  " created="2018-08-21 07:55:23.0" updateauthor="nagadurga" updated="2018-08-21 07:55:23.0"/>
<Action id="49206" issue="32389" author="avkrishnan" type="comment" body="https://evernym.atlassian.net/browse/EN-770 opened to track the issue in SDK." created="2018-08-22 07:59:52.0" updateauthor="avkrishnan" updated="2018-08-22 07:59:52.0"/>
<Action id="49394" issue="32389" author="gudkov" type="comment" body=" ~avkrishnan   ~NagaDurga  Do you have any updates after fixes in vcx?" created="2018-08-27 07:50:05.0" updateauthor="gudkov" updated="2018-08-27 07:50:05.0"/>
<Action id="49505" issue="32389" author="nagadurga" type="comment" body="When proof generated contains credential attributes from multiple credential.(Proof has 10 attribute and credential from 4 different credential). Error is being reproduced in IOS and android release build. However when tried to run in trace/debug mode error is not being reproduced. Working on to get better logs" created="2018-08-28 17:51:57.0" updateauthor="nagadurga" updated="2018-08-28 17:51:57.0"/>
<Action id="49544" issue="32389" author="gudkov" type="comment" created="2018-08-29 12:22:30.0" updateauthor="gudkov" updated="2018-08-29 12:22:30.0"> <body><! CDATA The problem can be related to sending of GET request to ledger immediately after write. Node can return outdated state in this case application should re-run GET request.   ~DouglasWightman  Could you re-check this?  ></body> </Action>
<Action id="49553" issue="32389" author="gudkov" type="comment" body="According to initial logs one node in pool is outdated for 2 hours. It can be the cause of getting outdated result." created="2018-08-29 13:01:35.0" updateauthor="gudkov" updated="2018-08-29 13:01:35.0"/>
<Action id="49702" issue="32389" author="esplinr" type="comment" body="We can&apos;t reproduce this issue. We suspect it is related to stale results being returned (IS-887). We&apos;ll return this to the backlog." created="2018-08-31 13:18:55.0" updateauthor="esplinr" updated="2018-08-31 13:18:55.0"/>
<Action id="49996" issue="32389" author="esplinr" type="comment" body="We believe that this is best addressed in the credential exchange library. After that work is done, we will re-evaluate if further changes are required in libindy." created="2018-09-06 13:15:29.0" updateauthor="esplinr" updated="2018-09-06 13:15:29.0"/>
<Action id="50527" issue="32389" author="nagadurga" type="comment" body="Hi,  ~esplinr . Can you suggest next steps for this. Should there be a new ticket on  credential exchange library, that will handle the issue." created="2018-09-17 12:22:06.0" updateauthor="nagadurga" updated="2018-09-17 12:22:06.0"/>
<Action id="50533" issue="32389" author="gudkov" type="comment" created="2018-09-17 12:45:28.0" updateauthor="gudkov" updated="2018-09-17 12:45:28.0"> <body><! CDATA  ~NagaDurga   ~krw910  I see that referenced ticket https://evernym.atlassian.net/browse/EN-770 as resolved.   Do you still experience any problem here or we can close this ticket?  ></body> </Action>
<Action id="50534" issue="32389" author="nagadurga" type="comment" body="yes just now QA  ~viswa0269  reproduced the error. " created="2018-09-17 12:48:44.0" updateauthor="nagadurga" updated="2018-09-17 15:32:20.0"/>
<Action id="50557" issue="32389" author="gudkov" type="comment" body=" ~NagaDurga  If so why EN-770 was closed? " created="2018-09-17 15:37:50.0" updateauthor="gudkov" updated="2018-09-17 15:38:04.0"/>
<Action id="50558" issue="32389" author="nagadurga" type="comment" body="new one was opened https://evernym.atlassian.net/browse/EN-824" created="2018-09-17 15:58:53.0" updateauthor="nagadurga" updated="2018-09-17 15:58:53.0"/>
<Action id="50823" issue="32389" author="gudkov" type="comment" created="2018-09-20 08:59:24.0" updateauthor="gudkov" updated="2018-09-20 08:59:24.0"> <body><! CDATA > yes just now QA viswarajan Lakshminarayanan reproduced the error.    ~NagaDurga  Do you have logs from this case? We can't move with old logs as they mask the problem due error in vcx.  ></body> </Action>
<Action id="51346" issue="32389" author="gudkov" type="comment" created="2018-09-28 12:22:54.0" updateauthor="gudkov" updated="2018-09-28 12:22:54.0"> <body><! CDATA   ~esplinr  I suggest to close this partucaular issue as we don't plan to implement workaround on our side. Instead of this we will provide instruments for freshness control that ConnectMe and VCX teams should consume, but it is a feature story and isn't the direct bug in Indy SDK.   ~NagaDurga  On your side you already have issues to control the progress.  ></body> </Action>
