<Action id="50703" issue="33874" author="burdettadam" type="comment" created="2018-09-19 17:01:12.0" updateauthor="burdettadam" updated="2018-09-19 17:01:12.0"> <body><! CDATA Lodo1995 commented, Can you post your code here? Both the one to create the credential definition and the one to create the get credential definition request?  ></body> </Action>
<Action id="50704" issue="33874" author="burdettadam" type="comment" created="2018-09-19 17:02:00.0" updateauthor="burdettadam" updated="2018-09-19 17:02:00.0"> <body><! CDATA arra1997 commented,  Prior to this I created a schema, published it to the chain and was able to retrieve it. Then To create a credential definition: # credential_def = await indy.issuerCreateAndStoreCredentialDef(wallet_handle, verinym 'did' , schema_info,'TAG', 'CL', '\{"support_revocation": false}') where verinym 'did'  is the DID associated with my identity, and schema_info is the second element that comes from issuerCreateSchema() which successfully creates a credential_definition (with is a 2-tuple (credential_def_id, credential_def_json))  # Using this credential def, I create a request let credential_def_request = await indy.buildCredDefRequest(verinym 'did' , credential_def 1 ) which works well  # Set credential_def_request 'operation'  'ref'  to 1 (by default it was 0) to stop the node network from complaining when I publish the request in step 4. I didn't find any method to set this "ref" value nor any documentation about what it means, so this might be a separate bug you want to look into  # Publish credential def by signing and submitting request let cred_def_res = await indy.signAndSubmitRequest(pool_handle, wallet_handle, verinym 'did' , credential_def_request) which also works  # Build get credential def request (which fails) let get_cred_def_request = await indy.buildGetCredDefRequest(verinym 'did' , credential_def 0 ) where credential_def 0  as explained in step 1 contains the credential_def_id  which fails with a CommonInvalidStructure IndyError.  ></body> </Action>
<Action id="69032" issue="33874" author="JIRAUSER20104" type="comment" body="When you are creating issuerCreateAndStoreCredentialDef probably you are using the schema_info from issuerCreateSchema. This is wrong since it is missing the SeqNo. You must first submit the schema to the ledger and then retrieve the  schema_info from there. " created="2020-04-24 01:33:50.0" updateauthor="JIRAUSER20104" updated="2020-04-24 01:35:27.0"/>
<Action id="69033" issue="33874" author="JIRAUSER20104" type="comment" body="The user does not use the schema definition from the ledger. She/He uses the local copy which however does not have the SeqNo and this causes all these problems. " created="2020-04-24 01:38:05.0" updateauthor="JIRAUSER20104" updated="2020-04-24 01:38:05.0"/>
