<Issue id="29396" key="IS-646" number="646" project="10401" reporter="krw910" assignee="vladimirwork" creator="krw910" type="10004" summary="nonce not threadsafe in Indy SDK" priority="3" resolution="10200" status="10001" created="2018-04-13 20:27:56.0" updated="2019-03-29 20:57:25.0" resolutiondate="2019-03-29 20:57:25.0" votes="0" watches="4" workflowId="51326"> <description><! CDATA Ticket information from Nathan  From @ianco: “Hi @nage, regarding the discussion that started last week on threading …  We have 6 “issuers” that create claims, and one “holder” that acts as a master claim repository and “prover”.  When each “issuer” creates a claim, it first creates a claim offer, send that to the “prover” (TheOrgBook), which responds with a claim request.  The “issuer” validates the claim request and sends the claim.  Part of this process is the creation and validation of a nonce.  In the indy-sdk, in create_claim_offer(), the issuer creates a nonce and adds it to the wallet.  The nonce id is based on the issuer did and schema key.  Then, in new_claim(), the nonce is retrieved and validated.  I believe that the threading issue we are having is that when the issuer is trying to issue multiple claims concurrently, the second nonce is stepping on the first.”  ></description> </Issue>
