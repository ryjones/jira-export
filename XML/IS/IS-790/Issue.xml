<Issue id="31290" key="IS-790" number="790" project="10401" reporter="gudkov" assignee="gudkov" creator="gudkov" type="10002" summary="Wallet Enchancement: Integrate tags-based search to Anoncreds workflow" priority="3" resolution="10000" status="10001" created="2018-06-22 09:52:22.0" updated="2018-07-19 12:15:37.0" resolutiondate="2018-07-19 12:14:57.0" votes="0" watches="3" workflowId="51436"> <description><! CDATA Wallet support efficient search based on tags, but credentials filtering code doesn't benefit from it and uses old inefficient approach. We need to integrate tags based search to Anoncreds workflow.  PoA: - store_credential call should also create tags for credential object: - schema_id (encrypted) - schema_issuer_did (encrypted) - schema_name (encrypted) - schema_version (encrypted) - issuer_did (encrypted) - cred_def_id (encrypted) - raw attribute (encrypted) - *discuss with Daniel and others* - user defined tags - *discuss with Daniel and others* - get_credentials should support wql in filter parameter - get_credentials_for_proof_req should support additional filter parameter with optional custom wql for each attribute in proof request - discuss with Daniel and others - Also we need to update get_credentials and indy_prover_create_proof to return iterator instead of the whole list of values. Iterator for indy_prover_create_proof will be a bit complex as we need dedicated iteration over each attribute in proof request. - Logic of credential search should create the most selective wql query based on stored tags and apply additional filter if needed during lazy iteration  ></description> </Issue>
