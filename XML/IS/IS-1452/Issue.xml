<Issue id="43734" key="IS-1452" number="1452" project="10401" reporter="tmarkovski" assignee="kithat" creator="tmarkovski" type="10004" summary="Verify function fails on Ubuntu 16.04" priority="3" resolution="10002" status="10001" created="2019-12-16 13:24:06.0" updated="2019-12-26 14:50:09.0" resolutiondate="2019-12-25 10:17:28.0" votes="0" watches="2" workflowId="57586"> <description><! CDATA  ~esplinr  reminded me to post about this bug. We noticed that calling `indy_verifier_verify` would always return `false` under certain environments.  We noticed this behavior when running a container based on Ubuntu 16.04. Upgrading to Ubuntu 18.04 and running the same function with the same parameters, worked fine.  Environment setup * Ubuntu 16.04 * Libindy 1.12.0 * We use docker images  https://github.com/streetcred-id/docker  - anything earlier than the 1.12.2 is based on Ubuntu 16.04 can reproduce this bug * Libindy called through .NET wrapper running netcore 2.1, 2.2 or 3.0  Below are some exact values I was able to extract from logs that consistently fail. When running the function in a different runtime (MacOS, iOS, Windows), the function works fine. It's only the 16.04 that fails.  Strangely, the unit tests on Aries Framework .NET run in the same docker container version, and the function succeeds.  Again, updating from 16.04 to 18.04 fixed this issue.     Here are the parameters of `indy_verifier_verify` in order (unstringified). Note, the example below uses Unicode characters, this is not the reason for the fail, the same happens with plain ASCII values, this is just the example I had saved.    {code:java} {"name":"proof-of-address-verification","version":"1.0","nonce":"06e7c19613b8d4fb1b1f325f1167a1c94","requested_attributes":{"address-requirement":{"name":"imeto"}},"requested_predicates":{}}   {"proof":{"proofs": {"primary_proof":{"eq_proof":{"revealed_attrs":{"imeto":"1234567890"},"a_prime":"6892116109804214682762415286217751337053715081218726738442961561093754568268172692377901998609378382843975428532957086712758183213713130166523084562772994353315496789678963980545579196900375649713076216874113263396417922653280415783028963554350587929909722035239488200681022806586171231113605921871811825693949645721703731399073298281939234621358452818584347221278759990102143659387107700178082158228352052417788475216371843712491022984426829333307770942551924078517906879109449855827741067721897039644674436710590114402450913543938911784112575123199794896334117353269970257885304893731164638378245465053960679526937","e":"120370666894420000846364774236883130401717360110017793637515943451358508667696306120887262328639223153410613587100490593068998319235897647","v":"4775171920831867645255743276170298016195849060921699451863971295030762068500494845734608227943465433836180197079035012757568859953119687968582413554806562924870103734910947856219638611913891217591962698733557293411749526133000676083561181365625511316961325623100332227116110744366061788886940176352079009659041439807510716037041733040279166353300165340076674133988885867320635608152326526326286979201631224841271245605955354218251154413673615385529078485127576877562900392451379145348468599987168843382786546098143865175704642305845656319354826500190580504902336393027914709241754350942640666454641256100362719826357639004886325160914626827179874187613001910021001353395471606624685084487553669366675158225707463926225929205410442705251107229807232722285332899726555723753060810459346177521950607466557885288018549917030361026896167703522478207522495821721142382999601289886997641591729283755538393263678867319994053120","m":{"master_secret":"13589545062413297503927252204481027233940391387867278254888771522887782568126989301235740204603904812237568293850737437527891015864511602589054018466904372556774996927605777365119"},"m2":"13426579965254519552108591971885220375891323001733141598264562856237872089539984716364172569455122163549390097632479649100309750690056458483205886102962418477291221534266344256100"},"ge_proofs":  },"non_revoc_proof":null} ,"aggregated_proof":{"c_hash":"65394802395379345731273773207647738046886732507377356932266592995516160575242","c_list":  54,152,152,114,42,97,144,192,24,146,240,82,250,46,0,54,213,96,161,54,211,19,129,143,85,107,19,96,163,41,172,250,99,205,38,106,3,149,254,130,155,144,150,167,156,96,121,52,240,6,172,139,230,81,90,24,215,89,112,18,197,254,213,76,209,123,60,50,10,151,95,42,81,138,19,184,48,117,177,111,101,93,133,73,145,15,236,170,47,174,84,8,168,89,53,0,158,242,79,104,65,14,105,173,255,251,79,239,28,167,209,55,111,177,66,172,163,170,242,241,131,44,122,253,146,32,49,120,211,31,129,148,33,246,158,29,208,208,188,73,131,233,107,198,199,171,20,81,98,221,143,199,2,102,60,178,48,126,14,97,192,123,202,193,102,122,16,163,243,51,100,143,100,126,122,58,64,216,209,37,23,190,237,204,223,254,68,61,247,145,92,112,213,40,226,10,163,251,182,57,184,98,50,206,11,118,86,10,88,50,69,182,200,216,28,234,64,36,252,20,251,240,58,24,221,32,231,197,239,81,178,143,2,55,168,39,112,55,254,79,182,97,83,60,44,83,128,195,69,38,128,185,136,165,18,25  }},"requested_proof":{"revealed_attrs":{"address-requirement":{"sub_proof_index":0,"raw":"Томислав Марковски","encoded":"1234567890"}},"self_attested_attrs":{},"unrevealed_attrs":{},"predicates":{}},"identifiers": {"schema_id":"8er2ZR8pUavM6LVwYoSZ4t:2:test-staging:1.1.1","cred_def_id":"8er2ZR8pUavM6LVwYoSZ4t:3:CL:311:default","rev_reg_id":null,"timestamp":null} }   {"8er2ZR8pUavM6LVwYoSZ4t:2:test-staging:1.1.1":{"ver":"1.0","id":"8er2ZR8pUavM6LVwYoSZ4t:2:test-staging:1.1.1","name":"test-staging","version":"1.1.1","attrNames": "imeto" ,"seqNo":311}}   {"8er2ZR8pUavM6LVwYoSZ4t:3:CL:311:default":{"ver":"1.0","id":"8er2ZR8pUavM6LVwYoSZ4t:3:CL:311:default","schemaId":"311","type":"CL","tag":"default","value":{"primary":{"n":"126959486232208969041883204784567086051615700838705883383708478059793961378579389397240550264377363624325939732252246177788865717966820820393092527019295988100089342432155232865833729622525140091270310301575849909179445166924827361836215887274370596341657668597746838936396886005666003532025034141430848149694265585328744805247913163761206880570708749488034129228637170578076478495469279189727241063887811883169890097046758662350447647041777025329605543737569306346288128766796580624589448314770756167263890013654818987261526562421344107260774364471217507799814831381412136347238736870441157724000217531099235515131353","s":"117684122558622039265804770637448762940860483252294464732268973028074145801968200301139495160553496455594584857131883798389747996800305870317766564397177555848202000075815177461331502580852315732992750457192479465276394439312498354495562070887121997602034062030188068035661621216234743359382035244692379057222739930239070032139960901166692597866757360870072169533990724347345984178109446709967371060970608211996703921702388455306949471898415543733565343227184123773305900312454080117408467227515676232242224838023704443501056953674755934040840508655813997533646425259740023490736404883009992391182690767243031230089222","r":{"master_secret":"97757285165913811614511779091377965764077396651332187752892076607844943563362949171631910469210911198754689538712082216414687859972726456980996079644413395912014777812657227072963515319108790774638121871637557799491978810040320741780293586802807416843088353322307799569078942895075227569744408983695952370389465523234506420266568379311310702374682272401949265118954696242101208251979150165063342313357761927798857876365749104347462845208416111295862222499518468895717017746744134423466279195549633295387989904545510011140498154982699492619886021264234825019791086845705987579754489644054194909516091560021308706514681","imeto":"24430185584556229437015678485428772894028144937616774982607234263330548834483245344581038975062832956709903285759868610482893187450285717653984723580696516013961270742983574417745227922178991492608195823592029091279089700265776346211934940862001148423800775606513806740643944768997625738052401528662181621261898504238078400878972887915051568468935590878973570979207818817405085459347644445969079102343933384309220820547101595112243243542660000041008739695953797471267556508327095965393337509885204566427516342520362655879430703266869822576194109053534744312498383937768837804238717252067847509222658882173712055403551"},"rctxt":"3344022408804515805236103755140596245648443339928525627589254286703706176843926579992842136229857147872955764280773664402612021601456135015180050471052310075992684493065576182608158029282329645769112319050901454352225220392007361131816261296975998034782600964546142539464973431710322525562553348622667344708747348714248171511802655816078139812489160111767459894530961668257257710487286438582586094462610241491806454466422911147880551354280721598413707362082592991270635099684061916403540925955338157971875072309535689995340005462145382285429236843525031063655961633102317032090955375418309408444122323672062943456095","z":"62979258004051596901604469001010404561617853785107809515423567220629741232025620655686885598503955011325057532555342027831477193872131372765175339645768036351464520470271222120652522367191309916679748497411447488706986833187847752192469129322464334552537996825571062256896792678799129386980993243925271863881482649319601775373727921008170780118293031036436770012098868899980348531916053186478010342927756990576943643292194428978854544822613130427689414434845496148572390068516784095385898980608103642393950270036258513349903775036302957468451249561978853982915401647734491663650897513374390904062710128288795713721899"}}}}   {}   {} {code}       ></description> </Issue>
