<Issue id="26251" key="IS-478" number="478" project="10401" reporter="ozheregelya" creator="ozheregelya" type="10004" summary="CLI: Unclear error messages" priority="2" resolution="10000" status="10001" created="2017-12-21 17:35:39.0" updated="2018-01-24 07:59:58.0" resolutiondate="2018-01-22 23:38:53.0" votes="0" watches="3" workflowId="51184"> <description><! CDATA   ||Case||Current Message||Expected message||Ver.||Fixed|| |1. Sending _*ledger nym*_ command to the pool incompatible with current wallet.|Pool handle "4" invalid for wallet handle "2"|Wallet "<wallet_name>" is incompatible with pool "<pool_name>".|284| 304 (/)| |2. Sending *_ledger nym_* command with wrong permissions (identity owner tries to write new TRUSTEE)|Invalid transaction|<current_did_role> cannot add <new_did_role>|284| 304 (x)  IS-529| |3. Sending *_wallet create_* command with pool_name parameter only|No required "pool_name" parameter present|No required "name" parameter present|284| IS-510| |4. Sending *_wallet create_* command with pool_name and name parameters (*in this sequence*)|"name" parameter presented multiple times|_there should be no error, because all parameters are explicitly named and present_|284| IS-510| | 5. Attempt to perform *pool delete* command for currently connected pool|Indy SDK error occurred CommonInvalidState|Connected pool cannot be deleted. Please disconnect first. |297| 304 (/)| | 6. Attempt to perform *pool connect* to not existing pool|Indy SDK error occurred PoolLedgerTerminated|Pool "<pool_name>" does not exist.|297| 304 (x)  IS-529| | 7. Wrong path in gen_txn_file parameter in *pool create* command|Indy SDK error occurred CommonIOError|Pool genesis file is invalid or does not exist.|297| 304 (/)| | 8. Attempt to perform *pool delete* for not existing pool|Indy SDK error occurred CommonIOError |Pool "<pool_name>" does not exist. |297| 304 (/)| | 9 (very minor). Unclear error when CLI can't catch up (for example attempt to perform *pool connect* with wrong genesis file like in INDY-802)|Indy SDK error occurred PoolLedgerTerminated | |297| | | 10. Wrong symbols in did argument of *did new* command: did new did=V4SGRU86Z58d6TV7PBUe60| Indy SDK error occurred CommonInvalidStructure|Invalid DID format|297| IS-511 | | 11. Incorrect parameters length  ledger nym did=9sKV7grR1BUE29mG2Fm213 verkey=~VsKV7grR1BUE29mG2Fm2  ledger nym did=VsKV7grR1BUE29mG2Fm2 verkey=~VsKV7grR1BUE29mG2Fm2kX  ledger get-nym did=VsKV7grR1BUE29mG2Fm2   case is not actual for did new because of -----IS-498-----|Indy SDK error occurred UnknownCryptoTypeError |Invalid length of <parameter-name> parameter. <requirements-for-parameter length>. _If it is difficult to show requirements for parameter in error message, it will be enough to_ _specify only wrong parameter and_ _add information with requirements to help._|306|IS-511 | | 12. Invalid parameters values:  did new did=VsKV7grR1BUE29mG2Fm2k0  ledger nym did=VsKV7grR1BUE29mG2Fm2k0  ledger nym did=VsKV7grR1BUE29mG2Fm2k9 role=adsfddsaf  ledger custom \{"reqId":1,"identifier":"V4SGRU86Z58d6TV7PBUe6f","operation":\{"type":"105","dest":V4SGRU86Z58d6TV7PBUe6f}}  ledger get-nym did=VsKV7grR1BUE29mG2Fm2k0   ...etc.| Wrong command params|Wrong command parameter <parameter-name>. It should be <parameter-requirements>. _If it is difficult to show requirements for parameter in error message, it will be enough to specify only wrong parameter and add information with requirements (like length or Base58 allowed symbols) to help._|306 | IS-511 | |13. Empty required parameters:   ledger get-attrib did=V4SGRU86Z58d6TV7PBUe69 attr=  wallet create name=wall pool_name=   ledger get-attrib did= attr=endpoint  ledger nym did=  ledger attrib did=  ledger pool-upgrade: one of parameters is empty: name, version, action, sha256 ... etc.| Indy SDK error occurred CommonInvalidParam*| Required "<parameter_name>" parameter is empty.| | 316 (/)| |14. Empty optional parameters:  ledger attrib did=VsKV7grR1BUE29mG2Fm2kX raw=  ledger attrib did=VsKV7grR1BUE29mG2Fm2kX enc=  ledger attrib did=VsKV7grR1BUE29mG2Fm2kX hash=  ledger pool-upgrade: justification parameter is empty.  ...etc.|Indy SDK error occurred UnknownCryptoTypeError| Optional parameter "<parameter_name>" is empty.| |316 (/)| | 15. Absent fields in txn field of *ledger custom* command. (No reqId, identifier or operation fields in json). ledger custom \{"reqId":1,"operation":\{"type":"105","dest":"V4SGRU86Z58d6TV7PBUe6f"}} ledger custom \{"identifier":"V4SGRU86Z58d6TV7PBUe6f","operation":\{"type":"105"}} ledger custom \{"reqId":2,"identifier":"V4SGRU86Z58d6TV7PBUe61","value":"qeqwew"}|Indy SDK error occurred UnknownCryptoTypeError |<reqId/identifier/operation> should present in txn field. _Information about requirements for json in txn should be added to help. Now it is unclear that reqId, identifier  and operation are required._| |Bad message from Indy-Node:  "reason":"client request invalid: InvalidClientRequest()" | | 16. *ledger node*: sending transaction with incorrect target value  ledger node target=A5iWQVT3k8Zo9nXj4otmeqaUziPQPCiDqcydXkAJBk1Y alias=Node5 services=|Indy SDK error occurred UnknownCryptoTypeError | Missing some of node_port, client_ip, client_port, node_ip, alias values for adding new node. Not existing target for update.| | 304 (x)  IS-529| | 17. *ledger node*: incorrect alias in case of update:  ledger node target=4SWokCJWJc69Tn74VvLS6t2G2ucvXqM9FDMsWJjmsUxe alias=Node9 services=|Indy SDK error occurred UnknownCryptoTypeError| Specified alias does not accord specified target.| | 304 (x)  IS-529| | 18. *ledger pool-upgrade*: incorrect schedule format  -  ' are used instead of "  - schedule parameter is empty| Indy SDK error occurred CommonInvalidState| Incorrect format schedule format.| | IS-511| | 19. *ledger pool-upgrade*: incorrect schedule when force=false  - date in the past   - too small delay between upgrades  - not all nodes are specified  - incorrect time in schedule (like 10:99:00)|Indy SDK error occurred UnknownCryptoTypeError| Schedule is invalid since upgrade time is less than current time.    Schedule is invalid since time span between upgrades is too small.    Schedule is invalid since it contains ids of not all nodes.    Schedule is invalid since date/time is incorrect.| |304 (/) INDY-1098| | 20. *ledger pool-upgrade* to lower version.| Indy SDK error occurred UnknownCryptoTypeError| Specified version is less than current one.| | 304 (/)|  ></description> </Issue>
