<Issue id="41004" key="IS-1311" number="1311" project="10401" reporter="artemkaaas" assignee="vladimirwork" creator="artemkaaas" type="10004" summary="TAA mustn&apos;t be set for SET_FEES transaction" priority="3" resolution="10000" status="10001" created="2019-07-11 09:55:58.0" updated="2019-08-19 10:24:48.0" resolutiondate="2019-07-15 15:36:38.0" votes="0" watches="2" workflowId="54004"> <description><! CDATA From a dialog with  ~lbendixsen   I tried set-fees-prepare and it added a taaAcceptance, but when I got it signed and submitted, the error said that TAA was not allowed for that txn type ``` ledger set-fees-prepare payment_method=sov fees=did:5000000000,cred_def:12500000000,schema:25000000000,reg_ref:10000000000,reg_ref_update:50000000,key_rotation:500000000,attrib:500000000,token_xfer:500000000 SET_FEES transaction has been created: {"reqId":1562765905232674000,"identifier":"4TMD8bT757JqBnmoCiNCc3","operation":{"fees":{"attrib":500000000,"cred_def":12500000000,"did":5000000000,"key_rotation":500000000,"reg_ref":10000000000,"reg_ref_update":50000000,"schema":25000000000,"token_xfer":500000000},"type":"20000"},"protocolVersion":2,"taaAcceptance":{"mechanism":"Click Agreement","taaDigest":"920e68ff43bf157d657e35fca291baa00f8b14c395cddf6e4b4e156391baf7cd","time":1562765254}} ``` This is on the BuilderNet which has the latest releases on it.  ``` ledger custom {"identifier":"4TMD8bT757JqBnmoCiNCc3","operation":{"fees":{"attrib":500000000,"cred_def":12500000000,"did":5000000000,"key_rotation":500000000,"reg_ref":10000000000,"reg_ref_update":50000000,"schema":25000000000,"token_xfer":500000000},"type":"20000"},"protocolVersion":2,"reqId":1562765905232674000,"signatures":{"4TMD8bT757JqBnmoCiNCc3":"4mSVm4fWiZoCNyq4VdteuDmCdyxrEJxGwJZBeJraeWXeCWpnoPMQbkJ4WMBuhHPJF6n92sXHMxbBYXz8udRgdbhc","UBAUw6a1wauQe7Q7TBZFPX":"dEm5vrjgxnvcEtZMfEru1VF6QU7FTXLhWhvJJLV8xR1H89QMXj4oQYmg6ChD63RKba2A8X4h9HDnUnU5S3irdKg","YLCJ5wri6K8asJnHdJXzDP":"wZ1RuCQyMvUowwycWFFBhrxLuAqeGVaroS5n8jzEpYKBncXZFW3UCT5wku1p4wYbb6UPjxFYwtXGsH4GAaBgCBV"},"taaAcceptance":{"mechanism":"Click Agreement","taaDigest":"920e68ff43bf157d657e35fca291baa00f8b14c395cddf6e4b4e156391baf7cd","time":1562765254}} Transaction response has not been received  ``` Log file contains: ``` 2019-07-10 15:13:07,384|WARNING|replica.py|FoundationBuilder:0 encountered exception InvalidClientTaaAcceptanceError('Txn Author Agreement acceptance is not expected and not allowed in requests for ledger id 2',) while processing Request: {'signatures': {'4TMD8bT757JqBnmoCiNCc3': '4mSVm4fWiZoCNyq4VdteuDmCdyxrEJxGwJZBeJraeWXeCWpnoPMQbkJ4WMBuhHPJF6n92sXHMxbBYXz8udRgdbhc', 'YLCJ5wri6K8asJnHdJXzDP': 'wZ1RuCQyMvUowwycWFFBhrxLuAqeGVaroS5n8jzEpYKBncXZFW3UCT5wku1p4wYbb6UPjxFYwtXGsH4GAaBgCBV', 'UBAUw6a1wauQe7Q7TBZFPX': 'dEm5vrjgxnvcEtZMfEru1VF6QU7FTXLhWhvJJLV8xR1H89QMXj4oQYmg6ChD63RKba2A8X4h9HDnUnU5S3irdKg'}, 'protocolVersion': 2, 'taaAcceptance': {'taaDigest': '920e68ff43bf157d657e35fca291baa00f8b14c395cddf6e4b4e156391baf7cd', 'time': 1562765254, 'mechanism': 'Click Agreement'}, 'identifier': '4TMD8bT757JqBnmoCiNCc3', 'operation': {'type': '20000', 'fees': {'reg_ref': 10000000000, 'cred_def': 12500000000, 'did': 5000000000, 'reg_ref_update': 50000000, 'schema': 25000000000, 'key_rotation': 500000000, 'token_xfer': 500000000, 'attrib': 500000000}}, 'reqId': 1562765905232674000}, will reject ```  ></description> </Issue>
