<Action id="68696" issue="44537" author="sklump" type="comment" created="2020-04-01 14:09:06.0" updateauthor="sklump" updated="2020-04-01 14:10:13.0"> <body><! CDATA In addition, indy-sdk does not verify proofs with revealed zero-valued attributes: Indy-sdk 1.15.0 still has a problem with zero-valued credentials. Apply ``` --- a/wrappers/python/tests/interation/test_interaction.py +++ b/wrappers/python/tests/interation/test_interaction.py @@ -17,6 +17,7 @@ async def test_anoncreds_revocation_interaction_test_issuance_by_demand(pool_nam issuer_wallet_handle = wallet_handle  prover_did, _ = identity_my1 +    ZERO = '0'  #  Prover Creates Wallet and Get Wallet Handle prover_wallet_config = '{"id":"prover_wallet"}' @@ -94,7 +95,7 @@ async def test_anoncreds_revocation_interaction_test_issuance_by_demand(pool_nam cred_values_json = json.dumps({ "sex": { "raw": "male", "encoded": "5944657099558967239210949258394887428692050081607692519917050011144233115103"}, -        "name": {"raw": "Alex", "encoded": "1139481716457488690172217916278103335"}, +        "name": {"raw": ZERO, "encoded": ZERO}, "height": {"raw": "175", "encoded": "175"}, "age": {"raw": "28", "encoded": "28"} }) @@ -217,7 +218,7 @@ async def test_anoncreds_revocation_interaction_test_issuance_by_demand(pool_nam (rev_reg_id, rev_reg_json, identifier) = await ledger.parse_get_revoc_reg_response(get_revoc_reg_response)  # Verifier verify proof -    assert 'Alex' == proof 'requested_proof'  'revealed_attrs'  'attr1_referent'  'raw'  +    assert ZERO == proof 'requested_proof'  'revealed_attrs'  'attr1_referent'  'raw'   schemas_json = json.dumps({schema_id: json.loads(schema_json)}) credential_defs_json = json.dumps({cred_def_id: json.loads(cred_def_json)}) ``` to `wrappers/python/tests/test_interation/test_interaction.py` and observe. In particular, ``` E       indy.error.AnoncredsProofRejected  ../../indy/anoncreds.py:1756: AnoncredsProofRejected ```  Wow, what a mess that formatting makes. The gist is to replace Alex's name with raw and encoded "0" strings.  ></body> </Action>
<Action id="68720" issue="44537" author="sklump" type="comment" body="Kindly ignore the above comment. It is wrong. Indy-sdk 1.15.0 fixes this bug." created="2020-04-03 10:01:49.0" updateauthor="sklump" updated="2020-04-03 10:01:49.0"/>
