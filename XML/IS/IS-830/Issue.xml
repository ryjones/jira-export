<Issue id="31999" key="IS-830" number="830" project="10401" reporter="burdettadam" creator="burdettadam" type="10003" summary="Multiple Clone on a double-reference in CLI" priority="3" status="10405" created="2018-07-17 20:36:28.0" updated="2019-08-01 08:51:01.0" votes="0" watches="2" workflowId="50659"> <description><! CDATA In /cli/src/commands/wallet.rs there is multiple clone on double-reference, see errors below. {code:java} error: using `clone` on a double-reference; this will copy the reference instead of cloning the inner type --> src/commands/wallet.rs:46:44 | 46 |         let config: String = json!({ "id": id.clone(), "storage_type": storage_type, "storage_config": storage_config }).to_string(); |                                            ^^^^^^^^^^ | = note: # deny(clone_double_ref)  on by default = help: for further information visit https://rust-lang-nursery.github.io/rust-clippy/v0.0.211/index.html#clone_double_ref help: try dereferencing it | 46 |         let config: String = json!({ "id": &(*id).clone(), "storage_type": storage_type, "storage_config": storage_config }).to_string(); |                                            ^^^^^^^^^^^^^^ help: or try being explicit about what type to clone | 46 |         let config: String = json!({ "id": &str::clone(id), "storage_type": storage_type, "storage_config": storage_config }).to_string(); |                                            ^^^^^^^^^^^^^^^  error: using `clone` on a double-reference; this will copy the reference instead of cloning the inner type --> src/commands/wallet.rs:47:50 | 47 |         let credentials: String = json!({ "key": key.clone() }).to_string(); |                                                  ^^^^^^^^^^^ | = help: for further information visit https://rust-lang-nursery.github.io/rust-clippy/v0.0.211/index.html#clone_double_ref help: try dereferencing it | 47 |         let credentials: String = json!({ "key": &(*key).clone() }).to_string(); |                                                  ^^^^^^^^^^^^^^^ help: or try being explicit about what type to clone | 47 |         let credentials: String = json!({ "key": &str::clone(key) }).to_string(); |                                                  ^^^^^^^^^^^^^^^^  error: using `clone` on a double-reference; this will copy the reference instead of cloning the inner type --> src/commands/wallet.rs:285:53 | 285 |         let export_config: String = json!({ "path": export_path.clone(), "key": export_key.clone() }).to_string(); |                                                     ^^^^^^^^^^^^^^^^^^^ | = help: for further information visit https://rust-lang-nursery.github.io/rust-clippy/v0.0.211/index.html#clone_double_ref help: try dereferencing it | 285 |         let export_config: String = json!({ "path": &(*export_path).clone(), "key": export_key.clone() }).to_string(); |                                                     ^^^^^^^^^^^^^^^^^^^^^^^ help: or try being explicit about what type to clone | 285 |         let export_config: String = json!({ "path": &str::clone(export_path), "key": export_key.clone() }).to_string(); |                                                     ^^^^^^^^^^^^^^^^^^^^^^^^  error: using `clone` on a double-reference; this will copy the reference instead of cloning the inner type --> src/commands/wallet.rs:285:81 | 285 |         let export_config: String = json!({ "path": export_path.clone(), "key": export_key.clone() }).to_string(); |                                                                                 ^^^^^^^^^^^^^^^^^^ | = help: for further information visit https://rust-lang-nursery.github.io/rust-clippy/v0.0.211/index.html#clone_double_ref help: try dereferencing it | 285 |         let export_config: String = json!({ "path": export_path.clone(), "key": &(*export_key).clone() }).to_string(); |                                                                                 ^^^^^^^^^^^^^^^^^^^^^^ help: or try being explicit about what type to clone | 285 |         let export_config: String = json!({ "path": export_path.clone(), "key": &str::clone(export_key) }).to_string(); |                                                                                 ^^^^^^^^^^^^^^^^^^^^^^^  error: using `clone` on a double-reference; this will copy the reference instead of cloning the inner type --> src/commands/wallet.rs:332:44 | 332 |         let config: String = json!({ "id": id.clone(), "storage_type": storage_type, "storage_config": storage_config }).to_string(); |                                            ^^^^^^^^^^ | = help: for further information visit https://rust-lang-nursery.github.io/rust-clippy/v0.0.211/index.html#clone_double_ref help: try dereferencing it | 332 |         let config: String = json!({ "id": &(*id).clone(), "storage_type": storage_type, "storage_config": storage_config }).to_string(); |                                            ^^^^^^^^^^^^^^ help: or try being explicit about what type to clone | 332 |         let config: String = json!({ "id": &str::clone(id), "storage_type": storage_type, "storage_config": storage_config }).to_string(); |                                            ^^^^^^^^^^^^^^^  error: using `clone` on a double-reference; this will copy the reference instead of cloning the inner type --> src/commands/wallet.rs:333:50 | 333 |         let credentials: String = json!({ "key": key.clone() }).to_string(); |                                                  ^^^^^^^^^^^ | = help: for further information visit https://rust-lang-nursery.github.io/rust-clippy/v0.0.211/index.html#clone_double_ref help: try dereferencing it | 333 |         let credentials: String = json!({ "key": &(*key).clone() }).to_string(); |                                                  ^^^^^^^^^^^^^^^ help: or try being explicit about what type to clone | 333 |         let credentials: String = json!({ "key": &str::clone(key) }).to_string(); |                                                  ^^^^^^^^^^^^^^^^  error: using `clone` on a double-reference; this will copy the reference instead of cloning the inner type --> src/commands/wallet.rs:334:53 | 334 |         let import_config: String = json!({ "path": export_path.clone(), "key": export_key.clone() }).to_string(); |                                                     ^^^^^^^^^^^^^^^^^^^ | = help: for further information visit https://rust-lang-nursery.github.io/rust-clippy/v0.0.211/index.html#clone_double_ref help: try dereferencing it | 334 |         let import_config: String = json!({ "path": &(*export_path).clone(), "key": export_key.clone() }).to_string(); |                                                     ^^^^^^^^^^^^^^^^^^^^^^^ help: or try being explicit about what type to clone | 334 |         let import_config: String = json!({ "path": &str::clone(export_path), "key": export_key.clone() }).to_string(); |                                                     ^^^^^^^^^^^^^^^^^^^^^^^^  error: using `clone` on a double-reference; this will copy the reference instead of cloning the inner type --> src/commands/wallet.rs:334:81 | 334 |         let import_config: String = json!({ "path": export_path.clone(), "key": export_key.clone() }).to_string(); |                                                                                 ^^^^^^^^^^^^^^^^^^ | = help: for further information visit https://rust-lang-nursery.github.io/rust-clippy/v0.0.211/index.html#clone_double_ref help: try dereferencing it | 334 |         let import_config: String = json!({ "path": export_path.clone(), "key": &(*export_key).clone() }).to_string(); |                                                                                 ^^^^^^^^^^^^^^^^^^^^^^ help: or try being explicit about what type to clone | 334 |         let import_config: String = json!({ "path": export_path.clone(), "key": &str::clone(export_key) }).to_string(); |                                        ^^^^^^^^^^^^^^^ {code}   ></description> </Issue>
