<Action id="48537" issue="32662" author="sergey.minaev" type="comment" body=" ~dkulic  could you please share you research in this ticket too?" created="2018-08-08 08:46:30.0" updateauthor="sergey.minaev" updated="2018-08-08 08:46:30.0"/>
<Action id="48542" issue="32662" author="dkulic" type="comment" created="2018-08-08 09:23:32.0" updateauthor="dkulic" updated="2018-08-08 09:23:32.0"> <body><! CDATA Small improvement is seen with journal_mode = WAL and synchronous = FULL options without losing any safety (durability and consistency).  Much higer improvement (order of magnitude) is seen with journal_mode = WAL and synchronous = NORMAL, it guaranties consistency, but it does not guaranties durability, so record may be lost in case of system reset shortly after the record is added to database.  ></body> </Action>
<Action id="48543" issue="32662" author="dkulic" type="comment" created="2018-08-08 09:25:24.0" updateauthor="dkulic" updated="2018-08-08 09:25:24.0"> <body><! CDATA The key settings are pragma options `synchronous` and `journal_mode`.  Default values are `NORMAL` and `DELETE` which (just for comparison, on my computer) gives ~10ms time of add key operation. If changed to `NORMAL` and `TRUNCATE` time is improved to ~7.5ms and it is totally safe `NORMAL` and `WAL` improves this to ~0.1ms, but does not guaranties durability. `FULL` and `WAL` is safe and gives time of add record of ~3ms.  I have used some tests created by @artem.ivanov and testing suggests that on most systems deriving the key from passphrase (Argon2) dominates the time taken (it derives twice, one for key used for decryption of export file and second for creating the empty wallet in which data is being imported) but on some mobile devices with slow flash (or maybe even memory cards) the time of writing the data to database is not negligible.  The problem with `NORMAL`+`WAL` is explained in SQLite documentation as: A transaction committed in WAL mode with synchronous=NORMAL might roll back following a power loss or system crash. Transactions are durable across application crashes regardless of the synchronous setting or journal mode.  ></body> </Action>
<Action id="48544" issue="32662" author="dkulic" type="comment" body="https://github.com/hyperledger/indy-sdk/pull/1052" created="2018-08-08 09:27:31.0" updateauthor="dkulic" updated="2018-08-08 09:27:31.0"/>
<Action id="48708" issue="32662" author="sergey.minaev" type="comment" body="Available from 1.6.1 master 694" created="2018-08-10 12:06:56.0" updateauthor="sergey.minaev" updated="2018-08-10 12:06:56.0"/>
