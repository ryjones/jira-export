<Issue id="31337" key="IS-792" number="792" project="10401" reporter="vladimirwork" assignee="vladimirwork" creator="vladimirwork" type="10004" summary="did.key_for_did returns incorrect error for nonexistent DID" priority="3" resolution="10000" status="10001" created="2018-06-25 09:27:22.0" updated="2018-06-27 16:34:08.0" resolutiondate="2018-06-27 11:24:45.0" votes="0" watches="2" workflowId="51438"> <description><! CDATA Build Info: indy-node 1.4.477 libindy 1.4.0~596 python3-indy 1.4.0.dev596  Steps to Reproduce: 1. Create and open pool and wallet. 2. Call `did.key_for_did` for valid DID that doesn't present in wallet and ledger.  Actual Results: {noformat} TRACE|indy::commands::did           |                src/commands/did.rs:550 | Invalid structure: data did not match any variant of untagged enum Reply ERROR|indy::errors::indy            |                 src/errors/indy.rs:73  | Casting error to ErrorCode: Invalid library state: Invalid GetNymReplyResult json: InvalidStructure("data did not match any variant of untagged enum Reply") TRACE|indy::api::did                |                     src/api/did.rs:300 | indy_key_for_did: key: "" IndyError: ErrorCode.CommonInvalidState {noformat}  Expected Results: WalletNotFoundError (204) should be returned.   ></description> </Issue>
