<Issue id="26326" key="IS-502" number="502" project="10401" reporter="ozheregelya" creator="ozheregelya" type="10004" summary="CLI: &apos;ledger node&apos; command doesn&apos;t work" priority="1" resolution="10200" status="10001" created="2018-01-02 16:22:41.0" updated="2019-03-29 20:57:32.0" resolutiondate="2019-03-29 20:57:32.0" votes="0" watches="1" workflowId="51204"> <environment><! CDATA indy-node 1.2.251 indy-cli 1.1.1~306  ></environment> <description><! CDATA Steps to Reproduce: 1. Send one of following commands: new node adding as Steward:  {code:java} ledger node target=A5iWQVT3k8Zo9nXj4otmeqaUziPQPCiDqcydXkAJBk1Y node_ip=127.0.0.1 node_port=9710 client_ip=127.0.0.1 client_port=9711 alias=Node15 services=VALIDATOR blskey=2zN3bHM1m4rLz54MJHYSwvqzPchYp8jkHswveCLAEJVcX6Mm1wHQD1SkPYMzUDTZvWvhuE6VNAkK3KxVeEmsanSmvjVkReDeBEMxeDaayjcZjFGPydyey1qxBHmTvAnBKoPydvuTAqx5f7YNNRAdeLmUi99gERUU7TD8KfAa6MpQ9bw{code} node demotion as Trustee: {code:java} ledger node target=4SWokCJWJc69Tn74VvLS6t2G2ucvXqM9FDMsWJjmsUxe alias=Node5 services={code} Actual Results: Invalid data has been received: ErrorImpl \{ code: Message("unknown variant `POOL_LEDGER_TXNS`, expected one of `REQNACK`, `REPLY`, `REJECT`"), line: 1, column: 354 }  Expected Results: Commands should work.  Additional Information: Output with RUST_LOG=indy=trace {code:java} ledger node target=4SWokCJWJc69Tn74VvLS6t2G2ucvXqM9FDMsWJjmsUxe alias=Node5 services= TRACE|indy_cli::commands::ledger::node_command| src/commands/ledger.rs:487 | execute >> ctx CommandContext { main_prompt: RefCell { value: "indy" }, sub_prompts: RefCell { value: {1: "pool(p1)", 2: "wallet(wall)", 3: "did(V4S...e6f)"} }, is_exit: RefCell { value: false }, int_values: RefCell { value: {"OPENED_WALLET_HANDLE": 3, "CONNECTED_POOL_HANDLE": 2} }, string_values: RefCell { value: {"OPENED_WALLET_NAME": "wall", "ACTIVE_DID": "V4SGRU86Z58d6TV7PBUe6f", "CONNECTED_POOL_NAME": "p1"} } } params {"alias": "Node5", "services": "", "target": "4SWokCJWJc69Tn74VvLS6t2G2ucvXqM9FDMsWJjmsUxe"} INFO|indy::commands | src/commands/mod.rs:95 | LedgerCommand command received INFO|indy::commands | src/commands/mod.rs:95 | LedgerCommand command received TRACE|indy::services::pool | src/services/pool/mod.rs:293 | zmq poll 1 TRACE|indy::services::pool | src/services/pool/mod.rs:310 | cmd   123, 34, 105, 100, 101, 110, 116, 105, 102, 105, 101, 114, 34, 58, 34, 86, 52, 83, 71, 82, 85, 56, 54, 90, 53, 56, 100, 54, 84, 86, 55, 80, 66, 85, 101, 54, 102, 34, 44, 34, 111, 112, 101, 114, 97, 116, 105, 111, 110, 34, 58, 123, 34, 100, 97, 116, 97, 34, 58, 123, 34, 97, 108, 105, 97, 115, 34, 58, 34, 78, 111, 100, 101, 53, 34, 44, 34, 115, 101, 114, 118, 105, 99, 101, 115, 34, 58, 91, 93, 125, 44, 34, 100, 101, 115, 116, 34, 58, 34, 52, 83, 87, 111, 107, 67, 74, 87, 74, 99, 54, 57, 84, 110, 55, 52, 86, 118, 76, 83, 54, 116, 50, 71, 50, 117, 99, 118, 88, 113, 77, 57, 70, 68, 77, 115, 87, 74, 106, 109, 115, 85, 120, 101, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 48, 34, 125, 44, 34, 112, 114, 111, 116, 111, 99, 111, 108, 86, 101, 114, 115, 105, 111, 110, 34, 58, 49, 44, 34, 114, 101, 113, 73, 100, 34, 58, 49, 53, 49, 52, 57, 48, 57, 48, 49, 57, 53, 54, 51, 52, 48, 55, 50, 50, 57, 44, 34, 115, 105, 103, 110, 97, 116, 117, 114, 101, 34, 58, 34, 52, 99, 51, 107, 54, 86, 85, 117, 56, 56, 74, 112, 105, 53, 72, 121, 70, 82, 72, 98, 107, 110, 86, 86, 86, 76, 86, 86, 86, 98, 54, 120, 78, 101, 85, 88, 120, 56, 113, 50, 101, 52, 114, 54, 98, 114, 51, 122, 52, 111, 50, 116, 54, 85, 89, 83, 119, 114, 120, 51, 53, 49, 51, 54, 111, 86, 90, 118, 104, 53, 87, 115, 57, 89, 111, 101, 53, 98, 112, 105, 71, 51, 55, 98, 85, 81, 116, 90, 34, 125 ,  27, 0, 0, 0   INFO|indy::services::pool::transaction_handler|src/services/pool/transaction_handler.rs:161 | cmd "{\"identifier\":\"V4SGRU86Z58d6TV7PBUe6f\",\"operation\":{\"data\":{\"alias\":\"Node5\",\"services\":  },\"dest\":\"4SWokCJWJc69Tn74VvLS6t2G2ucvXqM9FDMsWJjmsUxe\",\"type\":\"0\"},\"protocolVersion\":1,\"reqId\":1514909019563407229,\"signature\":\"4c3k6VUu88Jpi5HyFRHbknVVVLVVVb6xNeUXx8q2e4r6br3z4o2t6UYSwrx35136oVZvh5Ws9Yoe5bpiG37bUQtZ\"}" INFO|indy::services::pool | src/services/pool/mod.rs:538 | Sending "{\"identifier\":\"V4SGRU86Z58d6TV7PBUe6f\",\"operation\":{\"data\":{\"alias\":\"Node5\",\"services\":  },\"dest\":\"4SWokCJWJc69Tn74VvLS6t2G2ucvXqM9FDMsWJjmsUxe\",\"type\":\"0\"},\"protocolVersion\":1,\"reqId\":1514909019563407229,\"signature\":\"4c3k6VUu88Jpi5HyFRHbknVVVLVVVb6xNeUXx8q2e4r6br3z4o2t6UYSwrx35136oVZvh5Ws9Yoe5bpiG37bUQtZ\"}" INFO|indy::services::pool | src/services/pool/mod.rs:538 | Sending "{\"identifier\":\"V4SGRU86Z58d6TV7PBUe6f\",\"operation\":{\"data\":{\"alias\":\"Node5\",\"services\":  },\"dest\":\"4SWokCJWJc69Tn74VvLS6t2G2ucvXqM9FDMsWJjmsUxe\",\"type\":\"0\"},\"protocolVersion\":1,\"reqId\":1514909019563407229,\"signature\":\"4c3k6VUu88Jpi5HyFRHbknVVVLVVVb6xNeUXx8q2e4r6br3z4o2t6UYSwrx35136oVZvh5Ws9Yoe5bpiG37bUQtZ\"}" INFO|indy::services::pool | src/services/pool/mod.rs:538 | Sending "{\"identifier\":\"V4SGRU86Z58d6TV7PBUe6f\",\"operation\":{\"data\":{\"alias\":\"Node5\",\"services\":  },\"dest\":\"4SWokCJWJc69Tn74VvLS6t2G2ucvXqM9FDMsWJjmsUxe\",\"type\":\"0\"},\"protocolVersion\":1,\"reqId\":1514909019563407229,\"signature\":\"4c3k6VUu88Jpi5HyFRHbknVVVLVVVb6xNeUXx8q2e4r6br3z4o2t6UYSwrx35136oVZvh5Ws9Yoe5bpiG37bUQtZ\"}" INFO|indy::services::pool | src/services/pool/mod.rs:538 | Sending "{\"identifier\":\"V4SGRU86Z58d6TV7PBUe6f\",\"operation\":{\"data\":{\"alias\":\"Node5\",\"services\":  },\"dest\":\"4SWokCJWJc69Tn74VvLS6t2G2ucvXqM9FDMsWJjmsUxe\",\"type\":\"0\"},\"protocolVersion\":1,\"reqId\":1514909019563407229,\"signature\":\"4c3k6VUu88Jpi5HyFRHbknVVVLVVVb6xNeUXx8q2e4r6br3z4o2t6UYSwrx35136oVZvh5Ws9Yoe5bpiG37bUQtZ\"}" INFO|indy::services::pool | src/services/pool/mod.rs:538 | Sending "{\"identifier\":\"V4SGRU86Z58d6TV7PBUe6f\",\"operation\":{\"data\":{\"alias\":\"Node5\",\"services\":  },\"dest\":\"4SWokCJWJc69Tn74VvLS6t2G2ucvXqM9FDMsWJjmsUxe\",\"type\":\"0\"},\"protocolVersion\":1,\"reqId\":1514909019563407229,\"signature\":\"4c3k6VUu88Jpi5HyFRHbknVVVLVVVb6xNeUXx8q2e4r6br3z4o2t6UYSwrx35136oVZvh5Ws9Yoe5bpiG37bUQtZ\"}" TRACE|indy::services::pool | src/services/pool/mod.rs:246 | zmq poll loop << TRACE|indy::services::pool | src/services/pool/mod.rs:240 | zmq poll loop >> TRACE|indy::services::pool | src/services/pool/mod.rs:348 | get_zmq_poll_timeout first_event Tm { tm_sec: 19, tm_min: 5, tm_hour: 16, tm_mday: 2, tm_mon: 0, tm_year: 118, tm_wday: 2, tm_yday: 1, tm_isdst: 0, tm_utcoff: 0, tm_nsec: 564551618 } TRACE|indy::services::pool | src/services/pool/mod.rs:349 | get_zmq_poll_timeout now_utc Tm { tm_sec: 39, tm_min: 3, tm_hour: 16, tm_mday: 2, tm_mon: 0, tm_year: 118, tm_wday: 2, tm_yday: 1, tm_isdst: 0, tm_utcoff: 0, tm_nsec: 564841583 } TRACE|indy::services::pool | src/services/pool/mod.rs:351 | get_zmq_poll_timeout diff Duration Duration { secs: 99, nanos: 999710035 } TRACE|indy::services::pool | src/services/pool/mod.rs:353 | get_zmq_poll_timeout diff ms 99999 TRACE|indy::services::pool | src/services/pool/mod.rs:293 | zmq poll 1 INFO|indy::services::pool | src/services/pool/mod.rs:532 | RemoteNode::recv_msg Node4 {"reqId":1514909019563407229,"identifier":"V4SGRU86Z58d6TV7PBUe6f","op":"REQACK"} WARN|indy::services::pool::transaction_handler|src/services/pool/transaction_handler.rs:56 | unhandled msg ReqACK(Response { req_id: 1514909019563407229 }) TRACE|indy::services::pool | src/services/pool/mod.rs:246 | zmq poll loop << TRACE|indy::services::pool | src/services/pool/mod.rs:240 | zmq poll loop >> TRACE|indy::services::pool | src/services/pool/mod.rs:348 | get_zmq_poll_timeout first_event Tm { tm_sec: 19, tm_min: 5, tm_hour: 16, tm_mday: 2, tm_mon: 0, tm_year: 118, tm_wday: 2, tm_yday: 1, tm_isdst: 0, tm_utcoff: 0, tm_nsec: 564551618 } TRACE|indy::services::pool | src/services/pool/mod.rs:349 | get_zmq_poll_timeout now_utc Tm { tm_sec: 39, tm_min: 3, tm_hour: 16, tm_mday: 2, tm_mon: 0, tm_year: 118, tm_wday: 2, tm_yday: 1, tm_isdst: 0, tm_utcoff: 0, tm_nsec: 570950711 } TRACE|indy::services::pool | src/services/pool/mod.rs:351 | get_zmq_poll_timeout diff Duration Duration { secs: 99, nanos: 993600907 } TRACE|indy::services::pool | src/services/pool/mod.rs:353 | get_zmq_poll_timeout diff ms 99993 TRACE|indy::services::pool | src/services/pool/mod.rs:293 | zmq poll 1 INFO|indy::services::pool | src/services/pool/mod.rs:532 | RemoteNode::recv_msg Node5 {"identifier":"V4SGRU86Z58d6TV7PBUe6f","reqId":1514909019563407229,"op":"REQACK"} WARN|indy::services::pool::transaction_handler|src/services/pool/transaction_handler.rs:56 | unhandled msg ReqACK(Response { req_id: 1514909019563407229 }) TRACE|indy::services::pool | src/services/pool/mod.rs:246 | zmq poll loop << TRACE|indy::services::pool | src/services/pool/mod.rs:240 | zmq poll loop >> TRACE|indy::services::pool | src/services/pool/mod.rs:348 | get_zmq_poll_timeout first_event Tm { tm_sec: 19, tm_min: 5, tm_hour: 16, tm_mday: 2, tm_mon: 0, tm_year: 118, tm_wday: 2, tm_yday: 1, tm_isdst: 0, tm_utcoff: 0, tm_nsec: 564551618 } TRACE|indy::services::pool | src/services/pool/mod.rs:349 | get_zmq_poll_timeout now_utc Tm { tm_sec: 39, tm_min: 3, tm_hour: 16, tm_mday: 2, tm_mon: 0, tm_year: 118, tm_wday: 2, tm_yday: 1, tm_isdst: 0, tm_utcoff: 0, tm_nsec: 572696973 } TRACE|indy::services::pool | src/services/pool/mod.rs:351 | get_zmq_poll_timeout diff Duration Duration { secs: 99, nanos: 991854645 } TRACE|indy::services::pool | src/services/pool/mod.rs:353 | get_zmq_poll_timeout diff ms 99991 TRACE|indy::services::pool | src/services/pool/mod.rs:293 | zmq poll 1 INFO|indy::services::pool | src/services/pool/mod.rs:532 | RemoteNode::recv_msg Node2 {"identifier":"V4SGRU86Z58d6TV7PBUe6f","reqId":1514909019563407229,"op":"REQACK"} WARN|indy::services::pool::transaction_handler|src/services/pool/transaction_handler.rs:56 | unhandled msg ReqACK(Response { req_id: 1514909019563407229 }) TRACE|indy::services::pool | src/services/pool/mod.rs:246 | zmq poll loop << TRACE|indy::services::pool | src/services/pool/mod.rs:240 | zmq poll loop >> TRACE|indy::services::pool | src/services/pool/mod.rs:348 | get_zmq_poll_timeout first_event Tm { tm_sec: 19, tm_min: 5, tm_hour: 16, tm_mday: 2, tm_mon: 0, tm_year: 118, tm_wday: 2, tm_yday: 1, tm_isdst: 0, tm_utcoff: 0, tm_nsec: 564551618 } TRACE|indy::services::pool | src/services/pool/mod.rs:349 | get_zmq_poll_timeout now_utc Tm { tm_sec: 39, tm_min: 3, tm_hour: 16, tm_mday: 2, tm_mon: 0, tm_year: 118, tm_wday: 2, tm_yday: 1, tm_isdst: 0, tm_utcoff: 0, tm_nsec: 586109051 } TRACE|indy::services::pool | src/services/pool/mod.rs:351 | get_zmq_poll_timeout diff Duration Duration { secs: 99, nanos: 978442567 } TRACE|indy::services::pool | src/services/pool/mod.rs:353 | get_zmq_poll_timeout diff ms 99978 TRACE|indy::services::pool | src/services/pool/mod.rs:293 | zmq poll 1 INFO|indy::services::pool | src/services/pool/mod.rs:532 | RemoteNode::recv_msg Node3 {"op":"REQACK","reqId":1514909019563407229,"identifier":"V4SGRU86Z58d6TV7PBUe6f"} WARN|indy::services::pool::transaction_handler|src/services/pool/transaction_handler.rs:56 | unhandled msg ReqACK(Response { req_id: 1514909019563407229 }) TRACE|indy::services::pool | src/services/pool/mod.rs:246 | zmq poll loop << TRACE|indy::services::pool | src/services/pool/mod.rs:240 | zmq poll loop >> TRACE|indy::services::pool | src/services/pool/mod.rs:348 | get_zmq_poll_timeout first_event Tm { tm_sec: 19, tm_min: 5, tm_hour: 16, tm_mday: 2, tm_mon: 0, tm_year: 118, tm_wday: 2, tm_yday: 1, tm_isdst: 0, tm_utcoff: 0, tm_nsec: 564551618 } TRACE|indy::services::pool | src/services/pool/mod.rs:349 | get_zmq_poll_timeout now_utc Tm { tm_sec: 39, tm_min: 3, tm_hour: 16, tm_mday: 2, tm_mon: 0, tm_year: 118, tm_wday: 2, tm_yday: 1, tm_isdst: 0, tm_utcoff: 0, tm_nsec: 589820023 } TRACE|indy::services::pool | src/services/pool/mod.rs:351 | get_zmq_poll_timeout diff Duration Duration { secs: 99, nanos: 974731595 } TRACE|indy::services::pool | src/services/pool/mod.rs:353 | get_zmq_poll_timeout diff ms 99974 TRACE|indy::services::pool | src/services/pool/mod.rs:293 | zmq poll 1 INFO|indy::services::pool | src/services/pool/mod.rs:532 | RemoteNode::recv_msg Node1 {"reqId":1514909019563407229,"identifier":"V4SGRU86Z58d6TV7PBUe6f","op":"REQACK"} WARN|indy::services::pool::transaction_handler|src/services/pool/transaction_handler.rs:56 | unhandled msg ReqACK(Response { req_id: 1514909019563407229 }) TRACE|indy::services::pool | src/services/pool/mod.rs:246 | zmq poll loop << TRACE|indy::services::pool | src/services/pool/mod.rs:240 | zmq poll loop >> TRACE|indy::services::pool | src/services/pool/mod.rs:348 | get_zmq_poll_timeout first_event Tm { tm_sec: 19, tm_min: 5, tm_hour: 16, tm_mday: 2, tm_mon: 0, tm_year: 118, tm_wday: 2, tm_yday: 1, tm_isdst: 0, tm_utcoff: 0, tm_nsec: 564551618 } TRACE|indy::services::pool | src/services/pool/mod.rs:349 | get_zmq_poll_timeout now_utc Tm { tm_sec: 39, tm_min: 3, tm_hour: 16, tm_mday: 2, tm_mon: 0, tm_year: 118, tm_wday: 2, tm_yday: 1, tm_isdst: 0, tm_utcoff: 0, tm_nsec: 606157267 } TRACE|indy::services::pool | src/services/pool/mod.rs:351 | get_zmq_poll_timeout diff Duration Duration { secs: 99, nanos: 958394351 } TRACE|indy::services::pool | src/services/pool/mod.rs:353 | get_zmq_poll_timeout diff ms 99958 TRACE|indy::services::pool | src/services/pool/mod.rs:293 | zmq poll 1 INFO|indy::services::pool | src/services/pool/mod.rs:532 | RemoteNode::recv_msg Node1 {"txn":{"signatures":null,"reqId":1514909019563407229,"txnTime":1514909019,"dest":"4SWokCJWJc69Tn74VvLS6t2G2ucvXqM9FDMsWJjmsUxe","type":"0","signature":"4c3k6VUu88Jpi5HyFRHbknVVVLVVVb6xNeUXx8q2e4r6br3z4o2t6UYSwrx35136oVZvh5Ws9Yoe5bpiG37bUQtZ","identifier":"V4SGRU86Z58d6TV7PBUe6f","seqNo":7,"data":{"services":  ,"alias":"Node5"}},"op":"POOL_LEDGER_TXNS"} TRACE|indy::services::pool::transaction_handler|src/services/pool/transaction_handler.rs:63 | TransactionHandler::process_reply: >>> req_id: 1514909019563407229, raw_msg: "{\"txn\":{\"signatures\":null,\"reqId\":1514909019563407229,\"txnTime\":1514909019,\"dest\":\"4SWokCJWJc69Tn74VvLS6t2G2ucvXqM9FDMsWJjmsUxe\",\"type\":\"0\",\"signature\":\"4c3k6VUu88Jpi5HyFRHbknVVVLVVVb6xNeUXx8q2e4r6br3z4o2t6UYSwrx35136oVZvh5Ws9Yoe5bpiG37bUQtZ\",\"identifier\":\"V4SGRU86Z58d6TV7PBUe6f\",\"seqNo\":7,\"data\":{\"services\":  ,\"alias\":\"Node5\"}},\"op\":\"POOL_LEDGER_TXNS\"}" TRACE|indy::services::pool::transaction_handler|src/services/pool/transaction_handler.rs:80 | TransactionHandler::process_reply: reply_cnt: 0, f: 2 DEBUG|indy::services::pool::transaction_handler|src/services/pool/transaction_handler.rs:83 | TransactionHandler::process_reply: Try to verify proof and signature TRACE|indy::services::pool::transaction_handler|src/services/pool/transaction_handler.rs:231 | TransactionHandler::parse_reply_for_proof_checking: >>> json_msg: Null TRACE|indy::services::pool::transaction_handler|src/services/pool/transaction_handler.rs:237 | TransactionHandler::parse_reply_for_proof_checking: <<< No type field DEBUG|indy::services::pool::transaction_handler|src/services/pool/transaction_handler.rs:116 | TransactionHandler::process_reply: consensus_reached false TRACE|indy::services::pool::transaction_handler|src/services/pool/transaction_handler.rs:133 | TransactionHandler::process_reply: <<< TRACE|indy::services::pool | src/services/pool/mod.rs:246 | zmq poll loop << TRACE|indy::services::pool | src/services/pool/mod.rs:240 | zmq poll loop >> TRACE|indy::services::pool | src/services/pool/mod.rs:348 | get_zmq_poll_timeout first_event Tm { tm_sec: 19, tm_min: 5, tm_hour: 16, tm_mday: 2, tm_mon: 0, tm_year: 118, tm_wday: 2, tm_yday: 1, tm_isdst: 0, tm_utcoff: 0, tm_nsec: 564551618 } TRACE|indy::services::pool | src/services/pool/mod.rs:349 | get_zmq_poll_timeout now_utc Tm { tm_sec: 39, tm_min: 3, tm_hour: 16, tm_mday: 2, tm_mon: 0, tm_year: 118, tm_wday: 2, tm_yday: 1, tm_isdst: 0, tm_utcoff: 0, tm_nsec: 751738578 } TRACE|indy::services::pool | src/services/pool/mod.rs:351 | get_zmq_poll_timeout diff Duration Duration { secs: 99, nanos: 812813040 } TRACE|indy::services::pool | src/services/pool/mod.rs:353 | get_zmq_poll_timeout diff ms 99812 TRACE|indy::services::pool | src/services/pool/mod.rs:293 | zmq poll 1 INFO|indy::services::pool | src/services/pool/mod.rs:532 | RemoteNode::recv_msg Node2 {"op":"POOL_LEDGER_TXNS","txn":{"seqNo":7,"data":{"alias":"Node5","services":  },"signatures":null,"reqId":1514909019563407229,"dest":"4SWokCJWJc69Tn74VvLS6t2G2ucvXqM9FDMsWJjmsUxe","identifier":"V4SGRU86Z58d6TV7PBUe6f","type":"0","txnTime":1514909019,"signature":"4c3k6VUu88Jpi5HyFRHbknVVVLVVVb6xNeUXx8q2e4r6br3z4o2t6UYSwrx35136oVZvh5Ws9Yoe5bpiG37bUQtZ"}} TRACE|indy::services::pool::transaction_handler|src/services/pool/transaction_handler.rs:63 | TransactionHandler::process_reply: >>> req_id: 1514909019563407229, raw_msg: "{\"op\":\"POOL_LEDGER_TXNS\",\"txn\":{\"seqNo\":7,\"data\":{\"alias\":\"Node5\",\"services\":  },\"signatures\":null,\"reqId\":1514909019563407229,\"dest\":\"4SWokCJWJc69Tn74VvLS6t2G2ucvXqM9FDMsWJjmsUxe\",\"identifier\":\"V4SGRU86Z58d6TV7PBUe6f\",\"type\":\"0\",\"txnTime\":1514909019,\"signature\":\"4c3k6VUu88Jpi5HyFRHbknVVVLVVVb6xNeUXx8q2e4r6br3z4o2t6UYSwrx35136oVZvh5Ws9Yoe5bpiG37bUQtZ\"}}" TRACE|indy::services::pool::transaction_handler|src/services/pool/transaction_handler.rs:80 | TransactionHandler::process_reply: reply_cnt: 1, f: 2 DEBUG|indy::services::pool::transaction_handler|src/services/pool/transaction_handler.rs:83 | TransactionHandler::process_reply: Try to verify proof and signature TRACE|indy::services::pool::transaction_handler|src/services/pool/transaction_handler.rs:231 | TransactionHandler::parse_reply_for_proof_checking: >>> json_msg: Null TRACE|indy::services::pool::transaction_handler|src/services/pool/transaction_handler.rs:237 | TransactionHandler::parse_reply_for_proof_checking: <<< No type field DEBUG|indy::services::pool::transaction_handler|src/services/pool/transaction_handler.rs:116 | TransactionHandler::process_reply: consensus_reached false TRACE|indy::services::pool::transaction_handler|src/services/pool/transaction_handler.rs:133 | TransactionHandler::process_reply: <<< TRACE|indy::services::pool | src/services/pool/mod.rs:246 | zmq poll loop << TRACE|indy::services::pool | src/services/pool/mod.rs:240 | zmq poll loop >> TRACE|indy::services::pool | src/services/pool/mod.rs:348 | get_zmq_poll_timeout first_event Tm { tm_sec: 19, tm_min: 5, tm_hour: 16, tm_mday: 2, tm_mon: 0, tm_year: 118, tm_wday: 2, tm_yday: 1, tm_isdst: 0, tm_utcoff: 0, tm_nsec: 564551618 } TRACE|indy::services::pool | src/services/pool/mod.rs:349 | get_zmq_poll_timeout now_utc Tm { tm_sec: 39, tm_min: 3, tm_hour: 16, tm_mday: 2, tm_mon: 0, tm_year: 118, tm_wday: 2, tm_yday: 1, tm_isdst: 0, tm_utcoff: 0, tm_nsec: 754471694 } TRACE|indy::services::pool | src/services/pool/mod.rs:351 | get_zmq_poll_timeout diff Duration Duration { secs: 99, nanos: 810079924 } TRACE|indy::services::pool | src/services/pool/mod.rs:353 | get_zmq_poll_timeout diff ms 99810 TRACE|indy::services::pool | src/services/pool/mod.rs:293 | zmq poll 1 INFO|indy::services::pool | src/services/pool/mod.rs:532 | RemoteNode::recv_msg Node5 {"txn":{"seqNo":7,"signatures":null,"signature":"4c3k6VUu88Jpi5HyFRHbknVVVLVVVb6xNeUXx8q2e4r6br3z4o2t6UYSwrx35136oVZvh5Ws9Yoe5bpiG37bUQtZ","identifier":"V4SGRU86Z58d6TV7PBUe6f","dest":"4SWokCJWJc69Tn74VvLS6t2G2ucvXqM9FDMsWJjmsUxe","txnTime":1514909019,"data":{"services":  ,"alias":"Node5"},"type":"0","reqId":1514909019563407229},"op":"POOL_LEDGER_TXNS"} TRACE|indy::services::pool::transaction_handler|src/services/pool/transaction_handler.rs:63 | TransactionHandler::process_reply: >>> req_id: 1514909019563407229, raw_msg: "{\"txn\":{\"seqNo\":7,\"signatures\":null,\"signature\":\"4c3k6VUu88Jpi5HyFRHbknVVVLVVVb6xNeUXx8q2e4r6br3z4o2t6UYSwrx35136oVZvh5Ws9Yoe5bpiG37bUQtZ\",\"identifier\":\"V4SGRU86Z58d6TV7PBUe6f\",\"dest\":\"4SWokCJWJc69Tn74VvLS6t2G2ucvXqM9FDMsWJjmsUxe\",\"txnTime\":1514909019,\"data\":{\"services\":  ,\"alias\":\"Node5\"},\"type\":\"0\",\"reqId\":1514909019563407229},\"op\":\"POOL_LEDGER_TXNS\"}" TRACE|indy::services::pool::transaction_handler|src/services/pool/transaction_handler.rs:80 | TransactionHandler::process_reply: reply_cnt: 2, f: 2 DEBUG|indy::services::pool::transaction_handler|src/services/pool/transaction_handler.rs:116 | TransactionHandler::process_reply: consensus_reached true TRACE|indy::services::pool::transaction_handler|src/services/pool/transaction_handler.rs:133 | TransactionHandler::process_reply: <<< TRACE|indy::services::pool | src/services/pool/mod.rs:246 | zmq poll loop << TRACE|indy::services::pool | src/services/pool/mod.rs:240 | zmq poll loop >> INFO|indy::commands | src/commands/mod.rs:95 | LedgerCommand command received Invalid data has been received: ErrorImpl { code: Message("unknown variant `POOL_LEDGER_TXNS`, expected one of `REQNACK`, `REPLY`, `REJECT`"), line: 1, column: 354 } pool(p1):wallet(wall):did(V4S...e6f):indy> TRACE|indy::services::pool | src/services/pool/mod.rs:293 | zmq poll 1 INFO|indy::services::pool | src/services/pool/mod.rs:532 | RemoteNode::recv_msg Node1 {"result":{"signatures":null,"reqId":1514909019563407229,"txnTime":1514909019,"dest":"4SWokCJWJc69Tn74VvLS6t2G2ucvXqM9FDMsWJjmsUxe","rootHash":"JCQnZa4oN5ZXvWb2RXh8PbopM2oxBHmEXYuWRz5dt9X1","type":"0","signature":"4c3k6VUu88Jpi5HyFRHbknVVVLVVVb6xNeUXx8q2e4r6br3z4o2t6UYSwrx35136oVZvh5Ws9Yoe5bpiG37bUQtZ","identifier":"V4SGRU86Z58d6TV7PBUe6f","data":{"services":  ,"alias":"Node5"},"seqNo":7,"auditPath": "8rKHMACvRVKBbv5Ut3GZX8FBmUNdiHCr7wwYaz7zGL8m","EXpY2StrjRki5N46aMDdjbwBPfZUz1AnLQupuVa1Tnwk" },"op":"REPLY"} TRACE|indy::services::pool::transaction_handler|src/services/pool/transaction_handler.rs:63 | TransactionHandler::process_reply: >>> req_id: 1514909019563407229, raw_msg: "{\"result\":{\"signatures\":null,\"reqId\":1514909019563407229,\"txnTime\":1514909019,\"dest\":\"4SWokCJWJc69Tn74VvLS6t2G2ucvXqM9FDMsWJjmsUxe\",\"rootHash\":\"JCQnZa4oN5ZXvWb2RXh8PbopM2oxBHmEXYuWRz5dt9X1\",\"type\":\"0\",\"signature\":\"4c3k6VUu88Jpi5HyFRHbknVVVLVVVb6xNeUXx8q2e4r6br3z4o2t6UYSwrx35136oVZvh5Ws9Yoe5bpiG37bUQtZ\",\"identifier\":\"V4SGRU86Z58d6TV7PBUe6f\",\"data\":{\"services\":  ,\"alias\":\"Node5\"},\"seqNo\":7,\"auditPath\": \"8rKHMACvRVKBbv5Ut3GZX8FBmUNdiHCr7wwYaz7zGL8m\",\"EXpY2StrjRki5N46aMDdjbwBPfZUz1AnLQupuVa1Tnwk\" },\"op\":\"REPLY\"}" WARN|indy::services::pool::transaction_handler|src/services/pool/transaction_handler.rs:66 | TransactionHandler::process_reply: <<< No pending command for request TRACE|indy::services::pool | src/services/pool/mod.rs:246 | zmq poll loop << TRACE|indy::services::pool | src/services/pool/mod.rs:240 | zmq poll loop >> TRACE|indy::services::pool | src/services/pool/mod.rs:293 | zmq poll 1 INFO|indy::services::pool | src/services/pool/mod.rs:532 | RemoteNode::recv_msg Node5 {"op":"REPLY","result":{"seqNo":7,"signatures":null,"signature":"4c3k6VUu88Jpi5HyFRHbknVVVLVVVb6xNeUXx8q2e4r6br3z4o2t6UYSwrx35136oVZvh5Ws9Yoe5bpiG37bUQtZ","auditPath": "8rKHMACvRVKBbv5Ut3GZX8FBmUNdiHCr7wwYaz7zGL8m","EXpY2StrjRki5N46aMDdjbwBPfZUz1AnLQupuVa1Tnwk" ,"identifier":"V4SGRU86Z58d6TV7PBUe6f","dest":"4SWokCJWJc69Tn74VvLS6t2G2ucvXqM9FDMsWJjmsUxe","rootHash":"JCQnZa4oN5ZXvWb2RXh8PbopM2oxBHmEXYuWRz5dt9X1","txnTime":1514909019,"data":{"services":  ,"alias":"Node5"},"type":"0","reqId":1514909019563407229}} TRACE|indy::services::pool::transaction_handler|src/services/pool/transaction_handler.rs:63 | TransactionHandler::process_reply: >>> req_id: 1514909019563407229, raw_msg: "{\"op\":\"REPLY\",\"result\":{\"seqNo\":7,\"signatures\":null,\"signature\":\"4c3k6VUu88Jpi5HyFRHbknVVVLVVVb6xNeUXx8q2e4r6br3z4o2t6UYSwrx35136oVZvh5Ws9Yoe5bpiG37bUQtZ\",\"auditPath\": \"8rKHMACvRVKBbv5Ut3GZX8FBmUNdiHCr7wwYaz7zGL8m\",\"EXpY2StrjRki5N46aMDdjbwBPfZUz1AnLQupuVa1Tnwk\" ,\"identifier\":\"V4SGRU86Z58d6TV7PBUe6f\",\"dest\":\"4SWokCJWJc69Tn74VvLS6t2G2ucvXqM9FDMsWJjmsUxe\",\"rootHash\":\"JCQnZa4oN5ZXvWb2RXh8PbopM2oxBHmEXYuWRz5dt9X1\",\"txnTime\":1514909019,\"data\":{\"services\":  ,\"alias\":\"Node5\"},\"type\":\"0\",\"reqId\":1514909019563407229}}" WARN|indy::services::pool::transaction_handler|src/services/pool/transaction_handler.rs:66 | TransactionHandler::process_reply: <<< No pending command for request TRACE|indy::services::pool | src/services/pool/mod.rs:246 | zmq poll loop << TRACE|indy::services::pool | src/services/pool/mod.rs:240 | zmq poll loop >> TRACE|indy::services::pool | src/services/pool/mod.rs:293 | zmq poll 1 INFO|indy::services::pool | src/services/pool/mod.rs:532 | RemoteNode::recv_msg Node3 {"op":"POOL_LEDGER_TXNS","txn":{"signatures":null,"identifier":"V4SGRU86Z58d6TV7PBUe6f","type":"0","seqNo":7,"dest":"4SWokCJWJc69Tn74VvLS6t2G2ucvXqM9FDMsWJjmsUxe","reqId":1514909019563407229,"txnTime":1514909019,"signature":"4c3k6VUu88Jpi5HyFRHbknVVVLVVVb6xNeUXx8q2e4r6br3z4o2t6UYSwrx35136oVZvh5Ws9Yoe5bpiG37bUQtZ","data":{"alias":"Node5","services":  }}} TRACE|indy::services::pool::transaction_handler|src/services/pool/transaction_handler.rs:63 | TransactionHandler::process_reply: >>> req_id: 1514909019563407229, raw_msg: "{\"op\":\"POOL_LEDGER_TXNS\",\"txn\":{\"signatures\":null,\"identifier\":\"V4SGRU86Z58d6TV7PBUe6f\",\"type\":\"0\",\"seqNo\":7,\"dest\":\"4SWokCJWJc69Tn74VvLS6t2G2ucvXqM9FDMsWJjmsUxe\",\"reqId\":1514909019563407229,\"txnTime\":1514909019,\"signature\":\"4c3k6VUu88Jpi5HyFRHbknVVVLVVVb6xNeUXx8q2e4r6br3z4o2t6UYSwrx35136oVZvh5Ws9Yoe5bpiG37bUQtZ\",\"data\":{\"alias\":\"Node5\",\"services\":  }}}" WARN|indy::services::pool::transaction_handler|src/services/pool/transaction_handler.rs:66 | TransactionHandler::process_reply: <<< No pending command for request TRACE|indy::services::pool | src/services/pool/mod.rs:246 | zmq poll loop << TRACE|indy::services::pool | src/services/pool/mod.rs:240 | zmq poll loop >> TRACE|indy::services::pool | src/services/pool/mod.rs:293 | zmq poll 1 INFO|indy::services::pool | src/services/pool/mod.rs:532 | RemoteNode::recv_msg Node3 {"result":{"txnTime":1514909019,"auditPath": "8rKHMACvRVKBbv5Ut3GZX8FBmUNdiHCr7wwYaz7zGL8m","EXpY2StrjRki5N46aMDdjbwBPfZUz1AnLQupuVa1Tnwk" ,"identifier":"V4SGRU86Z58d6TV7PBUe6f","type":"0","seqNo":7,"dest":"4SWokCJWJc69Tn74VvLS6t2G2ucvXqM9FDMsWJjmsUxe","reqId":1514909019563407229,"signatures":null,"rootHash":"JCQnZa4oN5ZXvWb2RXh8PbopM2oxBHmEXYuWRz5dt9X1","signature":"4c3k6VUu88Jpi5HyFRHbknVVVLVVVb6xNeUXx8q2e4r6br3z4o2t6UYSwrx35136oVZvh5Ws9Yoe5bpiG37bUQtZ","data":{"alias":"Node5","services":  }},"op":"REPLY"} TRACE|indy::services::pool::transaction_handler|src/services/pool/transaction_handler.rs:63 | TransactionHandler::process_reply: >>> req_id: 1514909019563407229, raw_msg: "{\"result\":{\"txnTime\":1514909019,\"auditPath\": \"8rKHMACvRVKBbv5Ut3GZX8FBmUNdiHCr7wwYaz7zGL8m\",\"EXpY2StrjRki5N46aMDdjbwBPfZUz1AnLQupuVa1Tnwk\" ,\"identifier\":\"V4SGRU86Z58d6TV7PBUe6f\",\"type\":\"0\",\"seqNo\":7,\"dest\":\"4SWokCJWJc69Tn74VvLS6t2G2ucvXqM9FDMsWJjmsUxe\",\"reqId\":1514909019563407229,\"signatures\":null,\"rootHash\":\"JCQnZa4oN5ZXvWb2RXh8PbopM2oxBHmEXYuWRz5dt9X1\",\"signature\":\"4c3k6VUu88Jpi5HyFRHbknVVVLVVVb6xNeUXx8q2e4r6br3z4o2t6UYSwrx35136oVZvh5Ws9Yoe5bpiG37bUQtZ\",\"data\":{\"alias\":\"Node5\",\"services\":  }},\"op\":\"REPLY\"}" WARN|indy::services::pool::transaction_handler|src/services/pool/transaction_handler.rs:66 | TransactionHandler::process_reply: <<< No pending command for request TRACE|indy::services::pool | src/services/pool/mod.rs:246 | zmq poll loop << TRACE|indy::services::pool | src/services/pool/mod.rs:240 | zmq poll loop >> TRACE|indy::services::pool | src/services/pool/mod.rs:293 | zmq poll 1 INFO|indy::services::pool | src/services/pool/mod.rs:532 | RemoteNode::recv_msg Node2 {"result":{"seqNo":7,"rootHash":"JCQnZa4oN5ZXvWb2RXh8PbopM2oxBHmEXYuWRz5dt9X1","data":{"alias":"Node5","services":  },"signatures":null,"auditPath": "8rKHMACvRVKBbv5Ut3GZX8FBmUNdiHCr7wwYaz7zGL8m","EXpY2StrjRki5N46aMDdjbwBPfZUz1AnLQupuVa1Tnwk" ,"reqId":1514909019563407229,"dest":"4SWokCJWJc69Tn74VvLS6t2G2ucvXqM9FDMsWJjmsUxe","identifier":"V4SGRU86Z58d6TV7PBUe6f","type":"0","txnTime":1514909019,"signature":"4c3k6VUu88Jpi5HyFRHbknVVVLVVVb6xNeUXx8q2e4r6br3z4o2t6UYSwrx35136oVZvh5Ws9Yoe5bpiG37bUQtZ"},"op":"REPLY"} TRACE|indy::services::pool::transaction_handler|src/services/pool/transaction_handler.rs:63 | TransactionHandler::process_reply: >>> req_id: 1514909019563407229, raw_msg: "{\"result\":{\"seqNo\":7,\"rootHash\":\"JCQnZa4oN5ZXvWb2RXh8PbopM2oxBHmEXYuWRz5dt9X1\",\"data\":{\"alias\":\"Node5\",\"services\":  },\"signatures\":null,\"auditPath\": \"8rKHMACvRVKBbv5Ut3GZX8FBmUNdiHCr7wwYaz7zGL8m\",\"EXpY2StrjRki5N46aMDdjbwBPfZUz1AnLQupuVa1Tnwk\" ,\"reqId\":1514909019563407229,\"dest\":\"4SWokCJWJc69Tn74VvLS6t2G2ucvXqM9FDMsWJjmsUxe\",\"identifier\":\"V4SGRU86Z58d6TV7PBUe6f\",\"type\":\"0\",\"txnTime\":1514909019,\"signature\":\"4c3k6VUu88Jpi5HyFRHbknVVVLVVVb6xNeUXx8q2e4r6br3z4o2t6UYSwrx35136oVZvh5Ws9Yoe5bpiG37bUQtZ\"},\"op\":\"REPLY\"}" WARN|indy::services::pool::transaction_handler|src/services/pool/transaction_handler.rs:66 | TransactionHandler::process_reply: <<< No pending command for request TRACE|indy::services::pool | src/services/pool/mod.rs:246 | zmq poll loop << TRACE|indy::services::pool | src/services/pool/mod.rs:240 | zmq poll loop >> TRACE|indy::services::pool | src/services/pool/mod.rs:293 | zmq poll 1 INFO|indy::services::pool | src/services/pool/mod.rs:532 | RemoteNode::recv_msg Node4 {"txn":{"txnTime":1514909019,"reqId":1514909019563407229,"seqNo":7,"signatures":null,"signature":"4c3k6VUu88Jpi5HyFRHbknVVVLVVVb6xNeUXx8q2e4r6br3z4o2t6UYSwrx35136oVZvh5Ws9Yoe5bpiG37bUQtZ","dest":"4SWokCJWJc69Tn74VvLS6t2G2ucvXqM9FDMsWJjmsUxe","type":"0","data":{"services":  ,"alias":"Node5"},"identifier":"V4SGRU86Z58d6TV7PBUe6f"},"op":"POOL_LEDGER_TXNS"} TRACE|indy::services::pool::transaction_handler|src/services/pool/transaction_handler.rs:63 | TransactionHandler::process_reply: >>> req_id: 1514909019563407229, raw_msg: "{\"txn\":{\"txnTime\":1514909019,\"reqId\":1514909019563407229,\"seqNo\":7,\"signatures\":null,\"signature\":\"4c3k6VUu88Jpi5HyFRHbknVVVLVVVb6xNeUXx8q2e4r6br3z4o2t6UYSwrx35136oVZvh5Ws9Yoe5bpiG37bUQtZ\",\"dest\":\"4SWokCJWJc69Tn74VvLS6t2G2ucvXqM9FDMsWJjmsUxe\",\"type\":\"0\",\"data\":{\"services\":  ,\"alias\":\"Node5\"},\"identifier\":\"V4SGRU86Z58d6TV7PBUe6f\"},\"op\":\"POOL_LEDGER_TXNS\"}" WARN|indy::services::pool::transaction_handler|src/services/pool/transaction_handler.rs:66 | TransactionHandler::process_reply: <<< No pending command for request TRACE|indy::services::pool | src/services/pool/mod.rs:246 | zmq poll loop << TRACE|indy::services::pool | src/services/pool/mod.rs:240 | zmq poll loop >> TRACE|indy::services::pool | src/services/pool/mod.rs:293 | zmq poll 1 INFO|indy::services::pool | src/services/pool/mod.rs:532 | RemoteNode::recv_msg Node4 {"op":"REPLY","result":{"txnTime":1514909019,"reqId":1514909019563407229,"seqNo":7,"signatures":null,"rootHash":"JCQnZa4oN5ZXvWb2RXh8PbopM2oxBHmEXYuWRz5dt9X1","auditPath": "8rKHMACvRVKBbv5Ut3GZX8FBmUNdiHCr7wwYaz7zGL8m","EXpY2StrjRki5N46aMDdjbwBPfZUz1AnLQupuVa1Tnwk" ,"dest":"4SWokCJWJc69Tn74VvLS6t2G2ucvXqM9FDMsWJjmsUxe","type":"0","data":{"services":  ,"alias":"Node5"},"identifier":"V4SGRU86Z58d6TV7PBUe6f","signature":"4c3k6VUu88Jpi5HyFRHbknVVVLVVVb6xNeUXx8q2e4r6br3z4o2t6UYSwrx35136oVZvh5Ws9Yoe5bpiG37bUQtZ"}} TRACE|indy::services::pool::transaction_handler|src/services/pool/transaction_handler.rs:63 | TransactionHandler::process_reply: >>> req_id: 1514909019563407229, raw_msg: "{\"op\":\"REPLY\",\"result\":{\"txnTime\":1514909019,\"reqId\":1514909019563407229,\"seqNo\":7,\"signatures\":null,\"rootHash\":\"JCQnZa4oN5ZXvWb2RXh8PbopM2oxBHmEXYuWRz5dt9X1\",\"auditPath\": \"8rKHMACvRVKBbv5Ut3GZX8FBmUNdiHCr7wwYaz7zGL8m\",\"EXpY2StrjRki5N46aMDdjbwBPfZUz1AnLQupuVa1Tnwk\" ,\"dest\":\"4SWokCJWJc69Tn74VvLS6t2G2ucvXqM9FDMsWJjmsUxe\",\"type\":\"0\",\"data\":{\"services\":  ,\"alias\":\"Node5\"},\"identifier\":\"V4SGRU86Z58d6TV7PBUe6f\",\"signature\":\"4c3k6VUu88Jpi5HyFRHbknVVVLVVVb6xNeUXx8q2e4r6br3z4o2t6UYSwrx35136oVZvh5Ws9Yoe5bpiG37bUQtZ\"}}" WARN|indy::services::pool::transaction_handler|src/services/pool/transaction_handler.rs:66 | TransactionHandler::process_reply: <<< No pending command for request TRACE|indy::services::pool | src/services/pool/mod.rs:246 | zmq poll loop << TRACE|indy::services::pool |{code}    ></description> </Issue>
