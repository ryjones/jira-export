<Issue id="28992" key="FABCJ-108" number="108" project="11208" reporter="sanchezl" creator="sanchezl" type="10000" summary="simplified javaenv image" priority="3" resolution="10000" status="6" created="2018-03-29 14:34:47.0" updated="2019-11-30 21:10:29.0" resolutiondate="2018-09-23 20:05:32.0" votes="0" watches="7" workflowId="56723"> <description><! CDATA This task will provide a simplified {{javaenv}} for running Java chaincode. {panel: bgColor=LightCyan} *Note:* This design is subject to change as work begins in earnest on enabling official support for Java chaincode in Fabric v1.2. It is currently needed to get the Java chaincode into a working state before the work can continue. {panel} With this change, the chaincode developer has freedom to write chaincode using using whatever tools the developer prefers as long as: # The chaincode is written using the Fabric chaincode shim that has been published to a public binary repository such as Maven Central or JCenter. # The chaincode developer builds his chaincode and packages it into an archive file. This archive file must contain all files needed to run the chaincode in a {{/chaincode}} directory and an executable at {{/chaincode/chaincode}} that starts the chaincode.  These requirements are easily met, for example, using Gradle or Maven.   h2. Chaincode Installation  The {{peer chaincode install}} command would simply take the developer’s chaincode archive ({{tar.gz}}) and install it on a peer.  h2. Chaincode Instantiation  h3. Chaincode Build  To build the chaincode image, the chaincode archive is simply unpacked into the root ({{/}}) directory of an image based on {{hyperledger/fabric-javaenv}}. No compilation of Java code is needed.  h3. Chaincode Image  The {{hyperledger/fabric-javaenv}} image  would be simplified. It’s {{Dockerfile}} would simply be:  {code} FROM ibmjava:8-sdk ENV PATH /chaincode/bin:$PATH {code}  The Dockerfile for the chaincode image itself would be:  {code} FROM hyperledger/fabric-javaenv ADD codepackage.tgz / {code}   ></description> </Issue>
