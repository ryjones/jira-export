<Issue id="41559" key="FABCJ-31" number="31" project="11208" reporter="mbwhite" creator="mbwhite" type="10000" summary="To improve the size and performance of the JavaEnv docker image" priority="3" resolution="10200" status="6" created="2019-08-01 09:22:43.0" updated="2019-11-30 21:10:14.0" resolutiondate="2019-10-15 14:00:27.0" votes="0" watches="1" workflowId="56646"> <description><! CDATA The fabric-chaincode-docker folder contains the code to build the docker image that is then used to both build and run the chaincode itself. * the 'start' script is the one that is called to run the chaincode. The peer calls this with arguments that results in this command 'java -jar $APP_HOME/chaincode/chaincode.jar <args> * the 'build.sh' script will run inside the container to compile the Java code. This is the one that detects and make assumptions about how the Gradle and or Maven builds will be run. * the dockerfile itself is the image that is run and pulls in   ** It also installs a number of version of shim locally ** It also runs various sanity checks to make sure that code can compile     It would be preferable if  * the dockerfile included only was really required to running and building chaincode ** Therefore all the sanity checks should be done on a properly built docker file not during it's constructuion * The build.sh script picks fixed versions of gradle and maven; this precludes you from being able to put your own gradle wrapper in a contract project and use that.. so that means you are limited in say not being able to use JUnit 5 as that prereqs Gradle 5. * If you've already supplied a JAR file prebuilt - this won't be used. If one is present already (with a defined name and place for example) this should be detected and used.   ></description> </Issue>
