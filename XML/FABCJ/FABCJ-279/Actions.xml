<Action id="68257" issue="44371" author="heatherp" type="comment" created="2020-03-09 14:00:47.0" updateauthor="heatherp" updated="2020-03-09 14:00:47.0"> <body><! CDATA Hi  ~ymlbright  the JVM encoding is set to UTF-8 by default. The getStringState() specifies UTF_8 already, see here:  https://github.com/hyperledger/fabric-chaincode-java/blob/release-1.4/fabric-chaincode-shim/src/main/java/org/hyperledger/fabric/shim/ChaincodeStub.java#L636|https://github.com/hyperledger/fabric-chaincode-java/blob/release-1.4/fabric-chaincode-shim/src/main/java/org/hyperledger/fabric/shim/ChaincodeStub.java#L628    Can you show us your putState() code please?  ></body> </Action>
<Action id="68263" issue="44371" author="ymlbright" type="comment" created="2020-03-09 16:23:48.0" updateauthor="ymlbright" updated="2020-03-09 16:23:48.0"> <body><! CDATA Hi  ~heatherp , I had checked it in version 1.4.2, the JVM default encoding is ANSI. Here is the output of 'java -XshowSettings' in javaenv container: {code:java} ... Property settings:   file.encoding = ANSI_X3.4-1968 ...{code} The value stored in ledger is right, I think it may be caused by this function 'newSuccessResponse' which arguments is 'val.getBytes()'. Besides, If we write a log through `val.getBytes()`, it will also show '??' in chaincode container stdout.  ></body> </Action>
<Action id="68333" issue="44371" author="mbwhite" type="comment" created="2020-03-16 15:54:43.0" updateauthor="mbwhite" updated="2020-03-16 15:54:43.0"> <body><! CDATA Admit that I didn't know about -XshowSettings - very useful indeed, Learn something new every day  I've run the same test on 1.4.2, and the latest 1.4 image. I've reproduced the problem on 1.4.2  But the 1.4 and 2.0 javaenv images return UTF-8.     Fixed in latest version :)  ></body> </Action>
<Action id="68334" issue="44371" author="mbwhite" type="comment" body="Fixed in latest versions of the javaenv image. " created="2020-03-16 15:55:19.0" updateauthor="mbwhite" updated="2020-03-16 15:55:19.0"/>
<Action id="68362" issue="44371" author="ymlbright" type="comment" body="Thanks  ~mbwhite (y)" created="2020-03-17 02:14:52.0" updateauthor="ymlbright" updated="2020-03-17 02:14:52.0"/>
