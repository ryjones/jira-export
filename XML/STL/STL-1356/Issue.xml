<Issue id="31850" key="STL-1356" number="1356" project="10001" reporter="shresthi" assignee="amundson" creator="shresthi" type="10004" summary="Intkey workload command run in endless loop with wrong URL. " priority="3" status="10100" created="2018-07-13 06:50:35.0" updated="2019-05-21 14:33:57.0" votes="0" watches="1" workflowId="31877"> <description><! CDATA Intkey workload command run in endless loop with wrong URL.    *Pre-condition:*                 All required services/ processes are running.   *Actual behavior*:               Intkey workload command run in endless loop with wrong URL  *Expected behavior:*             It should give error as specified below without running in endless loop.  val@cosmos-desktop:~$ sawtooth state list --url http://localhost:8008 Error: Unable to connect to "http://<Wrong URL>:8008": make sure URL is correct   *Steps to reproduce*:   # Run command: intkey workload -d 1 --rate 1 --url http://<Wrong URL>:8008 # Observe  *Error in logs:*  val@cosmos-desktop:~$ intkey workload -d 10 --rate 10 --url http://localhost:8008  11:59:29 WARNING intkey_workload  Unable to connect to "http://localhost:8008": make sure URL is correct  11:59:30 WARNING intkey_workload  Unable to connect to "http://localhost:8008": make sure URL is correct  11:59:30 ERROR   base_events  Future exception was never retrieved future: <Future finished exception=TypeError("'NoneType' object is not iterable",)> Traceback (most recent call last): File "/usr/lib/python3.5/concurrent/futures/thread.py", line 55, in run result = self.fn(*self.args, **self.kwargs) File "/usr/lib/python3/dist-packages/sawtooth_intkey/client_cli/workload/workload_generator.py", line 167, in _check_on_batch self._workload.on_all_batches_committed() File "/usr/lib/python3/dist-packages/sawtooth_intkey/client_cli/intkey_workload.py", line 131, in on_all_batches_committed self._create_new_key() File "/usr/lib/python3/dist-packages/sawtooth_intkey/client_cli/intkey_workload.py", line 196, in _create_new_key auth_info=self._auth_info) TypeError: 'NoneType' object is not iterable  11:59:30 WARNING intkey_workload  Unable to connect to "http://localhost:8008": make sure URL is correct  11:59:30 WARNING intkey_workload  Unable to connect to "http://localhost:8008": make sure URL is correct  11:59:30 WARNING intkey_workload  Unable to connect to "http://localhost:8008": make sure URL is correct  11:59:30 WARNING intkey_workload  Unable to connect to "http://localhost:8008": make sure URL is correct  11:59:30 ERROR   base_events  Future exception was never retrieved future: <Future finished exception=TypeError("'NoneType' object is not iterable",)>  ></description> </Issue>
