<Issue id="27640" key="STL-1053" number="1053" project="10001" reporter="pschwarz" assignee="amolk" creator="pschwarz" type="10004" summary="REST API loses ZMQ Connectivity without recovering" priority="3" resolution="10000" status="10001" created="2018-02-12 16:10:47.0" updated="2018-05-15 04:01:49.0" resolutiondate="2018-05-15 04:01:49.0" votes="0" watches="2" workflowId="27641"> <description><! CDATA {code:java} #033 31m 2018-01-19 14:52:38.808 ERROR web_protocol #033 0m #033 37mError handling request Traceback (most recent call last): File "/usr/lib/python3/dist-packages/aiohttp/web_protocol.py", line 416, in start resp = yield from self._request_handler(request) File "/usr/lib/python3/dist-packages/aiohttp/web.py", line 323, in _handle resp = yield from handler(request) File "/usr/lib/python3/dist-packages/sawtooth_rest_api/route_handlers.py", line 169, in submit_batches error_traps) File "/usr/lib/python3/dist-packages/sawtooth_rest_api/route_handlers.py", line 588, in _query_validator response = await self._send_request(request_type, payload_bytes) File "/usr/lib/python3/dist-packages/sawtooth_rest_api/route_handlers.py", line 607, in _send_request timeout=self._timeout) File "/usr/lib/python3/dist-packages/sawtooth_rest_api/messaging.py", line 271, in send message_type, message_content, timeout=timeout) File "/usr/lib/python3/dist-packages/sawtooth_rest_api/messaging.py", line 165, in send await self._socket.send_multipart( message.SerializeToString() ) File "/usr/lib/python3.5/asyncio/futures.py", line 361, in __iter__ yield self # This tells Task to wait for completion. File "/usr/lib/python3.5/asyncio/tasks.py", line 296, in _wakeup future.result() File "/usr/lib/python3.5/asyncio/futures.py", line 274, in result raise self._exception File "/usr/lib/python3/dist-packages/zmq/eventloop/future.py", line 276, in _handle_send result = send(msg, **kwargs) File "/usr/lib/python3/dist-packages/zmq/sugar/socket.py", line 331, in send_multipart return self.send(msg_parts -1 , flags, copy=copy, track=track) File "zmq/backend/cython/socket.pyx", line 617, in zmq.backend.cython.socket.Socket.send (zmq/backend/cython/socket.c:6625) File "zmq/backend/cython/socket.pyx", line 664, in zmq.backend.cython.socket.Socket.send (zmq/backend/cython/socket.c:6363) File "zmq/backend/cython/socket.pyx", line 199, in zmq.backend.cython.socket._send_copy (zmq/backend/cython/socket.c:2492) File "zmq/backend/cython/checkrc.pxd", line 19, in zmq.backend.cython.checkrc._check_rc (zmq/backend/cython/socket.c:7384) zmq.error.Again: Resource temporarily unavailable#033 0m {code}  ></description> </Issue>
