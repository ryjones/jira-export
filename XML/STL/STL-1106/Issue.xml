<Issue id="28197" key="STL-1106" number="1106" project="10001" reporter="boydjohnson" assignee="drozd" creator="boydjohnson" type="10004" summary="Parallel scheduler doesn&apos;t handle checks for predecessors of predecessors of ... correctly" priority="3" resolution="10000" status="10001" created="2018-03-02 19:00:55.0" updated="2018-03-13 13:43:36.0" resolutiondate="2018-03-13 13:43:36.0" votes="0" watches="1" workflowId="28200"> <description><! CDATA  https://github.com/hyperledger/sawtooth-core/pull/1468  This PR includes yaml scheduler tests that show the behavior. In ParallelScheduler._get_initial_state_for_transaction, the check in predecessor_not_in_chain builds up predecessors of the transactions whose state is included for the current txn and then doesn't add any predecessors of these transactions. The correct check should probably be that not only predecessors of these transactions but any predecessor of a predecessor (and so on) should not be included.  There is a second incorrect check surrounding "replay of successors", and txn is a "successor that needs to be replayed" if it is any predecessor of a predecessor (and so on) not just a predecessor.  ></description> </Issue>
