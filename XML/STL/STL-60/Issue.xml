<Issue id="16275" key="STL-60" number="60" project="10001" reporter="mfford" assignee="agunde" creator="mfford" type="10006" summary="Implement direct send of messages from peer to peer by routing the message across the network topology" description="In order to reduce message volume on the network, it is advantageous to perform direct delivery of messages between peers in certain cases. For example, if a node broadcasts a REQUEST message for a missing Block, it is preferable for the reply to be sent from the replying node to the requesting node, rather than being broadcast across the network. Define a mechanism for the routed delivery of a message across the network topology. This should initially support network endpoints as specified by a ZMQ style URI string. Future enhancements may include peer addressing by other information stored in the network topology. For now, let’s assume that the pattern is REQUEST/reply where the REQUEST message will contain the requesting peer’s endpoint. The node initiating the direct send inspects its current view of the network topology and does a bidirectional search with itself and the destination node as the endpoints in order to find the shortest path. The node initiating the direct send then sends the payload wrapped in a send message format which contains the destination address and a time-to-live (TTL) value. Upon receipt, each node that is not the destination node performs a topology search based on its own view of the world and forwards it on along the shortest path while decrementing the TTL. Within a short number of hops (bounded by the network diameter), the message should arrive at the destination. Acknowledgements are (probably?) not required. However, if a node cannot find a path to the destination based on its view of the topology, it should make an effort to return an Error response back along the path so that a retry can be attempted. A potential future enhancement is to do source based routing (where the shortest path is calculated once by the sending node and then wrapper messages are added for each node in the routing path to handle)." priority="3" status="10404" created="2017-05-03 19:16:05.0" updated="2021-03-01 20:08:37.0" votes="0" watches="2" workflowId="16275"/>
