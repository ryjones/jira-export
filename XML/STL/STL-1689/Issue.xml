<Issue id="43486" key="STL-1689" number="1689" project="10001" reporter="jastisriradheshyam" assignee="mfford" creator="jastisriradheshyam" type="10004" summary="PBFT engine storage location config stuck to &quot;memory&quot;" priority="2" status="10100" created="2019-11-27 15:55:57.0" updated="2020-01-27 16:35:40.0" votes="1" watches="3" workflowId="56600"> <description><! CDATA PBFT engine image (*sawtooth-pbft-engine*) with "*chime*" tag does value the "*--storage-location*" option and uses "*memory*" always even with "*disk+/var/lib/sawtooth/sawtooth.data*" where */var/lib/sawtooth/* directory is present.  The above approach works with image having "*nightly*" tag.  So, update the PBFT image (*sawtooth-pbft-engine*) with  tag "*chime*" to latest code.     *docker-compose snippet*: {code} image: hyperledger/sawtooth-pbft-engine:nightly container_name: sawtooth-pbft-engine-5 command: | bash -c " mkdir -p /var/lib/sawtooth && \ ls /var/lib/sawtooth && \ pbft-engine -vv \ --connect tcp://validator-5:5050 \ --storage-location 'disk+/var/lib/sawtooth/sawtooth.data' \ --exponential-retry-base 200 " {code}  Output with *nightly*:    {noformat} INFO  | pbft_engine::engine: | PBFT config loaded: PbftConfig { members:   3, 45, 243, 28, 104, 146, 185, 222, 102, 152, 129, 105, 44, 216, 107, 106, 6, 198, 199, 196, 76, 69, 48, 61, 33, 124, 241, 184, 218, 127, 82, 197, 26 ,  2, 51, 225, 218, 235, 86, 29, 120, 69, 216, 235, 102, 71, 203, 145, 177, 119, 158, 240, 242, 165, 61, 235, 170, 9, 7, 14, 221, 152, 68, 78, 166, 193 ,  2, 115, 38, 189, 61, 37, 118, 119, 151, 238, 175, 179, 47, 76, 90, 119, 235, 69, 188, 10, 242, 140, 151, 55, 17, 76, 237, 16, 209, 237, 131, 207, 39 ,  3, 149, 84, 40, 211, 243, 240, 123, 104, 192, 83, 150, 188, 0, 76, 66, 66, 23, 51, 119, 252, 80, 149, 78, 19, 197, 127, 240, 147, 227, 137, 140, 154 ,  2, 27, 139, 78, 153, 206, 125, 65, 177, 120, 112, 194, 35, 41, 134, 118, 233, 15, 218, 36, 135, 48, 99, 220, 52, 140, 78, 103, 2, 119, 55, 14, 239  , block_publishing_delay: 1s, update_recv_timeout: 10ms, exponential_retry_base: 200ms, exponential_retry_max: 60s, idle_timeout: 30s, commit_timeout: 10s, view_change_duration: 5s, forced_view_change_interval: 100, max_log_size: 10000, storage_location: "disk+/var/lib/sawtooth/sawtooth.data" } {noformat} Output with *chime*:    {noformat} INFO  | pbft_engine::engine: | PBFT config loaded: PbftConfig { members:   3, 45, 243, 28, 104, 146, 185, 222, 102, 152, 129, 105, 44, 216, 107, 106, 6, 198, 199, 196, 76, 69, 48, 61, 33, 124, 241, 184, 218, 127, 82, 197, 26 ,  2, 51, 225, 218, 235, 86, 29, 120, 69, 216, 235, 102, 71, 203, 145, 177, 119, 158, 240, 242, 165, 61, 235, 170, 9, 7, 14, 221, 152, 68, 78, 166, 193 ,  2, 115, 38, 189, 61, 37, 118, 119, 151, 238, 175, 179, 47, 76, 90, 119, 235, 69, 188, 10, 242, 140, 151, 55, 17, 76, 237, 16, 209, 237, 131, 207, 39 ,  3, 149, 84, 40, 211, 243, 240, 123, 104, 192, 83, 150, 188, 0, 76, 66, 66, 23, 51, 119, 252, 80, 149, 78, 19, 197, 127, 240, 147, 227, 137, 140, 154 ,  2, 27, 139, 78, 153, 206, 125, 65, 177, 120, 112, 194, 35, 41, 134, 118, 233, 15, 218, 36, 135, 48, 99, 220, 52, 140, 78, 103, 2, 119, 55, 14, 239  , block_publishing_delay: 1s, update_recv_timeout: 10ms, exponential_retry_base: 200ms, exponential_retry_max: 60s, idle_timeout: 30s, commit_timeout: 10s, view_change_duration: 5s, forced_view_change_interval: 100, max_log_size: 10000, storage_location: "memory" } {noformat}          ></description> </Issue>
