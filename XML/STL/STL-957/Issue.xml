<Issue id="26171" key="STL-957" number="957" project="10001" reporter="pschwarz" assignee="adamludvik" creator="pschwarz" type="10004" summary="MDB_PAGE_NOTFOUND on State DB Write" priority="3" status="10100" created="2017-12-19 19:53:08.0" updated="2019-05-21 14:33:45.0" votes="0" watches="1" workflowId="26171"> <description><! CDATA {code}  2017-12-19 12:07:56.487  Thread-18  future ERROR  An unhandled error occurred while running future callback Traceback (most recent call last): File "/usr/lib/python3/dist-packages/sawtooth_validator/networking/future.py", line 79, in run_callback self._callback_func(self._request, self._result) File "/usr/lib/python3/dist-packages/sawtooth_validator/execution/executor.py", line 132, in _future_done_callback data=data) File "/usr/lib/python3/dist-packages/sawtooth_validator/execution/scheduler_serial.py", line 120, in set_transaction_execution_result batch_id=batch_signature) File "/usr/lib/python3/dist-packages/sawtooth_validator/execution/scheduler_serial.py", line 375, in _calculate_state_root_if_required state_hash = self._compute_merkle_root(required_state_hash) File "/usr/lib/python3/dist-packages/sawtooth_validator/execution/scheduler_serial.py", line 349, in _compute_merkle_root persist=True, clean_up=True) File "/usr/lib/python3/dist-packages/sawtooth_validator/execution/context_manager.py", line 406, in _squash state_hash = tree.update(updates, deletes, virtual=virtual) File "/usr/lib/python3/dist-packages/sawtooth_validator/state/merkle.py", line 249, in update self._database.put_multi(update_batch) File "/usr/lib/python3/dist-packages/sawtooth_validator/database/database.py", line 124, in put_multi self.update(items,   ) File "/usr/lib/python3/dist-packages/sawtooth_validator/database/lmdb_nolock_database.py", line 89, in update txn.put(k.encode(), packed, overwrite=True) lmdb.PageNotFoundError: mdb_put: MDB_PAGE_NOTFOUND: Requested page not found {code}  The database sizes were: {code} $ du -sh /var/lib/sawtooth/* 1.4G    /var/lib/sawtooth/block-00.lmdb 4.0K    /var/lib/sawtooth/block-00.lmdb-lock 4.0K    /var/lib/sawtooth/block-chain-id 5.7G    /var/lib/sawtooth/merkle-00.lmdb {code}  Block height was 1918  This happened on a single node of a 10 node network, made up of Intel NUC 16G ram, SSD  ></description> </Issue>
