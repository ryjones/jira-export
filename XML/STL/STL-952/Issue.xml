<Issue id="25724" key="STL-952" number="952" project="10001" reporter="ryanbanks" assignee="pschwarz" creator="ryanbanks" type="10004" summary="Subscribing to state-delta event without subscribing to block-commit event provides no error message" priority="3" resolution="10000" status="10001" created="2017-12-13 21:25:29.0" updated="2018-11-16 18:49:32.0" resolutiondate="2018-11-16 18:49:32.0" votes="0" watches="1" workflowId="25724"> <description><! CDATA If you try to subscribe to state-delta events without also subscribing to block-commit events the validator will throw this at you     dscp-identity-validator |  2017-12-13 20:36:07.060 DEBUG broadcaster  Catching up Subscriber 49c1c5ab47d51c11634405445d53670d4c21fda7e5ffc22048715fcc7803fa21886a42582239ee96348826c6cef996be2e877f88736696eba1ab63452dbdab9b from 0000000000000000  dscp-identity-validator |  2017-12-13 20:36:07.061 WARNING broadcaster  Transaction id 89dad42adf not found in receipt store while looking up events for block id c3b0e284ec  dscp-identity-validator |  2017-12-13 20:36:07.063 ERROR threadpool  (Component) Unhandled exception during execution of task ClientEventsSubscribeHandler.handle  dscp-identity-validator | Traceback (most recent call last):  dscp-identity-validator | File "/usr/lib/python3/dist-packages/sawtooth_validator/concurrent/threadpool.py", line 88, in wrapper  dscp-identity-validator | return_value = fn(*args, **kwargs)  dscp-identity-validator | File "/usr/lib/python3/dist-packages/sawtooth_validator/server/events/handlers.py", line 122, in handle  dscp-identity-validator | self._event_broadcaster.catchup_subscriber(connection_id)  dscp-identity-validator | File "/usr/lib/python3/dist-packages/sawtooth_validator/server/events/broadcaster.py", line 85, in catchup_subscriber  dscp-identity-validator | events = self.get_events_for_block_id(block_id, subscriptions)  dscp-identity-validator | File "/usr/lib/python3/dist-packages/sawtooth_validator/server/events/broadcaster.py", line 179, in get_events_for_block_id  dscp-identity-validator | return self.get_events_for_block(block, subscriptions)  dscp-identity-validator | File "/usr/lib/python3/dist-packages/sawtooth_validator/server/events/broadcaster.py", line 220, in get_events_for_block  dscp-identity-validator | events.extend(block_event_extractor.extract(subscriptions))  dscp-identity-validator | TypeError: 'NoneType' object is not iterable  dscp-identity-validator |  2017-12-13 20:36:07.072 ERROR dispatch  Unhandled exception while determining next  dscp-identity-validator | Traceback (most recent call last):  dscp-identity-validator | File "/usr/lib/python3/dist-packages/sawtooth_validator/networking/dispatch.py", line 189, in do_next  dscp-identity-validator | self._determine_next(message_id, future)  dscp-identity-validator | File "/usr/lib/python3/dist-packages/sawtooth_validator/networking/dispatch.py", line 206, in _determine_next  dscp-identity-validator | if res.status == HandlerStatus.DROP:  dscp-identity-validator | AttributeError: 'NoneType' object has no attribute 'status'     ></description> </Issue>
