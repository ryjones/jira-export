<Issue id="27874" key="STL-1071" number="1071" project="10001" reporter="drozd" assignee="pschwarz" creator="drozd" type="10004" summary="Unhandled KeyError in parallel scheduler" priority="3" resolution="10000" status="10001" created="2018-02-20 20:05:37.0" updated="2018-03-02 16:51:19.0" resolutiondate="2018-03-02 16:51:19.0" votes="0" watches="1" workflowId="27876"> <description><! CDATA  2018-02-19 20:29:25.734  InterconnectThread-1  dispatch DEBUG  Dispatch incoming queue size: 11   2018-02-19 20:29:26.526  _PublisherThread  scheduler_parallel DEBUG  Removed 499 incomplete batches from the schedule   2018-02-19 20:29:26.527  Thread-51  future ERROR  An unhandled error occurred while running future callback  Traceback (most recent call last):   File "/usr/lib/python3/dist-packages/sawtooth_validator/networking/future.py", line 79, in run_callback     self._callback_func(self._request, self._result)   File "/usr/lib/python3/dist-packages/sawtooth_validator/execution/executor.py", line 163, in _future_done_callback     error_data=response.extended_data)   File "/usr/lib/python3/dist-packages/sawtooth_validator/execution/scheduler_parallel.py", line 659, in set_transaction_execution_result     txn_signature)   File "/usr/lib/python3/dist-packages/sawtooth_validator/execution/scheduler_parallel.py", line 580, in _remove_subsequent_result_because_of_batch_failure     if self._is_txn_to_replay(txn_id, poss_successor, seen):   File "/usr/lib/python3/dist-packages/sawtooth_validator/execution/scheduler_parallel.py", line 559, in _is_txn_to_replay     possible_successor)   File "/usr/lib/python3/dist-packages/sawtooth_validator/execution/scheduler_parallel.py", line 540, in _is_in_same_batch     self._batches_by_txn_id txn_id_2   KeyError: '2ce15d2df45a5a8cefa5e7818d44f5f2a2f43473249a99436c2ac52955ffefdf62e576766767913e6b0f239e79caadcda10533beac1d3fe26cc904b93f5cc601'  ></description> </Issue>
