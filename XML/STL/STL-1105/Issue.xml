<Issue id="28179" key="STL-1105" number="1105" project="10001" reporter="arthurgreef" assignee="amolk" creator="arthurgreef" type="10004" summary="Validatator goes into endless loop with set and delete context state" environment="Windows and Mac" priority="3" resolution="10000" status="10001" created="2018-03-01 22:59:41.0" updated="2019-03-22 17:30:52.0" resolutiondate="2018-05-22 07:50:39.0" votes="1" watches="6" workflowId="28182"> <description><! CDATA @jsmitchell{color:#444444} I'm working with {color}@arthurgreef{color:#444444} in this and we are passing a 35 byte address to the delete call and that same address was used successfully {color}{color:#444444}`{color}{color:#444444}{{get_state}}{color}{color:#444444}`{color}{color:#444444} prior to the delete. The general behavior:{color} {color:#444444}1 Get structure 'A' from state{color} {color:#444444}2 Store structure 'A' in structure 'B'{color} {color:#444444}3 Store structure 'B' in state{color} {color:#444444}4 Delete structure 'A' from state (which produces that endless loop exception in message above) {color}     {color:#444444}The transaction input and output fields have the A address and the B address.{color}     {color:#444444}@jsmitchell Here is the log right before the descent to hades, note that 'Removed initiate...' address: \{\{``` }} \{\{hashblock-dev-events-tp |  2018-03-01 13:50:50.646 DEBUG handler{color}  Reciprocate hydrated {color:#333333}with{color} Initiate}} {{hashblock-dev-{color:#333333}events{color}-tp |  {color:#008080}2018{color}{color:#008080}-03{color}{color:#008080}-01{color} {color:#008080}13{color}:{color:#008080}50{color}:{color:#008080}50.646{color} DEBUG {color:#333333}handler{color}  Reciprocate address given = ca2fee071a5e0cf2b5dc7cfe591977e8b0fbe93cb15cfff15f5bd5604f14d29a7f4481}} {{hashblock-dev-{color:#333333}events{color}-tp |  {color:#008080}2018{color}{color:#008080}-03{color}{color:#008080}-01{color} {color:#008080}13{color}:{color:#008080}50{color}:{color:#008080}50.649{color} DEBUG {color:#333333}handler{color}  Added reciprocate ca2fee071a5e0cf2b5dc7cfe591977e8b0fbe93cb15cfff15f5bd5604f14d29a7f4481 {color:#333333}to{color} state}} {{hashblock-dev-{color:#333333}events{color}-tp |  {color:#008080}2018{color}{color:#008080}-03{color}{color:#008080}-01{color} {color:#008080}13{color}:{color:#008080}50{color}:{color:#008080}50.651{color} DEBUG {color:#333333}handler{color}  Removed initiate ca2feeb5db3507141e9c644758c1d948fca516f9ff85575ceede379c2cde347e7d83f6 {color:#333333}from{color} state}} {{sawtooth-validator-{color:#333333}local{color} |  {color:#008080}2018{color}{color:#008080}-03{color}{color:#008080}-01{color} {color:#008080}13{color}:{color:#008080}50{color}:{color:#008080}50.738{color} {color:#333333}CRITICAL{color} publisher  on_check_publish_block exception.}} {{sawtooth-validator-{color:#333333}local{color} |  {color:#008080}2018{color}{color:#008080}-03{color}{color:#008080}-01{color} {color:#008080}13{color}:{color:#008080}50{color}:{color:#008080}50.741{color} {color:#333333}ERROR{color} executor  Unhandled {color:#333333}exception{color} {color:#333333}while{color} executing schedule: {color:#dd1144}'ca2fee'{color}}}  ></description> </Issue>
