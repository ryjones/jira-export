<Issue id="39929" key="STL-1535" number="1535" project="10001" reporter="atlowell" creator="atlowell" type="10004" summary="Genesis Block Invalid Predecessor (GBIP) and PENDING Transactions" priority="2" status="10100" created="2019-05-20 15:22:07.0" updated="2019-10-18 16:42:18.0" votes="0" watches="1" workflowId="52825"> <environment><! CDATA I have experienced this bug in the following environments (all single-node environments with all components running locally and transactions submmited from the same machine):  Ubuntu 16.0.4 VM running sawtooth 1.1.4 and devmode consensus  Ubuntu 16.0.4 VM running sawtooth 1.1.5 and devmode consensus  Amazon AWS image running sawtooth 1.1.4 and devmode consensus   I have tested with a variety of TPs running, but in general the bug is reproducable just running settings and intkey.  In addition, the first time I experienced this bug was about a month and a half ago using multiple Ubunutu 16.0.4 nodes running PoET consensus, but I was new to hyperledger and thus I did not do testing or record any information.  ></environment> <description><! CDATA *Bug Description:*  When submitting transactions after the genesis block is created (and validated), the transactions will be rejected by the validator due to an invalid predecessor (the genesis block, which has already been validated).  These transactions will show as PENDING indefinitely.     *Recreation Steps:* 1. Create a genesis batch using {code:java} sawset genesis sudo -u sawtooth sawadm genesis config-genesis.batch{code} 2. Start the sawtooth components (validator, consensus engine, rest api)  3. Start the transaction processors  4. Submit an intkey transaction using the CLI {code:java} intkey set 999 {code} You will receive a link to the batch status  5. Run {code:java} intkey list {code} and see that MyKey is not in the list.  Run {code:java} intkey show batchurl {code} and see that the batch status is PENDING  6. All transactions at this point will be PENDING indefinitely     *Frequency:* This is a difficult bug to reproduce, and seems to affect systems randomly, but I have had it affect multiple systems.  Continuously stopping and starting the sawtooth components and trying again seems to increase the likelihood it happens.  Once a system is affected, the only way I have found for it to be unaffected is to reset the whole system.  Resetting the chain or reinstalling sawtooth does not seem to fix the issue.  *Location:* The issue seems to be somewhere in the validator, as the logs for the transaction processor and rest api show everything as normal.  The issue could also be in the devmode conensus engine, though I find this unlikely for two reasons.  1. I have not seen anything out of the ordinary in the logs/console output.  2. As stated in the environment section, I had a similar issue a while back with PoET consensus across multiple nodes  ></description> </Issue>
