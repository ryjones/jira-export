<Issue id="37548" key="FABJ-406" number="406" project="10605" reporter="jdfigure" assignee="rickr" creator="jdfigure" type="10004" summary="Service Discovery TLS Handshake Error Using Cert Bytes" priority="3" resolution="10000" status="6" created="2019-02-08 17:02:20.0" updated="2019-03-06 16:37:32.0" resolutiondate="2019-03-01 20:13:23.0" votes="0" watches="1" workflowId="49159"> <description><! CDATA Gerrit CR https://gerrit.hyperledger.org/r/#/c/29237/   Service Discovery not working when using clientCertBytes properties. Peer reporting TLS handshake failed with error tls: client didn't provide a certificate.  The org.hyperledger.fabric.sdk.Channel#addPeer(org.hyperledger.fabric.sdk.Peer, org.hyperledger.fabric.sdk.Channel.PeerOptions) method, when using the `clientCertBytes` property instead of `clientCertFile`, fails to find the `clientCertBytes` property:  `if ((properties == null) || (isNullOrEmpty(properties.getProperty("clientCertFile")) && isNullOrEmpty(properties.getProperty("clientCertBytes"))))`   Calling `properties.getProperty("clientCertBytes")` returns null because the property value is not a string. Instead, it should be using `properties.containsKey("clientCertBytes")`.  ></description> </Issue>
