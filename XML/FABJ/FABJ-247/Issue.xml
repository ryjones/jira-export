<Issue id="15347" key="FABJ-247" number="247" project="10605" reporter="denisgaebler" assignee="rickr" creator="denisgaebler" type="10004" summary="EnrollmentException: Failed to enroll user admin on non ASCII/UTF platform" priority="3" resolution="10000" status="6" created="2017-03-14 13:08:49.0" updated="2018-07-19 00:20:53.0" resolutiondate="2017-03-18 15:16:27.0" votes="0" watches="2" workflowId="33685"> <description><! CDATA Hi,  when running the java sdk as client on a non ASCII/UTF platform I get the following exception: org.hyperledger.fabric.sdk.exception.EnrollmentException: Failed to enroll user admin                                                                            at org.hyperledger.fabric.sdk.MemberServicesFabricCAImpl.enroll(MemberServicesFabricCAImpl.java:272)                                                     at org.hyperledger.fabric.sdk.User.enroll(User.java:248)                 at org.hyperledger.fabric.sdk.HFClient.enroll(HFClient.java:301)         at com.ibm.blockchain.BlockchainWrapper.getText(BlockchainWrapper.java:58)                                                                               at com.ibm.blockchain.RunBlockChainWrapper.main(RunBlockChainWrapper.java:10)                                                                            Caused by: java.lang.IllegalArgumentException: Illegal base64 character -2d      at java.util.Base64$Decoder.decode0(Base64.java:725)                     at java.util.Base64$Decoder.decode(Base64.java:537)                      at org.hyperledger.fabric.sdk.MemberServicesFabricCAImpl.enroll(MemberServicesFabricCAImpl.java:261)                                                     ... 4 more    The reason is, that the following line in MemberServicesFabricCAImpl.enroll:  {code:java} 261 String signedPem = new String(b64dec.decode(result.getBytes())); {code}  Uses getBytes with default encoding.  So I changed it to:  {code:java} String signedPem = new String(b64dec.decode(result.getBytes(StandardCharsets.UTF_8))); {code}   and it worked on both x86 and the other platform.  ></description> </Issue>
