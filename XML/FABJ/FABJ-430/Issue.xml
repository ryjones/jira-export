<Issue id="38708" key="FABJ-430" number="430" project="10605" reporter="fedyiv" assignee="rickr" creator="fedyiv" type="10002" summary="NetworkConfig does not allow to specify custom PeerOptions" priority="4" resolution="10000" status="6" created="2019-03-25 08:11:10.0" updated="2019-04-09 15:12:38.0" resolutiondate="2019-04-09 15:12:38.0" votes="0" watches="2" workflowId="50353"> <description><! CDATA Gerrit CR https://gerrit.hyperledger.org/r/#/c/30416/  Hi All,   {code:java} public class NetworkConfig { ...  private Channel reconstructChannel(HFClient client, String channelName, JsonObject jsonChannel) throws NetworkConfigurationException { ... // Set the various roles PeerOptions peerOptions = PeerOptions.createPeerOptions();  for (PeerRole peerRole : PeerRole.values()) { setPeerRole(channelName, peerOptions, jsonPeer, peerRole); }  foundPeer = true;  // Add the event hub associated with this peer EventHub eventHub = getEventHub(client, peerName); if (eventHub != null) { channel.addEventHub(eventHub); if (peerOptions.peerRoles == null) { // means no roles were found but there is an event hub so define all roles but eventing. peerOptions.setPeerRoles(EnumSet.of(PeerRole.ENDORSING_PEER, PeerRole.CHAINCODE_QUERY, PeerRole.LEDGER_QUERY)); } } channel.addPeer(peer, peerOptions);  {code}   In the code above, there is missing logic to set *PeerOptions.registerEventsForFilteredBlocks* and  *PeerOptions.startEvents(long start)* so if one wants to use this functionality he or she must reimplement channel creation from scratch, making Network config useless in this case.  Please add this functionality to NetworkConfig.    ></description> </Issue>
