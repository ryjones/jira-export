<Issue id="44400" key="FABJ-514" number="514" project="10605" reporter="dhuseby" assignee="mastersingh24" creator="dhuseby" type="10004" summary="CWE-502 Vulnerability from Deserializing of Untrusted Data" priority="2" resolution="10000" status="6" created="2020-02-24 18:43:18.0" updated="2020-04-13 17:36:11.0" resolutiondate="2020-04-13 17:36:11.0" votes="0" watches="5" workflowId="58308" security="10001" archived="N"> <description><! CDATA  Hyperledger Fabric SDK for Java version 2.0.0|https://hackerone.com/redirect?signature=3bd70e7ca29dd05f9f7b5d45e3627d75c8679288&url=https%3A%2F%2Fgithub.com%2Fhyperledger%2Ffabric-sdk-java%2Ftree%2Fv2.0.0  and earlier does not configure its YAML parser to prevent the instantiation of arbitrary types, resulting in a remote code execution vulnerability.  In the following source code files and corresponding line number, an arbitrary file gets parsed by SnakeYAML which allows to construct a Java object of any type, leading to remote code execution:    *  https://github.com/hyperledger/fabric-sdk-java/blob/f97741e2bd76c7733f7f81078b4de5d42a37cf9a/src/main/java/org/hyperledger/fabric/sdk/ChaincodeCollectionConfiguration.java#L121|https://hackerone.com/redirect?signature=50dc3d1c65278f7660dc24d10b5f846ffdc29ca8&url=https%3A%2F%2Fgithub.com%2Fhyperledger%2Ffabric-sdk-java%2Fblob%2Ff97741e2bd76c7733f7f81078b4de5d42a37cf9a%2Fsrc%2Fmain%2Fjava%2Forg%2Fhyperledger%2Ffabric%2Fsdk%2FChaincodeCollectionConfiguration.java%23L121  *  https://github.com/hyperledger/fabric-sdk-java/blob/f97741e2bd76c7733f7f81078b4de5d42a37cf9a/src/main/java/org/hyperledger/fabric/sdk/NetworkConfig.java#L301|https://hackerone.com/redirect?signature=7814d249cb3df222464430a7cbaa1a7c31517ba3&url=https%3A%2F%2Fgithub.com%2Fhyperledger%2Ffabric-sdk-java%2Fblob%2Ff97741e2bd76c7733f7f81078b4de5d42a37cf9a%2Fsrc%2Fmain%2Fjava%2Forg%2Fhyperledger%2Ffabric%2Fsdk%2FNetworkConfig.java%23L301  *  https://github.com/hyperledger/fabric-sdk-java/blob/f97741e2bd76c7733f7f81078b4de5d42a37cf9a/src/main/java/org/hyperledger/fabric/sdk/ChaincodeEndorsementPolicy.java#L241|https://hackerone.com/redirect?signature=e7f534cd6def0d100434e054829316d7563e9d06&url=https%3A%2F%2Fgithub.com%2Fhyperledger%2Ffabric-sdk-java%2Fblob%2Ff97741e2bd76c7733f7f81078b4de5d42a37cf9a%2Fsrc%2Fmain%2Fjava%2Forg%2Fhyperledger%2Ffabric%2Fsdk%2FChaincodeEndorsementPolicy.java%23L241  *  https://github.com/hyperledger/fabric-sdk-java/blob/f97741e2bd76c7733f7f81078b4de5d42a37cf9a/src/main/java/org/hyperledger/fabric/sdk/ChaincodeEndorsementPolicy.java#L262|https://hackerone.com/redirect?signature=3523e715433ac3fc6dd615bbcd8391920f302a71&url=https%3A%2F%2Fgithub.com%2Fhyperledger%2Ffabric-sdk-java%2Fblob%2Ff97741e2bd76c7733f7f81078b4de5d42a37cf9a%2Fsrc%2Fmain%2Fjava%2Forg%2Fhyperledger%2Ffabric%2Fsdk%2FChaincodeEndorsementPolicy.java%23L262  *  https://github.com/hyperledger/fabric-sdk-java/blob/v2.0.0/src/main/java/org/hyperledger/fabric/sdk/LifecycleChaincodeEndorsementPolicy.java#L228|https://hackerone.com/redirect?signature=81a516e5029510eee9ecce0b26d83383b421a68b&url=https%3A%2F%2Fgithub.com%2Fhyperledger%2Ffabric-sdk-java%2Fblob%2Fv2.0.0%2Fsrc%2Fmain%2Fjava%2Forg%2Fhyperledger%2Ffabric%2Fsdk%2FLifecycleChaincodeEndorsementPolicy.java%23L228  Objects should be limited such as limiting to standard Java objects like List or Long by using SafeConstructor.  {{Yaml yaml = new Yaml(new SafeConstructor());}} More info on Snake YAML can be found on the following url:  https://bitbucket.org/asomov/snakeyaml/wiki/Documentation#markdown-header-loading-yaml|https://hackerone.com/redirect?signature=d8c62bcd1edfd63424bad2e6dfd9318ade686f3a&url=https%3A%2F%2Fbitbucket.org%2Fasomov%2Fsnakeyaml%2Fwiki%2FDocumentation%23markdown-header-loading-yaml   ></description> </Issue>
