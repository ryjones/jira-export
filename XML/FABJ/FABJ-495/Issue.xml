<Issue id="42914" key="FABJ-495" number="495" project="10605" reporter="nnao" assignee="nnao" creator="nnao" type="10004" summary="channel information is not update correctly" priority="3" resolution="10000" status="6" created="2019-10-21 15:15:43.0" updated="2020-11-19 10:36:37.0" resolutiondate="2020-11-19 10:36:37.0" votes="0" watches="1" workflowId="56015"> <description><! CDATA I got an error like below when a peer down.   {code:java} Exception in thread "main" java.util.concurrent.ExecutionException: java.lang.Exception: Channel mychannel failed to place transaction 333103e3d479ca740de755f1a831c94b2584714b9e11f0a0e60c674a2294040f on Orderer. Cause: UNSUCCESSFUL.         at java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:357)         at java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1895) {code}   I supposed fullNetworkDiscovery() didn't update channel information correctly. When discoverEndorserEndpoints() occur an exception, channel.sdUpdate() is skipped and didn't update channel object. As a result, we got the above error.   Also, discoverEndorserEndpoints() try to discover all peers randomly. But an exception happens when the last peer down only. because discoverEndorserEndpoints() clear serviceDiscoveryException variable which store error every loop.  ></description> </Issue>
