<Action id="42783" issue="29274" author="rickr" type="comment" created="2018-04-10 16:42:22.0" updateauthor="rickr" updated="2018-04-10 16:43:18.0"> <body><! CDATA  If your CC is returning pb.Response\{Status: 404, Message: "Not found"})).    See.... https://github.com/hyperledger/fabric-sdk-java/blob/8b976c725f719a21a1a45f2c0102fb7d6ca8f16d/src/test/java/org/hyperledger/fabric/sdkintegration/End2endIT.java#L609|https://github.com/hyperledger/fabric-sdk-java/blob/8b976c725f719a21a1a45f2c0102fb7d6ca8f16d/src/test/java/org/hyperledger/fabric/sdkintegration/End2endIT.java#L609   should return that.     ></body> </Action>
<Action id="42787" issue="29274" author="rickr" type="comment" created="2018-04-10 17:53:58.0" updateauthor="rickr" updated="2018-04-10 17:53:58.0"> <body><! CDATA Ok think I see what's happening .. for  >399 it grpc throwing exception     ></body> </Action>
<Action id="42792" issue="29274" author="rickr" type="comment" created="2018-04-10 19:23:42.0" updateauthor="rickr" updated="2018-04-10 19:23:42.0"> <body><! CDATA !image-2018-04-10-15-07-15-554.png!   When the CC returns >399  the Fabric server returns 500.  GRPC on the client side then throws an exception. The grpc call is a future so the real reason is in that cause which is a io.grpc.Status.   I pasted a picture of that above.  The 400 which is what my CC set   return pb.Response{ Status: 400, Message: "move it", Payload: nil}  Is only in the description which is a string.  detailMessage.   The SDK will not parse that string.  I suggest That if you are designing CC you should if successful limit  Status to using Status < 400.   ----     ></body> </Action>
<Action id="42793" issue="29274" author="rickr" type="comment" body=" ~muralisr " created="2018-04-10 19:25:38.0" updateauthor="rickr" updated="2018-04-10 19:25:38.0"/>
<Action id="42797" issue="29274" author="rickr" type="comment" body="I tried to set that Payload in that case but it seems it gets lost entirely.  I was thinking it might be some way to communicate more detail on the error to the application." created="2018-04-10 19:54:13.0" updateauthor="rickr" updated="2018-04-10 19:54:13.0"/>
<Action id="42798" issue="29274" author="rickr" type="comment" created="2018-04-10 19:57:07.0" updateauthor="rickr" updated="2018-04-10 20:00:16.0"> <body><! CDATA Unless I can get the exact value that user set _without parsing_ closing as invalid  I do agree it would be nice to get the value so the application would have means to act on different return codes.  ></body> </Action>
<Action id="42888" issue="29274" author="muralisr" type="comment" created="2018-04-12 22:47:09.0" updateauthor="muralisr" updated="2018-04-12 22:47:09.0"> <body><! CDATA  ~edhel   ~rickr     https://gerrit.hyperledger.org/r/#/c/15737/  targetted for 1.2 release will make the chaincode error handling cleaner - chaincode error codes are presented as is as a Response with chaincode error set appropriately for the SDK developer to check as opposed to having to parse the error string returned via gRPC. The details are in the associated JIRA. Agree with  ~rickr  that it is not a Java SDK bug.  Please let me know if that address (or not) the issue or if I misunderstood the problem.   ></body> </Action>
