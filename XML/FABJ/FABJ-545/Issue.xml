<Issue id="46467" key="FABJ-545" number="545" project="10605" reporter="JIRAUSER21264" assignee="lesleyannj" creator="JIRAUSER21264" type="10004" summary="log4j-core-2.13.3 and log4j-1.2-api-2.13.3 have a merge conflict in fabric-sdk-java 2.2.0" priority="3" resolution="10000" status="6" created="2021-01-05 18:50:29.0" updated="2021-02-09 09:55:57.0" resolutiondate="2021-02-04 16:29:57.0" votes="0" watches="2" workflowId="60407" archived="N"> <description><! CDATA *Type*  Bug   *Component*  fabric-sdk-java  *Fix Versions*  v2.2     When using fabric-sdk-java as a dependency in  daml-on-fabric|https://github.com/digital-asset/daml-on-fabric  the following error is thrown: {code:java}  info  No tests were executed.  info  Passed: Total 0, Failed 0, Errors 0, Passed 0  error  1 error was encountered during merge  error  java.lang.RuntimeException: deduplicate: different file contents found in the following:  error  /Users/anthonylusardi/.ivy2/cache/org.apache.logging.log4j/log4j-core/jars/log4j-core-2.13.3.jar:META-INF/org/apache/logging/log4j/core/config/plugins/Log4j2Plugins.dat  error  /Users/anthonylusardi/.ivy2/cache/org.apache.logging.log4j/log4j-1.2-api/jars/log4j-1.2-api-2.13.3.jar:META-INF/org/apache/logging/log4j/core/config/plugins/Log4j2Plugins.dat  error  	at sbtassembly.Assembly$.applyStrategies(Assembly.scala:143)  error  	at sbtassembly.Assembly$.x$1$lzycompute$1(Assembly.scala:25)  error  	at sbtassembly.Assembly$.x$1$1(Assembly.scala:23)  error  	at sbtassembly.Assembly$.stratMapping$lzycompute$1(Assembly.scala:23)  error  	at sbtassembly.Assembly$.stratMapping$1(Assembly.scala:23)  error  	at sbtassembly.Assembly$.inputs$lzycompute$1(Assembly.scala:68)  error  	at sbtassembly.Assembly$.inputs$1(Assembly.scala:58)  error  	at sbtassembly.Assembly$.apply(Assembly.scala:85)  error  	at sbtassembly.Assembly$.$anonfun$assemblyTask$1(Assembly.scala:244)  error  	at scala.Function1.$anonfun$compose$1(Function1.scala:49)  error  	at sbt.internal.util.$tilde$greater.$anonfun$$u2219$1(TypeFunctions.scala:62)  error  	at sbt.std.Transform$$anon$4.work(Transform.scala:67)  error  	at sbt.Execute.$anonfun$submit$2(Execute.scala:281)  error  	at sbt.internal.util.ErrorHandling$.wideConvert(ErrorHandling.scala:19)  error  	at sbt.Execute.work(Execute.scala:290)  error  	at sbt.Execute.$anonfun$submit$1(Execute.scala:281)  error  	at sbt.ConcurrentRestrictions$$anon$4.$anonfun$submitValid$1(ConcurrentRestrictions.scala:178)  error  	at sbt.CompletionService$$anon$2.call(CompletionService.scala:37)  error  	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)  error  	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)  error  	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)  error  	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)  error  	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)  error  	at java.base/java.lang.Thread.run(Thread.java:835)  error  (assembly) deduplicate: different file contents found in the following:  error  /Users/anthonylusardi/.ivy2/cache/org.apache.logging.log4j/log4j-core/jars/log4j-core-2.13.3.jar:META-INF/org/apache/logging/log4j/core/config/plugins/Log4j2Plugins.dat  error  /Users/anthonylusardi/.ivy2/cache/org.apache.logging.log4j/log4j-1.2-api/jars/log4j-1.2-api-2.13.3.jar:META-INF/org/apache/logging/log4j/core/config/plugins/Log4j2Plugins.dat  error  Total time: 5 s, completed Jan 5, 2021, 8:53:58 AM make: ***  package  Error 1 {code}    The dependency is declared like: {code:java} lazy val fabricSdkVersion = "2.2.0" // ... // fabric  ("org.hyperledger.fabric-sdk-java" % "fabric-sdk-java" % fabricSdkVersion) .excludeAll(ExclusionRule(organization = "javax.xml.bind", name = "jaxb-api")), {code} A temporary workaround is to change the MergeStrategy to rename: {code:java} case "META-INF/org/apache/logging/log4j/core/config/plugins/Log4j2Plugins.dat" => MergeStrategy.rename {code}  ></description> </Issue>
