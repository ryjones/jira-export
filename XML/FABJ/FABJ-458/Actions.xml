<Action id="65238" issue="41250" author="davidkel" type="comment" created="2019-11-03 11:52:21.0" updateauthor="davidkel" updated="2019-11-03 11:52:40.0"> <body><! CDATA As there is a work around to this in the form of using fabric-gateway-java, plus the code changes required to a client application is minimal as shown here, so withdrawing {code:java} // old way to get a channel Channel channel = client.loadChannelFromConfig("mychannel", conf);  // example of how to do it using a helper method Channel channel = createChannel(client, conf, "mychannel"); ...  /* * create the named channel for use with a connection profile */ private static Channel createChannel(HFClient client, NetworkConfig networkConfig, String channelName) throws InvalidArgumentException { // create a Channel instance Channel channel = client.newChannel(channelName);  // get a list of all the peers in the client organization List<String> peerNames = networkConfig.getClientOrganization().getPeerNames();  // build a Peer instance of each of these peers with appropriate // properties and add it to the channel instance for (String name: peerNames) { String url = networkConfig.getPeerUrl(name);  // retrieve any explicit properties defined for that peer Properties props = networkConfig.getPeerProperties(name); Peer peer = client.newPeer(name, url, props);  // ensure the peer has all roles including service discovery PeerOptions peerOptions = PeerOptions.createPeerOptions() .setPeerRoles(EnumSet.allOf(PeerRole.class)); channel.addPeer(peer, peerOptions); } return channel; } {code}  ></body> </Action>
