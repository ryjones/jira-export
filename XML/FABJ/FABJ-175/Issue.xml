<Issue id="20729" key="FABJ-175" number="175" project="10605" reporter="suganuma" assignee="suganuma" creator="suganuma" type="10004" summary="EventHub error thrown in channel creation with multi-organization" priority="3" resolution="10000" status="6" created="2017-09-11 14:49:39.0" updated="2018-07-19 00:20:38.0" resolutiondate="2017-09-18 13:56:12.0" votes="0" watches="4" workflowId="33613"> <description><! CDATA When creating a channel that have peers and event hubs from two organizations (peerOrgs), we have to set the user context of the client instance to peerAdmin of the corresponding organization.  However, this causes an event hub error as shown below :  2017-09-08 02:08:10,800 ERROR EventHub:208 - EventHub:peer0.org1.example.com terminated is false shutdown is false has error UNKNOWN: event message must be properly signed by an identity from the same organization as the peer:  failed deserializing event creator:  Expected MSP ID Org1MSP, received Org2MSP    This is because Channel.initialize() method simply tries to connect all event hubs with the same (current) user context. So the last setting of user context (Org2MSP in this case) was used for the connection to the event hub peer0.org1.example.com, causing an incorrect MSP ID error. To fix this problem, each EventHub instance should have its own user context to be used in the connection.  ></description> </Issue>
