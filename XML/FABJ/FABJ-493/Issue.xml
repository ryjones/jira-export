<Issue id="42745" key="FABJ-493" number="493" project="10605" reporter="ivanovv" assignee="denyeart" creator="ivanovv" type="10004" summary="Having different values for Org Name and (MSP) ID causes SDK to fail with &quot;Expected to find organization matching user context&apos;s mspid: ...&quot;" priority="3" resolution="10001" status="6" created="2019-10-14 12:35:55.0" updated="2020-11-19 15:57:18.0" resolutiondate="2020-11-19 15:57:18.0" votes="0" watches="1" workflowId="55825"> <description><! CDATA The function:  Channel::getConfigUpdateAnchorPeers  contains the code:  _ConfigGroup.Builder channelGroupBuild = configBuilderUpdate.getChannelGroup().toBuilder();_ _Map<String, ConfigGroup> groupsMap = channelGroupBuild.getGroupsMap();_ _ConfigGroup.Builder application = *groupsMap.get("Application")*.toBuilder();_ _final String mspid = userContext.*getMspId*();_ _ConfigGroup peerOrgConfigGroup = application.getGroupsMap().get(mspid);_  that actually checks *MspId* of the Org of the Current user against the (Application) *Name* of the Org.  The last config block Application group looks like:  groups {   key: "*Application*"   value {     version: 1     groups {       key: "*Orderer*"       value {         values {         key: "MSP"         value {           value: "\022\317)\n\n*OrdererMSP*\022\347\006-----BEGIN CERTIFICATE-----...-----END CERTIFICATE-----\nB\016\n\004SHA2\022\006SHA256J\357\006-----BEGIN CERTIFICATE-----...-----END CERTIFICATE-----\nZ\324\033\b\001\022\362\006\n\347\006-----BEGIN CERTIFICATE-----...-----END CERTIFICATE-----\n\022\006client\032\360\006\n\347\006-----BEGIN CERTIFICATE-----...-----END CERTIFICATE-----\n\022\004peer\"\361\006\n\347\006-----BEGIN CERTIFICATE-----...-----END CERTIFICATE-----\n\022\005admin*\363\006\n\347\006-----BEGIN CERTIFICATE-----...-----END CERTIFICATE-----\n\022\aorderer"          mod_policy: "Admins"        }      } ...     }   }   groups {     key: "*Org1*"     value {       values {         key: "MSP"         value {           value: "\022\243,\n\f*Org1MSP*\022\240\a-----BEGIN CERTIFICATE-----...-----END CERTIFICATE-----..."           mod_policy: "Admins"         }       } ...     }   } groups { key: "*Org2*" value { values { key: "MSP" value { value: "\022\335+\n\n*Org2MSP*\022\224\a-----BEGIN CERTIFICATE-----...-----END CERTIFICATE-----..." mod_policy: "Admins" } } ... } } groups { key: "*Org3*" value { values { key: "MSP" value { value: "\022\335+\n\n*Org3MSP*\022\224\a-----BEGIN CERTIFICATE-----...-----END CERTIFICATE-----..." mod_policy: "Admins" } } ... } } ... } }        ></description> </Issue>
