<Issue id="46680" key="FABJ-552" number="552" project="10605" reporter="conanoc" creator="conanoc" type="10004" summary="PeerEventServiceClient retries connection forever" priority="3" resolution="10203" status="6" created="2021-03-26 07:06:11.0" updated="2021-06-16 16:48:02.0" resolutiondate="2021-06-16 16:48:02.0" votes="0" watches="3" workflowId="60626" archived="N"> <description><! CDATA Problem:  PeerEventServiceClient retries connection forever when it fails to connect to the peer.     Reason:  PeerEventServiceClient.connectEnvelope() is using a variable "retry" to retry only once.   https://github.com/hyperledger/fabric-sdk-java/blob/v2.2.5/src/main/java/org/hyperledger/fabric/sdk/PeerEventServiceClient.java#L187      And it calls peer.reconnectPeerEventServiceClient() to reconnect on error.   https://github.com/hyperledger/fabric-sdk-java/blob/v2.2.5/src/main/java/org/hyperledger/fabric/sdk/PeerEventServiceClient.java#L290      But, peer.reconnectPeerEventServiceClient() creates a new PeerEventServiceClient to retry connection. So, the "retry" variable in PeerEventServiceClient is useless and the retry is done forever.  ></description> </Issue>
