<Issue id="44327" key="FAB-17497" number="17497" project="10002" reporter="JIRAUSER19844" creator="JIRAUSER19844" type="10001" summary="Add certificate expiration metrics" priority="4" status="10100" created="2020-02-12 12:40:17.0" updated="2020-12-16 23:15:58.0" votes="1" watches="1" workflowId="58232" archived="N"> <description><! CDATA Following up the idea https://jira.hyperledger.org/browse/FAB-17000 Checking the logs could be quite annoying and error-prone, so it would be really helpful to have metrics with "Not After" value for all used certificates. These metrics can be implemented for the orderer, peer and ca as well. I would suggest that metrics are created for any unique used certificate, regardless of its type - tls, identity, ca, etc.  Something like: {code:java} cert_not_after{issuer="tlsca.domain.com",cn="ca.domain.com"} 1581351701 cert_not_after{issuer="ca.domain.com",cn="orderer01.domain.com"} 1581351810 cert_not_after{issuer="ca.domain.com",cn="admin"} 1581351933{code} This approach might be quite redundant, but reliable and configurable.  ></description> </Issue>
