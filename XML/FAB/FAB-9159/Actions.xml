<Action id="42154" issue="28888" author="sykesm" type="comment" created="2018-03-26 15:03:04.0" updateauthor="sykesm" updated="2018-03-26 15:03:04.0"> <body><! CDATA Related out of TestLogPossibleKafkaVersionMismatch {code:java} unit-tests_1  | ==================  unit-tests_1  | WARNING: DATA RACE  unit-tests_1  | Read at 0x00c420228be8 by goroutine 133:  unit-tests_1  |   github.com/hyperledger/fabric/orderer/consensus/kafka.TestLogPossibleKafkaVersionMismatch()  unit-tests_1  |       /opt/go/src/bytes/buffer.go:61 +0x17e0  unit-tests_1  |   testing.tRunner()  unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c  unit-tests_1  |  unit-tests_1  | Previous write at 0x00c420228be8 by goroutine 7:  unit-tests_1  |   bytes.(*Buffer).grow()  unit-tests_1  |       /opt/go/src/bytes/buffer.go:138 +0x24c  unit-tests_1  |   bytes.(*Buffer).Write()  unit-tests_1  |       /opt/go/src/bytes/buffer.go:163 +0x16d  unit-tests_1  |   log.(*Logger).Output()  unit-tests_1  |       /opt/go/src/log/log.go:172 +0x399  unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/op/go-logging.(*LogBackend).Log()  unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/op/go-logging/log_nix.go:75 +0x5b8  unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/op/go-logging.(*moduleLeveled).Log()  unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/op/go-logging/level.go:116 +0x1c9  unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/op/go-logging.(*multiLogger).Log()  unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/op/go-logging/multi.go:31 +0x1d8  unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/op/go-logging.(*Logger).log()  unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/op/go-logging/logger.go:166 +0x2eb  unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/op/go-logging.(*Logger).Critical()  unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/op/go-logging/logger.go:199 +0x68  unit-tests_1  |   github.com/hyperledger/fabric/orderer/consensus/kafka.init.2.func1()  unit-tests_1  |       github.com/hyperledger/fabric/orderer/consensus/kafka/_test/_obj_test/logger.go:53 +0x87  unit-tests_1  |  unit-tests_1  | Goroutine 133 (running) created at:  unit-tests_1  |   testing.(*T).Run()  unit-tests_1  |       /opt/go/src/testing/testing.go:789 +0x568  unit-tests_1  |   testing.runTests.func1()  unit-tests_1  |       /opt/go/src/testing/testing.go:1004 +0xa7  unit-tests_1  |   testing.tRunner()  unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c  unit-tests_1  |   testing.runTests()  unit-tests_1  |       /opt/go/src/testing/testing.go:1002 +0x521  unit-tests_1  |   testing.(*M).Run()  unit-tests_1  |       /opt/go/src/testing/testing.go:921 +0x206  unit-tests_1  |   main.main()  unit-tests_1  |       github.com/hyperledger/fabric/orderer/consensus/kafka/_test/_testmain.go:146 +0x2f0  unit-tests_1  |  unit-tests_1  | Goroutine 7 (running) created at:  unit-tests_1  |   github.com/hyperledger/fabric/orderer/consensus/kafka.init.2()  unit-tests_1  |       github.com/hyperledger/fabric/orderer/consensus/kafka/_test/_obj_test/logger.go:46 +0xa5  unit-tests_1  |   github.com/hyperledger/fabric/orderer/consensus/kafka.init()  unit-tests_1  |       <autogenerated>:1 +0x13a  unit-tests_1  |   main.init()  unit-tests_1  |       <autogenerated>:1 +0xae  unit-tests_1  | ==================  unit-tests_1  | ==================  unit-tests_1  | WARNING: DATA RACE  unit-tests_1  | Read at 0x00c420228bd0 by goroutine 133:  unit-tests_1  |   github.com/hyperledger/fabric/orderer/consensus/kafka.TestLogPossibleKafkaVersionMismatch()  unit-tests_1  |       /opt/go/src/bytes/buffer.go:61 +0x17fd  unit-tests_1  |   testing.tRunner()  unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c  unit-tests_1  |  unit-tests_1  | Previous write at 0x00c420228bd0 by goroutine 7:  unit-tests_1  |   bytes.(*Buffer).grow()  unit-tests_1  |       /opt/go/src/bytes/buffer.go:135 +0x3c3  unit-tests_1  |   bytes.(*Buffer).Write()  unit-tests_1  |       /opt/go/src/bytes/buffer.go:163 +0x16d  unit-tests_1  |   log.(*Logger).Output()  unit-tests_1  |       /opt/go/src/log/log.go:172 +0x399  unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/op/go-logging.(*LogBackend).Log()  unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/op/go-logging/log_nix.go:75 +0x5b8  unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/op/go-logging.(*moduleLeveled).Log()  unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/op/go-logging/level.go:116 +0x1c9  unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/op/go-logging.(*multiLogger).Log()  unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/op/go-logging/multi.go:31 +0x1d8  unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/op/go-logging.(*Logger).log()  unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/op/go-logging/logger.go:166 +0x2eb  unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/op/go-logging.(*Logger).Critical()  unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/op/go-logging/logger.go:199 +0x68  unit-tests_1  |   github.com/hyperledger/fabric/orderer/consensus/kafka.init.2.func1()  unit-tests_1  |       github.com/hyperledger/fabric/orderer/consensus/kafka/_test/_obj_test/logger.go:53 +0x87  unit-tests_1  |  unit-tests_1  | Goroutine 133 (running) created at:  unit-tests_1  |   testing.(*T).Run()  unit-tests_1  |       /opt/go/src/testing/testing.go:789 +0x568  unit-tests_1  |   testing.runTests.func1()  unit-tests_1  |       /opt/go/src/testing/testing.go:1004 +0xa7  unit-tests_1  |   testing.tRunner()  unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c  unit-tests_1  |   testing.runTests()  unit-tests_1  |       /opt/go/src/testing/testing.go:1002 +0x521  unit-tests_1  |   testing.(*M).Run()  unit-tests_1  |       /opt/go/src/testing/testing.go:921 +0x206  unit-tests_1  |   main.main()  unit-tests_1  |       github.com/hyperledger/fabric/orderer/consensus/kafka/_test/_testmain.go:146 +0x2f0  unit-tests_1  |  unit-tests_1  | Goroutine 7 (running) created at:  unit-tests_1  |   github.com/hyperledger/fabric/orderer/consensus/kafka.init.2()  unit-tests_1  |       github.com/hyperledger/fabric/orderer/consensus/kafka/_test/_obj_test/logger.go:46 +0xa5  unit-tests_1  |   github.com/hyperledger/fabric/orderer/consensus/kafka.init()  unit-tests_1  |       <autogenerated>:1 +0x13a  unit-tests_1  |   main.init()  unit-tests_1  |       <autogenerated>:1 +0xae  unit-tests_1  | ==================  unit-tests_1  | ==================  unit-tests_1  | WARNING: DATA RACE  unit-tests_1  | Read at 0x00c42020a000 by goroutine 133:  unit-tests_1  |   runtime.slicebytetostring()  unit-tests_1  |       /opt/go/src/runtime/string.go:72 +0x0  unit-tests_1  |   github.com/hyperledger/fabric/orderer/consensus/kafka.TestLogPossibleKafkaVersionMismatch()  unit-tests_1  |       /opt/go/src/bytes/buffer.go:61 +0x1850  unit-tests_1  |   testing.tRunner()  unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c  unit-tests_1  |  unit-tests_1  | Previous write at 0x00c42020a000 by goroutine 7:  unit-tests_1  |   runtime.slicecopy()  unit-tests_1  |       /opt/go/src/runtime/slice.go:160 +0x0  unit-tests_1  |   bytes.(*Buffer).grow()  unit-tests_1  |       /opt/go/src/bytes/buffer.go:134 +0x3af  unit-tests_1  |   bytes.(*Buffer).Write()  unit-tests_1  |       /opt/go/src/bytes/buffer.go:163 +0x16d  unit-tests_1  |   log.(*Logger).Output()  unit-tests_1  |       /opt/go/src/log/log.go:172 +0x399  unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/op/go-logging.(*LogBackend).Log()  unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/op/go-logging/log_nix.go:75 +0x5b8  unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/op/go-logging.(*moduleLeveled).Log()  unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/op/go-logging/level.go:116 +0x1c9  unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/op/go-logging.(*multiLogger).Log()  unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/op/go-logging/multi.go:31 +0x1d8  unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/op/go-logging.(*Logger).log()  unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/op/go-logging/logger.go:166 +0x2eb  unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/op/go-logging.(*Logger).Critical()  unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/op/go-logging/logger.go:199 +0x68  unit-tests_1  |   github.com/hyperledger/fabric/orderer/consensus/kafka.init.2.func1()  unit-tests_1  |       github.com/hyperledger/fabric/orderer/consensus/kafka/_test/_obj_test/logger.go:53 +0x87  unit-tests_1  |  unit-tests_1  | Goroutine 133 (running) created at:  unit-tests_1  |   testing.(*T).Run()  unit-tests_1  |       /opt/go/src/testing/testing.go:789 +0x568  unit-tests_1  |   testing.runTests.func1()  unit-tests_1  |       /opt/go/src/testing/testing.go:1004 +0xa7  unit-tests_1  |   testing.tRunner()  unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c  unit-tests_1  |   testing.runTests()  unit-tests_1  |       /opt/go/src/testing/testing.go:1002 +0x521  unit-tests_1  |   testing.(*M).Run()  unit-tests_1  |       /opt/go/src/testing/testing.go:921 +0x206  unit-tests_1  |   main.main()  unit-tests_1  |       github.com/hyperledger/fabric/orderer/consensus/kafka/_test/_testmain.go:146 +0x2f0  unit-tests_1  |  unit-tests_1  | Goroutine 7 (running) created at:  unit-tests_1  |   github.com/hyperledger/fabric/orderer/consensus/kafka.init.2()  unit-tests_1  |       github.com/hyperledger/fabric/orderer/consensus/kafka/_test/_obj_test/logger.go:46 +0xa5  unit-tests_1  |   github.com/hyperledger/fabric/orderer/consensus/kafka.init()  unit-tests_1  |       <autogenerated>:1 +0x13a  unit-tests_1  |   main.init()  unit-tests_1  |       <autogenerated>:1 +0xae  unit-tests_1  | ==================  unit-tests_1  | ==================  unit-tests_1  | WARNING: DATA RACE  unit-tests_1  | Read at 0x00c42020a0d0 by goroutine 133:  unit-tests_1  |   runtime.slicebytetostring()  unit-tests_1  |       /opt/go/src/runtime/string.go:72 +0x0  unit-tests_1  |   github.com/hyperledger/fabric/orderer/consensus/kafka.TestLogPossibleKafkaVersionMismatch()  unit-tests_1  |       /opt/go/src/bytes/buffer.go:61 +0x1850  unit-tests_1  |   testing.tRunner()  unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c  unit-tests_1  |  unit-tests_1  | Previous write at 0x00c42020a0d0 by goroutine 7:  unit-tests_1  |   runtime.slicecopy()  unit-tests_1  |       /opt/go/src/runtime/slice.go:160 +0x0  unit-tests_1  |   bytes.(*Buffer).Write()  unit-tests_1  |       /opt/go/src/bytes/buffer.go:165 +0x121  unit-tests_1  |   log.(*Logger).Output()  unit-tests_1  |       /opt/go/src/log/log.go:172 +0x399  unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/op/go-logging.(*LogBackend).Log()  unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/op/go-logging/log_nix.go:75 +0x5b8  unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/op/go-logging.(*moduleLeveled).Log()  unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/op/go-logging/level.go:116 +0x1c9  unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/op/go-logging.(*multiLogger).Log()  unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/op/go-logging/multi.go:31 +0x1d8  unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/op/go-logging.(*Logger).log()  unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/op/go-logging/logger.go:166 +0x2eb  unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/op/go-logging.(*Logger).Critical()  unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/op/go-logging/logger.go:199 +0x68  unit-tests_1  |   github.com/hyperledger/fabric/orderer/consensus/kafka.init.2.func1()  unit-tests_1  |       github.com/hyperledger/fabric/orderer/consensus/kafka/_test/_obj_test/logger.go:53 +0x87  unit-tests_1  |  unit-tests_1  | Goroutine 133 (running) created at:  unit-tests_1  |   testing.(*T).Run()  unit-tests_1  |       /opt/go/src/testing/testing.go:789 +0x568  unit-tests_1  |   testing.runTests.func1()  unit-tests_1  |       /opt/go/src/testing/testing.go:1004 +0xa7  unit-tests_1  |   testing.tRunner()  unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c  unit-tests_1  |   testing.runTests()  unit-tests_1  |       /opt/go/src/testing/testing.go:1002 +0x521  unit-tests_1  |   testing.(*M).Run()  unit-tests_1  |       /opt/go/src/testing/testing.go:921 +0x206  unit-tests_1  |   main.main()  unit-tests_1  |       github.com/hyperledger/fabric/orderer/consensus/kafka/_test/_testmain.go:146 +0x2f0  unit-tests_1  |  unit-tests_1  | Goroutine 7 (running) created at:  unit-tests_1  |   github.com/hyperledger/fabric/orderer/consensus/kafka.init.2()  unit-tests_1  |       github.com/hyperledger/fabric/orderer/consensus/kafka/_test/_obj_test/logger.go:46 +0xa5  unit-tests_1  |   github.com/hyperledger/fabric/orderer/consensus/kafka.init()  unit-tests_1  |       <autogenerated>:1 +0x13a  unit-tests_1  |   main.init()  unit-tests_1  |       <autogenerated>:1 +0xae  unit-tests_1  | =================={code}  ></body> </Action>
<Action id="46759" issue="28888" author="sykesm" type="comment" body="bytes.Buffer does not support concurrent access." created="2018-06-29 16:23:14.0" updateauthor="sykesm" updated="2018-06-29 16:23:14.0"/>
<Action id="46767" issue="28888" author="sykesm" type="comment" body="https://gerrit.hyperledger.org/r/23887" created="2018-06-29 17:36:43.0" updateauthor="sykesm" updated="2018-06-29 17:36:43.0"/>
