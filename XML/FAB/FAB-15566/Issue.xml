<Issue id="40176" key="FAB-15566" number="15566" project="10002" reporter="yoheiueda" assignee="yoheiueda" creator="yoheiueda" type="10001" summary="Support addtional pprof parameters" priority="3" resolution="10001" status="6" created="2019-05-28 10:02:21.0" updated="2019-05-29 06:51:58.0" resolutiondate="2019-05-29 06:51:58.0" votes="0" watches="1" workflowId="53078"> <description><! CDATA We can enable golang's pprof profiling mechanism by setting environment variables  CORE_PEER_PROFILE_ENABLED and ORDERER_GENERAL_PROFILE_ENABLED   https://golang.org/pkg/runtime/pprof/#Profile   However, we can't adjust pprof's parameters for block and mutex profiles for now. To enable and control profiling frequencies, we need to call runtime functions runtime.SetBlockProfileRate and runtime.SetMutexProfileFraction. * https://golang.org/pkg/runtime/#SetBlockProfileRate * https://golang.org/pkg/runtime/#SetMutexProfileFraction  Block and mutex profiles are very convenient tools to analyze performance issues related to locks and I/O waits.  I'd like to have configuration options in core.yaml and orderer.yaml to adjust those parameters.  Corresponding environment variable names will be: * ORDERER_GENERAL_PROFILE_BLOCKPROFILERATE * ORDERER_GENERAL_PROFILE_MUTEXPROFILEFRACTION * CORE_PEER_PROFILE_BLOCKPROFILERATE * CORE_PEER_PROFILE_MUTEXPROFILEFRACTION  The default values of these parameters are set to 0.  It means block/mutex profiles are turned off.     ></description> </Issue>
