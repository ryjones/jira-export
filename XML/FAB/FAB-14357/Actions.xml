<Action id="57604" issue="37990" author="kchristidis" type="comment" created="2019-02-26 18:30:51.0" updateauthor="kchristidis" updated="2019-02-26 18:30:51.0"> <body><! CDATA  ~bharadwajambati1 : Thanks for capturing this. In the last step, I assume we're removing one of the initial orderers from the application channel, correct?   ~guoger : Since you suggested this test - I would assume that we'd also want traffic going on while the orderer is being removed?  ></body> </Action>
<Action id="57608" issue="37990" author="bharadwajambati1" type="comment" body=" ~kchristidis  Yes from the application channel(lets say remove orderer1 from the application channel)" created="2019-02-26 18:57:47.0" updateauthor="bharadwajambati1" updated="2019-02-26 19:02:13.0"/>
<Action id="57614" issue="37990" author="yacovm" type="comment" created="2019-02-26 19:52:52.0" updateauthor="yacovm" updated="2019-02-26 19:52:52.0"> <body><! CDATA Note that if you remove an orderer from the channel, it might be black-listed by the other orderers before it gets the block that removes it. In such a case- after  10 minutes|https://github.com/hyperledger/fabric/blob/master/sampleconfig/orderer.yaml#L402  it should notice that there is no leader for a long time and starts suspecting its own eviction, and will pull the block that is missing and commit it to the ledger and then halt the chain.  ></body> </Action>
<Action id="57626" issue="37990" author="guoger" type="comment" created="2019-02-27 04:47:08.0" updateauthor="guoger" updated="2019-02-27 04:47:08.0"> <body><! CDATA Yes, pls keep traffic running when you perform those steps, preferably in constant mode (send tx back-to-back).  As Yacov stated, you *may* see the node being removed produces some error logs and keeps campaigning for a while till it terminates itself, or you'll see it simply exits without complaining at all, both may be observed.  but if you have any doubts about the behavior, pls let us know.  ~bharadwajambati1   ></body> </Action>
<Action id="57666" issue="37990" author="bharadwajambati1" type="comment" created="2019-02-27 20:37:20.0" updateauthor="bharadwajambati1" updated="2019-02-27 20:37:20.0"> <body><! CDATA After running the traffic for 30 minutes, orderer4 is on boarded.  It took almost 20 minutes to pull all the blocks from the other orderers  Once the orderer4 is in sync with the rest of the orderers, orderer2 is removed.  Below are the logs observed in the orderer2 logs    {code:java} Feb 27 15:06:56 orderer2nd-ordererorg-5cb7dcf99f-m8kbv orderer2nd-ordererorg 2019-02-27 20:06:56.292 UTC  orderer.consensus.etcdraft  apply -> INFO 381ff Current node removed from replica set for channel testorgschannel1 channel=testorgschannel1 node=2 {code}    ></body> </Action>
<Action id="58310" issue="37990" author="scottz" type="comment" body=" ~dongming   I reassigned this to you to rerun; please run traffic at the stable orderers while remove extra orderers from application channel and system channel" created="2019-03-19 18:20:01.0" updateauthor="scottz" updated="2019-03-19 18:20:01.0"/>
<Action id="58400" issue="37990" author="scottz" type="comment" body="Change of assignment again: Bharadwaj will finish this when he runs another new test: FAB-14753." created="2019-03-21 15:58:11.0" updateauthor="scottz" updated="2019-03-21 15:58:11.0"/>
<Action id="58475" issue="37990" author="bharadwajambati1" type="comment" created="2019-03-22 19:55:22.0" updateauthor="bharadwajambati1" updated="2019-03-22 19:55:41.0"> <body><! CDATA * Started the network with 3 orderers in both the orderersystemchannel and the application channel * Started traffic * After a couple of minutes, on-boarded orderer4 to orderersystem channel and application channel * Started the orderer4 * Once its block count got in sync with other orderers, removed orderer3 from the application channel while traffic is running     Below are the logs observed in orderer3 {code:java} Mar 22 15:45:51 orderer3rd-ordererorg1-84d6696c8f-vmvpj orderer3rd-ordererorg1 2019-03-22 19:45:51.386 UTC  orderer.consensus.etcdraft  apply -> INFO 12872 Current node removed from replica set for channel testorgschannel1 channel=testorgschannel1 node=3 {code}  ></body> </Action>
