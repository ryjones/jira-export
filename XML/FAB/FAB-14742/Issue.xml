<Issue id="38623" key="FAB-14742" number="14742" project="10002" reporter="muralisr" assignee="manish-sethi" creator="muralisr" type="10004" summary="channel init failure using lifecycle" priority="3" resolution="10000" status="6" created="2019-03-20 22:31:17.0" updated="2019-05-24 04:16:51.0" resolutiondate="2019-05-24 04:16:51.0" votes="0" watches="4" workflowId="50268"> <description><! CDATA Restarting peer after deploying a lifecycle chaincode results in the following error on channel load: {code:java} ^  33m2019-03-20 18:18:52.268 EDT  peer  Initialize -> WARN 022^  0m Failed to load ledger myc(could not check opaque org state for 'mycc' on channel 'myc': could not get value for key namespaces/metadata/mycc#1: could not create implicit collections for channel: could not get channelconfig for channel myc) {code}  Basically a chicken/egg problem    {code:java} 	for _, cid := range ledgerIds { 		peerLogger.Infof("Loading chain %s", cid) 		if ledger, err = ledgermgmt.OpenLedger(cid); err != nil { . -------> fails here; requires config block to get ChaincodeImplicitCollections 			peerLogger.Warningf("Failed to load ledger %s(%s)", cid, err) 			peerLogger.Debugf("Error while loading ledger %s with message %s. We continue to the next ledger rather than abort.", cid, err) 			continue 		} ... 		// Create a chain if we get a valid ledger with config block 		if err = createChain(cid, ledger, cb, sccp, pm, deployedCCInfoProvider, legacyLifecycleValidation, newLifecycleValidation); err != nil {     --------> config block is obtained here  			peerLogger.Warningf("Failed to load chain %s(%s)", cid, err) 			peerLogger.Debugf("Error reloading chain %s with message %s. We continue to the next chain rather than abort.", cid, err) 			continue 		}  		InitChain(cid) 	} {code}   ></description> </Issue>
