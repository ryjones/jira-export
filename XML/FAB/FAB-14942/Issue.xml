<Issue id="38930" key="FAB-14942" number="14942" project="10002" reporter="c0rwin" assignee="c0rwin" creator="c0rwin" type="10004" summary="Gossip UT failes due to not initialized mock" priority="3" resolution="10000" status="6" created="2019-04-01 21:47:15.0" updated="2019-04-04 11:03:28.0" resolutiondate="2019-04-04 11:03:28.0" votes="0" watches="1" workflowId="51787"> <description><! CDATA {quote} 08:18:28 mock: Unexpected Method Call 08:18:28 ----------------------------- 08:18:28  08:18:28 GetMembership() 08:18:28 		 08:18:28  08:18:28 The closest call I have is:  08:18:28  08:18:28 GetMembership() 08:18:28 		 08:18:28  08:18:28  08:18:28 Diff: No differences. 08:18:28  08:18:28 goroutine 130  running : 08:18:28 github.com/hyperledger/fabric/vendor/github.com/stretchr/testify/mock.(*Mock).fail(0xc0003355e0, 0xed82d3, 0x6f, 0xc000656200, 0x4, 0x4) 08:18:28 	/w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/vendor/github.com/stretchr/testify/mock/mock.go:235 +0x16d 08:18:28 github.com/hyperledger/fabric/vendor/github.com/stretchr/testify/mock.(*Mock).MethodCalled(0xc0003355e0, 0x1414da1, 0xd, 0x0, 0x0, 0x0, 0x4, 0xe33240, 0x7f4a4836a801) 08:18:28 	/w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/vendor/github.com/stretchr/testify/mock/mock.go:357 +0x7f1 08:18:28 github.com/hyperledger/fabric/vendor/github.com/stretchr/testify/mock.(*Mock).Called(0xc0003355e0, 0x0, 0x0, 0x0, 0x10, 0x0, 0x10) 08:18:28 	/w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/vendor/github.com/stretchr/testify/mock/mock.go:333 +0x147 08:18:28 github.com/hyperledger/fabric/gossip/gossip/channel.(*gossipAdapterMock).GetMembership(0xc0003355e0, 0x90, 0xc000052190, 0xc000050f00) 08:18:28 	/w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/gossip/channel/channel_test.go:221 +0x42 08:18:28 github.com/hyperledger/fabric/gossip/gossip/channel.(*gossipChannel).GetPeers(0xc00030b900, 0x1, 0xc0000d8d70, 0xc00021b560) 08:18:28 	/w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/gossip/channel/channel.go:363 +0x78 08:18:28 github.com/hyperledger/fabric/gossip/gossip/channel.(*gossipChannel).GetPeers-fm(0xc0003dde58, 0xc0003dde28, 0x2) 08:18:28 	/w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/gossip/channel/channel.go:289 +0x2a 08:18:28 github.com/hyperledger/fabric/gossip/gossip/channel.(*membershipTracker).trackMembershipChanges(0xc0002c8ec0) 08:18:28 	/w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/gossip/channel/channel.go:1099 +0x326 08:18:28 created by github.com/hyperledger/fabric/gossip/gossip/channel.NewGossipChannel 08:18:28 	/w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/gossip/channel/channel.go:297 +0xa13 08:18:28 FAIL	github.com/hyperledger/fabric/gossip/gossip/channel	0.133s {quote}  observed in: https://gerrit.hyperledger.org/r/#/c/30525/ ci log: https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/11165/consoleFull   ></description> </Issue>
