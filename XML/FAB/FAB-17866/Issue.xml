<Issue id="45032" key="FAB-17866" number="17866" project="10002" reporter="JIRAUSER20105" creator="JIRAUSER20105" type="10004" summary="Operations Listen address not picking IP address &amp; HTTPS client auth issues with /metrics" priority="3" resolution="10203" status="6" created="2020-05-09 01:24:38.0" updated="2020-05-11 16:50:42.0" resolutiondate="2020-05-11 16:50:42.0" votes="0" watches="2" workflowId="58939" archived="N"> <description><! CDATA *Issue 1 - Operations Listen address not picking IP address*  As a user, If I provide the IP address of my VM for operations listen to address in the docker-compose file or core.yaml/orderer.yaml according to this  doc| https://hyperledger-fabric.readthedocs.io/en/release-2.0/operations_service.html   I see the endpoints are not reachable. (Ex - http://orderer0.example.com:4443/healthz)|https://orderer0.example.com:4443/metrics   +Not working example with local IP ( I also tried with public IP)-+ - ORDERER_OPERATIONS_LISTENADDRESS=127.0.0.1:4443 - ORDERER_OPERATIONS_TLS_ENABLED=false   +Working example when mapping  orderer.example.com to IP in host file-+ - ORDERER_OPERATIONS_LISTENADDRESS=orderer.example.com:4443 - ORDERER_OPERATIONS_TLS_ENABLED=false **Attaching sample file for reference which has both DNS names and IP addresses.  *Issue 2 - Client auth issues for Prometheus endpoint (/metrics)*  When ORDERER_OPERATIONS_TLS_ENABLED is set to true and  ORDERER_OPERATIONS_TLS_CLIENTAUTHREQUIRED is set to false below endpoints work but not /metrics.     https://orderer0.example.com:4443/healthz (works)|https://orderer0.example.com:4443/metrics   https://orderer0.example.com:4443/version (works)|https://orderer0.example.com:4443/metrics   https://orderer0.example.com:4443/metrics    /metrics expects CA root certs even when ORDERER_OPERATIONS_TLS_CLIENTAUTHREQUIRED is set to false. Is this the default behavior?   ></description> </Issue>
