<Issue id="40023" key="FAB-15501" number="15501" project="10002" reporter="sambhavdutt" assignee="scottz" creator="sambhavdutt" type="10004" summary="Chaincode is not installed(consistent) in lifecycle feature:(297, 573) in the daily Behave tests" priority="2" resolution="10000" status="6" created="2019-05-21 15:15:30.0" updated="2019-07-10 13:55:45.0" resolutiondate="2019-07-10 13:55:45.0" votes="0" watches="3" workflowId="52923"> <description><! CDATA There has been a consistent error in lifecycle feature:(297,573) (FAB-13959, FAB-13974)When the user queries on chaincode from peer0.org2.example.com, there was an instantiation error observed as chaincode has been defined but not installed. The tests took around 7 hours every day which is the usual time for Behave tests to complete.  *Branch:* master *Error Snippet:* {code:java} Scenario: FAB-13959: An admin from an org does not install chaincode package                                                                                     # lifecycle.feature:297  Then a user receives a response containing "Error: endorsement failure during query. response: status:500" from "peer0.org2.example.com"                       # steps/endorser_impl.py:1219 Then a user receives a response containing 'make sure the chaincode helloNurse has been successfully instantiated and try again' from "peer0.org2.example.com" # steps/endorser_impl.py:1219 Assertion Failed: Expected response was make sure the chaincode helloNurse has been successfully instantiated and try again; received Error occurred  'docker exec peer0.org2.example.com sh -c "CORE_PEER_MSPCONFIGPATH=/var/hyperledger/configs/0522cce07b8811e9b4d6fa163e4d373d/peerOrganizations/org2.example.com/users/User1@org2.example.com/msp CORE_PEER_LOCALMSPID=org2.example.com CORE_PEER_ID=peer0.org2.example.com CORE_PEER_ADDRESS=peer0.org2.example.com:7051 peer chaincode query --name helloNurse --ctor \'{\\"Args\\":  \\"query\\",\\"a\\" }\' --channelID behavesystest "' : Error: endorsement failure during query. response: status:500 message:"make sure the chaincode helloNurse has been successfully defined on channel behavesystest and try again: chaincode definition for 'helloNurse' exists, but chaincode is not installed"  --------------------------------------------------------------------------- Scenario: FAB-13974: An org admin should be able to recover after sending a wrong approval                                                                                                                                        # lifecycle.feature:573 : Then a user receives a response containing 'Error: endorsement failure during query. response: status:500 message:"make sure the chaincode mycc has been successfully instantiated and try again' from "peer0.org1.example.com" # steps/endorser_impl.py:1219 When each organization admin approves the upgraded chaincode package with policy "OutOf(1,'org1.example.com.member','org2.example.com.member','org3.example.com.member')"                                                       # steps/endorser_impl.py:1088 {code} *Build Log*   https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-daily-behave-master-x86_64/256/Behave_Test_Logs/behave_tests.log.gz   ></description> </Issue>
