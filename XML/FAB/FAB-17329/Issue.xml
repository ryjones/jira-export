<Issue id="43877" key="FAB-17329" number="17329" project="10002" reporter="scottz" assignee="bharadwajambati1" creator="scottz" type="10101" summary="TC: k8s migration kafka to raft" priority="3" resolution="10000" status="6" created="2020-01-08 20:24:23.0" updated="2020-06-11 15:31:15.0" resolutiondate="2020-01-21 18:29:40.0" votes="0" watches="1" workflowId="57738"> <description><! CDATA This is a test scenario using fabric-test Operator + PTE and bash script for administrator functions: * kafka-to-raft_migration.  Refer to fabric-test/regression/systemtest/sysTestSuite_pte.py function test_09raftMigration , or the new version of this test found at fabric-test/ tools/operator/networkclient/migrateToRaft.go|https://github.com/hyperledger/fabric-test/pull/22/files#diff-1e8ce4bacb577f0e866273e012c3146d  function MigrateToRaft. (For more background, refer to FAB-16259 and FAB-15760, or readthedocs.)  * Use Operator to launch a small network (minimum 3 orderers, 2 orgs and 2 peers per org), preferably in k8s cluster. * Configure using kafka, couchdb, multiple channels. * Use PTE to execute invokes and queries. * Following the proper documented steps for migration, for each channel: submit transaction to take the channel to maintenance mode, change the orderertype to raft, restart the orderers, and submit config TX to change mode to normal again. * Note: any transactions submitted by clients while the channel is in Maintenance Mode should be rejected with 503-ServiceUnavailable. * Use PTE to execute new invokes and queries, and confirm all new transactions are successful. There should be no panics and no error logs observed.     ></description> </Issue>
