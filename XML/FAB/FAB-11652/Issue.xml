<Issue id="33035" key="FAB-11652" number="11652" project="10002" reporter="thakurnikk" creator="thakurnikk" type="10004" summary="make all command in fabric directory  results in failed unit test and some other error" priority="3" resolution="10203" status="6" created="2018-08-20 05:33:35.0" updated="2018-09-21 14:43:12.0" resolutiondate="2018-09-21 14:43:12.0" votes="1" watches="6" workflowId="44240"> <description><! CDATA I have pulled github.com/hyperledger/fabric  v1.2.0 and using an ubuntu machine.  i was trying to create binaries (peer, orderer, etc...) using the make all commmand in the github.com/hyperledger/fabric/  directory, but it results in some issues during the execution of the Makefile and eventually results in a failed unit test.  issue 1 :  cannot create the /.cache directory {code:java} Building dockerized gotools make 1 : Entering directory '/opt/gopath/src/github.com/hyperledger/fabric' Building github.com/maxbrunsfeld/counterfeiter -> counterfeiter go: disabling cache (/.cache/go-build) due to initialization failure: mkdir /.cache: permission denied make 1 : Leaving directory '/opt/gopath/src/github.com/hyperledger/fabric' make 1 : Entering directory '/opt/gopath/src/github.com/hyperledger/fabric' Building github.com/golang/dep v0.4.1 -> dep go: disabling cache (/.cache/go-build) due to initialization failure: mkdir /.cache: permission denied make 1 : Leaving directory '/opt/gopath/src/github.com/hyperledger/fabric' make 1 : Entering directory '/opt/gopath/src/github.com/hyperledger/fabric' Building github.com/golang/lint/golint -> golint go: disabling cache (/.cache/go-build) due to initialization failure: mkdir /.cache: permission denied make 1 : Leaving directory '/opt/gopath/src/github.com/hyperledger/fabric' make 1 : Entering directory '/opt/gopath/src/github.com/hyperledger/fabric' Building golang.org/x/tools/cmd/goimports -> goimports go: disabling cache (/.cache/go-build) due to initialization failure: mkdir /.cache: permission denied make 1 : Leaving directory '/opt/gopath/src/github.com/hyperledger/fabric' make 1 : Entering directory '/opt/gopath/src/github.com/hyperledger/fabric' Building github.com/golang/protobuf/protoc-gen-go -> protoc-gen-go go: disabling cache (/.cache/go-build) due to initialization failure: mkdir /.cache: permission denied make 1 : Leaving directory '/opt/gopath/src/github.com/hyperledger/fabric' make 1 : Entering directory '/opt/gopath/src/github.com/hyperledger/fabric' Building github.com/onsi/ginkgo/ginkgo -> ginkgo go: disabling cache (/.cache/go-build) due to initialization failure: mkdir /.cache: permission denied make 1 : Leaving directory '/opt/gopath/src/github.com/hyperledger/fabric' make 1 : Entering directory '/opt/gopath/src/github.com/hyperledger/fabric' Building github.com/axw/gocov/gocov -> gocov go: disabling cache (/.cache/go-build) due to initialization failure: mkdir /.cache: permission denied make 1 : Leaving directory '/opt/gopath/src/github.com/hyperledger/fabric' make 1 : Entering directory '/opt/gopath/src/github.com/hyperledger/fabric' Building github.com/AlekSi/gocov-xml -> gocov-xml go: disabling cache (/.cache/go-build) due to initialization failure: mkdir /.cache: permission denied make 1 : Leaving directory '/opt/gopath/src/github.com/hyperledger/fabric' make 1 : Entering directory '/opt/gopath/src/github.com/hyperledger/fabric' Building github.com/client9/misspell/cmd/misspell -> misspell go: disabling cache (/.cache/go-build) due to initialization failure: mkdir /.cache: permission denied make 1 : Leaving directory '/opt/gopath/src/github.com/hyperledger/fabric' make 1 : Entering directory '/opt/gopath/src/github.com/hyperledger/fabric' Building github.com/vektra/mockery/cmd/mockery -> mockery go: disabling cache (/.cache/go-build) due to initialization failure: mkdir /.cache: permission denied{code}    issue 2: {code:java} debconf: unable to initialize frontend: Dialog debconf: (TERM is not set, so the dialog frontend is not usable.) debconf: falling back to frontend: Readline debconf: unable to initialize frontend: Readline debconf: (This frontend requires a controlling tty.) debconf: falling back to frontend: Teletype dpkg-preconfigure: unable to re-open stdin:{code}       issue 3:  Setting TEST_PKGS  and JOB_TYPE variable {code:java} WARNING: The TEST_PKGS variable is not set. Defaulting to a blank string. WARNING: The JOB_TYPE variable is not set. Defaulting to a blank string{code}    Why did the unit test fail? {code:java} unit-test_unit-tests_1 exited with code 1 Aborting on container exit... Stopping couchdb                ... done Makefile:190: recipe for target 'unit-test' failed make: ***  unit-test  Error 1 {code}    ></description> </Issue>
