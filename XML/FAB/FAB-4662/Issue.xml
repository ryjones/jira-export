<Issue id="17940" key="FAB-4662" number="4662" project="10002" reporter="clayton sims" assignee="ratnakar" creator="clayton sims" type="10003" summary="Test for core function of recording invalid transactions as first/middle/last transaction of a block." priority="3" resolution="10000" status="6" created="2017-06-14 19:27:19.0" updated="2018-07-20 14:13:20.0" resolutiondate="2017-06-16 22:55:24.0" votes="0" watches="0" workflowId="39025"> <description><! CDATA    Test Name : _Test for core function of recording invalid transactions as first/middle/last transaction of a block._  Component: _Ledger_  Description :  Test for core function of recording invalid transactions as first/middle/last transaction of a block. Spin up minimal Fabric network, with batchsize=3 and batchtimeout=10s (default, is long enough to easily send all the transactions). Send 4 trans that update the same key in the same block (could use example02), using same channel and chaincode. Immediately after, also send another (5th) transaction which uses a DIFFERENT chaincode instance in the same channel. Expected: MVCC check should Validate the 1st and last transaction, and mark as Invalid all the others. Confirm exactly that by querying afterwards. (It is important to send that 4th transaction quickly enough before the first block of transactions is ordererd and written to ledger, so that it uses the same KV precondition as the first 3 transactions.) BLOCK1=  Valid , Invalid , Invalid   , BLOCK2=  Invalid , Valid   * _+How to test+_ *_+:+_* {panel} Fabric commit level: d4a8aab0d6ff62f160d27ccc287f768806591372 Fabric-ca commit level: 1424b3378df7086a651c533280cdcc3a2055b033 {panel}  _Node SDK modules:_ {panel} fabric-client@1.0.0-snapshot.80 fabric-ca-client@1.0.0-snapshot.80 {panel} Network used : Standard Network  Node test framework has been used from this repo:  https://github.com/asararatnakar/FabricNodeApp1.0   framework commit level : *3e43f974a04bdccc09a6ff763fbcf5ffb043121b*  Enclosed the test script  ^test.sh     +Artifact Locations+:  see How to test section above  +Network Topology+: Standard network     ></description> </Issue>
