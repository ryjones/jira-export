<Issue id="36638" key="FAB-13613" number="13613" project="10002" reporter="guoger" assignee="guoger" creator="guoger" type="10003" summary="Manipulating `StepStub` should be guarded by lock to avoid race" priority="3" resolution="10000" status="6" created="2019-01-10 09:03:48.0" updated="2019-03-03 12:58:36.0" resolutiondate="2019-01-20 15:42:50.0" votes="0" watches="1" workflowId="48184"> <description><! CDATA In our UT, sometimes we intercept `StepStub` call to insert extra logic to emulate certain network behavior, e.g. adding a filter to drop certain type of message.  However, this pattern is racy because code may call `Step` at the same time we manipulate the stub in UT.  ></description> </Issue>
