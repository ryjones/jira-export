<Issue id="37907" key="FAB-14306" number="14306" project="10002" reporter="latitiah" assignee="wlahti" creator="latitiah" type="10004" summary="Panics with ApproveForMyOrg and Commit commands" priority="3" resolution="10000" status="6" created="2019-02-22 14:45:08.0" updated="2019-03-21 17:56:28.0" resolutiondate="2019-03-21 17:56:28.0" votes="0" watches="2" workflowId="49524"> <description><! CDATA A panic error is seen when executing the following command: {code}peer lifecycle chaincode approveformyorg --name mycc --channelID behavesystest --version 0 --peerAddresses  172.22.0.6:7051 --peerAddresses 172.22.0.8:7051 --hash 730045c6268d8b4dc31800b0bee475b3c9776d59734f91ac8e130b03d4a025c5 --sequence 1 --init-required --escc escc --vscc vscc --waitForEvent --orderer orderer0.example.com:7050 --policy "OR ('org1.example.com.member','org2.example.com.member')"{code}  Error: {code}panic: runtime error: index out of range  goroutine 1  running : github.com/hyperledger/fabric/peer/lifecycle/chaincode.InitCmdFactory(0x17f1ff5, 0xf, 0x101, 0xc00047bc80, 0x1342920, 0xc00047bc68) 	/go/src/github.com/hyperledger/fabric/peer/lifecycle/chaincode/common.go:42 +0x11db github.com/hyperledger/fabric/peer/lifecycle/chaincode.approveForMyOrgCmd.func1(0xc0003fe280, 0xc0003de3c0, 0x0, 0x14, 0x0, 0x0) 	/go/src/github.com/hyperledger/fabric/peer/lifecycle/chaincode/approveformyorg.go:123 +0x251 github.com/hyperledger/fabric/vendor/github.com/spf13/cobra.(*Command).execute(0xc0003fe280, 0xc0003de280, 0x14, 0x14, 0xc0003fe280, 0xc0003de280) 	/go/src/github.com/hyperledger/fabric/vendor/github.com/spf13/cobra/command.go:762 +0x473 github.com/hyperledger/fabric/vendor/github.com/spf13/cobra.(*Command).ExecuteC(0x2482900, 0x1, 0x0, 0x2481ac0) 	/go/src/github.com/hyperledger/fabric/vendor/github.com/spf13/cobra/command.go:852 +0x2fd github.com/hyperledger/fabric/vendor/github.com/spf13/cobra.(*Command).Execute(0x2482900, 0xc00047bf38, 0x1) 	/go/src/github.com/hyperledger/fabric/vendor/github.com/spf13/cobra/command.go:800 +0x2b main.main() 	/go/src/github.com/hyperledger/fabric/peer/main.go:53 +0x33a  panic: runtime error: index out of range  goroutine 1  running : github.com/hyperledger/fabric/peer/lifecycle/chaincode.InitCmdFactory(0x17f1ff5, 0xf, 0x101, 0xc000415c80, 0x1342920, 0xc000415c68) 	/go/src/github.com/hyperledger/fabric/peer/lifecycle/chaincode/common.go:42 +0x11db github.com/hyperledger/fabric/peer/lifecycle/chaincode.approveForMyOrgCmd.func1(0xc00026e280, 0xc000126500, 0x0, 0x14, 0x0, 0x0) 	/go/src/github.com/hyperledger/fabric/peer/lifecycle/chaincode/approveformyorg.go:123 +0x251 github.com/hyperledger/fabric/vendor/github.com/spf13/cobra.(*Command).execute(0xc00026e280, 0xc0001263c0, 0x14, 0x14, 0xc00026e280, 0xc0001263c0) 	/go/src/github.com/hyperledger/fabric/vendor/github.com/spf13/cobra/command.go:762 +0x473 github.com/hyperledger/fabric/vendor/github.com/spf13/cobra.(*Command).ExecuteC(0x2482900, 0x1, 0x0, 0x2481ac0) 	/go/src/github.com/hyperledger/fabric/vendor/github.com/spf13/cobra/command.go:852 +0x2fd github.com/hyperledger/fabric/vendor/github.com/spf13/cobra.(*Command).Execute(0x2482900, 0xc000501f38, 0x1) 	/go/src/github.com/hyperledger/fabric/vendor/github.com/spf13/cobra/command.go:800 +0x2b main.main() 	/go/src/github.com/hyperledger/fabric/peer/main.go:53 +0x33a{code}  For the commit command: {code}peer lifecycle chaincode commit --name mycc --channelID behavesystest --version 0 --hash 730045c6268d8b4dc31800b0bee475b3c9776d59734f91ac8e130b03d4a025c5 --sequence 1 --init-required --escc escc --vscc vscc --waitForEvent --orderer orderer0.example.com:7050 --peerAddresses 172.22.0.6:7051 --peerAddresses 172.22.0.7:7051 --orderer orderer0.example.com:7050 --policy "OR ('org1.example.com.member','org2.example.com.member')"{code}  Error: {code}panic: runtime error: index out of range  goroutine 1  running : github.com/hyperledger/fabric/peer/lifecycle/chaincode.InitCmdFactory(0x17e79a1, 0x6, 0x101, 0xc0002f7c80, 0x1342920, 0xc0002f7c68) 	/go/src/github.com/hyperledger/fabric/peer/lifecycle/chaincode/common.go:42 +0x11db github.com/hyperledger/fabric/peer/lifecycle/chaincode.commitCmd.func1(0xc000244500, 0xc000248160, 0x0, 0x16, 0x0, 0x0) 	/go/src/github.com/hyperledger/fabric/peer/lifecycle/chaincode/commit.go:125 +0x251 github.com/hyperledger/fabric/vendor/github.com/spf13/cobra.(*Command).execute(0xc000244500, 0xc000248000, 0x16, 0x16, 0xc000244500, 0xc000248000) 	/go/src/github.com/hyperledger/fabric/vendor/github.com/spf13/cobra/command.go:762 +0x473 github.com/hyperledger/fabric/vendor/github.com/spf13/cobra.(*Command).ExecuteC(0x2482900, 0x1, 0x0, 0x2481ac0) 	/go/src/github.com/hyperledger/fabric/vendor/github.com/spf13/cobra/command.go:852 +0x2fd github.com/hyperledger/fabric/vendor/github.com/spf13/cobra.(*Command).Execute(0x2482900, 0xc0002f7f38, 0x1) 	/go/src/github.com/hyperledger/fabric/vendor/github.com/spf13/cobra/command.go:800 +0x2b main.main() 	/go/src/github.com/hyperledger/fabric/peer/main.go:53 +0x33a{code}  This test is executed using the fabric-test bdd-based test framework.   ></description> </Issue>
