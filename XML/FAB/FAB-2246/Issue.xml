<Issue id="14806" key="FAB-2246" number="2246" project="10002" reporter="nishi" creator="nishi" type="10004" summary="With new deploy procedure peer0 crashed after instantiating chaincode from CLI" priority="2" resolution="10000" status="6" created="2017-02-15 14:41:43.0" updated="2018-07-20 14:11:39.0" resolutiondate="2017-04-11 22:02:00.0" votes="0" watches="2" workflowId="37447"> <description><! CDATA Followed steps in  https://github.com/asararatnakar/chaincode_sample  from section - "Using Docker-compose".  Please find attached docker-compose-channel.yml used in test.  It consistently failed in step2 of Deploy section i..e. during instantiating a chaincode:  Error from peer0 logs:  2017-02-15 14:30:05.553 UTC  gossip/comm#-1  Send -> INFO 569 Entering, sending tag:EMPTY signature:"0E\002!\000\334\215*\346\245a\270\246rX@\322\323\030z\221\306 \347GJ\233k\026\225J\023\376\321\232OB\002 \024\222(j\216\203e*\375\0073 \206A\247\214\362\215\033\261\270\344=\2436\203\350F\003\nT\\" aliveMsg:<membership:<pkiID:"\037\273\337\266\307\256 \312\266\303Le\301DR\221K3K\366x\205\271\032\355\320\226\211\237H\332\205" internalEndpoint:<endpoint:"172.21.0.3:7051" signature:"0E\002!\000\326\016+\215\306\225$\365l.\2124\367\342\374I\202\247\347\0102\301x\244\t\0233\310\226\366\"\273\002 X+x+0$'%\337\233\022\317\216'To\350\235\333\2420N\320\324!V\332\201\n\256\214\350" > > timestamp:<inc_number:1487168745484341504 seqNum:139 > >  to  0 peers 2017-02-15 14:30:07.424 UTC  protoutils  ValidateProposalMessage -> INFO 56a ValidateProposalMessage starts for signed proposal 0xc4200e7bc0 2017-02-15 14:30:07.424 UTC  protoutils  validateChannelHeader -> INFO 56b validateChannelHeader info: header type 3 2017-02-15 14:30:07.424 UTC  protoutils  checkSignatureFromCreator -> INFO 56c checkSignatureFromCreator starts panic: runtime error: invalid memory address or nil pointer dereference  signal SIGSEGV: segmentation violation code=0x1 addr=0x20 pc=0x8c5c13   goroutine 1021  running : panic(0xbbb660, 0xc420014050) 	/opt/go/src/runtime/panic.go:500 +0x1a1 github.com/hyperledger/fabric/common/configtx/handlers/msp.(*MSPConfigHandler).DeserializeIdentity(0xc42028df40, 0xc421b4a400, 0x3a6, 0x3a6, 0x0, 0x0, 0xc420215e10, 0x1) 	<autogenerated>:1 +0x43 github.com/hyperledger/fabric/core/common/validation.checkSignatureFromCreator(0xc421b4a400, 0x3a6, 0x3a6, 0xc421a8ed70, 0x46, 0x46, 0xc421b48000, 0x4af, 0x4af, 0xc420215e00, ...) 	/opt/gopath/src/github.com/hyperledger/fabric/core/common/validation/msgvalidation.go:129 +0x156 github.com/hyperledger/fabric/core/common/validation.ValidateProposalMessage(0xc4200e7bc0, 0xed0365cef, 0x1952bfda, 0x1273380, 0xb1e0, 0x100) 	/opt/gopath/src/github.com/hyperledger/fabric/core/common/validation/msgvalidation.go:81 +0x1bf github.com/hyperledger/fabric/core/endorser.(*Endorser).ProcessProposal(0x1297010, 0x7fa516c7a8a8, 0xc4200e7b60, 0xc4200e7bc0, 0x0, 0x0, 0x0) 	/opt/gopath/src/github.com/hyperledger/fabric/core/endorser/endorser.go:266 +0x67 github.com/hyperledger/fabric/protos/peer._Endorser_ProcessProposal_Handler(0xc2d620, 0x1297010, 0x7fa516c7a8a8, 0xc4200e7b60, 0xc421b352c0, 0x0, 0x0, 0x4416bb, 0x8000, 0xb767c0) 	/opt/gopath/src/github.com/hyperledger/fabric/protos/peer/peer.pb.go:99 +0x27d github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*Server).processUnaryRPC(0xc4200741b0, 0x1259ae0, 0xc421aa3b90, 0xc420084f00, 0xc4201907e0, 0x1239970, 0xc4200e7b30, 0x0, 0x0) 	/opt/gopath/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/server.go:580 +0xa2d github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*Server).handleStream(0xc4200741b0, 0x1259ae0, 0xc421aa3b90, 0xc420084f00, 0xc4200e7b30) 	/opt/gopath/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/server.go:737 +0x6ad github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*Server).serveStreams.func1.1(0xc420215c80, 0xc4200741b0, 0x1259ae0, 0xc421aa3b90, 0xc420084f00) 	/opt/gopath/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/server.go:402 +0xab created by github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*Server).serveStreams.func1 	/opt/gopath/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/server.go:403 +0xa3    ></description> </Issue>
