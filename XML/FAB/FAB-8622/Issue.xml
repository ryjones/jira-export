<Issue id="28168" key="FAB-8622" number="8622" project="10002" reporter="senthil1" assignee="senthil1" creator="senthil1" type="10003" summary="CouchDB: Reduce exclusive lock holding time on database during the final state update to database" description="Currently, ledger transaction manager acquires an exclusive lock on the database before calling ApplyUpdates(). Within this locking period only, we fetch revision number of missing keys and check whether the document is either JSON or attachment, and add certain metadata filed to the document. As this exclusive lock affects the time taken to simulate a transaction, it would be better to remove certain operation such as loading missing keys revisions, checking json struct, and wrapping the doc with metadata out of the lock holding period and acquire the lock only during the final bulk update REST API call to couchDB.  " priority="3" resolution="10001" status="6" created="2018-03-01 19:15:03.0" updated="2020-01-22 22:31:08.0" resolutiondate="2020-01-22 22:31:08.0" votes="0" watches="5" workflowId="45713"/>
