<Issue id="17507" key="FAB-4376" number="4376" project="10002" reporter="jyellick" assignee="manish-sethi" creator="jyellick" type="10001" summary="Ledger invalid txs are encoded incorrectly (proto message not utilized)" priority="3" resolution="10001" status="6" created="2017-06-05 18:08:58.0" updated="2020-01-22 19:15:01.0" resolutiondate="2020-01-22 19:15:01.0" votes="4" watches="8" workflowId="35202" security="10001"> <description><! CDATA The block metadata proto specifies that block metadata fields must be encoded as {{common.Metadata}} proto structures.  This is required to support signing block metadata, as any data in the metadata section is vulnerable to undetectable tampering without it.  Although for v1 populating and validating the signature field is not in the cards, it is critical that the data be encoded properly so that we can support signatures and validation in the future.  The invalid txs are simply encoded as a raw bitmask today with no notion of versioning, so changing the format of this field is going to be very difficult if it is not handled before the v1 release.  The invalid txs should be encoded in a proto message, marshaled and set to the {{value}} field of a {{common.Metadata}} message.  ></description> </Issue>
