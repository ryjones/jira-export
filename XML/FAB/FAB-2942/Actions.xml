<Action id="21787" issue="15521" author="mastersingh24" type="comment" created="2017-04-02 11:46:41.0" updateauthor="mastersingh24" updated="2017-04-02 11:46:41.0"> <body><! CDATA  ~davidkel  - my best guess is that the CN in the TLS certificate(s) you are using for the peers don't match the hostname(s) of the peers  (which would be peer0 and peer1).  Can you check to see what the CN is in the CORE_PEER_TLS_CERT_FILE for each of your peers?   ></body> </Action>
<Action id="21803" issue="15521" author="mastersingh24" type="comment" body=" ~davidkel  - My best guess is that the CN&apos;s in the CORE_PEER_TLS_CERT_FILE used for each peer do not contain the correct hostname&apos;s (peer0 and peer1).  Can you check the cert for each peer?" created="2017-04-02 13:28:54.0" updateauthor="mastersingh24" updated="2017-04-02 13:28:54.0"/>
<Action id="21874" issue="15521" author="davidkel" type="comment" created="2017-04-05 08:29:23.0" updateauthor="davidkel" updated="2017-04-05 08:29:23.0"> <body><! CDATA Many thanks for the reply. I will check when I am back in the office to confirm. If that is the case is there a way to override the host name for testing purposes ? if not then I will look at creating my own certificates with the correct CN.   ></body> </Action>
<Action id="22081" issue="15521" author="davidkel" type="comment" created="2017-04-11 12:32:01.0" updateauthor="davidkel" updated="2017-04-11 12:32:29.0"> <body><! CDATA I've checked the CN for the CORE_PEER_TLS_CERT_FILE for each of the peers and they are different. The first has a CN of peer0 and the second has a CN of peer1. I noticed that the hostnames for the peer docker containers were random so I tried again by setting their hostnames respectively to peer0 and peer1 but the problem still occurs. I see the following in the peer logs {code} 2017-04-11 12:06:59.578 UTC  qscc  Init -> INFO 032 Init QSCC 2017-04-11 12:06:59.578 UTC  sysccapi  deploySysCC -> INFO 033 system chaincode qscc/mychannel(github.com/hyperledger/fabric/core/chaincode/qscc) deployed 2017-04-11 12:06:59.588 UTC  gossip/comm#-1  authenticateRemotePeer -> WARN 034 Remote peer 172.19.0.4:7051 didn't send TLS certificate 2017-04-11 12:06:59.588 UTC  gossip/gossip#peer1:7051  func1 -> WARN 035 Deep probe of peer0:7051 failed: Remote peer 172.19.0.4:7051 didn't send TLS certificate 2017-04-11 12:06:59.592 UTC  gossip/comm#-1  authenticateRemotePeer -> WARN 036 Remote peer 172.19.0.4:7051 didn't send TLS certificate 2017-04-11 12:06:59.592 UTC  gossip/comm#-1  sendToEndpoint -> WARN 037 Failed obtaining connection for peer0:7051, PKIid:   reason: Remote peer 172.19.0.4:7051 didn't send TLS certificate 2017-04-11 12:21:31.281 UTC  chaincode  Launch -> ERRO 038 launchAndWaitForRegister failed Timeout expired while starting chaincode digitalproperty-network:0.5.10(networkid:dev,peerid:peer1,tx:546df531c6bab54bfbf26ffdbca9eb83a3edd9c208245c7fea9b42ebd40d216d) 2017-04-11 12:21:31.344 UTC  eventhub_producer  Chat -> ERRO 039 Error during Chat, stopping handler: stream error: code = 1 desc = "context canceled" {code} setting GOSSIP_ORGLEADER=true on both peers solves the problem  ></body> </Action>
<Action id="23208" issue="15521" author="mastersingh24" type="comment" body=" ~davidkel  - Is this still an issue?  I&apos;ve been using the examples/e2e_cli setup which uses TLS by default and don&apos;t seem to have this problem" created="2017-04-30 17:32:23.0" updateauthor="mastersingh24" updated="2017-04-30 17:32:23.0"/>
<Action id="23209" issue="15521" author="mastersingh24" type="comment" body="I don&apos;t see this error so perhaps it was a point in time thing" created="2017-04-30 17:33:12.0" updateauthor="mastersingh24" updated="2017-04-30 17:33:12.0"/>
<Action id="23858" issue="15521" author="mastersingh24" type="comment" body="This was resolved withÂ FAB-3105" created="2017-05-15 09:46:02.0" updateauthor="mastersingh24" updated="2017-05-15 09:46:02.0"/>
