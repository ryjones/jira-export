<Issue id="31423" key="FAB-10899" number="10899" project="10002" reporter="dongming" creator="dongming" type="10004" summary="fail to bring up chaincode container" priority="3" resolution="10000" status="6" created="2018-06-27 19:13:16.0" updated="2018-07-20 14:17:04.0" resolutiondate="2018-07-10 09:12:29.0" votes="0" watches="3" workflowId="42562"> <description><! CDATA With fabric commit 9acd9cd,  network configuration:       3 channels, 2 org per channel, toal 6 org, channel 1 has org 1 and 2, channel 2 have org 3 and 4, channel 3 has org 5 and 6       2 peers per org, total 12 peers  after instantiate chaincode on peer0 org1, peer0 org3, perr0 org5.  Then, in 12 threads simultaneously, execute 1000 queries each, against all 12 peers at the same time, and we observed afterwards that no chaincode containers are created on some of the peers (where instantiation did not occur), while the docker images are up:     docker images:  dev-peer0.org4.example.com-sample_cc_ch2-v0-d82729688a91a7d96ade4174ec976285f85e998059961d2ad5241130eb7144b7 latest 03784cbfab5e 20 seconds ago 142MB dev-peer1.org3.example.com-sample_cc_ch2-v0-3178b19f4eed07389bb85356b71f900c586879053c8ba96e34849281e5d86949 latest f5bca38920e6 20 seconds ago 142MB dev-peer0.org6.example.com-sample_cc_ch3-v0-e7e49f786cab3fb6ef57b7cbb4c3ad86bfde41a1251d6acd8414fc252917ff69 latest c7ef2516616a 21 seconds ago 142MB dev-peer0.org2.example.com-sample_cc_ch1-v0-52a7467fa8e42ba684ebaac214a836f53b31da715d22e420dd7e2dfa0eb4b1d2 latest 47cdc960e106 21 seconds ago 142MB dev-peer1.org6.example.com-sample_cc_ch3-v0-e5107cc39b5b937c55718c9a0f35d86703ef723d5bf138f9f988e786d9186af3 latest 127a6a32999b 21 seconds ago 142MB dev-peer1.org4.example.com-sample_cc_ch2-v0-2475c7fcf8b8c8688030635a4ddc5fc2e17e15b099ba9ed0ad593d5572e9a535 latest 4ed0a22505a4 21 seconds ago 142MB dev-peer1.org1.example.com-sample_cc_ch1-v0-d029892e6a969c91ae28bef9d5f1a09ab5cb4e7f95362e71c3d89b1a0d438eb2 latest c7077862c0da 22 seconds ago 142MB dev-peer1.org2.example.com-sample_cc_ch1-v0-4702f059e78dcc157b65a573fd4a5b823a5726c32f078bbd7ac6f637adf8a84a latest f098f0f884dd 22 seconds ago 142MB dev-peer1.org5.example.com-sample_cc_ch3-v0-170a92884d9e1d04b8ef64540aff03cc849141f9cdbb484c486e1edd58ddb89e latest 055bdd4bc1da 24 seconds ago 142MB dev-peer0.org3.example.com-sample_cc_ch2-v0-eae61bb564d0d75ff05476df7ac3b4a019e6258a14dd40c44a80dbc2d1f82dc3 latest 407f4ab37cc1 5 minutes ago 142MB dev-peer0.org5.example.com-sample_cc_ch3-v0-7b4389dc667d19de9b84d6f8686f8e76b65c0c77220b9010df90de411a139d72 latest 49f5642d3e2d 5 minutes ago 142MB dev-peer0.org1.example.com-sample_cc_ch1-v0-6fbe04d12e1fad15771a4966a0db1c43d0d7aa7008ffa45d045704cf5cfe0d67 latest 2b639e5af564 5 minutes ago 142MB     chaincode containers (only the three created from instantiation):  6ca120cfdd18 dev-peer0.org3.example.com-sample_cc_ch2-v0-eae61bb564d0d75ff05476df7ac3b4a019e6258a14dd40c44a80dbc2d1f82dc3 "chaincode -peer.add…" 5 minutes ago Up 5 minutes dev-peer0.org3.example.com-sample_cc_ch2-v0 dc70dc7b60a6 dev-peer0.org5.example.com-sample_cc_ch3-v0-7b4389dc667d19de9b84d6f8686f8e76b65c0c77220b9010df90de411a139d72 "chaincode -peer.add…" 5 minutes ago Up 5 minutes dev-peer0.org5.example.com-sample_cc_ch3-v0 3c42e9bbf76c dev-peer0.org1.example.com-sample_cc_ch1-v0-6fbe04d12e1fad15771a4966a0db1c43d0d7aa7008ffa45d045704cf5cfe0d67 "chaincode -peer.add…" 5 minutes ago Up 5 minutes dev-peer0.org1.example.com-sample_cc_ch1-v0      Wait for 30 min and the chaincode containers are still not up.  Then send queries to all peers again, and the chaincode containers come up.     ></description> </Issue>
