<Issue id="16853" key="FAB-4004" number="4004" project="10002" reporter="jsong1230" assignee="jyellick" creator="jsong1230" type="10004" summary="ORDERER_TRANSACTION error" priority="3" resolution="10000" status="6" created="2017-05-18 12:05:01.0" updated="2018-07-20 14:12:50.0" resolutiondate="2017-06-03 05:22:04.0" votes="0" watches="2" workflowId="38567"> <description><! CDATA I am trying to deploy a real fabric network without docker. I had no problem in alpha version, but got the following error in alpha2 version.  My network has 2 peers and 1 orderer. I used a CLI command.  Please find my commands.  {color:#ff0000}orderer{color}  {color:#ff0000}peer node start -o \{orderer IP}:7050{color}     After starting orderer, peer 1, 2, I created a block and tx. {color:#ff0000}configtxgen -profile SampleSingleMSPSolo -outputBlock ch4-1.block{color} {color:#ff0000}configtxgen -profile SampleSingleMSPChannel -outputCreateChannelTx ch4-1.tx -channelID ch4-1{color} Then created a channel and joined it at peer 1 {color:#ff0000}peer channel create -o \{orderer1 IP}:7050 -c ch4-1 -f ch4-1.tx -b ch4-1.block{color} {color:#ff0000}peer channel join -o \{orderer1 IP}:7050 -b ch4-1.block -f ch4-1.tx{color}   Copied tx and block from peer 1 to peer 2 Then join a ch4-1 channel at peer 2 {color:#ff0000}peer channel join -o \{orderer1 IP}:7050 -b ch4-1.block -f ch4-1.tx{color}   It seems fine till this point.  I have tested myccttttt chancode at peer 1. {color:#ff0000}peer chaincode install -C ch4-1 -n myccttttt -v 0.4 -p github.com/hyperledger/fabric/examples/chaincode/go/chaincode_example02 -c '\{"Args": "init","a","100","b","200" }'{color} {color:#ff0000}peer chaincode instantiate -n myccttttt -v 0.4 -c '\{"Args": "init","a","100","b","200" }' -o\{orderer1 IP}:7050 -C ch4-1 -P "OR ('OrdererMSP.member','Org1MSP.member')"{color} {color:#ff0000}peer chaincode invoke -n myccttttt -c '\{"Args": "invoke","a","b","10" }' -o \{orderer1 IP}:7050 -C ch4-1{color} {color:#ff0000}peer chaincode query -n myccttttt -c '\{"Args": "query","a" }' -o \{orderer1 IP}:7050 -C ch4-1{color}   But when I tried query at peer 2, I got some errors as below. {color:#ff0000}peer chaincode install -C ch4-1 -n myccttttt -v 0.4 -p github.com/hyperledger/fabric/examples/chaincode/go/chaincode_example02 -c '\{"Args": "init","a","100","b","200" }'{color} {color:#ff0000}peer chaincode query -n myccttttt -c '\{"Args": "query","a" }' -o \{orderer1 IP}:7050 -C ch4-1{color}   and got the following error at peer 2.  {color:#ff0000}2017-05-18 20:47:35.011 KST  gossip/gossip  Gossip -> WARN 049 Failed obtaining gossipChannel of  116 101 115 116 99 104 97 105 110 105 100  aborting{color} {color:#ff0000}2017-05-18 20:47:35.011 KST  protoutils  ValidateTransaction -> ERRO 04a validateCommonHeader returns err invalid header type ORDERER_TRANSACTION{color} {color:#ff0000}2017-05-18 20:47:35.011 KST  txvalidator  Validate -> ERRO 04b Invalid transaction with index 0{color} {color:#ff0000}2017-05-18 20:47:35.011 KST  statevalidator  ValidateAndPrepareBatch -> WARN 04c Block  1  Transaction index  0  marked as invalid by committer. Reason code  3 {color}   Am I doing something wrong?  Here I attach my core.yaml, orderer.yaml, and configtx.yaml files.    It guess there is something being changed about policies.  Below is the warning and error messages in orderer window.  Thanks in advance.  Jeffrey  {color:#ff0000}2017-05-18 20:47:34.965 KST  policies  CommitProposals -> WARN 00e Current configuration has no policy '/Channel/Application/Readers', this will likely cause problems in production systems{color} {color:#ff0000}2017-05-18 20:47:34.965 KST  policies  CommitProposals -> WARN 00f Current configuration has no policy '/Channel/Application/Writers', this will likely cause problems in production systems{color} {color:#ff0000}2017-05-18 20:47:34.965 KST  policies  CommitProposals -> WARN 010 Current configuration has no policy '/Channel/Application/Admins', this will likely cause problems in production systems{color} {color:#ff0000}2017-05-18 20:47:34.966 KST  cauthdsl  func2 -> ERRO 011 Principal deserialization failed: (Could not deserialize a SerializedIdentity, err unexpected EOF) for identity  99 101 114 116 {color} {color:#ff0000}2017-05-18 20:47:34.970 KST  policies  CommitProposals -> WARN 012 Current configuration has no policy '/Channel/Application/Readers', this will likely cause problems in production systems{color} {color:#ff0000}2017-05-18 20:47:34.971 KST  policies  CommitProposals -> WARN 013 Current configuration has no policy '/Channel/Application/Writers', this will likely cause problems in production systems{color} {color:#ff0000}2017-05-18 20:47:34.971 KST  policies  CommitProposals -> WARN 014 Current configuration has no policy '/Channel/Application/Admins', this will likely cause problems in production systems{color} {color:#ff0000}2017-05-18 20:47:34.971 KST  cauthdsl  func2 -> ERRO 015 Principal deserialization failed: (Could not deserialize a SerializedIdentity, err unexpected EOF) for identity  99 101 114 116 {color} {color:#ff0000}2017-05-18 20:47:34.973 KST  cauthdsl  func2 -> ERRO 016 Principal deserialization failed: (Could not deserialize a SerializedIdentity, err unexpected EOF) for identity  99 101 114 116 {color} {color:#ff0000}2017-05-18 20:47:34.980 KST  policies  CommitProposals -> WARN 017 Current configuration has no policy '/Channel/Application/Readers', this will likely cause problems in production systems{color} {color:#ff0000}2017-05-18 20:47:34.980 KST  policies  CommitProposals -> WARN 018 Current configuration has no policy '/Channel/Application/Writers', this will likely cause problems in production systems{color} {color:#ff0000}2017-05-18 20:47:34.980 KST  policies  CommitProposals -> WARN 019 Current configuration has no policy '/Channel/Application/Admins', this will likely cause problems in production systems{color} {color:#ff0000}2017-05-18 20:47:34.981 KST  cauthdsl  func2 -> ERRO 01a Principal deserialization failed: (Could not deserialize a SerializedIdentity, err unexpected EOF) for identity  99 101 114 116 {color} {color:#ff0000}2017-05-18 20:47:34.982 KST  cauthdsl  func2 -> ERRO 01b Principal deserialization failed: (Could not deserialize a SerializedIdentity, err unexpected EOF) for identity  99 101 114 116 {color} {color:#ff0000}2017-05-18 20:47:34.994 KST  orderer/multichain  newChain -> INFO 01c Created and starting new chain ch4-1{color}  ></description> </Issue>
