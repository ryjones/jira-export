<Issue id="37276" key="FAB-13974" number="13974" project="10002" reporter="latitiah" assignee="latitiah" creator="latitiah" type="10101" summary="Green Path: An org admin should be able to recover after sending a wrong approval" priority="3" resolution="10000" status="6" created="2019-01-30 15:46:34.0" updated="2019-04-02 23:51:23.0" resolutiondate="2019-04-02 23:51:23.0" votes="0" watches="1" workflowId="48867"> <description><! CDATA RECOVERY: Given 3 orgs, endorsement policy: needs 2 of 3,   Org1 and Org2 defines chaincode correctly,  Org3 defines differently;  then call define channel -> error for org3;  call QueryDefinedChaincode to retrieve current sequence number;   Org1 defines with correct chaincode definition (increment sequence number from what was received in QueryDefinedChaincode call),  Org2 defines correctly (increment sequence number from what was received in QueryDefinedChaincode call),  Org3 defines correctly (increment sequence number from what was received in QueryDefinedChaincode call)  -> works as expected  *Proposed Steps:* {code} Given I have a bootstrapped fabric network of type solo with 3 organizations And I want to use the new chaincode lifecycle When an admin sets up a channel  And an admin builds a chaincode package And the organization admins install the built chaincode package on all peers Then a hash value is received on all peers When an admin approves the chaincode package on peer "peer0.org1.example.com" When an admin approves the chaincode package on peer "peer0.org2.example.com" When an admin approves the chaincode package using policy "<Different policy>" on peer "peer0.org3.example.com" And an admin commits the chaincode package to the channel And a user invokes on the chaincode with args  "init","a","1000","b","2000"  When a user queries on the chaincode with args  "query","a"  Then a user receives a success response of 1000 When a user queries on the chaincode with args  "query","a"  on "peer1.org3.example.com" Then a user receives an error response containing "<Error Message>"  When the organization admins approve the upgraded chaincode package on all peers And an admin commits the chaincode package to the channel And a user invokes on the chaincode with args  "init","a","1000","b","2000"  When a user queries on the chaincode with args  "query","a"  Then a user receives a success response of 1000 When a user queries on the chaincode with args  "query","a"  on "peer1.org3.example.com" Then a user receives a success response of 1000 from "peer1.org3.example.com" {code}  ></description> </Issue>
