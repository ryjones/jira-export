<Issue id="38316" key="FAB-14554" number="14554" project="10002" reporter="sheehan" assignee="aambati" creator="sheehan" type="10001" summary="Add operation writes to block metadata" priority="3" resolution="10001" status="6" created="2019-03-08 21:16:35.0" updated="2020-11-24 15:32:46.0" resolutiondate="2020-11-24 15:32:46.0" votes="0" watches="3" workflowId="49948"> <description><! CDATA Operation writes must be applied to the world state, but must not modify the WriteSet in the block data so that the hash and signature are still valid.   A consumer of block events may wish to know the outcome of any transaction operations. To accomplish this, operation writes can be added to BlockMetadata field in the Block message in common.proto.     See BlockMetadataIndex in common.proto. You can see that TRANSACTIONS_FILTER stores invalid transactions.     Tasks  1) Add a new field to BlockMetadataIndex that is a map of  transactionId -> final write set after operations are applied.     2) Ensure that any removed transactions due to invalid operations are present in TRANSACTIONS_FILTER           ></description> </Issue>
