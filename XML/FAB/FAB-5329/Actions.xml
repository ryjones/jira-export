<Action id="28536" issue="19283" author="yacovm" type="comment" body="It&apos;s supposed to be a different one (I tried something similar locally and the id of the container changed). I&apos;m sure that if you take a look you&apos;ll see it&apos;s id (using docker ps) is different." created="2017-07-17 20:40:18.0" updateauthor="yacovm" updated="2017-07-17 20:40:18.0"/>
<Action id="28537" issue="19283" author="yacovm" type="comment" body=" ~muralisr  ^" created="2017-07-17 20:44:57.0" updateauthor="yacovm" updated="2017-07-17 20:44:57.0"/>
<Action id="28546" issue="19283" author="muralisr" type="comment" created="2017-07-17 22:23:54.0" updateauthor="muralisr" updated="2017-07-17 22:23:54.0"> <body><! CDATA  ~dshuffma   ~yacovm  Docker does not allow uppercase letters. We used pass names directly to Docker and report any error back to user. However that was changed by name sanitization in https://jira.hyperledger.org/browse/FAB-2929.   We could do one of the following # prohibit users from using uppercase chars in chaincode name # return error name resolves to an existing chaincode name after sanitization (ie, "A" is allowed if \{"A" or "a"} does not exist) # add a  "-"  or "." in front of each upper case char in the docker name before sanitization.  Those chars are allowed by docker but not by the fabric in a chaincode name.  (1) is unreasonably restrictive and elevates docker-specific restriction to all chaincodes (2) is arbitrary  - sometimes upper case will work and sometimes not. (3) seems reasonable and self-contained to dockercontroller. No other component need to change.   ~binhn   ~greg.haskins   ~mastersingh24   Thoughts please ?  ></body> </Action>
<Action id="28555" issue="19283" author="yacovm" type="comment" created="2017-07-18 05:21:20.0" updateauthor="yacovm" updated="2017-07-18 07:34:30.0"> <body><! CDATA What if we hash the CC name and append it to the image name?  So image name of exampleCC would be translated to *{{dev-peer-examplecc-1.0-3cd162fc0f9ad15eb7ff6331a193996c65654da4}}*   and image name of examplecc would be translated to *{{dev-peer-examplecc-1.0-7c026e4e18ca1345e918b4da5a043e2001082a68}}*   or do you need a backwards translation too from the image name to the CC name?  ></body> </Action>
<Action id="28582" issue="19283" author="muralisr" type="comment" created="2017-07-18 14:33:43.0" updateauthor="muralisr" updated="2017-07-18 14:35:36.0"> <body><! CDATA  ~yacovm  now that would be too easy wouldn't it ;-)  ?  We don't need backward translation and you are absolutely right, I like using hash way better.  ></body> </Action>
<Action id="28595" issue="19283" author="dshuffma" type="comment" created="2017-07-18 17:25:43.0" updateauthor="dshuffma" updated="2017-07-18 17:25:43.0"> <body><! CDATA I don't care what specific solution you guys come up with. What I do need is the ability to get a docker status on the container. (to figure out if its running and for how long). Therefore if you do *any* manipulation of the name, you need to record it somewhere that I can read from later. So that I can look up the correct *container's* status via docker.  Such as when I ask the peer to list the chaincode instantiated on this channel, that name data should be there.     from a debugging perspective hashing the name is a huge pain in the ass.  I won't know which container is which with out looking it up. ie when I want to grab logs of the container running chaincode id *testChaincode*, you've now made that much more complicated.  ></body> </Action>
<Action id="28598" issue="19283" author="muralisr" type="comment" created="2017-07-18 17:58:59.0" updateauthor="muralisr" updated="2017-07-18 17:58:59.0"> <body><! CDATA  ~dshuffma  the main issue is we are converting caps to small (thanks to docker restriction) and have collision with docker names. The secondary issue is you want to know the chaincode name given the container name.  *dev-peer-examplecc-1.0-7c026e4e18ca1345e918b4da5a043e2001082a68* contains both the original string and the hash . We have to have *something* in the name that differentiates.  Note that using just *7c026e4e18ca1345e918b4da5a043e2001082a68* as the container name would have worked as well but would have been harder to map for you.  ></body> </Action>
<Action id="28663" issue="19283" author="dshuffma" type="comment" body="sounds good to me" created="2017-07-19 14:39:49.0" updateauthor="dshuffma" updated="2017-07-19 14:39:49.0"/>
<Action id="28676" issue="19283" author="dshuffma" type="comment" created="2017-07-19 15:38:43.0" updateauthor="dshuffma" updated="2017-07-19 15:38:43.0"> <body><! CDATA yes! that would be great.   just to reiterate: I need the actual in use docker container name to programmatically look up the chaincode container's status and logs. So including the full name, anywhere, would be super helpful.  ></body> </Action>
<Action id="28681" issue="19283" author="wlahti" type="comment" body="I removed my previous comment prior to your response but maybe I should have just edited it. I&apos;m trying to see if there&apos;s any good way to provide more information about which container is which. Modifying the LSCC to contain container name doesn&apos;t seem like a feasible/smart solution." created="2017-07-19 15:55:55.0" updateauthor="wlahti" updated="2017-07-19 15:55:55.0"/>
<Action id="28722" issue="19283" author="wlahti" type="comment" created="2017-07-20 14:18:59.0" updateauthor="wlahti" updated="2017-07-20 19:46:35.0"> <body><! CDATA I plan to resolve this (and address David's usability concern) by 1) adding the hash to the end of the image name (as this is the only part where Docker requires all lowercase) and 2) preserving the capitalization in the container name. This should ensure that a chaincode named mycc will not have its container taken by a later instantiation of chaincode myCC.  {code:java} CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES 834d6283bfc7 dev-peer0.org2.example.com-mycc-1.0-f90580f44c3faa95cf2e20d41f5fbb5e89d4234ecbf3589f20b419888b187f81 "chaincode -peer.a..." 1 second ago Up Less than a second dev-peer0.org2.example.com-myCC-1.0 7bdc455fbb5a dev-peer0.org2.example.com-mycc-1.0-15b571b3ce849066b7ec74497da3b27e54e0df1345daff3951b94245ce09c42b "chaincode -peer.a..." 40 seconds ago Up 39 seconds dev-peer0.org2.example.com-mycc-1.0{code}  ></body> </Action>
<Action id="28954" issue="19283" author="wlahti" type="comment" body="CR submitted to gerrit and awaiting review: https://gerrit.hyperledger.org/r/#/c/11819/" created="2017-07-25 02:52:26.0" updateauthor="wlahti" updated="2017-07-25 02:52:26.0"/>
