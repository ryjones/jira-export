<Issue id="37317" key="FAB-13998" number="13998" project="10002" reporter="sae imson" assignee="denyeart" creator="sae imson" type="10004" summary="pvtdata disappear" priority="2" resolution="10001" status="6" created="2019-01-31 01:33:58.0" updated="2020-01-22 22:34:12.0" resolutiondate="2020-01-22 22:34:12.0" votes="0" watches="3" workflowId="48910"> <description><! CDATA *  bug  *  *during rush(stress) test, data in collection are disappear randomly. there is no delete function defined in chaincode. vanished data was created by invoke and queried normally.*   *when number of injected transactions was over the transientstoreMaxBlockRetention, pvtdata commit was not working properly. so we changed this figure from 1000 to 100000 but not sure this number, whether 100000 is acceptable figure or not in gossip protocol networking.*        test env   - 6 endorsing peers with AND policy (chaincode installed and is running) (each org has two peers, so 3 orgs)  - 14 committing peers ( each org has two peers, so 7 orgs)  - 7 pvt collections are defined. collection name is defined by following each committing org's MSP.  ex) collection allowed by endorser orgs and firm1 is named as "Firm1OrgMSP"   - all peers are joined 10 channels.  - pvtdata configuration  pvtData:  pullRetryThreshold: 20s  transientstoreMaxBlockRetention: 100000  pushAckTimeout: 3s       transaction injection condition   - 70000 invoke tx(write) per channel without sleep.            ></description> </Issue>
