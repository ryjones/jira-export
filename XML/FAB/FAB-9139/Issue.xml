<Issue id="28867" key="FAB-9139" number="9139" project="10002" reporter="sykesm" creator="sykesm" type="10003" summary="Multiple data races when running TestRealPeerStream" priority="4" resolution="10002" status="6" created="2018-03-26 13:44:36.0" updated="2018-07-20 14:17:34.0" resolutiondate="2018-07-20 14:06:26.0" votes="0" watches="1" workflowId="43101"> <description><! CDATA {code:java} unit-tests_1  | ==================  unit-tests_1  | WARNING: DATA RACE  unit-tests_1  | Write at 0x00c42020ca70 by goroutine 63:  unit-tests_1  |   github.com/hyperledger/fabric/core/chaincode/shim.TestCC2CC.func1()  unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/shim/shim_test.go:889 +0x6d  unit-tests_1  |  unit-tests_1  | Previous write at 0x00c42020ca70 by goroutine 27:  unit-tests_1  |   github.com/hyperledger/fabric/core/chaincode/shim.TestCC2CC.func3()  unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/shim/shim_test.go:904 +0x400  unit-tests_1  |  unit-tests_1  | Goroutine 63 (running) created at:  unit-tests_1  |   github.com/hyperledger/fabric/core/chaincode/shim.TestCC2CC()  unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/shim/shim_test.go:888 +0x1a2  unit-tests_1  |   testing.tRunner()  unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c  unit-tests_1  |  unit-tests_1  | Goroutine 27 (finished) created at:  unit-tests_1  |   github.com/hyperledger/fabric/core/chaincode/shim.TestCC2CC()  unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/shim/shim_test.go:899 +0x274  unit-tests_1  |   testing.tRunner()  unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c  unit-tests_1  | ==================  unit-tests_1  | ==================  unit-tests_1  | WARNING: DATA RACE  unit-tests_1  | Read at 0x00c420292108 by goroutine 29:  unit-tests_1  |   github.com/hyperledger/fabric/common/mocks/peer.(*MockCCComm).ka()  unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/mocks/peer/mockccstream.go:137 +0xa2  unit-tests_1  |  unit-tests_1  | Previous write at 0x00c420292108 by goroutine 27:  unit-tests_1  |   github.com/hyperledger/fabric/common/mocks/peer.(*MockCCComm).Run.func1()  unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/mocks/peer/mockccstream.go:152 +0x44  unit-tests_1  |   github.com/hyperledger/fabric/common/mocks/peer.(*MockCCComm).Run()  unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/mocks/peer/mockccstream.go:160 +0x158  unit-tests_1  |   github.com/hyperledger/fabric/core/chaincode/shim.TestCC2CC.func3()  unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/shim/shim_test.go:904 +0x3d8  unit-tests_1  |  unit-tests_1  | Goroutine 29 (running) created at:  unit-tests_1  |   github.com/hyperledger/fabric/common/mocks/peer.(*MockCCComm).Run()  unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/mocks/peer/mockccstream.go:148 +0x62  unit-tests_1  |   github.com/hyperledger/fabric/core/chaincode/shim.TestCC2CC.func3()  unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/shim/shim_test.go:904 +0x3d8  unit-tests_1  |  unit-tests_1  | Goroutine 27 (finished) created at:  unit-tests_1  |   github.com/hyperledger/fabric/core/chaincode/shim.TestCC2CC()  unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/shim/shim_test.go:899 +0x274  unit-tests_1  |   testing.tRunner()  unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c  unit-tests_1  | =================={code}  ></description> </Issue>
