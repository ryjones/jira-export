<Action id="23002" issue="15599" author="yuki-kon" type="comment" created="2017-04-25 21:35:03.0" updateauthor="yuki-kon" updated="2017-04-25 21:35:03.0"> <body><! CDATA Do you still have this problem? Chaincode_example05 was modified by CR7595 (https://gerrit.hyperledger.org/r/#/c/7595/). Chaincode_example05 works well in my environment with the following steps.  1)Based on https://github.com/hyperledger/fabric/blob/master/examples/e2e_cli/end-to-end.rst, run e2e test. $ ./network_setup.sh up  2)Based on https://github.com/hyperledger/fabric/blob/master/examples/e2e_cli/end-to-end.rst#modify-the-docker-compose-file, open the docker-compose file and comment out the command to run script.sh for manual operation.  3)Restart cli container and enter to it. $ docker-compose up -d cli $ docker exec -it cli bash  4)Install the chaincode "chaincode_example05" on Peer1 $ CORE_PEER_MSPCONFIGPATH=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peer/peer1/localMspConfig CORE_PEER_ADDRESS=peer1:7051 CORE_PEER_LOCALMSPID="Org0MSP" CORE_PEER_TLS_ROOTCERT_FILE=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peer/peer1/localMspConfig/cacerts/peerOrg0.pem peer chaincode install -n mycc2 -v 1.0 -p github.com/hyperledger/fabric/examples/chaincode/go/chaincode_example05  5)Instantiate the chaincode "chaincode_example05" on Peer1 $ CORE_PEER_MSPCONFIGPATH=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peer/peer1/localMspConfig CORE_PEER_ADDRESS=peer1:7051 CORE_PEER_LOCALMSPID="Org0MSP" CORE_PEER_TLS_ROOTCERT_FILE=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peer/peer1/localMspConfig/cacerts/peerOrg0.pem peer chaincode instantiate -o orderer0:7050 --tls --cafile /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/orderer/localMspConfig/cacerts/ordererOrg0.pem -C mychannel -n mycc2 -v 1.0 -c '{"Args": "init","sum","0" }'  6)Install the chaincode "chaincode_example02" on Peer1. # chaincode_expample02 is not installed by network_setup.sh $ CORE_PEER_MSPCONFIGPATH=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peer/peer1/localMspConfig CORE_PEER_ADDRESS=peer1:7051 CORE_PEER_LOCALMSPID="Org0MSP" CORE_PEER_TLS_ROOTCERT_FILE=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peer/peer1/localMspConfig/cacerts/peerOrg0.pem peer chaincode install -n mycc -v 1.0 -p github.com/hyperledger/fabric/examples/chaincode/go/chaincode_example02  7)Query the chaincode "chaincode_example05" on Peer1 $ CORE_PEER_MSPCONFIGPATH=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peer/peer1/localMspConfig CORE_PEER_ADDRESS=peer1:7051 CORE_PEER_LOCALMSPID="Org0MSP" CORE_PEER_TLS_ROOTCERT_FILE=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peer/peer1/localMspConfig/cacerts/peerOrg0.pem peer chaincode query -C mychannel -n mycc2 -c '{"Args": "query","mycc","sum" }'   ></body> </Action>
<Action id="23013" issue="15599" author="daijianw" type="comment" created="2017-04-26 06:03:50.0" updateauthor="daijianw" updated="2017-04-26 06:03:50.0"> <body><! CDATA Hi Yuki,  Thanks. Yes, it works now, with the patch from CR7595   ></body> </Action>
