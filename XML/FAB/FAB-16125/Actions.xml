<Action id="65570" issue="41486" author="dereckluo" type="comment" created="2019-11-15 16:13:46.0" updateauthor="dereckluo" updated="2019-11-22 20:01:28.0"> <body><! CDATA self-note:   - In current db test implementation, couchDB is being init in every test function (start couchDB if it does not have started before), and cleanup after testMain finishes.  When running test with no tests are run, no init is being called, however, cleanup in testMain is being called. (this leads to the failure in this case). - possible implementation 1: in _TestEnv_ interface, split _Init_ and _Cleanup_ function into two more functions -- _startExternalResource_ and _stopExternalResource_ which start and stop remote couchDB. local resource _Cleanup_ will be added to individual tests instead of in testMain.  - possible implementation 2: When running _go test -run "^$" ./..._, either skip testMain, or in testMain, find a way to detect list of tests that need to be run, and act accordingly.  - additional cleanup: in _./core/ledger/..._ there are multiple places contains function implementations to start couchDB and cleanups. Remove and cleanup the duplicated code. - creating a new package _couchDBTest_ in _./core/ledger/util/_ which host common functions that being used by couchDB tests.  ></body> </Action>
<Action id="66190" issue="41486" author="dereckluo" type="comment" created="2019-12-10 03:59:20.0" updateauthor="dereckluo" updated="2019-12-10 03:59:20.0"> <body><! CDATA https://github.com/hyperledger/fabric/pull/382   ></body> </Action>
