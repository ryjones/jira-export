<Issue id="26332" key="FAB-7581" number="7581" project="10002" reporter="manish-sethi" assignee="manish-sethi" creator="manish-sethi" type="10003" summary="Handle chaincode lifecycle events" priority="3" resolution="10000" status="6" created="2018-01-02 21:29:00.0" updated="2018-07-20 14:15:20.0" resolutiondate="2018-01-15 22:31:20.0" votes="0" watches="1" workflowId="40867"> <description><! CDATA Construct a mechanism for coordinating the db index creation tasks. This includes  - Introducing a mechanism for allowing statedb to receive notification from the different _code paths_ of peer that makes the a chaincode to become as both - '_installed' && 'instantiated_'. The _code path_ include the code that processes the chaincode instantiate transaction and the code that processes the chaincode install activity. This notification is intended to be used by statecouchdb implementation so that the indexes can be created on the couchdb on such a notification. This notification should be processed in the _code path_ so that any errors during index creation causes the failure of the higher level activity (block commit of instantiation transaction/ chaincode install)  - Introducing a mechanism for coordinating the synchronization between ledger creation/opening & chaincode install, and chaincode instantiation & chaincode install so that an event '_installed' && 'instantiated'_ is not missed for a combination of channel/chaincode during concurrent activities. To simplify this coordination for the other code path, this coordinator is expected to handle all the synchronization internally and expose three high level functions (A) _RegisterLedgerComponent_ - making couchdb able to receive notifications so that couch indexes can be created (B) _HandeChaincodeInstantiation_ and (C) _HandeChaincodeInstall._ (A) is intended to be invoked at the time of ledger opening, (B) is intended to be invoked at the time of processing a chaincode instantiation transaction, and (C) is intended to be invoked at the time of chaincode install  - Introducing a mechanism for identifying a chaincode instantiation transaction so that the function _HandeChaincodeInstantiation,_ (B) in the above description, can be invoked in path of  transaction processing  - General purpose functions for getting the current status of a chaincode - whether it is installed or instantiated so as to get to know when '_installed' && 'instantiated_' criteria is met during execution of functions  _HandeChaincodeInstantiation_ and _HandeChaincodeInstall_ in the coordinator.  ></description> </Issue>
