<Issue id="41573" key="FAB-16173" number="16173" project="10002" reporter="sykesm" assignee="sykesm" creator="sykesm" type="10004" summary="Adjust ephemeral port usage to avoid conflict with default linux configuration" priority="3" resolution="10000" status="6" created="2019-08-01 17:28:10.0" updated="2019-08-12 20:28:28.0" resolutiondate="2019-08-12 20:28:28.0" votes="0" watches="1" workflowId="54590"> <description><! CDATA By default, the linux kernel uses ports 32768 - 60999 as client ephemeral ports. We currently use ports 30000-40000 as the ephemeral port range in our integration tests. As you can see, they overlap.  This conflict can occur during our integration tests and surfaces as failure to bind to a high port and test failures.  We can avoid this by reworking the port bases and ranges to avoid these conflicts. If we want to handle the default configuration, we need to make sure we don't use ports that are between 32788 and 61000.  Note: if we want to do better in the future, when we're on linux, we can check the client range by looking at {{/proc/sys/net/ipv4/ip_local_port_range}}. Also, depending on how we intend to run, we don't need to reserve ranges for each suite if they won't run concurrently - only ranges per node. The way things are structured now, we reserve 100 ports per node and 1000 ports per suite.  ></description> </Issue>
