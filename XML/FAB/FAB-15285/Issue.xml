<Issue id="39524" key="FAB-15285" number="15285" project="10002" reporter="constc" assignee="jyellick" creator="constc" type="10004" summary="Deadlock on invocation qscc.GetChainInfo from user chaincode - deprecate user chaincode calls to qscc" priority="2" resolution="10000" status="6" created="2019-04-26 05:28:19.0" updated="2020-12-23 20:23:13.0" resolutiondate="2019-10-29 20:30:07.0" votes="2" watches="13" workflowId="52404"> <description><! CDATA I got 30s timeout expiration when I invoke _qscc.GetChainInfo_ from user chaincode. According to peer logs there are two parallel processes: #1 receiving block 1318 from buffer and #2 invocation mychaincode that call _qscc.GetChainInfo_  I think that deadlock happens when - process #2 holds read lock *LockBasedTxMgr.commitRWLock* in _LockBasedTxMgr.NewTxSimulator_ then _kvLedger.GetBlockchainInfo_ try to acquire read lock *kvLedger.blockAPIsRWLock* - process #1 already holds write lock *kvLedger.blockAPIsRWLock* in _kvLedger.CommitWithPvtData_ then in _LockBasedTxMgr.Commit_ it try to acquire write lock *txmgr.commitRWLock*  process #2 exit when timeout exited and then process #1 successfuly commit received block.  To solve the problem I can suggest to acquire lock *txmgr.commitRWLock* before *kvLedger.blockAPIsRWLock* in _kvLedger.CommitWithPvtData_.   mychaincode.log {code:java}  2019-04-18 09:40:02.562 UTC  shim  handleInvokeChaincode -> ERRO 5d813← 0m  39319426  Received ERROR.  2019-04-18 09:40:02.562 UTC  titan  Warningf -> WARN 5d814← 0m Error on EventService.findAll => 500, qscc.GetBlockByNumber invoke error: 500, mychaincode/fabric.CallSystemChaincodeOnChannel {code}  peer.log {code:java}  2019-04-18 09:39:32.523 UTC  gossip.privdata  StoreBlock -> INFO 26351 0m  general  Received block  1318  from buffer  2019-04-18 09:39:32.526 UTC  lockbasedtxmgr  newQueryExecutor -> DEBU 26352 0m constructing new query executor txid =  6d78f155-ac99-4bf0-b92b-ce50ea4ac34e   2019-04-18 09:39:32.526 UTC  lockbasedtxmgr  Done -> DEBU 26353 0m Done with transaction simulation / query execution  6d78f155-ac99-4bf0-b92b-ce50ea4ac34e   2019-04-18 09:39:32.527 UTC  committer.txvalidator  Validate -> INFO 26354 0m  general  Validated block  1318  in 4ms  2019-04-18 09:39:32.527 UTC  kvledger  CommitWithPvtData -> DEBU 26355 0m  general  Validating state for block  1318   2019-04-18 09:39:32.528 UTC  lockbasedtxmgr  ValidateAndPrepare -> DEBU 26356 0m Waiting for purge mgr to finish the background job of computing expirying keys for the block  2019-04-18 09:39:32.528 UTC  lockbasedtxmgr  ValidateAndPrepare -> DEBU 26357 0m lock acquired on oldBlockCommit for validating read set version against the committed version  2019-04-18 09:39:32.528 UTC  lockbasedtxmgr  ValidateAndPrepare -> DEBU 26358 0m Validating new block with num trans =  1   2019-04-18 09:39:32.542 UTC  kvledger  CommitWithPvtData -> DEBU 26359 0m  general  Committing block  1318  to storage  2019-04-18 09:39:32.556 UTC  lockbasedtxmgr  NewTxSimulator -> DEBU 2635a 0m constructing new tx simulator  2019-04-18 09:39:32.556 UTC  lockbasedtxmgr  newLockBasedTxSimulator -> DEBU 2635b 0m constructing new tx simulator txid =  8fba0b4c7c42d5d9f6ef197d5df9553656cde68639031f84d814698e9e9ff576   2019-04-18 09:39:32.556 UTC  endorser  callChaincode -> INFO 2635c 0m  general  8fba0b4c  Entry chaincode: name:"mychaincode"   2019-04-18 09:39:32.570 UTC  kvledger  CommitWithPvtData -> DEBU 2635d 0m  general  Committing block  1318  transactions to state database  2019-04-18 09:39:32.570 UTC  lockbasedtxmgr  Commit -> DEBU 2635e 0m lock acquired on oldBlockCommit for committing regular updates to state database  2019-04-18 09:39:32.570 UTC  lockbasedtxmgr  Commit -> DEBU 2635f 0m Committing updates to state database  2019-04-18 09:39:38.487 UTC  endorser  callChaincode -> INFO 26360 0m  general  33b32666  Entry chaincode: name:"cscc"   2019-04-18 09:39:38.488 UTC  endorser  callChaincode -> INFO 26361 0m  general  33b32666  Exit chaincode: name:"cscc"  (1ms)  2019-04-18 09:39:38.488 UTC  comm.grpc.server  1 -> INFO 26362 0m unary call completed {"grpc.start_time": "2019-04-18T09:39:38.486Z", "grpc.service": "protos.Endorser", "grpc.method": "ProcessProposal", "grpc.peer_address": "172.20.0.9:38936", "grpc.code": "OK", "grpc.call_duration": "2.732529ms"}  2019-04-18 09:39:38.522 UTC  lockbasedtxmgr  NewTxSimulator -> DEBU 26363 0m constructing new tx simulator  2019-04-18 09:39:38.523 UTC  lockbasedtxmgr  newLockBasedTxSimulator -> DEBU 26364 0m constructing new tx simulator txid =  bf17055b2aef23733490e810eb34762ec0937b84c2b85d3324748d4d789b05c7   2019-04-18 09:39:43.321 UTC  endorser  callChaincode -> INFO 26365 0m  general  794a35fd  Entry chaincode: name:"cscc"   2019-04-18 09:39:43.322 UTC  endorser  callChaincode -> INFO 26366 0m  general  794a35fd  Exit chaincode: name:"cscc"  (1ms)  2019-04-18 09:39:43.322 UTC  comm.grpc.server  1 -> INFO 26367 0m unary call completed {"grpc.start_time": "2019-04-18T09:39:43.32Z", "grpc.service": "protos.Endorser", "grpc.method": "ProcessProposal", "grpc.peer_address": "172.20.0.9:38938", "grpc.code": "OK", "grpc.call_duration": "2.671647ms"}  2019-04-18 09:39:43.348 UTC  lockbasedtxmgr  NewTxSimulator -> DEBU 26368 0m constructing new tx simulator  2019-04-18 09:39:43.348 UTC  lockbasedtxmgr  newLockBasedTxSimulator -> DEBU 26369 0m constructing new tx simulator txid =  0fc213d8fbaac33c9bd53e943e6a28be8ebd994d937c3210474c5318b058562b   2019-04-18 09:39:43.575 UTC  endorser  callChaincode -> INFO 2636a 0m  general  81c437e2  Entry chaincode: name:"cscc"   2019-04-18 09:39:43.576 UTC  endorser  callChaincode -> INFO 2636b 0m  general  81c437e2  Exit chaincode: name:"cscc"  (1ms)  2019-04-18 09:39:43.576 UTC  comm.grpc.server  1 -> INFO 2636c 0m unary call completed {"grpc.start_time": "2019-04-18T09:39:43.574Z", "grpc.service": "protos.Endorser", "grpc.method": "ProcessProposal", "grpc.peer_address": "172.20.0.9:38940", "grpc.code": "OK", "grpc.call_duration": "2.346857ms"}  2019-04-18 09:39:43.597 UTC  lockbasedtxmgr  NewTxSimulator -> DEBU 2636d 0m constructing new tx simulator  2019-04-18 09:39:43.597 UTC  lockbasedtxmgr  newLockBasedTxSimulator -> DEBU 2636e 0m constructing new tx simulator txid =  15988b6ca045ef44739388fb2ac4d4443a71879fcb4b885d2729ee64870d4c1a   2019-04-18 09:39:47.319 UTC  endorser  callChaincode -> INFO 2636f 0m  general  b2ecb571  Entry chaincode: name:"cscc"   2019-04-18 09:39:47.323 UTC  endorser  callChaincode -> INFO 26370 0m  general  b2ecb571  Exit chaincode: name:"cscc"  (4ms)  2019-04-18 09:39:47.324 UTC  comm.grpc.server  1 -> INFO 26371 0m unary call completed {"grpc.start_time": "2019-04-18T09:39:47.318Z", "grpc.service": "protos.Endorser", "grpc.method": "ProcessProposal", "grpc.peer_address": "172.20.0.9:38942", "grpc.code": "OK", "grpc.call_duration": "6.151683ms"}  2019-04-18 09:39:47.350 UTC  endorser  callChaincode -> INFO 26372 0m  general  4ac41249  Entry chaincode: name:"cscc"   2019-04-18 09:39:47.351 UTC  endorser  callChaincode -> INFO 26373 0m  general  4ac41249  Exit chaincode: name:"cscc"  (1ms)  2019-04-18 09:39:47.352 UTC  comm.grpc.server  1 -> INFO 26374 0m unary call completed {"grpc.start_time": "2019-04-18T09:39:47.349Z", "grpc.service": "protos.Endorser", "grpc.method": "ProcessProposal", "grpc.peer_address": "172.20.0.9:38942", "grpc.code": "OK", "grpc.call_duration": "2.432345ms"}  2019-04-18 09:39:47.378 UTC  endorser  callChaincode -> INFO 26375 0m  general  81806a89  Entry chaincode: name:"cscc"   2019-04-18 09:39:47.378 UTC  endorser  callChaincode -> INFO 26376 0m  general  81806a89  Exit chaincode: name:"cscc"  (1ms)  2019-04-18 09:39:47.379 UTC  comm.grpc.server  1 -> INFO 26377 0m unary call completed {"grpc.start_time": "2019-04-18T09:39:47.377Z", "grpc.service": "protos.Endorser", "grpc.method": "ProcessProposal", "grpc.peer_address": "172.20.0.9:38944", "grpc.code": "OK", "grpc.call_duration": "2.362986ms"}  2019-04-18 09:39:47.412 UTC  lockbasedtxmgr  NewTxSimulator -> DEBU 26378 0m constructing new tx simulator  2019-04-18 09:39:47.412 UTC  lockbasedtxmgr  newLockBasedTxSimulator -> DEBU 26379 0m constructing new tx simulator txid =  98598e833334a6cd00304b5e0a5c60d5c91adb830dadefc65eba0ee80253ae77   2019-04-18 09:39:52.760 UTC  endorser  callChaincode -> INFO 2637a 0m  general  10518e39  Entry chaincode: name:"cscc"   2019-04-18 09:39:52.761 UTC  endorser  callChaincode -> INFO 2637b 0m  general  10518e39  Exit chaincode: name:"cscc"  (1ms)  2019-04-18 09:39:52.762 UTC  comm.grpc.server  1 -> INFO 2637c 0m unary call completed {"grpc.start_time": "2019-04-18T09:39:52.759Z", "grpc.service": "protos.Endorser", "grpc.method": "ProcessProposal", "grpc.peer_address": "172.20.0.9:38946", "grpc.code": "OK", "grpc.call_duration": "2.432876ms"}  2019-04-18 09:39:52.786 UTC  endorser  callChaincode -> INFO 2637d 0m  general  34508d42  Entry chaincode: name:"cscc"   2019-04-18 09:39:52.787 UTC  endorser  callChaincode -> INFO 2637e 0m  general  34508d42  Exit chaincode: name:"cscc"  (1ms)  2019-04-18 09:39:52.788 UTC  comm.grpc.server  1 -> INFO 2637f 0m unary call completed {"grpc.start_time": "2019-04-18T09:39:52.785Z", "grpc.service": "protos.Endorser", "grpc.method": "ProcessProposal", "grpc.peer_address": "172.20.0.9:38946", "grpc.code": "OK", "grpc.call_duration": "2.692763ms"}  2019-04-18 09:39:52.796 UTC  endorser  callChaincode -> INFO 26380 0m  general  8d96a81f  Entry chaincode: name:"cscc"   2019-04-18 09:39:52.797 UTC  endorser  callChaincode -> INFO 26381 0m  general  8d96a81f  Exit chaincode: name:"cscc"  (1ms)  2019-04-18 09:39:52.798 UTC  comm.grpc.server  1 -> INFO 26382 0m unary call completed {"grpc.start_time": "2019-04-18T09:39:52.795Z", "grpc.service": "protos.Endorser", "grpc.method": "ProcessProposal", "grpc.peer_address": "172.20.0.9:38948", "grpc.code": "OK", "grpc.call_duration": "2.282349ms"}  2019-04-18 09:39:52.825 UTC  lockbasedtxmgr  NewTxSimulator -> DEBU 26383 0m constructing new tx simulator  2019-04-18 09:39:52.825 UTC  lockbasedtxmgr  newLockBasedTxSimulator -> DEBU 26384 0m constructing new tx simulator txid =  f954f92cf58e3aa2b511b474c7f536ab1a82b5d3429837c8584f0c012bddc4fb   2019-04-18 09:40:02.557 UTC  endorser  callChaincode -> INFO 26385 0m  general  8fba0b4c  Exit chaincode: name:"mychaincode"  (30000ms)  2019-04-18 09:40:02.557 UTC  endorser  SimulateProposal -> ERRO 26386 0m  general  8fba0b4c  failed to invoke chaincode name:"mychaincode" , error: timeout expired while executing transaction github.com/hyperledger/fabric/core/chaincode.(*Handler).Execute 	/opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/handler.go:1225 github.com/hyperledger/fabric/core/chaincode.(*ChaincodeSupport).execute 	/opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/chaincode_support.go:312 github.com/hyperledger/fabric/core/chaincode.(*ChaincodeSupport).Invoke 	/opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/chaincode_support.go:301 github.com/hyperledger/fabric/core/chaincode.(*ChaincodeSupport).Execute 	/opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/chaincode_support.go:238 github.com/hyperledger/fabric/core/endorser.(*SupportImpl).Execute 	/opt/gopath/src/github.com/hyperledger/fabric/core/endorser/support.go:147 github.com/hyperledger/fabric/core/endorser.(*Endorser).callChaincode 	/opt/gopath/src/github.com/hyperledger/fabric/core/endorser/endorser.go:142 github.com/hyperledger/fabric/core/endorser.(*Endorser).SimulateProposal 	/opt/gopath/src/github.com/hyperledger/fabric/core/endorser/endorser.go:237 github.com/hyperledger/fabric/core/endorser.(*Endorser).ProcessProposal 	/opt/gopath/src/github.com/hyperledger/fabric/core/endorser/endorser.go:456 github.com/hyperledger/fabric/core/handlers/auth/filter.(*expirationCheckFilter).ProcessProposal 	/opt/gopath/src/github.com/hyperledger/fabric/core/handlers/auth/filter/expiration.go:61 github.com/hyperledger/fabric/core/handlers/auth/filter.(*filter).ProcessProposal 	/opt/gopath/src/github.com/hyperledger/fabric/core/handlers/auth/filter/filter.go:32 github.com/hyperledger/fabric/protos/peer._Endorser_ProcessProposal_Handler.func1 	/opt/gopath/src/github.com/hyperledger/fabric/protos/peer/peer.pb.go:169 github.com/hyperledger/fabric/vendor/github.com/grpc-ecosystem/go-grpc-middleware.ChainUnaryServer.func1.1 	/opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/grpc-ecosystem/go-grpc-middleware/chain.go:31 github.com/hyperledger/fabric/common/grpclogging.UnaryServerInterceptor.func1 	/opt/gopath/src/github.com/hyperledger/fabric/common/grpclogging/server.go:91 github.com/hyperledger/fabric/vendor/github.com/grpc-ecosystem/go-grpc-middleware.ChainUnaryServer.func1.1 	/opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/grpc-ecosystem/go-grpc-middleware/chain.go:34 github.com/hyperledger/fabric/common/grpcmetrics.UnaryServerInterceptor.func1 	/opt/gopath/src/github.com/hyperledger/fabric/common/grpcmetrics/interceptor.go:30 github.com/hyperledger/fabric/vendor/github.com/grpc-ecosystem/go-grpc-middleware.ChainUnaryServer.func1 	/opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/grpc-ecosystem/go-grpc-middleware/chain.go:39 github.com/hyperledger/fabric/protos/peer._Endorser_ProcessProposal_Handler 	/opt/gopath/src/github.com/hyperledger/fabric/protos/peer/peer.pb.go:171 github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*Server).processUnaryRPC 	/opt/gopath/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/server.go:982 github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*Server).handleStream 	/opt/gopath/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/server.go:1208 github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*Server).serveStreams.func1.1 	/opt/gopath/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/server.go:686 runtime.goexit 	/opt/go/src/runtime/asm_amd64.s:1333 error sending failed to execute transaction 8fba0b4c7c42d5d9f6ef197d5df9553656cde68639031f84d814698e9e9ff576 github.com/hyperledger/fabric/core/chaincode.processChaincodeExecutionResult 	/opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/chaincode_support.go:244 github.com/hyperledger/fabric/core/chaincode.(*ChaincodeSupport).Execute 	/opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/chaincode_support.go:239 github.com/hyperledger/fabric/core/endorser.(*SupportImpl).Execute 	/opt/gopath/src/github.com/hyperledger/fabric/core/endorser/support.go:147 github.com/hyperledger/fabric/core/endorser.(*Endorser).callChaincode 	/opt/gopath/src/github.com/hyperledger/fabric/core/endorser/endorser.go:142 github.com/hyperledger/fabric/core/endorser.(*Endorser).SimulateProposal 	/opt/gopath/src/github.com/hyperledger/fabric/core/endorser/endorser.go:237 github.com/hyperledger/fabric/core/endorser.(*Endorser).ProcessProposal 	/opt/gopath/src/github.com/hyperledger/fabric/core/endorser/endorser.go:456 github.com/hyperledger/fabric/core/handlers/auth/filter.(*expirationCheckFilter).ProcessProposal 	/opt/gopath/src/github.com/hyperledger/fabric/core/handlers/auth/filter/expiration.go:61 github.com/hyperledger/fabric/core/handlers/auth/filter.(*filter).ProcessProposal 	/opt/gopath/src/github.com/hyperledger/fabric/core/handlers/auth/filter/filter.go:32 github.com/hyperledger/fabric/protos/peer._Endorser_ProcessProposal_Handler.func1 	/opt/gopath/src/github.com/hyperledger/fabric/protos/peer/peer.pb.go:169 github.com/hyperledger/fabric/vendor/github.com/grpc-ecosystem/go-grpc-middleware.ChainUnaryServer.func1.1 	/opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/grpc-ecosystem/go-grpc-middleware/chain.go:31 github.com/hyperledger/fabric/common/grpclogging.UnaryServerInterceptor.func1 	/opt/gopath/src/github.com/hyperledger/fabric/common/grpclogging/server.go:91 github.com/hyperledger/fabric/vendor/github.com/grpc-ecosystem/go-grpc-middleware.ChainUnaryServer.func1.1 	/opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/grpc-ecosystem/go-grpc-middleware/chain.go:34 github.com/hyperledger/fabric/common/grpcmetrics.UnaryServerInterceptor.func1 	/opt/gopath/src/github.com/hyperledger/fabric/common/grpcmetrics/interceptor.go:30 github.com/hyperledger/fabric/vendor/github.com/grpc-ecosystem/go-grpc-middleware.ChainUnaryServer.func1 	/opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/grpc-ecosystem/go-grpc-middleware/chain.go:39 github.com/hyperledger/fabric/protos/peer._Endorser_ProcessProposal_Handler 	/opt/gopath/src/github.com/hyperledger/fabric/protos/peer/peer.pb.go:171 github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*Server).processUnaryRPC 	/opt/gopath/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/server.go:982 github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*Server).handleStream 	/opt/gopath/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/server.go:1208 github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*Server).serveStreams.func1.1 	/opt/gopath/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/server.go:686 runtime.goexit 	/opt/go/src/runtime/asm_amd64.s:1333  2019-04-18 09:40:02.557 UTC  lockbasedtxmgr  Done -> DEBU 26387 0m Done with transaction simulation / query execution  8fba0b4c7c42d5d9f6ef197d5df9553656cde68639031f84d814698e9e9ff576   2019-04-18 09:40:02.557 UTC  comm.grpc.server  1 -> INFO 26388 0m unary call completed {"grpc.start_time": "2019-04-18T09:39:32.555Z", "grpc.service": "protos.Endorser", "grpc.method": "ProcessProposal", "grpc.peer_address": "172.20.0.9:38934", "grpc.code": "OK", "grpc.call_duration": "30.002056937s"}  2019-04-18 09:40:02.558 UTC  lockbasedtxmgr  Commit -> DEBU 26389 0m Write lock acquired for committing updates to state database  2019-04-18 09:40:02.589 UTC  chaincode  HandleTransaction -> ERRO 2638a 0m  8fba0b4c  Failed to handle INVOKE_CHAINCODE. error: timeout expired while executing transaction github.com/hyperledger/fabric/core/chaincode.(*Handler).Execute 	/opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/handler.go:1225 github.com/hyperledger/fabric/core/chaincode.(*ChaincodeSupport).execute 	/opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/chaincode_support.go:312 github.com/hyperledger/fabric/core/chaincode.(*ChaincodeSupport).Invoke 	/opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/chaincode_support.go:301 github.com/hyperledger/fabric/core/chaincode.(*Handler).HandleInvokeChaincode 	/opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/handler.go:1185 github.com/hyperledger/fabric/core/chaincode.(*Handler).HandleInvokeChaincode-fm 	/opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/handler.go:211 github.com/hyperledger/fabric/core/chaincode.(*Handler).HandleTransaction 	/opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/handler.go:272 runtime.goexit 	/opt/go/src/runtime/asm_amd64.s:1333 error sending execute failed github.com/hyperledger/fabric/core/chaincode.(*Handler).HandleInvokeChaincode 	/opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/handler.go:1187 github.com/hyperledger/fabric/core/chaincode.(*Handler).HandleInvokeChaincode-fm 	/opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/handler.go:211 github.com/hyperledger/fabric/core/chaincode.(*Handler).HandleTransaction 	/opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/handler.go:272 runtime.goexit 	/opt/go/src/runtime/asm_amd64.s:1333 INVOKE_CHAINCODE failed: transaction ID: 8fba0b4c7c42d5d9f6ef197d5df9553656cde68639031f84d814698e9e9ff576 github.com/hyperledger/fabric/core/chaincode.(*Handler).HandleTransaction 	/opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/handler.go:276 runtime.goexit 	/opt/go/src/runtime/asm_amd64.s:1333  2019-04-18 09:40:02.627 UTC  lockbasedtxmgr  Commit -> DEBU 2638b 0m Updates committed to state database and the write lock is released  2019-04-18 09:40:02.628 UTC  lockbasedtxmgr  func1 -> DEBU 2638c 0m launched the background routine for preparing keys to purge with the next block  2019-04-18 09:40:02.628 UTC  kvledger  CommitWithPvtData -> DEBU 2638d 0m  general  Committing block  1318  transactions to history database  2019-04-18 09:40:02.629 UTC  endorser  callChaincode -> INFO 2638e 0m  general  0fc213d8  Entry chaincode: name:"mychaincode"   2019-04-18 09:40:02.630 UTC  kvledger  CommitWithPvtData -> INFO 2638f 0m  general  Committed block  1318  with 1 transaction(s) in 30102ms (state_validation=14ms block_commit=27ms state_commit=30057ms) {code}  ></description> </Issue>
