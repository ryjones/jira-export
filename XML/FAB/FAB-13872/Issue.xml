<Issue id="37113" key="FAB-13872" number="13872" project="10002" reporter="sykesm" assignee="btl5037" creator="sykesm" type="10004" summary="Avoid noise from `make clean` when docker images are not present" priority="3" resolution="10000" status="6" created="2019-01-24 15:58:41.0" updated="2019-02-20 10:56:17.0" resolutiondate="2019-02-20 10:56:17.0" votes="0" watches="1" workflowId="48691"> <description><! CDATA {code} $ make clean docker docker images --quiet --filter=reference='hyperledger/fabric-peer:amd64-2.0.0-snapshot-*' | xargs docker rmi -f "docker rmi" requires at least 1 argument. See 'docker rmi --help'.  Usage:  docker rmi  OPTIONS  IMAGE  IMAGE...   Remove one or more images Makefile:369: recipe for target 'peer-docker-clean' failed make:  peer-docker-clean  Error 123 (ignored) docker images --quiet --filter=reference='hyperledger/fabric-orderer:amd64-2.0.0-snapshot-*' | xargs docker rmi -f "docker rmi" requires at least 1 argument. See 'docker rmi --help'.  Usage:  docker rmi  OPTIONS  IMAGE  IMAGE...  {code}  This is because docker images does not return any data but xargs still runs...  Others have tried to fix this by using the GNU xargs extensions that say not to run the command when the args list is empty but this breaks BSD based environments (including macOS) so we need to account for this.  One easy way is to run the list, assign to a script var, and only execute the rm if the output wasn't empty ( {{  -n}} )  ></description> </Issue>
