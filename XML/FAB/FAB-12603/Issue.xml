<Issue id="34884" key="FAB-12603" number="12603" project="10002" reporter="akshay.sood" creator="akshay.sood" type="10004" summary="Implementation of Organization Unit Identifier in peer organisation causes orderer panic and exit" priority="2" resolution="10203" status="6" created="2018-10-25 13:28:19.0" updated="2018-11-16 09:55:21.0" resolutiondate="2018-11-16 09:55:21.0" votes="1" watches="5" workflowId="46301"> <description><! CDATA I am trying to add a new organisation to a peer org {{Org1MSP}}. I modified my {{config.yaml}} file which exist in {{msp}} directory. After modification of file, the content are mentioned below:   {code:java} OrganizationalUnitIdentifiers: - Certificate: cacerts/ca.org1.example.com-cert.pem OrganizationalUnitIdentifier: TEST {code}   After modification, I have generated a genesis.block and channel.tx. I am using docker to bootstrap my network. The issue is when I bootstrap my network, orderer throws an error and exit. Logs of orderer are shown below:  {code:java} orderer.example.com       | 2018-10-24 22:00:45.704 UTC  msp  satisfiesPrincipalInternalPreV13 -> DEBU 05b Checking if identity satisfies role  CLIENT  for Org1MSP orderer.example.com       | 2018-10-24 22:00:45.704 UTC  msp  Validate -> DEBU 05c MSP Org1MSP validating identity orderer.example.com       | 2018-10-24 22:00:45.704 UTC  msp  getCertificationChain -> DEBU 05d MSP Org1MSP getting certification chain orderer.example.com       | 2018-10-24 22:00:45.704 UTC  msp  getCertificationChain -> DEBU 05e MSP Org1MSP getting certification chain orderer.example.com       | 2018-10-24 22:00:45.704 UTC  msp  getCertificationChain -> DEBU 05f MSP Org1MSP getting certification chain orderer.example.com       | 2018-10-24 22:00:45.705 UTC  orderer/commmon/multichannel  newLedgerResources -> PANI 060 Error creating channelconfig bundle: initializing channelconfig failed: could not create channel Consortiums sub-group config: setting up the MSP manager failed: admin 0 is invalid: The identity is not valid under this MSP  Org1MSP : could not validate identity's OUs: none of the identity's organizational units   0xc4204e9ad0   are in MSP Org1MSP orderer.example.com       | panic: Error creating channelconfig bundle: initializing channelconfig failed: could not create channel Consortiums sub-group config: setting up the MSP manager failed: admin 0 is invalid: The identity is not valid under this MSP  Org1MSP : could not validate identity's OUs: none of the identity's organizational units   0xc4204e9ad0   are in MSP Org1MSP orderer.example.com       |  orderer.example.com       | goroutine 1  running : orderer.example.com       | github.com/hyperledger/fabric/vendor/go.uber.org/zap/zapcore.(*CheckedEntry).Write(0xc4200f0630, 0x0, 0x0, 0x0) orderer.example.com       |     /opt/gopath/src/github.com/hyperledger/fabric/vendor/go.uber.org/zap/zapcore/entry.go:229 +0x4f4 orderer.example.com       | github.com/hyperledger/fabric/vendor/go.uber.org/zap.(*SugaredLogger).log(0xc42017a1e0, 0x4, 0xe14c6d, 0x27, 0xc4204af958, 0x1, 0x1, 0x0, 0x0, 0x0) orderer.example.com       |     /opt/gopath/src/github.com/hyperledger/fabric/vendor/go.uber.org/zap/sugar.go:234 +0xf6 orderer.example.com       | github.com/hyperledger/fabric/vendor/go.uber.org/zap.(*SugaredLogger).Panicf(0xc42017a1e0, 0xe14c6d, 0x27, 0xc4204af958, 0x1, 0x1) orderer.example.com       |     /opt/gopath/src/github.com/hyperledger/fabric/vendor/go.uber.org/zap/sugar.go:159 +0x79 orderer.example.com       | github.com/hyperledger/fabric/common/flogging.(*FabricLogger).Panicf(0xc42017a1e8, 0xe14c6d, 0x27, 0xc4204af958, 0x1, 0x1) orderer.example.com       |     /opt/gopath/src/github.com/hyperledger/fabric/common/flogging/zap.go:74 +0x60 orderer.example.com       | github.com/hyperledger/fabric/orderer/common/multichannel.(*Registrar).newLedgerResources(0xc4202725a0, 0xc420178e60, 0xc420178e60) orderer.example.com       |     /opt/gopath/src/github.com/hyperledger/fabric/orderer/common/multichannel/registrar.go:256 +0x2ea orderer.example.com       | github.com/hyperledger/fabric/orderer/common/multichannel.NewRegistrar(0xea36a0, 0xc42000c3a0, 0xc4202567b0, 0xe9b060, 0x15a78b0, 0xc42017a2f0, 0x1, 0x1, 0x0) orderer.example.com       |     /opt/gopath/src/github.com/hyperledger/fabric/orderer/common/multichannel/registrar.go:142 +0x312 orderer.example.com       | github.com/hyperledger/fabric/orderer/common/server.initializeMultichannelRegistrar(0xc420100580, 0xe9b060, 0x15a78b0, 0xc42017a2f0, 0x1, 0x1, 0x0) orderer.example.com       |     /opt/gopath/src/github.com/hyperledger/fabric/orderer/common/server/main.go:258 +0x250 orderer.example.com       | github.com/hyperledger/fabric/orderer/common/server.Start(0xdf7a5a, 0x5, 0xc420100580) orderer.example.com       |     /opt/gopath/src/github.com/hyperledger/fabric/orderer/common/server/main.go:96 +0x226 orderer.example.com       | github.com/hyperledger/fabric/orderer/common/server.Main() orderer.example.com       |     /opt/gopath/src/github.com/hyperledger/fabric/orderer/common/server/main.go:75 +0x1d6 orderer.example.com       | main.main() orderer.example.com       |     /opt/gopath/src/github.com/hyperledger/fabric/orderer/main.go:15 +0x20 orderer.example.com exited with code 2 {code}   I am using Hyperledger Fabric v1.3  complete logs can be found here: https://hastebin.com/ujiluvupox.php  Please let me know if you have any suggestion. Any help/comment would be appreciated.        ></description> </Issue>
