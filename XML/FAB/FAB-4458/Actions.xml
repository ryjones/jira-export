<Action id="35205" issue="17634" author="phillipviana" type="comment" body="Do we want to simply print a message with the troubleshooting guidance (-C) or maybe try again with -C option (dropping the pipe) and tar xz&apos;ing immediately after?" created="2017-11-21 09:51:30.0" updateauthor="phillipviana" updated="2017-11-21 09:51:30.0"/>
<Action id="35688" issue="17634" author="phillipviana" type="comment" created="2017-11-30 20:25:53.0" updateauthor="phillipviana" updated="2017-11-30 20:26:36.0"> <body><! CDATA I'm working on and testing a solution right now. The design is as follows: - If there's no network failure the script will behave as it does today (file is extracted as it's downloaded via a pipe: | tar xz). - Piped tar.gz extraction will not work with the -C option (resume download). Therefore, if the download fails once, the script will try again, this time downloading the binary first (saving it locally) and extracting it only after the download completes (that is, without the pipe). - Since the file is saved locally, if there's another failure during the download the script will exit but the system will be left with a partial version of the file that can be resumed by using the -C option. This will happen by default on the next invocation of the bootstrap script. - Every time the bootstrap script is invoked it will first look for a local version of the file. If it doesn't exist the script will do the same as it does today (see first bullet point above). If a file does exist the download will resume using the -C option.  ></body> </Action>
<Action id="36081" issue="17634" author="phillipviana" type="comment" created="2017-12-10 17:17:52.0" updateauthor="phillipviana" updated="2017-12-10 17:18:06.0"> <body><! CDATA I added functionality to the bootstrap script so that the download can resume automatically if there are network errors. The following scenarios were tested (RHEL and Ubuntu): - Whole file downloaded at once - PASSED RHEL 7.4; PASSED UBUNTU 14.04                      - One failure + one incremental download - PASSED RHEL 7.4; PASSED UBUNTU 14.04               - One failure + several increments - PASSED RHEL 7.4; PASSED UBUNTU 14.04        - File is already there and complete - PASSED RHEL 7.4; PASSED UBUNTU 14.04      - File exists with 0 bytes - PASSED RHEL 7.4; PASSED UBUNTU 14.04                  By adding the functionality to the script (rather than the docs) we make use of automation and therefore keep the documentation concise while making the script more robust. Let me know if this works.  ></body> </Action>
<Action id="43353" issue="17634" author="kchristidis" type="comment" body="https://gerrit.hyperledger.org/r/c/16095/" created="2018-04-24 14:14:22.0" updateauthor="kchristidis" updated="2018-04-24 14:14:22.0"/>
