<Issue id="15475" key="FAB-2901" number="2901" project="10002" reporter="c0rwin" assignee="gennadyl" creator="c0rwin" type="10004" summary="Leader election unit tests fails CI, wrong leadership selection." priority="3" resolution="10000" status="6" created="2017-03-27 21:54:50.0" updated="2018-07-20 14:12:04.0" resolutiondate="2017-04-02 18:12:11.0" votes="0" watches="1" workflowId="37851"> <description><! CDATA {code} 05:38:21 unit-tests_1  | ok  	github.com/hyperledger/fabric/gossip/comm/mock	0.045s	coverage: 82.4% of statements 05:38:21 unit-tests_1  | ?   	github.com/hyperledger/fabric/gossip/common	 no test files  05:38:41 unit-tests_1  | ok  	github.com/hyperledger/fabric/gossip/discovery	7.573s	coverage: 83.2% of statements 05:39:02 unit-tests_1  | --- FAIL: TestPartition (3.10s) 05:39:02 unit-tests_1  | 	assertions.go:219:   	Error Trace:	election_test.go:330 05:39:02 unit-tests_1  | 		 	Error:		Should be true 05:39:02 unit-tests_1  | 		 	Messages:	Leadership callback result is wrong for p0 05:39:02 unit-tests_1  | 		 05:39:02 unit-tests_1  | FAIL 05:39:02 unit-tests_1  | coverage: 94.8% of statements 05:39:02 unit-tests_1  | FAIL	github.com/hyperledger/fabric/gossip/election	7.153s 05:39:02 unit-tests_1  | error: exit status 1 05:39:02 unit-tests_1  | panic: EOF 05:39:02 unit-tests_1  |  05:39:02 unit-tests_1  | goroutine 1  running : 05:39:02 unit-tests_1  | panic(0x4daca0, 0xc42006c020) 05:39:02 unit-tests_1  | 	/opt/go/src/runtime/panic.go:500 +0x1a1 05:39:02 unit-tests_1  | main.main() 05:39:02 unit-tests_1  | 	/opt/gotools/obj/gopath/src/github.com/AlekSi/gocov-xml/gocov-xml.go:60 +0x15fd 05:39:03 unittest_unit-tests_1 exited with code 2 05:39:03 Stopping unittest_vp_1 ...  05:39:03 Stopping couchdb ...  05:39:04  Stopping couchdb ... done  Stopping unittest_vp_1 ... done Aborting on container exit... {code}  Full log could be seen here: https://jenkins.hyperledger.org/job/fabric-verify-x86_64/8889/console   ></description> </Issue>
