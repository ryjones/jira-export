<Action id="63784" issue="42357" author="rameshthoomu" type="comment" body="https://gerrit.hyperledger.org/r/c/fabric/+/33523" created="2019-09-16 16:27:03.0" updateauthor="rameshthoomu" updated="2019-09-16 16:27:03.0"/>
<Action id="63786" issue="42357" author="scottz" type="comment" body="We should expect to see the new warning log message in the orderer leader, only after the WAL write finally completes, and only once per slow write. If the write completes before a leader election occurs (before the 5 secs, when using default settings), then there should be no problem and no lost message. If the write takes longer than 5 secs and a leader election happens, then there is a good possibility that the block would be lost. Raft network operators should be aware that leadership elections could lead to dropped transactions/blocks, so the warning log should be enough for them to identify the slow-write as the cause for a lost block they might have observed." created="2019-09-16 17:43:06.0" updateauthor="scottz" updated="2019-09-16 17:43:06.0"/>
<Action id="63791" issue="42357" author="guoger" type="comment" created="2019-09-17 04:28:28.0" updateauthor="guoger" updated="2019-09-17 04:28:28.0"> <body><! CDATA Thanks for the log and comments in it, very helpful.  1. This log basically indicates a block being dropped for sure: {code} 2019-09-11 22:09:59.550 UTC  orderer.consensus.etcdraft  findConflict -> INFO 0a0 found conflict at index 12  existing term: 3, conflicting term: 4  channel=testorgschannel0 node=3 2019-09-11 22:09:59.550 UTC  orderer.consensus.etcdraft  truncateAndAppend -> INFO 0a1 replace the unstable entries from index 12 channel=testorgschannel0 node=3 {code} although, we cannot directly get such notification from {{etcd/raft}}. what we could do is to add a tracker in our {{MemoryStorage}} to log such event  2. i think we should also log block hash along with {{"Writing block  %d "}} and {{"Created block  %d }}  3. I think Jason's CR is worth backporting to 1.4  cc  ~jyellick   ~rameshthoomu   ~scottz   ></body> </Action>
<Action id="63838" issue="42357" author="scottz" type="comment" created="2019-09-18 14:52:02.0" updateauthor="scottz" updated="2019-09-18 14:52:02.0"> <body><! CDATA Those suggestions all sound like good things.  Ramesh tested the fix and it works as designed. Looks good.  ></body> </Action>
