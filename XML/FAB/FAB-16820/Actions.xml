<Action id="64889" issue="42734" author="scottz" type="comment" body="debug (cat config for gen_crl test, in patchset2) with  https://gerrit.hyperledger.org/r/c/fabric-test/+/34061 " created="2019-10-22 20:23:55.0" updateauthor="scottz" updated="2019-10-22 20:23:55.0"/>
<Action id="64895" issue="42734" author="scottz" type="comment" created="2019-10-23 14:00:17.0" updateauthor="scottz" updated="2019-10-23 14:00:17.0"> <body><! CDATA Status update: I see both the clustering and gencrl tests have failed every day in the CI daily job for at least a week. However, I can successfully run the gencrl test on my laptop today, after clone and build fabric-ca. (I skipped the clustering test.) Has anyone else tried to run it locally?  ~btl5037   ~vijaypunugubati  We can explore what is different between my environment and the CI job. {quote}$ date  ; ./runCATestSuite.sh ; date; ls -l results_fabric-ca_tests.xml  Wed Oct 23 09:37:55 EDT 2019  ======== Fabric-CA tests...========  *========================================================================= test session starts ==========================================================================*  platform darwin -- Python 2.7.16, pytest-4.6.4, py-1.8.0, pluggy-0.12.0 -- /usr/local/opt/python@2/bin/python2.7  cachedir: .pytest_cache  rootdir: /Users/scottz@us.ibm.com/go/src/github.com/hyperledger/fabric-test/regression/daily  *collected 2 items *                                                                                                                                                          ca_tests.py::FabricCaTests::test_FAB6863_BasicCAClustering SKIPPED                                                                                                 50%   ca_tests.py::FabricCaTests::test__FAB7206_GenCrlWindows PASSED                                                                                                    100%      ----------------- generated xml file: /Users/scottz@us.ibm.com/go/src/github.com/hyperledger/fabric-test/regression/daily/results_fabric-ca_tests.xml ------------------  *================================================================ 1 passed, 1 skipped in 309.84 seconds =================================================================*  ------> Fabric-CA tests completed.  Wed Oct 23 09:43:05 EDT 2019 {quote}  ></body> </Action>
<Action id="64904" issue="42734" author="scottz" type="comment" created="2019-10-23 20:04:35.0" updateauthor="scottz" updated="2019-10-23 20:57:41.0"> <body><! CDATA STATUS: The original problem is not seen anymore. There are two groupings of tests. Both are failing daily now. Data in the CI job results show only the errors for the BasicCAClustering tests because the output exceeds 64K and then the IOError is displayed when the tool aborts.  Currently retesting, using  https://gerrit.hyperledger.org/r/c/fabric-test/+/34072 . The GenCRL tests pass on my laptop; I am using an older version of openssl than the CI. This may be a factor, but still trying to confirm if that is the only factor, and if using the newer openssl version requires updates to the script tools/CTE/crl_test.sh.    {quote}Errors for GenCRL tests in CI: ca_tests.py::FabricCaTests::test_FAB7206_GenCrlWindows FAILED  CalledProcessError: Command ' 'mkdir -p /tmp/logs/FAB7206; chmod 777 /tmp/logs/FAB7206;docker run -v $PWD/../../tools/CTE/:/tmp/test -v /tmp/logs/FAB7206:/tmp -v $PWD/../../fabric-ca:/opt/gopath/src/github.com/hyperledger/fabric-ca hyperledger/fabric-ca-fvt /tmp/test/crl_test.sh' ' returned non-zero exit status 24 {quote} {quote}Error: Failed to parse response: Client sent an HTTP request to an HTTPS server. : invalid character 'C' looking for beginning of value Can't open /tmp/gencrl/admin/msp/crls/crl.pem for reading, No such file or directory{quote}   {quote}Errors opening files (steady stream of them) for the BasicCAClustering tests: ca_tests.py::FabricCaTests::test_FAB6863_BasicCAClustering FAILED   CalledProcessError: Command ' 'mkdir -p /tmp/logs/FAB6863; chmod 777 /tmp/logs/FAB6863;docker run -v /tmp/logs/FAB6863:/tmp -v $PWD/../../fabric-ca:/opt/gopath/src/github.com/hyperledger/fabric-ca hyperledger/fabric-ca-fvt ./scripts/fvt/cluster_test.sh 4 4 8 128' ' returned non-zero exit status 56   Can't open /tmp/cluster/users/testuser1-4/msp/signcerts/cert.pem for reading, No such file or directory*00:42:11.182* 140310278988928:error:02001002:system library:fopen:No such file or directory:../crypto/bio/bss_file.c:69:fopen('/tmp/cluster/users/testuser1-4/msp/signcerts/cert.pem','r')*00:42:11.182* 140310278988928:error:2006D080:BIO routines:BIO_new_ file:no|file:///no  such  file:../crypto/bio/bss_file.c:76:*00:42:11.182*|file:///crypto/bio/bss_file.c:76:*00:42:11.182*  unable to load certificate {quote}  ></body> </Action>
<Action id="65091" issue="42734" author="vijaypunugubati" type="comment" body="Refer this  https://gerrit.hyperledger.org/r/#/c/fabric-test/+/34072/  to get the error log which are not captured in the jenkins builds." created="2019-10-29 15:00:37.0" updateauthor="vijaypunugubati" updated="2019-10-29 15:00:37.0"/>
<Action id="65324" issue="42734" author="scottz" type="comment" body="fabric-ca changes were made. This error is no longer seen in our fabric-test job. Refer to other bugs for new failures investigations." created="2019-11-06 18:53:02.0" updateauthor="scottz" updated="2019-11-06 18:53:02.0"/>
