<Action id="29493" issue="19910" author="scottz" type="comment" created="2017-08-07 14:57:04.0" updateauthor="scottz" updated="2017-08-07 14:57:04.0"> <body><! CDATA Initial investigations revealed: # traffic tool PTE timed out after waiting 2 minutes for the instantiation, and then could not send invokes. PTE does not wait 10 minutes. If we increased PTE timeout value, it should work. # We suspect a bad wireless network and/or resource issue on the tester's laptop. Same test passed another day on same machine. # In the failing test, the logs indicated that the chaincode container was successfully started eventually - after 9 minutes. # core.yaml config parameter CORE_CHAINCODE_STARTUPTIMEOUT=300s (as shown in the text box below), but the peer did not report an error 5 minutes after receiving the instantiation request. This was suspicious. Murali confirmned that this timer covers only the startup phase - and does not include building the chaincode image, which can also occur (first) when receiving the instantiation request. he suggested revisiting this timer, to ensure it is started before trying to build the image, so that the timer is all-encompassing and it would make more sense from the user's perspective to represent the time from beginning to end of the instantiation request msg. As written in core.yaml comments (below), one might argue that it is technically accurate `...for starting up a container...` but as discussed previously it is not a user-friendly definition when the image must also be built. We propose to change the code to start the timer earlier, to encompass the time for building an image, and optionally reword this comment too.  {noformat} # Timeout duration for starting up a container and waiting for Register # to come through. 1sec should be plenty for chaincode unit tests startuptimeout: 300s{noformat}  ></body> </Action>
<Action id="31132" issue="19910" author="muralisr" type="comment" body=" ~cbl  thanks for taking a look at this! Let me know if you need pointers." created="2017-09-25 13:20:42.0" updateauthor="muralisr" updated="2017-09-25 13:20:42.0"/>
<Action id="32062" issue="19910" author="cbl" type="comment" created="2017-10-13 02:51:34.0" updateauthor="cbl" updated="2017-10-13 02:51:34.0"> <body><! CDATA Working on that:  https://gerrit.hyperledger.org/r/#/c/13835/  ></body> </Action>
