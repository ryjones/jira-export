<Action id="24049" issue="16868" author="kchristidis" type="comment" created="2017-05-18 21:15:55.0" updateauthor="kchristidis" updated="2017-05-18 21:15:55.0"> <body><! CDATA This looks like a great catch but let's see if the issue persists when the right settings have been applied: https://jira.hyperledger.org/browse/FAB-4012?focusedCommentId=24047&page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel#comment-24047  Let me know.  Thanks as always for the detailed report, and for including that link.  ></body> </Action>
<Action id="24076" issue="16868" author="nishi" type="comment" created="2017-05-19 14:12:03.0" updateauthor="nishi" updated="2017-05-19 14:12:03.0"> <body><! CDATA Updated my base yaml files in https://jira.hyperledger.org/browse/FAB-4012    One difference I have observed between your file and what we have is, in our docker-compose-e2e.yaml file in order section ZK is missing from depends clause {code:java} orderer0.example.com: extends: file:   base/docker-compose-base.yaml service: orderer0.example.com container_name: orderer0.example.com depends_on: - kafka0 - kafka1 - kafka2  {code} Updated order section to include ZK in docker-compose-e2e.yaml and ran the test again, with similar results as reported in this issue. Let me know if we are missing anything else in our setup.  ></body> </Action>
<Action id="24079" issue="16868" author="nishi" type="comment" created="2017-05-19 14:50:06.0" updateauthor="nishi" updated="2017-05-19 16:10:09.0"> <body><! CDATA Just noticed your email  added missing config value in docker-compose-base.yaml file and will re-run my test. {code:java} KAFKA_MIN_INSYNC_REPLICAS=2{code}    Transaction could be submitted successfully with No Zookeepers running as reported earlier.  ></body> </Action>
<Action id="24126" issue="16868" author="kchristidis" type="comment" body="Unassigning myself on purpose as I&apos;m only working on one issue at time. Will re-assign when I focus on this." created="2017-05-21 23:24:07.0" updateauthor="kchristidis" updated="2017-05-21 23:24:07.0"/>
<Action id="24477" issue="16868" author="mastersingh24" type="comment" created="2017-05-26 16:30:20.0" updateauthor="mastersingh24" updated="2017-05-26 16:30:20.0"> <body><! CDATA As far as I know, the Sarama Kafka client we use does not have a dependency on Zookeeper so the shim nodes should continue working as normal Kafka clients as long as the Kafka cluster is up and running.  Since the Kafka brokers were started properly with ZK up and running, they should continue running even if you reduce the number of ZK nodes to less than the quorum size.  If a ZK quorum is not available, you will definitely not be able to create channels (since Kafka 100% requires ZK to be up to create topics).  If the Kafka cluster changes (e.g. the primary broker for a partition goes down) it's also possible that you'll get errors with an insufficient ZK quorum.  But all other things being equal / staying the same, I am pretty sure that clients should be able to read / write from Kafka partitions even if ZK goes down  ></body> </Action>
<Action id="24510" issue="16868" author="kchristidis" type="comment" body="Correct, the dependency on ZK for consumer offsets was dropped with the version 0.9 in Kafka. I don&apos;t know what I was thinking with the earlier comment of mine, apologies to both for the error. (I need a break.) Closing this." created="2017-05-26 19:50:54.0" updateauthor="kchristidis" updated="2017-05-26 19:50:54.0"/>
