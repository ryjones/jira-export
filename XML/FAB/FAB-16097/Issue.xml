<Issue id="41435" key="FAB-16097" number="16097" project="10002" reporter="rameshthoomu" assignee="joe-alewine" creator="rameshthoomu" type="10004" summary="1.3.0 -&gt; 1.4.2 upgrade step is failing through &quot;./byfn.sh upgrade -i 1.4.2&quot;" priority="3" resolution="10000" status="6" created="2019-07-25 19:26:17.0" updated="2019-08-28 18:18:31.0" resolutiondate="2019-08-28 18:18:31.0" votes="0" watches="3" workflowId="54452"> <description><! CDATA Followed the steps defined here https://hyperledger-fabric.readthedocs.io/en/release-1.4/upgrading_your_network_tutorial.html to upgrade fabric network from 1.3.0 to 1.4.2. Observed below error.  After the byfn is worked on 1.3.0 --> fetch the latest code and checkout to 1.4.2 --> Execute ./byfn.sh -m generate. Config tx are created successfully but when I try to upgrade using "./byfn.sh upgrade -i 1.4.2" observed below error.  {code:java} Upgrade your first network (BYFN) from v1.3.x to v1.4.x end-to-end test  System channel name : byfn-sys-channel Channel name : mychannel Config update for /Channel on "byfn-sys-channel" Fetching the most recent configuration block for the channel + peer channel fetch config config_block.pb -o orderer.example.com:7050 -c byfn-sys-channel --tls --cafile /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/ordererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem 2019-07-25 18:36:51.947 UTC  main  InitCmd -> WARN 001 CORE_LOGGING_LEVEL is no longer supported, please use the FABRIC_LOGGING_SPEC environment variable 2019-07-25 18:36:52.047 UTC  main  SetOrdererEnv -> WARN 002 CORE_LOGGING_LEVEL is no longer supported, please use the FABRIC_LOGGING_SPEC environment variable 2019-07-25 18:36:52.063 UTC  channelCmd  InitCmdFactory -> INFO 003 Endorser and orderer connections initialized 2019-07-25 18:36:52.066 UTC  cli.common  readBlock -> INFO 004 Got status: &{NOT_FOUND} Error: can't read the block: &{NOT_FOUND} + set +x Decoding config block to JSON and isolating config to config.json + configtxlator proto_decode --input config_block.pb --type common.Block + jq '.data.data 0 .payload.data.config' configtxlator: error: open config_block.pb: no such file or directory, try --help + set +x + configtxlator proto_encode --input config.json --type common.Config configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF + configtxlator proto_encode --input modified_config.json --type common.Config configtxlator: error: Error decoding: error decoding input: *common.Config: unknown field "value" in common.Config + configtxlator compute_update --channel_id byfn-sys-channel --original original_config.pb --updated modified_config.pb configtxlator: error: Error computing update: error computing config update: no channel group included for original config + configtxlator proto_decode --input config_update.pb --type common.ConfigUpdate + jq . ++ cat config_update.json + echo '{"payload":{"header":{"channel_header":{"channel_id":"byfn-sys-channel", "type":2}},"data":{"config_update":{' '"channel_id":' '"",' '"isolated_data":' '{},' '"read_set":' null, '"write_set":' null '}}}}' + configtxlator proto_encode --input config_update_in_envelope.json --type common.Envelope + set +x + peer channel update -f config_update_in_envelope.pb -c byfn-sys-channel -o orderer.example.com:7050 --tls true --cafile /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/ordererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem 2019-07-25 18:36:52.423 UTC  main  InitCmd -> WARN 001 CORE_LOGGING_LEVEL is no longer supported, please use the FABRIC_LOGGING_SPEC environment variable 2019-07-25 18:36:52.526 UTC  main  SetOrdererEnv -> WARN 002 CORE_LOGGING_LEVEL is no longer supported, please use the FABRIC_LOGGING_SPEC environment variable 2019-07-25 18:36:52.538 UTC  channelCmd  InitCmdFactory -> INFO 003 Endorser and orderer connections initialized Error: got unexpected status: BAD_REQUEST -- Failing initial channel config creation: mismatched channel IDs: '' != 'byfn-sys-channel' !!!!!!!!!!!!!!! Config update for "channel" on "byfn-sys-channel" failed !!!!!!!!!!!!!!!! ========= ERROR !!! FAILED to execute End-2-End Scenario =========== {code}     ></description> </Issue>
