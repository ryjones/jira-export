<Issue id="42018" key="FAB-16406" number="16406" project="10002" reporter="berith" assignee="berith" creator="berith" type="10001" summary="Statedb supports MongoDB" priority="3" status="10100" created="2019-08-26 07:36:58.0" updated="2019-11-22 05:49:41.0" votes="0" watches="7" workflowId="55061"> <description><! CDATA We have edited the code so that StateDB can support MongoDB.  We will be supporting MongoDB from version 3.4. We have determined the version on the basis of  https://hub.docker.com/_/mongo  Shared Tags.  The added code was programmed similar to the content of leveldb and touchdb to maintain compatibility with previous versions and minimize necessary changes.  The test has been carried successfulle on first-network sameple of Fabric 1.4.2 version without any problem. Also, it appeared as twice as higher as CouchDB in the TPS test result when thoroughly checked.  The following content is about integrating MongoDB with first-network sameple of Fabric 1.4.2 version in Ubuntu 18.04. h2. *Prerequisite* # curl(sudo apt-get update && sudo apt-get install curl) # git(sudo apt-get update && sudo apt-get install git) # docker( https://docs.docker.com/install/linux/docker-ce/ubuntu/ ) # docker-compose( https://docs.docker.com/compose/install/ ) # golang( https://golang.org/doc/install#install ) # Setting for GOPATH's environment variables  h2. *Installation of Hyperledger Fabric First Network Sample*  Download Fabric Sample of the Fabric with version v1.4.2. {code:java} curl -sSL http://bit.ly/2ysbOFE | bash -s -- 1.4.2 1.4.2 0.4.15{code} After successfully downloading please move fabric-samples to directory and then make a clone of first-network sample which supports MongoDB. {code:java} cd fabric-samples git remote add -f mongodb https://github.com/developer-Berith/fabric-samples.git git pull mongodb v1.4.2-mongodb {code} h2. *Build Peer, Tools MongoDB*  Create src/github.com/hyperledger as a subdirectory from the directory you set for the GOPATH environment variable. {code:java} mkdir -p $GOPATH/src/github.com/hyperledger {code} Create src/github.com/hyperledger as a subdirectory from the directory you set for the GOPATH environment variable. {code:java} git clone -b v1.4.2-mongodb https://github.com/developer-Berith/fabric.git {code} Once the git clone is complete, move to fabric directory and process Build. {code:java} make clean ; make peer ; make peer-docker make tools-docker {code} Once the Build is completed, the images which were originally in hyperledger/fabric-tools, hyperledger/fabric-peer will be deleted and will be saved to the newly built hyperledger/fabric-tools, hyperledger/fabric-peer. Check if the time of creation is the latest or not from the properties of CREATED using the command of docker images. {code:java} docker images {code} h2. *Run Hyperledger Fabric First Network Sample*  Go to the directory of fabric-samples and run the First Network Sample after entering the option value as mongodb in  byfn.sh|http://byfn.sh/  script. {code:java} ./byfn.sh up -s mongodb {code} If this is processed correctly then it will perform the same operation as the original First Network Sample.  ></description> </Issue>
