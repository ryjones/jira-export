<Action id="39083" issue="27049" author="denyeart" type="comment" created="2018-01-24 21:55:37.0" updateauthor="denyeart" updated="2018-01-24 22:35:48.0"> <body><! CDATA I see the difference... in golang chaincode packaging there is some additional filtering which removes *.txt files during chaincode packaging.  Therefore the invalid index does not get included and hence no crash.  The crash issue due to invalid JSON itself was fixed in -FAB-7715-.  {color:#444444}To resolve the issue of .txt files not getting included, let's document that extension of .json must be used for the index defintion json files (see FAB-7889).{color}  {color:#444444}To ensure more consistency across golang chaincode and node chaincode, let's use this JIRA to enforce that index files must utilize *.json file extension.{color}  ></body> </Action>
<Action id="39622" issue="27049" author="denyeart" type="comment" body="I think this is a Medium problem now that we&apos;ve documented that you should use *.json for index files.  I&apos;ll move to Medium since this defect is just about enforcing it during packaging time for consistency.   ~AdnanChoudhury  feel free to move back if you disagree." created="2018-02-03 21:04:45.0" updateauthor="denyeart" updated="2018-02-03 21:04:45.0"/>
<Action id="40287" issue="27049" author="denyeart" type="comment" created="2018-02-16 13:03:09.0" updateauthor="denyeart" updated="2018-02-16 13:03:09.0"> <body><! CDATA For background:  packaging of go chaincode indexes:  https://gerrit.hyperledger.org/r/#/c/16697/   packaging of node chaincode indexes:  https://gerrit.hyperledger.org/r/#/c/16845/   additional validation for both go and node chaincode indexes:  https://gerrit.hyperledger.org/r/#/c/17045/      ></body> </Action>
<Action id="40434" issue="27049" author="chris.elder" type="comment" body="https://gerrit.hyperledger.org/r/#/c/18063/" created="2018-02-20 18:40:47.0" updateauthor="chris.elder" updated="2018-02-20 18:40:47.0"/>
<Action id="40476" issue="27049" author="denyeart" type="comment" created="2018-02-21 02:55:56.0" updateauthor="denyeart" updated="2018-02-21 02:55:56.0"> <body><! CDATA The peer no longer panics when it hits a malformed index error, FAB-7777 changed the behavior to log the error and keep processing blocks, since the index is not needed on the committing side. The only thing this Jira will do is enforce consistent file extension checking on packaged couchdb indexes across golang and node chaincode (it should be *.json only).  I've updated the title accordingly.  ></body> </Action>
