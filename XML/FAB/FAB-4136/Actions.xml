<Action id="24232" issue="17054" author="kchristidis" type="comment" body="I&apos;m almost done with Step 1 BTW." created="2017-05-24 13:09:04.0" updateauthor="kchristidis" updated="2017-05-24 13:09:04.0"/>
<Action id="24845" issue="17054" author="jonathanlevi" type="comment" created="2017-05-31 19:13:48.0" updateauthor="jonathanlevi" updated="2017-05-31 19:15:54.0"> <body><! CDATA  ~kchristidis :Â Actually, can we list out all the related FABs and CRs so that we can review them all?  Â   ></body> </Action>
<Action id="24846" issue="17054" author="kchristidis" type="comment" body=" ~JonathanLevi : Haven&apos;t even started coding this yet, since I&apos;m still onÂ FAB-4184." created="2017-05-31 19:22:42.0" updateauthor="kchristidis" updated="2017-05-31 19:22:42.0"/>
<Action id="24848" issue="17054" author="jonathanlevi" type="comment" body="Noted.Â Thanks for the update K." created="2017-05-31 19:35:54.0" updateauthor="jonathanlevi" updated="2017-05-31 19:35:54.0"/>
<Action id="24862" issue="17054" author="kchristidis" type="comment" body="ETA for this: Friday 6/9" created="2017-05-31 21:22:21.0" updateauthor="kchristidis" updated="2017-05-31 21:22:21.0"/>
<Action id="24991" issue="17054" author="christopherferris" type="comment" body=" ~kchristidis  any chance we could get this done sooner? Is this a gnarly fix or can someone else help?Â " created="2017-06-01 18:49:45.0" updateauthor="christopherferris" updated="2017-06-01 18:49:45.0"/>
<Action id="25003" issue="17054" author="kchristidis" type="comment" created="2017-06-01 20:08:23.0" updateauthor="kchristidis" updated="2017-06-01 20:08:23.0"> <body><! CDATA It's not as easy of a fix as it initially sounds.  First, as I noted above, it requires me getting done with FAB-4184 first.  Two, I don't even have consensus from the maintainers yet on whether the changes needed for this fix are acceptable, see: https://jira.hyperledger.org/browse/FAB-4121?focusedCommentId=24824&page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel#comment-24824Â (and my post in the #maintainers channel yesterday)  ></body> </Action>
<Action id="25004" issue="17054" author="kchristidis" type="comment" created="2017-06-01 20:15:27.0" updateauthor="kchristidis" updated="2017-06-01 21:03:01.0"> <body><! CDATA > Can someone else help?  That's a good question.  FAB-4184 is a substantial refactoring/simplification of the `kafka` package which makes writing tests much easier. This is why I'm holding off on fixing this issue now. Of course this means that FAB-4184 may get rejected for the 1.0 cut because it touches the hot path, etc.  So I'm wondering whether it makes sense to work on a plan B right away, i.e. have someone work on this now, based on the current codebase. Writing unit tests for their fix will be -a pain-Â impossible, though they can test their changes by hacking Jeff's BDD framework. As always, it's a matter of picking our battles.  What do you say? I know  ~C0rWin  _may_ have some spare cycles for us, and I was thinking of approaching him for this. (Artem, hi.)  Â   ></body> </Action>
<Action id="25010" issue="17054" author="mastersingh24" type="comment" created="2017-06-01 21:00:18.0" updateauthor="mastersingh24" updated="2017-06-01 21:00:18.0"> <body><! CDATA I'd say let's try getting a fix in and rely on BDD or some level of manual testing to verify that it works. In the end, this is not going to hurt anything and can only help (at least that's my thinking)  ></body> </Action>
<Action id="25011" issue="17054" author="kchristidis" type="comment" created="2017-06-01 21:03:56.0" updateauthor="kchristidis" updated="2017-06-01 21:04:08.0"> <body><! CDATA Yeah, I think playing it safe right now and activating the backup plan now won't hurt.  Will coordinate with Artem and see if we can get this going right away.  ></body> </Action>
<Action id="25041" issue="17054" author="c0rwin" type="comment" created="2017-06-01 23:02:52.0" updateauthor="c0rwin" updated="2017-06-01 23:02:52.0"> <body><! CDATA  ~kchristidis  hi :)  Will take a look on this.  ></body> </Action>
<Action id="25521" issue="17054" author="muralisr" type="comment" created="2017-06-06 15:29:53.0" updateauthor="muralisr" updated="2017-06-06 15:29:53.0"> <body><! CDATA FAB-4415 seems to be related to this. Channel create fails with SERVICE_UNAVAILABLE from the orderer and the orderer logs show "Consenter instructed us to shut down"   {code:java} 36m2017-06-06 13:23:44.912 UTC  policies  CommitProposals -> DEBU 46b 0m In commit adding relative sub-policy Orderer/Admins to Channel  36m2017-06-06 13:23:44.912 UTC  policies  GetPolicy -> DEBU 46c 0m Returning policy Readers for evaluation  36m2017-06-06 13:23:44.912 UTC  policies  GetPolicy -> DEBU 46d 0m Returning policy Readers for evaluation  36m2017-06-06 13:23:44.912 UTC  policies  GetPolicy -> DEBU 46e 0m Returning policy Writers for evaluation  36m2017-06-06 13:23:44.912 UTC  policies  GetPolicy -> DEBU 46f 0m Returning policy Writers for evaluation  36m2017-06-06 13:23:44.912 UTC  policies  GetPolicy -> DEBU 470 0m Returning policy Admins for evaluation  36m2017-06-06 13:23:44.912 UTC  policies  GetPolicy -> DEBU 471 0m Returning policy Admins for evaluation  36m2017-06-06 13:23:44.912 UTC  policies  GetPolicy -> DEBU 472 0m Returning policy Readers for evaluation  36m2017-06-06 13:23:44.912 UTC  policies  CommitProposals -> DEBU 473 0m As expected, current configuration has policy '/Channel/Readers'  36m2017-06-06 13:23:44.912 UTC  policies  GetPolicy -> DEBU 474 0m Returning policy Writers for evaluation  36m2017-06-06 13:23:44.912 UTC  policies  CommitProposals -> DEBU 475 0m As expected, current configuration has policy '/Channel/Writers'  36m2017-06-06 13:23:44.912 UTC  policies  GetPolicy -> DEBU 476 0m Returning policy Application/Readers for evaluation  36m2017-06-06 13:23:44.912 UTC  policies  CommitProposals -> DEBU 477 0m As expected, current configuration has policy '/Channel/Application/Readers'  36m2017-06-06 13:23:44.912 UTC  policies  GetPolicy -> DEBU 478 0m Returning policy Application/Writers for evaluation  36m2017-06-06 13:23:44.912 UTC  policies  CommitProposals -> DEBU 479 0m As expected, current configuration has policy '/Channel/Application/Writers'  36m2017-06-06 13:23:44.912 UTC  policies  GetPolicy -> DEBU 47a 0m Returning policy Application/Admins for evaluation  36m2017-06-06 13:23:44.912 UTC  policies  CommitProposals -> DEBU 47b 0m As expected, current configuration has policy '/Channel/Application/Admins'  36m2017-06-06 13:23:44.912 UTC  policies  GetPolicy -> DEBU 47c 0m Returning policy Orderer/BlockValidation for evaluation  36m2017-06-06 13:23:44.912 UTC  policies  CommitProposals -> DEBU 47d 0m As expected, current configuration has policy '/Channel/Orderer/BlockValidation' 2017-06-06 13:23:44.913 UTC  orderer/common/broadcast  Handle -> INFO 47e 0m Consenter instructed us to shut down {code}   ~kchristidis   ~jyellick  would you say the above is related to this JIRA ?  FYI  ~Ratnakar   ></body> </Action>
<Action id="25530" issue="17054" author="kchristidis" type="comment" body=" ~muralisr : It isn&apos;t. (That issue doesn&apos;t involve restarting.) Seems like a configuration issue on that test, left a comment on 4415." created="2017-06-06 15:53:21.0" updateauthor="kchristidis" updated="2017-06-06 15:53:21.0"/>
<Action id="25534" issue="17054" author="muralisr" type="comment" body=" ~kchristidis  ok...its curious that 4415 issue is intermittent. If its config related, would have expected to hit everytime. " created="2017-06-06 15:55:27.0" updateauthor="muralisr" updated="2017-06-06 15:55:27.0"/>
<Action id="25537" issue="17054" author="kchristidis" type="comment" body="Not really. We are bringing up two clusters (Kafka and ZK), and both need to go through leader election and assignments, butÂ we&apos;re pushing transactions to them right away. This is equivalent to someone tackling you when you haven&apos;t even entered the locker room." created="2017-06-06 15:58:41.0" updateauthor="kchristidis" updated="2017-06-06 15:58:41.0"/>
<Action id="25793" issue="17054" author="scottz" type="comment" body="Regardless of the control knobs settings, if the ZKs and KBs are not ready, with an elected leader, then shouldn&apos;t the orderers respond with SERVICE_UNAVAILABLE?" created="2017-06-08 21:11:29.0" updateauthor="scottz" updated="2017-06-08 21:11:29.0"/>
<Action id="25794" issue="17054" author="kchristidis" type="comment" body="They will. But they will keep retrying to establish connection according to the control knobs." created="2017-06-08 21:13:58.0" updateauthor="kchristidis" updated="2017-06-08 21:13:58.0"/>
<Action id="25857" issue="17054" author="weeds" type="comment" created="2017-06-09 14:00:03.0" updateauthor="weeds" updated="2017-06-09 14:00:03.0"> <body><! CDATA what are that appropriate gerrit that tie to 4136?  Â   ></body> </Action>
<Action id="25858" issue="17054" author="weeds" type="comment" created="2017-06-09 14:01:48.0" updateauthor="weeds" updated="2017-06-09 14:01:48.0"> <body><! CDATA I think they are 10257, 10319, 10323, and 100379?Â  just want to make sure we have in comments.  Â   ></body> </Action>
<Action id="25867" issue="17054" author="kchristidis" type="comment" created="2017-06-09 14:44:57.0" updateauthor="kchristidis" updated="2017-06-09 14:45:04.0"> <body><! CDATA Â The changesets are:   https://gerrit.hyperledger.org/r/#/c/10257/    https://gerrit.hyperledger.org/r/#/c/10319/    https://gerrit.hyperledger.org/r/#/c/10323/   I've also added those to their respective JIRA items (subtasks to this one):  https://jira.hyperledger.org/browse/FAB-4357  https://jira.hyperledger.org/browse/FAB-4408  https://jira.hyperledger.org/browse/FAB-4457  ></body> </Action>
