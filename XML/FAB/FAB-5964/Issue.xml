<Issue id="20518" key="FAB-5964" number="5964" project="10002" reporter="jpatchell" assignee="jpatchell" creator="jpatchell" type="10001" summary="BCCSP PKCS11 CKA_LABEL should be unique" priority="3" resolution="10000" status="6" created="2017-08-29 21:26:02.0" updated="2018-07-20 18:48:41.0" resolutiondate="2017-10-16 22:26:29.0" votes="1" watches="2" workflowId="39866"> <description><! CDATA Currently the BCCSP PKCS11 implementation sets the CKA_LABEL of the public and private keys to something like BCPUB1 and PCPRV1 respectively and sets the CKA_ID to the SKI bytes of the key pair.  For an HSM partition, this means that the CKA_LABEL will be the same if there are many key pairs in the same partition.  This makes it impossible to search for a key by the CKA_LABEL which is a common attribute to use for searching as the attribute will not be unique.    The CKA_LABEL should be set to the hex string of the SKI to make it unique for searching.  NOTE:  The SKI is a good choice as it can easily be calculated from the public key bytes of the MSP certificate which allows searching for the key by an alias (CKA_LABEL) given a certificate from an MSP that has the private key in a HSM.  ></description> </Issue>
