<Issue id="29757" key="FAB-9747" number="9747" project="10002" reporter="ales" assignee="ales" creator="ales" type="10003" summary="Avoid forking due to the introduction of key-level ledger metadata" priority="3" resolution="10000" status="6" created="2018-04-27 09:40:27.0" updated="2018-09-10 17:46:34.0" resolutiondate="2018-09-10 17:46:34.0" votes="0" watches="2" workflowId="44483"> <description><! CDATA In a mixed network (<1.2 and >=1.2 peers), a chaincode invocation, simulated on a 1.2 peer, may already produce a read-write set that contains key-level metadata. At commit time,Â <1.2 and >=1.2 peers will behave differently, namely: * <1.2 peers will unmarshal the rwset ignoring the new metadata fields, and will not apply any metadata updates * >=1.2 peers will recognize metadata fileds and may apply metadata-related ledger updates  This would cause a fork in stateDB. The way to handle this properly is to use the metadata capability and have the >=1.2 ledger code behave in compatibility mode if the capability isn't set.  ></description> </Issue>
