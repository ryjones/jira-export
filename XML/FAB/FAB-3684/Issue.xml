<Issue id="16382" key="FAB-3684" number="3684" project="10002" reporter="yuki-kon" assignee="yuki-kon" creator="yuki-kon" type="10004" summary="Default $CHANNEL_NAME is not set in e2e_cli/generateArtifacts.sh" environment="commit 58f33ece8cea77c061b516224a7c9646423c748b" priority="3" resolution="10000" status="6" created="2017-05-05 18:50:36.0" updated="2018-07-20 14:12:35.0" resolutiondate="2017-05-07 18:33:46.0" votes="0" watches="1" workflowId="38354"> <description><! CDATA Steps to reproduce  -------------------------- 1. move to e2e_cli directly cd fabric/examples/e2e_cli 2. run generateArtifacts.sh without channel name ./generateArtifacts.sh  Expected Results -------------------------- Artifacts for default channel "mychannel" is generated.  Acctual Results -------------------------- generateArtifacs fails while outputing the following error log. Channel name is not set. $CHANNEL_NAME is blank.  {code:java} -- ubuntu@hyperledger-devenv:c9ecf9e:/opt/gopath/src/github.com/hyperledger/fabric/examples/e2e_cli$ ./generateArtifacts.sh   Using cryptogen -> /opt/gopath/src/github.com/hyperledger/fabric/examples/e2e_cli/../../release/linux-amd64/bin/cryptogen  ########################################################## ##### Generate certificates using cryptogen tool ######### ########################################################## org1.example.com 2017-05-05 18:00:32.367 UTC  bccsp  GetDefault -> WARN 001 Before using BCCSP, please call InitFactories(). Falling back to bootBCCSP. 2017-05-05 18:00:32.406 UTC  bccsp  GetDefault -> WARN 002 Before using BCCSP, please call InitFactories(). Falling back to bootBCCSP. 2017-05-05 18:00:32.408 UTC  bccsp  GetDefault -> WARN 003 Before using BCCSP, please call InitFactories(). Falling back to bootBCCSP. 2017-05-05 18:00:32.411 UTC  bccsp  GetDefault -> WARN 004 Before using BCCSP, please call InitFactories(). Falling back to bootBCCSP. 2017-05-05 18:00:32.412 UTC  bccsp  GetDefault -> WARN 005 Before using BCCSP, please call InitFactories(). Falling back to bootBCCSP. org2.example.com 2017-05-05 18:00:32.415 UTC  bccsp  GetDefault -> WARN 006 Before using BCCSP, please call InitFactories(). Falling back to bootBCCSP. 2017-05-05 18:00:32.417 UTC  bccsp  GetDefault -> WARN 007 Before using BCCSP, please call InitFactories(). Falling back to bootBCCSP. 2017-05-05 18:00:32.419 UTC  bccsp  GetDefault -> WARN 008 Before using BCCSP, please call InitFactories(). Falling back to bootBCCSP. 2017-05-05 18:00:32.421 UTC  bccsp  GetDefault -> WARN 009 Before using BCCSP, please call InitFactories(). Falling back to bootBCCSP. 2017-05-05 18:00:32.422 UTC  bccsp  GetDefault -> WARN 00a Before using BCCSP, please call InitFactories(). Falling back to bootBCCSP. 2017-05-05 18:00:32.425 UTC  bccsp  GetDefault -> WARN 00b Before using BCCSP, please call InitFactories(). Falling back to bootBCCSP. 2017-05-05 18:00:32.427 UTC  bccsp  GetDefault -> WARN 00c Before using BCCSP, please call InitFactories(). Falling back to bootBCCSP. 2017-05-05 18:00:32.429 UTC  bccsp  GetDefault -> WARN 00d Before using BCCSP, please call InitFactories(). Falling back to bootBCCSP.  Using configtxgen -> /opt/gopath/src/github.com/hyperledger/fabric/examples/e2e_cli/../../release/linux-amd64/bin/configtxgen ########################################################## #########  Generating Orderer Genesis block ############## ########################################################## 2017-05-05 18:00:32.485 UTC  common/configtx/tool  main -> INFO 001 Loading configuration 2017-05-05 18:00:32.493 UTC  msp  getMspConfig -> INFO 002 intermidiate certs folder not found at  /opt/gopath/src/github.com/hyperledger/fabric/examples/e2e_cli/crypto-config/ordererOrganizations/example.com/msp/intermediatecerts . Skipping.:  stat /opt/gopath/src/github.com/hyperledger/fabric/examples/e2e_cli/crypto-config/ordererOrganizations/example.com/msp/intermediatecerts: no such file or directory  2017-05-05 18:00:32.493 UTC  msp  getMspConfig -> INFO 003 crls folder not found at  /opt/gopath/src/github.com/hyperledger/fabric/examples/e2e_cli/crypto-config/ordererOrganizations/example.com/msp/intermediatecerts . Skipping.:  stat /opt/gopath/src/github.com/hyperledger/fabric/examples/e2e_cli/crypto-config/ordererOrganizations/example.com/msp/crls: no such file or directory  2017-05-05 18:00:32.493 UTC  msp  getMspConfig -> INFO 004 MSP configuration file not found at  /opt/gopath/src/github.com/hyperledger/fabric/examples/e2e_cli/crypto-config/ordererOrganizations/example.com/msp/config.yaml :  stat /opt/gopath/src/github.com/hyperledger/fabric/examples/e2e_cli/crypto-config/ordererOrganizations/example.com/msp/config.yaml: no such file or directory  2017-05-05 18:00:32.495 UTC  msp  getMspConfig -> INFO 005 intermidiate certs folder not found at  /opt/gopath/src/github.com/hyperledger/fabric/examples/e2e_cli/crypto-config/peerOrganizations/org1.example.com/msp/intermediatecerts . Skipping.:  stat /opt/gopath/src/github.com/hyperledger/fabric/examples/e2e_cli/crypto-config/peerOrganizations/org1.example.com/msp/intermediatecerts: no such file or directory  2017-05-05 18:00:32.495 UTC  msp  getMspConfig -> INFO 006 crls folder not found at  /opt/gopath/src/github.com/hyperledger/fabric/examples/e2e_cli/crypto-config/peerOrganizations/org1.example.com/msp/intermediatecerts . Skipping.:  stat /opt/gopath/src/github.com/hyperledger/fabric/examples/e2e_cli/crypto-config/peerOrganizations/org1.example.com/msp/crls: no such file or directory  2017-05-05 18:00:32.495 UTC  msp  getMspConfig -> INFO 007 MSP configuration file not found at  /opt/gopath/src/github.com/hyperledger/fabric/examples/e2e_cli/crypto-config/peerOrganizations/org1.example.com/msp/config.yaml :  stat /opt/gopath/src/github.com/hyperledger/fabric/examples/e2e_cli/crypto-config/peerOrganizations/org1.example.com/msp/config.yaml: no such file or directory  2017-05-05 18:00:32.496 UTC  msp  getMspConfig -> INFO 008 intermidiate certs folder not found at  /opt/gopath/src/github.com/hyperledger/fabric/examples/e2e_cli/crypto-config/peerOrganizations/org2.example.com/msp/intermediatecerts . Skipping.:  stat /opt/gopath/src/github.com/hyperledger/fabric/examples/e2e_cli/crypto-config/peerOrganizations/org2.example.com/msp/intermediatecerts: no such file or directory  2017-05-05 18:00:32.496 UTC  msp  getMspConfig -> INFO 009 crls folder not found at  /opt/gopath/src/github.com/hyperledger/fabric/examples/e2e_cli/crypto-config/peerOrganizations/org2.example.com/msp/intermediatecerts . Skipping.:  stat /opt/gopath/src/github.com/hyperledger/fabric/examples/e2e_cli/crypto-config/peerOrganizations/org2.example.com/msp/crls: no such file or directory  2017-05-05 18:00:32.497 UTC  msp  getMspConfig -> INFO 00a MSP configuration file not found at  /opt/gopath/src/github.com/hyperledger/fabric/examples/e2e_cli/crypto-config/peerOrganizations/org2.example.com/msp/config.yaml :  stat /opt/gopath/src/github.com/hyperledger/fabric/examples/e2e_cli/crypto-config/peerOrganizations/org2.example.com/msp/config.yaml: no such file or directory  2017-05-05 18:00:32.497 UTC  common/configtx/tool  doOutputBlock -> INFO 00b Generating genesis block 2017-05-05 18:00:32.499 UTC  common/configtx/tool  doOutputBlock -> INFO 00c Writing genesis block  ################################################################# ### Generating channel configuration transaction 'channel.tx' ### ################################################################# flag needs an argument: -channelID Usage of /opt/gopath/src/github.com/hyperledger/fabric/examples/e2e_cli/../../release/linux-amd64/bin/configtxgen: -asOrg string Performs the config generation as a particular organization, only including values in the write set that org (likely) has privilege to set -channelID string The channel ID to use in the configtx (default "testchainid") -inspectBlock string Prints the configuration contained in the block at the specified path -inspectChannelCreateTx string Prints the configuration contained in the transaction at the specified path -outputAnchorPeersUpdate string Creates an config update to update an anchor peer (works only with the default channel creation, and only for the first update) -outputBlock string The path to write the genesis block to (if set) -outputCreateChannelTx string The path to write a channel creation configtx to (if set) -profile string The profile from configtx.yaml to use for generation. (default "SampleInsecureSolo")  ################################################################# #######    Generating anchor peer update for Org1MSP   ########## ################################################################# 2017-05-05 18:00:32.602 UTC  common/configtx/tool  main -> INFO 001 Loading configuration 2017-05-05 18:00:32.609 UTC  common/configtx/tool  doOutputAnchorPeersUpdate -> INFO 002 Generating anchor peer update 2017-05-05 18:00:32.610 UTC  common/configtx/tool  main -> CRIT 003 Error on inspectChannelCreateTx: Must specify an organization to update the anchor peer for  ################################################################# #######    Generating anchor peer update for Org2MSP   ########## ################################################################# 2017-05-05 18:00:32.653 UTC  common/configtx/tool  main -> INFO 001 Loading configuration 2017-05-05 18:00:32.661 UTC  common/configtx/tool  doOutputAnchorPeersUpdate -> INFO 002 Generating anchor peer update 2017-05-05 18:00:32.661 UTC  common/configtx/tool  main -> CRIT 003 Error on inspectChannelCreateTx: Must specify an organization to update the anchor peer for  {code}  ></description> </Issue>
