<Issue id="29380" key="FAB-9503" number="9503" project="10002" reporter="mghasletwala" creator="mghasletwala" type="10004" summary="Chaincode fails to start after upgrading HLF network from v1.0.6 to v1.1.0" priority="3" resolution="10001" status="6" created="2018-04-13 13:35:20.0" updated="2018-09-06 16:28:51.0" resolutiondate="2018-09-06 16:28:51.0" votes="0" watches="4" workflowId="42938"> <description><! CDATA # We have two organizations in HLF 1.0.6 network (3 Zookeeper, 4 Kafka, 2 Orderer, 4 Peer (2 in each org), 4 Couchdb and 2 CA). # Zookeeper, Kafka and Couchdb upgraded successfully to v1.1.0-preview. # All orderer upgraded successfully to v1.1.0 # Peer0.org1.example.com and Peer0.org2.example.com are leader peer. # Peer1.org1.example.com and Peer1.org2.example.com are non leader peer. # Installed chaincode on all peers. # Issued transaction using peer0.org1 and peer1.org1 as endorsing peer and successfully done.  Scenario: upgrading the peer0.org1.example.com (leader peer of org1): Steps: # Stopped the chaincode container "dev-peer0.org1.example.com". ** Removed the chaincode container "dev-peer0.org1.example.com". # Stopped the peer container "peer0.org1.example.com". ** Rename the container "peer0.org1.example.com" to "peer0.org1.example.com.old" # Executed the "docker run" with "hyperledger/fabric-peer:x86_64-1.1.0" to start the peer as "peer0.org1.example.com" and using the old ledger volume # Issued transaction using peer0.org2 and peer1.org2 as endorsing peer and peer0.org1 received the new block. # Installed chaincode on peer0.org1.example.com . # Issued transaction using peer0.org1 and peer1.org1 as endorsing peer but peer0.org1 failed to endorse while peer1.org1 successfully endorsed.  Result: # Below message found in log of peer0.org1.example.com. and chaincode container (dev-peer0.org1.example.com) status found "Exited"  "premature execution - chaincode (mycc:v0) launched and waiting for registration" # After some time chaincode container found removed and log received in peer0.org1.example.com is as below.  "stopping due to error while launching: timeout expired while starting chaincode mycc:v0(networkid:dev,peerid:peer0.org1.example.com,tx:d3037fe6d77d604629b847507abd0a0a5567ed29c9b11823f7f6d4a7f1ce53df)"  Log file Attached: * a. peer0.org1.example.com_v1.1.0.log * b. peer0.org1.example.com_v1.0.6.log  ></description> </Issue>
