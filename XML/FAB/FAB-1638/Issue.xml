<Issue id="14055" key="FAB-1638" number="1638" project="10002" reporter="honglei" assignee="honglei" creator="honglei" type="10002" summary="Add Partial-Key query support for KV-ledger" priority="3" resolution="10000" status="6" created="2017-01-13 08:29:34.0" updated="2018-07-20 14:11:11.0" resolutiondate="2018-03-11 13:49:30.0" votes="0" watches="2" workflowId="37022"> <description><! CDATA currently, leveldb based KV-ledger doesn't support partial key query.  This makes table query on multi-key table very difficult, and also makes difficulties on table design.  This task is to support partial query on kv table. The design is to pass table/column definitions to KV-ledger, rather than covert them to get/put state in chaincode-shim.  If multiple keys are defined in table, one primary key must be defined, ledger will create one primary table which map primary-key to data, and some sub-tables which contains mappings between sub-keys and primary-key.  in GetRows query, user will not need provide all keys any more.  Chaincode-shim will not convert the GetRows to getstate, but pass all keys in query to kv-ledger.  ledger will do the query with sub-tables to find mapping to primary-key, then get row data with primary-key from primary table.  To help our chaincode development, we've implemented multikey-table in fabric 0.6.  This is a porting to fabric 1.0.  ></description> </Issue>
