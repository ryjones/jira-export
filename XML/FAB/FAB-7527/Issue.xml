<Issue id="26223" key="FAB-7527" number="7527" project="10002" reporter="lehors" assignee="lehors" creator="lehors" type="10004" summary="BYFN timeout management is messed up and BYFN could be simpler" priority="3" resolution="10000" status="6" created="2017-12-20 20:21:09.0" updated="2018-07-20 14:15:17.0" resolutiondate="2018-02-09 09:33:19.0" votes="0" watches="1" workflowId="40830"> <description><! CDATA The current BYFN documentation talks about the default CLI timeout being 10000 seconds but it is currently is set to 10. Furthermore the timeout setting is actually used for two different purposes: # to define the time for which the cli will hang around until it exits # to define the time for which the e2e script will keep trying to get an answer to its chaincode queries before giving up  With the current setting of 10 seconds the cli container exists before anyone can do anything else with it, making the timeout useless from that point of view.  With a setting of 10000 seconds, the cli container hangs on "for ever" locking the console when not run in detach mode.  The e2e script is also currently executed as a docker-composer command which forces users who only want to setup the network without the e2e script being executed automatically to edit the docker-compose configuration file.In addition, because the command is executed through docker-compose which is detached output is captured through a call to docker logs -f cli which leaves the user hanging once the e2e script has completed.All of these problems can be addressed by changing the docker-compose file to start the cli without running anything (and instead just wait/sleep) and then executing the e2e script by issuing a docker exec cli command.  The time the cli container waits for before exiting can be long, say 10000 seconds, without any negative impact. When the container has exited it can be restarted with a simple docker start cli command.  And the BYFN timeout setting can be limited to defining the time during which a response to a query is being waited for, which can be set to 10 by default.  As an aside, the byfn.sh usage should be simplified to not require users to type a -m parameter on every command and offer a default response to the confirmation prompt for continuation.  ></description> </Issue>
