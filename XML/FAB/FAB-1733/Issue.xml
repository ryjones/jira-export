<Issue id="14162" key="FAB-1733" number="1733" project="10002" reporter="muralisr" assignee="sanchezl" creator="muralisr" type="10004" summary="orderer sends a block with empty transactions" priority="2" resolution="10000" status="6" created="2017-01-18 19:03:12.0" updated="2018-07-20 14:11:16.0" resolutiondate="2017-01-20 20:16:40.0" votes="0" watches="2" workflowId="37092"> <description><! CDATA Recreate  https://github.com/hyperledger/fabric/blob/aea1751fba4e61f9becdf37f9861d5e010491520/docs/channel-setup.md  The deploy step crashes peer because Block.Data is nil (the line #s maybe off a bit)  {code:java}  goroutine 118  running : panic(0xa9e500, 0xc42102fe10) 	/opt/go/src/runtime/panic.go:500 +0x1a1 github.com/hyperledger/fabric/core/committer/txvalidator.(*txValidator).Validate(0xc42012cee0, 0xc420fa2c60) 	/opt/gopath/src/github.com/hyperledger/fabric/core/committer/txvalidator/validator.go:94 +0x1fc github.com/hyperledger/fabric/core/committer.(*LedgerCommitter).CommitBlock(0xc42012cf60, 0xc420fa2c60, 0x0, 0x0) 	/opt/gopath/src/github.com/hyperledger/fabric/core/committer/committer_impl.go:55 +0xdf github.com/hyperledger/fabric/gossip/state.(*GossipStateProviderImpl).commitBlock(0xc420f42ab0, 0xc420fa2c60, 0x1, 0x2, 0x2) 	/opt/gopath/src/github.com/hyperledger/fabric/gossip/state/state.go:419 +0x56 github.com/hyperledger/fabric/gossip/state.(*GossipStateProviderImpl).deliverPayloads(0xc420f42ab0) 	/opt/gopath/src/github.com/hyperledger/fabric/gossip/state/state.go:310 +0x72c created by github.com/hyperledger/fabric/gossip/state.NewGossipStateProvider 	/opt/gopath/src/github.com/hyperledger/fabric/gossip/state/state.go:162 +0x6c5 {code}   Verified that a Deploy tx is getting sent into Orderer correctly and that the delivered block has Block.Data == nil. So must be the orderer not creating Data for some reason.   ></description> </Issue>
