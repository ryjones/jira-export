<Issue id="19193" key="FAB-5274" number="5274" project="10002" reporter="jyellick" assignee="jyellick" creator="jyellick" type="10001" summary="Make WriteBlock Asynchronous, except under WriteConfigBlock" priority="3" resolution="10000" status="6" created="2017-07-11 19:00:33.0" updated="2018-10-18 02:56:19.0" resolutiondate="2017-08-13 17:45:49.0" votes="0" watches="4" workflowId="39430"> <description><! CDATA The {{WriteBlock}} call has traditionally been a synchronous one.  This is because the committers needed to commit before the next batch of messages could be processed.  However, with the improvements in FAB-5258 it should be possible to perform the block generation, signing, and writing to disk all on its own go routine.  Because the consenter pieces are all single threaded, this should have a noticeable effect on the throughput of the system.  Preliminary tests showed a 40% improvement (but note, this is extremely preliminary and used some cheats).  To complete this story, the ChainSupport should be given a committing go routine.  It should handle calls to {{WriteBlock}}, {{CreateNextBlock}} and {{WriteConfigBlock}}.  In general {{WriteBlock}} should return immediately while the committing go routine does its work.  {{CreateNextBlock}} and {{WriteConfigBlock}} should block until the last call to {{WriteBlock}} has completed (as {{CreateNextBlock}} requires the hash of the previous block and {{WriteConfigBlock}} will modify the config sequence.  ></description> </Issue>
