<Issue id="39711" key="FAB-15389" number="15389" project="10002" reporter="denyeart" assignee="caod" creator="denyeart" type="10004" summary="Endorsing peer is not honoring maxPeerCount for private data dissemination" priority="2" resolution="10000" status="6" created="2019-05-08 12:17:30.0" updated="2020-02-25 03:14:45.0" resolutiondate="2019-11-09 12:58:28.0" votes="0" watches="3" workflowId="52597"> <description><! CDATA  Using the private data tutorial:   https://hyperledger-fabric.readthedocs.io/en/release-1.4/private_data_tutorial.html#store-private-data   With collection maxPeerCount of 3:   https://github.com/hyperledger/fabric-samples/blob/release-1.4/chaincode/marbles02_private/collections_config.json#L6   In v1.4.0 the org1 endorsing peer distributes the private data to the 3 other peers as expected.  In v1.4.1 the org1 endorsing peer distributes the private data only to 2 other peers (one to org1, one to org2). One of the org2 peers does not get the private data at endorsement time.  It has to pull the private data at commit time: {code:java} 2019-05-07 21:28:01.994 UTC  gossip.privdata  StoreBlock -> INFO 0ba  mychannel  Fetched all missing collection private write sets from remote peers for block  4  (8ms){code} Why is the endorsing peer not distributing to 3 other peers per the collection policy?  Note that the endorsing peer does have all 3 peers in its gossip network: {code:java} 2019-05-07 21:27:18.480 UTC  gossip.channel  reportMembershipChanges -> INFO 085 Membership view has changed. peers went online:   peer0.org2.example.com:9051    peer1.org2.example.com:10051    , current view:   peer1.org1.example.com:8051   peer0.org2.example.com:9051    peer1.org2.example.com:10051   {code} I noticed there is no gossip debug around dissemination. That should be added as well to help troubleshoot these issues.  ></description> </Issue>
