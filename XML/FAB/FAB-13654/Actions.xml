<Action id="56324" issue="36719" author="guoger" type="comment" created="2019-01-29 10:26:20.0" updateauthor="guoger" updated="2019-01-29 10:26:20.0"> <body><! CDATA If there's a requirement: bq. i'm moving my cluster from LAN to WAN, and i want a longer tick interval.  would this be solved by: - send config update to change tick interval - it doesn't take effect immediately - it takes effect on next reboot  however, if some of nodes are rebooted, but some others are not, we have an unstable cluster. although i think user should have a very justifiable reason to bring down all nodes, migrate data to another environment, and reboot.  Just something to think about.  ></body> </Action>
<Action id="56368" issue="36719" author="adarshsaraf123" type="comment" body="I can volunteer to take this up once I finish up my current tasks." created="2019-01-30 08:37:43.0" updateauthor="adarshsaraf123" updated="2019-01-30 08:37:43.0"/>
<Action id="57467" issue="36719" author="guoger" type="comment" body=" ~adarshsaraf123  are you still willing to tackle this? i think this should be fixed in v1.4.1 timeframe" created="2019-02-22 16:44:39.0" updateauthor="guoger" updated="2019-02-22 16:44:39.0"/>
<Action id="57568" issue="36719" author="kchristidis" type="comment" created="2019-02-26 02:58:30.0" updateauthor="kchristidis" updated="2019-02-26 02:58:30.0"> <body><! CDATA We discussed this earlier today, and we said we should try to implement this in time for 1.4.1, but based on discussions I had earlier today with folks who will be using this for a hosted service offering, I think we should go back to what we had written  here|https://jira.hyperledger.org/browse/FAB-11861?focusedCommentId=49914&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-49914 : we shouldn't be too clever with processing these updates. If a node wishes to pick up the new values, the administrator will have to reboot it. The issue is that someone may reboot the node, and someone else may not, so we have two nodes running on different settings, but I don't expect folks to touch these settings anyway, and if they do, they should get on the phone and be ready to reboot.  The main reason for this is that, even though the ordering service administrators do their best to come up with educated guesses for the optimal tick interval, they may get the setting wrong, and they need to have a way to update it.  I understand the risks involved with pushing changes and having only one node pick them up, but we should not forget the environment we're operating in. This is still CFT and modification of these changes will most likely be guarded by a majority of admins, _and_ I suspect that any modifications to, say, {{TickIntervall}} are only going to be marginal (say, from 600 ms to 500 ms). So even when there's no synchronized restarting of all the nodes in the channel, the restarted nodes will only get a slight edge (or handicap).   ~guoger   ~adarshsaraf123   ~yacovm : Any strong disagreements on shelving this JIRA?  ></body> </Action>
<Action id="57571" issue="36719" author="adarshsaraf123" type="comment" created="2019-02-26 05:45:30.0" updateauthor="adarshsaraf123" updated="2019-02-26 05:48:15.0"> <body><! CDATA I don't have any disagreement with this per se.  However, I am wondering if it will not be enough to just restart the Raft node without restarting the etcdraft Chain. I am hoping this can reuse the infrastructure setup for the consenter set changes: you do not do anything else until the Raft node is restarted.  Maybe, if there is a need to, we can also instantiate a new Raft node for the same Chain object with the new parameters. This new Raft node can anyways continue from where the older one left off thanks to snapshots and WAL.    ~guoger  Do you see any challenges with this? I cannot be too sure but I _think_ it should be possible.   ></body> </Action>
<Action id="57574" issue="36719" author="guoger" type="comment" created="2019-02-26 07:28:51.0" updateauthor="guoger" updated="2019-02-26 07:52:07.0"> <body><! CDATA  ~kchristidis  to echo what we discussed earlier, i agree that users should still be able to reconfigure and reboot *all* nodes, in order to change those settings. so we don't need to touch this.   ~adarshsaraf123  this approach comes with certain complications - it essentially equals to _rebooting all nodes in this channel_, however, *implicitly without admins knowing it*. what if a node is late to the party and keeps operating in old settings, which results in unstable network. What makes it worse is that admin _may not_Â reboot nodes now to solve the problem, because lagged node will always be the naughty boy in the room.  To properly reconfigure time settings, admin should: - send ConfigUpdate - pull latest config block from *all* nodes to make sure they are in sync - reboot *all* nodes.  ></body> </Action>
<Action id="57575" issue="36719" author="guoger" type="comment" body="Close for now. If this becomes an actual problem at certain point of time, feel free to re-open." created="2019-02-26 07:29:47.0" updateauthor="guoger" updated="2019-02-26 07:29:47.0"/>
