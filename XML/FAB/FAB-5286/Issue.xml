<Issue id="19208" key="FAB-5286" number="5286" project="10002" reporter="mffrench" assignee="mffrench" creator="mffrench" type="10004" summary="Orderer panic on restart" priority="4" resolution="10000" status="6" created="2017-07-12 08:05:34.0" updated="2018-07-20 14:13:45.0" resolutiondate="2017-09-28 15:43:27.0" votes="0" watches="2" workflowId="39440"> <description><! CDATA Hi,  when restarting Orderer Solo with ledger type configured as file, I'm getting a panic on restart (see error trace bellow - I still need to get some easy way to reproduce the issue out of our application).   I'd like to know, what would be the consequence on the blockchain if I remove the orderer side ledger to enable restart of this component ? As ledger are also stored on the peer side I'm not sure to understand the need to store it on the orderer side also. Is there some available doc explaining the reason to store ledger on the orderer side ?   Best,   {code:java} 2017-06-30 10:00:21.127 UTC  orderer/main  main -> INFO 001 Starting orderer with TLS enabled 2017-06-30 10:00:21.210 UTC  msp  getMspConfig -> INFO 002 MSP configuration file not found at  /etc/hyperledger/fabric/orderer/msp/config.yaml :  stat /etc/hyperledger/fabric/orderer/msp/config.yaml: no such file or directory  2017-06-30 10:00:21.276 UTC  orderer/main  main -> INFO 003 Not bootstrapping because of existing chains 2017-06-30 10:00:21.294 UTC  orderer/multichain  newLedgerResources -> CRIT 004 Error creating configtx manager and handlers: Bad envelope: Not a tx of type CONFIG panic: Error creating configtx manager and handlers: Bad envelope: Not a tx of type CONFIG  goroutine 1  running : panic(0xb035e0, 0xc420349420) /opt/go/src/runtime/panic.go:500 +0x1a1 github.com/hyperledger/fabric/vendor/github.com/op/go-logging.(*Logger).Panicf(0xc4201b98c0, 0xc3a748, 0x30, 0xc420349370, 0x1, 0x1) /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/op/go-logging/logger.go:194 +0x127 github.com/hyperledger/fabric/orderer/multichain.(*multiLedger).newLedgerResources(0xc420338000, 0xc420257440, 0xc420257440) /opt/gopath/src/github.com/hyperledger/fabric/orderer/multichain/manager.go:159 +0x393 github.com/hyperledger/fabric/orderer/multichain.NewManagerImpl(0x11b03c0, 0xc420358220, 0xc4202565a0, 0x11adbc0, 0x11f4980, 0x0, 0x0) /opt/gopath/src/github.com/hyperledger/fabric/orderer/multichain/manager.go:109 +0x23b main.main() /opt/gopath/src/github.com/hyperledger/fabric/orderer/main.go:174 +0x179d {code}  ></description> </Issue>
