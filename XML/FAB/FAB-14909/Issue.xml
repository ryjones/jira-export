<Issue id="38892" key="FAB-14909" number="14909" project="10002" reporter="guoger" assignee="guoger" creator="guoger" type="10004" summary="Flaky Integration Test -  It  executes an etcdraft network with 2 orgs and three orderer nodes" priority="3" resolution="10000" status="6" created="2019-03-30 02:39:25.0" updated="2019-04-10 04:03:22.0" resolutiondate="2019-04-03 15:50:32.0" votes="0" watches="3" workflowId="51748"> <description><! CDATA https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/7801/consoleFull  Several problems contribute to this failure: 1. There are ~3.4 seconds delay between these two operations: {code} 18:05:45  e  OrdererOrg.orderer2  2019-03-29 10:04:46.755 UTC  fsblkstorage  newBlockfileMgr -> INFO 040 Getting block information from block storage 18:05:45  e  OrdererOrg.orderer2  2019-03-29 10:04:50.102 UTC  orderer.consensus.etcdraft  createOrReadWAL -> INFO 041 No WAL data found, creating new WAL at path '/tmp/e2e581931518/orderers/OrdererOrg.orderer2/etcdraft/wal/testchannel' channel=testchannel node=2 {code} we probably should have more logs in between for serviceability, i.e. throw out warning if read operation takes too long.  2. fsync takes too long to persist wal data (this is observed fairly frequently on CI)  3. seemingly message -lost- delay during election. Node 2 made several attempts before eventually being elected  *EDIT* another factor: 4. pick node start proactive campaign too excessively, which results in votes at old term being ignored.  patch|https://gerrit.hyperledger.org/r/c/30622/  is submitted to increase campaign interval.  ></description> </Issue>
