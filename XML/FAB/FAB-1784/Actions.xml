<Action id="20458" issue="14213" author="bsmita" type="comment" created="2017-01-20 19:36:20.0" updateauthor="bsmita" updated="2017-01-20 19:36:20.0"> <body><! CDATA Hi Ramesh, Srirama narrowed down this problem is due to sbft/main stress tests added recently. The JIRA is  https://jira.hyperledger.org/browse/FAB-1688  We are waiting a fix to be dropped to that JIRA.  ></body> </Action>
<Action id="20558" issue="14213" author="rameshthoomu" type="comment" body=" ~bsmita   ~SriramaSharma : Still builds are failing with the same issue.. Below is the build reference https://jenkins.hyperledger.org/view/fabric/job/fabric-verify-power-ppc64le/1241/console" created="2017-01-25 03:22:42.0" updateauthor="rameshthoomu" updated="2017-01-25 03:22:42.0"/>
<Action id="20567" issue="14213" author="bsmita" type="comment" created="2017-01-25 18:28:19.0" updateauthor="bsmita" updated="2017-01-25 18:28:19.0"> <body><! CDATA Talked to Gabor and this is a new test in orderer module. I tried go test -run "TestTen" -v and go test -v multiple times, in some cases it passed and some cases the test failed with errors. 2017/01/25 17:40:18 transport: http2Client.notifyError got notified that the client transport was broken EOF. 2017/01/25 17:40:18 transport: http2Client.notifyError got notified that the client transport was broken EOF. --- FAIL: TestTenReplicasBombedWithBroadcastsIfLedgersConsistent (148.06s) network_test.go:264: Failed to receive some messages. (Received 12) network_test.go:264: Failed to receive some messages. (Received 15) FAIL 2017/01/25 17:40:18 grpc: addrConn.transportMonitor exits due to: grpc: the connection is closing exit status 1 FAIL    github.com/hyperledger/fabric/orderer   161.786s  ></body> </Action>
<Action id="20591" issue="14213" author="bsmita" type="comment" created="2017-01-27 15:33:38.0" updateauthor="bsmita" updated="2017-01-27 15:33:38.0"> <body><! CDATA In the most recent unit tests, I notice that sbft/main is not even a test case under orderer/sbft. The tests are hanging after  12:31:29 unit-tests_1  | ok  	github.com/hyperledger/fabric/gossip/state	20.279s	coverage: 80.7% of statements 12:31:29 unit-tests_1  | ?   	github.com/hyperledger/fabric/gossip/util	 no test files  12:31:34 unit-tests_1  | ok  	github.com/hyperledger/fabric/msp	0.050s	coverage: 55.8% of statements {color:red}12:31:46 unit-tests_1  | ok  	github.com/hyperledger/fabric/msp/mgmt	0.084s	coverage: 79.5% of statements{color}  The next testcase in the list is the orderer directory.  When I checked ps -aef|grep orderer on the system, it shows bunch of /tmp/orderer processes. So checking the tests orderer sub folder.  ></body> </Action>
<Action id="20650" issue="14213" author="bsmita" type="comment" body="Looks like tests from sbft/main are moved to orderer/network_test.go and  orderer/sbft_test.go files. Running &quot;go test -v&quot; separately in orderer directory shows testcases passing. But &quot;make unit-test&quot; hangs at orderer. Still working with @hgabor on how we can isolate and fix the timing issue that&apos;s happening in orderer testcases." created="2017-02-01 16:30:05.0" updateauthor="bsmita" updated="2017-02-01 16:30:05.0"/>
<Action id="20859" issue="14213" author="bsmita" type="comment" created="2017-02-13 15:07:21.0" updateauthor="bsmita" updated="2017-02-13 15:07:55.0"> <body><! CDATA Looks like in network_test.go TestTen* tests are hanging. Single tests pass fine, any combination of 2 of these tests hang.  I tried running make unit-test with TEST_PKGS set to orderer sub directory.  Adding Sleep call StartPeers() seems to be fixing this issue. func StartPeers(peers   *Peer) { for _, p := range peers { p.start() time.Sleep(3 * time.Second)                                    } }   ></body> </Action>
<Action id="22006" issue="14213" author="binhn" type="comment" body=" ~bsmita  Can we close this issue?" created="2017-04-09 20:45:39.0" updateauthor="binhn" updated="2017-04-09 20:45:39.0"/>
