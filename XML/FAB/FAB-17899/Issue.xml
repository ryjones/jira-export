<Issue id="45077" key="FAB-17899" number="17899" project="10002" reporter="dongming" assignee="dongming" creator="dongming" type="10002" summary="PTE chaincode installation failed" priority="3" resolution="10001" status="6" created="2020-05-14 19:00:57.0" updated="2020-06-11 18:04:52.0" resolutiondate="2020-06-11 18:04:52.0" votes="0" watches="1" workflowId="58985" archived="N"> <description><! CDATA In the case of testing, chaincode install failed while transaction invoke and query are running simultaneously.  Because PTE receives transaction failure message instead of installation status message from peer.  This will cause PTE to think the installation fails.      ^  31merror^  39m:  2020-05-15T12:03:51.938Z PTE 0 main :  chaincodeInstall  Failed to send install Proposal in (testorgschannel5:PeerOrg1) or receive valid response. Response null or status is not 200. exiting... 0= code=2, , flags=0, details=error executing chaincode: failed to execute transaction: timeout expired while executing transaction, code=2, , flags=0, details=error executing chaincode: failed to execute transaction: timeout expired while executing transaction , 0=10, 1=94, 2=8, 3=3, 4=16, 5=1, 6=26, 7=12, 8=8, 9=137, 10=138, 11=250, 12=245, 13=5, 14=16, 15=128, 16=224, 17=216, 18=207, 19=2, 20=42, 21=64, 22=98, 23=54, 24=98, 25=100, 26=56, 27=101, 28=53, 29=100, 30=53, 31=51, 32=49, 33=48, 34=102, 35=98, 36=100, 37=101, 38=100, 39=52, 40=51,     another failure:  PTE log ^  31merror^  39m:  2020-05-17T09:23:18.462Z PTE 0 main :  chaincodeInstall  Failed to send install Proposal in (testorgschannel10:PeerOrg1) or receive valid response. Response null or status is not 200. exiting... 0= code=2, , flags=0, details=error executing chaincode: failed to execute transaction: timeout expired while executing transaction, version=0, timestamp=null, status=200, message=, 0=79, 1=75, , endorsement=null, url=grpcs://localhost:7062, name=localhost:7062, grpc.max_receive_message_length=-1, grpc.max_send_message_length=-1, grpc.keepalive_time_ms=120000, grpc.http2.min_time_between_pings_ms=120000, grpc.keepalive_timeout_ms=20000, grpc.http2.max_pings_without_data=0, grpc.keepalive_permit_without_calls=1, grpc.ssl_target_name_override=peer1.org1.example.com, grpc.default_authority=peer1.org1.example.com , 0=10, 1=94, 2=8, 3=3, 4=16, 5=1, 6=26, 7=12, 8=8, 9=232, 10=132, 11=132, 12=246, 13=5, 14=16, 15=192, 16=204, 17=150, 18=130, 19=1, 20=42, 21=64, 22=101, 23=56, 24=55, 25=50, 26=51, 27=52, 28=53, 29=53, 30=49, 31=100, 32=48, 33=97, 34=51, 35=51, 36=55, 37=54, 38=101, 39=101, 40=98, 41=53, 42=101, 43=99, 44=52, 45=50, 46=49, 47=50, 48=53, 49=53, 50=100, 51=52, 52=50, 53=51, 54=53, 55=54, 56=51, 57=50, 58=102, 59=48, 60=51, 61=51, 62=100, 63=50, 64=57, 65=48, 66=100, 67=98, 68=50, 69=98, 70=98, 71=98, 72=52, 73=97, 74=53, 75=55, 76=99, 77=49, 78=55, 79=54, 80=56, 81=48, 82=102, 83=99, 84=101, 85=51, 86=58, 87=8, 88=18, 89=6, 90=18, 91=4, 92=108, 93=115, 94=99, 95=99, 96=18, 97=212, 98=6, 99=10, 100=183, 101=6, 102=10, 103=8, 104=80, 105=101, 106=101, 107=114, 108=79, 109=114, 110=103, 111=49, 112=18, 113=170, 114=6, 115=45, 116=45, 117=45, 118=45, 119=45, 120=66, 121=69, 122=71, 123=73, 124=78, 125=32, 126=67, 127=69, 128=82, 129=84, 130=73, 131=70, 132=73, 133=67, 134=65, 135=84, 136=69,  peer log ^  36m2020-05-17 09:23:17.911 UTC  couchdb  handleRequest -> DEBU 16c1d8c^  0m HTTP Request: POST /testorgschannel1_marbles02_ch1/_all_docs?include_docs=true HTTP/1.1 | Host: couchdb0:5984 | User-Agent: Go-http-client/1.1 | Content-Length: 51 | Accept: application/json | Content-Type: application/json | Accept-Encoding: gzip | | ^  36m2020-05-17 09:23:17.911 UTC  couchdb  handleRequest -> DEBU 16c1d8d^  0m HTTP Request: POST /testorgschannel1_lscc/_all_docs?include_docs=true HTTP/1.1 | Host: couchdb0:5984 | User-Agent: Go-http-client/1.1 | Content-Length: 26 | Accept: application/json | Content-Type: application/json | Accept-Encoding: gzip | | ^  36m2020-05-17 09:23:18.460 UTC  chaincode  Execute -> DEBU 16c1d8e^  0m Exit ^  31m2020-05-17 09:23:18.460 UTC  chaincode  ExecuteChaincode -> ERRO 16c1d8f^  0m timeout expired while executing transaction github.com/hyperledger/fabric/core/chaincode.(*ChaincodeSupport).Execute /opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/chaincode_support.go:813 github.com/hyperledger/fabric/core/chaincode.Execute /opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/exectransaction.go:58 github.com/hyperledger/fabric/core/chaincode.ExecuteChaincode /opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/chaincodeexec.go:85 github.com/hyperledger/fabric/core/endorser.(*SupportImpl).Execute /opt/gopath/src/github.com/hyperledger/fabric/core/endorser/support.go:93 github.com/hyperledger/fabric/core/endorser.(*Endorser).callChaincode /opt/gopath/src/github.com/hyperledger/fabric/core/endorser/endorser.go:132 github.com/hyperledger/fabric/core/endorser.(*Endorser).simulateProposal /opt/gopath/src/github.com/hyperledger/fabric/core/endorser/endorser.go:265 github.com/hyperledger/fabric/core/endorser.(*Endorser).ProcessProposal /opt/gopath/src/github.com/hyperledger/fabric/core/endorser/endorser.go:491 github.com/hyperledger/fabric/core/handlers/auth/filter.(*expirationCheckFilter).ProcessProposal /opt/gopath/src/github.com/hyperledger/fabric/core/handlers/auth/filter/expiration.go:61 github.com/hyperledger/fabric/core/handlers/auth/filter.(*filter).ProcessProposal /opt/gopath/src/github.com/hyperledger/fabric/core/handlers/auth/filter/filter.go:31 github.com/hyperledger/fabric/protos/peer._Endorser_ProcessProposal_Handler /opt/gopath/src/github.com/hyperledger/fabric/protos/peer/peer.pb.go:112 github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*Server).processUnaryRPC /opt/gopath/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/server.go:781 github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*Server).handleStream /opt/gopath/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/server.go:981 github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*Server).serveStreams.func1.1 /opt/gopath/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/server.go:551 runtime.goexit /opt/go/src/runtime/asm_amd64.s:2337 failed to execute transaction error executing chaincode ^  36m2020-05-17 09:23:18.460 UTC  endorser  callChaincode -> DEBU 16c1d90^  0m    e8723455  Exit  ></description> </Issue>
