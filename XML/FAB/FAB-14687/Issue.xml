<Issue id="38535" key="FAB-14687" number="14687" project="10002" reporter="yacovm" assignee="yacovm" creator="yacovm" type="10004" summary="Fix memory leak - Skip adding block message from orderer to block puller if it isn&apos;t added to message store" priority="3" resolution="10000" status="6" created="2019-03-16 20:03:51.0" updated="2019-07-15 11:29:44.0" resolutiondate="2019-03-20 06:10:46.0" votes="0" watches="1" workflowId="50178"> <description><! CDATA The gossip channel's method AddToMsgStore adds a block message to both the block store and to the block puller.  However, it can be that the message isn't added to the block store due to it being too old. In such a case we must *not* add it to the block puller, because : * it is evicted by the invalidation trigger of the block store which is programmed to remove it from the block puller, so if the message wasn't added to the block message store, it also cannot be evicted and hence cannot trigger the invalidation trigger to remove it from the block puller. * If the message wasn't added to the message store, it means it is either resides in it, or shouldn't be added, so there is no reason to add it to the block puller as well.  ></description> </Issue>
