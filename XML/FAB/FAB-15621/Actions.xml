<Action id="60669" issue="40404" author="mhbauer" type="comment" created="2019-06-04 21:04:45.0" updateauthor="mhbauer" updated="2019-06-04 21:04:45.0"> <body><! CDATA looks like  ================== WARNING: DATA RACE Write at 0x00c0029349b0 by goroutine 1299: sync.(*WaitGroup).Wait() /Users/mhb/.go/src/internal/race/race.go:41 +0xef github.com/hyperledger/fabric/gossip/comm.(*connection).close() /Users/mhb/go/src/github.com/hyperledger/fabric/gossip/comm/conn.go:243 +0x1c7 github.com/hyperledger/fabric/gossip/comm.(*connectionStore).onConnected() /Users/mhb/go/src/github.com/hyperledger/fabric/gossip/comm/conn.go:165 +0x70b github.com/hyperledger/fabric/gossip/comm.(*commImpl).GossipStream() /Users/mhb/go/src/github.com/hyperledger/fabric/gossip/comm/comm_impl.go:557 +0x494 github.com/hyperledger/fabric/protos/gossip._Gossip_GossipStream_Handler() /Users/mhb/go/src/github.com/hyperledger/fabric/protos/gossip/message.pb.go:2466 +0xcd github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*Server).processStreamingRPC() /Users/mhb/go/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/server.go:1176 +0x1669 github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*Server).handleStream() /Users/mhb/go/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/server.go:1256 +0x12e5 github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*Server).serveStreams.func1.1() /Users/mhb/go/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/server.go:691 +0xac  Previous read at 0x00c0029349b0 by goroutine 1936: sync.(*WaitGroup).Add() /Users/mhb/.go/src/internal/race/race.go:37 +0x169 github.com/hyperledger/fabric/gossip/comm.(*connection).serviceConnection() /Users/mhb/go/src/github.com/hyperledger/fabric/gossip/comm/conn.go:293 +0xf4  Goroutine 1299 (running) created at: github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*Server).serveStreams.func1() /Users/mhb/go/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/server.go:689 +0xb8 github.com/hyperledger/fabric/vendor/google.golang.org/grpc/internal/transport.(*http2Server).operateHeaders() /Users/mhb/go/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/internal/transport/http2_server.go:421 +0x1622 github.com/hyperledger/fabric/vendor/google.golang.org/grpc/internal/transport.(*http2Server).HandleStreams() /Users/mhb/go/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/internal/transport/http2_server.go:461 +0x37a github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*Server).serveStreams() /Users/mhb/go/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/server.go:687 +0x170 github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*Server).handleRawConn.func1() /Users/mhb/go/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/server.go:649 +0x50  Goroutine 1936 (running) created at: github.com/hyperledger/fabric/gossip/comm.(*connectionStore).getConnection() /Users/mhb/go/src/github.com/hyperledger/fabric/gossip/comm/conn.go:124 +0x878 github.com/hyperledger/fabric/gossip/comm.(*commImpl).sendToEndpoint() /Users/mhb/go/src/github.com/hyperledger/fabric/gossip/comm/comm_impl.go:231 +0x2ce github.com/hyperledger/fabric/gossip/comm.(*commImpl).Send.func1() /Users/mhb/go/src/github.com/hyperledger/fabric/gossip/comm/comm_impl.go:218 +0x51 ==================  ></body> </Action>
<Action id="60673" issue="40404" author="swetharepakula" type="comment" body=" https://gerrit.hyperledger.org/r/#/c/fabric/+/31710/ " created="2019-06-04 23:06:54.0" updateauthor="swetharepakula" updated="2019-06-04 23:06:54.0"/>
