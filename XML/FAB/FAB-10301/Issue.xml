<Issue id="30506" key="FAB-10301" number="10301" project="10002" reporter="jyellick" creator="jyellick" type="10001" summary="Create gomega matcher for proto equality" priority="3" resolution="10001" status="6" created="2018-05-22 19:55:02.0" updated="2021-02-23 12:18:13.0" resolutiondate="2019-07-30 02:47:07.0" votes="0" watches="4" workflowId="35807"> <description><! CDATA There are a number of places in our tests where we assert or need to assert that two protos are equal.  Often this test is after a proto has gone through a round of marshaling and unmarshaling.  Historically, if the proto contained an empty map or slice, these equality tests would fail and required the use of proto.Equal to check equality.  However, protobuf v1.1.0 actually adds a cache field which may be populated differently for even otherwise equivalent messages.  In this case, the equality checks fail.  All of this points toward the need for a uniform way to check proto equality.  A gomega custom matcher seems to fit the bill nicely.  ></description> </Issue>
