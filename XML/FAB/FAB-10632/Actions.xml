<Action id="45925" issue="31053" author="denyeart" type="comment" body="As we&apos;ll need backward compatibility, I think we will need to make the peer tolerate the brackets." created="2018-06-14 13:10:07.0" updateauthor="denyeart" updated="2018-06-14 13:10:07.0"/>
<Action id="45987" issue="31053" author="clayton sims" type="comment" created="2018-06-15 16:38:43.0" updateauthor="clayton sims" updated="2018-06-15 16:38:43.0"> <body><! CDATA lititia did you mean this as a sev1?     ></body> </Action>
<Action id="45995" issue="31053" author="mastersingh24" type="comment" body="This should most definitely not be a sev1.  This setting should RARELY be used other than to add the root cert for the org itself.  All of the other roots are propagated via the MSPs in the channel config(s)." created="2018-06-15 17:31:31.0" updateauthor="mastersingh24" updated="2018-06-17 19:25:01.0"/>
<Action id="46010" issue="31053" author="sykesm" type="comment" created="2018-06-15 20:06:00.0" updateauthor="sykesm" updated="2018-06-15 20:06:00.0"> <body><! CDATA  ~latitiah  can you provide the snippets you're using in compose?  Also, I feel a little dense but I'm having trouble understanding exactly what you're looking for. You're showing an error message but the defect says usability and it's high severity. You're referencing YAML but providing the env vars that are supposed to take precedence.  Are you trying to say that the orderer requires a comma separated list in square brackets for its environment variable and the peer does not support that?  ></body> </Action>
<Action id="46039" issue="31053" author="mastersingh24" type="comment" created="2018-06-17 19:51:31.0" updateauthor="mastersingh24" updated="2018-06-17 19:54:32.0"> <body><! CDATA  ~sykesm  - It's not that the orderer requires it, it is that the orderer supports it and the peer does not.  The orderer uses common/viperutil to unmarshal the config and adds a nice feature to parse comma-separated lists of strings into string slices (  https://github.com/hyperledger/fabric/blob/master/common/viperutil/config_util.go#L104-L111  ) whereas the peer just uses straight Viper (at least to parse the TLS config -  https://github.com/hyperledger/fabric/blob/master/core/peer/config.go#L148  ).  I'd have to try it out again, but I believe that Viper allows you to use space delimited strings in environment variables which correspond to string slices, e.g. TLS_CAS="/ca1 /ca2 /ca3".  So in my opinion, this is not a bug but rather an improvement (granted we do need a more consistent approach to config).  I'm going to mark this as an improvement.  I'll set the fix version as future for now  ></body> </Action>
<Action id="46122" issue="31053" author="latitiah" type="comment" created="2018-06-18 14:50:28.0" updateauthor="latitiah" updated="2018-06-18 14:50:28.0"> <body><! CDATA The following docker composition file snippets fail with the above mentioned error: For the orderer environment: {code} - ORDERER_GENERAL_TLS_ROOTCAS= /var/hyperledger/tls/ca.crt  - ORDERER_GENERAL_TLS_CLIENTROOTCAS= /var/hyperledger/tls/ca.crt, /var/hyperledger/ca/ca.example.com-cert.pem  {code} For the peer environment: {code} - CORE_PEER_TLS_CLIENTROOTCAS_FILES= /var/hyperledger/tls/ca.crt, /var/hyperledger/ca/ca.org1.example.com-cert.pem  {code}  This should work, or give the same formatting error. In other words, choose a format and stick with it when specifying lists in the config.  The names are also inconsistent, though I get the backwards compatibility issue. At some point (maybe by the time we go to 2.x), we should consider changing this over. (Add the new name with warning of deprecating the old.)   ></body> </Action>
<Action id="67551" issue="31053" author="sykesm" type="comment" body="Stale" created="2020-01-22 22:32:52.0" updateauthor="sykesm" updated="2020-01-22 22:32:52.0"/>
