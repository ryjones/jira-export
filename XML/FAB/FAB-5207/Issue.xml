<Issue id="19014" key="FAB-5207" number="5207" project="10002" reporter="xixuejia" assignee="jyellick" creator="xixuejia" type="10004" summary="Creating new channel does not check inconsistency of channel_name and channel_id" environment="fabric commit level: d4adf7ab29b9e9454d3573f4f6f813689354b73f" priority="2" resolution="10000" status="6" created="2017-07-07 12:07:40.0" updated="2018-07-20 14:13:43.0" resolutiondate="2017-07-07 18:13:41.0" votes="0" watches="3" workflowId="39393"> <description><! CDATA Creating new channel with fabric-sdk-node, neither sdk nor orderer would check the inconsistency of  channel_name|https://github.com/hyperledger/fabric-sdk-node/blob/master/test/integration/e2e/create-channel.js#L191  and channel_id(specified in create channel transaction, say mychannel.tx).  If we just change the field  channel_name|https://github.com/hyperledger/fabric-sdk-node/blob/master/test/integration/e2e/create-channel.js#L191  to another name and leave all other fields in request object unchanged, we can create as many channels as we want only if we provide a new channel_name each time. That means orderer does not check uniqueness of txId nor consistency of channel_name and channel_id. This may cause security issues.  While if we create a new channel with cli, peer will check the consistency of channel_name and channel_id and print out error if they do not match. This could prevent the issue to some extent, but a radical solution should do the check by ordering service. {code:java} root@029cab82d5fa:/opt/gopath/src/github.com/hyperledger/fabric/peer# peer channel create -c xixue -f channel-artifacts/channel.tx -o orderer.example.com:7050 2017-07-07 03:35:30.963 UTC  msp  GetLocalMSP -> DEBU 001 Returning existing local MSP 2017-07-07 03:35:30.963 UTC  msp  GetDefaultSigningIdentity -> DEBU 002 Obtaining default signing identity 2017-07-07 03:35:30.966 UTC  channelCmd  InitCmdFactory -> INFO 003 Endorser and orderer connections initialized Error: Invalid channel create transaction : mismatched channel ID mychannel != xixue {code}  ></description> </Issue>
