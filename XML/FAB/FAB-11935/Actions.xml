<Action id="51941" issue="33636" author="sykesm" type="comment" created="2018-10-09 15:52:58.0" updateauthor="sykesm" updated="2018-10-09 15:52:58.0"> <body><! CDATA Basic metrics need to be surfaced for each operation initiated by the chaincode against the peer.  These should include queries, updates, and chaincode invocations.  Since communication between the peer and chaincode is done with a gRPC service, we should be able to rely on server side stream interceptors to obtain counts and response time metrics. If, for some reason that does not work, we can instrument the handler.  Tasks should be created for each metric.  ></body> </Action>
<Action id="53220" issue="33636" author="sykesm" type="comment" created="2018-11-08 14:58:45.0" updateauthor="sykesm" updated="2018-11-08 14:58:45.0"> <body><! CDATA We also need to have tasks to record how long it takes to launch chaincode and, when complete, whether or not it's successful. That should be a single histogram with labels. All metrics for chaincode should include a chaincode name that includes its version; this string will need to be sanitized for use with Statsd and Prometheus. (Find a transform that works and consider a separate task that puts it into the statsd namer to keep people from having to concern themselves with it.)  Decided we're going to instrument metrics into HandleTransaction of the handler: received (count), completed (count), time (histogram). All have labels for the message type, channel, and chaincode; The completed and histogram also contain the response type (error or not).  ></body> </Action>
<Action id="53867" issue="33636" author="wlahti" type="comment" created="2018-11-27 21:25:19.0" updateauthor="wlahti" updated="2018-11-27 21:27:41.0"> <body><! CDATA As  ~muralisr  mentioned  here|https://jira.hyperledger.org/browse/FAB-11930?focusedCommentId=53565&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-53565 , a few other chaincode metrics:  {code} chaincode startup failure - https://github.com/hyperledger/fabric/blob/master/core/chaincode/container_runtime.go#L78 chaincode launch timeout - https://github.com/hyperledger/fabric/blob/master/core/chaincode/runtime_launcher.go#L65 chaincode execute timeout - https://github.com/hyperledger/fabric/blob/master/core/chaincode/handler.go#L1152 {code}  ></body> </Action>
<Action id="54512" issue="33636" author="sykesm" type="comment" body=" ~wlahti  is this done?" created="2018-12-07 23:21:10.0" updateauthor="sykesm" updated="2018-12-07 23:21:10.0"/>
