<Issue id="39338" key="FAB-15198" number="15198" project="10002" reporter="manish-sethi" assignee="negupta" creator="manish-sethi" type="10002" summary="Doc - CouchDB indexes may not get applied in crash scenarios" priority="3" resolution="10000" status="6" created="2019-04-15 23:12:59.0" updated="2020-01-15 22:26:32.0" resolutiondate="2020-01-15 22:26:32.0" votes="0" watches="2" workflowId="52631"> <description><! CDATA In the legacy code, the chaincode install is two-phased. In the first phase, it invokes the chaincode lifecycle listeners such as couchdb index creator and in the second phase, it makes changes to the persistent store. The main purpose of making this a two phased is so that the listeners are guaranteed to receive the events.  In the new chaincode install path, the chaincode is installed first and then the listeners are invoked if the install is successful. In this approach, if a crash is to take place immediately after install and before invoking the listeners, the indexes will be missing from the couchdb.  ></description> </Issue>
