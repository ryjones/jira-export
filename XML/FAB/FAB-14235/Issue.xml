<Issue id="37756" key="FAB-14235" number="14235" project="10002" reporter="scottz" assignee="dongming" creator="scottz" type="10101" summary="4. Raft Stress and Robustness - Send blasts of transactions to orderers, sometimes while restarting orderers (maybe create thundering herd scenario)" priority="3" resolution="10001" status="6" created="2019-02-18 02:33:18.0" updated="2019-08-01 01:18:14.0" resolutiondate="2019-08-01 01:18:14.0" votes="0" watches="1" workflowId="49372"> <description><! CDATA With several tests in 1.4, we have run traffic with over 100 threads to generate simultaneous burst of messages at the start of large traffic tests - with many orderers and with many channels. So this has been tested to some degree already.  The restarts test FAB-14220 stopped and restarted multiple orderers at once, causing leader changes, with traffic running. Once the channel reelected a leader, all the orderers were able to start handling transactions again. The PTE-generated traffic resumed simultaneously. These transactions included some already endorsed, and then others would follow soon on the numerous threads concurrently after those inflight transactions were broadcast to the orderers.  To really generate a more extreme burst of transactions to an orderer as soon as it recovers, or to all orderers as soon as a leader is elected in a channel, we could try these ideas: * use PTE - but only after we modify it to queue up multiple transactions per thread that are NACKedÂ by orderers (because of lack of leader - or maybe even also those that were dropped, for which we simply did not receive events) and continually reattempt to resend all of them. Is this feasible? * use OTE (FAB-14232) - but only after we modify it to continue to send heavy stream of endorsed transactions with no hesitation even when transactions are NACKed by orderers * use HFRD (FAB-14231), since it uses lots of threads naturally, with enough peers to share the endorsement load, and blast the orderers with traffic; possibly restart a leader and/or other orderers to test recovery and stability  ></description> </Issue>
