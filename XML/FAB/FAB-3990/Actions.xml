<Action id="24256" issue="16831" author="smithbk" type="comment" created="2017-05-24 18:07:24.0" updateauthor="smithbk" updated="2017-05-24 18:08:45.0"> <body><! CDATA The term "deploy" is used (at least in the code) to mean "instantiate", so to avoid confusion, I'll just use the terms "install" and "instantiate" below.  The following is a description of the authorization checks that are made for each of these operations:  1) For *install* of chaincode to a peer, the invoker must be one of the admins of the peer's local MSP.      This maps to the admincerts directory of the local MSP.  2) For *instantiation* and *update/upgrade* of chaincode to a channel, two checks are made:      a) the invoker must be a member of any of the MSPs associated with the channel, which means it must be signed by one of the cacerts or intermediatecerts of one of the channel's MSPs.  A standard x509 trust chain must be built, with one of the cacerts being a trusted root.      b) the invoker must satisfy the chaincode package's policy.  If there is no policy specified, the default policy is that the invoker must be one of the admins of any of the MSPs associated with the channel.     The following is a description of the flow of instantiation of "signed chaincode":  1) The app sends an instantiation proposal to the LSCC (Lifecycle System Chain Code) on the peer with an appropriate signature.  2) The LSCC validates 2a and 2b above.  Assuming it passes, the ESCC returns the endorsement to the app.  3) The app sends the instantiation transaction to the orderer which checks the endorsements and proceeds as any other transaction from this point forward.     Does this clarify?  Any additional follow on questions?     ></body> </Action>
<Action id="24629" issue="16831" author="timpii" type="comment" created="2017-05-30 11:36:54.0" updateauthor="timpii" updated="2017-05-30 11:36:54.0"> <body><! CDATA 1/ When validating an invoker then is a MSP & Certificate  pair sent as part of a transaction ?  Does  the validation logic check only the named MSP to see if the certificate is valid,  or is just a certificate sent, and then all relevant MSP checked to find the validity ?  Is this the same for all transactions ?     2/ A package of code can be signed.  In FAB-3990 there is no description on the who or what verify  the signer of the package other than being able to specify within the package the chaincodes packages instanton policy.  What effect does signing a package using “peer peer chaincode package” / “peer  chaincode signpackage” have  as   opposed to the signature of the  invoking peer  using “ peer install” or “peer instantiate” have ?   FAB-3990 is written in terms of the “invoker” which I take to mean the peer issuing the  “instantiate” .  ></body> </Action>
<Action id="24630" issue="16831" author="timpii" type="comment" created="2017-05-30 11:47:49.0" updateauthor="timpii" updated="2017-05-30 11:47:49.0"> <body><! CDATA When installing chaincode to a peer generally the discussion starts with the install command as briefly described above. The implicit assumption is that the chaincode is available to the local peer.   Are there any scenarios where the peer can obtain the chaincode from an external service and install it? Both push and pull models? I am thinking of 2 scenarios: 1) An App store - a client requests the use of an application from an external service and upon successful authentication of the request downloads and installs the container images and chaincode to a peer(s). 2) A network operations oracle (service) helps manage the installation and upgrade of chaincode from a centralized service.  ></body> </Action>
<Action id="24907" issue="16831" author="christopherferris" type="comment" body=" ~timpii  if I understand this correctly, you are looking for (improved) documentation. Yes?" created="2017-06-01 10:37:28.0" updateauthor="christopherferris" updated="2017-06-01 10:37:28.0"/>
<Action id="26025" issue="16831" author="timpii" type="comment" created="2017-06-12 14:55:10.0" updateauthor="timpii" updated="2017-06-12 14:55:10.0"> <body><! CDATA Yes to the documentation. In the meantime we are trying to get a granular understanding more for operational management and security.  For example: 1) Chaincode gets converted into a container image in the local repository of docker . When that happens? Is it at install on the peer or the first time the chaincode needs to be called.  ></body> </Action>
<Action id="67030" issue="16831" author="sykesm" type="comment" body="Stale" created="2020-01-22 19:10:36.0" updateauthor="sykesm" updated="2020-01-22 19:10:36.0"/>
