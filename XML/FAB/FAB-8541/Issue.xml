<Issue id="28033" key="FAB-8541" number="8541" project="10002" reporter="thejibz" creator="thejibz" type="10004" summary=" basic-network  peer0.org1.example.com service must wait for couchdb service" priority="4" resolution="10000" status="6" created="2018-02-26 16:24:35.0" updated="2018-07-20 14:15:52.0" resolutiondate="2018-02-26 17:50:04.0" votes="0" watches="2" workflowId="41379"> <environment><! CDATA VM: CentOS Linux release 7.4.1708 (Core)   Python: 2.7.5   NPM: 3.10.10   NodeJs: v6.12.3  ></environment> <description><! CDATA Hello,  When spinning up the docker-compose file located at "fabric-samples/basic-network/docker-compose.yml", theÂ  "peer0.org1.example.com" container must wait for couchdb container to be responding on the port 5984 but it isn't currently.  It's not enough to set the depend_on property in this case (because it is merely waiting for the container to boot but not for the couchdb process to be alive and responding). Two solutions I see: * Make the peer0.org1.example.com service fault tolerant by making it retry X times to connect on the couchdb before giving up. * Use a kind of "wait-for-it" script for the command of the peer0.org1.example.com (cf.  https://github.com/vishnubob/wait-for-it)  that wait on the couchdb to be available.  Regards,  JB  ></description> </Issue>
