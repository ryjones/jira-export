<Issue id="12632" key="FAB-331" number="331" project="10002" reporter="scottz" creator="scottz" type="10004" summary="acknowledged Invokes can sometimes be lost" priority="3" resolution="10000" status="6" created="2016-09-09 18:15:43.0" updated="2018-07-20 14:10:08.0" resolutiondate="2017-05-26 17:52:11.0" votes="0" watches="4" workflowId="36189"> <description><! CDATA Problem Summary Invoke transactions submitted by chaincode clients, which are acknowledged with a transaction ID, should not get lost or dropped.  Also, I would hope that an event notification would provide an indication when the invoke transaction is either processed or dropped/rejected, should the client wish to monitor events.  This issue is a port to Jira from GitHub hyperledger fabric issue #2148 https://github.com/hyperledger-archives/fabric/issues/2148  Description How To Reproduce This problem can be reproduced using my GO SDK testcase CRT_502_StopAndRestart1or2_10Hrs.go. This testcase uses a docker network of 4 peers running in batch mode with security, using exampe02. It cycles through 4 peers, sequentially stopping and restarting them via REST calls, and occasionally stopping two peers at once. It sends invokes and queries requests throughout the testcase. Two Invoke transactions, which are queued during the time when only 2 peers are operating, appear to be lost, permanently. Network nodes do resume consensus and catch up with each other, but sometimes the network loses invoke transactions.  STOP PEERS(): PEER0 START PEERS(): PEER0 STOP PEERS(): PEER0 PEER1 START PEERS(): PEER0 PEER1 STOP PEERS(): PEER2 START PEERS(): PEER2 STOP PEERS(): PEER3 START PEERS(): PEER3 STOP PEERS(): PEER0 START PEERS(): PEER0 STOP PEERS(): PEER1 START PEERS(): PEER1 STOP PEERS(): PEER2 PEER3 START PEERS(): PEER2 PEER3 QUERY RESULTS:  FAIL on PEER0: EXPECTED/ACTUAL: A=999894/999896, B=1000106/1000104. **FAIL** FAIL on PEER1: EXPECTED/ACTUAL: A=999894/999900, B=1000106/1000100. **FAIL** FAIL on PEER2: EXPECTED/ACTUAL: A=999894/999896, B=1000106/1000104. **FAIL** FAIL on PEER3: EXPECTED/ACTUAL: A=999894/999896, B=1000106/1000104. **FAIL**  ></description> </Issue>
