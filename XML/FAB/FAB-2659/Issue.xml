<Issue id="15226" key="FAB-2659" number="2659" project="10002" reporter="yacovm" assignee="yacovm" creator="yacovm" type="10004" summary="Peer crash when gets a block from another peer" priority="3" resolution="10000" status="6" created="2017-03-06 15:02:38.0" updated="2018-07-20 14:11:55.0" resolutiondate="2017-03-13 07:41:55.0" votes="0" watches="1" workflowId="37704"> <description><! CDATA When a peer gets a block it crashes with:  panic: runtime error: invalid memory address or nil pointer dereference  signal SIGSEGV: segmentation violation code=0x1 addr=0x38 pc=0x664811   goroutine 51  running : panic(0xc192e0, 0xc420016050) /opt/go/src/runtime/panic.go:500 +0x1a1 github.com/hyperledger/fabric/common/cauthdsl.compile.func2(0xc420026af0, 0x1, 0x1, 0xc421765d99, 0x1, 0x1, 0x880b0a) /opt/gopath/src/github.com/hyperledger/fabric/common/cauthdsl/cauthdsl.go:78 +0x1f1 github.com/hyperledger/fabric/common/cauthdsl.compile.func1(0xc420026af0, 0x1, 0x1, 0xc421765d98, 0x1, 0x1, 0xc4217f6580) /opt/gopath/src/github.com/hyperledger/fabric/common/cauthdsl/cauthdsl.go:51 +0x1ce github.com/hyperledger/fabric/common/cauthdsl.(*policy).Evaluate(0xc420128d98, 0xc420026af0, 0x1, 0x1, 0x7fba81923000, 0x0) /opt/gopath/src/github.com/hyperledger/fabric/common/cauthdsl/policy.go:73 +0x96 github.com/hyperledger/fabric/common/policies.(*implicitMetaPolicy).Evaluate(0xc4216658c0, 0xc420026af0, 0x1, 0x1, 0x1, 0xc420026af0) /opt/gopath/src/github.com/hyperledger/fabric/common/policies/implicitmeta.go:72 +0x9a github.com/hyperledger/fabric/peer/gossip/mcs.(*mspMessageCryptoService).VerifyBlock(0xc4201f53e0, 0xc421765c00, 0x3, 0x3, 0xbc24e0, 0xc4217f85a0, 0x0, 0x0) /opt/gopath/src/github.com/hyperledger/fabric/peer/gossip/mcs/mcs.go:185 +0xa79 github.com/hyperledger/fabric/gossip/gossip/channel.(*gossipChannel).verifyBlock(0xc42000fef0, 0xc4217f6400, 0xc42165eb00, 0x20, 0x20, 0x8) /opt/gopath/src/github.com/hyperledger/fabric/gossip/gossip/channel/channel.go:490 +0x166 github.com/hyperledger/fabric/gossip/gossip/channel.(*gossipChannel).HandleMessage(0xc42000fef0, 0x12e4e80, 0xc42175eea0) /opt/gopath/src/github.com/hyperledger/fabric/gossip/gossip/channel/channel.go:428 +0x49b github.com/hyperledger/fabric/gossip/gossip.(*gossipServiceImpl).handleMessage(0xc420222c80, 0x12e4e80, 0xc42175eea0) /opt/gopath/src/github.com/hyperledger/fabric/gossip/gossip/gossip_impl.go:326 +0x5c3 github.com/hyperledger/fabric/gossip/gossip.(*gossipServiceImpl).acceptMessages(0xc420222c80, 0xc4213366c0) /opt/gopath/src/github.com/hyperledger/fabric/gossip/gossip/gossip_impl.go:262 +0x223 created by github.com/hyperledger/fabric/gossip/gossip.(*gossipServiceImpl).start /opt/gopath/src/github.com/hyperledger/fabric/gossip/gossip/gossip_impl.go:247 +0xb4   ></description> </Issue>
