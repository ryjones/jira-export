<Action id="19624" issue="13238" author="malik-altaf" type="comment" created="2016-11-03 05:16:50.0" updateauthor="malik-altaf" updated="2016-11-03 05:18:34.0"> <body><! CDATA This error occures when the user is already enrolled,  the membership service does not allow re-enrolling a user. To get the test cases work, you need to do two things: (1) Delete the membership database - typically this involves deleting the /var/hyperledger/production folder (unless you modified the core.yaml file to use a different database location)  (2) Delete the local KeyValStore - testcases use ${user.home}/test.properties.  After performing the above two steps, {{mvn test}} should succeed unless the chaincode referred in test cases is not at default location.  * What should be in test.properties =========================== Nothing. The test.properties file is created by the SDK test cases to store the membership details including the keys and certs. This will be automatically created and updated when you enroll or register a member. Please note that whenever you clear the membership services database, delete this file as well otherwise SDK will think that the user is registered while the  This information has been updated in README file for future references   ></body> </Action>
<Action id="19627" issue="13238" author="ratnakar" type="comment" created="2016-11-03 14:16:05.0" updateauthor="ratnakar" updated="2016-11-03 14:16:05.0"> <body><! CDATA  ~malik-altaf  Thanks for clarifying on the *test.properties* file.  However I couldn't get rid of the issue still. First of all the test.properties has never been created I myself has created one (I deleted again)  The steps I followed are as below :  {panel} rm -rf /var/hyperledger/* {panel}  Started Membersrvc {panel} membersrvc {panel}  started peer {panel} CORE_LOGGING_LEVEL=debug peer node start {panel}  and ran the tests (both from inside and outside vagrant environments) {panel} cd /opt/gopath/src/github.com/hyperledger/fabric-sdk-java mvn install {panel}   Did I missed any steps here ? Do i need to setup any thing else ?   Tried  on vagrant and non-vagrant environments, root cause seems to be the same. attached the log files for both the environments   ^non-vagrant-logs.txt    ^vagrant-logs.txt     Here are the gist of logs for your reference in both the environments  {code:java} Nov 03, 2016 1:50:29 PM org.hyperledger.fabric.sdk.FileKeyValStore loadProperties WARNING: Could not find the file "/home/vagrant/test.properties" Nov 03, 2016 1:50:29 PM org.hyperledger.fabric.sdk.FileKeyValStore loadProperties WARNING: Could not find the file "/home/vagrant/test.properties" org.hyperledger.fabric.sdk.exception.EnrollmentException: Failed to enroll user 	at org.hyperledger.fabric.sdk.MemberServicesImpl.enroll(MemberServicesImpl.java:218) 	at org.hyperledger.fabric.sdk.Member.enroll(Member.java:224) 	at org.hyperledger.fabric.sdk.Chain.enroll(Chain.java:299) 	at org.hyperledger.fabric.sdk.PeerClientTest.setupChain(PeerClientTest.java:29) 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) 	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) 	at java.lang.reflect.Method.invoke(Method.java:498) 	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50) 	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) 	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47) 	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:24) 	at org.junit.runners.ParentRunner.run(ParentRunner.java:363) 	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:252) 	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:141) 	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:112) 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) 	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) 	at java.lang.reflect.Method.invoke(Method.java:498) 	at org.apache.maven.surefire.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:189) 	at org.apache.maven.surefire.booter.ProviderFactory$ProviderProxy.invoke(ProviderFactory.java:165) 	at org.apache.maven.surefire.booter.ProviderFactory.invokeProvider(ProviderFactory.java:85) 	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:115) 	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:75) Caused by: io.grpc.StatusRuntimeException: UNKNOWN: Identity or token does not match. 	at io.grpc.Status.asRuntimeException(Status.java:536) 	at io.grpc.stub.ClientCalls.getUnchecked(ClientCalls.java:208) 	at io.grpc.stub.ClientCalls.blockingUnaryCall(ClientCalls.java:141) 	at org.hyperledger.protos.ECAPGrpc$ECAPBlockingStub.createCertificatePair(ECAPGrpc.java:321) 	at org.hyperledger.fabric.sdk.MemberServicesImpl.enroll(MemberServicesImpl.java:190) 	... 24 more Tests run: 2, Failures: 0, Errors: 2, Skipped: 0, Time elapsed: 1.365 sec <<< FAILURE! {code}  ></body> </Action>
<Action id="19634" issue="13238" author="malik-altaf" type="comment" created="2016-11-04 00:37:49.0" updateauthor="malik-altaf" updated="2016-11-04 00:37:49.0"> <body><! CDATA The logs contain two different errors. The non-vagrant logs show an error about IllegalKeySize, which indicates that your version of JDK does not include unlimited strength crypto capabilities. I have included the instructions in README.md, please see if your issue gets fixed.  The vagrant logs show that it is looking for file "/home/vagrant/test.properties", so please make sure you delete this file as well alongside /var/hyperledger/production. This file will be inside the vagrant VM in case you are looking for this in your HOST OS.  ></body> </Action>
<Action id="19635" issue="13238" author="ratnakar" type="comment" created="2016-11-04 01:43:15.0" updateauthor="ratnakar" updated="2016-11-04 01:43:15.0"> <body><! CDATA After fixning the security issue as per the readme file from here https://gerrit.hyperledger.org/r/#/c/2209/3/README.md  I still see Query failure randomly   Results : {code:java} Tests in error:  testQuery(org.hyperledger.fabric.sdk.PeerClientTest): Error:Failed to launch chaincode spec(Could not get deployment transaction for 0113161a2d28ce1a7b5de317c6ab440e560fad7a634ba09d40add68facee7017 - LedgerError - ResourceNotFound: ledger: resource not found) {code}  {code} $ docker ps CONTAINER ID        IMAGE                                                                       COMMAND                  CREATED             STATUS              PORTS               NAMES 23d6b1e6fdec        dev-jdoe-0113161a2d28ce1a7b5de317c6ab440e560fad7a634ba09d40add68facee7017   "/opt/gopath/bin/0113"   13 seconds ago      Up 12 seconds                           dev-jdoe-0113161a2d28ce1a7b5de317c6ab440e560fad7a634ba09d40add68facee7017 {code} I made sure the container is getting created  I also see the container logs which indicates  Invoke is successful.  {code} vagrant@hyperledger-devenv:v0.0.11-02a123c:/opt/gopath/src/github.com/hyperledger/fabric-sdk-java$ docker logs -f 23d6b1e6fdec44505601cc87320c0412e969527b48e6035f1091a7b6ec87d567  01:36:21.008  shim  DEBU : Peer address: 0.0.0.0:7051 01:36:21.008  shim  DEBU : os.Args returns:  /opt/gopath/bin/0113161a2d28ce1a7b5de317c6ab440e560fad7a634ba09d40add68facee7017 -peer.address=0.0.0.0:7051  01:36:21.008  shim  DEBU : Registering.. sending REGISTER 01:36:21.012  shim  DEBU :   Received message REGISTERED from shim 01:36:21.012  shim  DEBU :   Handling ChaincodeMessage of type: REGISTERED(state:created) 01:36:21.013  shim  DEBU : Received REGISTERED, ready for invocations 01:36:21.023  shim  DEBU :  4f8321e1 Received message INIT from shim 01:36:21.024  shim  DEBU :  4f8321e1 Handling ChaincodeMessage of type: INIT(state:established) 01:36:21.024  shim  DEBU : Entered state init 01:36:21.024  shim  DEBU :  4f8321e1 Received INIT, initializing chaincode Aval = 700, Bval = 20000 01:36:21.024  shim  DEBU :  4f8321e1 Inside putstate, isTransaction = true 01:36:21.024  shim  DEBU :  4f8321e1 Sending PUT_STATE 01:36:21.026  shim  DEBU :  4f8321e1 Received message RESPONSE from shim ... 01:36:22.097  shim  DEBU :  0113161a after send 01:36:22.097  shim  DEBU :  0113161a Received RESPONSE, communicated (state:transaction) 01:36:22.097  shim  DEBU :  0113161a GetState received payload RESPONSE Aval = 500, Bval = 20200 01:36:22.097  shim  DEBU :  0113161a Inside putstate, isTransaction = true .... 01:36:22.101  shim  DEBU :  0113161a Move state message COMPLETED 01:36:22.101  shim  DEBU :  0113161a Handling ChaincodeMessage of type: COMPLETED(state:transaction) 01:36:22.101  shim  DEBU :  0113161a send state message COMPLETED  {code}  complete logs attached   ^query-failure.txt     ></body> </Action>
<Action id="59412" issue="13238" author="sejalpawar" type="comment" body=" ~Ratnakar  I am facing the same issue: /home/ubuntu/test.properties not found. Even though the file does exist at the said path. (I did not create the file.) How did you solve the issue?" created="2019-04-23 13:06:15.0" updateauthor="sejalpawar" updated="2019-04-23 13:06:15.0"/>
