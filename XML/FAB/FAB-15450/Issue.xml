<Issue id="39817" key="FAB-15450" number="15450" project="10002" reporter="denyeart" assignee="wenjian" creator="denyeart" type="10004" summary="History database results exclude transactions from block 256, 512, 768, etc" priority="2" resolution="10000" status="6" created="2019-05-14 20:10:45.0" updated="2019-08-01 13:19:15.0" resolutiondate="2019-06-11 15:33:49.0" votes="5" watches="10" workflowId="52711"> <description><! CDATA  https://gerrit.hyperledger.org/r/#/c/26174/  added logic starting in released v1.3.0 and v1.2.1 (and unreleased v1.1.2) to skip keys with nil bytes from the history db results.  Unfortunately, at multiples of 256, the encoded block number in the history db key will contain nil bytes, and therefore these history keys will be filtered out from the history results.  Here is one example of a marble1 key from block 256 getting skipped:   {code:java} 2019-05-14 15:43:26.595 EDT  historyleveldb  Next -> DEBU 7b7 Some other key    byte{0x6d, 0x61, 0x72, 0x62, 0x6c, 0x65, 0x73, 0x0, 0x6d, 0x61, 0x72, 0x62, 0x6c, 0x65, 0x31, 0x0, 0x2, 0x1, 0x0, 0x0}  found in the range while scanning history for key  "marble1" . Skipping... {code}   Note the second to last byte 0x0 is part of the encoded block number 256 that causes the history key to get skipped. Same issue with block 512, 768, etc.  ></description> </Issue>
