<Issue id="29485" key="FAB-9575" number="9575" project="10002" reporter="dongming" assignee="dongming" creator="dongming" type="10002" summary="PTE 1 million invokes and queries simultaneously" priority="3" resolution="10000" status="6" created="2018-04-18 18:01:31.0" updated="2018-07-20 14:16:21.0" resolutiondate="2018-05-10 18:42:40.0" votes="0" watches="1" workflowId="41873"> <description><! CDATA Test name: Performance test: 1M invokes, 2 channels Component: Performance test Description: performance events per channel with couchDB with indexing     chaincode: each channel has one chancode, marbles02 go chaincode, instantiated     transactions: 4 threads, each thread sends 250000 invokes concurrently with tx id from 250001 to 500000          thread 1 sends to org1 peer1 on channel 1, registers events for channel1          thread 2 sends to org2 peer1 on channel 1, registers events for channel1          thread 3 sends to org1 peer1 on channel 2, registers events for channel2          thread 4 sends to org2 peer1 on channel 2, registers events for channel2      transactions: 4 threads, each thread sends 250000 queries concurrently with tx id from 1 to 250000           thread 1 sends to org1 peer1 on channel 1          thread 2 sends to org2 peer1 on channel 1          thread 3 sends to org1 peer1 on channel 2          thread 4 sends to org2 peer1 on channel 2  Network Topology: docker containers; 2 channels, 2 org, 2 peers per org, 4 kafka, 3 zookeepers, 3 orderers, 2 ca, TLS enabled, both org associate with all channels  Event:          service: Filtered Block          listener: block Client Driver: PTE  Pre-requisite: in order to query the transactions exist in the DB, -FAB-8694- needs to be executed first. Without execution of -FAB-8694-, the queries will return invalid since the transactions do not exist in the DB.  Results: The test passes if     the execution completes without error     each thread receives all events associated with the channel it registered, and verifies            events received for every transaction it sent itself  ></description> </Issue>
