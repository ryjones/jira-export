<Action id="35645" issue="20760" author="jeffgarratt" type="comment" created="2017-11-29 19:06:36.0" updateauthor="jeffgarratt" updated="2017-11-29 19:06:36.0"> <body><! CDATA Discussions with  ~scottz  and  ~suryalnvs  wrt to internal component dependencies.     Kafka: (possible config interaction wrt to orderer ORDERER_KAFKA_VERSION?) * {{Version: 0.9.0.1}} * {{Version: 0.10.0.0}} * {{Version: 0.10.0.1}} * {{Version: 0.10.1.0}} * {{Version: 0.10.2.0}}  {{Zookeeper:}} * {{Version: 3.4.9 had issues downloading, need to investigate.}} * {{Version: 3.4.10}}     {{CouchDB:  Did we support in 1.0.X???}}     ></body> </Action>
<Action id="35646" issue="20760" author="jeffgarratt" type="comment" body="See  https://github.com/jeffgarratt/fabric-prototype/blob/master/features/upgrade.feature  for process.  Does NOT currently incorporate upgrades of Kafka and Zookeeper." created="2017-11-29 19:08:16.0" updateauthor="jeffgarratt" updated="2017-11-29 19:08:16.0"/>
<Action id="35649" issue="20760" author="kchristidis" type="comment" body="Including  ~sanchezl  here for the Kafka/ZK bit in case there are questions." created="2017-11-29 19:38:53.0" updateauthor="kchristidis" updated="2017-11-29 19:38:53.0"/>
<Action id="35744" issue="20760" author="jeffgarratt" type="comment" body="See  https://github.com/jeffgarratt/fabric-prototype/blob/master/features/upgrade.feature  for process. Now includes Kafka upgrade.  Does NOT currently incorporate upgrade of Zookeeper." created="2017-12-02 01:30:26.0" updateauthor="jeffgarratt" updated="2017-12-02 01:30:44.0"/>
<Action id="35793" issue="20760" author="jeffgarratt" type="comment" created="2017-12-04 18:16:36.0" updateauthor="jeffgarratt" updated="2017-12-04 18:17:38.0"> <body><! CDATA See  https://github.com/jeffgarratt/fabric-prototype   for process. Now includes all fabric supported components (e.g. peer, orderer, kafka, zookeeper).  Working on a couple of issues, both seem to only manifest when upgrading a kafka based network. # With  ~kchristidis , I am discussing possible issues with setup regarding 'consenter error' after orderer upgrade. # In addition, seems there is a possible gossip issue near the end after upgrade attempting to verify common block height.  Not sure if this is related to timing or not.  Will notify  ~yacovm  and  ~C0rWin .  If I restart the peers in the affected organization, seems to remedy.  ></body> </Action>
<Action id="35807" issue="20760" author="c0rwin" type="comment" body=" ~jeffgarratt  can you be more specific, probably adding an error/warning message? btw, what do you mean by verify common block height?" created="2017-12-04 20:27:14.0" updateauthor="c0rwin" updated="2017-12-04 20:27:14.0"/>
<Action id="35808" issue="20760" author="jeffgarratt" type="comment" created="2017-12-04 20:41:43.0" updateauthor="jeffgarratt" updated="2017-12-04 20:49:34.0"> <body><! CDATA  ~C0rWin  I check the block height across all peers in the network after a wait time.  I boosted the wait time and it appears heights are correct.   ~kchristidis  is currently investigating a possible issue with the orderer having a consenter failure intermittently.       I have enabled gossip debug and will update if I can reproduce the issue I have seen.  ></body> </Action>
<Action id="35809" issue="20760" author="jeffgarratt" type="comment" body=" ~scottz   https://github.com/jeffgarratt/fabric-prototype  latest master represents the current understanding of upgrade for the kafka based fabric system." created="2017-12-04 20:43:12.0" updateauthor="jeffgarratt" updated="2017-12-04 20:43:12.0"/>
<Action id="35875" issue="20760" author="denyeart" type="comment" body=" ~jeffgarratt  Yes CouchDB may be configured for 1.0 peer.  The 1.0.0 fabric-couchdb image uses CouchDB 2.0.0.  We still use CouchDB 2.0.0, but may upgrade to CouchDB 2.1.1 for the 1.1 GA docker images (no compatibility issues though).  Are you proposing that the Fabric images version and dependency image versions be kept in sync?  That is, fabric-peer 1.1 must use fabric-couchdb 1.1?   (Not technically required in this instance, but may be a good general policy)." created="2017-12-05 18:14:11.0" updateauthor="denyeart" updated="2017-12-05 18:14:11.0"/>
<Action id="35889" issue="20760" author="kchristidis" type="comment" body="Added FAB-7330 as a blocking subtask. It contains my findings regarding the consenter failures that Jeff bumped into yesterday." created="2017-12-05 22:43:49.0" updateauthor="kchristidis" updated="2017-12-05 22:43:49.0"/>
<Action id="36029" issue="20760" author="jeffgarratt" type="comment" created="2017-12-08 17:31:45.0" updateauthor="jeffgarratt" updated="2017-12-08 17:31:45.0"> <body><! CDATA Latest master now adds step of peer admins removing existing docker chaincode images post upgrade to allow for successful chaincode invocation...   https://github.com/jeffgarratt/fabric-prototype/blob/master/features/upgrade.feature#L676-L693      If this is not done, will find a chaincode TLS cert failure in the chaincode logs on invocation.  ></body> </Action>
