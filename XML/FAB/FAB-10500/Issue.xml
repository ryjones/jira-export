<Issue id="30794" key="FAB-10500" number="10500" project="10002" reporter="denyeart" assignee="c0rwin" creator="denyeart" type="10004" summary="Private data validation/commit makes multiple requests to collection config" priority="2" resolution="10002" status="6" created="2018-05-31 18:59:11.0" updated="2018-12-19 18:30:13.0" resolutiondate="2018-12-19 18:30:13.0" votes="0" watches="5" workflowId="35837"> <description><! CDATA With two transactions in a block, the validation/commit logic (puller side) retrieves the collection config multiple times instead of re-using.  Attaching a debug log for block12, which has two transactions in it (each tx has two collections of private data).  Here are the requests to retrieve collection config within block 12 validation/commit: {code:java} 2018-05-31 18:22:10.042 UTC  stateleveldb  GetState -> DEBU 6aa2 GetState(). ns=lscc, key=marblesp~collection 2018-05-31 18:22:10.043 UTC  stateleveldb  GetState -> DEBU 6aa5 GetState(). ns=lscc, key=marblesp~collection 2018-05-31 18:22:10.043 UTC  stateleveldb  GetState -> DEBU 6aa8 GetState(). ns=lscc, key=marblesp~collection 2018-05-31 18:22:10.044 UTC  stateleveldb  GetState -> DEBU 6aab GetState(). ns=lscc, key=marblesp~collection{code} {code:java} 2018-05-31 18:22:10.047 UTC  stateleveldb  GetState -> DEBU 6ab9 GetState(). ns=lscc, key=marblesp~collection 2018-05-31 18:22:10.047 UTC  stateleveldb  GetState -> DEBU 6abc GetState(). ns=lscc, key=marblesp~collection 2018-05-31 18:22:10.048 UTC  stateleveldb  GetState -> DEBU 6abf GetState(). ns=lscc, key=marblesp~collection 2018-05-31 18:22:10.048 UTC  stateleveldb  GetState -> DEBU 6ac2 GetState(). ns=lscc, key=marblesp~collection{code} {code:java} 2018-05-31 18:22:10.050 UTC  stateleveldb  GetState -> DEBU 6ac7 GetState(). ns=lscc, key=marblesp~collection{code} {code:java} 2018-05-31 18:22:10.052 UTC  stateleveldb  GetState -> DEBU 6acd GetState(). ns=lscc, key=marblesp~collection 2018-05-31 18:22:10.054 UTC  stateleveldb  GetState -> DEBU 6ad0 GetState(). ns=lscc, key=marblesp~collection{code} {code:java} 2018-05-31 18:22:10.055 UTC  stateleveldb  GetState -> DEBU 6ad6 GetState(). ns=lscc, key=marblesp~collection{code} {code:java} 2018-05-31 18:22:11.063 UTC  stateleveldb  GetState -> DEBU 6b0a GetState(). ns=lscc, key=marblesp~collection{code} {code:java} 2018-05-31 18:22:11.063 UTC  stateleveldb  GetState -> DEBU 6b0f GetState(). ns=lscc, key=marblesp~collection{code} {code:java} 2018-05-31 18:22:11.072 UTC  stateleveldb  GetState -> DEBU 6b28 GetState(). ns=lscc, key=marblesp~collection{code} {code:java} 2018-05-31 18:22:11.073 UTC  stateleveldb  GetState -> DEBU 6b2e GetState(). ns=lscc, key=marblesp~collection{code}  ></description> </Issue>
