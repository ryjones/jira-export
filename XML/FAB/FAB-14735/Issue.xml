<Issue id="38611" key="FAB-14735" number="14735" project="10002" reporter="bharadwajambati1" assignee="jyellick" creator="bharadwajambati1" type="10004" summary="Error while updating the channel with a new ordererorg" priority="3" resolution="10000" status="6" created="2019-03-20 15:44:58.0" updated="2019-08-08 15:55:26.0" resolutiondate="2019-03-25 21:26:34.0" votes="0" watches="4" workflowId="50256"> <description><! CDATA h3. Observed:  Observed the following error while updating the channel(ordersystemchannel or testorgschannel1) with a new ordererorg(ordererorg2) {code:java} 2019-03-20 09:20:39.935 EDT  channelCmd  InitCmdFactory -> INFO 001 Endorser and orderer connections initialized Error: got unexpected status: SERVICE_UNAVAILABLE -- update of more than one consenter at a time is not supported, requested changes: add 0 node(s), remove 3 node(s) {code}    Besides the fact that the error occurs, we think the error message itself is not helpful in identifying the problem.     In contrast, the channel update was successful if we add a new ordererorg(ordererorg2) along with a new orderer(orderer4-ordererorg2) to this ordererorg(ordererorg2) in the same config update. h3. Expected:  The channel should be updated successfully when only adding a new ordererorg        Below are the steps followed to update the channel: # Fetched latest config block and converted it into config.json # Modified the config.json by adding new ordererorg(ordererorg2) to the orderer groups in the config.json # Commands used for updating the channel {code:java} * configtxlator proto_encode --input config.json --type common.Config --output config.pb * configtxlator proto_encode --input modified_config.json --type common.Config --output modified_config.pb * configtxlator compute_update --channel_id $CHANNEL_NAME --original config.pb --updated modified_config.pb --output addOrdererOrg_update.pb * configtxlator proto_decode --input addOrdererOrg_update.pb --type common.ConfigUpdate | jq . > addOrdererOrg_update.json * echo '{"payload":{"header":{"channel_header":{"channel_id":"'$CHANNEL_NAME'", "type":2}},"data":{"config_update":'$(cat addOrdererOrg_update.json)'}}}' | jq . > addOrdererOrg_update_in_envelope.json * configtxlator proto_encode --input addOrdererOrg_update_in_envelope.json --type common.Envelope --output addOrdererOrg_update_in_envelope.pb * peer channel update -f addOrdererOrg_update_in_envelope.pb -c $CHANNEL_NAME -o orderer1st-ordererorg1:7050 --tls --cafile $CORE_PEER_TLS_ROOTCERT_FILE{code}  ></description> </Issue>
