<Issue id="14039" key="FAB-1624" number="1624" project="10002" reporter="elast" assignee="skarim" creator="elast" type="10004" summary="COP client gives error messages when TLS is disabled" priority="3" resolution="10000" status="6" created="2017-01-12 18:45:35.0" updated="2018-07-20 14:11:11.0" resolutiondate="2017-03-06 14:54:03.0" votes="0" watches="1" workflowId="37017"> <description><! CDATA I started a COP server with TLS disabled in the cop.json config, then tried to enroll admin through the COP client:   root@oc0337116681 bin # ./cop client enroll admin adminpw http://localhost:8888 2017/01/12 07:46:05  INFO  received CSR 2017/01/12 07:46:05  INFO  generating key: ecdsa-256 2017/01/12 07:46:05  INFO  encoded CSR 2017/01/12 07:46:05  ERROR  Failed to load client configuration file  error: open /root/cop/cop_client.json: no such file or directory  2017/01/12 07:46:05  ERROR  Error: unexpected end of JSON input 2017/01/12 07:46:05  WARNING  Client Cert or Key not provided, if server requires mutual TLS, the connection will fail  error: open : no such file or directory  2017/01/12 07:46:05  ERROR  No CA cert files provided, TLS connection cannot be established 2017/01/12 07:46:05  INFO  enrollment information was successfully stored in /root/cop/key.pem and /root/cop/cert.pem  Even though the enrollment went through successfully, the client should not give error messages about TLS, seeing as TLS is disabled.  The same thing happened when I tried to register.  ></description> </Issue>
