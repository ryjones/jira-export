<Issue id="44936" key="FAB-17803" number="17803" project="10002" reporter="wenjian" assignee="wenjian" creator="wenjian" type="10003" summary="(Duplicate) Update reset/rollback commands to consider some channels may have been bootstrapped with snapshots" priority="3" resolution="10002" status="6" created="2020-04-23 20:11:44.0" updated="2020-10-26 17:47:16.0" resolutiondate="2020-10-26 14:51:12.0" votes="0" watches="1" workflowId="59726" archived="N"> <description><! CDATA We do not require a peer to keep the bootstrap snapshot files. During reset/rollback, we cannot simply drop all leveldbs because the bootstrap snapshot may not be available for a channel. Therefore, the existing reset/rollback commands only work if all channels are bootstrapped with genesis blocks.  Acceptance criteria: * The reset/rollback commands should only work if all the channels on the peer are bootstrapped from genesis blocks. If any channel on the peer is bootstrapped with a snapshot, the commands will return an error saying the command is not supported because at least one channel is bootstrapped with a snapshot. We will add a "unjoin" command to unjoin a channel (FAB-17787). * Enhance reset command to take a channel parameter and it will delete channel-specific data from the ledger instead of dropping entire dbs. * Enhance rollback command to delete channel-specific data from the ledger instead of dropping entire dbs.     ></description> </Issue>
