<Issue id="17430" key="FAB-4344" number="4344" project="10002" reporter="ratnakar" assignee="muralisr" creator="ratnakar" type="10004" summary="newkeyperinvoke chaincode installation fails on cli container" priority="2" resolution="10000" status="6" created="2017-06-04 05:26:12.0" updated="2018-07-20 14:13:06.0" resolutiondate="2017-06-04 19:11:13.0" votes="0" watches="2" workflowId="38799" security="10001"> <description><! CDATA Commit Level: *9ca37eefd86cfb3ac83c61fcfc278800f9dcbf65*   Installing the chaincode 'newkeyperinvoke' (from ccchecker sample) from cli container fails with the following error:   *Error: Error getting chaincode code chaincode: Error getting chaincode package bytes: Error obtaining imports: go list: failed with error: "exec: not started"*   Steps to reproduce the error:  1. Clone the repo {panel} git clone https://github.com/asararatnakar/chaincodechecker cd chaincodechecker {panel} 2. start the network {panel} ./network_setup.sh restart mychannel 1 {panel} this will start the network with the following configuration 3 Kakfa (with 3 zookeeper) 3 Orderering services 2 Orgs (with 2 peers in each Org) A CLI container to run the ccchecker tool.  Once the network is up following ations will be performed (script.sh) * Installs dependent libs on cli container to run ccchecker tool * Create and Joins all the peers on to the channel mychannel * Install & Instantiate chaincode * Start the ccchecker tool based on the ccchecker.json and env.json configurations.  However Install step fails with the following error    {code:java} Installing chaincode on all peers... CORE_PEER_TLS_ROOTCERT_FILE=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/ca.crt CORE_PEER_TLS_KEY_FILE=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.key CORE_PEER_LOCALMSPID=Org1MSP CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock CORE_PEER_TLS_CERT_FILE=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.crt CORE_PEER_TLS_ENABLED=false CORE_PEER_MSPCONFIGPATH=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp CORE_PEER_ID=cli CORE_LOGGING_LEVEL=DEBUG CORE_PEER_ADDRESS=peer0.org1.example.com:7051 2017-06-04 04:28:20.045 UTC  msp  getMspConfig -> INFO 001 intermediate certs folder not found at  /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp/intermediatecerts . Skipping.:  stat /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp/intermediatecerts: no such file or directory  2017-06-04 04:28:20.045 UTC  msp  getMspConfig -> INFO 002 crls folder not found at  /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp/intermediatecerts . Skipping.:  stat /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp/crls: no such file or directory  2017-06-04 04:28:20.046 UTC  msp  getMspConfig -> INFO 003 MSP configuration file not found at  /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp/config.yaml :  stat /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp/config.yaml: no such file or directory  2017-06-04 04:28:20.072 UTC  msp  GetLocalMSP -> DEBU 004 Returning existing local MSP 2017-06-04 04:28:20.072 UTC  msp  GetDefaultSigningIdentity -> DEBU 005 Obtaining default signing identity 2017-06-04 04:28:20.072 UTC  golang-platform  getCodeFromFS -> DEBU 006 getCodeFromFS github.com/hyperledger/fabric/examples/ccchecker/chaincodes/newkeyperinvoke Error: Error getting chaincode code chaincode: Error getting chaincode package bytes: Error obtaining imports: go list: failed with error: "exec: not started" Usage: peer chaincode install  flags  Global Flags: --cafile string Path to file containing PEM-encoded trusted certificate(s) for the ordering endpoint -C, --chainID string The chain on which this command should be executed (default "testchainid") -c, --ctor string Constructor message for the chaincode in JSON format (default "{}") -E, --escc string The name of the endorsement system chaincode to be used for this chaincode -l, --lang string Language the chaincode is written in (default "golang") --logging-level string Default logging level and overrides, see core.yaml for full syntax -n, --name string Name of the chaincode -o, --orderer string Ordering service endpoint -p, --path string Path to chaincode -P, --policy string The endorsement policy associated to this chaincode --test.coverprofile string Done (default "coverage.cov") -t, --tid string Name of a custom ID generation algorithm (hashing and decoding) e.g. sha256base64 --tls Use TLS when communicating with the orderer endpoint -u, --username string Username for chaincode operations when security is enabled -v, --version string Version of the chaincode specified in install/instantiate/upgrade commands -V, --vscc string The name of the verification system chaincode to be used for this chaincode !!!!!!!!!!!!!!! Chaincode================== ERROR !!! FAILED to execute End-2-End Scenario ================== {code}    *NOTE*: This has been tested and working on the commit level "*a01b2f93081c68def7fa960acbb0c3ff60ce1c79*" where as fails on latest commit level  ></description> </Issue>
