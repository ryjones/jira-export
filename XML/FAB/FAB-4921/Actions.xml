<Action id="27564" issue="18546" author="nnao" type="comment" body="It seems to need to disable tls in orderer. ORDERER_GENERAL_TLS_ENABLED=false in base/docker-compose-base.yaml" created="2017-06-28 21:05:29.0" updateauthor="nnao" updated="2017-06-28 21:05:29.0"/>
<Action id="27565" issue="18546" author="nnao" type="comment" body="https://gerrit.hyperledger.org/r/#/c/11237/" created="2017-06-28 21:08:25.0" updateauthor="nnao" updated="2017-06-28 21:08:25.0"/>
<Action id="28106" issue="18546" author="xiven" type="comment" body="Is it possible to get the block-listener to run with TLS enabled?  If so, how?" created="2017-07-10 17:25:31.0" updateauthor="xiven" updated="2017-07-10 17:25:31.0"/>
<Action id="28288" issue="18546" author="nnao" type="comment" body=" ~xiven  No. block-listener cannot run with TLS enabled yet." created="2017-07-12 23:33:33.0" updateauthor="nnao" updated="2017-07-12 23:33:33.0"/>
<Action id="29972" issue="18546" author="clayton sims" type="comment" created="2017-08-17 19:22:06.0" updateauthor="clayton sims" updated="2017-08-17 19:22:06.0"> <body><! CDATA customer asking for this.....moving to highest     ></body> </Action>
<Action id="30348" issue="18546" author="muralisr" type="comment" created="2017-08-30 03:44:04.0" updateauthor="muralisr" updated="2017-08-30 03:44:04.0"> <body><! CDATA  ~bhaskerchatterjee  The block-listener.go sample event client is not enabled for TLS. It can be enabled by modifying the program as follows * import "strings" and "github.com/spf13/viper" * add the following code snippet in main() function  {code:java} // For environment variables. viper.SetEnvPrefix("core") viper.AutomaticEnv() replacer := strings.NewReplacer(".", "_") viper.SetEnvKeyReplacer(replacer) {code} * build block-listener with "go build" in the block-listener folder * after starting e2e_cli successfully, start the program as follows (all in one line) {code:java} CORE_PEER_TLS_ENABLED=true CORE_PEER_TLS_ROOTCERT_FILE=$GOPATH/src/github.com/hyperledger/fabric/examples/e2e_cli/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/ca.crt ./block-listener -events-address=peer0.org1.example.com:7053 -events-mspdir=$GOPATH/src/github.com/hyperledger/fabric/examples/e2e_cli/crypto-config/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp -events-mspid=Org1MSP {code}  I had to add *peer0.org1.example.com* to /etc/hosts to be 127.0.0.1 on my laptop so *-events-address=peer0.org1.example.com:7053*  will work.     Also note that you can make the e2e sample non-TLS by setting *xxx_TLS_ENABLED*=false (example CORE_PEER_TLS_ENABLED=false) in all the docker "yaml" files in e2e_cli/ and e2e_cli/base. With TLS disabled you don't need to modify the block-listener sample for TLS.      ~nnao  if you like do take the above changes and fix block-listener.go to enable it for TLS.  ></body> </Action>
<Action id="30417" issue="18546" author="wlahti" type="comment" body=" ~nnao  I&apos;m currently working on a new events service where registration occurs at the channel level instead of the peer, based on the eventhub service code. I pushed a CR yesterday to enable my listener sample to work with TLS:  https://gerrit.hyperledger.org/r/#/c/13001/ . If you&apos;d like, I can update the block listener sample and readme with the relevant code/information." created="2017-08-31 14:34:48.0" updateauthor="wlahti" updated="2017-08-31 14:34:48.0"/>
<Action id="30430" issue="18546" author="nnao" type="comment" created="2017-09-01 01:07:07.0" updateauthor="nnao" updated="2017-09-01 01:07:07.0"> <body><! CDATA  ~muralisr   ~wlahti   Thank you, you've been so helpful.  I pushed a CR that enable block-listener.go for TLS and update README.  https://gerrit.hyperledger.org/r/#/c/11237/  ></body> </Action>
<Action id="30566" issue="18546" author="denyeart" type="comment" body="Bugs do not require a release planning label, I will remove it.  Especially Highest bugs are prioritized for next release regardless." created="2017-09-06 15:39:40.0" updateauthor="denyeart" updated="2017-09-06 15:39:40.0"/>
<Action id="47942" issue="18546" author="amit04patel" type="comment" created="2018-07-26 21:11:42.0" updateauthor="amit04patel" updated="2018-07-26 21:11:42.0"> <body><! CDATA Still getting error in starting with tls enabled  CORE_PEER_TLS_ENABLED=true CORE_PEER_TLS_ROOTCERT_FILE=$GOPATH/src/github.com/hyperledger/fabric/examples/e2e_cli/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/ca.crt ./block-listener -events-address=peer0.org1.example.com:7053 -events-mspdir=$GOPATH/src/github.com/hyperledger/fabric/examples/e2e_cli/crypto-config/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp -events-mspid=Org1MSP Event Address: peer0.org1.example.com:7053 could not start chat. err: rpc error: code = Unavailable desc = transport is closing Error creating event client   ></body> </Action>
