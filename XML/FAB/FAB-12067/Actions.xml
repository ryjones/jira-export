<Action id="50958" issue="33934" author="denyeart" type="comment" body="Raising priority since this has been seen again." created="2018-09-21 15:11:58.0" updateauthor="denyeart" updated="2018-09-21 15:11:58.0"/>
<Action id="51429" issue="33934" author="sykesm" type="comment" created="2018-10-01 14:47:39.0" updateauthor="sykesm" updated="2018-10-01 14:47:39.0"> <body><! CDATA Observed in unit test build:  {code} 00:30:06.629 unit-tests_1  | --- FAIL: TestEndedGoroutines (410.16s) 00:30:06.630 unit-tests_1  | 	assertions.go:247:   	Error Trace:	gossip_test.go:1493 00:30:06.631 unit-tests_1  | 		 	            	 			gossip_test.go:1364 00:30:06.631 unit-tests_1  | 		 	Error:      	Goroutine(s) haven't ended: 00:30:06.631 unit-tests_1  | 		 	Test:       	TestEndedGoroutines 00:30:06.643 unit-tests_1  | 		 	Messages:   	 testing.runTests.func1.1(0xc4201a64b0) 	/opt/go/src/testing/testing.go:1068 +0x3b created by testing.runTests.func1 	/opt/go/src/testing/testing.go:1068 +0xa2   00:30:06.644 unit-tests_1  | FAIL 00:30:06.644 unit-tests_1  | coverage: 85.2% of statements 00:30:06.645 unit-tests_1  | FAIL	github.com/hyperledger/fabric/gossip/gossip	452.971s {code}  ^console-timestamp.log    ></body> </Action>
<Action id="51511" issue="33934" author="denyeart" type="comment" created="2018-10-02 13:44:18.0" updateauthor="denyeart" updated="2018-10-02 13:44:18.0"> <body><! CDATA  ~sambhavdutt   This Jira is for unit test failure:    {code:java} FAIL: TestEndedGoroutines{code}    Please do not mention multiple other failures in this same Jira item.  I'd recommend delete your comments not related to *FAIL: TestEndedGoroutines* , and open separate Jira items for them.  If you see the *same* problem multiple times, then I recommend adding a comment stating that you are seeing it again.  This will help to identify the highest priority repeat failures.  Having a unique Jira per failure will help us track down and fix each and every problematic test. It will also help searchability (e.g. *TestEndedGoroutines*) to see if a unique Jira has already been opened for a problem.  ></body> </Action>
<Action id="54668" issue="33934" author="sykesm" type="comment" created="2018-12-11 14:31:04.0" updateauthor="sykesm" updated="2018-12-11 14:31:04.0"> <body><! CDATA Still happening at the end of the 1.4 cycle.   ^console-timestamp.log.gz.txt    ></body> </Action>
<Action id="55002" issue="33934" author="sykesm" type="comment" created="2018-12-19 20:25:14.0" updateauthor="sykesm" updated="2018-12-19 20:26:02.0"> <body><! CDATA https://gerrit.hyperledger.org/r/c/28300/  {code} 20:19:16 --- FAIL: TestEndedGoroutines (248.35s) 20:19:16     gossip_test.go:1495:  20:19:16         	Error Trace:	gossip_test.go:1495 20:19:16         	            				gossip_test.go:1366 20:19:16         	Error:      	Goroutine(s) haven't ended: 20:19:16         	Test:       	TestEndedGoroutines 20:19:16         	Messages:   	 github.com/hyperledger/fabric/gossip/comm.(*commImpl).Accept.func1(0xc0027d2c60, 0xc0053d9b00, 0xc0053d9b60) 	/w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/comm/comm_impl.go:351 +0x186 created by github.com/hyperledger/fabric/gossip/comm.(*commImpl).Accept 	/w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/comm/comm_impl.go:345 +0x1ce  20:19:16 FAIL 20:19:16 coverage: 85.1% of statements 20:19:16 FAIL	github.com/hyperledger/fabric/gossip/gossip	279.000s {code}  ></body> </Action>
<Action id="55453" issue="33934" author="sykesm" type="comment" created="2019-01-09 18:31:39.0" updateauthor="sykesm" updated="2019-01-09 18:31:39.0"> <body><! CDATA Hit again: https://gerrit.hyperledger.org/r/c/28204/12  https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/7731/  ></body> </Action>
<Action id="56289" issue="33934" author="c0rwin" type="comment" body="Once FAB-13929 the severity of the current could be reduced. While we still should take care fix and re-enable TestEndedGoroutines UT once ready." created="2019-01-28 22:23:01.0" updateauthor="c0rwin" updated="2019-01-28 22:23:01.0"/>
<Action id="56295" issue="33934" author="denyeart" type="comment" body="Subtask FAB-13929 to temporarily skip test has been merged.  Lowering priority while waiting for the ultimate fix." created="2019-01-29 01:47:35.0" updateauthor="denyeart" updated="2019-01-29 01:47:35.0"/>
<Action id="58719" issue="33934" author="guoger" type="comment" created="2019-03-29 09:36:10.0" updateauthor="guoger" updated="2019-03-29 09:36:10.0"> <body><! CDATA hit here:  https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/11097/console  {code:java} 16:12:07 --- FAIL: TestEndedGoroutines (423.13s) 16:12:07     gossip_test.go:1495:  16:12:07         	Error Trace:	gossip_test.go:1495 16:12:07         	            				gossip_test.go:1366 16:12:07         	Error:      	Goroutine(s) haven't ended: 16:12:07         	Test:       	TestEndedGoroutines 16:12:07         	Messages:   	 testing.runTests.func1.1(0xc000132500) 	/opt/go/go1.11.5.linux.amd64/src/testing/testing.go:1124 +0x3b created by testing.runTests.func1 	/opt/go/go1.11.5.linux.amd64/src/testing/testing.go:1124 +0xac   16:12:07 FAIL {code}  ></body> </Action>
<Action id="59629" issue="33934" author="mhbauer" type="comment" created="2019-04-30 22:01:04.0" updateauthor="mhbauer" updated="2019-04-30 22:01:04.0"> <body><! CDATA Does this occur by itself? Or is it always coincidental with some other failure? If it's always with another test failure, this is telling you that another test failed.   Ideas: # move waitgroup.add to each test that adds it, so individual tests can be run. Good for usability, as it is now, I cannot run some individual tests. # use a TestMain(m testing.M) instead of a init + waitgroup, so that you can run tests and at the end do the check for threads. This gets rid of the waitgroup entirely and also solves the "run an individual test" problem.      ></body> </Action>
<Action id="60738" issue="33934" author="mhbauer" type="comment" body="https://gerrit.hyperledger.org/r/#/c/fabric/+/31709/" created="2019-06-06 17:12:49.0" updateauthor="mhbauer" updated="2019-06-06 17:12:49.0"/>
