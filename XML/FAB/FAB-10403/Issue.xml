<Issue id="30661" key="FAB-10403" number="10403" project="10002" reporter="manish-sethi" assignee="manish-sethi" creator="manish-sethi" type="10004" summary="Fix the usage of purgemgr in txmgr" priority="3" resolution="10000" status="6" created="2018-05-25 20:59:55.0" updated="2018-07-20 14:16:50.0" resolutiondate="2018-06-14 13:23:27.0" votes="0" watches="1" workflowId="42345"> <description><! CDATA - The function that clears off the used purged entries from purge schedule, gets invoked under `defer` statement. These gets executed even if some error happens during applying updates to the statedb. This needs to be moved outside the defer statement.  - Validation logic and purge management logic both uses the version cache. Validation should wait for the purge to finish the background job that was launched after the previous block commit.  ></description> </Issue>
