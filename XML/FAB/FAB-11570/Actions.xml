<Action id="48780" issue="32780" author="rickr" type="comment" body="Need to get trace level logging probably from the start to the point where your getting the single endorsement" created="2018-08-13 10:09:14.0" updateauthor="rickr" updated="2018-08-13 10:09:14.0"/>
<Action id="48808" issue="32780" author="nedoli" type="comment" created="2018-08-13 23:41:20.0" updateauthor="nedoli" updated="2018-08-13 23:41:52.0"> <body><! CDATA Network is below and using EndorsementSelector.ENDORSEMENT_SELECTION_RANDOM * 2 org and 2 peer per org - peer1.org1.cello, peer2.org1.cello, peer2.org2.cello, peer2.org2.cello     I found the some wrong in trace log.  SDK found the 4 peer using Service Discovery. Required is 2.  But, SDK send proposal to peers in same org(Org2).  peer1.org2.cello, peer2.org2.cello.  I think that SDK have to send each peer in org. e.g> peer1.org1.cello, peer2.org2.cello.   08-14 08:23:44:546  TRACE  org.hyperledger.fabric.sdk.Channel  - Attempts: 1, chaincode discovery state: SDChaindcode(name: distributeddb, layouts:  {color:#de350b}SDLayout(required: 2, endorsed:0, endorsers:  SDEndorser-Org2MSP-peer1.org2.cello:9051, SDEndorser-Org2MSP-peer2.org2.cello:10051, SDEndorser-Org1MSP-peer1.org1.cello:7051, SDEndorser-Org1MSP-peer2.org1.cello:8051 ){color} )  08-14 08:23:44:546  TRACE  org.hyperledger.fabric.sdk.Channel  - Sending block event 'Channel c000 eventqueue got block event with block number: 42 for channel: c000, from Peer: peer2.org2.cello:10051' to block listener BLOCK_LISTENER_HANDLEb7ddee22-0e19-4ba8-b4af-9279dc8128efBLOCK_LISTENER_HANDLE  08-14 08:23:44:546  DEBUG  org.hyperledger.fabric.sdk.Channel  - is peer true, is filtered: false  08-14 08:23:44:546  TRACE  org.hyperledger.fabric.sdk.Channel  - Channel c000, chaincode distributeddb attempts: 1 requested endorsements: {color:#de350b}SDEndorser-Org2MSP-peer2.org2.cello:10051SDEndorser-Org2MSP-peer1.org2.cello:9051{color}  {color:#de350b}....{color}  {color:#172b4d} 08-14 08:23:44:660  TRACE  org.hyperledger.fabric.sdk.Channel  - {color}{color:#de350b}Channel c000, chaincode distributeddb attempts 1 good endorsements: peer2.org2.cello:10051{color}{color:#172b4d}  08-14 08:23:44:660  TRACE  org.hyperledger.fabric.sdk.Channel  - Channel c000, chaincode distributeddb attempts 1 good endorsements: peer1.org2.cello:9051{color}  08-14 08:23:44:660  DEBUG  org.hyperledger.fabric.sdk.Channel  - Channel c000, chaincode distributeddb got all needed endorsements: Peer peer1.org2.cello:9051 url: grpcs://peer1.org2.cello:9051, Peer peer2.org2.cello:10051 url: grpcs://peer2.org2.cello:10051  08-14 08:23:44:661  INFO  HLFabricTest  -  HLFABRIC  Successful transaction proposal response Tx ID: d60baf431e06d66e077735ff85d19c648095028e8926bdb0b54b5f8b050d653b from peer peer1.org2.cello:9051  08-14 08:23:44:661  INFO  HLFabricTest  -  HLFABRIC  Successful transaction proposal response Tx ID: d60baf431e06d66e077735ff85d19c648095028e8926bdb0b54b5f8b050d653b from peer peer2.org2.cello:10051  ...  {color:#172b4d}Exception in thread "main" java.util.concurrent.ExecutionException: org.hyperledger.fabric.sdk.exception.TransactionEventException: Received invalid transaction event. Transaction ID b8e2b4cb8099eed37cd9a2d6104fbfc6f094e8d0c1a38af521b44f8ecd1344d4 status 9Exception in thread "main" java.util.concurrent.ExecutionException: org.hyperledger.fabric.sdk.exception.TransactionEventException: Received invalid transaction event. Transaction ID b8e2b4cb8099eed37cd9a2d6104fbfc6f094e8d0c1a38af521b44f8ecd1344d4 status 9 at java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:357) at java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1895) at HLFabricTest.main(HLFabricTest.java:218)Caused by: org.hyperledger.fabric.sdk.exception.TransactionEventException: Received invalid transaction event. Transaction ID b8e2b4cb8099eed37cd9a2d6104fbfc6f094e8d0c1a38af521b44f8ecd1344d4 status 9 at org.hyperledger.fabric.sdk.Channel$TL.lambda$fire$2(Channel.java:5599) at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) at java.lang.Thread.run(Thread.java:748){color}     ></body> </Action>
<Action id="48820" issue="32780" author="rickr" type="comment" created="2018-08-14 00:51:08.0" updateauthor="rickr" updated="2018-08-14 00:51:08.0"> <body><! CDATA I think the SDK is doing what is expected given the data from discovery.   SDLayout(required: 2, endorsed:0, endorsers:  SDEndorser-Org2MSP-peer1.org2.cello:9051, SDEndorser-Org2MSP-peer2.org2.cello:10051, SDEndorser-Org1MSP-peer1.org1.cello:7051, SDEndorser-Org1MSP-peer2.org1.cello:8051 ) )  That's saying any two from that list is ok.  To have what you wanted one from each organization there should have been two layouts requiring two with each layount haveng one endorser/peer from each organization.   ></body> </Action>
<Action id="48821" issue="32780" author="nedoli" type="comment" created="2018-08-14 00:56:28.0" updateauthor="nedoli" updated="2018-08-14 00:56:28.0"> <body><! CDATA How do I separate layout?? I don't know the solution for AND policy.  OR Policy seems to provide like what you say.     AND Policy is..  "Layouts":  "Layouts":   \{ "quantities_by_group": { "G0": 1, "G1": 1 } }       OR Policy is...  "Layouts":  "Layouts":   \{ "quantities_by_group": { "G0": 1 } }, \{ "quantities_by_group": { "G1": 1 } }    ></body> </Action>
<Action id="48822" issue="32780" author="rickr" type="comment" created="2018-08-14 01:15:42.0" updateauthor="rickr" updated="2018-08-14 01:15:42.0"> <body><! CDATA Try using the indpendent discovery tool  ~yacovm  talked about following the rocket chat link to get an indpendent view ->  https://chat.hyperledger.org/channel/fabric-sdk-java?msg=ADdi6mJin9BjRSfwQ   ></body> </Action>
<Action id="48823" issue="32780" author="nedoli" type="comment" created="2018-08-14 01:34:21.0" updateauthor="nedoli" updated="2018-08-14 01:34:21.0"> <body><! CDATA As you know, "discover peers" show just all peer in channel.  It seems that there is no function for re-org layout.  ></body> </Action>
<Action id="48824" issue="32780" author="rickr" type="comment" created="2018-08-14 01:37:11.0" updateauthor="rickr" updated="2018-08-14 01:37:11.0"> <body><! CDATA I'm not familar with the tool I was hoping it would also report the layout :(   ></body> </Action>
<Action id="48825" issue="32780" author="rickr" type="comment" created="2018-08-14 01:41:37.0" updateauthor="rickr" updated="2018-08-14 01:41:37.0"> <body><! CDATA https://hyperledger-fabric.readthedocs.io/en/release-1.2/discovery-cli.html#endorsers-query   ></body> </Action>
<Action id="48827" issue="32780" author="nedoli" type="comment" created="2018-08-14 03:07:31.0" updateauthor="nedoli" updated="2018-08-14 03:07:31.0"> <body><! CDATA I'm sorry bothering you.  There is no information for re-org layout. just query.... :(  ></body> </Action>
<Action id="48830" issue="32780" author="yacovm" type="comment" body=" ~nedoli  can you run the *discover endorsers* command like in the tutorial Rick linked and post here the output?" created="2018-08-14 07:32:58.0" updateauthor="yacovm" updated="2018-08-14 07:32:58.0"/>
<Action id="48831" issue="32780" author="nedoli" type="comment" created="2018-08-14 07:37:31.0" updateauthor="nedoli" updated="2018-08-14 07:37:53.0"> <body><! CDATA  { 		"Chaincode": "distributeddb", 		"EndorsersByGroups": { 			"G0":  { 					"MSPID": "Org1MSP", 					"LedgerHeight": 47, 					"Endpoint": "peer2.org1.cello:8051", 					"Identity": "-----BEGIN CERTIFICATE-----\nMIICCDCCAa6gAwIBAgIRAI02gS/GLEzdE9Y6Ya7QqZMwCgYIKoZIzj0EAwIwZzEL\nMAkGA1UEBhMCVVMxEzARBgNVBAgTCkNhbGlmb3JuaWExFjAUBgNVBAcTDVNhbiBG\ncmFuY2lzY28xEzARBgNVBAoTCm9yZzEuY2VsbG8xFjAUBgNVBAMTDWNhLm9yZzEu\nY2VsbG8wHhcNMTgwNjE5MDcwMzQyWhcNMjgwNjE2MDcwMzQyWjBVMQswCQYDVQQG\nEwJVUzETMBEGA1UECBMKQ2FsaWZvcm5pYTEWMBQGA1UEBxMNU2FuIEZyYW5jaXNj\nbzEZMBcGA1UEAxMQcGVlcjIub3JnMS5jZWxsbzBZMBMGByqGSM49AgEGCCqGSM49\nAwEHA0IABNfsvEse/4BukcwGb1ljYCb5wGZA4y5EBe+6vRyrPXP2i4DW8asUneJx\nvOUtJz47JU/vRFU/8mnZxKOil7w/rgqjTTBLMA4GA1UdDwEB/wQEAwIHgDAMBgNV\nHRMBAf8EAjAAMCsGA1UdIwQkMCKAIH8aE5blyDL0J29PBHh5ptHo69RFYlqj1DuU\nKn1a+wxLMAoGCCqGSM49BAMCA0gAMEUCIQCIIHrdnPAAcJp7HVmSQAmUuKgoHX7b\n/QVJSS9SkdymTwIgC+8uqk1mFRuXU8Lgs4ppcRPMFseEHJU9b7LfZ4nYJ5Y=\n-----END CERTIFICATE-----\n", 					"Chaincodes": null 				}, { 					"MSPID": "Org1MSP", 					"LedgerHeight": 47, 					"Endpoint": "peer1.org1.cello:7051", 					"Identity": "-----BEGIN CERTIFICATE-----\nMIICCDCCAa6gAwIBAgIRANyXi95Feb3Ydr3SXqW1puYwCgYIKoZIzj0EAwIwZzEL\nMAkGA1UEBhMCVVMxEzARBgNVBAgTCkNhbGlmb3JuaWExFjAUBgNVBAcTDVNhbiBG\ncmFuY2lzY28xEzARBgNVBAoTCm9yZzEuY2VsbG8xFjAUBgNVBAMTDWNhLm9yZzEu\nY2VsbG8wHhcNMTgwNjE5MDcwMzQyWhcNMjgwNjE2MDcwMzQyWjBVMQswCQYDVQQG\nEwJVUzETMBEGA1UECBMKQ2FsaWZvcm5pYTEWMBQGA1UEBxMNU2FuIEZyYW5jaXNj\nbzEZMBcGA1UEAxMQcGVlcjEub3JnMS5jZWxsbzBZMBMGByqGSM49AgEGCCqGSM49\nAwEHA0IABJind7UNiWtWfadPhBoPGqt1euw9UFSODxOy64QGW9TaY/ahn0/LhQ0U\nlL16zz9zzHepKhLb1C+lIl2hzOB5CCejTTBLMA4GA1UdDwEB/wQEAwIHgDAMBgNV\nHRMBAf8EAjAAMCsGA1UdIwQkMCKAIH8aE5blyDL0J29PBHh5ptHo69RFYlqj1DuU\nKn1a+wxLMAoGCCqGSM49BAMCA0gAMEUCIQDlzzd5tCfBRdwF2JS7GGqEYEb/5GxU\nU0YHRcUs5VJp3AIgJ3XdmBdlIf4ft9K35wWlmHr04OOiRIO9d/sT8xkKNtQ=\n-----END CERTIFICATE-----\n", 					"Chaincodes": null 				} 			 , 			"G1":  { 					"MSPID": "Org2MSP", 					"LedgerHeight": 47, 					"Endpoint": "peer1.org2.cello:9051", 					"Identity": "-----BEGIN CERTIFICATE-----\nMIICBzCCAa6gAwIBAgIRANZU7D63Q+HIFBU1ewx5fFMwCgYIKoZIzj0EAwIwZzEL\nMAkGA1UEBhMCVVMxEzARBgNVBAgTCkNhbGlmb3JuaWExFjAUBgNVBAcTDVNhbiBG\ncmFuY2lzY28xEzARBgNVBAoTCm9yZzIuY2VsbG8xFjAUBgNVBAMTDWNhLm9yZzIu\nY2VsbG8wHhcNMTgwNjE5MDcwMzQyWhcNMjgwNjE2MDcwMzQyWjBVMQswCQYDVQQG\nEwJVUzETMBEGA1UECBMKQ2FsaWZvcm5pYTEWMBQGA1UEBxMNU2FuIEZyYW5jaXNj\nbzEZMBcGA1UEAxMQcGVlcjEub3JnMi5jZWxsbzBZMBMGByqGSM49AgEGCCqGSM49\nAwEHA0IABJ8ENFHBEiu22KzCE3QPoAJssv8LuC4Q0IzUbxfyRuTEYz6zoQ8AB4V2\njwCH/PRWq1BMDe4fdg8MvHGonUc3TjejTTBLMA4GA1UdDwEB/wQEAwIHgDAMBgNV\nHRMBAf8EAjAAMCsGA1UdIwQkMCKAIJUP0Y5rbb7X4BB7ehfUQytWwgNp5FI1Apvi\nQPQY74rOMAoGCCqGSM49BAMCA0cAMEQCIHJ8rjCIqKUTlS+HbKpjaV4BKWHZaTV+\nJuu270uxzmTnAiB97XxOh48ybVB3fd9bW6U3lK1X89p/tzZhP/qjQdkPzA==\n-----END CERTIFICATE-----\n", 					"Chaincodes": null 				}, { 					"MSPID": "Org2MSP", 					"LedgerHeight": 47, 					"Endpoint": "peer2.org2.cello:10051", 					"Identity": "-----BEGIN CERTIFICATE-----\nMIICBjCCAa2gAwIBAgIQWi4tGw/TjhIlYCaKAumfdDAKBggqhkjOPQQDAjBnMQsw\nCQYDVQQGEwJVUzETMBEGA1UECBMKQ2FsaWZvcm5pYTEWMBQGA1UEBxMNU2FuIEZy\nYW5jaXNjbzETMBEGA1UEChMKb3JnMi5jZWxsbzEWMBQGA1UEAxMNY2Eub3JnMi5j\nZWxsbzAeFw0xODA2MTkwNzAzNDJaFw0yODA2MTYwNzAzNDJaMFUxCzAJBgNVBAYT\nAlVTMRMwEQYDVQQIEwpDYWxpZm9ybmlhMRYwFAYDVQQHEw1TYW4gRnJhbmNpc2Nv\nMRkwFwYDVQQDExBwZWVyMi5vcmcyLmNlbGxvMFkwEwYHKoZIzj0CAQYIKoZIzj0D\nAQcDQgAEiwRMDroOkEfH46TYKRPgJveAx0Fg62mGPOSC8S36jLAUCneQycDWw5gz\nwOPrKiCbLIj2p59foJAxdlmnFZTjKaNNMEswDgYDVR0PAQH/BAQDAgeAMAwGA1Ud\nEwEB/wQCMAAwKwYDVR0jBCQwIoAglQ/RjmttvtfgEHt6F9RDK1bCA2nkUjUCm+JA\n9Bjvis4wCgYIKoZIzj0EAwIDRwAwRAIgEm8XgWSqhQA0O9nNe5/X7HeYAdNOlhKl\n4m5iOff1epQCIAzInVMfH7uVLUDjQc4WTJ9dqGIMGvJsAp979aKaB5Wy\n-----END CERTIFICATE-----\n", 					"Chaincodes": null 				} 			  		}, 		"Layouts":  { 				"quantities_by_group": { 					"G0": 1, 					"G1": 1 				} 			} 		  	}    ></body> </Action>
<Action id="48832" issue="32780" author="yacovm" type="comment" created="2018-08-14 07:41:08.0" updateauthor="yacovm" updated="2018-08-14 07:41:49.0"> <body><! CDATA  ~rickr  - looks like there is only 1 layout and you need 1 of each org, so doesn't look like a peer issue ;)    ~nedoli  - thanks. We should wait for Rick to see if he has any idea what could be the problem.  ></body> </Action>
<Action id="48840" issue="32780" author="rickr" type="comment" created="2018-08-14 10:39:14.0" updateauthor="rickr" updated="2018-08-14 10:39:14.0"> <body><! CDATA Can you get the full logs from the time you initialize the channel to the discovery  zip them up .   ></body> </Action>
<Action id="48842" issue="32780" author="nedoli" type="comment" created="2018-08-14 11:16:07.0" updateauthor="nedoli" updated="2018-08-14 11:16:07.0"> <body><! CDATA I did upload. :) Thank you.  ></body> </Action>
<Action id="49149" issue="32780" author="rickr" type="comment" body=" ~nedoli  *if* I get a fix in 1.2.1-SNAPSHOT  can you test anytime soon ?" created="2018-08-21 12:17:38.0" updateauthor="rickr" updated="2018-08-21 12:17:38.0"/>
<Action id="49196" issue="32780" author="nedoli" type="comment" body=" ~rickr  where do I get snapshot? I can&apos;t find it." created="2018-08-22 00:59:29.0" updateauthor="nedoli" updated="2018-08-22 00:59:29.0"/>
<Action id="49215" issue="32780" author="rickr" type="comment" created="2018-08-22 10:07:42.0" updateauthor="rickr" updated="2018-08-22 10:07:42.0"> <body><! CDATA Not available yet.  That's why i said if    I  can't merge my own changes so the processes of getting any code in takes forever and a day   https://gerrit.hyperledger.org/r/#/c/25701/   ></body> </Action>
<Action id="49231" issue="32780" author="rickr" type="comment" body="If you&apos;re inclined you can get that gerrit patch  Download -&gt; Checkout  build and run" created="2018-08-22 13:00:53.0" updateauthor="rickr" updated="2018-08-22 13:00:53.0"/>
<Action id="49440" issue="32780" author="rickr" type="comment" created="2018-08-27 16:41:18.0" updateauthor="rickr" updated="2018-08-27 16:42:24.0"> <body><! CDATA It's published to 1.2.1-SNAPSHOT  You'll need to add to your host file any peers/orders to resolve the localhost IF you're using docker  ></body> </Action>
<Action id="49441" issue="32780" author="rickr" type="comment" created="2018-08-27 16:46:22.0" updateauthor="rickr" updated="2018-08-27 16:46:22.0"> <body><! CDATA for snapshot you need to add this to your pom.xml  <repositories> <repository> <id>snapshots-repo</id> <url>https://oss.sonatype.org/content/repositories/snapshots</url> <releases> <enabled>false</enabled> </releases> <snapshots> <enabled>true</enabled> </snapshots> </repository> </repositories>  ></body> </Action>
<Action id="50802" issue="32780" author="denyeart" type="comment" created="2018-09-19 21:37:56.0" updateauthor="denyeart" updated="2018-09-19 21:37:56.0"> <body><! CDATA Looks like it is merged in both master and release-1.2.  If something else remains, please re-open.  ></body> </Action>
