<Action id="37642" issue="26108" author="scottz" type="comment" created="2017-12-19 19:03:01.0" updateauthor="scottz" updated="2017-12-19 19:10:04.0"> <body><! CDATA Prior to the Dec 14 daily test run, something changed in fabric (maybe Yacov's update  https://gerrit.hyperledger.org/r/#/c/16191) . Looks like might be related to our tests steps.  Fails: ``` Scenario: FAB-4773: Fetching of a channel genesis block Given I have a crypto config file with 2 orgs, 2 peers, 3 orderers, and 2 users And I have a fabric config file When the crypto material is generated for TLS network And the network is bootstrapped for an orderer And the network is bootstrapped for a channel named "mychannel" And I start a fabric network   * * *  ``` and same test passes if I change the above lines to : `Given I have a bootstrapped fabric network` (which I think does not use TLS)  AND the same test passes if I use this line instead: ` Given I have a bootstrapped fabric network of type solo with tls`     The orderer panics right away when starting the network. Here are the logs:  ```2017-12-19 17:02:31.858 UTC  orderer/commmon/multichannel  newLedgerResources -> CRIT 02c Error creating channelconfig bundle: initializing channelconfig failed: could not create channel Consortiums sub-group config: setting up the MSP manager failed: the supplied identity is not valid: x509: certificate signed by unknown authority (possibly because of "x509: ECDSA verification failure" while trying to verify candidate authority certificate "ca.org1.example.com")  panic: Error creating channelconfig bundle: initializing channelconfig failed: could not create channel Consortiums sub-group config: setting up the MSP manager failed: the supplied identity is not valid: x509: certificate signed by unknown authority (possibly because of "x509: ECDSA verification failure" while trying to verify candidate authority certificate "ca.org1.example.com")  goroutine 1  running : * {{github.com/hyperledger/fabric/vendor/github.com/op/go-logging.(*Logger).Panicf(0xc4202102d0, 0xd09355, 0x27, 0xc4203af090, 0x1, 0x1)}} \{\{ /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/op/go-logging/logger.go:194 +0x134}} {{github.com/hyperledger/fabric/orderer/common/multichannel.(*Registrar).newLedgerResources(0xc42033e3f0, 0xc420296e70, 0xc420296e70)}} \{\{ /opt/gopath/src/github.com/hyperledger/fabric/orderer/common/multichannel/registrar.go:253 +0x391}} {{github.com/hyperledger/fabric/orderer/common/multichannel.NewRegistrar(0x137f300, 0xc420510420, 0xc420296d20, 0x137bb40, 0x13dfa60, 0xc420114958, 0x1, 0x1, 0x0)}} \{\{ /opt/gopath/src/github.com/hyperledger/fabric/orderer/common/multichannel/registrar.go:144 +0x352}} {{github.com/hyperledger/fabric/orderer/common/server.initializeMultichannelRegistrar(0xc42021e780, 0x137bb40, 0x13dfa60, 0xc420114958, 0x1, 0x1, 0xc420541e78)}} \{\{ /opt/gopath/src/github.com/hyperledger/fabric/orderer/common/server/main.go:253 +0x277}} {{github.com/hyperledger/fabric/orderer/common/server.Start(0xcedc1b, 0x5, 0xc42021e780)}} \{\{ /opt/gopath/src/github.com/hyperledger/fabric/orderer/common/server/main.go:95 +0x24c}} {{github.com/hyperledger/fabric/orderer/common/server.Main()}} \{\{ /opt/gopath/src/github.com/hyperledger/fabric/orderer/common/server/main.go:75 +0x120}} {{main.main()}} \{\{ /opt/gopath/src/github.com/hyperledger/fabric/orderer/main.go:15 +0x20}}```  ></body> </Action>
<Action id="38271" issue="26108" author="denyeart" type="comment" body=" ~latitiah  What&apos;s your opinion? Is there a plan for this one? If it is not High priority in the short term could you change to Medium?" created="2018-01-08 03:09:52.0" updateauthor="denyeart" updated="2018-01-08 03:09:52.0"/>
<Action id="38691" issue="26108" author="latitiah" type="comment" body="I&apos;m pretty sure I know where this problem is occurring. I&apos;ll fix it." created="2018-01-16 16:12:02.0" updateauthor="latitiah" updated="2018-01-16 16:12:02.0"/>
<Action id="38906" issue="26108" author="latitiah" type="comment" body="https://gerrit.hyperledger.org/r/#/c/16965/" created="2018-01-19 19:50:45.0" updateauthor="latitiah" updated="2018-01-19 19:50:45.0"/>
