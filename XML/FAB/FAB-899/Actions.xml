<Action id="19555" issue="13230" author="bcbrock" type="comment" body="On further analysis, the real bug here is that the timer is not being reset on the &quot;case &lt;-timer.C&quot; branch. This is required because Go timers are one-shot timers, and without this, once the timer has cut a block, the timeout will be inactive until the message-limit cuts a block, which may never occur if the client(s) stop sending messages. With timer.Reset() on this branch, the current code on the &quot;case msg := &lt;-b.batchChan&quot; should work as-is." created="2016-10-28 23:54:48.0" updateauthor="bcbrock" updated="2016-10-28 23:54:48.0"/>
<Action id="19556" issue="13230" author="kchristidis" type="comment" created="2016-10-29 17:04:59.0" updateauthor="kchristidis" updated="2016-10-29 17:04:59.0"> <body><! CDATA Thank you both for reporting and debugging this.  I pushed a fix along with the relevant tests to make sure it doesn't happen again: https://gerrit.hyperledger.org/r/#/c/2097/  ></body> </Action>
