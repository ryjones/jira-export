<Issue id="12609" key="FAB-308" number="308" project="10002" reporter="bgorman" creator="bgorman" type="10004" summary="Gradle javaenv build hangs in a proxy environment" priority="3" resolution="10000" status="6" created="2016-09-06 05:58:20.0" updated="2018-07-20 14:10:07.0" resolutiondate="2016-12-15 12:50:05.0" votes="0" watches="2" timeoriginalestimate="28800" timeestimate="28800" workflowId="36174"> <description><! CDATA Gradle does not use the system $http_proxy value. When trying to `make images` it hangs indefinitely. It would be good if we could make gradle uses the system proxy setting or at least not hang indefinitely.  Instructions to get it working with a proxy would also be appreciated. {quote} vagrant@hyperledger-devenv:v0.0.10-84431e3:/hyperledger$ echo $http_proxy http://1.2.3.4:3128/  vagrant@hyperledger-devenv:v0.0.10-84431e3:/hyperledger$ make images Building docker src-image docker build -t hyperledger/fabric-src build/image/src Sending build context to Docker daemon  11.4 MB Step 1 : FROM hyperledger/fabric-baseimage:latest ---> 656f46457a5e Step 2 : ADD gopath.tar.bz2 $GOPATH/src/github.com/hyperledger/fabric ---> 7e174a22511d Removing intermediate container 00839e52f50d Successfully built 7e174a22511d docker tag hyperledger/fabric-src hyperledger/fabric-src:x86_64-0.6.0-SNAPSHOT-0f959c0 Building build/image/ccenv/bin/protoc-gen-go Installing chaintool curl -L https://github.com/hyperledger/fabric-chaintool/releases/download/v0.9.0/chaintool > build/bin/chaintool % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current Dload  Upload   Total   Spent    Left  Speed 100   582    0   582    0     0    421      0 --:--:--  0:00:01 --:--:--   422 100 14.4M  100 14.4M    0     0   244k      0  0:01:00  0:01:00 --:--:--  286k chmod +x build/bin/chaintool Building docker ccenv-image docker build -t hyperledger/fabric-ccenv build/image/ccenv Sending build context to Docker daemon 20.45 MB Step 1 : FROM hyperledger/fabric-src:x86_64-0.6.0-SNAPSHOT-0f959c0 ---> 7e174a22511d Step 2 : COPY bin/* /usr/local/bin/ ---> 3093df9a8aba Removing intermediate container 26485d45c249 Successfully built 3093df9a8aba docker tag hyperledger/fabric-ccenv hyperledger/fabric-ccenv:x86_64-0.6.0-SNAPSHOT-0f959c0 Building build/docker/bin/peer Building docker javaenv-image # Following items are packed and sent to docker context while building image # 1. Java shim layer source code # 2. Proto files used to generate java classes # 3. Gradle settings file docker build -t hyperledger/fabric-javaenv build/image/javaenv Sending build context to Docker daemon 37.89 kB Step 1 : FROM java:openjdk-8 ---> ea40c858f006 Step 2 : RUN wget https://services.gradle.org/distributions/gradle-2.12-bin.zip -P /tmp --quiet ---> Running in d52f1b73ff1e << hang for 30+ minutes >> ^Cmake: ***  build/image/javaenv/.dummy  Interrupt {quote}  ></description> </Issue>
