<Issue id="46364" key="FAB-18355" number="18355" project="10002" reporter="JIRAUSER19929" creator="JIRAUSER19929" type="10004" summary="Composite Key Problems for range queries and CouchDB Web GUI" priority="3" resolution="10002" status="6" created="2020-11-30 16:58:01.0" updated="2021-01-11 08:50:11.0" resolutiondate="2021-01-11 06:53:35.0" votes="0" watches="2" workflowId="60297" archived="N"> <description><! CDATA I'm developing chaincode for Hyperledger Fabric 2.2.  In my Node.js chaincode code I create a composite key as follows:  {{_let key = ctx.stub.createCompositeKey(vendor, "entry", coilID, posMarkierung, elem "Time"  );_}}  Afterwards, I put the data in a private data collection {{_await ctx.stub.putPrivateData(collection, key, Buffer.from(JSON.stringify(....)));_}} *Problem #1*  According to the documentation to access all the data with ranged queries one has to specify empty strings for startKey and endKey. Specifying empty strings for entries with composite keys ignores these entries. In my case the whole private collection is made with composite keys and the following query delivers empty iterator:  {{_let privateDataIterator = await ctx.stub.getPrivateDataByRange(collection, "", "");_}}  _To avoid this one has to assign startKey="\u0000"._  *Problem #2*  CouchDB data in Web GUI looks like the following:   !CompositeKeyEntries.PNG!  This is already a possible hint why ranged queries do not work according to the present documentation. When I click this or similar entry to see the contents, I get the following error:  !CompositeKeyEntries2.PNG!  Entries with keys made of "normal", not u0000 readable characters can be accessed.   To reproduce the bug: * create composite key with {{_ctx.stub.createCompositeKey_}} * put private state with the created key using {{_ctx.stub.putPrivateData_}} * try to query it with {{ctx.stub.{{_getPrivateDataByRange_}}}} * try to access this entry via CouchDB GUI  Expected behaviour: * documentation should say that instead of "" "\u0000" should be used for composite keys * CouchDB GUI should be able to access the data with composite keys  ></description> </Issue>
