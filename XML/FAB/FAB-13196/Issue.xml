<Issue id="36005" key="FAB-13196" number="13196" project="10002" reporter="denyeart" assignee="denyeart" creator="denyeart" type="10002" summary="Make Fabric compatible with CouchDB 2.3" priority="3" resolution="10000" status="6" created="2018-12-08 13:11:25.0" updated="2019-12-13 15:01:05.0" resolutiondate="2019-03-21 11:03:13.0" votes="0" watches="1" workflowId="47512"> <description><! CDATA From fabric-peer-endorser-committer channel, it is reported that upgrading to CouchDB 2.3 will cause an error: {code:java} Error during CouchDB CreateDatabaseIfNotExist() for system dbName: _users  error: json: cannot unmarshal string into Go struct field DBInfo.purge_seq of type int {code} couchdb has changed the data type in response for `CreateDatabaseIfNotExist()` check from purge_seq of int to string, while couchdb client expects int. This is a bug opened against CouchDB:  https://github.com/apache/couchdb/issues/1809.   Â Also seeing: {code:java} 2019-02-22 13:10:21.619 IST  couchdb  CreateSystemDatabasesIfNotExist -> ERRO 062 Error calling CouchDB CreateDatabaseIfNotExist() for system dbName: _users, error: error decoding response body: json: cannot unmarshal number into Go struct field DBInfo.update_seq of type string {code} Fabric will need to make a code change to tolerate the CouchDB change. Since Fabric doesn't use purge_seq or update_seq (which have changed in couchdb 2.3), Fabric will make a change to simply disregard these two fields.  ></description> </Issue>
