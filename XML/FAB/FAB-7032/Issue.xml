<Issue id="24015" key="FAB-7032" number="7032" project="10002" reporter="heidecke" creator="heidecke" type="10004" summary="Zookeeper Docker image build fails with 404 not found" priority="3" resolution="10000" status="6" created="2017-11-19 07:13:31.0" updated="2018-07-20 14:14:58.0" resolutiondate="2017-11-22 21:50:16.0" votes="0" watches="3" workflowId="40534"> <description><! CDATA    During `make docker`, the zookeeper-image build fails on the URL: http://www.apache.org/dist/zookeeper/zookeeper-3.4.9/zookeeper-3.4.9.tar.gz h3. Build output:    {code:java} Building docker zookeeper-image docker build -t hyperledger/fabric-zookeeper build/image/zookeeper Sending build context to Docker daemon 5.12kB Step 1/15 : FROM hyperledger/fabric-baseimage:x86_64-0.3.2 ---> c92d9fdee998 Step 2/15 : RUN set -x && git clone https://github.com/ncopa/su-exec /tmp/su-exec/ && cd /tmp/su-exec && make all && cp su-exec /usr/bin/ ---> Using cache ---> a583cfddad19 Step 3/15 : ENV ZOO_USER zookeeper ZOO_CONF_DIR /conf ZOO_DATA_DIR /data ZOO_DATA_LOG_DIR /datalog ZOO_PORT 2181 ZOO_TICK_TIME 2000 ZOO_INIT_LIMIT 5 ZOO_SYNC_LIMIT 2 ---> Using cache ---> e9dced9d482a Step 4/15 : RUN set -x && useradd "$ZOO_USER" && mkdir -p "$ZOO_DATA_LOG_DIR" "$ZOO_DATA_DIR" "$ZOO_CONF_DIR" && chown "$ZOO_USER:$ZOO_USER" "$ZOO_DATA_LOG_DIR" "$ZOO_DATA_DIR" "$ZOO_CONF_DIR" ---> Using cache ---> 555456f0fb0b Step 5/15 : ARG GPG_KEY=C823E3E5B12AF29C67F81976F5CECB3CB5E9BD2D ---> Using cache ---> b05481797101 Step 6/15 : ARG DISTRO_NAME=zookeeper-3.4.9 ---> Using cache ---> 8373de16542c Step 7/15 : RUN set -x && cd / && curl -fsSL "http://www.apache.org/dist/zookeeper/$DISTRO_NAME/$DISTRO_NAME.tar.gz" | tar -xz && mv "$DISTRO_NAME/conf/"* "$ZOO_CONF_DIR" ---> Running in 44864cbb5bf6 + cd / + curl -fsSL http://www.apache.org/dist/zookeeper/zookeeper-3.4.9/zookeeper-3.4.9.tar.gz + tar -xz curl: (22) The requested URL returned error: 404 Not Found  gzip: stdin: unexpected end of file tar: Child returned status 1 tar: Error is not recoverable: exiting now The command '/bin/sh -c set -x && cd / && curl -fsSL "http://www.apache.org/dist/zookeeper/$DISTRO_NAME/$DISTRO_NAME.tar.gz" | tar -xz && mv "$DISTRO_NAME/conf/"* "$ZOO_CONF_DIR"' returned a non-zero code: 2 Makefile:285: recipe for target 'build/image/zookeeper/.dummy-x86_64-1.1.0-preview' failed make: ***  build/image/zookeeper/.dummy-x86_64-1.1.0-preview  Error 2 {code}    ></description> </Issue>
