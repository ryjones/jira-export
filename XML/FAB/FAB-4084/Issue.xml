<Issue id="16972" key="FAB-4084" number="4084" project="10002" reporter="kchristidis" creator="kchristidis" type="10002" summary="Identify duration for leader-related processes in Kafka/Zookeeper" priority="3" resolution="10000" status="6" created="2017-05-22 00:54:21.0" updated="2018-07-20 14:12:53.0" resolutiondate="2017-06-05 04:46:08.0" votes="0" watches="1" workflowId="38623" security="10001"> <description><! CDATA Assume the sample network defined in `bddtests/dc-orderer-kafka.yml` (see FAB-3387) augmented by two more Zookeeper nodes. So consider a 3-node Zookeeper ensemble and a 5-broker Kafka cluster.  For the Zookeeper ensemble: # How long till the ZK ensemble is bootstrapped and a leader is elected? # If the leader is disconnected/crashes, how long till a new leader is elected? # Which Zookeeper settings affect the above? How?  For the Kafka cluster, _assuming the ZK ensemble is already setup_: # How long till the Kafka cluster is bootstrapped and a controller is elected? # Assuming the current controller is disconnected/crashes, how long till a new controller is elected? # Assuming for simplicity that this controller was also the leader of a partition, how long till partition gets assigned to a new leader? # Which Kafka/Zookeeper settings affect these above? How?  All of the resultsÂ above depend on hardware/network configurations. I'm fine with any setup/combo as long as it's identified. Some care to avoid statistical errors when collecting measurements would be nice to have.  The answer in all of the above questions will help us: # Come up with sensible defaults in our bddtests/dc-* Docker Compose configuration files # Identify the right frequency/timeout values to be used in the OSN-Kafka retry logic that needs to be added (will be adding a JIRA for this and link this here)  ></description> </Issue>
