<Issue id="31311" key="FAB-10822" number="10822" project="10002" reporter="jyellick" assignee="jyellick" creator="jyellick" type="10002" summary="Platforms packages packages hygiene items" priority="3" resolution="10000" status="6" created="2018-06-22 17:31:29.0" updated="2018-07-26 03:41:18.0" resolutiondate="2018-07-26 03:41:18.0" votes="0" watches="1" workflowId="42823"> <description><! CDATA The core/chaincode/platforms package has been constructed with a number of go anti-patterns and has not generally maintained.  Most obviously, the platforms package uses package level accessors, and holds package level state.  As a consequence it hides many dependencies in a latent fashion, and seemingly innocent calls like {{utils.GetChaincodeDeploymentSpec}} which would seem likely to only unmarshal the protobuf, actually end up performing signficant other validation dependent on the platforms in the system.  Secondly, the platforms packages all depend on legacy v0.5/v0.6 protobufs to pass state around.  These protobufs are often partially populated, or contain many more fields than the assorted platform functions need.  This is a barrier to refactoring code or inroducing new data structure (such as the ones needed for the new lifecycle) and so references to the chaincode protobufs should be removed.  ></description> </Issue>
