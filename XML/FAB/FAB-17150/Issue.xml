<Issue id="43464" key="FAB-17150" number="17150" project="10002" reporter="sykesm" assignee="tatsu-sato" creator="sykesm" type="10004" summary="cscc/configure_test does not clean up temporary directories" priority="3" resolution="10000" status="6" created="2019-11-26 16:06:32.0" updated="2020-05-18 22:04:29.0" resolutiondate="2020-05-18 22:04:29.0" votes="0" watches="3" workflowId="56578"> <description><! CDATA My tmpfs filled up today. When I listed the directories, there were several entries that looked like these: {code} drwx------   9 sykesm sykesm  4096 Oct 24 15:26 cscc_test058567791 drwx------   9 sykesm sykesm  4096 Jul 30 15:50 cscc_test064949782 drwx------   8 sykesm sykesm  4096 Jul 24 13:19 cscc_test078554342 drwx------   9 sykesm sykesm  4096 Nov 14 15:26 cscc_test086041472 drwx------   9 sykesm sykesm  4096 Oct 31 19:04 cscc_test153886881 drwx------   8 sykesm sykesm  4096 Jul 16 15:10 cscc_test181473078 drwx------   9 sykesm sykesm  4096 Aug 12 19:27 cscc_test196755407 drwx------   9 sykesm sykesm  4096 Nov  6 16:49 cscc_test204226513 drwx------   9 sykesm sykesm  4096 Oct 14 18:09 cscc_test262909633 drwx------   9 sykesm sykesm  4096 Oct 24 13:58 cscc_test264855044 drwx------   9 sykesm sykesm  4096 Oct 24 13:26 cscc_test308657220 drwx------   9 sykesm sykesm  4096 Aug  6 18:10 cscc_test312287942 drwx------   9 sykesm sykesm  4096 Nov 19 11:19 cscc_test398739912 drwx------   9 sykesm sykesm  4096 Nov  5 20:04 cscc_test411452435 drwx------   9 sykesm sykesm  4096 Nov 22 22:01 cscc_test499988328 drwx------   9 sykesm sykesm  4096 Nov  2 00:29 cscc_test516473353 drwx------   9 sykesm sykesm  4096 Aug  5 17:41 cscc_test571248380 drwx------   9 sykesm sykesm  4096 Nov 21 12:10 cscc_test666870802 drwx------   9 sykesm sykesm  4096 Nov 12 14:27 cscc_test721214527 drwx------   9 sykesm sykesm  4096 Sep 11 13:22 cscc_test849963017 drwx------   9 sykesm sykesm  4096 Nov  5 18:49 cscc_test894630645 drwx------   9 sykesm sykesm  4096 Oct 28 19:34 cscc_test951707059 {code}  It appears these are temporary directories created in the following code block: {code} func TestConfigerInvokeJoinChainCorrectParams(t *testing.T) { 	viper.Set("chaincode.executetimeout", "3s")  	testDir, err := ioutil.TempDir("", "cscc_test") 	require.NoError(t, err, "error in creating test dir") 	defer os.Remove(testDir) {code}  Notice that {{os.Remove}} is used; this is not the correct function to use. Since we're dealing with a directory, we should be using {{os.RemoveAll}}.  When I looked inside the directories, I saw a number of directories and files that looked related to the ledger.  ></description> </Issue>
