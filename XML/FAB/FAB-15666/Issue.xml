<Issue id="40488" key="FAB-15666" number="15666" project="10002" reporter="mrshah-ibm" assignee="dereckluo" creator="mrshah-ibm" type="10004" summary="Image build options does not use network config passed in peer&apos;s config" priority="2" resolution="10000" status="6" created="2019-06-09 14:26:17.0" updated="2019-10-04 17:35:25.0" resolutiondate="2019-06-21 17:28:32.0" votes="0" watches="5" workflowId="53442"> <description><! CDATA We use custom network bridge or host network option for our docker daemon as the default bridge network has some issue installing npm packages.     When we set the `networkmode` to `host` in peer's config, the Image build still uses the default bridge network to build the image. Thus, it fails.     Solution:  `NetworkMode` should be passed to the BuildImageOptions at  https://github.com/hyperledger/fabric/blob/a68166c2bb70a7f70693e727bf36a3f692b6fe78/core/container/dockercontroller/dockercontroller.go#L204   similar to   https://github.com/hyperledger/fabric/blob/a68166c2bb70a7f70693e727bf36a3f692b6fe78/core/container/dockercontroller/dockercontroller.go#L138-L142   ></description> </Issue>
