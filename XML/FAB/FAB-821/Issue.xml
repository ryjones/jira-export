<Issue id="13126" key="FAB-821" number="821" project="10002" reporter="kchristidis" creator="kchristidis" type="10002" summary="Size broadcaster&apos;s batchChan appropriately" priority="3" resolution="10000" status="6" created="2016-10-22 16:51:13.0" updated="2018-07-20 14:10:34.0" resolutiondate="2016-11-23 15:35:00.0" votes="0" watches="1" workflowId="36533"> <description><! CDATA See https://gerrit.hyperledger.org/r/#/c/1627/3/orderer/kafka/broadcast.go@50 and  ~bcbrock 's comment for details.  batchChan is the buffered channel where the broadcaster part of the Kafka shim holds incoming messages until it's time to cut a new block. In the current solo-like implementation, setting the number of elements of this buffer equal to the number of messages a block is expected to have is short-sighted.  We are now moving towards a model where the shim just relays each message to the broker as it receives it, so the original problem goes away, but we should still come up with an appropriate capacity for this.  Do we expose this as a configuration parameter with a sensible default and call it a day? (And what makes for a sensible default?)  ></description> </Issue>
