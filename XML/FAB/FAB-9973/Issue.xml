<Issue id="30062" key="FAB-9973" number="9973" project="10002" reporter="scottz" assignee="mastersingh24" creator="scottz" type="10004" summary="installing chaincode, confusing err msg and incorrect chaincode name" priority="3" resolution="10000" status="6" created="2018-05-09 13:07:43.0" updated="2018-07-20 14:16:36.0" resolutiondate="2018-05-13 12:54:26.0" votes="0" watches="2" workflowId="42124"> <description><! CDATA Bad error message: Error: Error getting chaincode code chaincode: path to chaincode does not exist: /opt/gopath/src/github.com/hyperledger/fabric/examples/chaincode/go/chaincode_example02\n', 'peer0.org1.example.com': 'Error occurred  In this scenario, we simply try to bring up a network and install the "chaincode_example02" golang chaincode, but alas it does not exist. Currently in fabric there is a directory name .../fabric/examples/chaincode/go/example02 (i.e. example02, not chaincode_example02). So we get an error message when trying to install. That is expected, based on the input data. The error message appears to print out the correct path that we provided, HOWEVER it seems to print a BAD chainFuncName = "chaincode",  possibly twice, which appears wrong and makes this a very confusing error message.  Error: Error getting chaincode code *chaincode*: path to *chaincode* does not exist: ...     Question:  Could there be a problem because of the underscore in the pathname??? I know the pathname is not accurate, but the error msg is not accurate either. What is meant by "Error getting {color:#ff0000}chaincode code chaincode{color}" ???     EXPECTATIONS: The error message would be more clear, for example, if it would say "Error getting {color:#ff0000}chaincode named chaincode_example02{color}"     To reproduce:  Follow setup instructions in the Readme file in the directory $GOPATH/src/github.com/hyperledger/fabric-test/feature, and run the basic behave test in the bootstrap.feature file "behave -k -t smoke bootstrap.feature"  Here is a link to a full console from a verify job (fabric-test smoke test suite) with the full logs:  https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/1212/consoleFull   Below is an excerpt of the test logs: *00:16:23*   @smoke*00:16:23*   Scenario: Basic operations to create a useful blockchain network  # bootstrap.feature:71*00:16:23*     Given I have a bootstrapped fabric network                      # steps/basic_impl.py:178*00:16:23* org1.example.com*00:16:23* org2.example.com*00:16:24* 2018-05-09 00:16:24.033 UTC  common/tools/configtxgen  main -> WARN 001 Omitting the channel ID for configtxgen is deprecated.  Explicitly passing the channel ID will be required in the future, defaulting to 'testchainid'.*00:16:24* 2018-05-09 00:16:24.033 UTC  common/tools/configtxgen  main -> INFO 002 Loading configuration*00:16:24* 2018-05-09 00:16:24.132 UTC  common/tools/configtxgen/encoder  NewChannelGroup -> WARN 003 Default policy emission is deprecated, please include policy specificiations for the channel group in configtx.yaml*00:16:24* 2018-05-09 00:16:24.133 UTC  common/tools/configtxgen/encoder  NewOrdererGroup -> WARN 004 Default policy emission is deprecated, please include policy specificiations for the orderer group in configtx.yaml*00:16:24* 2018-05-09 00:16:24.135 UTC  common/tools/configtxgen/encoder  NewOrdererOrgGroup -> WARN 005 Default policy emission is deprecated, please include policy specificiations for the orderer org group ExampleCom in configtx.yaml*00:16:24* 2018-05-09 00:16:24.137 UTC  common/tools/configtxgen/encoder  NewOrdererOrgGroup -> WARN 006 Default policy emission is deprecated, please include policy specificiations for the orderer org group Org1ExampleCom in configtx.yaml*00:16:24* 2018-05-09 00:16:24.138 UTC  common/tools/configtxgen/encoder  NewOrdererOrgGroup -> WARN 007 Default policy emission is deprecated, please include policy specificiations for the orderer org group Org2ExampleCom in configtx.yaml*00:16:24* 2018-05-09 00:16:24.138 UTC  common/tools/configtxgen  doOutputBlock -> INFO 008 Generating genesis block*00:16:24* 2018-05-09 00:16:24.139 UTC  common/tools/configtxgen  doOutputBlock -> INFO 009 Writing genesis block*00:16:24* 2018-05-09 00:16:24.236 UTC  common/tools/configtxgen  main -> WARN 001 Omitting the channel ID for configtxgen is deprecated.  Explicitly passing the channel ID will be required in the future, defaulting to 'testchainid'.*00:16:24* 2018-05-09 00:16:24.236 UTC  common/tools/configtxgen  main -> INFO 002 Loading configuration*00:16:24* 2018-05-09 00:16:24.334 UTC  common/tools/configtxgen  doOutputChannelCreateTx -> INFO 003 Generating new channel configtx*00:16:24* 2018-05-09 00:16:24.334 UTC  common/tools/configtxgen/encoder  NewApplicationGroup -> WARN 004 Default policy emission is deprecated, please include policy specificiations for the application group in configtx.yaml*00:16:24* 2018-05-09 00:16:24.336 UTC  common/tools/configtxgen/encoder  NewApplicationOrgGroup -> WARN 005 Default policy emission is deprecated, please include policy specificiations for the application org group Org1ExampleCom in configtx.yaml*00:16:24* 2018-05-09 00:16:24.338 UTC  common/tools/configtxgen/encoder  NewApplicationOrgGroup -> WARN 006 Default policy emission is deprecated, please include policy specificiations for the application org group Org2ExampleCom in configtx.yaml*00:16:24* 2018-05-09 00:16:24.340 UTC  common/tools/configtxgen  doOutputChannelCreateTx -> INFO 007 Writing new channel tx*00:16:24* 2018-05-09 00:16:24.435 UTC  common/tools/configtxgen  main -> WARN 001 Omitting the channel ID for configtxgen is deprecated.  Explicitly passing the channel ID will be required in the future, defaulting to 'testchainid'.*00:16:24* 2018-05-09 00:16:24.435 UTC  common/tools/configtxgen  main -> INFO 002 Loading configuration*00:16:24* 2018-05-09 00:16:24.536 UTC  common/tools/configtxgen  doOutputAnchorPeersUpdate -> INFO 003 Generating anchor peer update*00:16:24* 2018-05-09 00:16:24.536 UTC  common/tools/configtxgen  doOutputAnchorPeersUpdate -> INFO 004 Writing anchor peer update*00:16:24* 2018-05-09 00:16:24.627 UTC  common/tools/configtxgen  main -> WARN 001 Omitting the channel ID for configtxgen is deprecated.  Explicitly passing the channel ID will be required in the future, defaulting to 'testchainid'.*00:16:24* 2018-05-09 00:16:24.627 UTC  common/tools/configtxgen  main -> INFO 002 Loading configuration*00:16:24* 2018-05-09 00:16:24.724 UTC  common/tools/configtxgen  doOutputAnchorPeersUpdate -> INFO 003 Generating anchor peer update*00:16:24* 2018-05-09 00:16:24.724 UTC  common/tools/configtxgen  doOutputAnchorPeersUpdate -> INFO 004 Writing anchor peer update*00:16:38* 2018-05-09 00:16:29.901 UTC  nodeCmd  func9 -> INFO 116 Starting profiling server with listenAddress = 0.0.0.0:6060*00:16:38* 2018-05-09 00:16:30.988 UTC  nodeCmd  func9 -> INFO 12e Starting profiling server with listenAddress = 0.0.0.0:6060*00:16:38* 2018-05-09 00:16:30.902 UTC  nodeCmd  func9 -> INFO 116 Starting profiling server with listenAddress = 0.0.0.0:6060*00:16:39* 2018-05-09 00:16:31.855 UTC  nodeCmd  func9 -> INFO 12b Starting profiling server with listenAddress = 0.0.0.0:6060*00:16:41* 2018-05-09 00:16:29.901 UTC  nodeCmd  func9 -> INFO 116 Starting profiling server with listenAddress = 0.0.0.0:6060*00:16:41* 2018-05-09 00:16:30.988 UTC  nodeCmd  func9 -> INFO 12e Starting profiling server with listenAddress = 0.0.0.0:6060*00:16:41* 2018-05-09 00:16:30.902 UTC  nodeCmd  func9 -> INFO 116 Starting profiling server with listenAddress = 0.0.0.0:6060*00:16:41* 2018-05-09 00:16:31.855 UTC  nodeCmd  func9 -> INFO 12b Starting profiling server with listenAddress = 0.0.0.0:6060*00:16:46*     When a user sets up a channel                                   # steps/endorser_impl.py:49*00:16:46* 2018-05-09 00:16:46.778 UTC  common/tools/configtxgen  main -> WARN 001 Omitting the channel ID for configtxgen is deprecated.  Explicitly passing the channel ID will be required in the future, defaulting to 'testchainid'.*00:16:46* 2018-05-09 00:16:46.778 UTC  common/tools/configtxgen  main -> INFO 002 Loading configuration*00:16:46* 2018-05-09 00:16:46.887 UTC  common/tools/configtxgen  doOutputChannelCreateTx -> INFO 003 Generating new channel configtx*00:16:46* 2018-05-09 00:16:46.887 UTC  common/tools/configtxgen/encoder  NewApplicationGroup -> WARN 004 Default policy emission is deprecated, please include policy specificiations for the application group in configtx.yaml*00:16:46* 2018-05-09 00:16:46.890 UTC  common/tools/configtxgen/encoder  NewApplicationOrgGroup -> WARN 005 Default policy emission is deprecated, please include policy specificiations for the application org group Org1ExampleCom in configtx.yaml*00:16:46* 2018-05-09 00:16:46.892 UTC  common/tools/configtxgen/encoder  NewApplicationOrgGroup -> WARN 006 Default policy emission is deprecated, please include policy specificiations for the application org group Org2ExampleCom in configtx.yaml*00:16:46* 2018-05-09 00:16:46.895 UTC  common/tools/configtxgen  doOutputChannelCreateTx -> INFO 007 Writing new channel tx*00:17:27*     And a user deploys chaincode                                    # steps/endorser_impl.py:231*00:22:46*       Assertion Failed: The expected chaincode container 34f9290c531e11e8b13bfa163e01c9e7-peer0.org1.example.com-mycc-0 is not running*00:22:46*       Captured stdout:*00:22:46*       testConfigs: configs/34f9290c531e11e8b13bfa163e01c9e7*00:22:46*        /bin/bash -c "CORE_PEER_MSPCONFIGPATH=/var/hyperledger/configs/34f9290c531e11e8b13bfa163e01c9e7/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp CORE_PEER_LOCALMSPID=org1.example.com CORE_PEER_ID=peer0.org1.example.com CORE_PEER_ADDRESS=peer0.org1.example.com:7051 peer channel create --file /var/hyperledger/configs/34f9290c531e11e8b13bfa163e01c9e7/behavesystest.tx --channelID behavesystest --timeout 300 --orderer orderer0.example.com:7050 " : \{'cli': ''}*00:22:46*        /bin/bash -c "CORE_PEER_MSPCONFIGPATH=/var/hyperledger/configs/34f9290c531e11e8b13bfa163e01c9e7/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp peer channel fetch config /var/hyperledger/configs/34f9290c531e11e8b13bfa163e01c9e7/behavesystest.block --channelID behavesystest --orderer orderer0.example.com:7050 " : \{'peer1.org2.example.com': ''}*00:22:46*        /bin/bash -c "CORE_PEER_MSPCONFIGPATH=/var/hyperledger/configs/34f9290c531e11e8b13bfa163e01c9e7/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp CORE_PEER_LOCALMSPID=org2.example.com CORE_PEER_ID=peer1.org2.example.com CORE_PEER_ADDRESS=peer1.org2.example.com:7051 peer channel join --blockpath /var/hyperledger/configs/34f9290c531e11e8b13bfa163e01c9e7/behavesystest.block" : *00:22:46*        /bin/bash -c "CORE_PEER_MSPCONFIGPATH=/var/hyperledger/configs/34f9290c531e11e8b13bfa163e01c9e7/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp CORE_PEER_LOCALMSPID=org2.example.com CORE_PEER_ID=peer1.org2.example.com CORE_PEER_ADDRESS=peer1.org2.example.com:7051 peer chaincode install --name mycc --lang GOLANG --version 0 --path github.com/hyperledger/fabric/examples/chaincode/go/chaincode_example02 --orderer orderer0.example.com:7050 " : \{'peer1.org2.example.com': 'Error occurred  \'docker exec cli /bin/bash -c "CORE_PEER_MSPCONFIGPATH=/var/hyperledger/configs/34f9290c531e11e8b13bfa163e01c9e7/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp CORE_PEER_LOCALMSPID=org2.example.com CORE_PEER_ID=peer1.org2.example.com CORE_PEER_ADDRESS=peer1.org2.example.com:7051 peer chaincode install --name mycc --lang GOLANG --version 0 --path github.com/hyperledger/fabric/examples/chaincode/go/chaincode_example02 --orderer orderer0.example.com:7050 "\' : \x1b 36m2018-05-09 00:17:40.187 UTC  grpc  Printf -> DEBU 001\x1b 0m parsed scheme: ""\n\x1b 36m2018-05-09 00:17:40.187 UTC  grpc  Printf -> DEBU 002\x1b 0m scheme "" not registered, fallback to default scheme\n\x1b 36m2018-05-09 00:17:40.187 UTC  grpc  Printf -> DEBU 003\x1b 0m ccResolverWrapper: sending new addresses to cc:  \{peer1.org2.example.com:7051 0  <nil>} \n\x1b 36m2018-05-09 00:17:40.188 UTC  grpc  Printf -> DEBU 004\x1b 0m ClientConn switching balancer to "pick_first"\n\x1b 36m2018-05-09 00:17:40.188 UTC  grpc  Printf -> DEBU 005\x1b 0m pickfirstBalancer: HandleSubConnStateChange: 0xc4205ca190, CONNECTING\n\x1b 36m2018-05-09 00:17:40.192 UTC  grpc  Printf -> DEBU 006\x1b 0m pickfirstBalancer: HandleSubConnStateChange: 0xc4205ca190, READY\n\x1b 36m2018-05-09 00:17:40.192 UTC  msp  GetDefaultSigningIdentity -> DEBU 007\x1b 0m Obtaining default signing identity\n2018-05-09 00:17:40.193 UTC  chaincodeCmd  checkChaincodeCmdParams -> INFO 008\x1b 0m Using default escc\n2018-05-09 00:17:40.193 UTC  chaincodeCmd  checkChaincodeCmdParams -> INFO 009\x1b 0m Using default vscc\n\x1b 36m2018-05-09 00:17:40.193 UTC  chaincodeCmd  getChaincodeSpec -> DEBU 00a\x1b 0m java chaincode enabled\nError: Error getting chaincode code chaincode: path to chaincode does not exist: /opt/gopath/src/github.com/hyperledger/fabric/examples/chaincode/go/chaincode_example02\n', 'peer0.org1.example.com': 'Error occurred ...       ></description> </Issue>
