<Action id="49011" issue="33004" author="denyeart" type="comment" created="2018-08-17 11:30:21.0" updateauthor="denyeart" updated="2018-08-17 11:30:21.0"> <body><! CDATA  ~HellBoy_23  Do you see an error message, or does the peer panic and shut down?  Please paste the error/panic message. Which database are you using?  ></body> </Action>
<Action id="49074" issue="33004" author="hellboy_23" type="comment" created="2018-08-20 06:46:14.0" updateauthor="hellboy_23" updated="2018-08-20 06:46:14.0"> <body><! CDATA  ~denyeart  Iam using the default database.The error i got is:  panic: runtime error: invalid memory address or nil pointer dereference panic: runtime error: invalid memory address or nil pointer dereference  signal SIGSEGV: segmentation violation code=0x1 addr=0x30 pc=0x8e55a6   goroutine 42  running : github.com/hyperledger/fabric/core/chaincode/shim.(*Handler).triggerNextState(0xc42007ade0, 0x0, 0xc420084c60) /opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/shim/handler.go:35 +0x26 github.com/hyperledger/fabric/core/chaincode/shim.(*Handler).handleTransaction.func1.1(0xc42007ade0, 0xc4206e1ec8, 0xc420084c60) /opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/shim/handler.go:247 +0x42 panic(0xa71400, 0x10a9c50) /opt/go/src/runtime/panic.go:505 +0x229 main.(*SimpleChaincode).getAllData(0x111b058, 0xc420035c66, 0x4, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0) /chaincode/input/src/chain197/example_cc.go:328 +0x11d main.(*SimpleChaincode).STORE_197(0x111b058, 0xbb5660, 0xc4201b6dc0, 0xc420030520, 0x8, 0x8, 0x0, 0x0, 0x0, 0x0, ...) /chaincode/input/src/chain197/example_cc.go:242 +0x15f3 main.(*SimpleChaincode).Invoke(0x111b058, 0xbb5660, 0xc4201b6dc0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0) /chaincode/input/src/chain197/example_cc.go:69 +0x610 github.com/hyperledger/fabric/core/chaincode/shim.(*Handler).handleTransaction.func1(0xc42007ade0, 0xc420084c60, 0xc4206f2000) /opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/shim/handler.go:273 +0x4f9 created by github.com/hyperledger/fabric/core/chaincode/shim.(*Handler).handleTransaction /opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/shim/handler.go:242 +0x53  ></body> </Action>
<Action id="49980" issue="33004" author="denyeart" type="comment" body=" ~manish-sethi  Can you take a look?" created="2018-09-06 12:11:44.0" updateauthor="denyeart" updated="2018-09-06 12:11:44.0"/>
<Action id="49981" issue="33004" author="denyeart" type="comment" body=" ~Tony12345  I just noticed that you are assigned.  Are you working on this one?" created="2018-09-06 12:12:22.0" updateauthor="denyeart" updated="2018-09-06 12:12:22.0"/>
<Action id="50011" issue="33004" author="manish-sethi" type="comment" created="2018-09-06 14:47:37.0" updateauthor="manish-sethi" updated="2018-09-06 14:47:37.0"> <body><! CDATA The issue is not an empty state. Most likely, following is happening  In the call `GetPrivateDataByRange(collection, "", "") `, the collection that is being passed not defined in the collection configuration. In this case, ledger will return a `nil` iterator and an error \{"collection  ...  not defined in the collection config for chaincode  ... "}.  Chaincode handler not checking for error or passing on to the chaincode and end up accessing the `nil` iterator on the Next call   ~sykesm  - can you look at this in the chaincode handler.  ></body> </Action>
<Action id="50032" issue="33004" author="sykesm" type="comment" created="2018-09-06 17:28:01.0" updateauthor="sykesm" updated="2018-09-06 17:28:30.0"> <body><! CDATA If this is the code you're using, I'm pretty sure you're dereferencing a nil stub:  var stub1 shim.ChaincodeStubInterface //----------> The below line throws panic as the state is empty <----------  resultsIterator, err := stub1.GetPrivateDataByRange(collection, "", "")  if resultsIterator != nil {  Your stub is uninitialized.  If this isn't the code, please attach the logs.  ></body> </Action>
<Action id="50034" issue="33004" author="sykesm" type="comment" created="2018-09-06 17:31:27.0" updateauthor="sykesm" updated="2018-09-06 17:31:27.0"> <body><! CDATA Correction:  If this *is* the code, please fix the code. If this *isn't* the code, please attach logs.  ></body> </Action>
<Action id="54322" issue="33004" author="sykesm" type="comment" created="2018-12-04 21:23:14.0" updateauthor="sykesm" updated="2018-12-04 21:23:14.0"> <body><! CDATA Appears to be a chaincode implementation issue. No updates so closing.  If you continue to have problems, please update the issue.  Thanks.  ></body> </Action>
