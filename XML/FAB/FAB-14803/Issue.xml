<Issue id="38448" key="FAB-14803" number="14803" project="10002" reporter="sejalpawar" creator="sejalpawar" type="10004" summary="Only peer nodes fail to startup if machine is rebooted while byfn network is running" priority="2" resolution="10002" status="6" created="2019-03-14 07:06:04.0" updated="2019-04-23 22:15:23.0" resolutiondate="2019-04-23 22:15:23.0" votes="0" watches="3" workflowId="50091"> <description><! CDATA I have a hyperledger fabric network running on a single AWS instance using the default byfn script.  ERROR: Orderer, cli, CA docker containers show "Up" status. Peers show "Exited" status.  Error occurs when: # Byfn network is running, machine is rebooted (not in my control but because of some external reason). # Network is left running overnight without shutting the machine. Shows same status next morning.  Error shown: {noformat} docker ps -a CONTAINER ID        IMAGE                               COMMAND             CREATED             STATUS                         PORTS                    NAMES e69e2a7bcc34        hyperledger/fabric-tools:latest     "/bin/bash"         About an hour ago   Up About an hour                                        cli c86d2388c9fb        hyperledger/fabric-peer:latest      "peer node start"   About an hour ago   Exited (2) About an hour ago                            peer0.org1.example.com 23c3c8333bc4        hyperledger/fabric-peer:latest      "peer node start"   About an hour ago   Exited (2) About an hour ago                            peer0.org2.example.com b9161e211260        hyperledger/fabric-peer:latest      "peer node start"   About an hour ago   Exited (2) About an hour ago                            peer1.org1.example.com b5cf08f21f21        hyperledger/fabric-orderer:latest   "orderer"           About an hour ago   Up About an hour               0.0.0.0:7050->7050/tcp   orderer.example.com 5b3fc3ea8a72        hyperledger/fabric-peer:latest      "peer node start"   About an hour ago   Exited (2) About an hour ago                            peer1.org2.example.com {noformat} Attaching docker log: https://hastebin.com/ahuyihubup.cs  Only the peers fail to start up. Steps I have tried to solve the issue: # docker start $(docker ps -aq) or manually, starting individual peers. # byfn down, generate and then up again. Shows the same result as above. # Rolled back to previous versions of fabric binaries. Same result on 1.1, 1.2 and 1.4. In older binaries, error is not repeated if network is left running overnight but repeats when machine is restarted. # Used older docker images such as 1.1 and 1.2. # Tried starting up only one peer, orderer and cli. # Changed network name and domain name. # Uninstalled docker, docker-compose and reinstalled. # Changed port numbers of all nodes. # Tried restarting without mounting any volumes.  The only thing that works is reformatting the AWS instance and reinstalling everything from scratch. Also, I am NOT using AWS blockchain template. Any help would be appreciated. I have been stuck on this issue for a month now.  ></description> </Issue>
