<Issue id="28774" key="FAB-9059" number="9059" project="10002" reporter="muralisr" assignee="muralisr" creator="muralisr" type="10004" summary="index extraction for CouchDB should not assume TarGz package format" priority="3" resolution="10000" status="6" created="2018-03-22 20:05:38.0" updated="2018-09-06 16:24:48.0" resolutiondate="2018-09-06 16:24:48.0" votes="1" watches="4" workflowId="43250"> <description><! CDATA CouchDB index extraction implemented in https://jira.hyperledger.org/browse/FAB-7134 (part of https://jira.hyperledger.org/browse/FAB-3067) assumes targz chaincode package format. Not all chaincode package types will use this format. In particular, the chaintool package is not targz formatted. Instantiation of chaintool package fails with {code:java} 18-03-20 21:59:10.811 UTC  ccprovider  ExtractStatedbArtifactsFromCCPackage -> ERRO 6c7 Failure opening codepackage gzip stream: gzip: invalid header {code} The "platform" abstraction should be involved to provide the "statedb artifacts" - currently done by ExtractStatedbArtifactsFromCCPackage in core/common/ccprovider/cc_statedb_artifacts_provider.go - to extract using platform specific packaging. {code:java} NOTE - a lot more can be done to make generalize metadata and make it a powerful tool for use with chaincode (in a nutshell, metadata can be viewed in terms of key/value pairs that user chaincode can also use). This being a bug fix for 1.1.1, will not go deep into those generalizations but will try to pave way for future work as restricted by "least disruption in a point release" principle.{code}  ~greg.haskins   ></description> </Issue>
