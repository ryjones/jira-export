<Action id="62136" issue="41381" author="vampire203" type="comment" created="2019-07-26 01:45:18.0" updateauthor="vampire203" updated="2019-07-26 05:48:06.0"> <body><! CDATA we are also noticing the same issue after upgrading to 1.4.2 from 1.4.1. here's the peer log : {code:java}  34m2019-07-25 23:46:45.430 UTC  comm.grpc.server  1 -> INFO 12521 0m streaming call completed grpc.service=protos.Deliver grpc.method=Deliver grpc.peer_address=10.10.xxx.xxx:51374 error="context finished before block retrieved: context canceled" grpc.code=Unknown grpc.call_duration=1.095771887s 34m2019-07-25 23:46:45.430 UTC  comm.grpc.server  1 -> INFO 12521 0m streaming call completed grpc.service=protos.Deliver grpc.method=Deliver grpc.peer_address=10.10.xxx.xxx:51374 error="context finished before block retrieved: context canceled" grpc.code=Unknown grpc.call_duration=1.095771887s 34m2019-07-25 23:46:46.584 UTC  comm.grpc.server  1 -> INFO 12522 0m unary call completed grpc.service=discovery.Discovery grpc.method=Discover grpc.request_deadline=2019-07-25T23:46:56.582Z grpc.peer_address=172.18.xxx.xxx:50578 grpc.code=OK grpc.call_duration=683.814µs 34m2019-07-25 23:46:51.560 UTC  comm.grpc.server  1 -> INFO 12523 0m unary call completed grpc.service=discovery.Discovery grpc.method=Discover grpc.request_deadline=2019-07-25T23:47:01.558Z grpc.peer_address=172.18.xxx.xxx:50612 grpc.code=OK grpc.call_duration=661.84µs 33m2019-07-25 23:46:52.195 UTC  gossip.privdata  reconcile -> WARN 12524 0m missing private data is not available on other peers 34m2019-07-25 23:46:55.166 UTC  gossip.privdata  StoreBlock -> INFO 12525 0m  payprotocol  Received block  357374  from buffer 34m2019-07-25 23:46:55.167 UTC  committer.txvalidator  Validate -> INFO 12526 0m  payprotocol  Validated block  357374  in 1ms 34m2019-07-25 23:46:55.199 UTC  kvledger  CommitWithPvtData -> INFO 12527 0m  payprotocol  Committed block  357374  with 1 transaction(s) in 31ms (state_validation=7ms block_and_pvtdata_commit=1ms state_commit=21ms) commitHash=   34m2019-07-25 23:46:56.588 UTC  comm.grpc.server  1 -> INFO 12528 0m unary call completed grpc.service=discovery.Discovery grpc.method=Discover grpc.request_deadline=2019-07-25T23:47:06.586Z grpc.peer_address=172.18.0.1:50640 grpc.code=OK grpc.call_duration=708.688µs 34m2019-07-25 23:47:01.875 UTC  comm.grpc.server  1 -> INFO 12529 0m unary call completed grpc.service=discovery.Discovery grpc.method=Discover grpc.request_deadline=2019-07-25T23:47:11.874Z grpc.peer_address=172.18.xxx.xxx:50674 grpc.code=OK grpc.call_duration=650.523µspanic: runtime error: invalid memory address or nil pointer dereference signal SIGSEGV: segmentation violation code=0x1 addr=0x0 pc=0xaed020  goroutine 236  running :github.com/hyperledger/fabric/protos/gossip.(*SecretEnvelope).InternalEndpoint(0x0, 0x40c4c3, 0x7ff2585c6c68) /opt/gopath/src/github.com/hyperledger/fabric/protos/gossip/extensions.go:480 +0x40github.com/hyperledger/fabric/gossip/discovery.newAliveMsgStore.func4(0x1243280, 0xc00d29ba00) /opt/gopath/src/github.com/hyperledger/fabric/gossip/discovery/discovery_impl.go:1032 +0xfdgithub.com/hyperledger/fabric/gossip/gossip/msgstore.(*messageStoreImpl).expireMessages(0xc0015df380) /opt/gopath/src/github.com/hyperledger/fabric/gossip/gossip/msgstore/msgs.go:212 +0x34cgithub.com/hyperledger/fabric/gossip/gossip/msgstore.(*messageStoreImpl).expirationRoutine(0xc0015df380) /opt/gopath/src/github.com/hyperledger/fabric/gossip/gossip/msgstore/msgs.go:253 +0x141created by github.com/hyperledger/fabric/gossip/gossip/msgstore.NewMessageStoreExpirable /opt/gopath/src/github.com/hyperledger/fabric/gossip/gossip/msgstore/msgs.go:53 +0xb2 {code}    ></body> </Action>
<Action id="62855" issue="41381" author="wlahti" type="comment" body="A fix was merged earlier today via FAB-16292. " created="2019-08-13 18:39:00.0" updateauthor="wlahti" updated="2019-08-13 18:39:00.0"/>
