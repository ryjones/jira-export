<Issue id="27044" key="FAB-7881" number="7881" project="10002" reporter="nishi" creator="nishi" type="10004" summary="Bad error message when endorsement policy fails on instantiation " priority="3" resolution="10000" status="6" created="2018-01-24 17:41:34.0" updated="2018-07-20 14:15:32.0" resolutiondate="2018-02-01 16:02:59.0" votes="0" watches="2" workflowId="41041"> <description><! CDATA Source: upgrade.feature  location: "fabric-test/feature-upgrade/features" folder   *Steps to Reproduce:* {code:java} Org1: peer0, peer1 Org2: peer2, peer3  In one instance when I created a new channel after upgrade:  1. Created new channel  2. Joined 2 peers from org1 (peer0 and peer1)  3. Installed chaincode on 2 peers (peer0 and peer2)  4. endorsement policy -  n_out_of(2, signed_by(0),signed_by(1) ), member('peerOrg0'), member('peerOrg1')   5. Endorsement proposals with the above policy was sent to peer0 and peer2 6. It failed @step:  And user "configAdminPeerOrg0" using cert alias "config-admin-cert" sends proposal "instantiateProposalch2" to endorsers with timeout of "90" seconds with proposal responses "instantiateProposalCh2Responses1"  | Endorser | | peer0 | | peer2 |.   Failure is perfectly fine since we have not joined peer2 on channel which is on endorsement proposal. And also because of endorsement policy expects that members from both orgs sign it. {code}  *Expected Error Message:*  {code:java} To fail with a meaningful and appropriate error message something like "Endorsement policy failure only one peer signed on policy"{code}    *Actual Error Message:* {code:java} Traceback (most recent call last) File "/home/nishi/Envs/behave_venv/local/lib/python2.7/site-packages/behave/model.py", line 1456, in run match.run(runner.context) File "/home/nishi/Envs/behave_venv/local/lib/python2.7/site-packages/behave/model.py", line 1903, in run self.func(context, *args, **kwargs) File "steps/endorser_impl.py", line 155, in step_impl resultsDict = dict(zip(endorsers,  respFuture.result() for respFuture in proposalResponseFutures )) File "/home/nishi/Envs/behave_venv/local/lib/python2.7/site-packages/grpc/_channel.py", line 279, in result raise self *_Rendezvous: <_Rendezvous of RPC that terminated with (StatusCode.UNKNOWN, Failed to deserialize creator identity, err MSP peerOrg0 is unknown)>* {code}    ></description> </Issue>
