<Issue id="19970" key="FAB-5627" number="5627" project="10002" reporter="yacovm" assignee="yacovm" creator="yacovm" type="10004" summary="Missing index checks in endorser.go" priority="3" resolution="10000" status="6" created="2017-08-04 21:01:41.0" updated="2018-07-20 14:13:59.0" resolutiondate="2017-08-05 12:32:25.0" votes="0" watches="2" workflowId="39640"> <description><! CDATA There is a missing check of *cis.ChaincodeSpec.Input.Args*'s length  Can cause a peer to crash: {code} panic: runtime error: index out of range  goroutine 259  running : panic(0xbf31c0, 0xc4200100c0) /home/yacovm/go/src/runtime/panic.go:500 +0x1a1 github.com/hyperledger/fabric/core/endorser.(*Endorser).disableJavaCCInst(0xc42026e950, 0xc421b56300, 0xc421b5e000, 0x0, 0x4) /opt/gopath/src/github.com/hyperledger/fabric/core/endorser/endorser.go:189 +0x275 github.com/hyperledger/fabric/core/endorser.(*Endorser).simulateProposal(0xc42026e950, 0x7feff1964788, 0xc421afbdd0, 0x0, 0x0, 0xc421b50dc0, 0x40, 0xc421afbec0, 0xc421b12e60, 0xc421b56300, ...) /opt/gopath/src/github.com/hyperledger/fabric/core/endorser/endorser.go:216 +0x2e0 github.com/hyperledger/fabric/core/endorser.(*Endorser).ProcessProposal(0xc42026e950, 0x7feff1964788, 0xc421afbdd0, 0xc421afbec0, 0x0, 0x0, 0x0) /opt/gopath/src/github.com/hyperledger/fabric/core/endorser/endorser.go:454 +0x70c github.com/hyperledger/fabric/protos/peer._Endorser_ProcessProposal_Handler(0xc88320, 0xc42026e950, 0x7feff1964788, 0xc421afbdd0, 0xc421b12dc0, 0x0, 0x0, 0x0, 0xd6e1c3, 0xd6e1c2) /opt/gopath/src/github.com/hyperledger/fabric/protos/peer/peer.pb.go:112 +0x27d github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*Server).processUnaryRPC(0xc4201a28c0, 0x131a540, 0xc421b08580, 0xc4201b0100, 0xc420225c50, 0x12f8ea0, 0xc421afbe60, 0x0, 0x0) /opt/gopath/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/server.go:797 +0xd14 github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*Server).handleStream(0xc4201a28c0, 0x131a540, 0xc421b08580, 0xc4201b0100, 0xc421afbe60) /opt/gopath/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/server.go:997 +0x7a0 github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*Server).serveStreams.func1.1(0xc421b109c0, 0xc4201a28c0, 0x131a540, 0xc421b08580, 0xc4201b0100) /opt/gopath/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/server.go:561 +0xab created by github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*Server).serveStreams.func1 /opt/gopath/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/server.go:562 +0xa3  {code}  ></description> </Issue>
