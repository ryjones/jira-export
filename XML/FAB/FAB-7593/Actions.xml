<Action id="37961" issue="26350" author="elli-androulaki" type="comment" created="2018-01-03 19:32:00.0" updateauthor="elli-androulaki" updated="2018-01-03 19:32:00.0"> <body><! CDATA +1.  Inviting  ~mastersingh24 ,  ~denyeart , ~yacovm ,  ~C0rWin ,  ~manish-sethi  to have your view.  Copying  ~ales ,  ~angelo.decaro .  ></body> </Action>
<Action id="37974" issue="26350" author="yacovm" type="comment" created="2018-01-03 21:28:28.0" updateauthor="yacovm" updated="2018-01-03 21:30:46.0"> <body><! CDATA I'm OK with this as long as the following 2 conditions hold: * Validation of a transaction remains deterministic as it is now. * After validation, when the gossip private data code decides whether it should pull a preimage of a hashed RWSet that is associated with a local collection, it has a way of knowing if there is no peer in its organization, that the transaction was simulated on.   The 2nd condition is in order for peers that can't get the private data not to try to blindly pull from all peers of the organization. It can be easily implemented if we have a custom ESCC (and we have to have a custom ESCC anyway for idemix signatures) that has a secret long random key known only to the org, and the endorsement proto is extended to contain a hash of that key concatenated with the hash of the RWSet. Each peer can easily compute this value over all endorsements, and if there is 1 endorsement that matches - it knows its org was one of the endorsers. Else, its org was not one of the endorsers , and then it can't guess which orgs have endorsed it because it lacks the key(s).  ></body> </Action>
<Action id="38217" issue="26350" author="angelo.decaro" type="comment" body="Having this common secret is annoying because then we have to take care of it is entire lifecycles and all the implications related to its leakage. I would better prefer that a peer never pulls. Not sure though if this is inline with the requirements." created="2018-01-05 09:05:26.0" updateauthor="angelo.decaro" updated="2018-01-05 09:05:26.0"/>
<Action id="38219" issue="26350" author="mne" type="comment" created="2018-01-05 09:30:57.0" updateauthor="mne" updated="2018-01-05 09:30:57.0"> <body><! CDATA I had a discussion with  ~yacovm  on this yesterday - I'll summarize here: There's two ways in which gossip (currently) determines which peers to pull preimages from: (1) peers that are endorsers of the transaction or (2) peers that match the collection access filter. In case of a custom ESCC/VSCC using e.g. idemix, gossip will only use (2) as it does not know the endorsers of the transaction - everything is fine in this case. For the "regular" case without a custom ESCC/VSCC gossip would need to be changed to honor local collections s.t. it does not pull preimages cross-org based on (1), but only from within the org.  Yacov, please comment/correct if I wrote something wrong.     ></body> </Action>
<Action id="38222" issue="26350" author="yacovm" type="comment" created="2018-01-05 10:06:48.0" updateauthor="yacovm" updated="2018-01-05 10:06:48.0"> <body><! CDATA You're correct. However - what is the point of having a local collection without the anonymity?    ~adc  - Not pulling is a problem, of course. If the peer was down at endorsement it will not get the data, and also if it was not the endorser of the transaction but is still in the collection, it might not get the data because we only select random K peers to send to, and K can be less than the total peers in the collection.  ></body> </Action>
