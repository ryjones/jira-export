<Issue id="14131" key="FAB-1702" number="1702" project="10002" reporter="jjjjibm" assignee="jjjjibm" creator="jjjjibm" type="10004" summary="end-to-end.js not ok 4 TypeError: Cannot read property &apos;status&apos; of undefined at /home/ibmadmin                   /work/src/github.com/hyperledger/fabric-sdk-node/test/unit/end-to-end.js:143:18" priority="1" resolution="10000" status="6" created="2017-01-17 18:27:25.0" updated="2018-07-20 14:11:15.0" resolutiondate="2017-02-13 17:11:45.0" votes="0" watches="1" workflowId="37074"> <environment><! CDATA Vlaunch vm running Ubuntu.  Fabric, cop, and node-sdk all running on this local VM.     ></environment> <description><! CDATA I ran node end-to-end.js.  Many tests fail.  This issue is for test 4:  not ok 4 TypeError: Cannot read property 'status' of undefined at /home/ibmadmin                   /work/src/github.com/hyperledger/fabric-sdk-node/test/unit/end-to-end.js:143:18  Here is some context:  		promise = promise.then( 				function(response) { 					*if (response.status === 'SUCCESS') { *						t.pass('Successfully ordered deployment endorsement.'); 						console.log('  ** need to wait now for the committer to catch up after the deployment'); 						return sleep(30000); 					} else { 						_t.fail('Failed to order the deployment endorsement. Error code: ' + response.status); _						t.end(); 					}  The *bold face line *is line 143 of end-to-end.js.  The_ italicized lin_e is a line that will fail for the same reason when you fix line 143.   The problem is:  +response = null +when this code is driven.  One possible solution:  if (response.status === 'SUCCESS') {  ===> if (response && response.status)   t.fail('Failed to order the deployment endorsement. Error code: ' + response.status); ===>  t.fail('Failed to order the deployment endorsement. Error code: ' +  (response? response.status:  'Undefined');  Edit (1/19/2017): This error results in an unhandled exception. Unhandled exceptions break *gulp test *such that the pipe into Istanbul is broken. Consequently the coverage report generated by Istanbul is nonsense.  We need a valid coverage report so Ramesh Thoomu can add end-to-end.js to the CI testing.     ></description> </Issue>
