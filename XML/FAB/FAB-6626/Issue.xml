<Issue id="22400" key="FAB-6626" number="6626" project="10002" reporter="baohua" creator="baohua" type="10001" summary="Endorsement and commitment may block each other by acquiring the same readlock" priority="3" resolution="10001" status="6" created="2017-10-16 08:05:34.0" updated="2020-01-22 22:12:29.0" resolutiondate="2020-01-22 22:12:29.0" votes="0" watches="1" workflowId="35375"> <description><! CDATA As reported by @minollo at https://chat.hyperledger.org/channel/fabric-peer-endorser-committer?msg=utGqv7wbkrC2gd3ax:  Endorsement against the same chaincode from the same peer is parallel.  However, the endorsement and commitment may block each other by acquiring the same read lock.  NewLockBasedTxSimulator acquires a read lock: txmgr.commitRWLock.RLock()  Commit tries to acquire a write lock on the same object: txmgr.commitRWLock.Lock().  ></description> </Issue>
