<Issue id="33077" key="FAB-11666" number="11666" project="10002" reporter="ratnakar" assignee="suryalnvs" creator="ratnakar" type="10101" summary="Scalability Test Set - Add Peers" priority="3" resolution="10000" status="6" created="2018-08-21 19:31:18.0" updated="2020-01-08 17:26:27.0" resolutiondate="2019-07-30 19:11:06.0" votes="0" watches="1" workflowId="44285"> <description><! CDATA *Test Description* :  Run a series of similar tests to gather TPS data, each differing from the previous one by only a network configuration change to join additional peers and distributing traffic to the additional peers. We will create a basic network with two org and one peer in each org, with one channel and samplecc go chaincode, using couchdb, and create 64 threads to send invokes traffic (and obtain separate measurement for pure query traffic). All transaction proposals will require a single endorsement.  For each TPS measurement, for a few minutes (or maybe send 1000 transactions per thread, total 64,000 TXs), distribute the threads to send transaction endorsement proposals using "Constant" mode to send at max rate to each of the peers. Repeat for the queries.    # 2 peers X 32 threads, 1 peer per org, 2 orgs # 4 peers X 16 threads, 2 peers per org # 8 peers X 8 threads, 4 peers per org # 16 peers X 4 threads, 8 peers per org # 32 peers X 2 threads, 16 peers per org # 64 peers X 1 thread, 32 peers per org     *Test Environment* : IKS Cluster *Tools to be used* : Cello, ATD, PTE *T**asks to be completed, in order to create the network and to display measurements and automate weekly* : # Test Driver will go under fabric-test repo # Enhance Cello to take config params # Required testviewer changes to display the results # ATD enhancements required to Collect logs (Save 7/180 days ?) # Scripts/Tools required to create new peer and update *SCFile*  *        Create/add new peer using cello *        Update SC file with new + all old peers *        Create new channel and join the new peers to the channel *        Install / Instantiate CC.     Also:  * create a permanent IKS cluster network * provide kubeconfig (and provide updated token every month) of the established network to the CI team so they can create a new jenkins job that runs weekly * Testviewer enhancements to display the results of peer scalability tests in a new chart     ></description> </Issue>
