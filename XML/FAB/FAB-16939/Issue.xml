<Issue id="42986" key="FAB-16939" number="16939" project="10002" reporter="dereckluo" assignee="dereckluo" creator="dereckluo" type="10004" summary="Chaincode Policy not endorsed as expected in IntegrationTest" priority="3" resolution="10000" status="6" created="2019-10-24 18:45:41.0" updated="2019-11-07 15:28:56.0" resolutiondate="2019-11-07 15:28:56.0" votes="0" watches="2" workflowId="56089"> <description><! CDATA Chaincode Policy are not being endorsed as expected in IntegrationTest, specifically when testing for chaincode transactions with unauthorized peers.   Failure reproduce setups: - Enable NodeOU for Org1 and disable NodeOU for Org2. - Deploy chaincode with policy _*AND(Org1ExampleCome.peer, Org2ExampleCome.peer)*_ - A user invokes on the chaincode with args  "invoke","a","b","10"  on Org1Peer1 and Org2Peer1.   The expected behavior for chaincode invoke is returning with exit code 1 with error message since Org2Peer1 has identity as _*.member*_, but requires _*.peer*_ for chaincode policy.  However, the test behaves that this chaincode invoke and transaction endorsed successfully.    {code:java} No future change is possible.  Bailing out early after 0.149s. Expected <int>: 0 to match exit code: <int>: 1 {code}    ></description> </Issue>
