<Issue id="40320" key="FAB-15608" number="15608" project="10002" reporter="pvrbharg" creator="pvrbharg" type="10004" summary="Upgrade your network components - V1.3.0 -&gt; V1.4.1 - ./byfn.sh generate step fails " priority="3" status="10300" created="2019-06-03 19:16:47.0" updated="2019-10-07 20:03:55.0" votes="0" watches="4" workflowId="53227"> <description><! CDATA When I tried to upgrade my network from V1.3.0 to V1.4.1 release per instructions published at: https://hyperledger-fabric.readthedocs.io/en/release-1.3/upgrading_your_network_tutorial.html#  I am seeing the following issue when the script tried to run: ../bin/configtxgen step.  See the console output shown here:  hlbcadmin@ubuntu:~/go/src/github.com/hyperledger/fabric-samples/first-network$ git fetch origin hlbcadmin@ubuntu:~/go/src/github.com/hyperledger/fabric-samples/first-network$ git status HEAD detached at v1.3.0 nothing to commit, working tree clean hlbcadmin@ubuntu:~/go/src/github.com/hyperledger/fabric-samples/first-network$ git checkout v1.3.0 HEAD is now at 94c21eb  FAB-12395  Pin samples and release for v1.3.0 hlbcadmin@ubuntu:~/go/src/github.com/hyperledger/fabric-samples/first-network$ git status HEAD detached at v1.3.0 nothing to commit, working tree clean hlbcadmin@ubuntu:~/go/src/github.com/hyperledger/fabric-samples/first-network$ ./byfn.sh generate Generating certs and genesis block for channel 'mychannel' with CLI timeout of '10' seconds and CLI delay of '3' seconds Continue?  Y/n  Y proceeding ... /home/hlbcadmin/go/src/github.com/hyperledger/fabric-samples/first-network/../bin/cryptogen  ########################################################## ##### Generate certificates using cryptogen tool ######### ########################################################## + cryptogen generate --config=./crypto-config.yaml org1.example.com org2.example.com + res=0 + set +x  /home/hlbcadmin/go/src/github.com/hyperledger/fabric-samples/first-network/../bin/configtxgen ########################################################## #########  Generating Orderer Genesis block ############## ########################################################## + configtxgen -profile TwoOrgsOrdererGenesis -outputBlock ./channel-artifacts/genesis.block 2019-06-03 18:45:01.303 UTC  common/tools/configtxgen  main -> INFO 001 Loading configuration 2019-06-03 18:45:01.315 UTC  common/tools/configtxgen/localconfig  Load -> CRIT 002 Error unmarshaling config into struct:  14 error(s) decoding:  * '' has invalid keys: channel * 'Application' has invalid keys: Policies * 'Orderer' has invalid keys: Policies * 'Organizations 0 ' has invalid keys: Policies * 'Organizations 1 ' has invalid keys: Policies * 'Organizations 2 ' has invalid keys: Policies * 'Profiles TwoOrgsChannel .Application' has invalid keys: Policies * 'Profiles TwoOrgsChannel .Application.Organizations 0 ' has invalid keys: Policies * 'Profiles TwoOrgsChannel .Application.Organizations 1 ' has invalid keys: Policies * 'Profiles TwoOrgsOrdererGenesis ' has invalid keys: Policies * 'Profiles TwoOrgsOrdererGenesis .Consortiums SampleConsortium .Organizations 0 ' has invalid keys: Policies * 'Profiles TwoOrgsOrdererGenesis .Consortiums SampleConsortium .Organizations 1 ' has invalid keys: Policies * 'Profiles TwoOrgsOrdererGenesis .Orderer' has invalid keys: Policies * 'Profiles TwoOrgsOrdererGenesis .Orderer.Organizations 0 ' has invalid keys: Policies 2019-06-03 18:45:01.315 UTC  common/tools/configtxgen  func1 -> CRIT 003 Error unmarshaling config into struct: 14 error(s) decoding:  * '' has invalid keys: channel * 'Application' has invalid keys: Policies * 'Orderer' has invalid keys: Policies * 'Organizations 0 ' has invalid keys: Policies * 'Organizations 1 ' has invalid keys: Policies * 'Organizations 2 ' has invalid keys: Policies * 'Profiles TwoOrgsChannel .Application' has invalid keys: Policies * 'Profiles TwoOrgsChannel .Application.Organizations 0 ' has invalid keys: Policies * 'Profiles TwoOrgsChannel .Application.Organizations 1 ' has invalid keys: Policies * 'Profiles TwoOrgsOrdererGenesis ' has invalid keys: Policies * 'Profiles TwoOrgsOrdererGenesis .Consortiums SampleConsortium .Organizations 0 ' has invalid keys: Policies * 'Profiles TwoOrgsOrdererGenesis .Consortiums SampleConsortium .Organizations 1 ' has invalid keys: Policies * 'Profiles TwoOrgsOrdererGenesis .Orderer' has invalid keys: Policies * 'Profiles TwoOrgsOrdererGenesis .Orderer.Organizations 0 ' has invalid keys: Policies panic: Error unmarshaling config into struct: 14 error(s) decoding:  * '' has invalid keys: channel * 'Application' has invalid keys: Policies * 'Orderer' has invalid keys: Policies * 'Organizations 0 ' has invalid keys: Policies * 'Organizations 1 ' has invalid keys: Policies * 'Organizations 2 ' has invalid keys: Policies * 'Profiles TwoOrgsChannel .Application' has invalid keys: Policies * 'Profiles TwoOrgsChannel .Application.Organizations 0 ' has invalid keys: Policies * 'Profiles TwoOrgsChannel .Application.Organizations 1 ' has invalid keys: Policies * 'Profiles TwoOrgsOrdererGenesis ' has invalid keys: Policies * 'Profiles TwoOrgsOrdererGenesis .Consortiums SampleConsortium .Organizations 0 ' has invalid keys: Policies * 'Profiles TwoOrgsOrdererGenesis .Consortiums SampleConsortium .Organizations 1 ' has invalid keys: Policies * 'Profiles TwoOrgsOrdererGenesis .Orderer' has invalid keys: Policies * 'Profiles TwoOrgsOrdererGenesis .Orderer.Organizations 0 ' has invalid keys: Policies  recovered  panic: Error unmarshaling config into struct: 14 error(s) decoding:  * '' has invalid keys: channel * 'Application' has invalid keys: Policies * 'Orderer' has invalid keys: Policies * 'Organizations 0 ' has invalid keys: Policies * 'Organizations 1 ' has invalid keys: Policies * 'Organizations 2 ' has invalid keys: Policies * 'Profiles TwoOrgsChannel .Application' has invalid keys: Policies * 'Profiles TwoOrgsChannel .Application.Organizations 0 ' has invalid keys: Policies * 'Profiles TwoOrgsChannel .Application.Organizations 1 ' has invalid keys: Policies * 'Profiles TwoOrgsOrdererGenesis ' has invalid keys: Policies * 'Profiles TwoOrgsOrdererGenesis .Consortiums SampleConsortium .Organizations 0 ' has invalid keys: Policies * 'Profiles TwoOrgsOrdererGenesis .Consortiums SampleConsortium .Organizations 1 ' has invalid keys: Policies * 'Profiles TwoOrgsOrdererGenesis .Orderer' has invalid keys: Policies * 'Profiles TwoOrgsOrdererGenesis .Orderer.Organizations 0 ' has invalid keys: Policies  goroutine 1  running : github.com/hyperledger/fabric/vendor/github.com/op/go-logging.(*Logger).Panic(0xc420232900, 0xc4204448d0, 0x1, 0x1) /w/workspace/fabric-binaries-x86_64/gopath/src/github.com/hyperledger/fabric/vendor/github.com/op/go-logging/logger.go:188 +0xc7 main.main.func1() /w/workspace/fabric-binaries-x86_64/gopath/src/github.com/hyperledger/fabric/common/tools/configtxgen/main.go:242 +0x125 panic(0xc91b20, 0xc4204448c0) /opt/go/go1.9.2.linux.amd64/src/runtime/panic.go:491 +0x283 github.com/hyperledger/fabric/vendor/github.com/op/go-logging.(*Logger).Panic(0xc420232750, 0xc420431e60, 0x2, 0x2) /w/workspace/fabric-binaries-x86_64/gopath/src/github.com/hyperledger/fabric/vendor/github.com/op/go-logging/logger.go:188 +0xc7 github.com/hyperledger/fabric/common/tools/configtxgen/localconfig.Load(0x7fff8cbfc9e1, 0x15, 0x0) /w/workspace/fabric-binaries-x86_64/gopath/src/github.com/hyperledger/fabric/common/tools/configtxgen/localconfig/config.go:243 +0x6c0 main.main() /w/workspace/fabric-binaries-x86_64/gopath/src/github.com/hyperledger/fabric/common/tools/configtxgen/main.go:250 +0x527 + res=2 + set +x Failed to generate orderer genesis block...        ></description> </Issue>
