<Action id="37722" issue="23877" author="chris.elder" type="comment" body="I replicated the error by constantly decreasing the couchdb timeout and running test code.  The problem occurs since the retry logic in handleRequest does not retest if the database has been created.  " created="2017-12-21 15:22:10.0" updateauthor="chris.elder" updated="2017-12-21 15:22:10.0"/>
<Action id="37819" issue="23877" author="lishuo5263" type="comment" created="2017-12-28 07:53:29.0" updateauthor="lishuo5263" updated="2017-12-28 07:53:29.0"> <body><! CDATA  ~chris.elder  Hi, I have same error like you ,but different is When I join org1 channel ,I got this error ,and the same time I join org2 response is success,the join org1 Error detail is "{color:red} error:  client-utils.js : sendPeersProposal - Promise is rejected: Error: chaincode error (status: 500, message: Cannot create ledger from genesis block, due to Couch DB Error:file_exists,  Status Code:412,  Reason:The database could not be created, the file already exists.) at /root/mry/node_modules/grpc/src/node/src/client.js:434:17 (node:19614) UnhandledPromiseRejectionWarning: Unhandled promise rejection (rejection id: 1): TypeError: Cannot read property 'stack' of undefined{color} "  I'm confuse, are you solved ?? buy the way ,I use the {color:#59afe1}fabric-samples(blance-transfer) {color}!!  ></body> </Action>
<Action id="37822" issue="23877" author="denyeart" type="comment" created="2017-12-28 14:04:17.0" updateauthor="denyeart" updated="2017-12-28 14:04:17.0"> <body><! CDATA  ~lishuo5263  I believe you are seeing the same problem as Chris, you just are seeing the Node SDK result of the problem as well.    ~chris.elder , If you simply add a check for database existence to the retry, there can still be a timing window problem (database may get created right after the existence check).  Therefore I think you will need to explicitly handle the 412 error.  If you get a 412, then do an existence check to ensure that the database has indeed been created, and then return success.  ></body> </Action>
<Action id="39523" issue="23877" author="chris.elder" type="comment" body="https://gerrit.hyperledger.org/r/#/c/16519/" created="2018-02-01 16:38:47.0" updateauthor="chris.elder" updated="2018-02-01 16:38:47.0"/>
