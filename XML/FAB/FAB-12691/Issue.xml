<Issue id="35064" key="FAB-12691" number="12691" project="10002" reporter="sambhavdutt" assignee="sambhavdutt" creator="sambhavdutt" type="10004" summary="Behave test daily for master branch is running into an infinite loop." priority="2" resolution="10000" status="6" created="2018-11-02 15:20:10.0" updated="2019-03-19 11:13:04.0" resolutiondate="2018-11-08 06:01:10.0" votes="0" watches="6" workflowId="46499"> <description><! CDATA The Behave daily tests are executing continuously for the master branch on the Jenkins x nodes during the gossip behave tests. This test fails and exits when executed on local machine,   {code:java} And I wait "30" seconds                                                                                                                                                                                   # steps/basic_impl.py:21 30.004s And an admin deploys chaincode at path "github.com/hyperledger/fabric/examples/chaincode/go/example02/cmd" with args  "init","a","1000","b","2000"  with name "mycc" on the initial leader peer of "org1" # steps/endorser_impl.py:93 15.004s Assertion Failed: Error: After polling for 15 seconds, no gossip-leader found by looking at the logs, for org1 Captured stdout: testConfigs: configs/255889d1de0a11e8944ea45e60f04519  /bin/bash -c "CORE_PEER_MSPCONFIGPATH=/var/hyperledger/configs/255889d1de0a11e8944ea45e60f04519/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp CORE_PEER_LOCALMSPID=org1.example.com CORE_PEER_ID=peer0.org1.example.com CORE_PEER_ADDRESS=peer0.org1.example.com:7051 peer channel create --file /var/hyperledger/configs/255889d1de0a11e8944ea45e60f04519/behavesystest.tx --channelID behavesystest --timeout 300s --orderer orderer0.example.com:7050 " : {'cli': ''}  /bin/bash -c "CORE_PEER_MSPCONFIGPATH=/var/hyperledger/configs/255889d1de0a11e8944ea45e60f04519/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp peer channel fetch config /var/hyperledger/configs/255889d1de0a11e8944ea45e60f04519/behavesystest.block --channelID behavesystest --orderer orderer0.example.com:7050 " : {'peer1.org1.example.com': ''}  /bin/bash -c "CORE_PEER_MSPCONFIGPATH=/var/hyperledger/configs/255889d1de0a11e8944ea45e60f04519/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp CORE_PEER_LOCALMSPID=org1.example.com CORE_PEER_ID=peer1.org1.example.com CORE_PEER_ADDRESS=peer1.org1.example.com:7051 peer channel join --blockpath /var/hyperledger/configs/255889d1de0a11e8944ea45e60f04519/behavesystest.block" :  Memory Info Before Network Teardown: 	Free: 935235584 	Used: 13010665472 	Percentage: 75.1  total 68 drwxr-xr-x 4 adnanc staff   128 Nov  1 15:12 peerOrganizations drwxr-xr-x 3 adnanc staff    96 Nov  1 15:12 ordererOrganizations -rw-r--r-- 1 adnanc staff 17497 Nov  1 15:12 configtx.yaml -rw-r--r-- 1 adnanc staff 15876 Nov  1 15:12 orderer.block -rw-r--r-- 1 adnanc staff  1326 Nov  1 15:12 behavesyschan.tx -rw-r--r-- 1 adnanc staff   307 Nov  1 15:13 org1.example.combehavesyschanAnchor.tx -rw-r--r-- 1 adnanc staff   307 Nov  1 15:13 org2.example.combehavesyschanAnchor.tx -rw-r--r-- 1 adnanc staff  1326 Nov  1 15:13 behavesystest.tx -rw-r--r-- 1 adnanc staff 14325 Nov  1 15:13 behavesystest.block  configs/255889d1de0a11e8944ea45e60f04519/peerOrganizations/org1.example.com/users: total 0 drwxr-xr-x 4 adnanc staff 128 Nov  1 15:12 User1@org1.example.com drwxr-xr-x 4 adnanc staff 128 Nov  1 15:12 Admin@org1.example.com  configs/255889d1de0a11e8944ea45e60f04519/peerOrganizations/org2.example.com/users: total 0 drwxr-xr-x 4 adnanc staff 128 Nov  1 15:12 User1@org2.example.com drwxr-xr-x 4 adnanc staff 128 Nov  1 15:12 Admin@org2.example.com   Memory Usage Info: Filesystem     1K-blocks      Used Available Use% Mounted on /dev/disk1s1   488347692 104004872 373169936  22% / /dev/disk1s4   488347692  10485800 373169936   3% /private/var/vm   *** Memory Info: 	Free: 684437504 	Used: 13095698432 	Percentage: 76.6  . . . .  Ending Memory Info: 	Free: 681648128 	Used: 13097263104 	Percentage: 76.6  Failing scenarios: gossip.feature:53   FAB-4663   FAB-4664   FAB-4665  A non-leader peer goes down by stop, comes back up and catches up eventually. -- @1.1  gossip.feature:54   FAB-4663   FAB-4664   FAB-4665  A non-leader peer goes down by pause, comes back up and catches up eventually. -- @1.2  gossip.feature:55   FAB-4663   FAB-4664   FAB-4665  A non-leader peer goes down by disconnect, comes back up and catches up eventually. -- @1.3   0 features passed, 1 failed, 0 skipped 0 scenarios passed, 3 failed, 20 skipped 12 steps passed, 3 failed, 761 skipped, 0 undefined Took 5m28.442s Adnans-MacBook-Pro:feature adnanc$ behave gossip.feature -n FAB-4665 {code}  *Build Log*  https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-behave-master-x86_64/70/  ></description> </Issue>
