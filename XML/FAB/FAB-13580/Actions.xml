<Action id="55443" issue="36586" author="mastersingh24" type="comment" created="2019-01-09 16:38:44.0" updateauthor="mastersingh24" updated="2019-01-09 16:45:51.0"> <body><! CDATA I think there are really two things here:    # On JoinChannel, we should check that the peer has the required capabilities.  If it does not have the required capabilities, we should reject the JoinChannel call/request.  There is also a chance that the peer meets the capabilities for the initial config block passed in the JoinChannel call but the channel has actually been update in a later config block.  We could either sync the channel and then disconnect (per 2 below) OR we could be smarter and actually get the latest config block from the orderer and use it to decide whether or not to join.  I think this might be overkill. # If a peer has already joined a channel and the channel has been "upgraded", we should not actually panic ... we should log an error or warning message and simply not connect to the orderer or disconnect from the orderer if the peer receives a channel upgrade with capabilities it does not support.  I believe this issue is about item 1. I think there might already be a JIRA for item 2.  If not, we can open another issue.  ></body> </Action>
<Action id="55474" issue="36586" author="baohua" type="comment" created="2019-01-10 02:32:14.0" updateauthor="baohua" updated="2019-01-28 23:58:04.0"> <body><! CDATA Exactly, and there might be the 3rd issue.  When a peer start, it will read all local ledgers, If the capabilities is not in valid range, then the peer should ignore that channel instead of panic.  I created https://jira.hyperledger.org/browse/FAB-13607 to track this issue.     https://jira.hyperledger.org/browse/FAB-13931 is created to track the channel capabilities update issue.  ></body> </Action>
<Action id="56294" issue="36586" author="baohua" type="comment" body="https://gerrit.hyperledger.org/r/#/c/28996/" created="2019-01-29 00:30:05.0" updateauthor="baohua" updated="2019-01-29 00:30:05.0"/>
