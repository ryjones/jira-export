<Issue id="31268" key="FAB-10794" number="10794" project="10002" reporter="manish-sethi" assignee="senthil1" creator="manish-sethi" type="10001" summary="Simplify couchdb cache usage" priority="3" status="3" created="2018-06-21 14:43:22.0" updated="2020-05-14 02:44:40.0" votes="0" watches="2" workflowId="35880"> <description><! CDATA Couch db version cache gets touched by three code paths 1) Commit path, 2) purge computation pre-fetch path, and 3) simulation path.  The current code maintains a common cache and hence requires complex synchronization in above usages. For instance, simulation does not need cache at all but ends up hitting it because of common API for getting version. Similarly, the purge path needs only versions but ends up caching revisions as well - again because of common code. This becomes a potential source of hard to catch bugs.  A simple API that simply returns the versions to the upper layer to consume should simplify the code.  Â   ></description> </Issue>
