<Issue id="26337" key="FAB-7586" number="7586" project="10002" reporter="sudheesh001" creator="sudheesh001" type="10004" summary="Fabric fails to trigger FSM event REGISTER" priority="3" resolution="10000" status="6" created="2018-01-03 11:48:48.0" updated="2018-07-20 14:15:20.0" resolutiondate="2018-02-01 12:04:47.0" votes="0" watches="3" workflowId="40870"> <description><! CDATA There are multiple peer nodes, a single orderer and a single CA authority for production and want to deploy the chaincode. I have the compiled chaincode and the {{go}} file in a directory called {{chaincode-app/}}     The peer node has a docker instance running with the name {{peer0-vm}}. I want to deploy my chaincode using this peer. When I run {code:java} docker exec peer0-vm peer chaincode install -n mycc -v 1.0 -p chaincode-app/{code} {{I receive the following error:}} {code:java} 2018-01-03 05:35:30.577 UTC  chaincodeCmd  checkChaincodeCmdParams -> INFO 001 Using default escc 2018-01-03 05:35:30.578 UTC  chaincodeCmd  checkChaincodeCmdParams -> INFO 002 Using default vscc Error: Error getting chaincode code chaincode: <go,  env >: failed with error: "exec: not started"{code} {{The peer logs are as follows:}} {code:java} 2018-01-02 11:00:29.826 UTC  gossip/gossip  NewGossipService -> WARN 014 External endpoint is empty, peer will not be accessible outside of its organization 2018-01-02 11:00:29.829 UTC  gossip/gossip  start -> INFO 015 Gossip instance 0.0.0.0:7051 started 2018-01-02 11:00:29.830 UTC  cscc  Init -> INFO 016 Init CSCC 2018-01-02 11:00:29.830 UTC  sccapi  deploySysCC -> INFO 017 system chaincode cscc/(github.com/hyperledger/fabric/core/scc/cscc) deployed 2018-01-02 11:00:29.830 UTC  sccapi  deploySysCC -> INFO 018 system chaincode lscc/(github.com/hyperledger/fabric/core/scc/lscc) deployed 2018-01-02 11:00:29.831 UTC  escc  Init -> INFO 019 Successfully initialized ESCC 2018-01-02 11:00:29.831 UTC  sccapi  deploySysCC -> INFO 01a system chaincode escc/(github.com/hyperledger/fabric/core/scc/escc) deployed 2018-01-02 11:00:29.831 UTC  sccapi  deploySysCC -> INFO 01b system chaincode vscc/(github.com/hyperledger/fabric/core/scc/vscc) deployed 2018-01-02 11:00:29.831 UTC  qscc  Init -> INFO 01c Init QSCC 2018-01-02 11:00:29.831 UTC  sccapi  deploySysCC -> INFO 01d system chaincode qscc/(github.com/hyperledger/fabric/core/chaincode/qscc) deployed 2018-01-02 11:00:29.832 UTC  nodeCmd  initSysCCs -> INFO 01e Deployed system chaincodess 2018-01-02 11:00:29.832 UTC  nodeCmd  serve -> INFO 01f Starting peer with ID= name:"fabsmbqxc-peer0.org1.example.com"  , network ID= dev , address= 0.0.0.0:7051  2018-01-02 11:00:29.832 UTC  nodeCmd  serve -> INFO 020 Started peer with ID= name:"fabsmbqxc-peer0.org1.example.com"  , network ID= dev , address= 0.0.0.0:7051  2018-01-02 14:06:22.467 UTC  chaincode  notifyDuringStartup -> WARN 021 trying to manually run chaincode when not in devmode ? 2018-01-02 14:06:22.467 UTC  chaincode  HandleMessage -> ERRO 022   Failed to trigger FSM event REGISTER: transition canceled with error: peer will not accepting external chaincode connection name:"chaincode-app:1.0" (except in dev mode) 2018-01-02 14:06:22.467 UTC  chaincode  processStream -> ERRO 023   Error handling message, ending stream: transition canceled with error: peer will not accepting external chaincode connection name:"chaincode-app:1.0" (except in dev mode){code} On a quick read, I understood that the  chaincode cannot be executed by the user|https://github.com/hyperledger/fabric/blob/2cab745abf031d8ff5d3e8f4fa7a5e5af8907fad/core/chaincode/chaincode_support.go#L277-L281  and should be instead done by the peer. Can someone point out how I could deploy this chaincode?  I've tried to follow the lifecycle of {{package -> install -> instantiate -> upgrade}} and tried to package the chaincode before signing and installing using the command but failed. {code:java} docker exec peer0-vm peer chaincode package -n mycc -v 1.0 -p chaincode-app -s -S ccpack.out{code} {{Could someone point out where I am going wrong and a possible solution?}}  ></description> </Issue>
