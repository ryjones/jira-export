<Issue id="38767" key="FAB-14820" number="14820" project="10002" reporter="latitiah" assignee="latitiah" creator="latitiah" type="10101" summary="Test restarting a peer using the new chaincode lifecycle" priority="3" resolution="10000" status="6" created="2019-03-26 15:42:11.0" updated="2019-04-02 23:52:09.0" resolutiondate="2019-04-02 23:52:09.0" votes="0" watches="1" workflowId="50416"> <description><! CDATA   Given I changed the "Application" capability to version "V2_0" And I have a bootstrapped fabric network of type solo And I want to use the new chaincode lifecycle When an admin sets up a channel And an admin packages a chaincode And the organization admins install the chaincode package on all peers Then a packageId is received on all peers When each organization admin approves the chaincode package with policy "OR ('org1.example.com.member','org2.example.com.member')" And an admin commits the chaincode package to the channel And I wait up to "10" seconds for the chaincode to be committed  When a user invokes on the chaincode with args  "init","a","1000","b","2000"  on both orgs And I wait up to "30" seconds for deploy to complete When a user queries on the chaincode with args  "query","a"  Then a user receives a success response of 1000 When a user invokes on the chaincode with args  "invoke","a","b","10"  When a user queries on the chaincode with args  "query","a"  Then a user receives a success response of 990  When "peer0.org2.example.com" is taken down  When a user invokes on the chaincode with args  "invoke","a","b","10"  When a user queries on the chaincode with args  "query","a"  Then a user receives a success response of 980  When "peer0.org2.example.com" comes back up  When a user queries on the chaincode with args  "query","a"  on "peer0.org2.example.com" Then a user receives a success response of 970 from "peer0.org2.example.com"  ></description> </Issue>
