<Issue id="15481" key="FAB-2905" number="2905" project="10002" reporter="bh4rtp" assignee="adnanchoudhury" creator="bh4rtp" type="10004" summary="e2e_cli marble invoke runs ok even though peer not installed chaincode" priority="3" resolution="10000" status="6" created="2017-03-28 15:09:49.0" updated="2018-07-20 14:12:04.0" duedate="2017-03-24 00:00:00.0" resolutiondate="2017-05-09 09:14:48.0" votes="0" watches="3" workflowId="37854"> <description><! CDATA Firstly, the e2e_cli default example runs ok. We built the marble02 test-case based on network_setup.sh, docker-compose-no-tls.yaml, and scripts/script.sh. And the corresponding test-case files are named with marbles_network_setup.sh, docker-compose-marbles-no-tls.yaml, and scripts/myscript.sh.   It needs to mention that the network automatically built by marbles_network_setup.sh can successfully run the marbles02 chaincode examples that are given on the top of marbles_chaincode.go ( https://github.com/hyperledger/fabric/blob/master/examples/chaincode/go/marbles02/marbles_chaincode.go ).  The test steps are as follows. 1. copy three attached files to e2e_cli 2. copy marble02 directory from examples/chaincode/go to e2e_cli/examples/chaincode/go 3. run ./marbles_network_setup.sh up eprich1 4. run docker exec -it cli bash 5. run ./scripts/myscript.sh eprich1  The myscript.sh will do: 1) install chaincode marbles02 on peer0 2) install and instantiate chaincode marbles02 on peer3, the endorsement policy is specified as -P "OR ('Org0MSP.member', 'Org1MSP.member')" 3) invoke initMarble runs ok on peer2 4) query fails with error endorsing on peer2. The error message shows: Error: Error endorsing query: rpc error: code = 2 desc = Error executing chaincode: Could not get deployment transaction from LCCC for marbles:v0 - Get ChaincodeDeploymentSpec for marbles/eprich1 from LCCC error: transaction not found marbles/eprich1   Why does invoke initMarble on peer2 run ok? Is query fails correct?  ></description> </Issue>
