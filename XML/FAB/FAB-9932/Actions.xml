<Action id="44184" issue="30015" author="sambhavdutt" type="comment" created="2018-05-10 13:52:40.0" updateauthor="sambhavdutt" updated="2018-05-10 13:55:33.0"> <body><! CDATA The following tests are still failing the fabric test daily as  {code:java} There are no kafka brokers set in the orderer environment {code}   1. *CouchDB_index*  2. *Bootstrapping Hyperledger Fabric*   {code:java} bootstrap.Bootstrapping Hyperledger Fabric.FAB-4776/FAB-4777: Bring up a kafka based network and check peers -- @1.1 {code}   3. *Chaincodes Testing*   {code:java} chaincodes.Chaincodes Testing.FAB-3888: State Transfer Test, bouncing a non-leader peer, using marbles02, for kafka orderer -- @1.2   {code}  4. *Gossip Service*   {code:java} gossip.Gossip Service. FAB-4663   FAB-4664   FAB-4665  A non-leader peer goes down by disconnect, comes back up and catches up eventually. -- @1.3  {code}   5. *Orderer Service*   {code:java} orderer.Orderer Service.FAB-3851: Message Payloads of size 1048576, for kafka orderer -- @1.4  {code}   6. *Peer Service*   {code:java} peer.Peer Service.FAB-3505: Test chaincode example02 deploy, invoke, and query, with kafka orderer -- @1.2   {code}   *Build Log* https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-daily-x86_64/347/   ></body> </Action>
<Action id="44214" issue="30015" author="scottz" type="comment" created="2018-05-10 17:46:46.0" updateauthor="scottz" updated="2018-05-10 17:49:26.0"> <body><! CDATA On May 4th, we merged some of the PTE/CITest/scenarios/ tests into the daily test suite in the CI fabric-test daily job. It looks like they do not clean up a network, so the kafkas and other containers remain running in the host machine after the PTE tests complete. Then the subsequent behave tests that use kafka will encounter errors. I propose we add something like `../../../NL/networkLauncher.sh -a down` at the end of all the scenarios testscripts, e.g. PTE/CITest/scenarios/FAB-3833-2i.sh and all others.     Either that, or, edit the systest_pte.py file to change the call lines from  subprocess.call("./FAB-3833-2i.sh",  to  subprocess.call("./FAB-3833-2i.sh && cd ../../../NL && ./networkLauncher.sh -a down",     ></body> </Action>
<Action id="44336" issue="30015" author="scottz" type="comment" created="2018-05-14 14:21:19.0" updateauthor="scottz" updated="2018-05-14 14:21:19.0"> <body><! CDATA  https://gerrit.hyperledger.org/r/#/c/21679/      ></body> </Action>
