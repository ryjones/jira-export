<Issue id="21097" key="FAB-6355" number="6355" project="10002" reporter="denyeart" assignee="denyeart" creator="denyeart" type="10004" summary="Error upon chaincode GetPrivateData() using CouchDB" priority="2" resolution="10000" status="6" created="2017-09-29 22:00:04.0" updated="2018-07-20 14:14:31.0" resolutiondate="2017-09-30 19:07:08.0" votes="0" watches="1" workflowId="40126"> <description><! CDATA Error message:  The available copy of the private data is not latest. The latest version = (*version.Height)(nil), available version = &version.Height\{BlockNum:0x2, TxNum:0x0})     The problem is that the retrieve of the public hash from couch state db fails due to a URL encoding issue of a plus sign in the hashed key.   Keys were already URL encoded using golang URL encoding, but the encoding skips plus signs in the path component.  CouchDB unencodes the plus sign as a space.  The fix is to explicitly URL encode plus character.  Also add unit test to verify the fix and test all other URL special characters.        ></description> </Issue>
