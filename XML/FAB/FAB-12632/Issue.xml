<Issue id="34930" key="FAB-12632" number="12632" project="10002" reporter="tyanj" assignee="tyanj" creator="tyanj" type="10004" summary="Fix missing defer in PrepareForExpiringKeys" priority="3" resolution="10203" status="6" created="2018-10-27 02:26:13.0" updated="2018-10-29 14:22:23.0" resolutiondate="2018-10-29 14:22:23.0" votes="0" watches="2" workflowId="46382"> <description><! CDATA {color:#569cd6}func{color}{color:#d4d4d4} (p {color}{color:#d4d4d4}*{color}{color:#d4d4d4}purgeMgr) {color}{color:#dcdcaa}PrepareForExpiringKeys{color}{color:#d4d4d4}(expiringAtBlk {color}{color:#4ec9b0}uint64{color}{color:#d4d4d4}) {{color} {color:#d4d4d4}    p.waitGrp.{color}{color:#dcdcaa}Add{color}{color:#d4d4d4}({color}{color:#b5cea8}1{color}{color:#d4d4d4}){color} {color:#d4d4d4}    {color}{color:#c586c0}go{color} {color:#569cd6}func{color}{color:#d4d4d4}() {{color} {color:#d4d4d4}        p.lock.{color}{color:#dcdcaa}Lock{color}{color:#d4d4d4}(){color} {color:#d4d4d4}      - -p.waitGrp.-{color}-{color:#dcdcaa}Done{color}{color:#d4d4d4}(){color}- {color:#d4d4d4}      + {color}{color:#c586c0}defer{color}{color:#d4d4d4} p.waitGrp.{color}{color:#dcdcaa}Done{color}{color:#d4d4d4}(){color} {color:#d4d4d4}        {color}{color:#c586c0}defer{color}{color:#d4d4d4} p.lock.{color}{color:#dcdcaa}Unlock{color}{color:#d4d4d4}(){color} {color:#d4d4d4}        {color}{color:#9cdcfe}p.workingset{color} {color:#d4d4d4}={color}{color:#d4d4d4} p.{color}{color:#dcdcaa}prepareWorkingsetFor{color}{color:#d4d4d4}(expiringAtBlk){color} {color:#d4d4d4}    }(){color} {color:#d4d4d4}    p.waitGrp.{color}{color:#dcdcaa}Wait{color}{color:#d4d4d4}(){color}  {color:#d4d4d4}}{color}  ></description> </Issue>
