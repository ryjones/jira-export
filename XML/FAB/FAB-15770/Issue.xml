<Issue id="40708" key="FAB-15770" number="15770" project="10002" reporter="yoheiueda" assignee="yoheiueda" creator="yoheiueda" type="10001" summary="Use available ports in TestPluginLoadingFailure" priority="3" status="10708" created="2019-06-20 05:30:27.0" updated="2019-07-05 21:12:45.0" votes="0" watches="1" workflowId="53662"> <description><! CDATA Unit test TestPluginLoadingFailure uses fixed ports to invoke peer process.  This may cause "bind: address already in use", but the test result does not explicitly indicate it.  Â  {noformat} go test -count 1 github.com/hyperledger/fabric/cmd/peer -run '^TestPluginLoadingFailure$' --- FAIL: TestPluginLoadingFailure (5.64s) main_test.go:52: No future change is possible.  Bailing out early after 0.061s. Expected <int>: 1 to match exit code: <int>: 2 --- FAIL: TestPluginLoadingFailure/ENDORSERS_ESCC (0.45s) testing.go:820: test executed panic(nil) or runtime.Goexit: subtest may have called FailNow on a parent test FAIL FAIL	github.com/hyperledger/fabric/cmd/peer	5.926s{noformat} We can avoid this error by using available ports instead of fixed ports like other unit tests.  ></description> </Issue>
