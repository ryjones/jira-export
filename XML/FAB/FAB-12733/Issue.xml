<Issue id="35116" key="FAB-12733" number="12733" project="10002" reporter="sambhavdutt" assignee="adnanchoudhury" creator="sambhavdutt" type="10004" summary="CouchDB indexing tests are failing in daily behave test cases in FAB-7251, FAB-7264, FAB-7269." priority="2" resolution="10002" status="6" created="2018-11-06 04:52:18.0" updated="2019-03-19 11:13:19.0" resolutiondate="2018-11-14 19:11:29.0" votes="0" watches="3" workflowId="46730"> <description><! CDATA Observed the below errors for CouchDB Indexing,   {code:java} CouchDB_index.Testing Fabric CouchDB indexing.FAB-7251: Test CouchDB indexing using marbles chaincode using GOLANG with 1 channels and 1 index with 1 selector -- @1.1  Failing step: Given I have a bootstrapped fabric network of type kafka using state-database couchdb with tls ... failed in 338.880s Location: CouchDB_index.feature:11 Assertion Failed: The kafka containers are not ready in the allotted time (300 seconds) Captured stdout: testConfigs: configs/5df6eb06e0a311e887d9fa163e428d48  @daily Scenario Outline: FAB-7251: Test CouchDB indexing using marbles chaincode using GOLANG with 1 channels and 1 index with 1 selector -- @1.1  Given I have a bootstrapped fabric network of type kafka using state-database couchdb with tls ... failed in 338.880s  {code}   *Build Log* https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-behave-master-x86_64/75/testReport/CouchDB_index/Testing%20Fabric%20CouchDB%20indexing/FAB_7251__Test_CouchDB_indexing_using_marbles_chaincode_using_GOLANG_with_1_channels_and_1_index_with_1_selector_____1_1_/    {code:java} CouchDB_index.Testing Fabric CouchDB indexing.FAB-7264: Test CouchDB indexing using CC upgrade with marbles chaincode using GOLANG with 3 channels and 1 upgrade -- @1.1   Failing step: Then a user receives a response containing no_usable_index ... failed in 0.000s Location: CouchDB_index.feature:170 Assertion Failed: Expected response was no_usable_index; received  {"Key":"marble2", "Record":{"color":"yellow","docType":"marble","name":"marble2","owner":"alex","size":20}}   . . When a user queries on the channel "mychannel2" using chaincode named "mycc2" with args  "queryMarbles", "{\\"selector\\":{\\"owner\\":\\"alex\\"}, \\"use_index\\": \\"_design/indexdoc_behave_test_v1\\", \\"index_behave_test_v1\\" }"  on "peer0.org1.example.com" ... passed in 5.805s Then a user receives a response containing no_usable_index ... failed in 0.000s When a user queries on the channel "mychannel3" using chaincode named "mycc3" with args  "queryMarbles", "{\\"selector\\":{\\"docType\\":\\"marble\\",\\"owner\\":\\"jose\\", \\"color\\":\\"red\\"}, \\"use_index\\": \\"_design/indexdoc_behave_test\\", \\"index_behave_test\\" }"  on "peer0.org1.example.com" ... skipped in 0.000s {code}  *Build Log*  https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-behave-master-x86_64/75/testReport/CouchDB_index/Testing%20Fabric%20CouchDB%20indexing/FAB_7264__Test_CouchDB_indexing_using_CC_upgrade_with_marbles_chaincode_using_GOLANG_with_3_channels_and_1_upgrade_____1_1_/   {code:java} CouchDB_index.Testing Fabric CouchDB indexing.FAB-7269: Test CouchDB indexing using CC upgrade with marbles chaincode using NODE with 3 channels and 1 upgrade -- @1.2  Failing step: Then a user receives a response containing no_usable_index ... failed in 0.000s Location: CouchDB_index.feature:170 Assertion Failed: Expected response was no_usable_index; received  {"Key":"marble2","Record":{"color":"yellow","docType":"marble","name":"marble2","owner":"alex","size":20}}   When a user queries on the channel "mychannel2" using chaincode named "mycc2" with args  "queryMarbles", "{\\"selector\\":{\\"owner\\":\\"alex\\"}, \\"use_index\\": \\"_design/indexdoc_behave_test_v1\\", \\"index_behave_test_v1\\" }"  on "peer0.org1.example.com" ... passed in 6.580s Then a user receives a response containing no_usable_index ... failed in 0.000s When a user queries on the channel "mychannel3" using chaincode named "mycc3" with args  "queryMarbles", "{\\"selector\\":{\\"docType\\":\\"marble\\",\\"owner\\":\\"jose\\", \\"color\\":\\"red\\"}, \\"use_index\\": \\"_design/indexdoc_behave_test\\", \\"index_behave_test\\" }"  on "peer0.org1.example.com" ... skipped in 0.000s {code}  *Build Log*  https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-behave-master-x86_64/75/testReport/CouchDB_index/Testing%20Fabric%20CouchDB%20indexing/FAB_7269__Test_CouchDB_indexing_using_CC_upgrade_with_marbles_chaincode_using_NODE_with_3_channels_and_1_upgrade_____1_2_/  ></description> </Issue>
