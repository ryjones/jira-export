<Issue id="19316" key="FAB-5352" number="5352" project="10002" reporter="tonyyang132" assignee="tonyyang132" creator="tonyyang132" type="10004" summary="Not able to setup a fabric network using IP addresses" priority="3" resolution="10000" status="6" created="2017-07-18 10:10:29.0" updated="2018-07-20 14:13:47.0" resolutiondate="2017-08-01 09:29:39.0" votes="0" watches="2" workflowId="39472"> <description><! CDATA I've been trying to setup a hyperledger fabric network following the e2e_cli example. What I needed to do differently than the default setup was that I configured the all orderers and peers with IP addresses, including in configtx.yaml, base/docker-compose-base.yaml and scripts/script.sh. When it tried to create a channel in script.sh, the following error occurred:    {code:java}  ____    _____      _      ____    _____           _____   ____    _____ / ___|  |_   _|    / \    |  _ \  |_   _|         | ____| |___ \  | ____| \___ \    | |     / _ \   | |_) |   | |    _____  |  _|     __) | |  _|  ___) |   | |    / ___ \  |  _ <    | |   |_____| | |___   / __/  | |___ |____/    |_|   /_/   \_\ |_| \_\   |_|           |_____| |_____| |_____|  Channel name : mychannel Creating channel... CORE_PEER_TLS_ROOTCERT_FILE=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/ca.crt CORE_PEER_TLS_KEY_FILE=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.key CORE_PEER_LOCALMSPID=Org1MSP CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock CORE_PEER_TLS_CERT_FILE=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.crt CORE_PEER_TLS_ENABLED=true CORE_PEER_MSPCONFIGPATH=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp CORE_PEER_ID=cli CORE_LOGGING_LEVEL=DEBUG CORE_PEER_ADDRESS=172.16.10.31:7051 2017-07-18 09:13:29.326 UTC  msp  GetLocalMSP -> DEBU 001 Returning existing local MSP 2017-07-18 09:13:29.326 UTC  msp  GetDefaultSigningIdentity -> DEBU 002 Obtaining default signing identity 2017-07-18 09:13:29.331 UTC  grpc  Printf -> DEBU 003 Failed to dial 172.16.10.31:7050: connection error: desc = "transport: authentication handshake failed: x509: cannot validate certificate for 172.16.10.31 because it doesn't contain an y IP SANs"; please retry. Error: Error connecting due to  rpc error: code = Internal desc = connection error: desc = "transport: authentication handshake failed: x509: cannot validate certificate for 172.16.10.31 because it doesn't contain any IP SANs" Usage:   peer channel create  flags   Flags:   -c, --channelID string   In case of a newChain command, the channel ID to create.   -f, --file string        Configuration transaction file generated by a tool such as configtxgen for submitting to orderer   -t, --timeout int        Channel creation timeout (default 5)  Global Flags:       --cafile string              Path to file containing PEM-encoded trusted certificate(s) for the ordering endpoint       --logging-level string       Default logging level and overrides, see core.yaml for full syntax   -o, --orderer string             Ordering service endpoint       --test.coverprofile string   Done (default "coverage.cov")       --tls                        Use TLS when communicating with the orderer endpoint   -v, --version                    Display current version of fabric peer server  !!!!!!!!!!!!!!! Channel creation failed !!!!!!!!!!!!!!!! ================== ERROR !!! FAILED to execute End-2-End Scenario ================== {code} I then tried setting relevant IP addresses as SANS in crypto-config.yaml, but the error was still the same.  ></description> </Issue>
