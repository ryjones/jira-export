<Action id="20433" issue="14168" author="adnanchoudhury" type="comment" body="It has been observed that upping the unit-test docker-compose file ({{fabric/unit-test/docker-compose.yaml}}), as is the case in {{make unit-test}} command, causes the couchdb unit tests to fail. If the ledger unit tests are run through the {{fabric/unit-test/run.sh}} directly and skipping the docker-compose up, the tests pass." created="2017-01-19 15:43:01.0" updateauthor="adnanchoudhury" updated="2017-01-19 15:44:06.0"/>
<Action id="20444" issue="14168" author="adnanchoudhury" type="comment" created="2017-01-19 22:45:03.0" updateauthor="adnanchoudhury" updated="2017-01-19 22:45:03.0"> <body><! CDATA The reason behind the failing unit-tests is that  during the single-package test:  the CouchDB server is in a container within a host (vagrant), and the testcode is *run locally* from the host, but in the case of Fabric-unit-test: The couchDB server and the testcodes are in *two separate containers* residing in the Vagrant host.  A connection request from the testcode container is not reaching the CouchDB server because its not possible to bind them through a single host-port. Even if it was possible, the design decision to not let CouchDB serve any remote request means that CouchDB will not serve a request from the testcode container (as it will be considered a remote request).   ></body> </Action>
<Action id="20534" issue="14168" author="adnanchoudhury" type="comment" body="To add, the {{make unit-test}} for couchdb passes if the IP address of the couchDB container is used, instead of {{localhost}} for the couchDB adress in tests." created="2017-01-23 17:51:08.0" updateauthor="adnanchoudhury" updated="2017-01-23 17:55:09.0"/>
