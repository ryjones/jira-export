<Issue id="14621" key="FAB-2118" number="2118" project="10002" reporter="baohua" assignee="baohua" creator="baohua" type="10002" summary="Fabric peer, order and CA have various cfg env styles" priority="2" resolution="10000" status="6" created="2017-02-08 03:06:30.0" updated="2018-07-20 14:11:32.0" resolutiondate="2017-04-25 03:01:30.0" votes="1" watches="1" timeoriginalestimate="144000" timeestimate="144000" workflowId="37351"> <description><! CDATA Currently, there are different styles of variables among these fabric projects.  *PEER_CFG_PATH*                          =    /etc/hyperledger/fabric *ORDERER_CFG_PATH*                  =    /etc/hyperledger/fabric/orderer *CORE_PEER_MSPCONFIGPATH*  =   $PEER_CFG_PATH/msp/sampleconfig *FABRIC_CA_HOME*                        =    /etc/hyperledger/fabric-ca  And, peer has its own msp path under the cfg path, while orderer has the msp path as `../msp`  So suggest to make these changes to update the cfg variables, to avoid more mistakes in future.  1. To keep them aligned and easy to understand, suggest to update the PEER_CFG_PATH to /etc/hyperledger/fabric/peer, and use name FABRIC_ORDERER_CFG. Also the peer will have its own msp path as  $FABRIC_PEER_CFG/msp. 2. The orderer is using  ORDERER_CFG_PATH=/etc/hyperledger/fabric/orderer, would suggest to rename as FABRIC_ORDERER_CFG=/etc/hyperledger/fabric/orderer. Also the orderer will have its own msp path as  $FABRIC_ORDERER_CFG/msp. 3. fabric-ca is using a FABRIC_CA_HOME as both cfg and home dir, would suggest to have a separate cfg env like `FABRIC_CA_CFG`. While keep the FABRIC_CA_HOME as the home dir path. 4. CORE_PEER_MSPCONFIGPATH is supported in the yaml file, while others are not controlled by the yaml file.  In summary, would like to change those env and values as the following, and also enable the setup in yaml file.  *CORE_PEER_CFGPATH*                =    /etc/hyperledger/fabric/peer *CORE_ORDERER_CFGPATH*        =    /etc/hyperledger/fabric/orderer *CORE_PEER_MSP_CFGPATH*      =   $PEER_CFG_PATH/msp/sampleconfig  *FABRIC_CA_CFGPATH*                   =    /etc/hyperledger/fabric/ca  And possible specially for ca-client and ca-server, *FABRIC_CA_CFG_CLIENT*   =  /etc/hyperledger/fabric/ca/client *FABRIC_CA_CFG_SERVER* =  /etc/hyperledger/fabric/ca/server  Welcome for comments to see if this change makes sense.  Thanks!  ></description> </Issue>
