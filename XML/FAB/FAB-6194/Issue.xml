<Issue id="20870" key="FAB-6194" number="6194" project="10002" reporter="c0rwin" assignee="c0rwin" creator="c0rwin" type="10004" summary="No need to print statck trace on invalid stateinfo message." priority="3" resolution="10000" status="6" created="2017-09-17 20:07:52.0" updated="2018-07-20 14:14:25.0" resolutiondate="2017-10-17 21:56:53.0" votes="0" watches="1" workflowId="40032"> <description><! CDATA Currently gossip code which checks for validity of the StateInfoMessage output following stack trace:  {code} 16:52:35 unit-tests_1  | 2017-09-17 16:52:08.768 UTC  gossip/gossip#p4  validateMsg -> WARN 29d StateInfo message GossipMessage: tag:CHAN_OR_ORG state_info:<metadata:"\000\000\000\000\000\000\000\000" timestamp:<inc_num:11651379494838206464 seq_num:1505667124723990546 > pki_id:"localhost:5613" channel_MAC:"\253g\353XK\300\331\211\20024?R~z+g\247}\016\363TI\304\337\022\314:x\002\330\020" properties:<> > , Envelope: 89 bytes, Signature: 89 bytes is found invalid: PKIID wasn't found 16:52:35 unit-tests_1  | github.com/hyperledger/fabric/gossip/identity.(*identityMapperImpl).Get 16:52:35 unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/gossip/identity/identity.go:149 16:52:35 unit-tests_1  | github.com/hyperledger/fabric/gossip/gossip.(*gossipServiceImpl).validateStateInfoMsg 16:52:35 unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/gossip/gossip/gossip_impl.go:1194 16:52:35 unit-tests_1  | github.com/hyperledger/fabric/gossip/gossip.(*gossipServiceImpl).validateMsg 16:52:35 unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/gossip/gossip/gossip_impl.go:430 16:52:35 unit-tests_1  | github.com/hyperledger/fabric/gossip/gossip.(*gossipServiceImpl).handleMessage 16:52:35 unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/gossip/gossip/gossip_impl.go:352 16:52:35 unit-tests_1  | github.com/hyperledger/fabric/gossip/gossip.(*gossipServiceImpl).acceptMessages 16:52:35 unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/gossip/gossip/gossip_impl.go:333 16:52:35 unit-tests_1  | runtime.goexit 16:52:35 unit-tests_1  | 	/opt/go/src/runtime/asm_amd64.s:2337 16:52:35 unit-tests_1  | github.com/hyperledger/fabric/gossip/gossip.(*gossipServiceImpl).validateStateInfoMsg 16:52:35 unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/gossip/gossip/gossip_impl.go:1196 16:52:35 unit-tests_1  | github.com/hyperledger/fabric/gossip/gossip.(*gossipServiceImpl).validateMsg 16:52:35 unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/gossip/gossip/gossip_impl.go:430 16:52:35 unit-tests_1  | github.com/hyperledger/fabric/gossip/gossip.(*gossipServiceImpl).handleMessage 16:52:35 unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/gossip/gossip/gossip_impl.go:352 16:52:35 unit-tests_1  | github.com/hyperledger/fabric/gossip/gossip.(*gossipServiceImpl).acceptMessages 16:52:35 unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/gossip/gossip/gossip_impl.go:333 16:52:35 unit-tests_1  | runtime.goexit 16:52:35 unit-tests_1  | 	/opt/go/src/runtime/asm_amd64.s:2337 {code}  which is way too verbose and redundant. Therefore it will be enough to log only relevant information regarding validation w/o stack trace.  ></description> </Issue>
