<Issue id="41580" key="FAB-16180" number="16180" project="10002" reporter="vijaypunugubati" assignee="sykesm" creator="vijaypunugubati" type="10004" summary="fabric-test-daily-behave-master job: consistent failure on orderer.feature test cases (FAB-3851, FAB-3859) " priority="2" resolution="10000" status="6" created="2019-08-01 18:16:34.0" updated="2019-08-19 21:57:03.0" resolutiondate="2019-08-19 21:57:03.0" votes="0" watches="4" workflowId="54597"> <description><! CDATA The five failed tests all tried to send transactions containing Message Payloads of size 2MB or more. Tests with smaller payloads passed. The logs for the behave and peer0.org1 are attached for debugging. That is the peer where the transaction proposals are sent in the testcases. The tests were passing daily until the first failure on build #3â€‹09 on Jul 28, 2019 1:02 AM GMT, and failed daily since then. No changes were made to the tests.  Build:Â  https://jenkins.hyperledger.org/view/Daily/job/fabric-test-daily-behave-master-x86_64/312   *Branch:*Â Master  *Platform:* x86_64  *Failed to run orderer.feature test cases:*   orderer.Orderer Service.FAB-3851: Message Payloads of size 2MB, for solo orderer -- @1.2|https://jenkins.hyperledger.org/view/Daily/job/fabric-test-daily-behave-master-x86_64/312/testReport/orderer/Orderer%20Service/FAB_3851__Message_Payloads_of_size_2MB__for_solo_orderer_____1_2_/    orderer.Orderer Service.FAB-3851: Message Payloads of size 4MB, for solo orderer -- @1.3|https://jenkins.hyperledger.org/view/Daily/job/fabric-test-daily-behave-master-x86_64/312/testReport/orderer/Orderer%20Service/FAB_3851__Message_Payloads_of_size_4MB__for_solo_orderer_____1_3_/    orderer.Orderer Service.FAB-3859: Kafka Network with Large Message Size 10MB with Configuration Tweaks -- @1.7|https://jenkins.hyperledger.org/view/Daily/job/fabric-test-daily-behave-master-x86_64/312/testReport/orderer/Orderer%20Service/FAB_3859__Kafka_Network_with_Large_Message_Size_10MB_with_Configuration_Tweaks_____1_7_/    orderer.Orderer Service.FAB-3859: Kafka Network with Large Message Size 2MB with Configuration Tweaks -- @1.5|https://jenkins.hyperledger.org/view/Daily/job/fabric-test-daily-behave-master-x86_64/312/testReport/orderer/Orderer%20Service/FAB_3859__Kafka_Network_with_Large_Message_Size_2MB_with_Configuration_Tweaks_____1_5_/    orderer.Orderer Service.FAB-3859: Kafka Network with Large Message Size 4MB with Configuration Tweaks -- @1.6|https://jenkins.hyperledger.org/view/Daily/job/fabric-test-daily-behave-master-x86_64/312/testReport/orderer/Orderer%20Service/FAB_3859__Kafka_Network_with_Large_Message_Size_4MB_with_Configuration_Tweaks_____1_6_/   Â   *Error Snippet:*Â  {code:java} /And an admin deploys chaincode at path "github.com/hyperledger/fabric-test/chaincodes/mapkeys/go" with args  "init"  with name "mapIt" on channel "configsz" # steps/endorser_impl.py:143 When a user invokes on the channel "configsz" using chaincode named "mapIt" with random args  "put","g","{random_value}"  of length 2097152                  # steps/endorser_impl.py:752  "ok","request is set"   "ok","proposal sent"  Proposal Response 0 of 1 responses. All good Now send transaction  2019-08-01T07:26:13.131Z -  31merror 39m:  Channel.js : sendTransaction - no valid endorsements found  "error","Failed to send transaction and get notifications within the timeout period."   "ok","Failed to order the transaction. Error code: Failed to send transaction and get notifications within the timeout period."  --------make-runnable-output-------- Failed to order the transaction. Error code: undefined ------------------------------------ And I wait "10" seconds                                                                                                                                      # steps/basic_impl.py:24 And a user queries on the channel "configsz" using chaincode named "mapIt" for the random key with args  "get","g"  on "peer0.org1.example.com"              # steps/endorser_impl.py:423 Then a user receives a response containing a value of length 2097152                                                                                         # steps/endorser_impl.py:1215 Assertion Failed: Expected response to be of length 2097152; received length 0; Result: / code placeholder {code}  *Behave.logs:*   https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-behave-master-x86_64/lastUnstableBuild/artifact/gopath/src/github.com/hyperledger/fabric-test/feature/behave_tests.log   *peer logs:*   https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-behave-master-x86_64/lastUnstableBuild/artifact/gopath/src/github.com/hyperledger/fabric-test/feature/   {color:#00875a}*Below links for the reference When the test cases are success.*{color} {code:java} /  And an admin deploys chaincode at path "github.com/hyperledger/fabric-test/chaincodes/mapkeys/go" with args  "init"  with name "mapIt" on channel "configsz" # steps/endorser_impl.py:143 When a user invokes on the channel "configsz" using chaincode named "mapIt" with random args  "put","g","{random_value}"  of length 2097152                  # steps/endorser_impl.py:752  "ok","request is set"   "ok","proposal sent"  Proposal Response 0 of 1 responses. All good Now send transaction  Results ' object Object '.   "ok","2c75b073354439c3464ffda62905d86968694c7613626716f8d84930fd1a07d0"  --------make-runnable-output--------  "ok","2c75b073354439c3464ffda62905d86968694c7613626716f8d84930fd1a07d0"  ------------------------------------ And I wait "10" seconds                                                                                                                                      # steps/basic_impl.py:24 And a user queries on the channel "configsz" using chaincode named "mapIt" for the random key with args  "get","g"  on "peer0.org1.example.com"              # steps/endorser_impl.py:423 Then a user receives a response containing a value of length 2097152                                                                                         # steps/endorser_impl.py:1215 And a user receives a response with the random value                                                                                                         # steps/endorser_impl.py:1202 Memory Info Before Network Teardown: 	Free: 6735142912 	Used: 3580776448 	Percentage: 34.1 / code placeholder {code} {color:#172b4d}*Behave.logs:*{color}  {color:#172b4d} https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-daily-behave-master-x86_64/308/Behave_Test_Logs/behave_tests.log.gz {color}  ></description> </Issue>
