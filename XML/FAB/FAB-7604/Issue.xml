<Issue id="26501" key="FAB-7604" number="7604" project="10002" reporter="wlahti" assignee="wlahti" creator="wlahti" type="10004" summary="Peer deliver service is unusable when block event policy has not been defined" priority="2" resolution="10000" status="6" created="2018-01-04 19:22:10.0" updated="2018-07-20 14:15:21.0" resolutiondate="2018-01-06 15:34:13.0" votes="0" watches="1" workflowId="40879"> <description><! CDATA After FAB-7521, the peer deliver service is unusable because the BLOCKEVENT policy is not set by default.  {code:java} peer0.org1.example.com | 2018-01-04 16:03:34.426 UTC  common/peer  Deliver -> DEBU d6a Starting new Deliver handler peer0.org1.example.com | 2018-01-04 16:03:34.426 UTC  common/deliver  Handle -> DEBU d6b Starting new deliver loop for 172.18.0.1:51762 peer0.org1.example.com | 2018-01-04 16:03:34.426 UTC  common/deliver  Handle -> DEBU d6c Attempting to read seek info message from 172.18.0.1:51762 peer0.org1.example.com | 2018-01-04 16:03:34.427 UTC  policies  GetPolicy -> ERRO d6d Returning dummy reject all policy because no policy ID supplied peer0.org1.example.com | 2018-01-04 16:03:34.427 UTC  common/deliver  deliverBlocks -> WARN d6e  channel: mychannel  Received unauthorized deliver request from 172.18.0.1:51762: could not find policy{code} The peer should use the aclmgmt package, which will check for the policy and, if not set, use the default value (in this case, channel readers).   FAB-7521 modified the BDD tests for peer deliver so that they would pass instead of addressing why they were failing in the first place.   ></description> </Issue>
