<Issue id="44392" key="FAB-17523" number="17523" project="10002" reporter="denyeart" assignee="denyeart" creator="denyeart" type="10004" summary="Endorsing peer is not honoring RequiredPeerCount for private data dissemination" priority="2" resolution="10000" status="6" created="2020-02-22 18:53:43.0" updated="2020-02-25 05:54:57.0" resolutiondate="2020-02-25 05:54:29.0" votes="0" watches="1" workflowId="58300" archived="N"> <description><! CDATA If there are not enough known eligible peers to meet a private data collection RequiredPeerCount, endorsement was succeeding rather than returning an error.  This was a regression caused by FAB-15389 in v1.4.4. FAB-15389 shifted entirely to per-peer dissemination where required peers were tagged up front before dissemination, however there was no overall check to ensure that RequiredPeerCount was met. Prior to FAB-15389, the check was handled deeper in the gossip dissemination. Gossip still checks that each selected required peer disseminates the private data.  This fix adds the overall RequiredPeerCount check for cases where there are not enough known eligible peers.  Also, improvements are made to variable names, error messages, and comments to make dissemination code easier to understand.   ></description> </Issue>
