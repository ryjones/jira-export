<Issue id="39519" key="FAB-15282" number="15282" project="10002" reporter="nyet" creator="nyet" type="10004" summary="If the statsd endpoint hostname cannot be resolved by DNS, or connection refused while using TCP, the process panics" priority="3" resolution="10203" status="6" created="2019-04-25 17:53:45.0" updated="2019-04-30 13:29:47.0" resolutiondate="2019-04-30 13:29:47.0" votes="0" watches="3" workflowId="52399"> <description><! CDATA {{stats}} is a host that cannot be resolved by DNS: {code} orderer0 | 2019-04-25 17:19:23.234 UTC  orderer.common.server  Start -> PANI 0cf failed to initialize operations subsystem: dial tcp: lookup stats on 127.0.0.11:53: no such host orderer0 | panic: failed to initialize operations subsystem: dial tcp: lookup stats on 127.0.0.11:53: no such host orderer0 | orderer0 | goroutine 1  running : orderer0 | github.com/hyperledger/fabric/vendor/go.uber.org/zap/zapcore.(*CheckedEntry).Write(0xc0003e09a0, 0x0, 0x0, 0x0) orderer0 |     /opt/gopath/src/github.com/hyperledger/fabric/vendor/go.uber.org/zap/zapcore/entry.go:229 +0x515 orderer0 | github.com/hyperledger/fabric/vendor/go.uber.org/zap.(*SugaredLogger).log(0xc00000e1e0, 0xc00000e004, 0xf763f0, 0x2d, 0xc000455df0, 0x1, 0x1, 0x0, 0x0, 0x0) orderer0 |     /opt/gopath/src/github.com/hyperledger/fabric/vendor/go.uber.org/zap/sugar.go:234 +0xf6 orderer0 | github.com/hyperledger/fabric/vendor/go.uber.org/zap.(*SugaredLogger).Panicf(0xc00000e1e0, 0xf763f0, 0x2d, 0xc000455df0, 0x1, 0x1) orderer0 |     /opt/gopath/src/github.com/hyperledger/fabric/vendor/go.uber.org/zap/sugar.go:159 +0x79 orderer0 | github.com/hyperledger/fabric/common/flogging.(*FabricLogger).Panicf(0xc00000e1e8, 0xf763f0, 0x2d, 0xc000455df0, 0x1, 0x1) orderer0 |     /opt/gopath/src/github.com/hyperledger/fabric/common/flogging/zap.go:74 +0x60 orderer0 | github.com/hyperledger/fabric/orderer/common/server.Start(0xf4dfc0, 0x5, 0xc000428000) orderer0 |     /opt/gopath/src/github.com/hyperledger/fabric/orderer/common/server/main.go:118 +0x22b orderer0 | github.com/hyperledger/fabric/orderer/common/server.Main() orderer0 |     /opt/gopath/src/github.com/hyperledger/fabric/orderer/common/server/main.go:87 +0x1ce orderer0 | main.main() orderer0 |     /opt/gopath/src/github.com/hyperledger/fabric/orderer/main.go:15 +0x20 orderer0 exited with code 2 {code}  {{stats}} is a host that is refusing TCP connections, and {{CORE_METRICS_STATSD_NETWORK=tcp}} {code} orderer0 | 2019-04-25 17:54:48.444 UTC  orderer.common.server  Start -> PANI 0cf failed to initialize operations subsystem: dial tcp 172.26.0.2:8126: connect: connection refused orderer0 | panic: failed to initialize operations subsystem: dial tcp 172.26.0.2:8126: connect: connection refused orderer0 | orderer0 | goroutine 1  running : orderer0 | github.com/hyperledger/fabric/vendor/go.uber.org/zap/zapcore.(*CheckedEntry).Write(0xc0000edb80, 0x0, 0x0, 0x0) orderer0 |     /opt/gopath/src/github.com/hyperledger/fabric/vendor/go.uber.org/zap/zapcore/entry.go:229 +0x515 orderer0 | github.com/hyperledger/fabric/vendor/go.uber.org/zap.(*SugaredLogger).log(0xc0000b2250, 0xc0000b2104, 0xf763f0, 0x2d, 0xc000017df0, 0x1, 0x1, 0x0, 0x0, 0x0) orderer0 |     /opt/gopath/src/github.com/hyperledger/fabric/vendor/go.uber.org/zap/sugar.go:234 +0xf6 orderer0 | github.com/hyperledger/fabric/vendor/go.uber.org/zap.(*SugaredLogger).Panicf(0xc0000b2250, 0xf763f0, 0x2d, 0xc000017df0, 0x1, 0x1) orderer0 |     /opt/gopath/src/github.com/hyperledger/fabric/vendor/go.uber.org/zap/sugar.go:159 +0x79 orderer0 | github.com/hyperledger/fabric/common/flogging.(*FabricLogger).Panicf(0xc0000b2258, 0xf763f0, 0x2d, 0xc000017df0, 0x1, 0x1) orderer0 |     /opt/gopath/src/github.com/hyperledger/fabric/common/flogging/zap.go:74 +0x60 orderer0 | github.com/hyperledger/fabric/orderer/common/server.Start(0xf4dfc0, 0x5, 0xc000240000) orderer0 |     /opt/gopath/src/github.com/hyperledger/fabric/orderer/common/server/main.go:118 +0x22b orderer0 | github.com/hyperledger/fabric/orderer/common/server.Main() orderer0 |     /opt/gopath/src/github.com/hyperledger/fabric/orderer/common/server/main.go:87 +0x1ce orderer0 | main.main() orderer0 |     /opt/gopath/src/github.com/hyperledger/fabric/orderer/main.go:15 +0x20 {code} The code should drop (or queue) the message that is trying to be sent, and retry later  ></description> </Issue>
