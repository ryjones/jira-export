<Issue id="12880" key="FAB-579" number="579" project="10002" reporter="genggjh" assignee="genggjh" creator="genggjh" type="10004" summary="invalid memory address or nil pointer dereference when run asset_management02 test code" priority="3" resolution="10000" status="6" created="2016-10-02 10:08:37.0" updated="2018-07-20 14:10:22.0" resolutiondate="2016-10-11 06:21:46.0" votes="0" watches="1" workflowId="36366"> <description><! CDATA Fail to run the `go test` under both asset_management02 and asset_management_with_roles with following error:  --- FAIL: TestChaincodeDeploy (0.01s) panic: runtime error: invalid memory address or nil pointer dereference  recovered  	panic: runtime error: invalid memory address or nil pointer dereference  signal 0xb code=0x1 addr=0x0 pc=0x834eac   goroutine 213  running : panic(0xd2e9a0, 0xc82000a110) 	/opt/go/src/runtime/panic.go:464 +0x3e6 testing.tRunner.func1(0xc82043f8c0) 	/opt/go/src/testing/testing.go:467 +0x192 panic(0xd2e9a0, 0xc82000a110) 	/opt/go/src/runtime/panic.go:426 +0x4e9 github.com/hyperledger/fabric/vendor/github.com/tecbot/gorocksdb.(*DB).GetCF(0x0, 0xc82011a368, 0x0, 0x14fbab0, 0xa, 0xa, 0x0, 0x0, 0x0) 	/opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/tecbot/gorocksdb/db.go:258 +0xcc github.com/hyperledger/fabric/core/db.(*OpenchainDB).Get(0xc8201964e0, 0x0, 0x14fbab0, 0xa, 0xa, 0x0, 0x0, 0x0, 0x0, 0x0) 	/opt/gopath/src/github.com/hyperledger/fabric/core/db/db.go:229 +0xd4 github.com/hyperledger/fabric/core/db.(*OpenchainDB).GetFromBlockchainCF(0xc8201964e0, 0x14fbab0, 0xa, 0xa, 0x0, 0x0, 0x0, 0x0, 0x0) 	/opt/gopath/src/github.com/hyperledger/fabric/core/db/db.go:81 +0x75 github.com/hyperledger/fabric/core/ledger.fetchBlockchainSizeFromDB(0xa1, 0x0, 0x0) 	/opt/gopath/src/github.com/hyperledger/fabric/core/ledger/blockchain.go:278 +0x57 github.com/hyperledger/fabric/core/ledger.newBlockchain(0x0, 0x0, 0x0) 	/opt/gopath/src/github.com/hyperledger/fabric/core/ledger/blockchain.go:49 +0x2e github.com/hyperledger/fabric/core/ledger.GetNewLedger(0xc820477c70, 0x0, 0x0) 	/opt/gopath/src/github.com/hyperledger/fabric/core/ledger/ledger.go:101 +0x28 github.com/hyperledger/fabric/core/ledger.GetLedger.func1() 	/opt/gopath/src/github.com/hyperledger/fabric/core/ledger/ledger.go:94 +0x1c sync.(*Once).Do(0x15339f8, 0xfeb170) 	/opt/go/src/sync/once.go:44 +0xe4 github.com/hyperledger/fabric/core/ledger.GetLedger(0xc8202fb5c0, 0x0, 0x0) 	/opt/gopath/src/github.com/hyperledger/fabric/core/ledger/ledger.go:95 +0x3b github.com/hyperledger/fabric/examples/chaincode/go/asset_management02.deploy(0x7fa687244f08, 0xc8203da7c0, 0x0, 0x0) 	/opt/gopath/src/github.com/hyperledger/fabric/examples/chaincode/go/asset_management02/asset_management02_test.go:353 +0x4a0 github.com/hyperledger/fabric/examples/chaincode/go/asset_management02.TestChaincodeDeploy(0xc82043f8c0) 	/opt/gopath/src/github.com/hyperledger/fabric/examples/chaincode/go/asset_management02/asset_management02_test.go:108 +0x16e testing.tRunner(0xc82043f8c0, 0x14f3a00) 	/opt/go/src/testing/testing.go:473 +0x98 created by testing.RunTests 	/opt/go/src/testing/testing.go:582 +0x892 exit status 2 FAIL   	github.com/hyperledger/fabric/examples/chaincode/go/asset_management02 	11.478s  ></description> </Issue>
