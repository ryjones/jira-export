<Action id="30394" issue="20536" author="vdods" type="comment" created="2017-08-31 01:01:28.0" updateauthor="vdods" updated="2017-08-31 01:01:28.0"> <body><! CDATA Here's a useful link:   https://stackoverflow.com/questions/31861109/tls-what-exactly-does-rejectunauthorized-mean-for-me      ></body> </Action>
<Action id="36066" issue="20536" author="mastersingh24" type="comment" created="2017-12-09 13:15:35.0" updateauthor="mastersingh24" updated="2018-02-21 14:40:47.0"> <body><! CDATA  ~vdods  - The tricky part here is that the CAs, peers and orderer are all running in Docker containers and the balance transfer app is running locally on the host. The common names set in the TLS server certs for all of these containers match the container_ids set via docker-compose.yaml. But the host machine will not be able to resolve these DNS names and therefore the app uses "localhost" as the address for all of the containers (ports are exposed on the host in docker-compose.yaml). But then the issue is that the CN in the certificate will not match the hostname(s) the client / app uses to communicate with the container(s) and the connection will fail.  The sample uses the *ssl-target-name-override* property for the gRPC settings (  https://github.com/hyperledger/fabric-samples/blob/release/balance-transfer/app/helper.js#L65  ) to overcome this for communicating with the peer / orderer nodes. For the the connection to the CA, as you noted the sample used rejectUnauthorized. We can emulate the behavior of the gRPC connections by using the *checkServerIdentity(servername, cert)* option instead.  Of course the other option would be to add *localhost* to the *SANs* defined in the certificates we generate as well  ></body> </Action>
<Action id="36075" issue="20536" author="vdods" type="comment" body="That issue is dealt with easily by running the balance transfer app also in a docker container." created="2017-12-10 06:54:55.0" updateauthor="vdods" updated="2017-12-10 06:54:55.0"/>
<Action id="40166" issue="20536" author="denyeart" type="comment" body=" ~aambati  Can you take a look and provide an opinion?" created="2018-02-14 16:57:43.0" updateauthor="denyeart" updated="2018-02-14 16:57:43.0"/>
<Action id="40500" issue="20536" author="mastersingh24" type="comment" body="I&apos;d suggest that when we generate the crypto artifacts we specify &quot;localhost&quot; as one of the SANs.  There is an option to do this when running cryptogen" created="2018-02-21 14:42:04.0" updateauthor="mastersingh24" updated="2018-02-21 14:42:04.0"/>
<Action id="41337" issue="20536" author="skarim" type="comment" created="2018-03-07 19:40:34.0" updateauthor="skarim" updated="2018-03-07 19:40:46.0"> <body><! CDATA I am trying to add "localhost" as one of the SANs for the CA certificates but cryptogen does not seem to be picking it up.   In my cryptogen.yaml file I have a section like:  {code:none} - Name: Org2 Domain: org2.example.com CA: Hostname: ca # implicitly ca.org1.example.com SANS: - "localhost"  Template: Count: 2 SANS: - "localhost" Users: Count: 1 {code}  But when I look at the ca certificate that is generated, it does not contain SANs.  ~mastersingh24   ~adc    ></body> </Action>
<Action id="43869" issue="20536" author="jyellick" type="comment" body="Any updates here?" created="2018-05-04 17:18:29.0" updateauthor="jyellick" updated="2018-05-04 17:18:29.0"/>
<Action id="44768" issue="20536" author="kchristidis" type="comment" created="2018-05-21 18:17:12.0" updateauthor="kchristidis" updated="2018-05-21 18:17:12.0"> <body><! CDATA ^^ Please update status.  FWIW, experimenting with cryptogen and setting SANS to "127.0.0.1" seems to work w/o issues.  ></body> </Action>
<Action id="44803" issue="20536" author="skarim" type="comment" body=" ~jyellick  I have not had much time to look into this further.  ~kchristidis , can you post your cryptogen.yaml file? Maybe I wasn&apos;t configuring it correctly" created="2018-05-22 00:35:53.0" updateauthor="skarim" updated="2018-05-22 00:35:53.0"/>
<Action id="44805" issue="20536" author="kchristidis" type="comment" body=" ~skarim : https://gerrit.hyperledger.org/r/c/19743/17/integration/orderer/raft/testdata/cryptogen.yml" created="2018-05-22 00:46:37.0" updateauthor="kchristidis" updated="2018-05-22 00:46:37.0"/>
<Action id="45702" issue="20536" author="mastersingh24" type="comment" created="2018-06-08 13:39:44.0" updateauthor="mastersingh24" updated="2018-06-08 13:39:44.0"> <body><! CDATA I honestly would not waste time on this.  It's a sample .... not a reference.   ~kchristidis   ~skarim  - I personally think this should be closed as WON'T FIX  ></body> </Action>
