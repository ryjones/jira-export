<Issue id="28884" key="FAB-9156" number="9156" project="10002" reporter="sykesm" creator="sykesm" type="10003" summary="Data race when running TestInitializeServerConfig" priority="4" resolution="10200" status="6" created="2018-03-26 14:59:43.0" updated="2018-07-20 14:17:30.0" resolutiondate="2018-07-20 14:05:26.0" votes="0" watches="1" workflowId="43014"> <description><! CDATA {code:java} unit-tests_1  | ==================  unit-tests_1  | WARNING: DATA RACE  unit-tests_1  | Write at 0x000001d79de8 by goroutine 71:  unit-tests_1  |   github.com/hyperledger/fabric/orderer/common/server.TestInitializeServerConfig.func1()  unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/orderer/common/server/main_test.go:112 +0x64  unit-tests_1  |   github.com/hyperledger/fabric/orderer/common/server.TestInitializeServerConfig()  unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/orderer/common/server/main_test.go:147 +0x1139  unit-tests_1  |   testing.tRunner()  unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c  unit-tests_1  |  unit-tests_1  | Previous read at 0x000001d79de8 by goroutine 27:  unit-tests_1  |   github.com/hyperledger/fabric/orderer/common/server.(*server).Broadcast.func1()  unit-tests_1  |       github.com/hyperledger/fabric/orderer/common/server/_test/_obj_test/server.go:154 +0x8e  unit-tests_1  |   github.com/hyperledger/fabric/orderer/common/server.(*server).Broadcast()  unit-tests_1  |       github.com/hyperledger/fabric/orderer/common/server/_test/_obj_test/server.go:157 +0x1fe  unit-tests_1  |   github.com/hyperledger/fabric/orderer/common/performance.(*BenchmarkServer).CreateBroadcastClient.func1()  unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/orderer/common/performance/server.go:117 +0x6b  unit-tests_1  |  unit-tests_1  | Goroutine 71 (running) created at:  unit-tests_1  |   testing.(*T).Run()  unit-tests_1  |       /opt/go/src/testing/testing.go:789 +0x568  unit-tests_1  |   testing.runTests.func1()  unit-tests_1  |       /opt/go/src/testing/testing.go:1004 +0xa7  unit-tests_1  |   testing.tRunner()  unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c  unit-tests_1  |   testing.runTests()  unit-tests_1  |       /opt/go/src/testing/testing.go:1002 +0x521  unit-tests_1  |   testing.(*M).Run()  unit-tests_1  |       /opt/go/src/testing/testing.go:921 +0x206  unit-tests_1  |   main.main()  unit-tests_1  |       github.com/hyperledger/fabric/orderer/common/server/_test/_testmain.go:132 +0x2f0  unit-tests_1  |  unit-tests_1  | Goroutine 27 (running) created at:  unit-tests_1  |   github.com/hyperledger/fabric/orderer/common/performance.(*BenchmarkServer).CreateBroadcastClient()  unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/orderer/common/performance/server.go:116 +0x1b8  unit-tests_1  |   github.com/hyperledger/fabric/orderer/common/performance.CreateChannel()  unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/orderer/common/performance/utils.go:91 +0x68  unit-tests_1  |   github.com/hyperledger/fabric/orderer/common/server.benchmarkOrderer()  unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/orderer/common/server/benchmark_test.go:430 +0x8fc  unit-tests_1  |   github.com/hyperledger/fabric/common/viperutil.getKeysRecursively()  unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/viperutil/config_util.go:48 +0xdbd  unit-tests_1  |   github.com/hyperledger/fabric/common/viperutil.EnhancedExactUnmarshal()  unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/viperutil/config_util.go:294 +0xf4  unit-tests_1  |   github.com/hyperledger/fabric/common/tools/configtxgen/localconfig.Load()  unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/tools/configtxgen/localconfig/config.go:232 +0x951  unit-tests_1  |   github.com/hyperledger/fabric/orderer/common/server.benchmarkOrderer()  unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/orderer/common/server/benchmark_test.go:371 +0xa5  unit-tests_1  |   github.com/hyperledger/fabric/orderer/common/server.TestOrdererBenchmarkSolo.func1()  unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/orderer/common/server/benchmark_test.go:160 +0x73  unit-tests_1  |   testing.tRunner()  unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c  unit-tests_1  | =================={code}  ></description> </Issue>
