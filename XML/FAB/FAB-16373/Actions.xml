<Action id="63199" issue="41941" author="jyellick" type="comment" created="2019-08-22 16:38:39.0" updateauthor="jyellick" updated="2019-08-22 16:38:39.0"> <body><! CDATA The only time I have ever witnessed this message, is when there has been data loss in the Kafka brokers.  Most often, because the Kafka brokers are all being executed on a single VM or other host which can cause them to die concurrently.  Fabric is much more tolerant of ungraceful cluster exits than Kafka.  Because Kafka brokers do not call fsync, but Orderers do, it's possible that in the right crash conditions that some orderers get ahead of the Kafka brokers.  In this case, any orderer which is lagging behind will encounter the gap of missing data in the broker logs, and will report this message.  This would not be a bug, because Kafka is working as designed, and it's important when deploying Kafka that some in-sync replica is always alive.  If all Kafka brokers must be stopped, then they need to be shut-down gracefully, after the orderers have been shut down so as to prevent new traffic from being brought onto them.  The only real remedy for this situation is to pick an orderer as the source of truth for the ledger, copy its ledger, and use this ledger to recover your failed nodes and when bootstrapping new orderer nodes.  Because there has been data loss in Kafka, there is no way to bootstrap a new orderer purely from Kafka.  ></body> </Action>
