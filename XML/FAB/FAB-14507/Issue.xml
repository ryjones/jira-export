<Issue id="38238" key="FAB-14507" number="14507" project="10002" reporter="tock" assignee="tock" creator="tock" type="10003" summary="Rollback from a misconfigured etcd/raft cluster back to kafka" priority="3" resolution="10001" status="6" created="2019-03-06 08:58:23.0" updated="2019-04-04 07:43:55.0" resolutiondate="2019-04-04 07:39:23.0" votes="0" watches="1" workflowId="49860"> <description><! CDATA If a user provides a bad etcd/raft metadata in the CONTEXT and COMMIT config updates, the etcd/raft orderers will not be able to communicate, form a majority, and elect a leader.  This can happen, for example, if the HOST field in the EtcdRaft Consenter field is wrong. This is not far fetched, as the HOST field represents the "outside" address other orderers need to use in order to reach the node. In environments with NAT it is easy to get that wrong.  If an etcd/raft cluster fails to form a majority, it should be possible to:  * shut down the nodes * replace the genesis file (that is the last system channel config block - the COMMIT) with the original genesis file (which is saved along side it with a *.bak suffix) * restart the nodes - they will boot back to kafka * abort the migration using the normal procedure for abort (see...) * try migration again, with a corrected Raft  metadata   ></description> </Issue>
