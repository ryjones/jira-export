<Action id="23350" issue="16223" author="wlahti" type="comment" created="2017-05-03 17:20:05.0" updateauthor="wlahti" updated="2017-05-03 17:26:39.0"> <body><! CDATA Finally got around to investigating this one. It isn't actually a bug but instead a usage (or maybe a little bit of configuration) problem.  peer0 and peer1 are defined in docker-compose.yaml to include a few more environment variables, which is what allows CLI to run easily for those peers.   peer2 and peer3 do not have those environment variables, so they either need to be added to your local docker-compose.yaml or specified when making the CLI calls.  For example: {code} CORE_PEER_MSPCONFIGPATH=/opt/gopath/src/github.com/hyperledger/fabric/examples/e2e_cli/crypto/peer/peer2/localMspConfig CORE_PEER_ADDRESS=peer2:7051 CORE_PEER_LOCALMSPID="Org1MSP" CORE_PEER_TLS_ROOTCERT_FILE=/opt/gopath/src/github.com/hyperledger/fabric/examples/e2e_cli/crypto/peer/peer2/localMspConfig/cacerts/peerOrg1.pem peer logging getlevel peer {code}  With those environment variables, I'm able to successfully run the commands against peer2 and peer3. Note: I do notice a few unusual log statements from the 'msp' module but I see those even when running the peer0 and peer1 commands so it's unrelated.    ~amber-zhang  Can you verify that the commands run after following the above recommendation?  ></body> </Action>
<Action id="23522" issue="16223" author="amber-zhang" type="comment" created="2017-05-08 10:56:35.0" updateauthor="amber-zhang" updated="2017-05-08 10:56:35.0"> <body><! CDATA Hi Will,  Today I pull latest Fabric merged code. It works well with the env variables. thanks     root@f584c2ffab1d:/opt/gopath/src/github.com/hyperledger/fabric/peer# CORE_PEER_LOCALMSPID="Org2MSP" CORE_PEER_TLS_ROOTCERT_FILE=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/ca.crt CORE_PEER_MSPCONFIGPATH=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp CORE_PEER_ADDRESS=peer0.org2.example.com:7051 CORE_PEER_LOCALMSPID="Org2MSP" peer logging setlevel gossip warning  2017-05-08 10:50:45.809 UTC  cli/logging  setLevel -> INFO 004 Log level set for peer modules matching regular expression 'gossip': WARNING 2017-05-08 10:50:45.811 UTC  main  main -> INFO 005 Exiting.....  --------------  root@f584c2ffab1d:/opt/gopath/src/github.com/hyperledger/fabric/peer# CORE_PEER_LOCALMSPID="Org2MSP" CORE_PEER_TLS_ROOTCERT_FILE=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/ca.crt CORE_PEER_MSPCONFIGPATH=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp CORE_PEER_ADDRESS=peer0.org2.example.com:7051 CORE_PEER_LOCALMSPID="Org2MSP" peer logging getlevel gossip/state 2017-05-08 10:50:54.716 UTC  cli/logging  getLevel -> INFO 004 Current log level for peer module 'gossip/state': WARNING 2017-05-08 10:50:54.716 UTC  main  main -> INFO 005 Exiting.....  --------------------- root@f584c2ffab1d:/opt/gopath/src/github.com/hyperledger/fabric/peer# CORE_PEER_LOCALMSPID="Org2MSP" CORE_PEER_TLS_ROOTCERT_FILE=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/ca.crt CORE_PEER_MSPCONFIGPATH=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp CORE_PEER_ADDRESS=peer0.org2.example.com:7051 CORE_PEER_LOCALMSPID="Org2MSP" peer logging getlevel gossip/discovery  2017-05-08 10:50:59.343 UTC  cli/logging  getLevel -> INFO 004 Current log level for peer module 'gossip/discovery': WARNING 2017-05-08 10:50:59.343 UTC  main  main -> INFO 005 Exiting.....     ></body> </Action>
