<Issue id="46299" key="FAB-18324" number="18324" project="10002" reporter="magpie73" assignee="sykesm" creator="magpie73" type="10004" summary="Peer ignore &apos;CORE_PEER_BCCSP_SW_FILEKEYSTORE_KEYSTORE&apos; docker environment" priority="3" status="10300" created="2020-11-08 03:21:13.0" updated="2021-02-03 17:45:22.0" votes="0" watches="4" workflowId="60213" archived="N"> <description><! CDATA *1.Condition* Use SW BCCCSP Set BCCSP FileKeystore.KeyStorePath with path different to default - /etc/hyperledger/fabric/msp/keystore - as docker environment( CORE_PEER_BCCSP_SW_FILEKEYSTORE_KEYSTORE )  *2. Symptom* Peer ignore 'CORE_PEER_BCCSP_SW_FILEKEYSTORE_KEYSTORE' docker environment  If key files really exist on that path, the peer node fail to strat.  *3. Reason* The internal/peer/common/InitCrypto function does not set "peer.BCCSP.SW.FileKeyStore.KeyStore" propely.  *4. Solution* *Should set k*eyStorePath properly in InitCrypto function like below :  bccspConfig.SwOpts.FileKeystore.KeyStorePath = viper.Get("peer.BCCSP.SW.FileKeyStore.KeyStore")  Â   + If this bug is fixed, then peer node will always fail to start even with proper 'CORE_PEER_BCCSP_SW_FILEKEYSTORE_KEYSTORE' docker environment. It is because of other bug related with Ephemeral setting. (FAB-18323)  I think 2 bugs should be fixed at the same time.  ></description> </Issue>
