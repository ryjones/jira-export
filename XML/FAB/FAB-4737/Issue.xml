<Issue id="18019" key="FAB-4737" number="4737" project="10002" reporter="nishi" assignee="muralisr" creator="nishi" type="10004" summary="chaincode_example04 and chaincode_example05 failing in daily chaincode test env" priority="3" resolution="10000" status="6" created="2017-06-14 20:55:27.0" updated="2018-07-20 14:13:25.0" resolutiondate="2017-06-21 13:09:02.0" votes="0" watches="5" workflowId="39096" security="10001"> <description><! CDATA fabric commit level: *Â 0a72230b5d061589a319aaaa0aecd61e7674830c*  chaincode_example04 and chaincode_example05 failing during install on chaincodeTest env. {code:java} + echo ' ***************  BEGIN: Chaincode_Example05 ****************' + ORDERER_CA=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/ordererOrganizations/example.com/orderers/orderer.example.com/msp/cacerts/ca.example.com-cert.pem + echo 'Channel name prefix: channel' + echo 'Total channels: 2' + echo 'Total Chaincodes: 1' + echo 'Total Endorsers: 4' + echo ----------------------------------------- + validateArgs + ' ' -z install ' ' + ' ' install = install -o install == instantiate -o install == invokeQuery ' ' + return + ' ' install = install ' ' + echo 'Installing chaincode on all Peers ...' + installChaincode + (( i=0 )) + (( 0<4 )) + PEER=0 + setGlobals 0 + ' ' 0 -eq 0 -o 0 -eq 1 ' ' + export CORE_PEER_LOCALMSPID=Org1MSP + CORE_PEER_LOCALMSPID=Org1MSP + export CORE_PEER_TLS_ROOTCERT_FILE=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/ca.crt + CORE_PEER_TLS_ROOTCERT_FILE=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/ca.crt + export CORE_PEER_MSPCONFIGPATH=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp + CORE_PEER_MSPCONFIGPATH=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp + ' ' 0 -eq 0 ' ' + export CORE_PEER_ADDRESS=peer0.org1.example.com:7051 + CORE_PEER_ADDRESS=peer0.org1.example.com:7051 + peer chaincode install -n myccex05 -v 1 -p github.com/hyperledger/fabric/examples/chaincode/go/chaincode_example05 2017-06-14 20:41:09.796 UTC  msp  getMspConfig -> INFO 001 intermediate certs folder not found at  /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp/intermediatecerts . Skipping.:  stat /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp/intermediatecerts: no such file or directory  2017-06-14 20:41:09.798 UTC  msp  getMspConfig -> INFO 002 crls folder not found at  /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp/intermediatecerts . Skipping.:  stat /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp/crls: no such file or directory  2017-06-14 20:41:09.798 UTC  msp  getMspConfig -> INFO 003 MSP configuration file not found at  /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp/config.yaml :  stat /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp/config.yaml: no such file or directory  2017-06-14 20:41:09.822 UTC  msp  GetLocalMSP -> DEBU 004 Returning existing local MSP 2017-06-14 20:41:09.822 UTC  msp  GetDefaultSigningIdentity -> DEBU 005 Obtaining default signing identity 2017-06-14 20:41:09.823 UTC  chaincodeCmd  checkChaincodeCmdParams -> INFO 006 Using default escc 2017-06-14 20:41:09.823 UTC  chaincodeCmd  checkChaincodeCmdParams -> INFO 007 Using default vscc 2017-06-14 20:41:09.824 UTC  golang-platform  getCodeFromFS -> DEBU 008 getCodeFromFS github.com/hyperledger/fabric/examples/chaincode/go/chaincode_example05 2017-06-14 20:41:09.896 UTC  golang-platform  func1 -> DEBU 009 Discarding GOROOT package fmt 2017-06-14 20:41:09.896 UTC  golang-platform  func1 -> DEBU 00a Accepting import: github.com/hyperledger/fabric/common/util 2017-06-14 20:41:09.896 UTC  golang-platform  func1 -> DEBU 00b Discarding provided package github.com/hyperledger/fabric/core/chaincode/shim 2017-06-14 20:41:09.896 UTC  golang-platform  func1 -> DEBU 00c Discarding provided package github.com/hyperledger/fabric/protos/peer 2017-06-14 20:41:09.896 UTC  golang-platform  func1 -> DEBU 00d Discarding GOROOT package strconv 2017-06-14 20:41:09.896 UTC  golang-platform  func1 -> DEBU 00e Discarding GOROOT package  Error: Error getting chaincode code chaincode: Error getting chaincode package bytes: Error obtaining dependencies for github.com/hyperledger/fabric/common/util: go list: failed with error: "exit status 1" can't load package: package github.com/hyperledger/fabric/common/util: cannot find package "github.com/hyperledger/fabric/common/util" in any of: 	/opt/go/src/github.com/hyperledger/fabric/common/util (from $GOROOT) 	/opt/gopath/src/github.com/hyperledger/fabric/common/util (from $GOPATH)  Usage: peer chaincode install  flags   Flags: -c, --ctor string      Constructor message for the chaincode in JSON format (default "{}") -l, --lang string      Language the chaincode is written in (default "golang") -n, --name string      Name of the chaincode -p, --path string      Path to chaincode -v, --version string   Version of the chaincode specified in install/instantiate/upgrade commands  Global Flags: --cafile string              Path to file containing PEM-encoded trusted certificate(s) for the ordering endpoint --logging-level string       Default logging level and overrides, see core.yaml for full syntax -o, --orderer string             Ordering service endpoint --test.coverprofile string   Done (default "coverage.cov") --tls                        Use TLS when communicating with the orderer endpoint  + res=1 + verifyResult 1 'Chaincode '\''myccex05'\'' installation on PEER0 has Failed' + ' ' 1 -ne 0 ' ' + echo '!!!!!!!!!!!!!!! Chaincode' ''\''myccex05'\''' installation on PEER0 has 'Failed !!!!!!!!!!!!!!!!' + echo '================== ERROR !!! FAILED to execute End-2-End Scenario example05 ==================' + echo '!!!!!!!!!!!!!!! Chaincode' ''\''myccex05'\''' installation on PEER0 has 'Failed !!!!!!!!!!!!!!!!' + echo '================== ERROR !!! FAILED to execute End-2-End Scenario example05 ==================' + echo ++ date +%s + echo 'Total execution time 0 secs' + exit 1  {code} In docker-compose.yaml file we have the following for container {code:java} cli: container_name: cli image: hyperledger/fabric-tools {code}  ></description> </Issue>
