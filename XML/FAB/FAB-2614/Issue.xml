<Issue id="15181" key="FAB-2614" number="2614" project="10002" reporter="nishi" creator="nishi" type="10004" summary="e2e test with multi channel multi chaincode scenario fails at invoke" priority="2" resolution="10000" status="6" created="2017-03-02 23:01:48.0" updated="2018-07-20 14:11:53.0" resolutiondate="2017-03-03 18:12:34.0" votes="0" watches="3" workflowId="37675"> <description><! CDATA Tested on commit level: *9ab37a56b9d7e6c98c10cce7256c1ca696dc6ce5*  1. Orderer 1; Kafka Brokers 2; num of peers: 4,  num of channels: 2, num chaincodes: 4, chaincode used: chaincode_example02 2. Create 2 channels 3. Join all 4 peers on all channels 4. Install 4 chaincodes on all peers 5. Instantiate first 2 chaincodes on peer0 on both channels with endorsement policy - OR('Org0MSP.member','Org1MSP.member') 6. Instantiate next 2 chaincodes on peer2 on both channels with endorsement policy - AND('Org0MSP.member','Org1MSP.member') 7. Next  {code} for each channel { for each chaincode { for each peer { query value of a  Invoke  query for updated value of a } } }  {code} Test failed on channel-1, chanicode 3, peer0 with below error on all peers {code}  peer2        | 2017-03-02 21:50:57.835 UTC  txvalidator  VSCCValidateTx -> ERRO 001 VSCC check failed for transaction txid=de8c2db2f9bce9be2ab2864339a08862ab9de8280c2c0b919930eb22fbaecf94, error VSCC error: policy evaluation failed, err Failed to authenticate policy peer2        | 2017-03-02 21:50:57.839 UTC  txvalidator  Validate -> ERRO 002 VSCCValidateTx for transaction txId = de8c2db2f9bce9be2ab2864339a08862ab9de8280c2c0b919930eb22fbaecf94 returned error VSCC error: policy evaluation failed, err Failed to authenticate policy peer1        | 2017-03-02 21:50:57.839 UTC  txvalidator  VSCCValidateTx -> ERRO 001 VSCC check failed for transaction txid=de8c2db2f9bce9be2ab2864339a08862ab9de8280c2c0b919930eb22fbaecf94, error VSCC error: policy evaluation failed, err Failed to authenticate policy peer1        | 2017-03-02 21:50:57.839 UTC  txvalidator  Validate -> ERRO 002 VSCCValidateTx for transaction txId = de8c2db2f9bce9be2ab2864339a08862ab9de8280c2c0b919930eb22fbaecf94 returned error VSCC error: policy evaluation failed, err Failed to authenticate policy peer0        | 2017-03-02 21:50:57.844 UTC  txvalidator  VSCCValidateTx -> ERRO 003 VSCC check failed for transaction txid=de8c2db2f9bce9be2ab2864339a08862ab9de8280c2c0b919930eb22fbaecf94, error VSCC error: policy evaluation failed, err Failed to authenticate policy peer0        | 2017-03-02 21:50:57.844 UTC  txvalidator  Validate -> ERRO 004 VSCCValidateTx for transaction txId = de8c2db2f9bce9be2ab2864339a08862ab9de8280c2c0b919930eb22fbaecf94 returned error VSCC error: policy evaluation failed, err Failed to authenticate policy peer3        | 2017-03-02 21:50:57.853 UTC  txvalidator  VSCCValidateTx -> ERRO 001 VSCC check failed for transaction txid=de8c2db2f9bce9be2ab2864339a08862ab9de8280c2c0b919930eb22fbaecf94, error VSCC error: policy evaluation failed, err Failed to authenticate policy peer3        | 2017-03-02 21:50:57.853 UTC  txvalidator  Validate -> ERRO 002 VSCCValidateTx for transaction txId = de8c2db2f9bce9be2ab2864339a08862ab9de8280c2c0b919930eb22fbaecf94 returned error VSCC error: policy evaluation failed, err Failed to authenticate policy  {code}  Please find attached : docker-compose.yaml, multi_channel,sh(has cli commands used in test), Multichannel-Multichaincode-VSCC Error Logs.txt  ></description> </Issue>
