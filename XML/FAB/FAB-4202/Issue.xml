<Issue id="17212" key="FAB-4202" number="4202" project="10002" reporter="guoger" assignee="guoger" creator="guoger" type="10004" summary="Race condition in orderer json ledger implementation" priority="3" resolution="10000" status="6" created="2017-05-29 04:56:06.0" updated="2018-07-20 14:12:59.0" resolutiondate="2017-06-01 20:01:23.0" votes="0" watches="2" workflowId="38702" security="10001"> <description><! CDATA There's a potentially race condition in current order json ledger implementation, where reader attempts to read and unmarshal a block while it's being written, which would results in `unexpected EOF` error.  To reproduce, run this test repeatedly:  {{	go func() { 		block, status = it.Next() 		close(complete) 	}()  	fl.Append(ledger.CreateNextBlock(fl,   *cb.Envelope{{Payload:   byte("Another Data")}}))}}  ></description> </Issue>
