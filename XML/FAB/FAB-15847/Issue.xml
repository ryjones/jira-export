<Issue id="40875" key="FAB-15847" number="15847" project="10002" reporter="scottz" assignee="wlahti" creator="scottz" type="10101" summary="Replacement test to cover Behave CouchDB_Index.feature test FAB-7263 for cc upgrades with mult indexes" priority="3" resolution="10000" status="6" created="2019-07-01 23:32:53.0" updated="2019-08-30 23:00:31.0" resolutiondate="2019-08-30 23:00:31.0" votes="0" watches="2" workflowId="53832"> <description><! CDATA The relevant behave tests at https://github.com/hyperledger/fabric-test/blob/master/feature/CouchDB_index.feature which are being deprecated are similar to FAB-7263; they test cc upgrades when using multiple CouchDB indexes, each with multiple selectors.  Existing coverage in fabric repo tests includes: * The fabric/integration (ledger or nwo) tests include couchdb index creation, in 1 chan, but there are no cc upgrade tests here. * The integration/e2e/lifecycle tests do chaincode upgrades - but only with single channel - and they do not use any couchdb indexes (note: a modified or new index file would trigger the index rebuild)  Two options to test cc upgrade + indexes: #     Further extend the ledger tests (refer to FAB-15846) by adding cc upgrades in addition to a 2nd index file (with both indexes being added/modified upon upgrade) and of course verify useful indexes. #     Alternatively, extend the IT e2e/lifecycle tests to add 2 new index files during its upgrade tests, with different numbers of selectors, and verify the indexes are useful.  ></description> </Issue>
