<Issue id="36704" key="FAB-13642" number="13642" project="10002" reporter="skarim" creator="skarim" type="10004" summary="Test flake gossip/service/integration_test" priority="3" resolution="10002" status="6" created="2019-01-11 19:59:41.0" updated="2019-03-19 10:57:41.0" resolutiondate="2019-01-28 22:27:48.0" votes="0" watches="1" workflowId="48256"> <description><! CDATA {code:java} <nil>, Metadata: : context deadline exceeded 14:36:01 2019-01-11 19:35:08.540 UTC  gossip.discovery#localhost:30000  func1 -> WARN 08e Could not connect to Endpoint: localhost:30005, InternalEndpoint: localhost:30005, PKI-ID: <nil>, Metadata: : context deadline exceeded 14:36:01 goroutine 1132  running : 14:36:01 github.com/hyperledger/fabric/gossip/util.PrintStackTrace() 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/util/misc.go:144 +0x87 14:36:01 github.com/hyperledger/fabric/gossip/service.TestLeaderYield(0xc000110500) 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/service/integration_test.go:170 +0x7a4 14:36:01 testing.tRunner(0xc000110500, 0x10e83b8) 14:36:01 /opt/go/go1.11.1.linux.amd64/src/testing/testing.go:827 +0xbf 14:36:01 created by testing.(*T).Run 14:36:01 /opt/go/go1.11.1.linux.amd64/src/testing/testing.go:878 +0x353 14:36:01  14:36:01 goroutine 1  chan receive, 1 minutes : 14:36:01 testing.(*T).Run(0xc000110500, 0x10b8cbd, 0xf, 0x10e83b8, 0x860401) 14:36:01 /opt/go/go1.11.1.linux.amd64/src/testing/testing.go:879 +0x37a 14:36:01 testing.runTests.func1(0xc000110300) 14:36:01 /opt/go/go1.11.1.linux.amd64/src/testing/testing.go:1119 +0x78 14:36:01 testing.tRunner(0xc000110300, 0xc00044bda0) 14:36:01 /opt/go/go1.11.1.linux.amd64/src/testing/testing.go:827 +0xbf 14:36:01 testing.runTests(0xc00034f6c0, 0x196f2e0, 0x10, 0x10, 0x7efc5f) 14:36:01 /opt/go/go1.11.1.linux.amd64/src/testing/testing.go:1117 +0x2aa 14:36:01 testing.(*M).Run(0xc00011e080, 0x0) 14:36:01 /opt/go/go1.11.1.linux.amd64/src/testing/testing.go:1034 +0x165 14:36:01 main.main() 14:36:01 _testmain.go:122 +0x205 14:36:01  14:36:01 goroutine 71  chan receive, 2 minutes : 14:36:01 testing.(*T).Parallel(0xc000246000) 14:36:01 /opt/go/go1.11.1.linux.amd64/src/testing/testing.go:732 +0x1fa 14:36:01 github.com/hyperledger/fabric/gossip/service.TestJCMInterface(0xc000246000) 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/service/gossip_service_test.go:109 +0x2b 14:36:01 testing.tRunner(0xc000246000, 0x10e8390) 14:36:01 /opt/go/go1.11.1.linux.amd64/src/testing/testing.go:827 +0xbf 14:36:01 created by testing.(*T).Run 14:36:01 /opt/go/go1.11.1.linux.amd64/src/testing/testing.go:878 +0x353 14:36:01  14:36:01 goroutine 1144  sleep : 14:36:01 time.Sleep(0x5d21dba00) 14:36:01 /opt/go/go1.11.1.linux.amd64/src/runtime/time.go:105 +0x14f 14:36:01 github.com/hyperledger/fabric/gossip/discovery.(*gossipDiscoveryImpl).periodicalReconnectToDead(0xc00010e140) 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/discovery/discovery_impl.go:631 +0x294 14:36:01 created by github.com/hyperledger/fabric/gossip/discovery.NewDiscoveryService 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/discovery/discovery_impl.go:131 +0x4c0 14:36:01  14:36:01 goroutine 1593  select : 14:36:01 github.com/hyperledger/fabric/gossip/election.(*leaderElectionSvcImpl).follower(0xc0002403f0) 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/election/election.go:322 +0x248 14:36:01 github.com/hyperledger/fabric/gossip/election.(*leaderElectionSvcImpl).run(0xc0002403f0) 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/election/election.go:266 +0xbd 14:36:01 created by github.com/hyperledger/fabric/gossip/election.(*leaderElectionSvcImpl).start 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/election/election.go:176 +0x9e 14:36:01  14:36:01 goroutine 1518  select, 1 minutes : 14:36:01 github.com/hyperledger/fabric/gossip/state.(*GossipStateProviderImpl).listen(0xc0004b5200) 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/state/state.go:252 +0x129 14:36:01 created by github.com/hyperledger/fabric/gossip/state.NewGossipStateProvider 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/state/state.go:237 +0x60c 14:36:01  14:36:01 goroutine 1119  sleep : 14:36:01 time.Sleep(0x5d21dba00) 14:36:01 /opt/go/go1.11.1.linux.amd64/src/runtime/time.go:105 +0x14f 14:36:01 github.com/hyperledger/fabric/gossip/discovery.(*gossipDiscoveryImpl).Connect.func1(0xc00010e140, 0xc000266280, 0xc0001e82f0, 0xf, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, ...) 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/discovery/discovery_impl.go:166 +0x1c9 14:36:01 created by github.com/hyperledger/fabric/gossip/discovery.(*gossipDiscoveryImpl).Connect 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/discovery/discovery_impl.go:158 +0x2a4 14:36:01  14:36:01 goroutine 1149  select : 14:36:01 github.com/hyperledger/fabric/gossip/gossip.(*gossipServiceImpl).acceptMessages(0xc00010e000, 0xc0005316e0) 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/gossip/gossip_impl.go:325 +0x1a6 14:36:01 created by github.com/hyperledger/fabric/gossip/gossip.(*gossipServiceImpl).start 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/gossip/gossip_impl.go:316 +0xb4 14:36:01  14:36:01 goroutine 1153  select : 14:36:01 github.com/hyperledger/fabric/gossip/gossip/msgstore.(*messageStoreImpl).expirationRoutine(0xc00011e800) 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/gossip/msgstore/msgs.go:240 +0xde 14:36:01 created by github.com/hyperledger/fabric/gossip/gossip/msgstore.NewMessageStoreExpirable 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/gossip/msgstore/msgs.go:53 +0xb2 14:36:01  14:36:01 goroutine 1099  select, 1 minutes : 14:36:01 github.com/hyperledger/fabric/gossip/discovery.(*gossipDiscoveryImpl).handlePresumedDeadPeers(0xc000360140) 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/discovery/discovery_impl.go:286 +0x186 14:36:01 created by github.com/hyperledger/fabric/gossip/discovery.NewDiscoveryService 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/discovery/discovery_impl.go:132 +0x4e5 14:36:01  14:36:01 goroutine 1143  select : 14:36:01 github.com/hyperledger/fabric/gossip/discovery.(*gossipDiscoveryImpl).handleMessages(0xc00010e140) 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/discovery/discovery_impl.go:310 +0x1ab 14:36:01 created by github.com/hyperledger/fabric/gossip/discovery.NewDiscoveryService 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/discovery/discovery_impl.go:130 +0x49b 14:36:01  14:36:01 goroutine 1150  sleep : 14:36:01 time.Sleep(0x77359400) 14:36:01 /opt/go/go1.11.1.linux.amd64/src/runtime/time.go:105 +0x14f 14:36:01 github.com/hyperledger/fabric/gossip/gossip/algo.NewPullEngineWithFilter.func1(0xc00011e600, 0x77359400) 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/gossip/algo/pull.go:130 +0x43 14:36:01 created by github.com/hyperledger/fabric/gossip/gossip/algo.NewPullEngineWithFilter 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/gossip/algo/pull.go:128 +0x2d1 14:36:01  14:36:01 goroutine 1529  select : 14:36:01 github.com/hyperledger/fabric/gossip/state.(*GossipStateProviderImpl).antiEntropy(0xc0004b5280) 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/state/state.go:579 +0x177 14:36:01 created by github.com/hyperledger/fabric/gossip/state.NewGossipStateProvider 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/state/state.go:241 +0x650 14:36:01  14:36:01 goroutine 1159  select : 14:36:01 github.com/hyperledger/fabric/gossip/gossip/msgstore.(*messageStoreImpl).expirationRoutine(0xc00024ad80) 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/gossip/msgstore/msgs.go:240 +0xde 14:36:01 created by github.com/hyperledger/fabric/gossip/gossip/msgstore.NewMessageStoreExpirable 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/gossip/msgstore/msgs.go:53 +0xb2 14:36:01  14:36:01 goroutine 1096  sleep : 14:36:01 time.Sleep(0x9502f900) 14:36:01 /opt/go/go1.11.1.linux.amd64/src/runtime/time.go:105 +0x14f 14:36:01 github.com/hyperledger/fabric/gossip/discovery.(*gossipDiscoveryImpl).periodicalCheckAlive(0xc000360140) 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/discovery/discovery_impl.go:685 +0xca 14:36:01 created by github.com/hyperledger/fabric/gossip/discovery.NewDiscoveryService 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/discovery/discovery_impl.go:129 +0x476 14:36:01  14:36:01 goroutine 1989  IO wait : 14:36:01 internal/poll.runtime_pollWait(0x7fa42506ce30, 0x72, 0xc00027d928) 14:36:01 /opt/go/go1.11.1.linux.amd64/src/runtime/netpoll.go:173 +0x66 14:36:01 internal/poll.(*pollDesc).wait(0xc00024b618, 0x72, 0xffffffffffffff00, 0x118b700, 0x1976690) 14:36:01 /opt/go/go1.11.1.linux.amd64/src/internal/poll/fd_poll_runtime.go:85 +0x9a 14:36:01 internal/poll.(*pollDesc).waitRead(0xc00024b618, 0xc000468800, 0x400, 0x400) 14:36:01 /opt/go/go1.11.1.linux.amd64/src/internal/poll/fd_poll_runtime.go:90 +0x3d 14:36:01 internal/poll.(*FD).Read(0xc00024b600, 0xc000468800, 0x400, 0x400, 0x0, 0x0, 0x0) 14:36:01 /opt/go/go1.11.1.linux.amd64/src/internal/poll/fd_unix.go:169 +0x179 14:36:01 net.(*netFD).Read(0xc00024b600, 0xc000468800, 0x400, 0x400, 0x7eca9b, 0xc00001e000, 0xfbc360) 14:36:01 /opt/go/go1.11.1.linux.amd64/src/net/fd_unix.go:202 +0x4f 14:36:01 net.(*conn).Read(0xc000316320, 0xc000468800, 0x400, 0x400, 0x0, 0x0, 0x0) 14:36:01 /opt/go/go1.11.1.linux.amd64/src/net/net.go:177 +0x68 14:36:01 crypto/tls.(*block).readFromUntil(0xc0001d6360, 0x118a320, 0xc000316320, 0x5, 0xc000316320, 0x0) 14:36:01 /opt/go/go1.11.1.linux.amd64/src/crypto/tls/conn.go:492 +0x89 14:36:01 crypto/tls.(*Conn).readRecord(0xc00030c000, 0x10ea617, 0xc00030c120, 0x0) 14:36:01 /opt/go/go1.11.1.linux.amd64/src/crypto/tls/conn.go:593 +0xdd 14:36:01 crypto/tls.(*Conn).Read(0xc00030c000, 0xc0005e2000, 0x8000, 0x8000, 0x0, 0x0, 0x0) 14:36:01 /opt/go/go1.11.1.linux.amd64/src/crypto/tls/conn.go:1145 +0xf1 14:36:01 bufio.(*Reader).Read(0xc00029b500, 0xc000242578, 0x9, 0x9, 0x20, 0x0, 0x0) 14:36:01 /opt/go/go1.11.1.linux.amd64/src/bufio/bufio.go:216 +0x22f 14:36:01 io.ReadAtLeast(0x1188c80, 0xc00029b500, 0xc000242578, 0x9, 0x9, 0x9, 0xc01fcfaadd, 0x1fcfaadd007e577e, 0x5c38efec) 14:36:01 /opt/go/go1.11.1.linux.amd64/src/io/io.go:310 +0x88 14:36:01 io.ReadFull(0x1188c80, 0xc00029b500, 0xc000242578, 0x9, 0x9, 0xbf0659db1fcfaadd, 0x241b902c6e, 0x19b6400) 14:36:01 /opt/go/go1.11.1.linux.amd64/src/io/io.go:329 +0x58 14:36:01 github.com/hyperledger/fabric/vendor/golang.org/x/net/http2.readFrameHeader(0xc000242578, 0x9, 0x9, 0x1188c80, 0xc00029b500, 0x0, 0x0, 0xc000438388, 0xc00027deb0) 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/vendor/golang.org/x/net/http2/frame.go:237 +0x7b 14:36:01 github.com/hyperledger/fabric/vendor/golang.org/x/net/http2.(*Framer).ReadFrame(0xc000242540, 0xc0004c2d00, 0xc0004c2d00, 0x0, 0x0) 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/vendor/golang.org/x/net/http2/frame.go:492 +0xa3 14:36:01 github.com/hyperledger/fabric/vendor/google.golang.org/grpc/internal/transport.(*http2Server).HandleStreams(0xc00040e000, 0xc00032b830, 0x10e9af8) 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/internal/transport/http2_server.go:429 +0x7c 14:36:01 github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*Server).serveStreams(0xc0002f1380, 0x119e5c0, 0xc00040e000) 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/server.go:682 +0xdd 14:36:01 github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*Server).handleRawConn.func1(0xc0002f1380, 0x119e5c0, 0xc00040e000) 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/server.go:644 +0x43 14:36:01 created by github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*Server).handleRawConn 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/server.go:643 +0x57e 14:36:01  14:36:01 goroutine 1085  chan receive, 1 minutes : 14:36:01 testing.(*T).Parallel(0xc0004fe000) 14:36:01 /opt/go/go1.11.1.linux.amd64/src/testing/testing.go:732 +0x1fa 14:36:01 github.com/hyperledger/fabric/gossip/service.TestLeaderElectionWithRealGossip(0xc0004fe000) 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/service/gossip_service_test.go:383 +0x43 14:36:01 testing.tRunner(0xc0004fe000, 0x10e83b0) 14:36:01 /opt/go/go1.11.1.linux.amd64/src/testing/testing.go:827 +0xbf 14:36:01 created by testing.(*T).Run 14:36:01 /opt/go/go1.11.1.linux.amd64/src/testing/testing.go:878 +0x353 14:36:01  14:36:01 goroutine 72  chan receive, 2 minutes : 14:36:01 testing.(*T).Parallel(0xc000246100) 14:36:01 /opt/go/go1.11.1.linux.amd64/src/testing/testing.go:732 +0x1fa 14:36:01 github.com/hyperledger/fabric/gossip/service.TestLeaderElectionWithDeliverClient(0xc000246100) 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/service/gossip_service_test.go:113 +0x43 14:36:01 testing.tRunner(0xc000246100, 0x10e83a8) 14:36:01 /opt/go/go1.11.1.linux.amd64/src/testing/testing.go:827 +0xbf 14:36:01 created by testing.(*T).Run 14:36:01 /opt/go/go1.11.1.linux.amd64/src/testing/testing.go:878 +0x353 14:36:01  14:36:01 goroutine 1194  sleep : 14:36:01 time.Sleep(0x5d21dba00) 14:36:01 /opt/go/go1.11.1.linux.amd64/src/runtime/time.go:105 +0x14f 14:36:01 github.com/hyperledger/fabric/gossip/discovery.(*gossipDiscoveryImpl).Connect.func1(0xc000360140, 0xc000346920, 0xc000230470, 0xf, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, ...) 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/discovery/discovery_impl.go:166 +0x1c9 14:36:01 created by github.com/hyperledger/fabric/gossip/discovery.(*gossipDiscoveryImpl).Connect 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/discovery/discovery_impl.go:158 +0x2a4 14:36:01  14:36:01 goroutine 1988  select, 1 minutes : 14:36:01 github.com/hyperledger/fabric/vendor/google.golang.org/grpc/internal/transport.(*http2Server).keepalive(0xc00040e000) 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/internal/transport/http2_server.go:921 +0x1e4 14:36:01 created by github.com/hyperledger/fabric/vendor/google.golang.org/grpc/internal/transport.newHTTP2Server 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/internal/transport/http2_server.go:282 +0xdc6 14:36:01  14:36:01 goroutine 1425  select : 14:36:01 github.com/hyperledger/fabric/gossip/election.(*leaderElectionSvcImpl).handleMessages(0xc000240120) 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/election/election.go:185 +0x294 14:36:01 created by github.com/hyperledger/fabric/gossip/election.(*leaderElectionSvcImpl).start 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/election/election.go:174 +0x60 14:36:01  14:36:01 goroutine 1140  select : 14:36:01 github.com/hyperledger/fabric/gossip/gossip/msgstore.(*messageStoreImpl).expirationRoutine(0xc00011e580) 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/gossip/msgstore/msgs.go:240 +0xde 14:36:01 created by github.com/hyperledger/fabric/gossip/gossip/msgstore.NewMessageStoreExpirable 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/gossip/msgstore/msgs.go:53 +0xb2 14:36:01  14:36:01 goroutine 1187  select, 1 minutes : 14:36:01 github.com/hyperledger/fabric/gossip/gossip.(*gossipServiceImpl).handlePresumedDead(0xc0002d6000) 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/gossip/gossip_impl.go:278 +0x1e9 14:36:01 created by github.com/hyperledger/fabric/gossip/gossip.(*gossipServiceImpl).start 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/gossip/gossip_impl.go:299 +0x65 14:36:01  14:36:01 goroutine 1523  select, 1 minutes : 14:36:01 github.com/hyperledger/fabric/gossip/comm.(*commImpl).Accept.func1(0xc000248fc0, 0xc0003ab020, 0xc0003ab080) 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/comm/comm_impl.go:351 +0x186 14:36:01 created by github.com/hyperledger/fabric/gossip/comm.(*commImpl).Accept 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/comm/comm_impl.go:345 +0x1ce 14:36:01  14:36:01 goroutine 1115  sleep : 14:36:01 time.Sleep(0x77359400) 14:36:01 /opt/go/go1.11.1.linux.amd64/src/runtime/time.go:105 +0x14f 14:36:01 github.com/hyperledger/fabric/gossip/gossip/algo.NewPullEngineWithFilter.func1(0xc0004b4300, 0x77359400) 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/gossip/algo/pull.go:130 +0x43 14:36:01 created by github.com/hyperledger/fabric/gossip/gossip/algo.NewPullEngineWithFilter 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/gossip/algo/pull.go:128 +0x2d1 14:36:01  14:36:01 goroutine 1525  select, 1 minutes : 14:36:01 github.com/hyperledger/fabric/gossip/gossip.(*gossipServiceImpl).Accept.func2(0xc0002d6000, 0xc0003ab0e0, 0xc0003ab140) 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/gossip/gossip_impl.go:821 +0xde 14:36:01 created by github.com/hyperledger/fabric/gossip/gossip.(*gossipServiceImpl).Accept 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/gossip/gossip_impl.go:819 +0xdf 14:36:01  14:36:01 goroutine 1533  select : 14:36:01 github.com/hyperledger/fabric/gossip/gossip.(*gossipServiceImpl).Accept.func2(0xc0002d6000, 0xc0003ab4a0, 0xc0003ab500) 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/gossip/gossip_impl.go:821 +0xde 14:36:01 created by github.com/hyperledger/fabric/gossip/gossip.(*gossipServiceImpl).Accept 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/gossip/gossip_impl.go:819 +0xdf 14:36:01  14:36:01 goroutine 1527  select, 1 minutes : 14:36:01 github.com/hyperledger/fabric/gossip/state.(*GossipStateProviderImpl).listen(0xc0004b5280) 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/state/state.go:252 +0x129 14:36:01 created by github.com/hyperledger/fabric/gossip/state.NewGossipStateProvider 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/state/state.go:237 +0x60c 14:36:01  14:36:01 goroutine 1156  sleep : 14:36:01 time.Sleep(0x77359400) 14:36:01 /opt/go/go1.11.1.linux.amd64/src/runtime/time.go:105 +0x14f 14:36:01 github.com/hyperledger/fabric/gossip/gossip/algo.NewPullEngineWithFilter.func1(0xc00024ac00, 0x77359400) 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/gossip/algo/pull.go:130 +0x43 14:36:01 created by github.com/hyperledger/fabric/gossip/gossip/algo.NewPullEngineWithFilter 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/gossip/algo/pull.go:128 +0x2d1 14:36:01  14:36:01 goroutine 1517  select, 1 minutes : 14:36:01 github.com/hyperledger/fabric/gossip/comm.(*commImpl).Accept.func1(0xc0000e4120, 0xc0003aab40, 0xc0003aaba0) 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/comm/comm_impl.go:351 +0x186 14:36:01 created by github.com/hyperledger/fabric/gossip/comm.(*commImpl).Accept 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/comm/comm_impl.go:345 +0x1ce 14:36:01  14:36:01 goroutine 1188  select : 14:36:01 github.com/hyperledger/fabric/gossip/comm.(*commImpl).Accept.func1(0xc000248fc0, 0xc00052f020, 0xc00052f080) 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/comm/comm_impl.go:351 +0x186 14:36:01 created by github.com/hyperledger/fabric/gossip/comm.(*commImpl).Accept 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/comm/comm_impl.go:345 +0x1ce 14:36:01  14:36:01 goroutine 1530  select, 1 minutes : 14:36:01 github.com/hyperledger/fabric/gossip/state.(*GossipStateProviderImpl).processStateRequests(0xc0004b5280) 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/state/state.go:367 +0x109 14:36:01 created by github.com/hyperledger/fabric/gossip/state.NewGossipStateProvider 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/state/state.go:243 +0x672 14:36:01  14:36:01 goroutine 1155  sleep : 14:36:01 time.Sleep(0x1dcd6500) 14:36:01 /opt/go/go1.11.1.linux.amd64/src/runtime/time.go:105 +0x14f 14:36:01 github.com/hyperledger/fabric/gossip/gossip.(*batchingEmitterImpl).periodicEmit(0xc000412f00) 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/gossip/batcher.go:62 +0x2c 14:36:01 created by github.com/hyperledger/fabric/gossip/gossip.newBatchingEmitter 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/gossip/batcher.go:54 +0x150 14:36:01  14:36:01 goroutine 1532  select : 14:36:01 github.com/hyperledger/fabric/gossip/election.(*leaderElectionSvcImpl).handleMessages(0xc0002403f0) 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/election/election.go:185 +0x294 14:36:01 created by github.com/hyperledger/fabric/gossip/election.(*leaderElectionSvcImpl).start 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/election/election.go:174 +0x60 14:36:01  14:36:01 goroutine 1157  select : 14:36:01 github.com/hyperledger/fabric/gossip/gossip/msgstore.(*messageStoreImpl).expirationRoutine(0xc00024ac80) 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/gossip/msgstore/msgs.go:240 +0xde 14:36:01 created by github.com/hyperledger/fabric/gossip/gossip/msgstore.NewMessageStoreExpirable 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/gossip/msgstore/msgs.go:53 +0xb2 14:36:01  14:36:01 goroutine 1993  select : 14:36:01 github.com/hyperledger/fabric/gossip/comm.(*connection).serviceConnection(0xc0002ee370, 0xf, 0xc00036a158) 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/comm/conn.go:291 +0x21a 14:36:01 created by github.com/hyperledger/fabric/gossip/comm.(*connectionStore).getConnection 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/comm/conn.go:121 +0x4a3 14:36:01  14:36:01 goroutine 1137  select, 1 minutes : 14:36:01 github.com/hyperledger/fabric/gossip/identity.(*identityMapperImpl).periodicalPurgeUnusedIdentities(0xc0004f8150) 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/identity/identity.go:92 +0xff 14:36:01 created by github.com/hyperledger/fabric/gossip/identity.NewIdentityMapper 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/identity/identity.go:85 +0x210 14:36:01  14:36:01 goroutine 1534  select : 14:36:01 github.com/hyperledger/fabric/gossip/election.(*adapterImpl).Accept.func2(0xc0003ab500, 0xc000444ba0, 0xc000444a80) 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/election/adapter.go:107 +0xe7 14:36:01 created by github.com/hyperledger/fabric/gossip/election.(*adapterImpl).Accept 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/election/adapter.go:105 +0xd3 14:36:01  14:36:01 goroutine 1146  sleep : 14:36:01 time.Sleep(0x77359400) 14:36:01 /opt/go/go1.11.1.linux.amd64/src/runtime/time.go:105 +0x14f 14:36:01 github.com/hyperledger/fabric/gossip/gossip.(*gossipServiceImpl).syncDiscovery(0xc00010e000) 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/gossip/gossip_impl.go:293 +0x198 14:36:01 created by github.com/hyperledger/fabric/gossip/gossip.(*gossipServiceImpl).start 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/gossip/gossip_impl.go:298 +0x43 14:36:01  14:36:01 goroutine 1100  sleep : 14:36:01 time.Sleep(0x77359400) 14:36:01 /opt/go/go1.11.1.linux.amd64/src/runtime/time.go:105 +0x14f 14:36:01 github.com/hyperledger/fabric/gossip/gossip/algo.NewPullEngineWithFilter.func1(0xc0004f6100, 0x77359400) 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/gossip/algo/pull.go:130 +0x43 14:36:01 created by github.com/hyperledger/fabric/gossip/gossip/algo.NewPullEngineWithFilter 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/gossip/algo/pull.go:128 +0x2d1 14:36:01  14:36:01 goroutine 1154  IO wait, 1 minutes : 14:36:01 internal/poll.runtime_pollWait(0x7fa42506c6e0, 0x72, 0x0) 14:36:01 /opt/go/go1.11.1.linux.amd64/src/runtime/netpoll.go:173 +0x66 14:36:01 internal/poll.(*pollDesc).wait(0xc00024ab18, 0x72, 0xc0001da000, 0x0, 0x0) 14:36:01 /opt/go/go1.11.1.linux.amd64/src/internal/poll/fd_poll_runtime.go:85 +0x9a 14:36:01 internal/poll.(*pollDesc).waitRead(0xc00024ab18, 0xffffffffffffff00, 0x0, 0x0) 14:36:01 /opt/go/go1.11.1.linux.amd64/src/internal/poll/fd_poll_runtime.go:90 +0x3d 14:36:01 internal/poll.(*FD).Accept(0xc00024ab00, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0) 14:36:01 /opt/go/go1.11.1.linux.amd64/src/internal/poll/fd_unix.go:384 +0x1a0 14:36:01 net.(*netFD).accept(0xc00024ab00, 0xc000316320, 0x0, 0x0) 14:36:01 /opt/go/go1.11.1.linux.amd64/src/net/fd_unix.go:238 +0x42 14:36:01 net.(*TCPListener).accept(0xc00000e058, 0xc000075e90, 0xc000075e98, 0x18) 14:36:01 /opt/go/go1.11.1.linux.amd64/src/net/tcpsock_posix.go:139 +0x2e 14:36:01 net.(*TCPListener).Accept(0xc00000e058, 0x10e9a90, 0xc0002f1380, 0x119d5a0, 0xc000316320) 14:36:01 /opt/go/go1.11.1.linux.amd64/src/net/tcpsock.go:260 +0x47 14:36:01 github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*Server).Serve(0xc0002f1380, 0x11997e0, 0xc00000e058, 0x0, 0x0) 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/server.go:557 +0x210 14:36:01 github.com/hyperledger/fabric/gossip/comm.NewCommInstanceWithServer.func1(0xc000248fc0, 0xc0002f1380, 0x11997e0, 0xc00000e058) 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/comm/comm_impl.go:101 +0x6d 14:36:01 created by github.com/hyperledger/fabric/gossip/comm.NewCommInstanceWithServer 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/comm/comm_impl.go:99 +0x709 14:36:01  14:36:01 goroutine 1121  sleep : 14:36:01 time.Sleep(0x5d21dba00) 14:36:01 /opt/go/go1.11.1.linux.amd64/src/runtime/time.go:105 +0x14f 14:36:01 github.com/hyperledger/fabric/gossip/discovery.(*gossipDiscoveryImpl).Connect.func1(0xc00010e140, 0xc000266300, 0xc0001e8320, 0xf, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, ...) 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/discovery/discovery_impl.go:166 +0x1c9 14:36:01 created by github.com/hyperledger/fabric/gossip/discovery.(*gossipDiscoveryImpl).Connect 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/discovery/discovery_impl.go:158 +0x2a4 14:36:01  14:36:01 goroutine 1612  select : 14:36:01 github.com/hyperledger/fabric/gossip/election.(*leaderElectionSvcImpl).follower(0xc000240120) 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/election/election.go:322 +0x248 14:36:01 github.com/hyperledger/fabric/gossip/election.(*leaderElectionSvcImpl).run(0xc000240120) 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/election/election.go:266 +0xbd 14:36:01 created by github.com/hyperledger/fabric/gossip/election.(*leaderElectionSvcImpl).start 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/election/election.go:176 +0x9e 14:36:01  14:36:01 goroutine 1145  select, 1 minutes : 14:36:01 github.com/hyperledger/fabric/gossip/discovery.(*gossipDiscoveryImpl).handlePresumedDeadPeers(0xc00010e140) 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/discovery/discovery_impl.go:286 +0x186 14:36:01 created by github.com/hyperledger/fabric/gossip/discovery.NewDiscoveryService 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/discovery/discovery_impl.go:132 +0x4e5 14:36:01  14:36:01 goroutine 1147  select, 1 minutes : 14:36:01 github.com/hyperledger/fabric/gossip/gossip.(*gossipServiceImpl).handlePresumedDead(0xc00010e000) 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/gossip/gossip_impl.go:278 +0x1e9 14:36:01 created by github.com/hyperledger/fabric/gossip/gossip.(*gossipServiceImpl).start 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/gossip/gossip_impl.go:299 +0x65 14:36:01  14:36:01 goroutine 1963  select : 14:36:01 github.com/hyperledger/fabric/gossip/comm.(*connection).writeToStream(0xc00057e840) 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/comm/conn.go:312 +0x106 14:36:01 created by github.com/hyperledger/fabric/gossip/comm.(*connection).serviceConnection 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/comm/conn.go:288 +0x119{code}    ></description> </Issue>
