<Issue id="37773" key="FAB-14240" number="14240" project="10002" reporter="guoger" assignee="guoger" creator="guoger" type="10004" summary="Catching up with snapshot may panic due to replay of block" priority="3" resolution="10000" status="6" created="2019-02-18 14:46:26.0" updated="2019-03-29 09:33:26.0" resolutiondate="2019-02-22 11:43:13.0" votes="0" watches="1" workflowId="49389"> <description><! CDATA {{support.Height}} may not reflect correct height of ledger because there might be one in-flight block being committed, since it's done  async|https://github.com/hyperledger/fabric/blob/d3318c21dbaaa086c9836b331f6101a0ea2228ce/orderer/common/multichannel/blockwriter.go#L152-L155   So, when we use  ledger height as the arg for block puller|https://github.com/hyperledger/fabric/blob/d3318c21dbaaa086c9836b331f6101a0ea2228ce/orderer/consensus/etcdraft/chain.go#L805 , we risk replaying the same block and panic the process.  ></description> </Issue>
