<Issue id="26214" key="FAB-7522" number="7522" project="10002" reporter="bstasyszyn" assignee="yacovm" creator="bstasyszyn" type="10004" summary="Private Data Dissemination Timeout should be configurable" priority="2" resolution="10000" status="6" created="2017-12-20 14:42:47.0" updated="2018-07-20 14:15:17.0" resolutiondate="2017-12-21 21:38:59.0" votes="0" watches="3" workflowId="40827"> <description><! CDATA I'm testing in a configuration composed of 4 MSPs, 2 peers per MSP for a total of 8 peers, and 2 (Kafka) orderers. One CC contains 2 private data collections, each with the following config:  - RequiredPeerCount=1 - MaximumPeerCount=3 - policy includes all 4 MSPs  I'm sending 20 concurrent requests which write/read private data. Once in a while I see timeout errors while private data is being disseminated, causing the transaction to fail with the reason, ENDORSEMENT_POLICY_FAILURE. Looking at the code, the dissemination timeout is hard-coded to 1 second. This should be configurable since, in a very busy system, it may take longer to send the private data.  Below are the logs:  peer0.example.com     | 2017-12-20 14:11:13.094 UTC  gossip/privdata  func1 -> ERRO 1ff Failed disseminating private RWSet for TxID ae7c3f39d0bdca18b04de0596257969e7be63911abd15727d10bafac73272ecd , namespace fmpcc collection fmpstatus : {"failures":{"timed out":3}} peer0.example.com     | 2017-12-20 14:11:13.094 UTC  gossip/service  DistributePrivateData -> ERRO 200 Failed to distributed private collection, txID ae7c3f39d0bdca18b04de0596257969e7be63911abd15727d10bafac73272ecd channel consortium due to Failed disseminating 1 out of 1 private RWSets peer1.example.com    | 2017-12-20 14:11:15.443 UTC  valimpl  preprocessProtoBlock -> WARN 231 Channel  consortium : Block  21  Transaction index  0  TxId  ae7c3f39d0bdca18b04de0596257969e7be63911abd15727d10bafac73272ecd  marked as invalid by committer. Reason code  ENDORSEMENT_POLICY_FAILURE    ></description> </Issue>
