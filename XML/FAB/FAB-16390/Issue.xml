<Issue id="41984" key="FAB-16390" number="16390" project="10002" reporter="varunagarwal" assignee="varunagarwal" creator="varunagarwal" type="10004" summary="Rejected transactions update off-chain database" priority="3" resolution="10000" status="6" created="2019-08-22 14:53:01.0" updated="2019-08-26 13:14:33.0" resolutiondate="2019-08-26 10:45:13.0" votes="0" watches="2" workflowId="55026"> <description><! CDATA Transactions that are in a block may still be rejected during commit phase. In this case the `block.metadata.metadata` stores an array with integer values for each transaction. Only if the value === 0 does the rwset update world state.  In current implementation at  https://github.com/hyperledger/fabric-samples/blob/release-1.4/off_chain_data/blockProcessing.js#L38  there should be a check for transaction status. When an MVCC_CONFLICT or PHANTON_READ_CONFLICT is duplicated using high-throughput transactions the off-chain data is still updated.  it is a simple fix and I have it at  https://github.com/varunagarwal315/fabric-samples/commit/2da6c52e9f22b26e4ad2a8cef34e79bbc1fd9e40  . Please can someone verify and guide me how to commit this?  ></description> </Issue>
