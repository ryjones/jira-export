<Issue id="32807" key="FAB-11582" number="11582" project="10002" reporter="scottz" assignee="suryalnvs" creator="scottz" type="10101" summary="Upgrade to latest stable image from pulled published images of prev release - Automation Test" priority="3" resolution="10001" status="6" created="2018-08-13 21:36:39.0" updated="2019-07-30 19:05:38.0" resolutiondate="2019-07-30 19:05:38.0" votes="0" watches="2" workflowId="44219"> <description><! CDATA Create scripts and jobs to automate upgrade test in master branch, to upgrade from the previous major/minor release (e.g. v1.3.0) to the latest images in Nexus based on master branch.  fabric-samples contains a byfn.sh script which contains an "upgrade" option; however, no jenkins jobs execute it. Another problem is that it upgrades to the latest _released_ version (useful only for a single test when a new release branch is created and images are released) - instead of to the current branch latest/stable image. This is helpful to external consumers wishing to upgrade their production environment - but it is not useful to development stream, where we could benefit from automation of an upgrade test to catch and regressions/bugs in the upgrade process.  Tasks to do: # Edit the byfn script(s) to provide a way for users to upgrade from the prior release (pulled images) to the latest master branch stable images. # Add an upgrade test to a daily jenkins job that tests the "stable" tagged images, that uses the byfn "upgrade to master" option to upgrade fabric software by pulling and starting a network with the current public version (currently v1.3.0) and upgrading to the most recent "latest" master images. This will require a FABCI task, once the step-1 capability is implemented in fabric-samples byfn, to pull the released images (from v1.3.0) and pull the "latest". # FABCI-32: updates a release job to run a byfn upgrade with pulled released images from prev-release (e.g., 1.2.0) to the most recent current-release (1.3.0). The jenkins job should be written in such a way to simply change the value of parameters like PREVIOUS_RELEASE and CURRENT_RELEASE, once future releases are made available.  Â   ></description> </Issue>
