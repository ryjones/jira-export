<Action id="25788" issue="17657" author="adnanchoudhury" type="comment" body="More info: after the peer3 is connected back, if there is another additional transaction  (same invoke of transfer of 10 between b and a),  the peer gets updated within ~20 seconds." created="2017-06-08 20:00:46.0" updateauthor="adnanchoudhury" updated="2017-06-08 20:00:46.0"/>
<Action id="25789" issue="17657" author="yacovm" type="comment" created="2017-06-08 20:17:14.0" updateauthor="yacovm" updated="2017-06-08 20:22:35.0"> <body><! CDATA Hi.  Is it possible to have a terminal output? for example- using the  script |http://man7.org/linux/man-pages/man1/script.1.html command so I could reproduce exactly what you did.  Also - logs of all peers would be helpful...   ></body> </Action>
<Action id="25798" issue="17657" author="adnanchoudhury" type="comment" body=" ~yacovm  please see the two attached zip files, they have the 1 script log and 4 peers log each. The peer that was disconnected/connected-back was peer1org2. The log level for Gossip was debug." created="2017-06-08 22:00:52.0" updateauthor="adnanchoudhury" updated="2017-06-08 22:00:52.0"/>
<Action id="25862" issue="17657" author="yacovm" type="comment" created="2017-06-09 14:24:29.0" updateauthor="yacovm" updated="2017-06-09 14:24:29.0"> <body><! CDATA I think I solved it. Can you please pull https://gerrit.hyperledger.org/r/#/c/10395/ and see?   ></body> </Action>
<Action id="25870" issue="17657" author="adnanchoudhury" type="comment" created="2017-06-09 15:07:36.0" updateauthor="adnanchoudhury" updated="2017-06-09 18:56:51.0"> <body><! CDATA After cherry-picking your change, I see that peer1org2 gets updated at 22nd second almost every time (the rest of the times it was faster), compared to not getting updated in 300 seconds before your change.  Is there a timing combination that would make the peer wait 22 second?  ~yacovm   ></body> </Action>
<Action id="25873" issue="17657" author="yacovm" type="comment" created="2017-06-09 15:35:53.0" updateauthor="yacovm" updated="2017-06-09 15:35:53.0"> <body><! CDATA well I'm not sure about the 22 but the state transfer has a cycle of 10 seconds so that means the "mean" wait time of a peer that just joined is 5 seconds, and then the wait time for the response is 3 seconds so it's already 8. But it also takes a while for the peers to re-connect to you...   Now, I did something different - I killed peer0.org2 and left it dead for good and it seemed that peer1.org2 got the blocks pretty fast (less than 5 seconds). Maybe I just got luckly...   Bottom line - I wouldn't worry about it right now, as you clearly see that it works now :)  Thanks for the catch!  ></body> </Action>
<Action id="25876" issue="17657" author="adnanchoudhury" type="comment" body="I agree that 22 seconds is plausible. I would consider it solved. Thanks  ~yacovm " created="2017-06-09 15:44:18.0" updateauthor="adnanchoudhury" updated="2017-06-09 15:44:55.0"/>
<Action id="25958" issue="17657" author="clayton sims" type="comment" body="To confirm .....can we mark this done?" created="2017-06-10 18:00:58.0" updateauthor="clayton sims" updated="2017-06-10 18:00:58.0"/>
<Action id="25959" issue="17657" author="adnanchoudhury" type="comment" body="The CR above ( https://gerrit.hyperledger.org/r/#/c/10395/ ) solves it, and that CR is in review and not merged yet. That being said, I am ok with marking this as done.  ~Clayton Sims " created="2017-06-10 18:08:16.0" updateauthor="adnanchoudhury" updated="2017-06-10 18:08:27.0"/>
