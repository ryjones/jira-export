<Action id="25262" issue="17433" author="muralisr" type="comment" created="2017-06-04 15:28:43.0" updateauthor="muralisr" updated="2017-06-04 15:28:43.0"> <body><! CDATA  ~jimthematrix  This is due to the bug fix https://gerrit.hyperledger.org/r/#/c/9213/.   A proposal response can indicate an error from the chaincode ("inner" Response on ProposalResponse object) or from the fabric ("outer" response on ProposalResponse).  Example fabric ("outer") response are Proposal ACL failures, chaincode not found, endorsement failures etc.  Example chaincode ("inner") response are chaincode setting 500 on the response for some reason.  Prior to the fix, chaincode errors were setting fabric errors too and the call to process proposal returned error and suppressed chaincode response.  This fix returns the chaincode response with the error.  The call to install returns the following chaincode response (this is from CLI) :  {code:java}  Installed remotely response:<status:500 message:"Chaincode Error" > payload:"\n \351o3\344^\315\007\300\207)\220\351w\336L\375h_I\0235y\\\361\006a\251`p\232O\217\022u\032k\010\364\003\022fError installing chaincode code mycc:0(chaincode /var/hyperledger/production/chaincodes/mycc.0 exists)\"\006\022\004lscc" 2017-06-04 15:06:09.036 UTC  main  main -> INFO 00f Exiting..... {code}  The problem was that if we returned error from the fabric,  SDK may not be able to distinguish easily between fabric and chaincode errors. If the chaincode reported error and the fabric returned 200 then you'd know for sure the only error is from the chaincode.  However it may make sense for fabric to return HTTP response 500 with the special message "chaincode error". What do you think ?  ></body> </Action>
<Action id="25268" issue="17433" author="muralisr" type="comment" body=" ~jimthematrix  created https://gerrit.hyperledger.org/r/#/c/10135/" created="2017-06-04 17:00:44.0" updateauthor="muralisr" updated="2017-06-04 17:00:44.0"/>
<Action id="25276" issue="17433" author="jimthematrix" type="comment" body=" ~muralisr  I understand the rationale to distinguish the inter and out status codes. However this is very confusing in my opinion, because we are advising the chaincode developers to use HTTP status codes in the chaincode responses to indicate various errors. I would think the chaincode developers would expect that to be reflected in the HTTP status code. from the application developer&apos;s point of view, using the HTTP status code to reflect errors in the chaincode makes sense to me. A 403 means authorization error, whether it&apos;s from the fabric ACL or from the chiancode checking the Creator identity. Further like you suggested to use &quot;Chaincode Error&quot; to indicate the source is from chaincode also make sense." created="2017-06-04 19:07:18.0" updateauthor="jimthematrix" updated="2017-06-04 19:26:38.0"/>
