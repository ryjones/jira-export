<Issue id="18868" key="FAB-5134" number="5134" project="10002" reporter="adnanchoudhury" assignee="wlahti" creator="adnanchoudhury" type="10004" summary="Logging: Setting MSP component logging level fails to stop some incorrect-level logs " priority="5" resolution="10000" status="6" created="2017-06-30 18:54:22.0" updated="2018-07-20 14:13:41.0" resolutiondate="2017-11-06 17:02:41.0" votes="0" watches="4" workflowId="39361"> <description><! CDATA If the msp logging level is set to ERROR/CRITICAL via a docker environment variable, the peer log still contains  WARN level logging from MSP.  +*Setup:* +bring-your-first-network from fabric-sample. Added these two lines in the peer-base.yaml (so all peer containers will have these) {code:java} - CORE_LOGGING_LEVEL=ERROR - CORE_LOGGING_LEDGER=WARNING - CORE_LOGGING_MSP=ERROR{code}  +*Expected:*+ No logs for msp if its lower than ERROR. +*Observed:*+ all peers have 3 WARN level logs and 1 INFO level log: {code:java} {"log":"\u001b 33m2017-06-29 21:53:33.523 UTC  msp  getMspConfig -\u003e WARN 001\u001b 0m Intermediate certs folder not found at  /etc/hyperledger/fabric/msp/intermediatecerts . Skipping.  stat /etc/hyperledger/fabric/msp/intermediatecerts: no such file or directory \n","stream":"stderr","time":"2017-06-29T21:53:33.523640743Z"} {"log":"\u001b 33m2017-06-29 21:53:33.523 UTC  msp  getMspConfig -\u003e WARN 002\u001b 0m TLS intermediate certs folder not found at  /etc/hyperledger/fabric/msp/tlsintermediatecerts . Skipping.  stat /etc/hyperledger/fabric/msp/tlsintermediatecerts: no such file or directory \n","stream":"stderr","time":"2017-06-29T21:53:33.523676862Z"} {"log":"\u001b 33m2017-06-29 21:53:33.523 UTC  msp  getMspConfig -\u003e WARN 003\u001b 0m crls folder not found at  /etc/hyperledger/fabric/msp/crls . Skipping.  stat /etc/hyperledger/fabric/msp/crls: no such file or directory \n","stream":"stderr","time":"2017-06-29T21:53:33.523681098Z"} {"log":"2017-06-29 21:53:33.523 UTC  msp  getMspConfig -\u003e INFO 004\u001b 0m MSP configuration file not found at  /etc/hyperledger/fabric/msp/config.yaml :  stat /etc/hyperledger/fabric/msp/config.yaml: no such file or directory \n","stream":"stderr","time":"2017-06-29T21:53:33.523684033Z"}{code} +*More info*+ Tested with RC1. If I set CORE_LOGGING_MSP=INFO it prints all logs info and up. These logs are at the very beginning.  The likely reason behind this was mentioned in FAB-4931. From  ~wlahti : ".... this is just a side effect of the order that the packages are loaded. At the time the MSP code is running at the very start of the peer, the log level specifications from the environment variables/core.yaml haven't been applied."  ></description> </Issue>
