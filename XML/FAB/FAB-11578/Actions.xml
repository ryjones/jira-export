<Action id="48804" issue="32801" author="dongming" type="comment" created="2018-08-13 20:15:19.0" updateauthor="dongming" updated="2018-08-13 20:15:19.0"> <body><! CDATA in creating network, use option "-S clientauth" instead of "-S enabled", see README: * *TLS*: TLS setting for the test  ** disabled: TLS is disabled ** serverauth: server authentication, TLS ** clientauth: client authentication, mutual TLS  ></body> </Action>
<Action id="48829" issue="32801" author="vramaiitkgp" type="comment" created="2018-08-14 07:22:10.0" updateauthor="vramaiitkgp" updated="2018-08-14 07:22:10.0"> <body><! CDATA  ~dongming : sorry for using the wrong parameter. But I'm getting the same error with `clientauth`. The test eventually completes and generates a report, but it also drops the following kinds of errors before terminating: {quote}info:  PTE 0 exec :  Nid:chan:org:id=0:testorgschannel1:org2:0 channelAdd1Peer  info:  PTE 1534230930617 util :  getTLSCert  key: org2, subkey: peer1  info:  PTE 0 main : stderr: error:  Channel.js : Peer localhost:7063 already exists /opt/gopath/src/gerrit/fabric-test/tools/PTE/node_modules/fabric-client/lib/Channel.js:551 throw error; ^  DuplicatePeer: Peer localhost:7063 already exists at Channel.addPeer (/opt/gopath/src/gerrit/fabric-test/tools/PTE/node_modules/fabric-client/lib/Channel.js:547:19) at channelAdd1Peer (/opt/gopath/src/gerrit/fabric-test/tools/PTE/pte-execRequest.js:858:33) at setTargetPeers (/opt/gopath/src/gerrit/fabric-test/tools/PTE/pte-execRequest.js:1092:9) at invokeValidation (/opt/gopath/src/gerrit/fabric-test/tools/PTE/pte-execRequest.js:1331:5) at postEventProc (/opt/gopath/src/gerrit/fabric-test/tools/PTE/pte-execRequest.js:1362:5) at Timeout._onTimeout (/opt/gopath/src/gerrit/fabric-test/tools/PTE/pte-execRequest.js:1240:17) at ontimeout (timers.js:475:11) at tryOnTimeout (timers.js:310:5) at Timer.listOnTimeout (timers.js:270:5)  info:  PTE 0 main : Child proc exited, procId=2 ,exit code=1 {quote}       ></body> </Action>
<Action id="48844" issue="32801" author="vramaiitkgp" type="comment" created="2018-08-14 12:19:39.0" updateauthor="vramaiitkgp" updated="2018-08-14 12:20:14.0"> <body><! CDATA Debugging revealed that 'peerList' in the following line is empty, so no peer gets removed from the channel. Subsequently, 'addPeer' fails because the peer already exists.  https://github.com/hyperledger/fabric-test/blob/master/tools/PTE/pte-execRequest.js#L1327     I updated the code to add 'removePeer' before 'addPeer' troughout the code. I don't see the error now. This probably isn't the ideal way to fix the issue (assuming this needs fixing and I'm not making any other mistake), but I'll let you decide that.     My patch:  https://gerrit.hyperledger.org/r/c/25525/   ></body> </Action>
<Action id="48861" issue="32801" author="dongming" type="comment" body="https://gerrit.hyperledger.org/r/#/c/25539/" created="2018-08-14 17:21:41.0" updateauthor="dongming" updated="2018-08-14 17:21:41.0"/>
