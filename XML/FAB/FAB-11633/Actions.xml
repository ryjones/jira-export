<Action id="49019" issue="33000" author="rickr" type="comment" created="2018-08-17 13:14:40.0" updateauthor="rickr" updated="2018-08-17 13:14:40.0"> <body><! CDATA The SDK code has not changed and it just gives the result from the fabric.  The fact that it got the matching writeSet strongly suggest the api it self is working.  The only things to me that makes sense is  the chaincode is no longer really doing a read, Something wrong with the chaincode shim, ledger is not recording the read.  Can you put trace code in your chaincode that outputs to log value of a read.   ></body> </Action>
<Action id="49020" issue="33000" author="rickr" type="comment" body=" ~denyeart  thoughts ?" created="2018-08-17 13:19:55.0" updateauthor="rickr" updated="2018-08-17 13:19:55.0"/>
<Action id="49051" issue="33000" author="denyeart" type="comment" created="2018-08-18 03:28:34.0" updateauthor="denyeart" updated="2018-08-18 03:28:34.0"> <body><! CDATA I tested on v1.2 peer, and the readset is populated for me.  As proof I tried two conflicting transactions with same readset dependency, and sure enough the second one got invalidated.  This proves that there was a readset in the block's transaction.  Perhaps the user chaincode isn't doing any reads?  Anyways, will ask  ~nedoli  to provide some more evidence that readset is missing.  ></body> </Action>
<Action id="49052" issue="33000" author="nedoli" type="comment" created="2018-08-18 04:55:23.0" updateauthor="nedoli" updated="2018-08-18 04:55:23.0"> <body><! CDATA I did use the shim function as below in chain code. first step, stub.PutState("a", "1") <- generate in block_num 27 second step, stub.PutState("a", "2") <- generate in block_num 27+...  In 1.0, I found the read set for 'a' in second step. I think that 'a' key version must be included in second step for endorsement.  { "writeSet":   { "isDelete": "false", "value": "2", "key": "a" }  , "readSet":   { "version": "block_num: 27", "key": "a" }   }  but, in 1.2, there is no read set for 'a' in second step. In 1.1, 1.2, { "writeSet":   { "isDelete": "false", "value": "2", "key": "a" }  , "readSet":    }   ></body> </Action>
<Action id="49056" issue="33000" author="denyeart" type="comment" body=" ~nedoli  If you do a PutState() but not GetState(), it is expected that the readset will be empty." created="2018-08-18 13:30:55.0" updateauthor="denyeart" updated="2018-08-18 13:30:55.0"/>
<Action id="49060" issue="33000" author="nedoli" type="comment" created="2018-08-18 14:50:58.0" updateauthor="nedoli" updated="2018-08-18 14:50:58.0"> <body><! CDATA  ~denyeart  In transaction, is the readset version for key(used writeset)??   Regarding "https://jira.hyperledger.org/secure/attachment/10585/HyperledgerFabric_LedgerV1_20170315.pptx",  --- Logical structure of a ReadWriteSet ---  Block{     Transactions           {              "Id" : txUUID2              "Invoke" : “Method(arg1, arg2,..,argN)"              “TxRWSet" :             { ”Chaincode” : “ccId”  {color:#FF0000}   “Reads”: \{"key" : “key1", "version” : “v1” } {color}     “Writes”: \{"key" : “key1", ”value" : bytes1}            }// end chaincodeRWSet        // end TxRWSet         },  // end transaction with "Id" txUUID2           \{ // another transaction },        // end Transactions  }// end Block  -------------------------  Endorsing Peer (Simulation): •Simulates transaction and generates ReadWriteSet Committing Peer (Validation/Commit): •Read set is utilized by MVCC validation check to ensure values read during simulation have not changed (ensures serializable isolation). •Block is added to chain and each valid tran’sWrite Set is applied to state database    ></body> </Action>
<Action id="49063" issue="33000" author="denyeart" type="comment" body="I don&apos;t understand the question... in the example from the pptx there was both a GetState() and PutState() call in the chaincode simulation, that&apos;s why there is a readset and writeset." created="2018-08-18 19:14:13.0" updateauthor="denyeart" updated="2018-08-18 19:14:13.0"/>
<Action id="49085" issue="33000" author="nedoli" type="comment" created="2018-08-20 11:45:02.0" updateauthor="nedoli" updated="2018-08-20 11:45:02.0"> <body><! CDATA I'm sorry for bothering you. I misunderstood regarding read/write set.  Thank you.     ></body> </Action>
