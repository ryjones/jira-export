<Issue id="31405" key="FAB-10888" number="10888" project="10002" reporter="c0rwin" assignee="c0rwin" creator="c0rwin" type="10003" summary="Improve log messaging to signal about skipped pvt items due to BTL" priority="3" resolution="10000" status="6" created="2018-06-27 10:28:57.0" updated="2018-07-20 14:17:04.0" resolutiondate="2018-06-28 22:14:26.0" votes="0" watches="2" workflowId="42560"> <description><! CDATA To address one of the comments for FAB-10864, e.g.:  {quote} I see what’s happening now:  2018-06-26 16:15:14.049 UTC  gossip/privdata  fetchFromPeers -> DEBU babd {a87cdf388c9206b27d45cabdc59162b115c841ac4b35aaabf415b8d1aae34594 0 marbles02_private_go_ch1 collectionMarblePrivateDetails 9cad126ab41af988c028cadf25072360e351c4c3170fb8bf33e5a2d6964cdd67} was purged or will soon be purged, skipping fetch  Since your blockToLive is 3, the private data executed in peer0 is either purged or will soon be purged, so peer1 doesn’t pull it. Then upon query on peer1 you get a 500 error with message “Private data matching public hash version is not available”. This is as-designed.  Increase your block to live to something like 100, and you should see the private data for the newer ‘fresh’ blocks.  For the data in expired blocks, you will get a 500 error with chaincode message "Marble private details does not exist”.    Artem Barger I think the above message needs to be a Warning so that people notice the reason for the missing private data.  Let's use this JIRA item to make that change.  There is a related (good) warning when peer cannot fetch private data:  Could not fetch all missing collection private write sets from remote peers. Will commit block with missing private write sets:  I think the ‘skipping fetch’ message should look similar…. Warn people that “will commit block with missing private write sets” (I often grep for things like "missing", so would be good to keep the message somewhat consistent). {quote}  the following log message need to be turned into warn instead of debug:  {quote} 2018-06-26 16:15:14.049 UTC  gossip/privdata  fetchFromPeers -> DEBU babd {a87cdf388c9206b27d45cabdc59162b115c841ac4b35aaabf415b8d1aae34594 0 marbles02_private_go_ch1 collectionMarblePrivateDetails 9cad126ab41af988c028cadf25072360e351c4c3170fb8bf33e5a2d6964cdd67} was purged or will soon be purged, skipping fetch {quote}  ></description> </Issue>
