<Issue id="36624" key="FAB-13601" number="13601" project="10002" reporter="scottz" assignee="suryalnvs" creator="scottz" type="10101" summary="Don&apos;t crash any OSN (single-thread invocations, 1 channel, latency mode)" priority="1" resolution="10000" status="6" created="2019-01-09 21:11:30.0" updated="2019-01-24 03:01:11.0" resolutiondate="2019-01-09 22:38:04.0" votes="0" watches="4" workflowId="48322"> <description><! CDATA h2. Setup # Create a Fabric network with: ## etcd/raft with 3 OSNs (all under the same org) in the system channel ({{orderersystemchannel}}) ## {{batchSize.maxMessageCount}} = 1 ## 2 peers (all under the same org) # Create application channel {{channel1}} with the same consenter set as {{orderersystemchannel}}. # Install {{samplecc}} on all peers. # Instantiate with simple endorsement policy requiring only 1 peer to endorse. # Provide scfile (configuration information) to the Performance Traffic Engine (PTE). # The network will be set up in IKS cluster. PTE itself can run in either its own container in the IKS cluster OR in a vLaunch container. For this test we will run in the vLaunch machine (preferred for convenience, but might incur longer transmission delays). # Run with logging enabled (per Raft System Test Epic FAB-13538 comments). Logs must be persistent, so we can retrieve them even in cases where a peer or orderer stops.  _Alternatively, the network could be set up in vLaunch VM instead of IKS, using Docker containers for all network nodes, including the PTE client._  h2. Inputs * Run a test similar to FAB-7647. PTE runs in "latency mode" with one thread, sending 10,000 transactions to one peer, one after another, after each event is received from the peer after validation. * PTE will send all traffic on the channel to first orderer.  h2. Expectations * All nodes remain in service throughout the test. * 10,002 blocks (genesis plus instantiation plus 10,000 TXs) successfully written to ledger. * No errors in the logs of peers and orderers. * PTE Test Passes and End2End Latency (avg per transaction) will be reported. * No failures or errors reported by PTE.  ></description> </Issue>
