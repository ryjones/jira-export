<Issue id="17409" key="FAB-4327" number="4327" project="10002" reporter="latitiah" assignee="c0rwin" creator="latitiah" type="10004" summary="Peer panics and dies" priority="2" resolution="10000" status="6" created="2017-06-02 15:31:28.0" updated="2018-07-20 14:13:05.0" resolutiondate="2017-06-14 18:04:43.0" votes="0" watches="4" workflowId="38787" security="10001"> <description><! CDATA *commit:* 506cdda3d33bdac0f6361408ac0ed157c97c1e88  *API method:*  peer cli commands  After performing a peer channel create and join using the commands below, the targeted peer panics and then dies.  *Create command*: (executed on peer0.org1.example.com) {code:java} CORE_PEER_MSPCONFIGPATH=/var/hyperledger/configs/3eb187a4471d11e7bd020800275fb08f/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp peer channel create --file /var/hyperledger/configs/3eb187a4471d11e7bd020800275fb08f/behavesystest-1.tx --chain behavesystest-1 --orderer orderer.example.com:7050{code} *Join command*: (executed on peer0.org1.example.com)   {code:java} CORE_PEER_MSPCONFIGPATH=/var/hyperledger/configs/3eb187a4471d11e7bd020800275fb08f/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp peer channel join --blockpath /var/hyperledger/configs/3eb187a4471d11e7bd020800275fb08f/behavesystest-1.block --chain behavesystest-1 --orderer orderer.example.com:7050{code} *Error*:  result of join command: (No error message, it just dies)  {code:java} 2017-06-01 22:54:31.301 UTC  msp  getMspConfig -> INFO 001\x1b 0m intermediate certs folder not found at  /var/hyperledger/configs/3eb187a4471d11e7bd020800275fb08f/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp/intermediatecerts . Skipping.:  stat /var/hyperledger/configs/3eb187a4471d11e7bd020800275fb08f/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp/intermediatecerts: no such file or directory \n 2017-06-01 22:54:31.301 UTC  msp  getMspConfig -> INFO 002\x1b 0m crls folder not found at  /var/hyperledger/configs/3eb187a4471d11e7bd020800275fb08f/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp/intermediatecerts . Skipping.:  stat /var/hyperledger/configs/3eb187a4471d11e7bd020800275fb08f/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp/crls: no such file or directory \n \x1b 36m2017-06-01 22:54:31.322 UTC  msp  GetLocalMSP -> DEBU 003\x1b 0m Returning existing local MSP\n \x1b 36m2017-06-01 22:54:31.322 UTC  msp  GetDefaultSigningIdentity -> DEBU 004\x1b 0m Obtaining default signing identity\n \x1b 36m2017-06-01 22:54:31.325 UTC  msp/identity  Sign -> DEBU 005\x1b 0m Sign: plaintext: 0AAF070A5C08011A0C08A7B6C2C90510...41646D696E731A080A000A000A000A00 \n \x1b 36m2017-06-01 22:54:31.325 UTC  msp/identity  Sign -> DEBU 006\x1b 0m Sign: digest: 9A2B5B77744B1BDA82C8BCA533CC49DE2CADE2B56931A62A70302DB1A25DBE4D \n'{code} error on peer0.org1.example.com:     {code:java} panic: nil msg goroutine 70  running : panic(0xc48500, 0xc4202a9730) /opt/go/src/runtime/panic.go:500 +0x1a1 github.com/hyperledger/fabric/core/chaincode/shim.chatWithPeer.func1(0xc4213572c0, 0xc4213724e0, 0x13d4220, 0xc4213722e0, 0xc421357320, 0xc420050fc0) /opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/shim/chaincode.go:302 +0xe61 created by github.com/hyperledger/fabric/core/chaincode/shim.chatWithPeer /opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/shim/chaincode.go:324 +0x500 {code}       Orderer and peer logs are attached.  ></description> </Issue>
