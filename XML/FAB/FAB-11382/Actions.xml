<Action id="48112" issue="32373" author="ales" type="comment" body=" ~yacovm , it makes sense to me. I&apos;m only not sure about the caching part: under which conditions will the SDK evict stale cache entries?" created="2018-07-30 13:29:58.0" updateauthor="ales" updated="2018-07-30 13:29:58.0"/>
<Action id="48113" issue="32373" author="yacovm" type="comment" created="2018-07-30 13:35:26.0" updateauthor="yacovm" updated="2018-07-30 13:35:26.0"> <body><! CDATA {quote}under which conditions will the SDK evict stale cache entries? {quote} The SDK should register to the events, and whenever the chaincode is upgraded - an event is put by LSCC, so it should then re-query the keys.  ></body> </Action>
<Action id="48115" issue="32373" author="ales" type="comment" body="Thing is, you don&apos;t need a chaincode upgrade to change a state-level endorsement policy - it can be done via chaincode." created="2018-07-30 13:47:24.0" updateauthor="ales" updated="2018-07-30 13:47:24.0"/>
<Action id="48116" issue="32373" author="yacovm" type="comment" body="So maybe we can emit an event whenever the metadata is updated, or worst case we can fall back to a retry in case the transaction doesn&apos;t pass validation because of endorsement policy?" created="2018-07-30 13:50:58.0" updateauthor="yacovm" updated="2018-07-30 13:50:58.0"/>
<Action id="48117" issue="32373" author="ales" type="comment" body="It&apos;s certainly possible to track state-level EP changes since they generate a special rwset message. Could this be used to generate events or should the standard chaincode event infrastructure be used? Retry after cache entry flush is certainly an option otherwise." created="2018-07-30 13:54:58.0" updateauthor="ales" updated="2018-07-30 13:54:58.0"/>
<Action id="48120" issue="32373" author="yacovm" type="comment" body="We have a problem in case of filtered events, that&apos;s why I proposed the events... would like other opinions if possible" created="2018-07-30 14:16:06.0" updateauthor="yacovm" updated="2018-07-30 14:16:06.0"/>
<Action id="48205" issue="32373" author="rickr" type="comment" body="How likely is it that when all said and done it would not be better to just get all endorsements possibly needed ? I understand that we would in some cases be getting more endorsemetns than needed. Could the chaincode writer not provide meta data that his chaincode will need to satisfy a set of endorsement policies (including the keys) and chaincodes that it will call. Discovery would inspect this and come up with the endorsements ?  Not understanding the use cases here maybe not possible but just wanted to float this by you" created="2018-07-31 17:23:04.0" updateauthor="rickr" updated="2018-07-31 17:23:04.0"/>
<Action id="48206" issue="32373" author="rickr" type="comment" created="2018-07-31 17:24:47.0" updateauthor="rickr" updated="2018-07-31 17:24:47.0"> <body><! CDATA I guess the short way of putting that is just do the *_SHOT GUN _*approach! :)   ></body> </Action>
<Action id="67476" issue="32373" author="sykesm" type="comment" body="Stale" created="2020-01-22 22:32:38.0" updateauthor="sykesm" updated="2020-01-22 22:32:38.0"/>
