<Issue id="43492" key="FAB-17164" number="17164" project="10002" reporter="vieiramanoel" creator="vieiramanoel" type="10004" summary="Peer cant initialize when PKCS11 is enabled" priority="3" resolution="10201" status="6" created="2019-11-28 18:00:45.0" updated="2020-06-18 15:40:48.0" resolutiondate="2019-11-28 22:27:03.0" votes="0" watches="2" workflowId="56607"> <description><! CDATA Well I'm trying to integrate my fabric components with HSM, but I can't make a progress due to a possible bug.  The error I get is  {{   2019-11-28 17:52:13.919 UTC  msp  getSigningIdentityFromConf -> DEBU 038 Could not find SKI  f803f7bdc087dd514045c500bedfc664e447ee3d6deede6fc5a4b6edf47f8c90 , trying KeyMaterial field: Key not found. This is a dummy KeyStore}} Failed getting key for SKI   248 3 247 189 192 135 221 81 64 69 197 0 190 223 198 100 228 71 238 61 109 238 222 111 197 164 182 237 244 127 140 144    }}  That is related to this line:   DummyKS GetKey()|https://github.com/hyperledger/fabric/blob/c5d4087dc7230c862630b84319837b8efbd3b4b8/bccsp/sw/dummyks.go#L41   This dummy ks is instantiated here:   DummyKS Instantiation|https://github.com/hyperledger/fabric/blob/d3adcc0e4c06c458bc36db3c4e8cb335e1b01e9e/bccsp/factory/swfactory.go#L38   So everytime that swOpts.Ephemeral is set to true this error will happen.  I want peer to use key from HSM not have a private key saved in it's disk.  I don't know what is needed to make this work.   Useful informations  commit hash: 1ac3f05847279f87da5daf81415a02b89048c2e9 peer dockerfile.in: https://gist.github.com/vieiramanoel/95afc456e61ddae786176b7932638d1f peer debug logs: https://hastebin.com/olovikacic.cs peer core.yaml: https://hastebin.com/edajolefod.php   ></description> </Issue>
