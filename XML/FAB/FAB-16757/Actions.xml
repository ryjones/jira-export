<Action id="65157" issue="42609" author="bharadwajambati1" type="comment" created="2019-10-29 18:55:58.0" updateauthor="bharadwajambati1" updated="2019-10-29 18:55:58.0"> <body><! CDATA *Test Results:*  *Step 1:* #  Launched the network as per the description. # Created a channel named testorgschannel1 and joined all the peers # Installed and Instantiated samplecc on the peers # Started sending the invokes # While traffic is running, created a secret using the core.yaml, in which the addressoverride section as added as below (*x.x.x.x is the public IP address of the k8s cluster*) {code:java} addressOverrides:   - from: orderer0-ordererorg1:7050      to: x.x.x.x:31809   - from: orderer1-ordererorg1:7050       to: x.x.x.x:30228   - from: orderer2-ordererorg1:7050      to: x.x.x.x:32547   - from: orderer3-ordererorg1:7050      to: x.x.x.x:30254   - from: orderer4-ordererorg1:7050       to: x.x.x.x:32222{code}     *Step 2:* # Updated the pods YAML file with secret details and restart the peers # Exec into one of the peer and installed required tools like net-tools using the command apt-get install net-tools # Ran netstat -ntalp and observed that the orderer address have been overridden to x.x.x.x:32547 {code:java} Proto Recv-Q Send-Q Local Address           Foreign Address         State       PID/Program name tcp        0      0 0.0.0.0:5984            0.0.0.0:*               LISTEN      - tcp        0      0 0.0.0.0:5986            0.0.0.0:*               LISTEN      - tcp        0      0 172.30.8.59:53902       x.x.x.x:32547      ESTABLISHED 1/peer{code}     *Step 3:* # Recreated a secret by reverting the changes in the core.yaml as below {code:java} addressOverrides: - from: x.x.x.x:31809 to: orderer0-ordererorg1:7050 - from: x.x.x.x:30228 to: orderer1-ordererorg1:7050 - from: x.x.x.x:32547 to: orderer2-ordererorg1:7050 - from: x.x.x.x:30254 to: orderer3-ordererorg1:7050 - from: x.x.x.x:32222 to: orderer4-ordererorg1:7050{code}     *Step 4:* # Restarted the peers # Exec into one of the peer and installed required tools like net-tools using the command apt-get install net-tools # Ran netstat -ntalp and observed that the orderer address has been overridden and is listening to 172.21.116.208:7050 which is the initial orderer endpoint. {code:java} Proto Recv-Q Send-Q Local Address           Foreign Address         State       PID/Program name tcp        0      0 0.0.0.0:5984            0.0.0.0:*               LISTEN      - tcp        0      0 0.0.0.0:5986            0.0.0.0:*               LISTEN      - tcp        0      0 127.0.0.1:5984          127.0.0.1:40794         ESTABLISHED - tcp        0      0 127.0.0.1:40830         127.0.0.1:5984          ESTABLISHED 1/peer tcp        0      0 127.0.0.1:40794         127.0.0.1:5984          ESTABLISHED 1/peer tcp        0      0 127.0.0.1:5984          127.0.0.1:40830         ESTABLISHED - tcp        0      0 172.30.8.42:40818       172.21.116.208:7050     ESTABLISHED 1/peer{code}           ></body> </Action>
