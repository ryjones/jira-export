<Issue id="33694" key="FAB-11968" number="11968" project="10002" reporter="sykesm" creator="sykesm" type="10004" summary="Intermittent test failures in core/committer/txvalidator_test TestInvokeOKPvtDataOnly" priority="3" resolution="10002" status="6" created="2018-09-12 14:05:08.0" updated="2019-03-19 10:57:35.0" resolutiondate="2018-09-17 16:12:49.0" votes="0" watches="3" workflowId="44994"> <description><! CDATA {code} unit-tests_1  | 2018-09-12 13:51:55.203 UTC  ledgermgmt  CreateLedger -> INFO 18b Created ledger  TestLedger  with genesis block unit-tests_1  | 2018-09-12 13:51:55.203 UTC  cceventmgmt  HandleStateUpdates -> INFO 18c Channel  TestLedger : Handling LSCC state update for chaincode  mycc  unit-tests_1  | 2018-09-12 13:51:55.203 UTC  ccprovider  ExtractStatedbArtifactsForChaincode -> INFO 18d Error while loading installation package for ccname=mycc, ccversion=1.0. Err=open /mycc.1.0: no such file or directory unit-tests_1  | 2018-09-12 13:51:55.204 UTC  cceventmgmt  HandleChaincodeDeploy -> INFO 18e Channel  TestLedger : Chaincode  Name=mycc, Version=1.0, Hash=  byte(nil)  is not installed hence no need to create chaincode artifacts for endorsement unit-tests_1  | 2018-09-12 13:51:55.208 UTC  kvledger  CommitWithPvtData -> INFO 18f Channel  TestLedger : Committed block  1  with 1 transaction(s) unit-tests_1  | 2018-09-12 13:51:55.211 UTC  vscc  GetValidationParameterForKey -> ERRO 190 could not retrieve metadata for mycc:mycollection:WM��)���>\kM�:�(�Ku����{�� ��: collection config not defined for chaincode  mycc , pass the collection configuration upon chaincode definition/instantiation unit-tests_1  | 2018-09-12 13:51:55.211 UTC  vscc  Validate -> ERRO 191 VSCC error: stateBasedValidator.Validate failed, err %!s(<nil>) unit-tests_1  | 2018-09-12 13:51:55.211 UTC  committer/txvalidator  validateTx -> ERRO 192 VSCCValidateTx for transaction txId = 6ec8771ffb52ade5e8da2a6de62c17813935653ad602554e57a6e54f242b2ee8 returned error: could not retrieve metadata for mycc:mycollection:WM��)���>\kM�:�(�Ku����{�� ��: collection config not defined for chaincode  mycc , pass the collection configuration upon chaincode definition/instantiation unit-tests_1  | 2018-09-12 13:51:55.211 UTC  ledgermgmt  Close -> INFO 193 Closing ledger mgmt unit-tests_1  | 2018-09-12 13:51:55.212 UTC  ledgermgmt  Close -> INFO 194 ledger mgmt closed unit-tests_1  | removing dir = /tmp/fabric/validatortest/ledgersData unit-tests_1  | panic: runtime error: invalid memory address or nil pointer dereference  recovered  unit-tests_1  | 	panic: runtime error: invalid memory address or nil pointer dereference unit-tests_1  |  signal SIGSEGV: segmentation violation code=0x1 addr=0x8 pc=0x1137baa  unit-tests_1  |  unit-tests_1  | goroutine 5244  running : unit-tests_1  | testing.tRunner.func1(0xc42268e000) unit-tests_1  | 	/opt/go/src/testing/testing.go:742 +0x29d unit-tests_1  | panic(0x12ac800, 0x1c22050) unit-tests_1  | 	/opt/go/src/runtime/panic.go:505 +0x229 unit-tests_1  | github.com/hyperledger/fabric/core/committer/txvalidator_test.assertInvalid(0xc4252b5ac0, 0xc42268e000, 0xa) unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/core/committer/txvalidator/validator_test.go:217 +0x2a unit-tests_1  | github.com/hyperledger/fabric/core/committer/txvalidator_test.testInvokeOKPvtDataOnly(0xc42268e000, 0x14fc2a0, 0xc4205dee00, 0x14dcc20, 0xc4205dee40) unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/core/committer/txvalidator/validator_test.go:566 +0x443 unit-tests_1  | github.com/hyperledger/fabric/core/committer/txvalidator_test.TestInvokeOKPvtDataOnly.func2(0xc42268e000) unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/core/committer/txvalidator/validator_test.go:545 +0x164 unit-tests_1  | testing.tRunner(0xc42268e000, 0xc422e561a0) unit-tests_1  | 	/opt/go/src/testing/testing.go:777 +0xd0 unit-tests_1  | created by testing.(*T).Run unit-tests_1  | 	/opt/go/src/testing/testing.go:824 +0x2e0 unit-tests_1  | FAIL	github.com/hyperledger/fabric/core/committer/txvalidator	19.586s {code}   ></description> </Issue>
