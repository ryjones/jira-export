<Issue id="34815" key="FAB-12557" number="12557" project="10002" reporter="guoger" assignee="guoger" creator="guoger" type="10004" summary="Test framework for multi-node etcdraft chain is flaky" priority="3" resolution="10000" status="6" created="2018-10-22 07:35:37.0" updated="2018-10-29 23:44:20.0" resolutiondate="2018-10-29 23:44:20.0" votes="0" watches="2" workflowId="46230"> <description><! CDATA in multi-node etcdraft chain tests, we often do: in a 3-node network: node A, B, C 1. node A is leader 2. disconnect node A 3. elect node B as new leader 4. perform some operations 5. reconnect node A 6. disconnect node B 7. elect node A as leader  However, step 7 is flaky because we need to wait for node A to catch up with missing entries, before we can deterministically elect it. Put differently, if node A is behind node C, C would reject its vote request.  This can be done by asserting storage last index of node A to be equal to node B (ex-leader)  ></description> </Issue>
