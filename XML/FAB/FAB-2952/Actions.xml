<Action id="23677" issue="15532" author="kchristidis" type="comment" created="2017-05-10 18:21:59.0" updateauthor="kchristidis" updated="2017-05-10 18:21:59.0"> <body><! CDATA Jian, thank you for reporting this and submitting all the relevant details. This doesn't happen often ;)  So, the error you're seeing is expected, but I can see why it threw you off.  Let me give the step-by-step of what we're trying to achieve: # We want to run the E2E test with the Kafka-based ordering service # So, we need to create a genesis block for the ordering service that sets the ordering type to "kafka", and encodes the right addresses for the Kafka brokers. # The E2E script runs (via the generateArtifacts shell script) configtxgen with the TwoOrgsOrdererGenesis profile # Then brings up the network defined the Docker Compose YAML file  Setting the CONFIGTX_* env var on the orderer container (as you did) modifies the "configtx.yaml" that the orderer container sees, but the thing is that the orderer does not even care about this configuration at this point. The orderer reads the configuration from the genesis block that was created in step 3.  Setting any CONFIGTX_ env var makes sense only if the genesis method for the orderer is set to provisional, i.e. the genesis block is generated dynamically when the orderer launches. This is not the case here, since we are generating the genesis block in advance.  So, the TL;DR version:  This ENV var does override the value in configtx.yaml, but you are overriding a file that the orderer does not look into.  In order to achieve what you want, you'd modify the genesis block that configtxgen generates, in a manner similar to this one (just an example): https://github.com/kchristidis/fabric/commit/7f83f40fdd8c5cd0a837a820f728f3b864e1cce2  ></body> </Action>
<Action id="23678" issue="15532" author="kchristidis" type="comment" body="I am going to mark this as DONE. If there are follow-up questions, please let me know." created="2017-05-10 18:22:15.0" updateauthor="kchristidis" updated="2017-05-10 18:22:15.0"/>
<Action id="23713" issue="15532" author="daijianw" type="comment" created="2017-05-11 02:11:13.0" updateauthor="daijianw" updated="2017-05-11 02:11:13.0"> <body><! CDATA Hi Kostas,  Thanks for clarifying the usage. I'm OK to close this issue.  ></body> </Action>
