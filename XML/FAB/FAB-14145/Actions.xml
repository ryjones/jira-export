<Action id="56921" issue="37620" author="denyeart" type="comment" created="2019-02-12 13:37:03.0" updateauthor="denyeart" updated="2019-02-12 13:37:03.0"> <body><! CDATA "The signature is invalid" could happen because different peers got different read/write sets for the transaction.   ~angelo.decaro  What could cause:   "identity 1 does not satisfy principal: the identity is a member of a different MSP (expected *************MSP, got *******MSP) "  What two MSPs are being compared here? Perhaps more context is needed in the error message?  ></body> </Action>
<Action id="56924" issue="37620" author="angelo.decaro" type="comment" body=" ~jlcs , would be possible to see the endorsement policy?" created="2019-02-12 13:50:43.0" updateauthor="angelo.decaro" updated="2019-02-12 13:50:43.0"/>
<Action id="56925" issue="37620" author="jlcs" type="comment" created="2019-02-12 14:02:33.0" updateauthor="jlcs" updated="2019-02-12 14:02:33.0"> <body><! CDATA The endorsement policy is specified through the Node SDK as:  ``` "endorsement-policy":  { "identities":   { "role": { "name": "member", "mspId": "MSP1" }}, { "role": { "name": "member", "mspId": "MSP2" }}, { "role": { "name": "member", "mspId": "MSP3" }}, { "role": { "name": "member", "mspId": "MSP4" }}  , "policy": { "3-of":   { "signed-by": 0 }, { "signed-by": 1 }, { "signed-by": 2 }, { "signed-by": 3 }   } }, ```   I had to change the MSP names for *************MSP before to hide some company private data. Nonetheless, those lines work as expected, it tries to compare, for example, MSP2 with MSP3 and MSP4 and therefore fails in that step, but continues with the endorsement check.  ></body> </Action>
<Action id="56926" issue="37620" author="jlcs" type="comment" body=" ~denyeart  If the write/read sets were different, wouldn&apos;t that appear after checking the individual signatures?" created="2019-02-12 14:04:29.0" updateauthor="jlcs" updated="2019-02-12 14:04:29.0"/>
<Action id="56955" issue="37620" author="jlcs" type="comment" created="2019-02-13 07:54:55.0" updateauthor="jlcs" updated="2019-02-13 07:54:55.0"> <body><! CDATA Thank you all, it was indeed a problem with one of the write sets.  Nonetheless, I'm going to submit a request to change the debug messages so they are clearer for why an endorsement fails, and to check if the peer checks the write set of the first endorsement with the rest.  ></body> </Action>
