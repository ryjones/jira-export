<Issue id="34074" key="FAB-12158" number="12158" project="10002" reporter="harsha544" assignee="harsha544" creator="harsha544" type="10004" summary="Test under privacyenabledstate package are failing" priority="3" resolution="10000" status="6" created="2018-09-25 13:24:29.0" updated="2018-10-03 14:20:08.0" resolutiondate="2018-10-03 14:18:31.0" votes="0" watches="1" workflowId="45397"> <description><! CDATA make unit-test is failing for Tests under *privacyenabledstate* package  unit-tests_1 | panic: runtime error: invalid memory address or nil pointer dereference  recovered  unit-tests_1 | panic: runtime error: invalid memory address or nil pointer dereference unit-tests_1 |  signal SIGSEGV: segmentation violation code=0x1 addr=0x20 pc=0x10a459ac  unit-tests_1 | unit-tests_1 | goroutine 68  running : unit-tests_1 | testing.tRunner.func1(0xc42011c0f0) unit-tests_1 | /opt/go/src/testing/testing.go:742 +0x270 unit-tests_1 | panic(0x10b70b00, 0x11180f20) unit-tests_1 | /opt/go/src/runtime/panic.go:502 +0x24c unit-tests_1 | github.com/hyperledger/fabric/core/ledger/kvledger/txmgmt/privacyenabledstate.(*CouchDBCommonStorageTestEnv).GetDBHandle(0xc420214810, 0x10ca3f0c, 0x14, 0x3fff9d4e1458, 0x0) unit-tests_1 | /opt/gopath/src/github.com/hyperledger/fabric/core/ledger/kvledger/txmgmt/privacyenabledstate/test_exports.go:124 +0x2c unit-tests_1 | github.com/hyperledger/fabric/core/ledger/kvledger/txmgmt/pvtstatepurgemgmt.(*testHelper).init(0xc420093ef8, 0xc42011c0f0, 0x10ca3f0c, 0x14, 0x10d3ad60, 0xc42034f860, 0x10d496a0, 0xc420214810) unit-tests_1 | /opt/gopath/src/github.com/hyperledger/fabric/core/ledger/kvledger/txmgmt/pvtstatepurgemgmt/purge_mgr_test.go:228 +0xfc unit-tests_1 | github.com/hyperledger/fabric/core/ledger/kvledger/txmgmt/pvtstatepurgemgmt.testPurgeMgr(0xc42011c0f0, 0x10d496a0, 0xc420214810) unit-tests_1 | /opt/gopath/src/github.com/hyperledger/fabric/core/ledger/kvledger/txmgmt/pvtstatepurgemgmt/purge_mgr_test.go:53 +0x2c8 unit-tests_1 | github.com/hyperledger/fabric/core/ledger/kvledger/txmgmt/pvtstatepurgemgmt.TestPurgeMgr.func1(0xc42011c0f0) unit-tests_1 | /opt/gopath/src/github.com/hyperledger/fabric/core/ledger/kvledger/txmgmt/pvtstatepurgemgmt/purge_mgr_test.go:39 +0x40 unit-tests_1 | testing.tRunner(0xc42011c0f0, 0xc420249540) unit-tests_1 | /opt/go/src/testing/testing.go:777 +0xc8 unit-tests_1 | created by testing.(*T).Run unit-tests_1 | /opt/go/src/testing/testing.go:824 +0x28c  unit-tests_1 | *FAIL github.com/hyperledger/fabric/core/ledger/kvledger/txmgmt/pvtstatepurgemgmt 264.594s*   Retrying the test so it will use Eventually() and thus retry in the below line.   https://github.com/hyperledger/fabric/blob/master/core/ledger/kvledger/txmgmt/privacyenabledstate/test_exports.go#L123-L127   ></description> </Issue>
