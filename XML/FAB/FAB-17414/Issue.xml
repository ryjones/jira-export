<Issue id="44025" key="FAB-17414" number="17414" project="10002" reporter="denyeart" creator="denyeart" type="10100" summary="As a chaincode author, I need JSON serialized deterministically" priority="3" status="10100" created="2020-01-18 03:51:15.0" updated="2021-04-23 11:58:52.0" votes="0" watches="7" workflowId="58765"> <description><! CDATA Given the prevalence of JSON in user chaincode, and the criticality of deterministic serialization when saving state in chaincode, users need guidance around deterministic JSON serialization. This is especially true in v2.0 since chaincode may be different across peers, perhaps even implemented in different languages.  Especially problematic is order of JSON elements, since the JSON spec does not guarantee an order. Go Marshal() ( https://golang.org/pkg/encoding/json/#Marshal)  happens to sort map elements, but this is an implementation detail that may change in the future. Javascript (  https://github.com/nodejs/node/issues/15628|https://github.com/nodejs/node/issues/15628  ) and Java perform no such ordering. And all three languages would certainly produce different results for the same modeled JSON object.  Minimally the concern needs to be well documented. Perhaps some recommendations could be made for using deterministic libraries (e.g.  https://github.com/BridgeAR/safe-stable-stringify/  ). Or perhaps given the prevalence and criticality, the chaincode programming model itself could provide consistent serialization utilities across the languages.  Â   ></description> </Issue>
