<Issue id="37027" key="FAB-13813" number="13813" project="10002" reporter="c0rwin" assignee="c0rwin" creator="c0rwin" type="10004" summary="Unsigned overflow while handling state request." priority="3" resolution="10000" status="6" created="2019-01-22 07:08:19.0" updated="2019-01-28 14:29:08.0" resolutiondate="2019-01-28 14:29:08.0" votes="0" watches="1" workflowId="48596"> <description><! CDATA Currently in the gossip state component, while handling state request it computes requested batch size in {{handleStateRequest}} method  {code} batchSize := request.EndSeqNum - request.StartSeqNum {code}  where {{EndSeqNum}} and {{StartSeqNum}} unsigned ints, hence this could lead to the overflow.  This should be fixed, by first of all checking whenever   {code} 	if request.StartSeqNum > request.EndSeqNum { 		logger.Errorf("Invalid sequence interval  %d...%d , ignoring request...", request.StartSeqNum, request.EndSeqNum) 		return 	} {code}  and also assert batch size with   {code} 	if request.EndSeqNum > defAntiEntropyBatchSize+request.StartSeqNum { 		logger.Errorf("Requesting blocks range (%d-%d) greater than configured allowed"+ 			" (%d) batching size for anti-entropy. "+ 			"Ignoring request...", request.StartSeqNum, request.EndSeqNum, defAntiEntropyBatchSize) 		return 	} {code}  ></description> </Issue>
