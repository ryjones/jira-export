<Issue id="42500" key="FAB-16703" number="16703" project="10002" reporter="wenjian" assignee="wlahti" creator="wenjian" type="10004" summary="v1.4 chaincode image is not found after upgrading to v2.0" priority="3" resolution="10000" status="6" created="2019-09-25 19:15:12.0" updated="2019-10-12 07:14:57.0" resolutiondate="2019-10-12 07:14:57.0" votes="0" watches="1" workflowId="55566"> <description><! CDATA I had a v1.4 network, deployed a chaincode, invoked and queried the chaincode successfully.  Upgraded the v1.4 network to v2.0. However, v2.0 was not able to find the chaincode image built in v1.4 and tried to rebuild. The rebuild failed due to shim package change in 2.0.  {quote}Error: endorsement failure during query. response: status:500 message:"error in simulation: failed to execute transaction 4e58b95994ea0e2e8ae67fe53ead9d35a87f1893501264ca744c89c33a488d07: could not launch chaincode marblesp:1: error starting container: error building image: failed external (no builders defined) and docker build: docker image build failed: docker build failed: Error returned from build: 1 \"/chaincode/input/src/github.com/hyperledger/fabric-samples/chaincode/marbles02_private/go/marbles_chaincode_private.go:99:2: cannot find package \"github.com/hyperledger/fabric/core/chaincode/shim\" in any of:\n\t/usr/local/go/src/github.com/hyperledger/fabric/core/chaincode/shim (from $GOROOT)  ...... {quote}    Jason has helped to debug the problem and he found the following inconsistency. This needs to be fixed so that 2.0 can find the cc image built in 1.4. * in v2.0, the hashcode was from {{"<network>\-<peer>\-<chaincode-name>:<chaincode-version>"}} * in v1.4.x, the hashcode was from {{"<network>\-<peer>\-<chaincode\-name>\-<chaincode\-version>}"}}     ></description> </Issue>
