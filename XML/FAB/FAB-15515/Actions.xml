<Action id="60278" issue="40080" author="sykesm" type="comment" created="2019-05-22 21:58:47.0" updateauthor="sykesm" updated="2019-05-22 21:58:47.0"> <body><! CDATA The integration runner for couch db is used in the tests.  $ ag -l runner.Couch core/ledger/util/couchdb/couchdb_test.go core/ledger/kvledger/txmgmt/privacyenabledstate/test_exports.go core/ledger/kvledger/txmgmt/statedb/statecouchdb/statecouchdb_test.go integration/nwo/components.go integration/e2e/health_test.go   ></body> </Action>
<Action id="60381" issue="40080" author="sykesm" type="comment" created="2019-05-24 20:08:05.0" updateauthor="sykesm" updated="2019-05-24 20:08:05.0"> <body><! CDATA This appears to have been introduced in a recent refactor as part of #817cd1651d  {code} func TestMain(m *testing.M) { -	os.Exit(testMain(m)) -} - -func testMain(m *testing.M) int { -	// Read the core.yaml file for default config. -	ledgertestutil.SetupCoreYAMLConfig() -	viper.Set("peer.fileSystemPath", "/tmp/fabric/ledgertests/kvledger/txmgmt/statedb/statecouchdb") 	viper.Set("ledger.state.couchDBConfig.autoWarmIndexes", false)  	// Switch to CouchDB @@ -44,7 +36,7 @@ func testMain(m *testing.M) int {  	flogging.ActivateSpec("statecouchdb=debug") 	//run the actual test -	return m.Run() +	os.Exit(m.Run()) } {code}  ></body> </Action>
<Action id="60382" issue="40080" author="sykesm" type="comment" created="2019-05-24 20:13:58.0" updateauthor="sykesm" updated="2019-05-24 20:14:07.0"> <body><! CDATA remote:   https://gerrit.hyperledger.org/r/c/fabric/+/31547  FAB-15515  stop leaking couchdb container  WIP  remote:   https://gerrit.hyperledger.org/r/c/fabric/+/31548  FAB-15515  add creator footprint to couch runner  WIP   ></body> </Action>
