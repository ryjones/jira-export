<Issue id="14725" key="FAB-2168" number="2168" project="10002" reporter="ratnakar" creator="ratnakar" type="10004" summary="Unable to deploy chaincode using certificates generated from behave tests (Similar to sfhackfest)" priority="2" resolution="10000" status="6" created="2017-02-10 04:52:47.0" updated="2018-07-20 14:11:35.0" resolutiondate="2017-04-11 21:58:18.0" votes="0" watches="2" workflowId="37384"> <description><! CDATA Commit Level : 8d2701a2de9bf958a6393cce34003c9261bf043f   It is possible to deploy with default channel "testchainid" on a single peer. However, if we want to deploy chaincode on multiple orgs connected to a channel using the behave generated certs it is throwing the below error  Please NOTE: These certs are used for sfhackfest (https://github.com/hyperledger/fabric/tree/master/examples/sfhackfest/tmp/peer0) with anchor (-a) in the channel creation command   {code} Error: Error endorsing chaincode: rpc error: code = 2 desc = The creator certificate is not valid, err The supplied identity is not valid, Verify() returned x509: certificate signed by unknown authority {code}   The step-by-step instructions for using the default channel are outlined here https://github.com/hyperledger/fabric/blob/master/docs/channel-setup.md   *Pre-requisites:*  * Vagrant  * Generate cert data from behave folder cd /opt/gopath/src/github.com/hyperledger/fabric/bddtests behave -k features/bootstrap.feature.  The above command generates certs for each org and stores under volume folder, For one run this is how it looks on my machine : {panel}bddtests/volumes/peer/7bbe3559ef4711e6866c0800275fb08f/peer0{panel}  * generate anchorPeer.txt with the below details (attached for reference) {code}127.0.0.1 7051 << Certificate data from peer0 signerCert goes here >>{code} Refer attached file   ^anchorPeer.txt    *Terminal Tab1*  - Start Orderer  {panel}ORDERER_GENERAL_LOGLEVEL=debug ./orderer{panel}  *Terminal Tab2* -  {panel}CORE_PEER_GOSSIP_IGNORESECURITY=true CORE_PEER_MSPCONFIGPATH=opt/gopath/src/github.com/hyperledger/fabric/bddtests/volumes/peer/7bbe3559ef4711e6866c0800275fb08f/peer0 peer node start --peer-defaultchain=false {panel}  *Terminal Tab3* : Chain create/ Join and Deploychaincode   run the below shell script  {code} #!/bin/bash  export CORE_PEER_GOSSIP_IGNORESECURITY=true export CORE_PEER_MSPCONFIGPATH=opt/gopath/src/github.com/hyperledger/fabric/bddtests/volumes/peer/7bbe3559ef4711e6866c0800275fb08f/peer0 export CORE_PEER_COMMITTER_LEDGER_ORDERER=127.0.0.1:7050  peer channel create -c myc1 -a anchorPeer.txt  peer channel join -b myc1.block  peer chaincode deploy -C myc1 -n mycc -p github.com/hyperledger/fabric/examples/chaincode/go/chaincode_example02 -c '{"Args": "init","a","100","b","200" }' sleep 120 peer chaincode invoke -C myc1 -n mycc -c '{"Args": "invoke","a","b","10" }'  sleep 10  peer chaincode query -C myc1 -n mycc -c '{"Args": "query","a" }' {code}  while executing the deploy step it fails , attached the logs for both   ^peer-logs.txt   and   ^deploy-failure.txt   logs.  ></description> </Issue>
