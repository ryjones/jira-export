<Issue id="44920" key="FAB-17791" number="17791" project="10002" reporter="heatherp" creator="heatherp" type="10004" summary="Error: No discovery targets found when replacing v1.4 sdk-node modules with v2.1 equivalents in fabric-chaincode-integration" priority="4" resolution="10001" status="6" created="2020-04-23 12:43:38.0" updated="2020-04-30 12:46:56.0" resolutiondate="2020-04-30 12:46:56.0" votes="0" watches="1" workflowId="58820" archived="N"> <description><! CDATA The fabric-chaincode-integration tool is published in the fabric-test repository and it's purpose is to be ran against some chaincode, which is runs a set of cucumber tests against to verify it behaves as expected. It makes use of sdk-node modules to register users in the network, for example. I started down this rabbit by attempting to update these modules from previous versions to v2.1, in doing so changing some of the functionality that's been removed under v2.1  When replacing ( https://github.com/hyperledger/fabric-test/tree/master/tools/chaincode-integration/src/step-definitions/identity)  functionality with equivalent v2.1 functionality (as instructed by fabcar sample), I see:  _2020-04-23T12:06:35.653Z error  cc-integration:./src/step-definitions/hooks.ts No discovery targets found_  _2020-04-23T12:06:35.653Z error  cc-integration:./src/step-definitions/hooks.ts Error: No discovery targets found_ _at NetworkImpl._initializeInternalChannel (/Users/heatherp/fabric-contract-api-go/node_modules/fabric-network/lib/network.js:89:27)_  This is the line complaining:  https://github.com/hyperledger/fabric-sdk-node/blob/fe2d00bb78faa85c4ad012b144814c648a70537d/fabric-network/src/network.ts#L119   So I think the problem starts with:  https://github.com/hyperledger/fabric-sdk-node/blob/fe2d00bb78faa85c4ad012b144814c648a70537d/fabric-network/src/network.ts#L108  I checked that the mpsid from gateway.getIdentity().mspid matches org.mspid. - see pushed branch below     Thoughts / Questions: - when "single-org" and "three-org" network tests run together, only "single-org" fails? but "three-org" fails when ran on it's own too..  - often see Parsed peers for Orderer   , not sure Orderer    is the correct organisation name?  Links: chaincode-integration:  https://github.com/hyperledger/fabric-test/tree/master/tools/chaincode-integration   changes I couldn't make work to pushed branch:  https://github.com/heatherlp/fabric-test/commit/fff7089a1e32487c2601499298f7583f5d34fcee   ></description> </Issue>
