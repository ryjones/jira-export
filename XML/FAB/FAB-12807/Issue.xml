<Issue id="35254" key="FAB-12807" number="12807" project="10002" reporter="sambhavdutt" creator="sambhavdutt" type="10004" summary="fabric unit-test is failing in release-1.2 in the last build as Authentication failed due to timeout." priority="3" resolution="10000" status="6" created="2018-11-09 15:44:48.0" updated="2019-03-19 11:12:52.0" resolutiondate="2018-11-12 10:58:33.0" votes="0" watches="4" workflowId="46697"> <description><! CDATA I noticed the below errors in the day's build for unit-test release-1.2 (*state_test.go*)   {code:java} 20:15:46 unit-tests_1  | 2018-11-09 01:15:15.129 UTC  gossip/state  directMessage -> ERRO 004 Got nil message via end-to-end channel, should not happen! . . 20:15:46 unit-tests_1  | 2018-11-09 01:15:20.178 UTC  gossip/gossip#p4  validateMsg -> WARN 083 StateInfo message GossipMessage: tag:CHAN_OR_ORG state_info:<timestamp:<inc_num:1541726116153469734 seq_num:1541726116153568899 > pki_id:"localhost:6213" channel_MAC:"\222\243.0\212=?\203\025\272N}\365\276A\310\225 (\205Q\276h\020q\rEg\216\240\006C" properties:<ledger_height:1 > > , Envelope: 80 bytes, Signature: 80 bytes is found invalid: PKIID wasn't found 20:15:46 unit-tests_1  | 2018-11-09 01:15:20.178 UTC  gossip/gossip#p4  handleMessage -> WARN 084 Message GossipMessage: tag:CHAN_OR_ORG state_info:<timestamp:<inc_num:1541726116153469734 seq_num:1541726116153568899 > pki_id:"localhost:6213" channel_MAC:"\222\243.0\212=?\203\025\272N}\365\276A\310\225 (\205Q\276h\020q\rEg\216\240\006C" properties:<ledger_height:1 > > , Envelope: 80 bytes, Signature: 80 bytes isn't valid 20:15:46 unit-tests_1  | 2018-11-09 01:15:20.503 UTC  gossip/comm#6213  authenticateRemotePeer -> WARN 085 Failed reading messge from 127.0.0.1:45748, reason: Timed out waiting for connection message from 127.0.0.1:45748 20:15:46 unit-tests_1  | 2018-11-09 01:15:20.503 UTC  gossip/comm#6213  GossipStream -> ERRO 086 Authentication failed: Timed out waiting for connection message from 127.0.0.1:45748 . . 20:15:46 unit-tests_1  | 2018-11-09 01:15:25.137 UTC  gossip/state  NewGossipStateProvider -> ERRO 08c Could not read ledger info to obtain current ledger height due to:  Failed accessing ledger 20:15:46 unit-tests_1  | 2018-11-09 01:15:25.137 UTC  gossip/privdata  NewCoordinator -> WARN 08d Configuration key peer.gossip.pvtData.transientstoreMaxBlockRetention isn't set, defaulting to 1000 20:15:46 unit-tests_1  | 2018-11-09 01:15:25.137 UTC  gossip/privdata  StoreBlock -> ERRO 08e Validation failed: foobar 20:15:46 unit-tests_1  | 2018-11-09 01:15:25.139 UTC  gossip/gossip#p0  NewGossipService -> WARN 091 External endpoint is empty, peer will not be accessible outside of its organization 20:15:46 unit-tests_1  | 2018-11-09 01:15:25.139 UTC  gossip/privdata  NewCoordinator -> WARN 092 Configuration key peer.gossip.pvtData.transientstoreMaxBlockRetention isn't set, defaulting to 1000 20:15:46 unit-tests_1  | 2018/11/09 01:15:25 proto: textWriter unindented too far . . 20:15:47 unit-tests_1  | --- FAIL: TestNewGossipStateProvider_BatchingOfStateRequest (21.58s)  {code}  *Build Log*  https://jenkins.hyperledger.org/view/Daily/job/fabric-unit-test-daily-release-1.2-x86_64/48/consoleFull  https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-unit-test-daily-release-1.2-x86_64/48/  ></description> </Issue>
