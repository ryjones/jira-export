<Issue id="46873" key="FAB-18474" number="18474" project="10002" reporter="denyeart" creator="denyeart" type="10004" summary="Peers gossip connection continuously disconnects and reconnects" priority="3" resolution="10204" status="6" created="2021-05-20 21:11:59.0" updated="2021-05-20 22:24:25.0" resolutiondate="2021-05-20 22:24:25.0" votes="0" watches="1" workflowId="60774" archived="N"> <description><! CDATA On local machine running two peers. Using /etc/hosts file aliases to simulate peer0.org1.example.com and peer1.org1.example.com (although I see same issue when running both peers with 127.0.0.1 at different ports).  The two peers in same org on the same channel have connected via gossip successfully.  The peers are pinging each other constantly via gossip. However, every 25s one peer thinks the other has died with a message like:  2021-05-20 16:49:31.059 EDT  gossip.discovery  getDeadMembers -> WARN 6b0 Haven't heard from  188 227 232 41 2 25 73 248 239 252 123 255 237 207 159 118 186 122 195 105 209 29 255 146 161 8 52 170 105 180 66 19  for 25.282170016s  This leads the peers to disconnect from each other and reconnect continuously:  peer0.org1:    {code:java} 2021-05-20 16:47:16.813 EDT  gossip.channel  reportMembershipChanges -> INFO 17d   mychannel  Membership view has changed. peers went online:   peer1.org1.example.com:7053   , current view:   peer1.org1.example.com:7053    2021-05-20 16:49:01.811 EDT  gossip.channel  reportMembershipChanges -> INFO 68a   mychannel  Membership view has changed. peers went offline:   peer1.org1.example.com:7053   , current view:     2021-05-20 16:49:06.812 EDT  gossip.channel  reportMembershipChanges -> INFO 6db   mychannel  Membership view has changed. peers went online:   peer1.org1.example.com:7053   , current view:   peer1.org1.example.com:7053    2021-05-20 16:49:31.811 EDT  gossip.channel  reportMembershipChanges -> INFO 820   mychannel  Membership view has changed. peers went offline:   peer1.org1.example.com:7053   , current view:     2021-05-20 16:49:36.809 EDT  gossip.channel  reportMembershipChanges -> INFO 870   mychannel  Membership view has changed. peers went online:   peer1.org1.example.com:7053   , current view:   peer1.org1.example.com:7053    {code}       peer1.org1:    {code:java} 2021-05-20 16:47:21.067 EDT  gossip.channel  reportMembershipChanges -> INFO 195   mychannel  Membership view has changed. peers went online:   peer0.org1.example.com:7051   , current view:   peer0.org1.example.com:7051    2021-05-20 16:48:01.066 EDT  gossip.channel  reportMembershipChanges -> INFO 352   mychannel  Membership view has changed. peers went offline:   peer0.org1.example.com:7051   , current view:     2021-05-20 16:48:06.065 EDT  gossip.channel  reportMembershipChanges -> INFO 3a1   mychannel  Membership view has changed. peers went online:   peer0.org1.example.com:7051   , current view:   peer0.org1.example.com:7051    2021-05-20 16:48:31.066 EDT  gossip.channel  reportMembershipChanges -> INFO 470   mychannel  Membership view has changed. peers went offline:   peer0.org1.example.com:7051   , current view:     2021-05-20 16:48:36.065 EDT  gossip.channel  reportMembershipChanges -> INFO 4cb   mychannel  Membership view has changed. peers went online:   peer0.org1.example.com:7051   , current view:   peer0.org1.example.com:7051    2021-05-20 16:49:01.064 EDT  gossip.channel  reportMembershipChanges -> INFO 5a3   mychannel  Membership view has changed. peers went offline:   peer0.org1.example.com:7051   , current view:     2021-05-20 16:49:06.064 EDT  gossip.channel  reportMembershipChanges -> INFO 5e9   mychannel  Membership view has changed. peers went online:   peer0.org1.example.com:7051   , current view:   peer0.org1.example.com:7051    2021-05-20 16:49:31.064 EDT  gossip.channel  reportMembershipChanges -> INFO 6bb   mychannel  Membership view has changed. peers went offline:   peer0.org1.example.com:7051   , current view:     2021-05-20 16:49:36.063 EDT  gossip.channel  reportMembershipChanges -> INFO 708   mychannel  Membership view has changed. peers went online:   peer0.org1.example.com:7051   , current view:   peer0.org1.example.com:7051    {code}    Sometimes it goes for multiple minutes without a disconnection, but it always disconnects and reconnects eventually.  Full debug logs attached.  ></description> </Issue>
