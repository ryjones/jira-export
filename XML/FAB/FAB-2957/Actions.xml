<Action id="21853" issue="15537" author="muralisr" type="comment" created="2017-04-03 20:35:13.0" updateauthor="muralisr" updated="2017-04-03 20:35:13.0"> <body><! CDATA  ~suryalnvs  Invoke and Query methods in CLI do not require version. The version is always the current version (and the "-v" flag is ignored).  So the following should work  {code:java} peer chaincode query -n myc -c '{"Args": "query","a" }'  {code}   If you are OK with this, I'd like to use this defect to fix the query and invoke commands so they'll error out if a version is provided. Also given this is essentially working correctly, can you lower the defect priority please ?  ></body> </Action>
<Action id="22292" issue="15537" author="muralisr" type="comment" body=" ~suryalnvs  Thanks for lowering this. " created="2017-04-13 06:52:14.0" updateauthor="muralisr" updated="2017-04-13 06:52:14.0"/>
<Action id="22734" issue="15537" author="muralisr" type="comment" body="Adding &quot;help wanted&quot; to fix this in 1.0 so that CLI&apos;s query and invoke commands will error out if a version is provided. " created="2017-04-20 00:22:04.0" updateauthor="muralisr" updated="2017-04-20 00:22:04.0"/>
<Action id="22763" issue="15537" author="bmos299" type="comment" created="2017-04-20 13:40:46.0" updateauthor="bmos299" updated="2017-04-20 13:40:46.0"> <body><! CDATA Murali, here are a few questions.  1.  by error out is this a short-term fix for the issue? 2.  should the cli be able to query/invoke any version of the cc at anytime?  if the version has never been installed then error out?  Thanks, Barry  ></body> </Action>
<Action id="24979" issue="15537" author="muralisr" type="comment" body="This is not a bug. As mentioned in a previous comment, this is utmost a fix to CLI to return error if version is provided for query and invoke commands. Will have hits to docs and scripts. Going to move to Improvement/future" created="2017-06-01 18:01:03.0" updateauthor="muralisr" updated="2017-06-01 18:01:03.0"/>
<Action id="55440" issue="15537" author="lehors" type="comment" created="2019-01-09 15:58:01.0" updateauthor="lehors" updated="2019-01-09 15:58:01.0"> <body><! CDATA This ticket should be closed because the peer command no longer accepts -v on a query command:    {code:java} # peer chaincode query -C mychannel -n mycc -v 1.0 -c '{"Args": "query","a" }' Error: unknown shorthand flag: 'v' in -v Usage: peer chaincode query  flags  Flags: -C, --channelID string The channel on which this command should be executed --connectionProfile string Connection profile that provides the necessary connection information for the network. Note: currently only supported for providing peer connection information -c, --ctor string Constructor message for the chaincode in JSON format (default "{}") -h, --help help for query -x, --hex If true, output the query value byte array in hexadecimal. Incompatible with --raw -n, --name string Name of the chaincode --peerAddresses stringArray The addresses of the peers to connect to -r, --raw If true, output the query value as raw bytes, otherwise format as a printable string --tlsRootCertFiles stringArray If TLS is enabled, the paths to the TLS root cert files of the peers to connect to. The order and number of certs specified should match the --peerAddresses flag Global Flags: --cafile string Path to file containing PEM-encoded trusted certificate(s) for the ordering endpoint --certfile string Path to file containing PEM-encoded X509 public key to use for mutual TLS communication with the orderer endpoint --clientauth Use mutual TLS when communicating with the orderer endpoint --connTimeout duration Timeout for client to connect (default 3s) --keyfile string Path to file containing PEM-encoded private key to use for mutual TLS communication with the orderer endpoint --logging-level string Default logging level and overrides, see core.yaml for full syntax -o, --orderer string Ordering service endpoint --ordererTLSHostnameOverride string The hostname override to use when validating the TLS connection to the orderer. --tls Use TLS when communicating with the orderer endpoint --transient string Transient map of arguments in JSON encoding {code}    ></body> </Action>
