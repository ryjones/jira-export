<Issue id="25112" key="FAB-7419" number="7419" project="10002" reporter="jeffgarratt" assignee="c0rwin" creator="jeffgarratt" type="10002" summary="Filtering blocks using a new API that leverages the underlying deliver implementation" priority="3" resolution="10000" status="6" created="2017-12-11 17:51:40.0" updated="2019-01-02 07:29:47.0" resolutiondate="2018-01-11 21:25:23.0" votes="4" watches="10" workflowId="40771"> <description><! CDATA As discussed in FAB-7069 comments, the current design proposal for streaming transaction validation/invalidation status back to clients:  Take the existing events service and implement it on top of the Deliver service  using an associative relationship between the subscription topic enumeration and the policy references for the purposes of ACL implementation.  The function is implemented via a new API e.g. {{DeliverWithFilter}} or {{peer.Deliver}} (as opposed to {{ab.Deliver}}), which accepts an  extension of the existing SeekInfo request to include the subscription declaration.  Pros: - If the current Eventhub subscription model is well understood and utilized, then it would support this direction (consumability) - From client perspective, consistent with new block Deliver API interaction pattern (consumability) - Built-in peer API support for typical client tx pattern (async tx submission and listen for tx validation/invalidation status). - No external components/applications need to be bolted on for typical client tx pattern - fewer moving parts to coordinate and synchronize reduces complexity/risk; improves performance/testability/maintainability. - Leverage peer resource ACL model - greater specificity of ACL declaration compared to current Eventhub.  Cons: - No audit trail in ledger of filtered messages delivered to clients - architectural change (ARCH) as evidenced by protobuf extension - a common signature that varies only in parameter classification is not considered a good design practice by some - supports control of ACL and selection of preexisting (hard-coded) filters, but filters cannot be edited nor can new filters be defined through configuration     Acknowledgement:       Originator:   ~kchristidis   ~C0rWin   ~denyeart      ></description> </Issue>
