<Action id="54225" issue="35840" author="rickr" type="comment" created="2018-12-03 20:58:26.0" updateauthor="rickr" updated="2018-12-03 20:58:26.0"> <body><! CDATA That console log was from Triggered by Gerrit: https://gerrit.hyperledger.org/r/27308 Which was merged and ran on  Nov 9 7:12 PM successfully  Patch Set 7: Build Successful https://jenkins.hyperledger.org/job/fabric-sdk-java-merge-x86_64/332/ : SUCCESS Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-sdk-java-merge-x86_64/332 https://jenkins.hyperledger.org/job/fabric-sdk-java-merge-1.0.0-x86_64/144/ : SUCCESS Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-sdk-java-merge-1.0.0-x86_64/144 Nov 9 7:12 PM   ></body> </Action>
<Action id="54227" issue="35840" author="skarim" type="comment" body=" ~adc  Do you have any insight?" created="2018-12-03 21:12:40.0" updateauthor="skarim" updated="2018-12-03 21:12:40.0"/>
<Action id="54231" issue="35840" author="denyeart" type="comment" body="Clarification - the remerge job that Rick recently did in java sdk failed. The original merge from Nov 9 was good.  It is failing consistently now. So something broke between then and now in one of the dependent repositories." created="2018-12-03 21:39:23.0" updateauthor="denyeart" updated="2018-12-03 21:39:23.0"/>
<Action id="54289" issue="35840" author="angelo.decaro" type="comment" body="so, the idemix crypto algorithms have *not* changed. What changed is only that the idemix-msp instead of calling fabric/idemix directly, uses bccsp. That&apos;s it. https://jira.hyperledger.org/browse/FAB-8930" created="2018-12-04 16:06:19.0" updateauthor="angelo.decaro" updated="2018-12-04 16:10:29.0"/>
<Action id="54290" issue="35840" author="angelo.decaro" type="comment" body="Do you have the peer logs? Maybe there is something there!" created="2018-12-04 16:09:43.0" updateauthor="angelo.decaro" updated="2018-12-04 16:09:43.0"/>
<Action id="54291" issue="35840" author="skarim" type="comment" body="You can reproduce this locally, by using the master fabric and running the Java SDK integration tests. You can then get the logs from the peer docker container." created="2018-12-04 16:19:55.0" updateauthor="skarim" updated="2018-12-04 16:19:55.0"/>
<Action id="54296" issue="35840" author="angelo.decaro" type="comment" body="so, the issue was in how BCCSP was serialising a pseudonym public key. With  https://gerrit.hyperledger.org/r/#/c/27923/,|https://gerrit.hyperledger.org/r/#/c/27923/  I have restored it to what was before, namely two big integers. " created="2018-12-04 17:11:16.0" updateauthor="angelo.decaro" updated="2018-12-04 17:11:41.0"/>
<Action id="54302" issue="35840" author="rickr" type="comment" created="2018-12-04 18:13:11.0" updateauthor="rickr" updated="2018-12-04 18:13:11.0"> <body><! CDATA Sounds like you know what the issue is, but just in case the logs for that run are https://jenkins.hyperledger.org/job/fabric-sdk-java-merge-x86_64/333/  peer logs should be in dockerlogfile.log  ></body> </Action>
<Action id="54316" issue="35840" author="rickr" type="comment" body=" ~adc  Before it&apos;s just fixed can we see that there is a Fabric testcase that reproduces the error? I don&apos;t think this should get to the SDKs to have this coverage.  ~lhaskins   ~sykesm " created="2018-12-04 20:22:07.0" updateauthor="rickr" updated="2018-12-04 20:22:07.0"/>
<Action id="54356" issue="35840" author="angelo.decaro" type="comment" created="2018-12-05 07:32:35.0" updateauthor="angelo.decaro" updated="2018-12-05 07:33:03.0"> <body><! CDATA  ~rickr ,  ~latitiah ,  ~sykesm , this is the change-set  https://gerrit.hyperledger.org/r/#/c/27923/  that patches the issue. Essentially, I was marshalling/unmarshalling a pseudonym public key in a different way and this caused the failure in parsing the transaction's creator field as produced by the java-sdk. This is just a bug. The different marshalling/unmarshalling strategy, that got in, is not needed.   With the patch, I don't see the error anymore. May you confirm this, as well.  ~skarim   ></body> </Action>
<Action id="54369" issue="35840" author="angelo.decaro" type="comment" created="2018-12-05 11:43:24.0" updateauthor="angelo.decaro" updated="2018-12-05 11:43:24.0"> <body><! CDATA I found another bug that caused the failure in the communication between fabric and java-sdk. I have fixed it here:  https://gerrit.hyperledger.org/r/#/c/27952/   Now, all the java-sdk integration tests are passing using latest the above patch.  ></body> </Action>
