<Issue id="30768" key="FAB-10484" number="10484" project="10002" reporter="c0rwin" assignee="nirro" creator="c0rwin" type="10002" summary="Test: Add integration test for side db, to check peers repects BTL parameter" priority="3" resolution="10000" status="6" created="2018-05-31 13:30:15.0" updated="2018-07-26 14:56:13.0" resolutiondate="2018-07-25 21:39:08.0" votes="0" watches="3" workflowId="42807"> <description><! CDATA BTL (block-to-live) collection parameter, introduced to control the expiration of the private data which belongs to the specific collection. Once peer reaches the BTL + BlockSeqNumber, where BlockSeqNumber stands for the block sequence number at which private data was committed to the ledger, peer takes care to purge it. As a consequence if there is a peer which tries to catch up it should not waste time on trying to bring private data which aimed to be deleted anyway (FAB-10366). Therefore we need to add following integration test:  1. Bootstrap Fabric network with two organizations 2. Start one peer for each organization 3. Install and instantiate the chaincode with two collections 3.1 Configure BTL of one collection to be 10000 and the second one 10 4.  Invoke chaincode to submit several transactions for a while, until ledger height will hit 10+ blocks 5. Span new peer and make sure no purged private data pulled   ></description> </Issue>
