<Issue id="37465" key="FAB-14077" number="14077" project="10002" reporter="yacovm" assignee="yacovm" creator="yacovm" type="10002" summary="Provide cluster communication infrastructure metrics" priority="3" resolution="10000" status="6" created="2019-02-06 21:13:41.0" updated="2019-03-05 00:12:59.0" resolutiondate="2019-02-27 21:58:43.0" votes="0" watches="2" workflowId="49071"> <description><! CDATA The goal of this task is to create metrics for the cluster communication infrastructure, which entails:  Gauges for: * Sizes of egress queues * Number of active client side gRPC streams * Number of active server side gRPC streams * Number of goroutines for message dispatch * Number of active TLS connections  Histograms for: * Time it took to send a message down the stream  Counters for: * Number of messages dropped from the queue due to overflow  All metrics will be labeled with the channel name, except from the number of active TLS connections, which will be labeled with the remote host (it should be 1 or 0, unless we have a server that rotated certificates and forgot to change it in some channels, and that's why I want to do a per host labels- so the admins can easily see that they forgot a channel).   ~sykesm   ~kchristidis  any disagreements or ideas?  ></description> </Issue>
