<Action id="60933" issue="40499" author="nekia" type="comment" created="2019-06-13 02:39:38.0" updateauthor="nekia" updated="2019-06-13 03:29:05.0"> <body><! CDATA I could recreat it except 1 warning of 'scripts/check_license.sh:8:8'.  {noformat} vagrant@ubuntu:~/go_hl/src/github.com/hyperledger/fabric$ sudo apt-get install shellcheck  vagrant@ubuntu:~/go_hl/src/github.com/hyperledger/fabric$ shellcheck -f gcc scripts/check_license.sh scripts/check_license.sh:8:14: warning: Quote this to prevent word splitting.  SC2046   vagrant@ubuntu:~/go_hl/src/github.com/hyperledger/fabric$ shellcheck -f gcc scripts/metrics_doc.sh scripts/metrics_doc.sh:17:33: note: Double quote to prevent globbing and word splitting.  SC2086  scripts/metrics_doc.sh:17:69: note: Double quote to prevent globbing and word splitting.  SC2086  scripts/metrics_doc.sh:26:53: note: Double quote to prevent globbing and word splitting.  SC2086   vagrant@ubuntu:~/go_hl/src/github.com/hyperledger/fabric$ shellcheck -V ShellCheck - shell script analysis tool version: 0.3.7 license: GNU Affero General Public License, version 3 website: http://www.shellcheck.net  vagrant@ubuntu:~/go_hl/src/github.com/hyperledger/fabric$ git log -1 --oneline  f2cc88c Merge " FAB-15031  Collect common ledger stats in blockstorage" {noformat}  https://github.com/koalaman/shellcheck/wiki/SC2046 https://github.com/koalaman/shellcheck/wiki/SC2086  ></body> </Action>
<Action id="60934" issue="40499" author="nekia" type="comment" created="2019-06-13 03:17:46.0" updateauthor="nekia" updated="2019-06-13 03:17:46.0"> <body><! CDATA Fixed. The re-generated docs/source/metrics_reference.rst is identical with the latest on the repository.  {noformat} vagrant@ubuntu:~/go_hl/src/github.com/hyperledger/fabric$ go version go version go1.12.6 linux/amd64 vagrant@ubuntu:~/go_hl/src/github.com/hyperledger/fabric$ scripts/metrics_doc.sh generate vagrant@ubuntu:~/go_hl/src/github.com/hyperledger/fabric$ scripts/metrics_doc.sh check vagrant@ubuntu:~/go_hl/src/github.com/hyperledger/fabric$ shellcheck -f gcc scripts/metrics_doc.sh {noformat}   ></body> </Action>
<Action id="60935" issue="40499" author="nekia" type="comment" created="2019-06-13 03:22:50.0" updateauthor="nekia" updated="2019-06-13 03:22:50.0"> <body><! CDATA  {noformat} vagrant@ubuntu:~/go_hl/src/github.com/hyperledger/fabric$ echo 'test' > common/test.go vagrant@ubuntu:~/go_hl/src/github.com/hyperledger/fabric$ git add common/test.go  vagrant@ubuntu:~/go_hl/src/github.com/hyperledger/fabric$ scripts/check_license.sh  The following files are missing SPDX-License-Identifier headers: common/test.go  Please replace the Apache license header comment text with: SPDX-License-Identifier: Apache-2.0  Checking committed files for traditional Apache License headers ... The following files are missing traditional Apache 2.0 headers: common/test.go Fatal Error - All files must have a license header vagrant@ubuntu:~/go_hl/src/github.com/hyperledger/fabric$ shellcheck -f gcc scripts/check_license.sh {noformat}   ></body> </Action>
<Action id="60937" issue="40499" author="guoger" type="comment" body="warning of &apos;scripts/check_license.sh:8:8&apos; can be recreated by upgrading to shellcheck 0.6.0" created="2019-06-13 06:15:15.0" updateauthor="guoger" updated="2019-06-13 06:15:15.0"/>
<Action id="60938" issue="40499" author="guoger" type="comment" body="https://gerrit.hyperledger.org/r/c/fabric/+/31882" created="2019-06-13 06:18:35.0" updateauthor="guoger" updated="2019-06-13 06:18:35.0"/>
<Action id="60950" issue="40499" author="nekia" type="comment" created="2019-06-13 12:58:46.0" updateauthor="nekia" updated="2019-06-13 12:58:46.0"> <body><! CDATA  ~guoger  Thanks! I've checked these scripts on the shellcheck web application. I could see the mentioned warning.  !Screenshot from 2019-06-13 22-41-14.png|width=640!  And I agree with ignoring sourced file scripts/function.sh because we've already done checking each script file seperately.   ></body> </Action>
