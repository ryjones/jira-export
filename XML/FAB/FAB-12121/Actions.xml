<Action id="51082" issue="34023" author="denyeart" type="comment" body=" ~wlahti  Could you take a look?" created="2018-09-24 10:32:54.0" updateauthor="denyeart" updated="2018-09-24 10:32:54.0"/>
<Action id="51089" issue="34023" author="wlahti" type="comment" body="This is how the CLI has always returned the result of an invoke or query: return the overall result (success / failure) but not the error itself (other than the result from the chaincode itself). Perhaps  ~muralisr  could fill in whether there was a security consideration that went into this decision?" created="2018-09-24 12:17:38.0" updateauthor="wlahti" updated="2018-09-24 12:18:26.0"/>
<Action id="51504" issue="34023" author="muralisr" type="comment" created="2018-10-02 12:52:50.0" updateauthor="muralisr" updated="2018-10-02 12:53:47.0"> <body><! CDATA  ~denyeart   ~wlahti  long story short some of this is tied up with the treatment of FAB-6387.   ~wlahti  looking at *chaincodeInvokeOrQuery* in peer/chaincode/common.go, there is a difference between query and invoke processing  query  {code:java} ... ... if proposalResp.Endorsement == nil { return errors.Errorf("endorsement failure during query. response: %v", proposalResp.Response) } ... {code}   invoke  {code:java} .. .. if proposalResp.Endorsement == nil { return errors.Errorf("endorsement failure during invoke. chaincode result: %v", ca.Response) } ... .. {code}  I think if we incorporate  *proposalResp.Response* in invoke processing error reporting, we would capture more information on error (in particular, the error  ~denyeart  mentioned will show up in CLI as well). What do you think ?   ></body> </Action>
<Action id="51509" issue="34023" author="denyeart" type="comment" created="2018-10-02 13:25:39.0" updateauthor="denyeart" updated="2018-10-02 13:25:39.0"> <body><! CDATA  ~muralisr  Looks like you are correct.  When I try invoke from CLI I get this worthless error: {code:java} Error: endorsement failure during invoke. chaincode result: <nil>{code} When I try query from CLI I get this good error: {code:java} Error: endorsement failure during query. response: status:500 message:"make sure the chaincode marbles has been successfully instantiated and try again: chaincode marbles not found" {code}  ></body> </Action>
<Action id="51510" issue="34023" author="denyeart" type="comment" body="If the fix is simple, I&apos;d recommend backport to release-1.3 before we release 1.3.0, and even to release-1.2 and release-1.1 if the cherry pick is simple." created="2018-10-02 13:30:10.0" updateauthor="denyeart" updated="2018-10-03 00:15:16.0"/>
<Action id="51826" issue="34023" author="denyeart" type="comment" body="Merged to release-1.3 and master." created="2018-10-07 18:28:40.0" updateauthor="denyeart" updated="2018-10-07 18:28:40.0"/>
