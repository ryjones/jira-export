<Action id="63953" issue="42401" author="denyeart" type="comment" body=" ~jyellick  Can you suggest troubleshooting steps?" created="2019-09-23 03:18:03.0" updateauthor="denyeart" updated="2019-09-23 03:18:03.0"/>
<Action id="63969" issue="42401" author="jyellick" type="comment" body="Based on the bug text, it looks like the admin of the orderer org is the one submitting the request.  However, the policy framework claims the user is not authorized according to the modification policy for this element.  Please set {{FABRIC_LOGGING_SPEC=info:policies=debug:cauthdsl=debug:msp=debug}}, reproduce, and paste the output of the orderer log." created="2019-09-23 14:36:56.0" updateauthor="jyellick" updated="2019-09-23 14:36:56.0"/>
<Action id="71347" issue="42401" author="JIRAUSER21382" type="comment" created="2021-02-04 12:10:58.0" updateauthor="JIRAUSER21382" updated="2021-02-04 12:11:55.0"> <body><! CDATA I'm having the same problem  Here are the logs of the command {code:java} $peer channel update -f config_update_in_envelope.pb -c $CHANNEL_NAME -o orderer.example.com:7050 --tls --cafile $ORDERER_CA 2021-02-04 11:59:51.192 UTC  msp  getPemMaterialFromDir -> DEBU 001 Reading directory /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp/signcerts 2021-02-04 11:59:51.193 UTC  msp  getPemMaterialFromDir -> DEBU 002 Inspecting file /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp/signcerts/Admin@org1.example.com-cert.pem 2021-02-04 11:59:51.202 UTC  msp  getPemMaterialFromDir -> DEBU 003 Reading directory /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp/cacerts 2021-02-04 11:59:51.214 UTC  msp  getPemMaterialFromDir -> DEBU 004 Inspecting file /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp/cacerts/ca.org1.example.com-cert.pem 2021-02-04 11:59:51.215 UTC  msp  getPemMaterialFromDir -> DEBU 005 Reading directory /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp/admincerts 2021-02-04 11:59:51.217 UTC  msp  getPemMaterialFromDir -> DEBU 006 Reading directory /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp/intermediatecerts 2021-02-04 11:59:51.217 UTC  msp  getMspConfig -> DEBU 007 Intermediate certs folder not found at  /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp/intermediatecerts . Skipping.  stat /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp/intermediatecerts: no such file or directory  2021-02-04 11:59:51.217 UTC  msp  getPemMaterialFromDir -> DEBU 008 Reading directory /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp/tlscacerts 2021-02-04 11:59:51.218 UTC  msp  getPemMaterialFromDir -> DEBU 009 Inspecting file /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp/tlscacerts/tlsca.org1.example.com-cert.pem 2021-02-04 11:59:51.218 UTC  msp  getPemMaterialFromDir -> DEBU 00a Reading directory /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp/tlsintermediatecerts 2021-02-04 11:59:51.219 UTC  msp  getMspConfig -> DEBU 00b TLS intermediate certs folder not found at  /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp/tlsintermediatecerts . Skipping.  stat /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp/tlsintermediatecerts: no such file or directory  2021-02-04 11:59:51.219 UTC  msp  getPemMaterialFromDir -> DEBU 00c Reading directory /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp/crls 2021-02-04 11:59:51.219 UTC  msp  getMspConfig -> DEBU 00d crls folder not found at  /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp/crls . Skipping.  stat /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp/crls: no such file or directory  2021-02-04 11:59:51.220 UTC  msp  getMspConfig -> DEBU 00e Loading NodeOUs 2021-02-04 11:59:51.223 UTC  msp  newBccspMsp -> DEBU 00f Creating BCCSP-based MSP instance 2021-02-04 11:59:51.223 UTC  msp  New -> DEBU 010 Creating Cache-MSP instance 2021-02-04 11:59:51.237 UTC  msp  loadLocaMSP -> DEBU 011 Created new local MSP 2021-02-04 11:59:51.239 UTC  msp  Setup -> DEBU 012 Setting up MSP instance Org1MSP 2021-02-04 11:59:51.239 UTC  msp.identity  newIdentity -> DEBU 013 Creating identity instance for cert -----BEGIN CERTIFICATE----- MIICUTCCAfigAwIBAgIRAJSmIjZMK7d0/FjROKRFEKwwCgYIKoZIzj0EAwIwczEL MAkGA1UEBhMCVVMxEzARBgNVBAgTCkNhbGlmb3JuaWExFjAUBgNVBAcTDVNhbiBG cmFuY2lzY28xGTAXBgNVBAoTEG9yZzEuZXhhbXBsZS5jb20xHDAaBgNVBAMTE2Nh Lm9yZzEuZXhhbXBsZS5jb20wHhcNMjEwMjA0MTAzNzAwWhcNMzEwMjAyMTAzNzAw WjBzMQswCQYDVQQGEwJVUzETMBEGA1UECBMKQ2FsaWZvcm5pYTEWMBQGA1UEBxMN U2FuIEZyYW5jaXNjbzEZMBcGA1UEChMQb3JnMS5leGFtcGxlLmNvbTEcMBoGA1UE AxMTY2Eub3JnMS5leGFtcGxlLmNvbTBZMBMGByqGSM49AgEGCCqGSM49AwEHA0IA BNSJERlBdsYMxolhL4WgzdA5m6fR8L2Rka4mlVUYLY0w5ZPMw9JXnjOwRN3vKMMZ ncFLocfgYQ20lk2MHhm2ZmmjbTBrMA4GA1UdDwEB/wQEAwIBpjAdBgNVHSUEFjAU BggrBgEFBQcDAgYIKwYBBQUHAwEwDwYDVR0TAQH/BAUwAwEB/zApBgNVHQ4EIgQg E2zsQgNI8wqpNWrVpO7NLnkaJptEUkt4q+PK6UZfi+wwCgYIKoZIzj0EAwIDRwAw RAIgNhcOuk5BBW3JjGEvQctjjQPCgk28Ph3m81FycT8DAHgCIF8Z8LEywHMKsG9e UDMgwW8SSkaRMu38i4ZubUKlo/sf -----END CERTIFICATE----- 2021-02-04 11:59:51.240 UTC  msp.identity  newIdentity -> DEBU 014 Creating identity instance for cert -----BEGIN CERTIFICATE----- MIICKjCCAdCgAwIBAgIRAKTRXITmss9th6m/tgltZA8wCgYIKoZIzj0EAwIwczEL MAkGA1UEBhMCVVMxEzARBgNVBAgTCkNhbGlmb3JuaWExFjAUBgNVBAcTDVNhbiBG cmFuY2lzY28xGTAXBgNVBAoTEG9yZzEuZXhhbXBsZS5jb20xHDAaBgNVBAMTE2Nh Lm9yZzEuZXhhbXBsZS5jb20wHhcNMjEwMjA0MTAzNzAwWhcNMzEwMjAyMTAzNzAw WjBrMQswCQYDVQQGEwJVUzETMBEGA1UECBMKQ2FsaWZvcm5pYTEWMBQGA1UEBxMN U2FuIEZyYW5jaXNjbzEOMAwGA1UECxMFYWRtaW4xHzAdBgNVBAMMFkFkbWluQG9y ZzEuZXhhbXBsZS5jb20wWTATBgcqhkjOPQIBBggqhkjOPQMBBwNCAAQYGagTRMuN g+2lQK3cieQIKcwn0eI+WZQRULFGtZdn2bvpNJb/R8Zf9PYml60OvQ3XynfREkQc djZVxTAI3rkno00wSzAOBgNVHQ8BAf8EBAMCB4AwDAYDVR0TAQH/BAIwADArBgNV HSMEJDAigCATbOxCA0jzCqk1atWk7s0ueRomm0RSS3ir48rpRl+L7DAKBggqhkjO PQQDAgNIADBFAiEAs0uwD6Bwgs0KInXZ812cJUM3ymBnM0FVvCCTj9zIqIgCIGEv YXYzCLtYcHzy4Y6ZdSWVXMJtsAiK8mAk8XVYhCzo -----END CERTIFICATE----- 2021-02-04 11:59:51.242 UTC  msp.identity  newIdentity -> DEBU 015 Creating identity instance for cert -----BEGIN CERTIFICATE----- MIICKjCCAdCgAwIBAgIRAKTRXITmss9th6m/tgltZA8wCgYIKoZIzj0EAwIwczEL MAkGA1UEBhMCVVMxEzARBgNVBAgTCkNhbGlmb3JuaWExFjAUBgNVBAcTDVNhbiBG cmFuY2lzY28xGTAXBgNVBAoTEG9yZzEuZXhhbXBsZS5jb20xHDAaBgNVBAMTE2Nh Lm9yZzEuZXhhbXBsZS5jb20wHhcNMjEwMjA0MTAzNzAwWhcNMzEwMjAyMTAzNzAw WjBrMQswCQYDVQQGEwJVUzETMBEGA1UECBMKQ2FsaWZvcm5pYTEWMBQGA1UEBxMN U2FuIEZyYW5jaXNjbzEOMAwGA1UECxMFYWRtaW4xHzAdBgNVBAMMFkFkbWluQG9y ZzEuZXhhbXBsZS5jb20wWTATBgcqhkjOPQIBBggqhkjOPQMBBwNCAAQYGagTRMuN g+2lQK3cieQIKcwn0eI+WZQRULFGtZdn2bvpNJb/R8Zf9PYml60OvQ3XynfREkQc djZVxTAI3rkno00wSzAOBgNVHQ8BAf8EBAMCB4AwDAYDVR0TAQH/BAIwADArBgNV HSMEJDAigCATbOxCA0jzCqk1atWk7s0ueRomm0RSS3ir48rpRl+L7DAKBggqhkjO PQQDAgNIADBFAiEAs0uwD6Bwgs0KInXZ812cJUM3ymBnM0FVvCCTj9zIqIgCIGEv YXYzCLtYcHzy4Y6ZdSWVXMJtsAiK8mAk8XVYhCzo -----END CERTIFICATE----- 2021-02-04 11:59:51.242 UTC  msp  setupSigningIdentity -> DEBU 016 Signing identity expires at 2031-02-02 10:37:00 +0000 UTC 2021-02-04 11:59:51.243 UTC  msp  GetDefaultSigningIdentity -> DEBU 017 Obtaining default signing identity 2021-02-04 11:59:51.276 UTC  channelCmd  InitCmdFactory -> INFO 018 Endorser and orderer connections initialized 2021-02-04 11:59:51.292 UTC  msp  GetDefaultSigningIdentity -> DEBU 019 Obtaining default signing identity 2021-02-04 11:59:51.293 UTC  msp  GetDefaultSigningIdentity -> DEBU 01a Obtaining default signing identity 2021-02-04 11:59:51.293 UTC  msp.identity  Sign -> DEBU 01b Sign: plaintext: 0AB6060A074F7267314D535012AA062D...056B61666B6118011A0641646D696E73  2021-02-04 11:59:51.293 UTC  msp.identity  Sign -> DEBU 01c Sign: digest: 1A3DFB34AE9C2549C3CC1EADFDF67064AF7AFE61D04CD676FC00A6BA7DC0FEBE  2021-02-04 11:59:51.293 UTC  msp  GetDefaultSigningIdentity -> DEBU 01d Obtaining default signing identity 2021-02-04 11:59:51.293 UTC  msp  GetDefaultSigningIdentity -> DEBU 01e Obtaining default signing identity 2021-02-04 11:59:51.293 UTC  msp.identity  Sign -> DEBU 01f Sign: plaintext: 0AED060A1508021A0608B7C3EF800622...231B1787845EA9FFBB995C1064164DFF  2021-02-04 11:59:51.293 UTC  msp.identity  Sign -> DEBU 020 Sign: digest: 91DF320B9FEF49C36EF081CF5C8145F8BB8F309849572094E88ADD6BAE3C69CA  Error: got unexpected status: BAD_REQUEST -- error applying config update to existing channel 'mychannel': error authorizing update: error validating DeltaSet: policy for  Value   /Channel/Orderer/ConsensusType not satisfied: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Admins' sub-policies to be satisfied {code} Here are the orderer logs {code:java} 2021-02-04 11:59:51.330 UTC  comm.grpc.server  1 -> INFO 04a streaming call completed grpc.service=orderer.AtomicBroadcast grpc.method=Broadcast grpc.peer_address=192.168.144.9:49478 grpc.code=OK grpc.call_duration=27.21355ms 2021-02-04 11:59:51.344 UTC  common.deliver  Handle -> WARN 04b Error reading from 192.168.144.9:49476: rpc error: code = Canceled desc = context canceled 2021-02-04 11:59:51.344 UTC  comm.grpc.server  1 -> INFO 04c streaming call completed grpc.service=orderer.AtomicBroadcast grpc.method=Deliver grpc.peer_address=192.168.144.9:49476 error="rpc error: code = Canceled desc = context canceled" grpc.code=Canceled grpc.call_duration=67.240466ms {code}    ></body> </Action>
