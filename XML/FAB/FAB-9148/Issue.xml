<Issue id="28876" key="FAB-9148" number="9148" project="10002" reporter="sykesm" creator="sykesm" type="10003" summary="Data race when running producer.TestUnregister" priority="4" resolution="10002" status="6" created="2018-03-26 13:58:37.0" updated="2018-07-20 14:17:34.0" resolutiondate="2018-07-20 14:06:34.0" votes="0" watches="1" workflowId="43103"> <description><! CDATA {code:java} unit-tests_1  | ==================  unit-tests_1  | WARNING: DATA RACE  unit-tests_1  | Read at 0x00c42037ef20 by goroutine 27:  unit-tests_1  |   github.com/hyperledger/fabric/events/producer.(*Adapter).updateCountNotify()  unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/events/producer/producer_test.go:92 +0x58  unit-tests_1  |   github.com/hyperledger/fabric/events/producer.(*Adapter).Recv()  unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/events/producer/producer_test.go:102 +0xab  unit-tests_1  |   github.com/hyperledger/fabric/events/consumer.(*EventsClient).processEvents()  unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/events/consumer/consumer.go:206 +0x160  unit-tests_1  |  unit-tests_1  | Previous write at 0x00c42037ef20 by goroutine 56:  unit-tests_1  |   github.com/hyperledger/fabric/events/producer.TestUnregister()  unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/events/producer/producer_test.go:381 +0x36d  unit-tests_1  |   testing.tRunner()  unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c  unit-tests_1  |  unit-tests_1  | Goroutine 27 (running) created at:  unit-tests_1  |   github.com/hyperledger/fabric/events/consumer.(*EventsClient).Start()  unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/events/consumer/consumer.go:241 +0x791  unit-tests_1  |   github.com/hyperledger/fabric/events/producer.TestMain()  unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/events/producer/producer_test.go:718 +0x8ab  unit-tests_1  |   main.main()  unit-tests_1  |       github.com/hyperledger/fabric/events/producer/_test/_testmain.go:128 +0x2f0  unit-tests_1  |  unit-tests_1  | Goroutine 56 (running) created at:  unit-tests_1  |   testing.(*T).Run()  unit-tests_1  |       /opt/go/src/testing/testing.go:789 +0x568  unit-tests_1  |   testing.runTests.func1()  unit-tests_1  |       /opt/go/src/testing/testing.go:1004 +0xa7  unit-tests_1  |   testing.tRunner()  unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c  unit-tests_1  |   testing.runTests()  unit-tests_1  |       /opt/go/src/testing/testing.go:1002 +0x521  unit-tests_1  |   testing.(*M).Run()  unit-tests_1  |       /opt/go/src/testing/testing.go:921 +0x206  unit-tests_1  |   github.com/hyperledger/fabric/events/producer.TestMain()  unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/events/producer/producer_test.go:725 +0x9ce  unit-tests_1  |   main.main()  unit-tests_1  |       github.com/hyperledger/fabric/events/producer/_test/_testmain.go:128 +0x2f0  unit-tests_1  | =================={code}  ></description> </Issue>
