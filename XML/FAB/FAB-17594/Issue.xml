<Issue id="44523" key="FAB-17594" number="17594" project="10002" reporter="kevinxiong1977" creator="kevinxiong1977" type="10004" summary="Approveformyorg issue that only modified the --package-id option" priority="3" resolution="10203" status="6" created="2020-03-08 13:34:25.0" updated="2020-03-24 14:15:33.0" resolutiondate="2020-03-24 14:15:22.0" votes="0" watches="2" workflowId="58436" archived="N"> <description><! CDATA When an organization upgrades the chain code, if only the --package-id option is modified, no lifecycle chaincode commit is required, and no other organization needs to perform the lifecycle chaincode approveformyorg, which can be successfully upgraded independently.  +*docker ps*+ 7e7bc42dbdcd dev-peer0.org1.example.com-{color:#FF0000}*abstore2-bd357a344acfaaee7ae4c3bbacc870b9bd7fe3c517d60ef034827c9a4ae1846f*{color}-e0fd9b7c79f89693d33d26de707e36d6bb42acb81a2ba6f9a05abd7ab99a1163 "chaincode -peer.add..." About an hour ago Up About an hour dev-peer0.org1.example.com-abstore2-bd357a344acfaaee7ae4c3bbacc870b9bd7fe3c517d60ef034827c9a4ae1846f  +*peer lifecycle chaincode queryinstalled --output json*+ { "installed_chaincodes":   { "package_id": "abstore2:bd357a344acfaaee7ae4c3bbacc870b9bd7fe3c517d60ef034827c9a4ae1846f", "label": "abstore2", "references": { "mychannel":  { "chaincodes":   \{ "name": "mycc", "version": "2.0" }    } } }   }   +*peer lifecycle chaincode package abstore3_go.tar.gz --path /root/go/src/github.com/hyperledger/fabric-samples/chaincode/abstore/go --lang golang --label abstore3*+    +*peer lifecycle chaincode install abstore3_go.tar.gz*+   peer lifecycle chaincode queryinstalled --output json { "installed_chaincodes":   { "package_id": "abstore2:bd357a344acfaaee7ae4c3bbacc870b9bd7fe3c517d60ef034827c9a4ae1846f", "label": "abstore2", "references": { "mychannel": { "chaincodes":    { "name": "mycc", "version": "2.0" }    } } },  { "package_id": "abstore3:32ba34dcece913081a5e2fd283b79d97f9d1e99edd04864253ce76af2fb1ff9e", "label": "abstore3" }    }  *{color:#FF0000}only the --package-id option is modified{color}*   +*peer lifecycle chaincode approveformyorg --channelID mychannel --name mycc --version 2.0 --signature-policy "AND('Org1MSP.member','Org2MSP.member')" --init-required --package-id abstore3:32ba34dcece913081a5e2fd283b79d97f9d1e99edd04864253ce76af2fb1ff9e --sequence 3 --tls true --cafile $ORDERER_CA*+  peer lifecycle chaincode queryinstalled --output json { "installed_chaincodes":   { "package_id": "abstore3:32ba34dcece913081a5e2fd283b79d97f9d1e99edd04864253ce76af2fb1ff9e", "label": "abstore3", "references": { "mychannel": { "chaincodes":   { "name": "mycc", "version": "2.0" }   } } }, { "package_id": "abstore2:bd357a344acfaaee7ae4c3bbacc870b9bd7fe3c517d60ef034827c9a4ae1846f", "label": "abstore2" }   }  *{color:#FF0000}no lifecycle chaincode commit is required, and no other organization needs to perform the lifecycle chaincode approveformyorg, which can be successfully upgraded independently.{color}*  *+docker ps+* d78257cdf37b dev-peer0.org1.example.com-{color:#FF0000}*abstore3-32ba34dcece913081a5e2fd283b79d97f9d1e99edd04864253ce76af2fb1ff9e*{color}-3bdb2174e7b647055e4eb71f336af1ba18f47d831085612136b9f392edff430d "chaincode -peer.add..." 37 seconds ago Up 36 seconds dev-peer0.org1.example.com-abstore3-32ba34dcece913081a5e2fd283b79d97f9d1e99edd04864253ce76af2fb1ff9e     ></description> </Issue>
