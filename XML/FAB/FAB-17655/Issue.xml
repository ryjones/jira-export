<Issue id="44648" key="FAB-17655" number="17655" project="10002" reporter="sykesm" creator="sykesm" type="10004" summary="Intermittent UT failure in consensus/etcdraft: panic: test timed out after 20m0s" priority="3" status="10300" created="2020-03-24 20:27:20.0" updated="2020-03-24 20:39:11.0" votes="0" watches="1" workflowId="58566" archived="N"> <description><! CDATA {code} 2020-03-24T20:15:01.5647189Z panic: test timed out after 20m0s 2020-03-24T20:15:01.5647371Z  2020-03-24T20:15:01.5647642Z goroutine 5330  running : 2020-03-24T20:15:01.5647883Z testing.(*M).startAlarm.func1() 2020-03-24T20:15:01.5648242Z 	/opt/hostedtoolcache/go/1.13.8/x64/src/testing/testing.go:1377 +0x11c 2020-03-24T20:15:01.5648562Z created by time.goFunc 2020-03-24T20:15:01.5648863Z 	/opt/hostedtoolcache/go/1.13.8/x64/src/time/sleep.go:168 +0x52 2020-03-24T20:15:01.5649129Z  2020-03-24T20:15:01.5649333Z goroutine 1  chan receive, 19 minutes : 2020-03-24T20:15:01.5649659Z testing.(*T).Run(0xc0000d0000, 0x142e7dd, 0xc, 0x1473160, 0x1) 2020-03-24T20:15:01.5650085Z 	/opt/hostedtoolcache/go/1.13.8/x64/src/testing/testing.go:961 +0x68a 2020-03-24T20:15:01.5650426Z testing.runTests.func1(0xc0000d0000) 2020-03-24T20:15:01.5650768Z 	/opt/hostedtoolcache/go/1.13.8/x64/src/testing/testing.go:1202 +0xa7 2020-03-24T20:15:01.5651146Z testing.tRunner(0xc0000d0000, 0xc00038dcd8) 2020-03-24T20:15:01.5651503Z 	/opt/hostedtoolcache/go/1.13.8/x64/src/testing/testing.go:909 +0x19a 2020-03-24T20:15:01.5651890Z testing.runTests(0xc00000f180, 0x1f8cba0, 0x11, 0x11, 0x0) 2020-03-24T20:15:01.5652304Z 	/opt/hostedtoolcache/go/1.13.8/x64/src/testing/testing.go:1200 +0x522 2020-03-24T20:15:01.5652646Z testing.(*M).Run(0xc000012300, 0x0) 2020-03-24T20:15:01.5652988Z 	/opt/hostedtoolcache/go/1.13.8/x64/src/testing/testing.go:1117 +0x300 2020-03-24T20:15:01.5653304Z main.main() 2020-03-24T20:15:01.5653511Z 	_testmain.go:150 +0x338 2020-03-24T20:15:01.5653676Z  2020-03-24T20:15:01.5653873Z goroutine 26  syscall, 20 minutes : 2020-03-24T20:15:01.5654153Z os/signal.signal_recv(0x47b301) 2020-03-24T20:15:01.5654488Z 	/opt/hostedtoolcache/go/1.13.8/x64/src/runtime/sigqueue.go:147 +0x9c 2020-03-24T20:15:01.5654789Z os/signal.loop() 2020-03-24T20:15:01.5655121Z 	/opt/hostedtoolcache/go/1.13.8/x64/src/os/signal/signal_unix.go:23 +0x30 2020-03-24T20:15:01.5655606Z created by os/signal.init.0 2020-03-24T20:15:01.5655951Z 	/opt/hostedtoolcache/go/1.13.8/x64/src/os/signal/signal_unix.go:29 +0x4f 2020-03-24T20:15:01.5656210Z  2020-03-24T20:15:01.5656445Z goroutine 28  chan receive, 20 minutes : 2020-03-24T20:15:01.5656718Z testing.(*T).Parallel(0xc0000d0400) 2020-03-24T20:15:01.5657057Z 	/opt/hostedtoolcache/go/1.13.8/x64/src/testing/testing.go:814 +0x3b7 2020-03-24T20:15:01.5657521Z github.com/hyperledger/fabric/orderer/consensus/etcdraft.TestPeriodicCheck(0xc0000d0400) 2020-03-24T20:15:01.5658046Z 	/home/vsts/work/1/go/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/eviction_test.go:29 +0x54 2020-03-24T20:15:01.5658474Z testing.tRunner(0xc0000d0400, 0x14730b8) 2020-03-24T20:15:01.5658947Z 	/opt/hostedtoolcache/go/1.13.8/x64/src/testing/testing.go:909 +0x19a 2020-03-24T20:15:01.5659269Z created by testing.(*T).Run  2020-03-24T20:15:01.5659863Z  2020-03-24T20:15:01.5660075Z goroutine 92  sync.Cond.Wait, 19 minutes : 2020-03-24T20:15:01.5660334Z runtime.goparkunlock(...) 2020-03-24T20:15:01.5660656Z 	/opt/hostedtoolcache/go/1.13.8/x64/src/runtime/proc.go:310 2020-03-24T20:15:01.5661019Z sync.runtime_notifyListWait(0xc00298fc90, 0xc000000000) 2020-03-24T20:15:01.5661392Z 	/opt/hostedtoolcache/go/1.13.8/x64/src/runtime/sema.go:510 +0xf8 2020-03-24T20:15:01.5661741Z sync.(*Cond).Wait(0xc00298fc80) 2020-03-24T20:15:01.5662059Z 	/opt/hostedtoolcache/go/1.13.8/x64/src/sync/cond.go:56 +0x8e 2020-03-24T20:15:01.5662594Z github.com/hyperledger/fabric/vendor/code.cloudfoundry.org/clock/fakeclock.(*FakeClock).increment(0xc00039bec0, 0x3b9aca00, 0xc0004a1901, 0x2) 2020-03-24T20:15:01.5663274Z 	/home/vsts/work/1/go/src/github.com/hyperledger/fabric/vendor/code.cloudfoundry.org/clock/fakeclock/fake_clock.go:96 +0xca 2020-03-24T20:15:01.5663890Z github.com/hyperledger/fabric/vendor/code.cloudfoundry.org/clock/fakeclock.(*FakeClock).WaitForNWatchersAndIncrement(...) 2020-03-24T20:15:01.5664491Z 	/home/vsts/work/1/go/src/github.com/hyperledger/fabric/vendor/code.cloudfoundry.org/clock/fakeclock/fake_clock.go:56 2020-03-24T20:15:01.5665035Z github.com/hyperledger/fabric/orderer/consensus/etcdraft_test.glob..func1.3.3() 2020-03-24T20:15:01.5665614Z 	/home/vsts/work/1/go/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:1387 +0x8e8 2020-03-24T20:15:01.5666276Z github.com/hyperledger/fabric/vendor/github.com/onsi/ginkgo/internal/leafnodes.(*runner).runSync(0xc000227380, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, ...) 2020-03-24T20:15:01.5666990Z 	/home/vsts/work/1/go/src/github.com/hyperledger/fabric/vendor/github.com/onsi/ginkgo/internal/leafnodes/runner.go:113 +0xe0 2020-03-24T20:15:01.5667677Z github.com/hyperledger/fabric/vendor/github.com/onsi/ginkgo/internal/leafnodes.(*runner).run(0xc000227380, 0x3, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, ...) 2020-03-24T20:15:01.5668386Z 	/home/vsts/work/1/go/src/github.com/hyperledger/fabric/vendor/github.com/onsi/ginkgo/internal/leafnodes/runner.go:64 +0x108 2020-03-24T20:15:01.5669077Z github.com/hyperledger/fabric/vendor/github.com/onsi/ginkgo/internal/leafnodes.(*ItNode).Run(0xc0002283c0, 0x15e9500, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, ...) 2020-03-24T20:15:01.5670461Z 	/home/vsts/work/1/go/src/github.com/hyperledger/fabric/vendor/github.com/onsi/ginkgo/internal/leafnodes/it_node.go:26 +0x88 2020-03-24T20:15:01.5671141Z github.com/hyperledger/fabric/vendor/github.com/onsi/ginkgo/internal/spec.(*Spec).runSample(0xc000156d20, 0x0, 0x15e9500, 0xc000266740) 2020-03-24T20:15:01.5671772Z 	/home/vsts/work/1/go/src/github.com/hyperledger/fabric/vendor/github.com/onsi/ginkgo/internal/spec/spec.go:215 +0x6e2 2020-03-24T20:15:01.5672429Z github.com/hyperledger/fabric/vendor/github.com/onsi/ginkgo/internal/spec.(*Spec).Run(0xc000156d20, 0x15e9500, 0xc000266740) 2020-03-24T20:15:01.5673048Z 	/home/vsts/work/1/go/src/github.com/hyperledger/fabric/vendor/github.com/onsi/ginkgo/internal/spec/spec.go:138 +0x168 2020-03-24T20:15:01.5673671Z github.com/hyperledger/fabric/vendor/github.com/onsi/ginkgo/internal/specrunner.(*SpecRunner).runSpec(0xc0000ddcc0, 0xc000156d20, 0x0) 2020-03-24T20:15:01.5674349Z 	/home/vsts/work/1/go/src/github.com/hyperledger/fabric/vendor/github.com/onsi/ginkgo/internal/specrunner/spec_runner.go:200 +0x173 2020-03-24T20:15:01.5674981Z github.com/hyperledger/fabric/vendor/github.com/onsi/ginkgo/internal/specrunner.(*SpecRunner).runSpecs(0xc0000ddcc0, 0x1) 2020-03-24T20:15:01.5675626Z 	/home/vsts/work/1/go/src/github.com/hyperledger/fabric/vendor/github.com/onsi/ginkgo/internal/specrunner/spec_runner.go:170 +0x217 2020-03-24T20:15:01.5676247Z github.com/hyperledger/fabric/vendor/github.com/onsi/ginkgo/internal/specrunner.(*SpecRunner).Run(0xc0000ddcc0, 0x8) 2020-03-24T20:15:01.5676986Z 	/home/vsts/work/1/go/src/github.com/hyperledger/fabric/vendor/github.com/onsi/ginkgo/internal/specrunner/spec_runner.go:66 +0x141 2020-03-24T20:15:01.5677796Z github.com/hyperledger/fabric/vendor/github.com/onsi/ginkgo/internal/suite.(*Suite).Run(0xc00024e500, 0x7fac4d069cd8, 0xc000145d00, 0x142ff85, 0xe, 0xc0001b9200, 0x1, 0x1, 0x1608ae0, 0xc000266740, ...) 2020-03-24T20:15:01.5678558Z 	/home/vsts/work/1/go/src/github.com/hyperledger/fabric/vendor/github.com/onsi/ginkgo/internal/suite/suite.go:62 +0x6a0 2020-03-24T20:15:01.5679239Z github.com/hyperledger/fabric/vendor/github.com/onsi/ginkgo.RunSpecsWithCustomReporters(0x15ea3c0, 0xc000145d00, 0x142ff85, 0xe, 0xc000069ed8, 0x1, 0x1, 0x20) 2020-03-24T20:15:01.5679921Z 	/home/vsts/work/1/go/src/github.com/hyperledger/fabric/vendor/github.com/onsi/ginkgo/ginkgo_dsl.go:221 +0x339 2020-03-24T20:15:01.5680496Z github.com/hyperledger/fabric/vendor/github.com/onsi/ginkgo.RunSpecs(0x15ea3c0, 0xc000145d00, 0x142ff85, 0xe, 0x0) 2020-03-24T20:15:01.5681096Z 	/home/vsts/work/1/go/src/github.com/hyperledger/fabric/vendor/github.com/onsi/ginkgo/ginkgo_dsl.go:202 +0x9a 2020-03-24T20:15:01.5681617Z github.com/hyperledger/fabric/orderer/consensus/etcdraft_test.TestEtcdraft(0xc000145d00) 2020-03-24T20:15:01.5682153Z 	/home/vsts/work/1/go/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/etcdraft_suite_test.go:20 +0x122 2020-03-24T20:15:01.5682617Z testing.tRunner(0xc000145d00, 0x1473160) 2020-03-24T20:15:01.5683036Z 	/opt/hostedtoolcache/go/1.13.8/x64/src/testing/testing.go:909 +0x19a 2020-03-24T20:15:01.5683359Z created by testing.(*T).Run 2020-03-24T20:15:01.5683707Z 	/opt/hostedtoolcache/go/1.13.8/x64/src/testing/testing.go:960 +0x652 {code}  https://dev.azure.com/Hyperledger/0227bd2c-c4f6-478f-be00-ee519f115180/_apis/build/builds/10527/logs/70  ></description> </Issue>
