<Action id="64526" issue="42659" author="zouyunfeng" type="comment" body=" https://gerrit.hyperledger.org/r/c/fabric/+/33893 " created="2019-10-10 11:27:54.0" updateauthor="zouyunfeng" updated="2019-10-10 11:27:54.0"/>
<Action id="64576" issue="42659" author="angelo.decaro" type="comment" created="2019-10-11 08:52:50.0" updateauthor="angelo.decaro" updated="2019-10-11 08:52:50.0"> <body><! CDATA  ~zouyunfeng  So, I wonder if the fix you pushed is the right one cause cryptogen puts the Admin OU only when NodeOU classification is enabled, otherwise it puts the Client OU. Look at common/tools/cryptogen/main.go#618.  ~denyeart  ~ales  ~yacovm , what do you think? What's the cryptogen configuration that causes the error?  ></body> </Action>
<Action id="64578" issue="42659" author="zouyunfeng" type="comment" created="2019-10-11 09:18:33.0" updateauthor="zouyunfeng" updated="2019-10-11 09:18:33.0"> <body><! CDATA It was found that when testing the addition of orderer node operations, based on fabric-samples(https://github.com/hyperledger/fabric-samples/blob/release-1.4/first-network),  crypto-config.yaml: OrdererOrgs: # Orderer - Name: Orderer EnableNodeOUs: true  configtx.yaml: Channel: &ChannelDefaults #   /Channel/<PolicyName> Policies: Admins: Type: ImplicitMeta Rule: "MAJORITY Admins" 			 I send the update block transaction with genesis orderer admin signature. result err:  sub-policies were satisfied, but this policy requires 1 of the 'Admins' sub-policies to be satisfied  ></body> </Action>
<Action id="64582" issue="42659" author="yacovm" type="comment" created="2019-10-11 09:25:59.0" updateauthor="yacovm" updated="2019-10-11 09:25:59.0"> <body><! CDATA The way I understand the code you referenced, Angelo: {code:java} 			if node.isAdmin && nodeOUs { 				currentNodeType = msp.ADMIN 			} {code}  Is that it still needs the isAdmin bit to be set, however without his change - it won't be set.   ></body> </Action>
<Action id="64691" issue="42659" author="denyeart" type="comment" body="release-1.4 CR: https://gerrit.hyperledger.org/r/#/c/fabric/+/33893/" created="2019-10-14 10:45:50.0" updateauthor="denyeart" updated="2019-10-14 10:45:50.0"/>
<Action id="64692" issue="42659" author="angelo.decaro" type="comment" body=" ~yacovm , got it, thanks. I think we need it then." created="2019-10-14 11:09:01.0" updateauthor="angelo.decaro" updated="2019-10-14 11:09:01.0"/>
<Action id="64694" issue="42659" author="denyeart" type="comment" created="2019-10-14 12:25:09.0" updateauthor="denyeart" updated="2019-10-14 12:25:09.0"> <body><! CDATA Merged in release-1.4. Looks like master already has the fix: https://github.com/hyperledger/fabric/blob/master/cmd/cryptogen/main.go#L666  ></body> </Action>
<Action id="64695" issue="42659" author="denyeart" type="comment" created="2019-10-14 12:35:05.0" updateauthor="denyeart" updated="2019-10-14 12:35:05.0"> <body><! CDATA  ~zouyunfeng  By the way, if I understand correctly, the original Description was not correct... it was not that OU of "admin" was missing, it was that the certificate was not copied to admincerts directory (when EnableNodeOUs is false). I've confirmed the fix copies the orderer cert to admincerts directory now.  ></body> </Action>
