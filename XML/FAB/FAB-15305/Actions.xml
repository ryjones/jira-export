<Action id="59653" issue="39556" author="yacovm" type="comment" created="2019-05-01 16:26:20.0" updateauthor="yacovm" updated="2019-05-01 16:36:09.0"> <body><! CDATA {quote}We need to be consistent on mock libraries that being used. {quote}  Why? are we in the army? And what are the boundaries of this consistency? Is it only chaincode or also all of fabric code base?  Are you intending to change that in the entire project?  If so, I think this is a waste of time since we have a lot of tests that use mockery already. Besides, I can also argue the other way around - let's stop using counterfeiter, and convert everything to mockery.  There are advantages with mockery over counterfeiter, such as - it is forcing you to define a behavior for a function, instead of returning a zero value all the time, and this makes the person that writes the test aware of the the setup of the test, while with counterfeiter you might setup the mocks in a sloppy way but it will still pass unintentionally. With mockery, if you setup the mocks wrong - you will probably get a panic because some behavior isn't defined.  ></body> </Action>
<Action id="59654" issue="39556" author="ales" type="comment" body="+1  ~yacovm , let&apos;s switch counterfeiter -&gt; mockery rather than the other way around" created="2019-05-01 16:27:28.0" updateauthor="ales" updated="2019-05-01 16:28:15.0"/>
<Action id="59655" issue="39556" author="yacovm" type="comment" created="2019-05-01 16:34:01.0" updateauthor="yacovm" updated="2019-05-01 16:34:01.0"> <body><! CDATA No, i am not saying we should switch. I am saying we shouldn't switch, and as long as we use autogenerated mocks we're good.   Every developer can just use what fits him/her the most, and we I don't see value in adhering to a single one.   ></body> </Action>
<Action id="59660" issue="39556" author="sykesm" type="comment" created="2019-05-01 18:22:08.0" updateauthor="sykesm" updated="2019-05-01 18:22:08.0"> <body><! CDATA There should be a single mocking library used *within a package*. The chaincode package uses counterfeiter; end of story.  If I contribute to a package that uses mockery, I'll adapt that style; I expect the same of those contributing to chaincode or other packages where counterfeiter has been used.  Also, mockery is less flexible in the code it generates (must be from production package, exported code, no renaming of types) so it's not like it's any better than counterfeiter. There are also exactly *three* (3) places in the entire code base where we use mockery assertions: cscc, qscc, and msp cache.  ></body> </Action>
<Action id="59661" issue="39556" author="sykesm" type="comment" created="2019-05-01 18:22:47.0" updateauthor="sykesm" updated="2019-05-01 18:22:47.0"> <body><! CDATA {quote} +1 Yacov Manevich, let's switch counterfeiter -> mockery rather than the other way around {quote}  If you want to do that, please defend your position and show how that moves the ball forward?  Thanks.  ></body> </Action>
<Action id="59847" issue="39556" author="sykesm" type="comment" body="https://gerrit.hyperledger.org/r/c/31232/" created="2019-05-08 16:59:15.0" updateauthor="sykesm" updated="2019-05-08 16:59:15.0"/>
<Action id="59849" issue="39556" author="sykesm" type="comment" body="https://gerrit.hyperledger.org/r/c/31286/" created="2019-05-08 17:33:08.0" updateauthor="sykesm" updated="2019-05-08 17:33:08.0"/>
<Action id="59854" issue="39556" author="mastersingh24" type="comment" body=" ~sykesm  is correct ... single mocking library per package." created="2019-05-08 19:28:07.0" updateauthor="mastersingh24" updated="2019-05-08 19:28:07.0"/>
