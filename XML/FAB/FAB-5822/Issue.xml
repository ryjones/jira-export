<Issue id="20250" key="FAB-5822" number="5822" project="10002" reporter="clessor" assignee="mastersingh24" creator="clessor" type="10004" summary="SIGSEGV fatal error during runtime execution  creating channel" priority="2" resolution="10002" status="6" created="2017-08-17 15:33:54.0" updated="2019-01-16 15:13:25.0" resolutiondate="2019-01-16 15:13:25.0" votes="1" watches="10" workflowId="43047"> <description><! CDATA On Ubuntu 16.04 EC2 instance.  when running   ./network_setup.sh up mychannel 50     Using cryptogen -> /home/ubuntu/godir/src/github.com/hyperledger/fabric/examples/e2e_cli/../../release/linux-amd64/bin/cryptogen     ##########################################################  ##### Generate certificates using cryptogen tool #########  ##########################################################  org1.example.com  org2.example.com     Using configtxgen -> /home/ubuntu/godir/src/github.com/hyperledger/fabric/examples/e2e_cli/../../release/linux-amd64/bin/configtxgen  ##########################################################  #########  Generating Orderer Genesis block ##############  ##########################################################  2017-08-17 15:08:54.762 UTC  common/configtx/tool  main -> INFO 001 Loading configuration  2017-08-17 15:08:54.787 UTC  common/configtx/tool  doOutputBlock -> INFO 002 Generating genesis block  2017-08-17 15:08:54.788 UTC  common/configtx/tool  doOutputBlock -> INFO 003 Writing genesis block     #################################################################  ### Generating channel configuration transaction 'channel.tx' ###  #################################################################  2017-08-17 15:08:54.806 UTC  common/configtx/tool  main -> INFO 001 Loading configuration  2017-08-17 15:08:54.809 UTC  common/configtx/tool  doOutputChannelCreateTx -> INFO 002 Generating new channel configtx  2017-08-17 15:08:54.809 UTC  common/configtx/tool  doOutputChannelCreateTx -> INFO 003 Writing new channel tx     #################################################################  #######    Generating anchor peer update for Org1MSP   ##########  #################################################################  2017-08-17 15:08:54.827 UTC  common/configtx/tool  main -> INFO 001 Loading configuration  2017-08-17 15:08:54.831 UTC  common/configtx/tool  doOutputAnchorPeersUpdate -> INFO 002 Generating anchor peer update  2017-08-17 15:08:54.831 UTC  common/configtx/tool  doOutputAnchorPeersUpdate -> INFO 003 Writing anchor peer update     #################################################################  #######    Generating anchor peer update for Org2MSP   ##########  #################################################################  2017-08-17 15:08:54.851 UTC  common/configtx/tool  main -> INFO 001 Loading configuration  2017-08-17 15:08:54.854 UTC  common/configtx/tool  doOutputAnchorPeersUpdate -> INFO 002 Generating anchor peer update  2017-08-17 15:08:54.854 UTC  common/configtx/tool  doOutputAnchorPeersUpdate -> INFO 003 Writing anchor peer update     Creating network "e2ecli_default" with the default driver  Creating peer0.org2.example.com  Creating peer0.org1.example.com  Creating peer1.org2.example.com  Creating peer1.org1.example.com  Creating orderer.example.com  Creating cli     ____    _____      _      ____    _____           _____   ____    _____   / ___|  |_   _|    / \    |  _ \  |_   _|         | ____| |___ \  | ____|  \___ \    | |     / _ \   | |_) |   | |    _____  |  _|     __) | |  _|   ___) |   | |    / ___ \  |  _ <    | |   |_____| | |___   / __/  | |___   |____/    |_|   /_/   \_\ |_| \_\   |_|           |_____| |_____| |_____|     Channel name : mychannel  Creating channel...  CORE_PEER_TLS_ROOTCERT_FILE=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/ca.crt  CORE_PEER_TLS_KEY_FILE=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.key  CORE_PEER_LOCALMSPID=Org1MSP  CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock  CORE_PEER_TLS_CERT_FILE=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.crt  CORE_PEER_TLS_ENABLED=true  CORE_PEER_MSPCONFIGPATH=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp  CORE_PEER_ID=cli  CORE_LOGGING_LEVEL=DEBUG  CORE_PEER_ADDRESS=peer0.org1.example.com:7051  2017-08-17 15:08:57.676 UTC  msp  GetLocalMSP -> DEBU 001 Returning existing local MSP  2017-08-17 15:08:57.676 UTC  msp  GetDefaultSigningIdentity -> DEBU 002 Obtaining default signing identity  2017-08-17 15:08:57.679 UTC  channelCmd  InitCmdFactory -> INFO 003 Endorser and orderer connections initialized  2017-08-17 15:08:57.680 UTC  msp  GetLocalMSP -> DEBU 004 Returning existing local MSP  2017-08-17 15:08:57.680 UTC  msp  GetDefaultSigningIdentity -> DEBU 005 Obtaining default signing identity  2017-08-17 15:08:57.680 UTC  msp  GetLocalMSP -> DEBU 006 Returning existing local MSP  2017-08-17 15:08:57.680 UTC  msp  GetDefaultSigningIdentity -> DEBU 007 Obtaining default signing identity  2017-08-17 15:08:57.680 UTC  msp/identity  Sign -> DEBU 008 Sign: plaintext: 0A8C060A074F7267314D53501280062D...53616D706C65436F6E736F727469756D   2017-08-17 15:08:57.680 UTC  msp/identity  Sign -> DEBU 009 Sign: digest: 869B229C64EF36391CFB9BC74081B61FBE93540F64774DF0A3DCED76D0E1923C   2017-08-17 15:08:57.680 UTC  msp  GetLocalMSP -> DEBU 00a Returning existing local MSP  2017-08-17 15:08:57.680 UTC  msp  GetDefaultSigningIdentity -> DEBU 00b Obtaining default signing identity  2017-08-17 15:08:57.680 UTC  msp  GetLocalMSP -> DEBU 00c Returning existing local MSP  2017-08-17 15:08:57.680 UTC  msp  GetDefaultSigningIdentity -> DEBU 00d Obtaining default signing identity  2017-08-17 15:08:57.680 UTC  msp/identity  Sign -> DEBU 00e Sign: plaintext: 0AC3060A1508021A060889E3D6CC0522...699D384F68B171EE323166DC9828416F   2017-08-17 15:08:57.680 UTC  msp/identity  Sign -> DEBU 00f Sign: digest: 49032A464A9C7264C844F9FE2F3583C3297993ACB1C6653E96E967082F1F59C6   fatal error: unexpected signal during runtime execution   signal SIGSEGV: segmentation violation code=0x1 addr=0x63 pc=0x7f9193318259      runtime stack:  runtime.throw(0xdc9844, 0x2a)  /opt/go/src/runtime/panic.go:566 +0x95  runtime.sigpanic()  /opt/go/src/runtime/sigpanic_unix.go:12 +0x2cc     goroutine 28  syscall, locked to thread :  runtime.cgocall(0xb0e530, 0xc42037edf8, 0xc400000000)  /opt/go/src/runtime/cgocall.go:131 +0x110 fp=0xc42037edb0 sp=0xc42037ed70  net._C2func_getaddrinfo(0x2d9f1f0, 0x0, 0xc420323980, 0xc420126180, 0x0, 0x0, 0x0)  ??:0 +0x68 fp=0xc42037edf8 sp=0xc42037edb0  net.cgoLookupIPCNAME(0x7ffe2f013a83, 0x13, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0)  /opt/go/src/net/cgo_unix.go:146 +0x37c fp=0xc42037ef18 sp=0xc42037edf8  net.cgoIPLookup(0xc420378240, 0x7ffe2f013a83, 0x13)  /opt/go/src/net/cgo_unix.go:198 +0x4d fp=0xc42037efa8 sp=0xc42037ef18  runtime.goexit()  /opt/go/src/runtime/asm_amd64.s:2086 +0x1 fp=0xc42037efb0 sp=0xc42037efa8  created by net.cgoLookupIP  /opt/go/src/net/cgo_unix.go:208 +0xb4     goroutine 1  select :  github.com/hyperledger/fabric/vendor/google.golang.org/grpc.DialContext(0x7f919352e000, 0xc420378000, 0x7ffe2f013a83, 0x18, 0xc420376240, 0x3, 0x4, 0x0, 0x0, 0x0)  /opt/gopath/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/clientconn.go:434 +0x856  github.com/hyperledger/fabric/vendor/google.golang.org/grpc.Dial(0x7ffe2f013a83, 0x18, 0xc420376240, 0x3, 0x4, 0xc420376240, 0x2, 0x4)  /opt/gopath/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/clientconn.go:319 +0x96  github.com/hyperledger/fabric/peer/common.GetBroadcastClient(0x7ffe2f013a83, 0x18, 0x301, 0x7ffe2f013adf, 0xa1, 0x380, 0xc420333cc0, 0x126, 0x126)  /opt/gopath/src/github.com/hyperledger/fabric/peer/common/ordererclient.go:66 +0x18f  github.com/hyperledger/fabric/peer/channel.InitCmdFactory.func1(0xc420322e40, 0xc420323410, 0x0, 0x0)  /opt/gopath/src/github.com/hyperledger/fabric/peer/channel/channel.go:144 +0x67  github.com/hyperledger/fabric/peer/channel.sendCreateChainTransaction(0xc420306a50, 0x0, 0x0)  /opt/gopath/src/github.com/hyperledger/fabric/peer/channel/create.go:164 +0xa7  github.com/hyperledger/fabric/peer/channel.executeCreate(0xc420306a50, 0xc420306a50, 0x0)  /opt/gopath/src/github.com/hyperledger/fabric/peer/channel/create.go:178 +0x2f  github.com/hyperledger/fabric/peer/channel.create(0xc42022c6c0, 0xc4201e7860, 0x1, 0xa, 0xc420306a50, 0xda37c3, 0x5)  /opt/gopath/src/github.com/hyperledger/fabric/peer/channel/create.go:213 +0x45  github.com/hyperledger/fabric/peer/channel.createCmd.func1(0xc42022c6c0, 0xc4201e7860, 0x1, 0xa, 0x0, 0x0)  /opt/gopath/src/github.com/hyperledger/fabric/peer/channel/create.go:59 +0x52  github.com/hyperledger/fabric/vendor/github.com/spf13/cobra.(*Command).execute(0xc42022c6c0, 0xc4201e7720, 0xa, 0xa, 0xc42022c6c0, 0xc4201e7720)  /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/spf13/cobra/command.go:599 +0x234  github.com/hyperledger/fabric/vendor/github.com/spf13/cobra.(*Command).ExecuteC(0x13ed8c0, 0xf, 0xc420010035, 0x7)  /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/spf13/cobra/command.go:689 +0x367  github.com/hyperledger/fabric/vendor/github.com/spf13/cobra.(*Command).Execute(0x13ed8c0, 0x7d, 0xc420010035)  /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/spf13/cobra/command.go:648 +0x2b  main.main()  /opt/gopath/src/github.com/hyperledger/fabric/peer/main.go:118 +0x54e     goroutine 17  syscall, locked to thread :  runtime.goexit()  /opt/go/src/runtime/asm_amd64.s:2086 +0x1     goroutine 24  runnable :  github.com/hyperledger/fabric/vendor/google.golang.org/grpc/transport.(*http2Client).controller(0xc420356000)  /opt/gopath/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/transport/http2_client.go:1186  created by github.com/hyperledger/fabric/vendor/google.golang.org/grpc/transport.newHTTP2Client  /opt/gopath/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/transport/http2_client.go:297 +0xea5     goroutine 23  runnable :  github.com/hyperledger/fabric/vendor/google.golang.org/grpc/transport.(*http2Client).reader(0xc420356000)  /opt/gopath/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/transport/http2_client.go:1098  created by github.com/hyperledger/fabric/vendor/google.golang.org/grpc/transport.newHTTP2Client  /opt/gopath/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/transport/http2_client.go:267 +0xd5e     goroutine 9  syscall :  os/signal.signal_recv(0x0)  /opt/go/src/runtime/sigqueue.go:116 +0x157  os/signal.loop()  /opt/go/src/os/signal/signal_unix.go:22 +0x22  created by os/signal.init.1  /opt/go/src/os/signal/signal_unix.go:28 +0x41     goroutine 11  select :  github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*addrConn).transportMonitor(0xc4200de700)  /opt/gopath/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/clientconn.go:941 +0x66c  github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*ClientConn).resetAddrConn.func1(0xc4200de700)  /opt/gopath/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/clientconn.go:656 +0x1de  created by github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*ClientConn).resetAddrConn  /opt/gopath/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/clientconn.go:657 +0x756     goroutine 25  runnable :  github.com/hyperledger/fabric/vendor/google.golang.org/grpc.newClientStream.func3(0x1408880, 0xc420356000, 0xc4201b1040, 0xc420328420, 0xc42013e500)  /opt/gopath/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/stream.go:249  created by github.com/hyperledger/fabric/vendor/google.golang.org/grpc.newClientStream  /opt/gopath/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/stream.go:269 +0xf12     goroutine 26  select :  net.lookupIPContext(0x1404980, 0xc420378180, 0x7ffe2f013a83, 0x13, 0x0, 0x0, 0x0, 0x0, 0x0)  /opt/go/src/net/lookup.go:122 +0x7bc  net.internetAddrList(0x1404980, 0xc420378180, 0xda2b97, 0x3, 0x7ffe2f013a83, 0x18, 0x0, 0x0, 0x0, 0xa, ...)  /opt/go/src/net/ipsock.go:241 +0x5e0  net.resolveAddrList(0x1404980, 0xc420378180, 0xda3197, 0x4, 0xda2b97, 0x3, 0x7ffe2f013a83, 0x18, 0x0, 0x0, ...)  /opt/go/src/net/dial.go:179 +0x106  net.(*Dialer).DialContext(0xc4200474f8, 0x1404980, 0xc420378180, 0xda2b97, 0x3, 0x7ffe2f013a83, 0x18, 0x0, 0x0, 0x0, ...)  /opt/go/src/net/dial.go:329 +0x238  github.com/hyperledger/fabric/vendor/google.golang.org/grpc.dialContext(0x1404980, 0xc420378180, 0xda2b97, 0x3, 0x7ffe2f013a83, 0x18, 0x0, 0x0, 0xc4203204b0, 0xc420374080)  /opt/gopath/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/go17.go:53 +0xaa  github.com/hyperledger/fabric/vendor/google.golang.org/grpc.DialContext.func1(0x7f919352e000, 0xc420378180, 0x7ffe2f013a83, 0x18, 0x1, 0x0, 0x13f6140, 0xc42014b690)  /opt/gopath/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/clientconn.go:341 +0x86  github.com/hyperledger/fabric/vendor/google.golang.org/grpc.newProxyDialer.func1(0x7f919352e000, 0xc420378180, 0x7ffe2f013a83, 0x18, 0x13, 0xc420034701, 0x0, 0x0)  /opt/gopath/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/proxy.go:136 +0x143  github.com/hyperledger/fabric/vendor/google.golang.org/grpc/transport.dial(0x7f919352e000, 0xc420378180, 0xc420368a20, 0x7ffe2f013a83, 0x18, 0x410a5e, 0xc42031ee60, 0xa0, 0x98)  /opt/gopath/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/transport/http2_client.go:135 +0x5a  github.com/hyperledger/fabric/vendor/google.golang.org/grpc/transport.newHTTP2Client(0x7f919352e000, 0xc420378180, 0x7ffe2f013a83, 0x18, 0x0, 0x0, 0xdaeb89, 0x11, 0x0, 0x0, ...)  /opt/gopath/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/transport/http2_client.go:173 +0xbf  github.com/hyperledger/fabric/vendor/google.golang.org/grpc/transport.NewClientTransport(0x7f919352e000, 0xc420378180, 0x7ffe2f013a83, 0x18, 0x0, 0x0, 0xdaeb89, 0x11, 0x0, 0x0, ...)  /opt/gopath/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/transport/transport.go:463 +0xae  github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*addrConn).resetTransport(0xc42033e540, 0xc420323800, 0xc42033e560, 0xc420034e10)  /opt/gopath/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/clientconn.go:876 +0x282  github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*ClientConn).resetAddrConn(0xc420358680, 0x7ffe2f013a83, 0x18, 0x0, 0x0, 0x1, 0x0, 0x0, 0x0, 0x0)  /opt/gopath/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/clientconn.go:630 +0x41e  github.com/hyperledger/fabric/vendor/google.golang.org/grpc.DialContext.func3(0xc420378060, 0xc420358680, 0x1406540, 0xc420126168, 0x7ffe2f013a83, 0x18)  /opt/gopath/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/clientconn.go:429 +0x273  created by github.com/hyperledger/fabric/vendor/google.golang.org/grpc.DialContext  /opt/gopath/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/clientconn.go:433 +0x429     goroutine 27  select :  net.cgoLookupIP(0x1404980, 0xc420378180, 0x7ffe2f013a83, 0x13, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0)  /opt/go/src/net/cgo_unix.go:209 +0x2f5  net.lookupIP(0x1404980, 0xc420378180, 0x7ffe2f013a83, 0x13, 0x0, 0x0, 0x0, 0x0, 0x0)  /opt/go/src/net/lookup_unix.go:70 +0xf9  net.glob..func11(0x1404980, 0xc420378180, 0xe31498, 0x7ffe2f013a83, 0x13, 0xc42037e6c8, 0x71f959, 0xc42037e708, 0xc42037e718, 0x455cc0)  /opt/go/src/net/hook.go:19 +0x52  net.lookupIPContext.func1(0xc420358680, 0x7ffe2f013a83, 0x18, 0x0)  /opt/go/src/net/lookup.go:119 +0x5c  internal/singleflight.(*Group).doCall(0x1421860, 0xc42036a410, 0x7ffe2f013a83, 0x13, 0xc4203238f0)  /opt/go/src/internal/singleflight/singleflight.go:93 +0x3c  created by internal/singleflight.(*Group).DoChan  /opt/go/src/internal/singleflight/singleflight.go:86 +0x339  !!!!!!!!!!!!!!! Channel creation failed !!!!!!!!!!!!!!!!  ================== ERROR !!! FAILED to execute End-2-End Scenario ==================     ^C  ubuntu@ip##########:~/godir/src/github.com/hyperledger/fabric/examples/e2e_cli$ go version  go version go1.8.3 linux/amd64  ></description> </Issue>
