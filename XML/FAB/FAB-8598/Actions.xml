<Action id="41060" issue="28126" author="denyeart" type="comment" body=" ~greg.haskins   ~muralisr   ~mastersingh24  It&apos;s having trouble building a chaincode image, any ideas?" created="2018-03-01 04:47:07.0" updateauthor="denyeart" updated="2018-03-01 04:47:07.0"/>
<Action id="41061" issue="28126" author="rameshthoomu" type="comment" body="FYI: Working as expected in x86_64 but failing in s390x" created="2018-03-01 04:50:33.0" updateauthor="rameshthoomu" updated="2018-03-01 04:50:33.0"/>
<Action id="41065" issue="28126" author="harsha544" type="comment" created="2018-03-01 07:52:03.0" updateauthor="harsha544" updated="2018-03-01 07:52:03.0"> <body><! CDATA The issue seems to be busybox not available for ppc64le and s390x, a quick check yields this :-  root@p006vm24:~# ./manifest-tool-linux-ppc64le inspect busybox Name:   busybox (Type: application/vnd.docker.distribution.manifest.list.v2+json) Digest: sha256:aaeec02cd3efc3207685f79fcb46d5b3e692981382d0964897ed6494b4f58b76  * Contains 2 manifest references: 1    Mfst Type: application/vnd.docker.distribution.manifest.v2+json 1       Digest: sha256:c7b0a24019b0e6eda714ec0fa137ad42bc44a754d9cea17d14fba3a80ccc1ee4 1  Mfst Length: 527 1     Platform: 1           -      OS: linux 1           - OS Vers:  1           - OS Feat:    1           -    Arch: *amd64* 1           - Variant:  1           - Feature:  1     # Layers: 1          layer 1: digest = sha256:d070b8ef96fc4f2d92ff520a4fe55594e362b4e1076a32bbfeb261dc03322910  2    Mfst Type: application/vnd.docker.distribution.manifest.v2+json 2       Digest: sha256:9c93aab6daa52513bf4b3b36df84a64939b664a6d4fa606d74e070a77264e0da 2  Mfst Length: 527 2     Platform: 2           -      OS: linux 2           - OS Vers:  2           - OS Feat:    2           -    Arch: arm 2           - Variant: v6 2           - Feature:  2     # Layers: 1          layer 1: digest = sha256:0ef9af8fd5fa0b376fd814fef0cf3646b20e8c3d98adb17c008d26d8d59ce098 root@p006vm24:~#   Seems to be known problem  https://github.com/docker-library/official-images/issues/3835    However *docker pull ppc64le/busybox* & *docker pull s390x/busybox* pulls the relevant docker image   root@p006vm24:~# *docker pull ppc64le/busybox* Using default tag: latest latest: Pulling from ppc64le/busybox ed2cbc89fa7d: Pull complete  Digest: sha256:3c5b08ce23cf8610f44b841e34254ee0922295222180c79637230be5717efb80 Status: Downloaded newer image for ppc64le/busybox:latest root@p006vm24:~# *docker pull s390x/busybox* Using default tag: latest latest: Pulling from s390x/busybox da98aa9087af: Pull complete  Digest: sha256:6ba746ef4d4e309daaf44780a368f82121d63b7d5640829916d9417c6c97b37b Status: Downloaded newer image for s390x/busybox:latest root@p006vm24:~#   Seems to be a problem where-in manifest isn't doing it's job.  ></body> </Action>
<Action id="41070" issue="28126" author="harsha544" type="comment" created="2018-03-01 12:28:47.0" updateauthor="harsha544" updated="2018-03-01 12:28:47.0"> <body><! CDATA The issue seems to be manifests not working since yesterday, hence *docker pull busybox* on s390x/ppc64le was leading to error  00:06:33.850 unit-tests_1  | 2018-03-01 04:02:21.486 UTC  dockercontroller  deployImage -> ERRO 001 Error building images: no matching manifest for linux/s390x in the manifest list entries This could be confirmed via *manifest-tool-linux-$ARCH* binary :-  root@p006vm24:~# ./manifest-tool-linux-ppc64le inspect busybox Name:   busybox (Type: application/vnd.docker.distribution.manifest.list.v2+json) Digest: sha256:aaeec02cd3efc3207685f79fcb46d5b3e692981382d0964897ed6494b4f58b76  * Contains 2 manifest references: 1    Mfst Type: application/vnd.docker.distribution.manifest.v2+json 1       Digest: sha256:c7b0a24019b0e6eda714ec0fa137ad42bc44a754d9cea17d14fba3a80ccc1ee4 1  Mfst Length: 527 1     Platform: 1           -      OS: linux 1           - OS Vers:  1           - OS Feat:    1           -    Arch: *amd64* 1           - Variant:  1           - Feature:  1     # Layers: 1          layer 1: digest = sha256:d070b8ef96fc4f2d92ff520a4fe55594e362b4e1076a32bbfeb261dc03322910  2    Mfst Type: application/vnd.docker.distribution.manifest.v2+json 2       Digest: sha256:9c93aab6daa52513bf4b3b36df84a64939b664a6d4fa606d74e070a77264e0da 2  Mfst Length: 527 2     Platform: 2           -      OS: linux 2           - OS Vers:  2           - OS Feat:    2           -    Arch: *arm* 2           - Variant: v6 2           - Feature:  2     # Layers: 1          layer 1: digest = sha256:0ef9af8fd5fa0b376fd814fef0cf3646b20e8c3d98adb17c008d26d8d59ce098 root@p006vm24:~#  The issues seems to be fixed now i.e   {color:#dd1144}root@p006vm24:/opt/gopath/src/github.com/hyperledger#{color} {color:#dd1144}/root/manifest-tool-linux-ppc64le{color} {color:#dd1144}inspect{color} {color:#dd1144}busybox{color} {color:#333333}Name:{color} {color:#dd1144}busybox{color} {color:#dd1144}(Type:{color} {color:#dd1144}application/vnd.docker.distribution.manifest.list.v2+json){color} {color:#333333}Digest:{color} {color:#333333}sha256:2107a35b58593c58ec5f4e8f2c4a70d195321078aebfadfbfb223a2ff4a4ed21{color} {color:#dd1144}*{color} {color:#dd1144}Contains{color} {color:#008080}8{color} {color:#dd1144}manifest{color} {color:#333333}references:{color} {color:#008080}1{color} {color:#dd1144}Mfst{color} {color:#333333}Type:{color} {color:#dd1144}application/vnd.docker.distribution.manifest.v2+json{color} {color:#008080}1{color} {color:#333333}Digest:{color} {color:#333333}sha256:c7b0a24019b0e6eda714ec0fa137ad42bc44a754d9cea17d14fba3a80ccc1ee4{color} {color:#008080}1{color} {color:#dd1144}Mfst{color} {color:#333333}Length:{color} {color:#008080}527{color} {color:#008080}1{color} {color:#333333}Platform:{color} {color:#008080}1{color} {color:#990073}-{color} {color:#333333}OS:{color} {color:#dd1144}linux{color} {color:#008080}1{color} {color:#990073}-{color} {color:#dd1144}OS{color} {color:#333333}Vers:{color}  {color:#008080}1{color} {color:#990073}-{color} {color:#dd1144}OS{color} {color:#333333}Feat:{color} {color:#dd1144}  {color} {color:#008080}1{color} {color:#990073}-{color} {color:#333333}Arch:{color} {color:#dd1144}amd64{color} {color:#008080}1{color} {color:#990073}-{color} {color:#333333}Variant:{color}  {color:#008080}1{color} {color:#990073}-{color} {color:#333333}Feature:{color}  {color:#008080}1{color} {color:#999988}# Layers: 1{color} {color:#dd1144}layer{color} {color:#008080}1{color}{color:#dd1144}:{color} {color:#dd1144}digest{color} {color:#dd1144}={color} {color:#333333}sha256:d070b8ef96fc4f2d92ff520a4fe55594e362b4e1076a32bbfeb261dc03322910{color}  {color:#008080}2{color} {color:#dd1144}Mfst{color} {color:#333333}Type:{color} {color:#dd1144}application/vnd.docker.distribution.manifest.v2+json{color} {color:#008080}2{color} {color:#333333}Digest:{color} {color:#333333}sha256:a4822cb5d974f375f84c0a534cd6fdbc983ffefba1eeab16d09ccb12028b928c{color} {color:#008080}2{color} {color:#dd1144}Mfst{color} {color:#333333}Length:{color} {color:#008080}527{color} {color:#008080}2{color} {color:#333333}Platform:{color} {color:#008080}2{color} {color:#990073}-{color} {color:#333333}OS:{color} {color:#dd1144}linux{color} {color:#008080}2{color} {color:#990073}-{color} {color:#dd1144}OS{color} {color:#333333}Vers:{color}  {color:#008080}2{color} {color:#990073}-{color} {color:#dd1144}OS{color} {color:#333333}Feat:{color} {color:#dd1144}  {color} {color:#008080}2{color} {color:#990073}-{color} {color:#333333}Arch:{color} {color:#dd1144}arm{color} {color:#008080}2{color} {color:#990073}-{color} {color:#333333}Variant:{color} {color:#dd1144}v5{color} {color:#008080}2{color} {color:#990073}-{color} {color:#333333}Feature:{color}  {color:#008080}2{color} {color:#999988}# Layers: 1{color} {color:#dd1144}layer{color} {color:#008080}1{color}{color:#dd1144}:{color} {color:#dd1144}digest{color} {color:#dd1144}={color} {color:#333333}sha256:eb54de698b0f6b036c95c527d40572cb58f6c33b9e418b820db3c2bb16f6b895{color}  {color:#008080}3{color} {color:#dd1144}Mfst{color} {color:#333333}Type:{color} {color:#dd1144}application/vnd.docker.distribution.manifest.v2+json{color} {color:#008080}3{color} {color:#333333}Digest:{color} {color:#333333}sha256:9c93aab6daa52513bf4b3b36df84a64939b664a6d4fa606d74e070a77264e0da{color} {color:#008080}3{color} {color:#dd1144}Mfst{color} {color:#333333}Length:{color} {color:#008080}527{color} {color:#008080}3{color} {color:#333333}Platform:{color} {color:#008080}3{color} {color:#990073}-{color} {color:#333333}OS:{color} {color:#dd1144}linux{color} {color:#008080}3{color} {color:#990073}-{color} {color:#dd1144}OS{color} {color:#333333}Vers:{color}  {color:#008080}3{color} {color:#990073}-{color} {color:#dd1144}OS{color} {color:#333333}Feat:{color} {color:#dd1144}  {color} {color:#008080}3{color} {color:#990073}-{color} {color:#333333}Arch:{color} {color:#dd1144}arm{color} {color:#008080}3{color} {color:#990073}-{color} {color:#333333}Variant:{color} {color:#dd1144}v6{color} {color:#008080}3{color} {color:#990073}-{color} {color:#333333}Feature:{color}  {color:#008080}3{color} {color:#999988}# Layers: 1{color} {color:#dd1144}layer{color} {color:#008080}1{color}{color:#dd1144}:{color} {color:#dd1144}digest{color} {color:#dd1144}={color} {color:#333333}sha256:0ef9af8fd5fa0b376fd814fef0cf3646b20e8c3d98adb17c008d26d8d59ce098{color}  {color:#008080}4{color} {color:#dd1144}Mfst{color} {color:#333333}Type:{color} {color:#dd1144}application/vnd.docker.distribution.manifest.v2+json{color} {color:#008080}4{color} {color:#333333}Digest:{color} {color:#333333}sha256:883b6e95daad4c7ad5f86a0124de945bacc613da3ee0ca17bed6a2e9b848ce27{color} {color:#008080}4{color} {color:#dd1144}Mfst{color} {color:#333333}Length:{color} {color:#008080}527{color} {color:#008080}4{color} {color:#333333}Platform:{color} {color:#008080}4{color} {color:#990073}-{color} {color:#333333}OS:{color} {color:#dd1144}linux{color} {color:#008080}4{color} {color:#990073}-{color} {color:#dd1144}OS{color} {color:#333333}Vers:{color}  {color:#008080}4{color} {color:#990073}-{color} {color:#dd1144}OS{color} {color:#333333}Feat:{color} {color:#dd1144}  {color} {color:#008080}4{color} {color:#990073}-{color} {color:#333333}Arch:{color} {color:#dd1144}arm{color} {color:#008080}4{color} {color:#990073}-{color} {color:#333333}Variant:{color} {color:#dd1144}v7{color} {color:#008080}4{color} {color:#990073}-{color} {color:#333333}Feature:{color}  {color:#008080}4{color} {color:#999988}# Layers: 1{color} {color:#dd1144}layer{color} {color:#008080}1{color}{color:#dd1144}:{color} {color:#dd1144}digest{color} {color:#dd1144}={color} {color:#333333}sha256:f6c10ed8a46ab25c7a75b857e1c3d5407d0a7dabd1d87f3d54602b5b78c61984{color}  {color:#008080}5{color} {color:#dd1144}Mfst{color} {color:#333333}Type:{color} {color:#dd1144}application/vnd.docker.distribution.manifest.v2+json{color} {color:#008080}5{color} {color:#333333}Digest:{color} {color:#333333}sha256:08c10dde83399a3ff83e21feb679b3942dbe8aa652d49c144e8e544696558d7f{color} {color:#008080}5{color} {color:#dd1144}Mfst{color} {color:#333333}Length:{color} {color:#008080}527{color} {color:#008080}5{color} {color:#333333}Platform:{color} {color:#008080}5{color} {color:#990073}-{color} {color:#333333}OS:{color} {color:#dd1144}linux{color} {color:#008080}5{color} {color:#990073}-{color} {color:#dd1144}OS{color} {color:#333333}Vers:{color}  {color:#008080}5{color} {color:#990073}-{color} {color:#dd1144}OS{color} {color:#333333}Feat:{color} {color:#dd1144}  {color} {color:#008080}5{color} {color:#990073}-{color} {color:#333333}Arch:{color} {color:#dd1144}arm64{color} {color:#008080}5{color} {color:#990073}-{color} {color:#333333}Variant:{color} {color:#dd1144}v8{color} {color:#008080}5{color} {color:#990073}-{color} {color:#333333}Feature:{color}  {color:#008080}5{color} {color:#999988}# Layers: 1{color} {color:#dd1144}layer{color} {color:#008080}1{color}{color:#dd1144}:{color} {color:#dd1144}digest{color} {color:#dd1144}={color} {color:#333333}sha256:8996f62fa48d6c62cd90205319ded54ed1cfc6bb4b16f2beb405df21279d8d6e{color}  {color:#008080}6{color} {color:#dd1144}Mfst{color} {color:#333333}Type:{color} {color:#dd1144}application/vnd.docker.distribution.manifest.v2+json{color} {color:#008080}6{color} {color:#333333}Digest:{color} {color:#333333}sha256:60282b56cd5b4bcf3c160e124782b740bcde374a667a1f5f9164b243ae05753c{color} {color:#008080}6{color} {color:#dd1144}Mfst{color} {color:#333333}Length:{color} {color:#008080}527{color} {color:#008080}6{color} {color:#333333}Platform:{color} {color:#008080}6{color} {color:#990073}-{color} {color:#333333}OS:{color} {color:#dd1144}linux{color} {color:#008080}6{color} {color:#990073}-{color} {color:#dd1144}OS{color} {color:#333333}Vers:{color}  {color:#008080}6{color} {color:#990073}-{color} {color:#dd1144}OS{color} {color:#333333}Feat:{color} {color:#dd1144}  {color} {color:#008080}6{color} {color:#990073}-{color} {color:#333333}Arch:{color} {color:#008080}386{color} {color:#008080}6{color} {color:#990073}-{color} {color:#333333}Variant:{color}  {color:#008080}6{color} {color:#990073}-{color} {color:#333333}Feature:{color}  {color:#008080}6{color} {color:#999988}# Layers: 1{color} {color:#dd1144}layer{color} {color:#008080}1{color}{color:#dd1144}:{color} {color:#dd1144}digest{color} {color:#dd1144}={color} {color:#333333}sha256:ce6583360771ffe85f55f57363c5b614a2308c40c1f092412395f576498c48ee{color}  {color:#008080}7{color} {color:#dd1144}Mfst{color} {color:#333333}Type:{color} {color:#dd1144}application/vnd.docker.distribution.manifest.v2+json{color} {color:#008080}7{color} {color:#333333}Digest:{color} {color:#333333}sha256:d7133b3486ffbca5c7cb148909c5870be1b92ff3b7278c1a2173a6744559c823{color} {color:#008080}7{color} {color:#dd1144}Mfst{color} {color:#333333}Length:{color} {color:#008080}528{color} {color:#008080}7{color} {color:#333333}Platform:{color} {color:#008080}7{color} {color:#990073}-{color} {color:#333333}OS:{color} {color:#dd1144}linux{color} {color:#008080}7{color} {color:#990073}-{color} {color:#dd1144}OS{color} {color:#333333}Vers:{color}  {color:#008080}7{color} {color:#990073}-{color} {color:#dd1144}OS{color} {color:#333333}Feat:{color} {color:#dd1144}  {color} {color:#008080}7{color} {color:#990073}-{color} {color:#333333}Arch:{color} {color:#dd1144}ppc64le{color} {color:#008080}7{color} {color:#990073}-{color} {color:#333333}Variant:{color}  {color:#008080}7{color} {color:#990073}-{color} {color:#333333}Feature:{color}  {color:#008080}7{color} {color:#999988}# Layers: 1{color} {color:#dd1144}layer{color} {color:#008080}1{color}{color:#dd1144}:{color} {color:#dd1144}digest{color} {color:#dd1144}={color} {color:#333333}sha256:8bcf05d0d38f745dc25a783b447393f3491672b5ba264cfe273726e6f8e1cd16{color}  {color:#008080}8{color} {color:#dd1144}Mfst{color} {color:#333333}Type:{color} {color:#dd1144}application/vnd.docker.distribution.manifest.v2+json{color} {color:#008080}8{color} {color:#333333}Digest:{color} {color:#333333}sha256:1812deac047ecc0e4640c412c103c4c10ab64df972b98a8f8080b3b0dc5fab15{color} {color:#008080}8{color} {color:#dd1144}Mfst{color} {color:#333333}Length:{color} {color:#008080}528{color} {color:#008080}8{color} {color:#333333}Platform:{color} {color:#008080}8{color} {color:#990073}-{color} {color:#333333}OS:{color} {color:#dd1144}linux{color} {color:#008080}8{color} {color:#990073}-{color} {color:#dd1144}OS{color} {color:#333333}Vers:{color}  {color:#008080}8{color} {color:#990073}-{color} {color:#dd1144}OS{color} {color:#333333}Feat:{color} {color:#dd1144}  {color} {color:#008080}8{color} {color:#990073}-{color} {color:#333333}Arch:{color} {color:#dd1144}s390x{color} {color:#008080}8{color} {color:#990073}-{color} {color:#333333}Variant:{color}  {color:#008080}8{color} {color:#990073}-{color} {color:#333333}Feature:{color}  {color:#008080}8{color} {color:#999988}# Layers: 1{color} {color:#dd1144}layer{color} {color:#008080}1{color}{color:#dd1144}:{color} {color:#dd1144}digest{color} {color:#dd1144}={color} {color:#333333}sha256:87eb32991dd283847b756651dafc581ea1c10dd14fdc852fe53bf6d8021b60d8{color}  {color:#dd1144}root@p006vm24:/opt/gopath/src/github.com/hyperledger#   {color:#333333}Request  ~rameshthoomu  {color}{color}to trigger one more build on s390x.  ></body> </Action>
<Action id="41080" issue="28126" author="rameshthoomu" type="comment" body="Thanks  ~harsha544  for looking into this. It&apos;s working now. https://jenkins.hyperledger.org/view/Daily/job/fabric-daily-s390x/61/console" created="2018-03-01 14:18:54.0" updateauthor="rameshthoomu" updated="2018-03-01 14:18:54.0"/>
