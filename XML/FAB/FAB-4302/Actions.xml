<Action id="25115" issue="17376" author="jyellick" type="comment" created="2017-06-02 14:42:37.0" updateauthor="jyellick" updated="2017-06-02 14:42:37.0"> <body><! CDATA Just to be clear, this is a security issue because in mis-configuration, it leaks the network topology of the organization's non-external peers?  This does not leak the peer channel membership, or escalate to some other form of attack where the peer can be tricked into some other action?  ></body> </Action>
<Action id="25117" issue="17376" author="ashutosh_kumar" type="comment" created="2017-06-02 14:46:32.0" updateauthor="ashutosh_kumar" updated="2017-06-02 14:46:32.0"> <body><! CDATA     ~yacovm  : I guess , you are referring to the problem of internal IP addresses being exposed. From Networking perspective , the internal IP address of Peer should never be exposed to outside world. The peer ip will always be NATed. So , I do not think , that is an issue.     ></body> </Action>
<Action id="25120" issue="17376" author="yacovm" type="comment" created="2017-06-02 14:53:32.0" updateauthor="yacovm" updated="2017-06-02 14:55:22.0"> <body><! CDATA  ~jyellick  : {quote}Just to be clear, this is a security issue because in mis-configuration, it leaks the network topology of the organization's non-external peers?{quote} It leaks only the ip addresses of the misconfigured peer. the other ip addresses are not leaked.  {quote}This does not leak the peer channel membership, or escalate to some other form of attack where the peer can be tricked into some other action?{quote} Nope. It only makes the peer send 1 message to the remote peer that says "hey, I'm peer0. Here is my internal ip address: 192.168.1.100:7051, please tell me the membership you know"   ~ashutosh_kumar  :  {quote}Yacov Manevich : I guess , you are referring to the problem of internal IP addresses being exposed{quote} Yes. {quote} From Networking perspective , the internal IP address of Peer should never be exposed to outside world{quote} This is not a networking issue.  {quote} The peer ip will always be NATed. So , I do not think , that is an issue.{quote} I'm well aware of that, however - in gossip, the membership is disseminated transitively, and within the organization the ip addresses that are disseminated, are internal ip addresses. The problem with bootstrap peer support is that when they were implemented we had no notion of internal/external membership segregation policies, and bootstrap peers were initially used to connect only between peers in the organization itself.  This is an issue because the message that the peer sends to the bootstrap peer currently contains its own ip address that is internal, as the mechanism is used only to connect to peers in the own organization.    ></body> </Action>
<Action id="25252" issue="17376" author="denyeart" type="comment" body="Since this is a bug fix, and the code is not huge and is similar to existing code, I vote yes." created="2017-06-04 12:21:30.0" updateauthor="denyeart" updated="2017-06-04 12:21:30.0"/>
<Action id="25387" issue="17376" author="christopherferris" type="comment" body="This has met the threshold of 5 maintainers votes and may be merged when ready" created="2017-06-05 16:31:41.0" updateauthor="christopherferris" updated="2017-06-05 16:31:41.0"/>
