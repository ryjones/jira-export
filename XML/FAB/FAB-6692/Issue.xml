<Issue id="22703" key="FAB-6692" number="6692" project="10002" reporter="shimos" assignee="john.d.sheehan" creator="shimos" type="10004" summary="Instantiation fails in the network created by Network Launcher with TLS disabled" environment="fabric-test 106d55e8bc1ca09df83b8369a82386654944ea64" priority="3" resolution="10000" status="6" created="2017-10-19 18:39:12.0" updated="2018-07-20 14:14:43.0" resolutiondate="2017-11-01 14:11:17.0" votes="0" watches="2" workflowId="40312"> <description><! CDATA When I created a network by Network Launcher with TLS disabled as in the following command,  {noformat} $ ./networkLauncher.sh -a up -o 3 -x 6 -r 6 -p 2 -k 4 -z 3 -n 3 -t kafka -f test -w localhost -S disabled {noformat}  PTE (samplecc) fails in chaincode instantiation by timeout as follows:  {noformat} $ for json in SCFiles/*.json; do sed -i 's|grpcs://|grpc://|' $json; done $ for json in sampleccInputs/*.json; do sed -i 's/"TLS": "enabled"/"TLS": "disabled"/' $json; done $ ./pte_driver.sh sampleccInputs/runCases-chan-create-TLS.txt (successful. output omitted) $ ./pte_driver.sh sampleccInputs/runCases-chan-join-TLS.txt (successful. output omitted) $ ./pte_driver.sh sampleccInputs/runCases-chan-install-TLS.txt (successful. output omitted) $ ./pte_driver.sh sampleccInputs/runCases-chan-instantiate-TLS.txt (snip) info:  PTE 0 main :  performance_main:Nid=2  Successfully enrolled user 'admin' info:  PTE 0 main :  chaincodeInstantiate  org= org5, org name=PeerOrg5, channel name=testorgschannel3 info:  PTE 0 main :  chainAddOrderer  channel name:  testorgschannel3 info:  PTE 0 main :  chainAddOrderer  channel orderers:  grpc.primary_user_agent=grpc-node/1.6.6, _url=grpc://localhost:5007, addr=localhost:5007, , _request_timeout=200000, info:  PTE 0 main :  channelAddPeer1  channel name: testorgschannel3, org: org5 info:  PTE 0 main :  channelAddEvent  channel name:  testorgschannel3 info:  EventHub.js : _connect - options {} info:  PTE 0 main :  channelAddEvent  requests: grpc://localhost:7069, events: grpc://localhost:6059 info:  PTE 0 main :  performance_main:Nid=1  Successfully enrolled user 'admin' info:  PTE 0 main :  chaincodeInstantiate  org= org3, org name=PeerOrg3, channel name=testorgschannel2 info:  PTE 0 main :  chainAddOrderer  channel name:  testorgschannel2 info:  PTE 0 main :  chainAddOrderer  channel orderers:  grpc.primary_user_agent=grpc-node/1.6.6, _url=grpc://localhost:5006, addr=localhost:5006, , _request_timeout=200000, info:  PTE 0 main :  channelAddPeer1  channel name: testorgschannel2, org: org3 info:  PTE 0 main :  channelAddEvent  channel name:  testorgschannel2 info:  EventHub.js : _connect - options {} info:  PTE 0 main :  chaincodeInstantiate:Nid=2  Successfully initialize channel testorgschannel3  info:  PTE 0 main :  channelAddEvent  requests: grpc://localhost:7065, events: grpc://localhost:6055 info:  PTE 0 main :  chaincodeInstantiate:Nid=1  Successfully initialize channel testorgschannel2  error:  Peer.js : sendProposal - timed out after:200000 error:  client-utils.js : sendPeersProposal - Promise is rejected: Error: REQUEST_TIMEOUT at Timeout._onTimeout (/opt/gopath/src/github.com/hyperledger/fabric-test/fabric-sdk-node/node_modules/fabric-client/lib/Peer.js:114:19) at ontimeout (timers.js:386:14) at tryOnTimeout (timers.js:250:5) at Timer.listOnTimeout (timers.js:214:5) error:  PTE 0 main :  chaincodeInstantiate  channelName(testorgschannel1) chaincode instantiation was bad error:  PTE 0 main :  chaincodeInstantiate  Failed to send instantiate Proposal or receive valid response. Response null or status is not 200. exiting... info:  PTE 0 main : Disconnecting the event hub: 0 error:  PTE 0 main :  chaincodeInstantiate(Nid=0)  Failed to instantiate transaction on testorgschannel1 due to error:  Error: Failed to send instantiate Proposal or receive valid response. Response null or status is not 200. exiting... at /opt/gopath/src/github.com/hyperledger/fabric-test/fabric-sdk-node/test/PTE/pte-main.js:765:23 at process._tickCallback (internal/process/next_tick.js:109:7) (snip) {noformat}  ></description> </Issue>
