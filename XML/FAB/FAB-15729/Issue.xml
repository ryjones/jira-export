<Issue id="40606" key="FAB-15729" number="15729" project="10002" reporter="guoger" assignee="guoger" creator="guoger" type="10003" summary="Increase the timeout of waiting for leader transfer to be greater than ElectionTimeout" priority="3" resolution="10200" status="6" created="2019-06-17 09:16:40.0" updated="2019-06-20 11:24:39.0" resolutiondate="2019-06-20 11:24:39.0" votes="0" watches="1" workflowId="53556"> <description><! CDATA current node  abdicateLeader func|https://github.com/hyperledger/fabric/blob/7729388046c4776f58366f023bd4126aea517566/orderer/consensus/etcdraft/node.go#L194  attempts to transfer leadership to a qualified follower. It waits {{ElectionTimeout}} for this to complete.  once leadership transfer is initiated, etcdraft sets {{leadTranferee}} to mark the progress, and *drops subsequent config change*. It waits {{ElectionTimeout}} for transition to complete, otherwise it resets {{leadTransferee}}.  As part of parent story, after {{abdicateLeader}}, we intend to call {{ProposeConfChange}}, and there's a chance for proposed conf change to be dropped due to the reason above.  The change is straightforward, we should increase the timeout in abdicateLeader to be several ticks greater than {{ElectionTimeout}}, to eliminate the race.  ></description> </Issue>
