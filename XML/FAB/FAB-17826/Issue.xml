<Issue id="44983" key="FAB-17826" number="17826" project="10002" reporter="JIRAUSER20105" creator="JIRAUSER20105" type="10004" summary="Duplicate metrics with different status codes generated" priority="3" resolution="10203" status="6" created="2020-05-01 00:24:41.0" updated="2020-05-03 19:54:23.0" resolutiondate="2020-05-03 19:54:23.0" votes="0" watches="2" workflowId="58886" archived="N"> <description><! CDATA HI - I am extracting metrics from peer using Prometheus and I notice that certain metrics are repeating as below. While the CouchDB and Peer is up and running I am not quite sure why I see 404 in the metrics and 200 for the same function and type.  This happens for metrics -   Example 1 - (Truncated other items) |couchdb_processing_time_bucket\{database="mychannel_",function_name="ReadDoc",result="200",le="0.005"} 2|  |couchdb_processing_time_bucket\{database="mychannel_",function_name="ReadDoc",result="404",le="0.005"} 1|  Example 2 - (Truncated other items) |couchdb_processing_time_bucket\{database="mychannel_",function_name="GetDatabaseInfo",result="200",le="0.005"} 0|  |couchdb_processing_time_bucket\{database="mychannel_",function_name="GetDatabaseInfo",result="404",le="0.005"} 0|     Example 3 - (Truncated other items) |endorser_proposal_duration_bucket\{chaincode="lscc:",channel="",success="false",le="0.005"} 0|  |endorser_proposal_duration_bucket\{chaincode="lscc:",channel="",success="true",le="0.005"} 0|     Example 4 - (Truncated other items) |couchdb_processing_time_bucket\{database="mychannel_",function_name="GetDatabaseInfo",result="200",le="0.005"} 0|  |couchdb_processing_time_bucket\{database="mychannel_",function_name="GetDatabaseInfo",result="404",le="0.005"} 0|     Example 5 - Expanded |couchdb_processing_time_bucket\{database="mychannel_",function_name="ReadDoc",result="200",le="0.005"} 2| | |couchdb_processing_time_bucket\{database="mychannel_",function_name="ReadDoc",result="200",le="0.01"} 7| |couchdb_processing_time_bucket\{database="mychannel_",function_name="ReadDoc",result="200",le="0.025"} 23| |couchdb_processing_time_bucket\{database="mychannel_",function_name="ReadDoc",result="200",le="0.05"} 30| |couchdb_processing_time_bucket\{database="mychannel_",function_name="ReadDoc",result="200",le="0.1"} 34| |couchdb_processing_time_bucket\{database="mychannel_",function_name="ReadDoc",result="200",le="0.25"} 34| |couchdb_processing_time_bucket\{database="mychannel_",function_name="ReadDoc",result="200",le="0.5"} 34| |couchdb_processing_time_bucket\{database="mychannel_",function_name="ReadDoc",result="200",le="1"} 34| |couchdb_processing_time_bucket\{database="mychannel_",function_name="ReadDoc",result="200",le="2.5"} 34| |couchdb_processing_time_bucket\{database="mychannel_",function_name="ReadDoc",result="200",le="5"} 34| |couchdb_processing_time_bucket\{database="mychannel_",function_name="ReadDoc",result="200",le="10"} 34| |couchdb_processing_time_bucket\{database="mychannel_",function_name="ReadDoc",result="200",le="+Inf"} 34| |couchdb_processing_time_sum\{database="mychannel_",function_name="ReadDoc",result="200"} 0.7605876999999999| |couchdb_processing_time_count\{database="mychannel_",function_name="ReadDoc",result="200"} 34| | | | | | | | | | |couchdb_processing_time_bucket\{database="mychannel_",function_name="ReadDoc",result="404",le="0.005"} 1| | |couchdb_processing_time_bucket\{database="mychannel_",function_name="ReadDoc",result="404",le="0.01"} 1| |couchdb_processing_time_bucket\{database="mychannel_",function_name="ReadDoc",result="404",le="0.025"} 1| |couchdb_processing_time_bucket\{database="mychannel_",function_name="ReadDoc",result="404",le="0.05"} 1| |couchdb_processing_time_bucket\{database="mychannel_",function_name="ReadDoc",result="404",le="0.1"} 1| |couchdb_processing_time_bucket\{database="mychannel_",function_name="ReadDoc",result="404",le="0.25"} 1| |couchdb_processing_time_bucket\{database="mychannel_",function_name="ReadDoc",result="404",le="0.5"} 1| |couchdb_processing_time_bucket\{database="mychannel_",function_name="ReadDoc",result="404",le="1"} 1| |couchdb_processing_time_bucket\{database="mychannel_",function_name="ReadDoc",result="404",le="2.5"} 1| |couchdb_processing_time_bucket\{database="mychannel_",function_name="ReadDoc",result="404",le="5"} 1| |couchdb_processing_time_bucket\{database="mychannel_",function_name="ReadDoc",result="404",le="10"} 1| |couchdb_processing_time_bucket\{database="mychannel_",function_name="ReadDoc",result="404",le="+Inf"} 1| |couchdb_processing_time_sum\{database="mychannel_",function_name="ReadDoc",result="404"} 0.0027322| |couchdb_processing_time_count\{database="mychannel_",function_name="ReadDoc",result="404"} 1|  ></description> </Issue>
