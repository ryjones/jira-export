<Issue id="29256" key="FAB-9404" number="9404" project="10002" reporter="mastersingh24" assignee="mastersingh24" creator="mastersingh24" type="10004" summary="Port conflicts in core/peer tests" priority="2" resolution="10000" status="6" created="2018-04-07 13:17:07.0" updated="2019-03-19 10:57:43.0" resolutiondate="2018-04-07 17:34:00.0" votes="0" watches="1" workflowId="41783"> <description><! CDATA 12:56:18  unit-tests_1  | --- FAIL: TestCreateChainFromBlock (0.15s) 12:56:18  unit-tests_1  | 	assertions.go:247:   	Error Trace:	peer_test.go:107 12:56:18  unit-tests_1  | 		 	Error:      	Received unexpected error: 12:56:18  unit-tests_1  | 		 	            	listen tcp :13611: bind: address already in use 12:56:18  unit-tests_1  | 		 	Test:       	TestCreateChainFromBlock 12:56:18  unit-tests_1  | removing dir = /tmp/peer-fs303180661/ledgersData 12:56:18  unit-tests_1  | 2018-04-07 12:56:14.732 UTC  ledgermgmt  initialize -> INFO 04f Initializing ledger mgmt 12:56:18  unit-tests_1  | 2018-04-07 12:56:14.732 UTC  kvledger  NewProvider -> INFO 050 Initializing ledger provider 12:56:18  unit-tests_1  | 2018-04-07 12:56:14.803 UTC  kvledger  NewProvider -> INFO 051 ledger provider Initialized 12:56:18  unit-tests_1  | 2018-04-07 12:56:14.803 UTC  ledgermgmt  initialize -> INFO 052 ledger mgmt initialized 12:56:18  unit-tests_1  | 2018-04-07 12:56:15.708 UTC  ledgermgmt  CreateLedger -> INFO 053 Creating ledger  testchain  with genesis block 12:56:18  unit-tests_1  | 2018-04-07 12:56:15.713 UTC  fsblkstorage  newBlockfileMgr -> INFO 054 Getting block information from block storage 12:56:18  unit-tests_1  | 2018-04-07 12:56:15.759 UTC  kvledger  CommitWithPvtData -> INFO 055 Channel  testchain : Committed block  0  with 1 transaction(s) 12:56:18  unit-tests_1  | 2018-04-07 12:56:15.770 UTC  ledgermgmt  CreateLedger -> INFO 056 Created ledger  testchain  with genesis block 12:56:18  unit-tests_1  | 2018-04-07 12:56:17.786 UTC  ledgermgmt  CreateLedger -> INFO 057 Creating ledger  channel1  with genesis block 12:56:18  unit-tests_1  | 2018-04-07 12:56:17.791 UTC  fsblkstorage  newBlockfileMgr -> INFO 058 Getting block information from block storage 12:56:18  unit-tests_1  | 2018-04-07 12:56:17.810 UTC  kvledger  CommitWithPvtData -> INFO 059 Channel  channel1 : Committed block  0  with 1 transaction(s) 12:56:18  unit-tests_1  | 2018-04-07 12:56:17.816 UTC  ledgermgmt  CreateLedger -> INFO 05a Created ledger  channel1  with genesis block 12:56:18  unit-tests_1  | panic: runtime error: invalid memory address or nil pointer dereference  recovered  12:56:18  unit-tests_1  | 	panic: runtime error: invalid memory address or nil pointer dereference 12:56:18  unit-tests_1  |  signal SIGSEGV: segmentation violation code=0x1 addr=0x80 pc=0xf5c5fa  12:56:18  unit-tests_1  |  12:56:18  unit-tests_1  | goroutine 190  running : 12:56:18  unit-tests_1  | testing.tRunner.func1(0xc4229dac30) 12:56:18  unit-tests_1  | 	/opt/go/src/testing/testing.go:742 +0x29d 12:56:18  unit-tests_1  | panic(0x10e7a00, 0x1940050) 12:56:18  unit-tests_1  | 	/opt/go/src/runtime/panic.go:505 +0x229 12:56:18  unit-tests_1  | github.com/hyperledger/fabric/gossip/service.(*gossipServiceImpl).updateAnchors(0x0, 0x12e00c0, 0xc423226540) 12:56:18  unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/gossip/service/gossip_service.go:302 +0x3a 12:56:18  unit-tests_1  | github.com/hyperledger/fabric/gossip/service.(*configEventer).ProcessConfigUpdate(0xc42327c200, 0x12e00c0, 0xc423226540) 12:56:18  unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/gossip/service/eventer.go:82 +0x47f 12:56:18  unit-tests_1  | github.com/hyperledger/fabric/core/peer.createChain.func1(0xc424c3d900) 12:56:18  unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/core/peer/peer.go:300 +0x176 12:56:18  unit-tests_1  | github.com/hyperledger/fabric/common/resourcesconfig.(*BundleSource).Update(0xc423226510, 0xc424c3d900) 12:56:18  unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/common/resourcesconfig/bundlesource.go:43 +0x7c 12:56:18  unit-tests_1  | github.com/hyperledger/fabric/common/resourcesconfig.NewBundleSource(0xc424c3d900, 0xc42327c320, 0x4, 0x4, 0xc42280ed00) 12:56:18  unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/common/resourcesconfig/bundlesource.go:35 +0x77 12:56:18  unit-tests_1  | github.com/hyperledger/fabric/core/peer.createChain(0xc420e14020, 0x8, 0x12e6dc0, 0xc422915400, 0xc42500c200, 0x0, 0x0) 12:56:18  unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/core/peer/peer.go:360 +0x548 12:56:18  unit-tests_1  | github.com/hyperledger/fabric/core/peer.CreateChainFromBlock(0xc42500c200, 0x20, 0xc420077d28) 12:56:18  unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/core/peer/peer.go:424 +0x141 12:56:18  unit-tests_1  | github.com/hyperledger/fabric/core/peer.(*peerImpl).CreateChainFromBlock(0x1948160, 0xc42500c200, 0x1229292, 0x16) 12:56:18  unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/core/peer/peer_impl.go:64 +0x3d 12:56:18  unit-tests_1  | github.com/hyperledger/fabric/core/peer_test.TestUpdateRootsFromConfigBlock.func1(0x121d8a8, 0x8, 0xc42500c200) 12:56:18  unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/core/peer/pkg_test.go:170 +0x2a5 12:56:18  unit-tests_1  | github.com/hyperledger/fabric/core/peer_test.TestUpdateRootsFromConfigBlock.func2() 12:56:18  unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/core/peer/pkg_test.go:243 +0x46 12:56:18  unit-tests_1  | github.com/hyperledger/fabric/core/peer_test.TestUpdateRootsFromConfigBlock.func5(0xc4229dac30) 12:56:18  unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/core/peer/pkg_test.go:312 +0x3c8 12:56:18  unit-tests_1  | testing.tRunner(0xc4229dac30, 0xc4201bacf0) 12:56:18  unit-tests_1  | 	/opt/go/src/testing/testing.go:777 +0xd0 12:56:18  unit-tests_1  | created by testing.(*T).Run 12:56:18  unit-tests_1  | 	/opt/go/src/testing/testing.go:824 +0x2e0 12:56:18  unit-tests_1  | FAIL	github.com/hyperledger/fabric/core/peer	5.188s   ></description> </Issue>
