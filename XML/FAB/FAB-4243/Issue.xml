<Issue id="17273" key="FAB-4243" number="4243" project="10002" reporter="chris.elder" assignee="denyeart" creator="chris.elder" type="10004" summary="CouchDB Errors During Stress Operations" priority="3" resolution="10000" status="6" created="2017-05-30 18:44:20.0" updated="2018-07-20 14:13:01.0" resolutiondate="2017-06-20 03:05:30.0" votes="1" watches="8" workflowId="38731" security="10001"> <description><! CDATA CouchDB stress testing/benchmarking fails when the number of parallel transactions per chain exceeds values as low as 20.     The following are example lines showing the third retry for 3 GET operations in the log:     2017-05-30 14:24:07.682 EDT  couchdb  handleRequest -> WARN 2bca Retrying couchdb request in 500ms. Attempt:3  Error:Get http://127.0.0.1:5984/chain_0008/testChaincode%00key_000000241?attachments=true: EOF  2017-05-30 14:24:07.682 EDT  couchdb  handleRequest -> WARN 2bcb Retrying couchdb request in 500ms. Attempt:3  Error:Get http://127.0.0.1:5984/chain_0000/testChaincode%00key_000000093?attachments=true: EOF  2017-05-30 14:24:07.682 EDT  couchdb  handleRequest -> WARN 2bcc Retrying couchdb request in 500ms. Attempt:3  Error:Get http://127.0.0.1:5984/chain_0003/testChaincode%00key_000000297?attachments=true: EOF     The fourth attempt to GET a value will result in the following:     2017-05-30 14:24:07.695 EDT  couchdb  handleRequest -> DEBU 2c45 HTTP Request: GET /chain_0008/testChaincode%00key_000000222?attachments=true HTTP/1.1 | Host: 127.0.0.1:5984 | User-Agent: Go-http-client/1.1 | Accept: multipart/related | Accept-Encoding: gzip |  |   2017-05-30 14:24:07.695 EDT  couchdb  ReadDoc -> DEBU 2c41 couchDBReturn=<nil>  panic: Error:Get http://127.0.0.1:5984/chain_0006/testChaincode%00key_000000269?attachments=true: EOF     The EOF looks like a response from CouchDB indicating that the attachment could not be retrieved.     The environment in testing was a shell script calling Ledger function and CouchDB installed in a docker container.     ></description> </Issue>
