<Issue id="18644" key="FAB-4988" number="4988" project="10002" reporter="ratnakar" assignee="ratnakar" creator="ratnakar" type="10004" summary="fabric-sample fabcar is broken due to old certs" priority="3" resolution="10000" status="6" created="2017-06-24 04:35:02.0" updated="2018-07-20 14:13:35.0" resolutiondate="2017-06-24 14:28:49.0" votes="0" watches="2" workflowId="39261" security="10001"> <description><! CDATA Followed the instructions from this  link|http://hyperledger-fabric.readthedocs.io/en/latest/write_first_app.html#getting-a-test-network     After starting the network using the script *startFabric.sh* , channel creation fails with the following error.  {panel} 2017-06-24 04:25:35.116 UTC  main  main -> ERRO 005 Cannot run peer because error when setting up MSP from directory /etc/hyperledger/msp/users/Admin@org1.example.com: err admin 0 is invalid, validation error Could not obtain certification chain, err A CA certificate cannot be used directly by this MSP {panel} _app is using slightly old certs causing this issue._     *+full logs here:+* {code:java} fabric-samples/fabcar$ ./startFabric.sh   Creating couchdb Creating orderer.example.com Creating peer0.org1.example.com Creating cli 2017-06-24 04:25:35.098 UTC  msp  getMspConfig -> WARN 001 Intermediate certs folder not found at  /etc/hyperledger/msp/users/Admin@org1.example.com/intermediatecerts . Skipping.  stat /etc/hyperledger/msp/users/Admin@org1.example.com/intermediatecerts: no such file or directory  2017-06-24 04:25:35.098 UTC  msp  getMspConfig -> WARN 002 TLS CA certs folder not found at  /etc/hyperledger/msp/users/Admin@org1.example.com/tlsintermediatecerts . Skipping and ignoring TLS intermediate CA folder.  stat /etc/hyperledger/msp/users/Admin@org1.example.com/tlscacerts: no such file or directory  2017-06-24 04:25:35.098 UTC  msp  getMspConfig -> WARN 003 crls folder not found at  /etc/hyperledger/msp/users/Admin@org1.example.com/crls . Skipping.  stat /etc/hyperledger/msp/users/Admin@org1.example.com/crls: no such file or directory  2017-06-24 04:25:35.098 UTC  msp  getMspConfig -> INFO 004 MSP configuration file not found at  /etc/hyperledger/msp/users/Admin@org1.example.com/config.yaml :  stat /etc/hyperledger/msp/users/Admin@org1.example.com/config.yaml: no such file or directory  2017-06-24 04:25:35.116 UTC  main  main -> ERRO 005 Cannot run peer because error when setting up MSP from directory /etc/hyperledger/msp/users/Admin@org1.example.com: err admin 0 is invalid, validation error Could not obtain certification chain, err A CA certificate cannot be used directly by this MSP 2017-06-24 04:25:35.228 UTC  msp  getMspConfig -> WARN 001 Intermediate certs folder not found at  /etc/hyperledger/msp/users/Admin@org1.example.com/intermediatecerts . Skipping.  stat /etc/hyperledger/msp/users/Admin@org1.example.com/intermediatecerts: no such file or directory  2017-06-24 04:25:35.228 UTC  msp  getMspConfig -> WARN 002 TLS CA certs folder not found at  /etc/hyperledger/msp/users/Admin@org1.example.com/tlsintermediatecerts . Skipping and ignoring TLS intermediate CA folder.  stat /etc/hyperledger/msp/users/Admin@org1.example.com/tlscacerts: no such file or directory  2017-06-24 04:25:35.228 UTC  msp  getMspConfig -> WARN 003 crls folder not found at  /etc/hyperledger/msp/users/Admin@org1.example.com/crls . Skipping.  stat /etc/hyperledger/msp/users/Admin@org1.example.com/crls: no such file or directory  2017-06-24 04:25:35.228 UTC  msp  getMspConfig -> INFO 004 MSP configuration file not found at  /etc/hyperledger/msp/users/Admin@org1.example.com/config.yaml :  stat /etc/hyperledger/msp/users/Admin@org1.example.com/config.yaml: no such file or directory  2017-06-24 04:25:35.247 UTC  main  main -> ERRO 005 Cannot run peer because error when setting up MSP from directory /etc/hyperledger/msp/users/Admin@org1.example.com: err admin 0 is invalid, validation error Could not obtain certification chain, err A CA certificate cannot be used directly by this MSP 2017-06-24 04:25:35.389 UTC  msp  getMspConfig -> WARN 001 Intermediate certs folder not found at  /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com/intermediatecerts . Skipping.  stat /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com/intermediatecerts: no such file or directory  2017-06-24 04:25:35.389 UTC  msp  getMspConfig -> WARN 002 TLS CA certs folder not found at  /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com/tlsintermediatecerts . Skipping and ignoring TLS intermediate CA folder.  stat /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com/tlscacerts: no such file or directory  2017-06-24 04:25:35.389 UTC  msp  getMspConfig -> WARN 003 crls folder not found at  /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com/crls . Skipping.  stat /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com/crls: no such file or directory  2017-06-24 04:25:35.389 UTC  msp  getMspConfig -> INFO 004 MSP configuration file not found at  /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com/config.yaml :  stat /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com/config.yaml: no such file or directory  2017-06-24 04:25:35.409 UTC  main  main -> ERRO 005 Cannot run peer because error when setting up MSP from directory /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com: err admin 0 is invalid, validation error Could not obtain certification chain, err A CA certificate cannot be used directly by this MSP 2017-06-24 04:25:35.539 UTC  msp  getMspConfig -> WARN 001 Intermediate certs folder not found at  /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com/intermediatecerts . Skipping.  stat /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com/intermediatecerts: no such file or directory  2017-06-24 04:25:35.539 UTC  msp  getMspConfig -> WARN 002 TLS CA certs folder not found at  /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com/tlsintermediatecerts . Skipping and ignoring TLS intermediate CA folder.  stat /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com/tlscacerts: no such file or directory  2017-06-24 04:25:35.539 UTC  msp  getMspConfig -> WARN 003 crls folder not found at  /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com/crls . Skipping.  stat /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com/crls: no such file or directory  2017-06-24 04:25:35.539 UTC  msp  getMspConfig -> INFO 004 MSP configuration file not found at  /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com/config.yaml :  stat /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com/config.yaml: no such file or directory  2017-06-24 04:25:35.559 UTC  main  main -> ERRO 005 Cannot run peer because error when setting up MSP from directory /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com: err admin 0 is invalid, validation error Could not obtain certification chain, err A CA certificate cannot be used directly by this MSP 2017-06-24 04:25:45.716 UTC  msp  getMspConfig -> WARN 001 Intermediate certs folder not found at  /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com/intermediatecerts . Skipping.  stat /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com/intermediatecerts: no such file or directory  2017-06-24 04:25:45.716 UTC  msp  getMspConfig -> WARN 002 TLS CA certs folder not found at  /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com/tlsintermediatecerts . Skipping and ignoring TLS intermediate CA folder.  stat /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com/tlscacerts: no such file or directory  2017-06-24 04:25:45.716 UTC  msp  getMspConfig -> WARN 003 crls folder not found at  /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com/crls . Skipping.  stat /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com/crls: no such file or directory  2017-06-24 04:25:45.716 UTC  msp  getMspConfig -> INFO 004 MSP configuration file not found at  /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com/config.yaml :  stat /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com/config.yaml: no such file or directory  2017-06-24 04:25:45.739 UTC  main  main -> ERRO 005 Cannot run peer because error when setting up MSP from directory /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com: err admin 0 is invalid, validation error Could not obtain certification chain, err A CA certificate cannot be used directly by this MSP  Total execution time : 24 secs ... {code}    ></description> </Issue>
