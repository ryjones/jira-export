<Issue id="32234" key="FAB-11327" number="11327" project="10002" reporter="sykesm" assignee="nirro" creator="sykesm" type="10004" summary="Intermittent failures in PrivateData-EndToEnd integration test" priority="3" resolution="10000" status="6" created="2018-07-26 13:53:28.0" updated="2019-03-19 10:57:40.0" resolutiondate="2018-08-07 19:13:41.0" votes="0" watches="3" workflowId="43482"> <description><! CDATA Observed the following test failure in CI:  {code} 00:27:07.167  e  peer-0  2018-07-26 08:15:40.361 UTC  chaincode  HandleTransaction -> ERRO 395  2859d3f9  Failed to handle GET_STATE. error: private data matching public hash version is not available. Public hash version = &version.Height{BlockNum:0x4, TxNum:0x0}, Private data version = (*version.Height)(nil) 00:27:07.168  e  peer-0  github.com/hyperledger/fabric/core/chaincode.(*Handler).HandleGetState 00:27:07.168  e  peer-0  	/w/workspace/fabric-verify-integration-tests-x86_64/gopath/src/github.com/hyperledger/fabric/core/chaincode/handler.go:543 00:27:07.169  e  peer-0  github.com/hyperledger/fabric/core/chaincode.(*Handler).HandleGetState-fm 00:27:07.169  e  peer-0  	/w/workspace/fabric-verify-integration-tests-x86_64/gopath/src/github.com/hyperledger/fabric/core/chaincode/handler.go:196 00:27:07.170  e  peer-0  github.com/hyperledger/fabric/core/chaincode.(*Handler).HandleTransaction 00:27:07.170  e  peer-0  	/w/workspace/fabric-verify-integration-tests-x86_64/gopath/src/github.com/hyperledger/fabric/core/chaincode/handler.go:241 00:27:07.171  e  peer-0  runtime.goexit 00:27:07.171  e  peer-0  	/opt/go/go1.10.linux.amd64/src/runtime/asm_amd64.s:2361 00:27:07.172  e  peer-0  GET_STATE failed: transaction ID: 2859d3f9df6c9d2a5b6aca00f10675ea40c9b60484c83160661cdd177217f76e 00:27:07.172  e  peer-0  github.com/hyperledger/fabric/core/chaincode.(*Handler).HandleTransaction 00:27:07.173  e  peer-0  	/w/workspace/fabric-verify-integration-tests-x86_64/gopath/src/github.com/hyperledger/fabric/core/chaincode/handler.go:245 00:27:07.173  e  peer-0  runtime.goexit 00:27:07.174  e  peer-0  	/opt/go/go1.10.linux.amd64/src/runtime/asm_amd64.s:2361 00:27:07.174  e  peer-0  2018-07-26 08:15:40.362 UTC  endorser  ProcessProposal -> ERRO 396  testchannel  2859d3f9  simulateProposal() resulted in chaincode name:"marblesp"  response status 500 for txid: 2859d3f9df6c9d2a5b6aca00f10675ea40c9b60484c83160661cdd177217f76e 00:27:07.175  e  query  Error: endorsement failure during query. response: status:500 message:"{\"Error\":\"Failed to get private details for marble1: GET_STATE failed: transaction ID: 2859d3f9df6c9d2a5b6aca00f10675ea40c9b60484c83160661cdd177217f76e: private data matching public hash version is not available. Public hash version = &version.Height{BlockNum:0x4, TxNum:0x0}, Private data version = (*version.Height)(nil)\"}"  00:27:07.176 • Failure  102.176 seconds  00:27:07.176 PrivateData-EndToEnd network partition with respect of private data  It  verifies private data not distributed when there is network partition  00:27:07.177 /w/workspace/fabric-verify-integration-tests-x86_64/gopath/src/github.com/hyperledger/fabric/integration/pvtdata/e2e_test.go:407 00:27:07.177  00:27:07.177   Timed out after 60.043s. 00:27:07.177   Got stuck at: 00:27:07.177       2018-07-26 08:15:40.328 UTC  viperutil  getKeysRecursively -> DEBU 001 Found map string interface{} value for peer.BCCSP {code}  Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-integration-tests-x86_64/923     ></description> </Issue>
