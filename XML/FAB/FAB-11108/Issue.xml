<Issue id="31753" key="FAB-11108" number="11108" project="10002" reporter="stevenxu" creator="stevenxu" type="10004" summary="launchAndWaitForRegister failed Timeout expired while starting chaincode" priority="2" resolution="10001" status="6" created="2018-07-10 09:43:30.0" updated="2018-12-01 12:04:02.0" resolutiondate="2018-12-01 12:04:02.0" votes="0" watches="1" workflowId="35933"> <description><! CDATA I deployed fabric v1.0.0, one organization with 4 peer and 3 orderer, and then we test HA for fabric, we invoke the chaincode successfully after deployed, then we stop 3 peer and then invoke chaincode, also work, but when I start the stoped 3 peer and then stop another peer, I find invoke the chaincode failed, the log from one peer are attached:     \{"log":"2018-07-09 09:47:28.875 UTC  kvledger  Commit -\u003e INFO 041\u001b 0m Channel  pubchain : Created block  44  with 1 transaction(s)\n","stream":"stderr","time":"2018-07-09T09:47:28.876088744Z"} \{"log":"\u001b 33m2018-07-09 09:47:35.239 UTC  gossip/state  handleStateResponse -\u003e WARN 042\u001b 0m Payload with sequence number 45 was received earlier\n","stream":"stderr","time":"2018-07-09T09:47:35.23993663Z"} \{"log":"\u001b 33m2018-07-09 09:47:45.249 UTC  gossip/state  handleStateResponse -\u003e WARN 043\u001b 0m Payload with sequence number 45 was received earlier\n","stream":"stderr","time":"2018-07-09T09:47:45.249787759Z"} \{"log":"\u001b 33m2018-07-09 09:47:55.260 UTC  gossip/state  handleStateResponse -\u003e WARN 044\u001b 0m Payload with sequence number 45 was received earlier\n","stream":"stderr","time":"2018-07-09T09:47:55.260823908Z"} \{"log":"\u001b 33m2018-07-09 09:48:05.270 UTC  gossip/state  handleStateResponse -\u003e WARN 045\u001b 0m Payload with sequence number 45 was received earlier\n","stream":"stderr","time":"2018-07-09T09:48:05.270697312Z"} \{"log":"\u001b 33m2018-07-09 09:48:15.280 UTC  gossip/state  handleStateResponse -\u003e WARN 046\u001b 0m Payload with sequence number 45 was received earlier\n","stream":"stderr","time":"2018-07-09T09:48:15.280769438Z"} \{"log":"\u001b 33m2018-07-09 09:48:25.293 UTC  gossip/state  handleStateResponse -\u003e WARN 047\u001b 0m Payload with sequence number 45 was received earlier\n","stream":"stderr","time":"2018-07-09T09:48:25.293730135Z"} \{"log":"\u001b 33m2018-07-09 09:48:35.303 UTC  gossip/state  handleStateResponse -\u003e WARN 048\u001b 0m Payload with sequence number 45 was received earlier\n","stream":"stderr","time":"2018-07-09T09:48:35.304151553Z"} \{"log":"\u001b 33m2018-07-09 09:48:45.314 UTC  gossip/state  handleStateResponse -\u003e WARN 049\u001b 0m Payload with sequence number 45 was received earlier\n","stream":"stderr","time":"2018-07-09T09:48:45.314596926Z"} \{"log":"\u001b 33m2018-07-09 09:48:55.323 UTC  gossip/state  handleStateResponse -\u003e WARN 04a\u001b 0m Payload with sequence number 45 was received earlier\n","stream":"stderr","time":"2018-07-09T09:48:55.32396509Z"} \{"log":"\u001b 33m2018-07-09 09:49:05.335 UTC  gossip/state  handleStateResponse -\u003e WARN 04b\u001b 0m Payload with sequence number 45 was received earlier\n","stream":"stderr","time":"2018-07-09T09:49:05.33534326Z"} \{"log":"\u001b 33m2018-07-09 09:49:15.346 UTC  gossip/state  handleStateResponse -\u003e WARN 04c\u001b 0m Payload with sequence number 45 was received earlier\n","stream":"stderr","time":"2018-07-09T09:49:15.346605507Z"} \{"log":"\u001b 33m2018-07-09 09:49:25.356 UTC  gossip/state  handleStateResponse -\u003e WARN 04d\u001b 0m Payload with sequence number 45 was received earlier\n","stream":"stderr","time":"2018-07-09T09:49:25.356562117Z"} \{"log":"\u001b 33m2018-07-09 09:49:35.366 UTC  gossip/state  handleStateResponse -\u003e WARN 04e\u001b 0m Payload with sequence number 45 was received earlier\n","stream":"stderr","time":"2018-07-09T09:49:35.366396881Z"} \{"log":"\u001b 33m2018-07-09 09:49:45.377 UTC  gossip/state  handleStateResponse -\u003e WARN 04f\u001b 0m Payload with sequence number 45 was received earlier\n","stream":"stderr","time":"2018-07-09T09:49:45.377264305Z"} \{"log":"\u001b 33m2018-07-09 09:49:55.387 UTC  gossip/state  handleStateResponse -\u003e WARN 050\u001b 0m Payload with sequence number 45 was received earlier\n","stream":"stderr","time":"2018-07-09T09:49:55.387663413Z"} \{"log":"\u001b 33m2018-07-09 09:50:05.398 UTC  gossip/state  handleStateResponse -\u003e WARN 051\u001b 0m Payload with sequence number 45 was received earlier\n","stream":"stderr","time":"2018-07-09T09:50:05.398221255Z"} \{"log":"\u001b 33m2018-07-09 09:50:15.413 UTC  gossip/state  handleStateResponse -\u003e WARN 052\u001b 0m Payload with sequence number 45 was received earlier\n","stream":"stderr","time":"2018-07-09T09:50:15.413370234Z"} \{"log":"\u001b 33m2018-07-09 09:50:25.423 UTC  gossip/state  handleStateResponse -\u003e WARN 053\u001b 0m Payload with sequence number 45 was received earlier\n","stream":"stderr","time":"2018-07-09T09:50:25.423362688Z"} \{"log":"\u001b 33m2018-07-09 09:50:35.434 UTC  gossip/state  handleStateResponse -\u003e WARN 054\u001b 0m Payload with sequence number 45 was received earlier\n","stream":"stderr","time":"2018-07-09T09:50:35.434440066Z"} \{"log":"\u001b 33m2018-07-09 09:50:45.444 UTC  gossip/state  handleStateResponse -\u003e WARN 055\u001b 0m Payload with sequence number 45 was received earlier\n","stream":"stderr","time":"2018-07-09T09:50:45.445061855Z"} \{"log":"\u001b 33m2018-07-09 09:50:55.457 UTC  gossip/state  handleStateResponse -\u003e WARN 056\u001b 0m Payload with sequence number 45 was received earlier\n","stream":"stderr","time":"2018-07-09T09:50:55.457556678Z"} \{"log":"\u001b 33m2018-07-09 09:51:05.468 UTC  gossip/state  handleStateResponse -\u003e WARN 057\u001b 0m Payload with sequence number 45 was received earlier\n","stream":"stderr","time":"2018-07-09T09:51:05.468371806Z"} \{"log":"\u001b 33m2018-07-09 09:51:15.478 UTC  gossip/state  handleStateResponse -\u003e WARN 058\u001b 0m Payload with sequence number 45 was received earlier\n","stream":"stderr","time":"2018-07-09T09:51:15.478780157Z"} \{"log":"\u001b 33m2018-07-09 09:51:25.489 UTC  gossip/state  handleStateResponse -\u003e WARN 059\u001b 0m Payload with sequence number 45 was received earlier\n","stream":"stderr","time":"2018-07-09T09:51:25.489576225Z"} \{"log":"\u001b 33m2018-07-09 09:51:35.500 UTC  gossip/state  handleStateResponse -\u003e WARN 05a\u001b 0m Payload with sequence number 45 was received earlier\n","stream":"stderr","time":"2018-07-09T09:51:35.500314896Z"} \{"log":"\u001b 33m2018-07-09 09:51:45.509 UTC  gossip/state  handleStateResponse -\u003e WARN 05b\u001b 0m Payload with sequence number 45 was received earlier\n","stream":"stderr","time":"2018-07-09T09:51:45.509986275Z"} \{"log":"\u001b 33m2018-07-09 09:51:55.523 UTC  gossip/state  handleStateResponse -\u003e WARN 05c\u001b 0m Payload with sequence number 45 was received earlier\n","stream":"stderr","time":"2018-07-09T09:51:55.523704458Z"} \{"log":"\u001b 33m2018-07-09 09:52:05.537 UTC  gossip/state  handleStateResponse -\u003e WARN 05d\u001b 0m Payload with sequence number 45 was received earlier\n","stream":"stderr","time":"2018-07-09T09:52:05.537837682Z"} \{"log":"\u001b 33m2018-07-09 09:52:15.547 UTC  gossip/state  handleStateResponse -\u003e WARN 05e\u001b 0m Payload with sequence number 45 was received earlier\n","stream":"stderr","time":"2018-07-09T09:52:15.547794714Z"} \{"log":"\u001b 33m2018-07-09 09:52:25.559 UTC  gossip/state  handleStateResponse -\u003e WARN 05f\u001b 0m Payload with sequence number 45 was received earlier\n","stream":"stderr","time":"2018-07-09T09:52:25.559325165Z"} \{"log":"\u001b 31m2018-07-09 09:52:27.993 UTC  chaincode  processStream -\u003e ERRO 060\u001b 0m Error handling chaincode support stream: rpc error: code = Canceled desc = context canceled\n","stream":"stderr","time":"2018-07-09T09:52:27.993555871Z"} \{"log":"\u001b 31m2018-07-09 09:52:28.147 UTC  chaincode  Launch -\u003e ERRO 061\u001b 0m launchAndWaitForRegister failed Timeout expired while starting chaincode syccMember:1.0(networkid:dev,peerid:peer2.org1.arxanfintech.com,tx:48517846ccd2f17c7f9ce203de28d4dfaffe42f8ada3b8a0f46babbf162a9b69)\n","stream":"stderr","time":"2018-07-09T09:52:28.148155086Z"} \{"log":"\u001b 31m2018-07-09 09:52:28.148 UTC  chaincode  ExecuteChaincode -\u003e ERRO 062\u001b 0m Error executing chaincode: Timeout expired while starting chaincode syccMember:1.0(networkid:dev,peerid:peer2.org1.arxanfintech.com,tx:48517846ccd2f17c7f9ce203de28d4dfaffe42f8ada3b8a0f46babbf162a9b69)\n","stream":"stderr","time":"2018-07-09T09:52:28.148305481Z"} \{"log":"\u001b 31m2018-07-09 09:52:28.149 UTC  endorser  simulateProposal -\u003e ERRO 063\u001b 0m failed to invoke chaincode name:\"syccMember\" on transaction 48517846ccd2f17c7f9ce203de28d4dfaffe42f8ada3b8a0f46babbf162a9b69, error: Error executing chaincode: Timeout expired while starting chaincode syccMember:1.0(networkid:dev,peerid:peer2.org1.arxanfintech.com,tx:48517846ccd2f17c7f9ce203de28d4dfaffe42f8ada3b8a0f46babbf162a9b69)\n","stream":"stderr","time":"2018-07-09T09:52:28.149514747Z"} \{"log":"\u001b 31m2018-07-09 09:52:28.447 UTC  chaincode  Launch -\u003e ERRO 064\u001b 0m launchAndWaitForRegister failed Timeout expired while starting chaincode syccMember:1.0(networkid:dev,peerid:peer2.org1.arxanfintech.com,tx:4ba01b6b2e82b92005e6cbf2fe1fbb8020ae06eb2d245361fe6f6878e91e18b9)\n","stream":"stderr","time":"2018-07-09T09:52:28.447962173Z"} \{"log":"\u001b 31m2018-07-09 09:52:28.447 UTC  chaincode  ExecuteChaincode -\u003e ERRO 065\u001b 0m Error executing chaincode: Timeout expired while starting chaincode syccMember:1.0(networkid:dev,peerid:peer2.org1.arxanfintech.com,tx:4ba01b6b2e82b92005e6cbf2fe1fbb8020ae06eb2d245361fe6f6878e91e18b9)\n","stream":"stderr","time":"2018-07-09T09:52:28.449064003Z"} \{"log":"\u001b 31m2018-07-09 09:52:28.449 UTC  endorser  simulateProposal -\u003e ERRO 066\u001b 0m failed to invoke chaincode name:\"syccMember\" on transaction 4ba01b6b2e82b92005e6cbf2fe1fbb8020ae06eb2d245361fe6f6878e91e18b9, error: Error executing chaincode: Timeout expired while starting chaincode syccMember:1.0(networkid:dev,peerid:peer2.org1.arxanfintech.com,tx:4ba01b6b2e82b92005e6cbf2fe1fbb8020ae06eb2d245361fe6f6878e91e18b9)\n","stream":"stderr","time":"2018-07-09T09:52:28.449509848Z"}        ></description> </Issue>
