<Issue id="40216" key="FAB-15584" number="15584" project="10002" reporter="gennadyl" assignee="gennadyl" creator="gennadyl" type="10003" summary="Adding timestamp field to block header" priority="3" status="10000" created="2019-05-30 10:58:13.0" updated="2019-06-24 08:47:36.0" votes="0" watches="4" workflowId="53710"> <description><! CDATA To make any time based smart contracts Fabric right now missing notation of network time, like Close Time in Stellar, and Network-adjusted time in Bitcoin (and Ethereum?).  Easiest way to do it is to add timestamp of block creation time to block header. In addition, latest known block timestamp should be available both to client side and to chaincode using ChaincodeStub   This timestamp can be used to implement time based smart contracts, certificate expiration (FAB-3678) and implementing Atomic Swap as first class citizen in Fabric (FAB-13437)  For current orderers types implementation is straight forward - during block header creation, block_time set as max of previous_block_time + 1 millisecond and current_creator_time. Once BFT style consensus introduced, this timestamp field will became part of block consensus.  The situation that no blocks generated in network for significant period of time can be handled quite easy - if network time important in given channel, simple chaincode with one method that only change single value, installed to the channel. Each time client suspect that network stalled - no new blocks and client want to make time based step, it just call this chaincode and it will cause new block creation.    ></description> </Issue>
