<Issue id="15614" key="FAB-3034" number="3034" project="10002" reporter="yacovm" assignee="yacovm" creator="yacovm" type="10004" summary="Prevent recursion in client.go in delivery service when used recursively" priority="3" resolution="10000" status="6" created="2017-04-07 07:20:50.0" updated="2018-07-20 14:12:08.0" resolutiondate="2017-04-13 08:04:31.0" votes="0" watches="2" workflowId="37921"> <description><! CDATA The client in the delivery service package encapsulates a delivery stream from the peer to the ordering service. It accepts a function in construction time that is invoked upon each successful (re)connection to the ordering service. The purpose of this design, is to make the peer send a SeekInfo message to the orderer, if it disconnects (or, if the orderer crashes and the peer connects to a new orderer). This function may also use the client *itself*.  There is a bug that prevented the usage of the client in the function, because the connection reference and the stream reference were updated only after a successful invocation of the function, and thus- caused recursive reconnection attempts.  ></description> </Issue>
