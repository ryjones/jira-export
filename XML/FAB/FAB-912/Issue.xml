<Issue id="13243" key="FAB-912" number="912" project="10002" reporter="scottz" creator="scottz" type="10004" summary="Tx lost from all peers after stop vp1 vp2 vp3, deploy, restart vp1 vp2, invokes" priority="3" resolution="10000" status="6" created="2016-10-31 15:02:26.0" updated="2018-07-20 14:10:40.0" resolutiondate="2017-04-07 20:06:06.0" votes="0" watches="1" workflowId="36589"> <description><! CDATA Transactions that are sent to all active peers after restart and deployment are lost.   Found in v0.6 testing. Similar to FAB-333 and FAB-335, but not same. This is similar to FAB-911, but here, vp0 is not one of the stopped peers, as was done in FAB-911.  Scenario: CAT_409_S1S2S3_D_I_R1R2_IQ.go Bring up a 4 peer network with security using example02. Stop peers vp1 vp2 vp3. 100 Invokes to vp0. Deploy new instance of chaincode, to vp0. a=b=10000 Wait over 5 minutes. Start peers vp1 vp2. Send 7 Invokes: 1 to vp0, 2 to vp1, 4 to vp2.Scenario: Query, Request another 100 Invokes. Those first 7 invokes sent to vp0,vp1,vp2 were lost.  We realize all transactions are not guaranteed to be processed, and observed the network peers did keep consensus, but some other scenarios do not exhibit the problem. In future we can enhance test case to check for event notification to confirm whether or not the fabric knew they were being dropped, but nevertheless it seems odd that the first groups of transactions were dropped, so long after the restarts happened.   ></description> </Issue>
