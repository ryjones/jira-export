<Issue id="42942" key="FAB-16907" number="16907" project="10002" reporter="caod" creator="caod" type="10002" summary="Split validation/commit path out from gossip" priority="3" status="10100" created="2019-10-22 14:35:47.0" updated="2020-11-09 15:17:10.0" votes="0" watches="3" workflowId="56044"> <description><! CDATA Currently validation/commit requires Gossiping the block to Gossip and then running through gossip state's deliverPayload -> coordinator.StoreBlock. For blocks that originate from the ordering service for dissemination, there shouldn't be a need to Gossip to ourselves first just to hit this path. Lets move coordinator's StoreBlock functionality out into a shared path on a BlocksRouter that both Gossip can use as well as the BlocksProvider so that BlocksProvider no longer has a dependency on going through Gossip first to commit the block. This has some implications for how we want to Gossip the message after committing in StoreBlock and preventing a commit loop that keeps going back to Gossip for dissemination, but there are various ways we can tackle this whether by storing some metadata indicating the source of where the block came from, or splitting out the AddPayload and DeliverPayload functionality so it never loops back on itself.  Â   /cc  ~jyellick   ~denyeart   ~sykesm   ~mastersingh24   ></description> </Issue>
