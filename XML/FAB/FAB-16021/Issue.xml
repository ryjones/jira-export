<Issue id="41303" key="FAB-16021" number="16021" project="10002" reporter="suryalnvs" assignee="denyeart" creator="suryalnvs" type="10004" summary="Peer ledger rollback and recommitting blocks to peer taking long" priority="3" resolution="10203" status="6" created="2019-07-18 14:47:05.0" updated="2019-12-02 14:43:26.0" resolutiondate="2019-12-02 14:43:26.0" votes="0" watches="5" workflowId="54308"> <description><! CDATA *Summary:*  Rollback peer ledger with thousands of blocks and recommitting those blocks to peer is slow  *Steps:* # Create a network with 2 orgs and 1 peer in each with data persistence enabled # Create a channel, join both peers, install and instantiate samplecc # Start sending traffic for 500000 transactions at every 200mSec with 4 to 8 bytes payload # After midway through (say 250000 transactions), get the block height on the peer (will have around 29k blocks (with batch size 500 and batch timeout 2s) and then take down peer from org2  # Launch fabric tools container with peer node rollback -c <channel name> -b 10 # After rolling back to 10th back, bring back the peer of org2 and it will start recommitting the blocks from 10  *Observed:* To rollback to 10th block, it took 40 minutes and to recommit 29k blocks, peer took 78 minutes  ></description> </Issue>
