<Issue id="36036" key="FAB-13215" number="13215" project="10002" reporter="wenjian" assignee="bur" creator="wenjian" type="10001" summary="Delete token output key to mark it has been spent" priority="3" resolution="10000" status="6" created="2018-12-10 15:57:02.0" updated="2019-12-02 18:05:57.0" resolutiondate="2019-03-11 08:43:44.0" votes="0" watches="2" workflowId="47548"> <description><! CDATA Current token transaction design:  When a token output is spent, token processor creates a new key (tokenInputXXX) to indicate the output is spent. This incurs # extra ledger calls when committing a token transaction, # cause confusion in relationship between tokenInputXXX and tokenOutputXXX, # the size of state db keeps growing.  An alternative approach is to delete the token output key to mark that that output is not available anymore. State DB then plays the role of the unspent tokens pool.  Note that this delete only impacts statedb. Fabric will still keeps the complete transaction history.      ></description> </Issue>
