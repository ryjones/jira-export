<Issue id="40172" key="FAB-15563" number="15563" project="10002" reporter="guoger" creator="guoger" type="10002" summary="Stop using real timer for eviction suspector in Raft chain" priority="4" status="10100" created="2019-05-28 07:13:59.0" updated="2019-05-28 07:16:05.0" votes="0" watches="2" workflowId="53074"> <description><! CDATA Eviction Suspector currently uses real timer to schedule suspicion check, see  this|https://github.com/hyperledger/fabric/blob/98f61f76c1e23054736fa0ef71f7fac4cea02043/orderer/consensus/etcdraft/util.go#L560   It is hard to write deterministic UT for chain and suspector together, since chain is using fake clock.  Also, when an UT is slow (typically due to slow disk write), an suspicion may be unexpectedly triggered, which calls block puller. If the chain UT happens to assert on the number of block puller call counts, then it's flaky. For  example|https://github.com/hyperledger/fabric/blob/98f61f76c1e23054736fa0ef71f7fac4cea02043/orderer/consensus/etcdraft/chain_test.go#L3171   opinions?  ~yacovm   ~jyellick   ></description> </Issue>
