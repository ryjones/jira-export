<Issue id="29940" key="FAB-9877" number="9877" project="10002" reporter="latitiah" assignee="muralisr" creator="latitiah" type="10004" summary="Chaincode container not starting" priority="1" resolution="10000" status="6" created="2018-05-03 23:08:25.0" updated="2018-07-20 14:16:33.0" resolutiondate="2018-05-09 18:40:50.0" votes="1" watches="7" workflowId="42062"> <description><! CDATA *fabric commit: 3f782c9740708df3b1ff74efe9c3f4a654721c34*  I am executing peers and a solo orderer locally.  I am seeing an error where the chaincode container is not starting for one of my peers - or to be more exact - the container does not always consistently come up for my peers.  {code} FABRIC_CFG_PATH="org1.example.com_0" CORE_PEER_MSPCONFIGPATH="crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp" peer chaincode instantiate -n mycc -v 1.0 -o 127.0.0.1:7050 -C testchannel -c {"Args": "init","a","100","b","200" } -P OR ('Org1MSP.member','Org2MSP.member') {code}  When performing an instantiation (using CLI commands for the peer that I've designated as peer1), I notice that I see a process for what I've designated as peer2.  Instantiation command:  {code} root     18950  0.4  0.3  70440 15940 ?        Ssl  22:09   0:00 chaincode -peer.address=10.0.2.15:8052 {code}  I then see the following error in the log for peer1: {code}  e  peer  2018-05-03 22:09:36.475 UTC  golang-platform  GenerateDockerBuild -> INFO 032 building chaincode with ldflagsOpt: '-ldflags "-linkmode external -extldflags '-static'"'  e  peer  2018-05-03 22:09:36.475 UTC  golang-platform  GenerateDockerBuild -> INFO 033 building chaincode with tags:  experimental  e  peer  2018-05-03 22:09:46.659 UTC  chaincode-platform  func1 -> ERRO 034 Failed to generate platform-specific docker build: Error returned from build: 137 ""  e  peer  2018-05-03 22:09:46.659 UTC  dockercontroller  deployImage -> ERRO 035 Error building images: Failed to generate platform-specific docker build: Error returned from build: 137 ""  e  peer  2018-05-03 22:09:46.659 UTC  dockercontroller  deployImage -> ERRO 036 Image Output:  e  peer  ********************  e  peer    e  peer  ********************  e  peer  2018-05-03 22:09:46.684 UTC  chaincode  Launch -> ERRO 037 startAndWiatForReady failed: Failed to generate platform-specific docker build: Error returned from build: 137 ""  e  peer  error starting container  e  peer  error starting container  e  peer  2018-05-03 22:09:46.684 UTC  chaincode  ExecuteChaincode -> ERRO 038 Failed to generate platform-specific docker build: Error returned from build: 137 ""  e  peer  error starting container  e  peer  error starting container  e  peer  error invoking chaincode  e  peer  2018-05-03 22:09:46.684 UTC  endorser  simulateProposal -> ERRO 039  testchannel  267195f8  failed to invoke chaincode name:"mycc" , error: Failed to generate platform-specific docker build: Error returned from build: 137 ""  e  peer  error starting container  e  peer  error starting container  e  peer  error invoking chaincode {code}  This issue is not consistent, but what is consistent is if I see both chaincode processes from the single instantiation, everything works as expected. That is, everything is fine if I see the following:  {code} root     29888  0.3  0.3 151312 14616 ?        Ssl  20:24   0:00 chaincode -peer.address=10.0.2.15:8052 root     30026  0.8  0.3  69384 14800 ?        Ssl  20:25   0:00 chaincode -peer.address=10.0.2.15:7052 {code}  Problems/Questions: 1. Why is there chaincode starting for the second peer when I've pass creds for the first peer? 2. The first peer chaincode not consistently starting, but sometimes does and sometimes doesn't. (Mostly today, it doesn't.)   ></description> </Issue>
