<Issue id="21036" key="FAB-6325" number="6325" project="10002" reporter="bur" assignee="manish-sethi" creator="bur" type="10004" summary="Misleading documentation and usage of kv_rwset.proto" priority="4" resolution="10000" status="6" created="2017-09-28 08:19:02.0" updated="2018-07-20 14:14:30.0" resolutiondate="2017-10-18 18:43:21.0" votes="0" watches="3" workflowId="40106"> <description><! CDATA When accessing the version of a readset the result is of type version as defined in kv_rwset.proto. A version consists of a block number and the position(index) of the transaction that is updated the value.  Block number and tx indexes are monotonic increasing integers starting with 0. However, the documentation of kv_rwset.proto states the following:  {code:java} // Version encapsulates the version of a Key // A version of a committed key is maintained as the height of the transaction that committed the key. // The height is represenetd as a tuple <blockNum, txNum> where the txNum is the height of the transaction // (starting with 1) within block {code} This seems incorrect.   Moreover, another issue with with the version proto is that usage is not well documented. When the blockNum or txNum is equals zero, than the fields of version are nil, which may lead to an error. There should be a comment, that proto getters should be used instead. This issue also effects the String() methods.        ></description> </Issue>
