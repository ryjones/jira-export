<Issue id="40137" key="FAB-15543" number="15543" project="10002" reporter="mistogans" assignee="wenjian" creator="mistogans" type="10004" summary="Instantiating chaincode with incorrect collections config causes peers to crash" priority="2" resolution="10000" status="6" created="2019-05-24 15:50:39.0" updated="2019-07-31 13:21:45.0" resolutiondate="2019-07-31 13:21:20.0" votes="0" watches="9" workflowId="53038" security="10000"> <description><! CDATA Instantiating chaincode with collections config that has a policy that includes an index out of bounds of the identities field will cause commiting peer to panick and crash.  Logs from the peer before it dies have been attached.Â   Reproduction steps: # I built a collections config file with 22 identities by in the policy section I specified a "signed-by" of index 22 (Maximum should be 21). # I tried to instantiate the chaincode with the fabric SDK and it sent the proposal response to the orderer. The block was disseminated to the peers. # When the peers tried to commit the block, it failed and panicked. The peers are then unable to recover as they will try to commit the block.  Expected behaviour:  I'm not too sure what should the correct behaviour be, but it should be able to recover from trying to commit that block, or the endorsing peers on the proposal should reject the proposal.  ></description> </Issue>
