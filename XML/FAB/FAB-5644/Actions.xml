<Action id="45561" issue="19992" author="dainliff" type="comment" body=" ~newint  has any work been done on this? If not I&apos;d be happy to take over this issue as we need it for a project we&apos;re on." created="2018-06-06 05:59:25.0" updateauthor="dainliff" updated="2018-06-06 05:59:25.0"/>
<Action id="45773" issue="19992" author="newint" type="comment" created="2018-06-11 07:16:54.0" updateauthor="newint" updated="2018-06-11 07:16:54.0"> <body><! CDATA Hello  ~dainliff , sorry for delay in response. No work was done on this topic, so you can take it. I started to implement it, but then I realized that there is another more flexible way to test.  I created my ownMockStub, inserted in it shimMockStub and implemented in ownMockStub all necessary methods which I wanted.  ></body> </Action>
<Action id="48630" issue="19992" author="edevil" type="comment" created="2018-08-09 13:42:55.0" updateauthor="edevil" updated="2018-08-09 13:42:55.0"> <body><! CDATA The ABAC-related functions in the "cid" module rely on an implementation of getCreator() by the stub  https://github.com/hyperledger/fabric/blob/release-1.2/core/chaincode/lib/cid/cid.go#L173.  Without this support in MockStub we are unable to test chaincodes that want to make use of ABAC.  On another note,  ~newint , are you able to share the code that you ended up using? Thanks.  ></body> </Action>
<Action id="48696" issue="19992" author="newint" type="comment" created="2018-08-10 09:38:13.0" updateauthor="newint" updated="2018-08-10 09:38:13.0"> <body><! CDATA Hello,  ~edevil  That test code was written previous year during my work in IBM. You can ask  ~angelo.decaro   or Jens (in his team) for creator mocking code share. I will tell them about your request.  Best regards, Ilie   ></body> </Action>
<Action id="48697" issue="19992" author="edevil" type="comment" body="Thank you  ~newint . Hello  ~angelo.decaro . :)" created="2018-08-10 09:41:26.0" updateauthor="edevil" updated="2018-08-10 09:41:26.0"/>
<Action id="48707" issue="19992" author="angelo.decaro" type="comment" body="Hi  ~edevil , why do you want to pass an msp.SerializedIdentity rather than just   byte?" created="2018-08-10 11:58:21.0" updateauthor="angelo.decaro" updated="2018-08-10 11:58:21.0"/>
<Action id="48709" issue="19992" author="edevil" type="comment" created="2018-08-10 12:17:08.0" updateauthor="edevil" updated="2018-08-10 12:17:08.0"> <body><! CDATA Hello  ~angelo.decaro . That was  ~newint 's proposal, I think.  I would just like a way to use MockStub to test chaincode methods that make use of the `cid` module for ABAC.  ></body> </Action>
<Action id="53408" issue="19992" author="yuki-kon" type="comment" created="2018-11-13 22:04:14.0" updateauthor="yuki-kon" updated="2018-11-13 22:04:14.0"> <body><! CDATA Hello  ~edevil  and  ~angelo.decaro . I also want to use MockStub to test chaincode with ABAC. I added some modification to mockstub.go and used it for a chaincode with ABAC. Can I take this JIRA and submit a CR? I will also submit a sample test code for fabric-samples/chaincode/abac.  +Change in fabric/core/chaincode/shim/mockstub.go+  Add `Creator   byte` to the struct `MockStub`. https://github.com/hyperledger/fabric/blob/master/core/chaincode/shim/mockstub.go#L29-L70  Implement GetCreator(). This function returns stub.Creator. https://github.com/hyperledger/fabric/blob/master/core/chaincode/shim/mockstub.go#L354-L357  +Usage in unit test for Chaincode with ABAC.+ In the test code,   byte of identity(cert) is passed. The identity and mspID are set to the creator. Chaincode uses the creator in the unit test.  {code} func TestAbac_Init(t *testing.T) { scc := new(SimpleChaincode) stub := shim.NewMockStub("abac", scc)  sid := &msp.SerializedIdentity{Mspid: "org1MSP", IdBytes:   byte(Cert)} b, err := proto.Marshal(sid) if err != nil { t.FailNow() } stub.Creator = b  checkInit(t, stub,     byte{  byte("init"),   byte("A"),   byte("123"),   byte("B"),   byte("234")}) } {code}  ></body> </Action>
<Action id="55685" issue="19992" author="yuki-kon" type="comment" body="I posted a CR. https://gerrit.hyperledger.org/r/#/c/28744/" created="2019-01-15 17:57:42.0" updateauthor="yuki-kon" updated="2019-01-15 17:57:42.0"/>
