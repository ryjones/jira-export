<Issue id="19247" key="FAB-5308" number="5308" project="10002" reporter="rhegde" assignee="nickgaski" creator="rhegde" type="10100" summary="Documentation on use of Consortium " priority="2" status="10000" created="2017-07-13 20:18:23.0" updated="2020-05-04 02:52:56.0" votes="2" watches="9" workflowId="54762"> <description><! CDATA {color:#1f497d}Hello Gari, {color}  {color:#1f497d} {color}  {color:#1f497d}This is what I had explained on call, a-week back. The same test was run to understand consortium however the explanation I understood from Kostas – All the organization must be part of Consortium.{color}  {color:#1f497d} {color}  {color:#1f497d}Am I doing something incorrect?{color}  {color:#1f497d} {color}  *+{color:#1f497d}E2E CLI Changes{color}+*   {color:#0000ff}developer@rahul-Inspiron-3442:~/workspace/playtime/go-workspace/src/github.com/hyperledger/fabric/examples/e2e_cli${color}|mailto:developer@rahul-Inspiron-3442:~/workspace/playtime/go-workspace/src/github.com/hyperledger/fabric/examples/e2e_cli$  git diff configtx.yaml diff --git a/examples/e2e_cli/configtx.yaml b/examples/e2e_cli/configtx.yaml index e60d789..e7d64f3 100644 — a/examples/e2e_cli/configtx.yaml +++ b/examples/e2e_cli/configtx.yaml @@ -23,7 +23,6 @@ Profiles:              SampleConsortium:                  Organizations:                      - *Org1 -                    - *Org2      TwoOrgsChannel:          Consortium: SampleConsortium          Application:{color}  *+{color:#1f497d}Peer CLI Log{color}+*  {color:#000000}Channel name : mychannel Creating channel... CORE_PEER_TLS_ROOTCERT_FILE=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/ca.crt CORE_PEER_TLS_KEY_FILE=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.key CORE_PEER_LOCALMSPID=Org1MSP CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock CORE_PEER_TLS_CERT_FILE=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.crt CORE_PEER_TLS_ENABLED=true CORE_PEER_MSPCONFIGPATH=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp CORE_PEER_ID=cli CORE_LOGGING_LEVEL=DEBUG CORE_PEER_ADDRESS=peer0.org1.example.com:7051 2017-06-26 15:30:24.333 UTC  msp  getMspConfig -> INFO 001 intermediate certs folder not found at  /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp/intermediatecerts . Skipping.:  stat {color}{color:#0000ff}/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp/intermediatecerts{color}{color:#000000}: no such file or directory  2017-06-26 15:30:24.333 UTC  msp  getMspConfig -> INFO 002 crls folder not found at  /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp/intermediatecerts . Skipping.:  stat {color}{color:#0000ff}/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp/crls{color}{color:#000000}: no such file or directory  2017-06-26 15:30:24.333 UTC  msp  getMspConfig -> INFO 003 MSP configuration file not found at  /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp/config.yaml :  stat {color}{color:#0000ff}/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp/config.yaml{color}{color:#000000}: no such file or directory  2017-06-26 15:30:24.366 UTC  msp  GetLocalMSP -> DEBU 004 Returning existing local MSP 2017-06-26 15:30:24.366 UTC  msp  GetDefaultSigningIdentity -> DEBU 005 Obtaining default signing identity 2017-06-26 15:30:24.370 UTC  channelCmd  InitCmdFactory -> INFO 006 Endorser and orderer connections initialized 2017-06-26 15:30:24.371 UTC  msp  GetLocalMSP -> DEBU 007 Returning existing local MSP 2017-06-26 15:30:24.371 UTC  msp  GetDefaultSigningIdentity -> DEBU 008 Obtaining default signing identity 2017-06-26 15:30:24.371 UTC  msp  GetLocalMSP -> DEBU 009 Returning existing local MSP 2017-06-26 15:30:24.371 UTC  msp  GetDefaultSigningIdentity -> DEBU 00a Obtaining default signing identity 2017-06-26 15:30:24.371 UTC  msp/identity  Sign -> DEBU 00b Sign: plaintext: 0AA4060A074F7267314D53501298062D...53616D706C65436F6E736F727469756D  2017-06-26 15:30:24.371 UTC  msp/identity  Sign -> DEBU 00c Sign: digest: 25DD46F4291249DE8BB3D45CB16D4BB7F257C1826A88BD988E547C815FE1E19C  2017-06-26 15:30:24.371 UTC  msp  GetLocalMSP -> DEBU 00d Returning existing local MSP 2017-06-26 15:30:24.371 UTC  msp  GetDefaultSigningIdentity -> DEBU 00e Obtaining default signing identity 2017-06-26 15:30:24.371 UTC  msp  GetLocalMSP -> DEBU 00f Returning existing local MSP 2017-06-26 15:30:24.371 UTC  msp  GetDefaultSigningIdentity -> DEBU 010 Obtaining default signing identity 2017-06-26 15:30:24.371 UTC  msp/identity  Sign -> DEBU 011 Sign: plaintext: 0ADB060A1508021A060890D1C4CA0522...F64740C447F69E4AD319F0D58274A7B6  2017-06-26 15:30:24.371 UTC  msp/identity  Sign -> DEBU 012 Sign: digest: B0ACAD2C001218A3C469D5D09FE6BA68A97C8C5F07DA0D0C8B4A06A6857F8926  Error: Got unexpected status: BAD_REQUEST Usage:   peer channel create  flags   Global Flags:   -b, --blockpath string           Path to file containing genesis block       --cafile string              Path to file containing PEM-encoded trusted certificate(s) for the ordering endpoint   -c, --chain string               In case of a newChain command, the chain ID to create.   -f, --file string                Configuration transaction file generated by a tool such as configtxgen for submitting to orderer       --logging-level string       Default logging level and overrides, see core.yaml for full syntax   -o, --orderer string             Ordering service endpoint       --test.coverprofile string   Done (default "coverage.cov")   -t, --timeout int                Channel creation timeout (default 5)       --tls                        Use TLS when communicating with the orderer endpoint   -v, --version                    Display current version of fabric peer server  !!!!!!!!!!!!!!! Channel creation failed !!!!!!!!!!!!!!!! ================== ERROR !!! FAILED to execute End-2-End Scenario =================={color}  {color:#000000} {color}  *+{color:#1f497d}Orderer Log{color}+*  {color:#000000}2017-06-26 15:30:24.374 UTC  orderer/configupdate  Process -> DEBU 0c8 Processing channel creation request for channel mychannel 2017-06-26 15:30:24.375 UTC  orderer/common/broadcast  Handle -> WARN 0c9 Rejecting CONFIG_UPDATE because: Attempted to include a member which is not in the consortium 2017-06-26 15:30:24.399 UTC  orderer/common/deliver  Handle -> WARN 0ca Error reading from stream: rpc error: code = Canceled desc = context canceled{color}  {color:#000000} {color}  ></description> </Issue>
