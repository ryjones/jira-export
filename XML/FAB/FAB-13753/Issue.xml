<Issue id="36931" key="FAB-13753" number="13753" project="10002" reporter="latitiah" assignee="wenjian" creator="latitiah" type="10004" summary="LTE panic: When executing test using CouchDB" priority="3" resolution="10002" status="6" created="2019-01-18 13:18:53.0" updated="2019-07-05 07:53:50.0" resolutiondate="2019-05-07 13:56:49.0" votes="0" watches="1" workflowId="48496"> <description><! CDATA The following error is seen when executing benchmarks tests using CouchDB. {code} panic: runtime error: invalid memory address or nil pointer dereference  signal SIGSEGV: segmentation violation code=0x1 addr=0x18 pc=0xfc1f5e   goroutine 22  running : github.com/hyperledger/fabric/core/ledger/kvledger/txmgmt/privacyenabledstate.(*CommonStorageDBProvider).RegisterHealthChecker(0xc0002a22d0, 0xc0002a22d0, 0xc0003782c0) 	/w/workspace/fabric-test-verify-x86_64/gopath/src/github.com/hyperledger/fabric/core/ledger/kvledger/txmgmt/privacyenabledstate/common_storage_db.go:67 +0x5e github.com/hyperledger/fabric/core/ledger/kvledger/txmgmt/privacyenabledstate.NewCommonStorageDBProvider(0x1356ba0, 0xc000366188, 0x1360de0, 0x1d01698, 0x0, 0x0, 0x2, 0x4, 0x0, 0xc000466680) 	/w/workspace/fabric-test-verify-x86_64/gopath/src/github.com/hyperledger/fabric/core/ledger/kvledger/txmgmt/privacyenabledstate/common_storage_db.go:57 +0xec github.com/hyperledger/fabric/core/ledger/kvledger.(*Provider).Initialize(0xc000466680, 0xc0003a8240, 0x0, 0x0) 	/w/workspace/fabric-test-verify-x86_64/gopath/src/github.com/hyperledger/fabric/core/ledger/kvledger/kv_ledger_provider.go:88 +0x25e github.com/hyperledger/fabric/core/ledger/ledgermgmt.initialize(0xc0000303c0) 	/w/workspace/fabric-test-verify-x86_64/gopath/src/github.com/hyperledger/fabric/core/ledger/ledgermgmt/ledger_mgmt.go:73 +0x3fe github.com/hyperledger/fabric/core/ledger/ledgermgmt.Initialize.func1() 	/w/workspace/fabric-test-verify-x86_64/gopath/src/github.com/hyperledger/fabric/core/ledger/ledgermgmt/ledger_mgmt.go:53 +0x2a sync.(*Once).Do(0x1d01760, 0xc000071e30) 	/opt/go/go1.11.1.linux.amd64/src/sync/once.go:44 +0xb3 github.com/hyperledger/fabric/core/ledger/ledgermgmt.Initialize(0xc0000303c0) 	/w/workspace/fabric-test-verify-x86_64/gopath/src/github.com/hyperledger/fabric/core/ledger/ledgermgmt/ledger_mgmt.go:52 +0x55 github.com/hyperledger/fabric/test/tools/LTE/chainmgmt.newChainsMgr(0xc00000db40, 0xc000459bd0, 0x10c5d01, 0xc0000741d0) 	/w/workspace/fabric-test-verify-x86_64/gopath/src/github.com/hyperledger/fabric/test/tools/LTE/chainmgmt/chains.go:56 +0x130 github.com/hyperledger/fabric/test/tools/LTE/chainmgmt.InitTestEnv(0xc00000db40, 0xc000459bd0, 0x8f8601, 0x5c410e39) 	/w/workspace/fabric-test-verify-x86_64/gopath/src/github.com/hyperledger/fabric/test/tools/LTE/chainmgmt/testenv.go:34 +0x77 github.com/hyperledger/fabric/test/tools/LTE/experiments.BenchmarkInsertTxs(0xc0000ae680) 	/w/workspace/fabric-test-verify-x86_64/gopath/src/github.com/hyperledger/fabric/test/tools/LTE/experiments/insert_txs_test.go:44 +0x55 testing.(*B).runN(0xc0000ae680, 0x1) 	/opt/go/go1.11.1.linux.amd64/src/testing/benchmark.go:141 +0xb2 testing.(*B).run1.func1(0xc0000ae680) 	/opt/go/go1.11.1.linux.amd64/src/testing/benchmark.go:214 +0x5a created by testing.(*B).run1 	/opt/go/go1.11.1.linux.amd64/src/testing/benchmark.go:207 +0x7d exit status 2 FAIL	github.com/hyperledger/fabric/test/tools/LTE/experiments	0.299s {code}  Here is the link to the execution in Jenkins: https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/2469/testReport/junit/ledger_lte_smoke/smoke_ledger/test_FAB_9708_CouchDB_VaryNumTxs/  See the attached log.  ></description> </Issue>
