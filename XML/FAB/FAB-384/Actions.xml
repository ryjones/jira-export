<Action id="18890" issue="12685" author="denyeart" type="comment" body="I&apos;ve changed this to a task related to FAB-193 User Story." created="2016-09-13 14:35:13.0" updateauthor="denyeart" updated="2016-09-13 14:35:13.0"/>
<Action id="19014" issue="12685" author="jyellick" type="comment" created="2016-09-27 18:09:15.0" updateauthor="jyellick" updated="2016-09-27 18:14:02.0"> <body><! CDATA I think there's been some general agreement, that the block format should be specified largely as bytes, with marshaled transactions as being the standard occupant of the bytes, where the `Transaction` message supports a `type` field to allow for arbitrary contents, but fabric will support the endorser/consenter/chaincode type transaction out of the box.  Looking at Simon's work, and his suggestion, I'd like to propose the following block format (in go notation for simplicity).  This is very similar to the bitcoin block format, with the addition of the BlockMetadata for unhashed data (in particular, for collections of signatures which cannot go into the hash).  {code} type BlockHeader struct { Number uint64 PreviousHash   byte // The hash of the previous block header ContentsHash   byte // A hash of the block contents, via MerkleTree }  type BlockContents struct { contents     byte }  type BlockMetadata struct { metadata     byte }  type Block struct { header BlockHeader contents BlockContents metadata BlockMetadata } {code}  ></body> </Action>
<Action id="19016" issue="12685" author="kchristidis" type="comment" body="What do you see going in the metadata field?" created="2016-09-27 19:04:53.0" updateauthor="kchristidis" updated="2016-09-27 19:04:53.0"/>
<Action id="19017" issue="12685" author="jyellick" type="comment" created="2016-09-27 19:18:56.0" updateauthor="jyellick" updated="2016-09-27 19:18:56.0"> <body><! CDATA Immediately, the block proof (usually a set of signatures).  But, obviously it could be used for other purposes.  I was wary of using the word 'Proof' because in some schemes, no proof may be stored here, but other data which would be different per node might be.  I could imagine for instance that someone might want to store the date and time they retrieved the block, as well as the public key of the source into the BlockMetadata.  Since everything I could come up with was essentially 'about the block', 'BlockMetadata' seemed appropriate.  I could even see the consumer of the block creating a hash chain with this data for extra auditibility.  Of course, we could also remove this field from the block definition, and instead wrapper the block in another datastructure, to make it more clear that it is not contained in the hash.  I'm not opposed to this, if you and or others believe this is the right mechanic, but opted to include it within the block definition so as not to have to invent yet another word.  ></body> </Action>
<Action id="19058" issue="12685" author="zmanian" type="comment" body="A block proof could be a set of signatures or a single threshold or aggregate signature + a public key and proof of membership in a merkle tree." created="2016-09-30 03:58:49.0" updateauthor="zmanian" updated="2016-09-30 03:58:49.0"/>
<Action id="19059" issue="12685" author="kchristidis" type="comment" created="2016-09-30 04:40:21.0" updateauthor="kchristidis" updated="2016-09-30 04:40:21.0"> <body><! CDATA > a public key and proof of membership in a merkle tree   ~zmanian  Can you expand on this?  ></body> </Action>
<Action id="19060" issue="12685" author="zmanian" type="comment" created="2016-09-30 04:55:50.0" updateauthor="zmanian" updated="2016-09-30 04:56:11.0"> <body><! CDATA Someday I'd like to port BFT Cosi  https://github.com/dedis/cosi  as consensus protocol to to Fabric. To validate the collective signatures from cosi, the validator constructs a merkle tree of all valid aggregate public keys. The block proof would consist of the aggregated signature, the aggregate public key and root of the merkle tree for the network.    ></body> </Action>
<Action id="19062" issue="12685" author="kchristidis" type="comment" body="What would break if you were to remove the root of the Merkle tree of all valid aggregate public keys from the block proof?" created="2016-09-30 05:15:58.0" updateauthor="kchristidis" updated="2016-09-30 05:15:58.0"/>
<Action id="19063" issue="12685" author="zmanian" type="comment" body="You could put the CA could hand out roots for instance. But you would need the path to public key and pubkey for validating the aggregate sig in the proof." created="2016-09-30 05:26:25.0" updateauthor="zmanian" updated="2016-09-30 05:26:25.0"/>
<Action id="19354" issue="12685" author="kchristidis" type="comment" created="2016-10-22 00:08:27.0" updateauthor="kchristidis" updated="2016-10-22 00:22:49.0"> <body><! CDATA Can we add an update here to capture (a) what prevents us from closing this, and (b) exactly where we stand right now?  (As far as I can tell we have reached a consensus of sorts on this, and this should be marked as in review: https://gerrit.hyperledger.org/r/#/c/1361/)  ></body> </Action>
<Action id="19448" issue="12685" author="mastersingh24" type="comment" body="Rebased and submitted to master as https://gerrit.hyperledger.org/r/#/c/1965" created="2016-10-25 09:07:24.0" updateauthor="mastersingh24" updated="2016-10-25 09:07:24.0"/>
<Action id="19619" issue="12685" author="jyellick" type="comment" body="Merged, flagging as done." created="2016-11-02 21:03:56.0" updateauthor="jyellick" updated="2016-11-02 21:03:56.0"/>
