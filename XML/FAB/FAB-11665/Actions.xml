<Action id="49174" issue="33073" author="mastersingh24" type="comment" body=" ~rickr   - I don&apos;t think that this is actually needed.  The orderer endpoints are actually stored in the channel config blocks ... those endpoints *MUST* be accessible in order for the channel to even function.  The internal / external peer endpoints are a different matter because it is possible for an org&apos;s peers to communicate privately." created="2018-08-21 15:52:49.0" updateauthor="mastersingh24" updated="2018-08-21 15:52:49.0"/>
<Action id="49175" issue="33073" author="yacovm" type="comment" created="2018-08-21 15:57:10.0" updateauthor="yacovm" updated="2018-08-21 15:57:10.0"> <body><! CDATA external endpoints are used for peers to publish their address to foreign organizations. When a peer doesn't have an external endpoint, it is only visible to its own organization.  The discovery service gets the addresses of the orderers from the config block, so - unless some support in the config block is added, I don't see a way of doing this.  An easy "way out" which I see, is to have in the config block - all entries of orderers, those that are accessible only behind the FW and those that are accessible also from "in front" of the FW, and then the clients would simply try to connect to whatever can be connected.     What we are *not going to do*, is - have the peer decide for the client what the client can access and what it can not, and then filter it for the client - because the peer can be in a network that is different than the client.        Inviting  ~jyellick  ,  ~kchristidis  ,  ~mastersingh24  to chime in as well.  ></body> </Action>
<Action id="49176" issue="33073" author="yacovm" type="comment" created="2018-08-21 15:58:52.0" updateauthor="yacovm" updated="2018-08-21 15:58:52.0"> <body><! CDATA By the way I admit I don't understand what you're doing with localhost, but:    {quote}remap all addresses reported by service discovery which are the internal endpoints to localhost. {quote}    There are no internal endpoints reported by discovery so far. Peers without an external endpoints are filtered out.  ></body> </Action>
<Action id="49177" issue="33073" author="rickr" type="comment" created="2018-08-21 16:03:53.0" updateauthor="rickr" updated="2018-08-21 16:04:16.0"> <body><! CDATA  ~mastersingh24  So there's no real requirement to keep Orderer and Peers connecting internally via a set of addresses that should never be exposed to the outside  and clients (sdk) connect via a different address exposed only via a firewall ?    ></body> </Action>
