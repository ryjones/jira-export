<Action id="44955" issue="29760" author="gwangilchoi" type="comment" created="2018-05-23 08:55:48.0" updateauthor="gwangilchoi" updated="2018-05-23 08:55:48.0"> <body><! CDATA I use dockerd  : ubuntu 16.04-LTS 64bit     {code:java} Docker version 18.03.1-ce, build 9ee9f40  docker version Client: Version: 18.03.1-ce API version: 1.37 Go version: go1.9.5 Git commit: 9ee9f40 Built: Thu Apr 26 07:17:20 2018 OS/Arch: linux/amd64 Experimental: false Orchestrator: swarm Server: Engine: Version: 18.03.1-ce API version: 1.37 (minimum version 1.12) Go version: go1.9.5 Git commit: 9ee9f40 Built: Thu Apr 26 07:15:30 2018 OS/Arch: linux/amd64 Experimental: false {code}    but same result        {code:java} unit-tests_1 | 2018-05-21 09:41:48.953 UTC  dockercontroller  func2 -> INFO 002 Container simple has closed its IO channel unit-tests_1 | — FAIL: TestIntegrationPath (5.11s) Error Trace: dockercontroller_test.go:47 unit-tesError: Received unexpected error: unit-tes Container not running: simple unit-tesTest: TestIntegrationPath unit-tests_1 | 2018-05-21 09:41:50.812 UTC  dockercontroller  Start -> ERRO 003 start-could not recreate container <simple>, because of Error creating the container unit-tests_1 | 2018-05-21 09:41:50.814 UTC  dockercontroller  Start -> ERRO 004 start-could not find image <simple-a7a39b72f29718e653e73503210fbb597057b7a1c77d1fe321a1afcff041d4e1>, because of no such image unit-tests_1 | 2018-05-21 09:41:53.171 UTC  dockercontroller  Start -> ERRO 005 start-could not start container: Error starting the container unit-tests_1 | FAIL   {code}    ></body> </Action>
<Action id="45936" issue="29760" author="kchristidis" type="comment" created="2018-06-14 16:07:39.0" updateauthor="kchristidis" updated="2018-06-14 16:08:20.0"> <body><! CDATA Another potentially related incident  here|https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/2564/consoleText :   {code} unit-tests_1 | 2018-06-14 15:36:40.327 UTC  simple  func2 -> INFO 001 hello unit-tests_1 | 2018-06-14 15:36:40.486 UTC  dockercontroller  func2 -> INFO 002 Container simple has closed its IO channel unit-tests_1 | --- FAIL: TestIntegrationPath (2.06s) unit-tests_1 | assertions.go:247: Error Trace: dockercontroller_test.go:47 unit-tests_1 | Error: Received unexpected error: unit-tests_1 | Container not running: simple unit-tests_1 | Test: TestIntegrationPath unit-tests_1 | 2018-06-14 15:36:40.761 UTC  dockercontroller  Start -> ERRO 003 start-could not recreate container <simple>, because of Error creating the container unit-tests_1 | 2018-06-14 15:36:40.763 UTC  dockercontroller  Start -> ERRO 004 start-could not find image <simple-a7a39b72f29718e653e73503210fbb597057b7a1c77d1fe321a1afcff041d4e1>, because of no such image unit-tests_1 | 2018-06-14 15:36:42.092 UTC  dockercontroller  Start -> ERRO 005 start-could not start container: Error starting the container unit-tests_1 | FAIL unit-tests_1 | coverage: 87.1% of statements unit-tests_1 | FAIL github.com/hyperledger/fabric/core/container/dockercontroller 3.472s {code}   ></body> </Action>
<Action id="45983" issue="29760" author="jyellick" type="comment" body="As this is a test failure and not related to the production code, I see no reason for this to block a v1.2 release.  Moving fix version to v1.3." created="2018-06-15 16:26:35.0" updateauthor="jyellick" updated="2018-06-15 16:26:35.0"/>
<Action id="46044" issue="29760" author="sykesm" type="comment" created="2018-06-17 22:36:01.0" updateauthor="sykesm" updated="2018-06-17 22:36:01.0"> <body><! CDATA {quote}FAIL: TestIntegrationPath (5.11s) Error Trace: dockercontroller_test.go:47{quote}  ~GwangilChoi , that's actually not the originally reported error. {quote} --- FAIL: TestIntegrationPath (2.06s) unit-tests_1 | assertions.go:247: Error Trace: dockercontroller_test.go:47{quote}  ~kchristidis , same error as  ~GwangilChoi  but not the originally reported error.  The original error was: {quote}00:05:34.482 unit-tests_1  | --- FAIL: Test_Start (10.00s) 00:05:34.482 unit-tests_1  | 	dockercontroller_test.go:140: {quote} from this block:    https://github.com/hyperledger/fabric/blob/621725f4e32bfd59185a529cf3fb87456433ef1e/core/container/dockercontroller/dockercontroller_test.go#L138-L141   Different flakes.  ></body> </Action>
<Action id="46072" issue="29760" author="sykesm" type="comment" body="For the flake related to line 47, looks like the container that is started from the Dockerfile generated by InMemBuilder is short-lived; it echos &quot;hello&quot; and terminates. If the system is slow (or docker is fast), the container will have terminated before the call to stop on 46 runs." created="2018-06-18 10:09:18.0" updateauthor="sykesm" updated="2018-06-18 10:09:18.0"/>
<Action id="46073" issue="29760" author="sykesm" type="comment" body="For the originally reported flake related to line 140, there&apos;s not enough here to get the root cause. That said, let&apos;s fix the flake related to 47 since at least two people have hit that." created="2018-06-18 10:36:35.0" updateauthor="sykesm" updated="2018-06-18 10:36:35.0"/>
<Action id="46115" issue="29760" author="sykesm" type="comment" body=" https://gerrit.hyperledger.org/r/23243" created="2018-06-18 13:31:49.0" updateauthor="sykesm" updated="2018-06-18 13:31:49.0"/>
