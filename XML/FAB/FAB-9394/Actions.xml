<Action id="42666" issue="29233" author="mastersingh24" type="comment" created="2018-04-07 13:00:32.0" updateauthor="mastersingh24" updated="2018-04-07 13:00:48.0"> <body><! CDATA  ~rhegde  - For v1.0.x release, there's not much we can do within the code itself as it would require changes too deep for a fix pack.  With v1.2 (next release) we can make some modifications to directly support this from the peer.  For v1.0.x, the best thing to do will be to create your own container for Go chaincode image and then set CORE_CHAINCODE_GOLANG_RUNTIME (or chaincode.golang.runtime in core.yaml) to that image.      ~sanchezl   ></body> </Action>
<Action id="45700" issue="29233" author="kchristidis" type="comment" body=" ~mastersingh24 ,  ~sanchezl : What is the fate of this?" created="2018-06-08 13:33:32.0" updateauthor="kchristidis" updated="2018-06-08 13:33:32.0"/>
<Action id="48381" issue="29233" author="sanchezl" type="comment" body="We will try to get this into v1.3, but it might not make it." created="2018-08-03 14:56:19.0" updateauthor="sanchezl" updated="2018-08-03 14:56:19.0"/>
<Action id="50100" issue="29233" author="sykesm" type="comment" body=" ~sanchezl  I&apos;ve made you the owner based on your comment from last month. If this is not something you&apos;re working on or the assignment is invalid in some other way, please unassign. Thanks." created="2018-09-07 17:08:31.0" updateauthor="sykesm" updated="2018-09-07 17:08:31.0"/>
<Action id="56730" issue="29233" author="sykesm" type="comment" created="2019-02-06 20:20:23.0" updateauthor="sykesm" updated="2019-02-06 20:20:23.0"> <body><! CDATA I believe all of the docker images currently published for fabric use root as the default user.  In addition to changing these images to add and use a non-root user as default, we'd also need to make some changes to the chaincode platforms in the peer as they currently use files to hold mutual auth key information and write those files with a mode of 0. Without that change, the files are not readable by a non-root user within the container.  For ccenv/build phase, the platforms create the input stream that are uploaded to the container image. The permissions that show up will be based on how those payloads have been created. In the case of golang chaincode, the platform only included files and forces the permission to be 0100644; different platforms will have different rules.  Given the above, there are a number of changes required.  ></body> </Action>
<Action id="56731" issue="29233" author="sykesm" type="comment" created="2019-02-06 20:28:57.0" updateauthor="sykesm" updated="2019-02-06 20:28:57.0"> <body><! CDATA In the alpine based images, creating a user is pretty straightforward:  {code} RUN addgroup chaincode && adduser -D -h /home/chaincode -G chaincode chaincode {code}  In the ccenv and chaincode images, the {{USER chaincode}} command would be needed at the end of the build to ensure chaincode runs as that user when spawned by the peer.  ></body> </Action>
<Action id="57747" issue="29233" author="skarim" type="comment" body="https://gerrit.hyperledger.org/r/c/29551/" created="2019-02-28 16:06:05.0" updateauthor="skarim" updated="2019-02-28 16:06:05.0"/>
<Action id="72800" issue="29233" author="JIRAUSER23806" type="comment" created="2022-11-25 09:56:31.0" updateauthor="JIRAUSER23806" updated="2022-11-25 09:56:31.0"> <body><! CDATA Chaincode containers should support running as non-root user  Is this issue is resolved 2.x versions?     ></body> </Action>
