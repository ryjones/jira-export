<Issue id="39814" key="FAB-15448" number="15448" project="10002" reporter="guoger" assignee="guoger" creator="guoger" type="10004" summary="Flaky Raft UT: does not deadlock if leader steps down while config block is in-flight" priority="4" resolution="10000" status="6" created="2019-05-14 15:57:44.0" updated="2021-02-25 20:04:00.0" resolutiondate="2019-06-04 17:58:00.0" votes="0" watches="2" workflowId="52708"> <description><! CDATA This happens when the leader change 1 -> 0 -> 1 happens too fast that node2 (follower) does not emit the 0 -> 1 trigger, which is expected by tests.  Although the probability of this failure should be very low  {code} 17:54:25 ------------------------------ 17:54:25 â€¢ Failure  11.029 seconds  17:54:25 Chain 17:54:25 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:70 17:54:25   3-node Raft cluster 17:54:25   /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:1451 17:54:25     when reconfiguring raft cluster 17:54:25     /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:1585 17:54:25       reconfiguration 17:54:25       /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:1795 17:54:25         does not deadlock if leader steps down while config block is in-flight  It  17:54:25         /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:2550 17:54:25  17:54:25         Timed out after 10.000s. 17:54:25         When passed a matcher, ReceiveMatcher's channel *must* receive something. 17:54:25  17:54:25         /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:3941 17:54:25 ------------------------------ {code}  ></description> </Issue>
