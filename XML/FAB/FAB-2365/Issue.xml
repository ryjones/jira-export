<Issue id="14927" key="FAB-2365" number="2365" project="10002" reporter="ratnakar" assignee="sanchezl" creator="ratnakar" type="10004" summary="Instantiate fails with Java chaincode" priority="2" resolution="10000" status="6" created="2017-02-19 18:57:46.0" updated="2018-07-20 14:11:44.0" resolutiondate="2017-03-01 14:47:28.0" votes="0" watches="2" workflowId="37538"> <description><! CDATA Verified on commit level *{panel}ef962ca41be5343c942d10741c44b06399017cd6{panel}* Steps followed to reproduce the issue.  *+Vagrant Window 1:+* Start the Orderere  {panel} ORDERER_GENERAL_LOGLEVEL=debug orderer {panel}  *+Vagrant Window 2:+* Start the peer  {panel} peer node start {panel}  *+Vagrant Window 3:+*  _*Install chaincode*_ {code} peer chaincode install -l java -n simplesample -v 1.0 -p /opt/gopath/src/github.com/hyperledger/fabric/examples/chaincode/java/SimpleSample -c '{"Args":  "init", "a","100", "b", "200" }' {code}  This is successful and result is : {panel} Installed remotely response:<status:200 payload:"OK" >  {panel}  {code} peer chaincode instantiate -l java -n simplesample -v 1.0 -p  /opt/gopath/src/github.com/hyperledger/fabric/examples/chaincode/java/SimpleSample -c '{"Args":  "init", "a","100", "b", "200" }' {code}  While executing of the above command, one can see a container launched   docker ps {panel} CONTAINER ID        IMAGE                       COMMAND                  CREATED             STATUS              PORTS               NAMES 7ec4eaab9cdb        dev-jdoe-simplesample-1.0   "java -jar chainco..."   4 minutes ago       Up 4 minutes                            dev-jdoe-simplesample-1.0 {panel}  chiancode container below messages  {code} docker logs -f dev-jdoe-simplesample-1.0  Feb 19, 2017 6:16:49 PM org.hyperledger.java.shim.ChaincodeBase newPeerClientConnection INFO: Inside newPeerCLientConnection Feb 19, 2017 6:16:49 PM io.grpc.internal.TransportSet$1 call INFO: Created transport io.grpc.netty.NettyClientTransport@2e949597(/0.0.0.0:7051) for /0.0.0.0:7051 Feb 19, 2017 6:16:49 PM io.grpc.internal.TransportSet$TransportListener transportReady INFO: Transport io.grpc.netty.NettyClientTransport@2e949597(/0.0.0.0:7051) for /0.0.0.0:7051 is ready {code}  also _*docker images*_ comes up {panel} REPOSITORY                     TAG                             IMAGE ID            CREATED             SIZE dev-jdoe-simplesample-1.0      latest                          c4023eaa5463        3 minutes ago       1.46 GB {panel}  However instantiate command fails with below error {code} Error: Error endorsing chaincode: rpc error: code = 2 desc = Timeout expired while starting chaincode simplesample:1.0(networkid:dev,peerid:jdoe,tx:l6esTPG8I5+xexAEvI9RV+T9B2fNB3I3mLNDWcl7pfI=) {code}  And peer logs show below error message. {code} 2017-02-19 18:45:11.796 UTC  ccprovider  NewCCContext -> INFO 047 NewCCCC (chain=,chaincode=lccc,version=0.7.0-snapshot-ef962ca,txid=HbAfqfC/rJtr6mATZmoJpMtXlp+YlZZ3gKT61FK3tj8=,syscc=true,proposal=0xc42151cd20,canname=lccc:0.7.0-snapshot-ef962ca 2017-02-19 18:45:31.856 UTC  gossip/comm#-1  func1 -> WARN 048 0.0.0.0:7051, PKIid:   isn't responsive: EOF 2017-02-19 18:46:21.861 UTC  gossip/comm#-1  func1 -> WARN 049 0.0.0.0:7051, PKIid:   isn't responsive: EOF 2017-02-19 18:46:47.160 UTC  protoutils  ValidateProposalMessage -> INFO 04a ValidateProposalMessage starts for signed proposal 0xc4213280c0 2017-02-19 18:46:47.160 UTC  protoutils  validateChannelHeader -> INFO 04b validateChannelHeader info: header type 3 2017-02-19 18:46:47.160 UTC  protoutils  checkSignatureFromCreator -> INFO 04c checkSignatureFromCreator starts 2017-02-19 18:46:47.160 UTC  protoutils  checkSignatureFromCreator -> INFO 04d checkSignatureFromCreator info: creator is &{DEFAULT DEFAULT} 2017-02-19 18:46:47.160 UTC  protoutils  checkSignatureFromCreator -> INFO 04e checkSignatureFromCreator info: creator is valid 2017-02-19 18:46:47.160 UTC  protoutils  checkSignatureFromCreator -> INFO 04f checkSignatureFromCreator exists successfully 2017-02-19 18:46:47.160 UTC  protoutils  validateChaincodeProposalMessage -> INFO 050 validateChaincodeProposalMessage starts for proposal 0xc4213b34f0, header 0xc420139ff0 2017-02-19 18:46:47.160 UTC  protoutils  validateChaincodeProposalMessage -> INFO 051 validateChaincodeProposalMessage info: header extension references chaincode name:"lccc"  2017-02-19 18:46:47.160 UTC  ccprovider  NewCCContext -> INFO 052 NewCCCC (chain=testchainid,chaincode=lccc,version=0.7.0-snapshot-ef962ca,txid=l6esTPG8I5+xexAEvI9RV+T9B2fNB3I3mLNDWcl7pfI=,syscc=true,proposal=0xc4213b34f0,canname=lccc:0.7.0-snapshot-ef962ca 2017-02-19 18:46:47.161 UTC  ccprovider  NewCCContext -> INFO 053 NewCCCC (chain=testchainid,chaincode=simplesample,version=1.0,txid=l6esTPG8I5+xexAEvI9RV+T9B2fNB3I3mLNDWcl7pfI=,syscc=false,proposal=0xc4213b34f0,canname=simplesample:1.0 2017-02-19 18:47:11.869 UTC  gossip/comm#-1  func1 -> WARN 054 0.0.0.0:7051, PKIid:   isn't responsive: EOF 2017-02-19 18:48:01.871 UTC  gossip/comm#-1  func1 -> WARN 055 0.0.0.0:7051, PKIid: 31 187 223 182 199 174 91 202 182 195 76 101 193 68 82 145 75 51 75 246 120 133 185 26 237 208 150 137 159 72 218 133  isn't responsive: connection error: desc = "transport is closing" 2017-02-19 18:49:16.882 UTC  gossip/comm#-1  func1 -> WARN 056 0.0.0.0:7051, PKIid:   isn't responsive: EOF 2017-02-19 18:51:21.887 UTC  gossip/comm#-1  func1 -> WARN 057 0.0.0.0:7051, PKIid:   isn't responsive: EOF 2017-02-19 18:51:56.973 UTC  chaincode  processStream -> ERRO 058 Error handling chaincode support stream: stream error: code = 1 desc = "context canceled" 2017-02-19 18:51:57.086 UTC  chaincode  Launch -> ERRO 059 launchAndWaitForRegister failed Timeout expired while starting chaincode simplesample:1.0(networkid:dev,peerid:jdoe,tx:l6esTPG8I5+xexAEvI9RV+T9B2fNB3I3mLNDWcl7pfI=) {code}  _As a result of this Invoke/Query fails._  ></description> </Issue>
