<Issue id="14779" key="FAB-2221" number="2221" project="10002" reporter="jsong1230" assignee="baohua" creator="jsong1230" type="10004" summary="Discovery is not working (PBFT: DISC_HELLO/ DISC_GET_PEERS)" priority="2" resolution="10000" status="6" created="2017-02-14 01:20:07.0" updated="2018-07-20 14:11:37.0" resolutiondate="2017-04-14 11:48:25.0" votes="0" watches="4" workflowId="37428"> <description><! CDATA I got the following errors. I have modified core.yaml file for each peer, but not working. Can I get a sample core.yaml file for peer connection? Is there any other file to modify to connect peers using PBFT? Thanks.  ### Error 10:15:00.829  peer  handleChat -> ERRO 042 Error handling message: Peer FSM failed while handling message (DISC_HELLO): current state: created, error: transition canceled with error: Error registering Handler: Duplicate Handler error: {name:"hf02"  172.31.11.114:7051 VALIDATOR } 10:15:02.115  peer  handleChat -> ERRO 043 Error handling message: Peer FSM cannot handle message (DISC_GET_PEERS) with payload size (0) while in state: created ###  ### core.yaml (changed part) {color:red}    id: hf01{color}  # The privateKey to be used by this peer # privateKey: 794ef087680e2494fa4918fd8fb80fb284b50b57d321a31423fe42b9ccf6216047cea0b66fe8365a8e3f2a8140c6866cc45852e63124668bee1daa9c97da0c2a  # The networkId allows for logical seperation of networks # networkId: dev # networkId: test {color:red}    networkId: {mynetwork}{color}  # The Address this Peer will listen on listenAddress: 0.0.0.0:7051 # The Address this Peer will bind to for providing services address: 0.0.0.0:7051 # Whether the Peer should programmatically determine the address to bind to. # This case is useful for docker containers. {color:red}   addressAutoDetect: true{color}    consensus: # Consensus plugin to use. The value is the name of the plugin, e.g. pbft, noops ( this value is case-insensitive) # if the given value is not recognized, we will default to noops {color:red}    plugin: pbft{color}   # PKI member services properties pki: {color:red}        eca: paddr: {myip}:7054 tca: paddr: {myip}:7054 tlsca: paddr: {myip}:7054{color}   discovery:  # The root nodes are used for bootstrapping purposes, and generally # supplied through ENV variables # It can be either a single host or a comma separated list of hosts. {color:red}        rootnode: {myip}:7051{color}  ></description> </Issue>
