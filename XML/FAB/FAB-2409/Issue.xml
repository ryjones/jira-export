<Issue id="14972" key="FAB-2409" number="2409" project="10002" reporter="ratnakar" assignee="muralisr" creator="ratnakar" type="10004" summary="Unable to execute E2E test , fails at instantiating chaincode step" priority="1" resolution="10000" status="6" created="2017-02-21 16:59:05.0" updated="2018-07-20 14:11:46.0" resolutiondate="2017-02-25 14:35:25.0" votes="0" watches="3" workflowId="37562"> <description><! CDATA Commit Level: *9b972b2e8eb0957580de09230ea390f627b576ad*  Followed the instructions from JIRA FAB-1141 and Gerrit : https://gerrit.hyperledger.org/r/#/c/6257/ and generated required artifacts from behave using the below command   {panel} 	behave -k -D cache-deployment-spec features/bootstrap.feature {panel}  Used docker-compose from bddtests https://github.com/hyperledger/fabric/blob/master/bddtests/docker-compose-next-4.yml as a reference.  Changed 4th peer (peer3) to CLI container to execute the channel creation , join , install & instantiate commands  (https://github.com/hyperledger/fabric/blob/master/bddtests/docker-compose-next-4.yml#L54)   Also, used configtxtool to generate the genesis.block and Channel Txn with below commands  {code} configtxgen configtxgen -profile SampleSingleMSPSolo -outputBlock genesis.block -channelID myc1 configtxgen -profile SampleSingleMSPSolo -outputCreateChannelTx myc1 -channelID myc1  {code}  Modified the docker-compose file accordingly to use the genesis block and myc1 channel transaction.   Executed the below commands (a shell script single_channel.sh inside the cli container ) {code} cd chaincode_sample docker-compose up -d docker logs -f cli {code}   Channel creation , joing channela and chaincode installation on a remote peer are successful, however it fails at instantiation.  Below are the gist of failure logs  {code} 2017-02-21 16:10:05.137 UTC  logging  InitFromViper -> DEBU 001 Setting default logging level to DEBUG for command 'chaincode' 2017-02-21 16:10:05.138 UTC  msp  GetLocalMSP -> DEBU 002 Returning existing local MSP 2017-02-21 16:10:05.138 UTC  msp  GetDefaultSigningIdentity -> DEBU 003 Obtaining default signing identity 2017-02-21 16:10:05.138 UTC  chaincodeCmd  checkChaincodeCmdParams -> INFO 004 Using default escc 2017-02-21 16:10:05.138 UTC  chaincodeCmd  checkChaincodeCmdParams -> INFO 005 Using default vscc 2017-02-21 16:10:05.138 UTC  msp  Sign -> DEBU 006 Sign: plaintext: 0A8A050A54080322046D7963312A4061...41554C540A04657363630A0476736363  2017-02-21 16:10:05.138 UTC  msp  Sign -> DEBU 007 Sign: digest: 0ACBD07CCDAA259AA08C7C6311A01C517F4E92C33772FD41F414267A3E6702F5  Error: Error endorsing chaincode: rpc error: code = 2 desc = The creator certificate is not valid, err The supplied identity is not valid, Verify() returned x509: certificate signed by unknown authority  Usage: peer chaincode instantiate  flags   Global Flags: -C, --chainID string             The chain on which this command should be executed (default "testchainid") -c, --ctor string                Constructor message for the chaincode in JSON format (default "{}") -E, --escc string                The name of the endorsement system chaincode to be used for this chaincode -l, --lang string                Language the chaincode is written in (default "golang") --logging-level string       Default logging level and overrides, see core.yaml for full syntax -n, --name string                Name of the chaincode -p, --path string                Path to chaincode -P, --policy string              The endorsement policy associated to this chaincode --test.coverprofile string   Done (default "coverage.cov") -t, --tid string                 Name of a custom ID generation algorithm (hashing and decoding) e.g. sha256base64 -u, --username string            Username for chaincode operations when security is enabled -v, --version string             Version of the chaincode specified in install/instantiate/upgrade commands -V, --vscc string                The name of the verification system chaincode to be used for this chaincode  {code}   All the artificts and docker-compose enclosed with this issue.  ></description> </Issue>
