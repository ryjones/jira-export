<Action id="21349" issue="15175" author="ratnakar" type="comment" created="2017-03-07 03:17:42.0" updateauthor="ratnakar" updated="2017-03-09 17:27:19.0"> <body><! CDATA Ran the script available here  https://github.com/asararatnakar/perf-test.git on a remote Ubuntu machine . Commit level on this repo is *https://github.com/asararatnakar/perf-test/tree/c297abc7f1d78d703ff428e4e6006a5ba9e7b5df*  !screenshot-1.png|thumbnail!   *+Machine details:+*  1) *$lsb_release -a* {panel} No LSB modules are available. Distributor ID:	Ubuntu Description:	Ubuntu 14.04.5 LTS Release:	14.04 Codename:	trusty {panel}   *3) CPU* {code} grep -c processor /proc/cpuinfo 4  # cat /proc/cpuinfo processor	: 0 vendor_id	: GenuineIntel cpu family	: 6 model		: 62 model name	: Intel(R) Xeon(R) CPU E5-2658 v2 @ 2.40GHz stepping	: 4 microcode	: 0x427 cpu MHz		: 2400.000 cache size	: 25600 KB physical id	: 0 siblings	: 2 core id		: 0 cpu cores	: 2 apicid		: 0 initial apicid	: 0 fpu		: yes fpu_exception	: yes cpuid level	: 13 wp		: yes flags		: fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush dts mmx fxsr sse sse2 ss ht syscall nx rdtscp lm constant_tsc arch_perfmon pebs bts nopl xtopology tsc_reliable nonstop_tsc aperfmperf pni pclmulqdq ssse3 cx16 pcid sse4_1 sse4_2 x2apic popcnt tsc_deadline_timer aes xsave avx f16c rdrand hypervisor lahf_lm ida arat epb pln pts dtherm fsgsbase tsc_adjust smep bogomips	: 4800.00 clflush size	: 64 cache_alignment	: 64 address sizes	: 42 bits physical, 48 bits virtual power management:  processor	: 1 vendor_id	: GenuineIntel cpu family	: 6 model		: 62 model name	: Intel(R) Xeon(R) CPU E5-2658 v2 @ 2.40GHz stepping	: 4 microcode	: 0x427 cpu MHz		: 2400.000 cache size	: 25600 KB physical id	: 0 siblings	: 2 core id		: 1 cpu cores	: 2 apicid		: 1 initial apicid	: 1 fpu		: yes fpu_exception	: yes cpuid level	: 13 wp		: yes flags		: fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush dts mmx fxsr sse sse2 ss ht syscall nx rdtscp lm constant_tsc arch_perfmon pebs bts nopl xtopology tsc_reliable nonstop_tsc aperfmperf pni pclmulqdq ssse3 cx16 pcid sse4_1 sse4_2 x2apic popcnt tsc_deadline_timer aes xsave avx f16c rdrand hypervisor lahf_lm ida arat epb pln pts dtherm fsgsbase tsc_adjust smep bogomips	: 4800.00 clflush size	: 64 cache_alignment	: 64 address sizes	: 42 bits physical, 48 bits virtual power management:  processor	: 2 vendor_id	: GenuineIntel cpu family	: 6 model		: 62 model name	: Intel(R) Xeon(R) CPU E5-2658 v2 @ 2.40GHz stepping	: 4 microcode	: 0x427 cpu MHz		: 2400.000 cache size	: 25600 KB physical id	: 1 siblings	: 2 core id		: 0 cpu cores	: 2 apicid		: 2 initial apicid	: 2 fpu		: yes fpu_exception	: yes cpuid level	: 13 wp		: yes flags		: fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush dts mmx fxsr sse sse2 ss ht syscall nx rdtscp lm constant_tsc arch_perfmon pebs bts nopl xtopology tsc_reliable nonstop_tsc aperfmperf pni pclmulqdq ssse3 cx16 pcid sse4_1 sse4_2 x2apic popcnt tsc_deadline_timer aes xsave avx f16c rdrand hypervisor lahf_lm ida arat epb pln pts dtherm fsgsbase tsc_adjust smep bogomips	: 4800.00 clflush size	: 64 cache_alignment	: 64 address sizes	: 42 bits physical, 48 bits virtual power management:  processor	: 3 vendor_id	: GenuineIntel cpu family	: 6 model		: 62 model name	: Intel(R) Xeon(R) CPU E5-2658 v2 @ 2.40GHz stepping	: 4 microcode	: 0x427 cpu MHz		: 2400.000 cache size	: 25600 KB physical id	: 1 siblings	: 2 core id		: 1 cpu cores	: 2 apicid		: 3 initial apicid	: 3 fpu		: yes fpu_exception	: yes cpuid level	: 13 wp		: yes flags		: fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush dts mmx fxsr sse sse2 ss ht syscall nx rdtscp lm constant_tsc arch_perfmon pebs bts nopl xtopology tsc_reliable nonstop_tsc aperfmperf pni pclmulqdq ssse3 cx16 pcid sse4_1 sse4_2 x2apic popcnt tsc_deadline_timer aes xsave avx f16c rdrand hypervisor lahf_lm ida arat epb pln pts dtherm fsgsbase tsc_adjust smep bogomips	: 4800.00 clflush size	: 64 cache_alignment	: 64 address sizes	: 42 bits physical, 48 bits virtual power management:   {code}   *3) Memory:* {code} free -m total       used       free     shared    buffers     cached Mem:          7985       4127       3857          4        359       3126 -/+ buffers/cache:        641       7343 Swap:         4095          0       4095   $cat /proc/meminfo MemTotal:        8176744 kB MemFree:         3956140 kB Buffers:          368584 kB Cached:          3201680 kB SwapCached:            0 kB Active:          1751540 kB Inactive:        2010712 kB Active(anon):     192868 kB Inactive(anon):     4192 kB Active(file):    1558672 kB Inactive(file):  2006520 kB Unevictable:           0 kB Mlocked:               0 kB SwapTotal:       4194300 kB SwapFree:        4194300 kB Dirty:                 0 kB Writeback:             0 kB AnonPages:        191984 kB Mapped:            70448 kB Shmem:              5076 kB Slab:             347564 kB SReclaimable:     311568 kB SUnreclaim:        35996 kB KernelStack:        2464 kB PageTables:        11704 kB NFS_Unstable:          0 kB Bounce:                0 kB WritebackTmp:          0 kB CommitLimit:     8282672 kB Committed_AS:    1715008 kB VmallocTotal:   34359738367 kB VmallocUsed:      164428 kB VmallocChunk:   34359499320 kB HardwareCorrupted:     0 kB AnonHugePages:     69632 kB HugePages_Total:       0 HugePages_Free:        0 HugePages_Rsvd:        0 HugePages_Surp:        0 Hugepagesize:       2048 kB DirectMap4k:       85952 kB DirectMap2M:     8302592 kB  {code}   ></body> </Action>
<Action id="21350" issue="15175" author="ratnakar" type="comment" created="2017-03-07 03:20:44.0" updateauthor="ratnakar" updated="2017-03-07 03:20:44.0"> <body><! CDATA Used the Endorsement Policy {code} -P "OR	('Org0MSP.member','Org1MSP.member')" {code}  It is not possible to use  Endorsement policy with *AND* from CLI .  ></body> </Action>
<Action id="21453" issue="15175" author="ratnakar" type="comment" created="2017-03-11 02:55:43.0" updateauthor="ratnakar" updated="2017-03-11 02:55:43.0"> <body><! CDATA Executed one more run on March 10th fabric commit level :  *32959205a7ae8fc499a764c8b0e567f000f3a846*  Test Objective: * Create Network with the below configuration 1 zookeeper 1 orderer 2 kafka brokers 2 Organizations , with each organization containing 2 peers * Create  100 channels * Join all 4 peers on to the 100 channels * Install 10 chaincodes (The same chaincode installed with a different name) on each peer * For each channel ---> for each chaincode -> Query/Invoke/Query (QIQ) on each peer  Test Details:  * Script used from this repo https://github.com/asararatnakar/perf-test * Commit level on this repo *a3f5f4454868b1fd69b8814cf1f62109ebcfe5d2* * commnds used to run the test  {code} cd fabric  make docker  cd examples  git clone https://github.com/asararatnakar/perf-test e2e  cd e2e git reset --hard a3f5f4454868b1fd69b8814cf1f62109ebcfe5d2 ./generateCfgTrx.sh mychannel 100  CHANNEL_NAME=mychannel CHANNELS_NUM=100 CHAINCODES_NUM=10 ENDORSERS_NUM=4 docker-compose up &>docker-logs.txt & sleep 15 && docker logs -f cli  {code}  Execution Time: *64210* secs (~ 18 hrs) Test Result : *Passed*  Please see the details updated here : https://docs.google.com/spreadsheets/d/1_IdXCuYMKkqXr3Za0pVnFP3sP1jBcNbYnTJGV-nSkxI/edit#gid=57508105  ></body> </Action>
<Action id="23176" issue="15175" author="scottz" type="comment" created="2017-04-28 18:42:11.0" updateauthor="scottz" updated="2017-04-28 18:42:11.0"> <body><! CDATA As implied by the previous comments, this jira is completed. Results are noted above, and for more similar tests by searching for "Scalability" on this test plan which documents the test description, results, commit#, etc, at https://docs.google.com/spreadsheets/d/1_IdXCuYMKkqXr3Za0pVnFP3sP1jBcNbYnTJGV-nSkxI/edit#gid=57508105   ></body> </Action>
