<Action id="55555" issue="36644" author="sykesm" type="comment" created="2019-01-11 18:35:02.0" updateauthor="sykesm" updated="2019-01-11 18:35:02.0"> <body><! CDATA Hit again in https://gerrit.hyperledger.org/r/c/28587/  {code} 17:08:24 â€¢ Failure  122.327 seconds  17:08:24 EndToEnd reconfiguration and onboarding when the orderer certificates are all rotated  It  is still possible to onboard new orderers  17:08:24 /w/workspace/fabric-verify-integration-tests-x86_64/gopath/src/github.com/hyperledger/fabric/integration/e2e/etcdraft_reconfig_test.go:98 17:08:24  17:08:24   No future change is possible.  Bailing out early after 30.133s. 17:08:24   Expected 17:08:24       <int>: 1 17:08:24   to match exit code: 17:08:24       <int>: 0 17:08:24  17:08:24   /w/workspace/fabric-verify-integration-tests-x86_64/gopath/src/github.com/hyperledger/fabric/integration/e2e/etcdraft_reconfig_test.go:567 {code}  ></body> </Action>
<Action id="55575" issue="36644" author="guoger" type="comment" created="2019-01-13 06:54:13.0" updateauthor="guoger" updated="2019-01-13 06:54:13.0"> <body><! CDATA hit  here|https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/4672/consoleFull   There's an unexpected leader re-election: {code} 22:12:40  e  OrdererOrg.orderer1  2019-01-12 14:11:40.733 UTC  orderer.consensus.etcdraft  Step -> INFO 090 4 is starting a new election at term 3 {"channel": "systemchannel", "node": 4} 22:12:40  e  OrdererOrg.orderer1  2019-01-12 14:11:40.733 UTC  orderer.consensus.etcdraft  becomePreCandidate -> INFO 091 4 became pre-candidate at term 3 {"channel": "systemchannel", "node": 4} 22:12:40  e  OrdererOrg.orderer1  2019-01-12 14:11:40.733 UTC  orderer.consensus.etcdraft  poll -> INFO 092 4 received MsgPreVoteResp from 4 at term 3 {"channel": "systemchannel", "node": 4} 22:12:40  e  OrdererOrg.orderer1  2019-01-12 14:11:40.733 UTC  orderer.consensus.etcdraft  campaign -> INFO 093 4  logterm: 3, index: 14  sent MsgPreVote request to 5 at term 3 {"channel": "systemchannel", "node": 4} 22:12:40  e  OrdererOrg.orderer1  2019-01-12 14:11:40.733 UTC  orderer.consensus.etcdraft  campaign -> INFO 094 4  logterm: 3, index: 14  sent MsgPreVote request to 3 at term 3 {"channel": "systemchannel", "node": 4} 22:12:40  e  OrdererOrg.orderer2  2019-01-12 14:11:40.734 UTC  orderer.consensus.etcdraft  Step -> INFO 05b 5  logterm: 3, index: 14, vote: 3  cast MsgPreVote for 4  logterm: 3, index: 14  at term 3 {"channel": "systemchannel", "node": 5} 22:12:40  e  OrdererOrg.orderer1  2019-01-12 14:11:40.734 UTC  orderer.consensus.etcdraft  poll -> INFO 095 4 received MsgPreVoteResp from 5 at term 3 {"channel": "systemchannel", "node": 4} 22:12:40  e  OrdererOrg.orderer1  2019-01-12 14:11:40.734 UTC  orderer.consensus.etcdraft  stepCandidate -> INFO 096 4  quorum:2  has received 2 MsgPreVoteResp votes and 0 vote rejections {"channel": "systemchannel", "node": 4} 22:12:40  e  OrdererOrg.orderer1  2019-01-12 14:11:40.734 UTC  orderer.consensus.etcdraft  becomeCandidate -> INFO 097 4 became candidate at term 4 {"channel": "systemchannel", "node": 4} 22:12:40  e  OrdererOrg.orderer1  2019-01-12 14:11:40.734 UTC  orderer.consensus.etcdraft  poll -> INFO 098 4 received MsgVoteResp from 4 at term 4 {"channel": "systemchannel", "node": 4} 22:12:40  e  OrdererOrg.orderer1  2019-01-12 14:11:40.734 UTC  orderer.consensus.etcdraft  campaign -> INFO 099 4  logterm: 3, index: 14  sent MsgVote request to 5 at term 4 {"channel": "systemchannel", "node": 4} 22:12:40  e  OrdererOrg.orderer1  2019-01-12 14:11:40.734 UTC  orderer.consensus.etcdraft  campaign -> INFO 09a 4  logterm: 3, index: 14  sent MsgVote request to 3 at term 4 {"channel": "systemchannel", "node": 4} 22:12:40  e  OrdererOrg.orderer1  2019-01-12 14:11:40.734 UTC  orderer.consensus.etcdraft  run -> INFO 09b raft.node: 4 lost leader 3 at term 4 {"channel": "systemchannel", "node": 4} 22:12:40  e  OrdererOrg.orderer3  2019-01-12 14:11:40.734 UTC  orderer.consensus.etcdraft  Step -> INFO 172 3  logterm: 3, index: 15, vote: 3  rejected MsgPreVote from 4  logterm: 3, index: 14  at term 3 {"channel": "systemchannel", "node": 3} ... ... :12:41  e  OrdererOrg.orderer2  2019-01-12 14:11:41.363 UTC  orderer.consensus.etcdraft  Step -> INFO 05c 5 is starting a new election at term 3 {"channel": "systemchannel", "node": 5} 22:12:41  e  OrdererOrg.orderer2  2019-01-12 14:11:41.363 UTC  orderer.consensus.etcdraft  becomePreCandidate -> INFO 05d 5 became pre-candidate at term 3 {"channel": "systemchannel", "node": 5} 22:12:41  e  OrdererOrg.orderer2  2019-01-12 14:11:41.363 UTC  orderer.consensus.etcdraft  poll -> INFO 05e 5 received MsgPreVoteResp from 5 at term 3 {"channel": "systemchannel", "node": 5} 22:12:41  e  OrdererOrg.orderer2  2019-01-12 14:11:41.363 UTC  orderer.consensus.etcdraft  campaign -> INFO 05f 5  logterm: 3, index: 14  sent MsgPreVote request to 3 at term 3 {"channel": "systemchannel", "node": 5} 22:12:41  e  OrdererOrg.orderer2  2019-01-12 14:11:41.363 UTC  orderer.consensus.etcdraft  campaign -> INFO 060 5  logterm: 3, index: 14  sent MsgPreVote request to 4 at term 3 {"channel": "systemchannel", "node": 5} 22:12:41  e  OrdererOrg.orderer3  2019-01-12 14:11:41.364 UTC  orderer.consensus.etcdraft  Step -> INFO 183 3  logterm: 3, index: 15, vote: 3  rejected MsgPreVote from 5  logterm: 3, index: 14  at term 3 {"channel": "systemchannel", "node": 3} 22:12:41  e  OrdererOrg.orderer1  2019-01-12 14:11:41.364 UTC  orderer.consensus.etcdraft  Step -> INFO 09c 4  logterm: 3, index: 14, vote: 4  rejected MsgPreVote from 5  logterm: 3, index: 14  at term 4 {"channel": "systemchannel", "node": 4} ... ... 22:12:41  e  OrdererOrg.orderer1  2019-01-12 14:11:42.205148 W | wal: sync duration of 1.470361212s, expected less than 1s 22:12:41  e  OrdererOrg.orderer1  2019-01-12 14:11:42.205 UTC  orderer.consensus.etcdraft  serveRequest -> INFO 09d Raft leader changed: 3 -> 0 {"channel": "systemchannel", "node": 4} 22:12:41  e  OrdererOrg.orderer2  2019-01-12 14:11:42.205 UTC  orderer.consensus.etcdraft  Step -> INFO 061 5  term: 3  received a MsgVote message with higher term from 4  term: 4  {"channel": "systemchannel", "node": 5} 22:12:41  e  OrdererOrg.orderer2  2019-01-12 14:11:42.205 UTC  orderer.consensus.etcdraft  becomeFollower -> INFO 062 5 became follower at term 4 {"channel": "systemchannel", "node": 5} 22:12:41  e  OrdererOrg.orderer2  2019-01-12 14:11:42.205 UTC  orderer.consensus.etcdraft  Step -> INFO 063 5  logterm: 3, index: 14, vote: 0  cast MsgVote for 4  logterm: 3, index: 14  at term 4 {"channel": "systemchannel", "node": 5} 22:12:41  e  OrdererOrg.orderer2  2019-01-12 14:11:42.205 UTC  orderer.consensus.etcdraft  run -> INFO 064 raft.node: 5 lost leader 3 at term 4 {"channel": "systemchannel", "node": 5} 22:12:41  e  OrdererOrg.orderer3  2019-01-12 14:11:42.206 UTC  orderer.consensus.etcdraft  Step -> INFO 19c 3  term: 3  received a MsgVote message with higher term from 4  term: 4  {"channel": "systemchannel", "node": 3} 22:12:41  e  OrdererOrg.orderer3  2019-01-12 14:11:42.206 UTC  orderer.consensus.etcdraft  becomeFollower -> INFO 19d 3 became follower at term 4 {"channel": "systemchannel", "node": 3} 22:12:41  e  OrdererOrg.orderer3  2019-01-12 14:11:42.206 UTC  orderer.consensus.etcdraft  Step -> INFO 19e 3  logterm: 3, index: 15, vote: 0  rejected MsgVote from 4  logterm: 3, index: 14  at term 4 {"channel": "systemchannel", "node": 3} 22:12:41  e  OrdererOrg.orderer3  2019-01-12 14:11:42.206 UTC  orderer.consensus.etcdraft  run -> INFO 19f raft.node: 3 lost leader 3 at term 4 {"channel": "systemchannel", "node": 3} 22:12:41  e  OrdererOrg.orderer1  2019-01-12 14:11:42.206 UTC  orderer.consensus.etcdraft  Step -> INFO 09e 4  term: 4  ignored a MsgApp message with lower term from 3  term: 3  {"channel": "systemchannel", "node": 4} 22:12:41  e  OrdererOrg.orderer3  2019-01-12 14:11:42.206291 W | wal: sync duration of 2.573402548s, expected less than 1s 22:12:41  e  OrdererOrg.orderer2  2019-01-12 14:11:42.207 UTC  orderer.consensus.etcdraft  Step -> INFO 065 5  term: 4  ignored a MsgApp message with lower term from 3  term: 3  {"channel": "systemchannel", "node": 5} 22:12:41  e  OrdererOrg.orderer2  2019-01-12 14:11:42.207 UTC  orderer.consensus.etcdraft  serveRequest -> INFO 066 Raft leader changed: 3 -> 0 {"channel": "systemchannel", "node": 5} 22:12:41  e  OrdererOrg.orderer1  2019-01-12 14:11:42.207 UTC  orderer.consensus.etcdraft  poll -> INFO 09f 4 received MsgVoteResp from 5 at term 4 {"channel": "systemchannel", "node": 4} 22:12:41  e  OrdererOrg.orderer1  2019-01-12 14:11:42.207 UTC  orderer.consensus.etcdraft  stepCandidate -> INFO 0a0 4  quorum:2  has received 2 MsgVoteResp votes and 0 vote rejections {"channel": "systemchannel", "node": 4} 22:12:41  e  OrdererOrg.orderer1  2019-01-12 14:11:42.207 UTC  orderer.consensus.etcdraft  becomeLeader -> INFO 0a1 4 became leader at term 4 {"channel": "systemchannel", "node": 4} 22:12:41  e  OrdererOrg.orderer1  2019-01-12 14:11:42.207 UTC  orderer.consensus.etcdraft  run -> INFO 0a2 raft.node: 4 elected leader 4 at term 4 {"channel": "systemchannel", "node": 4} 22:12:41  e  OrdererOrg.orderer3  2019-01-12 14:11:42.208 UTC  orderer.consensus.etcdraft  serveRequest -> INFO 1a0 Raft leader changed: 3 -> 0 {"channel": "systemchannel", "node": 3} 22:12:41  e  OrdererOrg.orderer1  2019-01-12 14:11:42.208 UTC  orderer.consensus.etcdraft  Step -> INFO 0a3 4  term: 4  ignored a MsgPreVoteResp message with lower term from 3  term: 3  {"channel": "systemchannel", "node": 4} 22:12:41  e  OrdererOrg.orderer2  2019-01-12 14:11:42.209 UTC  orderer.consensus.etcdraft  Step -> INFO 067 5  term: 4  ignored a MsgPreVoteResp message with lower term from 3  term: 3  {"channel": "systemchannel", "node": 5} 22:12:41  e  OrdererOrg.orderer1  2019-01-12 14:11:42.209 UTC  orderer.consensus.etcdraft  serveRequest -> INFO 0a4 Raft leader changed: 0 -> 4 {"channel": "systemchannel", "node": 4} 22:12:41  e  OrdererOrg.orderer3  2019-01-12 14:11:42.209 UTC  orderer.consensus.etcdraft  findConflict -> INFO 1a1 found conflict at index 15  existing term: 3, conflicting term: 4  {"channel": "systemchannel", "node": 3} 22:12:41  e  OrdererOrg.orderer3  2019-01-12 14:11:42.209 UTC  orderer.consensus.etcdraft  truncateAndAppend -> INFO 1a2 replace the unstable entries from index 15 {"channel": "systemchannel", "node": 3} 22:12:41  e  OrdererOrg.orderer3  2019-01-12 14:11:42.209 UTC  orderer.consensus.etcdraft  run -> INFO 1a3 raft.node: 3 elected leader 4 at term 4 {"channel": "systemchannel", "node": 3} 22:12:41  e  OrdererOrg.orderer2  2019-01-12 14:11:42.210 UTC  orderer.consensus.etcdraft  run -> INFO 068 raft.node: 5 elected leader 4 at term 4 {"channel": "systemchannel", "node": 5} 22:12:41  e  OrdererOrg.orderer3  2019-01-12 14:11:42.210 UTC  orderer.consensus.etcdraft  serveRequest -> INFO 1a4 Raft leader changed: 0 -> 4 {"channel": "systemchannel", "node": 3} 22:12:41  e  OrdererOrg.orderer2  2019-01-12 14:11:42.211 UTC  orderer.consensus.etcdraft  serveRequest -> INFO 069 Raft leader changed: 0 -> 4 {"channel": "systemchannel", "node": 5} {code}  ></body> </Action>
<Action id="56678" issue="36644" author="jyellick" type="comment" created="2019-02-05 04:33:44.0" updateauthor="jyellick" updated="2019-02-05 04:33:44.0"> <body><! CDATA https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/5315/console and https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/5309/console  And seen others too.  This seems to happen very consistently for me.  Right now I think I am 4/4.  ></body> </Action>
