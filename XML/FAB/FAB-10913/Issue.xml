<Issue id="31446" key="FAB-10913" number="10913" project="10002" reporter="ratnakar" creator="ratnakar" type="10004" summary="peers are unable to fetch the blocks when one of the orderer goes down" priority="3" resolution="10000" status="6" created="2018-06-28 14:49:11.0" updated="2018-07-20 14:17:04.0" resolutiondate="2018-06-28 17:14:42.0" votes="0" watches="2" workflowId="42567"> <description><! CDATA *+Network Topology+*:  Use the same network topology as *e2e_cli example*, except that used *3 orderers* instead of one orderer. {panel} _Step 1:_ Perform the following actions using *Orderer0* * Check for orderering service availability * Create Channel * Update Anchor Peers of both the Orgs.  _Step 2:_ Instantiate the chaincode on Org2 Peer0 , use *Orderer1*  _Step 3:_ Query the chaincode on Org1 Peer0 (Tryout 120 secs)  _Step 4:_ Invoke the chaincode on Org1 Peer0, use *Orderer2* {panel} *Testcase Descrption:* _+Case 1+ :_ {panel} * Execute Step 1 * Execute Step 2 * *Kill Orderer0* and wait for 20 secs * Execute Step 3  _+Expected Result+:_ State Transfer should happen (fetch block from available orderer) , a chaincode container should be launched and query should be successful   _+Actual Result+:_ Fails with the following errors {code:java} Error: endorsement failure during query. response: status:500 message:"make sure the chaincode mycc has been successfully instantiated and try again: getccdata mychannel/mycc responded with error: could not find chaincode with name 'mycc'" {code} {panel}   _+Case 2+ :_ {panel} * Execute Step 1 * Execute Step 2 * Execute Step 3 * *Kill Orderer0* and wait for 20 secs * Execute Step 4 * Execute Step 3 *again*  _+Expected Result+:_ State Transfer should happen (fetch block from available orderer) , a and query should be successful with value *90*.   +_Actual Result:_+ Fails with query result as *100* {panel} Logs for case1 and case2 are enclosed  ^case1_case2_logs.zip  ,  cli container logs for  ^case1.txt  &  ^case2.txt   ></description> </Issue>
