<Issue id="46962" key="FAB-18504" number="18504" project="10002" reporter="JIRAUSER22010" assignee="JIRAUSER22010" creator="JIRAUSER22010" type="10004" summary="The new peer section of the chaincode container did not start" priority="5" status="10300" created="2021-06-19 02:56:28.0" updated="2021-07-04 15:54:01.0" votes="0" watches="1" workflowId="60874" archived="N"> <description><! CDATA restart peer error logs: {code:java} 2021-06-19 10:40:33.630 CST  container  func1 -> WARN 02e failed to stop chaincode ccid=invoiceSpe:xxxxxxxxxxx error="No such container: dev-peer3-org1-invoiceSpe-xxxxxxxxx" 2021-06-19 10:40:33.630 CST  container  func1 -> WARN 02f failed to stop chaincode ccid=accountFund:xxxxxxx error="No such container: dev-peer3-org1-accountFund-xxxxxxx" 2021-06-19 10:40:33.630 CST  container  func1 -> WARN 030 failed to stop chaincode ccid=invoice:xxxxxxx error="No such container: dev-peer3-org1-invoice-xxxxxxx" 2021-06-19 10:40:33.630 CST  container  func1 -> WARN 031 failed to stop chaincode ccid=incomeDetail:xxxxxxx error="No such container: dev-peer3-org1-incomeDetail-xxxxxxxxxxx" 2021-06-19 10:40:33.757 CST  gossip.service  Stop -> INFO 032 Stopping chain prodtestchannel 2021-06-19 10:40:33.757 CST  gossip.service  Stop -> INFO 033 Stopping leader election for prodtestchannel 2021-06-19 10:40:33.757 CST  gossip.gossip  Stop -> INFO 034 Stopping gossip 2021-06-19 10:40:33.757 CST  gossip.discovery  Stop -> INFO 035 Stopping 2021-06-19 10:40:33.757 CST  gossip.discovery  Stop -> INFO 036 Stopped 2021-06-19 10:40:33.757 CST  gossip.comm  Stop -> INFO 037 Stopping 2021-06-19 10:40:33.757 CST  comm.grpc.server  1 -> INFO 038 streaming call completed grpc.service=gossip.Gossip grpc.method=GossipStream grpc.peer_address=172.16.87.202:34046 grpc.peer_subject="xxxxxxxxxxx" grpc.code=OK grpc.call_duration=447h4m38.738219635s 2021-06-19 10:40:33.757 CST  comm.grpc.server  1 -> INFO 039 streaming call completed grpc.service=gossip.Gossip grpc.method=GossipStream grpc.peer_address=172.16.91.175:47168 grpc.peer_subject="xxxxxxxxx" grpc.code=OK grpc.call_duration=447h4m39.16180887s 2021-06-19 10:40:33.757 CST  gossip.comm  Stop -> INFO 03a Stopped 2021-06-19 10:40:34.901 CST  nodeCmd  serve -> INFO 001 Starting peer: Version: 2.2.0 Commit SHA: 5ea85bc54 Go version: go1.14.4 OS/Arch: linux/amd64 Chaincode: Base Docker Label: org.hyperledger.fabric Docker Namespace: hyperledger 2021-06-19 10:40:34.902 CST  peer  getLocalAddress -> INFO 002 Auto-detected peer address: 172.16.87.242:12051 2021-06-19 10:40:34.902 CST  peer  getLocalAddress -> INFO 003 Returning peer3-org1:12051 2021-06-19 10:40:34.907 CST  nodeCmd  initGrpcSemaphores -> INFO 004 concurrency limit for endorser service is 2500 2021-06-19 10:40:34.907 CST  nodeCmd  initGrpcSemaphores -> INFO 005 concurrency limit for deliver service is 2500 2021-06-19 10:40:34.907 CST  nodeCmd  serve -> INFO 006 Starting peer with TLS enabled 2021-06-19 10:40:34.921 CST  ledgermgmt  NewLedgerMgr -> INFO 007 Initializing LedgerMgr 2021-06-19 10:40:35.031 CST  ledgermgmt  NewLedgerMgr -> INFO 008 Initialized LedgerMgr 2021-06-19 10:40:35.039 CST  gossip.service  New -> INFO 009 Initialize gossip with endpoint peer3-org1:12051 2021-06-19 10:40:35.040 CST  gossip.gossip  New -> INFO 00a Creating gossip service with self membership of Endpoint: peer3-org1:12051, InternalEndpoint: peer3-org1:12051, PKI-ID: 7e271e87fe37a4e97146c74d535aba35f61e3dc80016924442611a26ffa36d96, Metadata: 2021-06-19 10:40:35.040 CST  gossip.gossip  start -> INFO 00b Gossip instance peer3-org1:12051 started 2021-06-19 10:40:35.901 CST  lifecycle  InitializeLocalChaincodes -> INFO 00c Initialized lifecycle cache with 8 already installed chaincodes 2021-06-19 10:40:35.902 CST  nodeCmd  computeChaincodeEndpoint -> INFO 00d Entering computeChaincodeEndpoint with peerHostname: peer3-org1 2021-06-19 10:40:35.902 CST  nodeCmd  computeChaincodeEndpoint -> INFO 00e Exit with ccEndpoint: peer3-org1:12052 2021-06-19 10:40:35.907 CST  sccapi  DeploySysCC -> INFO 00f deploying system chaincode 'lscc' 2021-06-19 10:40:35.911 CST  sccapi  DeploySysCC -> INFO 010 deploying system chaincode 'cscc' 2021-06-19 10:40:35.911 CST  sccapi  DeploySysCC -> INFO 011 deploying system chaincode 'qscc' 2021-06-19 10:40:35.911 CST  sccapi  DeploySysCC -> INFO 012 deploying system chaincode '_lifecycle' 2021-06-19 10:40:35.911 CST  nodeCmd  serve -> INFO 013 Deployed system chaincodes 2021-06-19 10:40:35.911 CST  peer  Initialize -> INFO 014 Loading chain prodtestchannel 2021-06-19 10:40:35.911 CST  ledgermgmt  OpenLedger -> INFO 015 Opening ledger with id = prodtestchannel 2021-06-19 10:40:35.952 CST  lifecycle  update -> INFO 016 Updating cached definition for chaincode 'transactionInvestigate' on channel 'prodtestchannel' 2021-06-19 10:40:35.977 CST  lifecycle  update -> INFO 017 Chaincode with package ID 'transactionInvestigate:xxxxxxxxxxxx' now available on channel prodtestchannel for chaincode definition transactionInvestigate:v1 2021-06-19 10:40:35.977 CST  lifecycle  update -> INFO 018 Updating cached definition for chaincode 'riskInterceptDirectorSupervisor' on channel 'prodtestchannel' 2021-06-19 10:40:35.999 CST  lifecycle  update -> INFO 019 Chaincode with package ID 'riskInterceptDirectorSupervisor:xxxxxxx' now available on channel prodtestchannel for chaincode definition riskInterceptDirectorSupervisor:v1 2021-06-19 10:40:35.999 CST  lifecycle  update -> INFO 01a Updating cached definition for chaincode 'riskInterceptMinor' on channel 'prodtestchannel' 2021-06-19 10:40:36.013 CST  lifecycle  update -> INFO 01b Chaincode with package ID 'riskInterceptMinor:xxxxxxx' now available on channel prodtestchannel for chaincode definition riskInterceptMinor:v1 2021-06-19 10:40:36.013 CST  lifecycle  update -> INFO 01c Updating cached definition for chaincode 'settledDealer' on channel 'prodtestchannel' 2021-06-19 10:40:36.036 CST  lifecycle  update -> INFO 01d Chaincode with package ID 'settledDealer:xxxxxxxx' now available on channel prodtestchannel for chaincode definition settledDealer:v1 2021-06-19 10:40:36.044 CST  ledgermgmt  OpenLedger -> INFO 01e Opened ledger with id = prodtestchannel {code} 2021-06-19 10:40:35.901 CST  lifecycle  InitializeLocalChaincodes -> INFO 00c Initialized lifecycle cache with 8 already installed chaincodes     You can see from the log that 8 chaincodes have been installed,        2021-06-19 10:40:35.911 CST  ledgermgmt  OpenLedger -> INFO 015 Opening ledger with id = prodtestchannel     When the chaincode container is started, it cannot be started, and no error is reported in the log. The statedb I use is couchdb. I queried the couchdb in the leader peer. There are 8 chaincodes under /prodtestchannel__lifecycle, but there are only 4 when syncing to the new peer. When I initialize the peer, I see the startup chaincode. The information is obtained from couchdb, why is there a difference in the synchronization of couchdb information, or other reasons  ></description> </Issue>
