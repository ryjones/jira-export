<Issue id="31211" key="FAB-10742" number="10742" project="10002" reporter="c0rwin" assignee="c0rwin" creator="c0rwin" type="10004" summary="Optimize pvt data retrieval" priority="2" resolution="10000" status="6" created="2018-06-20 12:35:51.0" updated="2018-07-20 14:17:00.0" resolutiondate="2018-07-05 19:22:36.0" votes="0" watches="3" workflowId="42494"> <description><! CDATA Currently while pulling for missing private data, we iterating over slice of digests which summarize missing peaces and for each digest in slice querying either from ledger (if committed) or from transient store.  This approach is inefficient it terms of number of queries done against ledger, since we might have several digests of different transaction belongs to one block, hence we might optimize the query, by grouping all missing data by block sequence number and retrieving all of them at once, rather than repeating query for same block over again.  Additional issue is that while returning missing private data from ledger (in case it was already committed) we using {{GetPvtDataByNum}} API which returns all private data underlined for the block for all transactions, while we usually interesting in particular tx index. Therefore we can filter out transactions or private rwsets of transactions which we are not interesting in, thus saving network bandwidth utilization optimizing pull response processing.  ></description> </Issue>
