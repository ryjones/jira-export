<Issue id="31271" key="FAB-10797" number="10797" project="10002" reporter="yxuco" creator="yxuco" type="10001" summary="Range query on composite keys" priority="3" resolution="10002" status="6" created="2018-06-21 15:10:48.0" updated="2018-08-20 11:33:31.0" resolutiondate="2018-08-20 11:33:31.0" votes="0" watches="1" workflowId="35882"> <description><! CDATA Currently, the stub.GetStateByRange(startKey, endKey) works with simple keys only.   The following code in fabric/core/chaincode/shim/chaincode intentionally made it not to work with composite keys.  However, there are use cases that we need to query range of a partial composite key.  So, we should remove the restriction of simple-key from this method, or add another public method for GetStateByPartialCompositeKeyRange, so we can do range queries on composite keys.   // GetStateByRange documentation can be found in interfaces.go func (stub *ChaincodeStub) GetStateByRange(startKey, endKey string) (StateQueryIteratorInterface, error) \{     if startKey == "" \{         startKey = emptyKeySubstitute     }     if err := validateSimpleKeys(startKey, endKey); err != nil \{         return nil, err     }     collection := ""     return stub.handleGetStateByRange(collection, startKey, endKey) }  ></description> </Issue>
