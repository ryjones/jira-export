<Issue id="42798" key="FAB-16862" number="16862" project="10002" reporter="caod" creator="caod" type="10002" summary="Fix integration tests that don&apos;t properly set up channel membership" priority="3" resolution="10002" status="6" created="2019-10-17 19:49:17.0" updated="2020-04-19 04:44:54.0" resolutiondate="2020-04-19 04:44:40.0" votes="0" watches="2" workflowId="55878"> <description><! CDATA Turns out there are some integration tests (notably in e2e and lifecycle) that end up hitting the pull retry threshold when attempting to fetch some private data from peers, this is largely due to the fact that channel membership isn't properly set up, when peers attempt to fetch from other peers they first try to check the members in the channel. Seems like in the tests that hit this threshold, that membership list is always empty because it's not properly set up (whether because there are no anchor peers or some other issue). The tests normally don't care because after hitting the retry threshold they will just proceed as if the private data were missing since the data is irrelevant to the test. We can probably save a couple minutes in the tests if we fix all of the places that have this issue so they never end up hitting the retry threshold.  Â   Furthermore for tests that need to pull pvtdata, we should figure out if and why they need to enter the pull retry loop since we don't expect it to fail fetching on the first call.  ></description> </Issue>
