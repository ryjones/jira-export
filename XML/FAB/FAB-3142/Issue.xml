<Issue id="15729" key="FAB-3142" number="3142" project="10002" reporter="binhn" creator="binhn" type="10000" summary="Errors must contain error code" priority="3" resolution="10001" status="6" created="2017-04-13 14:48:34.0" updated="2020-01-22 19:04:11.0" resolutiondate="2020-01-22 19:04:11.0" votes="0" watches="2" workflowId="42905"> <description><! CDATA In an effort to support serviceability; that is, allowing support, analytic and monitoring tools to parse error records (log) and react accordingly, we need to include an error code in each error log, critical or panic log (possibly info and warning). The error code consists of 2 parts: 1 tells where the error is and 2 indicates the reason for the error.   The Jira issue documents how-to is  FAB-2985  and  changeset|https://gerrit.hyperledger.org/r/#/c/7845/ .  We encode a component with 3-uppercase-character code followed by a reason code, like "MSP:401". The reason codes are HTTP codes, but we can define more in 400s and 500s as needed.  Here is the list of proposed component codes:  # bccsp - CSP # common - CMN # core - COR # core/chaincode - CCS # core/deliverservice - CDS # core/ledger - LGR # core/scc - SCC  # gossip - GSP # events - EVT # msp - MSP # peer - PER # orderer - ORD # fabric-ca - FCA  Should we have more granularity?  Example Suppose we define 420 REPLAY TRANSACTION. We use this to log replay transactions that we detect at the endorser, which is part of COR component.  The entire message may look like "COR:420 - Replay transaction <txID> detected from transactor <transactorID>".   ></description> </Issue>
