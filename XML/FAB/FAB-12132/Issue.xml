<Issue id="34041" key="FAB-12132" number="12132" project="10002" reporter="lvdvliet" assignee="sykesm" creator="lvdvliet" type="10004" summary="Fabric peer fails on CIFS mounted folder" priority="3" resolution="10000" status="6" created="2018-09-24 17:49:39.0" updated="2018-09-27 10:47:47.0" resolutiondate="2018-09-27 10:47:31.0" votes="0" watches="2" workflowId="45361"> <description><! CDATA When placing the peer's data folder on a CIFS share it fails with the following error: {code:java} 2018-09-24 17:14:16.753 UTC  ledgermgmt  initialize -> INFO 002 0m Initializing ledger mgmt 2018-09-24 17:14:16.753 UTC  kvledger  NewProvider -> INFO 003 0m Initializing ledger provider panic: Error while trying to open DB: sync /var/hyperledger/production/ledgersData/ledgerProvider: invalid argument  goroutine 1  running : github.com/hyperledger/fabric/common/ledger/util/leveldbhelper.(*DB).Open(0xc420085640) 	/opt/gopath/src/github.com/hyperledger/fabric/common/ledger/util/leveldbhelper/leveldb_helper.go:88 +0x24d github.com/hyperledger/fabric/core/ledger/kvledger.openIDStore(0xc4201a28c0, 0x36, 0x1) 	/opt/gopath/src/github.com/hyperledger/fabric/core/ledger/kvledger/kv_ledger_provider.go:250 +0x11d github.com/hyperledger/fabric/core/ledger/kvledger.NewProvider(0xf1d0c0, 0x0, 0x0, 0x0) 	/opt/gopath/src/github.com/hyperledger/fabric/core/ledger/kvledger/kv_ledger_provider.go:60 +0x8e github.com/hyperledger/fabric/core/ledger/ledgermgmt.initialize(0xc4204017d0, 0x0, 0x0, 0x0) 	/opt/gopath/src/github.com/hyperledger/fabric/core/ledger/ledgermgmt/ledger_mgmt.go:65 +0x26f github.com/hyperledger/fabric/core/ledger/ledgermgmt.Initialize.func1() 	/opt/gopath/src/github.com/hyperledger/fabric/core/ledger/ledgermgmt/ledger_mgmt.go:52 +0x3b sync.(*Once).Do(0x19a0ac0, 0xc4208955d0) 	/opt/go/src/sync/once.go:44 +0xbe github.com/hyperledger/fabric/core/ledger/ledgermgmt.Initialize(0xc4204017d0) 	/opt/gopath/src/github.com/hyperledger/fabric/core/ledger/ledgermgmt/ledger_mgmt.go:51 +0x4d github.com/hyperledger/fabric/peer/node.serve(0x19a09e8, 0x0, 0x0, 0x0, 0x0) 	/opt/gopath/src/github.com/hyperledger/fabric/peer/node/start.go:148 +0x346 github.com/hyperledger/fabric/peer/node.glob..func1(0x1891cc0, 0x19a09e8, 0x0, 0x0, 0x0, 0x0) 	/opt/gopath/src/github.com/hyperledger/fabric/peer/node/start.go:111 +0x9c github.com/hyperledger/fabric/vendor/github.com/spf13/cobra.(*Command).execute(0x1891cc0, 0x19a09e8, 0x0, 0x0, 0x1891cc0, 0x19a09e8) 	/opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/spf13/cobra/command.go:698 +0x46d github.com/hyperledger/fabric/vendor/github.com/spf13/cobra.(*Command).ExecuteC(0x1892320, 0x197c7b0, 0xf, 0x2) 	/opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/spf13/cobra/command.go:783 +0x2e4 github.com/hyperledger/fabric/vendor/github.com/spf13/cobra.(*Command).Execute(0x1892320, 0x2, 0xffffffffffffffff) 	/opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/spf13/cobra/command.go:736 +0x2b main.main() 	/opt/gopath/src/github.com/hyperledger/fabric/peer/main.go:97 +0x5bf  {code} Doing further inspection this appears to be related to the following issue (for which a fix has been pushed to master recently):   https://github.com/syndtr/goleveldb/pull/221   Â   Please consider updating the goleveldb package to fix this issue.  Â   ></description> </Issue>
