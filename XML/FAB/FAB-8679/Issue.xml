<Issue id="28251" key="FAB-8679" number="8679" project="10002" reporter="rennman" assignee="rennman" creator="rennman" type="10004" summary="fabric-samples permit fabric-ca sample to omit intermediate CAs" priority="3" resolution="10000" status="6" created="2018-03-06 18:42:17.0" updated="2018-07-20 14:15:56.0" resolutiondate="2018-03-07 06:58:05.0" votes="0" watches="2" workflowId="41452"> <description><! CDATA Obviously the intention of the environment variable  {{USE_INTERMEDIATE_CA=true}}  is to allow the user to selectively use intermediate CAs or exclusively root CAs.  However, there are two instances where intermediate CA certificates are referenced unconditionally:  {{export ORDERER_GENERAL_TLS_ROOTCAS= $INT_CA_CHAINFILE }} {{export CORE_PEER_TLS_ROOTCERT_FILE=$INT_CA_CHAINFILE}}  These should be changed to: {{export ORDERER_GENERAL_TLS_ROOTCAS= $CA_CHAINFILE }} {{export CORE_PEER_TLS_ROOTCERT_FILE=$CA_CHAINFILE}} respectively.    Moreover, the check {{if $USE_INTERMEDIATE_CA; then}}  should read: {{if test "$USE_INTERMEDIATE_CA" = "true"; then}} ...  ></description> </Issue>
