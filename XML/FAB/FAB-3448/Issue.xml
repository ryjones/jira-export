<Issue id="16043" key="FAB-3448" number="3448" project="10002" reporter="rickr" assignee="jyellick" creator="rickr" type="10004" summary="Sending a bad config upgrade can result in a orderer panic " priority="3" resolution="10000" status="6" created="2017-04-27 10:59:41.0" updated="2018-07-20 14:12:25.0" resolutiondate="2017-05-10 14:38:13.0" votes="0" watches="4" workflowId="38181"> <description><! CDATA Sending the old configtx produce channel upgrade block resulted in   goroutine 22  running : panic(0xb3b5a0, 0xc42000c050) 	/opt/go/src/runtime/panic.go:500 +0x1a1 github.com/hyperledger/fabric/common/config.(*ConsortiumsGroup).Consortiums(0x0, 0x1193920) 	<autogenerated>:135 +0x5 github.com/hyperledger/fabric/orderer/multichain.(*multiLedger).NewChannelConfig(0xc4202495e0, 0xc42021f230, 0x2, 0xc42025e100, 0x0, 0x0) 	/opt/gopath/src/github.com/hyperledger/fabric/orderer/multichain/manager.go:245 +0x3e2 main.(*configUpdateSupport).NewChannelConfig(0xc4201978c0, 0xc42021f230, 0x11bc7c0, 0xc420387a48, 0x599da0, 0xc4201bcc00) 	<autogenerated>:1 +0x53 github.com/hyperledger/fabric/orderer/configupdate.(*Processor).newChannelConfig(0xc420304a40, 0xc4201301d8, 0x3, 0xc42021f230, 0x1, 0x1, 0xc420010960) 	/opt/gopath/src/github.com/hyperledger/fabric/orderer/configupdate/configupdate.go:134 +0x45 github.com/hyperledger/fabric/orderer/configupdate.(*Processor).Process(0xc420304a40, 0xc42021f230, 0x0, 0x0, 0xc4201300e0) 	/opt/gopath/src/github.com/hyperledger/fabric/orderer/configupdate/configupdate.go:117 +0x2e5 main.(*broadcastSupport).Process(0xc420374a40, 0xc42021f230, 0x1b, 0x0, 0x0) 	<autogenerated>:8 +0x54 github.com/hyperledger/fabric/orderer/common/broadcast.(*handlerImpl).Handle(0xc4201978d0, 0x11a3060, 0xc420197ab0, 0x0, 0x0) 	/opt/gopath/src/github.com/hyperledger/fabric/orderer/common/broadcast/broadcast.go:111 +0x959 main.(*server).Broadcast(0xc420374a60, 0x11a3060, 0xc420197ab0, 0xc4200234a8, 0xc4200234d0) 	/opt/gopath/src/github.com/hyperledger/fabric/orderer/server.go:75 +0x8b github.com/hyperledger/fabric/protos/orderer._AtomicBroadcast_Broadcast_Handler(0xb402c0, 0xc420374a60, 0x11a1800, 0xc4201a8300, 0xc42021f200, 0x0) 	/opt/gopath/src/github.com/hyperledger/fabric/protos/orderer/ab.pb.go:523 +0xbb github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*Server).processStreamingRPC(0xc420222090, 0x11a28e0, 0xc420223200, 0xc4200bc0f0, 0xc42021edb0, 0x1188ae0, 0xc42021f1d0, 0x0, 0x0) 	/opt/gopath/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/server.go:657 +0x6f3 github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*Server).handleStream(0xc420222090, 0x11a28e0, 0xc420223200, 0xc4200bc0f0, 0xc42021f1d0) 	/opt/gopath/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/server.go:741 +0xc33 github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*Server).serveStreams.func1.1(0xc4201979f0, 0xc420222090, 0x11a28e0, 0xc420223200, 0xc4200bc0f0) 	/opt/gopath/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/server.go:402 +0xab created by github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*Server).serveStreams.func1  ></description> </Issue>
