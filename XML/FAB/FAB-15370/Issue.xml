<Issue id="39655" key="FAB-15370" number="15370" project="10002" reporter="bharadwajambati1" creator="bharadwajambati1" type="10004" summary="Failing TLS tests in Behave CouchDB_index.feature" priority="3" resolution="10203" status="6" created="2019-05-07 02:46:43.0" updated="2019-07-30 03:18:44.0" resolutiondate="2019-07-30 03:18:44.0" votes="0" watches="2" workflowId="52540"> <description><! CDATA Disabling TLS for the test scenarios in CouchDB_index.feature from fabric-test repo due to IO error while running the svt-daily-behavesuite.     *Sample Scenario:* {code:java} 13:34:22   @daily 13:34:22   Scenario Outline: FAB-7251: Test CouchDB indexing using marbles chaincode using GOLANG with 1 channels and 1 index with 1 selector -- @1.1                                                                                                              # CouchDB_index.feature:31 13:34:22     Given I have a bootstrapped fabric network of type kafka using state-database couchdb with tls                                                                                                                                                        # steps/basic_impl.py:300 13:34:22 org1.example.com 13:34:22 org2.example.com 13:34:22 2019-05-06 17:34:22.823 UTC  common.tools.configtxgen  main -> INFO 001 Loading configuration 13:34:23 2019-05-06 17:34:23.091 UTC  common.tools.configtxgen.localconfig  completeInitialization -> INFO 002 orderer type: kafka {code} Assertion failed error at the end of the test scenario {code:java} 13:34:52 2019-05-06 17:34:52.827 UTC  common.tools.configtxgen  doOutputChannelCreateTx -> INFO 005 Generating new channel configtx 13:34:52 2019-05-06 17:34:52.838 UTC  common.tools.configtxgen  doOutputChannelCreateTx -> INFO 006 Writing new channel tx 13:35:32     And an admin deploys chaincode at path "github.com/hyperledger/fabric-samples/chaincode/marbles02/go" with args  ""  with name "mycc1" with language "GOLANG" on channel "mychannel1"                                                                 # steps/endorser_impl.py:119 13:36:09     When a user invokes on the channel "mychannel1" using chaincode named "mycc1" with args  "initMarble","marble100","red","5","cassey"  on "peer0.org1.example.com"                                                                                     # steps/endorser_impl.py:634 13:36:15     When a user queries on the channel "mychannel1" using chaincode named "mycc1" with args  "queryMarbles","{\\"selector\\":{\\"size\\":5}, \\"use_index\\": \\"_design/indexdoc_behave_test\\", \\"index_behave_test\\" }"  on "peer0.org1.example.com" # steps/endorser_impl.py:466 13:36:20     Then a user receives a response containing "owner":"cassey"                                                                                                                                                                                           # steps/endorser_impl.py:1228 13:36:20       Assertion Failed: Expected response was "owner":"cassey"; received    13:36:20        13:36:20       Captured stdout: 13:36:20       test 2fa26732702511e9bfd6fa163e2133a3 already exists!!! 13:36:20       test 2fa26732702511e9bfd6fa163e2133a3 already exists!!! 13:36:20       reg testConfigs: configs/2fa26732702511e9bfd6fa163e2133a3 {code} At the end of logs found the IOError:  Errno 11  Resource temporarily unavailable {code:java}  chaincode.platform.golang  func1 -> DEBU 04b\x1b 0m Discarding GOROOT package sException IOError:  Errno 11  Resource temporarily unavailable 13:36:20 Traceback (most recent call last): 13:36:20   File "/usr/local/bin/behave", line 11, in <module> 13:36:20     sys.exit(main()) 13:36:20   File "/usr/local/lib/python2.7/dist-packages/behave/__main__.py", line 183, in main 13:36:20     return run_behave(config) 13:36:20   File "/usr/local/lib/python2.7/dist-packages/behave/__main__.py", line 127, in run_behave 13:36:20     failed = runner.run() 13:36:20   File "/usr/local/lib/python2.7/dist-packages/behave/runner.py", line 804, in run 13:36:20     return self.run_with_paths() 13:36:20   File "/usr/local/lib/python2.7/dist-packages/behave/runner.py", line 824, in run_with_paths 13:36:20     return self.run_model() 13:36:20   File "/usr/local/lib/python2.7/dist-packages/behave/runner.py", line 626, in run_model 13:36:20     failed = feature.run(self) 13:36:20   File "/usr/local/lib/python2.7/dist-packages/behave/model.py", line 321, in run 13:36:20     failed = scenario.run(runner) 13:36:20   File "/usr/local/lib/python2.7/dist-packages/behave/model.py", line 1114, in run 13:36:20     failed = scenario.run(runner) 13:36:20   File "/usr/local/lib/python2.7/dist-packages/behave/model.py", line 711, in run 13:36:20     if not step.run(runner): 13:36:20   File "/usr/local/lib/python2.7/dist-packages/behave/model.py", line 1379, in run 13:36:20     formatter.result(self) 13:36:20   File "/usr/local/lib/python2.7/dist-packages/behave/formatter/pretty.py", line 151, in result 13:36:20     self.stream.write(indent(step.error_message.strip(), u"      ")) 13:36:20   File "/usr/lib/python2.7/codecs.py", line 370, in write 13:36:20     self.stream.write(data) 13:36:20 IOError:  Errno 11  Resource temporarily unavailable {code}  ></description> </Issue>
