<Issue id="42315" key="FAB-16571" number="16571" project="10002" reporter="ymlbright" assignee="ymlbright" creator="ymlbright" type="10004" summary="peer panic when package java chaincode" priority="3" resolution="10000" status="6" created="2019-09-12 01:37:32.0" updated="2019-10-04 17:43:48.0" resolutiondate="2019-09-14 15:13:54.0" votes="0" watches="1" workflowId="55370"> <description><! CDATA When I use this peer command line {noformat} ./peer chaincode package java.cc -n java -v 1.0 -p $(pwd)/java -l java{noformat} to package java chaincode, peer panic with the following log. {code} Unable to find source-code formatter for language: text. Available languages are: actionscript, ada, applescript, bash, c, c#, c++, cpp, css, erlang, go, groovy, haskell, html, java, javascript, js, json, lua, none, nyan, objc, perl, php, python, r, rainbow, ruby, scala, sh, sql, swift, visualbasic, xml, yamlpanic: runtime error: invalid memory address or nil pointer dereference  signal SIGSEGV: segmentation violation code=0x1 addr=0x28 pc=0x14d897b   goroutine 1  running : github.com/hyperledger/fabric/core/container/util.WriteFolderToTarPackage.func1(0xc0004a5db0, 0x41, 0x0, 0x0, 0x1eeabe0, 0xc00050f350, 0x0, 0x0) 	/w/workspace/fabric-release-jobs-x86_64/gopath/src/github.com/hyperledger/fabric/core/container/util/writer.go:64 +0xcb path/filepath.walk(0xc00003dd80, 0x39, 0x1f084c0, 0xc00013f450, 0xc0004d7da0, 0x0, 0x0) 	/opt/go/go1.11.5.linux.amd64/src/path/filepath/path.go:378 +0x21f path/filepath.walk(0x7ffeefbffa57, 0x32, 0x1f084c0, 0xc00009f040, 0xc0004d7da0, 0x0, 0x60) 	/opt/go/go1.11.5.linux.amd64/src/path/filepath/path.go:382 +0x2fe path/filepath.Walk(0x7ffeefbffa57, 0x32, 0xc0004d7da0, 0x2, 0x3) 	/opt/go/go1.11.5.linux.amd64/src/path/filepath/path.go:404 +0x105  {code} In file  writer.go ( https://github.com/hyperledger/fabric/blob/v1.4.0/core/container/util/writer.go#L57 ), function `walkFn` should check if there is an error when walk through the path. If an error occurred, the info variable will be nil, and the err shows the reason.  ></description> </Issue>
