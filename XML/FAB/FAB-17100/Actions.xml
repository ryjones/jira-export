<Action id="65595" issue="43359" author="pvrbharg" type="comment" created="2019-11-17 20:03:14.0" updateauthor="pvrbharg" updated="2019-11-17 20:03:14.0"> <body><! CDATA CONSOLE OUTPUT: ============= hlbcadmin@ubuntu:~/go/src/github.com/hyperledger/fabric/examples/cluster$ make  compose TLS=true RELEASE=amd64-1.4.4 GOBIN=/home/hlbcadmin/go/src/github.com/hyperledger/fabric/examples/cluster/build/bin go install github.com/hyperledger/fabric/common/tools/cryptogen build/bin/cryptogen generate --config config/cryptogen.yaml --output build/cryptogen org1.net cp -R build/cryptogen/peerOrganizations/org1.net/peers/peer1.org1.net/* build/nodes/peer1 cp config/configtx.yaml build/nodes/peer1/configtx.yaml cp config/core.yaml build/nodes/peer1/core.yaml Built build/nodes/peer1 cp -R build/cryptogen/peerOrganizations/org1.net/peers/peer2.org1.net/* build/nodes/peer2 cp config/configtx.yaml build/nodes/peer2/configtx.yaml cp config/core.yaml build/nodes/peer2/core.yaml Built build/nodes/peer2 cp -R build/cryptogen/peerOrganizations/org1.net/peers/peer3.org1.net/* build/nodes/peer3 cp config/configtx.yaml build/nodes/peer3/configtx.yaml cp config/core.yaml build/nodes/peer3/core.yaml Built build/nodes/peer3 cp -R build/cryptogen/peerOrganizations/org1.net/peers/peer4.org1.net/* build/nodes/peer4 cp config/configtx.yaml build/nodes/peer4/configtx.yaml cp config/core.yaml build/nodes/peer4/core.yaml Built build/nodes/peer4 cp config/orderer.yaml build/nodes/orderer/orderer.yaml cp config/configtx.yaml build/configtx.yaml cp config/core.yaml build/core.yaml GOBIN=/home/hlbcadmin/go/src/github.com/hyperledger/fabric/examples/cluster/build/bin go install github.com/hyperledger/fabric/common/tools/configtxgen FABRIC_CFG_PATH=build build/bin/configtxgen -profile SampleOrg -outputBlock build/nodes/orderer/genesis.block 2019-11-17 19:21:40.806 UTC  common.tools.configtxgen  main -> WARN 001 Omitting the channel ID for configtxgen for output operations is deprecated.  Explicitly passing the channel ID will be required in the future, defaulting to 'testchainid'. 2019-11-17 19:21:40.806 UTC  common.tools.configtxgen  main -> INFO 002 Loading configuration 2019-11-17 19:21:40.809 UTC  common.tools.configtxgen.localconfig  completeInitialization -> INFO 003 orderer type: solo 2019-11-17 19:21:40.809 UTC  common.tools.configtxgen.localconfig  Load -> INFO 004 Loaded configuration: /home/hlbcadmin/go/src/github.com/hyperledger/fabric/examples/cluster/build/configtx.yaml 2019-11-17 19:21:40.811 UTC  common.tools.configtxgen.localconfig  completeInitialization -> INFO 005 orderer type: solo 2019-11-17 19:21:40.811 UTC  common.tools.configtxgen.localconfig  LoadTopLevel -> INFO 006 Loaded configuration: /home/hlbcadmin/go/src/github.com/hyperledger/fabric/examples/cluster/build/configtx.yaml 2019-11-17 19:21:40.811 UTC  common.tools.configtxgen.encoder  NewChannelGroup -> WARN 007 Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml 2019-11-17 19:21:40.811 UTC  common.tools.configtxgen.encoder  NewOrdererGroup -> WARN 008 Default policy emission is deprecated, please include policy specifications for the orderer group in configtx.yaml 2019-11-17 19:21:40.812 UTC  common.tools.configtxgen.encoder  NewOrdererOrgGroup -> WARN 009 Default policy emission is deprecated, please include policy specifications for the orderer org group OrdererOrg in configtx.yaml 2019-11-17 19:21:40.812 UTC  common.tools.configtxgen.encoder  NewConsortiumOrgGroup -> WARN 00a Default policy emission is deprecated, please include policy specifications for the orderer org group OrdererOrg in configtx.yaml 2019-11-17 19:21:40.812 UTC  common.tools.configtxgen.encoder  NewConsortiumOrgGroup -> WARN 00b Default policy emission is deprecated, please include policy specifications for the orderer org group Org1MSP in configtx.yaml 2019-11-17 19:21:40.812 UTC  common.tools.configtxgen  doOutputBlock -> INFO 00c Generating genesis block 2019-11-17 19:21:40.813 UTC  common.tools.configtxgen  doOutputBlock -> INFO 00d Writing genesis block cp -R build/cryptogen/ordererOrganizations/orderer.net/orderers/orderer.orderer.net/* build/nodes/orderer cp config/configtx.yaml build/nodes/orderer/configtx.yaml cp config/core.yaml build/nodes/orderer/core.yaml Built build/nodes/orderer FABRIC_CFG_PATH=build build/bin/configtxgen -profile SampleChannel \ -channelID mychannel \ -outputCreateChannelTx build/channel.tx 2019-11-17 19:21:40.849 UTC  common.tools.configtxgen  main -> INFO 001 Loading configuration 2019-11-17 19:21:40.851 UTC  common.tools.configtxgen.localconfig  Load -> INFO 002 Loaded configuration: /home/hlbcadmin/go/src/github.com/hyperledger/fabric/examples/cluster/build/configtx.yaml 2019-11-17 19:21:40.853 UTC  common.tools.configtxgen.localconfig  completeInitialization -> INFO 003 orderer type: solo 2019-11-17 19:21:40.853 UTC  common.tools.configtxgen.localconfig  LoadTopLevel -> INFO 004 Loaded configuration: /home/hlbcadmin/go/src/github.com/hyperledger/fabric/examples/cluster/build/configtx.yaml 2019-11-17 19:21:40.853 UTC  common.tools.configtxgen  doOutputChannelCreateTx -> INFO 005 Generating new channel configtx 2019-11-17 19:21:40.853 UTC  common.tools.configtxgen.encoder  NewChannelGroup -> WARN 006 Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml 2019-11-17 19:21:40.853 UTC  common.tools.configtxgen.encoder  NewApplicationGroup -> WARN 007 Default policy emission is deprecated, please include policy specifications for the application group in configtx.yaml 2019-11-17 19:21:40.853 UTC  common.tools.configtxgen.encoder  NewApplicationOrgGroup -> WARN 008 Default policy emission is deprecated, please include policy specifications for the application org group Org1MSP in configtx.yaml 2019-11-17 19:21:40.853 UTC  common.tools.configtxgen.encoder  NewChannelGroup -> WARN 009 Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml 2019-11-17 19:21:40.853 UTC  common.tools.configtxgen.encoder  NewApplicationGroup -> WARN 00a Default policy emission is deprecated, please include policy specifications for the application group in configtx.yaml 2019-11-17 19:21:40.854 UTC  common.tools.configtxgen.encoder  NewApplicationOrgGroup -> WARN 00b Default policy emission is deprecated, please include policy specifications for the application org group Org1MSP in configtx.yaml 2019-11-17 19:21:40.854 UTC  common.tools.configtxgen  doOutputChannelCreateTx -> INFO 00c Writing new channel tx FABRIC_CFG_PATH=build build/bin/configtxgen -profile SampleChannel \ -channelID mychannel \ -outputAnchorPeersUpdate build/anchor.tx \ -asOrg Org1MSP 2019-11-17 19:21:40.882 UTC  common.tools.configtxgen  main -> INFO 001 Loading configuration 2019-11-17 19:21:40.884 UTC  common.tools.configtxgen.localconfig  Load -> INFO 002 Loaded configuration: /home/hlbcadmin/go/src/github.com/hyperledger/fabric/examples/cluster/build/configtx.yaml 2019-11-17 19:21:40.885 UTC  common.tools.configtxgen.localconfig  completeInitialization -> INFO 003 orderer type: solo 2019-11-17 19:21:40.885 UTC  common.tools.configtxgen.localconfig  LoadTopLevel -> INFO 004 Loaded configuration: /home/hlbcadmin/go/src/github.com/hyperledger/fabric/examples/cluster/build/configtx.yaml 2019-11-17 19:21:40.885 UTC  common.tools.configtxgen  doOutputAnchorPeersUpdate -> INFO 005 Generating anchor peer update 2019-11-17 19:21:40.886 UTC  common.tools.configtxgen  doOutputAnchorPeersUpdate -> INFO 006 Writing anchor peer update cp -R build/cryptogen/peerOrganizations/org1.net/users/Admin@org1.net/* build/nodes/cli cp config/configtx.yaml build/nodes/cli/configtx.yaml cp config/core.yaml build/nodes/cli/core.yaml Built build/nodes/cli cp config/fabric-ca-server-config.yaml build/nodes/ca/fabric-ca-server-config.yaml cp build/cryptogen/peerOrganizations/org1.net/ca/*_sk build/nodes/ca/ca.key cp build/cryptogen/peerOrganizations/org1.net/ca/*.pem build/nodes/ca/ca.crt cp config/fabric-tlsca-server-config.yaml build/nodes/tlsca/fabric-tlsca-server-config.yaml cp build/cryptogen/peerOrganizations/org1.net/tlsca/*_sk build/nodes/tlsca/ca.key cp build/cryptogen/peerOrganizations/org1.net/tlsca/*.pem build/nodes/tlsca/ca.crt mv build/nodes/tlsca/fabric-tlsca-server-config.yaml build/nodes/tlsca/fabric-ca-server-config.yaml cat compose/docker-compose.yaml.in \ | sed -e 's/_TLS_ENABLED_/true/g' \ | sed -e 's/_DOCKER_NS_/hyperledger/g' \ | sed -e 's/_CA_RELEASE_/amd64-1.4.4/g' \ | sed -e 's/_COUCH_RELEASE_/amd64-1.4.4/g' \ | sed -e 's/_FABRIC_RELEASE_/amd64-1.4.4/g' \ > build/docker-compose.yaml cat compose/compose-up.sh.in \ | sed -e 's/_COMPOSE_DAEMONS_/peer1 peer2 peer3 peer4 orderer ca tlsca/g' \ | sed -e 's/_COMPOSE_CHANNEL_NAME_/mychannel/g' \ | sed -e 's/_COMPOSE_PEERS_/peer1 peer2 peer3 peer4/g' \ | sed -e 's/_COMPOSE_NODES_/peer1 peer2 peer3 peer4 orderer cli ca tlsca/g' \ | sed -e 's/_COMPOSE_TLS_/true/g' \ > build/compose-up.sh chmod +x build/compose-up.sh cp compose/configure.sh.in build/configure.sh Build complete: run 'build/compose-up.sh' hlbcadmin@ubuntu:~/go/src/github.com/hyperledger/fabric/examples/cluster$ ./build/compose-up.sh ======================================================================== Launching Hyperledger Cluster via docker-compose ======================================================================== Creating network "build_default" with the default driver Pulling couchdb1 (hyperledger/fabric-couchdb:amd64-1.4.4)... ERROR: manifest for hyperledger/fabric-couchdb:amd64-1.4.4 not found: manifest unknown: manifest unknown ================ END CONSOLE OUTPUT ================  ></body> </Action>
<Action id="65869" issue="43359" author="btl5037" type="comment" created="2019-12-02 02:52:31.0" updateauthor="btl5037" updated="2019-12-02 02:53:36.0"> <body><! CDATA Our "thirdparty" images are not versioned according to the fabric spec. Fabric 1.4.4 uses fabric-couchdb:0.4.18.  In Fabric 2.0 we have retired all of our thirdparty images in favor of publicly available CouchDB, Kafka and Zookeeper images, and replaced baseimage with raw alpine implementations.  ></body> </Action>
<Action id="65870" issue="43359" author="pvrbharg" type="comment" created="2019-12-02 03:12:57.0" updateauthor="pvrbharg" updated="2019-12-02 03:12:57.0"> <body><! CDATA If I recall correctly - the out of box script itself fails - if you choose to use couchdb and with TLS enabled.  I think we would look due diligent if we make this work - out-of-box with TLS enabled and with couchdb being used as statedb.  Thanks.   ></body> </Action>
<Action id="65871" issue="43359" author="btl5037" type="comment" created="2019-12-02 03:29:05.0" updateauthor="btl5037" updated="2019-12-02 03:29:05.0"> <body><! CDATA I see now you are using the examples in the Fabric repo (missed this before). I'm not sure we maintain those anymore, we removed them in the current master branch.   ~denyeart  do we still maintain the examples directory in release-1.4? Has fabric-samples replaced all of this?  ></body> </Action>
<Action id="65888" issue="43359" author="denyeart" type="comment" created="2019-12-02 11:50:11.0" updateauthor="denyeart" updated="2019-12-02 11:50:11.0"> <body><! CDATA Yeah, /fabric/examples are no longer maintained, in master everything is moved to fabric-samples repository. I'll close for now, but if there is an issue in fabric-samples please re-open.  ></body> </Action>
<Action id="65936" issue="43359" author="pvrbharg" type="comment" created="2019-12-02 21:19:40.0" updateauthor="pvrbharg" updated="2019-12-02 21:19:40.0"> <body><! CDATA Dear Brett and David,  My bad - I did not realize that these samples are not being maintained or moved off to samples repo. I did not mean to give us more work.  I am good and I generally use fabric-samples repo contents more often - for most part.  Thanks.  ></body> </Action>
