<Issue id="28063" key="FAB-8557" number="8557" project="10002" reporter="minollo" assignee="manish-sethi" creator="minollo" type="10004" summary="Block index/getTransactionId() should store/return all duplicated occurrences of the same txnId in the ledger" priority="2" resolution="10000" status="6" created="2018-02-27 16:11:23.0" updated="2018-07-20 14:15:53.0" resolutiondate="2018-06-17 14:04:36.0" votes="0" watches="6" workflowId="41388"> <description><! CDATA I asked this question originally on #fabric-orderer and then on #fabric-ledger, and I was asked to summarize it here. The original question was:   {quote} "Is there ever a situation where I may end up with duplicates of the same txnId in the same or even different blocks - maybe as the result of submitting the same transaction twice through the same OSN, or at the same time through multiple OSNs?" {quote}   ~kchristidis  replies that   {quote} "yes, that's indeed possible, and only the first validated instance of the same txnId would have a chance of being valid, the others would be marked as invalid"  {quote}  (which I personally find a bit odd, but, OK). The follow up question I asked  ~kchristidis  and  ~manish-sethi  was  {quote} "then, how does the block index behave? What does getTransactionById(txnId) return if txnId was submitted multiple times" {quote}   ~manish-sethi  confirmed that subsequent submissions of the same txnId would be marked as invalid, but he was not sure about the behavior of the block index/getTransactionById() in that scenario; maybe it returns the last submission of the same txnId? (which I would think is the worst of all possible scenarios).  My personal opinion is that duplicate txnIds should never occur in the ledger.  ></description> </Issue>
