<Issue id="35686" key="FAB-13037" number="13037" project="10002" reporter="senthil1" assignee="senthil1" creator="senthil1" type="10003" summary="remove CollectionSupport and refactor peer.go, collection store, and gossip" priority="3" resolution="10001" status="6" created="2018-11-29 07:49:24.0" updated="2020-01-22 22:31:12.0" resolutiondate="2020-01-22 22:31:12.0" votes="0" watches="2" workflowId="47164"> <description><! CDATA Remove CollectionSupport defined in core/peer/peer.go and respective methods on them.  {{type CollectionSupport struct}}  {{     ledger.PeerLedger}} {{}}}  {{func (cs *CollectionSupport) GetQueryExecutorForLedger(cid string) (ledger.QueryExecutor, error) {}} {{         return cs.NewQueryExecutor()}} {{}}}  {{func (*CollectionSupport) GetIdentityDeserializer(chainID string) msp.IdentityDeserializer { }} {{         return mspmgmt.GetManagerForChain(chainID)}} {{}}}  CollectionSupport is created per chain and is passed to the simple collection store and the gossip. As it is created per chain, there is no need to pass the channelID for both GetQueryExecutorForLedger() and GetIdentityDeserializer(). Note that the cid passed to GetQueryExecutorForLedger is never used. Instead, we can directly pass the ledger.PeerLedger and msp.IdentityDeserializer to the simpleCollectionStore and pass only the msp.IdentityDeserializer to the gossip in createChain().   This will simplify the collection ACL which is to be performed at the peer chain code handler. Further, we need to refactor the existing code for readability.   ></description> </Issue>
