<Issue id="16773" key="FAB-3955" number="3955" project="10002" reporter="wlahti" assignee="wlahti" creator="wlahti" type="10004" summary="Event producer allows registration of nil handlers" priority="3" resolution="10000" status="6" created="2017-05-16 16:48:46.0" updated="2018-07-20 14:12:48.0" resolutiondate="2017-05-18 22:19:23.0" votes="0" watches="1" workflowId="38544"> <description><! CDATA The event producer logic currently allows the registration of a nil handler: {code:java} registerHandler(&peer.Interest{EventType: peer.EventType_BLOCK}, nil){code} This leads to a panic when attempting to sendÂ messages using the nil handler: {code:java} panic: runtime error: invalid memory address or nil pointer dereference  signal SIGSEGV: segmentation violation code=0x1 addr=0x0 pc=0x4080240  goroutine 7  running : panic(0x4519b00, 0xc4200140a0) /usr/local/go/src/runtime/panic.go:500 +0x1a1 github.com/hyperledger/fabric/events/producer.(*handler).SendMessage(0x0, 0xc4201e0750, 0xc420426ea0, 0x4863f50) github.com/hyperledger/fabric/events/producer/_test/_obj_test/handler.go:150 +0x30 github.com/hyperledger/fabric/events/producer.(*eventProcessor).start.func1(0x0){code}  ></description> </Issue>
