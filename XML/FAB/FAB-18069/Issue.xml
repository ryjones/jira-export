<Issue id="45620" key="FAB-18069" number="18069" project="10002" reporter="tock" assignee="wlahti" creator="tock" type="10003" summary="Separate internal &amp; external Halt on etcdraft.Chain" priority="3" resolution="10000" status="6" created="2020-07-16 12:45:54.0" updated="2020-08-12 16:43:37.0" resolutiondate="2020-08-05 19:11:23.0" votes="0" watches="2" workflowId="59523" archived="N"> <description><! CDATA currently, when the etcdraft.Chain halts, either internally or externally, it calls an "haltCallback" that generates a new chain. This is useful for internal halt, when the chain discovers it is no longer a member of the channel and needs to transfer responsibility to either a follower or an inactive chain. In order to remove a chain, we need to close it by calling Halt with an external thread. However, currently this will cause a call to haltCalback...  The task here is to separate internal halt (called by the internal go-routine) from external Halt, that should stop the chain and indicate that haltCallback should NOT be called upon termination.  ></description> </Issue>
