<Issue id="39961" key="FAB-15491" number="15491" project="10002" reporter="manish-sethi" assignee="manish-sethi" creator="manish-sethi" type="10002" summary="Rebuild state db using v2 value encoding (and remove code for supporting old formatting)" priority="3" resolution="10000" status="6" created="2019-05-21 04:35:58.0" updated="2019-10-21 09:37:31.0" resolutiondate="2019-10-21 09:37:31.0" votes="0" watches="1" workflowId="52859"> <description><! CDATA Both leveldb and couchdb code supports the old formatting and new formatting for persisted values. The new format was added for the support of persisting metadata field. The old format had to be continued to support because we could not mandate a rebuild of the statedb.  https://github.com/hyperledger/fabric/blob/86f87ebcd8a1819e3832b289f2d94d4a88bb6e05/core/ledger/kvledger/txmgmt/statedb/stateleveldb/value_encoding.go  https://github.com/hyperledger/fabric/blob/86f87ebcd8a1819e3832b289f2d94d4a88bb6e05/core/ledger/kvledger/txmgmt/statedb/statecouchdb/version_field_encoding.go  However, this code can be cleaned by removing the support for the old format and just maintain the new format. This would require rebuild of statedb.  ></description> </Issue>
