<Issue id="36267" key="FAB-13350" number="13350" project="10002" reporter="sykesm" assignee="guoger" creator="sykesm" type="10003" summary="Intermittent test failure in consensus/etcdraft/chain_test ensures that despite leader failure cluster continue to process configuration to remove the leader" priority="3" resolution="10000" status="6" created="2018-12-19 01:47:54.0" updated="2019-03-19 10:57:41.0" resolutiondate="2018-12-19 12:50:24.0" votes="0" watches="2" workflowId="47834"> <description><! CDATA {code} 22:37:54 •••••••••••••••••••••••••••••••••STEP: Submitting first tx to cut the block 22:37:54 STEP: sending config transaction 22:37:54  22:37:54 ------------------------------ 22:37:54 • Failure  5.248 seconds  22:37:54 Chain 22:37:54 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:63 22:37:54   Multiple Raft nodes 22:37:54   /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:1135 22:37:54     when reconfiguring raft cluster 22:37:54     /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:1266 22:37:54       reconfiguration 22:37:54       /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:1336 22:37:54         ensures that despite leader failure cluster continue to process configuration to remove the leader  It  22:37:54         /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:1652 22:37:54  22:37:54         Timed out after 5.000s. 22:37:54         Expected 22:37:54             <int>: 0 22:37:54         to equal 22:37:54             <int>: 1 22:37:54  22:37:54         /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:1677 22:37:54 ------------------------------ 22:37:54 ••••••••••••••2018-12-18 22:37:06.298462 W | wal: sync duration of 1.845528555s, expected less than 1s 22:37:54 ••• 22:37:54  22:37:54 Summarizing 1 Failure: 22:37:54  22:37:54  Fail  Chain Multiple Raft nodes when reconfiguring raft cluster reconfiguration  It  ensures that despite leader failure cluster continue to process configuration to remove the leader  22:37:54 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:1677 22:37:54  22:37:54 Ran 69 of 69 Specs in 26.962 seconds 22:37:54 FAIL! -- 68 Passed | 1 Failed | 0 Pending | 0 Skipped 22:37:54 --- FAIL: TestEtcdraft (26.96s) 22:37:54 FAIL 22:37:54 coverage: 85.1% of statements 22:37:54 FAIL	github.com/hyperledger/fabric/orderer/consensus/etcdraft	31.705s {code}  /cc  ~kchristidis   ></description> </Issue>
