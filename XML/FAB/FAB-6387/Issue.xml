<Issue id="21225" key="FAB-6387" number="6387" project="10002" reporter="nishi" assignee="nnao" creator="nishi" type="10004" summary="error code missing in returned error message during chaincode calling chaincode negative tests" priority="2" resolution="10000" status="6" created="2017-10-02 15:57:54.0" updated="2019-03-19 11:13:15.0" resolutiondate="2018-04-30 08:29:57.0" votes="0" watches="9" workflowId="40150"> <description><! CDATA  tests failing with error messages: {code:java} When testing https://jira.hyperledger.org/browse/FAB-4720    FAB-4720: Test chaincode calling chaincode -ve test case passing an incorrect or non-existing channnel name when cc_ex02 and cc_ex05 installed on same channels     Error Message Received from peer logs:    "Error: Error endorsing query: rpc error: code = Unknown desc = error executing chaincode: transaction returned with failure: Failed to get policy manager for channel  channel3  - <nil>"   2. When testing https://jira.hyperledger.org/browse/FAB-4721    FAB-4721: Test chaincode calling chaincode -ve testcase passing an incorrect ot non-existing string for channelname when cc_ex02 and cc_ex05 installed on different channels      Error message received from peer logs:    "Error: Error endorsing query: rpc error: code = Unknown desc = error executing chaincode: transaction returned with failure: Failed to get policy manager for channel  channel3  - <nil>"   3. When testing https://jira.hyperledger.org/browse/FAB-4722    FAB-4722: Test chaincode calling chaincode -ve testcase passing an empty string for channelname when cc_ex02 and cc_ex05 installed on different channels     Error message received from peer logs:    "Error: Error endorsing query: rpc error: code = Unknown desc = error executing chaincode: transaction returned with failure: could not find chaincode with name 'myex02_b' - <nil>"{code} Steps to reproduce: {code:java} 1. Build hyperledger fabric images 2. Get fabric-test latest repo. 3. From fabric-test folder run: git submodule update --init --recursive (only the first time) Note: If you build images subsequently please run : git submodule foreach git pull origin master 4. cd "github.com/hyperledger/fabric-test/feature" 5. run:    behave -n 4720      behave -n 4721    behave -n 4722  Expected Result:     To receive an error code along with error message.   Actual Result: No error code returned for any of these error scenarios returned.  Note:  Right now I am looking for error code 400 (// Invalid inputs on API calls, BadRequest = "400"){code} Could we also get a error code along with error message?  This is currently failing our CI daily tests.  ></description> </Issue>
