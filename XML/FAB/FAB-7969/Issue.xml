<Issue id="27244" key="FAB-7969" number="7969" project="10002" reporter="denyeart" assignee="chris.elder" creator="denyeart" type="10004" summary="CouchDB queries and indexes not consistent with respect to &quot;data&quot; envelope" priority="3" resolution="10000" status="6" created="2018-01-30 16:04:04.0" updated="2018-07-20 14:15:34.0" resolutiondate="2018-02-03 07:41:22.0" votes="0" watches="2" workflowId="41087"> <description><! CDATA Chaincode data is saved in CouchDB under a JSON "data" envelope.  For queries, peer automatically re-writes chaincode query to account for data envelope.  For indexes, chaincode author must specify the data envelop when referencing fields.  Need to make the experience consistent, by removing the "data" envelope.Â  This will fix the usability issue, and also simplify the code, eliminating other possible defects.  This change is only possible in 1.1, since the upgrade from 1.0 to 1.1 will rebuild CouchDB state database using the enhanced 1.1 CouchDB data structure.  ></description> </Issue>
