<Action id="31521" issue="21066" author="scottz" type="comment" body="I upgraded this to a High issue, since it is causing failure of test scenarios in fabric-test CI test suite. And because data integrity is potentially compromised, depending on subsequent sequence of events (although I am not sure about that)." created="2017-10-02 15:48:27.0" updateauthor="scottz" updated="2017-10-02 15:48:27.0"/>
<Action id="31909" issue="21066" author="kchristidis" type="comment" created="2017-10-08 15:18:04.0" updateauthor="kchristidis" updated="2017-10-08 15:18:04.0"> <body><! CDATA Thank you for including steps to reproduce and attaching logs to the bug report.  I need however two clarifications on the high-level description: # The issue here is that invoke commands _succeeds_ intermittently when only one broker is up when your expectation is that it should always fail. True/false? # Concretely, what is the line in the behave test (see FAB-4770) that triggers the error? As best as I can tell, you only invoke when all brokers are down. Let me know what I'm missing.  ></body> </Action>
<Action id="31923" issue="21066" author="scottz" type="comment" created="2017-10-09 13:16:48.0" updateauthor="scottz" updated="2017-10-09 13:16:48.0"> <body><! CDATA # Correct. It succeeds when it should fail. # Refer to lines 220-225 in orderer.feature. We identify the 3 kafkabrokers in the RF set, take one down, invoke, take a 2nd one down, invoke (line 220). This is the step that succeeds instead of failing as expected. The subsequent query shows 970 instead of 980. https://github.com/hyperledger/fabric-test/blob/master/feature/orderer.feature#L225  ></body> </Action>
<Action id="31961" issue="21066" author="sanchezl" type="comment" created="2017-10-10 03:53:18.0" updateauthor="sanchezl" updated="2017-10-10 03:53:18.0"> <body><! CDATA Observations during a run that reproduced the issue:  kafka0 & kafka3 were shutdown during the test:  !Screen Shot 2017-10-09 at 11.39.29 PM.png|thumbnail!  kafka3 did not contain a replica for behavesystest/0 , so behavesystest/0 still had 2 in-sync replicas:  !Screen Shot 2017-10-09 at 11.40.01 PM.png|thumbnail!  It seems that the step implementation for "When I *stop* the current kafka topic partition leader" sometimes picks the wrong kafka broker to stop.     ></body> </Action>
<Action id="35423" issue="21066" author="denyeart" type="comment" body=" ~latitiah  Any update on this one?" created="2017-11-27 02:31:18.0" updateauthor="denyeart" updated="2017-11-27 02:31:18.0"/>
<Action id="36303" issue="21066" author="latitiah" type="comment" body="This is currently on my list, but lower priority at the time than my other tasks. I&apos;ll get to it as soon as I can." created="2017-12-11 16:10:57.0" updateauthor="latitiah" updated="2017-12-11 16:10:57.0"/>
<Action id="38266" issue="21066" author="denyeart" type="comment" body="Lowering to Medium since this is a lower priority test issue." created="2018-01-08 02:50:31.0" updateauthor="denyeart" updated="2018-01-08 02:50:31.0"/>
<Action id="43579" issue="21066" author="scottz" type="comment" body="What is the status of this,  ~latitiah ? Design team says is a testtool problem, so I am removing the &quot;kafka&quot; label, and changing the status from Invalid to &quot;To Do&quot;.  It is not an invalid testcase, but rather appears to be a testtool (implementation) bug." created="2018-04-27 18:57:50.0" updateauthor="scottz" updated="2018-04-27 18:57:50.0"/>
<Action id="43581" issue="21066" author="scottz" type="comment" body="We still should fix the behave backend logic and reenable this test." created="2018-04-27 19:24:05.0" updateauthor="scottz" updated="2018-04-27 19:24:05.0"/>
<Action id="43592" issue="21066" author="latitiah" type="comment" body="As stated in my last comment, this is still on my TODO list, but have not had the cycles to dig in to what&apos;s going on yet. This has been a lower priority." created="2018-04-28 02:30:56.0" updateauthor="latitiah" updated="2018-04-28 02:30:56.0"/>
<Action id="51545" issue="21066" author="sambhavdutt" type="comment" body="Please let me know if I have to revert this to its previous state." created="2018-10-02 18:49:10.0" updateauthor="sambhavdutt" updated="2018-10-02 18:49:10.0"/>
