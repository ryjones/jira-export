<Issue id="28145" key="FAB-8605" number="8605" project="10002" reporter="latitiah" assignee="adc" creator="latitiah" type="10004" summary="Missing Warning/Error with Mixed OUEnabled network" priority="3" resolution="10000" status="6" created="2018-03-01 12:07:40.0" updated="2018-07-20 14:15:54.0" resolutiondate="2018-03-01 15:09:49.0" votes="0" watches="3" workflowId="41417"> <description><! CDATA When setting the crypto.yaml's `EnableNodeOUs` flag to true for 1 organization and false for a separate organization, the transactions continue to complete successfully. I would expect that there would be a warning or error when this is done. {code}PeerOrgs: - Name: Org1ExampleCom Domain: org1.example.com EnableNodeOUs: true Template: Count: 2 Users: Count: 2  - Name: Org2ExampleCom Domain: org2.example.com EnableNodeOUs: false Template: Count: 2 Users: Count: 2{code}  Certificate details: peer0.org1.example.com: {code}Certificate: Data: Version: 3 (0x2) Serial Number: 7d:24:f4:00:bb:03:e6:53:a9:e8:9a:93:d0:27:2c:7b Signature Algorithm: ecdsa-with-SHA256 Issuer: C=US, ST=California, L=San Francisco, O=org1.example.com, CN=ca.org1.example.com Validity Not Before: Mar  1 11:08:19 2018 GMT Not After : Feb 27 11:08:19 2028 GMT Subject: C=US, ST=California, L=San Francisco, OU=peer, CN=peer0.org1.example.com Subject Public Key Info: Public Key Algorithm: id-ecPublicKey Public-Key: (256 bit) pub:  04:75:47:31:d6:91:cb:3d:49:e6:09:bf:81:4d:61: f9:69:48:d8:96:83:31:1d:96:c4:7f:61:c6:76:ba: 8d:34:1d:4d:65:65:c5:dd:5f:77:e3:1b:27:90:e6: 01:1f:07:a9:55:0c:80:05:01:a2:e2:ac:e5:c1:e8: 76:8a:b5:35:73 ASN1 OID: prime256v1 NIST CURVE: P-256 X509v3 extensions: X509v3 Key Usage: critical Digital Signature X509v3 Basic Constraints: critical CA:FALSE X509v3 Authority Key Identifier:  keyid:66:AE:4E:4E:A3:B3:B1:4C:6C:62:41:C5:B9:6D:36:79:B2:05:0C:CC:05:28:3B:68:63:F6:3F:A7:3E:6C:FA:9D  Signature Algorithm: ecdsa-with-SHA256 30:44:02:20:32:c1:27:83:8e:7b:d8:37:37:24:5c:16:aa:cc: 87:3c:5b:21:6c:4e:4c:09:cf:63:aa:bd:6e:5e:36:28:df:4f: 02:20:1b:6c:73:89:38:e8:9d:93:fa:9b:46:a0:c6:b7:d1:f5: 3e:d0:cf:6e:f6:c2:5b:23:e3:3e:70:b9:d6:cb:62:b2{code} peer0.org2.example.com: {code}Certificate: Data: Version: 3 (0x2) Serial Number: 68:0c:be:52:ac:c9:d8:25:89:d0:84:df:d4:6c:4a:b7 Signature Algorithm: ecdsa-with-SHA256 Issuer: C=US, ST=California, L=San Francisco, O=org2.example.com, CN=ca.org2.example.com Validity Not Before: Mar  1 11:08:19 2018 GMT Not After : Feb 27 11:08:19 2028 GMT Subject: C=US, ST=California, L=San Francisco, CN=peer0.org2.example.com Subject Public Key Info: Public Key Algorithm: id-ecPublicKey Public-Key: (256 bit) pub:  04:61:36:bb:5e:1a:b7:3b:83:29:93:af:63:91:b8: 59:ca:2b:e1:d9:fa:bf:c0:b5:2c:bc:9f:8f:98:ac: 42:65:df:87:9c:fb:f4:3a:9c:de:f5:76:e8:04:d7: 74:8a:56:2b:10:81:05:6d:26:56:f6:e7:87:19:65: cd:6f:08:09:94 ASN1 OID: prime256v1 NIST CURVE: P-256 X509v3 extensions: X509v3 Key Usage: critical Digital Signature X509v3 Basic Constraints: critical CA:FALSE X509v3 Authority Key Identifier:  keyid:98:FA:FB:3F:5B:CB:FA:17:71:96:2A:FD:84:97:05:A5:66:66:27:80:C1:3D:D0:C0:8F:B0:48:14:5F:33:90:7E  Signature Algorithm: ecdsa-with-SHA256 30:45:02:21:00:e8:d4:9e:2e:9d:f8:cd:a3:28:d5:08:7b:1a: 92:dc:05:76:3c:cb:cd:ed:06:f8:6a:ea:7c:40:d2:24:ad:ee: 82:02:20:5c:05:ee:c5:94:27:d7:f9:44:29:83:72:7b:47:20: 52:99:00:18:38:96:40:0e:98:8a:dc:7b:32:6d:58:6a:40{code}  Note: Org2 OU field is missing from the certificate subject  You can reproduce this issue by using e2e. Modify the crypto-config.yaml setting the flags as stated above.  ></description> </Issue>
