<Issue id="47020" key="FAB-18521" number="18521" project="10002" reporter="c0rwin" assignee="c0rwin" creator="c0rwin" type="10004" summary="Consenters&apos; metadata is not replicated while OSN catches up with snapshot" priority="3" resolution="10000" status="6" created="2021-07-11 13:56:05.0" updated="2021-09-08 18:54:49.0" resolutiondate="2021-08-12 01:03:05.0" votes="0" watches="3" workflowId="60933" archived="N"> <description><! CDATA Currently while OSN tries to catch up to the recent states it replicates block from the alive replica, however omits updating consenters metadata, i.e.  ``` c.support.WriteBlock(block, nil) ```  where instead of `nil` we need to put block's metadata. The bug will be manifested in the case where lagging behind node will crash during snapshot replication and during restart won't find consenters' metadata to be able to get connected with rest replica set.   The fix should be to read metadata and update block with the details while writing it to the disk:  ``` c.support.WriteBlock(block, metadata) //                                                     ^^^^ propagating consenters's metadata ```  ></description> </Issue>
