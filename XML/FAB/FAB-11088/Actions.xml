<Action id="47822" issue="31726" author="kchristidis" type="comment" body="User error." created="2018-07-25 18:02:18.0" updateauthor="kchristidis" updated="2018-07-25 18:02:18.0"/>
<Action id="51881" issue="31726" author="mikailoral" type="comment" created="2018-10-09 08:19:38.0" updateauthor="mikailoral" updated="2018-10-09 08:19:38.0"> <body><! CDATA Hi  ~kchristidis    Could you explain, What is the user error and its solution?  ></body> </Action>
<Action id="51952" issue="31726" author="pyraman" type="comment" body="Yes! I noticed some similar issues and all i got is user error. Please clarify." created="2018-10-10 01:16:33.0" updateauthor="pyraman" updated="2018-10-10 01:16:33.0"/>
<Action id="51981" issue="31726" author="kchristidis" type="comment" body=" ~mikailoral ,  ~pyraman : Your client is hitting the consenter too early. The consenter needs a few seconds to reach steady state (the Kafka cluster needs to get up, and the consenter needs to establish a connection with it before being able to serve requests). If you wait a few seconds and repeat the request, you should be fine." created="2018-10-10 10:46:01.0" updateauthor="kchristidis" updated="2018-10-10 10:46:01.0"/>
<Action id="52025" issue="31726" author="pvrbharg" type="comment" created="2018-10-10 15:42:57.0" updateauthor="pvrbharg" updated="2018-10-10 15:42:57.0"> <body><! CDATA OK - should the above information be properly disseminated when the above specific error occurs in user interactions - such as in troubleshooting section of the documentation - so that users do not need to open the issue tickets and keep IBM busy answering these issues in piece meal manner? Also the user error comment does not convey anything and more importantly - it does not convey how to recover from this issue - other than by reading the code or searching for answers from previous sufferings of users.  Given above - my humble suggestion - we should add this error message to FAQ or troubleshooting section of documentation with clear steps to recover from this issue - so we can ward off future problem tickets.  Thanks.  ></body> </Action>
<Action id="52048" issue="31726" author="kchristidis" type="comment" created="2018-10-10 20:02:01.0" updateauthor="kchristidis" updated="2018-10-10 20:02:01.0"> <body><! CDATA  ~pvrbharg : The code should print out a succinct error message, not a multi-line guide on recovery.  With you on adding more info about this to the FAQ. We have a FAQ section  here|https://hyperledger-fabric.readthedocs.io/en/release-1.3/Fabric-FAQ.html ; feel free to push a CR adding a Q&A for this one. If you add me as a reviewer I'll make sure it doesn't slip through the cracks.  ></body> </Action>
<Action id="52053" issue="31726" author="pvrbharg" type="comment" created="2018-10-10 21:15:50.0" updateauthor="pvrbharg" updated="2018-10-10 21:15:50.0"> <body><! CDATA Dear Kostas, Thank you for your comments.  Just to clarify - there was no suggestion for "a multi-line guide on recovery." The suggestion is for "a succinct error message" - as you indicated and that is not happening now clearly - as evidenced by these issue tickets.  I agree with your plan of action and I would do the needful for us here.   Regards.  ></body> </Action>
<Action id="52061" issue="31726" author="kchristidis" type="comment" body=" ~pvrbharg : I&apos;m certainly open to rephrasing the message. What do you suggest?" created="2018-10-10 22:33:47.0" updateauthor="kchristidis" updated="2018-10-10 22:33:47.0"/>
<Action id="52062" issue="31726" author="pvrbharg" type="comment" created="2018-10-11 00:05:31.0" updateauthor="pvrbharg" updated="2018-10-11 00:05:31.0"> <body><! CDATA Dear Kostas, Thank you for your consideration and in the spirit of continuous improvement/enhanced quality -    ^FAB-11088.docx  , here are my thoughts in the attachment and rationale for it. Please feel free to rephrase or adjust what I wrote up in draft - trying to nudge user to some kind of recovery path...  Thank you!  ></body> </Action>
<Action id="52063" issue="31726" author="kchristidis" type="comment" body="https://gerrit.hyperledger.org/r/c/26923/" created="2018-10-11 00:22:19.0" updateauthor="kchristidis" updated="2018-10-11 00:22:19.0"/>
<Action id="52064" issue="31726" author="kchristidis" type="comment" body=" ~pvrbharg : Thanks for the follow-up, see CR above and let me know if this is any better." created="2018-10-11 00:25:14.0" updateauthor="kchristidis" updated="2018-10-11 00:25:14.0"/>
<Action id="52065" issue="31726" author="pyraman" type="comment" created="2018-10-11 01:33:13.0" updateauthor="pyraman" updated="2018-10-11 01:33:13.0"> <body><! CDATA  ~kchristidis   ~pvrbharg  thank for clarifying the issue and your spirit to enhance quality. But in my case it is diferent: I deploy the network manually without docker on different physical machines (I managed 9 machines). Everything was Ok in Solo mode. I faced the issue with kafka mode as you known. My steps: 1 - start 3 zookeeper instances. 2 - start 4 broker instances and point to zookeepers from server.properties. 3 - generate artifacts for 4 orgs (one peer each org) and 3 orderers. 4 - generate genesisblock. 5 - deploy to 7 different machines. 6 - start orderers and then peers. 7 - update anchor. 8 - create channel. STUCK HERE. I mean i did it manually so components have enough time to establish connection. I've tried to add timeout by adding "-t 150s" in command for creating channel. I did it several times but no luck. My suggestion: we should find the root cause and document it as suggested by  ~pvrbharg  .  ></body> </Action>
<Action id="52068" issue="31726" author="pvrbharg" type="comment" created="2018-10-11 02:16:58.0" updateauthor="pvrbharg" updated="2018-10-11 02:16:58.0"> <body><! CDATA Dear Kostas - Your CR is good and definitely valuable. THANK YOU! Dear Quan Hoang: I still submit - the CR should be checked in irrespective of your issue. Still regarding your step 8 - yes this could be a separate issue that potentially needs debugging and isolating on its own for the root cause. These two activities could coexist in my view.   Regards.  ></body> </Action>
<Action id="52099" issue="31726" author="kchristidis" type="comment" body=" ~pyraman : I&apos;ll need logs to debug this. Specifically, orderer logs set at DEBUG level around the time you&apos;re invoking channel creation." created="2018-10-11 13:32:28.0" updateauthor="kchristidis" updated="2018-10-11 13:32:28.0"/>
<Action id="52126" issue="31726" author="pyraman" type="comment" created="2018-10-12 03:42:31.0" updateauthor="pyraman" updated="2018-10-12 06:39:48.0"> <body><! CDATA  ~kchristidis  thanks for your kindly support.  The attachment consists of logs and yaml. I also attach a sh file to show how I deploy the network.  The most important log is located in directory: orderer0/orderer0.trade.com - please seach for line: "2018-10-12 10:08:41.972 ICT  orderer/common/broadcast  Handle -> WARN 125  channel: tradechannel  Rejecting broadcast of message from 192.168.167.149:52769 with SERVICE_UNAVAILABLE: rejected by Consenter: will not enqueue, consenter for this channel hasn't started yet". ^logs.tar.gz   Edited: I'm using Fabric 1.2.0  ></body> </Action>
<Action id="52183" issue="31726" author="kchristidis" type="comment" created="2018-10-12 18:27:14.0" updateauthor="kchristidis" updated="2018-10-12 18:27:14.0"> <body><! CDATA  ~pyraman : Something's up with your Kafka (as in: Apache Kafka/ZooKeeper) setup. Right around the line you're pointing in the orderer log, you'll also see this message.  {{2018-10-12 10:08:39.238 ICT  orderer/consensus/kafka  try -> DEBU 11e  channel: tradechannel  Initial attempt failed = kafka server: In the middle of a leadership election, there is currently no leader for this partition and hence it is unavailable for writes.}}  (Grepping your Kafka logs real quick I also saw a replication factor of 1 for a channel. Why is that?)   ></body> </Action>
<Action id="52224" issue="31726" author="pyraman" type="comment" body=" ~kchristidis  thanks for your support. I will take a look at kafka/zookeeper configuration today. Will let you know soon. :). Thanks" created="2018-10-15 01:20:10.0" updateauthor="pyraman" updated="2018-10-15 01:20:10.0"/>
<Action id="52345" issue="31726" author="pyraman" type="comment" created="2018-10-17 03:25:11.0" updateauthor="pyraman" updated="2018-10-17 03:25:11.0"> <body><! CDATA I've reconfigured apache kafka with 3 zookeepers and 4 brokers. It seems OK with kafka now (I've tested by producing message from producer and seen it in consumer).  The error message "SERVICE_UNAVAILABLE: rejected by Consenter: will not enqueue, consenter for this channel hasn't started yet" disappeared.  But I'm facing another issue with creating channel (again = creating channel).  The error message is strange. I don't think we need Orderer MSP while creating channel.  If i deploy network in 'solo' mode, then everything is fine.        2018-10-17 10:15:46.813 ICT  cauthdsl  func2 -> DEBU 199 0xc4200b82a0 identity 0 does not satisfy principal: the identity is a member of a different MSP (expected TradeOrdererMSP, got ImporterOrgMSP)  2018-10-17 10:15:46.813 ICT  cauthdsl  func2 -> DEBU 19a 0xc4200b82a0 principal evaluation fails  2018-10-17 10:15:46.813 ICT  cauthdsl  func1 -> DEBU 19b 0xc4200b82a0 gate 1539746146813288921 evaluation fails  2018-10-17 10:15:46.813 ICT  policies  Evaluate -> DEBU 19c Signature set did not satisfy policy /Channel/Orderer/TradeOrdererOrg/Writers  2018-10-17 10:15:46.814 ICT  policies  Evaluate -> DEBU 19d == Done Evaluating *cauthdsl.policy Policy /Channel/Orderer/TradeOrdererOrg/Writers  2018-10-17 10:15:46.814 ICT  policies  func1 -> DEBU 19e Evaluation Failed: Only 0 policies were satisfied, but needed 1 of   TradeOrdererOrg.Writers    2018-10-17 10:15:46.814 ICT  policies  Evaluate -> DEBU 19f Signature set did not satisfy policy /Channel/Orderer/Writers  2018-10-17 10:15:46.814 ICT  policies  Evaluate -> DEBU 1a0 == Done Evaluating *policies.implicitMetaPolicy Policy /Channel/Orderer/Writers  2018-10-17 10:15:46.814 ICT  policies  func1 -> DEBU 1a1 Evaluation Failed: Only 0 policies were satisfied, but needed 1 of   Consortiums.Writers Orderer.Writers    2018-10-17 10:15:46.814 ICT  policies  Evaluate -> DEBU 1a2 Signature set did not satisfy policy /Channel/Writers  2018-10-17 10:15:46.814 ICT  policies  Evaluate -> DEBU 1a3 == Done Evaluating *policies.implicitMetaPolicy Policy /Channel/Writers  ></body> </Action>
