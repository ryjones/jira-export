<Action id="49829" issue="33387" author="sambhavdutt" type="comment" created="2018-09-04 15:45:18.0" updateauthor="sambhavdutt" updated="2018-09-04 15:45:18.0"> <body><! CDATA CouchDB indexing tests failed due to chaincode instantiation on mychannel2, Posting the latest fails observed in fabric-test behave daily tests.  {code:java} CouchDB_index.Testing Fabric CouchDB indexing.FAB-7262: Test CouchDB indexing using install-after-instantiate with marbles chaincode using NODE with 3 channels and 3 indexes -- @1.2   Failing step: And an admin instantiates the chaincode on channel "mychannel2" on peer "peer0.org1.example.com" ... failed in 784.918s Location: CouchDB_index.feature:304  Assertion Failed: The expected chaincode container 1bb4a8d4affa11e88886fa163e42ee12-peer0.org1.example.com-mycc2-0 is not running . . And an admin installs chaincode at path "../../fabric-samples/chaincode/marbles02/node" of language "NODE" as version "0" with args  ""  with name "mycc2" to "peer0.org2.example.com" ... passed in 10.194s And an admin instantiates the chaincode on channel "mychannel2" on peer "peer0.org1.example.com" ... failed in 784.918s And an admin installs chaincode at path "../../fabric-samples/chaincode/marbles02/node" of language "NODE" as version "0" with args  ""  with name "mycc3" to "peer0.org1.example.com" ... skipped in 0.000s And an admin installs chaincode at path "../../fabric-samples/chaincode/marbles02/node" of language "NODE" as version "0" with args  ""  with name "mycc3" to "peer1.org2.example.com" ... skipped in 0.000s {code}  *Build Logs*  https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-behave-master-x86_64/21/testReport/CouchDB_index/Testing%20Fabric%20CouchDB%20indexing/FAB_7262__Test_CouchDB_indexing_using_install_after_instantiate_with_marbles_chaincode_using_NODE_with_3_channels_and_3_indexes_____1_2_/  https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-daily-behave-master-x86_64/21/   ></body> </Action>
<Action id="49836" issue="33387" author="scottz" type="comment" body=" ~sambhavdutt  The new chaincode instantiation problem is a different testcase and different problem than indexing test failing because a peer is not running. If you have another bug for chaincode instantiation problems, then add your latest note to the other bug. If not, create a new bug." created="2018-09-04 17:00:55.0" updateauthor="scottz" updated="2018-09-04 17:00:55.0"/>
<Action id="50354" issue="33387" author="sambhavdutt" type="comment" created="2018-09-12 13:12:57.0" updateauthor="sambhavdutt" updated="2018-09-12 13:12:57.0"> <body><! CDATA I see that the nightly build for master branch triggered last night that ran all daily tests. I see the CouchDB indexing test fail in the Behave tests.   {code:java} CouchDB_index.Testing Fabric CouchDB indexing.FAB-7269: Test CouchDB indexing using CC upgrade with marbles chaincode using NODE with 3 channels and 1 upgrade -- @1.2  . The expected chaincode container 6d03cceab64111e8b0d5fa163e4de16d-peer0.org1.example.com-mycc1-0 is not running . Failing step: And an admin deploys chaincode at path "../../fabric-samples/chaincode/marbles02/node" with version "0" with args  ""  with name "mycc1" with language "NODE" on channel "mychannel1" ... failed in 350.955s Location: CouchDB_index.feature:147 Assertion Failed: The expected chaincode container 6d03cceab64111e8b0d5fa163e4de16d-peer0.org1.example.com-mycc1-0 is not running Captured stdout: testConfigs: configs/6d03cceab64111e8b0d5fa163e4de16d  'index_behave_test_3.json', 'index_behave_test_2.json', 'index_behave_test_1.json', 'index_behave_test.json', 'indexOwner.json'   /bin/bash -c "CORE_PEER_MSPCONFIGPATH=/var/hyperledger/configs/6d03cceab64111e8b0d5fa163e4de16d/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp CORE_PEER_LOCALMSPID=org1.example.com CORE_PEER_ID=peer0.org1.example.com  . . . 04:12:51.704 UTC  msp/identity  Sign -> DEBU 04c\x1b 0m Sign: digest: B0BD5E5E1B635CD52C2E9DB97A74ADC91511679EEFACBA9ABDAE12C6BEAF1617 \nError: could not assemble transaction, err proposal response was not successful, error code 500, msg error starting container: error starting container: Failed to generate platform-specific docker build: Error returned from build: 1 "npm WARN deprecated @types/winston@2.4.4: This is a stub types definition. winston provides its own type definitions, so you do not need this installed.\nnpm ERR! code EINTEGRITY\nnpm ERR! sha512-xmhA11h2XhqpSVzDAmoQAYdNQ+swILXpKOiRpAEQ2kX55ioxVADc6v7SkS4zQBxm4klhQHgGqpGKvoL6LGx4VQ== integrity checksum failed when using sha512: wanted sha512-xmhA11h2XhqpSVzDAmoQAYdNQ+swILXpKOiRpAEQ2kX55ioxVADc6v7SkS4zQBxm4klhQHgGqpGKvoL6LGx4VQ== but got sha512-zy1cxmJKFfhSsdpZqYJCXwe8xrx9zJighss0RNN5jWHQVEdydmmJXOz/cngF6dV5jM4IGtNg7uf5NiGyBkLueg==. (261518 bytes)\n\nnpm ERR! A complete log of this run can be found in:\nnpm ERR!     /root/.npm/_logs/2018-09-12T04_12_58_555Z-debug.log\n"\n'}}  {code}  *Build Logs*  https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-behave-master-x86_64/22/testReport/CouchDB_index/Testing%20Fabric%20CouchDB%20indexing/FAB_7269__Test_CouchDB_indexing_using_CC_upgrade_with_marbles_chaincode_using_NODE_with_3_channels_and_1_upgrade_____1_2_/  https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-daily-behave-master-x86_64/22/  ></body> </Action>
<Action id="51388" issue="33387" author="sambhavdutt" type="comment" body="This is being taken care on in FAB-12040" created="2018-09-28 20:53:31.0" updateauthor="sambhavdutt" updated="2018-09-28 20:53:31.0"/>
