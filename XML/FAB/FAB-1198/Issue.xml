<Issue id="13532" key="FAB-1198" number="1198" project="10002" reporter="muralisr" assignee="muralisr" creator="muralisr" type="10002" summary="protos - remove Transaction message, cleanup ChaincodeXXX message" priority="2" resolution="10000" status="6" created="2016-11-26 22:40:20.0" updated="2018-07-20 14:10:54.0" resolutiondate="2016-12-05 21:56:36.0" votes="0" watches="1" workflowId="36757"> <description><! CDATA h5. Remove old *Transaction* and rename *Transaction2*   Primary user of the original *Transaction* protobuf message is the chaincode framework.  But chaincode interaction in V1.0 is with Proposals and not Transactions. Chaincode used *Transaction* in old release for these purposes * keep track of chaincode requests using TXID in *Transaction* * use context from *Transaction* for roles and attributes  {quote} NOTE - the use of *Transaction* for roles and attributes was half-baked. With Proposals we have the opportunity to implement this correctly. A Proposal should encapsulate all the ACL support needed for the Chaincode and the Proposal should be passed to the chaincode directly ( ~adc ). {quote}  Removal of the old *Transaction* protobuf message type results in the following changes * TXID is passed as parameter to chaincode methods * roles and attributes have been removed from chaincode * a temporary stub for setting Proposal in a Chaincode request (on the peer side) has been added. Its not currently used. (NOTE - need to work with Java chaincode folks before we can send Proposal to the chaincode) * unit tests have been modified to reflect the changes * endorser expects TID to be non-empty string (uniqueness check is a TODO)  h5. Cleanup of Chaincode protobuf message  The main clean up was getting rid of QUERY  enums. The impact of this is as follows * the chaincode and chaincode/shim state messages do not deal with QUERY elements from protobuf messages * Query and QueryChaincode have been removed from chaincode stub interface (but many examples still implemented them) * some examples such as chaincode_example02 and chaincode_example05 have been modified to expose the old Query implementation via the Invoke method   ></description> </Issue>
