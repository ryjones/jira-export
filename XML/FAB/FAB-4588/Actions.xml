<Action id="26095" issue="17802" author="rickr" type="comment" body="Error are in the endorser not java sdk.  " created="2017-06-13 00:58:06.0" updateauthor="rickr" updated="2017-06-13 00:58:06.0"/>
<Action id="26096" issue="17802" author="rickr" type="comment" created="2017-06-13 00:59:52.0" updateauthor="rickr" updated="2017-06-13 01:01:32.0"> <body><! CDATA Describe exactly the scenario you've set up.  Where did you download ?  alpha2 and beta did you have match sdk and fabric too ?        ></body> </Action>
<Action id="26097" issue="17802" author="rickr" type="comment" created="2017-06-13 01:08:24.0" updateauthor="rickr" updated="2017-06-13 01:08:24.0"> <body><! CDATA Provide docker ps -a output when this occurrs      ></body> </Action>
<Action id="26130" issue="17802" author="rickr" type="comment" created="2017-06-13 10:44:24.0" updateauthor="rickr" updated="2017-06-13 11:42:44.0"> <body><! CDATA Just downloaded v1.0.0-beta zip. from  https://github.com/hyperledger/fabric-sdk-java/releases  Went to src/test/fixture/sdkintegration did _./fabric.sh up_  Opened another terminal window went to the root directory of the sdk _mvn clean install -DskipITs=false -Dmaven.test.failure.ignore=false javadoc:javadoc_  ......   INFO  ------------------------------------------------------------------------  INFO  BUILD SUCCESS  INFO  ------------------------------------------------------------------------  INFO  Total time: 02:00 min  INFO  Finished at: 2017-06-13T06:35:34-04:00  INFO  Final Memory: 49M/635M  INFO  -----------------------------------------------     I seen no issues.           Have you followed the above steps ?   ></body> </Action>
<Action id="26135" issue="17802" author="muralisr" type="comment" body=" ~andrasfe  can you get output from *docker logs orderer.example.com* after starting e2e ?" created="2017-06-13 12:08:40.0" updateauthor="muralisr" updated="2017-06-13 12:08:40.0"/>
<Action id="26178" issue="17802" author="andrasfe" type="comment" created="2017-06-13 17:40:33.0" updateauthor="andrasfe" updated="2017-06-13 17:40:33.0"> <body><! CDATA I'll describe all steps in detail. Using MacBook Pro (Retina, 13-inch, Mid 2014), Mac OS Sierra. I'm behind a corporate firewall, if that makes a difference.     Steps as follows:  git clone https://github.com/hyperledger/fabric-sdk-java  cd fabric-sdk-java/  mvn install  cd src/test/fixtures/sdkintegration  //fixed .env file  docker-compose -f docker-compose.yaml up -d  cd ../../../..  mvn -Dtest=End2endIT test     ></body> </Action>
<Action id="26180" issue="17802" author="andrasfe" type="comment" body=" ~muralisr , I uploaded the orderer logs, and also provided the details of how I run the test in my prior comment. Please note that I am not the only one experiencing this issue in our environment. thanks!!" created="2017-06-13 17:51:02.0" updateauthor="andrasfe" updated="2017-06-13 17:51:02.0"/>
<Action id="26181" issue="17802" author="andrasfe" type="comment" body=" ~rickr , FYI. the details of test described above. Thanks!!" created="2017-06-13 17:53:13.0" updateauthor="andrasfe" updated="2017-06-13 17:53:13.0"/>
<Action id="26185" issue="17802" author="rickr" type="comment" created="2017-06-13 18:30:38.0" updateauthor="rickr" updated="2017-06-13 18:30:38.0"> <body><! CDATA Please try the steps I outlined.  Download the beta as zip.  Clean up docker images,   remove all docker ps -a, clean  docker images  unzip the beta.  do then the steps outlined.  *Do not change anything.*     ></body> </Action>
<Action id="26230" issue="17802" author="pvrbharg" type="comment" created="2017-06-14 03:37:48.0" updateauthor="pvrbharg" updated="2017-06-14 03:37:48.0"> <body><! CDATA Hi Rich Rine and Murali,  Are you waiting on our customer for anything? Please let us know and this is  bvperepa@us.ibm.com|mailto:bvperepa@us.ibm.com  at customer site. Thanks.  ></body> </Action>
<Action id="26265" issue="17802" author="muralisr" type="comment" created="2017-06-14 13:19:01.0" updateauthor="muralisr" updated="2017-06-14 13:19:01.0"> <body><! CDATA  ~pvrbharg  We tried the exact steps but couldn't recreate. From the information it sounds like hostname resolution issue at docker level as clearly the orderer appears to be running and should be resolvable at orderer.example.com:7050.   Given you are on site, would you be able to help look into hostname resolution issues around docker and help ?     ></body> </Action>
<Action id="26272" issue="17802" author="pvrbharg" type="comment" created="2017-06-14 14:45:05.0" updateauthor="pvrbharg" updated="2017-06-14 14:45:05.0"> <body><! CDATA Hi Murali,     Yes I would get Rohit to help us checkout the docker container DNS setup. Do you have anything specific that you want us to perform and capture logs for you? Here is URL for Container DNS configuration:  https://docs.docker.com/engine/userguide/networking/default_network/configure-dns/.|https://docs.docker.com/engine/userguide/networking/default_network/configure-dns/   Get into containers and ping each other by hostname? (however ping may not work if the containers do not have ping packages or support).  Let us know what specific steps we should do if you have in mind. Thanks.  ></body> </Action>
<Action id="26312" issue="17802" author="binhn" type="comment" body="This looks like environmental related, so I am lower the priority to medium." created="2017-06-14 17:54:43.0" updateauthor="binhn" updated="2017-06-14 17:54:43.0"/>
<Action id="26325" issue="17802" author="pvrbharg" type="comment" created="2017-06-14 20:02:43.0" updateauthor="pvrbharg" updated="2017-06-14 20:02:43.0"> <body><! CDATA Hi Murali,     Rohit tried the ping test and here is the output:     peer0.org2.example.com    | 2017-06-14 19:41:20.288 UTC  ConnProducer  NewConnection -> ERRO 40d Failed connecting to orderer:7050 , error: grpc: timed out when dialing  peer0.org2.example.com    | 2017-06-14 19:41:20.288 UTC  deliveryClient  connect -> ERRO 40e Failed obtaining connection: Could not connect to any of the endpoints:  orderer:7050      root@c86290b86108:/opt/gopath/src/github.com/hyperledger/fabric/peer# ping orderer.example.com  PING orderer.example.com (172.29.0.2) 56(84) bytes of data.  64 bytes from orderer.example.com.sdkintegration_default (172.29.0.2): icmp_seq=1 ttl=64 time=0.113 ms     root@c86290b86108:/opt/gopath/src/github.com/hyperledger/fabric/peer# ping a6f631cbba80  PING a6f631cbba80 (172.29.0.2) 56(84) bytes of data.  64 bytes from orderer.example.com.sdkintegration_default (172.29.0.2): icmp_seq=1 ttl=64 time=0.185 ms     If you notice the failing step - the hostname is not fully qualified hostname. We can not ping orderer host but can orderer.example.com.   We can identify anything that changed in customer setup scripts. Can you let us know what are next steps?  Also - can you tell how we can set grpc time out to a longer time or 0 (sits for ever) - to isolate the issue - if the problem is timeout or DNS problem?     Thanks.           ></body> </Action>
<Action id="26329" issue="17802" author="andrasfe" type="comment" body=" ~pvrbharg , could be the proxy setting." created="2017-06-14 20:26:29.0" updateauthor="andrasfe" updated="2017-06-14 20:26:29.0"/>
<Action id="26372" issue="17802" author="muralisr" type="comment" created="2017-06-15 08:45:23.0" updateauthor="muralisr" updated="2017-06-15 08:45:23.0"> <body><! CDATA  ~andrasfe   ~pvrbharg  The fact that you have both orderer and orderer.example.com showing up is suspicious.   ~rickr  how does the SDK sample generate the genesis block ... I think there's a discrepancy with the compose file and bootstrap artifacts (in particular, configtx.yaml if that's being used to generate the channel genesis block).  ></body> </Action>
<Action id="26384" issue="17802" author="rickr" type="comment" body="configtx.yaml   Ah  ~muralisr  how does it work on all environments but the one being affected ?" created="2017-06-15 12:24:07.0" updateauthor="rickr" updated="2017-06-15 12:24:07.0"/>
<Action id="26658" issue="17802" author="muralisr" type="comment" created="2017-06-17 16:18:06.0" updateauthor="muralisr" updated="2017-06-17 16:18:06.0"> <body><! CDATA  ~rickr  I don't know ...was just trying to pull a thread based on the "orderer" vs "orderer.example.com" in the logs.   ~andrasfe   ~pvrbharg  any further info on this ?  ></body> </Action>
<Action id="26659" issue="17802" author="pvrbharg" type="comment" created="2017-06-17 16:45:46.0" updateauthor="pvrbharg" updated="2017-06-17 16:45:46.0"> <body><! CDATA Dear Rick and Murali,  The last I know we were trying to pull down the beta/alpha2 images and see if we could replicate the issue in our sandbox and lab machine environments. I would help us get a clearer picture on Monday we I go back on site and work with Andras and Rohit. Thanks.  ></body> </Action>
<Action id="26660" issue="17802" author="muralisr" type="comment" body=" ~pvrbharg  If it is allowed at the environment, we could do screen share and try to figure this out together on Monday. Let me know please." created="2017-06-17 16:49:36.0" updateauthor="muralisr" updated="2017-06-17 16:49:36.0"/>
<Action id="27133" issue="17802" author="pvrbharg" type="comment" created="2017-06-21 15:41:31.0" updateauthor="pvrbharg" updated="2017-06-21 15:41:31.0"> <body><! CDATA Hi Murali,     Just heard from AMEX team that the hang problem was fixed in alpha2 but not in Beta images.  AMEX is able to replicate the hand using Beta drivers on two of their developer workstations.  As of now - this is a blocking issue for their progress to deliver on their project deadline.  Thanks.  ></body> </Action>
<Action id="27134" issue="17802" author="andrasfe" type="comment" created="2017-06-21 15:44:55.0" updateauthor="andrasfe" updated="2017-06-21 15:44:55.0"> <body><! CDATA Update:   It appears that issue is *not yet fixed for 1.0.0-beta*. Just to be sure I'm performing all the right steps, here is what I've done. *Please note that the issue went away for 1.0.0-alpha2.* {code:java} docker stop $(docker ps -a -q) docker rm $(docker ps -a -q) docker rmi -f $(docker images -a -q)  git clone https://github.com/hyperledger/fabric-sdk-java cd fabric-sdk-java/src mvn install  cd ./fabric-sdk-java/src/test/fixture/sdkintegration  // fixed .env to point to beta  // back to src mvn -Dtest=End2endIT test{code} behavior as before:           Output of JUnit test:  _....._  _Sending instantiateTransaction to orderer with a and b set to 100 and 200 respectively_  _2017-06-21 15:35:44,443 DEBUG Channel:2150 - Channel foo sending transaction to orderer(s) with TxID 19f5f6ed39c3c6c550abedc46ce17d14f2b21fe3790b9f7decc79af81d9d7bb5_   _2017-06-21 15:35:44,444 DEBUG Orderer:122 - Order.sendTransaction name: orderer.example.com, url: grpc://localhost:7050_  _2017-06-21 15:35:44,458 DEBUG OrdererClient:135 - resp status value: 200, resp: SUCCESS_  _2017-06-21 15:35:44,458 DEBUG OrdererClient:173 - Done waiting for reply! Got:status: SUCCESS_   __   _2017-06-21 15:35:44,459 DEBUG Channel:2178 - Channel foo successful sent to Orderer transaction id: 19f5f6ed39c3c6c550abedc46ce17d14f2b21fe3790b9f7decc79af81d9d7bb5_     ></body> </Action>
<Action id="27135" issue="17802" author="rickr" type="comment" created="2017-06-21 16:01:50.0" updateauthor="rickr" updated="2017-06-21 16:01:50.0"> <body><! CDATA It looks to me you're running the latest against the beta which won't work.  the releases can be downloaded here  https://github.com/hyperledger/fabric-sdk-java/releases   There should be NO NEED to edit anything!  ></body> </Action>
<Action id="27136" issue="17802" author="andrasfe" type="comment" created="2017-06-21 16:05:55.0" updateauthor="andrasfe" updated="2017-06-21 16:05:55.0"> <body><! CDATA  ~rickr , I was running beta against tag x86_64-1.0.0-beta. Will try the release and let you know shortly     ></body> </Action>
<Action id="27137" issue="17802" author="rickr" type="comment" created="2017-06-21 16:11:08.0" updateauthor="rickr" updated="2017-06-21 16:11:08.0"> <body><! CDATA Just to be absolutely  certain running against the beta image .. You should delete all docker images before starting it up and see it freshly pull down the  beta fabric     ></body> </Action>
<Action id="27169" issue="17802" author="andrasfe" type="comment" body="happy to confirm that issue no longer exists. As far as I&apos;m concerned, you can close this bug." created="2017-06-22 00:03:40.0" updateauthor="andrasfe" updated="2017-06-22 00:03:40.0"/>
<Action id="27170" issue="17802" author="muralisr" type="comment" body="thanks  ~andrasfe  . Can you let us know what  the problem was please  (education and helping others) ?" created="2017-06-22 00:05:59.0" updateauthor="muralisr" updated="2017-06-22 00:05:59.0"/>
