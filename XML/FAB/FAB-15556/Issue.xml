<Issue id="40159" key="FAB-15556" number="15556" project="10002" reporter="sambhavdutt" creator="sambhavdutt" type="10004" summary="Behave - JavaSDK interoperability Tests using NODE,JAVA failed query on chaincode in fabric-ca(feature 71, 72)" priority="3" resolution="10203" status="6" created="2019-05-25 14:59:41.0" updated="2019-07-30 04:00:36.0" resolutiondate="2019-07-30 04:00:36.0" votes="0" watches="3" workflowId="53061"> <description><! CDATA The fabric-ca JavaSDK interoperability Tests using NODE,JAVA chaincode failed to query in peer0.org1.example.com and peer1.org1.example.com. The tests took around 10 hours which is 3 hours more than the usual build time for the Behave feature tests to complete all scenarios.  *Branch:* master *Platform:* x86_64 *Error Snippet:*  {code:java} Failing step: When a user "adnan" queries on the chaincode with args  "query","a"  ... failed in 39.728s Location: fabric-ca.feature:57   File "/usr/lib/python2.7/subprocess.py", line 574, in check_output raise CalledProcessError(retcode, cmd, output=output) subprocess.CalledProcessError: Command 'java -jar /w/workspace/fabric-test-daily-behave-master-x86_64/gopath/src/github.com/hyperledger/fabric-test/feature/sdk/java/peer-javasdk.jar -o query -n peer0.org1.example.com -i 127.0.0.1 -p 7051 -r org1.example.com -c /w/workspace/fabric-test-daily-behave-master-x86_64/gopath/src/github.com/hyperledger/fabric-test/feature/configs/e15081007de311e9a253fa163e6336f2 -a /w/workspace/fabric-test-daily-behave-master-x86_64/gopath/src/github.com/hyperledger/fabric-test/feature/configs/e15081007de311e9a253fa163e6336f2/ordererOrganizations/example.com/ca/tls-cert.pem -s /w/workspace/fabric-test-daily-behave-master-x86_64/gopath/src/github.com/hyperledger/fabric-test/feature/configs/e15081007de311e9a253fa163e6336f2/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.crt -d orderer0.example.com -h behavesystest -m mycc -f query -g  'a'  -u adnan -w wh@tsup' returned non-zero exit status 1 {code}   {code:java} Failing step: When a user "scott" queries on the chaincode with args  "query","a"  from "peer0.org2.example.com" ... failed in 40.181s Location: fabric-ca.feature:62 Traceback (most recent call last): File "/usr/local/lib/python2.7/dist-packages/behave/model.py", line 1329, in run match.run(runner.context) File "/usr/local/lib/python2.7/dist-packages/behave/matchers.py", line 98, in run self.func(context, *args, **kwargs) File "steps/endorser_impl.py", line 548, in step_impl query_impl(context, context.interface.TEST_CHANNEL_ID, context.chaincode "name" , args, str(peer), user=user) File "steps/endorser_impl.py", line 464, in query_impl context.result = context.interface.query_chaincode(context, chaincode, peer, channel, targs, user=user, opts=opts) File "/w/workspace/fabric-test-daily-behave-master-x86_64/gopath/src/github.com/hyperledger/fabric-test/feature/steps/endorser_util.py", line 362, in query_chaincode result = self.query_func(chaincode, channelId, user, org,  peer , opts) File "/w/workspace/fabric-test-daily-behave-master-x86_64/gopath/src/github.com/hyperledger/fabric-test/feature/steps/endorser_util.py", line 487, in query_func answer = subprocess.check_output(query_call, shell=True) File "/usr/lib/python2.7/subprocess.py", line 574, in check_output raise CalledProcessError(retcode, cmd, output=output) subprocess.CalledProcessError: Command 'java -jar /w/workspace/fabric-test-daily-behave-master-x86_64/gopath/src/github.com/hyperledger/fabric-test/feature/sdk/java/peer-javasdk.jar -o query -n peer0.org2.example.com -i 127.0.0.1 -p 7051 -r org2.example.com -c /w/workspace/fabric-test-daily-behave-master-x86_64/gopath/src/github.com/hyperledger/fabric-test/feature/configs/650ae1ca7de411e9a253fa163e6336f2 -a /w/workspace/fabric-test-daily-behave-master-x86_64/gopath/src/github.com/hyperledger/fabric-test/feature/configs/650ae1ca7de411e9a253fa163e6336f2/ordererOrganizations/example.com/ca/tls-cert.pem -s /w/workspace/fabric-test-daily-behave-master-x86_64/gopath/src/github.com/hyperledger/fabric-test/feature/configs/650ae1ca7de411e9a253fa163e6336f2/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.crt -d orderer0.example.com -h behavesystest -m mycc -f query -g  'a'  -u scott -w th3r3' returned non-zero exit status 1  {code}  *Build Log*  https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-behave-master-x86_64/259/testReport/junit/fabric-ca/Fabric-CA%20Service/FAB_11621__JavaSDK_interoperability_Test_using_NODE_chaincode_shim_____1_2_/  https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-behave-master-x86_64/259/testReport/junit/fabric-ca/Fabric-CA%20Service/FAB_11621__JavaSDK_interoperability_Test_using_JAVA_chaincode_shim_____1_3_/  ></description> </Issue>
