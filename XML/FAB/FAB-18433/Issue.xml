<Issue id="46615" key="FAB-18433" number="18433" project="10002" reporter="JIRAUSER20118" creator="JIRAUSER20118" type="10004" summary="Issue regarding syncing of peers and fetching private data." priority="3" status="10300" created="2021-03-04 16:19:00.0" updated="2021-03-12 01:58:05.0" votes="0" watches="4" workflowId="60560" archived="N"> <description><! CDATA We have a fabric network with 2 orgs with 2 peers each for both organisations and 5 orderers . We are using fabric version 2.2.2.  We have a single channel with a single chaincode. We have configured both peers of the org to be the anchor peers and have also configured  *CORE_PEER_GOSSIP_BOOTSTRAP*,  *CORE_PEER_GOSSIP_EXTERNALENDPOINT*, *CORE_PEER_LISTENADDRESS*, *CORE_PEER_ADDRESS*, *CORE_PEER_CHAINCODELISTENADDRESS*  and  *CORE_PEER_EVENTS_ADDRESS* correctly.  We are facing an issue with our application. We are extensively using private data collection in our application. After installing the chaincode, we pushed 100 assets to store in the private data collection. We could see that all those assets got stored successfully in our both peers, then we started to ingest to store more data. After pushing almost 2500 assets, we started to observe that our peer2 stop sycing with peer1. So, we tried to restart the peer2. But, still we see the issue. When we check the channel info for peer1 we see that currently   PEER1: {code:java} Blockchain info: \{"height":43481,"currentBlockHash":"jrhnqqEnG8jFz96x3a3bOTIsgM4kaKR1lVECZP68eyg=","previousBlockHash":"y6KTCiUZCH2m8YjbwWIfQ9uV5nvgClv2RhP5EMnYh+w="} {code} PEER2:     {code:java} Blockchain info: \{"height":6290,"currentBlockHash":"UjqdnyOAyVTEXGrtJlirF5g3tYngqP+lGYvD7XuwNZA=","previousBlockHash":"ROcbp8EUE2klkWayu2YZnR0QqHhsGm7wNlECIVWx1Aw="}.    {code} We also observe that the block height of peer2 is increasing very slow. So, we are not sure if peer2 can get same block-height as peer1. Due to this we also see that  the data we are inserting is not available in peer2. However, when we checked the transientstore of peer2, we could see the data there.   We also observe below logs in peer2. {code:java} 2021-03-04 13:55:22.747 UTC  gossip.privdata  fetchPrivateData -> DEBU 1097b Total members in channel:    channel=my-channel 2021-03-04 13:55:22.747 UTC  gossip.privdata  fetchPrivateData -> DEBU 1097c Total members that fit some digest:    channel=my-channel 2021-03-04 13:55:07.739 UTC  gossip.privdata  fetchPrivateData -> WARN e5dc Do not know any peer in the channel( my-channel ) that matches the policies , aborting channel=my-channel 2021-03-04 13:55:07.739 UTC  gossip.privdata  populateFromRemotePeers -> WARN e5dd Failed fetching private data from remote peers for dig2src: map \{e08908d7baedb7e797613bd6446a9da5e33604a9476c2435e21434149e895487 partchainccw _implicit_org_Org1 6222 0}: endorser:"\n\004Org1\022\274\007\n" signature:"0D\002 N\013\236\347\037Y\232\226rL\316#Q\350\260\235X%|vO\372\206\264\364Y\335\262K}\220\027\002 T\221\030\202\373M9\210 #k\\\000O\211\323\323\"\343h\332\301-e^\202\247\251\031\373\320\211"    , err: Empty membership channel=my-channel {code}       ></description> </Issue>
