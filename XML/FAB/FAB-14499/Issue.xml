<Issue id="38223" key="FAB-14499" number="14499" project="10002" reporter="dongming" creator="dongming" type="10004" summary="RAFT OSN1 does not receive consensusRequest for 6 seconds" priority="3" resolution="10201" status="6" created="2019-03-05 15:41:54.0" updated="2019-04-04 19:57:29.0" resolutiondate="2019-04-04 19:57:29.0" votes="0" watches="4" workflowId="49845"> <description><! CDATA Under the stress test (FAB-14350), the followers OSN1 does not receive ConsensusRequest from leader OSN2 for 6 seconds and then initiates leader election.  at 21:44.394, both OSN1 and OSN3 respond to leader OSN2: Feb 27 22:21:44 orderer1st-ordererorg orderer1st-ordererorg 2019-02-28 03:21:44.394 UTC  orderer.common.cluster.step  sendMessage -> DEBU 37a20fc Send of ConsensusRequest for channel testorgschannel139 with payload of size 28 to orderer2nd-ordererorg.ordererorg(orderer2nd-ordererorg:7050) took 16.181µs  Feb 27 22:21:44 orderer1st-ordererorg orderer1st-ordererorg 2019-02-28 03:21:44.433 UTC  orderer.common.cluster.step  sendMessage -> DEBU 37a23c9 Send of ConsensusRequest for channel testorgschannel139 with payload of size 28 to orderer2nd-ordererorg.ordererorg(orderer2nd-ordererorg:7050) took 27.121µs   OSN2 keeps sending sonsensusRequest every 500ms: 	Feb 27 22:21:48 orderer2nd-ordererorg orderer2nd-ordererorg 2019-02-28 03:21:48.483 UTC  orderer.common.cluster.step  sendMessage -> DEBU 3d027f0 Send of ConsensusRequest for channel testorgschannel139 with payload of size 28 to orderer3rd-ordererorg.ordererorg(orderer3rd-ordererorg:7050) took 23.266µs  Feb 27 22:21:48 orderer2nd-ordererorg orderer2nd-ordererorg 2019-02-28 03:21:48.483 UTC  orderer.common.cluster.step  sendMessage -> DEBU 3d027f1 Send of ConsensusRequest for channel testorgschannel139 with payload of size 28 to orderer1st-ordererorg.ordererorg(orderer1st-ordererorg:7050) took 21.426µs   OSN1 does not receive consensusRequest from OSN2 for more than 5 seconds. As a result, OSN1 initiates leader election at 21:50.079: Feb 27 22:21:50 orderer1st-ordererorg orderer1st-ordererorg 2019-02-28 03:21:50.079 UTC  orderer.consensus.etcdraft  Step -> INFO 37a2e6f 1 is starting a new election at term 11 channel=testorgschannel139 node=1  The log does not show the reason why OSN1 does not receive consensusRequest from OSN2 for 6 seconds.  The log is attached to the bug.  The logDNA is available in LogDNA-community-quality-lab, with the following filter: 02/27 10:21pm to 02/27 11pm  and "testorgschannel139"    ></description> </Issue>
