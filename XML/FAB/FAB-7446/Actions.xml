<Action id="40173" issue="25717" author="adnanchoudhury" type="comment" created="2018-02-14 17:14:34.0" updateauthor="adnanchoudhury" updated="2018-02-14 17:16:22.0"> <body><! CDATA Observed from the last week, The LTE test fails due to one of several reasons, and has no specific sub-test that consistently produces the error. In  https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-x86_64/251/artifact/gopath/src/github.com/hyperledger/fabric-test/regression/daily/output_VaryNumChains_couchdb.log  {code:java}  31m2018-02-09 12:29:32.625 UTC  statecouchdb  batchRetrieveMetaData -> ERRO 003 0m Batch retrieval of document metadata failed invalid byte in chunk length panic: Error:invalid byte in chunk length goroutine 375  running : github.com/hyperledger/fabric/test/tools/LTE/common.PanicOnError(0x15451c0, 0xc421425ac0) /w/workspace/fabric-test-daily-x86_64/gopath/src/github.com/hyperledger/fabric/test/tools/LTE/common/util.go:24 +0xb2 github.com/hyperledger/fabric/test/tools/LTE/chainmgmt.(*Chain).startBlockPollingAndCommit.func1(0xc4212eaff0) /w/workspace/fabric-test-daily-x86_64/gopath/src/github.com/hyperledger/fabric/test/tools/LTE/chainmgmt/chains.go:112 +0x80 created by github.com/hyperledger/fabric/test/tools/LTE/chainmgmt.(*Chain).startBlockPollingAndCommit /w/workspace/fabric-test-daily-x86_64/gopath/src/github.com/hyperledger/fabric/test/tools/LTE/chainmgmt/chains.go:105 +0x5e Stopping couchdb container (id: ee773f2f92ad)...{code} From  https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-x86_64/251/artifact/gopath/src/github.com/hyperledger/fabric-test/regression/daily/output_VaryNumParallelTxPerChain_couchdb.log    {code:java}  31m2018-02-09 12:20:32.639 UTC  statecouchdb  batchRetrieveMetaData -> ERRO 003 0m Batch retrieval of document metadata failed invalid byte in chunk length panic: Error during commit to txmgr:invalid byte in chunk length goroutine 373  running : github.com/hyperledger/fabric/core/ledger/kvledger.(*kvLedger).CommitWithPvtData(0xc42224e600, 0xc422126720, 0x0, 0x0) /w/workspace/fabric-test-daily-x86_64/gopath/src/github.com/hyperledger/fabric/core/ledger/kvledger/kv_ledger.go:251 +0x921 github.com/hyperledger/fabric/core/ledger/ledgermgmt.(*closableLedger).CommitWithPvtData(0xc421dfc380, 0xc422126720, 0x0, 0x0) <autogenerated>:1 +0x47 github.com/hyperledger/fabric/test/tools/LTE/chainmgmt.(*Chain).startBlockPollingAndCommit.func1(0xc4217ced20) /w/workspace/fabric-test-daily-x86_64/gopath/src/github.com/hyperledger/fabric/test/tools/LTE/chainmgmt/chains.go:112 +0x68 created by github.com/hyperledger/fabric/test/tools/LTE/chainmgmt.(*Chain).startBlockPollingAndCommit /w/workspace/fabric-test-daily-x86_64/gopath/src/github.com/hyperledger/fabric/test/tools/LTE/chainmgmt/chains.go:105 +0x5e Stopping couchdb container (id: c61571f971be)...{code} in  https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-x86_64/254/artifact/gopath/src/github.com/hyperledger/fabric-test/regression/daily/output_VaryNumKeysInEachTx_couchdb.log  {code:java} panic: Error:net/http: request canceled (Client.Timeout exceeded while reading body) goroutine 452  running : github.com/hyperledger/fabric/test/tools/LTE/common.PanicOnError(0x1547680, 0xc422e16d00) /w/workspace/fabric-test-daily-x86_64/gopath/src/github.com/hyperledger/fabric/test/tools/LTE/common/util.go:24 +0xb2 github.com/hyperledger/fabric/test/tools/LTE/experiments.runReadWriteClient(0xc421cdb500, 0xc421e72d80, 0x64, 0xc421cf1900) /w/workspace/fabric-test-daily-x86_64/gopath/src/github.com/hyperledger/fabric/test/tools/LTE/experiments/readwrite_txs_test.go:79 +0x1f8 created by github.com/hyperledger/fabric/test/tools/LTE/experiments.runReadWriteClientsForChain /w/workspace/fabric-test-daily-x86_64/gopath/src/github.com/hyperledger/fabric/test/tools/LTE/experiments/readwrite_txs_test.go:62 +0x103 Stopping couchdb container (id: b71eba24c09e)...{code} From  https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-x86_64/254/artifact/gopath/src/github.com/hyperledger/fabric-test/regression/daily/output_VaryNumTxs_couchdb.log  {code:java} 018-02-12 12:05:23.012 UTC  statecouchdb  batchRetrieveMetaData -> ERRO 003 0m Batch retrieval of document metadata failed invalid byte in chunk length panic: Error:invalid byte in chunk length goroutine 371  running : github.com/hyperledger/fabric/test/tools/LTE/common.PanicOnError(0x15451c0, 0xc423441cd0) /w/workspace/fabric-test-daily-x86_64/gopath/src/github.com/hyperledger/fabric/test/tools/LTE/common/util.go:24 +0xb2 github.com/hyperledger/fabric/test/tools/LTE/chainmgmt.(*Chain).startBlockPollingAndCommit.func1(0xc420287a40) /w/workspace/fabric-test-daily-x86_64/gopath/src/github.com/hyperledger/fabric/test/tools/LTE/chainmgmt/chains.go:112 +0x80 created by github.com/hyperledger/fabric/test/tools/LTE/chainmgmt.(*Chain).startBlockPollingAndCommit /w/workspace/fabric-test-daily-x86_64/gopath/src/github.com/hyperledger/fabric/test/tools/LTE/chainmgmt/chains.go:105 +0x5e Stopping couchdb container (id: 7a466cdc6eaf)...{code}  https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-x86_64/256/artifact/gopath/src/github.com/hyperledger/fabric-test/regression/daily/output_VaryNumChains_couchdb.log     {code:java}  31m2018-02-14 12:13:28.335 UTC  statecouchdb  batchRetrieveMetaData -> ERRO 003 0m Batch retrieval of document metadata failed invalid byte in chunk length panic: Error:invalid byte in chunk length goroutine 1680  running : github.com/hyperledger/fabric/test/tools/LTE/common.PanicOnError(0x15451c0, 0xc4252a3010) /w/workspace/fabric-test-daily-x86_64/gopath/src/github.com/hyperledger/fabric/test/tools/LTE/common/util.go:24 +0xb2 github.com/hyperledger/fabric/test/tools/LTE/chainmgmt.(*Chain).startBlockPollingAndCommit.func1(0xc4211747e0) /w/workspace/fabric-test-daily-x86_64/gopath/src/github.com/hyperledger/fabric/test/tools/LTE/chainmgmt/chains.go:112 +0x80 created by github.com/hyperledger/fabric/test/tools/LTE/chainmgmt.(*Chain).startBlockPollingAndCommit /w/workspace/fabric-test-daily-x86_64/gopath/src/github.com/hyperledger/fabric/test/tools/LTE/chainmgmt/chains.go:105 +0x5e Stopping couchdb container (id: 4fa75e9d43df)...{code} Â    https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-x86_64/255/artifact/gopath/src/github.com/hyperledger/fabric-test/regression/daily/output_VaryBatchSize_couchdb.log  {code:java} m2018-02-13 15:23:55.766 UTC  statecouchdb  batchRetrieveMetaData -> ERRO 003 0m Batch retrieval of document metadata failed http: read on closed response body panic: Error during commit to txmgr:http: read on closed response body goroutine 399  running : github.com/hyperledger/fabric/core/ledger/kvledger.(*kvLedger).CommitWithPvtData(0xc421a5c080, 0xc4216031a0, 0x0, 0x0) /w/workspace/fabric-test-daily-x86_64/gopath/src/github.com/hyperledger/fabric/core/ledger/kvledger/kv_ledger.go:251 +0x921 github.com/hyperledger/fabric/core/ledger/ledgermgmt.(*closableLedger).CommitWithPvtData(0xc42136d780, 0xc4216031a0, 0x0, 0x0) <autogenerated>:1 +0x47 github.com/hyperledger/fabric/test/tools/LTE/chainmgmt.(*Chain).startBlockPollingAndCommit.func1(0xc42160e270) /w/workspace/fabric-test-daily-x86_64/gopath/src/github.com/hyperledger/fabric/test/tools/LTE/chainmgmt/chains.go:112 +0x68 created by github.com/hyperledger/fabric/test/tools/LTE/chainmgmt.(*Chain).startBlockPollingAndCommit /w/workspace/fabric-test-daily-x86_64/gopath/src/github.com/hyperledger/fabric/test/tools/LTE/chainmgmt/chains.go:105 +0x5e Stopping couchdb container (id: a566af81c71d)...{code}  https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-x86_64/255/artifact/gopath/src/github.com/hyperledger/fabric-test/regression/daily/output_VaryKVSize_couchdb.log     {code:java} 31m2018-02-13 15:22:02.860 UTC  statecouchdb  batchRetrieveMetaData -> ERRO 003 0m Batch retrieval of document metadata failed invalid byte in chunk length panic: Error:invalid byte in chunk length goroutine 366  running : github.com/hyperledger/fabric/test/tools/LTE/common.PanicOnError(0x15451c0, 0xc4201cc8e0) /w/workspace/fabric-test-daily-x86_64/gopath/src/github.com/hyperledger/fabric/test/tools/LTE/common/util.go:24 +0xb2 github.com/hyperledger/fabric/test/tools/LTE/chainmgmt.(*Chain).startBlockPollingAndCommit.func1(0xc421163200) /w/workspace/fabric-test-daily-x86_64/gopath/src/github.com/hyperledger/fabric/test/tools/LTE/chainmgmt/chains.go:112 +0x80 created by github.com/hyperledger/fabric/test/tools/LTE/chainmgmt.(*Chain).startBlockPollingAndCommit /w/workspace/fabric-test-daily-x86_64/gopath/src/github.com/hyperledger/fabric/test/tools/LTE/chainmgmt/chains.go:105 +0x5e Stopping couchdb container (id: 041825f38e02)...{code} From  https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-x86_64/255/artifact/gopath/src/github.com/hyperledger/fabric-test/regression/daily/output_VaryNumChainsWithNoParallelism_couchdb.log  {code:java}  31m2018-02-13 15:15:52.731 UTC  statecouchdb  batchRetrieveMetaData -> ERRO 003 0m Batch retrieval of document metadata failed net/http: request canceled (Client.Timeout exceeded while reading body) panic: Error during commit to txmgr:net/http: request canceled (Client.Timeout exceeded while reading body) goroutine 386  running : github.com/hyperledger/fabric/core/ledger/kvledger.(*kvLedger).CommitWithPvtData(0xc42013d4c0, 0xc422153bc0, 0x0, 0x0) /w/workspace/fabric-test-daily-x86_64/gopath/src/github.com/hyperledger/fabric/core/ledger/kvledger/kv_ledger.go:251 +0x921 github.com/hyperledger/fabric/core/ledger/ledgermgmt.(*closableLedger).CommitWithPvtData(0xc421d6d760, 0xc422153bc0, 0x0, 0x0) <autogenerated>:1 +0x47 github.com/hyperledger/fabric/test/tools/LTE/chainmgmt.(*Chain).startBlockPollingAndCommit.func1(0xc42203b770) /w/workspace/fabric-test-daily-x86_64/gopath/src/github.com/hyperledger/fabric/test/tools/LTE/chainmgmt/chains.go:112 +0x68 created by github.com/hyperledger/fabric/test/tools/LTE/chainmgmt.(*Chain).startBlockPollingAndCommit /w/workspace/fabric-test-daily-x86_64/gopath/src/github.com/hyperledger/fabric/test/tools/LTE/chainmgmt/chains.go:105 +0x5e Stopping couchdb container (id: 5530632694ea)...{code}  ></body> </Action>
<Action id="40422" issue="25717" author="sambhavdutt" type="comment" created="2018-02-20 15:28:43.0" updateauthor="sambhavdutt" updated="2018-02-20 15:28:43.0"> <body><! CDATA The ledger_lte failed in the last build for couchdb test in the *fabric-test-daily-x86_64* ,    {code:java} Passing criteria: Underlying LTE test completed successfully with exit code 0 ''' logfile = open("output_VaryNumTxs_couchdb.log", "w") returncode = subprocess.call( "./runbenchmarks.sh -f parameters_couchdb_daily_CI.sh varyNumTxs", shell=True, stderr=subprocess.STDOUT, stdout=logfile, cwd=tool_directory) logfile.close() self.assertEqual(returncode, 0, msg="varyNumTxs for CouchDB " "performance test failed. \nPlease check the logfile " >               +logfile.name+" for more " "details.") E       AssertionError: varyNumTxs for CouchDB performance test failed.  E       Please check the logfile output_VaryNumTxs_couchdb.log for more details.  ledger_lte.py:344: AssertionError {code}   *Build Log*  https://jenkins.hyperledger.org/view/Daily/job/fabric-test-daily-x86_64/262/testReport/ledger_lte/perf_couchdb/test_FAB_3877_VaryNumTxs/  ></body> </Action>
<Action id="40929" issue="25717" author="sambhavdutt" type="comment" created="2018-02-27 14:39:16.0" updateauthor="sambhavdutt" updated="2018-02-27 14:39:16.0"> <body><! CDATA The ledger_lte tests have passed in the last 4 builds for fabric-test-daily-x86_64  *Build Log*  https://jenkins.hyperledger.org/view/Daily/job/fabric-test-daily-x86_64/test_results_analyzer/  ></body> </Action>
<Action id="42258" issue="25717" author="rameshthoomu" type="comment" body="Not-reproduced in the recent builds. Marking this as done.." created="2018-03-28 16:38:47.0" updateauthor="rameshthoomu" updated="2018-03-28 16:38:47.0"/>
