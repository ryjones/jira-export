<Issue id="27759" key="FAB-8311" number="8311" project="10002" reporter="latitiah" creator="latitiah" type="10004" summary="npm install error on optional package" priority="3" resolution="10002" status="6" created="2018-02-15 04:29:55.0" updated="2018-09-06 15:18:02.0" resolutiondate="2018-09-06 15:18:02.0" votes="0" watches="2" workflowId="35556"> <description><! CDATA When performing `npm install` there is an error on the optional package fsevents@1.0.14. The node_modules folder is being generated, but with the following errors on that package.  *commit*: 35cde418724af4693e51a40cad15a07a14d313fb  On local macOS: {code}../node_modules/nan/nan_maybe_43_inl.h:220:17: warning: 'CloneElementAt' is deprecated  -Wdeprecated-declarations  return array->CloneElementAt(GetCurrentContext(), index); ^ /Users/quality/.node-gyp/8.9.4/include/node/v8.h:3502:36: note: 'CloneElementAt' has been explicitly marked deprecated here MaybeLocal<Object> CloneElementAt(Local<Context> context, ^ In file included from ../src/x509.cc:3: In file included from ../include/x509.h:7: In file included from ../node_modules/nan/nan.h:200: In file included from ../node_modules/nan/nan_new.h:189: ../node_modules/nan/nan_implementation_12_inl.h:40:29: warning: 'New' is deprecated  -Wdeprecated-declarations  return v8::BooleanObject::New(value).As<v8::BooleanObject>(); ^ /Users/quality/.node-gyp/8.9.4/include/node/v8.h:4793:56: note: 'New' has been explicitly marked deprecated here V8_DEPRECATED("Pass an isolate", static Local<Value> New(bool value)); ^ In file included from ../src/x509.cc:3: In file included from ../include/x509.h:7: ../node_modules/nan/nan.h:1963:15: warning: 'SetAccessor' is deprecated  -Wdeprecated-declarations  return obj->SetAccessor( ^ /Users/quality/.node-gyp/8.9.4/include/node/v8.h:3172:22: note: 'SetAccessor' has been explicitly marked deprecated here bool SetAccessor(Local<Name> name, ^ ../src/x509.cc:433:35: warning: 'CallAsConstructor' is deprecated  -Wdeprecated-declarations  return scope.Escape(DateObject->CallAsConstructor(1, args)); ^ /Users/quality/.node-gyp/8.9.4/include/node/v8.h:3467:30: note: 'CallAsConstructor' has been explicitly marked deprecated here Local<Value> CallAsConstructor(int argc, Local<Value> argv  )); ^ 4 warnings generated. SOLINK_MODULE(target) Release/x509.node added 1133 packages in 30.311s {code}  On vagrant VM: {code}$ npm install npm WARN Integration@1.0.0 No repository field. npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@1.0.14 (node_modules/sync-dir/node_modules/fsevents): npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@1.0.14: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})  npm ERR! path /opt/gopath/src/github.com/hyperledger/node_modules/grpc/node_modules/verror/node_modules/assert-plus/package.json.3078159880 npm ERR! code ENOENT npm ERR! errno -2 npm ERR! syscall open npm ERR! enoent ENOENT: no such file or directory, open '/opt/gopath/src/github.com/hyperledger/node_modules/grpc/node_modules/verror/node_modules/assert-plus/package.json.3078159880' npm ERR! enoent This is related to npm not being able to find a file. npm ERR! enoent   npm ERR! A complete log of this run can be found in: npm ERR!     /home/ubuntu/.npm/_logs/2018-02-14T18_40_03_535Z-debug.log $ npm -v 5.6.0 $ node -v v8.9.4 $ more package.json  { "name": "Integration", "version": "1.0.0", "description": "Behave Node.js SDK Integration", "keywords":   "Behave node-sdk integration", "Call node-sdk apis from behave"  , "engines": { "node": ">=6.9.5 <7.0", "npm": ">=3.10.10 <4.0" }, "license": "Apache-2.0", "dependencies": { "fabric-ca-client": "unstable", "fabric-client": "unstable", "fs-extra": "^2.0.0", "log4js": "^0.6.38" }, "devDependencies": { "sync-dir": "^1.5.1" } } {code}  ></description> </Issue>
