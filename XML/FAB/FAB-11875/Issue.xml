<Issue id="33518" key="FAB-11875" number="11875" project="10002" reporter="pandrejko" assignee="pandrejko" creator="pandrejko" type="10100" summary="Add best practices on programming against fabric" priority="3" status="10000" created="2018-09-05 17:58:51.0" updated="2020-01-13 18:26:19.0" votes="1" watches="5" workflowId="44806"> <description><! CDATA We've gotten feedback from customers around their experience with writing client applications and chaincode and need to include this in our fabric documentation.     Specifically,  1) Orderer settings/parms availabile for tuning  2) CoucDB: Use indexes, db query recommendations when the result set > 10000 (and pagination is not available), breakup chaincode for performance.  3) Writing non-deterministic chaincode - sorting the result set so it is always in the same order, etc.  4) Setting timeouts for Install, instantiate, invocattions, etc.  5) Mention GRPC timeouts & the recommendation to use the ones recommended in the connx profile.  -  https://github.ibm.com/IBM-Blockchain/ui-development/issues/2543. |https://github.ibm.com/IBM-Blockchain/ui-development/issues/2543 From Gari S - . these are the settings which are needed (we can adjust the values), but these work: `"grpcOptions":  { "grpc.keepalive_time_ms": 120000, "grpc.http2.min_time_between_pings_ms": 120000, "grpc.keepalive_timeout_ms": 20000, "grpc.http2.max_pings_without_data": 0, "grpc.keepalive_permit_without_calls": 1 }  If customers are not using the connection profile then they need to manually add these settings to their client app.  The most important one is the `"grpc.http2.max_pings_without_data": 0,`. grpc defaults to 2 seconds for this one so if there is no activity for 2 secs the connection is dropped. 0 means infinite..  Therefore: Add gRPC options so that gRPC keepalive pings are sent during periods that the application is idle  6) -Reuse Client, Channel, and Peer Node SDK objects  7) Use the ChannelEventHub (rather than the EventHub) and make sure that the application isn't constantly connecting and disconnecting how to appropriately receive and consume events from Fabric (https://jira.hyperledger.org/browse/FABN-907) <<Fabric SDK Doc  Suggestion is  to put this in a best practices topic, could also go in FAQ...     ></description> </Issue>
