<Action id="48325" issue="32526" author="yacovm" type="comment" body="You corrupted the file, but you did that after the world state has changed. This works as expected. I&apos;m closing this." created="2018-08-03 06:24:12.0" updateauthor="yacovm" updated="2018-08-03 06:24:12.0"/>
<Action id="48326" issue="32526" author="pankajcheema" type="comment" created="2018-08-03 07:18:07.0" updateauthor="pankajcheema" updated="2018-08-03 07:21:54.0"> <body><! CDATA I got a case more . 1->>I cleared everything from */var/hyperledger/production/ledgersData/chains/chains/mychannel*  2->>also cleared everything  from */var/hyperledger/production/ledgersData/chains/index*  After this i again initiated a invoke for transferring 10 from A to B .I was able to do successful transaction again on the same peer from where i erased everything.  Why this is happening.This time i also erased indexes.  And if gossip updated the peer with new data then why not again all the data come backk in the respective directories.  ></body> </Action>
<Action id="48328" issue="32526" author="yacovm" type="comment" body="did you restart the peer after you deleted? The file descriptors are still open while a process is running" created="2018-08-03 08:03:08.0" updateauthor="yacovm" updated="2018-08-03 08:03:08.0"/>
<Action id="48332" issue="32526" author="pankajcheema" type="comment" created="2018-08-03 08:53:42.0" updateauthor="pankajcheema" updated="2018-08-03 08:53:42.0"> <body><! CDATA  ~yacovm  after restarting the peer i got files back but data is empty there   Location :*/var/hyperledger/production/ledgersData/chains/chains/mychannel*  file :blockfile_000000  content on peer which is not corrupted by me is  content|https://hastebin.com/buxefofuda.makefile   content on the peer where i corrupt the file is empty nothing   What are the reasons  ></body> </Action>
<Action id="48339" issue="32526" author="meghagupta0305" type="comment" created="2018-08-03 09:36:09.0" updateauthor="meghagupta0305" updated="2018-08-03 09:37:37.0"> <body><! CDATA Hi everyone,   I have done the same think as  ~pankajcheema  did.   I think actual issue is if we corrupting the file in one of the peer,then how it going to correct by it self?   According to my understanding it should get corrected by peer with help of other peers or ordering service. But its not happening.      ></body> </Action>
<Action id="48341" issue="32526" author="meghagupta0305" type="comment" created="2018-08-03 09:41:16.0" updateauthor="meghagupta0305" updated="2018-08-03 09:41:16.0"> <body><! CDATA According to block chain basic concept if we change the data in block then data hash of that block will change and we will not able to reach that block.   If we want to test/Verify  this feature how we can do that ?     ></body> </Action>
<Action id="48386" issue="32526" author="denyeart" type="comment" created="2018-08-03 15:08:51.0" updateauthor="denyeart" updated="2018-08-03 15:08:51.0"> <body><! CDATA  ~pankajcheema   ~meghagupta0305  If you tamper with the block files, the peer will not automatically detect this (imagine how expensive it would be to constantly recalculate hashes for millions of blocks). But you can audit the integrity of the blockchain by running a utility to check the hashes.  One such utility can be found at: https://github.com/C0rWin/ledgerfsck There was a proposal to have such a verify utility within the peer itself, but current thinking is to use external verify tools.  See discussion in FAB-6486.  If you stop peer, delete the chains directory, and then try to invoke chaincode on a channel, you will get an error since peer wasn't able to initialize the chain upon restart.  I tested and confirmed, and will therefore close since it is working as designed.  A few comments: - If you find your chain has been deleted or tampered, you will need to re-build your peer and re-join the channel.  Peer will get blocks from ordering service or another peer. - If you believe your chain indexes or state database is not correct, you can stop peer, delete them, and re-start peer.  Peer will automatically rebuild indexes and state database based on the blockchain. - The important concept in blockchain is - if you tamper with your own local copy of the blockchain, it is detectable and you will not be able to convince the network of other peers that your copy of the ledger is correct.  The integrity of the network cannot be compromised by a rogue organization/peer.  ></body> </Action>
<Action id="48391" issue="32526" author="meghagupta0305" type="comment" created="2018-08-03 15:36:13.0" updateauthor="meghagupta0305" updated="2018-08-03 15:36:13.0"> <body><! CDATA Thanks  ~denyeart  for detail description on integrity of system. This information is very helpful.   I am totally agree that calculating all the hashes is a costly operation even if we are doing with tool.   But how we know that data has corrupted on one of the peer.   Why can't we have some listener on block chain file which get called on every update on file to check its valid update or not.   If its not valid update can send some kind of warning alarm.   valid update means file update as a part of broadcast service or not.   Its just my thought I might don't know the complication of system.       ></body> </Action>
<Action id="48393" issue="32526" author="denyeart" type="comment" body=" ~meghagupta0305  The peer should run in a secured and locked down environment.  The peer has to trust its own system administrator is not malicious. A malicious system administrator could anyways stop the listener process while they tamper with the blocks, and while they are at it tamper with the validator code.  The important thing is that external tools can validate the integrity of the blockchain, and one rogue organization/peer/administrator cannot compromise all the other peers." created="2018-08-03 16:34:31.0" updateauthor="denyeart" updated="2018-08-03 16:34:31.0"/>
