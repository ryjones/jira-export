<Action id="41903" issue="28752" author="alexliu" type="comment" body="How did you remove org1 from channel, by node sdk?" created="2018-03-22 02:23:04.0" updateauthor="alexliu" updated="2018-03-22 02:23:04.0"/>
<Action id="41910" issue="28752" author="varadatibm" type="comment" body="Yes, Used Node SDK to make a channel update" created="2018-03-22 12:31:09.0" updateauthor="varadatibm" updated="2018-03-22 12:31:20.0"/>
<Action id="41931" issue="28752" author="harrisob@us.ibm.com" type="comment" created="2018-03-22 15:49:28.0" updateauthor="harrisob@us.ibm.com" updated="2018-03-22 15:50:34.0"> <body><! CDATA The channel update is made to the orderer,  the peer does not know yet it has been kick out of the channel. The channel initialize now gets the configuration from the organization's peer where before it got it from the orderer. The channel initialize must be happening before the peer has been informed that it is no longer on the channel.   ~denyeart   ></body> </Action>
<Action id="42659" issue="28752" author="mastersingh24" type="comment" body=" ~varadatibm   - what exactly are you trying to accomplish here?" created="2018-04-07 11:57:15.0" updateauthor="mastersingh24" updated="2018-04-07 11:57:15.0"/>
<Action id="42670" issue="28752" author="varadatibm" type="comment" created="2018-04-07 13:37:18.0" updateauthor="varadatibm" updated="2018-04-07 13:37:18.0"> <body><! CDATA  ~mastersingh24   The goal is to display from the UI only the channels the given org is a member of.  In order to do that we query all their peers for the channels they are members of (client.queryChannels). This list come back with all channels the peer ever joined. After that to see if they are still channel members, we make the getOrganizations call on the channel. Previously, if the org is not a member, this call would come back with a FORBIDDEN, indicating that the user does not have access. Now, it come back with the list of orgs that were members before the org got kicked out (including the org that is not a member anymore).  We worked around it, by querying the orderer for the channel config and seeing the members to see if the org is actually still a member.  This is not an issue for us anymore, but is confusing to see the member on a channel even though they are removed, when querying from the peers.  ></body> </Action>
<Action id="43833" issue="28752" author="jyellick" type="comment" created="2018-05-04 14:09:27.0" updateauthor="jyellick" updated="2018-05-04 14:10:06.0"> <body><! CDATA I'm a bit confused how this previously 'worked'.  When an org is evicted from a channel, it loses the right to read from that channel.  In general, this means that it does not have authority to read the block which kicked it out of the channel, so, it cannot know that it is no longer in the channel (other than receiving 'FORBIDDEN" errors when querying).  Perhaps we can/should use the 'FORBDIDEN' cue to somehow unjoin the peer from the channel, but, I would classify this as 'working as designed' for now.  Assuming you have a workaround, I'd like to convert this into an improvement and put it on the backlog, is that okay by you  ~varadatibm  ?  ></body> </Action>
<Action id="43835" issue="28752" author="varadatibm" type="comment" created="2018-05-04 14:22:31.0" updateauthor="varadatibm" updated="2018-05-04 14:22:31.0"> <body><! CDATA  ~jyellick  It is fine...   Like we discussed... there are pro and cons of the current state...  Pro - You can get chaincode queries to work  Con - You don't know that you are kicked out of the channel  As long as we keep it in the radar and improve it, I am okay.  ></body> </Action>
<Action id="67407" issue="28752" author="sykesm" type="comment" body="Stale" created="2020-01-22 22:32:27.0" updateauthor="sykesm" updated="2020-01-22 22:32:27.0"/>
<Action id="69486" issue="28752" author="mrshah-ibm" type="comment" created="2020-06-17 14:19:07.0" updateauthor="mrshah-ibm" updated="2020-06-17 14:19:36.0"> <body><! CDATA We would like to reopen this because we cannot query the orderer anymore if we are running the peer only. So we would like to know if the peer is not part of that channel anymore.      ~varadatibm  feel free to add more details on how it is relevant now than it was before.  ></body> </Action>
<Action id="69487" issue="28752" author="denyeart" type="comment" body="Note that official peer &apos;unjoin&apos; will likely be coming soon ( FAB-17801 ), so that may factor into the overall design here." created="2020-06-17 14:30:18.0" updateauthor="denyeart" updated="2020-06-17 14:30:55.0"/>
<Action id="69773" issue="28752" author="denyeart" type="comment" body="Potentially we could extend the CSCC GetChannels() result to return channel status in addition to joined channel names. One of the channel statuses could be a joined channel that is currently receiving FORBIDDEN for block delivery requests. There are also other channel statuses that we may want to highlight to clients, for example a Paused channel." created="2020-07-24 03:12:46.0" updateauthor="denyeart" updated="2020-07-24 03:12:46.0"/>
