<Issue id="20793" key="FAB-6139" number="6139" project="10002" reporter="jyellick" assignee="jyellick" creator="jyellick" type="10003" summary="Add new channel config encoder package" priority="3" resolution="10000" status="6" created="2017-09-13 05:16:35.0" updated="2018-07-20 14:14:22.0" resolutiondate="2017-11-02 14:24:05.0" votes="0" watches="1" workflowId="39995"> <description><! CDATA configtxgen currently depends on the 'provisional' package for encoding the information contained in configtx.yaml into the fabric native proto format.  The provisional package was originally developed as part of th orderer testing framework, and was never designed to work as it does today.  This CR introduces a new encoder which more directly translates between the viper config struct and the native proto format.  It relies on much less indirection and should be easier for users to understand, easier t hack on, and already has significantly better test coverage.  In addition, the new encoder allows for encoding of a subset of the configuration, which is very useful for tests and tools.  There are man places in fabric codebase which use the provisional package to generate a genesis block, then unpack the the block, unpack the envelope, unpack the config envelope, and finally access the config inside, and the new package allows producing the config directly without these intermediate steps.  This CR simply introduces the new encoder and tests.  It utilizes the new simple util functions from the channelconfig and policies packages.  In subsequent CRs, the old provisional package will be removed, as will the assorted old 'Template<...>' methods it depended upon.  ></description> </Issue>
