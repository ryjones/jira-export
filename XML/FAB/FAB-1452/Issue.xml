<Issue id="13861" key="FAB-1452" number="1452" project="10002" reporter="kchristidis" assignee="kchristidis" creator="kchristidis" type="10004" summary="Ensure mock consumer is set up before accessing its disk" priority="3" resolution="10000" status="6" created="2016-12-20 04:38:54.0" updated="2018-07-20 14:11:05.0" resolutiondate="2016-12-25 19:00:31.0" votes="0" watches="1" timeoriginalestimate="120" timeestimate="120" workflowId="36920"> <description><! CDATA Consider this:  # Before we bring up a mock producer and mock consumer we need to initialize them so that they output the right offsets. We do this via a process where we add fill-in blocks until we get them to the desired offset. # We move messages between the mock producer to the mock consumer via goroutine that fetches a message from the producer's disk (an unbuffered channel) and places it into the consumer's disk (another unbuffered channel).  Up until now, before proceeding to step 2, we would only make sure that the producer was set-up. The goroutine then would add a message to the consumer's disk before the consumer was set-up. As a result, the first message we would receive past the setup process would sometimes be the last fill-in message (instead of the first, regular test message).  ></description> </Issue>
