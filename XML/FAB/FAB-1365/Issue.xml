<Issue id="13772" key="FAB-1365" number="1365" project="10002" reporter="kchristidis" assignee="kchristidis" creator="kchristidis" type="10002" summary="Introduce Kafka-specific container message types" priority="3" resolution="10000" status="6" created="2016-12-12 05:11:28.0" updated="2018-07-20 14:11:02.0" resolutiondate="2016-12-16 05:47:06.0" votes="0" watches="1" workflowId="36869"> <description><! CDATA The revised Kafka consenter needs two special messages:  # A time-to-cut message that is used to mark the end of a block, and # A no-op message that each shim posts when bootstrapped by the multichain manager to prevent the possibility of "listening in" (seeking and consuming) on a topic/partition that nobody has posted to yet  1 . This is an operation that panics in Kafka: " ERROR  Cannot retrieve required offset from Kafka cluster: kafka server: The request attempted to perform an operation on an invalid topic."  These messages are special because they don't carry transactions, and because the Kafka consenter will treat them in a special way: it will ignore every time-to-cut message (for a specific block number) besides the first one, and it will ignore all "no-op" messages when processing incoming messages from the chain partition.  A preview of these in action can be found here: https://github.com/kchristidis/fabric/blob/47752ed61fcab1b26207a9e9075c1c793d723912/orderer/kafka/main.go#L142 https://github.com/kchristidis/fabric/blob/47752ed61fcab1b26207a9e9075c1c793d723912/orderer/kafka/main.go#L164 https://github.com/kchristidis/fabric/blob/47752ed61fcab1b26207a9e9075c1c793d723912/orderer/kafka/main.go#L204  ></description> </Issue>
