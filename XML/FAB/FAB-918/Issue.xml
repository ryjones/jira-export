<Issue id="13249" key="FAB-918" number="918" project="10002" reporter="bcbrock" assignee="jyellick" creator="bcbrock" type="10004" summary="Nested configs are not processed correctly by the orderer when passed as env. vars" priority="2" resolution="10000" status="6" created="2016-11-01 00:00:28.0" updated="2018-07-20 14:10:40.0" resolutiondate="2016-11-01 16:38:07.0" votes="0" watches="3" workflowId="36591"> <description><! CDATA This issue only affects configurations nested more than 2 levels deep, it seems. Briefly, you can observe that the orderer does not correctly processes certain nested configs. when entered as env. vars from the command line:  {code:java} ORDERER_KAFKA_RETRY_PERIOD=10s ./orderer ... h3.  18:45:22.261       config.go:196:  INFO   Validated configuration to: &{General:{OrdererType:solo LedgerType:ram BatchTimeout:10s BatchSize:10 QueueSize:10 MaxWindowSize:1000 ListenAddress:127.0.0.1 ListenPort:5151 GenesisMethod:static Profile:{Enabled:false Address:0.0.0.0:6060}} RAMLedger:{HistorySize:1000} FileLedger:{Location: Prefix:hyperledger-fabric-rawledger} Kafka:{Brokers: 127.0.0.1:9092  Topic:test PartitionID:0 Retry:{Period:3s Stop:1m0s} Version:{version: 0 9 0 1 }}} {code}  Note that the Kafka/retry/period period has not changed from the default 3 seconds as reported by the debug output. The fix I will submit shortly fixes this: {code} ORDERER_KAFKA_RETRY_PERIOD=10s ./orderer ...  18:44:30.830       config.go:196:  INFO   Validated configuration to: &{General:{OrdererType:solo LedgerType:ram BatchTimeout:10s BatchSize:10 QueueSize:10 MaxWindowSize:1000 ListenAddress:127.0.0.1 ListenPort:5151 GenesisMethod:static Profile:{Enabled:false Address:0.0.0.0:6060}} RAMLedger:{HistorySize:1000} FileLedger:{Location: Prefix:hyperledger-fabric-rawledger} Kafka:{Brokers: 127.0.0.1:9092  Topic:test PartitionID:0 Retry:{Period:10s Stop:1m0s} Version:{version: 0 9 0 1 }}} {code} Now Kafka/retry/period is correctly overridden to 10 seconds.  When can we eliminate the use of Viper - please?  ></description> </Issue>
