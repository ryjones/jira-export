<Action id="46790" issue="27685" author="adnanchoudhury" type="comment" created="2018-06-30 04:47:19.0" updateauthor="adnanchoudhury" updated="2018-06-30 04:49:51.0"> <body><! CDATA *Hardware Setup:* IBM Kubernetes cluster of 6 machines (3 each of 2 CPU-4GB memory, 3 each of 4 CPU-16GB memory)  *Result:* *Short:*  1st set of 0.1 million invoke at 36.78 PS 2nd set of 0.1 million invoke at 28.17 PS  set of 0.2 million query at 55.01 PS   *Long:*  ======= PTE 0 main Test Summary: executed at Fri Jun 29 2018 20:35:02 GMT+0000 (UTC) =======  (testorgschannel1:marbles02_go_ch1): INVOKE transaction stats  (testorgschannel1:marbles02_go_ch1): Total transactions 50000  timeout transactions 0  (testorgschannel1:marbles02_go_ch1): start 1530304519686  end 1530307230703  duration 2711017 ms  (testorgschannel1:marbles02_go_ch1): TPS 18.44  (testorgschannel1:marbles02_go_ch1): peer latency stats (endorsement)  (testorgschannel1:marbles02_go_ch1): total transactions: 50000  total time: 2172249 ms  (testorgschannel1:marbles02_go_ch1): min: 10 ms  max: 258 ms  avg: 43.44498 ms  (testorgschannel1:marbles02_go_ch1): orderer latency stats (transaction ack)  (testorgschannel1:marbles02_go_ch1): total transactions: 50000  total time: 1037976 ms  (testorgschannel1:marbles02_go_ch1): min: 6 ms  max: 783 ms  avg: 20.75952 ms  (testorgschannel1:marbles02_go_ch1): event latency stats (end-to-end)  (testorgschannel1:marbles02_go_ch1): total transactions: 50000  total time: 19849089 ms  (testorgschannel1:marbles02_go_ch1): min: 87 ms  max: 1377 ms  avg: 396.98178 ms     ======= PTE 1 main Test Summary: executed at Fri Jun 29 2018 20:35:02 GMT+0000 (UTC) =======  (testorgschannel2:marbles02_go_ch2): INVOKE transaction stats  (testorgschannel2:marbles02_go_ch2): Total transactions 50000  timeout transactions 0  (testorgschannel2:marbles02_go_ch2): start 1530304519689  end 1530307246501  duration 2726812 ms  (testorgschannel2:marbles02_go_ch2): TPS 18.34  (testorgschannel2:marbles02_go_ch2): peer latency stats (endorsement)  (testorgschannel2:marbles02_go_ch2): total transactions: 50000  total time: 2163429 ms  (testorgschannel2:marbles02_go_ch2): min: 12 ms  max: 249 ms  avg: 43.26858 ms  (testorgschannel2:marbles02_go_ch2): orderer latency stats (transaction ack)  (testorgschannel2:marbles02_go_ch2): total transactions: 50000  total time: 1177241 ms  (testorgschannel2:marbles02_go_ch2): min: 6 ms  max: 472 ms  avg: 23.54482 ms  (testorgschannel2:marbles02_go_ch2): event latency stats (end-to-end)  (testorgschannel2:marbles02_go_ch2): total transactions: 50000  total time: 20130664 ms  (testorgschannel2:marbles02_go_ch2): min: 88 ms  max: 1037 ms  avg: 402.61328 ms     ======= PTE 0 main Test Summary: executed at Fri Jun 29 2018 21:25:18 GMT+0000 (UTC) =======  (testorgschannel1:marbles02_go_ch1): INVOKE transaction stats  (testorgschannel1:marbles02_go_ch1): Total transactions 50000  timeout transactions 0  (testorgschannel1:marbles02_go_ch1): start 1530307543453  end 1530311081207  duration 3537754 ms  (testorgschannel1:marbles02_go_ch1): TPS 14.13  (testorgschannel1:marbles02_go_ch1): peer latency stats (endorsement)  (testorgschannel1:marbles02_go_ch1): total transactions: 50000  total time: 3867209 ms  (testorgschannel1:marbles02_go_ch1): min: 13 ms  max: 13234 ms  avg: 77.34418 ms  (testorgschannel1:marbles02_go_ch1): orderer latency stats (transaction ack)  (testorgschannel1:marbles02_go_ch1): total transactions: 50000  total time: 2112570 ms  (testorgschannel1:marbles02_go_ch1): min: 7 ms  max: 585 ms  avg: 42.2514 ms  (testorgschannel1:marbles02_go_ch1): event latency stats (end-to-end)  (testorgschannel1:marbles02_go_ch1): total transactions: 50000  total time: 26258705 ms  (testorgschannel1:marbles02_go_ch1): min: 108 ms  max: 15109 ms  avg: 525.1741 ms     ======= PTE 1 main Test Summary: executed at Fri Jun 29 2018 21:25:18 GMT+0000 (UTC) =======  (testorgschannel2:marbles02_go_ch2): INVOKE transaction stats  (testorgschannel2:marbles02_go_ch2): Total transactions 50000  timeout transactions 0  (testorgschannel2:marbles02_go_ch2): start 1530307543451  end 1530311104184  duration 3560733 ms  (testorgschannel2:marbles02_go_ch2): TPS 14.04  (testorgschannel2:marbles02_go_ch2): peer latency stats (endorsement)  (testorgschannel2:marbles02_go_ch2): total transactions: 50000  total time: 3834961 ms  (testorgschannel2:marbles02_go_ch2): min: 13 ms  max: 13048 ms  avg: 76.69922 ms  (testorgschannel2:marbles02_go_ch2): orderer latency stats (transaction ack)  (testorgschannel2:marbles02_go_ch2): total transactions: 50000  total time: 2241674 ms  (testorgschannel2:marbles02_go_ch2): min: 7 ms  max: 417 ms  avg: 44.83348 ms  (testorgschannel2:marbles02_go_ch2): event latency stats (end-to-end)  (testorgschannel2:marbles02_go_ch2): total transactions: 50000  total time: 26452014 ms  (testorgschannel2:marbles02_go_ch2): min: 103 ms  max: 15107 ms  avg: 529.04028 ms     ======= PTE 3 main Test Summary: executed at Fri Jun 29 2018 21:25:18 GMT+0000 (UTC) =======  (testorgschannel2:marbles02_go_ch2): QUERY transaction stats  (testorgschannel2:marbles02_go_ch2): Total transactions 100000  (testorgschannel2:marbles02_go_ch2): start 1530307543461  end 1530311128772  duration 3585311 ms  (testorgschannel2:marbles02_go_ch2): TPS 27.89     ======= PTE 2 main Test Summary: executed at Fri Jun 29 2018 21:25:18 GMT+0000 (UTC) =======  (testorgschannel1:marbles02_go_ch1): QUERY transaction stats  (testorgschannel1:marbles02_go_ch1): Total transactions 100000  (testorgschannel1:marbles02_go_ch1): start 1530307543460  end 1530311230230  duration 3686770 ms  (testorgschannel1:marbles02_go_ch1): TPS 27.12     ></body> </Action>
<Action id="46821" issue="27685" author="adnanchoudhury" type="comment" created="2018-07-02 15:07:29.0" updateauthor="adnanchoudhury" updated="2018-07-02 15:18:12.0"> <body><! CDATA Same test with 10x the query and transaction (1 million ivokes, then indexrebuild+1millInvoke+1millQuery)  *Result:* *Short version:*  1st set of 0.1 million invoke at 36.80 PS 2nd set of 0.1 million invoke at 26.56 PS  set of 0.2 million query at 46.36 PS    *Long version:*  ======= PTE 0 main Test Summary: executed at Sat Jun 30 2018 05:40:17 GMT+0000 (UTC) =======  (testorgschannel1:marbles02_go_ch1): INVOKE transaction stats  (testorgschannel1:marbles02_go_ch1): Total transactions 500000  timeout transactions 0  (testorgschannel1:marbles02_go_ch1): start 1530337234717  end 1530364331661  duration 27096944 ms  (testorgschannel1:marbles02_go_ch1): TPS 18.45  (testorgschannel1:marbles02_go_ch1): peer latency stats (endorsement)  (testorgschannel1:marbles02_go_ch1): total transactions: 500000  total time: 21336054 ms  (testorgschannel1:marbles02_go_ch1): min: 10 ms  max: 371 ms  avg: 42.672108 ms  (testorgschannel1:marbles02_go_ch1): orderer latency stats (transaction ack)  (testorgschannel1:marbles02_go_ch1): total transactions: 500000  total time: 9330039 ms  (testorgschannel1:marbles02_go_ch1): min: 6 ms  max: 1169 ms  avg: 18.660078 ms  (testorgschannel1:marbles02_go_ch1): event latency stats (end-to-end)  (testorgschannel1:marbles02_go_ch1): total transactions: 500000  total time: 200009802 ms  (testorgschannel1:marbles02_go_ch1): min: 85 ms  max: 1791 ms  avg: 400.019604 ms     ======= PTE 1 main Test Summary: executed at Sat Jun 30 2018 05:40:17 GMT+0000 (UTC) =======  (testorgschannel2:marbles02_go_ch2): INVOKE transaction stats  (testorgschannel2:marbles02_go_ch2): Total transactions 500000  timeout transactions 0  (testorgschannel2:marbles02_go_ch2): start 1530337234714  end 1530364479593  duration 27244879 ms  (testorgschannel2:marbles02_go_ch2): TPS 18.35  (testorgschannel2:marbles02_go_ch2): peer latency stats (endorsement)  (testorgschannel2:marbles02_go_ch2): total transactions: 500000  total time: 21207720 ms  (testorgschannel2:marbles02_go_ch2): min: 11 ms  max: 317 ms  avg: 42.41544 ms  (testorgschannel2:marbles02_go_ch2): orderer latency stats (transaction ack)  (testorgschannel2:marbles02_go_ch2): total transactions: 500000  total time: 10886288 ms  (testorgschannel2:marbles02_go_ch2): min: 6 ms  max: 1161 ms  avg: 21.772576 ms  (testorgschannel2:marbles02_go_ch2): event latency stats (end-to-end)  (testorgschannel2:marbles02_go_ch2): total transactions: 500000  total time: 203147353 ms  (testorgschannel2:marbles02_go_ch2): min: 87 ms  max: 1820 ms  avg: 406.294706 ms     ======= PTE 0 main Test Summary: executed at Sat Jun 30 2018 13:19:07 GMT+0000 (UTC) =======  (testorgschannel1:marbles02_go_ch1): INVOKE transaction stats  (testorgschannel1:marbles02_go_ch1): Total transactions 500000  timeout transactions 0  (testorgschannel1:marbles02_go_ch1): start 1530364773198  end 1530402346869  duration 37573671 ms  (testorgschannel1:marbles02_go_ch1): TPS 13.31  (testorgschannel1:marbles02_go_ch1): peer latency stats (endorsement)  (testorgschannel1:marbles02_go_ch1): total transactions: 500000  total time: 43511789 ms  (testorgschannel1:marbles02_go_ch1): min: 12 ms  max: 30207 ms  avg: 87.023578 ms  (testorgschannel1:marbles02_go_ch1): orderer latency stats (transaction ack)  (testorgschannel1:marbles02_go_ch1): total transactions: 500000  total time: 21103329 ms  (testorgschannel1:marbles02_go_ch1): min: 6 ms  max: 633 ms  avg: 42.206658 ms  (testorgschannel1:marbles02_go_ch1): event latency stats (end-to-end)  (testorgschannel1:marbles02_go_ch1): total transactions: 500000  total time: 283256555 ms  (testorgschannel1:marbles02_go_ch1): min: 102 ms  max: 60291 ms  avg: 566.51311 ms     ======= PTE 1 main Test Summary: executed at Sat Jun 30 2018 13:19:08 GMT+0000 (UTC) =======  (testorgschannel2:marbles02_go_ch2): INVOKE transaction stats  (testorgschannel2:marbles02_go_ch2): Total transactions 500000  timeout transactions 0  (testorgschannel2:marbles02_go_ch2): start 1530364773198  end 1530402519936  duration 37746738 ms  (testorgschannel2:marbles02_go_ch2): TPS 13.25  (testorgschannel2:marbles02_go_ch2): peer latency stats (endorsement)  (testorgschannel2:marbles02_go_ch2): total transactions: 500000  total time: 42402861 ms  (testorgschannel2:marbles02_go_ch2): min: 12 ms  max: 30141 ms  avg: 84.805722 ms  (testorgschannel2:marbles02_go_ch2): orderer latency stats (transaction ack)  (testorgschannel2:marbles02_go_ch2): total transactions: 500000  total time: 22841063 ms  (testorgschannel2:marbles02_go_ch2): min: 7 ms  max: 597 ms  avg: 45.682126 ms  (testorgschannel2:marbles02_go_ch2): event latency stats (end-to-end)  (testorgschannel2:marbles02_go_ch2): total transactions: 500000  total time: 278332247 ms  (testorgschannel2:marbles02_go_ch2): min: 112 ms  max: 60247 ms  avg: 556.664494 ms     ======= PTE 3 main Test Summary: executed at Sat Jun 30 2018 13:19:07 GMT+0000 (UTC) =======  (testorgschannel2:marbles02_go_ch2): QUERY transaction stats  (testorgschannel2:marbles02_go_ch2): Total transactions 1000000  (testorgschannel2:marbles02_go_ch2): start 1530364773209  end 1530404399292  duration 39626083 ms  (testorgschannel2:marbles02_go_ch2): TPS 25.24     ======= PTE 2 main Test Summary: executed at Sat Jun 30 2018 13:19:08 GMT+0000 (UTC) =======  (testorgschannel1:marbles02_go_ch1): QUERY transaction stats  (testorgschannel1:marbles02_go_ch1): Total transactions 1000000  (testorgschannel1:marbles02_go_ch1): start 1530364773204  end 1530412161498  duration 47388294 ms  (testorgschannel1:marbles02_go_ch1): TPS 21.10        ></body> </Action>
<Action id="51230" issue="27685" author="scottz" type="comment" body="Dongming will run this in v1.3, on vLaunch." created="2018-09-26 18:51:59.0" updateauthor="scottz" updated="2018-09-26 18:51:59.0"/>
<Action id="52651" issue="27685" author="scottz" type="comment" body="Surya should write script to run this on IKS cluster." created="2018-10-25 16:16:14.0" updateauthor="scottz" updated="2018-10-25 16:16:14.0"/>
<Action id="54946" issue="27685" author="scottz" type="comment" body="This was originally planned to run in v1.4, but we decided it is not necessary since we are running another similar test with a 2-field rich query." created="2018-12-18 23:16:10.0" updateauthor="scottz" updated="2018-12-18 23:16:10.0"/>
<Action id="54948" issue="27685" author="scottz" type="comment" body="In v1.4, we don&apos;t need to run this, as it is very similar to another testcase." created="2018-12-18 23:20:10.0" updateauthor="scottz" updated="2018-12-18 23:20:10.0"/>
