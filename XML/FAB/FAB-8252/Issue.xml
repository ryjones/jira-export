<Issue id="27685" key="FAB-8252" number="8252" project="10002" reporter="adnanchoudhury" assignee="adnanchoudhury" creator="adnanchoudhury" type="10101" summary="CouchDB Index Rebuild while 4-field rich queries and invokes" priority="2" resolution="10001" status="6" created="2018-02-13 22:05:00.0" updated="2018-12-18 23:20:10.0" resolutiondate="2018-12-18 23:20:10.0" votes="0" watches="2" workflowId="44569"> <description><! CDATA +*Setup:*+  Network Topology: 2 channels, 2 org, 2 peers per org, each peer with CouchDB container for stateDB, 4 kafka, 3 zookeepers, 3 orderers, 2 ca, TLS enabled, both org associate with all channels. Client Driver: PTE +*Test Steps:*+ 1) chaincode: each channel has one chancode, marbles02 go chaincode, instantiated 2) 100,000 invoke transactions (25,000 per each of 4 threads)  Transactions: 4 threads, each thread sends 25000 queries concurrently with tx id from 1 to 25000           thread 1 sends to org1 peer1 on channel 1          thread 2 sends to org2 peer1 on channel 1          thread 3 sends to org1 peer1 on channel 2          thread 4 sends to org2 peer1 on channel 2 3) Concurrently, do  a) upgrade the chaincode with a new index to force an index rebuild  b) 100K invoke transactions (like step 2 but with newer keys) c) 200K rich-queries of 4-fields, spread among the 4 threads on the 2 channels  +*Result:*+ 1)hardware setup 2) RPS (request per second) achieved for queries 3) CPU and memory usage for the Peers and CouchDB containers  ></description> </Issue>
