<Issue id="28543" key="FAB-8877" number="8877" project="10002" reporter="ynamiki" assignee="chris.elder" creator="ynamiki" type="10004" summary="Reserved Field Names in CouchDB (simulation-time support) " priority="2" resolution="10000" status="6" created="2018-03-15 06:40:48.0" updated="2018-07-25 00:46:56.0" resolutiondate="2018-07-25 00:46:56.0" votes="0" watches="4" workflowId="42747"> <description><! CDATA By -FAB-7969-, chaincode data is now saved at the top-level in a CouchDB document . This introduces possible conflict in a field name with internally used field.  In the current implementation, Fabric report an error for such names: `_id`, `_rev`, `~version` and `_deleted`.  Do we need to "reserve" more names? Is it enough to reserve only the 4 names?  CouchDB document says a name stats with `_` is reserved (not only `_id`, `_rev` and `_delete`) for internal use. And Fabric seems to reserve names that starts with `~` (currently `~version` only, but we may add other fields in future versions.) We can let Fabric reject names more widely, like `_*` and `~*`. {quote}Note that any top-level fields within a JSON document containing a name that starts with a _ prefix are reserved for use by CouchDB itself.  https://wiki.apache.org/couchdb/HTTP_Document_API#Special_Fields . {quote}    Any disallowed CouchDB content that gets passed past simulation and validation will cause block not to be processed, a situation that panics peer as it cannot move forward.  Therefore it is critical to validate against all disallowed CouchDB content prior to commit.  ></description> </Issue>
