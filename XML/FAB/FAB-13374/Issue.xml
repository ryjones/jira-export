<Issue id="36298" key="FAB-13374" number="13374" project="10002" reporter="sykesm" assignee="senthil1" creator="sykesm" type="10004" summary="intermittent test failure due to panic in leveldb while running core/ledger/kvledger tests" priority="3" resolution="10000" status="6" created="2018-12-19 18:41:23.0" updated="2019-03-19 10:57:35.0" resolutiondate="2019-01-11 14:47:13.0" votes="0" watches="3" workflowId="47825"> <description><! CDATA Hit in ci: https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/7370/consoleFull  {code} 18:23:56 2018-12-19 18:21:15.017 UTC  kvledger  CommitWithPvtData -> INFO 573  ledger1  Committed block  0  with 1 transaction(s) in 36ms (state_validation=2ms block_commit=21ms state_commit=6ms) 18:23:56 panic: runtime error: invalid memory address or nil pointer dereference 18:23:56  signal SIGSEGV: segmentation violation code=0x1 addr=0x0 pc=0x11913e2  18:23:56  18:23:56 goroutine 830  running : 18:23:56 github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.(*DB).newRawIterator(0xc0070eb380, 0x0, 0x0, 0x0, 0x0, 0xc00321adb0, 0xc0024e0df0, 0x1, 0xc001f4ed40) 18:23:56 	/w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db_iter.go:54 +0x3c2 18:23:56 github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.(*DB).newIterator(0xc0070eb380, 0x0, 0x0, 0x0, 0x0, 0x5, 0xc006db78d0, 0xc0024e0df0, 0x7f6624bdf000) 18:23:56 	/w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db_iter.go:79 +0xaa 18:23:56 github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.(*DB).NewIterator(0xc0070eb380, 0xc006db78d0, 0xc0024e0df0, 0x0, 0x0) 18:23:56 	/w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db.go:887 +0x1db 18:23:56 github.com/hyperledger/fabric/common/ledger/util/leveldbhelper.(*DB).GetIterator(0xc0025450c0, 0xc001f4ed00, 0x12, 0x20, 0xc00045ad00, 0xa, 0x10, 0x2, 0xc00045ace1) 18:23:56 	/w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/common/ledger/util/leveldbhelper/leveldb_helper.go:143 +0xed 18:23:56 github.com/hyperledger/fabric/common/ledger/util/leveldbhelper.(*DBHandle).GetIterator(0xc002a98080, 0xc00045acc0, 0xa, 0x10, 0xc00045ace0, 0x2, 0x8, 0x89a2af) 18:23:56 	/w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/common/ledger/util/leveldbhelper/leveldb_provider.go:113 +0x5bb 18:23:56 github.com/hyperledger/fabric/core/ledger/pvtdatastorage.(*store).processCollElgEvents(0xc00e5ea360, 0x1388, 0x3e8) 18:23:56 	/w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/core/ledger/pvtdatastorage/store_impl.go:849 +0x19a 18:23:56 github.com/hyperledger/fabric/core/ledger/pvtdatastorage.(*store).launchCollElgProc.func1(0xc00e5ea360, 0x1388, 0x3e8) 18:23:56 	/w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/core/ledger/pvtdatastorage/store_impl.go:834 +0x51 18:23:56 created by github.com/hyperledger/fabric/core/ledger/pvtdatastorage.(*store).launchCollElgProc 18:23:56 	/w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/core/ledger/pvtdatastorage/store_impl.go:833 +0x73 18:23:56 FAIL	github.com/hyperledger/fabric/core/ledger/kvledger	81.050s {code}  /cc  ~manish-sethi   ></description> </Issue>
