<Issue id="32609" key="INDY-1558" number="1558" project="10303" reporter="mgbailey" creator="mgbailey" type="10004" summary="read_ledger (command line version) does not produce valid JSON" environment="indy-node 1.5" priority="3" resolution="10000" status="10001" created="2018-08-06 23:10:04.0" updated="2019-03-29 20:34:19.0" resolutiondate="2019-03-29 20:34:19.0" votes="0" watches="2" workflowId="43834"> <description><! CDATA In previous versions, the output of the read_ledger CLI command produced valid JSON, at least for each transaction, if not across the entire array of transactions. In version 1.5 this has changed, requiring additional manual parsing of each line before attempting to parse it with a JSON parsing tool. For example, domain transactions now look like this: {code:java} 1 {"reqSignature":{},"txn":{"data":{"dest":"V4SGRU86Z58d6TV7PBUe6f","role":"0","verkey":"~CoRER63DVYnWZtK8uAzNbx"},"metadata":{},"type":"1"},"txnMetadata":{"seqNo":1},"ver":"1"} 2 {"reqSignature":{},"txn":{"data":{"dest":"Th7MpTaRZVRYnPiabds81Y","role":"2","verkey":"~7TYfekw4GUagBnBVCqPjiC"},"metadata":{"from":"V4SGRU86Z58d6TV7PBUe6f"},"type":"1"},"txnMetadata":{"seqNo":2},"ver":"1"} 3 {"reqSignature":{},"txn":{"data":{"dest":"EbP4aYNeTHL6q385GuVpRV","role":"2","verkey":"~RHGNtfvkgPEUQzQNtNxLNu"},"metadata":{"from":"V4SGRU86Z58d6TV7PBUe6f"},"type":"1"},"txnMetadata":{"seqNo":3},"ver":"1"} {code} The sequence number at the beginning of each line breaks JSON formatting, complicating parsing, and is redundant since this is also contained in the txnMetadata.  Please fix this by either removing the redundant line number at the beginning of the line, or by wrapping the transactions in brackets, as was done in the old version of indy, like this: {code:java}  1, {"reqSignature":{},"txn":{"data":{"dest":"V4SGRU86Z58d6TV7PBUe6f","role":"0","verkey":"~CoRER63DVYnWZtK8uAzNbx"},"metadata":{},"type":"1"},"txnMetadata":{"seqNo":1},"ver":"1"}   2, {"reqSignature":{},"txn":{"data":{"dest":"Th7MpTaRZVRYnPiabds81Y","role":"2","verkey":"~7TYfekw4GUagBnBVCqPjiC"},"metadata":{"from":"V4SGRU86Z58d6TV7PBUe6f"},"type":"1"},"txnMetadata":{"seqNo":2},"ver":"1"}   3, {"reqSignature":{},"txn":{"data":{"dest":"EbP4aYNeTHL6q385GuVpRV","role":"2","verkey":"~RHGNtfvkgPEUQzQNtNxLNu"},"metadata":{"from":"V4SGRU86Z58d6TV7PBUe6f"},"type":"1"},"txnMetadata":{"seqNo":3},"ver":"1"}  {code}  ></description> </Issue>
