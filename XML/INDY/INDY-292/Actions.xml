<Action id="28252" issue="18514" author="lovesh" type="comment" body="On hold as waiting for node logs" created="2017-07-12 16:18:26.0" updateauthor="lovesh" updated="2017-07-12 16:18:26.0"/>
<Action id="28649" issue="18514" author="ozheregelya" type="comment" created="2017-07-19 10:17:53.0" updateauthor="ozheregelya" updated="2017-07-19 10:17:53.0"> <body><! CDATA The problem was reproduced again on following version:   indy-anoncreds 0.4.15   python3-rlp 0.5.1   python3-sha3 0.2.1   python3-pyzmq 16.0.2   indy-plenum 0.4.50   indy-node 0.4.39   sovrin 0.2.9 OS/Platform: Ubuntu 16.04.2 LTS Setup: 4 nodes (Shakedown Pool 4)    Here are necessary logs:  ^Node1.log  ^Node2.log  ^Node3.log  ^Node4.log   Here are test results:  ^perf_results_1_14_1500387141.csv   ^perf_results_1_14_1500387826.csv   ^perf_results_1_1000_1500387883.csv   Here are new script for generation invalid queries:  ^load_test_inv.py   ></body> </Action>
<Action id="29069" issue="18514" author="douglaswightman" type="comment" body="I&apos;ve created a PR (https://github.com/hyperledger/indy-node/pull/264) for Case 1 and will work on Case 2 next." created="2017-07-27 02:48:01.0" updateauthor="douglaswightman" updated="2017-07-27 02:48:01.0"/>
<Action id="29112" issue="18514" author="douglaswightman" type="comment" body="I tried Case 2 for a few hours but did not get a crash and only 1 transaction made it to the ledger (as expected).  Sending this to testing for verification." created="2017-07-27 18:18:01.0" updateauthor="douglaswightman" updated="2017-07-27 18:18:01.0"/>
<Action id="29298" issue="18514" author="ozheregelya" type="comment" created="2017-08-01 14:01:26.0" updateauthor="ozheregelya" updated="2017-08-01 14:01:26.0"> <body><! CDATA *Case 1* is still reproduced with the same steps as described above. Build Info:   indy-node 1.0.68   indy-anoncreds 1.0.22   indy-plenum 1.0.77   sovrin 1.0.14   python3-rlp 0.5.1   python3-sha3 0.2.1   python3-pyzmq 16.0.2 OS/Platform: Ubuntu 16.04.2 LTS Setup: 4 nodes, 1 client  *Case 2* will be re-tested till tomorrow morning.  ></body> </Action>
<Action id="29300" issue="18514" author="douglaswightman" type="comment" body=" ~ozheregelya  this was checked into the m1 branch so I don&apos;t believe it has yet been merged to master.  I looked at the 1.0.68 code and my code change is not there." created="2017-08-01 14:24:22.0" updateauthor="douglaswightman" updated="2017-08-01 14:24:22.0"/>
<Action id="29340" issue="18514" author="ozheregelya" type="comment" body="*Case 2* was re-tested on indy-node 1.0.68. The problem with pool crashing was not reproduced." created="2017-08-02 10:14:22.0" updateauthor="ozheregelya" updated="2017-08-02 10:14:22.0"/>
<Action id="29350" issue="18514" author="douglaswightman" type="comment" body="Now that m1 has been merged into master this can go to testing again for Case 1." created="2017-08-02 13:44:40.0" updateauthor="douglaswightman" updated="2017-08-02 13:44:40.0"/>
<Action id="29354" issue="18514" author="ozheregelya" type="comment" created="2017-08-02 15:26:54.0" updateauthor="ozheregelya" updated="2017-08-02 15:26:54.0"> <body><! CDATA *Build Info:*   indy-node 1.0.69   indy-anoncreds 1.0.22   indy-plenum 1.0.78   sovrin 1.0.15   python3-rlp 0.5.1   python3-sha3 0.2.1   python3-pyzmq 16.0.2 OS/Platform: Ubuntu 16.04.2 LTS Setup: 4 nodes (running locally), 1 client  *Case 1:* *Steps to Validate:* 1. python3 load_test_inv.py --clients-list load_test_clients.list --timeout 15 -t NYM -c 1 -r 14 => {code:java} ================================ Test time: 262.6953225135803 Average latency: 18.761701737131393 Throughput: 0.003806691304708343 Error rate: 0.04948698696120846 Succeeded: 1 Failed: 13 ================================{code} 2. python3 load_test_inv.py --clients-list load_test_clients.list --timeout 15 -t NYM -c 1 -r 14 --at-once => {code:java} ================================ Test time: 263.16851019859314 Average latency: 131.89141993863242 Throughput: 0.003799846718915483 Error rate: 0.04939800734590128 Succeeded: 1 Failed: 13 ================================{code} *Actual Results:* Validation works correctly with batching for small amount of invalid transactions.     *Case 2* will be re-verified tonight.  ></body> </Action>
<Action id="29544" issue="18514" author="ozheregelya" type="comment" created="2017-08-08 14:36:55.0" updateauthor="ozheregelya" updated="2017-08-08 14:37:47.0"> <body><! CDATA *Build Info:*   indy-node 1.0.69   indy-anoncreds 1.0.22   indy-plenum 1.0.78   sovrin 1.0.15   python3-rlp 0.5.1   python3-sha3 0.2.1   python3-pyzmq 16.0.2 OS/Platform: Ubuntu 16.04.2 LTS Setup: 4 nodes, 1 client  *Reason for Reopen:* It looks like batching works incorrectly at all.     *Case 3:* Steps to Reproduce: 1. Run the +original+ load_test.py with following parameters: {code:java} python3 load_test.py --clients-list load_test_clients.list -t NYM -c 1 -r 5 --at-once{code} *Actual Results:* Only the first transaction was successfully send. {code:java} ================================ Test time: 481.6778497695923 Average latency: 241.21067271232604 Throughput: 0.0020760763661404483 Error rate: 0.008304305464561793 Succeeded: 1 Failed: 4 ================================{code} *Expected Results:* All transactions should be send.     *Case 2:* Steps to Reproduce: 1. Run the +changed version+ of load_test_inv.py with following parameters: {code:java}  python3 load_test_inv.py --clients-list load_test_clients.list -t NYM -c 1 -r 500 --at-once{code}  *Actual results:* No one transaction was processed. Here are part of resulting file: {code:java} signerName,signerId,dest,reqId,transactionType,sentAt,quorumAt,latency,ackNodes,nackNodes,replyNodes Sponsor1,RRbkXVEr8UZ1Z9RidHmu25,XpguzUtPqrxT4g56pSdTPq,1502185120379891,1,1502185120.556741,,121.20042657852173,,, Sponsor1,RRbkXVEr8UZ1Z9RidHmu25,tc3K6X6Zq4U4pT8e9LYp6,1502185120380533,1,1502185120.556741,,241.29323482513428,,, Sponsor1,RRbkXVEr8UZ1Z9RidHmu25,Vd4oVB3sTpScjtqVcodTzL,1502185120380988,1,1502185120.556741,,361.39144492149353,,,{code} The rest messages in this file are similar.   *Expected Results:*  The first transaction (with unique DID) should be successfully send.     *Additional Information:* Case 2 and Case 3 are reproducing now on shakedown pool 3. Case 3 works correctly for 100 transactions and does not work for more than 400 transactions.  ></body> </Action>
<Action id="29556" issue="18514" author="ozheregelya" type="comment" body="If the problem is not in the batching, feel free to turn this ticket back to me and I will create new one for this problem." created="2017-08-08 15:51:15.0" updateauthor="ozheregelya" updated="2017-08-08 15:51:15.0"/>
<Action id="29668" issue="18514" author="douglaswightman" type="comment" body="It was a problem with batching.  I&apos;ve checked in tests that verify each scenario.  I&apos;ve gone through the cases and verified they are working as expected on my system." created="2017-08-10 22:07:26.0" updateauthor="douglaswightman" updated="2017-08-10 22:07:26.0"/>
<Action id="29825" issue="18514" author="ozheregelya" type="comment" created="2017-08-14 21:29:17.0" updateauthor="ozheregelya" updated="2017-08-14 21:30:42.0"> <body><! CDATA  ~DouglasWightman , I started to verify this ticket today and it looks like that some problems are still present. I run load_test.py with following parameters: {code:java} python3 load_test.py --clients-list load_test_clients.list -t NYM -c 1 -r 1000 --at-once{code} and I can see following data in output file: {code:java} signerName,signerId,dest,reqId,transactionType,sentAt,quorumAt,latency,ackNodes,nackNodes,replyNodes Sponsor1,RRbkXVEr8UZ1Z9RidHmu25,CJE2c6GvHpHU1YCr3LeTyp,1502699971843291,1,1502699972.0264232,1502699991.6342106,19.607787370681763,"Node4C,Node2C,Node1C,Node3C",,"Node3C,Node2C,Node1C" Sponsor1,RRbkXVEr8UZ1Z9RidHmu25,PJcVFkSWTa66G887Nf1iqY,1502699971843796,1,1502699972.0264232,1502699991.6353345,19.608911275863647,"Node4C,Node2C,Node1C,Node3C",,"Node3C,Node2C,Node1C,Node4C" Sponsor1,RRbkXVEr8UZ1Z9RidHmu25,EJiJZ3k2BY93F2UJ3wsfHF,1502699971843997,1,1502699972.0264232,1502699991.6362665,19.609843254089355,"Node4C,Node2C,Node1C,Node3C",,"Node3C,Node2C,Node1C" Sponsor1,RRbkXVEr8UZ1Z9RidHmu25,5gXynn8Lts5Z1ixhwCh2DA,1502699971844189,1,1502699972.0264232,1502699991.6372318,19.610808610916138,"Node4C,Node2C,Node1C,Node3C",,"Node3C,Node2C,Node1C" Sponsor1,RRbkXVEr8UZ1Z9RidHmu25,FDZb5b3H8GYZtNA1P4W3Ng,1502699971844372,1,1502699972.0264232,1502699991.6381798,19.611756563186646,"Node4C,Node2C,Node1C,Node3C",,"Node3C,Node2C,Node1C" Sponsor1,RRbkXVEr8UZ1Z9RidHmu25,Jas349CN5xdSnHTjdZ15jH,1502699971844555,1,1502699972.0264232,1502699991.6391242,19.612700939178467,"Node4C,Node2C,Node1C,Node3C",,"Node3C,Node2C,Node1C" Sponsor1,RRbkXVEr8UZ1Z9RidHmu25,LHeU5KRH3cnkFN2bXoTyD1,1502699971844754,1,1502699972.0264232,1502699991.6400764,19.6136531829834,"Node4C,Node2C,Node1C,Node3C",,"Node3C,Node2C,Node1C,Node4C" Sponsor1,RRbkXVEr8UZ1Z9RidHmu25,RhAbt2CGtc4YB6y4Gb8JrJ,1502699971844937,1,1502699972.0264232,1502699991.6410425,19.614619255065918,"Node4C,Node2C,Node1C,Node3C",,"Node3C,Node2C,Node1C" Sponsor1,RRbkXVEr8UZ1Z9RidHmu25,5v1ftJrvPpt4f3pKrkjW4x,1502699971845127,1,1502699972.0264232,1502699991.6420004,19.615577220916748,"Node4C,Node2C,Node1C,Node3C",,"Node3C,Node2C,Node1C,Node4C" Sponsor1,RRbkXVEr8UZ1Z9RidHmu25,A5mw3pC7dm32wZec1KZ8hG,1502699971845306,1,1502699972.0264232,1502699991.6429303,19.616507053375244,"Node4C,Node2C,Node1C,Node3C",,"Node3C,Node2C,Node1C" Sponsor1,RRbkXVEr8UZ1Z9RidHmu25,9awozSArSjBXcU1Dk2nuac,1502699971845484,1,1502699972.0264232,1502699991.6438646,19.617441415786743,"Node4C,Node2C,Node1C,Node3C",,"Node3C,Node2C,Node1C" Sponsor1,RRbkXVEr8UZ1Z9RidHmu25,G8iqvKdr2jmbpSZdkDeXbG,1502699971845661,1,1502699972.0264232,1502699991.6624665,19.636043310165405,"Node4C,Node2C,Node1C,Node3C",,"Node3C,Node2C,Node1C,Node4C" Sponsor1,RRbkXVEr8UZ1Z9RidHmu25,T8XrfKTrhpHUU3m6cvcFyH,1502699971845839,1,1502699972.0264232,1502699991.6634805,19.637057304382324,"Node4C,Node2C,Node1C,Node3C",,"Node3C,Node2C,Node1C,Node4C" Sponsor1,RRbkXVEr8UZ1Z9RidHmu25,GpJHH8dm9LCWAv7CUPgLXQ,1502699971846015,1,1502699972.0264232,1502699991.6644766,19.63805341720581,"Node4C,Node2C,Node1C,Node3C",,"Node3C,Node2C,Node1C,Node4C" Sponsor1,RRbkXVEr8UZ1Z9RidHmu25,WeLwU2CzSuQatY9cwCQ4TL,1502699971846198,1,1502699972.0264232,1502699991.6654954,19.63907217979431,"Node4C,Node2C,Node1C,Node3C",,"Node3C,Node2C,Node1C,Node4C" Sponsor1,RRbkXVEr8UZ1Z9RidHmu25,Q5ajf6Vfw6Jpp8ok2xX2Ct,1502699971846386,1,1502699972.0264232,1502699991.6664872,19.640064001083374,"Node4C,Node2C,Node1C,Node3C",,"Node3C,Node2C,Node1C,Node4C" Sponsor1,RRbkXVEr8UZ1Z9RidHmu25,UoTREpaFimh8ms5Ct8H7Vn,1502699971846566,1,1502699972.0264232,1502699991.6674826,19.641059398651123,"Node4C,Node2C,Node1C,Node3C",,"Node3C,Node2C,Node1C,Node4C" Sponsor1,RRbkXVEr8UZ1Z9RidHmu25,QWyPn4Lv8AYdg1TjVDdTaB,1502699971846744,1,1502699972.0264232,1502699991.6684709,19.6420476436615,"Node4C,Node2C,Node1C,Node3C",,"Node3C,Node2C,Node1C,Node4C" Sponsor1,RRbkXVEr8UZ1Z9RidHmu25,CVQw13pdDdD1cKbK8s7uV9,1502699971846921,1,1502699972.0264232,1502699991.6694841,19.64306092262268,"Node4C,Node2C,Node1C,Node3C",,"Node3C,Node2C,Node1C,Node4C" Sponsor1,RRbkXVEr8UZ1Z9RidHmu25,hfdReGC3z6oCQmNogTBoB,1502699971847097,1,1502699972.0264232,1502699991.6704772,19.64405393600464,"Node4C,Node2C,Node1C,Node3C",,"Node3C,Node2C,Node1C,Node4C" Sponsor1,RRbkXVEr8UZ1Z9RidHmu25,MhkpiBaFZCb5mcKWGrk4Ss,1502699971847312,1,1502699972.0264232,1502699991.6714654,19.645042181015015,"Node4C,Node2C,Node1C,Node3C",,"Node3C,Node2C,Node1C,Node4C" Sponsor1,RRbkXVEr8UZ1Z9RidHmu25,73Kaf2JK166x9xfUFkQmmS,1502699971847496,1,1502699972.0264232,1502699991.6724596,19.646036386489868,"Node4C,Node2C,Node1C,Node3C",,"Node3C,Node2C,Node1C,Node4C" Sponsor1,RRbkXVEr8UZ1Z9RidHmu25,8eAWdvX7GqmeBHw9c1bRYH,1502699971847681,1,1502699972.0264232,1502699991.675266,19.648842811584473,"Node4C,Node2C,Node1C,Node3C",,"Node3C,Node2C,Node1C,Node4C" Sponsor1,RRbkXVEr8UZ1Z9RidHmu25,FiGea2PUU1qKH8nNA7YR1S,1502699971847867,1,1502699972.0264232,1502699991.6762698,19.64984655380249,"Node4C,Node2C,Node1C,Node3C",,"Node3C,Node2C,Node1C,Node4C" Sponsor1,RRbkXVEr8UZ1Z9RidHmu25,J9So2ttL7RZUL9VS46gHZf,1502699971848046,1,1502699972.0264232,1502699991.6772916,19.65086841583252,"Node4C,Node2C,Node1C,Node3C",,"Node3C,Node2C,Node1C,Node4C" Sponsor1,RRbkXVEr8UZ1Z9RidHmu25,NYvLSGT3BjTmHhPL3PvkVh,1502699971848225,1,1502699972.0264232,1502699991.6782892,19.65186595916748,"Node4C,Node2C,Node1C,Node3C",,"Node3C,Node2C,Node1C,Node4C" Sponsor1,RRbkXVEr8UZ1Z9RidHmu25,UQheKXmup3qhwxvY8VipMA,1502699971848403,1,1502699972.0264232,1502699991.6792955,19.652872323989868,"Node4C,Node2C,Node1C,Node3C",,"Node3C,Node2C,Node1C,Node4C" Sponsor1,RRbkXVEr8UZ1Z9RidHmu25,QME8rP1DULz4D26PVcoQzr,1502699971848580,1,1502699972.0264232,1502699991.6802962,19.653872966766357,"Node4C,Node2C,Node1C,Node3C",,"Node3C,Node2C,Node1C,Node4C" Sponsor1,RRbkXVEr8UZ1Z9RidHmu25,HnBKdLCuNu4aJfPQJr9QV3,1502699971848773,1,1502699972.0264232,1502699991.6813042,19.6548810005188,"Node4C,Node2C,Node1C,Node3C",,"Node3C,Node2C,Node1C,Node4C" Sponsor1,RRbkXVEr8UZ1Z9RidHmu25,Xu69hNojtXSgkbxhbPdhBN,1502699971848954,1,1502699972.0264232,1502699991.6822977,19.655874490737915,"Node4C,Node2C,Node1C,Node3C",,"Node3C,Node2C,Node1C,Node4C" Sponsor1,RRbkXVEr8UZ1Z9RidHmu25,82LFdZsHUbmPskxK8ayLvm,1502699971849130,1,1502699972.0264232,1502699991.6832812,19.65685796737671,"Node4C,Node2C,Node1C,Node3C",,"Node3C,Node2C,Node1C,Node4C" Sponsor1,RRbkXVEr8UZ1Z9RidHmu25,7vpspSmewjoL4gsvove81H,1502699971849313,1,1502699972.0264232,1502699991.6842792,19.657855987548828,"Node4C,Node2C,Node1C,Node3C",,"Node3C,Node2C,Node1C,Node4C" Sponsor1,RRbkXVEr8UZ1Z9RidHmu25,EaZSGsrFQ8CxYVLMiK6rKE,1502699971849491,1,1502699972.0264232,1502699991.6870937,19.660670518875122,"Node4C,Node2C,Node1C,Node3C",,"Node3C,Node2C,Node1C,Node4C" Sponsor1,RRbkXVEr8UZ1Z9RidHmu25,H7reyaKGrfzR9Ktq4o6SzU,1502699971849668,1,1502699972.0264232,1502699991.6880975,19.66167426109314,"Node4C,Node2C,Node1C,Node3C",,"Node3C,Node2C,Node1C,Node4C" Sponsor1,RRbkXVEr8UZ1Z9RidHmu25,8dyeWWFYPGp2bkeeUsRagk,1502699971849845,1,1502699972.0264232,1502699991.6891088,19.66268563270569,"Node4C,Node2C,Node1C,Node3C",,"Node3C,Node2C,Node1C,Node4C" Sponsor1,RRbkXVEr8UZ1Z9RidHmu25,UWxaux8VjhaxkBXpFCuUpe,1502699971850021,1,1502699972.0264232,1502699991.6900961,19.663672924041748,"Node4C,Node2C,Node1C,Node3C",,"Node3C,Node2C,Node1C,Node4C" Sponsor1,RRbkXVEr8UZ1Z9RidHmu25,PB6avfxsPkyqrHgNqGDiGg,1502699971850209,1,1502699972.0264232,1502699991.6910872,19.664664030075073,"Node4C,Node2C,Node1C,Node3C",,"Node3C,Node2C,Node1C,Node4C" Sponsor1,RRbkXVEr8UZ1Z9RidHmu25,D2pDh5nK1kKWw59vLWPbSN,1502699971850389,1,1502699972.0264232,1502699991.6920767,19.665653467178345,"Node4C,Node2C,Node1C,Node3C",,"Node3C,Node2C,Node1C,Node4C" Sponsor1,RRbkXVEr8UZ1Z9RidHmu25,VCLWt5DhVC3X9hDGJ5oFWN,1502699971850571,1,1502699972.0264232,1502699991.6930819,19.666658639907837,"Node4C,Node2C,Node1C,Node3C",,"Node3C,Node2C,Node1C,Node4C" Sponsor1,RRbkXVEr8UZ1Z9RidHmu25,SCwZgzX22uSTjbxinh4m6L,1502699971850750,1,1502699972.0264232,1502699991.6940749,19.667651653289795,"Node4C,Node2C,Node1C,Node3C",,"Node3C,Node2C,Node1C,Node4C" Sponsor1,RRbkXVEr8UZ1Z9RidHmu25,Ju9E3eVQoDeSUR7NT58yAT,1502699971850928,1,1502699972.0264232,1502699991.6950839,19.668660640716553,"Node4C,Node2C,Node1C,Node3C",,"Node3C,Node2C,Node1C,Node4C" Sponsor1,RRbkXVEr8UZ1Z9RidHmu25,YDWsvtn9EQkjCbyrN6YhC1,1502699971851106,1,1502699972.0264232,1502699991.6960723,19.669649124145508,"Node4C,Node2C,Node1C,Node3C",,"Node3C,Node2C,Node1C,Node4C" Sponsor1,RRbkXVEr8UZ1Z9RidHmu25,CKvxsZ3tSXtBJPGTqBKBeF,1502699971851282,1,1502699972.0264232,1502699991.6970713,19.670648097991943,"Node4C,Node2C,Node1C,Node3C",,"Node3C,Node2C,Node1C,Node4C" Sponsor1,RRbkXVEr8UZ1Z9RidHmu25,7mnQ1QTshtVpHkoN28dvFh,1502699971851459,1,1502699972.0264232,1502699991.6998696,19.67344641685486,"Node4C,Node2C,Node1C,Node3C",,"Node3C,Node2C,Node1C,Node4C" Sponsor1,RRbkXVEr8UZ1Z9RidHmu25,Fpmzyg3QvAdiZU6hnuTDCn,1502699971851639,1,1502699972.0264232,1502699991.7008924,19.674469232559204,"Node4C,Node2C,Node1C,Node3C",,"Node3C,Node2C,Node1C,Node4C" Sponsor1,RRbkXVEr8UZ1Z9RidHmu25,8HWtrnYheSX5e4sfruBAJe,1502699971851817,1,1502699972.0264232,1502699991.701889,19.67546582221985,"Node4C,Node2C,Node1C,Node3C",,"Node3C,Node2C,Node1C,Node4C" Sponsor1,RRbkXVEr8UZ1Z9RidHmu25,aai88CmEUB8ydg7E5dWqV,1502699971851999,1,1502699972.0264232,1502699991.702876,19.67645287513733,"Node4C,Node2C,Node1C,Node3C",,"Node3C,Node2C,Node1C,Node4C" Sponsor1,RRbkXVEr8UZ1Z9RidHmu25,QVUH2oykLRtSp8xrVgT1FP,1502699971852178,1,1502699972.0264232,1502699991.703853,19.677429676055908,"Node4C,Node2C,Node1C,Node3C",,"Node3C,Node2C,Node1C,Node4C" Sponsor1,RRbkXVEr8UZ1Z9RidHmu25,7M326GvUg4JH6Lu38VhpMn,1502699971852353,1,1502699972.0264232,1502699991.7048717,19.67844843864441,"Node4C,Node2C,Node1C,Node3C",,"Node3C,Node2C,Node1C,Node4C" Sponsor1,RRbkXVEr8UZ1Z9RidHmu25,4bNTMC7z2VraasoiNNp6AG,1502699971852540,1,1502699972.0264232,1502699991.7058635,19.67944025993347,"Node4C,Node2C,Node1C,Node3C",,"Node3C,Node2C,Node1C,Node4C" Sponsor1,RRbkXVEr8UZ1Z9RidHmu25,Y162ZjWnQfNrNEdcK2bkBp,1502699971852743,1,1502699972.0264232,1502699991.7068398,19.680416584014893,"Node4C,Node2C,Node1C,Node3C",,"Node3C,Node2C,Node1C,Node4C" Sponsor1,RRbkXVEr8UZ1Z9RidHmu25,FHPwvv5D2tWu8kn3Z6cNcF,1502699971852924,1,1502699972.0264232,1502699991.7078238,19.681400537490845,"Node4C,Node2C,Node1C,Node3C",,"Node3C,Node2C,Node1C,Node4C" Sponsor1,RRbkXVEr8UZ1Z9RidHmu25,AsGHEKEZaFk1RdrRbs2fwN,1502699971853122,1,1502699972.0264232,1502699991.7088318,19.682408571243286,"Node4C,Node2C,Node1C,Node3C",,"Node3C,Node2C,Node1C,Node4C" Sponsor1,RRbkXVEr8UZ1Z9RidHmu25,DKmP8RfD77wb5pBdesJF2v,1502699971853304,1,1502699972.0264232,,139.7894322872162,,, Sponsor1,RRbkXVEr8UZ1Z9RidHmu25,WeA9NnwnsCm9J3nTL13aZM,1502699971853488,1,1502699972.0264232,,259.99558305740356,,, Sponsor1,RRbkXVEr8UZ1Z9RidHmu25,3Z5oFybHNJVnpgtFtqVtxm,1502699971853668,1,1502699972.0264232,,380.1683430671692,,, Sponsor1,RRbkXVEr8UZ1Z9RidHmu25,7RMmrBS1GQSKjnfMZ8D1HJ,1502699971853844,1,1502699972.0264232,,500.36001205444336,,, Sponsor1,RRbkXVEr8UZ1Z9RidHmu25,6xp6Urg9crB3JA5VRSxM8R,1502699971854020,1,1502699972.0264232,,620.5443210601807,,, Sponsor1,RRbkXVEr8UZ1Z9RidHmu25,8TCF5AvLiXLjtozX9c2GDX,1502699971854200,1,1502699972.0264232,,740.7369396686554,,, Sponsor1,RRbkXVEr8UZ1Z9RidHmu25,DAwCAdbMG727TR1i1db9eM,1502699971854380,1,1502699972.0264232,,860.9516203403473,,, Sponsor1,RRbkXVEr8UZ1Z9RidHmu25,NNdXzjpPPEdwpcNxR3mpEC,1502699971854555,1,1502699972.0264232,,981.1625893115997,,, Sponsor1,RRbkXVEr8UZ1Z9RidHmu25,SiDkMULmszKhAzCp3KgZZb,1502699971854736,1,1502699972.0264232,,1101.3649950027466,,, Sponsor1,RRbkXVEr8UZ1Z9RidHmu25,6TMkea98vQVmxx9Wd6KyHW,1502699971854915,1,1502699972.0264232,,1221.5834085941315,,, Sponsor1,RRbkXVEr8UZ1Z9RidHmu25,81pd5hh1PwABRRsfm44S6i,1502699971855090,1,1502699972.0264232,,1341.7675545215607,,, Sponsor1,RRbkXVEr8UZ1Z9RidHmu25,MsiCriJKJHCXuRD2vTGU5i,1502699971855268,1,1502699972.0264232,,1461.9794297218323,,, Sponsor1,RRbkXVEr8UZ1Z9RidHmu25,MgVHrmTYTzSRdnNmvsg6tY,1502699971855445,1,1502699972.0264232,,1582.1879484653473,,, Sponsor1,RRbkXVEr8UZ1Z9RidHmu25,16cxgnCvNQcdzVaDji4t38,1502699971855622,1,1502699972.0264232,,1702.3843796253204,,, Sponsor1,RRbkXVEr8UZ1Z9RidHmu25,3bzGimxse8ztxmy5ZAvjV9,1502699971855803,1,1502699972.0264232,,1822.6034615039825,,, Sponsor1,RRbkXVEr8UZ1Z9RidHmu25,JWdtsfbTVTF9confz5kc9f,1502699971855984,1,1502699972.0264232,,1942.7915813922882,,, Sponsor1,RRbkXVEr8UZ1Z9RidHmu25,BDv14gx9bjdNwcQvBMLFWo,1502699971856165,1,1502699972.0264232,,2062.9994745254517,,, Sponsor1,RRbkXVEr8UZ1Z9RidHmu25,8AEaNCRv1FSGBcTJ6A4hyz,1502699971856343,1,1502699972.0264232,,2183.163420200348,,, Sponsor1,RRbkXVEr8UZ1Z9RidHmu25,8Y4u8FrpigSQuYFm8KaLne,1502699971856520,1,1502699972.0264232,,2303.3868401050568,,, Sponsor1,RRbkXVEr8UZ1Z9RidHmu25,QrwQykVuecbYvkkeCkEWwY,1502699971856713,1,1502699972.0264232,,2423.566365480423,,, Sponsor1,RRbkXVEr8UZ1Z9RidHmu25,JQVZYXtSLDxwxAU8kQwiZ1,1502699971856894,1,1502699972.0264232,,2543.782073736191,,, Sponsor1,RRbkXVEr8UZ1Z9RidHmu25,29iv7fn6vvpVgN6vECnaJw,1502699971857072,1,1502699972.0264232,,2664.0007886886597,,, Sponsor1,RRbkXVEr8UZ1Z9RidHmu25,8whBQ9vxntZTehMW3AFXQ9,1502699971857249,1,1502699972.0264232,,2784.2214982509613,,, Sponsor1,RRbkXVEr8UZ1Z9RidHmu25,9y83gqPs55LevF8GYC2W3y,1502699971857425,1,1502699972.0264232,,2904.412412881851,,,{code} It looks like nodes stopped receive messages after ~50 transactions. Do you have any thought about it? If you don't I will additionally explore this problem tomorrow and provide logs.     I reproduced this problem in shakedown pool 3, indy-node version is 1.0.102.  ></body> </Action>
<Action id="29826" issue="18514" author="douglaswightman" type="comment" body="This is case 2 that is not fixed?  Are cases 1 and 3 working now?" created="2017-08-14 21:38:41.0" updateauthor="douglaswightman" updated="2017-08-14 21:38:41.0"/>
<Action id="29859" issue="18514" author="douglaswightman" type="comment" created="2017-08-15 14:56:55.0" updateauthor="douglaswightman" updated="2017-08-15 14:56:55.0"> <body><! CDATA I believe case 2 (batch of 1000 causes unresponsive node) is different enough that if it is not working it should be a separate ticket.  The other issues were related to batching.  ></body> </Action>
<Action id="30360" issue="18514" author="ozheregelya" type="comment" created="2017-08-30 12:45:38.0" updateauthor="ozheregelya" updated="2017-08-30 12:45:38.0"> <body><! CDATA Build Info:   indy-node 1.0.111   indy-anoncreds 1.0.25   indy-plenum 1.0.97   sovrin 1.0.23 OS/Platform: Ubuntu 16.04.2 LTS Setup: performance pool (7 nodes, 4 clients)  Both of cases: sending invalid transactions and valid ones work correctly.  In case of valid transactions all transactions are written (one problem with sending lots of transactions is INDY-795) for sending transactions one by one and for sending them at once. In case of invalid transactions only one transaction is written for sending transactions one by one and for sending them at once. This behavior {quote} On 103th transaction Node1C and Node2C appeared in both ackNodes and nackNodes columns of pref_results spreadsheet: perf_results_1_1000_1497994390.csv The rest transactions were failed. After completion of the test cluster does not send NYMs. {quote} is still reproduce, but it doesn't result breaking of the pool. It is moved t separated ticket INDY-793.  ></body> </Action>
