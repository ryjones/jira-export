<Issue id="17103" key="INDY-34" number="34" project="10303" reporter="andkononykhin" assignee="andkononykhin" creator="andkononykhin" type="10001" summary="Monitor needs to compensate for extra work done by master&apos;s replicas" priority="2" status="10405" created="2017-05-25 12:40:13.0" updated="2019-10-29 14:32:59.0" votes="0" watches="2" timeoriginalestimate="97200" timeestimate="97200" workflowId="17107"> <description><! CDATA Currently the replicas of the master instance do state reads and writes, which makes them appear to do less work than backup instances and can lead to view change. The monitor needs to adjust.  *POA ( ~lovesh )*: Assume request size is almost equal Effect of extra work on throughput: throughput = work/time time = x+y, x = time to create a batch (negligible), y = time for state interactions  In replica, track how much time it took for `create3PCBatch` and `processReqDuringBatch`. Reset this on each view change.  In monitor, `getThroughputs` should subtract the time taken for doing state trie operations from the total time considered for the determination. In `isMasterReqLatencyTooHigh` substract the time from latency.  ></description> </Issue>
