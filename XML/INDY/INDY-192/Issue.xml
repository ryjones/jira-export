<Issue id="17702" key="INDY-192" number="192" project="10303" reporter="alexander.shekhovcov" creator="alexander.shekhovcov" type="10004" summary="fix behavior when ledger is a link to /proc/self/mem" priority="4" resolution="10001" status="10001" created="2017-06-09 17:40:42.0" updated="2019-10-09 09:07:20.0" resolutiondate="2019-10-09 09:07:20.0" votes="0" watches="1" workflowId="17706"> <description><! CDATA This ticket started as an exploratory test to see what would happen if a ledger file is completely invalid. We picked as one example of that invalid input the case where a ledger file was a symlink to /proc/self/mem. See 2.k  https://docs.google.com/document/d/1ae6Ud64gUjl-YC3ADDU5KuW_A-kPS9l9g6FGJCylFCs/edit   What we learned is that the ledger service cannot start in such cases; it crashes with an unhandled exception.  The desired behavior is that the service starts up and listens for POOL_UPGRADE transactions in such a case. The identity/domain ledger would be stalled, but we want to be able to install new software that might be capable of fixing or ignoring a corruption–instead of having the whole node permanently incapacitated.  An alternative acceptable behavior might be to display a crisp error about an invalid ledger file and suggest to the user that they delete the bad file to start over, then exit cleanly.  ></description> </Issue>
