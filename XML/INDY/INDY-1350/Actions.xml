<Action id="44858" issue="30393" author="sergey.khoroshavin" type="comment" created="2018-05-22 14:41:56.0" updateauthor="sergey.khoroshavin" updated="2018-05-22 14:43:07.0"> <body><! CDATA This should be done in two steps.  First one is to find load test parameters so that it can corrupt nodes state trie. In order to do this following things could be helpful: 1) enable periodic view change by adding _ForceViewChangeFreq=300_ into _/etc/indy/indy_config.py_ 2) start load scripts with enough sustained load so that some nodes get corrupted state 3) corrupted state can be diagnosed by: - if some nodes stop at some txn and don't advance for more than 10 minutes they are under suspicion - if on some node _find /var/log/indy/sandbox/*.xz -exec xzcat {} \; | grep "incorrect state trie"_ gives nonzero output it is certainly corrupted  Second step is to try to determine view change timeout parameters to minimize chance of ending up in corrupted state. In order to do this: 1) increase view change period to something like 600 seconds (there is very high probability that timeout will be around 300 seconds, and we don't want viewchanges to overlap) 2) ensure that state still gets corrupted with high probability 3) start increasing some (or all) of the following parameters: - _MAX_CATCHUPS_DONE_DURING_VIEW_CHANGE = 5_ - _MIN_TIMEOUT_CATCHUPS_DONE_DURING_VIEW_CHANGE = 15_ - _VIEW_CHANGE_TIMEOUT = 60_  Hopefully there will be some combination for which pool will be stable enough.  ></body> </Action>
<Action id="45053" issue="30393" author="sergey.khoroshavin" type="comment" created="2018-05-24 12:27:38.0" updateauthor="sergey.khoroshavin" updated="2018-05-24 12:27:38.0"> <body><! CDATA After writing tests in scope of  INDY-1304|https://jira.hyperledger.org/browse/INDY-1350  it turned out that: - increasing just _VIEW_CHANGE_TIMEOUT_ won't help - increasing _MAX_CATCHUPS_DONE_DURING_VIEW_CHANGE_ most probably won't help - increasing _MIN_TIMEOUT_CATCHUPS_DONE_DURING_VIEW_CHANGE_ will help, but it should always be less than _VIEW_CHANGE_TIMEOUT_  So the following experiments are proposed (_MIN_TIMEOUT_CATCHUPS_DONE_DURING_VIEW_CHANGE_/_VIEW_CHANGE_TIMEOUT_): - 30/60 - 60/120 - 120/240 - 300/600  ></body> </Action>
<Action id="45280" issue="30393" author="sergey.khoroshavin" type="comment" created="2018-05-30 10:18:41.0" updateauthor="sergey.khoroshavin" updated="2018-05-30 10:18:41.0"> <body><! CDATA *Case 120/240*  Filtered logs from Node15 (which ended up with corrupted ledger): {code} 2018-05-29 13:37:24.248000 | VIEW CHANGE: Node15 found master degraded after receiving instance change message from Node13 2018-05-29 13:37:24.249000 | VIEW CHANGE: Node15 initiating a view change to 7 from 6 2018-05-29 13:37:34.871000 |  Node15:0 ordered batch request, view no 6, ppSeqNo 8, ledger 1, state root Fzw6og2SMYNzVXxqXQbbHkDJzNkxLiuyvQqZLFCPzKYf, txn root 2UUjpU3Z1mvQcueSY34AZPtSWTQ1qpwVrbGn8XFBNdwT, requests ordered  ('V4SGRU86Z58d6TV7PBUe6f', 1527598980168603577), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980251888485), ('V4SGRU86Z58d6TV7PBUe6f', 1527598974793269159), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980289180890), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980170907791), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980275875142), ('V4SGRU86Z58d6TV7PBUe6f', 1527598974811390274), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980213381772), ('V4SGRU86Z58d6TV7PBUe6f', 1527598974828292487), ('V4SGRU86Z58d6TV7PBUe6f', 1527598967875067662), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980307293384), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980219317282), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980200523028), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980173395848), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980145479905), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980141102604), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980246254848), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980134782656), ('V4SGRU86Z58d6TV7PBUe6f', 1527598974856945369), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980232964496), ('V4SGRU86Z58d6TV7PBUe6f', 1527598974811724615), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980141027779), ('V4SGRU86Z58d6TV7PBUe6f', 1527598974836951351), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980226805241), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980191857831), ('V4SGRU86Z58d6TV7PBUe6f', 1527598974814681692), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980139523688), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980190357107), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980211081979), ('V4SGRU86Z58d6TV7PBUe6f', 1527598974835752695), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980246696533), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980293130952), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980228829098), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980247290459), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980265963867), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980263562611), ('V4SGRU86Z58d6TV7PBUe6f', 1527598974819681939), ('V4SGRU86Z58d6TV7PBUe6f', 1527598974852644095), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980264187869), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980161168066), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980134151865), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980315921899), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980245404177), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980257095727), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980150969019), ('V4SGRU86Z58d6TV7PBUe6f', 1527598974800579631), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980226528726), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980154144477), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980241088671), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980230417180), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980265708645), ('V4SGRU86Z58d6TV7PBUe6f', 1527598974855886334), ('V4SGRU86Z58d6TV7PBUe6f', 1527598974832789206), ('V4SGRU86Z58d6TV7PBUe6f', 1527598974854932993), ('V4SGRU86Z58d6TV7PBUe6f', 1527598974845791596), ('V4SGRU86Z58d6TV7PBUe6f', 1527598975099630130), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980149878811), ('V4SGRU86Z58d6TV7PBUe6f', 1527598974821779250), ('V4SGRU86Z58d6TV7PBUe6f', 1527598974844775121), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980197526610), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980236163043), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980199680060), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980225143580), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980150498324), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980281785902), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980222591218), ('V4SGRU86Z58d6TV7PBUe6f', 1527598975076798273), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980180772136), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980267752774), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980243356398), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980237994733), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980189599301), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980161025250), ('V4SGRU86Z58d6TV7PBUe6f', 1527598974853184294), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980254449807), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980194726164), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980311696136), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980137422851), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980184285098), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980183723239), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980213304723), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980279029171), ('V4SGRU86Z58d6TV7PBUe6f', 1527598975135591754), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980201198674), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980220067983), ('V4SGRU86Z58d6TV7PBUe6f', 1527598974820136224), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980260326228), ('V4SGRU86Z58d6TV7PBUe6f', 1527598974808225718), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980133217914) , discarded    2018-05-29 13:38:00.966000 |  Node15:0 ordered batch request, view no 6, ppSeqNo 9, ledger 1, state root H4DmaS4maPD7NrdpEGVAPPKmDyNSDvXqXZ9uwx6QeiTN, txn root 7J4h83892wyKL4M4YFV2SjURew9JnnrBYo79gTo9UFD3, requests ordered  ('V4SGRU86Z58d6TV7PBUe6f', 1527598974828343406), ('V4SGRU86Z58d6TV7PBUe6f', 1527598967918719057), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980226741359), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980155144618), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980155050844), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980141161016), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980287751388), ('V4SGRU86Z58d6TV7PBUe6f', 1527598974817860020), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980140473612), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980144049583), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980261007849), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980151023707), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980154955911), ('V4SGRU86Z58d6TV7PBUe6f', 1527598974813282371), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980130861557), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980199220857), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980231617477), ('V4SGRU86Z58d6TV7PBUe6f', 1527598974856425533), ('V4SGRU86Z58d6TV7PBUe6f', 1527598975008846716), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980169307422), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980160804603), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980238067759), ('V4SGRU86Z58d6TV7PBUe6f', 1527598974792881780), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980274350180), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980165497032), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980288366003), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980204714824), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980187556367), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980248175072), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980295550109), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980248007815), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980241391731), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980291346799), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980136922747), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980192473528), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980191422002), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980248901252), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980136464309), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980255912701), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980261474867), ('V4SGRU86Z58d6TV7PBUe6f', 1527598974802079878), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980149661559), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980247110294), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980200753955), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980220304016), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980225197029), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980155097445), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980241896339), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980258537448), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980274768784), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980248834112), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980165284883), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980288987564), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980263411085), ('V4SGRU86Z58d6TV7PBUe6f', 1527598974823237156), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980277258994), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980154575921), ('V4SGRU86Z58d6TV7PBUe6f', 1527598974844450581), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980134427394), ('V4SGRU86Z58d6TV7PBUe6f', 1527598974771923260), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980227254932), ('V4SGRU86Z58d6TV7PBUe6f', 1527598967957263401), ('V4SGRU86Z58d6TV7PBUe6f', 1527598974845859006), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980201265190), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980169726802), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980292127802), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980195121060), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980205117233), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980294228594), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980231550838), ('V4SGRU86Z58d6TV7PBUe6f', 1527598974817953078), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980284962747), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980279482594), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980277856236), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980175509629) , discarded    2018-05-29 13:38:00.979000 |  Node15:0 ordered batch request, view no 6, ppSeqNo 10, ledger 1, state root EGoayNxqwWYeMR7J4ujqbRecCB6fBwrsPjrr24Lo68FN, txn root FEonAxTKaryDrBRPkGqpHvsj3tNb1NqzaFSNAUUdrkFr, requests ordered  ('V4SGRU86Z58d6TV7PBUe6f', 1527598980152664104), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980143435004), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980195491224), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980200928646), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980137680107), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980309518083), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980145540135), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980261107198), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980314797801), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980168902509), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980225059539), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980139593545), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980249099359), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980155190464), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980230018856), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980270158710), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980244879617), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980313450125), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980277609202), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980192998273), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980285421434), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980270727580), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980273890350), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980206955488), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980227858545), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980313898991), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980226123843), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980211658918), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980139989547), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980202889784), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980220579550), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980182305537), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980311022292), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980263854204), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980140057325), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980207175777), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980192812276), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980161217007), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980237433725), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980201319473), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980205186325), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980161073735), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980131435755), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980153270534), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980259111703), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980192755235), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980285636585), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980310504529), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980295054370), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980252618894), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980295373734), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980160924373), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980249413721), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980254529205), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980314201923), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980210040890), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980186955961), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980201439376), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980292208857), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980254671376), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980295446337), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980275044435), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980147104164), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980188519877), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980230489029), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980315277956), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980164823008), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980231473735), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980281930383), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980314554224), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980316540584), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980194647229), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980313524282), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980259351436), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980253580458), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980219392263), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980244601476), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980278288691), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980173729358), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980240415583), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980289245933), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980285341992), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980259648565), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980229920098), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980209396674), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980230557733), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980153649347), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980271511655), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980250204323), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980239174052), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980193622990), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980270871378), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980193949724), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980155004230), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980284317324), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980237338748), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980238331692), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980274064744), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980200206313), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980256092259) , discarded    2018-05-29 13:38:01.671000 |  Node15:0 ordered batch request, view no 6, ppSeqNo 11, ledger 1, state root EBsbGMPoPdcLNRYDGNuL5pgyQWDZ5n5jkYU6d3LSjtrd, txn root 9CibPFLHwi9LXzH8dGrMFEvm2Y9MAye4VhNYeqFfaFnG, requests ordered  ('V4SGRU86Z58d6TV7PBUe6f', 1527598980183561579) , discarded    2018-05-29 13:40:42.670000 | VIEW CHANGE: Node15 initiating a view change to 8 from 7 2018-05-29 13:40:43.893000 | CATCH-UP: Node15 completed catching up ledger 1, caught up 0 in total 2018-05-29 13:41:24.263000 | VIEW CHANGE: Node15 sending an instance change with view_no 9 since View change could not complete in time 2018-05-29 13:44:42.671000 | VIEW CHANGE: Node15 sending an instance change with view_no 9 since View change could not complete in time 2018-05-29 13:44:42.705000 | VIEW CHANGE: Node15 initiating a view change to 9 from 8 2018-05-29 13:44:43.387000 | CATCH-UP: Node15 completed catching up ledger 1, caught up 0 in total 2018-05-29 13:44:43.505000 | VIEW CHANGE: Node15:0 declares view change 9 as completed for instance 0, new primary is Node10:0, ledger info is  (0, 22, '5fh5nz5XPDJSzNW6hDfJwqp3NXnSjpeRt4AzAEGsSXKb'), (1, 42113, '4Zw2wLCLkYKokY3YFWnMhofRbkTrEgBbkVBHSPRCFnKG'), (2, 0, 'GKot5hBsd81kMupNCXHaqbhv3huEbxAFMLnpcX2hniwn')  {code}  Filtered logs from Node1 (with correct ledger): {code} 2018-05-29 13:37:12.421000 | VIEW CHANGE: Node1 found master degraded after receiving instance change message from Node14 2018-05-29 13:37:12.600000 | VIEW CHANGE: Node1 initiating a view change to 7 from 6 2018-05-29 13:37:13.209000 | CATCH-UP: Node1 completed catching up ledger 1, caught up 0 in total 2018-05-29 13:37:13.798000 | CATCH-UP: Node1 completed catching up ledger 1, caught up 0 in total 2018-05-29 13:37:14.407000 | CATCH-UP: Node1 completed catching up ledger 1, caught up 0 in total 2018-05-29 13:37:14.989000 | CATCH-UP: Node1 completed catching up ledger 1, caught up 0 in total 2018-05-29 13:37:15.529000 | CATCH-UP: Node1 completed catching up ledger 1, caught up 0 in total 2018-05-29 13:37:16.085000 | CATCH-UP: Node1 completed catching up ledger 1, caught up 0 in total 2018-05-29 13:37:16.967000 | CATCH-UP: Node1 completed catching up ledger 1, caught up 0 in total 2018-05-29 13:37:17.548000 | CATCH-UP: Node1 completed catching up ledger 1, caught up 0 in total 2018-05-29 13:37:18.143000 | CATCH-UP: Node1 completed catching up ledger 1, caught up 0 in total 2018-05-29 13:37:19.434000 | CATCH-UP: Node1 completed catching up ledger 1, caught up 0 in total 2018-05-29 13:37:19.845000 |  Node1:0 ordered batch request, view no 6, ppSeqNo 8, ledger 1, state root Fzw6og2SMYNzVXxqXQbbHkDJzNkxLiuyvQqZLFCPzKYf, txn root 2UUjpU3Z1mvQcueSY34AZPtSWTQ1qpwVrbGn8XFBNdwT, requests ordered  ('V4SGRU86Z58d6TV7PBUe6f', 1527598980168603577), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980251888485), ('V4SGRU86Z58d6TV7PBUe6f', 1527598974793269159), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980289180890), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980170907791), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980275875142), ('V4SGRU86Z58d6TV7PBUe6f', 1527598974811390274), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980213381772), ('V4SGRU86Z58d6TV7PBUe6f', 1527598974828292487), ('V4SGRU86Z58d6TV7PBUe6f', 1527598967875067662), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980307293384), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980219317282), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980200523028), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980173395848), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980145479905), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980141102604), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980246254848), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980134782656), ('V4SGRU86Z58d6TV7PBUe6f', 1527598974856945369), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980232964496), ('V4SGRU86Z58d6TV7PBUe6f', 1527598974811724615), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980141027779), ('V4SGRU86Z58d6TV7PBUe6f', 1527598974836951351), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980226805241), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980191857831), ('V4SGRU86Z58d6TV7PBUe6f', 1527598974814681692), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980139523688), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980190357107), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980211081979), ('V4SGRU86Z58d6TV7PBUe6f', 1527598974835752695), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980246696533), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980293130952), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980228829098), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980247290459), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980265963867), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980263562611), ('V4SGRU86Z58d6TV7PBUe6f', 1527598974819681939), ('V4SGRU86Z58d6TV7PBUe6f', 1527598974852644095), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980264187869), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980161168066), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980134151865), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980315921899), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980245404177), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980257095727), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980150969019), ('V4SGRU86Z58d6TV7PBUe6f', 1527598974800579631), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980226528726), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980154144477), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980241088671), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980230417180), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980265708645), ('V4SGRU86Z58d6TV7PBUe6f', 1527598974855886334), ('V4SGRU86Z58d6TV7PBUe6f', 1527598974832789206), ('V4SGRU86Z58d6TV7PBUe6f', 1527598974854932993), ('V4SGRU86Z58d6TV7PBUe6f', 1527598974845791596), ('V4SGRU86Z58d6TV7PBUe6f', 1527598975099630130), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980149878811), ('V4SGRU86Z58d6TV7PBUe6f', 1527598974821779250), ('V4SGRU86Z58d6TV7PBUe6f', 1527598974844775121), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980197526610), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980236163043), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980199680060), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980225143580), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980150498324), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980281785902), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980222591218), ('V4SGRU86Z58d6TV7PBUe6f', 1527598975076798273), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980180772136), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980267752774), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980243356398), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980237994733), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980189599301), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980161025250), ('V4SGRU86Z58d6TV7PBUe6f', 1527598974853184294), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980254449807), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980194726164), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980311696136), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980137422851), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980184285098), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980183723239), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980213304723), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980279029171), ('V4SGRU86Z58d6TV7PBUe6f', 1527598975135591754), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980201198674), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980220067983), ('V4SGRU86Z58d6TV7PBUe6f', 1527598974820136224), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980260326228), ('V4SGRU86Z58d6TV7PBUe6f', 1527598974808225718), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980133217914) , discarded    2018-05-29 13:37:20.265000 | CATCH-UP: Node1 completed catching up ledger 1, caught up 0 in total 2018-05-29 13:37:20.854000 | CATCH-UP: Node1 completed catching up ledger 1, caught up 0 in total 2018-05-29 13:37:21.422000 | CATCH-UP: Node1 completed catching up ledger 1, caught up 0 in total 2018-05-29 13:37:21.978000 | CATCH-UP: Node1 completed catching up ledger 1, caught up 0 in total 2018-05-29 13:37:22.571000 | CATCH-UP: Node1 completed catching up ledger 1, caught up 0 in total 2018-05-29 13:37:24.867000 | CATCH-UP: Node1 completed catching up ledger 1, caught up 0 in total 2018-05-29 13:37:25.466000 | CATCH-UP: Node1 completed catching up ledger 1, caught up 0 in total 2018-05-29 13:37:26.023000 |  Node1:0 ordered batch request, view no 6, ppSeqNo 9, ledger 1, state root H4DmaS4maPD7NrdpEGVAPPKmDyNSDvXqXZ9uwx6QeiTN, txn root 7J4h83892wyKL4M4YFV2SjURew9JnnrBYo79gTo9UFD3, requests ordered  ('V4SGRU86Z58d6TV7PBUe6f', 1527598974828343406), ('V4SGRU86Z58d6TV7PBUe6f', 1527598967918719057), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980226741359), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980155144618), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980155050844), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980141161016), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980287751388), ('V4SGRU86Z58d6TV7PBUe6f', 1527598974817860020), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980140473612), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980144049583), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980261007849), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980151023707), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980154955911), ('V4SGRU86Z58d6TV7PBUe6f', 1527598974813282371), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980130861557), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980199220857), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980231617477), ('V4SGRU86Z58d6TV7PBUe6f', 1527598974856425533), ('V4SGRU86Z58d6TV7PBUe6f', 1527598975008846716), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980169307422), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980160804603), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980238067759), ('V4SGRU86Z58d6TV7PBUe6f', 1527598974792881780), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980274350180), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980165497032), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980288366003), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980204714824), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980187556367), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980248175072), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980295550109), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980248007815), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980241391731), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980291346799), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980136922747), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980192473528), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980191422002), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980248901252), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980136464309), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980255912701), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980261474867), ('V4SGRU86Z58d6TV7PBUe6f', 1527598974802079878), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980149661559), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980247110294), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980200753955), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980220304016), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980225197029), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980155097445), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980241896339), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980258537448), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980274768784), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980248834112), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980165284883), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980288987564), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980263411085), ('V4SGRU86Z58d6TV7PBUe6f', 1527598974823237156), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980277258994), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980154575921), ('V4SGRU86Z58d6TV7PBUe6f', 1527598974844450581), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980134427394), ('V4SGRU86Z58d6TV7PBUe6f', 1527598974771923260), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980227254932), ('V4SGRU86Z58d6TV7PBUe6f', 1527598967957263401), ('V4SGRU86Z58d6TV7PBUe6f', 1527598974845859006), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980201265190), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980169726802), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980292127802), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980195121060), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980205117233), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980294228594), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980231550838), ('V4SGRU86Z58d6TV7PBUe6f', 1527598974817953078), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980284962747), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980279482594), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980277856236), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980175509629) , discarded    2018-05-29 13:37:26.263000 | CATCH-UP: Node1 completed catching up ledger 1, caught up 0 in total 2018-05-29 13:37:26.874000 | CATCH-UP: Node1 completed catching up ledger 1, caught up 0 in total 2018-05-29 13:37:27.483000 | CATCH-UP: Node1 completed catching up ledger 1, caught up 0 in total 2018-05-29 13:37:27.580000 |  Node1:0 ordered batch request, view no 6, ppSeqNo 10, ledger 1, state root EGoayNxqwWYeMR7J4ujqbRecCB6fBwrsPjrr24Lo68FN, txn root FEonAxTKaryDrBRPkGqpHvsj3tNb1NqzaFSNAUUdrkFr, requests ordered  ('V4SGRU86Z58d6TV7PBUe6f', 1527598980152664104), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980143435004), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980195491224), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980200928646), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980137680107), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980309518083), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980145540135), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980261107198), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980314797801), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980168902509), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980225059539), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980139593545), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980249099359), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980155190464), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980230018856), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980270158710), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980244879617), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980313450125), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980277609202), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980192998273), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980285421434), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980270727580), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980273890350), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980206955488), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980227858545), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980313898991), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980226123843), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980211658918), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980139989547), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980202889784), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980220579550), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980182305537), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980311022292), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980263854204), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980140057325), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980207175777), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980192812276), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980161217007), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980237433725), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980201319473), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980205186325), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980161073735), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980131435755), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980153270534), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980259111703), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980192755235), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980285636585), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980310504529), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980295054370), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980252618894), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980295373734), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980160924373), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980249413721), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980254529205), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980314201923), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980210040890), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980186955961), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980201439376), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980292208857), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980254671376), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980295446337), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980275044435), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980147104164), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980188519877), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980230489029), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980315277956), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980164823008), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980231473735), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980281930383), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980314554224), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980316540584), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980194647229), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980313524282), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980259351436), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980253580458), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980219392263), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980244601476), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980278288691), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980173729358), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980240415583), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980289245933), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980285341992), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980259648565), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980229920098), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980209396674), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980230557733), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980153649347), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980271511655), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980250204323), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980239174052), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980193622990), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980270871378), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980193949724), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980155004230), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980284317324), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980237338748), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980238331692), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980274064744), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980200206313), ('V4SGRU86Z58d6TV7PBUe6f', 1527598980256092259) , discarded    2018-05-29 13:37:27.590000 |  Node1:0 ordered batch request, view no 6, ppSeqNo 11, ledger 1, state root EBsbGMPoPdcLNRYDGNuL5pgyQWDZ5n5jkYU6d3LSjtrd, txn root 9CibPFLHwi9LXzH8dGrMFEvm2Y9MAye4VhNYeqFfaFnG, requests ordered  ('V4SGRU86Z58d6TV7PBUe6f', 1527598980183561579) , discarded    2018-05-29 13:37:28.867000 | CATCH-UP: Node1 completed catching up ledger 1, caught up 0 in total 2018-05-29 13:37:47.565000 | VIEW CHANGE: Node1:0 declares view change 7 as completed for instance 0, new primary is Node8:0, ledger info is  (0, 22, '5fh5nz5XPDJSzNW6hDfJwqp3NXnSjpeRt4AzAEGsSXKb'), (1, 42074, '9CibPFLHwi9LXzH8dGrMFEvm2Y9MAye4VhNYeqFfaFnG'), (2, 0, 'GKot5hBsd81kMupNCXHaqbhv3huEbxAFMLnpcX2hniwn')  2018-05-29 13:40:42.639000 | VIEW CHANGE: Node1 initiating a view change to 8 from 7 2018-05-29 13:40:43.147000 | CATCH-UP: Node1 completed catching up ledger 1, caught up 0 in total 2018-05-29 13:44:42.645000 | VIEW CHANGE: Node1 sending an instance change with view_no 9 since View change could not complete in time 2018-05-29 13:44:42.723000 | VIEW CHANGE: Node1 initiating a view change to 9 from 8 2018-05-29 13:44:43.219000 | CATCH-UP: Node1 completed catching up ledger 1, caught up 0 in total 2018-05-29 13:44:43.481000 | VIEW CHANGE: Node1:0 declares view change 9 as completed for instance 0, new primary is Node10:0, ledger info is  (0, 22, '5fh5nz5XPDJSzNW6hDfJwqp3NXnSjpeRt4AzAEGsSXKb'), (1, 42074, '9CibPFLHwi9LXzH8dGrMFEvm2Y9MAye4VhNYeqFfaFnG'), (2, 0, 'GKot5hBsd81kMupNCXHaqbhv3huEbxAFMLnpcX2hniwn')  {code}  ></body> </Action>
<Action id="45281" issue="30393" author="sergey.khoroshavin" type="comment" created="2018-05-30 10:33:51.0" updateauthor="sergey.khoroshavin" updated="2018-05-30 10:33:51.0"> <body><! CDATA It can be seen that: - view change started rougly at same time on both correct and faulty node - both nodes were ordering requests during view change _6->7_ - _Node15_ was ordering requests about 30 seconds late compared to _Node1_ - both nodes ordered same number of requests during view change - _Node15_ started another view change without finishing view change _6->7_ - _Node1_ successfully finished view change _6->7_ with 42074 transactions in ledger - both nodes failed to finish view change _7->8_ in time, triggering another view change _8->9_ - no requests were ordered during this period on both nodes, and apparently no requests were caught up - both nodes finished view change _8->9_, but with different ledgers (_Node1_ still got 42074 transactions, but _Node15_ got 42113)  Further investigation will be done with relaxed filtering rules.  ></body> </Action>
<Action id="45386" issue="30393" author="sergey.khoroshavin" type="comment" created="2018-05-31 21:22:40.0" updateauthor="sergey.khoroshavin" updated="2018-05-31 21:22:40.0"> <body><! CDATA  Filtered logs|https://drive.google.com/open?id=1ND-iQ9SYlKYNY0zE01wpNAvmXM7RbJ76  from 50 minutes before incorrect state trie to 10 minutes after + filter rules used. This is from timeout case 300/600 with DEBUG log level.   Interesting findings up to date: - lots of MESSAGE_REQUESTS and MESSAGE_RESPONSES for PREPARES (177k in 2 minutes on just one node) - events when looper took more than 20 second to run nicely - there were problems with state before incorrect state trie event, resulting in blacklisting nodes  Will continue investigation, hopefully now it will be much faster.  ></body> </Action>
<Action id="45416" issue="30393" author="spivachuk" type="comment" created="2018-06-01 17:42:19.0" updateauthor="spivachuk" updated="2018-06-01 17:42:19.0"> <body><! CDATA The issue with the incorrect state trie on Node16 is most likely caused by a broken order of applying / executing of 3PC-batches. There is the following message in the log of Node16 that indicates this:  {code} 2018-05-31 09:33:49.858000 | WARNING | 3PC: Node16: The first created batch has not been committed or reverted and yet another batch is trying to be committed, b'\xf1\x9e"rJ\x86\x82\xe6\xaa&\n\xf5\x80\xea\n/\x90\xfa\xf2\xf5=\x917#\xe1\xbamT\xf0\xbe\xd1\xbe' b'\xc1\xcfi\xab\xc8z \xd0\xb2I_~|\xa7\x04(\xeciR\x91\xcfQ8\xe0z2\x80\xdbT\x17\xe7%' {code}  ></body> </Action>
<Action id="45626" issue="30393" author="vladimirwork" type="comment" body="All cases from initial scope of this ticket are performed and logs are gathered. All issues found will be investiated and fixed in scope of INDY-1400." created="2018-06-07 09:18:23.0" updateauthor="vladimirwork" updated="2018-06-07 09:18:23.0"/>
