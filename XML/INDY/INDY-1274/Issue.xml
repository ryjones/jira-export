<Issue id="29420" key="INDY-1274" number="1274" project="10303" reporter="dsurnin" assignee="ozheregelya" creator="dsurnin" type="10001" summary="If a requested transaction is not posted due to lack of consensus, issue an error in the logs" priority="2" resolution="10000" status="10001" created="2018-04-16 13:04:00.0" updated="2019-03-29 20:32:56.0" resolutiondate="2019-03-29 20:32:56.0" votes="0" watches="6" workflowId="29425"> <description><! CDATA *Story* As an administrator of a deployment of Indy Node, I want failed transactions due to lack of consensus to produce a log message alerting me to the fact the transaction failed so that I can troubleshoot the situation.  *Acceptance Criteria* * If a node receives a request to write a transaction, and does not achieve consensus within the timeout period, then issue a log message with the level ERROR. * The timeout period should be configurable, and default to 60 seconds. * The log message should say: {noformat} Consensus for ReqId:    was not achieved within  Timeout  seconds: Primary node is  Node ID  Received Pre-Prepare from  node_id  Received  N  Prepares from  nodes_id1, node_id2, ...  Received  M  Commits from  nodes_id1, node_id2, ...  Transaction contents:  Contents  {noformat}  *Notes* * The work on  INDY-465|https://jira.hyperledger.org/browse/INDY-465  demonstrated that some transactions don't fail due to an error on the node, but due to some other problem with the network. The only symptom the node sees is that the transaction is not recorded to the ledger. * We could send a keepalive to sender, but there are concerns that would be exploitable for denial of service.  ></description> </Issue>
