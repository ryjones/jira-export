<Action id="32038" issue="21079" author="andkononykhin" type="comment" created="2017-10-12 12:56:28.0" updateauthor="andkononykhin" updated="2017-10-12 12:56:28.0"> <body><! CDATA PRs: https://github.com/evernym/sovrin-packaging/pull/20 https://github.com/evernym/jenkins-shared/pull/23 https://github.com/hyperledger/indy-node/pull/387 https://github.com/sovrin-foundation/sovrin/pull/29  ></body> </Action>
<Action id="33301" issue="21079" author="andkononykhin" type="comment" created="2017-10-27 13:52:49.0" updateauthor="andkononykhin" updated="2017-10-27 13:52:49.0"> <body><! CDATA Problem reason: - indy sdk team has its own workflow non synced with indy core's one and it make possible (and it's already happened once) to break indy core logic of releasing indy-node packages with necessary dependencies to master/stable apt repo component because currently indy core packages depend on indy sdk ones (in particular python3-indy-crypto and libindy-crypto). It was decided to move all indy-sdk packages to a separate repo.  Changes: - re-organized file structure on repo.sovrin.org to support multiple apt repos on that single host (backward compatible) - evernym/sovrin-packaging repo: ** re-implemented logic of publishing deb packages into apt repo and releasing packages by copying from one apt repo component to another one ** created API to simplify apt repo management ** support of multiple repos ** option to the release deb package with all its dependencies collected by parsing deb packages metadata - adjusted other repos (see PRs list)  Committed into: -  https://github.com/evernym/sovrin-packaging/pull/20  -  https://github.com/evernym/jenkins-shared/pull/23  -  https://github.com/hyperledger/indy-node/pull/387  -  https://github.com/sovrin-foundation/sovrin/pull/29   Risk factors: - Broken logic of CD pipelines for indy core projects  Risk: - Low  Covered with tests: - tested manually  Recommendations for QA: # check that CD pipelines for masters (currently the changes are there only) work without any errors **  https://ci.evernym.com/view/cd|https://ci.evernym.com/view/cd/  **  https://ci.evernym.com/job/Sovrin|https://ci.evernym.com/job/Sovrin/  # install indy-node >= 1.2.185 from master and check that apt doesn't raise any unmet dependencies errors # install sovrin>= 1.1.32 from master and check the same things # check  https://repo.sovrin.org/sdk/  it is expected as a new separate repo for sdk packages. Currently it consists only of a pair of packages just for testing because sdk team haven't finished support of new publishing logic ** replace  https://repo.sovrin.org/deb  line with  *https://repo.sovrin.org/sdk/deb xenial master* and check that *** packages from there (https://repo.sovrin.org/sdk/lib/apt/xenial/master/) are available to install (e.g. apt-cache search crypto) *** try to install them  ></body> </Action>
<Action id="33358" issue="21079" author="vladimirwork" type="comment" created="2017-10-30 10:26:01.0" updateauthor="vladimirwork" updated="2017-10-30 10:26:01.0"> <body><! CDATA Build Info: indy-node 1.2.188 sovrin 1.1.33  Steps to Validate: 1. Check that CD pipelines for masters (currently the changes are there only) work without any errors: https://ci.evernym.com/view/cd https://ci.evernym.com/job/Sovrin 2. Install indy-node >= 1.2.185 from master and check that apt doesn't raise any unmet dependencies errors. 3. Install sovrin>= 1.1.32 from master and check the same things. 4. Check https://repo.sovrin.org/sdk/ it is expected as a new separate repo for sdk packages. 5. Replace https://repo.sovrin.org/deb line with  https://repo.sovrin.org/sdk/deb xenial master and check that packages from there (https://repo.sovrin.org/sdk/lib/apt/xenial/master/) are available to install (e.g. apt-cache search crypto). 6. Try to install them.  Actual Results: CD pipelines/installation of indy and sdk packages works without errors. There is a separate repo for sdk packages.  ></body> </Action>
