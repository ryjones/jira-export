<Action id="54592" issue="35935" author="andkononykhin" type="comment" created="2018-12-10 15:39:33.0" updateauthor="andkononykhin" updated="2018-12-10 15:39:33.0"> <body><! CDATA *PoA:* * debug _ssh-keyscan_ command execution results as it seems it doesn't provide any keys and doesn't fail at the same time     ></body> </Action>
<Action id="54599" issue="35935" author="andkononykhin" type="comment" body="PR: https://github.com/hyperledger/indy-node/pull/1087" created="2018-12-10 15:57:10.0" updateauthor="andkononykhin" updated="2018-12-10 15:57:10.0"/>
<Action id="54643" issue="35935" author="andkononykhin" type="comment" created="2018-12-11 07:35:47.0" updateauthor="andkononykhin" updated="2018-12-11 07:35:47.0"> <body><! CDATA *Problem reason*:  Provision playbook failed during adding hosts to ssh known_hosts file. The error was about missed host keys.  *Changes*: * added logic with retries for ssh-keyscan command since it doesn't return any error in failure cases * improved ssh-keyscan conditional check for failure result  *Committed into:*  https://github.com/hyperledger/indy-node/pull/1087  *Risk factors*:  Nothing is expected.  *Risk*:  Low    *Covered with tests*:  no, manually tested. Automated tests for aws-manage role are not maintained for now (INDY-1782)   *Recommendations for QA*: * create namespace directory * run provision playbook * ensure that the error doesn't appear any more ** there might be a case when ssh-keyscan fails even after all multiple tries (for now: 5 tries with 5 seconds delay). In such case the playbook will fail at that stage instead of later host adding logic as it was before. Such a failure might be treated as expected. Possible solutions: *** restart provision playbook *** create a new task to tune default retry and delay parameters since they likely depend on AWS infrastructure and network state * destroy the pool  ></body> </Action>
<Action id="54697" issue="35935" author="ozheregelya" type="comment" created="2018-12-11 23:10:09.0" updateauthor="ozheregelya" updated="2018-12-11 23:10:09.0"> <body><! CDATA *Steps to Validate:* 1. Run provision and destroy playbooks several times.  *Actual Results:* After several runs of provision and destroy playbooks named error was not appeared.  ></body> </Action>
