<Issue id="19336" key="INDY-437" number="437" project="10303" reporter="danielhardman" assignee="mzk-vct" creator="danielhardman" type="10002" summary="roll back default where zmq high water mark = 0" priority="3" resolution="10000" status="10001" created="2017-07-18 20:11:06.0" updated="2019-10-11 10:14:26.0" resolutiondate="2019-10-11 10:14:26.0" votes="0" watches="1" workflowId="19336"> <description><! CDATA This is a follow-up to INDY-366. In that ticket, we changed the default FIFO queue in ZMQ to be unlimited. This makes certain problems less likely, but it also masks problems for a lot longer. I would be more comfortable that we were truly robust if: # The high water mark were finite (e.g., 100,000). # We had a way to detect that we are nearing the high water mark, and that we would report a graceful error that makes this condition easy to diagnose. # We implemented logic in STP to discard old messages rather than new ones. (Desirable but not necessarily required.) # If we exceed the high water mark, we exit the daemon process gracefully rather than crashing due to an out-of-memory condition.  This ticket is to track the work in items 1-4. Possibly 3 could be omitted.  ></description> </Issue>
