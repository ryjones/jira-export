<Issue id="39224" key="INDY-2053" number="2053" project="10303" reporter="sergey.khoroshavin" assignee="vladimirwork" creator="sergey.khoroshavin" type="10002" summary="Catch-up should take into account state of other nodes when sending requests" priority="3" resolution="10000" status="10001" created="2019-04-11 12:23:11.0" updated="2019-05-08 11:31:30.0" resolutiondate="2019-05-08 11:31:30.0" votes="0" watches="3" workflowId="52101"> <description><! CDATA *Problem description* Current catch-up code doesn't take into account ledger states of other nodes when sending catch-up requests. This can lead to some nodes receiving requests for transactions that they don't have yet. In this case they just reject request, which leads to much longer catch-up since leecher node waits for reply until timeout and then resends request to different nodes.   *Proposed solution* Use information from LEDGER_STATUS and CONSISTENCY_PROOF messages gathered by ConsProofService as well as from audit ledger to make sure catch-up requests are sent to nodes that can really fulfill them.   ></description> </Issue>
