<Issue id="18310" key="INDY-257" number="257" project="10303" reporter="dsurnin" assignee="danielhardman" creator="dsurnin" type="10001" summary="An upgrade should be idempotent" priority="3" resolution="10000" status="10001" created="2017-06-19 13:05:07.0" updated="2019-03-29 20:33:34.0" resolutiondate="2019-03-29 20:33:34.0" votes="0" watches="3" timeoriginalestimate="10800" timeestimate="10800" workflowId="18315"> <description><! CDATA *An upgrade is idempotent.* A txn to upgrade to version 5 should be allowed even if an earlier upgrade to v.5 has gone through. Given four nodes, if three are at v.5 and one is at v.4, then the one at v.4 will be upgraded. When it comes time for a particular node to upgrade, and it's already at v.5, it doesn't do anything.  lovesh  9:27 AM   We partially have "An upgrade is idempotent", i say partially since node on upgrade can run an additional script, we need to ensure changes done as part of the script are idempotent, we need a test which before any pool upgrade is sent applies the upgrade twice on each node and verifies the update to be idempotent.  ></description> </Issue>
