<Issue id="19760" key="INDY-572" number="572" project="10303" reporter="avkrishnan" creator="avkrishnan" type="10004" summary="Alias conflict is not handled gracefully" description="With {{sovrin-node}}, if it _detects_ a name collision between node aliases, it does not handle things gracefully. Instead it throws a stack trace, as can be seen in this snippet from {{/var/log/syslog}}:{code}Feb 22 04:41:26 play systemd 1 : Starting Sovrin Node...Feb 22 04:41:31 play systemd 1 : Started Sovrin Node.Feb 22 04:41:33 play start_sovrin_node 1962 : Traceback (most recent call last):Feb 22 04:41:33 play start_sovrin_node 1962 :   File &quot;/usr/local/bin/start_sovrin_node&quot;, line 46, in &lt;module&gt;Feb 22 04:41:33 play start_sovrin_node 1962 :     cliha=cliha)Feb 22 04:41:33 play start_sovrin_node 1962 :   File &quot;/usr/local/lib/python3.5/dist-packages/sovrin_node/server/node.py&quot;, line 73, in __init__Feb 22 04:41:33 play start_sovrin_node 1962 :     config=self.config)Feb 22 04:41:33 play start_sovrin_node 1962 :   File &quot;/usr/local/lib/python3.5/dist-packages/plenum/server/node.py&quot;, line 157, in __init__Feb 22 04:41:33 play start_sovrin_node 1962 :     self.nodeReg)Feb 22 04:41:33 play start_sovrin_node 1962 :   File &quot;/usr/local/lib/python3.5/dist-packages/plenum/common/stacked.py&quot;, line 860, in __init__Feb 22 04:41:33 play start_sovrin_node 1962 :     KITStack.__init__(self, stackParams, msgHandler, registry, sighex)Feb 22 04:41:33 play start_sovrin_node 1962 :   File &quot;/usr/local/lib/python3.5/dist-packages/plenum/common/stacked.py&quot;, line 399, in __init__Feb 22 04:41:33 play start_sovrin_node 1962 :     super().__init__(stackParams, msgHandler, sighex)Feb 22 04:41:33 play start_sovrin_node 1962 :   File &quot;/usr/local/lib/python3.5/dist-packages/plenum/common/stacked.py&quot;, line 275, in __init__Feb 22 04:41:33 play start_sovrin_node 1962 :     super().__init__(**stackParams, msgHandler=self.msgHandler, sighex=sighex)Feb 22 04:41:33 play start_sovrin_node 1962 :   File &quot;/usr/local/lib/python3.5/dist-packages/plenum/common/stacked.py&quot;, line 60, in __init__Feb 22 04:41:33 play start_sovrin_node 1962 :     super().__init__(*args, **kwargs)Feb 22 04:41:33 play start_sovrin_node 1962 :   File &quot;/usr/local/lib/python3.5/dist-packages/raet/road/stacking.py&quot;, line 156, in __init__Feb 22 04:41:33 play start_sovrin_node 1962 :     **kwa)Feb 22 04:41:33 play start_sovrin_node 1962 :   File &quot;/usr/local/lib/python3.5/dist-packages/raet/stacking.py&quot;, line 565, in __init__Feb 22 04:41:33 play start_sovrin_node 1962 :     self.restoreRemotes() # load remotes from saved dataFeb 22 04:41:33 play start_sovrin_node 1962 :   File &quot;/usr/local/lib/python3.5/dist-packages/raet/road/stacking.py&quot;, line 373, in restoreRemotesFeb 22 04:41:33 play start_sovrin_node 1962 :     self.addRemote(remote)Feb 22 04:41:33 play start_sovrin_node 1962 :   File &quot;/usr/local/lib/python3.5/dist-packages/raet/road/stacking.py&quot;, line 198, in addRemoteFeb 22 04:41:33 play start_sovrin_node 1962 :     super(RoadStack, self).addRemote(remote=remote, dump=dump)Feb 22 04:41:33 play start_sovrin_node 1962 :   File &quot;/usr/local/lib/python3.5/dist-packages/raet/stacking.py&quot;, line 577, in addRemoteFeb 22 04:41:33 play start_sovrin_node 1962 :     super(KeepStack, self).addRemote(remote=remote)Feb 22 04:41:33 play start_sovrin_node 1962 :   File &quot;/usr/local/lib/python3.5/dist-packages/raet/stacking.py&quot;, line 159, in addRemoteFeb 22 04:41:33 play start_sovrin_node 1962 :     raise raeting.StackError(emsg)Feb 22 04:41:33 play start_sovrin_node 1962 : raet.raeting.StackError: StackError: Cannot add remote at name &apos;play&apos;, alreadys exists.Feb 22 04:41:33 play start_sovrin_node 1962 : --- Logging error ---Feb 22 04:41:33 play start_sovrin_node 1962 : Traceback (most recent call last):Feb 22 04:41:33 play start_sovrin_node 1962 :   File &quot;/usr/lib/python3.5/logging/handlers.py&quot;, line 71, in emitFeb 22 04:41:33 play start_sovrin_node 1962 :     if self.shouldRollover(record):Feb 22 04:41:33 play start_sovrin_node 1962 :   File &quot;/usr/local/lib/python3.5/dist-packages/plenum/common/logging/TimeAndSizeRotatingFileHandler.py&quot;, line 20, in shouldRolloverFeb 22 04:41:33 play start_sovrin_node 1962 :     bool(RotatingFileHandler.shouldRollover(self, record))Feb 22 04:41:33 play start_sovrin_node 1962 :   File &quot;/usr/lib/python3.5/logging/handlers.py&quot;, line 185, in shouldRolloverFeb 22 04:41:33 play start_sovrin_node 1962 :     self.stream = self._open()Feb 22 04:41:33 play start_sovrin_node 1962 :   File &quot;/usr/lib/python3.5/logging/__init__.py&quot;, line 1037, in _openFeb 22 04:41:33 play start_sovrin_node 1962 :     return open(self.baseFilename, self.mode, encoding=self.encoding)Feb 22 04:41:33 play start_sovrin_node 1962 : NameError: name &apos;open&apos; is not definedFeb 22 04:41:33 play start_sovrin_node 1962 : Call stack:Feb 22 04:41:33 play start_sovrin_node 1962 :   File &quot;/usr/lib/python3.5/asyncio/base_events.py&quot;, line 431, in __del__Feb 22 04:41:33 play start_sovrin_node 1962 :     self.close()Feb 22 04:41:33 play start_sovrin_node 1962 :   File &quot;/usr/lib/python3.5/asyncio/unix_events.py&quot;, line 56, in closeFeb 22 04:41:33 play start_sovrin_node 1962 :     super().close()Feb 22 04:41:33 play start_sovrin_node 1962 :   File &quot;/usr/lib/python3.5/asyncio/selector_events.py&quot;, line 98, in closeFeb 22 04:41:33 play start_sovrin_node 1962 :     super().close()Feb 22 04:41:33 play start_sovrin_node 1962 :   File &quot;/usr/lib/python3.5/asyncio/base_events.py&quot;, line 410, in closeFeb 22 04:41:33 play start_sovrin_node 1962 :     logger.debug(&quot;Close %r&quot;, self)Feb 22 04:41:33 play start_sovrin_node 1962 : Message: &apos;Close %r&apos;Feb 22 04:41:33 play start_sovrin_node 1962 : Arguments: (&lt;_UnixSelectorEventLoop running=False closed=False debug=True&gt;,)Feb 22 04:41:33 play systemd 1 : sovrin-node.service: Main process exited, code=exited, status=1/FAILUREFeb 22 04:41:33 play systemd 1 : sovrin-node.service: Unit entered failed state.Feb 22 04:41:33 play systemd 1 : sovrin-node.service: Failed with result &apos;exit-code&apos;.{code}We should never have a case of uncaught exceptions. They should always be caught and handled gracefullyl" priority="4" resolution="10000" status="10001" created="2017-08-02 09:27:14.0" updated="2019-03-29 20:33:20.0" resolutiondate="2019-03-29 20:33:20.0" votes="0" watches="2" workflowId="19760"/>
