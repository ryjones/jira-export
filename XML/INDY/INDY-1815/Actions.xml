<Action id="53064" issue="35065" author="toktar" type="comment" created="2018-11-06 09:25:16.0" updateauthor="toktar" updated="2018-11-06 09:31:07.0"> <body><! CDATA Problem reason: -  A new replica it will be removed on performance degradation. In start replics has value 0, but it should be None  Changes: - Changed RevivalSpikeResistantEMAThroughputMeasurement strategy for detecting instance degradation. Now in safe start (window_size * min_cnt) this strategy return None for getting throughput value. - Add tests  PR: *  https://github.com/hyperledger/indy-plenum/pull/963  *  https://github.com/hyperledger/indy-node/pull/1011   Version: * indy-node 1.6.654 -master * indy-plenum 1.6.579  -master  Risk factors: - No risk  Risk: - Low  Covered with tests: * test_instances_not_degraded_on_new_instance * test_rsr_ema_tm_throughput_in_safe_start * test_rsr_ema_tm_past_windows_processed_on_get_throughput_after_safe_start  Recommendations for QA: * Create a docker pool for 6 nodes * Add a new node. * Send any transaction. * Check that new instance (which created automaticaly after adding new node) correctly ordered transaction and no replica has been removed * Check that master didn't degrade (view change didn't happen)  ></body> </Action>
<Action id="53088" issue="35065" author="zhigunenko.dsr" type="comment" created="2018-11-06 15:30:47.0" updateauthor="zhigunenko.dsr" updated="2018-11-06 15:37:50.0"> <body><! CDATA *Environment:* indy-node                  1.6.656     *Steps to Validate:* 1) Create a docker pool for 6 nodes 2) Add the 7th node. 3) Send any transaction.  *Expected results:* * New instance (which created automaticaly after adding new node) correctly ordered transaction * No replica has been removed * Master didn't degrade (view change didn't happen)  *Actual results:* * New instance hasn't been created - FAIL * Some replica has been removed - FAIL * View change didn't happen - OK  *Additional info:* Logs and validator-info:   ^1815.tar.gz   ></body> </Action>
<Action id="53124" issue="35065" author="toktar" type="comment" body="PR: https://github.com/hyperledger/indy-plenum/pull/967" created="2018-11-07 10:36:47.0" updateauthor="toktar" updated="2018-11-07 10:36:47.0"/>
<Action id="53132" issue="35065" author="toktar" type="comment" created="2018-11-07 11:33:00.0" updateauthor="toktar" updated="2018-11-07 14:17:49.0"> <body><! CDATA Problem reason: -  A backup replica used latency value for detecting areBackupsDegraded().  This parameter is incorrect in the backup replica start and shouldn't use for backup replicas.  Changes: - Remove latency check from areBackupsDegraded() - Add test  PR: *  https://github.com/hyperledger/indy-plenum/pull/967  *   Version: * indy-node 1.6.661 -master * indy-plenum 1.6.583 -master  Risk factors: - Replicas will be removed after adding a new node  Risk: - Low  Covered with tests: *  test_replica_removing_with_backup_degraded.py|https://github.com/hyperledger/indy-plenum/pull/967/files#diff-4f7376795ddaf94804fd3efc795afe2d   Recommendations for QA: * Retest previous case  ></body> </Action>
<Action id="53202" issue="35065" author="zhigunenko.dsr" type="comment" created="2018-11-08 10:35:27.0" updateauthor="zhigunenko.dsr" updated="2018-11-08 10:35:27.0"> <body><! CDATA *Environment:* indy-node                  1.6.663    *Steps to Validate:* 1) Create a docker pool for 6 nodes 2) Add the 7th node. 3) Send any transaction.  *Actual results:* - New instance (which created automaticaly after adding new node) correctly ordered transaction - No replica has been removed - Master didn't degrade (view change didn't happen)  ></body> </Action>
