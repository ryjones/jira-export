<Action id="46300" issue="30933" author="derashe" type="comment" created="2018-06-20 15:48:14.0" updateauthor="derashe" updated="2018-06-20 15:48:14.0"> <body><! CDATA Problem reason: - We have problems with compatibility between different sdk's and node's protocoloVersion  Changes: - protocolVersion added in node's LEDGER_STATUS message - New protocol version value added ( TXN_FORMAT_1_0_SUPPORT == 2), which now is actual - Add logic that actual node handles incorrect protocol verisons of LEDGER_STATUS message by sending client's LEDGER_STATUS back and RequestNotAcknowledge with message 'make sure that the latest LibIndy is used and `indy_set_protocol_version(2) is called'. - Fixed tests which were using hard-coded protocol version  Committed into: - https://github.com/hyperledger/indy-node/pull/772 - https://github.com/hyperledger/indy-plenum/pull/733  Risk: - Low  Covered with tests: - test_protocol_version  Recommendations for QA:         check these cases: * 1.3 node (last stable) works with 1.5 sdk * 1.4 node do not work with 1.4 sdk, but gives an error: 'make sure that the latest LibIndy is used and `indy_set_protocol_version(2) is called * 1.4 node do not work with 1.5 sdk, if sdk did not set protocol_version * 1.4 node works with 1.5 sdk, if sdk set protocol verison  ></body> </Action>
<Action id="46304" issue="30933" author="vladimirwork" type="comment" body="It will be tested in scope of IS-748." created="2018-06-20 16:27:13.0" updateauthor="vladimirwork" updated="2018-06-20 16:27:13.0"/>
