<Action id="51079" issue="33731" author="spivachuk" type="comment" created="2018-09-24 10:11:37.0" updateauthor="spivachuk" updated="2018-09-24 10:11:37.0"> <body><! CDATA *Problem reason:* - Rejected requests (i.e. requests which failed dynamic validation) were not marked as executed when 3PC-batches containing them were ordered. This prevented removal of rejected requests from Propagator.requests collection on checkpoint stabilization.  *Changes:* - Modified the test verifying removal of requests from Propagator.requests collection on checkpoint stabilization: now removal of rejected requests is also verified. Corrected a related test helper-function and tests using it. - Added marking rejected requests as executed along with valid requests on ordering of 3PC-batches. This fixed the issue with lack of removing rejected requests from Propagator.requests collection on checkpoint stabilization.  *PRs:* - https://github.com/hyperledger/indy-plenum/pull/920 - https://github.com/hyperledger/indy-node/pull/949  *Version:* - indy-node 1.6.610-master - indy-plenum 1.6.544-master  *Risk factors:* - Nothing is expected.  *Risk:* - Low  *Covered with tests:* - {{test_request_older_than_stable_checkpoint_removed}}  ></body> </Action>
<Action id="51196" issue="33731" author="nataliadracheva" type="comment" created="2018-09-26 10:29:18.0" updateauthor="nataliadracheva" updated="2018-09-26 10:30:23.0"> <body><! CDATA *Scenario 1:* *Build version:* indy-node: 1.6.610 indy-plenum: 1.6.545 *Test description:* 5 reject-nyms/sec are sent from one machine. *Preconditions:* Add a user without role to the ledger and send requests as the user. *Steps to Reproduce:* 1. Run perf_processes.py from 1 AWS agent with following parameters: {code:java} perf_processes.py -g pool_transactions_genesis -m t -n 1 -c 200 -l 5 -y one -k nym -s=000000000000000000000000Trustee3 --load_time=3600 -b=180 -o=load_script.csv {code} *Expected results:* Requests queues size do not grow infinitely. *Actual results:* Requests queues size do not grow infinitely.Â (/) *Additional info:* ~/logs/1700_confirmation_610_545.zip !metrics.png|thumbnail!  ></body> </Action>
