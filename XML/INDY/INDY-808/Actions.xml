<Action id="30540" issue="20612" author="krw910" type="comment" created="2017-09-05 22:45:20.0" updateauthor="krw910" updated="2017-09-05 22:45:20.0"> <body><! CDATA  ~gudkov  Can you please get this assigned out to someone today? We need to make this the highest priority.  The customer success team has now deployed the latest Stable to two of its test networks. In both cases one of the nodes did not upgrade. In both cases we do not control the nodes and they can no longer participate in the pool due to the significant changes between releases.  We must have the process of manually upgrading the node functional. Hopefully just my steps are incorrect, but if not we need some kind of fix to get these node upgraded and functional.   ~nage  FYI  ></body> </Action>
<Action id="30547" issue="20612" author="ozheregelya" type="comment" body="The problem is also reproduces on the latest master versions (upgrade from 1.1.130 to 1.1.131)." created="2017-09-06 07:43:06.0" updateauthor="ozheregelya" updated="2017-09-06 07:43:06.0"/>
<Action id="30550" issue="20612" author="andkononykhin" type="comment" created="2017-09-06 09:00:33.0" updateauthor="andkononykhin" updated="2017-09-06 09:00:33.0"> <body><! CDATA Fixed and merged to stable: https://github.com/hyperledger/indy-node/pull/337  ></body> </Action>
<Action id="30560" issue="20612" author="vladimirwork" type="comment" created="2017-09-06 13:18:14.0" updateauthor="vladimirwork" updated="2017-09-06 13:18:14.0"> <body><! CDATA Build Info: 1.1.34 (rc)  Steps to Validate:  1. sudo apt update 2. sudo systemctl stop sovrin-node 3. sudo systemctl stop sovrin-node-control 4. sudo apt-get install sovrin -y 5. sudo apt-get install indy-node -y 6. sudo python3 7. from sovrin_node.utils.migration_tool import migrate 8. migrate("1.0.28","1.1.34",10)  Actual Results: Migration is applied successfully after the upgrade from 1.0.28 to 1.1.34. !Screenshot.PNG|thumbnail!   Additional Info: Migration during pool upgrade to 1.1.34 works normally. !Screenshot_.PNG|thumbnail!  !Screenshot__.PNG|thumbnail!   ></body> </Action>
<Action id="30675" issue="20612" author="ozheregelya" type="comment" created="2017-09-08 11:52:36.0" updateauthor="ozheregelya" updated="2017-09-08 11:52:36.0"> <body><! CDATA The fix was also merged to master.  Build Info:   indy-node 1.1.130 -> 132   indy-anoncreds 1.1.25 -> 25   indy-plenum 1.1.121 -> 121   sovrin 1.1.26 OS/Platform: Ubuntu 16.04.2 LTS  Migration works without any exceptions: {code:java} root@5805b95d70d0:/home/sovrin# sudo apt-get install indy-node Reading package lists... Done Building dependency tree  Reading state information... Done The following held packages will be changed: indy-node The following packages will be upgraded: indy-node 1 upgraded, 0 newly installed, 0 to remove and 0 not upgraded. Need to get 492 kB of archives. After this operation, 0 B of additional disk space will be used. Do you want to continue?  Y/n  y Get:1 https://repo.sovrin.org/deb xenial/master amd64 indy-node amd64 1.1.132  492 kB  Fetched 492 kB in 5s (96.7 kB/s)  debconf: delaying package configuration, since apt-utils is not installed (Reading database ... 22844 files and directories currently installed.) Preparing to unpack .../indy-node_1.1.132_amd64.deb ... Unpacking indy-node (1.1.132) over (1.1.130) ... Setting up indy-node (1.1.132) ... root@5805b95d70d0:/home/sovrin# sudo python3 Python 3.5.2 (default, Nov 17 2016, 17:05:23)   GCC 5.4.0 20160609  on linux Type "help", "copyright", "credits" or "license" for more information. >>> from sovrin_node.utils.migration_tool import migrate 2017-09-08 11:48:26,016 | DEBUG | __init__.py (60) | register | Registered VCS backend: git 2017-09-08 11:48:26,037 | DEBUG | __init__.py (60) | register | Registered VCS backend: hg 2017-09-08 11:48:26,090 | DEBUG | __init__.py (60) | register | Registered VCS backend: svn 2017-09-08 11:48:26,092 | DEBUG | __init__.py (60) | register | Registered VCS backend: bzr >>> migrate("1.1.125","1.1.132",10) 2017-09-08 11:48:33,371 | INFO | migration_tool.py (52) | migrate | Migrating from 1.1.125 to 1.1.132 on Ubuntu 2017-09-08 11:48:33,374 | DEBUG | migration_tool.py (54) | migrate | Found migration scripts:  '1_0_96_to_1_0_97', 'disabled_1_0_97_to_1_0_96', 'helper_1_0_96_to_1_0_97'  2017-09-08 11:48:33,375 | INFO | migration_tool.py (58) | migrate | No migrations can be applied to the current code. 0{code}  ></body> </Action>
