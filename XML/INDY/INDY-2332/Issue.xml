<Issue id="44109" key="INDY-2332" number="2332" project="10303" reporter="lbendixsen" creator="lbendixsen" type="10004" summary="ujson 1.3.3 does not handle large reqId&apos;s" priority="2" status="10200" created="2020-01-22 23:28:31.0" updated="2020-01-22 23:28:31.0" votes="0" watches="1" workflowId="58009" archived="N"> <description><! CDATA _Environment_:  Development environment using latest master for Indy-node and indy-plenum (~1.12.2)  _Steps to Reproduce_:   Create a a custom txn with a long ReqId and send it to the ledger with indy-sdk "signandsend" method.   _Expected Behavior_:   ledger should handle it.   _Observed Behavior_:   ledger sometimes returns "Value is too big" as shown below but all the time the master node hangs and a timeout is returned.  _Notes_:  I recommend checking the ReqID length (even 1.3.5 will break with sufficiently long length) and moving to ujson 1.3.5 as indicated by the following output sequences. *   {{$ pip install ujson==1.33}} {{Collecting ujson==1.33}} {{  Downloading https://files.pythonhosted.org/packages/98/8c/47949a4e454b7ee27cf82a81735414187368fb94bae94de0291903c9881b/ujson-1.33.zip (197kB)}} {{     100% |████████████████████████████████| 204kB 1.9MB/s}} {{Installing collected packages: ujson}} {{   Running setup.py install for ujson ... done}} {{Successfully installed ujson-1.33}} {{You are using pip version 9.0.1, however version 20.0.1 is available.}} {{You should consider upgrading via the 'pip install --upgrade pip' command.}} {{}} {{$ python}} {{Python 3.5.7 (default, Jan 22 2020, 12:19:18)}} {{ GCC 9.2.1 20190827 (Red Hat 9.2.1-1)  on linux}} {{Type "help", "copyright", "credits" or "license" for more information.}} {{>>> msg = '\{"reqId":9486768349997817835}'}} {{>>> import ujson}} {{>>> ujson.loads(msg)}} {{Traceback (most recent call last): File "<stdin>", line 1, in <module>}} {{ValueError: Value is too big}} {{>>>}} {{}} *   {{$ pip install ujson==1.35}} {{Collecting ujson==1.35}} {{   Using cached https://files.pythonhosted.org/packages/16/c4/79f3409bc710559015464e5f49b9879430d8f87498ecdc335899732e5377/ujson-1.35.tar.gz}} {{Installing collected packages: ujson}} {{  Running setup.py install for ujson ... done}} {{Successfully installed ujson-1.35}} {{You are using pip version 9.0.1, however version 20.0.1 is available.}} {{You should consider upgrading via the 'pip install --upgrade pip' command.}} {{}} {{$ python}} {{Python 3.5.7 (default, Jan 22 2020, 12:19:18)  GCC 9.2.1 20190827 (Red Hat 9.2.1-1)  on linux}} {{Type "help", "copyright", "credits" or "license" for more information.}} {{>>> import ujson >>> msg = '\{"reqId":9486768349997817835}'}} {{>>> ujson.loads(msg)}} {{{'reqId': 9486768349997817835}}} {{>>>}}  {{}}  ></description> </Issue>
