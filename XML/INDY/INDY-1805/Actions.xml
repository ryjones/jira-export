<Action id="52839" issue="35017" author="burdettadam" type="comment" created="2018-10-31 18:50:06.0" updateauthor="burdettadam" updated="2018-10-31 18:50:06.0"> <body><! CDATA lovesh commented on Feb 2 @WandyLau I see we use https://github.com/bjornedstrom/python-sha3. This is a pure python implementation so better chances of it working on various platforms. Do you see some issues with the library except that it has not had recent commits (it is fine for such projects).  ></body> </Action>
<Action id="52840" issue="35017" author="burdettadam" type="comment" created="2018-10-31 18:50:41.0" updateauthor="burdettadam" updated="2018-10-31 18:50:41.0"> <body><! CDATA WandyLau commented on Feb 3 Yes, I can not install this in s390. It complains the error. The real link should be https://github.com/bjornedstrom/python-sha3  src/64/KeccakF-1600-opt64.c:250:2: error: #error "Not yet implemented".  So I just wonder if I can just replace this python-sha3 with pysha? pysha is also on based of the Keccak.  ></body> </Action>
<Action id="52841" issue="35017" author="burdettadam" type="comment" created="2018-10-31 18:50:58.0" updateauthor="burdettadam" updated="2018-10-31 18:50:58.0"> <body><! CDATA lovesh commented on Feb 3 It will not be a drop-in replacement since python-sha3 does not patch hashlib like pysha3, so its a little more work. Raising an issue at python-sha3 with your error would be helpful  ></body> </Action>
<Action id="52842" issue="35017" author="burdettadam" type="comment" created="2018-10-31 18:51:17.0" updateauthor="burdettadam" updated="2018-10-31 18:51:17.0"> <body><! CDATA WandyLau commented on Feb 3 Does that mean pysha is more complete that python-sha? Shall we consider this replacement? Just ask.  ></body> </Action>
<Action id="52843" issue="35017" author="burdettadam" type="comment" created="2018-10-31 18:56:27.0" updateauthor="burdettadam" updated="2018-10-31 18:56:27.0"> <body><! CDATA lovesh commented on Feb 5  I can't say which is more complete or better. Also i don't know if there are platforms out there that will not run pysha3 but run python-sha3. This has to explored. We won't say no to any help on this :)  ></body> </Action>
<Action id="52844" issue="35017" author="burdettadam" type="comment" created="2018-10-31 18:56:44.0" updateauthor="burdettadam" updated="2018-10-31 18:56:44.0"> <body><! CDATA WandyLau commented on Feb 5 As I see from the code, pysha3 just walk around this big endian problem, which is not implemented yet. And python-sha3, pysha3 use the same code of KeccakCodePackage. So I think it is the problem of KeccakCodePackage. And pysha3 may be a option. Not sure if this can work for us. I will explore it.  ></body> </Action>
<Action id="52845" issue="35017" author="burdettadam" type="comment" created="2018-10-31 18:57:02.0" updateauthor="burdettadam" updated="2018-10-31 18:57:02.0"> <body><! CDATA kdenhartog commented on Apr 17 As far as I can tell, this issue comes from if you are running python 3.5 vs python3.6. I've been able to resolve this issue by building from python3.5 as python 3.6 doesn't have the right sha3 package anymore. I didn't investigate more into this.  ></body> </Action>
<Action id="52846" issue="35017" author="burdettadam" type="comment" created="2018-10-31 18:57:29.0" updateauthor="burdettadam" updated="2018-10-31 18:57:29.0"> <body><! CDATA ryanwest6 commented on May 17 I've discovered this issue as well, the sha3 package we're currently using seems to break with python3.6 (may be a difference in Cython calling C-code, not sure). This ticket in JIRA has a lot more info and differences in sha between 3.5 and 3.6: https://jira.hyperledger.org/browse/INDY-1308. Would it be feasible to rely on hashlib's SHA3-256 (introduced in python3.6) method instead of a package dependency, or do we need to keep plenum compatible with 3.5 and earlier?  ></body> </Action>
<Action id="52847" issue="35017" author="burdettadam" type="comment" created="2018-10-31 18:57:44.0" updateauthor="burdettadam" updated="2018-10-31 18:57:44.0"> <body><! CDATA ryanwest6 commented on May 22 I'd like to get plenum to work with python3.6 and I can integrate either pysha3 instead of sha3, or use python3.6's new built in SHA3-256 to do so. Any thoughts on which is best though?  ></body> </Action>
<Action id="52848" issue="35017" author="burdettadam" type="comment" created="2018-10-31 18:58:28.0" updateauthor="burdettadam" updated="2018-10-31 18:58:28.0"> <body><! CDATA lovesh commented on May 23  @ryanwest6 You can add something like this to make it work both on python 3.5 and 3.6 {code} try: # For python 3.6 from hashlib import sha3_256              # sha3_256 requires bytes     except ImportError: # For python 3.5 import sha3   // or pysha3 if you need sha3_256 = lambda x: sha3.sha3_256(x.decode())   # _sha3.sha3_256 requires a string {code}  ></body> </Action>
<Action id="52849" issue="35017" author="burdettadam" type="comment" created="2018-10-31 18:58:43.0" updateauthor="burdettadam" updated="2018-10-31 18:58:43.0"> <body><! CDATA WandyLau commented on May 28 Hi, this problem has been resolved. But the patch is in master branch and it is not released so far. If you want to use it, please clone the master branch.  ></body> </Action>
<Action id="52850" issue="35017" author="burdettadam" type="comment" created="2018-10-31 18:58:59.0" updateauthor="burdettadam" updated="2018-10-31 18:58:59.0"> <body><! CDATA ryanwest6 commented on May 29 I just recloned and downloaded master but still get the same issue on python 3.6.5: 'AttributeError: module '_sha3' has no attribute 'sha3''. Which commit to master made the fixes?  ></body> </Action>
<Action id="64624" issue="35017" author="ashcherbakov" type="comment" body="This has been already fixed" created="2019-10-11 11:42:00.0" updateauthor="ashcherbakov" updated="2019-10-11 11:42:00.0"/>
<Action id="65314" issue="35017" author="huxd" type="comment" body="I still encounter this issue on s390 when using latest master branch code" created="2019-11-06 09:51:41.0" updateauthor="huxd" updated="2019-11-06 09:51:41.0"/>
