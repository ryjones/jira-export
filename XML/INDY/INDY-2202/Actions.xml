<Action id="62887" issue="41786" author="vladimirwork" type="comment" body="Looks like nodes sent IC messages to each other after 7th node demotion but there were no VC for some reason." created="2019-08-14 13:22:50.0" updateauthor="vladimirwork" updated="2019-08-14 13:22:50.0"/>
<Action id="62918" issue="41786" author="vladimirwork" type="comment" body="This test failed again in nightly node pipeline so maybe it&apos;s not an intermittent failure but some regression." created="2019-08-15 07:28:38.0" updateauthor="vladimirwork" updated="2019-08-15 07:28:38.0"/>
<Action id="62919" issue="41786" author="vladimirwork" type="comment" body="FYI  ~ashcherbakov   ~sergey.khoroshavin " created="2019-08-15 07:29:19.0" updateauthor="vladimirwork" updated="2019-08-15 07:29:19.0"/>
<Action id="62925" issue="41786" author="ashcherbakov" type="comment" created="2019-08-15 09:54:48.0" updateauthor="ashcherbakov" updated="2019-08-15 09:54:48.0"> <body><! CDATA It looks like the reason why View Change hasn't started is connection problems between nodes when NodeA thinks that it's connected to NodeB while NodeB is not connected to NodeA. This is the same issue as in INDY-2183  ></body> </Action>
<Action id="62926" issue="41786" author="ashcherbakov" type="comment" created="2019-08-15 09:55:43.0" updateauthor="ashcherbakov" updated="2019-08-15 10:30:27.0"> <body><! CDATA Node1: {code} 2019-08-13 23:20:52,589|DEBUG|zstack.py|Node1 pinged Node7 2019-08-13 23:20:52,590|DEBUG|zstack.py|Node1 pinged Node5 2019-08-13 23:20:52,595|DEBUG|zstack.py|Node1 pinged Node3 2019-08-13 23:20:52,596|DEBUG|zstack.py|Node1 pinged Node6 2019-08-13 23:20:52,603|DEBUG|zstack.py|Node1 pinged Node2 2019-08-13 23:20:52,604|DEBUG|zstack.py|Node1 pinged Node4 2019-08-13 23:20:53,867|TRACE|zstack.py|Node1 got pong from Node4 2019-08-13 23:20:53,869|NOTIFICATION|keep_in_touch.py|Node1's connections changed from set() to {'Node4'} 2019-08-13 23:20:53,889|TRACE|zstack.py|Node1 got pong from Node4 2019-08-13 23:20:54,970|TRACE|zstack.py|Node1 got pong from Node5 2019-08-13 23:20:54,974|NOTIFICATION|keep_in_touch.py|Node1's connections changed from {'Node4'} to {'Node4', 'Node5'} 2019-08-13 23:20:55,068|TRACE|zstack.py|Node1 got pong from Node5 2019-08-13 23:20:59,668|DEBUG|view_changer.py|Node1's view_changer sending INSTANCE_CHANGE{'viewNo': 1, 'reason': 46} 2019-08-13 23:20:59,675|DEBUG|node.py|Node1 received node message from Node2: INSTANCE_CHANGE{'viewNo': 1, 'reason': 46} 2019-08-13 23:20:59,881|DEBUG|node.py|Node1 received node message from Node5: INSTANCE_CHANGE{'viewNo': 1, 'reason': 46} 2019-08-13 23:20:59,903|DEBUG|node.py|Node1 received node message from Node4: INSTANCE_CHANGE{'viewNo': 1, 'reason': 46} 2019-08-13 23:21:07,596|DEBUG|zstack.py|Node1 pinged Node2 2019-08-13 23:21:07,596|DEBUG|zstack.py|Node1 pinged Node3 2019-08-13 23:21:07,596|DEBUG|zstack.py|Node1 pinged Node6 2019-08-13 23:21:07,628|TRACE|zstack.py|Node1 got pong from Node3 2019-08-13 23:21:07,644|TRACE|zstack.py|Node1 got pong from Node2 2019-08-13 23:21:07,645|NOTIFICATION|keep_in_touch.py|Node1's connections changed from {'Node4', 'Node5'} to {'Node3', 'Node2', 'Node4', 'Node5'} 2019-08-13 23:21:07,671|TRACE|zstack.py|Node1 got pong from Node6 2019-08-13 23:21:07,700|NOTIFICATION|keep_in_touch.py|Node1's connections changed from {'Node3', 'Node2', 'Node4', 'Node5'} to {'Node3', 'Node2', 'Node4', 'Node5', 'Node6'} {code}  Node3: {code} 2019-08-13 23:20:54,574|DEBUG|zstack.py|Node3 pinged Node7 2019-08-13 23:20:54,600|DEBUG|zstack.py|Node3 pinged Node2 2019-08-13 23:20:54,601|DEBUG|zstack.py|Node3 pinged Node5 2019-08-13 23:20:54,601|DEBUG|zstack.py|Node3 pinged Node1 2019-08-13 23:20:54,602|DEBUG|zstack.py|Node3 pinged Node4 2019-08-13 23:20:54,603|DEBUG|zstack.py|Node3 pinged Node6 2019-08-13 23:20:54,644|TRACE|zstack.py|Node3 got pong from Node2 2019-08-13 23:20:54,644|NOTIFICATION|keep_in_touch.py|Node3's connections changed from set() to {'Node2'} 2019-08-13 23:20:54,716|TRACE|zstack.py|Node3 got pong from Node1 2019-08-13 23:20:54,717|NOTIFICATION|keep_in_touch.py|Node3's connections changed from {'Node2'} to {'Node1', 'Node2'} 2019-08-13 23:20:54,765|TRACE|zstack.py|Node3 got pong from Node4 2019-08-13 23:20:54,766|NOTIFICATION|keep_in_touch.py|Node3's connections changed from {'Node1', 'Node2'} to {'Node1', 'Node4', 'Node2'} 2019-08-13 23:20:54,921|TRACE|zstack.py|Node3 got pong from Node5 2019-08-13 23:20:54,923|NOTIFICATION|keep_in_touch.py|Node3's connections changed from {'Node1', 'Node4', 'Node2'} to {'Node1', 'Node4', 'Node5', 'Node2'} 2019-08-13 23:20:55,319|TRACE|zstack.py|Node3 got pong from Node7 2019-08-13 23:20:55,329|NOTIFICATION|keep_in_touch.py|Node3's connections changed from {'Node1', 'Node4', 'Node5', 'Node2'} to {'Node1', 'Node4', 'Node7', 'Node5', 'Node2'} 2019-08-13 23:20:55,536|TRACE|zstack.py|Node3 got pong from Node7 2019-08-13 23:20:59,867|DEBUG|node.py|Node3 received node message from Node2: INSTANCE_CHANGE{'viewNo': 1, 'reason': 46} 2019-08-13 23:20:59,870|DEBUG|node.py|Node3 received node message from Node5: INSTANCE_CHANGE{'viewNo': 1, 'reason': 46} 2019-08-13 23:20:59,909|DEBUG|node.py|Node3 received node message from Node4: INSTANCE_CHANGE{'viewNo': 1, 'reason': 46} 2019-08-13 23:20:59,935|DEBUG|node.py|Node3 received node message from Node7: INSTANCE_CHANGE{'viewNo': 1, 'reason': 46} 2019-08-13 23:21:07,710|DEBUG|node.py|Node3 received node message from Node1: INSTANCE_CHANGE{'viewNo': 1, 'reason': 46} 2019-08-13 23:21:08,853|DEBUG|node.py|Node3 received node message from Node4: INSTANCE_CHANGE{'viewNo': 1, 'reason': 46} 2019-08-13 23:21:09,041|DEBUG|node.py|Node3 received node message from Node2: INSTANCE_CHANGE{'viewNo': 1, 'reason': 46} 2019-08-13 23:21:09,130|NOTIFICATION|keep_in_touch.py|Node3's connections changed from {'Node1', 'Node4', 'Node7', 'Node5', 'Node2'} to {'Node1', 'Node4', 'Node5', 'Node2'} 2019-08-13 23:21:09,581|DEBUG|zstack.py|Node3 pinged Node6 2019-08-13 23:21:09,610|TRACE|zstack.py|Node3 got pong from Node6 2019-08-13 23:21:09,611|NOTIFICATION|keep_in_touch.py|Node3's connections changed from {'Node1', 'Node4', 'Node5', 'Node2'} to {'Node1', 'Node4', 'Node5', 'Node6', 'Node2'} 2019-08-13 23:29:14,915|NOTIFICATION|keep_in_touch.py|Node3's connections changed from {'Node1', 'Node4', 'Node5', 'Node6', 'Node2'} to {'Node5', 'Node4', 'Node6', 'Node2'} 2019-08-13 23:29:15,222|NOTIFICATION|keep_in_touch.py|Node3's connections changed from {'Node5', 'Node4', 'Node6', 'Node2'} to {'Node4', 'Node6', 'Node5'} {code}  Node2: {code} 2019-08-13 23:20:54,127|NOTIFICATION|keep_in_touch.py|Node2's connections changed from set() to {'Node4', 'Node1'} 2019-08-13 23:20:54,829|NOTIFICATION|keep_in_touch.py|Node2's connections changed from {'Node4', 'Node1'} to {'Node5', 'Node1', 'Node4'} 2019-08-13 23:20:55,475|NOTIFICATION|keep_in_touch.py|Node2's connections changed from {'Node5', 'Node1', 'Node4'} to {'Node5', 'Node1', 'Node7', 'Node4'} 2019-08-13 23:20:59,673|NOTIFICATION|keep_in_touch.py|Node2's connections changed from {'Node5', 'Node1', 'Node7', 'Node4'} to {'Node5', 'Node1', 'Node4'} 2019-08-13 23:20:59,940|DEBUG|node.py|Node2 received node message from Node5: INSTANCE_CHANGE{'viewNo': 1, 'reason': 46} 2019-08-13 23:20:59,941|DEBUG|node.py|Node2 received node message from Node4: INSTANCE_CHANGE{'viewNo': 1, 'reason': 46} 2019-08-13 23:21:09,015|NOTIFICATION|keep_in_touch.py|Node2's connections changed from {'Node5', 'Node1', 'Node4'} to {'Node5', 'Node1', 'Node6', 'Node3', 'Node4'} 2019-08-13 23:21:07,722|DEBUG|node.py|Node2 received node message from Node1: INSTANCE_CHANGE{'viewNo': 1, 'reason': 46} 2019-08-13 23:29:14,911|NOTIFICATION|keep_in_touch.py|Node2's connections changed from {'Node5', 'Node1', 'Node6', 'Node3', 'Node4'} to {'Node5', 'Node6', 'Node3', 'Node4'} {code}  Node4: {code} 2019-08-13 23:20:53,877|NOTIFICATION|keep_in_touch.py|Node4's connections changed from set() to {'Node1'} 2019-08-13 23:20:54,159|NOTIFICATION|keep_in_touch.py|Node4's connections changed from {'Node1'} to {'Node1', 'Node2'} 2019-08-13 23:20:55,041|NOTIFICATION|keep_in_touch.py|Node4's connections changed from {'Node1', 'Node2'} to {'Node1', 'Node2', 'Node5'} 2019-08-13 23:20:55,195|NOTIFICATION|keep_in_touch.py|Node4's connections changed from {'Node1', 'Node2', 'Node5'} to {'Node1', 'Node2', 'Node6', 'Node5'} 2019-08-13 23:20:55,516|NOTIFICATION|keep_in_touch.py|Node4's connections changed from {'Node1', 'Node2', 'Node6', 'Node5'} to {'Node1', 'Node2', 'Node6', 'Node5', 'Node7'} 2019-08-13 23:20:59,691|DEBUG|node.py|Node4 received node message from Node2: INSTANCE_CHANGE{'reason': 46, 'viewNo': 1} 2019-08-13 23:20:59,886|NOTIFICATION|keep_in_touch.py|Node4's connections changed from {'Node1', 'Node2', 'Node6', 'Node5', 'Node7'} to {'Node1', 'Node2', 'Node6', 'Node5'} 2019-08-13 23:20:59,893|DEBUG|node.py|Node4 received node message from Node5: INSTANCE_CHANGE{'reason': 46, 'viewNo': 1} 2019-08-13 23:21:07,700|DEBUG|node.py|Node4 received node message from Node1: INSTANCE_CHANGE{'reason': 46, 'viewNo': 1} 2019-08-13 23:21:08,844|NOTIFICATION|keep_in_touch.py|Node4's connections changed from {'Node1', 'Node2', 'Node6', 'Node5'} to {'Node1', 'Node2', 'Node6', 'Node5', 'Node3'} 2019-08-13 23:29:14,912|NOTIFICATION|keep_in_touch.py|Node4's connections changed from {'Node1', 'Node2', 'Node6', 'Node5', 'Node3'} to {'Node2', 'Node6', 'Node5', 'Node3'} 2019-08-13 23:29:15,219|NOTIFICATION|keep_in_touch.py|Node4's connections changed from {'Node2', 'Node6', 'Node5', 'Node3'} to {'Node6', 'Node5', 'Node3'} 2019-08-13 23:29:15,487|NOTIFICATION|keep_in_touch.py|Node4's connections changed from {'Node6', 'Node5', 'Node3'} to {'Node6', 'Node5'} {code}  Node5: {code} 2019-08-13 23:20:54,983|NOTIFICATION|keep_in_touch.py|Node5's connections changed from set() to {'Node2'} 2019-08-13 23:20:55,051|NOTIFICATION|keep_in_touch.py|Node5's connections changed from {'Node2'} to {'Node3', 'Node1', 'Node2'} 2019-08-13 23:20:55,093|NOTIFICATION|keep_in_touch.py|Node5's connections changed from {'Node3', 'Node1', 'Node2'} to {'Node4', 'Node3', 'Node1', 'Node2'} 2019-08-13 23:20:55,370|NOTIFICATION|keep_in_touch.py|Node5's connections changed from {'Node4', 'Node3', 'Node1', 'Node2'} to {'Node4', 'Node3', 'Node1', 'Node2', 'Node6'} 2019-08-13 23:20:55,667|NOTIFICATION|keep_in_touch.py|Node5's connections changed from {'Node4', 'Node3', 'Node1', 'Node2', 'Node6'} to {'Node3', 'Node2', 'Node4', 'Node6', 'Node7', 'Node1'} 2019-08-13 23:20:59,678|DEBUG|node.py|Node5 received node message from Node2: INSTANCE_CHANGE{'reason': 46, 'viewNo': 1} 2019-08-13 23:20:59,872|NOTIFICATION|keep_in_touch.py|Node5's connections changed from {'Node3', 'Node2', 'Node4', 'Node6', 'Node7', 'Node1'} to {'Node4', 'Node3', 'Node1', 'Node2', 'Node6'} 2019-08-13 23:20:59,897|DEBUG|node.py|Node5 received node message from Node4: INSTANCE_CHANGE{'reason': 46, 'viewNo': 1} 2019-08-13 23:21:07,690|DEBUG|node.py|Node5 received node message from Node1: INSTANCE_CHANGE{'reason': 46, 'viewNo': 1} 2019-08-13 23:29:14,908|NOTIFICATION|keep_in_touch.py|Node5's connections changed from {'Node4', 'Node3', 'Node1', 'Node2', 'Node6'} to {'Node4', 'Node3', 'Node2', 'Node6'} 2019-08-13 23:29:15,215|NOTIFICATION|keep_in_touch.py|Node5's connections changed from {'Node4', 'Node3', 'Node2', 'Node6'} to {'Node4', 'Node3', 'Node6'} 2019-08-13 23:29:15,485|NOTIFICATION|keep_in_touch.py|Node5's connections changed from {'Node4', 'Node3', 'Node6'} to {'Node4', 'Node6'} 2019-08-13 23:29:15,736|NOTIFICATION|keep_in_touch.py|Node5's connections changed from {'Node4', 'Node6'} to {'Node6'} {code}  Node6: {code} 2019-08-13 23:20:55,246|NOTIFICATION|keep_in_touch.py|Node6's connections changed from set() to {'Node4'} 2019-08-13 23:20:55,568|NOTIFICATION|keep_in_touch.py|Node6's connections changed from {'Node4'} to {'Node5', 'Node4'} 2019-08-13 23:20:55,611|NOTIFICATION|keep_in_touch.py|Node6's connections changed from {'Node5', 'Node4'} to {'Node5', 'Node4', 'Node1', 'Node3', 'Node2'} 2019-08-13 23:20:55,642|NOTIFICATION|keep_in_touch.py|Node6's connections changed from {'Node5', 'Node4', 'Node1', 'Node3', 'Node2'} to {'Node4', 'Node7', 'Node1', 'Node5', 'Node2', 'Node3'} 2019-08-13 23:20:59,862|DEBUG|node.py|Node6 received node message from Node2: INSTANCE_CHANGE{'viewNo': 1, 'reason': 46} 2019-08-13 23:20:59,888|DEBUG|node.py|Node6 received node message from Node5: INSTANCE_CHANGE{'viewNo': 1, 'reason': 46} 2019-08-13 23:20:59,888|DEBUG|node.py|Node6 received node message from Node4: INSTANCE_CHANGE{'viewNo': 1, 'reason': 46} 2019-08-13 23:20:59,925|DEBUG|node.py|Node6 received node message from Node7: INSTANCE_CHANGE{'viewNo': 1, 'reason': 46} 2019-08-13 23:21:07,710|DEBUG|node.py|Node6 received node message from Node1: INSTANCE_CHANGE{'viewNo': 1, 'reason': 46} 2019-08-13 23:21:09,054|DEBUG|node.py|Node6 received node message from Node2: INSTANCE_CHANGE{'viewNo': 1, 'reason': 46} 2019-08-13 23:21:09,703|NOTIFICATION|keep_in_touch.py|Node6's connections changed from {'Node4', 'Node7', 'Node1', 'Node5', 'Node2', 'Node3'} to {'Node5', 'Node4', 'Node1', 'Node3', 'Node2'} 2019-08-13 23:29:14,920|NOTIFICATION|keep_in_touch.py|Node6's connections changed from {'Node5', 'Node4', 'Node1', 'Node3', 'Node2'} to {'Node5', 'Node4', 'Node3', 'Node2'} 2019-08-13 23:29:15,212|NOTIFICATION|keep_in_touch.py|Node6's connections changed from {'Node5', 'Node4', 'Node3', 'Node2'} to {'Node5', 'Node4', 'Node3'} 2019-08-13 23:29:15,490|NOTIFICATION|keep_in_touch.py|Node6's connections changed from {'Node5', 'Node4', 'Node3'} to {'Node5', 'Node4'} 2019-08-13 23:29:15,741|NOTIFICATION|keep_in_touch.py|Node6's connections changed from {'Node5', 'Node4'} to {'Node5'} 2019-08-13 23:29:16,027|NOTIFICATION|keep_in_touch.py|Node6's connections changed from {'Node5'} to set() {code}  Node7: {code} 2019-08-13 23:20:55,550|NOTIFICATION|keep_in_touch.py|Node7's connections changed from set() to {'Node2', 'Node3'} 2019-08-13 23:20:55,590|NOTIFICATION|keep_in_touch.py|Node7's connections changed from {'Node2', 'Node3'} to {'Node2', 'Node3', 'Node4', 'Node1'} 2019-08-13 23:20:55,670|NOTIFICATION|keep_in_touch.py|Node7's connections changed from {'Node2', 'Node3', 'Node4', 'Node1'} to {'Node2', 'Node3', 'Node4', 'Node6', 'Node1'} 2019-08-13 23:20:55,686|NOTIFICATION|keep_in_touch.py|Node7's connections changed from {'Node2', 'Node3', 'Node4', 'Node6', 'Node1'} to {'Node4', 'Node3', 'Node5', 'Node6', 'Node2', 'Node1'} 2019-08-13 23:29:14,918|NOTIFICATION|keep_in_touch.py|Node7's connections changed from {'Node4', 'Node3', 'Node5', 'Node6', 'Node2', 'Node1'} to {'Node2', 'Node5', 'Node3', 'Node4', 'Node6'} 2019-08-13 23:29:15,212|NOTIFICATION|keep_in_touch.py|Node7's connections changed from {'Node2', 'Node5', 'Node3', 'Node4', 'Node6'} to {'Node5', 'Node3', 'Node4', 'Node6'} 2019-08-13 23:29:15,488|NOTIFICATION|keep_in_touch.py|Node7's connections changed from {'Node5', 'Node3', 'Node4', 'Node6'} to {'Node6', 'Node4', 'Node5'} 2019-08-13 23:29:15,736|NOTIFICATION|keep_in_touch.py|Node7's connections changed from {'Node6', 'Node4', 'Node5'} to {'Node6', 'Node5'} 2019-08-13 23:29:16,027|NOTIFICATION|keep_in_touch.py|Node7's connections changed from {'Node6', 'Node5'} to {'Node6'} 2019-08-13 23:29:16,269|NOTIFICATION|keep_in_touch.py|Node7's connections changed from {'Node6'} to set() {code}      ></body> </Action>
<Action id="62932" issue="41786" author="ashcherbakov" type="comment" body="Will be fixed in the scope of INDY-2183" created="2019-08-15 10:32:06.0" updateauthor="ashcherbakov" updated="2019-08-15 10:32:06.0"/>
