<Issue id="31338" key="INDY-1427" number="1427" project="10303" reporter="sergey.khoroshavin" assignee="vladimirwork" creator="sergey.khoroshavin" type="10004" summary="Node crashes on _remove_stashed_checkpoints" priority="3" resolution="10000" status="10001" created="2018-06-25 09:54:43.0" updated="2019-03-29 20:33:59.0" resolutiondate="2019-03-29 20:33:59.0" votes="0" watches="3" workflowId="31352"> <description><! CDATA During load tests there were several cases of node crash: {code} File "/usr/local/lib/python3.5/dist-packages/plenum/server/node.py", line 1880, in allLedgersCaughtUp replica.caught_up_till_3pc(last_caught_up_3PC) File "/usr/local/lib/python3.5/dist-packages/plenum/server/replica.py", line 2497, in caught_up_till_3pc self._remove_stashed_checkpoints(till_3pc_key=last_caught_up_3PC) File "/usr/local/lib/python3.5/dist-packages/plenum/server/replica.py", line 2586, in _remove_stashed_checkpoints del self.stashedRecvdCheckpoints self.viewNo  (s, e)  KeyError: 28 {code}  This bug was quick  patched|https://github.com/hyperledger/indy-plenum/pull/768/commits/56e0995fdd431673c258656680b28086034d0601 , but it seems that original code had typos, so further analysis is recommended, probably  ~spivachuk  can help here.   ></description> </Issue>
