<Issue id="39429" key="INDY-2064" number="2064" project="10303" reporter="vladimirwork" creator="vladimirwork" type="10004" summary="Issues with catch up and ordering under the load" priority="3" resolution="10300" status="10001" created="2019-04-22 11:47:50.0" updated="2019-05-21 13:58:12.0" resolutiondate="2019-05-08 15:03:52.0" votes="0" watches="3" workflowId="52308"> <description><! CDATA There were 2 issues found during INDY-1863 testing:  Case 1: Build Info: indy-node 1.7.0.dev896  Steps to Reproduce: 1. Run production load test with `Max3PCBatchesInFlight = 4` for about 1 day. 2. Stop the load to try to catch up stalled nodes not under the load. 3. Run low rate load test for a half an hour to try to catch up stalled nodes by ordering batches.  Actual Results: At least 3 nodes stalled by ViewNo (0 against 8 at the rest ones) and by all ledgers. They don't catch up and order at steps 2 and 3 too.  Logs and metrics: ev@evernymr33:logs/INDY-1863_19_04_2019_case_1_logs.tar.gz ev@evernymr33:logs/INDY-1863_19_04_2019_case_1_metrics.tar.gz  Case 2: indy-node 1.7.0.dev896  Steps to Reproduce: 1. Run production load test with `Max3PCBatchesInFlight = 4` and forced VCs for 8+ hours. 2. Stop the load to try to catch up stalled nodes not under the load.  Actual Results: Pool has stopped writing due to long several sequential VCs. Nodes have ViewNo from 0 to 30. Pool has written only 41k txns into domain and 99k txns into sovtoken ledger. Also there are some stacktraces in logs and journalctl (see more info in the attachments).  Logs and metrics: ev@evernymr33:logs/INDY-1863_22_04_2019_case_2_logs.tar.gz ev@evernymr33:logs/INDY-1863_22_04_2019_case_2_metrics.tar.gz  ></description> </Issue>
