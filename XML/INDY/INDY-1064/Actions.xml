<Action id="38445" issue="26215" author="vladimirwork" type="comment" created="2018-01-11 15:24:45.0" updateauthor="vladimirwork" updated="2018-01-11 15:59:35.0"> <body><! CDATA There is an error on each node of the pool if *master branch* pool is built with docker (but stable branch pool is built successfully):  Step 9/13 : RUN init_indy_node $nodename $nport $cport ---> Running in 7e03ae70d850 Node-stack name is Node4 Client-stack name is Node4C Traceback (most recent call last): File "/usr/local/bin/init_indy_keys", line 31, in <module> os.makedirs(config_helper.keys_dir, exist_ok=True) File "/usr/local/lib/python3.5/dist-packages/indy_common/config_helper.py", line 21, in keys_dir os.path.join(self.config.KEYS_DIR, self.config.NETWORK_NAME, 'keys')) File "/usr/lib/python3.5/posixpath.py", line 89, in join genericpath._check_arg_types('join', a, *p) File "/usr/lib/python3.5/genericpath.py", line 143, in _check_arg_types (funcname, s.__class__.__name__)) from None TypeError: join() argument must be str or bytes, not 'NoneType' The command '/bin/sh -c init_indy_node $nodename $nport $cport' returned a non-zero code: 1 Node Node4 9707 9708 created  So nodes' containers are not created. !INDY-1064.PNG|thumbnail!   ></body> </Action>
<Action id="38449" issue="26215" author="vladimirwork" type="comment" created="2018-01-11 16:05:53.0" updateauthor="vladimirwork" updated="2018-01-11 16:05:53.0"> <body><! CDATA There is an error on each node of the pool with vagrant (vagrantfile and scripts are not changed after `git pull` so this is the master branch too):  validator04: Created symlink from /etc/systemd/system/multi-user.target.wants/indy-node.service to /etc/systemd/system/indy-node.service. validator04: ● indy-node.service - Indy Node validator04:    Loaded: loaded (/etc/systemd/system/indy-node.service; enabled; vendor preset: enabled) validator04:    Active: active (running) since Thu 2018-01-11 08:41:47 MST; 123ms ago validator04:  Main PID: 14304 (python3) validator04:    CGroup: /system.slice/indy-node.service validator04:            └─14304 python3 -O /usr/local/bin/start_indy_node Node4 9707 9708 validator04: validator04: Jan 11 08:41:47 validator04 systemd 1 : Started Indy Node. validator04: Fixing Bugs validator04:  Install  section is present in indy-node target validator04: Setting Up Indy Node Number 4 validator04: Node-stack name is Node4 validator04: Client-stack name is Node4C validator04: Traceback (most recent call last): validator04:   File "/usr/local/bin/init_indy_keys", line 28, in <module> validator04:     config = getConfig() validator04:   File "/usr/local/lib/python3.5/dist-packages/indy_common/config_util.py", line 26, in getConfig validator04:     CONFIG = _getConfig(PlenumConfig, general_config_dir, user_config_dir) validator04:   File "/usr/local/lib/python3.5/dist-packages/indy_common/config_util.py", line 19, in _getConfig validator04:     user_config_dir=user_config_dir) validator04:   File "/usr/local/lib/python3.5/dist-packages/plenum/common/config_util.py", line 47, in extend_with_default_external_config validator04:     extend_with_external_config(extendee, (extendee.GENERAL_CONFIG_DIR, extendee.GENERAL_CONFIG_FILE)) validator04:   File "/usr/local/lib/python3.5/dist-packages/plenum/common/config_util.py", line 32, in extend_with_external_config validator04:     config = getInstalledConfig(*extender) validator04:   File "/usr/local/lib/python3.5/dist-packages/plenum/common/config_util.py", line 26, in getInstalledConfig validator04:     spec.loader.exec_module(config) validator04:   File "<frozen importlib._bootstrap_external>", line 661, in exec_module validator04:   File "<frozen importlib._bootstrap_external>", line 767, in get_code validator04:   File "<frozen importlib._bootstrap_external>", line 727, in source_to_code validator04:   File "<frozen importlib._bootstrap>", line 222, in _call_with_frames_removed validator04:   File "/etc/indy/indy_config.py", line 22 validator04:     NETWORK_NAME = 'sandbox'SendMonitorStats = False validator04:                                            ^ validator04: SyntaxError: invalid syntax validator04: Traceback (most recent call last): validator04:   File "/usr/local/bin/generate_indy_pool_transactions", line 15, in <module> validator04:     TestNetworkSetup.bootstrapTestNodes(getConfig(), portsStart, nodeParamsFileName, validator04:   File "/usr/local/lib/python3.5/dist-packages/indy_common/config_util.py", line 26, in getConfig validator04:     CONFIG = _getConfig(PlenumConfig, general_config_dir, user_config_dir) validator04:   File "/usr/local/lib/python3.5/dist-packages/indy_common/config_util.py", line 19, in _getConfig validator04:     user_config_dir=user_config_dir) validator04:   File "/usr/local/lib/python3.5/dist-packages/plenum/common/config_util.py", line 47, in extend_with_default_external_config validator04:     extend_with_external_config(extendee, (extendee.GENERAL_CONFIG_DIR, extendee.GENERAL_CONFIG_FILE)) validator04:   File "/usr/local/lib/python3.5/dist-packages/plenum/common/config_util.py", line 32, in extend_with_external_config validator04:     config = getInstalledConfig(*extender) validator04:   File "/usr/local/lib/python3.5/dist-packages/plenum/common/config_util.py", line 26, in getInstalledConfig validator04:     spec.loader.exec_module(config) validator04:   File "<frozen importlib._bootstrap_external>", line 661, in exec_module validator04:   File "<frozen importlib._bootstrap_external>", line 767, in get_code validator04:   File "<frozen importlib._bootstrap_external>", line 727, in source_to_code validator04:   File "<frozen importlib._bootstrap>", line 222, in _call_with_frames_removed validator04:   File "/etc/indy/indy_config.py", line 22 validator04:     NETWORK_NAME = 'sandbox'SendMonitorStats = False validator04:                                            ^ validator04: SyntaxError: invalid syntax !vagrant_setup_errors.PNG|thumbnail!   ></body> </Action>
<Action id="38630" issue="26215" author="vladimirwork" type="comment" created="2018-01-15 14:05:24.0" updateauthor="vladimirwork" updated="2018-01-15 14:05:24.0"> <body><! CDATA Build Info: indy-node 1.2.270  Steps to Validate: 1. Build pool from stable/master branch with vagrant/docker. 2. Check nodes status. 3. Check NYMs' adding/getting.  Actual Results: Pools are built successfully.  ></body> </Action>
