<Action id="42390" issue="28973" author="sergey-shilov" type="comment" created="2018-03-30 14:58:57.0" updateauthor="sergey-shilov" updated="2018-03-30 15:18:04.0"> <body><! CDATA For now our both node and client stacks always enable TCP keepalive, it solves two issues:  - unexpected IDLE connection termination by intermediate devices (as for now indy-sdk keeps connections open);  - dead peer detection.  If we just disable TCP keepalive then connections are kept infinitely (ZMQ does not mean anything here. it's all about TCP) and the server can not detect dead peers. This solution should be applied together with some other solution like proxy/firewall that detects dead peers. Moreover, current schema of indysdk-to-node connection ACCEPT IDLE CONNECTIONS: * connect * do something * do something * <idle> * ....... * disconnect  So we can not remove TCP keepalive and drop idle connections till we use current schema of indysdk-to-node sessions.  By the way, it is proven by guys from ZMQ team: ZeroMQ does not track idle connections:  https://github.com/zeromq/libzmq/issues/2877   ></body> </Action>
<Action id="43009" issue="28973" author="ashcherbakov" type="comment" body=" ~danielhardman  FYI ^" created="2018-04-16 14:08:41.0" updateauthor="ashcherbakov" updated="2018-04-16 14:08:41.0"/>
