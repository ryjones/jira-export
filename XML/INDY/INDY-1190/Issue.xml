<Issue id="27974" key="INDY-1190" number="1190" project="10303" reporter="mgbailey" creator="mgbailey" type="10004" summary="Unable to submit upgrade transaction to STN" environment="STN running 1.3.52" priority="1" resolution="10000" status="10001" created="2018-02-23 22:17:42.0" updated="2019-03-29 20:34:49.0" resolutiondate="2019-03-29 20:34:49.0" votes="0" watches="4" workflowId="27976"> <description><! CDATA While submitting an upgrade transaction to the STN (1.3.52 to 1.3.54) the following error occurred:  {code:java} indy@sandbox> send POOL_UPGRADE name=STNUpgrade20180223 version=1.3.54 sha256=e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855 action=start schedule={'UZH61eLH3JokEwjMWQoCMwB3PMD6zRBvG6NCv5yVwXz':'2018-02-23T21:50:05.555 000-00:00','2MHGDD2XpRJohQzsXu4FAANcmdypfNdpcqRbqnhkQsCq':'2018-02-23T21:50:05.555000-00:00','8NZ6tbcPN2NVvf2fVhZWqU11XModNudhbe15JSctCXab':'2018-02-23T21:50:05.555000-00:00','DNuLANU7f1QvW1esN3Sv9Eap9j14QuLiPeYzf28Nub4W':'2018-02-23T21 :50:05.555000-00:00','HCNuqUoXuK9GXGd2EULPaiMso2pJnxR6fCZpmRYbc7vM':'2018-02-23T21:50:05.555000-00:00','Dh99uW8jSNRBiRQ4JEMpGmJYvzmF35E6ibnmAAf7tbk8':'2018-02-23T21:50:05.555000-00:00','EoGRm7eRADtHJRThMCrBXMUM2FpPRML19tNxDAG8YTP8':'201 8-02-23T21:50:05.555000-00:00','2B8bkZX3SvcBq3amP7aeATsSPz82RyyCJQbEjZpLgZLh':'2018-02-23T21:50:05.555000-00:00','5fKwygs8KEGoUPGa65qz1oCm7h6Fb7HrML9r4jmZ9cic':'2018-02-23T21:50:05.555000-00:00'} timeout=15 force=True Sending pool upgrade STNUpgrade20180223 for version 1.3.54 Pool upgrade failed: client request invalid: 'services' {code} Lovesh agreed to take a look at it, and found that there is improper validation occurring as a part of posting this transaction.  On the pool ledger in the STN (as well as on the live network) there are several transactions that were required as part of the BLS key upgrade which do not have a services field.  These are valid transactions, but the are flagged as an error by the code to post the upgrade transaction.  A log and the pool ledger are attached.  ></description> </Issue>
