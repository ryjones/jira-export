<Action id="31632" issue="21091" author="ashcherbakov" type="comment" created="2017-10-05 13:29:39.0" updateauthor="ashcherbakov" updated="2017-10-05 13:29:39.0"> <body><! CDATA  ~nage   ~danielhardman   ~tharmon   ~krw910   I think we need to have a decision here when we get the next RC with state proofs  ></body> </Action>
<Action id="31640" issue="21091" author="tharmon" type="comment" body="Is there a way whereby we can add the functionality, but not enforce it in the next release?" created="2017-10-05 14:41:48.0" updateauthor="tharmon" updated="2017-10-05 14:41:48.0"/>
<Action id="31641" issue="21091" author="ashcherbakov" type="comment" body=" ~tharmon  Yes. BLS will just not be applied if we have no keys." created="2017-10-05 14:43:38.0" updateauthor="ashcherbakov" updated="2017-10-05 14:43:38.0"/>
<Action id="31983" issue="21091" author="nage" type="comment" body="We want something that looks like Option 2.  We would like a script that generates the right BLS key from the same seed used to generate the ed25519 key they are using and then submits the correct transaction.  The &quot;onboarding a node&quot; code/script (if there is one) should generate the BLS key for a new node that will follow this same pattern so that old and new nodes have keys that can be recreated from the seed in the same way (no differences between existing stewards and ones that will be onboarded after state proofs)." created="2017-10-10 21:01:30.0" updateauthor="nage" updated="2017-10-10 21:01:30.0"/>
<Action id="32502" issue="21091" author="ashcherbakov" type="comment" created="2017-10-16 10:13:09.0" updateauthor="ashcherbakov" updated="2017-10-16 10:13:09.0"> <body><! CDATA We already support using the same seed as for ed25519 for generation of BLS keys. So, nothing new is expected for new Nodes (they will use `init_indy_keys` as usual which will generate BLS keys automatically, and then send NODE txn as usual, but with BLS field specified). Existing Stewards need to run existing `init_bls_keys` script to generate just BLS keys for the same seed.  The only thing which needs to be done in this ticket is to extend `init_bls_keys` script (or add another script) for sending NODE txn with a newly generated BLS key (to update NODE txn in the Ledger)  ></body> </Action>
<Action id="32667" issue="21091" author="ashcherbakov" type="comment" created="2017-10-19 07:48:43.0" updateauthor="ashcherbakov" updated="2017-10-23 09:15:46.0"> <body><! CDATA Created a script `enable_bls` # The script generates a new BLS key from a seed (either node seed used for ed25519 keys, or a separate seed) like `ini_bls_keys` script. # The script also sends NODE txn with `blskey` specified. # So, the only thing a Steward needs to do to enable BLS for this Node, is to run this script as shown below # The script needs to be run from `indy` user # The script is delivered with deb package (as other scripts like read_ledger) # How to use a script: If BLS key needs to be created from the same seed as used for init node keys (I think it will be the default use case: {code}enable_bls --name=<node-name> --node_seed=<seed-used-for-init-node-keys> --steward_seed=<seed-used-to-create-steward-did>{code} If BLS key needs to be created using a separate seed {code}enable_bls --name=<node-name> --node_seed=<seed-used-for-init-node-keys> --steward_seed=<seed-used-to-create-steward-did> --bls_seed=<seed-for-bls-key>{code} Example for Docker pool: {code} enable_bls --name=Node1 --node_seed=000000000000000000000000000Node1 --steward_seed=000000000000000000000000Steward1 --bls_seed=rrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrr {code}  PR: https://github.com/hyperledger/indy-node/pull/405 Build: 1.1.168    ></body> </Action>
<Action id="32969" issue="21091" author="ashcherbakov" type="comment" created="2017-10-23 07:48:45.0" updateauthor="ashcherbakov" updated="2017-10-23 07:48:45.0"> <body><! CDATA ^  ~tharmon   ~krw910   ~mgbailey  There were some discussions that Stewards may not know their seeds, or rotate the keys. In this case the only Option to enable BLS is Option1 (run `init_bls_keys` manually and send NODE txn manually). if a Steward knows a seed and didn't rotate a key, then it can use `enable_bls`.  ></body> </Action>
<Action id="32987" issue="21091" author="mgbailey" type="comment" created="2017-10-23 15:11:21.0" updateauthor="mgbailey" updated="2017-10-23 15:11:21.0"> <body><! CDATA  ~ashcherbakov  All stewards should know their steward seeds.  We emphasized to them that these should be saved during the setup.  What some may not know is their node seeds, which were randomly generated by init_sovrin_node, and which they were not told to save.  What is a work around if their node seed was not saved?  ></body> </Action>
<Action id="32988" issue="21091" author="ashcherbakov" type="comment" created="2017-10-23 15:24:04.0" updateauthor="ashcherbakov" updated="2017-10-23 15:24:04.0"> <body><! CDATA  ~mgbailey   ~ozheregelya   ~krw910   ~tharmon   Ok, then I will update the script to use `node_nym` instead of `node_seed`, it should be enough. `bls_seed` parameter will be required then (a Steward may use `node_seed` value here if it's known, or provide any new seed which will be used for BLS).  ></body> </Action>
<Action id="32995" issue="21091" author="ashcherbakov" type="comment" created="2017-10-23 16:47:46.0" updateauthor="ashcherbakov" updated="2017-10-23 17:09:24.0"> <body><! CDATA PR: https://github.com/hyperledger/indy-node/pull/414 Build: 1.1.176  New command syntax will be (*must be run from indy user*!): {code} enable_bls --name=<node-name> --node_dest=<node-dest-as-in-node-txn> --steward_seed=<seed-used-to-create-steward-did> --bls_seed=<seed-for-bls-key>{code} Example for Docker pool (for Node2): {code} enable_bls --name=Node2 --node_dest=8ECVSk179mjsjKRLWiQtssMLgp6EPhWXtaYyStWPSGAb --steward_seed=000000000000000000000000Steward2 --bls_seed=rrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrr{code}  ></body> </Action>
<Action id="33003" issue="21091" author="mgbailey" type="comment" body=" ~ashcherbakov , Looks good, thanks." created="2017-10-23 18:16:43.0" updateauthor="mgbailey" updated="2017-10-23 18:16:43.0"/>
<Action id="33014" issue="21091" author="danielhardman" type="comment" body=" ~ashcherbakov  I saw that you urgently wanted feedback, but I&apos;m not sure what the question is. Your PR looked fine, and Mike&apos;s suggestions seem good to me." created="2017-10-23 20:27:09.0" updateauthor="danielhardman" updated="2017-10-23 20:27:09.0"/>
<Action id="33161" issue="21091" author="ozheregelya" type="comment" created="2017-10-25 13:59:08.0" updateauthor="ozheregelya" updated="2017-10-25 13:59:08.0"> <body><! CDATA Build Info: indy-node 1.1.178 enable_bls script was verified and it works fine.  See following document for details of state proofs testing: https://docs.google.com/spreadsheets/d/1XzJ6yK1z4em_N-ZY6IMeGxs54x-ar4uYKOYR_x5_CCo/edit#gid=0  ></body> </Action>
