<Action id="33153" issue="22717" author="spivachuk" type="comment" created="2017-10-25 09:30:55.0" updateauthor="spivachuk" updated="2017-10-25 09:30:55.0"> <body><! CDATA *Problem reason:* - There was a bug with wrong boundaries of search for a transaction in Upgrader.get_upgrade_txn method. In particular this bug resulted in the behavior described in this ticket.  *Changes:* - Fixed the bug with wrong search boundaries in Upgrader.get_upgrade_txn method. - Added a test verifying that a canceled upgrade is not rescheduled after the node has been restarted.  *Committed into:* - https://github.com/hyperledger/indy-node/pull/416 - https://github.com/hyperledger/indy-node/pull/418 - indy-node 1.2.181 master  *Risk factors:* - Nothing is expected.  *Risk:* - Low  *Covered with tests:* - {{test_node_does_not_reschedule_cancelled_upgrade_after_restart}}  ></body> </Action>
<Action id="33171" issue="22717" author="vladimirwork" type="comment" created="2017-10-25 15:54:29.0" updateauthor="vladimirwork" updated="2017-10-25 15:54:29.0"> <body><! CDATA Build Info: indy-node 1.2.181  Steps to Reproduce: 1. Install a pool. 2. Schedule an upgrade txn. 3. Cancel the txn from Step 2. 4. Shut down the primary and start it after some time (~1 minute).  Actual Results: All nodes have 2 entries in upgrade_log in this case.  ></body> </Action>
