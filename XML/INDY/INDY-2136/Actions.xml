<Action id="61612" issue="40547" author="ashcherbakov" type="comment" created="2019-07-11 11:24:28.0" updateauthor="ashcherbakov" updated="2019-07-17 13:08:17.0"> <body><! CDATA *PoA* * Step 1: Create Orderer Service. It needs to be injected into Replica ** It needs to have access to External and Internal buses ** It needs to have access to ConsensusDataProvider ** It needs to have access to WriteRequestManager ** It needs to have StashingRouter instance (see ViewChangerService) ** It needs to have 3PCMsgValidator instance *** This is a copy of ReplicaValidator where chedkpoint-related logicis removed ** _Do not have any references to Node instance!_ * Step 2: Register 3PC messages processing in External Buses and Stashing Router ** just stubs for process methods ** call 3PCMsgValidator at the beginning of each method, and return id the returned value != PROCESS (see ViewChangerService) * Step 3: Implement process methods for every 3PC message ** it can be mostly copy-paste from Repica, but without any usage of Node ** Call WriteRequestManager to apply and reject messages ** Use internal bus for communication with the Node.  ** Use external bus (network) for communication with other nodes. For now the handler for external bus can be a legacy (replica or node) code. * Step 4: integrate OrdererService into the Replica (will be done in the scope of INDY-2169) ** Bridge legacy logic to the Orderer's service buses ** Remove OrdererService-related code from Replica.  ></body> </Action>
<Action id="61967" issue="40547" author="ashcherbakov" type="comment" body="Steps 1 -3 have been done in PR https://github.com/hyperledger/indy-plenum/pull/1266" created="2019-07-19 06:43:43.0" updateauthor="ashcherbakov" updated="2019-07-19 06:43:43.0"/>
