<Issue id="20816" key="INDY-846" number="846" project="10303" reporter="mgbailey" assignee="vladimirwork" creator="mgbailey" type="10004" summary="Failed to upgrade from 1.1.33 to 1.1.35 in STN" environment="STN, running 1.1.33" priority="1" resolution="10200" status="10001" created="2017-09-13 20:15:00.0" updated="2019-03-29 20:33:51.0" resolutiondate="2019-03-29 20:33:51.0" votes="0" watches="2" workflowId="20821"> <description><! CDATA When attempting to upgrade the STN using a ledger transaction, all nodes in the pool failed to upgrade. The sovrin-node processes remained in an inactive state., and the packages  It appears that some required files and directories were not found.  History: The nodes in this pool had been at version 1.0.28.  When upgrading previously to 1.1.33, one node failed to upgrade properly, and then had further issues joining the pool after a manual upgrade.  Eventually, we fell back to bringing all nodes in the pool down, restoring to a fresh ledger by deleting the .sovrin/data, .sovrin/plugins, and .sovrin/__pycache__ directories, and bringing the pool back up.  After doing this, consensus was achieved with all nodes.  The logs in all nodes look similar.  The sovrin and syslog logs for one node are attached. I will attempt to determine steps to reproduce this in an internal test pool.  The current package configuration is:  {{ubuntu@korea:~$ dpkg -l | grep sovrin}} {{ii sovrin 1.0.3 amd64 Sovrin node}} {{ubuntu@korea:~$ dpkg -l | grep indy}} {{ii indy-anoncreds 1.0.10 amd64 Anonymous credentials}} {{ii indy-node 1.1.33 amd64 Sovrin node}} {{ii indy-plenum 1.1.24 amd64 Plenum Byzantine Fault Tolerant Protocol}}  ></description> </Issue>
