<Action id="63677" issue="41365" author="toktar" type="comment" created="2019-09-11 14:55:26.0" updateauthor="toktar" updated="2019-09-12 10:27:30.0"> <body><! CDATA *PoA*:  If a node received a NewView message but has not enough ViewChange messages then request a ViewChange message from nodes which didn't send it. * Add logic of ViewChange messages requesting to ViewChangeService. * Add handler to consensus/message_handlers  * Rename MessageReq3pcService to MessageReqService * If a node is future primary then answer MessageRep(ViewChange) If a node isn't future prinary then answer MessageRep(ViewChangeAsk) * Check that all storages work correctly.  * Add tests with delaying ViewChange messages **   ></body> </Action>
<Action id="63967" issue="41365" author="toktar" type="comment" created="2019-09-23 13:53:02.0" updateauthor="toktar" updated="2019-09-23 13:53:02.0"> <body><! CDATA *Problem reason:* - We need to request missing ViewChange messages if a node lost it. Without ViewChange messages the node can't finish a view change.  *Changes:* - add ViewChangeHandler - integrate ViewChange requesting - add tests  *PR:* *  https://github.com/hyperledger/indy-plenum/pull/1342  *  https://github.com/hyperledger/indy-plenum/pull/1335   *Version:* * indy-plenum 1.9.2.dev906 -master  *Risk factors:* - Problems with new ViewChangeService  *Risk:* - Low  *Tests:* * test_process_view_change_started * test_invalid_keys *  test_sim_view_change_with_delays.py|https://github.com/hyperledger/indy-plenum/pull/1335/files#diff-2e6b5d1ef931eddfebb1905e1cece4e7   *  test_message_req_view_change.py|https://github.com/hyperledger/indy-plenum/pull/1335/files#diff-a85c78d89ba6280f36b968a594547667    *Recommendations for QA:* * Will be tested in scope of the task INDY-2223  ></body> </Action>
