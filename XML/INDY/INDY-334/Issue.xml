<Issue id="18687" key="INDY-334" number="334" project="10303" reporter="krw910" assignee="danielhardman" creator="krw910" type="10004" summary="Unable to add a NYM after node count came back up after being below consensus" priority="1" resolution="10000" status="10001" created="2017-06-26 20:20:12.0" updated="2019-03-29 20:32:41.0" resolutiondate="2019-03-29 20:32:41.0" votes="0" watches="5" timeoriginalestimate="0" timeestimate="0" workflowId="18687"> <description><! CDATA I have a pool of 7 nodes so I can lose 2 nodes without any issues. Once I lose 3 nodes the pool can no longer reach consensus. Once I had 5 active nodes again the pool still could not reach consensus.  *Setup* Have a 7 node pool  *Steps* # Send a few transactions on a 7 node pool to make sure everything is running. # Stop the sovrin-node service on node 7 (6 out of 7 active) # Send a transaction to make sure the pool can still reach consensus (It should work) # Stop the sovrin-node service on node 6 (5 out of 7 active) # Send a transaction to make sure the pool can still reach consensus (It should work) # Stop the sovrin-node service on node 5 (4 out of 7 active) # Send a transaction to make sure the pool can still reach consensus (It should not work)  *At this point the pool should not be able to reach consensus* Start the sovrin-node service on node 5 (5 out of 7 active) Now I have 5 out of 7 active nodes which is enough for consensus as we can see above. Send a transaction to make sure the pool can still reach consensus (It should work)  *{color:#d04437}Issue{color}* Once I returned to have enough nodes to reach consensus the pool was still unable to reach consensus. Send a transaction to make sure the pool can still reach consensus (It should work)  {color:#205081}I then restarted both nodes 6 and 7 so I had all nodes active in the pool again. {color} Send a transaction to make sure the pool can still reach consensus (It should work) The pool still could not reach consensus.  {color:#205081}I disconnected the CLI and reconnected to the pool.{color} Send a transaction to make sure the pool can still reach consensus (It should work) The pool still could not reach consensus.  {color:#205081}Workaround{color} In the end I had to stop all nodes in the pool and start them up one at a time and then the pool was functional again.     ></description> </Issue>
