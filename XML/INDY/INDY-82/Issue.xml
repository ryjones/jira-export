<Issue id="17184" key="INDY-82" number="82" project="10303" reporter="ashcherbakov" assignee="danielhardman" creator="ashcherbakov" type="10004" summary=" shakedown  Our tests doesn&apos;t actually test batching correctly" priority="1" resolution="10000" status="10001" created="2017-05-26 17:01:57.0" updated="2019-03-29 20:32:22.0" resolutiondate="2019-03-29 20:32:22.0" votes="0" watches="2" workflowId="17188"> <description><! CDATA It turned out that our current tests override `Max3PCBatchSize` and `DELTA`. It means that they don't actually test batching at all, and use other Monitor configuration than production nodes! This needs to be fixed ASAP.  https://github.com/evernym/plenum/blob/master/plenum/test/conftest.py {code} overriddenConfigValues = { "DefaultPluginPath": { PLUGIN_BASE_DIR_PATH: testPluginBaseDirPath, PLUGIN_TYPE_STATS_CONSUMER: "stats_consumer" }, 'EnsureLedgerDurability': False, 'Max3PCBatchSize': 1, 'DELTA': .8 } {code}  There is also additional overriding in https://github.com/evernym/plenum/blob/master/plenum/test/batching_3pc/conftest.py {code} @pytest.fixture(scope="module") def tconf(tconf, request): oldSize = tconf.Max3PCBatchSize oldTIme = tconf.Max3PCBatchWait tconf.Max3PCBatchSize = 3 tconf.Max3PCBatchWait = 5 {code}   ></description> </Issue>
