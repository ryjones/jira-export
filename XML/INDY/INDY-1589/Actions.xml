<Action id="49602" issue="32811" author="toktar" type="comment" body="PR: https://github.com/hyperledger/indy-plenum/pull/901" created="2018-08-30 10:56:39.0" updateauthor="toktar" updated="2018-08-30 10:56:39.0"/>
<Action id="49798" issue="32811" author="toktar" type="comment" created="2018-09-04 11:04:16.0" updateauthor="toktar" updated="2018-09-04 11:04:16.0"> <body><! CDATA Problem reason: - When validating the bls signature, the key that the message was signed should be checked for proof of possession  Changes: - Added this check. If NODE transaction ordered a new bls key without proof of possession and parameter VALIDATE_BLS_SIGNATURE_WITHOUT_KEY_PROOF = False, the key will not be found and validation will not be pass.  PR: -  https://github.com/hyperledger/indy-node/pull/931  -  https://github.com/hyperledger/indy-plenum/pull/901   Version: * indy-node 1.6.593 -master * indy-plenum 1.6.535 -master  Risk factors: - Problem with transactions ordering.  Risk: - Low  Covered with tests: *  test_sign_validation_for_key_proof_exist.py|https://github.com/hyperledger/indy-plenum/pull/901/files#diff-fc85142149f81d208e2e1f8a4ee7fc7d   Recommendations for QA: * Send transaction with bls key and without proof of possession on the old version (before all tickets with bls proofs) * Upgrade pool for the last version * Send transaction and check it was successfully finish * Set in configs VALIDATE_BLS_SIGNATURE_WITHOUT_KEY_PROOF = False * Send transaction and check it wasn't successfully finish * Back to VALIDATE_BLS_SIGNATURE_WITHOUT_KEY_PROOF = True and check again successful ordering.  ></body> </Action>
<Action id="50260" issue="32811" author="vladimirwork" type="comment" created="2018-09-11 13:55:29.0" updateauthor="vladimirwork" updated="2018-09-11 13:55:29.0"> <body><! CDATA Build Info: indy-node 1.6.601  Steps to Validate: 1. Send transaction with bls key and without proof of possession on the 1.5.550 version (before all tickets with bls proofs). 2. Upgrade pool to the 1.6.601 version. 3. Send transaction and check it was successfully finish. 4. Set in configs VALIDATE_BLS_SIGNATURE_WITHOUT_KEY_PROOF = False. 5. Send transaction and check it wasn't successfully finish. 6. Back to VALIDATE_BLS_SIGNATURE_WITHOUT_KEY_PROOF = True. 7. Send transaction and check it was successfully finish.  Actual Results: We get success at Steps 3,7 (so we handle txns without proofs of possession by default and with True in config) and get timeout at Step 5 (so we don't handle txns without proofs of possession with False in config).  ></body> </Action>
