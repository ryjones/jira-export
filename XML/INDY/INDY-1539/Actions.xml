<Action id="48170" issue="32412" author="vladimirwork" type="comment" body="All logs are in /home/ev/logs/1539/." created="2018-07-31 10:10:12.0" updateauthor="vladimirwork" updated="2018-07-31 10:10:12.0"/>
<Action id="48233" issue="32412" author="toktar" type="comment" created="2018-08-01 08:48:04.0" updateauthor="toktar" updated="2018-08-01 08:48:04.0"> <body><! CDATA View change started after 326349 transactions (0, 703). It had happened one by one. Mostly with reason "26" (primary disconnected), in the secondly time with reasons * "21" (pre-prepare has incorrect state root hash) * "28" (view change could not complete on time) * "25" (master degraded)  Incorrect state root hash was in the situation after view change because nodes had different transactions count (326349 and 326359). Primary had the lowest and had other root hash.  ></body> </Action>
<Action id="48249" issue="32412" author="toktar" type="comment" created="2018-08-01 13:01:35.0" updateauthor="toktar" updated="2018-08-06 09:28:48.0"> <body><! CDATA Pre-prepare has incorrect state root hash happened because in joint of two checkpoints was cleaning a queue with preprepares. It was a reason for unordered transactions in correct view_no. As a result, _f_ nodes had other root hash and lost consensus.  Test plan: # Send request with write transaction. # Delay commits for this transaction in moment will have prepare sertificate . # Start checkpoint garbage cleaning and delay processing of checkpoints. # Start view change. # Cancel checkpoints delays. # Check cleaning was finish. # Cancel commits delays. # Check transaction ordered.. # Check view change done  Fix in PR: https://github.com/hyperledger/indy-plenum/pull/854  ></body> </Action>
