<Issue id="17408" key="INDY-144" number="144" project="10303" reporter="dsurnin" assignee="dsurnin" creator="dsurnin" type="10004" summary="load_test.py fails with big number of client with OSError:  Errno 24  Too many open files: &apos;/home/tmh/.sovrin/7wj47KRRaNjkoZu6fWg95X8hSGXAQfwVZe4AJgmcCKNJ/public_keys/7wj47KRRaNjkoZu6fWg95X8hSGXAQfwVZe4AJgmcCKNJ.key&apos;" priority="3" resolution="10200" status="10001" created="2017-06-02 14:48:20.0" updated="2019-03-29 20:33:49.0" resolutiondate="2019-03-29 20:33:49.0" votes="0" watches="3" workflowId="17412"> <description><! CDATA install client and node in one machine;  run 4 nodes;  run load_test.py with big number of client: -1 for all or number >= 100 {code:java} load_test.py -c -1 .... 2017-06-02 17:44:52,294 | INFO | stacks.py (74) | start | EGFMdqDYLTE9BSBC5toNr58HG6YgvSXJYYBag2bPQnsq listening for other nodes at 0.0.0.0:17403 2017-06-02 17:44:52,294 | INFO | zstack.py (725) | connect | EGFMdqDYLTE9BSBC5toNr58HG6YgvSXJYYBag2bPQnsq looking for Node3C at 127.0.0.1:9706 2017-06-02 17:44:52,294 | INFO | zstack.py (725) | connect | EGFMdqDYLTE9BSBC5toNr58HG6YgvSXJYYBag2bPQnsq looking for Node1C at 127.0.0.1:9702 2017-06-02 17:44:52,295 | INFO | zstack.py (725) | connect | EGFMdqDYLTE9BSBC5toNr58HG6YgvSXJYYBag2bPQnsq looking for Node2C at 127.0.0.1:9704 2017-06-02 17:44:52,295 | INFO | zstack.py (725) | connect | EGFMdqDYLTE9BSBC5toNr58HG6YgvSXJYYBag2bPQnsq looking for Node4C at 127.0.0.1:9708 2017-06-02 17:44:52,295 | INFO | zstack.py (451) | start | 7wj47KRRaNjkoZu6fWg95X8hSGXAQfwVZe4AJgmcCKNJ starting with restricted as False and reSetupAuth as True 2017-06-02 17:44:52,362 | INFO | looper.py (267) | shutdown | Looper shutting down now... Traceback (most recent call last): File "/usr/local/lib/python3.5/dist-packages/stp_zmq/zstack.py", line 892, in loadPubKeyFromDisk File "/usr/local/lib/python3.5/dist-packages/zmq/auth/certs.py", line 93, in load_certificate OSError:  Errno 24  Too many open files: '/home/tmh/.sovrin/7wj47KRRaNjkoZu6fWg95X8hSGXAQfwVZe4AJgmcCKNJ/public_keys/7wj47KRRaNjkoZu6fWg95X8hSGXAQfwVZe4AJgmcCKNJ.key'  The above exception was the direct cause of the following exception:  Traceback (most recent call last): File "/usr/local/lib/python3.5/dist-packages/stp_zmq/zstack.py", line 921, in getPublicKey File "/usr/local/lib/python3.5/dist-packages/stp_zmq/zstack.py", line 895, in loadPubKeyFromDisk KeyError  During handling of the above exception, another exception occurred:  Traceback (most recent call last): File "./load_test.py", line 383, in main File "/usr/local/lib/python3.5/dist-packages/stp_core/loop/looper.py", line 161, in add File "/usr/local/lib/python3.5/dist-packages/sovrin_client/client/client.py", line 183, in start File "/usr/local/lib/python3.5/dist-packages/plenum/client/client.py", line 224, in start File "/usr/local/lib/python3.5/dist-packages/plenum/common/stacks.py", line 68, in start File "/usr/local/lib/python3.5/dist-packages/stp_zmq/zstack.py", line 453, in start File "/usr/local/lib/python3.5/dist-packages/stp_zmq/zstack.py", line 477, in open File "/usr/local/lib/python3.5/dist-packages/stp_zmq/zstack.py", line 909, in publicKey File "/usr/local/lib/python3.5/dist-packages/stp_zmq/zstack.py", line 923, in getPublicKey stp_core.network.exceptions.PublicKeyNotFoundOnDisk: 7wj47KRRaNjkoZu6fWg95X8hSGXAQfwVZe4AJgmcCKNJ could not get 7wj47KRRaNjkoZu6fWg95X8hSGXAQfwVZe4AJgmcCKNJ's public key from disk. Make sure the keys are initialized for this remote or provided explicitly.{code}          ></description> </Issue>
