<Issue id="41338" key="INDY-2175" number="2175" project="10303" reporter="mgbailey" creator="mgbailey" type="10004" summary="Responses to client validator info requests very slow on a StagingNet node" priority="3" resolution="10000" status="10001" created="2019-07-19 22:31:34.0" updated="2019-08-16 16:10:33.0" resolutiondate="2019-08-14 23:10:21.0" votes="0" watches="2" workflowId="54343"> <description><! CDATA A node on the Sovrin StagingNet, sovrin.sicpa.com, responds to validator-info commands from clients (indy-cli or other script) in about 34 seconds – much slower than all other nodes. Running from the local command line, the steward reports that it returns results in less than 2 seconds, which is normal. The steward has provided some other diagnostics as well, and there are no obvious problems: {code:java} skrieg@snextsovrin01v:~$ top -n 1 top - 10:30:45 up 16 days,  4:27,  1 user,  load average: 0.19, 0.27, 0.31 Tasks: 198 total,   2 running, 196 sleeping,   0 stopped,   0 zombie %Cpu(s): 16.1 us,  0.7 sy,  0.0 ni, 83.1 id,  0.1 wa,  0.0 hi,  0.0 si,  0.0 st KiB Mem : 24690072 total, 22262812 free,   756816 used,  1670444 buff/cache KiB Swap:  1999868 total,  1999868 free,        0 used. 23515916 avail Mem     PID USER      PR  NI    VIRT    RES    SHR S  %CPU %MEM     TIME+ COMMAND 16267 indy      20   0 1869952 606508  17904 R  25.0  2.5 345:19.09 python3     1 root      20   0  185396   6132   4188 S   0.0  0.0   0:25.88 systemd    2 root      20   0       0      0      0 S   0.0  0.0   0:00.13 kthreadd     3 root      20   0       0      0      0 S   0.0  0.0   0:02.52 ksoftirqd/0     5 root       0 -20       0      0      0 S   0.0  0.0   0:00.00 kworker/0:0H     7 root      20   0       0      0      0 S   0.0  0.0   1:07.01 rcu_sched     8 root      20   0       0      0      0 S   0.0  0.0   0:00.00 rcu_bh     9 root      rt   0       0      0      0 S   0.0  0.0   0:00.37 migration/0    10 root      rt   0       0      0      0 S   0.0  0.0   0:02.62 watchdog/0    11 root      rt   0       0      0      0 S   0.0  0.0   0:02.79 watchdog/1    12 root      rt   0       0      0      0 S   0.0  0.0   0:00.64 migration/1    13 root      20   0       0      0      0 S   0.0  0.0   0:10.89 ksoftirqd/1    15 root       0 -20       0      0      0 S   0.0  0.0   0:00.00 kworker/1:0H    16 root      20   0       0      0      0 S   0.0  0.0   0:00.00 kdevtmpfs    17 root       0 -20       0      0      0 S   0.0  0.0   0:00.00 netns    18 root       0 -20       0      0      0 S   0.0  0.0   0:00.00 perf    19 root      20   0       0      0      0 S   0.0  0.0   0:00.44 khungtaskd    20 root       0 -20       0      0      0 S   0.0  0.0   0:00.75 writeback    21 root      25   5       0      0      0 S   0.0  0.0   0:00.00 ksmd    22 root      39  19       0      0      0 S   0.0  0.0   0:00.00 khugepaged    23 root       0 -20       0      0      0 S   0.0  0.0   0:00.00 crypto    24 root       0 -20       0      0      0 S   0.0  0.0   0:00.00 kintegrityd    25 root       0 -20       0      0      0 S   0.0  0.0   0:00.00 bioset    26 root       0 -20       0      0      0 S   0.0  0.0   0:00.00 kblockd    27 root       0 -20       0      0      0 S   0.0  0.0   0:00.00 ata_sff    28 root       0 -20       0      0      0 S   0.0  0.0   0:00.00 md    29 root       0 -20       0      0      0 S   0.0  0.0   0:00.00 devfreq_wq    34 root      20   0       0      0      0 S   0.0  0.0   0:00.00 kswapd0    35 root       0 -20       0      0      0 S   0.0  0.0   0:00.00 vmstat    36 root      20   0       0      0      0 S   0.0  0.0   0:00.00 fsnotify_mark    37 root      20   0       0      0      0 S   0.0  0.0   0:00.00 ecryptfs-kthrea    53 root       0 -20       0      0      0 S   0.0  0.0   0:00.00 kthrotld    54 root       0 -20       0      0      0 S   0.0  0.0   0:00.00 acpi_thermal_pm    55 root       0 -20       0      0      0 S   0.0  0.0   0:00.00 bioset    56 root       0 -20       0      0      0 S   0.0  0.0   0:00.00 bioset    57 root       0 -20       0      0      0 S   0.0  0.0   0:00.00 bioset skrieg@snextsovrin01v:~$ free -m               total        used        free      shared  buff/cache   available Mem:          24111         738       21741          56        1631       22965 Swap:          1952           0        1952 skrieg@snextsovrin01v:~$ sudo lsof -p 16267 -n | wc -l 438 {code} Please examine the logs and see if you have suggestions to explain this behavior. The biggest concern is whether this slow response behavior extends to other client requests. If it is only slow for validator info requests, we can live with that. But if this node also takes 34 seconds to respond to other client queries, that is a problem.  ></description> </Issue>
