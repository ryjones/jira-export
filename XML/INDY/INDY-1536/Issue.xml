<Issue id="32381" key="INDY-1536" number="1536" project="10303" reporter="mgbailey" creator="mgbailey" type="10004" summary="After restarting 7 of 12 nodes, the STN is not coming to consensus" environment="STN, running indy-node 1.3.62" priority="3" resolution="10000" status="10001" created="2018-07-29 00:24:31.0" updated="2019-03-29 20:32:36.0" resolutiondate="2019-03-29 20:32:36.0" votes="0" watches="1" workflowId="43586"> <description><! CDATA In the course of a test, 7 of the 12 nodes on the current STN had their indy-node service stopped for an hour.  After the service was restarted, an attempt was made to post a transaction to the network, which was unsuccessful.  The DID that I attempted to post was 7SoiEBoPkwDexrbb7eYFX6. Inspecting the logs of the 7 nodes that I have access to, I see that they all agree on the primary (australia).  I have asked the stewards of the remaining 5 nodes to restart their indy-node service as well. Meanwhile, information on the reason that we do not have consensus is needed.  Logs of the 7 nodes are attached. {code:java} mikebailey@rstn-seo-pe001:~$ sudo validator-info -v  sudo  password for mikebailey: 2018-07-29 00:08:27,007 | DEBUG    | validator-info       ( 662) | main | Cmd line arguments: Namespace(basedir='/var/lib/indy/sandbox', json=False, log='/var/log/indy/validator-info.log', stdlog=False, verbose=True) 2018-07-29 00:08:27,008 | INFO     | validator-info       ( 699) | main | Reading file /var/lib/indy/sandbox/korea_info.json ... 2018-07-29 00:08:27,008 | DEBUG    | validator-info       ( 548) | get_stats_from_file | Data {'timestamp': 1532822889, 'bindings': {'client': {'protocol': 'tcp', 'port': 9702}, 'node': {'protocol': 'tcp', 'port': 9701}}, 'alias': 'korea', 'verkey': '5YZXWNmgadNSedFcEaFjbtNmGDzfe7WMvHh9mKFDawdnnG7h6oAgLkj', 'response-version': '0.0.1', 'metrics': {'average-per-second': {'read-transactions': 0.0, 'write-transactions': 0.0}, 'transaction-count': {'pool': 41, 'config': 522, 'ledger': 2522}, 'uptime': 1680}, 'did': 'HCNuqUoXuK9GXGd2EULPaiMso2pJnxR6fCZpmRYbc7vM', 'pool': {'total-count': 12, 'unreachable': {'list':   , 'count': 0}, 'reachable': {'list':  'RFCU', 'VeridiumIDC', 'amihan-sovrin', 'australia', 'brazil', 'canada', 'england', 'findentity', 'korea', 'singapore', 'trustscience-validator01', 'virginia' , 'count': 12}}, 'software': {'sovrin': '1.1.9', 'indy-node': '1.3.62'}} 2018-07-29 00:08:27,012 | DEBUG    | validator-info       ( 184) | shell_cmd | command 'ss -ln4 | sort -u | grep ':9701\s'': stdout 'b'tcp    LISTEN     0      100       *:9701                  *:*                  \n'' 2018-07-29 00:08:27,013 | INFO     | validator-info       ( 258) | __init__ | Found the following bindings for target node with port 9701:  ('tcp', '0.0.0.0/0')  2018-07-29 00:08:27,017 | DEBUG    | validator-info       ( 184) | shell_cmd | command 'ss -ln4 | sort -u | grep ':9702\s'': stdout 'b'tcp    LISTEN     0      100       *:9702                  *:*                  \n'' 2018-07-29 00:08:27,017 | INFO     | validator-info       ( 258) | __init__ | Found the following bindings for target client with port 9702:  ('tcp', '0.0.0.0/0')  Validator korea is running Current time:     Sunday, July 29, 2018 12:08:09 AM Validator DID:    HCNuqUoXuK9GXGd2EULPaiMso2pJnxR6fCZpmRYbc7vM Verification Key: 5YZXWNmgadNSedFcEaFjbtNmGDzfe7WMvHh9mKFDawdnnG7h6oAgLkj Node Port:        9701/tcp on 0.0.0.0/0 Client Port:      9702/tcp on 0.0.0.0/0 Metrics: Uptime: 28 minutes, 0 seconds Total Config Transactions:  522 Total Ledger Transactions:  2522 Total Pool Transactions:    41 Read Transactions/Seconds:  0.00 Write Transactions/Seconds: 0.00 Reachable Hosts:   12/12 RFCU VeridiumIDC amihan-sovrin australia brazil canada england findentity korea singapore trustscience-validator01 virginia Unreachable Hosts: 0/12 Software Versions: indy-node: 1.3.62 sovrin: 1.1.9 {code}  ></description> </Issue>
