<Action id="52758" issue="34853" author="andkononykhin" type="comment" created="2018-10-30 10:03:52.0" updateauthor="andkononykhin" updated="2018-10-30 10:03:52.0"> <body><! CDATA Problem reason: * pool automation tests used vagrant as a driver for molecule, which is quite slow if we need to re-provision hosts. It would be nice to have docker as alternative (possibly as default one).  Changes: * improved bootstrap routine: renamed common role to ansible_bootstrap and leave there only bootstrapping logic * added docker as default molecule engine for all configuration roles (ansible_bootstrap, node_install, pool_install)  Committed into:   https://github.com/hyperledger/indy-node/pull/995   Risk factors: * Nothing is expected.  Risk: * Low     Covered with tests: * existent tests were extended a bit, no new functionality in role to test  Recommendations for QA: * do installation steps described in docs * for each of the roles *ansible_bootstrap, node_install, pool_install* do *molecule test --all* do: ** *molecule destroy && molecule lint && molecule converge && molecule converge && molecule destroy* (yes, converge two times) to test with docker driver ** *molecule destroy -s vagrant && molecule lint -s vagrant && molecule converge -s vagrant && molecule converge -s vagrant && molecule destroy -s vagrant* to test with vagrant driver  ></body> </Action>
<Action id="52808" issue="34853" author="vladimirwork" type="comment" body="Checked against docker." created="2018-10-31 13:28:07.0" updateauthor="vladimirwork" updated="2018-10-31 13:28:07.0"/>
<Action id="52962" issue="34853" author="vladimirwork" type="comment" body="Checked against vagrant." created="2018-11-02 12:27:12.0" updateauthor="vladimirwork" updated="2018-11-02 12:27:12.0"/>
<Action id="52963" issue="34853" author="vladimirwork" type="comment" created="2018-11-02 12:29:19.0" updateauthor="vladimirwork" updated="2018-11-02 12:29:19.0"> <body><! CDATA Steps to Validate: 1. Do installation steps described in docs. 2. For each of the roles ansible_bootstrap, node_install, pool_install do molecule test --all do: 2.1. `molecule destroy && molecule lint && molecule converge && molecule converge && molecule destroy` (yes, converge two times) to test with docker driver. 2.2. `molecule destroy -s vagrant && molecule lint -s vagrant && molecule converge -s vagrant && molecule converge -s vagrant && molecule destroy -s vagrant` to test with vagrant driver.  Actual Results: All actions were performed without any errors.  ></body> </Action>
