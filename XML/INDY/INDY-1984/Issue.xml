<Issue id="37382" key="INDY-1984" number="1984" project="10303" reporter="sergey.khoroshavin" assignee="ozheregelya" creator="sergey.khoroshavin" type="10002" summary="INSTANCE_CHANGE messages should be persisted between restarts" priority="3" resolution="10000" status="10001" created="2019-02-01 15:01:54.0" updated="2019-03-29 20:34:05.0" resolutiondate="2019-03-29 20:34:05.0" votes="0" watches="3" workflowId="48983"> <description><! CDATA As a result of investigation done in scope of INDY-1897 it was found that one way to avoid situations like in INDY-1903 is to actually persist INSTANCE_CHANGE messages between nodes restarts. However this can potentially bring problems if viewNo is not persisted as well, so this can be potentially blocked by INDY-1946.  *Acceptance criteria* * Write tests checking for edge cases which can arise when INSTANCE_CHANGE messages are persisted and viewNo is not * If it turns out that in order to pass these tests INDY-1946 is required then wait until this issue is done * Implement and test persisting of received INSTANCE_CHANGE messages to some local database * (Optional) Implement and test garbage collection of old INSTANCE_CHANGE messages so that database doesn't grow indefinitely  ></description> </Issue>
