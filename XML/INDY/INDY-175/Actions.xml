<Action id="25649" issue="17614" author="vladimirwork" type="comment" body="FYI  ~kelly.wilson ,  ~stevetolman ,  ~tylerq ,  ~ashcherbakov " created="2017-06-07 14:51:23.0" updateauthor="vladimirwork" updated="2017-06-07 14:51:23.0"/>
<Action id="25739" issue="17614" author="vladimirwork" type="comment" created="2017-06-08 13:43:19.0" updateauthor="vladimirwork" updated="2017-06-08 13:43:19.0"> <body><! CDATA Update:  After 2nd step verkey is actually added ("send GET_NYM" command returns it), so command "list ids with verkeys" returns incorrect verkeys.  ></body> </Action>
<Action id="25745" issue="17614" author="vladimirwork" type="comment" created="2017-06-08 14:47:13.0" updateauthor="vladimirwork" updated="2017-06-08 14:50:18.0"> <body><! CDATA Another case to update verkey:  1. Create new identifier. 2. Login as Trustee and send NYM with verkey. 3. Login as identifier and send NYM with another verkey.  Actual result: Error: client request invalid: InvalidClientRequest('U3ffnruvX9BRFAZqMTWfGM is neither Trustee nor owner of FjyeXLBc6Gp1Mmdo9hXtHpKwasQcyAeYo7qJGHBj2XBB',)  Expected result: Verkey should can be changed by its owner.  Additional info: sovrin@test> new identifier Identifier created in keyring Default Key for identifier is FjyeXLBc6Gp1Mmdo9hXtHpKwasQcyAeYo7qJGHBj2XBB Current identifier set to U3ffnruvX9BRFAZqMTWfGM sovrin@test> new key with seed 000000000000000000000000Trustee1 Key created in keyring Default Identifier for key is GJ1SzoWzavQYfNL9XkaJdrQejfztN4XqdsiV4ct3LXKL Current identifier set to GJ1SzoWzavQYfNL9XkaJdrQejfztN4XqdsiV4ct3LXKL sovrin@test> send NYM dest=FjyeXLBc6Gp1Mmdo9hXtHpKwasQcyAeYo7qJGHBj2XBB verkey=~1234567891234567 Adding nym FjyeXLBc6Gp1Mmdo9hXtHpKwasQcyAeYo7qJGHBj2XBB Nym FjyeXLBc6Gp1Mmdo9hXtHpKwasQcyAeYo7qJGHBj2XBB added sovrin@test> send GET_NYM dest=FjyeXLBc6Gp1Mmdo9hXtHpKwasQcyAeYo7qJGHBj2XBB Getting nym FjyeXLBc6Gp1Mmdo9hXtHpKwasQcyAeYo7qJGHBj2XBB Current verkey for NYM FjyeXLBc6Gp1Mmdo9hXtHpKwasQcyAeYo7qJGHBj2XBB is ~1234567891234567 sovrin@test> use identifier U3ffnruvX9BRFAZqMTWfGM Current identifier set to U3ffnruvX9BRFAZqMTWfGM sovrin@test> send NYM dest=FjyeXLBc6Gp1Mmdo9hXtHpKwasQcyAeYo7qJGHBj2XBB verkey=~987654321987654 Adding nym FjyeXLBc6Gp1Mmdo9hXtHpKwasQcyAeYo7qJGHBj2XBB Error: client request invalid: InvalidClientRequest('U3ffnruvX9BRFAZqMTWfGM is neither Trustee nor owner of FjyeXLBc6Gp1Mmdo9hXtHpKwasQcyAeYo7qJGHBj2XBB',)   ></body> </Action>
<Action id="26740" issue="17614" author="lovesh" type="comment" body=" ~VladimirWork   ~andkononykhin  The screenshot shows the DID as too long and you are trying to add an abbreviated verkey, so the command should not work" created="2017-06-19 14:12:20.0" updateauthor="lovesh" updated="2017-06-19 14:12:20.0"/>
<Action id="26741" issue="17614" author="andkononykhin" type="comment" created="2017-06-19 14:16:07.0" updateauthor="andkononykhin" updated="2017-06-19 18:13:09.0"> <body><! CDATA  ~lovesh  actually this error haven't happened in my tests. But I saw another error message: ... {code:java} sovrin@test> list ids with verkeys  Active keyring: Default (active identifier: GJ1SzoWzavQYfNL9XkaJdrQejfztN4XqdsiV4ct3LXKL)   Identifiers:   5zJvaEJG53fHT8Cdoj6JfjZRSwTkxZMtw5VjafusTM6Z, verkey: 5zJvaEJG53fHT8Cdoj6JfjZRSwTkxZMtw5VjafusTM6Z   8fjYiRG4RVBPLtx59Pox9nAWNjXnmAXyEz6M65nE3Gfz, verkey: 8fjYiRG4RVBPLtx59Pox9nAWNjXnmAXyEz6M65nE3Gfz   GJ1SzoWzavQYfNL9XkaJdrQejfztN4XqdsiV4ct3LXKL, verkey: GJ1SzoWzavQYfNL9XkaJdrQejfztN4XqdsiV4ct3LXKL   rspyWa7YXktwLyQaBHc7qh3Lf1orcodSLCnUjWxCRt2, verkey: rspyWa7YXktwLyQaBHc7qh3Lf1orcodSLCnUjWxCRt2   DGEg6c3nGSUCmUoEyK59Cy1LvLcj3oFiMNjynmaSCiQE, verkey: DGEg6c3nGSUCmUoEyK59Cy1LvLcj3oFiMNjynmaSCiQE   sovrin@test> send NYM dest=8fjYiRG4RVBPLtx59Pox9nAWNjXnmAXyEz6M65nE3Gfz verkey=8fjYiRG4RVBPLtx59Pox9nAWNjXnmAXyEz6M65nE3Gfz  Adding nym 8fjYiRG4RVBPLtx59Pox9nAWNjXnmAXyEz6M65nE3Gfz  Nym 8fjYiRG4RVBPLtx59Pox9nAWNjXnmAXyEz6M65nE3Gfz added   sovrin@test> use identifier 8fjYiRG4RVBPLtx59Pox9nAWNjXnmAXyEz6M65nE3Gfz  Current identifier set to 8fjYiRG4RVBPLtx59Pox9nAWNjXnmAXyEz6M65nE3Gfz  sovrin@test> send GET_NYM dest=5zJvaEJG53fHT8Cdoj6JfjZRSwTkxZMtw5VjafusTM6Z  Getting nym 5zJvaEJG53fHT8Cdoj6JfjZRSwTkxZMtw5VjafusTM6Z  Current verkey for NYM 5zJvaEJG53fHT8Cdoj6JfjZRSwTkxZMtw5VjafusTM6Z is rspyWa7YXktwLyQaBHc7qh3Lf1orcodSLCnUjWxCRt2   sovrin@test> send GET_NYM dest=8fjYiRG4RVBPLtx59Pox9nAWNjXnmAXyEz6M65nE3Gfz  Getting nym 8fjYiRG4RVBPLtx59Pox9nAWNjXnmAXyEz6M65nE3Gfz  Current verkey for NYM 8fjYiRG4RVBPLtx59Pox9nAWNjXnmAXyEz6M65nE3Gfz is 8fjYiRG4RVBPLtx59Pox9nAWNjXnmAXyEz6M65nE3Gfz   sovrin@test> send NYM dest=8fjYiRG4RVBPLtx59Pox9nAWNjXnmAXyEz6M65nE3Gfz verkey=GJ1SzoWzavQYfNL9XkaJdrQejfztN4XqdsiV4ct3LXKL  Adding nym 8fjYiRG4RVBPLtx59Pox9nAWNjXnmAXyEz6M65nE3Gfz  Nym 8fjYiRG4RVBPLtx59Pox9nAWNjXnmAXyEz6M65nE3Gfz added   sovrin@test> send GET_NYM dest=8fjYiRG4RVBPLtx59Pox9nAWNjXnmAXyEz6M65nE3Gfz  Getting nym 8fjYiRG4RVBPLtx59Pox9nAWNjXnmAXyEz6M65nE3Gfz  Current verkey for NYM 8fjYiRG4RVBPLtx59Pox9nAWNjXnmAXyEz6M65nE3Gfz is GJ1SzoWzavQYfNL9XkaJdrQejfztN4XqdsiV4ct3LXKL   sovrin@test> use identifier 8fjYiRG4RVBPLtx59Pox9nAWNjXnmAXyEz6M65nE3Gfz  Current identifier set to 8fjYiRG4RVBPLtx59Pox9nAWNjXnmAXyEz6M65nE3Gfz   sovrin@test> send GET_NYM dest=8fjYiRG4RVBPLtx59Pox9nAWNjXnmAXyEz6M65nE3Gfz  Getting nym 8fjYiRG4RVBPLtx59Pox9nAWNjXnmAXyEz6M65nE3Gfz  Current verkey for NYM 8fjYiRG4RVBPLtx59Pox9nAWNjXnmAXyEz6M65nE3Gfz is GJ1SzoWzavQYfNL9XkaJdrQejfztN4XqdsiV4ct3LXKL   sovrin@test> send NYM dest=8fjYiRG4RVBPLtx59Pox9nAWNjXnmAXyEz6M65nE3Gfz verkey=8fjYiRG4RVBPLtx59Pox9nAWNjXnmAXyEz6M65nE3Gfz  Adding nym 8fjYiRG4RVBPLtx59Pox9nAWNjXnmAXyEz6M65nE3Gfz  Error: client request invalid: InvalidSignature(){code}   UPDATE I found that It is known case and is treated as valid according to this docs:  https://docs.google.com/document/d/1FSdnzw1Efpu60LRNFcO5fT8eTz83e4fFS8xpxgMsrKA/edit# The reason: incorrect sequence of verkey change.  ></body> </Action>
<Action id="26746" issue="17614" author="andkononykhin" type="comment" created="2017-06-19 14:35:30.0" updateauthor="andkononykhin" updated="2017-06-19 14:35:30.0"> <body><! CDATA Hello,  ~danielhardman   ~lovesh   Could you clarify the requirements for 'list ids' command.  As I discovered, it uses local data (stored in in-memory wallet) about ids and verkeys that is non synced with ledger. So, if we do 'send NYM' we could update verkey on ledger but it won't change in-memory data in client's wallet.  So, my questions are: # what expected result of 'list ids' command # should it be updated when we do 'send NYM' or/and 'send GET_NYM' # what other cli command should affect the wallet # what if we have several clients, how should they sync their data in wallets  Thank you  ></body> </Action>
<Action id="27356" issue="17614" author="andkononykhin" type="comment" created="2017-06-26 14:00:03.0" updateauthor="andkononykhin" updated="2017-06-26 14:00:03.0"> <body><! CDATA Hello,  ~krw910   I'm done with task. Please test it.  The task is about several issues. I will explain them one by one.   Originally reported issues:  1. 'list ids' output doesn't match 'send GET_NYM'  Not as issue. Works as designed. See my comment above  https://jira.hyperledger.org/browse/INDY-175?focusedCommentId=26746&page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel#comment-26746  2. Update verkey command doesn't work.                                                                                                                                                                                                                                                                                 Steps to reproduce.  Case 1 (see description): Case 2 (see comment https://jira.hyperledger.org/browse/INDY-175?focusedCommentId=25745&page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel#comment-25745)  Not an issue cause steps to reproduce in these cases are not correct.  Actually we can easily create verkey using 'send NYM' command. Also it's possible to update it as well, but a bit tricky. Please, see https://docs.google.com/document/d/1FSdnzw1Efpu60LRNFcO5fT8eTz83e4fFS8xpxgMsrKA/edit# for more details     3. Update verkey command throws not user-friendly error (screenshot description)        Resolved by this PR: https://github.com/evernym/plenum/pull/222  Newfound issue:  4. Incorrect verkey is accepted  Case 1 (see screenshort) includes step with incorrect verkey passed as original for new nym: (45 'F') FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF   Pool accepted it but all further messages from the client with such verkey were discared, cause decoded b58 byte-string has length 33. So, 'odd-length' exceptions were raised.  Resolved by this PR: https://github.com/evernym/plenum/pull/226   How to test:  1) test that odd-length verkey is rejected:  env packages (master): - python3-plenum = 0.3.154 - pyhton3-sovrin-common = 0.2.96 - sovrin-client  = 0.3.150 - sovrin-node = 0.3.161  1. launch client ('sovrin' tool) 2. commands: - connect test - new identifier (grab VERKEY) - new key with seed 000000000000000000000000Trustee1 - send NYM dest=ID verkey=FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF (copy-paste that, 45 'F')  you will see the following error: Error: client request invalid: InvalidClientRequest('validation error: b58 decoded value length 33 should be one of  32  (verkey=FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF)',)  2) you can't see non-human readable message mentioned in description cause odd-length verkey is reject from the first place (first NYM command with verkey) as it was shown in previous test  Thank you  ></body> </Action>
<Action id="27416" issue="17614" author="vladimirwork" type="comment" created="2017-06-27 09:41:39.0" updateauthor="vladimirwork" updated="2017-06-27 09:41:39.0"> <body><! CDATA Build Info: sovrin-client = 0.3.150 sovrin-node = 0.3.161  Steps to Validate: 1. Add new identifier. 2. Login as Trustee. 3. Send NYM to added identifier with "FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF" verkey.  Actual Results: Error: client request invalid: InvalidClientRequest('validation error: b58 decoded value length 33 should be one of 32). Errors with "odd-length string" text are not displayed.  ></body> </Action>
