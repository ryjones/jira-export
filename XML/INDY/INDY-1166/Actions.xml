<Action id="40150" issue="27662" author="sergey-shilov" type="comment" created="2018-02-14 16:05:25.0" updateauthor="sergey-shilov" updated="2018-02-14 16:06:51.0"> <body><! CDATA *Problem state / reason:*  When returning N-F nodes to a pool, "View change" does not occur if Primary node is stopped. This happens due to the fact that a node currently participating in the pool does not schedule a view change if the pool has come back to quorum when a primary is still down.  *Changes:*  Now a node schedules a view change if it transits its state from _starting_ to _started_hungry_ and a primary is set but it is still down. It means that a pool has come back to quorum while primary is still down, so initiating of view change process makes sense.  *Committed into:*       https://github.com/hyperledger/indy-plenum/pull/531       https://github.com/hyperledger/indy-plenum/pull/533       https://github.com/hyperledger/indy-node/pull/565      indy-node 1.2.308-master  *Risk factors:*      Some cases of view change may be influences by committed changes, but this is not expected.  *Risk:*      Medium  *Recommendations for QA:*  Do full testing of view change. Also the test case mentioned in description of this ticket should be repeated and expected results should be got.  ></body> </Action>
<Action id="40163" issue="27662" author="vladimirwork" type="comment" created="2018-02-14 16:55:33.0" updateauthor="vladimirwork" updated="2018-02-14 16:55:33.0"> <body><! CDATA Build Info: indy-node 1.3.308  Steps to Validate: 1. Install pool of 6 nodes and send NYM to make sure that pool works. 2. Stop any 4 nodes of 6 sending read and write requests and then start them in any succession. 3. Try to read\write NYM.  Actual Results: Pool reaches write consensus at >n-f and doesn't lose read consensus during test run. !INDY-1166-fixed.PNG|thumbnail!    ></body> </Action>
<Action id="40170" issue="27662" author="vladimirwork" type="comment" body="Full testing of view change will be performed in scope of INDY-1151." created="2018-02-14 17:06:39.0" updateauthor="vladimirwork" updated="2018-02-14 17:06:39.0"/>
