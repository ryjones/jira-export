<Issue id="17382" key="INDY-142" number="142" project="10303" reporter="krw910" assignee="andrey.goncharov" creator="krw910" type="10004" summary="Added node did not take new transactions after catch up" priority="1" resolution="10200" status="10001" created="2017-06-01 21:42:33.0" updated="2019-03-29 20:33:56.0" resolutiondate="2019-03-29 20:33:56.0" votes="0" watches="1" workflowId="17386"> <description><! CDATA *Stable Build* *{color:#205081}Node {color}* python3-stp=0.1.9 python3-ledger=0.2.14 python3-state-trie=0.1.1 python3-plenum=0.3.13 python3-sovrin-common=0.2.9 sovrin-node=0.3.15  *{color:#205081}Client {color}* python3-stp=0.1.9 python3-ledger=0.2.14 python3-state-trie=0.1.1 python3-plenum=0.3.13 python3-sovrin-common=0.2.9 python3-anoncreds=0.3.3 sovrin-client=0.3.18   I added two new nodes to an existing pool which had 34 transactions already on the ledger. After adding the new node to the pool I continued with transactions adding another 28 transactions. I checked the nodes transactions count and the the original nodes had 62 transactions and the two new nodes only had 34 transactions. The new nodes only did a catch up to the point the pool was at when they were added and did not add any new transactions.   The services are still running and show no errors. I am not restarting the services because I want to leave it in the bad state to be looked at first.  *Setup* Taken from the acceptance documentation.  Used AWS template to setup 10 machines.  - 4 Nodes for the original pool - 2 machines to install nodes and add to the pool during testing - 4 machines to be used as clients and agents for the getting started tutorial  *Steps* Followed all the steps as outlined in the acceptance test documents "01 - Test Scenario" to "11 - Test Scenario" in order.{color:#205081} (Hopefully you can just do a few transactions and add nodes to the pool to reproduce the issue){color}  After completing tests I had stepped away for about 3 hours then I checked the line count of the transactions file located on each node in  .sovrin/data/nodes/<node name>/transactions_sandbox File name "1"  Nodes 1 - 4 had a line count of 62 Node 5 had a line count of 34 Node 6 had a line count of 35  I checked to see how many transaction writes are done after adding the nodes and it is about 24 so the missing 28 transactions seem to be all the ones that took place after adding the new nodes.  I did not give it time to catch up right away before starting into the other transactions. However I did not check the line counts for 3 hours and that is when I noticed the difference.  Kelly will send Alex the connection information.   ></description> </Issue>
