<Issue id="24038" key="INDY-955" number="955" project="10303" reporter="ashcherbakov" creator="ashcherbakov" type="10001" summary="Adding transaction to the ledger must be an atomic operation" priority="4" resolution="10300" status="10001" created="2017-11-20 16:33:37.0" updated="2019-10-29 14:28:29.0" resolutiondate="2019-10-29 14:28:28.0" votes="0" watches="2" workflowId="24039"> <description><! CDATA Currently adding of a txn to the ledger consists of two steps: - add txn to transaction log - add txn to the tree (hash store).  It's possible (see, for example, INDY-893), that Node may stop/crash in between. So, we may have a bit inconsistent data.   We will be able to recover the ledger (merkle tree) from txn log in any case, so this is not so critical from recover point of view. It may be more critical if something wrong happens in between without crashing, so that will continue working with inconsistency between txn log and the tree.  ></description> </Issue>
