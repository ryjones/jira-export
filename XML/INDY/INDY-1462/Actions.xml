<Action id="47378" issue="31755" author="anikitindsr" type="comment" created="2018-07-16 16:34:21.0" updateauthor="anikitindsr" updated="2018-07-16 16:34:21.0"> <body><! CDATA Reasons: * High watermark on backup replicas after on propagate primary must be set as (0, infinity) for availability to restore last ordered ppSeqNo.  Changes: * Set watermark on propagate primary to (0, infinity)  Version: * indy-node 1.4.504  PRs:  -  https://github.com/hyperledger/indy-node/pull/820   -  https://github.com/hyperledger/indy-plenum/pull/809   Steps to validate: * create pool of 4 nodes; * set Max3PCBatchSize to 1 and write more than LOG_SIZE count transactions (300 by default); * add new node (also set  Max3PCBatchSize to 1 and logLevel to debug) * write another several transactions. * check that there is no any lines in logs of new added node like : "stashing 3 phase message <aaa> since ppSeqNo <aaaa> is not between 0 and 300"        ></body> </Action>
<Action id="47489" issue="31755" author="vladimirwork" type="comment" created="2018-07-18 14:17:32.0" updateauthor="vladimirwork" updated="2018-07-18 14:17:32.0"> <body><! CDATA Build Info: indy-node 1.4.504  Steps to Validate: 1. Create pool of 4 nodes. 2. Set Max3PCBatchSize to 1 and write 301 txns. 3. Add new node (also set  Max3PCBatchSize to 1 and logLevel to debug). 4. Write another 300 transactions.  Actual Results: There are no lines in logs of new added node like "stashing 3 phase message <aaa> since ppSeqNo <aaaa> is not between 0 and 300".  ></body> </Action>
