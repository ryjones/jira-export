<Action id="37528" issue="24700" author="andkononykhin" type="comment" created="2017-12-15 17:39:52.0" updateauthor="andkononykhin" updated="2017-12-18 16:51:01.0"> <body><! CDATA PoA: # create private github repo *indy-jenkins-pipeline-lib* in evernym org account # split `evernym/jenkins-shared` into public and private parts:    - public:         - common groovy helpers         - testing         - packaging (debs building)    - private:         - publishing logic which includes usage of credentials references and api endpoints # move public part into 'indy-jenkins-lib' and leave the rest in jcurrent location # ask  ~danielhardman  and/or  ~tharmon  to review and make the repo public by moving it to Hypereldger org # update Jenkinsfile.cd in indy github repos to use public shared lib with optional linking to other (private) lib for some stages (publishing first of all)  ></body> </Action>
<Action id="39421" issue="24700" author="andkononykhin" type="comment" created="2018-01-31 12:18:56.0" updateauthor="andkononykhin" updated="2018-02-15 14:38:30.0"> <body><! CDATA  https://github.com/evernym/jenkins-shared/pull/27   https://github.com/evernym/jenkins-shared/pull/26   Summary about changes: # all CI related things are grouped in public part, CD logics - in private part ** prefixes for global variables/functions:_indy_ - for public, _evernym_ - for private ** steps: *** public part expose a set of steps with ability to extend/replace them using  indyStagesInit|https://github.com/evernym/jenkins-shared/tree/feature/INDY-997_public-lib#indystagesinit  function which is virtual. First of all It was designed so to extend _indyPublish_ step. *** private implements head-publish step  evernymPublish|https://github.com/evernym/jenkins-shared/blob/feature/INDY-997_private-lib/vars/evernymPublish.groovy  # Configuration: ** All configuration related things localized inside configuration steps: ***  indyConfig|https://github.com/evernym/jenkins-shared/blob/feature/INDY-997_public-lib/vars/indyConfig.groovy  ***  evernymConfig|https://github.com/evernym/jenkins-shared/blob/feature/INDY-997_private-lib/vars/evernymConfig.groovy . ** config parameters could be adjusted either via job's env or parameters ** default values including privacy sensitive things for private library located in  evernymDefaults|https://github.com/evernym/jenkins-shared/blob/feature/INDY-997_private-lib/vars/evernymDefaults.groovy  # more accurate folder hierarchy: ** _vars_ - for global steps ** _src_ - for class based APIs ** _resources_ - for necessary non-groovy resources ** _src_ and _resources_ have got deeper hierarchy to match for java classpaths standard (e.g. `_src/org/hyperledger/pipeline/indy_`, `_resources/com/evernym/pipeline_`) # use of closure-based steps configuration pattern ("builder pattern")  described  here|https://jenkins.io/blog/2016/04/21/dsl-plugins/ . Also see  Readme|https://github.com/evernym/jenkins-shared/blob/feature/INDY-997_public-lib/README.md  for public part. # examples of the pipelines:  ci|https://github.com/hyperledger/indy-node/blob/feature/indy-997_new_jenkins_api/Jenkinsfile.ci ,  cd|https://github.com/hyperledger/indy-node/blob/feature/indy-997_new_jenkins_api/Jenkinsfile.cd   Waiting technical review by  ~andrey.goncharov   ></body> </Action>
<Action id="40908" issue="24700" author="andkononykhin" type="comment" created="2018-02-27 08:08:32.0" updateauthor="andkononykhin" updated="2018-02-27 08:33:51.0"> <body><! CDATA PRs were aproved by  ~andrey.goncharov .   https://github.com/evernym/jenkins-shared/pull/27   https://github.com/evernym/jenkins-shared/pull/26   And were merged: public https://github.com/evernym/jenkins-shared/tree/indy-public private https://github.com/evernym/jenkins-shared/tree/indy-private  Currently we are waiting approvals from Evernym repo's owners to move public part code to public repository.  Also I've created new tasks to update pipelines for indy repos to use the new approach: INDY-1194, INDY-1195, INDY-1196.  ></body> </Action>
<Action id="41066" issue="24700" author="andkononykhin" type="comment" created="2018-03-01 10:19:51.0" updateauthor="andkononykhin" updated="2018-03-01 10:19:51.0"> <body><! CDATA Public part code was landed here:  https://github.com/hyperledger/indy-jenkins-pipeline-lib  ></body> </Action>
