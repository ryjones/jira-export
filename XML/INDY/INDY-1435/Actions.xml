<Action id="47162" issue="31442" author="anikitindsr" type="comment" created="2018-07-10 13:20:32.0" updateauthor="anikitindsr" updated="2018-07-10 13:20:32.0"> <body><! CDATA Reasons: * need to change throughput measurements for excluding any false-positive "master degraded" events.  Changes: * Added threshold window = ThroughputInnerWindowSize * ThroughputThresholdWindowCount seconds. For now, throughput will return not None value only after this threshold. By default, ThroughputInnerWindowSize = 15 seconds, ThroughputThresholdWindowCount = 16. Therefore, resulted threshold by default is 240 seconds. * Throughput value is calculating now by using exponential moving average with alpha = 2 / (n+1), where 'n' is ThroughputThresholdWindowCount.  Version: * indy-node 1.4.496 * indy-plenum 1.4.441  Recomendation for QA:  - Corresponding to description, retest INDY-1429 and frequency of view_change should be decrease.  ></body> </Action>
<Action id="47231" issue="31442" author="vladimirwork" type="comment" created="2018-07-11 15:20:08.0" updateauthor="vladimirwork" updated="2018-07-11 15:20:08.0"> <body><! CDATA Build Info: indy-node 1.4.496  Steps to Validate: 1. Run `while true; do python3 perf.py -c 20 -n 1000 -k nym -g pool_transactions_genesis; done` against 22 nodes pool with forced view changes. 2. Check logs for view change intervals.  Actual Result: There are no unexpected view changes caused by master *throughput* degradation but there are several view changes caused by master *latency* degradation (due to regular forced view changes that increase master latency according to current latency measurements) so INDY-1468 is reported.  ></body> </Action>
