<Issue id="18032" key="INDY-233" number="233" project="10303" reporter="alexander.shekhovcov" assignee="vladimirwork" creator="alexander.shekhovcov" type="10004" summary="PublicKeyNotFoundOnDisk after enabling an inactive node" priority="2" resolution="10200" status="10001" created="2017-06-15 10:43:32.0" updated="2019-03-29 20:33:30.0" resolutiondate="2019-03-29 20:33:30.0" votes="0" watches="4" timeoriginalestimate="3600" timeestimate="3600" workflowId="18037"> <description><! CDATA *Steps:* # add a node with *SERVICES:   * # enable the node – send the NODE txn with  *SERVICES:  'VALIDATOR' *  *Result:*  Each of the node gets:    {code:java} stp_core.network.exceptions.PublicKeyNotFoundOnDisk: Node1 could not get Node5's public key from disk. Make sure the keys are initialize {code}    So enabling an inactive node causes pool restart (because systemd) or may cause a crash.     The problem can be here: {code:java} if VALIDATOR in txn DATA .get(SERVICES,   ): self.addNewNodeAndConnect(txn) {code} because `initRemoteKeys` has not been called as a part `self.addNewNodeAndConnect` in case SERVICES=     https://github.com/evernym/plenum/blob/master/plenum/server/pool_manager.py#L185            ></description> </Issue>
