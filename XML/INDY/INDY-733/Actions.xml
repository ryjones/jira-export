<Action id="29941" issue="20217" author="ashcherbakov" type="comment" body="I think it was caused by terminology renaming." created="2017-08-17 08:03:55.0" updateauthor="ashcherbakov" updated="2017-08-17 08:03:55.0"/>
<Action id="29965" issue="20217" author="ashcherbakov" type="comment" created="2017-08-17 16:57:51.0" updateauthor="ashcherbakov" updated="2017-08-17 16:58:09.0"> <body><! CDATA 1) We need to provide a script for migration. Let's create just a script, not a migration procedure, so that the script can be run locally for the wallets that require migration. Delivery team can just run the script for the existing old wallets. 2) let's assume that the latest version of client is used (>1.0.110 on master), that is we don't have problems with using old client (with old ledger serialization) with new pool. We assume that it is possible because we have not so many activity with the live pool (just 2 txns).  ~nage   ~danielhardman   ~stevetolman   ~tharmon  Are you OK with this?  ></body> </Action>
<Action id="29969" issue="20217" author="krw910" type="comment" body=" ~ashcherbakov  I have spoken with  ~tharmon  about this solution. I didn&apos;t think having the user run a script was a good idea and Trev has confirmed this. He has indicated that now that we are live we don&apos;t know who is running the client (CLI) or how to contact all of them to tell them to run a script. The upgrade process must take care of upgrading. In the live environment this means that there should not be post upgrade user interaction. So the upgrade process needs to take care of this issue." created="2017-08-17 18:20:04.0" updateauthor="krw910" updated="2017-08-17 18:23:16.0"/>
<Action id="29979" issue="20217" author="ashcherbakov" type="comment" created="2017-08-18 08:14:13.0" updateauthor="ashcherbakov" updated="2017-08-18 08:14:13.0"> <body><! CDATA  ~krw910   ~tharmon  We can do it as a part of some client migration client. But important thing: are we ok to require all existing clients to be updated to the latest version (that is migration script is executed)? In other words, old client will not work with the newest pool (the easiest way to do it is just end something like 'you must upgrade' to old clients).  ></body> </Action>
<Action id="30004" issue="20217" author="krw910" type="comment" body=" ~ashcherbakov  I spoke with  ~tharmon  today and we have to account for a particular scenario with regards to the wallet fix. We have customers where there are several users on the machine each with their own wallet in their own home directory. So we cannot assume we know where all the wallets are on a system.  ~nage  suggested we make the wallet fix be at CLI run time so it can detect if the wallet is in the correct format or needs to be changed." created="2017-08-18 18:36:55.0" updateauthor="krw910" updated="2017-08-18 18:36:55.0"/>
<Action id="30251" issue="20217" author="vladimirwork" type="comment" created="2017-08-28 10:47:34.0" updateauthor="vladimirwork" updated="2017-08-28 10:47:34.0"> <body><! CDATA Build Info: indy-node 1.1.119  Steps to Reproduce - Case 1: 1. Install 0.4.44 client. 2. Perform Getting Started Tutorial with default.wallet. 3. Exit CLI to save default.wallet in /keyrings/. 4. Upgrade client to 1.1.119. 5. Start CLI.  Steps to Reproduce - Case 2: 1. Install 1.0.67 client. 2. Perform Getting Started Tutorial with default.wallet. 3. Exit CLI to save default.wallet in /wallets/. 4. Upgrade client to 1.1.119. 5. Start CLI.  Actual Results: Migrated default.wallet is restored successfully in both cases from /wallets/. All DIDs in the wallet saved before the upgrade are available to use after the upgrade.  ></body> </Action>
<Action id="30457" issue="20217" author="spivachuk" type="comment" created="2017-09-01 14:51:11.0" updateauthor="spivachuk" updated="2017-09-01 14:51:11.0"> <body><! CDATA The changes related to the wallet migration mechanism are in the following merged pull requests: * https://github.com/hyperledger/indy-plenum/pull/357 * https://github.com/hyperledger/indy-node/pull/320 * https://github.com/hyperledger/indy-node/pull/321 * https://github.com/hyperledger/indy-plenum/pull/360 * https://github.com/hyperledger/indy-node/pull/323 * https://github.com/hyperledger/indy-plenum/pull/363 * https://github.com/hyperledger/indy-node/pull/334  ></body> </Action>
