<Action id="66226" issue="43390" author="anikitindsr" type="comment" created="2019-12-11 14:43:47.0" updateauthor="anikitindsr" updated="2019-12-11 14:43:47.0"> <body><! CDATA h1. PoA * need to write test, which shows difference in latency and throughputs when master's replica needs to reorder several batches * need to rename ReOrderedInNewView internal message to ReAppliedInNewView, because for now it's not about finishing re-ordering but only about applying all of needed PrePrepares from previous view * need to add new flag for backups which can allow to order on it after reordering finished * add new internal message to allow ordering continue after master's reordering  ></body> </Action>
<Action id="66388" issue="43390" author="ashcherbakov" type="comment" created="2019-12-24 15:13:13.0" updateauthor="ashcherbakov" updated="2019-12-24 15:13:13.0"> <body><! CDATA Fixes: * like in the PoA  PR: * https://github.com/hyperledger/indy-plenum/pull/1435  Version: * indy-node 1.12.1.dev1169  Risk: * Medium  Recommendation for QA: * Run load test with forced view change every 30 minute * Check that there is no multiple view changes (that is view changed started right after the previous one has finished)  ></body> </Action>
<Action id="66389" issue="43390" author="ashcherbakov" type="comment" created="2019-12-24 15:21:33.0" updateauthor="ashcherbakov" updated="2019-12-24 15:21:33.0"> <body><! CDATA There was another issue found while fixing the issue (it was caught by simulation test BTW): * If the next Primary didn't receive a PrePrepare from old view that other nodes ordered, it will reject all Prepares during re-ordering phase and will not be able to participate in ordering (there will be a gap).  Fixed in *  https://github.com/hyperledger/indy-plenum/pull/1435   Covered by tests *  plenum/test/view_change_service/test_delay_pre_prepares.py|https://github.com/hyperledger/indy-plenum/pull/1435/files#diff-6abdab437ed91aea64dde789d7818294  (integration) *  plenum/test/consensus/order_service/test_ordering_process_prepare.py|https://github.com/hyperledger/indy-plenum/pull/1435/files#diff-83804e3bf91590410647af9174d47725  (unit)  ></body> </Action>
<Action id="66395" issue="43390" author="vladimirwork" type="comment" created="2019-12-25 08:12:30.0" updateauthor="vladimirwork" updated="2019-12-25 08:12:30.0"> <body><! CDATA Build Info: indy-node 1.12.1~dev1169 plugins 1.0.6~dev137  Actual Results: We have 42 ViewNo after 15.5 hours of production load rate.  Expected Results: There should be 31 or 32 ViewNo at the end of load test for this duration.  ></body> </Action>
<Action id="66407" issue="43390" author="vladimirwork" type="comment" body="We perform more VCs than expected using forced VC parameter in config so it is ok to have plus one third ViewNo than expected." created="2019-12-25 15:07:04.0" updateauthor="vladimirwork" updated="2019-12-25 15:07:04.0"/>
