<Issue id="22883" key="INDY-930" number="930" project="10303" reporter="krw910" assignee="sergey.khoroshavin" creator="krw910" type="10004" summary="Validator Info Tool: Writes per second is so far off it is not useful" priority="3" resolution="10200" status="10001" created="2017-10-27 13:48:23.0" updated="2019-03-29 20:33:38.0" resolutiondate="2019-03-29 20:33:38.0" votes="0" watches="2" workflowId="22883"> <description><! CDATA In the validator_info tool the metric showing writes per second is so far off it is not useful.  *Setup* You should be able to use the load_test.py script to generate a load.  If you need the libindy version reply to Kelly Wilson on this ticket for setup information. On a node in the pool run the following to get the current ledger count {code} read_ledger --type domain --count {code}  *Steps* # I had 5 client machines each sending 400 transactions # In a putty session I ran "validator_info -v" to get the metrics.  # I continued to refresh the tool and record the highest displayed writes per second. # After the load finished sending I went to a node and ran the command below. Where xxx is one number higher than the ledger count before we started. So if it was 1,000 before running the load I put in "--to 1,001". {code} read_ledger --type domain --to xxx {code}  # Record the epoch time stamp from that transaction. # Now get the full ledger count with running the command below and then go to the last transaction and get its epoch time stamp. {code} read_ledger --type domain --count {code} # Get the difference between the two and that will be your seconds. # Now you can get the transactions per second based off what was written to the ledger.  *{color:#d04437}Issue{color}* The validator_info tool showed the highest writes per second being 0.74 The ledger difference between the start and end epoch time shows 24 writes per second  ></description> </Issue>
