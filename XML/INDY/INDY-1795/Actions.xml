<Action id="52979" issue="34979" author="spivachuk" type="comment" created="2018-11-02 15:33:37.0" updateauthor="spivachuk" updated="2018-11-02 15:33:37.0"> <body><! CDATA *Changes:* - Added a test verifying resumption of ordering 3PC-batches on a backup replica on detection of a lag in checkpoints (parametrized for primary and non-primary replicas). - Added a variant of the test verifying resumption of ordering in case the lag is detected after some batch in the next checkpoint has already been committed but cannot be ordered out of turn. - Added a variant of the test verifying resumption of ordering in case the lag is detected after some 3PC-messages related to the next checkpoint have already been stashed as laying outside of the watermarks. - Implemented resumption of ordering 3PC-batches on a backup replica on detection of a lag in checkpoints.  *PRs:* - https://github.com/hyperledger/indy-plenum/pull/964 - https://github.com/hyperledger/indy-node/pull/1009  *Version:* - indy-node 1.6.653-master - indy-plenum 1.6.578-master  *Risk factors:* - Nothing is expected.  *Risk:* - Low  *Covered with tests:* - {{test_backup_replica_resumes_ordering_on_lag_in_checkpoints}} - {{test_backup_replica_resumes_ordering_on_lag_if_checkpoints_belate}} - {{test_stashed_messages_processed_on_backup_replica_ordering_resumption}}  ></body> </Action>
<Action id="53060" issue="34979" author="zhigunenko.dsr" type="comment" created="2018-11-06 07:56:21.0" updateauthor="zhigunenko.dsr" updated="2018-11-06 07:56:21.0"> <body><! CDATA *Steps to Validate* (from INDY-1574): 0. Preload pool with 300k txns. 1. Run 20 writing and 200 reading txns/sec load test. 2. Check validator-info/logs/metrics.  ></body> </Action>
<Action id="53199" issue="34979" author="vladimirwork" type="comment" body=" !INDY-1795.PNG|thumbnail! " created="2018-11-08 10:01:52.0" updateauthor="vladimirwork" updated="2018-11-08 10:01:52.0"/>
<Action id="53211" issue="34979" author="vladimirwork" type="comment" created="2018-11-08 12:32:01.0" updateauthor="vladimirwork" updated="2018-11-09 09:41:03.0"> <body><! CDATA Build Info: indy-node 1.6.669  Steps to Validate: 1. Run 20 nyms/sec for 15 hours. 2. Check metrics and logs for OOM reasons at any node.  Actual Results: Pool works normally. Only 8th node breaks due to OOM. All logs and journals are in ev@evernymr33:logs/1795-1683.tar.gz  ></body> </Action>
