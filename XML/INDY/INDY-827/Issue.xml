<Issue id="20754" key="INDY-827" number="827" project="10303" reporter="mgbailey" assignee="brentzundel" creator="mgbailey" type="10001" summary="Allow a steward to update his node entry in the ledger - including the verkey" priority="3" status="3" created="2017-09-11 20:04:23.0" updated="2020-06-09 22:23:51.0" votes="0" watches="4" workflowId="20758"> <description><! CDATA Currently, a steward is allowed only a single node entry in the ledger, regardless of if it is designated a validator or not.  The correct way should be to allow a steward to put multiple node entries onto the ledger, but only one should be permitted to be a validator at a time.  We have had instances where a steward has had to replace a node in a validator network, and the public-private key pair for the node was changed as a part of the process. There needs to be a way that the steward can update the ledger to reflect the new verkey. There does not appear to be a way to do this, currently.  For example, the steward for icenode, who's node entry had been written to the ledger, updated the ledger to un-assign the validator as shown in line 9: {code:java}  1,{"data":{"alias":"australia","client_ip":"52.64.96.160","client_port":"9702","node_ip":"52.64.96.160","node_port":"9701","services": "VALIDATOR" },"dest":"UZH61eLH3JokEwjMWQoCMwB3PMD6zRBvG6NCv5yVwXz","identifier":"3U8HUen8WcgpbnEz1etnai","txnId":"c585f1decb986f7ff19b8d03deba346ab8a0494cc1e4d69ad9b8acb0dfbeab6f","type":"0"}   2,{"data":{"alias":"brazil","client_ip":"54.233.203.241","client_port":"9702","node_ip":"54.233.203.241","node_port":"9701","services": "VALIDATOR" },"dest":"2MHGDD2XpRJohQzsXu4FAANcmdypfNdpcqRbqnhkQsCq","identifier":"G3knUCmDrWd1FJrRryuKTw","txnId":"5c8f52ca28966103ff0aad98160bc8e978c9ca0285a2043a521481d11ed17506","type":"0"}   3,{"data":{"alias":"canada","client_ip":"52.60.207.225","client_port":"9702","node_ip":"52.60.207.225","node_port":"9701","services": "VALIDATOR" },"dest":"8NZ6tbcPN2NVvf2fVhZWqU11XModNudhbe15JSctCXab","identifier":"22QmMyTEAbaF4VfL7LameE","txnId":"408c7c5887a0f3905767754f424989b0089c14ac502d7f851d11b31ea2d1baa6","type":"0"}   4,{"data":{"alias":"england","client_ip":"52.56.191.9","client_port":"9702","node_ip":"52.56.191.9","node_port":"9701","services": "VALIDATOR" },"dest":"DNuLANU7f1QvW1esN3Sv9Eap9j14QuLiPeYzf28Nub4W","identifier":"NYh3bcUeSsJJcxBE6TTmEr","txnId":"d56d0ff69b62792a00a361fbf6e02e2a634a7a8da1c3e49d59e71e0f19c27875","type":"0"}   5,{"data":{"alias":"korea","client_ip":"52.79.115.223","client_port":"9702","node_ip":"52.79.115.223","node_port":"9701","services": "VALIDATOR" },"dest":"HCNuqUoXuK9GXGd2EULPaiMso2pJnxR6fCZpmRYbc7vM","identifier":"U38UHML5A1BQ1mYh7tYXeu","txnId":"76201e78aca720dbaf516d86d9342ad5b5d46f5badecf828eb9edfee8ab48a50","type":"0"}   6,{"data":{"alias":"singapore","client_ip":"13.228.62.7","client_port":"9702","node_ip":"13.228.62.7","node_port":"9701","services": "VALIDATOR" },"dest":"Dh99uW8jSNRBiRQ4JEMpGmJYvzmF35E6ibnmAAf7tbk8","identifier":"HfXThVwhJB4o1Q1Fjr4yrC","txnId":"51e2a46721d104d9148d85b617833e7745fdbd6795cb0b502a5b6ea31d33378e","type":"0"}   7,{"data":{"alias":"virginia","client_ip":"34.225.215.131","client_port":"9702","node_ip":"34.225.215.131","node_port":"9701","services": "VALIDATOR" },"dest":"EoGRm7eRADtHJRThMCrBXMUM2FpPRML19tNxDAG8YTP8","identifier":"SPdfHq6rGcySFVjDX4iyCo","txnId":"0a4992ea442b53e3dca861deac09a8d4987004a8483079b12861080ea4aa1b52","type":"0"}   8,{"data":{"alias":"icenode","client_ip":"185.102.43.35","client_port":9792,"node_ip":"185.102.43.35","node_port":9791,"services": "VALIDATOR" },"dest":"2VMDBjJCqxEonfaTcwvyBy5J473H2u65ZqQhPHx47iDG","identifier":"8KSy24k3x1YoviorD8n8Li","reqId":1502122356574315,"signature":"5DEBmucbHssW8MZKVTN6AF2eB9ibywb9n5wy7aNExy3zxfrWs7eumVbMbBsbsbAAHTN26vpgkD8APMx3dAt56Eqq","txnTime":1502122359,"type":"0"}   9,{"data":{"alias":"icenode","services":  },"dest":"2VMDBjJCqxEonfaTcwvyBy5J473H2u65ZqQhPHx47iDG","identifier":"8KSy24k3x1YoviorD8n8Li","reqId":1505151569077969,"signature":"4an4Ym52Je8VUpY1ZJGzuJNJducfXCXHAGf9gTFhh3Sf8D8vmCNj3oc2fh5x4ym7ETXcoqnqi1MxKA6fCgrZjUSb","txnTime":1505151570,"type":"0"}  {code} He did this because the dest had been changed, and 2VMDBjJCqxEonfaTcwvyBy5J473H2u65ZqQhPHx47iDG was no longer correct. He then attempted to add a node with the correct dest, but was denied because there was already a node associated with the steward.  Rather than checking on node creation for *1 node per steward*, the check should occur when _promoting or creating_ a node to allow only *1 validator per steward*.     ></description> </Issue>
