<Action id="65316" issue="43133" author="sergey.khoroshavin" type="comment" created="2019-11-06 12:14:25.0" updateauthor="sergey.khoroshavin" updated="2019-11-06 12:14:25.0"> <body><! CDATA *Estimates for Option 1* * Development: 2-3 days ** Script itself - generic implementation, which performs audit and applies fixes to diverged transactions in audit ledger - up to 2 days (some work was already started when we experienced problems with BuilderNet) ** Migration - call audit fixup script during upgrade - up to 1 day * Testing: 4-5 days ** Test script on ledgers from MainNet - couple of hours, but getting data itself can take day or more ** Negative scenario - start pool with 1.10.0 (which doesn't have this problem), write some transactions (including problematic auth rules), test upgrade with migration, ensure that state and audit ledger are untouched, and pool is functional - test itself probably is half a day, but if it uncovers some problems it might be needed to be done again, so it makes sense to book at least 1 day for it ** Positive scenario - start pool with 1.9.1 (version with problem), write some transactions (including problematic auth rules), test upgrade with migration, ensure that state and audit ledger are patched, pool is functional, and new node can join after that - test itself could take up to full day (we'll need to test full chain of upgrades), but if it uncovers some problems it might be needed to done again, so it makes sense to book at least 2 days for it  *Overall*: it looks like whole task can be done in 6-8 days by one developer, but given high risks and high stakes (patching ledgers on MainNet) I would book full sprint (10 days) for 1 developer.   ></body> </Action>
<Action id="65357" issue="43133" author="esplinr" type="comment" created="2019-11-07 18:44:58.0" updateauthor="esplinr" updated="2019-11-07 18:44:58.0"> <body><! CDATA We are tracking the concern specific to the Sovrin Network here:  https://sovrin.atlassian.net/browse/SN-9   We'll pick the resolution on that issue.  ></body> </Action>
<Action id="65386" issue="43133" author="toktar" type="comment" body="After a detailed analysis of the logs and states, the assumption of the problem with AUTH_RULEs was confirmed. We need to select the preferred option and apply it." created="2019-11-08 14:29:40.0" updateauthor="toktar" updated="2019-11-08 14:29:40.0"/>
<Action id="65423" issue="43133" author="ashcherbakov" type="comment" created="2019-11-11 13:19:04.0" updateauthor="ashcherbakov" updated="2019-11-11 13:19:04.0"> <body><! CDATA Proposed solution: 1) Do Option 2 (send 2 AUTH_RULE txns) 2) If we care about auditability, then do either Option 1 (INDY-2291) or Option 3 (INDY-2292)  ></body> </Action>
<Action id="65647" issue="43133" author="ashcherbakov" type="comment" body="Will be fixed by INDY-2292" created="2019-11-20 14:00:07.0" updateauthor="ashcherbakov" updated="2019-11-20 14:00:07.0"/>
