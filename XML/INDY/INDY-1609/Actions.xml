<Action id="49195" issue="33022" author="ckochenower" type="comment" created="2018-08-21 23:51:02.0" updateauthor="ckochenower" updated="2018-08-21 23:51:18.0"> <body><! CDATA Note to self:  Running the following command will randomly (\-o 3) demote and promote (timeout after 120 seconds of trying to change the node's services to blank) one node (\-d 1) at a time. However, the primary will be excluded (\-\-include\-primary NO) when the random node is selected. Doing so prevents a view change from being triggered.  {code}./scripts/run-demote-promote --include-primary NO --include-backup-primaries YES --include-other-nodes YES -d 1 -s 120 -o 3 -e 1000 2>&1 > /home/ubuntu/run-demote-promote.out{code}  ></body> </Action>
<Action id="49253" issue="33022" author="ckochenower" type="comment" body="I ran the following script in a detached (screen) terminal last night:" created="2018-08-22 17:14:58.0" updateauthor="ckochenower" updated="2018-08-22 17:14:58.0"/>
<Action id="49254" issue="33022" author="ckochenower" type="comment" created="2018-08-22 17:14:58.0" updateauthor="ckochenower" updated="2018-08-22 17:17:06.0"> <body><! CDATA I ran the following script in a detached (screen) terminal last night and the pool fell out of consensus in 6 iterations of the experiment and remained out of consensus for over 17 hours:  {code} ./scripts/run-demote-promote --include-primary NO --include-backup-primaries YES --include-other-nodes YES -d 1 -s 120 -o 3 -e 1000 2>&1 > /home/ubuntu/run-demote-promote.out {code}  !Screen Shot 2018-08-22 at 11.13.08 AM.png|thumbnail!   !Screen Shot 2018-08-22 at 11.13.20 AM.png|thumbnail!     ></body> </Action>
<Action id="49265" issue="33022" author="ckochenower" type="comment" created="2018-08-22 19:36:42.0" updateauthor="ckochenower" updated="2018-08-23 14:52:19.0"> <body><! CDATA I ran the aforementioned run-demote-promote script a second time with the same parameters and the pool fell out of consensus in 8 iterations of the experiment.  !Screen Shot 2018-08-22 at 1.34.39 PM.png|thumbnail!   I will create a ticket (INDY-1640) and attach node logs, the experiment log, and nscapture archives (minutes of recording vs hours).   ></body> </Action>
