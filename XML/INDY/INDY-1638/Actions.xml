<Action id="49330" issue="33133" author="ashcherbakov" type="comment" body="Will be fixed in https://jira.hyperledger.org/browse/INDY-1642" created="2018-08-24 08:24:19.0" updateauthor="ashcherbakov" updated="2018-08-24 08:24:19.0"/>
<Action id="49331" issue="33133" author="anikitindsr" type="comment" created="2018-08-24 08:27:28.0" updateauthor="anikitindsr" updated="2018-08-24 08:27:28.0"> <body><! CDATA After logs and code analizing was noticed, that we have a error with request forming during PREPREPARE building. When primary is building a PREPREPARE request, it making a dynamic validation and create 2 list of valid and invalid requests. After this, reqIdr list will be formed as simple concatenating valid and invalid lists. Then, node which received this PREPREPARE will trying to validating list of reqIdrs durinng dynamic validation, but order of requests on primary and other nodes would be different. In case of revocation , when we need to apply transactions in a special order (one by one), it would be very critical. Therefore, during PREPREPARE validation other nodes, in result, will have less or more rejected request (by dynamic validation reason) and will raise suspicious on primary and send an InstanceChange message. Ticket with fix would be INDY-1642  ></body> </Action>
