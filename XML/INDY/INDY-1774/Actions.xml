<Action id="52654" issue="34874" author="sergey.khoroshavin" type="comment" created="2018-10-25 16:35:17.0" updateauthor="sergey.khoroshavin" updated="2018-10-25 16:35:17.0"> <body><! CDATA It would be great to reduce RAM on some (3 is enough) nodes to 4 Gb to see whether it affects memory consumption. Their IDs should be in 15-25 range.  Also this test can be combined with INDY-1769, but in this case number of nodes with file storages should be really small (3 is enough) and their IDs should be in 15-25 range. This requirement is due to fast performance degradation of file storages with increasing size of ledger, so these nodes shouldn't be primaries and their number should be less than _f_ so they won't affect performance of other nodes. Nodes with file storages shouldn't overlap with nodes with reduced RAM.  Also during previous tests it was seen that there is almost no difference in memory consumption between 1 NYM/sec and 10 NYMs/sec, so if this test is really combined with INDY-1769 it make sense to run with just 1 NYM/sec so that performance degradation of file storage won't become apparent too fast.  ></body> </Action>
<Action id="52674" issue="34874" author="ashcherbakov" type="comment" created="2018-10-26 09:32:01.0" updateauthor="ashcherbakov" updated="2018-10-26 14:40:05.0"> <body><! CDATA In order to efficiently run load, we can combine multiple checks and run the following test for weekends:  Prepare Pool: * 25 Nodes * 4 GB RAM on Nodes 20, 21 and 22 * 8 GB RAM on other Nodes  Configure Indy-Node: * Install Indy-Node 1.6.678 * Enable metrics * Use file Storage (see INDY-1769) on Nodes 23 and 24  Run load test: * 1 NYM per second  ></body> </Action>
<Action id="52690" issue="34874" author="vladimirwork" type="comment" body="Load test has been started at 18:40 10/26 and stopped at 12:00 10/29." created="2018-10-26 15:39:41.0" updateauthor="vladimirwork" updated="2018-10-29 10:04:59.0"/>
<Action id="52728" issue="34874" author="vladimirwork" type="comment" created="2018-10-29 12:08:41.0" updateauthor="vladimirwork" updated="2018-10-29 12:08:41.0"> <body><! CDATA Actual Results: Pool has written 230k txns successfully and was in consensus at the end of load test. 23 and 24 nodes don't order any txn but catch up them from other nodes. !Figure_node5_ram8.png|thumbnail!  !Figure_node15_ram8.png|thumbnail!  !Figure_node20_ram4.png|thumbnail!   All logs and journals are in ev@evernymr33:logs/1774_1.tar.gz  ></body> </Action>
<Action id="52978" issue="34874" author="vladimirwork" type="comment" body="Load {noformat}nohup perf_processes.py -g live_transactions_genesis -c 10 -n 1 -l 10 -k nym -y one -b 100 &amp;{noformat} has been started at 18:15 11/02 and stopped at 10:15 11/06." created="2018-11-02 15:17:53.0" updateauthor="vladimirwork" updated="2018-11-06 07:25:39.0"/>
<Action id="53068" issue="34874" author="vladimirwork" type="comment" created="2018-11-06 10:19:56.0" updateauthor="vladimirwork" updated="2018-11-06 10:19:56.0"> <body><! CDATA Actual Results: Pool has written 3.15m txns successfully and was in consensus at the end of load test.  !node5.png|thumbnail!  !node15.png|thumbnail!   All logs and journals are in ev@evernymr33:logs/1774_2.tar.gz Metrics are in metrics_1774_2.7z  ></body> </Action>
<Action id="53074" issue="34874" author="sergey.khoroshavin" type="comment" created="2018-11-06 12:01:10.0" updateauthor="sergey.khoroshavin" updated="2018-11-06 12:01:10.0"> <body><! CDATA Load  {code} perf_processes.py -g pool_transactions_genesis -m t -n 1 -c 1 -l 10 -y one -k nym {code} was run against 4-node docker pool for 6 days. !Screenshot from 2018-11-06 14-18-03.png|thumbnail!   ></body> </Action>
