<Action id="45896" issue="31000" author="ignisvulpis" type="comment" created="2018-06-13 17:21:20.0" updateauthor="ignisvulpis" updated="2018-06-13 17:21:20.0"> <body><! CDATA I changed validator-info adding a try-catch and one retry after a one second sleep.  Currently testing whether the error occurs again.  Trying to provoke it be calling validator-info 600 times with 1 second sleep did not work so the patch seems to fix the issue.  Axel {quote}    with open(fpath) as f:         try:             stats = json.loads(f.read())         except json.decoder.JSONDecodeError as e:             # if the first read fails try again after a short while             logger.warning("reading \{} failed \{}. retrying".format(f,e))             sleep(1);             stats = json.loads(f.read())    {quote}    ></body> </Action>
<Action id="47108" issue="31000" author="anikitindsr" type="comment" created="2018-07-09 14:55:35.0" updateauthor="anikitindsr" updated="2018-07-09 14:55:35.0"> <body><! CDATA Reason: * Need to handle empty node info files properly  Changes: * for now, while validator-info try to read empty json file, "invalid json format" will be return as result  Version: * indy-node 1.4.495  Recommendation for QA: * clean all info files for indy-node (for example, Node1_info.json and Node1_additional_info.json) and run validator-info script. * Expected result - any Traceback or other errors must be absent  ></body> </Action>
<Action id="47154" issue="31000" author="vladimirwork" type="comment" created="2018-07-10 13:04:02.0" updateauthor="vladimirwork" updated="2018-07-10 13:04:02.0"> <body><! CDATA Build Info: indy-node 1.4.495  Steps to Validate: 1. Clean all info files for indy-node. 2. Run validator-info script.  Actual Results: {noformat} root@d2a7213239e9:/var/lib/indy/sandbox# validator-info  There are no info files in /var/lib/indy/sandbox root@d2a7213239e9:/var/lib/indy/sandbox# validator-info -v There are no info files in /var/lib/indy/sandbox root@d2a7213239e9:/var/lib/indy/sandbox# validator-info --json There are no info files in /var/lib/indy/sandbox {noformat}  ></body> </Action>
