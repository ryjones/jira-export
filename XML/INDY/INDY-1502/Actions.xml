<Action id="47647" issue="32083" author="sergey.khoroshavin" type="comment" created="2018-07-23 12:59:14.0" updateauthor="sergey.khoroshavin" updated="2018-07-23 12:59:14.0"> <body><! CDATA *Problem reason:* Temporary file is created by log rotation handler before compressing in order to avoid blocking. If node crashes or restarts during rotation compressed file is not created and data remains in uncompressed temporary file only. Since this temporary file always have same name, it can lead to loss of log data in case of multiple crashes during rotation.  *Changes:* When logs are rotated temporary file is now named just like ordinary uncompressed rotated log would be. This both removes problem with loss of data and makes understanding where uncompressed log file belongs easier.  *PR:* https://github.com/hyperledger/indy-plenum/pull/831  *Version:* indy-plenum: 1.5.470-master  *Risk:* Medium  *Risk factors:* While log rotation logic is already covered by a number of tests some edge cases still might come up  ></body> </Action>
<Action id="48167" issue="32083" author="zhigunenko.dsr" type="comment" created="2018-07-31 09:16:50.0" updateauthor="zhigunenko.dsr" updated="2018-07-31 09:16:50.0"> <body><! CDATA *Environment:* indy-node 1.5.528 indy-plenum 1.5.480  *Actial results:* Temporary file is now named just like ordinary log file    ></body> </Action>
