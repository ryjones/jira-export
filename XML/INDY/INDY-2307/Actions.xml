<Action id="65809" issue="43484" author="toktar" type="comment" created="2019-11-27 13:59:32.0" updateauthor="toktar" updated="2019-11-28 08:36:38.0"> <body><! CDATA *Problem reason:* - Versioned state restoring works only for Config ledger but this feature is also needed for other ledgers.  *Changes:* - Create a dict with version-timestamp in Config state restoring. - Use the dict to restore other ledgers.  *PR:* *  https://github.com/hyperledger/indy-plenum/pull/1419  *  https://github.com/hyperledger/indy-node/pull/1519  *  https://github.com/sovrin-foundation/token-plugin/pull/352    *Version:* * sovrin - #174 - master * token-plugin #122 - master * indy-node 1.12.0.dev1142 -master * indy-plenum 1.12.0.dev966 -master  *Risk factors:* - Problems with a state restoring  *Risk:* - Medium  *Tests:* *  test_leder_state_recovery_with_different_versions.py|https://github.com/sovrin-foundation/token-plugin/pull/352/files#diff-fb7b1c6a068592493b156958c4e143ca    *Recommendations for QA:* * Write a system test: ** UPGRADE_POOL to 1.9.0 ** Send mint and xfer ** UPGRADE_POOL to latest version ** Promote a new node ** Restart an old node with a states removing ** Send mint and xfer ** Check that all nodes have a same data  ></body> </Action>
<Action id="65830" issue="43484" author="vladimirwork" type="comment" created="2019-11-28 08:27:23.0" updateauthor="vladimirwork" updated="2019-11-28 08:27:23.0"> <body><! CDATA Build Info: indy-node 1.9.0 plugins 1.0.0  Steps to Validate: 1. Install sovrin 1.1.50 pool. 2. Upgrade it to 1.1.50 with reinstall. 3. Mint tokens and sent a few payments. 4. Upgrade pool to the latest stable using pool upgrade command. 5. Upgrade pool to the latest master (1.1.174 sovrin / 1.12.0~dev1142 indy-node) using apt. 6. Add new node to the pool and wait for catchup. 7. Sent a few payments.  Actual Results: All txns were written and catched up. Ledgers and states at all nodes are in sync.  ></body> </Action>
