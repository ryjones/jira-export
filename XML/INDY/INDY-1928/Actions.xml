<Action id="55093" issue="36362" author="esplinr" type="comment" body=" ~ashcherbakov :  ~mgbailey  requested that this not appear in the default output. We can move it to the default output in the future if he finds that he uses it regularly." created="2018-12-21 13:16:21.0" updateauthor="esplinr" updated="2018-12-21 13:16:21.0"/>
<Action id="55523" issue="36362" author="anikitindsr" type="comment" created="2019-01-11 10:03:12.0" updateauthor="ashcherbakov" updated="2019-02-11 12:21:08.0"> <body><! CDATA h2. *Plan of attack*  *Requirement*  We need to add "pool in write consensus" indication and the last time when the state was updated into output of validator info script.  *What to do*  In the scope of already implemented INDY-933 task, we have a "freshness" mechanism which can give last_updated time for each ledger. Summarizing  we need to: * get the last_updated value from FreshnessState for each ledger in ledger_ids * compare last_updated value with value from the last check. If difference beetween the current last_updated value and the current time less then 2*FRESHNESS_TIMEOUT, then we don't have a write consensus for this ledger (setup corresponded flag in False). *  extend section "Node_info"to format, like:  "Freshness_status": { "ledger_id": \{         "Last_updated_time": "time when state was updated",         "Has_write_consensus": "True or False"      } }  *How to do*  This suggestion will be integrated in existing validator-info dumping procedure.  ></body> </Action>
<Action id="56147" issue="36362" author="anikitindsr" type="comment" created="2019-01-24 09:30:55.0" updateauthor="anikitindsr" updated="2019-01-24 09:30:55.0"> <body><! CDATA Reasons: * need to add Freshness_status into validator-info output  Changes: * changed last_updated to timestamp representation * added method for ppTime and last_updated in freshness * added Freshness section into validator-info output with structure like in PoA  Version: * indy-node: 1.6.770  Recomendation for QA: * check, that there is section Freshness_status into Node_info section of 'validator-info -v' output * check, that get-validator-info cmd include Freshness_status info * check, that Freshness_status info will changed when freshness updates * stop 2 nodes from 4, wait for 2 Freshness timeouts and check, that Has_write_consensus changed to False        ></body> </Action>
<Action id="56246" issue="36362" author="vladimirwork" type="comment" created="2019-01-28 08:01:31.0" updateauthor="vladimirwork" updated="2019-01-28 08:01:31.0"> <body><! CDATA Build Info: indy-node 1.6.771  Steps to Validate: 1. Check, that there is section Freshness_status into Node_info section of 'validator-info -v' output. 2. Check, that get-validator-info cmd include Freshness_status info. 3. Check, that Freshness_status info will changed when freshness updates. 4. Stop 2 nodes from 4, wait for 2 Freshness timeouts and check, that Has_write_consensus changed to False.  Actual Results: Freshness status is displayed and is actual.  ></body> </Action>
