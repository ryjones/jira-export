<Action id="49588" issue="33342" author="ashcherbakov" type="comment" body="Fixed in https://github.com/hyperledger/indy-plenum/pull/902" created="2018-08-30 07:33:18.0" updateauthor="ashcherbakov" updated="2018-08-30 07:33:18.0"/>
<Action id="49595" issue="33342" author="sergey.khoroshavin" type="comment" created="2018-08-30 08:39:19.0" updateauthor="sergey.khoroshavin" updated="2018-08-30 08:39:19.0"> <body><! CDATA *Problem reason* There is a place in the monitor where we have quadratic asymptotic for 3PC batch size. It also gets worse with growing number of queued but still unordered requests.  *Changes* Instead of iterating through all queued requests there is now request cache based on hash map so loop over queued requests is replaced with O(1) lookup which brings total asymptotic back to linear with 3PC batch size.  *PR* https://github.com/hyperledger/indy-plenum/pull/902  *Versions* indy-node >= 1.6.586 indy-plenum >= 1.6.529  *Risk* Low  *Covered by tests* https://github.com/hyperledger/indy-plenum/blob/4cdafcd1188e32b9d8c647d9b36705bf2726e747/plenum/test/monitoring/test_request_time_tracker.py  *Recommendations for QA* Run load test against 25-node AWS pool which tries to write 40 NYMs per second. Make sure that at least 20 NYMs per second are ordered and this performance is sustained for at least half an hour.  ></body> </Action>
