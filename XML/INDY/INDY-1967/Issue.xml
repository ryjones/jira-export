<Issue id="37189" key="INDY-1967" number="1967" project="10303" reporter="ozheregelya" creator="ozheregelya" type="10004" summary="ANYONE_CAN_WRITE = True breaks roles validation" priority="2" resolution="10000" status="10001" created="2019-01-28 14:34:22.0" updated="2019-06-14 14:20:11.0" resolutiondate="2019-06-14 14:20:11.0" votes="0" watches="2" workflowId="48770"> <description><! CDATA *Environment:* indy-node 1.6.772  *Steps to Reproduce:*  1. Set ANYONE_CAN_WRITE = True in node configs, restart the pool. 2. Run acceptance batch  https://github.com/hyperledger/indy-node/blob/master/acceptance/indy-cli-batches/AS-03-01-identity-owner-anyone-can-write.batch  3. Compare actual and expected results.  *Actual Results:* Identity Owner can blacklist Trustee, create Steward etc.  *Expected Results:* ANYONE_CAN_WRITE = True should not break roles validation for NYM txn.  *Additional Information:* * This issue is actual not only for Identity Owner. For example, Steward can create Trustee: {code:java} pool(p4):wallet(AS-03-wallet-owner):did(Ahq...xCn):indy> ledger get-nym did=CbPwHxKEibPhV4pgXWpu26 Following NYM has been received. Metadata: +------------------------+-----------------+---------------------+---------------------+ | Identifier             | Sequence Number | Request ID          | Transaction time    | +------------------------+-----------------+---------------------+---------------------+ | AhqUV2zHYdNaWLFCCe7xCn | 27              | 1548685898206190160 | 2019-01-28 14:13:16 | +------------------------+-----------------+---------------------+---------------------+ Data: +------------------------+------------------------+-------------------------+---------+ | Identifier             | Dest                   | Verkey                  | Role    | +------------------------+------------------------+-------------------------+---------+ | LBbKEeczA9iL21p4Kgxcuf | CbPwHxKEibPhV4pgXWpu26 | ~MviYa49QADQXAM68WSiLPD | STEWARD | +------------------------+------------------------+-------------------------+---------+ pool(p4):wallet(AS-03-wallet-owner):did(Ahq...xCn):indy> did use CbPwHxKEibPhV4pgXWpu26 Did "CbPwHxKEibPhV4pgXWpu26" has been set as active pool(p4):wallet(AS-03-wallet-owner):did(CbP...u26):indy> ledger nym did=CbPwHxKEibPhV4pgXWpu11 role=TRUSTEE Nym request has been sent to Ledger. Metadata: +------------------------+-----------------+---------------------+---------------------+ | From                   | Sequence Number | Request ID          | Transaction time    | +------------------------+-----------------+---------------------+---------------------+ | CbPwHxKEibPhV4pgXWpu26 | 44              | 1548685914743831922 | 2019-01-28 14:31:54 | +------------------------+-----------------+---------------------+---------------------+ Data: +------------------------+---------+ | Did                    | Role    | +------------------------+---------+ | CbPwHxKEibPhV4pgXWpu11 | TRUSTEE | +------------------------+---------+ {code}  * This issue is actual only for NYM txns, pool restart and get-validator-info works well. * Note that attached expected result accords to previous version of batch, so some cases absent there.  ></description> </Issue>
