<Issue id="41696" key="INDY-2200" number="2200" project="10303" reporter="sergey.khoroshavin" assignee="sergey.khoroshavin" creator="sergey.khoroshavin" type="10002" summary="Use production-like environment in simulation tests" priority="3" resolution="10000" status="10001" created="2019-08-08 09:49:15.0" updated="2019-10-01 11:00:05.0" resolutiondate="2019-08-13 14:26:24.0" votes="0" watches="1" workflowId="54730"> <description><! CDATA Currently simulation tests run in environment which is agnostic of ledgers. However in order to make sure our implementation is really correct these tests need to interact with ledgers (especially audit ledger) in the same way production code interacts with them. In other words - simulation tests should create ledgers and register request handlers with the same code which runs in production.  The problem here is that production code that performs initialization is still tightly coupled with node, which is slow and hard to initialize (due to network, databases and lots of other cruft), so simulation tests would take forever to run. So, we need to decouple node initialization code and make it possible to run with in-memory storages instead of RocksDB  *Acceptance criteria* * Make ledgers and request handlers initialization code agnostic of node * Make it possible to use in-memory ledger storage in tests * Use new initialization code in simulation tests and make sure they are still deterministic and run in sensible time  ></description> </Issue>
