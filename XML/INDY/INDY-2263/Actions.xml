<Action id="65466" issue="42974" author="sergey.khoroshavin" type="comment" created="2019-11-12 09:39:47.0" updateauthor="sergey.khoroshavin" updated="2019-11-12 09:56:32.0"> <body><! CDATA *PoA* * Introduce InstanceChangeService ** Created by node and test ReplicaService ** Subscribes to RaisedSuspicion to warn and send instance change *** Probably it makes sense to introduce new internal message for simplicity and after implementation is complete merge old and one ** Subscribes to InstanceChange messages, sends NeedViewChange messages * Make InstanceChangerService the only place where InstanceChange message is sent * Remove "bad seeds" from simulation tests, make sure they pass now * Remove old ViewChanger  ></body> </Action>
<Action id="66138" issue="42974" author="sergey.khoroshavin" type="comment" body="*PR* https://github.com/hyperledger/indy-plenum/pull/1405" created="2019-12-05 22:58:00.0" updateauthor="sergey.khoroshavin" updated="2019-12-05 22:58:00.0"/>
<Action id="66154" issue="42974" author="sergey.khoroshavin" type="comment" created="2019-12-06 14:07:56.0" updateauthor="sergey.khoroshavin" updated="2019-12-06 14:07:56.0"> <body><! CDATA *Problem description* Current view change triggering mechanics is spread across legacy ViewChanger class and monolithic Node, which are not unit testable. As a consequence this logic was not tested by simulation tests. Also code was quite tangled and hard to follow.  *Solution* Move view change triggering code into separate self-contained services.  *PR* https://github.com/hyperledger/indy-plenum/pull/1405  *Versions* sovtoken 1.0.6~dev128 indy-node 1.12.1~dev1154 indy-plenum 1.12.1~dev974  *Risk* Medium  *Risk factors* There was quite a big refactoring, some of logic could be missing  *Recommendations for QA* Testing will be done in scope of INDY-2148  ></body> </Action>
