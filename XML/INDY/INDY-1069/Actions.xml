<Action id="39239" issue="26262" author="sergey-shilov" type="comment" created="2018-01-29 09:31:52.0" updateauthor="sergey-shilov" updated="2018-01-29 09:31:52.0"> <body><! CDATA *Problem state / reason:*  Test case: # An indy-node receives NYM transaction sent by non-trustee and starts ordering; # The indy-node receives the same NYM transaction with the same request ID (this may occur in case of pre-prepare came before client request, client re-send etc.); # The indy-node answers with REQNACK instead of sending answer from cache.  Such behaviour caused by NYM access rights check (state-related check) done during static validation.  *Changes:*  Moved NYM access rights check from static validation to dynamic validation routine.  *Committed into:*   https://github.com/hyperledger/indy-node/pull/531   indy-node 1.2.284-master  *Risk factors:*      Nothing is expected.  *Risk:*      Medium  *Recommendations for QA:*  Do the following test using indy-cli as a client: # Setup pool, run indy-cli client with enabled debug logging (RUST_LOG=trace); # As a Steward send NYM request, indy-cli will log raw request to console; # Copy this request and send it as a raw request (to emulate re-sending); # The indy-cli client should receive the same answer as after the first request.  The following test may be done just to check incorrect client behaviour (not tested yet): do the steps described above but: # Change verkey; # Change NYM.  ></body> </Action>
<Action id="39424" issue="26262" author="vladimirwork" type="comment" created="2018-01-31 13:34:51.0" updateauthor="vladimirwork" updated="2018-01-31 13:34:51.0"> <body><! CDATA Build Info: indy-node 1.2.288  Steps to Validate: 1. Setup pool, run indy-cli client with enabled debug logging (RUST_LOG=trace). 2. As a Steward send NYM request, indy-cli will log raw request to console. 3. Copy this request and send it as a raw request using `ledger custom {...}` (to emulate re-sending).  Actual Results: There are ACK and REPLY messages after first NYM sending and REPLY messages only after all next NYM resendings.  ></body> </Action>
