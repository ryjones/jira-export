<Action id="37703" issue="25762" author="ashcherbakov" type="comment" created="2017-12-21 09:25:46.0" updateauthor="ashcherbakov" updated="2017-12-21 09:25:46.0"> <body><! CDATA Any GET_TXN result has the following form: {code} { "identifier": <request_identifier>                        # GET_TXN req identifier (DID who sent it) "reqId": <request_req_id>                                 # GET_TXN req id "type": <req_type>,                                           # GET_TXN type (=3) "data": <txn_from_ledger_with_metadata>,       # txn as is on the ledger plus "rootHash" and "auditPath" metadata to make sure that txn really belongs to the ledger "seqNo": <txn_seq_no>                                     # txn seq_no as on the ledger } {code} So,  1) 'seqNo' is duplicated (it's already present in 'data' as part of the transaction on the ledger. This should be fixed. 2) there is just one 'data' in the template meaning the transaction data. But some types of transactions (SCHEMA and CLAIM_DEF in particular) may have their own 'data' field. It would be nice to fix it, but I don't think it's so critical.  So, the PoA: 1) Fix duplicate 'seqNo' by having it only in txn 'data' - we should take into account backward-compatiblity problem, so that old clients may expect seqNo outside data. However, I'm not sure that we have any existing clients that rely on this, so probably this is ok just to remove it in this particular case. 2) Fix duplicate data fields (Optional) - Rename Replies' 'data' to 'transaction' or 'transaction_data' - Support backward-compatibility with old clients using PROTOCOL VERSION (see INDY-1066)   ></body> </Action>
<Action id="39538" issue="25762" author="ashcherbakov" type="comment" body="This is will be done as part of INDY-1108." created="2018-02-01 18:24:08.0" updateauthor="ashcherbakov" updated="2018-02-01 18:24:08.0"/>
