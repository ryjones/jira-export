<Issue id="33504" key="INDY-1682" number="1682" project="10303" reporter="toktar" assignee="vladimirwork" creator="toktar" type="10002" summary="Improve the switch off replica logic to collecting all reasons (not only disconnected primary)" priority="3" resolution="10000" status="10001" created="2018-09-05 09:31:34.0" updated="2019-03-29 20:34:17.0" resolutiondate="2019-03-29 20:34:17.0" votes="0" watches="2" workflowId="44792"> <description><! CDATA A backup replica should be switch off not only with disconnected backup primary (task:Â INDY-1681) but with backup instance degradation. It shouldn't send BACKUP_INSTANCE_FAULTY but should collect its own messages with this type.  *Acceptance criteria:* - Implement a new strategy (see INDY-1681) which will check for performance degradation (the same way as master does) in addition to disconnections - switch off a backup replica when it has more then M its BACKUP_INSTANCE_FAULTY messages in K time. - add tests to check correct replica switch off - testing performance changes (shouldn't be worse) after disconnect or degraded a backup primary node. - testing memory consumption (should be better in case a backup primary node degraded)  ></description> </Issue>
