<Action id="48699" issue="32674" author="anikitindsr" type="comment" created="2018-08-10 10:32:56.0" updateauthor="anikitindsr" updated="2018-08-10 10:32:56.0"> <body><! CDATA Logs and code investigation showed, that: - view_change was not in progress, there is no catchup procedure. - there is no any discarding in logs - all backup replicas ordered all incoming request as master's replica on other nodes - also, master replica received all checkpoint's messages that exclude some networks problems.  Other notes: # Lagged nodes sent InstanceChange messages for MasterDegraded reason. This issue will be investigated in the scope ofÂ INDY-1565. # Need to add more significant data in logging for case, when "Unordered request was not found in prePrepares". For example, will be helpful information about received Prepares and Commits.  Transactions was not ordered on nodes: Node13, Node15, Node16 because there is no received PrePrepares. There is 3 main reasons why: * Some networks problems * "Silent" discarding. Received Preprepare was discarded and there is no information in logs (on info level) about it * Was received quorum of CHECKPOINT messages and current checkpoint was stabilized (also remove Preprepares to checkpoint seqNoEnd)  Also, if node will reach 2 not stable checkpoints, then catchup will starting. In this case, after receiving next quorumed CHECKPOINTs lagged node should starting catchup.  ></body> </Action>
