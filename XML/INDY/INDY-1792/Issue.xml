<Issue id="34916" key="INDY-1792" number="1792" project="10303" reporter="sergey.khoroshavin" assignee="andkononykhin" creator="sergey.khoroshavin" type="10002" summary="Improve usability of current pool automation PoC" priority="3" resolution="10000" status="10001" created="2018-10-26 11:17:38.0" updated="2019-03-29 20:32:36.0" resolutiondate="2019-03-29 20:32:36.0" votes="0" watches="2" workflowId="46339"> <description><! CDATA Current PoC pool automation require changing root playbooks in order to alter configuration parameters, which is inconvenient and error prone. It would be much better to have following workflow: * create experiment directory using some tool (probably bash/python script or yet another playbook) ** invocation of tool should be as simple as something like _init_pool <experiment-name>_ ** directory should be populated with some sensible default configuration, including number and type of instances created and versions of software installed ** ideally experiment directory should be usable as ansible inventory (so later ansible invocations could look as simple as _ansible-playbook -i <experiment-name> <playbook-name>_) ** probably it would be also good to have some software configuration files (like indy_config.py) in experiment directory as well ** subsequent invocation of tool with same experiment name should NOT overwrite existing directory * modify parameters/configuration files in experiment directory * run pool_create/pool_install/whatever playbook passing experiment directory (or some subdirectory) as inventory * playbooks are allowed to modify experiment directory (for example to update information about hosts or retrieve logs) * when done run pool_destroy (which should shut down AWS instances), attach retrieved data to JIRA issue if needed and delete experiment directory  Probably this better be done in conjunction with INDY-1788  ></description> </Issue>
