<Action id="53085" issue="34916" author="andkononykhin" type="comment" created="2018-11-06 15:27:38.0" updateauthor="andkononykhin" updated="2018-11-06 15:27:38.0"> <body><! CDATA *PoA*: # create script that: ** explores roles' variables using defaults ** provide command line API that allows user to specify custom values for explored variables ** creates inventory directory with hierarchy  acceptable for ansible|https://docs.ansible.com/ansible/latest/user_guide/intro_inventory.html#splitting-out-host-and-group-specific-data%C2%A0  ** dumps yamls with variables with custom values and commented defaults # improve roles to check that required variables are defined  ></body> </Action>
<Action id="53086" issue="34916" author="andkononykhin" type="comment" created="2018-11-06 15:27:50.0" updateauthor="andkononykhin" updated="2018-11-06 15:27:50.0"> <body><! CDATA PR is under review: https://github.com/hyperledger/indy-node/pull/1007  ></body> </Action>
<Action id="53209" issue="34916" author="andkononykhin" type="comment" created="2018-11-08 12:07:11.0" updateauthor="andkononykhin" updated="2018-11-08 12:07:11.0"> <body><! CDATA *Problem reason*:  there was no way how to easy configure ansible roles without patching them  *Changes*:  improved bootstrap routine: renamed common role to ansible_bootstrap and leave there only bootstrapping logic added docker as default molecule engine for all configuration roles (ansible_bootstrap, node_install, pool_install) * created script _scripts/inventory-init.py_ that: ** creates inventory directory ** explores available roles for defaults ** provides API to pass custom values for variables ** dumps config file as group_vars ** Inventory's group_vars might be passed to playbooks as well as to molecule.  *Committed into*:   https://github.com/hyperledger/indy-node/pull/1007   *Risk factors*:  Nothing is expected.   *Risk*:  Low Â   *Covered with tests*:  existent tests were extended a bit, no new functionality in role to test   *Recommendations for QA*: * since QA for doesn't have ability to run aws related routine no validation from them are expected * was tested by me and  ~sergey.khoroshavin  using our accounts on AWS  ></body> </Action>
