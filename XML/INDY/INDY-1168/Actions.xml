<Action id="42207" issue="27698" author="ashcherbakov" type="comment" body="Please find out whether this is a new or a known issue" created="2018-03-27 13:18:49.0" updateauthor="ashcherbakov" updated="2018-03-27 13:18:49.0"/>
<Action id="42709" issue="27698" author="sergey.khoroshavin" type="comment" created="2018-04-09 09:30:21.0" updateauthor="sergey.khoroshavin" updated="2018-04-09 09:41:24.0"> <body><! CDATA Looking through logs I found that: - all nodes except ricFlair (which is offline) did send PROPAGATE, which means they are functional in some way - transaction was not accepted because only 7 nodes sent PREPARE message (at least 8 needed) - nodes that did not sent PREPARE were australia (which is normal since it's primary), ricFlair (which is offline), brazil, atbsovrin and pcValidator01 - among above mentioned nodes with problems only brazil had logs, and according to them all request messages were pended - this situation can happen only if there is view change in progress, but its start was not captured in these logs - atbsovrin and pcValidator01 behaved very similar to brazil, so most probably they are in the same state as brazil  From these logs there is no further analysis possible since start of view change was not captured.  ></body> </Action>
<Action id="42725" issue="27698" author="mgbailey" type="comment" body=" ~sergey.khoroshavin , please share this information with the team working on INDY-1261 to see if the behavior is the same.  In that case, I believe that the logs posted will have included the view change on March 30." created="2018-04-09 14:23:36.0" updateauthor="mgbailey" updated="2018-04-09 14:24:37.0"/>
<Action id="42733" issue="27698" author="mgbailey" type="comment" created="2018-04-09 16:19:24.0" updateauthor="mgbailey" updated="2018-04-09 16:19:24.0"> <body><! CDATA  ~sergey.khoroshavin , do you see in the logs that it is trying to contact ricFlair, atbsovrin, and pcValidator01?  It should not be.  These are not currently part of the network.  Here is the output of validator-info -v, which gives the correct list of validators in the network: {code:java} alidator australia is running Current time: Monday, April 9, 2018 4:15:15 PM Validator DID: UZH61eLH3JokEwjMWQoCMwB3PMD6zRBvG6NCv5yVwXz Verification Key: 3WKhgs5gCoHv4GP2SDAi4Q7bcFx8R7cEjWX8tnjjKRxJaU3eksm77wP Node Port: 9701/tcp on 0.0.0.0/0 Client Port: 9702/tcp on 0.0.0.0/0 Metrics: Uptime: 3 days, 23 hours, 34 minutes, 38 seconds Total Config Transactions: 28 Total Ledger Transactions: 441 Total Pool Transactions: 29 Read Transactions/Seconds: 0.00 Write Transactions/Seconds: 0.00 Reachable Hosts: 10/10 NewtonD RFCU australia brazil canada england ibm korea singapore virginia Unreachable Hosts: 0/10 Software Versions: indy-node: 1.3.55 sovrin: 1.1.7 {code} The other nodes have all been demoted.     ></body> </Action>
<Action id="42736" issue="27698" author="sergey.khoroshavin" type="comment" created="2018-04-09 16:43:10.0" updateauthor="sergey.khoroshavin" updated="2018-04-09 16:43:10.0"> <body><! CDATA  ~mgbailey   {quote}please share this information with the team working on INDY-1261 to see if the behavior is the same{quote} Dmitry already knows about this  {quote}do you see in the logs that it is trying to contact ricFlair, atbsovrin, and pcValidator01?  It should not be{quote} Which logs are you referring to? Ones attached to INDY-1261?  ></body> </Action>
<Action id="42744" issue="27698" author="mgbailey" type="comment" body=" ~sergey.khoroshavin , no, the ones for the STN (this ticket).  These nodes are not active as validators on the STN. So I don&apos;t understand your comments above about PROPAGATE / PREPARE messages from these nodes.  These nodes should not be sending messages to the STN." created="2018-04-09 20:14:02.0" updateauthor="mgbailey" updated="2018-04-09 20:14:02.0"/>
<Action id="42749" issue="27698" author="sergey.khoroshavin" type="comment" body=" ~mgbailey  Very interesting. According to logs attached here these nodes did send PROPAGATE on request and were included as recipients for PREPARE messages, this is why I concluded they are functional. Is it possible that these nodes were active validators at time when these logs were taken and were demoted at some time later?" created="2018-04-09 21:27:11.0" updateauthor="sergey.khoroshavin" updated="2018-04-09 21:27:11.0"/>
<Action id="42766" issue="27698" author="mgbailey" type="comment" created="2018-04-10 12:57:56.0" updateauthor="mgbailey" updated="2018-04-10 12:57:56.0"> <body><! CDATA I'm attaching the pool ledger:  ^STN_pool_ledger.txt   Look for the transactions where "services":  , which is where the nodes are removed from the network, and you can check the txnTime when this occurred.  ></body> </Action>
<Action id="42769" issue="27698" author="sergey.khoroshavin" type="comment" body=" ~mgbailey  Looked through transactions, pcValidator01 was demoted at 1521825598, but I don&apos;t see anything about ricFlair and atbsovrin, how that could be?" created="2018-04-10 13:06:52.0" updateauthor="sergey.khoroshavin" updated="2018-04-10 13:06:52.0"/>
<Action id="42796" issue="27698" author="mgbailey" type="comment" body="Oh, sorry.  This is an older ticket, I thought it was current.  Back then these nodes were part of the STN.  On Feb 15th the ledger on all nodes was reset and rebuilt from genesis files.  These nodes were dropped from the STN at that point." created="2018-04-10 19:49:19.0" updateauthor="mgbailey" updated="2018-04-10 19:49:19.0"/>
