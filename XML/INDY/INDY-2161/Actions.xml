<Action id="64514" issue="40866" author="donqui" type="comment" created="2019-10-09 21:33:30.0" updateauthor="donqui" updated="2019-10-10 08:04:48.0"> <body><! CDATA *Findings* There was an install error and the process was in fact aborted. What followed was an attempt to rollback any changes made by `apt-get`, and this is what installed the 1.8.1 version.  This happened because the upgrade was from 1.1.6 to 1.1.41: * upgrade to 1.1.41 failed because it required sovtoken and sovtokenfees to be specified * the rollback tried to rollback to 1.1.6, but because this was an old package it did not have strict dependencies, which caused the newest version to be installed  We now always pin versions and use stric dependencies so a problem like this should never occur.  *Example Test* # deploy a pool with 1.9.0 version # go to node1 and forcefully update indy crypto packages ## apt-get download python3-indy-crypto=0.5.1 libindy-crypto=0.5.1 ## dpkg --force-all -i *.deb # remove apt keys to force PGP errors ## apt-key list | grep 'Sovrin-Repo-Master' -B1 | head -n1 | awk ' \{print $2}' | awk -F'/' '\{print $2}' # apt-key del \{the outputed num} # issue an upgrade command to version 1.9.1  Test demonstrates that in rollback indy-node and indy-plenum versions are pinned as strict dependencies. {code} Oct 09 21:10:00 ef9269930a8f env 63 : WARNING: apt does not have a stable CLI interface. Use with caution in scripts. Oct 09 21:10:00 ef9269930a8f env 63 : Get:1 http://security.ubuntu.com/ubuntu xenial-security InRelease  109 kB  Oct 09 21:10:00 ef9269930a8f env 63 : Hit:2 http://archive.ubuntu.com/ubuntu xenial InRelease Oct 09 21:10:00 ef9269930a8f env 63 : Get:3 http://archive.ubuntu.com/ubuntu xenial-updates InRelease  109 kB  Oct 09 21:10:01 ef9269930a8f env 63 : Get:4 http://archive.ubuntu.com/ubuntu xenial-backports InRelease  107 kB  Oct 09 21:10:01 ef9269930a8f env 63 : Hit:5 https://repo.sovrin.org/deb xenial InRelease Oct 09 21:10:01 ef9269930a8f env 63 : Hit:6 https://repo.sovrin.org/sdk/deb xenial InRelease Oct 09 21:10:01 ef9269930a8f env 63 : Err:5 https://repo.sovrin.org/deb xenial InRelease Oct 09 21:10:01 ef9269930a8f env 63 :   The following signatures couldn't be verified because the public key is not available: NO_PUBKEY E8BDBE36C8C97811 Oct 09 21:10:01 ef9269930a8f env 63 : Get:7 http://archive.ubuntu.com/ubuntu xenial-updates/main amd64 Packages  1348 kB  Oct 09 21:10:02 ef9269930a8f env 63 : Err:6 https://repo.sovrin.org/sdk/deb xenial InRelease Oct 09 21:10:02 ef9269930a8f env 63 :   The following signatures couldn't be verified because the public key is not available: NO_PUBKEY E8BDBE36C8C97811 Oct 09 21:10:02 ef9269930a8f env 63 : Get:8 http://archive.ubuntu.com/ubuntu xenial-updates/universe amd64 Packages  991 kB  Oct 09 21:10:03 ef9269930a8f env 63 : Fetched 2665 kB in 3s (757 kB/s) Oct 09 21:10:04 ef9269930a8f env 63 : Reading package lists... Oct 09 21:10:04 ef9269930a8f env 63 : Building dependency tree... Oct 09 21:10:04 ef9269930a8f env 63 : Reading state information... Oct 09 21:10:04 ef9269930a8f env 63 : 49 packages can be upgraded. Run 'apt list --upgradable' to see them. Oct 09 21:10:04 ef9269930a8f env 63 : W: An error occurred during the signature verification. The repository is not updated and the previous index files will be used. GPG error: https://repo.sovrin.org/deb xenial InRelease: The following signatures couldn't be verified because the public key is not available: NO_PUBKEY E8BDBE36C8C97811 Oct 09 21:10:04 ef9269930a8f env 63 : W: An error occurred during the signature verification. The repository is not updated and the previous index files will be used. GPG error: https://repo.sovrin.org/sdk/deb xenial InRelease: The following signatures couldn't be verified because the public key is not available: NO_PUBKEY E8BDBE36C8C97811 Oct 09 21:10:04 ef9269930a8f env 63 : W: Failed to fetch https://repo.sovrin.org/deb/dists/xenial/InRelease  The following signatures couldn't be verified because the public key is not available: NO_PUBKEY E8BDBE36C8C97811 Oct 09 21:10:04 ef9269930a8f env 63 : W: Failed to fetch https://repo.sovrin.org/sdk/deb/dists/xenial/InRelease  The following signatures couldn't be verified because the public key is not available: NO_PUBKEY E8BDBE36C8C97811 Oct 09 21:10:04 ef9269930a8f env 63 : W: Some index files failed to download. They have been ignored, or old ones used instead. Oct 09 21:10:05 ef9269930a8f env 63 : WARNING: apt does not have a stable CLI interface. Use with caution in scripts. Oct 09 21:10:05 ef9269930a8f env 63 : Hit:1 http://archive.ubuntu.com/ubuntu xenial InRelease Oct 09 21:10:05 ef9269930a8f env 63 : Hit:2 http://security.ubuntu.com/ubuntu xenial-security InRelease Oct 09 21:10:06 ef9269930a8f env 63 : Hit:3 http://archive.ubuntu.com/ubuntu xenial-updates InRelease Oct 09 21:10:06 ef9269930a8f env 63 : Hit:4 https://repo.sovrin.org/deb xenial InRelease Oct 09 21:10:06 ef9269930a8f env 63 : Hit:5 https://repo.sovrin.org/sdk/deb xenial InRelease Oct 09 21:10:06 ef9269930a8f env 63 : Err:4 https://repo.sovrin.org/deb xenial InRelease Oct 09 21:10:06 ef9269930a8f env 63 :   The following signatures couldn't be verified because the public key is not available: NO_PUBKEY E8BDBE36C8C97811 Oct 09 21:10:06 ef9269930a8f env 63 : Err:5 https://repo.sovrin.org/sdk/deb xenial InRelease Oct 09 21:10:06 ef9269930a8f env 63 :   The following signatures couldn't be verified because the public key is not available: NO_PUBKEY E8BDBE36C8C97811 Oct 09 21:10:06 ef9269930a8f env 63 : Hit:6 http://archive.ubuntu.com/ubuntu xenial-backports InRelease Oct 09 21:10:07 ef9269930a8f env 63 : Reading package lists... Oct 09 21:10:08 ef9269930a8f env 63 : Building dependency tree... Oct 09 21:10:08 ef9269930a8f env 63 : Reading state information... Oct 09 21:10:08 ef9269930a8f env 63 : 49 packages can be upgraded. Run 'apt list --upgradable' to see them. Oct 09 21:10:08 ef9269930a8f env 63 : W: An error occurred during the signature verification. The repository is not updated and the previous index files will be used. GPG error: https://repo.sovrin.org/deb xenial InRelease: The following signatures couldn't be verified because the public key is not available: NO_PUBKEY E8BDBE36C8C97811 Oct 09 21:10:08 ef9269930a8f env 63 : W: An error occurred during the signature verification. The repository is not updated and the previous index files will be used. GPG error: https://repo.sovrin.org/sdk/deb xenial InRelease: The following signatures couldn't be verified because the public key is not available: NO_PUBKEY E8BDBE36C8C97811 Oct 09 21:10:08 ef9269930a8f env 63 : W: Failed to fetch https://repo.sovrin.org/deb/dists/xenial/InRelease  The following signatures couldn't be verified because the public key is not available: NO_PUBKEY E8BDBE36C8C97811 Oct 09 21:10:08 ef9269930a8f env 63 : W: Failed to fetch https://repo.sovrin.org/sdk/deb/dists/xenial/InRelease  The following signatures couldn't be verified because the public key is not available: NO_PUBKEY E8BDBE36C8C97811 Oct 09 21:10:08 ef9269930a8f env 63 : W: Some index files failed to download. They have been ignored, or old ones used instead. Oct 09 21:10:10 ef9269930a8f env 63 : E: Version '1.0.1-11' for 'libpam-runtime' was not found Oct 09 21:10:10 ef9269930a8f env 63 : E: Version '0.99.7.1' for 'libpam0g' was not found Oct 09 21:10:10 ef9269930a8f env 63 : E: Version '1.18~' for 'init-system-helpers' was not found Oct 09 21:10:10 ef9269930a8f env 63 : E: Version '10.0.0' for 'python3-pip' was not found Oct 09 21:10:10 ef9269930a8f env 63 : E: Version '2.14' for 'libc6' was not found Oct 09 21:10:10 ef9269930a8f env 63 : E: Version '2.1.9' for 'libselinux1' was not found Oct 09 21:10:10 ef9269930a8f env 63 : E: Version '3.2-14' for 'lsb-base' was not found Oct 09 21:10:11 ef9269930a8f env 63 : + deps='indy-plenum=1.9.2 indy-node=1.9.2' Oct 09 21:10:11 ef9269930a8f env 63 : + ' ' -z 'indy-plenum=1.9.2 indy-node=1.9.2' ' ' Oct 09 21:10:11 ef9269930a8f env 63 : + echo 'Try to donwload indy version indy-plenum=1.9.2 indy-node=1.9.2' Oct 09 21:10:11 ef9269930a8f env 63 : Try to donwload indy version indy-plenum=1.9.2 indy-node=1.9.2 Oct 09 21:10:11 ef9269930a8f env 63 : + apt-get -y update Oct 09 21:10:11 ef9269930a8f env 63 : Hit:1 http://archive.ubuntu.com/ubuntu xenial InRelease Oct 09 21:10:11 ef9269930a8f env 63 : Hit:2 http://security.ubuntu.com/ubuntu xenial-security InRelease Oct 09 21:10:11 ef9269930a8f env 63 : Hit:3 http://archive.ubuntu.com/ubuntu xenial-updates InRelease Oct 09 21:10:11 ef9269930a8f env 63 : Hit:4 http://archive.ubuntu.com/ubuntu xenial-backports InRelease Oct 09 21:10:12 ef9269930a8f env 63 : Hit:5 https://repo.sovrin.org/deb xenial InRelease Oct 09 21:10:12 ef9269930a8f env 63 : Hit:6 https://repo.sovrin.org/sdk/deb xenial InRelease Oct 09 21:10:12 ef9269930a8f env 63 : Err:5 https://repo.sovrin.org/deb xenial InRelease Oct 09 21:10:12 ef9269930a8f env 63 :   The following signatures couldn't be verified because the public key is not available: NO_PUBKEY E8BDBE36C8C97811 Oct 09 21:10:12 ef9269930a8f env 63 : Err:6 https://repo.sovrin.org/sdk/deb xenial InRelease Oct 09 21:10:12 ef9269930a8f env 63 :   The following signatures couldn't be verified because the public key is not available: NO_PUBKEY E8BDBE36C8C97811 Oct 09 21:10:13 ef9269930a8f env 63 : Reading package lists... Oct 09 21:10:13 ef9269930a8f env 63 : W: An error occurred during the signature verification. The repository is not updated and the previous index files will be used. GPG error: https://repo.sovrin.org/deb xenial InRelease: The following signatures couldn't be verified because the public key is not available: NO_PUBKEY E8BDBE36C8C97811 Oct 09 21:10:13 ef9269930a8f env 63 : W: An error occurred during the signature verification. The repository is not updated and the previous index files will be used. GPG error: https://repo.sovrin.org/sdk/deb xenial InRelease: The following signatures couldn't be verified because the public key is not available: NO_PUBKEY E8BDBE36C8C97811 Oct 09 21:10:13 ef9269930a8f env 63 : W: Failed to fetch https://repo.sovrin.org/deb/dists/xenial/InRelease  The following signatures couldn't be verified because the public key is not available: NO_PUBKEY E8BDBE36C8C97811 Oct 09 21:10:13 ef9269930a8f env 63 : W: Failed to fetch https://repo.sovrin.org/sdk/deb/dists/xenial/InRelease  The following signatures couldn't be verified because the public key is not available: NO_PUBKEY E8BDBE36C8C97811 Oct 09 21:10:13 ef9269930a8f env 63 : W: Some index files failed to download. They have been ignored, or old ones used instead. Oct 09 21:10:13 ef9269930a8f env 63 : + apt-get --download-only -y --allow-downgrades --allow-change-held-packages install indy-plenum=1.9.2 indy-node=1.9.2 Oct 09 21:10:14 ef9269930a8f env 63 : Reading package lists... Oct 09 21:10:14 ef9269930a8f env 63 : Building dependency tree... Oct 09 21:10:14 ef9269930a8f env 63 : Reading state information... Oct 09 21:10:14 ef9269930a8f env 63 : You might want to run 'apt-get -f install' to correct these: Oct 09 21:10:14 ef9269930a8f env 63 : The following packages have unmet dependencies: Oct 09 21:10:14 ef9269930a8f env 63 :  indy-plenum : Depends: python3-indy-crypto (= 0.4.5) but 0.5.1 is to be installed Oct 09 21:10:14 ef9269930a8f env 63 : E: Unmet dependencies. Try 'apt-get -f install' with no packages (or specify a solution). Oct 09 21:10:14 ef9269930a8f env 63 : + ret=100 Oct 09 21:10:14 ef9269930a8f env 63 : + ' ' 100 -ne 0 ' ' Oct 09 21:10:14 ef9269930a8f env 63 : + echo 'Failed to obtain indy-plenum=1.9.2 indy-node=1.9.2' Oct 09 21:10:14 ef9269930a8f env 63 : Failed to obtain indy-plenum=1.9.2 indy-node=1.9.2 Oct 09 21:10:14 ef9269930a8f env 63 : + exit 1 Oct 09 21:10:14 ef9269930a8f env 63 : Upgrade from 1.9.0 to 1.9.2 failed: Command 'upgrade_indy_node "indy-plenum=1.9.2 indy-node=1.9.2"' returned non-zero exit status 1 Oct 09 21:10:14 ef9269930a8f env 63 : Trying to rollback to the previous version Command 'upgrade_indy_node "indy-plenum=1.9.2 indy-node=1.9.2"' returned non-zero exit status 1 Oct 09 21:10:14 ef9269930a8f env 63 : WARNING: apt does not have a stable CLI interface. Use with caution in scripts. Oct 09 21:10:15 ef9269930a8f env 63 : Hit:1 http://security.ubuntu.com/ubuntu xenial-security InRelease Oct 09 21:10:15 ef9269930a8f env 63 : Hit:2 http://archive.ubuntu.com/ubuntu xenial InRelease Oct 09 21:10:15 ef9269930a8f env 63 : Hit:3 http://archive.ubuntu.com/ubuntu xenial-updates InRelease Oct 09 21:10:15 ef9269930a8f env 63 : Hit:4 http://archive.ubuntu.com/ubuntu xenial-backports InRelease Oct 09 21:10:15 ef9269930a8f env 63 : Hit:5 https://repo.sovrin.org/deb xenial InRelease Oct 09 21:10:16 ef9269930a8f env 63 : Hit:6 https://repo.sovrin.org/sdk/deb xenial InRelease Oct 09 21:10:16 ef9269930a8f env 63 : Err:5 https://repo.sovrin.org/deb xenial InRelease Oct 09 21:10:16 ef9269930a8f env 63 :   The following signatures couldn't be verified because the public key is not available: NO_PUBKEY E8BDBE36C8C97811 Oct 09 21:10:16 ef9269930a8f env 63 : Err:6 https://repo.sovrin.org/sdk/deb xenial InRelease Oct 09 21:10:16 ef9269930a8f env 63 :   The following signatures couldn't be verified because the public key is not available: NO_PUBKEY E8BDBE36C8C97811 Oct 09 21:10:17 ef9269930a8f env 63 : Reading package lists... Oct 09 21:10:17 ef9269930a8f env 63 : Building dependency tree... Oct 09 21:10:17 ef9269930a8f env 63 : Reading state information... Oct 09 21:10:17 ef9269930a8f env 63 : 49 packages can be upgraded. Run 'apt list --upgradable' to see them. Oct 09 21:10:17 ef9269930a8f env 63 : W: An error occurred during the signature verification. The repository is not updated and the previous index files will be used. GPG error: https://repo.sovrin.org/deb xenial InRelease: The following signatures couldn't be verified because the public key is not available: NO_PUBKEY E8BDBE36C8C97811 Oct 09 21:10:17 ef9269930a8f env 63 : W: An error occurred during the signature verification. The repository is not updated and the previous index files will be used. GPG error: https://repo.sovrin.org/sdk/deb xenial InRelease: The following signatures couldn't be verified because the public key is not available: NO_PUBKEY E8BDBE36C8C97811 Oct 09 21:10:17 ef9269930a8f env 63 : W: Failed to fetch https://repo.sovrin.org/deb/dists/xenial/InRelease  The following signatures couldn't be verified because the public key is not available: NO_PUBKEY E8BDBE36C8C97811 Oct 09 21:10:17 ef9269930a8f env 63 : W: Failed to fetch https://repo.sovrin.org/sdk/deb/dists/xenial/InRelease  The following signatures couldn't be verified because the public key is not available: NO_PUBKEY E8BDBE36C8C97811 Oct 09 21:10:17 ef9269930a8f env 63 : W: Some index files failed to download. They have been ignored, or old ones used instead. Oct 09 21:10:20 ef9269930a8f env 63 : E: Version '1.0.1-11' for 'libpam-runtime' was not found Oct 09 21:10:20 ef9269930a8f env 63 : E: Version '0.99.7.1' for 'libpam0g' was not found Oct 09 21:10:20 ef9269930a8f env 63 : E: Version '1.18~' for 'init-system-helpers' was not found Oct 09 21:10:20 ef9269930a8f env 63 : E: Version '10.0.0' for 'python3-pip' was not found Oct 09 21:10:20 ef9269930a8f env 63 : E: Version '2.14' for 'libc6' was not found Oct 09 21:10:20 ef9269930a8f env 63 : E: Version '3.3.2-2~' for 'python3' was not found Oct 09 21:10:20 ef9269930a8f env 63 : E: Version '1.5' for 'python3-six' was not found Oct 09 21:10:20 ef9269930a8f env 63 : E: Version '2.1.9' for 'libselinux1' was not found Oct 09 21:10:20 ef9269930a8f env 63 : E: Version '3.2-14' for 'lsb-base' was not found Oct 09 21:10:20 ef9269930a8f env 63 : + deps='indy-plenum=1.9.0 indy-node=1.9.0' Oct 09 21:10:20 ef9269930a8f env 63 : + ' ' -z 'indy-plenum=1.9.0 indy-node=1.9.0' ' ' Oct 09 21:10:20 ef9269930a8f env 63 : + echo 'Try to donwload indy version indy-plenum=1.9.0 indy-node=1.9.0' Oct 09 21:10:20 ef9269930a8f env 63 : Try to donwload indy version indy-plenum=1.9.0 indy-node=1.9.0 Oct 09 21:10:20 ef9269930a8f env 63 : + apt-get -y update Oct 09 21:10:21 ef9269930a8f env 63 : Hit:1 http://archive.ubuntu.com/ubuntu xenial InRelease Oct 09 21:10:21 ef9269930a8f env 63 : Hit:2 http://archive.ubuntu.com/ubuntu xenial-updates InRelease Oct 09 21:10:21 ef9269930a8f env 63 : Hit:3 http://security.ubuntu.com/ubuntu xenial-security InRelease Oct 09 21:10:21 ef9269930a8f env 63 : Hit:4 http://archive.ubuntu.com/ubuntu xenial-backports InRelease Oct 09 21:10:21 ef9269930a8f env 63 : Hit:5 https://repo.sovrin.org/deb xenial InRelease Oct 09 21:10:22 ef9269930a8f env 63 : Err:5 https://repo.sovrin.org/deb xenial InRelease Oct 09 21:10:22 ef9269930a8f env 63 :   The following signatures couldn't be verified because the public key is not available: NO_PUBKEY E8BDBE36C8C97811 Oct 09 21:10:22 ef9269930a8f env 63 : Hit:6 https://repo.sovrin.org/sdk/deb xenial InRelease Oct 09 21:10:22 ef9269930a8f env 63 : Err:6 https://repo.sovrin.org/sdk/deb xenial InRelease Oct 09 21:10:22 ef9269930a8f env 63 :   The following signatures couldn't be verified because the public key is not available: NO_PUBKEY E8BDBE36C8C97811 Oct 09 21:10:22 ef9269930a8f env 63 : Reading package lists... Oct 09 21:10:23 ef9269930a8f env 63 : W: An error occurred during the signature verification. The repository is not updated and the previous index files will be used. GPG error: https://repo.sovrin.org/deb xenial InRelease: The following signatures couldn't be verified because the public key is not available: NO_PUBKEY E8BDBE36C8C97811 Oct 09 21:10:23 ef9269930a8f env 63 : W: An error occurred during the signature verification. The repository is not updated and the previous index files will be used. GPG error: https://repo.sovrin.org/sdk/deb xenial InRelease: The following signatures couldn't be verified because the public key is not available: NO_PUBKEY E8BDBE36C8C97811 Oct 09 21:10:23 ef9269930a8f env 63 : W: Failed to fetch https://repo.sovrin.org/deb/dists/xenial/InRelease  The following signatures couldn't be verified because the public key is not available: NO_PUBKEY E8BDBE36C8C97811 Oct 09 21:10:23 ef9269930a8f env 63 : W: Failed to fetch https://repo.sovrin.org/sdk/deb/dists/xenial/InRelease  The following signatures couldn't be verified because the public key is not available: NO_PUBKEY E8BDBE36C8C97811 Oct 09 21:10:23 ef9269930a8f env 63 : W: Some index files failed to download. They have been ignored, or old ones used instead. Oct 09 21:10:23 ef9269930a8f env 63 : + apt-get --download-only -y --allow-downgrades --allow-change-held-packages install indy-plenum=1.9.0 indy-node=1.9.0 Oct 09 21:10:23 ef9269930a8f env 63 : Reading package lists... Oct 09 21:10:23 ef9269930a8f env 63 : Building dependency tree... Oct 09 21:10:23 ef9269930a8f env 63 : Reading state information... Oct 09 21:10:23 ef9269930a8f env 63 : indy-node is already the newest version (1.9.0). Oct 09 21:10:23 ef9269930a8f env 63 : indy-plenum is already the newest version (1.9.0). {code}  ></body> </Action>
<Action id="64524" issue="40866" author="vladimirwork" type="comment" created="2019-10-10 11:17:36.0" updateauthor="vladimirwork" updated="2019-10-10 11:17:36.0"> <body><! CDATA Build Info: sovrin 1.1.56 stable  Steps to Reproduce: 1. Schedule upgrade to sovrin 1.1.58. 2. Change the repo at any node to RC.  Actual Results: Upgrade and rollback are failed because of unmet dependencies: {noformat} Oct 10 11:07:28 ea01328418cc env 78 : Reading package lists... Oct 10 11:07:28 ea01328418cc env 78 : Building dependency tree... Oct 10 11:07:28 ea01328418cc env 78 : Reading state information... Oct 10 11:07:28 ea01328418cc env 78 : 40 packages can be upgraded. Run 'apt list --upgradable' to see them. Oct 10 11:07:31 ea01328418cc env 78 : E: Version '1.10.0' for 'indy-node' was not found Oct 10 11:07:31 ea01328418cc env 78 : /bin/sh: 1: Syntax error: "(" unexpected Oct 10 11:07:31 ea01328418cc env 78 : E: No packages found Oct 10 11:07:31 ea01328418cc env 78 : E: No packages found Oct 10 11:07:31 ea01328418cc env 78 : E: No packages found Oct 10 11:07:32 ea01328418cc env 78 : + deps='sovtoken libindy-crypto=0.4.5 sovtokenfees=1.0.3 sovtoken=1.0.3 indy-node=1.10.0 sovrin=1.1.58' Oct 10 11:07:32 ea01328418cc env 78 : + ' ' -z 'sovtoken libindy-crypto=0.4.5 sovtokenfees=1.0.3 sovtoken=1.0.3 indy-node=1.10.0 sovrin=1.1.58' ' ' Oct 10 11:07:32 ea01328418cc env 78 : + echo 'Try to donwload indy version sovtoken libindy-crypto=0.4.5 sovtokenfees=1.0.3 sovtoken=1.0.3 indy-node=1.10.0 sovrin=1.1.58' Oct 10 11:07:32 ea01328418cc env 78 : Try to donwload indy version sovtoken libindy-crypto=0.4.5 sovtokenfees=1.0.3 sovtoken=1.0.3 indy-node=1.10.0 sovrin=1.1.58 Oct 10 11:07:32 ea01328418cc env 78 : + apt-get -y update Oct 10 11:07:33 ea01328418cc env 78 : Hit:1 http://security.ubuntu.com/ubuntu xenial-security InRelease Oct 10 11:07:33 ea01328418cc env 78 : Hit:2 http://archive.ubuntu.com/ubuntu xenial InRelease Oct 10 11:07:33 ea01328418cc env 78 : Hit:3 https://repo.sovrin.org/deb xenial InRelease Oct 10 11:07:33 ea01328418cc env 78 : Hit:4 http://archive.ubuntu.com/ubuntu xenial-updates InRelease Oct 10 11:07:33 ea01328418cc env 78 : Hit:5 http://archive.ubuntu.com/ubuntu xenial-backports InRelease Oct 10 11:07:35 ea01328418cc env 78 : Reading package lists... Oct 10 11:07:35 ea01328418cc env 78 : + apt-get --download-only -y --allow-downgrades --allow-change-held-packages install sovtoken libindy-crypto=0.4.5 sovtokenfees=1.0.3 sovtoken=1.0.3 indy-node=1.10.0  Oct 10 11:07:36 ea01328418cc env 78 : Reading package lists... Oct 10 11:07:36 ea01328418cc env 78 : Building dependency tree... Oct 10 11:07:36 ea01328418cc env 78 : Reading state information... Oct 10 11:07:37 ea01328418cc env 78 : E: Version '1.10.0' for 'indy-node' was not found Oct 10 11:07:37 ea01328418cc env 78 : + ret=100 Oct 10 11:07:37 ea01328418cc env 78 : + ' ' 100 -ne 0 ' ' Oct 10 11:07:37 ea01328418cc env 78 : + echo 'Failed to obtain sovtoken libindy-crypto=0.4.5 sovtokenfees=1.0.3 sovtoken=1.0.3 indy-node=1.10.0 sovrin=1.1.58' Oct 10 11:07:37 ea01328418cc env 78 : Failed to obtain sovtoken libindy-crypto=0.4.5 sovtokenfees=1.0.3 sovtoken=1.0.3 indy-node=1.10.0 sovrin=1.1.58 Oct 10 11:07:37 ea01328418cc env 78 : + exit 1 Oct 10 11:07:37 ea01328418cc env 78 : WARNING: apt does not have a stable CLI interface. Use with caution in scripts. Oct 10 11:07:37 ea01328418cc env 78 : Hit:1 http://archive.ubuntu.com/ubuntu xenial InRelease Oct 10 11:07:37 ea01328418cc env 78 : Hit:2 http://archive.ubuntu.com/ubuntu xenial-updates InRelease Oct 10 11:07:37 ea01328418cc env 78 : Hit:3 http://archive.ubuntu.com/ubuntu xenial-backports InRelease Oct 10 11:07:37 ea01328418cc env 78 : Hit:4 https://repo.sovrin.org/deb xenial InRelease Oct 10 11:07:40 ea01328418cc env 78 : Hit:5 http://security.ubuntu.com/ubuntu xenial-security InRelease Oct 10 11:07:41 ea01328418cc env 78 : Reading package lists... Oct 10 11:07:42 ea01328418cc env 78 : Building dependency tree... Oct 10 11:07:42 ea01328418cc env 78 : Reading state information... Oct 10 11:07:42 ea01328418cc env 78 : 40 packages can be upgraded. Run 'apt list --upgradable' to see them. Oct 10 11:07:45 ea01328418cc env 78 : /bin/sh: 1: Syntax error: "(" unexpected Oct 10 11:07:45 ea01328418cc env 78 : E: No packages found Oct 10 11:07:45 ea01328418cc env 78 : E: No packages found Oct 10 11:07:45 ea01328418cc env 78 : E: No packages found Oct 10 11:07:46 ea01328418cc env 78 : + deps='sovtoken indy-plenum=1.9.2 sovtoken=1.0.2 sovtokenfees=1.0.2 indy-node=1.9.2 libindy-crypto=0.4.5 sovrin=1.1.56' Oct 10 11:07:46 ea01328418cc env 78 : + ' ' -z 'sovtoken indy-plenum=1.9.2 sovtoken=1.0.2 sovtokenfees=1.0.2 indy-node=1.9.2 libindy-crypto=0.4.5 sovrin=1.1.56' ' ' Oct 10 11:07:46 ea01328418cc env 78 : + echo 'Try to donwload indy version sovtoken indy-plenum=1.9.2 sovtoken=1.0.2 sovtokenfees=1.0.2 indy-node=1.9.2 libindy-crypto=0.4.5 sovrin=1.1.56' Oct 10 11:07:46 ea01328418cc env 78 : Try to donwload indy version sovtoken indy-plenum=1.9.2 sovtoken=1.0.2 sovtokenfees=1.0.2 indy-node=1.9.2 libindy-crypto=0.4.5 sovrin=1.1.56 Oct 10 11:07:46 ea01328418cc env 78 : + apt-get -y update Oct 10 11:07:46 ea01328418cc env 78 : Hit:1 http://security.ubuntu.com/ubuntu xenial-security InRelease Oct 10 11:07:47 ea01328418cc env 78 : Hit:2 https://repo.sovrin.org/deb xenial InRelease Oct 10 11:07:49 ea01328418cc env 78 : Hit:3 http://archive.ubuntu.com/ubuntu xenial InRelease Oct 10 11:07:49 ea01328418cc env 78 : Hit:4 http://archive.ubuntu.com/ubuntu xenial-updates InRelease Oct 10 11:07:50 ea01328418cc env 78 : Hit:5 http://archive.ubuntu.com/ubuntu xenial-backports InRelease Oct 10 11:07:51 ea01328418cc env 78 : Reading package lists... Oct 10 11:07:51 ea01328418cc env 78 : + apt-get --download-only -y --allow-downgrades --allow-change-held-packages install sovtoken indy-plenum=1.9.2 sovtoken=1.0.2 sovtokenfees=1.0.2 indy-node=1.9.2 libi Oct 10 11:07:53 ea01328418cc env 78 : Reading package lists... Oct 10 11:07:53 ea01328418cc env 78 : Building dependency tree... Oct 10 11:07:53 ea01328418cc env 78 : Reading state information... Oct 10 11:07:53 ea01328418cc env 78 : indy-plenum is already the newest version (1.9.2). Oct 10 11:07:53 ea01328418cc env 78 : libindy-crypto is already the newest version (0.4.5). Oct 10 11:07:53 ea01328418cc env 78 : sovrin is already the newest version (1.1.56). Oct 10 11:07:53 ea01328418cc env 78 : sovtokenfees is already the newest version (1.0.2). Oct 10 11:07:53 ea01328418cc env 78 : sovtoken is already the newest version (1.0.2). Oct 10 11:07:53 ea01328418cc env 78 : indy-node is already the newest version (1.9.2). Oct 10 11:07:53 ea01328418cc env 78 : Some packages could not be installed. This may mean that you have Oct 10 11:07:53 ea01328418cc env 78 : requested an impossible situation or if you are using the unstable Oct 10 11:07:53 ea01328418cc env 78 : distribution that some required packages have not yet been created Oct 10 11:07:53 ea01328418cc env 78 : or been moved out of Incoming. Oct 10 11:07:53 ea01328418cc env 78 : The following information may help to resolve the situation: Oct 10 11:07:53 ea01328418cc env 78 : The following packages have unmet dependencies: Oct 10 11:07:53 ea01328418cc env 78 :  sovrin : Depends: sovtoken (= 1.0.2) but 1.0.3 is to be installed Oct 10 11:07:53 ea01328418cc env 78 :  sovtoken : Depends: indy-node (= 1.10.0) but 1.9.2 is to be installed Oct 10 11:07:53 ea01328418cc env 78 : E: Unable to correct problems, you have held broken packages. Oct 10 11:07:53 ea01328418cc env 78 : + ret=100 Oct 10 11:07:53 ea01328418cc env 78 : + ' ' 100 -ne 0 ' ' Oct 10 11:07:53 ea01328418cc env 78 : + echo 'Failed to obtain sovtoken indy-plenum=1.9.2 sovtoken=1.0.2 sovtokenfees=1.0.2 indy-node=1.9.2 libindy-crypto=0.4.5 sovrin=1.1.56' Oct 10 11:07:53 ea01328418cc env 78 : Failed to obtain sovtoken indy-plenum=1.9.2 sovtoken=1.0.2 sovtokenfees=1.0.2 indy-node=1.9.2 libindy-crypto=0.4.5 sovrin=1.1.56 Oct 10 11:07:53 ea01328418cc env 78 : + exit 1 {noformat} So no packages were upgraded because of strict dependencies. The issue with failing rollback will be fixed in scope of separate ticket.   ></body> </Action>
