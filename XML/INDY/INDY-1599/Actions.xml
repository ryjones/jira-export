<Action id="50169" issue="32868" author="sergey-shilov" type="comment" created="2018-09-10 15:56:32.0" updateauthor="sergey-shilov" updated="2018-09-10 15:56:32.0"> <body><! CDATA *Problem state / reason:*  As of now, Monitor tracks latency for every client independently. This may make it more sensitive for triggering View Change, but on the other hand it means that * It means that we have a to have a huge map (if we have 1,000,000 clients, then it will take about 1GB of memory). * We clean the map only after view change * We are too sensitive to spikes for 1 client only.  *Changes:* * Moved monitoring of latency into a strategy * Moved existing calculation of latency per client into a strategy * Created a new strategy for calculation of average latency for all clients. * Set the new strategy as a default * Wrote unit tests  *Committed into:*          https://github.com/hyperledger/indy-plenum/pull/914         https://github.com/hyperledger/indy-node/pull/939         indy-node 1.6.600-master  *Risk factors:*  Less sensitive algorithm for master degradation detection.  *Risk:*  Low     ></body> </Action>
<Action id="50456" issue="32868" author="vladimirwork" type="comment" created="2018-09-14 13:39:58.0" updateauthor="vladimirwork" updated="2018-09-14 13:39:58.0"> <body><! CDATA Build Info: indy-node 1.6.600  Step to Validate: 1. Run load test from 5 to 25 writing txns per second. 2. Check logs and validator-info for VCs by 25 reason (master degraded).  Actual Results: There are no VCs by 25 reason under 20 txns/sec written.  ></body> </Action>
