<Action id="47045" issue="31700" author="ashcherbakov" type="comment" created="2018-07-06 15:33:18.0" updateauthor="ashcherbakov" updated="2018-07-06 15:33:48.0"> <body><! CDATA Some nodes fail with nos space left on device again: jctl.node10:Jul 05 16:15:10 seoulQALive.qatest.evernym.com env 19635 : rocksdb.errors.RocksIOError: b'IO error: No space left on deviceWhile appending to file: /var/lib/indy/sandbox/data/Node10/domain_state/000782.sst: No space left on device' jctl.node11:Jul 05 16:15:08 seoulQALive.qatest.evernym.com env 13817 : rocksdb.errors.RocksIOError: b'IO error: No space left on deviceWhile appending to file: /var/lib/indy/sandbox/data/Node11/domain_state/000789.sst: No space left on device' jctl.node12:Jul 05 16:15:09 singaporeQALive.qatest.evernym.com env 13123 : rocksdb.errors.RocksIOError: b'IO error: No space left on deviceWhile appending to file: /var/lib/indy/sandbox/data/Node12/domain_state/000779.sst: No space left on device' jctl.node15:Jul 05 16:15:09 sydneyQALive.qatest.evernym.com env 17995 : rocksdb.errors.RocksIOError: b'IO error: No space left on deviceWhile appending to file: /var/lib/indy/sandbox/data/Node15/domain_state/000791.sst: No space left on device' jctl.node2:Jul 05 16:04:33 ohioQALive.qatest.evernym.com env 18072 : rocksdb.errors.RocksIOError: b'IO error: No space left on deviceWhile appending to file: /var/lib/indy/sandbox/data/Node2/domain_state/000791.sst: No space left on device' jctl.node20:Jul 05 16:15:09 frankfurtQALive.qatest.evernym.com env 17054 : rocksdb.errors.RocksIOError: b'IO error: No space left on deviceWhile appending to file: /var/lib/indy/sandbox/data/Node20/domain_state/000788.sst: No space left on device' jctl.node5:Jul 05 16:15:09 californiaQALive.qatest.evernym.com env 26763 : rocksdb.errors.RocksIOError: b'IO error: No space left on deviceWhile appending to file: /var/lib/indy/sandbox/data/Node5/domain_state/000788.sst: No space left on device' jctl.node7:Jul 05 16:04:48 oregonQALive.qatest.evernym.com env 21183 : rocksdb.errors.RocksIOError: b'IO error: No space left on deviceWhile appending to file: /var/lib/indy/sandbox/data/Node7/domain_state/000783.sst: No space left on device'   ></body> </Action>
<Action id="47301" issue="31700" author="dsurnin" type="comment" created="2018-07-13 13:12:39.0" updateauthor="dsurnin" updated="2018-07-13 13:13:46.0"> <body><! CDATA it looks like failed Nodes were not able to start catchup since not all ledger statuses were received For example Node10 after last restart sent 139 LEDGER_STATUS messages to different nodes, but only 46 messages were received by other nodes. Meanwhile other nodes sent 139 msgs to Node10 but only 128 msgs were received by Node10.  attached file contains filtered messages ledger status and consistency proof to and from Node10   ^Node10_status_proof_filter    ></body> </Action>
<Action id="47395" issue="31700" author="dsurnin" type="comment" created="2018-07-17 07:15:35.0" updateauthor="dsurnin" updated="2018-07-17 07:15:35.0"> <body><! CDATA As a short term solution we increased the node network stack https://github.com/hyperledger/indy-plenum/pull/813  The better solution would be to split all node messages into two types: service messages (ping, catchup, statuses) and 3pc messages, and create a dedicated network stack for each type https://jira.hyperledger.org/browse/INDY-1472   ></body> </Action>
