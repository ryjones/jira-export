<Issue id="33464" key="INDY-1677" number="1677" project="10303" reporter="ashcherbakov" creator="ashcherbakov" type="10004" summary="Improve performance when creating transport batches" priority="3" resolution="10001" status="10001" created="2018-09-04 13:42:42.0" updated="2019-12-20 14:20:47.0" resolutiondate="2019-12-20 14:20:47.0" votes="0" watches="2" workflowId="44752"> <description><! CDATA The way how transport Batches are created was changed recently (INDY-1595) to support catch-up of big ledgers.  However, it turned out that this new way is much slower than the previous one.  Results of comparing performance of the Batch creation from Propagate msgs (since Propagate is the most frequent one): * Batch Size = 10: ** Current way: 0.0002 ** Old way: 0.00005 * Batch Size = 300: ** Current way: 0.03 sec ** Old way: 0.0003 sec * Batch Size = 1000: ** Current way: 0.33 ** Old way: 0.0008  It may be quite critical if we have a lot of huge batches (like in INDY-1672).     *Acceptance criteria:* * Fix creation of batches to be as fast as the previous approach * Make sure that the new approach still supports catchup of huge ledgers     ></description> </Issue>
