<Action id="25477" issue="17551" author="ashcherbakov" type="comment" body=" ~lovesh  Isn&apos;t it the same issue as in INDY-145? Are the fixes for INDY-145 not enough?" created="2017-06-06 09:48:36.0" updateauthor="ashcherbakov" updated="2017-06-06 09:48:36.0"/>
<Action id="25497" issue="17551" author="lovesh" type="comment" body="The problem is handling of null values in the serializer for identity ledger, the serializer does not differentiate between None and empty string but our code regarding verkey does. That causes problem when the ledger contains transactions that have verkey set to empty string and those transactions are communicated through catchup" created="2017-06-06 12:24:40.0" updateauthor="lovesh" updated="2017-06-06 12:25:34.0"/>
<Action id="25539" issue="17551" author="lovesh" type="comment" body="For a short term fix, we disable sending verkey as an empty string, the input validation should ensure that an empty verkey should not be allowed" created="2017-06-06 16:00:49.0" updateauthor="lovesh" updated="2017-06-06 16:00:49.0"/>
<Action id="25620" issue="17551" author="lovesh" type="comment" created="2017-06-07 09:44:09.0" updateauthor="lovesh" updated="2017-06-07 09:44:09.0"> <body><! CDATA PRs for changes # https://github.com/sovrin-foundation/sovrin-client/pull/216/files # https://github.com/sovrin-foundation/sovrin-node/pull/174/files  *Relevant tests updated:* testSendNymVerkey, testSendNymSucceedsForUuidIdentifierAndEmptyVerkey, testSendNymSucceedsForCryptonymIdentifierAndEmptyVerkey, test_new_node_catchup_update_projection *New test:* test_nym_addition_fails_with_empty_verkey  ></body> </Action>
<Action id="26300" issue="17551" author="aleksey-roldugin" type="comment" created="2017-06-14 17:04:06.0" updateauthor="aleksey-roldugin" updated="2017-06-14 17:04:06.0"> <body><! CDATA h6. build  sovrin-node 0.3.134 sovrin-client 0.3.136  h6. verification NYM cannot be added with empty verkey: {code:java} send NYM dest=4QxzWk3ajdnEA37NdNU5Kt verkey=  Invalid syntax: 'send NYM dest=4QxzWk3ajdnEA37NdNU5Kt verkey='  send NYM -------- title: Adds given identifier to sovrin  usage: send NYM dest=<target identifier> role=<role>  verkey=<ver-key>   example(s): send NYM dest=BiCMHDqC5EjheFHumZX9nuAoVEp8xyuBgiRi5JcY5whi role=TRUST_ANCHOR send NYM dest=33A18XMqWqTzDpLHXLR5nT verkey=~Fem61Q5SnYhGVVHByQNxHj {code}  h6. additional information: Sending command through API was not tested.   ></body> </Action>
<Action id="26330" issue="17551" author="danielhardman" type="comment" created="2017-06-14 20:28:37.0" updateauthor="danielhardman" updated="2017-06-14 20:28:37.0"> <body><! CDATA I am not sure that the short-term fix is a good idea. Will this break any test procedures or automation, or instructions to stewards on the alpha network? Does it prevent us from disabling an identity by setting verkey to null? How does this relate to the work that  ~spivachuk  teed up, to change the syntax of our CLI so setting something to null requires the use of the "null" keyword? I would like several perspectives on whether the fix is appropriate for the time being:  ~lovesh   ~krw910   Also, do we have a ticket that tracks the need for a longer term fix, or will we lose track of this issue if this ticket is closed?  ></body> </Action>
<Action id="26498" issue="17551" author="ashcherbakov" type="comment" created="2017-06-16 08:58:48.0" updateauthor="ashcherbakov" updated="2017-06-16 08:58:48.0"> <body><! CDATA  ~danielhardman  * We had a long discussion with  ~jlaw 1  and  ~lovesh , and I think came to the consensus that using en empty string to disable Identity is not a valid use case, at least for now.  * So, we don't have use cases when we need an empty value right now, and empty values are the same as None values. * Nikita is notified about the issue. I think he's already updated the tests, I will double-check. * Probably we need to update our documentations and say that sending an empty verkey is not a valid use case (it will be the same as None). Not sure whether we have a documentation to be updated. * Agree that we need a ticket for long-term solutions. We were discussing using another Serialization for the ledger (not the custom one, but a protobuf for example).  ></body> </Action>
<Action id="26505" issue="17551" author="spivachuk" type="comment" created="2017-06-16 11:01:58.0" updateauthor="spivachuk" updated="2017-06-16 11:01:58.0"> <body><! CDATA  ~danielhardman ,  ~ashcherbakov , I made some corrections in tests ({{sovrin_client.test.cli.test_send_nym_validation}} module) in relation to prohibition of the empty value for {{verkey}} parameter of {{send NYM}} command. They are in the following PR: https://github.com/sovrin-foundation/sovrin-client/pull/225  ></body> </Action>
