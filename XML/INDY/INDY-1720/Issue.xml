<Issue id="34151" key="INDY-1720" number="1720" project="10303" reporter="keichiri" assignee="vladimirwork" creator="keichiri" type="10004" summary="View Change processing - replica ends up with incorrect primaries" priority="3" resolution="10000" status="10001" created="2018-09-27 14:26:49.0" updated="2019-04-09 13:46:25.0" resolutiondate="2019-04-09 13:44:21.0" votes="0" watches="5" workflowId="45474"> <description><! CDATA It seems that during the processing of view change, node registry which is not updated is being used. The node registry being used is valid at the moment of previous view change, but does not take into account update since then.  ~Derashe  found the problem. This leads to node ending up with incorrect primaries.  This was found in https://jira.hyperledger.org/browse/INDY-1578  Steps to reproduce: 1. start pool of nodes  2. turn off and demote 2 nodes  3. force a view change (restart primary)  4. promote 2 nodes     Simple explanation  - if a node has been demoted, view has been changed, and promoting this node caused adding new replica, then this node would choose incorrect primaries on new replica  ></description> </Issue>
