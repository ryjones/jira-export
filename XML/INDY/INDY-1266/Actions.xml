<Action id="42871" issue="29344" author="zhigunenko.dsr" type="comment" created="2018-04-12 13:46:40.0" updateauthor="zhigunenko.dsr" updated="2018-04-20 11:36:53.0"> <body><! CDATA *Environment:* indy-node 1.3.378  *Case 1:* Stop backup primary (indy-node service on instance1 in case) *Actual results:* Stop did not lead to pool disruption  *Case 2.1* Blacklist backup primary via fake ledger 1. stop _indy-node_ service 2. move subdirectory _/data_ from another pool 3. start _indy-node_ service *Actual results:* affected node marked as unreachable, "view change" hadn't happened  *Case 2.2* Blacklist backup primary via node keys changing 1. stop _indy-node_ service 2. move subdirectory _/keys_ from another pool 3. start _indy-node_ service *Actual results:* affected node marked as unreachable, "view change" hadn't happened  *Case 3.1* Steps: 1. Demote backup instance when F won't change (from 11 nodes to 10) 2. Adding new node (from 10 nodes to 11) *Actual results:* "view change" hadn't happened  *Case 3.2* 1. Demote backup instance that lead to F change (from 10 nodes to 9) 2. Adding new node (from 9 nodes to 10) *Actual results:* "view change" hadn't happened  *Case 4:* Pool of 11 nodes, node2 is primary 1) demote node3 (node 11 -> 10, F = 3 -> 3) as primary instance 1 2) demote node4 (node 10 -> 9, F = 3 -> 2) as primary instance 2  *Actual results:* Demoting does not cause view change if demoted node is not primary {code} 2018-04-12 13:20:14,047 | DISPLAY  | node.py              (2396) | select_primaries | PRIMARY SELECTION: Node6:0 selected primary Node2:0 for instance 0 (view 1) 2018-04-12 13:20:14,049 | DISPLAY  | node.py              (2396) | select_primaries | PRIMARY SELECTION: Node6:1 selected primary Node3:1 for instance 1 (view 1) 2018-04-12 13:20:14,050 | DISPLAY  | node.py              (2396) | select_primaries | PRIMARY SELECTION: Node6:2 selected primary Node4:2 for instance 2 (view 1) 2018-04-12 13:20:14,055 | DISPLAY  | node.py              (2396) | select_primaries | PRIMARY SELECTION: Node6:3 selected primary Node5:3 for instance 3 (view 1) {code}  ></body> </Action>
