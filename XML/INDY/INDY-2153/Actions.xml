<Action id="61279" issue="40716" author="vladimirwork" type="comment" created="2019-06-26 15:36:27.0" updateauthor="vladimirwork" updated="2019-06-26 15:36:27.0"> <body><! CDATA Build Info: indy-node 1.9.0~dev1009 plugins 0.9.13~47  Steps to Reproduce: 1. Send 50+ invalid requests into the pool during several seconds.  Expected Results: Get 50+ REQNACKs.  Actual Results: Get several REQNACKs and several Consensus is impossible errors.  Additional Info: One month ago this test passed with 100 invalid requests but now it passes with 25 invalid requests only so it looks like some pool degradation during invalid request handling  ^INDY-2153_REQNACK_CASE.tar.gz  .  ></body> </Action>
<Action id="61281" issue="40716" author="sergey.minaev" type="comment" created="2019-06-26 16:24:44.0" updateauthor="sergey.minaev" updated="2019-06-26 16:25:41.0"> <body><! CDATA   ^no_reply_primary_restart.log  Node1 restart after sending the following txn from CLI:  {code}{"protocolVersion":2,"signature":"G9kcstBvbjzC99fKJzH3LFDKASnUkDEYj5W8RYtpNxBasKy7pdWnUiSwMz41vL1fRqKdgKJdfkTz9dwuQ2ThLAR","identifier":"V4SGRU86Z58d6TV7PBUe6f","reqId":1,"operation":{"data":{"0":"0"},"type":"2"}}{code}  ></body> </Action>
<Action id="61299" issue="40716" author="vladimirwork" type="comment" created="2019-06-27 10:45:55.0" updateauthor="vladimirwork" updated="2019-06-27 10:46:21.0"> <body><! CDATA Build Info: indy-node 1.9.0~dev1010 plugins 0.9.13~48  Steps to Reproduce: 1. Send 2000 invalid requests into the pool during several seconds.  Expected Results: Get 2000 REQNACKs.  Actual Results: {noformat} ----------------------------- Captured stdout call ----------------------------- {'reqId': 1, 'reason': "client request invalid: InvalidClientRequest('invalid type: -109',)", 'identifier': 'V4SGRU86Z58d6TV7PBUe6f', 'op': 'REQNACK'} {'result': {'reqSignature': {'values':  {'from': 'V4SGRU86Z58d6TV7PBUe6f', 'value': '2Cmdr8wXuPBPD7FrQKCXQ1djVKQfmmNhCLSr89dscLGyhgLhxN3vePrWR6ys28jbjbPyWAkktSMSi3Y1obmKVuFG'} , 'type': 'ED25519'}, 'txn': {'data': {'data': {'00': '0'}}, 'protocolVersion': 2, 'type': '110', 'metadata': {'payloadDigest': 'edfead466d750645c995b6b3ef89d4315383d31bb80361c05a72d0a6d1a09d10', 'from': 'V4SGRU86Z58d6TV7PBUe6f', 'reqId': 1, 'digest': '52c883d2b0335f90a9ed6e8d35beb73b28c6450cc9c9d8e37826ab5b276e9628'}}, 'txnMetadata': {'txnTime': 1561631800, 'seqNo': 1}, 'auditPath':   , 'ver': '1', 'rootHash': 'FsqchxiFhGXUjHyKe9LK3r9UV1e3oWc9vi7Zsk6krwtz'}, 'op': 'REPLY'} {'result': {'reqSignature': {'values':  {'from': 'V4SGRU86Z58d6TV7PBUe6f', 'value': 'vxQLWURxPFM1b5ug33bLhL1gRzKDdcXMsuEqRAM18HjdzUVe7vjAnABvouVm7Xrm1DC5yB6aDNvVyTir9sMJx8K'} , 'type': 'ED25519'}, 'txn': {'data': {'data': {'00': '0'}}, 'protocolVersion': 2, 'type': '110', 'metadata': {'payloadDigest': '2c0baaca83a559500702120bc2395e03915987dd874cb13a091bb18359220202', 'from': 'V4SGRU86Z58d6TV7PBUe6f', 'reqId': 562949953421313, 'digest': '7cf50c3960fd2903c1245894ed2e0435be83c5267c3315badb711721347adec9'}}, 'txnMetadata': {'txnTime': 1561631801, 'seqNo': 2}, 'auditPath':  'FsqchxiFhGXUjHyKe9LK3r9UV1e3oWc9vi7Zsk6krwtz' , 'ver': '1', 'rootHash': '8qRzTTFh8p3ZpeQnavERHUQ3osTKp9F9XbsLGvyMMKao'}, 'op': 'REPLY'} {'result': {'reqSignature': {'values':  {'from': 'V4SGRU86Z58d6TV7PBUe6f', 'value': '2tRQekmnsCbSUjWTF28k5q4kBLhU2TfG7ZmPiJ8xipWJWqsDyEmHH1MmS3UTJCnZxoU1XH3MKgfe5kNKCmbrV5nN'} , 'type': 'ED25519'}, 'txn': {'protocolVersion': 2, 'data': {'data': {'00': '0'}}, 'type': '110', 'metadata': {'payloadDigest': '03cc6862690d0078a5ec2b150659ff4d0aa5b1a98f4ca31f7a8e4992509341ca', 'from': 'V4SGRU86Z58d6TV7PBUe6f', 'reqId': 562949953465857, 'digest': '914f3137c1cc49a15b0ae8bed3d7adfaf2b562d200fcfaf9d315cca40aeb8909'}}, 'txnMetadata': {'txnTime': 1561631802, 'seqNo': 3}, 'rootHash': '3xq7CYKYBmSVgHNsr8zTMLydX79baZi84AkdJPWrDZ7z', 'ver': '1', 'auditPath':  '8qRzTTFh8p3ZpeQnavERHUQ3osTKp9F9XbsLGvyMMKao' }, 'op': 'REPLY'} {'result': {'reqSignature': {'values':  {'from': 'V4SGRU86Z58d6TV7PBUe6f', 'value': '2BGjcLVL9RpHrzK8AeuEjvoGPkkrnidwghC7anHBaQYvtVG4sfmbgC1142mGqkrvfQmhL9K4zQMtZb7XmoKp3yEz'} , 'type': 'ED25519'}, 'txn': {'protocolVersion': 2, 'data': {'data': {'00': '0'}}, 'type': '110', 'metadata': {'payloadDigest': 'a9c521c5b0e2b1458d6e0ee799d9e4fcbb4c060c04e0d03f0930d1bf338030ec', 'from': 'V4SGRU86Z58d6TV7PBUe6f', 'reqId': 562949953466113, 'digest': '3ddb7563639decf5cec722f087130bd71703a75fef908b72af3e2190b01b5a67'}}, 'txnMetadata': {'txnTime': 1561631803, 'seqNo': 4}, 'rootHash': '53KoTqnzVDYBvVfcszFhH32qJMrTCfSDetaHuunwsJEj', 'ver': '1', 'auditPath':  'HMR9MxNHg2TK9pWcEm9D1JzH74MMiEDQQbghaAX919Cb', '8qRzTTFh8p3ZpeQnavERHUQ3osTKp9F9XbsLGvyMMKao' }, 'op': 'REPLY'} {'result': {'reqSignature': {'values':  {'from': 'V4SGRU86Z58d6TV7PBUe6f', 'value': '3CPxMooFthiTyAMRY5RBwUK8yYwXGyPGhgut77J9P7RGDA2Z4ckVJKjZ3ozrk1QWtGfMvryU5kMtJcPhroJ3e87Z'} , 'type': 'ED25519'}, 'txn': {'data': {'data': {'01': {'0': '1', '00': '0000B'}}}, 'protocolVersion': 2, 'type': '110', 'metadata': {'payloadDigest': '1f62915123b748e7ce16eb32d71d5dd70e02d9acb219f3783b219f92a8058a0c', 'from': 'V4SGRU86Z58d6TV7PBUe6f', 'reqId': 282574488535811, 'digest': 'f4958aecc5364bb4281888e470cc84882e61cee012c26cd0779798a27bd1d21e'}}, 'txnMetadata': {'txnTime': 1561631804, 'seqNo': 5}, 'auditPath':  '53KoTqnzVDYBvVfcszFhH32qJMrTCfSDetaHuunwsJEj' , 'ver': '1', 'rootHash': 'AWGcF7BZXRuPfUCLA9kjwSDZYyaGjyWSUUxcGspgdceS'}, 'op': 'REPLY'} {'result': {'reqSignature': {'values':  {'from': 'V4SGRU86Z58d6TV7PBUe6f', 'value': '3CPxMooFthiTyAMRY5RBwUK8yYwXGyPGhgut77J9P7RGDA2Z4ckVJKjZ3ozrk1QWtGfMvryU5kMtJcPhroJ3e87Z'} , 'type': 'ED25519'}, 'txn': {'type': '110', 'metadata': {'reqId': 282574488535811, 'from': 'V4SGRU86Z58d6TV7PBUe6f', 'payloadDigest': '1f62915123b748e7ce16eb32d71d5dd70e02d9acb219f3783b219f92a8058a0c', 'digest': 'f4958aecc5364bb4281888e470cc84882e61cee012c26cd0779798a27bd1d21e'}, 'protocolVersion': 2, 'data': {'data': {'01': {'0': '1', '00': '0000B'}}}}, 'txnMetadata': {'txnTime': 1561631804, 'seqNo': 5}, 'auditPath':  '53KoTqnzVDYBvVfcszFhH32qJMrTCfSDetaHuunwsJEj' , 'ver': '1', 'rootHash': 'AWGcF7BZXRuPfUCLA9kjwSDZYyaGjyWSUUxcGspgdceS'}, 'op': 'REPLY'} {'result': {'reqSignature': {'values':  {'from': 'V4SGRU86Z58d6TV7PBUe6f', 'value': '3CPxMooFthiTyAMRY5RBwUK8yYwXGyPGhgut77J9P7RGDA2Z4ckVJKjZ3ozrk1QWtGfMvryU5kMtJcPhroJ3e87Z'} , 'type': 'ED25519'}, 'txn': {'type': '110', 'metadata': {'payloadDigest': '1f62915123b748e7ce16eb32d71d5dd70e02d9acb219f3783b219f92a8058a0c', 'from': 'V4SGRU86Z58d6TV7PBUe6f', 'reqId': 282574488535811, 'digest': 'f4958aecc5364bb4281888e470cc84882e61cee012c26cd0779798a27bd1d21e'}, 'protocolVersion': 2, 'data': {'data': {'01': {'0': '1', '00': '0000B'}}}}, 'txnMetadata': {'txnTime': 1561631804, 'seqNo': 5}, 'auditPath':  '53KoTqnzVDYBvVfcszFhH32qJMrTCfSDetaHuunwsJEj' , 'ver': '1', 'rootHash': 'AWGcF7BZXRuPfUCLA9kjwSDZYyaGjyWSUUxcGspgdceS'}, 'op': 'REPLY'} {'result': {'reqSignature': {'values':  {'from': 'V4SGRU86Z58d6TV7PBUe6f', 'value': '3Mpd7VYv7jWSXsAFUe3qWGMH5phXX1VULGMhub9z24qh3hCLbSwhasL8EBGnd1cTKuyC8NHdTbYXLUEs7hiJdohj'} , 'type': 'ED25519'}, 'txn': {'protocolVersion': 2, 'data': {'data': {'i1': {'0': '1', '00': '0000B'}}}, 'type': '110', 'metadata': {'reqId': 282574488535811, 'from': 'V4SGRU86Z58d6TV7PBUe6f', 'payloadDigest': '1a35d8262c6cf6629b915db018a2c643e0d2f831ddbe07a150866362e1e958c4', 'digest': 'f5de7a85a0106a0e2ad32e7978f28abc53eb825ae464aac1ede792392e43ca4d'}}, 'txnMetadata': {'txnTime': 1561631805, 'seqNo': 6}, 'auditPath':  'FHTae3ZKgYEAUhKPBU2KzmD3S2Gk2uJ4qjdCRzhmLTxE', '53KoTqnzVDYBvVfcszFhH32qJMrTCfSDetaHuunwsJEj' , 'ver': '1', 'rootHash': 'Gu92BWaAn2eAaWEWn3uBWmmK7Qae8GqwTRqrSZZ6DCoi'}, 'op': 'REPLY'} {'result': {'reqSignature': {'values':  {'from': 'V4SGRU86Z58d6TV7PBUe6f', 'value': 'm23Edrrhyd4uVKCX5bBCLuNuabkwhYgob6BRCLyTCX8ZweT5FzjKpJzNytJhvTGuBnVM4nJQgy3T1cV4P6sN2sB'} , 'type': 'ED25519'}, 'txn': {'protocolVersion': 2, 'data': {'data': {'i1': {'0': '1', 'z0': '0000B'}}}, 'type': '110', 'metadata': {'reqId': 282574488535811, 'from': 'V4SGRU86Z58d6TV7PBUe6f', 'payloadDigest': '9407d475605eecf628e34514433b768456f425498c624fe7528db02472aae557', 'digest': 'cce6ed0093bcaef69a938957f699083f335d03000f49e925aa747be334286dbc'}}, 'txnMetadata': {'txnTime': 1561631806, 'seqNo': 8}, 'auditPath':  'J4NLY79iHTV7WuSmyCKYBabfLEUrwhurkSZj6fZDhjH2', '6XwyBqRfPdSi5CrLrojMizFS7kbj5tL6YFXJDnE6ZVhf', '53KoTqnzVDYBvVfcszFhH32qJMrTCfSDetaHuunwsJEj' , 'ver': '1', 'rootHash': '5DDUzWhNnt6HhZBbcyTXQdnX2vBAjqdTcXFxSQKrGjN3'}, 'op': 'REPLY'} {'result': {'reqSignature': {'values':  {'from': 'V4SGRU86Z58d6TV7PBUe6f', 'value': '3G9s2w3jdrgYZRRK2v8mBavchjT5b1XSHSAPKL1aHvTwGNWGnEGDVD4wjBCRmJDDkJARCkLj49ZQajiHaWW9h3hD'} , 'type': 'ED25519'}, 'txn': {'metadata': {'reqId': 5, 'from': 'V4SGRU86Z58d6TV7PBUe6f', 'payloadDigest': '91c0f0ab1f2c39706e0ac9884ed924cf2cd56ca2d09c13a87ba27f77b5301a90', 'digest': '52582284d075a584bd98b2ecbdfbc2d3aaacda59a84ccb353e2a6229375cd9d7'}, 'type': '110', 'protocolVersion': 2, 'data': {'data': {'i1': {'0': '1I01', 'z0': '0000B'}}}}, 'txnMetadata': {'txnTime': 1561631807, 'seqNo': 9}, 'rootHash': '2Lyxpcku7i8cGptkFccN34SJX8bmNHXS6d89bsgf1pk4', 'ver': '1', 'auditPath':  '5DDUzWhNnt6HhZBbcyTXQdnX2vBAjqdTcXFxSQKrGjN3' }, 'op': 'REPLY'} {'result': {'reqSignature': {'values':  {'from': 'V4SGRU86Z58d6TV7PBUe6f', 'value': '3G9s2w3jdrgYZRRK2v8mBavchjT5b1XSHSAPKL1aHvTwGNWGnEGDVD4wjBCRmJDDkJARCkLj49ZQajiHaWW9h3hD'} , 'type': 'ED25519'}, 'txn': {'data': {'data': {'i1': {'0': '1I01', 'z0': '0000B'}}}, 'protocolVersion': 2, 'type': '110', 'metadata': {'payloadDigest': '91c0f0ab1f2c39706e0ac9884ed924cf2cd56ca2d09c13a87ba27f77b5301a90', 'from': 'V4SGRU86Z58d6TV7PBUe6f', 'reqId': 5, 'digest': '52582284d075a584bd98b2ecbdfbc2d3aaacda59a84ccb353e2a6229375cd9d7'}}, 'txnMetadata': {'txnTime': 1561631807, 'seqNo': 9}, 'auditPath':  '5DDUzWhNnt6HhZBbcyTXQdnX2vBAjqdTcXFxSQKrGjN3' , 'ver': '1', 'rootHash': '2Lyxpcku7i8cGptkFccN34SJX8bmNHXS6d89bsgf1pk4'}, 'op': 'REPLY'} {'result': {'reqSignature': {'values':  {'from': 'V4SGRU86Z58d6TV7PBUe6f', 'value': '5MWdX144UW8XwQrotZpJbsfuRWBP4kDpQeRoisD5KAzUu4LkgZQSBbvKYHGr9PL6WbGR9at2ANfMFGFAtqtyxJd8'} , 'type': 'ED25519'}, 'txn': {'protocolVersion': 2, 'data': {'data': {'i1': {'0': '1I01', 'z"': '0000B'}}}, 'type': '110', 'metadata': {'payloadDigest': 'e2f7942c957a4cb0600049294be39a629eaceb5c4e613139639b615735104789', 'from': 'V4SGRU86Z58d6TV7PBUe6f', 'reqId': 5, 'digest': 'b331e64d43931e5ea71057e8fefbfe61b17ffeec41053969035e30384b2bb3f8'}}, 'txnMetadata': {'txnTime': 1561631808, 'seqNo': 10}, 'rootHash': '2xYfRnqXRXqNXWAtCRovDHgZPHELdyesDou9xGuzebhx', 'ver': '1', 'auditPath':  'GtXaoNZv7Wi9EMmwZZLhUGH8P2RbTy2uQgn1VCkXu7k4', '5DDUzWhNnt6HhZBbcyTXQdnX2vBAjqdTcXFxSQKrGjN3' }, 'op': 'REPLY'} {'result': {'reqSignature': {'values':  {'from': 'V4SGRU86Z58d6TV7PBUe6f', 'value': '2kDTfDzfz9iEjkcoWwCFncMsZ1xs6TxSz1ZosvN3qKqPjPNpahsNvhBY2G62ss9QxTbXNCikSW6ZAvpdjFN5MAbK'} , 'type': 'ED25519'}, 'txn': {'data': {'data': {'i1': {'0': '1I,1', 'z"': '000+B'}}}, 'protocolVersion': 2, 'type': '110', 'metadata': {'payloadDigest': 'aeb58aef4485a42cb1024ca65c2c4cafadb5d4b0304bf2f4246fe578a9cf8035', 'from': 'V4SGRU86Z58d6TV7PBUe6f', 'reqId': 19717, 'digest': '48bfd0ae230cc849f5b6a0943cf34ca81d237b45917ab2880a70404dc9f8c4a2'}}, 'txnMetadata': {'txnTime': 1561631809, 'seqNo': 11}, 'auditPath':  '5uiTBm3DCvJ8uFVMWTeHRaVuR3DzrzS84hVWkRd6HaM', '5DDUzWhNnt6HhZBbcyTXQdnX2vBAjqdTcXFxSQKrGjN3' , 'ver': '1', 'rootHash': '6Th7AMrGdkLfjsd9B3dDMLBhb2XFQYu4taX6jfKUvaqL'}, 'op': 'REPLY'} {'result': {'reqSignature': {'values':  {'from': 'V4SGRU86Z58d6TV7PBUe6f', 'value': '5KUzhvC4U52Sa6ZrKMGP37VD2JW4k4qwk9mVctEdozkBmzzuKMDvL6t95CQNpYN7Xf3fW4eEK2PZ8aeh1Sndomzc'} , 'type': 'ED25519'}, 'txn': {'protocolVersion': 2, 'data': {'data': {'i1': {'0': '1I,1', 'z"': '`00+B'}}}, 'type': '110', 'metadata': {'reqId': 19717, 'from': 'V4SGRU86Z58d6TV7PBUe6f', 'payloadDigest': '1b85c1822d84029d77eec301804d9f55d3d593409df8c9ef7e8882bf6ab79d71', 'digest': '731224f7c7148e057895d08934b14a58de6ffa7f9efec0c4711c173d9edc0096'}}, 'txnMetadata': {'txnTime': 1561631810, 'seqNo': 12}, 'auditPath':  '9ZNeFuoG7eSqcFhob2uRPsra5BkZiGmVu75hDqUR6dsm', '5uiTBm3DCvJ8uFVMWTeHRaVuR3DzrzS84hVWkRd6HaM', '5DDUzWhNnt6HhZBbcyTXQdnX2vBAjqdTcXFxSQKrGjN3' , 'ver': '1', 'rootHash': '9ZvVkVEuk2TYSUiJiMShGFfpT6eFxeHvW3VZyS8JEjX1'}, 'op': 'REPLY'} {'result': {'reqSignature': {'values':  {'from': 'V4SGRU86Z58d6TV7PBUe6f', 'value': '5KUzhvC4U52Sa6ZrKMGP37VD2JW4k4qwk9mVctEdozkBmzzuKMDvL6t95CQNpYN7Xf3fW4eEK2PZ8aeh1Sndomzc'} , 'type': 'ED25519'}, 'txn': {'data': {'data': {'i1': {'0': '1I,1', 'z"': '`00+B'}}}, 'type': '110', 'protocolVersion': 2, 'metadata': {'reqId': 19717, 'from': 'V4SGRU86Z58d6TV7PBUe6f', 'payloadDigest': '1b85c1822d84029d77eec301804d9f55d3d593409df8c9ef7e8882bf6ab79d71', 'digest': '731224f7c7148e057895d08934b14a58de6ffa7f9efec0c4711c173d9edc0096'}}, 'txnMetadata': {'txnTime': 1561631810, 'seqNo': 12}, 'auditPath':  '9ZNeFuoG7eSqcFhob2uRPsra5BkZiGmVu75hDqUR6dsm', '5uiTBm3DCvJ8uFVMWTeHRaVuR3DzrzS84hVWkRd6HaM', '5DDUzWhNnt6HhZBbcyTXQdnX2vBAjqdTcXFxSQKrGjN3' , 'ver': '1', 'rootHash': '9ZvVkVEuk2TYSUiJiMShGFfpT6eFxeHvW3VZyS8JEjX1'}, 'op': 'REPLY'} {'result': {'reqSignature': {'values':  {'from': 'V4SGRU86Z58d6TV7PBUe6f', 'value': '5GQ1q1S6GgTKXZL7xwTch53L8hxwffLLjEX1nhZvvWJBnnxnBcArVqgR6ZGZJQ1PU6uh6koot81HcuKK2CawyvjM'} , 'type': 'ED25519'}, 'txn': {'protocolVersion': 2, 'data': {'data': {'i1': {'0': '1I,1', 'z"': '{00+B'}}}, 'type': '110', 'metadata': {'payloadDigest': '871bfb11c6a0b44fd84f4bd5c15296415faa185b96f7a8ff33ba61efb7bc9145', 'from': 'V4SGRU86Z58d6TV7PBUe6f', 'reqId': 19717, 'digest': 'b6bc6d53d5dcedcf01c8f6cc79de4e31995aca95ba3135889566241d394fb11d'}}, 'txnMetadata': {'txnTime': 1561631811, 'seqNo': 13}, 'rootHash': 'F8mperc2ePFTr4Mq7EdFigpuXrUpJ2eT6oEfHR97hgMH', 'ver': '1', 'auditPath':  'ErMT5dThv1aKLtBmA37LHCWBnWrReENj4iHP325yvCfc', '5DDUzWhNnt6HhZBbcyTXQdnX2vBAjqdTcXFxSQKrGjN3' }, 'op': 'REPLY'} {'reqId': 1, 'reason': "client request invalid: InvalidClientRequest('validation error  ClientNodeOperation : missed fields - dest. ',)", 'identifier': 'V4SGRU86Z58d6TV7PBUe6f', 'op': 'REQNACK'} {'result': {'reqSignature': {'values':  {'from': 'V4SGRU86Z58d6TV7PBUe6f', 'value': '2Cmdr8wXuPBPD7FrQKCXQ1djVKQfmmNhCLSr89dscLGyhgLhxN3vePrWR6ys28jbjbPyWAkktSMSi3Y1obmKVuFG'} , 'type': 'ED25519'}, 'txn': {'type': '110', 'metadata': {'reqId': 1, 'from': 'V4SGRU86Z58d6TV7PBUe6f', 'payloadDigest': 'edfead466d750645c995b6b3ef89d4315383d31bb80361c05a72d0a6d1a09d10', 'digest': '52c883d2b0335f90a9ed6e8d35beb73b28c6450cc9c9d8e37826ab5b276e9628'}, 'protocolVersion': 2, 'data': {'data': {'00': '0'}}}, 'txnMetadata': {'txnTime': 1561631800, 'seqNo': 1}, 'auditPath':   , 'ver': '1', 'rootHash': 'FsqchxiFhGXUjHyKe9LK3r9UV1e3oWc9vi7Zsk6krwtz'}, 'op': 'REPLY'} {'result': {'reqSignature': {'values':  {'from': 'V4SGRU86Z58d6TV7PBUe6f', 'value': '2Cmdr8wXuPBPD7FrQKCXQ1djVKQfmmNhCLSr89dscLGyhgLhxN3vePrWR6ys28jbjbPyWAkktSMSi3Y1obmKVuFG'} , 'type': 'ED25519'}, 'txn': {'metadata': {'reqId': 1, 'from': 'V4SGRU86Z58d6TV7PBUe6f', 'payloadDigest': 'edfead466d750645c995b6b3ef89d4315383d31bb80361c05a72d0a6d1a09d10', 'digest': '52c883d2b0335f90a9ed6e8d35beb73b28c6450cc9c9d8e37826ab5b276e9628'}, 'type': '110', 'protocolVersion': 2, 'data': {'data': {'00': '0'}}}, 'txnMetadata': {'txnTime': 1561631800, 'seqNo': 1}, 'rootHash': 'FsqchxiFhGXUjHyKe9LK3r9UV1e3oWc9vi7Zsk6krwtz', 'ver': '1', 'auditPath':   }, 'op': 'REPLY'} {'result': {'reqSignature': {'values':  {'from': 'V4SGRU86Z58d6TV7PBUe6f', 'value': '21WM3uSn3eXGxVbu9qra6KMWS5FcZRpqWrcMrd6gzL5VvogaDATBKSg5S4gHeNKYqJxGwEhGcuWh6wkyGyHEPyLW'} , 'type': 'ED25519'}, 'txn': {'metadata': {'reqId': 1, 'from': 'V4SGRU86Z58d6TV7PBUe6f', 'payloadDigest': '2c084496cc7ad3762cb7ce504141a8993db838b2ac27de71dfed7d935a1d8a36', 'digest': '793d4fa9e1ea7730d089d42c3f6c4621a130dc2e21a5184a8a85e8d50b283550'}, 'type': '110', 'protocolVersion': 2, 'data': {'data': {'0': '00'}}}, 'txnMetadata': {'txnTime': 1561631812, 'seqNo': 14}, 'rootHash': 'CW1gQxUjfSLgKhtsL99rWxWfUfQBNEv99vkd37txL1BL', 'ver': '1', 'auditPath':  'EDEMNtxa7PcVwFgFuRP39ScnWGACeqoPFjRi3bg6ekNy', 'ErMT5dThv1aKLtBmA37LHCWBnWrReENj4iHP325yvCfc', '5DDUzWhNnt6HhZBbcyTXQdnX2vBAjqdTcXFxSQKrGjN3' }, 'op': 'REPLY'} {'op': 'REQNACK', 'reason': "client request invalid: InvalidClientRequest('invalid type: -109',)", 'identifier': 'V4SGRU86Z58d6TV7PBUe6f', 'reqId': 1} {'op': 'REQNACK', 'reason': "client request invalid: InvalidClientRequest('invalid type: -109',)", 'identifier': 'V4SGRU86Z58d6TV7PBUe6f', 'reqId': 1} {'reqId': 1, 'reason': "client request invalid: InvalidClientRequest('validation error  ClientNodeOperation : missed fields - dest. ',)", 'identifier': 'V4SGRU86Z58d6TV7PBUe6f', 'op': 'REQNACK'} {'result': {'reqSignature': {'values':  {'from': 'V4SGRU86Z58d6TV7PBUe6f', 'value': '2APZn8brJ5fkZ7Uw45xFGVeHzsxpJPBCDrLw7EtnfTBasajSCzZ4kncQuXnoyqWqHD5fDgswpUFkyGumZjDytvmW'} , 'type': 'ED25519'}, 'txn': {'protocolVersion': 2, 'data': {'data': {'0': '0'}}, 'type': '110', 'metadata': {'payloadDigest': 'a2df3dd1a282f552c4316163db483b6703e6b4f1f63a37d0f5713d2bd9f30159', 'from': 'V4SGRU86Z58d6TV7PBUe6f', 'reqId': 1, 'digest': '91581149211b47089b9cbb2583ea49722ebdb8dbaa005b4447b1f6de2fbab551'}}, 'txnMetadata': {'txnTime': 1561631813, 'seqNo': 15}, 'rootHash': 'Fqn31gdQoVtNNaXmyAbNRESeZkqvQxjDLDJvAGKXCvHX', 'ver': '1', 'auditPath':  '5pPNHggijcvesTyeDoFad2jnpsSwdpA7vLsXrawkwGqF', 'ErMT5dThv1aKLtBmA37LHCWBnWrReENj4iHP325yvCfc', '5DDUzWhNnt6HhZBbcyTXQdnX2vBAjqdTcXFxSQKrGjN3' }, 'op': 'REPLY'} {'reqId': 1, 'reason': "client request invalid: InvalidClientRequest('invalid type: -109',)", 'identifier': 'V4SGRU86Z58d6TV7PBUe6f', 'op': 'REQNACK'} {'result': {'reqSignature': {'values':  {'from': 'V4SGRU86Z58d6TV7PBUe6f', 'value': '2APZn8brJ5fkZ7Uw45xFGVeHzsxpJPBCDrLw7EtnfTBasajSCzZ4kncQuXnoyqWqHD5fDgswpUFkyGumZjDytvmW'} , 'type': 'ED25519'}, 'txn': {'data': {'data': {'0': '0'}}, 'type': '110', 'protocolVersion': 2, 'metadata': {'reqId': 1, 'from': 'V4SGRU86Z58d6TV7PBUe6f', 'payloadDigest': 'a2df3dd1a282f552c4316163db483b6703e6b4f1f63a37d0f5713d2bd9f30159', 'digest': '91581149211b47089b9cbb2583ea49722ebdb8dbaa005b4447b1f6de2fbab551'}}, 'txnMetadata': {'txnTime': 1561631813, 'seqNo': 15}, 'auditPath':  '5pPNHggijcvesTyeDoFad2jnpsSwdpA7vLsXrawkwGqF', 'ErMT5dThv1aKLtBmA37LHCWBnWrReENj4iHP325yvCfc', '5DDUzWhNnt6HhZBbcyTXQdnX2vBAjqdTcXFxSQKrGjN3' , 'ver': '1', 'rootHash': 'Fqn31gdQoVtNNaXmyAbNRESeZkqvQxjDLDJvAGKXCvHX'}, 'op': 'REPLY'} {'reqId': 1, 'reason': "client request invalid: InvalidClientRequest('validation error  ClientNodeOperation : missed fields - dest. ',)", 'identifier': 'V4SGRU86Z58d6TV7PBUe6f', 'op': 'REQNACK'} {'op': 'REQNACK', 'reason': "client request invalid: InvalidClientRequest('validation error  ClientNodeOperation : missed fields - dest. ',)", 'identifier': 'V4SGRU86Z58d6TV7PBUe6f', 'reqId': 1} {'reqId': 1, 'reason': "client request invalid: InvalidClientRequest('validation error  ClientNodeOperation : missed fields - dest. ',)", 'identifier': 'V4SGRU86Z58d6TV7PBUe6f', 'op': 'REQNACK'} {'op': 'REQNACK', 'reason': "client request invalid: InvalidClientRequest('invalid type: 46',)", 'identifier': 'V4SGRU86Z58d6TV7PBUe6f', 'reqId': 1} {'op': 'REQNACK', 'reason': "client request invalid: InvalidClientRequest('invalid type: 55',)", 'identifier': 'V4SGRU86Z58d6TV7PBUe6f', 'reqId': 1} {'op': 'REQNACK', 'reason': "client request invalid: InvalidClientRequest('invalid type: 55',)", 'identifier': 'V4SGRU86Z58d6TV7PBUe6f', 'reqId': 1} {'reqId': 1, 'reason': "client request invalid: InvalidClientRequest('invalid type: -109',)", 'identifier': 'V4SGRU86Z58d6TV7PBUe6f', 'op': 'REQNACK'} {'op': 'REQNACK', 'reason': "client request invalid: InvalidClientRequest('invalid type: -109',)", 'identifier': 'V4SGRU86Z58d6TV7PBUe6f', 'reqId': 1} {'op': 'REQNACK', 'reason': "client request invalid: InvalidClientRequest('invalid type: -109',)", 'identifier': 'V4SGRU86Z58d6TV7PBUe6f', 'reqId': 1} {'reqId': 2, 'reason': "client request invalid: InvalidClientRequest('invalid type: -109',)", 'identifier': 'V4SGRU86Z58d6TV7PBUe6f', 'op': 'REQNACK'} {'result': {'reqSignature': {'values':  {'from': 'V4SGRU86Z58d6TV7PBUe6f', 'value': '2APZn8brJ5fkZ7Uw45xFGVeHzsxpJPBCDrLw7EtnfTBasajSCzZ4kncQuXnoyqWqHD5fDgswpUFkyGumZjDytvmW'} , 'type': 'ED25519'}, 'txn': {'protocolVersion': 2, 'data': {'data': {'0': '0'}}, 'type': '110', 'metadata': {'reqId': 1, 'from': 'V4SGRU86Z58d6TV7PBUe6f', 'payloadDigest': 'a2df3dd1a282f552c4316163db483b6703e6b4f1f63a37d0f5713d2bd9f30159', 'digest': '91581149211b47089b9cbb2583ea49722ebdb8dbaa005b4447b1f6de2fbab551'}}, 'txnMetadata': {'txnTime': 1561631813, 'seqNo': 15}, 'auditPath':  '5pPNHggijcvesTyeDoFad2jnpsSwdpA7vLsXrawkwGqF', 'ErMT5dThv1aKLtBmA37LHCWBnWrReENj4iHP325yvCfc', '5DDUzWhNnt6HhZBbcyTXQdnX2vBAjqdTcXFxSQKrGjN3' , 'ver': '1', 'rootHash': 'Fqn31gdQoVtNNaXmyAbNRESeZkqvQxjDLDJvAGKXCvHX'}, 'op': 'REPLY'} ---------------------------------- Hypothesis ---------------------------------- Trying example: test_case_random_req_data(_type=-109, data={'00': '0'}, get_default_trustee=('V4SGRU86Z58d6TV7PBUe6f', 'GJ1SzoWzavQYfNL9XkaJdrQejfztN4XqdsiV4ct3LXKL'), pool_handler=15, reqid=1, self=<TestPropertyBasedSuite.TestPropertyBasedSuite at 0x7fddba179f98>, wallet_handler=18) Trying example: test_case_random_req_data(_type=110, data={'00': '0'}, get_default_trustee=('V4SGRU86Z58d6TV7PBUe6f', 'GJ1SzoWzavQYfNL9XkaJdrQejfztN4XqdsiV4ct3LXKL'), pool_handler=15, reqid=1, self=<TestPropertyBasedSuite.TestPropertyBasedSuite at 0x7fddba179f98>, wallet_handler=18) {noformat}   ></body> </Action>
<Action id="61339" issue="40716" author="vladimirwork" type="comment" created="2019-06-28 14:20:07.0" updateauthor="vladimirwork" updated="2019-06-28 14:20:07.0"> <body><! CDATA Build Info: indy-node 1.9.0~dev1011 plugins 0.9.13~50  Steps to Reproduce: 1. Add auth rules for cred def - one role can just add it and other role can just edit it. 2. Add new cred def and try to edit it with the same DID.  Expected Results: Edition by the adder should be rejected according to auth rules.  Actual Results: Adder can add and then edit cred def: {noformat} ADD: {'result': {'ver': '1', 'txnMetadata': {'txnTime': 1561729501, 'txnId': 'TkKzKyV1be5zc6bR7kgMSe:3:CL:14:TAG1', 'seqNo': 15}, 'auditPath':  'AWf3fXBDJhFbtLZ1GnWesFWb66CBLpFjNCjPapFXZaut', 'k7P1B6qhnJ7FEVTE47aBpsuTSMC8CmpmU58EpZD4M1Y', '6NVGJjQVapQ7HV5Xg5y8u5sHjEMp7hEXDhbcrHZ6SZsV' , 'rootHash': 'HJWj43BUFFYemuKCoMcB6MBUthUeydLs3B81WVk4b4dV', 'txn': {'type': '102', 'protocolVersion': 2, 'data': {'ref': 14, 'data': {'primary': {'rctxt': '77541021566605177289117593847925068870651768066462338922350415702441786163595641837336641570668039165647965442857824729093570685000389181549902350502451092849538726642836454789551068690220337058984676497901998719720303948613931320389679045124330609699096389849637295976053093403755556047326048292511360444280165474483115467809916008240607477197252990795964521194060038962446927895719563094289124633169595137637133185497163840448621571832987139232894563417304651288606423449203584961367219654179837488083493821759455973558534208583710155993609045386127790423510870640323333162299845314853096508739059873194725004655393', 'r': {'name': '37542663674627346394085101315428874045039134485502586305624977525935929386404105077020926064597954643357923813242109511277441298522728872506846882305849626583271783174083855063502651822131906903156134676617852490045112408012499915443726277454259817391441643375289814482483271306314836145934179414818736103342592612170554842048753928879361190519912890794569697923475239328828037314993253663832108615207608210824785810895520282355129633148020081164065541711168644395596944150873421372908424605453864237529988864393569673574119168621134576438474543526067954363015011642526957514078023212472032429371362330885021578655487', 'height': '74780935536527427878140904709536874936897290377270368567668937154977987215247012829000892844373581013109277226250909894353311119991570830535498288402428200109828620973530946805019261864815327880747866005667668807664753767908838101460712874056716697869489501284160962759093859802327815040824127113851385894656458923267608431510752617495270446608791131977459063783799582748621376873553037645141173496667446293903534421075685533546278784900854892912729840861499394319804919041769117412021252500415610256281719318288852431378445680115272435517611681841607451326725060015587654127035553757544200461779472207512696664024778', 'age': '65714529954175948098670762653593578592136226831315089881054782445957487375811894699100839887815758922079322361436924181919713373157619334378819472392261835463044452303328617947895897511520171099338476090408080084805365713343540021696601386751206701256606821927491092462984579009024191291339788951017197565824311506496874864294765053752877997042010020072622775253922753530207003179057381280608093895927521153766314073198571486322723125589204096191944435284941750112274959504483055783076970183573314208325378566689454709606076561154253898837403488495942722889666023257453681332157594326986072902474554942197180651820527', 'master_secret': '1951500274405799036011039689761870811228610073154367242232737620903943455266399752253534629152662273768356719711534626707689671585442885801069302080144686905802081406004983618222267849702115134713315976563828645202384645016430807971716223640907907794549686635736036084553450312806781967248841581248495678201791881853556333926430502837005661256214651819792698816355842338512791050244947350123171261884421798158408970245190098527207188381558888587630463745837694438006901868085931021801104371971050744142850174656177347063328615900229561938830245962382320059976829498879080499294869181181661294234939978123153478324524', 'sex': '62004526349822066491774245152987287158049554279667155219762383639232074443864204657775819374780106222125603195422419349490642527888759516572802083144578910899652967310544097040749451915725590380210732482922184526453452404339939726650614147825817409851385825500596836237422175369720593346325396912137642225647508679044174778243300027285700012752702913813144430159845783620863524021158045173098339298908744578076149945664193413566777167067765823864689456266963472627708305751931642250013525129384426317594388610150448537054201628864355826390868441630235021576187884485503990101853527581886590769580621851136959223123238'}, 's': '18821781573525340440445586819008498850913013337624877854862306597704236037116612330980988577389156033434511279110251715202799368545030373042897164242732884006488280760976415989054055140332257898339302228597966380936846168473902670291726450180962121730862696199490426583909291108312319325497362694610155270727267946236540818226803520793401916821603722192887849260297998420205717866349684715899399135401804577259992316846174422079744867097528963041582642422005948963927538103965596715185910037213329012944772410078002196609975385268395561504693944527015883444977046388285055667353587585970434859892956876645851243917924', 'n': '82809703613778084161904490864991439144934146623192816688946166472393179226372923527302933857530164627889073898519472984743873390853518604776228754163266775811337421416973337534777605939991975330158491915943347552699909014546670399475266166323434343991244139588800985553369899726914050855351063107237398123234454575705278215762921102267995216935755105794892093541634732223908019585229928452280895180457192686971352532514375026408727888494092247900723245360474828299338137407391307445905704973715919881238819155126421796804732437511875819266660130823864958484730293894417403105499674307371821085881398834852830672241889', 'z': '50368224715478653142065901172316681089769239355481656342157776931225296514348342081044257616980007434448539853473982302068522760320799242664072758166535657126553059725346830716452793177026972355797533355344670210093478312648126740947196076064543238063124233969038904211575943585611276430061760363192027543118798150440057718148704426496786674798129468762248905659127677318259546014307466967910600203950698815879699994940653205743333839142516379258200547015040128640816624865636785683210211730061472702836891893730138638444045963856503711823044097651112312005281192025559296575499704352728255891376251086698786551175913'}}, 'tag': 'TAG1', 'signature_type': 'CL'}, 'metadata': {'from': 'TkKzKyV1be5zc6bR7kgMSe', 'reqId': 1561729501537567798, 'payloadDigest': '560f1d50170d4030a3e01b7e589048e4c665aa807b939d0ac563a251e7071e96', 'digest': 'ab5630a83a0972051b7a0a0f0d292def5a9102ea47483006a9be1c305c378d47'}}, 'reqSignature': {'type': 'ED25519', 'values':  {'value': '3qoNzLeLqKkgtN2weVEdjf7vkvFdAuDiYL3Pa7946eXtLSsUMVYkE3gSXDkNjgAt9JUpMLxUrgtWkD5ax2vkrMqZ', 'from': 'TkKzKyV1be5zc6bR7kgMSe'} }}, 'op': 'REPLY'}  EDIT: {'result': {'ver': '1', 'txnMetadata': {'txnTime': 1561729502, 'txnId': 'TkKzKyV1be5zc6bR7kgMSe:3:CL:14:TAG1', 'seqNo': 16}, 'auditPath':  '9gbztBuPjSJ9TFdFMNtKnfpSpx6SaBAijuQHbNeRGyHh', 'AWf3fXBDJhFbtLZ1GnWesFWb66CBLpFjNCjPapFXZaut', 'k7P1B6qhnJ7FEVTE47aBpsuTSMC8CmpmU58EpZD4M1Y', '6NVGJjQVapQ7HV5Xg5y8u5sHjEMp7hEXDhbcrHZ6SZsV' , 'rootHash': 'Y47bSyikXTukDV2GmzdAXquaXj9zyGYQAevYTHJMtz8', 'txn': {'metadata': {'from': 'TkKzKyV1be5zc6bR7kgMSe', 'reqId': 3123459003075135596, 'payloadDigest': '3278fc381be50182ac933ad8a2b176b5be6d2a56a73b49c882cc94e088416244', 'digest': '6f94e36314e69425230913b9e06edb706f3000e104ddf0cdf8eeb0c6c02b8eda'}, 'protocolVersion': 2, 'data': {'ref': 14, 'data': {'primary': {'rctxt': '77541021566605177289117593847925068870651768066462338922350415702441786163595641837336641570668039165647965442857824729093570685000389181549902350502451092849538726642836454789551068690220337058984676497901998719720303948613931320389679045124330609699096389849637295976053093403755556047326048292511360444280165474483115467809916008240607477197252990795964521194060038962446927895719563094289124633169595137637133185497163840448621571832987139232894563417304651288606423449203584961367219654179837488083493821759455973558534208583710155993609045386127790423510870640323333162299845314853096508739059873194725004655393', 'r': {'name': '37542663674627346394085101315428874045039134485502586305624977525935929386404105077020926064597954643357923813242109511277441298522728872506846882305849626583271783174083855063502651822131906903156134676617852490045112408012499915443726277454259817391441643375289814482483271306314836145934179414818736103342592612170554842048753928879361190519912890794569697923475239328828037314993253663832108615207608210824785810895520282355129633148020081164065541711168644395596944150873421372908424605453864237529988864393569673574119168621134576438474543526067954363015011642526957514078023212472032429371362330885021578655487', 'height': '74780935536527427878140904709536874936897290377270368567668937154977987215247012829000892844373581013109277226250909894353311119991570830535498288402428200109828620973530946805019261864815327880747866005667668807664753767908838101460712874056716697869489501284160962759093859802327815040824127113851385894656458923267608431510752617495270446608791131977459063783799582748621376873553037645141173496667446293903534421075685533546278784900854892912729840861499394319804919041769117412021252500415610256281719318288852431378445680115272435517611681841607451326725060015587654127035553757544200461779472207512696664024778', 'age': '65714529954175948098670762653593578592136226831315089881054782445957487375811894699100839887815758922079322361436924181919713373157619334378819472392261835463044452303328617947895897511520171099338476090408080084805365713343540021696601386751206701256606821927491092462984579009024191291339788951017197565824311506496874864294765053752877997042010020072622775253922753530207003179057381280608093895927521153766314073198571486322723125589204096191944435284941750112274959504483055783076970183573314208325378566689454709606076561154253898837403488495942722889666023257453681332157594326986072902474554942197180651820527', 'master_secret': '1951500274405799036011039689761870811228610073154367242232737620903943455266399752253534629152662273768356719711534626707689671585442885801069302080144686905802081406004983618222267849702115134713315976563828645202384645016430807971716223640907907794549686635736036084553450312806781967248841581248495678201791881853556333926430502837005661256214651819792698816355842338512791050244947350123171261884421798158408970245190098527207188381558888587630463745837694438006901868085931021801104371971050744142850174656177347063328615900229561938830245962382320059976829498879080499294869181181661294234939978123153478324524', 'sex': '62004526349822066491774245152987287158049554279667155219762383639232074443864204657775819374780106222125603195422419349490642527888759516572802083144578910899652967310544097040749451915725590380210732482922184526453452404339939726650614147825817409851385825500596836237422175369720593346325396912137642225647508679044174778243300027285700012752702913813144430159845783620863524021158045173098339298908744578076149945664193413566777167067765823864689456266963472627708305751931642250013525129384426317594388610150448537054201628864355826390868441630235021576187884485503990101853527581886590769580621851136959223123238'}, 's': '18821781573525340440445586819008498850913013337624877854862306597704236037116612330980988577389156033434511279110251715202799368545030373042897164242732884006488280760976415989054055140332257898339302228597966380936846168473902670291726450180962121730862696199490426583909291108312319325497362694610155270727267946236540818226803520793401916821603722192887849260297998420205717866349684715899399135401804577259992316846174422079744867097528963041582642422005948963927538103965596715185910037213329012944772410078002196609975385268395561504693944527015883444977046388285055667353587585970434859892956876645851243917924', 'n': '123456789', 'z': '50368224715478653142065901172316681089769239355481656342157776931225296514348342081044257616980007434448539853473982302068522760320799242664072758166535657126553059725346830716452793177026972355797533355344670210093478312648126740947196076064543238063124233969038904211575943585611276430061760363192027543118798150440057718148704426496786674798129468762248905659127677318259546014307466967910600203950698815879699994940653205743333839142516379258200547015040128640816624865636785683210211730061472702836891893730138638444045963856503711823044097651112312005281192025559296575499704352728255891376251086698786551175913'}}, 'tag': 'TAG1', 'signature_type': 'CL'}, 'type': '102'}, 'reqSignature': {'type': 'ED25519', 'values':  {'value': '2zg3utJszr1xu1jmisj2LdUpBMsJ4Ed5HeNVHAShVjUBZAFiHzrLpao67z3sbg6LwHRYgEbw14HByrTmYUP9ZMb4', 'from': 'TkKzKyV1be5zc6bR7kgMSe'} }}, 'op': 'REPLY'} {noformat}  Logs:  ^INDY-2153_CRED_DEF_CASE.tar.gz    ></body> </Action>
<Action id="61410" issue="40716" author="vladimirwork" type="comment" body="Verified according to PoA, all issues found are fixed in 1.9.0~dev1014." created="2019-07-02 08:45:49.0" updateauthor="vladimirwork" updated="2019-07-02 08:45:49.0"/>
