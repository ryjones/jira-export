<Action id="34583" issue="23911" author="vladimirwork" type="comment" created="2017-11-13 09:31:25.0" updateauthor="vladimirwork" updated="2017-11-13 09:32:11.0"> <body><! CDATA Additional Info: Case without view changes (simply adding 5th and 6th nodes to the pool) works normally.  ></body> </Action>
<Action id="35666" issue="23911" author="vladimirwork" type="comment" created="2017-11-30 09:35:59.0" updateauthor="vladimirwork" updated="2017-11-30 09:36:37.0"> <body><! CDATA Build Info: indy-node 1.2.224  Steps to Reproduce: 1. Start pool of 4 nodes. 2. Force 4 view changes (so new primary is the 1st node again). 3. Add the 5th node. 4. Send some NYMs. 5. Force 4 view changes (so new primary is the 5st node). 6. Add the 6th node. 7. Check ledger and log on the 6th node.  Actual Results: There is no errors in status or journalctl, but there are errors in Node6 log and it still isn't catched up with other 5 nodes.  ^_node6_new.txt   !domain_count.PNG|thumbnail!    ></body> </Action>
<Action id="37626" issue="23911" author="anikitindsr" type="comment" created="2017-12-19 10:43:21.0" updateauthor="anikitindsr" updated="2017-12-19 10:44:11.0"> <body><! CDATA Problem reason: - The problem is in adding 6th node after forcing 4 view change view.   Changes:   - Remove adding line separator in binary files before init domainLedger if file is not empty   -  Tests added:     - plenum/test/node_catchup/test_node_catchup_when_3_not_primary_node_restarted.py     - plenum/test/view_change/test_new_node_joins_after_view_change.py     - plenum/test/view_change/test_that_domain_ledger_the_same_after_restart_for_all_nodes.py  PR: -  https://github.com/hyperledger/indy-plenum/pull/486/   Version: - master  Risk: - Low  Covered with tests:      - plenum/test/node_catchup/test_node_catchup_when_3_not_primary_node_restarted.py     - plenum/test/view_change/test_new_node_joins_after_view_change.py     - plenum/test/view_change/test_that_domain_ledger_the_same_after_restart_for_all_nodes.py  Recommendations for QA 1. Start pool of 4 nodes. 2. Force 4 view changes (so new primary is the 1st node again). 3. Add the 5th node. 4. Send some NYMs. 5. Force 4 view changes (so new primary is the 5st node). 6. Add the 6th node. 7. Check ledger and log on the 6th node.  ></body> </Action>
<Action id="37634" issue="23911" author="vladimirwork" type="comment" created="2017-12-19 15:33:32.0" updateauthor="vladimirwork" updated="2017-12-19 15:34:18.0"> <body><! CDATA Build Info: indy-node 1.2.244  Steps to Validate: 1. Start pool of 4 nodes. 2. Force 4 view changes (so new primary is the 1st node again). 3. Add the 5th node. 4. Send some NYMs. 5. Force 4 view changes (so new primary is the 5st node). 6. Add the 6th node. 7. Check ledger and log on the 6th node. 8. Restart 5th node to select 6th node as primary. 9. Send some NYMs and check ledgers of all nodes.  Actual Results: Both nodes are added, catched up and reached consensus normally. Pool of 6 nodes works well. !INDY-948.PNG|thumbnail!   ></body> </Action>
