<Issue id="32140" key="INDY-1512" number="1512" project="10303" reporter="ckochenower" creator="ckochenower" type="10002" summary="Chaos Experiment - Competing Primaries" priority="2" status="10200" created="2018-07-23 17:33:25.0" updated="2018-07-26 13:28:49.0" votes="0" watches="1" workflowId="43369"> <description><! CDATA Attempt to create a competing primaries (a.k.a. split primary) scenario by forcing a view change over and over again (a.k.a. chasing the primary) while generating load.  The Berdyaev 6 team has observed this behavior while running the following experiment 20 to 40 times in a row: https://github.com/evernym/chaosindy/blob/master/experiments/force-view-change.json. Note that the force-view-change experiment has recently changed (mid-July) and the behavior has not been reproduced with the updated experiment. The initial version of the experiment asked each node who the primary is, calculates the majority response (i.e. the majority of validator nodes say Node1 is the primary), and stops that node assuming it is the primary. The initial implementation did not wait for all nodes to report the new primary before starting the stopped node (previous primary). As a result, the next iteration (up to 40 iterations) would execute and repeat the process. The new version that waits up to 360 seconds for a view change to complete before moving to the next iteration of the experiment does not induce a "competing primaries" scenario.  Perhaps the force-view-change experiment needs to be enhanced to work both ways and this task would be to invoke the old behavior 20 to 40 times and expect the pool to eventually recover.  ></description> </Issue>
