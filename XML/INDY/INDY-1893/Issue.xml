<Issue id="35882" key="INDY-1893" number="1893" project="10303" reporter="mgbailey" creator="mgbailey" type="10004" summary="Validator stuck in continual view change" environment="MainNet, indy-node 1.6.78" priority="1" resolution="10000" status="10001" created="2018-12-04 23:40:54.0" updated="2019-03-29 20:34:16.0" resolutiondate="2019-03-29 20:34:15.0" votes="0" watches="3" workflowId="47384"> <description><! CDATA One of the steward validators on MainNet (indy-node 1.6.78) has been stuck in a view change for an extended time. This first came to notice when attempting to retrieve its status using get-validator-info from a client: {code:java} pool(mainnet):wallet(mainnet_wallet):did(J4N...Y5q):indy> ledger get-validator-info nodes=NewtonD Validator Info: Transaction has been rejected: Client request is discarded since view change is in progress {} {code} This is the only node that experienced this issue. All other nodes view and primary information was consistant. A transaction was posted to the ledger, and this node did not post it in its database.  The node was able to recover following a restart of the service. Please examine the attached logs and validator-info dump (before the restart) to see if there is information that can be used to improved the stability of the product.  *UPDATE:*  At about 10:45 MST 6 nodes on TestNet owned by Evernym were rebooted simultaneously to apply a kernel update. One of these nodes was the current primary node. As a result of this, a view change was initiated, which was not completed properly on all nodes. 2 of the Evernym nodes selected a different primary than the rest, and 10 of the nodes owned by other stewards got into the same state that we see in this ticket: a never-completed view change. {code:java} pool(testnet):wallet(testnet_wallet):did(6fe...zSJ):indy> ledger get-validator-info Validator Info: Transaction has been rejected: Client request is discarded since view change is in progress Transaction has been rejected: Client request is discarded since view change is in progress Transaction has been rejected: Client request is discarded since view change is in progress Transaction has been rejected: Client request is discarded since view change is in progress Transaction has been rejected: Client request is discarded since view change is in progress Transaction has been rejected: Client request is discarded since view change is in progress Transaction has been rejected: Client request is discarded since view change is in progress Transaction has been rejected: Client request is discarded since view change is in progress Transaction has been rejected: Client request is discarded since view change is in progress Transaction has been rejected: Client request is discarded since view change is in progress ...{code} I will be attaching logs from all of the nodes that I can get my hands on.  Restarting effected nodes clears the issue, but takes a lot of time since it must be done manually by our dispersed stewards. (see INDY-1896) This causes much concern on TestNet these days. Updating the priority accordingly.  Â   ></description> </Issue>
