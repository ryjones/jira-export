<Issue id="29996" key="INDY-1316" number="1316" project="10303" reporter="zhigunenko.dsr" assignee="ozheregelya" creator="zhigunenko.dsr" type="10004" summary="Unhandled exception during node working" priority="3" resolution="10000" status="10001" created="2018-05-07 08:43:09.0" updated="2019-03-29 20:34:28.0" resolutiondate="2019-03-29 20:34:28.0" votes="0" watches="3" workflowId="30003"> <environment><! CDATA indy-anoncreds 1.0.32 indy-node 1.3.396 indy-plenum 1.2.342 libindy-crypto 0.4.0 python3-indy-crypto 0.4.0  ></environment> <description><! CDATA Size: S (PoA + fix)  During load test 16 from 25 nodes had caught these exception at the same time. Pool stopped to writing.  {code} Traceback (most recent call last): File "/usr/local/bin/start_indy_node", line 17, in <module> run_node(config, self_name, int(sys.argv 2 ), int(sys.argv 3 )) File "/usr/local/lib/python3.5/dist-packages/indy_node/utils/node_runner.py", line 57, in run_node looper.run() File "/usr/local/lib/python3.5/dist-packages/stp_core/loop/looper.py", line 261, in run return self.loop.run_until_complete(what) File "/usr/lib/python3.5/asyncio/base_events.py", line 387, in run_until_complete return future.result() File "/usr/lib/python3.5/asyncio/futures.py", line 274, in result raise self._exception File "/usr/lib/python3.5/asyncio/tasks.py", line 239, in _step result = coro.send(None) File "/usr/local/lib/python3.5/dist-packages/stp_core/loop/looper.py", line 224, in runForever await self.runOnceNicely() File "/usr/local/lib/python3.5/dist-packages/stp_core/loop/looper.py", line 207, in runOnceNicely msgsProcessed = await self.prodAllOnce() File "/usr/local/lib/python3.5/dist-packages/stp_core/loop/looper.py", line 152, in prodAllOnce s += await n.prod(limit) File "/usr/local/lib/python3.5/dist-packages/indy_node/server/node.py", line 293, in prod c = await super().prod(limit) File "/usr/local/lib/python3.5/dist-packages/plenum/server/node.py", line 989, in prod c += await self.serviceNodeMsgs(limit) File "/usr/local/lib/python3.5/dist-packages/plenum/server/node.py", line 1023, in serviceNodeMsgs await self.processNodeInBox() File "/usr/local/lib/python3.5/dist-packages/plenum/server/node.py", line 1599, in processNodeInBox await self.nodeMsgRouter.handle(m) File "/usr/local/lib/python3.5/dist-packages/plenum/server/router.py", line 81, in handle res = self.handleSync(msg) File "/usr/local/lib/python3.5/dist-packages/plenum/server/router.py", line 70, in handleSync return self.getFunc(msg 0 )(*msg) File "/usr/local/lib/python3.5/dist-packages/plenum/common/ledger_manager.py", line 471, in processCatchupReq cons_proof = self._make_consistency_proof(ledger, end, req.catchupTill) File "/usr/local/lib/python3.5/dist-packages/plenum/common/ledger_manager.py", line 488, in _make_consistency_proof proof = ledger.tree.consistency_proof(end, catchup_till) File "/usr/local/lib/python3.5/dist-packages/ledger/compact_merkle_tree.py", line 216, in consistency_proof self._subproof(first, 0, second, True)  File "/usr/local/lib/python3.5/dist-packages/ledger/compact_merkle_tree.py", line 215, in <listcomp> return  self.merkle_tree_hash(a, b) for a, b in File "/usr/local/lib/python3.5/dist-packages/ledger/compact_merkle_tree.py", line 201, in merkle_tree_hash raise ValueError("end must be greater than start") {code}   Logs|https://drive.google.com/open?id=1PQUXYCzqrFVl7eVKYwlly9dMQZA2Og7i   ></description> </Issue>
