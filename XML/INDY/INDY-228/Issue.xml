<Issue id="17922" key="INDY-228" number="228" project="10303" reporter="aleksey-roldugin" assignee="derashe" creator="aleksey-roldugin" type="10004" summary="After adding node with empty services it&apos;s appeared as connected in CLI " priority="3" resolution="10000" status="10001" created="2017-06-14 17:36:31.0" updated="2019-03-29 20:34:35.0" resolutiondate="2019-03-29 20:34:35.0" votes="0" watches="3" workflowId="17927"> <description><! CDATA h6. BUILD  sovrin-node 0.3.138 sovrin-client 0.3.136 h6. PRECONDITIONS # Working pool (I used  Shakedown Pool 4|https://docs.google.com/spreadsheets/d/1dQs2101Xcb9HMJQufLgtmiHxA-apbjnbXn8CGiCDHp0/edit#gid=0 ) # Another validator node prepared for for adding (IP: 52.65.105.174; user/pass: ubuntu/no passwod; user/pass: sovrin/1)  h6. STEPS TO REPRODUCE  Send from CLI: {code:java} sovrin@test> send NODE dest=4Tn3wZMNCvhSTXPcLinQDnHyj56DTLQtL61ki4jo2Loc data={' client_port': 9710, 'client_ip': '52.65.105.174', 'alias': 'Node5', 'node_ip': ' 52.65.105.174', 'node_port': 9709, 'services':   } Sending node request for node identifier 4Tn3wZMNCvhSTXPcLinQDnHyj56DTLQtL61ki4jo2Loc by EHHnpHErJkPqhtJWuKekA4Cn8jLhvnfTsvVVdy53Qarr (request id: 1497456523692470) 3JmHZk3qC2mjCH7im2PWYfBWBb98AYccYBrBPMMfueeT looking for Node5C at 52.65.105.174:9710 Node request completed 4Tn3wZMNCvhSTXPcLinQDnHyj56DTLQtL61ki4jo2Loc 3JmHZk3qC2mjCH7im2PWYfBWBb98AYccYBrBPMMfueeT now connected to Node5C sovrin@test> disconnect Disconnecting from test ... Active keyring "userb" saved (/home/sovrin/.sovrin/keyrings/test/userb.wallet) Disconnected from test sovrin> connect test  Saved keyring "userb" restored (/home/sovrin/.sovrin/keyrings/test/userb.wallet) Active keyring set to "userb" Client sovrina1bcbe initialized with the following node registry: Node1C   listens at 52.62.180.225           on port 9702 Node2C   listens at 13.58.134.249           on port 9704 Node3C   listens at 52.9.79.203             on port 9706 Node4C   listens at 34.209.130.170          on port 9708 NodeNATC listens at nat2.dsr-company.com.ru on port 9702 Active client set to sovrina1bcbe 36qHbo3X8z3iAR8GtLzCeb2QqeqfxoZ8hwyVt1BvAqhm listening for other nodes at 0.0.0.0:6007 36qHbo3X8z3iAR8GtLzCeb2QqeqfxoZ8hwyVt1BvAqhm looking for Node4C at 34.209.130.170:9708 36qHbo3X8z3iAR8GtLzCeb2QqeqfxoZ8hwyVt1BvAqhm looking for Node1C at 52.62.180.225:9702 36qHbo3X8z3iAR8GtLzCeb2QqeqfxoZ8hwyVt1BvAqhm looking for Node2C at 13.58.134.249:9704 36qHbo3X8z3iAR8GtLzCeb2QqeqfxoZ8hwyVt1BvAqhm looking for NodeNATC at nat2.dsr-company.com.ru:9702 36qHbo3X8z3iAR8GtLzCeb2QqeqfxoZ8hwyVt1BvAqhm looking for Node3C at 52.9.79.203:9706 Connecting to test... 36qHbo3X8z3iAR8GtLzCeb2QqeqfxoZ8hwyVt1BvAqhm now connected to NodeNATC 36qHbo3X8z3iAR8GtLzCeb2QqeqfxoZ8hwyVt1BvAqhm now connected to Node2C Connected to test. 36qHbo3X8z3iAR8GtLzCeb2QqeqfxoZ8hwyVt1BvAqhm now connected to Node3C 36qHbo3X8z3iAR8GtLzCeb2QqeqfxoZ8hwyVt1BvAqhm now connected to Node4C 36qHbo3X8z3iAR8GtLzCeb2QqeqfxoZ8hwyVt1BvAqhm looking for Node5C at 52.65.105.174:9710 36qHbo3X8z3iAR8GtLzCeb2QqeqfxoZ8hwyVt1BvAqhm now connected to Node1C 36qHbo3X8z3iAR8GtLzCeb2QqeqfxoZ8hwyVt1BvAqhm now connected to Node5C {code} h6. ACTUALÂ RESULT: {code:java} 3JmHZk3qC2mjCH7im2PWYfBWBb98AYccYBrBPMMfueeT now connected to Node5C {code} h6. EXPECTED RESULT:  Client should not connect to node added with empty services. h6. ADDITIONAL INFORMATION - Sending NYM from CLI will appear in logs on node added with empty services - Node added with empty services do not perform catch up (it's mentioned in INDY-88)  ></description> </Issue>
