<Issue id="36062" key="INDY-1907" number="1907" project="10303" reporter="vladimirwork" creator="vladimirwork" type="10004" summary="Unable to install not the latest packages on clients using pool automation scripts" priority="3" resolution="10200" status="10001" created="2018-12-11 07:40:11.0" updated="2019-03-29 20:33:28.0" resolutiondate="2019-03-29 20:33:28.0" votes="0" watches="1" workflowId="47577"> <description><! CDATA Steps to Reproduce: 1. Configure client to install not the latest libindy and indy-cli versions: `python ./scripts/namespace-config.py conf --localhosts.aws_regions us-east-1 us-west-2 --aws_clients_provisioner.aws_instance_count 1 --aws_clients_provisioner.aws_ec2_type t3.micro --aws_clients_provisioner.aws_ebs_volume_size 8 --aws_nodes_provisioner.aws_instance_count 4 --aws_nodes_provisioner.aws_ec2_type m5.large --aws_nodes_provisioner.aws_ebs_volume_size 24 --nodes.indy_node_channel master --clients.perf_scripts_libindy_ver 1.6.8~881 --clients.indy_cli_ver 1.6.8~881 --nodes.indy_node_ver 1.6.725 --nodes.indy_plenum_ver 1.6.628 --nodes.python_indy_crypto_ver 0.4.5 --nodes.libindy_crypto_ver 0.4.5` 2. Provision the client. 3. Try to configure the client.  Actual Results: {noformat} TASK  perf_scripts : Install pip and other required packages  ********************************************************************************************************************************************** fatal:  conf_clients1 : FAILED! => {"cache_update_time": 1544452950, "cache_updated": true, "changed": false, "msg": "'/usr/bin/apt-get -y -o \"Dpkg::Options::=--force-confdef\" -o \"Dpkg::Options::=--force-confold\"     install 'libindy=1.6.8~881' 'python3-pip' 'python-setuptools' 'virtualenv'' failed: E: Packages were downgraded and -y was used without --allow-downgrades.\n", "rc": 100, "stderr": "E: Packages were downgraded and -y was used without --allow-downgrades.\n", "stderr_lines":  "E: Packages were downgraded and -y was used without --allow-downgrades." , "stdout": "Reading package lists...\nBuilding dependency tree...\nReading state information...\nThe following additional packages will be installed:\n  binutils build-essential cpp cpp-5 dpkg-dev fakeroot g++ g++-5 gcc gcc-5\n  libalgorithm-diff-perl libalgorithm-diff-xs-perl libalgorithm-merge-perl\n  libasan2 libatomic1 libc-dev-bin libc6-dev libcc1-0 libcilkrts5 libdpkg-perl\n  libexpat1-dev libfakeroot libfile-fcntllock-perl libgcc-5-dev libgomp1\n  libisl15 libitm1 liblsan0 libmpc3 libmpx0 libpython3-dev libpython3.5-dev\n  libquadmath0 libstdc++-5-dev libtsan0 libubsan0 linux-libc-dev make\n  manpages-dev python-pip-whl python-pkg-resources python3-dev\n  python3-setuptools python3-virtualenv python3-wheel python3.5-dev\nSuggested packages:\n  binutils-doc cpp-doc gcc-5-locales debian-keyring g++-multilib\n  g++-5-multilib gcc-5-doc libstdc++6-5-dbg gcc-multilib autoconf automake\n  libtool flex bison gdb gcc-doc gcc-5-multilib libgcc1-dbg libgomp1-dbg\n  libitm1-dbg libatomic1-dbg libasan2-dbg liblsan0-dbg libtsan0-dbg\n  libubsan0-dbg libcilkrts5-dbg libmpx0-dbg libquadmath0-dbg glibc-doc\n  libstdc++-5-doc make-doc python-setuptools-doc\nThe following NEW packages will be installed:\n  binutils build-essential cpp cpp-5 dpkg-dev fakeroot g++ g++-5 gcc gcc-5\n  libalgorithm-diff-perl libalgorithm-diff-xs-perl libalgorithm-merge-perl\n  libasan2 libatomic1 libc-dev-bin libc6-dev libcc1-0 libcilkrts5 libdpkg-perl\n  libexpat1-dev libfakeroot libfile-fcntllock-perl libgcc-5-dev libgomp1\n  libisl15 libitm1 liblsan0 libmpc3 libmpx0 libpython3-dev libpython3.5-dev\n  libquadmath0 libstdc++-5-dev libtsan0 libubsan0 linux-libc-dev make\n  manpages-dev python-pip-whl python-pkg-resources python-setuptools\n  python3-dev python3-pip python3-setuptools python3-virtualenv python3-wheel\n  python3.5-dev virtualenv\nThe following packages will be DOWNGRADED:\n  libindy\n0 upgraded, 49 newly installed, 1 downgraded, 0 to remove and 26 not upgraded.\n", "stdout_lines":  "Reading package lists...", "Building dependency tree...", "Reading state information...", "The following additional packages will be installed:", "  binutils build-essential cpp cpp-5 dpkg-dev fakeroot g++ g++-5 gcc gcc-5", "  libalgorithm-diff-perl libalgorithm-diff-xs-perl libalgorithm-merge-perl", "  libasan2 libatomic1 libc-dev-bin libc6-dev libcc1-0 libcilkrts5 libdpkg-perl", "  libexpat1-dev libfakeroot libfile-fcntllock-perl libgcc-5-dev libgomp1", "  libisl15 libitm1 liblsan0 libmpc3 libmpx0 libpython3-dev libpython3.5-dev", "  libquadmath0 libstdc++-5-dev libtsan0 libubsan0 linux-libc-dev make", "  manpages-dev python-pip-whl python-pkg-resources python3-dev", "  python3-setuptools python3-virtualenv python3-wheel python3.5-dev", "Suggested packages:", "  binutils-doc cpp-doc gcc-5-locales debian-keyring g++-multilib", "  g++-5-multilib gcc-5-doc libstdc++6-5-dbg gcc-multilib autoconf automake", "  libtool flex bison gdb gcc-doc gcc-5-multilib libgcc1-dbg libgomp1-dbg", "  libitm1-dbg libatomic1-dbg libasan2-dbg liblsan0-dbg libtsan0-dbg", "  libubsan0-dbg libcilkrts5-dbg libmpx0-dbg libquadmath0-dbg glibc-doc", "  libstdc++-5-doc make-doc python-setuptools-doc", "The following NEW packages will be installed:", "  binutils build-essential cpp cpp-5 dpkg-dev fakeroot g++ g++-5 gcc gcc-5", "  libalgorithm-diff-perl libalgorithm-diff-xs-perl libalgorithm-merge-perl", "  libasan2 libatomic1 libc-dev-bin libc6-dev libcc1-0 libcilkrts5 libdpkg-perl", "  libexpat1-dev libfakeroot libfile-fcntllock-perl libgcc-5-dev libgomp1", "  libisl15 libitm1 liblsan0 libmpc3 libmpx0 libpython3-dev libpython3.5-dev", "  libquadmath0 libstdc++-5-dev libtsan0 libubsan0 linux-libc-dev make", "  manpages-dev python-pip-whl python-pkg-resources python-setuptools", "  python3-dev python3-pip python3-setuptools python3-virtualenv python3-wheel", "  python3.5-dev virtualenv", "The following packages will be DOWNGRADED:", "  libindy", "0 upgraded, 49 newly installed, 1 downgraded, 0 to remove and 26 not upgraded." } 	to retry, use: --limit @/home/indy/indy-node/pool_automation/configure.retry  PLAY RECAP ************************************************************************************************************************************************************************************************* conf_clients1              : ok=14   changed=0    unreachable=0    failed=1   {noformat}  Expected Results: We should be able to install not the latest versions of client packages the same as node packages.    ></description> </Issue>
