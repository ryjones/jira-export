<Action id="55664" issue="36235" author="toktar" type="comment" created="2019-01-15 09:36:47.0" updateauthor="toktar" updated="2019-01-15 09:36:47.0"> <body><! CDATA We try to run  script with different valid and invalid input json but can't catch this bug.  ~nzHiggy  Have you the input log file that reproduce the bug?  ></body> </Action>
<Action id="55697" issue="36235" author="wombletron" type="comment" created="2019-01-16 00:29:40.0" updateauthor="wombletron" updated="2019-01-16 00:29:40.0"> <body><! CDATA  ~Toktar  Kevin is away at the moment. I can run commands though to capture what may be needed.  When I run /usr/local/bin/validator-info --json or -v the command works as expected. When i run /usr/local/bin/validator-info --nagios i get the error below:  pault@capliam19:/usr/local/bin$ sudo ./validator-info --nagios Traceback (most recent call last): File "./validator-info", line 866, in <module> sys.exit(main()) File "./validator-info", line 850, in main print(get_stats_from_file(json_data, args.verbose, args.json, args.nagios)) File "./validator-info", line 589, in get_stats_from_file return nagios(vstats) File "./validator-info", line 574, in nagios   +   TypeError: 'TransactionsStats' object is not subscriptable  Do you want anything specific checked?  ></body> </Action>
<Action id="55734" issue="36235" author="toktar" type="comment" created="2019-01-16 22:21:43.0" updateauthor="toktar" updated="2019-01-16 22:21:43.0"> <body><! CDATA Hi  ~wombletron ! Thank you for your answer. Could you send me a file 'validator-info.log' from directory '/var/lib/indy' on node where you are running script? It help me reproduce the bug.  ></body> </Action>
<Action id="55737" issue="36235" author="wombletron" type="comment" body="Shall I just attach it here, or email it to you? its nice and small." created="2019-01-17 00:12:56.0" updateauthor="wombletron" updated="2019-01-17 00:12:56.0"/>
<Action id="55758" issue="36235" author="toktar" type="comment" body="If it&apos;s nice and small I think will be better to attach it here for a history.  Please, archive the file if it will be more than Jira can upload." created="2019-01-17 13:10:57.0" updateauthor="toktar" updated="2019-01-17 13:10:57.0"/>
<Action id="55850" issue="36235" author="wombletron" type="comment" created="2019-01-18 23:49:54.0" updateauthor="wombletron" updated="2019-01-18 23:49:54.0"> <body><! CDATA Here you go.   ^sparknz-validator-info.log.tgz   ></body> </Action>
<Action id="55897" issue="36235" author="toktar" type="comment" body="Thank you very much! But I&apos;m so sorry, could you attach validator-info.json too?" created="2019-01-21 10:50:09.0" updateauthor="toktar" updated="2019-01-21 10:50:09.0"/>
<Action id="55952" issue="36235" author="wombletron" type="comment" created="2019-01-21 21:19:33.0" updateauthor="wombletron" updated="2019-01-21 21:19:33.0"> <body><! CDATA I take it you mean the output of validator-info --json   ^validator-info.json   ></body> </Action>
<Action id="56040" issue="36235" author="toktar" type="comment" created="2019-01-22 22:59:52.0" updateauthor="toktar" updated="2019-01-22 22:59:52.0"> <body><! CDATA Thank you! We found the problem and fixed it.  --nagios will work correctly in a new version 1.6.83  ></body> </Action>
<Action id="56087" issue="36235" author="toktar" type="comment" created="2019-01-23 09:48:11.0" updateauthor="toktar" updated="2019-01-23 09:48:35.0"> <body><! CDATA *Problem reason:* - TransactionsStats has another structure than other BaseUnknown elements. In --nagios option,  'transaction-count' call is incorrect and causes an error.  *Changes:* - Added methods to correct handling this way of calls to TransactionsStats.  *PR:* *  https://github.com/hyperledger/indy-node/pull/1137   *Version:* * indy-node 1.6.769 -master (indy-plenum 1.6.658 -master)  *Risk factors:* - Problem with validator-info script work.  *Risk:* - Low for validator-info, no risk for system  *Recommendations for QA:*  Test validator-info script with * – nagios * --json * -v * without parameters  ></body> </Action>
<Action id="56154" issue="36235" author="vladimirwork" type="comment" created="2019-01-24 15:04:49.0" updateauthor="vladimirwork" updated="2019-01-24 15:04:49.0"> <body><! CDATA Build Info: indy-node 1.6.770  Steps to Validate: 1. Test validator-info script with: 1.1. --nagios 1.2. --json 1.3. -v 1.4. without parameters  Actual Results: Validator-info works as expected.  ></body> </Action>
