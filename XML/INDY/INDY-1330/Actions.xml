<Action id="44643" issue="30170" author="vladimirwork" type="comment" created="2018-05-18 10:25:04.0" updateauthor="vladimirwork" updated="2018-05-18 10:25:04.0"> <body><! CDATA  ~anikitinDSR   ~ashcherbakov  We have the similar error during upgrade from 1.3.57 (last stable) to 1.3.61 (current rc):  {noformat} -- The start-up result is done. May 18 10:02:30 6ed02ff77784 env 1880 : 2018-05-18 10:02:30,265 | DEBUG    | __init__.py          (  60) | register | Registered VCS backend: git May 18 10:02:30 6ed02ff77784 env 1880 : 2018-05-18 10:02:30,316 | DEBUG    | __init__.py          (  60) | register | Registered VCS backend: hg May 18 10:02:30 6ed02ff77784 env 1880 : 2018-05-18 10:02:30,365 | DEBUG    | __init__.py          (  60) | register | Registered VCS backend: svn May 18 10:02:30 6ed02ff77784 env 1880 : 2018-05-18 10:02:30,366 | DEBUG    | __init__.py          (  60) | register | Registered VCS backend: bzr May 18 10:02:30 6ed02ff77784 env 1880 : 2018-05-18 10:02:30,518 | INFO     | node_control_tool.py (  75) | __init__ | Node control tool is starting up on localhost port 30003 May 18 10:02:31 6ed02ff77784 env 1880 : E: Unable to locate package sovrin May 18 10:02:31 6ed02ff77784 env 1880 : Traceback (most recent call last): May 18 10:02:31 6ed02ff77784 env 1880 :   File "/usr/local/bin/start_node_control_tool", line 22, in <module> May 18 10:02:31 6ed02ff77784 env 1880 :     nodeControlTool.start() May 18 10:02:31 6ed02ff77784 env 1880 :   File "/usr/local/lib/python3.5/dist-packages/indy_node/utils/node_control_tool.py", line 277, in start May 18 10:02:31 6ed02ff77784 env 1880 :     self._hold_packages() May 18 10:02:31 6ed02ff77784 env 1880 :   File "/usr/local/lib/python3.5/dist-packages/indy_node/utils/node_control_tool.py", line 104, in _hold_packages May 18 10:02:31 6ed02ff77784 env 1880 :     ret = self._run_shell_command(cmd) May 18 10:02:31 6ed02ff77784 env 1880 :   File "/usr/local/lib/python3.5/dist-packages/indy_node/utils/node_control_tool.py", line 268, in _run_shell_command May 18 10:02:31 6ed02ff77784 env 1880 :     timeout=TIMEOUT) May 18 10:02:31 6ed02ff77784 env 1880 :   File "/usr/lib/python3.5/subprocess.py", line 708, in run May 18 10:02:31 6ed02ff77784 env 1880 :     output=stdout, stderr=stderr) May 18 10:02:31 6ed02ff77784 env 1880 : subprocess.CalledProcessError: Command 'apt-mark hold indy-anoncreds indy-plenum indy-node python3-indy-crypto "sovrin "' returned non-zero exit status 100 May 18 10:02:31 6ed02ff77784 systemd 1 : indy-node-control.service: Main process exited, code=exited, status=1/FAILURE May 18 10:02:31 6ed02ff77784 systemd 1 : indy-node-control.service: Unit entered failed state. May 18 10:02:31 6ed02ff77784 systemd 1 : indy-node-control.service: Failed with result 'exit-code'. May 18 10:02:31 6ed02ff77784 env 1881 : 2018-05-18 10:02:31,598 | DEBUG    | __init__.py          (  60) | register | Registered VCS backend: git May 18 10:02:31 6ed02ff77784 env 1881 : 2018-05-18 10:02:31,653 | DEBUG    | __init__.py          (  60) | register | Registered VCS backend: hg May 18 10:02:31 6ed02ff77784 env 1881 : 2018-05-18 10:02:31,697 | DEBUG    | __init__.py          (  60) | register | Registered VCS backend: svn May 18 10:02:31 6ed02ff77784 env 1881 : 2018-05-18 10:02:31,700 | DEBUG    | __init__.py          (  60) | register | Registered VCS backend: bzr May 18 10:02:41 6ed02ff77784 systemd 1 : indy-node-control.service: Service hold-off time over, scheduling restart. May 18 10:02:41 6ed02ff77784 systemd 1 : Stopped Service for upgrade of existing Indy Node and other operations. {noformat}   ></body> </Action>
<Action id="44738" issue="30170" author="anikitindsr" type="comment" created="2018-05-21 14:54:28.0" updateauthor="anikitindsr" updated="2018-05-21 14:54:28.0"> <body><! CDATA Reasons:  - need to fix parameters in node_control.conf, which passed to start_node_control script, by systemd or supervisord  Version: indy-node 1.3.419-master  PR: https://github.com/hyperledger/indy-node/pull/704  ></body> </Action>
<Action id="44749" issue="30170" author="vladimirwork" type="comment" body="Second case is checked during 1.3.62 RC acceptance testing." created="2018-05-21 16:29:39.0" updateauthor="vladimirwork" updated="2018-05-21 16:29:39.0"/>
<Action id="44822" issue="30170" author="vladimirwork" type="comment" created="2018-05-22 10:53:54.0" updateauthor="vladimirwork" updated="2018-05-22 10:53:54.0"> <body><! CDATA Build Info: python3-base58=0.2.4 libindy-crypto=0.1.6 python3-indy-crypto=0.1.6 indy-plenum=1.2.180 indy-node=1.2.223  Steps to Validate: 1. Install 1.2.223 pool (1.3.55 stable analogue). 2. Add ~10 NYMs to ledger. 3. Upgrade pool to 1.3.410. 4. Add and get NYM to ledger. 5. Check indy-node version \ status and journalctl at all nodes.  Actual Results: Pool is upgraded successfully without any errors in journalctl. Pool works after the upgrade.  ></body> </Action>
