<Action id="26421" issue="18069" author="aleksey-roldugin" type="comment" body="FYI  ~krw910 ,  ~stevetolman ,  ~danielhardman ,  ~ashcherbakov " created="2017-06-15 16:04:30.0" updateauthor="aleksey-roldugin" updated="2017-06-15 16:04:30.0"/>
<Action id="26425" issue="18069" author="aleksey-roldugin" type="comment" body="After demoting-promoting another node (Node5) client immediately connected to it however node didn&apos;t make catch up. But restarting sovrin-node.service helped in this case too." created="2017-06-15 16:33:11.0" updateauthor="aleksey-roldugin" updated="2017-06-15 16:33:11.0"/>
<Action id="28091" issue="18069" author="dsurnin" type="comment" body="crash is not reproduced, however it blocked byÂ INDY-389" created="2017-07-10 13:43:07.0" updateauthor="dsurnin" updated="2017-07-10 13:43:07.0"/>
<Action id="28243" issue="18069" author="dsurnin" type="comment" created="2017-07-12 14:39:46.0" updateauthor="dsurnin" updated="2017-07-12 14:39:46.0"> <body><! CDATA tested with the latest master  nodes are promoted, catch up is done  ></body> </Action>
<Action id="28427" issue="18069" author="aleksey-roldugin" type="comment" created="2017-07-14 18:18:59.0" updateauthor="aleksey-roldugin" updated="2017-07-14 18:18:59.0"> <body><! CDATA h6. BUILD  repository master sovrin 0.2.9 indy-node 0.4.35  h6. PRECONDITIONS # Pool from 7 machines: 6 nodes and 1 client  h6. STEPS TO REPRODUCE  # Demote Node1: {code:java} sovrin@test> send NODE dest=Gw6pDLhcBcoQesN72qfotTgFa7cbuqZpkX3Xo6pLhPhv data={'alias': 'Node1', 'services':   } Sending node request for node identifier Gw6pDLhcBcoQesN72qfotTgFa7cbuqZpkX3Xo6pLhPhv by V4SGRU86Z58d6TV7PBUe6f (request id: 1500055358796735) 3wY2RXNaUswRASh6rwXV6T2Tct1fBP9F1dLv7Twd1XPk disconnected from Node1C Node request completed Gw6pDLhcBcoQesN72qfotTgFa7cbuqZpkX3Xo6pLhPhv {code} # Demote Node6: {code:java} sovrin@test> send NODE dest=Cv1Ehj43DDM5ttNBmC6VPpEfwXWwfGktHwjDJsTV5Fz8 data={'alias': 'Node6', 'services':   } Sending node request for node identifier Cv1Ehj43DDM5ttNBmC6VPpEfwXWwfGktHwjDJsTV5Fz8 by V4SGRU86Z58d6TV7PBUe6f (request id: 1500055533854273) 3wY2RXNaUswRASh6rwXV6T2Tct1fBP9F1dLv7Twd1XPk disconnected from Node6C Node request completed Cv1Ehj43DDM5ttNBmC6VPpEfwXWwfGktHwjDJsTV5Fz8 {code} # Update Node5 (it wasn't demoted so this should not make any effectcs): {code:java} sovrin@test> send NODE dest=4SWokCJWJc69Tn74VvLS6t2G2ucvXqM9FDMsWJjmsUxe data={'alias': 'Node5', 'services':  'VALIDATOR' } Sending node request for node identifier 4SWokCJWJc69Tn74VvLS6t2G2ucvXqM9FDMsWJjmsUxe by V4SGRU86Z58d6TV7PBUe6f (request id: 1500055646040310) Node request completed 4SWokCJWJc69Tn74VvLS6t2G2ucvXqM9FDMsWJjmsUxe {code} # Promote Node6 (successful): {code:java} sovrin@test> send NODE dest=Cv1Ehj43DDM5ttNBmC6VPpEfwXWwfGktHwjDJsTV5Fz8 data={' alias': 'Node6', 'services':  'VALIDATOR' } Sending node request for node identifier Cv1Ehj43DDM5ttNBmC6VPpEfwXWwfGktHwjDJsTV5Fz8 by V4SGRU86Z58d6TV7PBUe6f (request id: 1500055719811549) 3wY2RXNaUswRASh6rwXV6T2Tct1fBP9F1dLv7Twd1XPk looking for Node6C at 10.0.0.7:9712 3wY2RXNaUswRASh6rwXV6T2Tct1fBP9F1dLv7Twd1XPk now connected to Node6C Node request completed Cv1Ehj43DDM5ttNBmC6VPpEfwXWwfGktHwjDJsTV5Fz8 {code} # Promote Node1 (successful): {code:java} sovrin@test> send NODE dest=Gw6pDLhcBcoQesN72qfotTgFa7cbuqZpkX3Xo6pLhPhv data={' alias': 'Node1', 'services':  'VALIDATOR' } Sending node request for node identifier Gw6pDLhcBcoQesN72qfotTgFa7cbuqZpkX3Xo6pLhPhv by V4SGRU86Z58d6TV7PBUe6f (request id: 1500055775886415) 3wY2RXNaUswRASh6rwXV6T2Tct1fBP9F1dLv7Twd1XPk looking for Node1C at 10.0.0.2:9702 3wY2RXNaUswRASh6rwXV6T2Tct1fBP9F1dLv7Twd1XPk now connected to Node1C Node request completed Gw6pDLhcBcoQesN72qfotTgFa7cbuqZpkX3Xo6pLhPhv {code}  h6. ACTUAL RESULT - Node1 made catch up - There are no errors in response to status command  ></body> </Action>
