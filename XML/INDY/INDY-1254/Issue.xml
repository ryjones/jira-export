<Issue id="28976" key="INDY-1254" number="1254" project="10303" reporter="ashcherbakov" assignee="sergey-shilov" creator="ashcherbakov" type="10001" summary="Document use of firewall to deal with DDoS attacks" priority="3" resolution="10000" status="10001" created="2018-03-29 12:47:53.0" updated="2019-03-29 20:33:25.0" resolutiondate="2019-03-29 20:33:25.0" votes="0" watches="2" workflowId="28979"> <description><! CDATA *Story* As an administrator of an Indy Node, I want to understand policies around firewall usage to minimize network risk to DDoS attacks.  *Acceptance Criteria* * Administrator documentation exists for configuring IPTables on Linux as a firewall protecting both node network inferfaces * The documentation explains how to specifically protect the NIC used for communication between network nodes, restricting communication to whitelisted addresses. * The documentation explains how to quickly blacklist an IP address on either NIC.  *Notes* * We estimate that half of the stewards on the Sovrin network use IPTables as their firewall. * The stewards that do not use IPTables appear to use a range of commercial firewall packages, and be educated in their use to conform with network steward guidelines. Therefore, examples with IPTables are sufficient to guide these admins. * We evaluated other tools as firewall proxy, and decided not to include them in the recommendations at this time: ** An HTTP proxy such as Nginx could be used to meet this use case ***  https://docs.nginx.com/nginx/admin-guide/load-balancer/tcp-udp-load-balancer/.|https://docs.nginx.com/nginx/admin-guide/load-balancer/tcp-udp-load-balancer/  *** This introduces additional complexity, is not the core use case of Nginx, and does not appear to be needed at this time. ** A tool such as fail2ban can automatically scan a log file and update firewall rules. ***  https://www.fail2ban.org/wiki/index.php/Main_Page  *** Steward administrators might choose to run fail2ban, but it won't be required at this time so we do not need to document it. * This documentation does not need to account for Observer Rings, but can be adapted for that use case when they are part of the network. * The documentation needs to comply with the Sovrin Network guidelines for stewards: ** As the first implementation of an Indy network, the Sovrin Network Guidelines are a useful guide for how our tool should work. ** Mandates usage of two NICs, (INDY-1249, INDY-1282) ** Mandates usage of a firewall, ** Provides specific targets for how long it should take for an IP address to be blacklisted or whitelisted.  ></description> </Issue>
