<Action id="55097" issue="34195" author="sergey-shilov" type="comment" created="2018-12-21 16:51:34.0" updateauthor="sergey-shilov" updated="2018-12-21 16:51:34.0"> <body><! CDATA *Problem state / reason:*  According to the description of INDY-1727 we need to modify and extend auth_map structure which will support all existing rules and multi-signature features too. Also, in this case we should modify all auth's tests and write some new.  *Changes:*  * Implemented a new framework-like authorization approach * Defined "actions": ** AbstractAuthAction ** AuthActionAdd ** AuthActionEdit * Defined actions IDs as a combination of action prefix, TXN type, field to be modified, old and new values * Defined _AuthConstraint_  which defines a role and number of signatures for doing action * Made authentication as a strategy (local (static rules) or config ledger, local is a default) * Moved current auth rules to new "actions" * Integrate new auth_map to poolHandler and moved write_req_validator to node code * Defined authMap with current actions and new administrative actions (for now 1 signature is required).  Details of proposed and implemented solution can be found here: https://jira.hyperledger.org/browse/INDY-1728?focusedCommentId=54287&page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel#comment-54287  *Committed into:*  https://github.com/hyperledger/indy-node/pull/1100 indy-node 1.6.743-master  *Risk factors:*  May be some inconsistency in authorisation rules, QA validation is needed.  *Risk:*  Medium  *Recommendations for QA:*  Check that authorisation works as expected (adding Trustee, Steward etc., add/edit Schema/ClaimDef, nodes actions and so on).  ></body> </Action>
