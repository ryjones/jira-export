<Action id="27394" issue="18254" author="stevetolman" type="comment" body="Please time box this to one hour. Talk to Steve/Daniel if you cannot complete it in that time frame." created="2017-06-26 21:25:39.0" updateauthor="stevetolman" updated="2017-06-26 21:25:39.0"/>
<Action id="27589" issue="18254" author="andrey.goncharov" type="comment" body=" ~stevetolman  this ticket requires refactoring logic by which we assess if an upgrade was successful. It&apos;s not a complex change but it still need to be properly thought through. I think it&apos;s going to take around a day. What should we do with it?" created="2017-06-29 11:04:46.0" updateauthor="andrey.goncharov" updated="2017-06-29 11:04:46.0"/>
<Action id="27662" issue="18254" author="stevetolman" type="comment" body="We&apos;ll come back to this later. Thanks for the report." created="2017-06-29 20:43:47.0" updateauthor="stevetolman" updated="2017-06-29 20:43:47.0"/>
<Action id="29692" issue="18254" author="andrey.goncharov" type="comment" created="2017-08-11 10:42:49.0" updateauthor="andrey.goncharov" updated="2017-08-11 10:42:49.0"> <body><! CDATA Problem reason:  - condition in handeUpgradeTxn  Changes:  - condition changed  Committed into: https://github.com/hyperledger/indy-node/commit/3514339ecda21f64e23335f90a0f5a34b911b371 indy-node/master 1.0.96  Risk factors: Nothing is expected.  Risk: Low  Covered with tests: https://github.com/hyperledger/indy-node/commit/3514339ecda21f64e23335f90a0f5a34b911b371#diff-54057c42e56bc1af228b08b9db4ed074R15  Recommendations for QA: As of this commit downgrades are supported.     Test two scenarios: # Upgrade to a version which is not the last one ## Install indy-node of version X  ### X should be equal or greater than 1.0.96 ## Make sure there's indy-node of versions X+1 and X+2 ## Submit POOL_UPGRADE to X+1 ## Make sure it completes successfully # Downgrade ## Install indy-node of version X+1 ## Submit POOL_UPGRADE to X ## Make sure it completes successfully  ></body> </Action>
<Action id="29725" issue="18254" author="vladimirwork" type="comment" created="2017-08-11 14:11:47.0" updateauthor="vladimirwork" updated="2017-08-11 14:11:47.0"> <body><! CDATA Build Info: indy-node 1.0.96  Steps to Validate: 1. Send pool upgrade to not the last one version. 2. Send pool upgrade to previous version.  Actual Results: Both upgrades are performed successfully. !Screenshot.PNG|thumbnail!  !_Screenshot.PNG|thumbnail!   ></body> </Action>
<Action id="29835" issue="18254" author="danielhardman" type="comment" body="What happens when we downgrade? Does the migration script run? What versions does it look for in the name of the migration script (the more advanced version followed by the less advanced version?)" created="2017-08-15 08:27:33.0" updateauthor="danielhardman" updated="2017-08-15 08:27:33.0"/>
<Action id="29836" issue="18254" author="andrey.goncharov" type="comment" body="It follows the same rule version_you_come_from_to_version_you_upgrade_to. This means that if you downgrade from 1.0.100 to 1.0.90 then a migration script 1_0_100_to_1_0_90 is applied. Yet a reverse one (1_0_90_to_1_0_100) is not." created="2017-08-15 08:38:43.0" updateauthor="andrey.goncharov" updated="2017-08-15 08:38:43.0"/>
