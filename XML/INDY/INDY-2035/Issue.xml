<Issue id="38819" key="INDY-2035" number="2035" project="10303" reporter="ashcherbakov" creator="ashcherbakov" type="10004" summary="Pool is getting out of consensus after a forced view change and writes to all the ledgers" priority="3" resolution="10000" status="10001" created="2019-03-28 07:23:24.0" updated="2019-04-12 11:12:12.0" resolutiondate="2019-04-10 09:06:38.0" votes="0" watches="2" workflowId="50470"> <description><! CDATA If there is a forced view change (every 30 mins), and there is a load of 10 writes per sec to all the ledgers (domain, pool, config), then the pool eventually gets out of consensus.  If we write to domain ledger only, the pool successfully survived 120 forced view changes and continues ordering. I think the main difference here is that when we write to multiple ledgers, we created multiple PrePrepares (for each ledger) almost at the same time which increases a risk of out-of-order messages.  The last runs' results (forced VCs each 1800 seconds / domain+pool+config txns):  874-master:  ev@evernymr33:logs/1993_25_03_2019_view_changes_logs.tar.gz ev@evernymr33:logs/1993_25_03_2019_view_changes_metrics.tar.gz  876-master:  ev@evernymr33:logs/1993_27_03_2019_view_changes_logs.tar.gz ev@evernymr33:logs/1993_27_03_2019_view_changes_metrics.tar.gz    ></description> </Issue>
