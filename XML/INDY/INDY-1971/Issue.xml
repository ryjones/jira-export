<Issue id="37256" key="INDY-1971" number="1971" project="10303" reporter="ozheregelya" assignee="ozheregelya" creator="ozheregelya" type="10004" summary="A role that has been removed can&apos;t be added back" priority="1" resolution="10000" status="10001" created="2019-01-30 14:13:57.0" updated="2019-03-29 20:34:54.0" resolutiondate="2019-03-29 20:34:54.0" votes="0" watches="2" workflowId="48847"> <description><! CDATA *Environment:* indy-nodeÂ 1.6.772  *Steps to Reproduce:* 1. Set yourself as default Trustee. 2. Create new Steward. 3. Remove the newly created Steward role. 4. Try to add the role back to the same DID.  *Actual Results:* {code:java} pool(p4):wallet(w):did(V4S...e6f):indy> ledger nym did=DjCtFTFy6znNPtZ551GbLU verkey=~17hichoWuRFo8y6RCowjcR role=STEWARD Nym request has been sent to Ledger. Metadata: +------------------------+-----------------+---------------------+---------------------+ | From | Sequence Number | Request ID | Transaction time | +------------------------+-----------------+---------------------+---------------------+ | V4SGRU86Z58d6TV7PBUe6f | 29 | 1548856166008667735 | 2019-01-30 13:49:26 | +------------------------+-----------------+---------------------+---------------------+ Data: +------------------------+-------------------------+---------+ | Did | Verkey | Role | +------------------------+-------------------------+---------+ | DjCtFTFy6znNPtZ551GbLU | ~17hichoWuRFo8y6RCowjcR | STEWARD | +------------------------+-------------------------+---------+ pool(p4):wallet(w):did(V4S...e6f):indy> ledger nym did=DjCtFTFy6znNPtZ551GbLU role= Nym request has been sent to Ledger. Metadata: +------------------------+-----------------+---------------------+---------------------+ | From | Sequence Number | Request ID | Transaction time | +------------------------+-----------------+---------------------+---------------------+ | V4SGRU86Z58d6TV7PBUe6f | 30 | 1548856181047273998 | 2019-01-30 13:49:41 | +------------------------+-----------------+---------------------+---------------------+ Data: +------------------------+------+ | Did | Role | +------------------------+------+ | DjCtFTFy6znNPtZ551GbLU | - | +------------------------+------+ pool(p4):wallet(w):did(V4S...e6f):indy> ledger nym did=DjCtFTFy6znNPtZ551GbLU role=STEWARD Transaction has been rejected: Request can not be authorized as action is not allowed: Request: {'signature': 'j36LLmsnrbHqBZ2UZUYeuJAvr2jBUKzV3qPk53d8pgGG8GF5zk7mSqYiW911wKM2JZThtQKvHLGvv5nRa2g2K13', 'protocolVersion': 2, 'reqId': 1548856194280186477, 'identifier': 'V4SGRU86Z58d6TV7PBUe6f', 'operation': {'type': '1', 'dest': 'DjCtFTFy6znNPtZ551GbLU', 'role': '2'}}{code} *Expected Results:* * A role can be added back * The rules for adding the role back are the same as for adding a new NYM with the corresponding role * auth_map.md needs to be updated  *Notes* * A different DID can be created and given the role.  ></description> </Issue>
