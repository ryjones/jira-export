<Issue id="18855" key="INDY-363" number="363" project="10303" reporter="jkumar" creator="jkumar" type="10004" summary="Ubuntu AppArmor enforce mode doesn&apos;t let sovrin node service up." priority="2" resolution="10001" status="10001" created="2017-06-30 12:13:58.0" updated="2019-03-29 20:35:53.0" resolutiondate="2019-03-29 20:35:53.0" votes="0" watches="2" workflowId="18855"> <environment><! CDATA *Environment details:*  dpkg -s sovrin-node Package: sovrin-node Status: install ok installed Priority: extra Section: default Installed-Size: 968 Maintainer: Sovrin Foundation <dev@sovrin.org> Architecture: amd64 Version: 0.3.19 Depends: python3-sovrin-common (= 0.2.11), python3-dateutil Description: Sovrin node License: Apache 2.0 Vendor: none Homepage: https://github.com/sovrin-foundation/sovrin-node.git  ></environment> <description><! CDATA *Setup:* 4 validator nodes on vagrant with virtual box  *Configuration steps of AppArmor on Node1* 1. sudo apt-get install apparmor-utils 2. cd /etc/apparmor.d/ 3. sudo aa-autodep /usr/local/bin/start_sovrin_node (Writing updated profile for /usr/local/bin/start_sovrin_node.) 4. sudo aa-complain /usr/local/bin/start_sovrin_node (Setting /usr/local/bin/start_sovrin_node to complain mode.) 5. sudo service sovrin-node stop ; sudo service sovrin-node start 6. Perform transactions through CLI (AppArmor silently listens to this) 7. sudo aa-logprof (Reading log entries from /var/log/syslog. Updating AppArmor profiles in /etc/apparmor.d.) 8. Allow different paths and modes and save changes 9. Restart sovrin node service  *Actual outcome:* sovrin-node service failed to start on Node1.  *Expected outcome:* If AppArmor profile file all constraints mentioned, sovrin node service shall be started.   ></description> </Issue>
