<Action id="50587" issue="33501" author="toktar" type="comment" created="2018-09-18 10:05:56.0" updateauthor="toktar" updated="2018-09-18 10:05:56.0"> <body><! CDATA Problem reason: - If a backup primary node is malicious (for example, disconnected), all replicas on this backup instance store all new requests and other replicas can't remove already ordered messages.  Changes: - add function for remove a replica (and cleaning client requests for this replica) - restore the number of replicas during the view change - add tests for check this function and check the correct work of other systems - correctly process messages for switched off replicas - change a replicas list format in node.py to a SortedDict - change a replicas list format in monitors to a dict  PR: *  https://github.com/hyperledger/indy-plenum/pull/912  *  https://github.com/hyperledger/indy-node/pull/945   Version: * indy-node 1.6.605 -master * indy-plenumÂ 1.6.542 -master  Risk factors: - False positive view changes  Risk: - Low  Covered with tests: *  test_replica_removing.py|https://github.com/hyperledger/indy-plenum/pull/912/files#diff-8a9b6445373e3a3399539077f1fc7ef8   Recommendations for QA: * Load test with usual load (~20txns/sec). Pool has no view changes with a master degraded during few hours.  ></body> </Action>
<Action id="50681" issue="33501" author="vladimirwork" type="comment" created="2018-09-19 15:25:32.0" updateauthor="vladimirwork" updated="2018-09-19 15:25:32.0"> <body><! CDATA Build Info: indy-node 1.6.607  Steps to Validate: 1. Run continuous load tests for 1..20 writing txns pers second. 2. Check logs and validator-info for VCs and their reasons.  Actual Results: There are no master degraded VCs for 24 hours under load (1m+ txns in ledger).  ></body> </Action>
