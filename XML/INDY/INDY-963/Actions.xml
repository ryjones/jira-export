<Action id="35673" issue="24459" author="andkononykhin" type="comment" created="2017-11-30 15:09:19.0" updateauthor="andkononykhin" updated="2017-11-30 15:27:22.0"> <body><! CDATA Problem reason: - we don't have automated logic of pushing images to dockerhub - we don't have docker hub repo in Hyeprledger's account that could be used to optimize our docker routine (in particular, now we need that for CI dockers)  Changes: - added versioning for of base docker images - implemented automation for pushing into docker hub - with the help of Hyperledger's admins created and populated with images  docker repo|https://hub.docker.com/r/hyperledger/indy-core-baseci   in Hyperledger for indy core ci testing - updated indy core repos to make ci docker working with our image from the docker hub - wrote a  readme|https://github.com/hyperledger/indy-node/blob/master/docker-files/baseimage/README.md   Committed into: -  https://github.com/hyperledger/indy-node/pull/479  -  https://github.com/hyperledger/indy-node/pull/478|https://github.com/hyperledger/indy-node/pull/479  -  https://github.com/hyperledger/indy-plenum/pull/465  -  https://github.com/hyperledger/indy-anoncreds/pull/115   Risk factors: - Nothing is expected.  Risk: - Low  Covered with tests: - tested manually - also there is a  Makefile|https://github.com/hyperledger/indy-node/blob/master/ci/Makefile  to check that indy-node image (based on indy-core-baseci) is built and have enough configuration to process testing  Recommendations for QA: do the following sequence of steps * do *docker pull hyperledger/indy-core-baseci:0.0.1* to ensure that the base image could be pulled from docker hub * do *git clone  https://github.com/hyperledger/indy-node.git  && cd indy-node && make -C ci* to ensure that tests are run without any env issues * change version in one of *docker-files/baseimage/*.version* files and do *make -C docker-files/baseimage publish* to ensure that images are built and pushed to docker hub (actually you will stop at the docker login step and will need credentials for further routine, as an option for complete testing you can create an account in the docker hub and try publish there like that: *DOCKER_NS=<docker-username>* *make -C docker-files/baseimage* *publish*) * check  readme|https://github.com/hyperledger/indy-node/blob/master/docker-files/baseimage/README.md  (spell or other erros, content etc.)  ></body> </Action>
<Action id="35704" issue="24459" author="vladimirwork" type="comment" created="2017-12-01 12:48:05.0" updateauthor="vladimirwork" updated="2017-12-01 12:48:05.0"> <body><! CDATA Steps to Validate: 1. docker pull hyperledger/indy-core-baseci:0.0.1 2. git clone https://github.com/hyperledger/indy-node.git 3. cd indy-node 4. make -C ci 5. Check results. 6. Change version in some of docker-files/baseimage/.version* files. 7. DOCKER_NS=<docker-username> make -C docker-files/baseimage publish  Actual Results: Environment setup, pytest run and dockerhub publsih works without errors. Readme file looks good.  ></body> </Action>
