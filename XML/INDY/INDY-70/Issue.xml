<Issue id="17162" key="INDY-70" number="70" project="10303" reporter="lovesh" assignee="danielhardman" creator="lovesh" type="10002" summary="Node crashes if catch-up happens during 3pc batching" priority="3" resolution="10000" status="10001" created="2017-05-26 10:01:58.0" updated="2019-03-29 20:37:00.0" resolutiondate="2019-03-29 20:37:00.0" votes="0" watches="3" workflowId="17166"> <description><! CDATA A node named Node4 in a pool of 7 nodes, crashed.  This is the stacktrace {code} May 25 21:54:11 ip-10-0-0-14 start_sovrin_node 8938 :   File "/usr/local/lib/python3.5/dist-packages/plenum/server/node.py", line 976, in serviceReplicaOutBox May 25 21:54:11 ip-10-0-0-14 start_sovrin_node 8938 :     self.processOrdered(msg) May 25 21:54:11 ip-10-0-0-14 start_sovrin_node 8938 :   File "/usr/local/lib/python3.5/dist-packages/plenum/server/node.py", line 1602, in processOrdered May 25 21:54:11 ip-10-0-0-14 start_sovrin_node 8938 :     txnRoot) May 25 21:54:11 ip-10-0-0-14 start_sovrin_node 8938 :   File "/usr/local/lib/python3.5/dist-packages/plenum/server/node.py", line 1878, in executeBatch May 25 21:54:11 ip-10-0-0-14 start_sovrin_node 8938 :     txnRoot) May 25 21:54:11 ip-10-0-0-14 start_sovrin_node 8938 :   File "/usr/local/lib/python3.5/dist-packages/sovrin_node/server/node.py", line 404, in executeDomainTxns May 25 21:54:11 ip-10-0-0-14 start_sovrin_node 8938 :     stateRoot, txnRoot) May 25 21:54:11 ip-10-0-0-14 start_sovrin_node 8938 :   File "/usr/local/lib/python3.5/dist-packages/plenum/server/node.py", line 1895, in commitAndSendReplies May 25 21:54:11 ip-10-0-0-14 start_sovrin_node 8938 :     committedTxns = reqHandler.commit(len(reqs), stateRoot, txnRoot) May 25 21:54:11 ip-10-0-0-14 start_sovrin_node 8938 :   File "/usr/local/lib/python3.5/dist-packages/sovrin_node/server/domain_req_handler.py", line 65, in commit May 25 21:54:11 ip-10-0-0-14 start_sovrin_node 8938 :     r = super().commit(txnCount, stateRoot, txnRoot) May 25 21:54:11 ip-10-0-0-14 start_sovrin_node 8938 :   File "/usr/local/lib/python3.5/dist-packages/plenum/server/req_handler.py", line 60, in commit May 25 21:54:11 ip-10-0-0-14 start_sovrin_node 8938 :     self.ledger.root_hash, txnRoot) May 25 21:54:11 ip-10-0-0-14 start_sovrin_node 8938 : AssertionError: 5HkoM4ermiQSiNwFqKEKrcktiGn5vydiX8kHBazumHKj GjM6QtX5fr4vqeWMA7Z1Lyq6a7scTxKiPR5NGwxPhQ3y {code}   The log has been backed up at *.sovrin/Node4_21_5_21.log* on Node4 under user sovrin  ></description> </Issue>
