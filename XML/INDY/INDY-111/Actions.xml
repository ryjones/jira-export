<Action id="27345" issue="17292" author="dsurnin" type="comment" created="2017-06-26 11:47:31.0" updateauthor="dsurnin" updated="2017-06-26 11:47:31.0"> <body><! CDATA Validation was already been done in  plenum commit ea1c39118b3720bb6efb0dc9467554776577bf96     tests  plenum/plenum/test/input_validation/fields_validation/test_identifier_field.py  ></body> </Action>
<Action id="27431" issue="17292" author="ozheregelya" type="comment" created="2017-06-27 13:06:52.0" updateauthor="ozheregelya" updated="2017-06-27 13:06:52.0"> <body><! CDATA *Build Info:* sovrin-client version: 0.3.150 sovrin-node version: 0.3.163  OS/Platform: Ubuntu 16.04.2 LTS h2. Reason for Reopen: Following cases work incorrectly:  *Case 1:* No validation for dest (same messages for invalid and not existing dest). Steps to Reproduce: 1. send ATTRIB dest=E6kJUGoYKYTHJ raw=\{"role": "TRUST_ANCHOR"} 2. send ATTRIB dest=E6kJUGoYKYTHJ1279986l raw=\{"role": "TRUST_ANCHOR"}  *Actual Results:* For dest with invalid length and invalid characters: Error: client request invalid: InvalidClientRequest('dest should be added before adding attribute for it',)  *Expected Results:* Error message should contain information that dest is incorrect (similar as for send NYM command).  *Case 2:* No validation for dest (same messages for invalid and not existing dest). Steps to Reproduce: 1. send GET_NYM dest=E6kJUGoYKYTHJ 2. send GET_NYM dest=E6kJUGoYKYTHJ1279986l  *Actual Results:* For dest with invalid length and invalid characters: NYM E6kJUGoYKYTHJ not found  *Expected Results:* Error message should contain information that dest is incorrect (similar as for send NYM command).  *Case 3:* *Steps to Reproduce:* 1. send NYM dest=E6kJUGoYKYTHJ1279986l  *Actual Results:* For dest with invalid characters: Error: client request invalid: InvalidClientRequest("validation error: should not contains the following chars  '0'  (dest=E6kJUGoYKYTHJ127998600)",)  *Expected Results:* "should not contains" should be changed to "should not contain". h2. The rest cases were verified and work correctly:  *Case 1:* *Steps to Reproduce:* 1. send ATTRIB dest=E6kJUGoYKYTHJ12799864 raw=\{"role": "TRUST_ANCHOR"}  *Actual Results:* For valid dest all works without any errors.  *Case 2:* *Steps to Reproduce:*** 1. send GET_NYM dest=E6kJUGoYKYTHJ12799864  *Actual Results:* For valid dest all works without any errors.  *Case 3:* *Steps to Reproduce:* 1. send NYM dest=E6kJUGoYKYTHJ 2. send NYM dest=E6kJUGoYKYTHJ12799864  *Actual Results:* For dest with invalid length: Error: client request invalid: InvalidClientRequest('validation error: b58 decoded value length 10 should be one of  16, 32  (dest=E6kJUGoYKYTHJ)',) For valid dest all works without any errors.  ></body> </Action>
<Action id="27697" issue="17292" author="dsurnin" type="comment" body="waiting a jenkins to make a build" created="2017-06-30 12:44:33.0" updateauthor="dsurnin" updated="2017-06-30 12:44:33.0"/>
<Action id="27956" issue="17292" author="dsurnin" type="comment" created="2017-07-06 16:27:19.0" updateauthor="dsurnin" updated="2017-07-06 16:27:19.0"> <body><! CDATA all cases are fixed  plenum a6ca136e50ee46072f539b36cd70920adb23bcb9  client 23f410c5548483ae736f31d49c746872bfc11ca2     no additional tests were added, existing tests were updated  ></body> </Action>
<Action id="28028" issue="17292" author="ozheregelya" type="comment" created="2017-07-07 16:20:15.0" updateauthor="ozheregelya" updated="2017-07-07 16:20:15.0"> <body><! CDATA Build Info:   sovrin-client version: 0.4.24   sovrin-node version: 0.4.11 OS/Platform: Ubuntu 16.04.2 LTS Setup: 4 nodes, 1 client  *Case 1:* No validation for dest (same messages for invalid and not existing dest). Steps to Reproduce: 1. send ATTRIB dest=E6kJUGoYKYTHJ raw=\{"role": "TRUST_ANCHOR"} 2. send ATTRIB dest=E6kJUGoYKYTHJ1279986l raw=\{"role": "TRUST_ANCHOR"}  *Actual Results:* For dest with invalid length: Error: client request invalid: InvalidClientRequest('validation error  ClientAttribOperation : b58 decoded value length 10 should be one of  16, 32  (dest=E6kJUGoYKYTHJ)',) For dest with invalid characters: Error: client request invalid: InvalidClientRequest("validation error  ClientAttribOperation : should not contain the following chars  'l'  (dest=E6kJUGoYKYTHJ1279986l)",)  *Case 2:* No validation for dest (same messages for invalid and not existing dest). Steps to Reproduce: 1. send GET_NYM dest=E6kJUGoYKYTHJ 2. send GET_NYM dest=E6kJUGoYKYTHJ1279986l  *Actual Results:* Error: client request invalid: InvalidClientRequest('validation error  ClientAttribOperation : b58 decoded value length 10 should be one of  16, 32  (dest=E6kJUGoYKYTHJ)',) For dest with invalid characters: Error: client request invalid: InvalidClientRequest("validation error  ClientAttribOperation : should not contain the following chars  'l'  (dest=E6kJUGoYKYTHJ1279986l)",)  *Case 3:* *Steps to Reproduce:* 1. send NYM dest=E6kJUGoYKYTHJ1279986l  *Actual Results:* For dest with invalid characters: send NYM dest=E6kJUGoYKYTHJ1279986l h2. The rest cases are still working correctly:  *Case 1:* *Steps to Reproduce:* 1. send ATTRIB dest=E6kJUGoYKYTHJ12799864 raw=\{"role": "TRUST_ANCHOR"}  *Actual Results:* For valid dest all works without any errors.  *Case 2:* *Steps to Reproduce:*** 1. send GET_NYM dest=E6kJUGoYKYTHJ12799864  *Actual Results:* For valid dest all works without any errors.  *Case 3:* *Steps to Reproduce:* 1. send NYM dest=E6kJUGoYKYTHJ 2. send NYM dest=E6kJUGoYKYTHJ12799864  *Actual Results:* For dest with invalid length: Error: client request invalid: InvalidClientRequest('validation error: b58 decoded value length 10 should be one of  16, 32  (dest=E6kJUGoYKYTHJ)',) For valid dest all works without any errors.  ></body> </Action>
