<Action id="35342" issue="21748" author="andkononykhin" type="comment" created="2017-11-22 14:46:10.0" updateauthor="andkononykhin" updated="2017-11-22 14:46:38.0"> <body><! CDATA *PoA* # add steps to dockerfiles: ** add sdk apt repo to docker files ** install libindy deb from there ** install python3-indy from pypi ** configure apt pinning to prefer other indy sdk packages form core apt repo # configure apt repos labels to make apt pinning possible  ></body> </Action>
<Action id="35371" issue="21748" author="andkononykhin" type="comment" created="2017-11-23 13:03:54.0" updateauthor="andkononykhin" updated="2017-11-23 13:03:54.0"> <body><! CDATA PRs to indy core repos:  https://github.com/hyperledger/indy-node/pull/464 https://github.com/hyperledger/indy-anoncreds/pull/113 https://github.com/hyperledger/indy-plenum/pull/460  ></body> </Action>
<Action id="35393" issue="21748" author="andkononykhin" type="comment" created="2017-11-24 09:34:31.0" updateauthor="andkononykhin" updated="2017-11-27 12:55:33.0"> <body><! CDATA Problem reason: - indy-sdk is not in current dev environment but it needs to be for coming integration tests  Changes: - updated dockerfiles to install libindy deb package form sdk apt repo - added python3-indy (python wrapper) into tests dependencies for plenum's and node's setup.py  Committed into: -  https://github.com/hyperledger/indy-node/pull/464  -  https://github.com/hyperledger/indy-anoncreds/pull/113  -  https://github.com/hyperledger/indy-plenum/pull/460   Risk factors: - Nothing is expected.  Risk: - Low  Covered with tests: - tested manually  Recommendations for QA: do the following sequence of steps * install charm-crypto as described https://github.com/hyperledger/indy-anoncreds#prerequisites-for-debian-based-systems * check that python wrapper is installed for tests ** clone indy-plenum / indy-node ** create and activate virtual environment: *** *virtualenv -p python3 venv && source venv/bin/activate* ** run *pip install . tests * ** check that python3-indy is installed: *pip list | grep python3-indy* * check that libindy is instaled in ci environment (ci docker image) ** clone  indy-node ** create base images *make -C docker-files/baseimage* ** create ci image for indy-node *docker build -t indy-node-test -f ci/ubuntu.dockerfile ci* ** check that libindy is presented in that image *docker run -it --rm indy-node-test bash -c "dpkg -l | grep libindy"* ** clone indy-plenum, create ci image (base images are ready after previous steps)  *docker build -t indy-plenum-test -f ci/ubuntu.dockerfile ci* ** check that libindy is presented in that image *docker run -it --rm indy-plenum-test bash -c "dpkg -l | grep libindy"*  ></body> </Action>
<Action id="35503" issue="21748" author="ozheregelya" type="comment" created="2017-11-27 15:45:22.0" updateauthor="ozheregelya" updated="2017-11-27 15:45:22.0"> <body><! CDATA Build Info: indy-node 1.2.221  Steps to Validate: 1. Perform necessary steps to check that python wrapper is installed for tests. =>  {code:java} (venv) me@me-VM:~/git/indy-node$ pip list | grep python3-indy python3-indy (1.1.0){code} 2. Perform necessary steps to check that libindy is instaled in ci environment (ci docker image) => {code:java} me@me-VM:~/git/indy-plenum$ docker run -it --rm indy-node-test bash -c "dpkg -l | grep libindy" ii libindy 1.1.0~270 amd64 This is the official SDK for Hyperledger Indy, which provides a ii libindy-crypto 0.1.6 amd64 This is the shared crypto libirary for Hyperledger Indy components. me@me-VM:~/git/indy-plenum$ docker run -it --rm indy-plenum-test bash -c "dpkg -l | grep libindy" ii libindy 1.1.0~270 amd64 This is the official SDK for Hyperledger Indy, which provides a ii libindy-crypto 0.1.6 amd64 This is the shared crypto libirary for Hyperledger Indy components.{code}  Actual Results: All dependencies present.  ></body> </Action>
