<Issue id="20830" key="INDY-849" number="849" project="10303" reporter="ozheregelya" assignee="nage" creator="ozheregelya" type="10004" summary="Pool can&apos;t be restored after losing consensus if at least one view change was happened" priority="2" resolution="10000" status="10001" created="2017-09-14 16:01:05.0" updated="2019-03-29 20:35:07.0" resolutiondate="2019-03-29 20:35:07.0" votes="0" watches="4" workflowId="20835"> <environment><! CDATA Build Info:   indy-node 1.1.37   indy-anoncreds 1.1.10   indy-plenum 1.1.27   sovrin 1.1.6 OS/Platform: Ubuntu 16.04.2 LTS Setup: 6 nodes, 1 client  ></environment> <description><! CDATA Case 1: Steps to Reproduce: 1. Set up the pool of 3 nodes. 2. Make view change (i.e. restart primary node). 3. Send transaction to make sure that pool works. 4. Stop services on any node. 5. Send NYM transaction. 6. Start services on stopped node. 7. Send NYM transaction.  Actual Results: Transactions were not written, consensus was not reached.  Expected Results: Pool should back to consensus.     Case 2: Steps to Reproduce: 1. Set up the pool of 3 nodes. 2. Send NYM transaction. 3. Stop services on not primary node. 4. Send NYM transaction. 5. Start services back on stopped node. 6. Send NYM transaction. => 2 NTMs were written. 7. Stop services on primary node. 8. Send NYM transaction. 9. Start stopped node. 10. Send NYM transaction. => 2 transactions were written. View Change was happened, new primary node was chosen. 11. Stop services on old primary node. 12. Send NYM transaction. 13. Start old primary back.  Actual Results: Transactions were not written, consensus was not reached.  Expected Results: Pool should back to consensus.     Additional Information: The same problem is reproduces for pool of 6 nodes. Case with 3 nodes was described as the most simple.  ></description> </Issue>
