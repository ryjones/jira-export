<Issue id="17096" key="INDY-28" number="28" project="10303" reporter="ashcherbakov" assignee="tylerq" creator="ashcherbakov" type="10004" summary="CLI Crashed when sending SCHEMA command" priority="1" resolution="10000" status="10001" created="2017-05-25 09:03:16.0" updated="2019-03-29 20:37:02.0" resolutiondate="2019-03-29 20:37:02.0" votes="0" watches="2" workflowId="17100"> <description><! CDATA I am not sure the correct way to send a schema, but I was using the example I was given when it caused the CLI to crash.  *Steps* Start CLI connect test new key with seed 000000000000000000000000Trustee1 send SCHEMA name=Degree version=1.0 keys=undergrad,last_name,first_name,birth_date,postgrad,expiry_date *{color:#d04437} Error{color}* {code} sovrin@test> new key with seed 000000000000000000000000Trustee1 Key created in keyring Default Identifier for key is GJ1SzoWzavQYfNL9XkaJdrQejfztN4XqdsiV4ct3LXKL Current identifier set to GJ1SzoWzavQYfNL9XkaJdrQejfztN4XqdsiV4ct3LXKL sovrin@test> send SCHEMA name=Degree version=1.0 keys=undergrad,last_name,first_name,birth_date,postgrad,expiry_date sovrin8laMjH is already started, so start has no effect Error while running coroutine shell: TypeError("genSchema() got an unexpected keyword argument 'ttrNames'",) Active keyring "Default" saved (/home/kelly/.sovrin/keyrings/agents/z53bfg/default.wallet) Active keyring "issuer" saved (/home/kelly/.sovrin/keyrings/agents/z53bfg/issuer/issuer.wallet) 7stpEBTXS447Es7GYeg4rjX2t13viP3686ci2PzKCnAf is already stopped Traceback (most recent call last): File "/usr/local/bin/sovrin", line 78, in <module> run_cli() File "/usr/local/bin/sovrin", line 56, in run_cli looper.run(cli.shell(*commands)) File "/usr/local/lib/python3.5/dist-packages/stp_core/loop/looper.py", line 254, in run return self.loop.run_until_complete(what) File "/usr/lib/python3.5/asyncio/base_events.py", line 387, in run_until_complete return future.result() File "/usr/lib/python3.5/asyncio/futures.py", line 274, in result raise self._exception File "/usr/lib/python3.5/asyncio/tasks.py", line 239, in _step result = coro.send(None) File "/usr/local/lib/python3.5/dist-packages/stp_core/loop/looper.py", line 245, in wrapper raise ex File "/usr/local/lib/python3.5/dist-packages/stp_core/loop/looper.py", line 233, in wrapper results.append(await coro) File "/usr/local/lib/python3.5/dist-packages/plenum/cli/cli.py", line 1119, in shell self.parse(c) File "/usr/local/lib/python3.5/dist-packages/plenum/cli/cli.py", line 1900, in parse r = action(matchedVars) File "/usr/local/lib/python3.5/dist-packages/sovrin_client/cli/cli.py", line 712, in _sendSchemaAction typ=matchedVars.get(TYPE)) TypeError: genSchema() got an unexpected keyword argument 'ttrNames' {code}   ></description> </Issue>
