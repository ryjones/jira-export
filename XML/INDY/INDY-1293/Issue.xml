<Issue id="29658" key="INDY-1293" number="1293" project="10303" reporter="mgbailey" creator="mgbailey" type="10004" summary="Failed upgrade on node results in hundreds of &apos;in-progress&apos; transactions" environment="STN, upgrading from 1.3.55 to 1.3.57" priority="3" resolution="10000" status="10001" created="2018-04-24 20:56:25.0" updated="2019-03-29 20:34:44.0" resolutiondate="2019-03-29 20:34:44.0" votes="0" watches="2" workflowId="29663"> <description><! CDATA On the STN, an upgrade transaction was posted with force=True: {code:java}  29,{"action":"start","force":true,"identifier":"6feBTywcmJUriqqnGc1zSJ","justification":null,"name":"STNUpgrade20180419","reinstall":false,"reqId":1524151227480884,"schedule":{"2B8bkZX3SvcBq3amP7aeATsSPz82RyyCJQbEjZpLgZLh":"2018-04-19T09:45:05.555000-06:00","2MHGDD2XpRJohQzsXu4FAANcmdypfNdpcqRbqnhkQsCq":"2018-04-19T09:45:05.555000-06:00","8NZ6tbcPN2NVvf2fVhZWqU11XModNudhbe15JSctCXab":"2018-04-19T09:45:05.555000-06:00","DNuLANU7f1QvW1esN3Sv9Eap9j14QuLiPeYzf28Nub4W":"2018-04-19T09:45:05.555000-06:00","Dh99uW8jSNRBiRQ4JEMpGmJYvzmF35E6ibnmAAf7tbk8":"2018-04-19T09:45:05.555000-06:00","EoGRm7eRADtHJRThMCrBXMUM2FpPRML19tNxDAG8YTP8":"2018-04-19T09:45:05.555000-06:00","Eq7m7GMFKPeq5Ek3HH1PkHxzZ46R9VL1Eube3U9wfjp5":"2018-04-19T09:45:05.555000-06:00","HCNuqUoXuK9GXGd2EULPaiMso2pJnxR6fCZpmRYbc7vM":"2018-04-19T09:45:05.555000-06:00","UZH61eLH3JokEwjMWQoCMwB3PMD6zRBvG6NCv5yVwXz":"2018-04-19T09:45:05.555000-06:00"},"sha256":"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855","signature":"61LPVMEt4dKSHCac2d7hxyRKczoDGYgfyTjzVBJcyy6xMiJSSY1EGmfUvUvb5K95hK2QpbnzLaTsoBTBbjdLrMZg","signatures":null,"timeout":15,"txnTime":1524151227,"type":"109","version":"1.3.57"} {code} One node, "ibm", failed to upgrade for reasons that are not germane to this ticket. The issue that needs to be investigated and resolved is that the issue of the un-upgraded node was not resolved for several days, and until it was resolved, hundreds of transactions like this were written to the config ledger, one every 15 minutes: {code:java}  500,{"data":{"action":"in_progress","version":"1.3.57"},"identifier":"Eq7m7GMFKPeq5Ek3HH1PkHxzZ46R9VL1Eube3U9wfjp5","reqId":1524558624156459,"signature":"8XSFy673fX84Wt7zHac4XQ2bctJCQtDSaxv3kJ1fc8ForEd7FA7Cpx8smTpKWjbmn4imFjRxAxu5EQqyaty3Vmx","signatures":null,"txnTime":1524558624,"type":"110"} {code} I would expect that the behavior would be that after the upgrade timeout (set to 15 minutes in this case), that the upgrade transaction forÂ the node is nullified, a failed-to-upgrade transaction is written to the ledger, and no further transactions would be posted after this.  I don't have logs for "ibm", but I am attaching logs for another node in the pool, as well as the config ledger contents.  ></description> </Issue>
