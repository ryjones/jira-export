<Action id="28805" issue="19218" author="douglaswightman" type="comment" created="2017-07-21 15:50:51.0" updateauthor="douglaswightman" updated="2017-07-21 15:50:51.0"> <body><! CDATA I've been thinking about this ticket in relation to a conversation that was had about recovering from > f failures.  Reducing the size of the pool is the same as an attack and is thus a potential exploit.  It was discussed that allowing a node to remove itself just introduces a new vulnerability.  Is allowing this and widening the attack vector a good idea?  If this has already been discussed and my understanding is limited then that's fine.  I just want to make sure.  (mentioning  ~danielhardman  in case he has additional insights as he was present during that conversation)  ></body> </Action>
<Action id="29154" issue="19218" author="douglaswightman" type="comment" body="I&apos;m assuming that silence means to go forward with the ticket.  I&apos;ve submitted a patch." created="2017-07-28 19:24:25.0" updateauthor="douglaswightman" updated="2017-07-28 19:24:25.0"/>
<Action id="29263" issue="19218" author="krw910" type="comment" body="SOV-983" created="2017-08-01 03:35:24.0" updateauthor="krw910" updated="2017-08-01 03:35:24.0"/>
<Action id="29409" issue="19218" author="ashcherbakov" type="comment" body="indy-node 1.0.77" created="2017-08-03 14:59:30.0" updateauthor="ashcherbakov" updated="2017-08-03 14:59:30.0"/>
<Action id="29605" issue="19218" author="ozheregelya" type="comment" created="2017-08-09 15:17:52.0" updateauthor="ozheregelya" updated="2017-08-09 15:24:04.0"> <body><! CDATA *Build Info:*   indy-node 1.0.83   indy-anoncreds 1.0.25   indy-plenum 1.0.82   sovrin 1.0.19   python3-rlp 0.5.1   python3-sha3 0.2.1   python3-pyzmq 16.0.2 OS/Platform: Ubuntu 16.04.2 LTS Setup: 6 nodes, 1 client  *Reason for Reopen:* Steward is not able to add his node back after demotion.  *Steps to Reproduce:* Case 1: 1. Set yourself as Steward. 2. Add node to the pool. 3. Demote it. 4. Try to promote it back.  *Actual Results:* {code:java} sovrin@test> send NODE dest=4Tn3wZMNCvhSTXPcLinQDnHyj56DTLQtL61ki4jo2Loc data={'alias': 'Node5', 'services':  'VALIDATOR' } Sending node request for node DID 4Tn3wZMNCvhSTXPcLinQDnHyj56DTLQtL61ki4jo2Loc by XhYtvJqezMUKfF6KVNaGmT (request id: 1502288922028848) Node request failed with error: client request invalid: UnauthorizedClientRequest("2 not in allowed roles {'0':   }",){code} *Expected Results:* Steward should be able to promote his node back.  *Additional Information:* Small regression testing was performed: adding/demotion/promotion of nodes work correctly for all roles except Case 1.  ></body> </Action>
<Action id="29608" issue="19218" author="ozheregelya" type="comment" body=" ~krw910 , as far as I can see, changes in scenario 8 are needed after this fix. Should I create ticket for these changes, or update scenario 8 myself?" created="2017-08-09 15:31:09.0" updateauthor="ozheregelya" updated="2017-08-09 15:31:09.0"/>
<Action id="29669" issue="19218" author="douglaswightman" type="comment" body="I&apos;ve checked in new changes and tests to verify that promotion can happen after demotion." created="2017-08-10 22:08:38.0" updateauthor="douglaswightman" updated="2017-08-10 22:08:38.0"/>
<Action id="29952" issue="19218" author="ozheregelya" type="comment" created="2017-08-17 12:27:16.0" updateauthor="ozheregelya" updated="2017-08-17 12:27:16.0"> <body><! CDATA *Build Info:*   indy-node 1.0.110   indy-anoncreds 1.0.25   indy-plenum 1.0.97   sovrin 1.0.23 OS/Platform: Ubuntu 16.04.2 LTS Setup: 4-6 nodes, 1 client  *Steps to Validate:* 1. Setup the pool. 2. Promote/demote node as Steward who owns this node. 3. Make sure that promotion/demotion of node as Steward who doesn't own this node is impossible. 4. Promote/demote node as Trustee.  *Actual Results:* Promotion/demotion of nodes is possible for Trustee and for Steward who owns this node.  ></body> </Action>
