<Issue id="17613" key="INDY-174" number="174" project="10303" reporter="ozheregelya" assignee="danielhardman" creator="ozheregelya" type="10004" summary=" CLI  Invalid messages after sending proof with invalid &lt;claim-name&gt; or &lt;remote&gt;" priority="4" resolution="10000" status="10001" created="2017-06-07 14:02:30.0" updated="2019-03-29 20:32:30.0" resolutiondate="2019-03-29 20:32:30.0" votes="0" watches="2" workflowId="17617"> <environment><! CDATA Build Info: sovrin-client version: 0.3.122 sovrin-node version: 0.3.115   OS/Platform: Ubuntu 16.04.2 LTS  ></environment> <description><! CDATA h2. Case 1  *Steps to Reproduce:* 1. Open the CLI on Agent01. 2. Try to perform 'send proof' command with invalid claim or invalid remote. E.g. {code:java} sovrin@test> send proof Job-Application to Acmr sovrin@test> send proof Job-Applicatiom to Acme {code}    *Actual Results:* The message "No matching Proof Requests found in current keyring" is shown several times. Then "Invalid command: 'send proof Job-Application to Acmr'" and whole help message is shown: {code:java} sovrin@test> send proof Job-Application to Acmr No matching Proof Requests found in current keyring No matching Proof Requests found in current keyring No matching Proof Requests found in current keyring No matching Proof Requests found in current keyring No matching Proof Requests found in current keyring No matching Proof Requests found in current keyring No matching Proof Requests found in current keyring No matching Proof Requests found in current keyring No matching Proof Requests found in current keyring No matching Proof Requests found in current keyring No matching Proof Requests found in current keyring No matching Proof Requests found in current keyring No matching Proof Requests found in current keyring No matching Proof Requests found in current keyring No matching Proof Requests found in current keyring No matching Proof Requests found in current keyring No matching Proof Requests found in current keyring No matching Proof Requests found in current keyring No matching Proof Requests found in current keyring No matching Proof Requests found in current keyring No matching Proof Requests found in current keyring No matching Proof Requests found in current keyring No matching Proof Requests found in current keyring No matching Proof Requests found in current keyring No matching Proof Requests found in current keyring Invalid command: 'send proof Job-Application to Acmr' Sovrin-CLI, a simple command-line interface for a Sovrin Identity platform. Commands: help - Shows this or specific help message for given command Usage: help  <command name>  connect - Lets you connect to the respective environment (test/live) Usage: connect test|live disconnect - Disconnects from currently connected environment status - Shows general status of the sandbox prompt - Changes the prompt to given principal (a person like Alice, an organization like Faber College, or an IoT-style thing) new node - Starts new node new client - Starts new client status node - Shows status for given node status client - Shows status for given client load plugins - load plugins from given directory new keyring - Creates new keyring rename keyring - Renames given keyring use keyring - Loads given keyring and marks it active/default save keyring - Saves active keyring list keyrings - Lists all keyrings new key - Adds new key to active keyring use identifier - Marks given identifier active/default list ids - Lists all identifiers of active keyring client send - Client sends a message to pool client show request status - Shows status of a sent request create genesis transaction file - Creates genesis transaction file with in memory genesis transaction data add genesis transaction - Adds given genesis transaction new identifier - Creates new Identifier send NYM - Adds given identifier to sovrin send GET_NYM - Get NYM from sovrin send ATTRIB - Adds attributes to existing identifier send NODE - Adds a node to the pool send POOL_UPGRADE - Sends instructions to nodes to update themselves send SCHEMA - Adds schema to sovrin send CLAIM_DEF - Adds claim definition for given schema show - Shows content of given file load - Creates the link show link - Shows link info in case of one matching link, otherwise shows all the matching link names sync - Synchronizes the link between the endpoints ping - Pings given remote's endpoint accept invitation from - Accept invitation from given remote show claim - Shows given claim information list claims - Refresh the list of claims list links - List available links in active wallet request claim - Request given claim show proof request - Shows given proof request set - Sets given value to given attribute name send proofreq - Send a proof request send proof - Sends given proof to given remote request available claims from - Requests all available claims from given connection license - Shows the license exit - Exit the command-line interface ('quit' also works) {code}    *Expected Results:* Only one "No matching Proof Requests found in current keyring" message should be shown only once. "Invalid command" message and help should not be shown. Additional Information: Count of messages is non-permanent. Sometimes it may be about 4, sometimes in may be up to 30.  ></description> </Issue>
