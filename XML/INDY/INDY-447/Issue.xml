<Issue id="19398" key="INDY-447" number="447" project="10303" reporter="krw910" creator="krw910" type="10004" summary="During view change former primary node stopped taking any transactions" priority="1" resolution="10200" status="10001" created="2017-07-20 22:34:47.0" updated="2019-03-29 20:33:20.0" resolutiondate="2019-03-29 20:33:20.0" votes="0" watches="4" workflowId="19398"> <description><! CDATA While running a load test of 2,000 transactions a view change happened. The former primary node stopped receiving transactions from that point forward and did not perform a catch up.  *Setup* 4 Nodes (separate physical machines) 4 Clients (separate physical machines)  *Run the load scripts* python3 add_keys.py Steward1 000000000000000000000000Steward1  At this point I had 210 transactions  *Run from each client 500 at once* python3 load_test.py --clients-list load_test_clients.list -t NYM -c 1 -r 500 --at-once  I should have ended up with 2,210 transactions after it was done. Some how Nodes 1, 3, 4 ended up with 2408 and Node 2 had 2110  Node1: 2408 Node2: 2110 Node3: 2408 Node4: 2408  *{color:#d04437}Issue{color}* Node2 did not catch up.  After checking the logs I see that at UTC 22:12:45 a view change happened where the master switched from Node2 to Node3. Now that we have time stamps in the ledger for transactions I was able to run it through the converter and see the last transaction on Node2 occurred at 22:12:48  After the test was over I started the CLI and sent a single transaction. Nodes 1,3,4 all received the transaction. Node2 will not take any new transactions.   ></description> </Issue>
