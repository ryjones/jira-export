<Issue id="41834" key="INDY-2208" number="2208" project="10303" reporter="ashcherbakov" assignee="toktar" creator="ashcherbakov" type="10002" summary="Integration of Services: Cleanup" priority="3" resolution="10000" status="10001" created="2019-08-16 08:48:57.0" updated="2019-10-01 11:00:28.0" resolutiondate="2019-08-30 05:20:41.0" votes="0" watches="2" workflowId="54873"> <description><! CDATA The following tech debt is left after integration of Ordering and Checkpointer services into existing code base: * There are similar checks if a message is for the given instance (`inst_id` checks). It would be great to have a common place with these checks. * `replica_unstash` needs to be either removed from stashing router, or renamed to something replica-agnostic (something like `unstash_handler`) * remove `l` prefix from Ordering service methods * `l_update_watermark_from_3pc` needs to be removed from Ordering Service * simplify `primaries_batch_needed` logic * Cleanup internal messages (remove unused ones) * `requestQueues` needs to be removed from Shared Data * Cleanup what's stored in Shared Data (make sure that only the data used by more than 1 service is there) * Remove hooks * remove process_requested_prepare from Replica * Fixes in `_bootstrap_consensus_data` (get rid of doing actions twice) * Remove `to_nodes` from Replica's `send` * `_init_internal_bus` subscribed twice * Answer/apply fixes for the comments in test from https://github.com/hyperledger/indy-plenum/pull/1280  ></description> </Issue>
