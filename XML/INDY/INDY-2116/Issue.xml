<Issue id="40223" key="INDY-2116" number="2116" project="10303" reporter="lbendixsen" creator="lbendixsen" type="10004" summary="indy-node upgrade problem - No such directory " priority="4" status="10200" created="2019-05-30 15:05:30.0" updated="2019-08-06 14:01:37.0" votes="0" watches="2" workflowId="53126"> <description><! CDATA _Environment_: 1 node each in BuilderNet and StagingNet  > manually upgrading indy-node from 1.6.83 to 1.7.1  _Steps to Reproduce_: # Manual upgrade of nodes in BuilderNet and StagingNet is accomplished by following the steps in  How to upgrade a node manually|https://docs.google.com/document/d/1vUvbioL5OsmZMSkwRcu0p0jdttJO5VS8K3GhDLdNaoI/edit?ts=5ce41633  # sudo apt update # sudo systemctl stop indy-node # sudo systemctl stop indy-node-control # sudo apt-get install -y --allow-change-held-packages indy-node indy-plenum python3-indy-crypto libindy-crypto python3-base58 sovrin sovtoken sovtokenfees  _Expected Behavior_: No errors during upgrade.  _Observed Behavior_: The following output occurred after step 5 of "How to upgrade a --node manually" (also step 5 in "steps to reproduce" above)  ..................  The following additional packages will be installed:   python3-packaging The following NEW packages will be installed:   python3-packaging The following held packages will be changed:   indy-node indy-plenum The following packages will be upgraded:   indy-node indy-plenum 2 upgraded, 1 newly installed, 0 to remove and 116 not upgraded. Need to get 1,373 kB of archives. After this operation, 518 kB of additional disk space will be used. Do you want to continue?  Y/n  Y Get:1  https://repo.sovrin.org/deb  xenial/stable amd64 python3-packaging amd64 19.0  20.0 kB  Get:2  https://repo.sovrin.org/deb  xenial/stable amd64 indy-node amd64 1.7.1  515 kB  Get:3  https://repo.sovrin.org/deb  xenial/stable amd64 indy-plenum amd64 1.7.1  838 kB  Fetched 1,373 kB in 4s (312 kB/s)     Selecting previously unselected package python3-packaging. (Reading database ... 217959 files and directories currently installed.) Preparing to unpack .../python3-packaging_19.0_amd64.deb ... Unpacking python3-packaging (19.0) ... Preparing to unpack .../indy-node_1.7.1_amd64.deb ... Unpacking indy-node (1.7.1) over (1.6.83) ... Preparing to unpack .../indy-plenum_1.7.1_amd64.deb ... Unpacking indy-plenum (1.7.1) over (1.6.58) ... Setting up python3-packaging (19.0) ... Setting up indy-plenum (1.7.1) ... Setting up indy-node (1.7.1) ... */var/lib/dpkg/info/indy-node.postinst: line 116: /etc/supervisor/indy-node.conf: No such file or directory*  _..............._  _Notes_: I marked this as low because a workaround allowed us to upgrade the system despite the failure.  ></description> </Issue>
