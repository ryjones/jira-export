<Issue id="28186" key="INDY-1206" number="1206" project="10303" reporter="ozheregelya" creator="ozheregelya" type="10004" summary="Wrong count of backup replicas on part of nodes after nodes adding" environment="indy-node 1.3.324" priority="2" resolution="10000" status="10001" created="2018-03-02 10:46:54.0" updated="2019-03-29 20:34:21.0" resolutiondate="2019-03-29 20:34:21.0" votes="0" watches="3" workflowId="28189"> <description><! CDATA Steps to Validate: 1. Set up the pool of 7 nodes. 2. Write about 40 transactions to the pool. 3. One by one, add nodes 8 - 16. (After each node adding check ledger size to make sure that catch up completed before adding next node.)  Actual Results: 16 node can't be added, pool don't write transactions. Primaries on nodes 11 and 12: {code:java} ubuntu@ohioQALarge11:~$ grep "selected primary" /var/log/indy/sandbox/Node11.log  2018-03-01 18:28:07,012 | DISPLAY | node.py (2396) | select_primaries | PRIMARY SELECTION: Node11:0 selected primary Node1:0 for instance 0 (view 0) 2018-03-01 18:28:22,292 | DISPLAY | node.py (2396) | select_primaries | PRIMARY SELECTION: Node11:0 selected primary Node1:0 for instance 0 (view 0) 2018-03-01 18:28:22,293 | DISPLAY | node.py (2396) | select_primaries | PRIMARY SELECTION: Node11:1 selected primary Node2:1 for instance 1 (view 0) 2018-03-01 18:28:22,294 | DISPLAY | node.py (2396) | select_primaries | PRIMARY SELECTION: Node11:2 selected primary Node3:2 for instance 2 (view 0) 2018-03-01 18:28:22,295 | DISPLAY | node.py (2396) | select_primaries | PRIMARY SELECTION: Node11:3 selected primary Node4:3 for instance 3 (view 0){code}  Primary on the rest nodes: {code:java} ubuntu@seoulQALarge8:~$ grep "selected primary" /var/log/indy/sandbox/Node8.log  2018-03-01 18:26:08,137 | DISPLAY | node.py (2396) | select_primaries | PRIMARY SELECTION: Node8:0 selected primary Node1:0 for instance 0 (view 0) 2018-03-01 18:26:08,138 | DISPLAY | node.py (2396) | select_primaries | PRIMARY SELECTION: Node8:1 selected primary Node2:1 for instance 1 (view 0) 2018-03-01 18:26:08,139 | DISPLAY | node.py (2396) | select_primaries | PRIMARY SELECTION: Node8:2 selected primary Node3:2 for instance 2 (view 0) 2018-03-01 18:27:58,483 | DISPLAY | node.py (2396) | select_primaries | PRIMARY SELECTION: Node8:3 selected primary Node4:3 for instance 3 (view 0) 2018-03-01 18:28:51,229 | DISPLAY | node.py (2396) | select_primaries | PRIMARY SELECTION: Node8:4 selected primary Node5:4 for instance 4 (view 0){code}  Expected Results: Pool should work.  Logs: https://drive.google.com/file/d/1R_9v-nfeh6-bgS8HX8q_4eUYrMjFhmH5/view?usp=sharing  ></description> </Issue>
