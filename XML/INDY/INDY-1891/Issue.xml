<Issue id="35857" key="INDY-1891" number="1891" project="10303" reporter="andkononykhin" creator="andkononykhin" type="10002" summary="Need to verify that network interface is deleted before removing security group" priority="3" status="10200" created="2018-12-04 11:13:37.0" updated="2018-12-06 12:44:31.0" votes="0" watches="1" workflowId="47356"> <description><! CDATA Sometime tests for stateful_set module fail during security group termination loggingÂ  "_DependencyViolation: DeleteSecurityGroup operation has a dependent object_" even if associated instances have been terminated.  As it was explored the most possible reason is that network interfaces attached to some terminated instance still available and have association with security group which is going to be removed.  Suggested fix: * during ec2 instance termination detach it from the interface * during security group termination filter and delete all network interfaces that linked with the group and don't have ec2 instances attachment  ></description> </Issue>
