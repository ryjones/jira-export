<Issue id="19416" key="INDY-451" number="451" project="10303" reporter="ozheregelya" assignee="stevetolman" creator="ozheregelya" type="10004" summary="upgrade_log is uninformative in some cases" priority="4" resolution="10200" status="10001" created="2017-07-21 16:43:01.0" updated="2019-03-29 20:33:28.0" resolutiondate="2019-03-29 20:33:28.0" votes="0" watches="2" workflowId="19417"> <environment><! CDATA Build Info:   indy-node 0.4.46   indy-anoncreds 0.4.18   indy-plenum 0.4.61   sovrin 0.2.10   python3-rlp 0.5.1   python3-sha3 0.2.1   python3-pyzmq 16.0.2 OS/Platform: Ubuntu 16.04.2 LTS Setup: 4 nodes, 1 client  ></environment> <description><! CDATA    *Case 1:*  *Steps to Reproduce:* # Send POOL_UPGRADE command:  {code:java} send POOL_UPGRADE name=upgrade-oz1 version=0.4.55 sha256=f6f2ea8f45d8a057c9566a33f99474da2e5c6a6604d736121650e2730c6fb0a3 action=start schedule={'Gw6pDLhcBcoQesN72qfotTgFa7cbuqZpkX3Xo6pLhPhv': '2017-07-21T15:30:00.000000+00:00', '8ECVSk179mjsjKRLWiQtssMLgp6EPhWXtaYyStWPSGAb': '2017-07-21T15:35:00.000000+00:00', 'DKVxG2fXXTU8yT5N7hGEbXB3dfdAnYv1JczDUHpmDxya': '2017-07-21T15:40:00.000000+00:00', '4PS3EDQ3dW1tci1Bp6543CfuuebjFrg36kLAUcskGfaA': '2017-07-21T15:45:00.000000+00:00'} timeout=10{code}    # Check the upgrade_log files on all nodes after completion of all upgrades.  *Actual Results:* {code:java} root@6c959b21839a:/home/sovrin# cat .sovrin/data/nodes/Node2/upgrade_log  2017-07-21 15:02:33.693157	scheduled	2017-07-21 15:35:00+00:00 0.4.55 2017-07-21 15:30:27.027529	scheduled	2017-07-21 15:35:00+00:00 0.4.55 2017-07-21 15:34:59.030581	scheduled	2017-07-21 15:35:00+00:00 0.4.55 2017-07-21 15:34:59.696508	scheduled	2017-07-21 15:35:00+00:00 0.4.55 2017-07-21 15:35:30.848809	succeeded	2017-07-21 15:35:00+00:00 0.4.55 {code} {code:java} root@c0ecf5b26ddb:/home/sovrin# cat .sovrin/data/nodes/Node3/upgrade_log  2017-07-21 15:02:33.750770	scheduled	2017-07-21 15:40:00+00:00 0.4.55 2017-07-21 15:30:27.031118	scheduled	2017-07-21 15:40:00+00:00 0.4.55 2017-07-21 15:35:26.711642	scheduled	2017-07-21 15:40:00+00:00 0.4.55 2017-07-21 15:39:59.042298	scheduled	2017-07-21 15:40:00+00:00 0.4.55 2017-07-21 15:39:59.716344	scheduled	2017-07-21 15:40:00+00:00 0.4.55 2017-07-21 15:39:59.801772	scheduled	2017-07-21 15:40:00+00:00 0.4.55 2017-07-21 15:40:45.088748	succeeded	2017-07-21 15:40:00+00:00 0.4.55{code} "scheduled" record appears in each upgrade_log.   *Expected Results:* "scheduled" record should appear only once in each upgrade_log.  *Case 2:* Also situation with adding new upgrades to upgrade_log is unclear. Looks like new upgrades are not written in upgrade_log tool long. But this case needs additional testing.     ></description> </Issue>
