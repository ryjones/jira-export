<Action id="42914" issue="29351" author="gudkov" type="comment" created="2018-04-13 13:57:35.0" updateauthor="gudkov" updated="2018-04-13 13:57:35.0"> <body><! CDATA > As an administrator of an Indy node, I want log messages to be clear and well written.  For current moment main consumers of logs are Indy developers and troubleshooting teams. I am not sure that they can be easily adopted to Administrators auditory.   > Log messages in Indy should be reviewed for compliance with our UX standards.  What is "our UX standards"? Do we have any published?  ></body> </Action>
<Action id="42919" issue="29351" author="esplinr" type="comment" created="2018-04-13 14:49:34.0" updateauthor="esplinr" updated="2018-04-13 14:49:34.0"> <body><! CDATA Thanks for the clarification about who consumes the Indy node logs. If they aren't being consumed outside of the developer teams, then this probably isn't as high of a priority. But I expect that eventually the log messages will be important for Node Stewards.  I spoke with our technical writer yesterday, and we don't have formal requirements specified yet. Once the spreadsheet is prepared, I can work with her to make sure the messages meet expectations.  ></body> </Action>
<Action id="42920" issue="29351" author="gudkov" type="comment" body="Can you just quickly grep indy-node repo to understand how bad logs are? It can allow you to quickly estimate how important it now to be solved without spending significant time for creation of exel sheets?" created="2018-04-13 15:02:37.0" updateauthor="gudkov" updated="2018-04-13 15:02:37.0"/>
<Action id="46845" issue="29351" author="dsurnin" type="comment" created="2018-07-03 08:12:56.0" updateauthor="dsurnin" updated="2018-07-03 08:12:56.0"> <body><! CDATA The list of message strings and possible changes could be found here https://docs.google.com/spreadsheets/d/1vxSpN0FBf_nv1ZHsPI_Q3vAyP3yznyiIYUKnh8jQzds/edit#gid=2087561173  ></body> </Action>
<Action id="46934" issue="29351" author="ashcherbakov" type="comment" body="The list is prepared and sent for review to  ~tharmon   ~mgbailey   ~EvelynEvergreene " created="2018-07-05 08:10:24.0" updateauthor="ashcherbakov" updated="2018-07-05 08:10:24.0"/>
<Action id="46962" issue="29351" author="mgbailey" type="comment" created="2018-07-05 17:15:42.0" updateauthor="mgbailey" updated="2018-07-05 17:19:39.0"> <body><! CDATA The spreadsheet as it exists is of very limited utility, since each line in a multi-line message is broken into an individual entry in the spreadsheet, and message cohesion is lost.  For example, line 13 has "nodeName" listed as an error message.  Even if this spreadsheet were improved so that entire messages were captured, it is unclear that viewing individual messages in isolation is a useful exercise, at least at the outset of the improvement exercise. It will be much more useful to see messages in context.  What I suggest is that example log outputs be given for various scenarios, at the INFO level, which is the level that would be appropriate for admins to operate their nodes at (hopefully, loading permitting). We could then go through these log snippets and determine unnecessary messages that could be demoted, as well as needed messages that should be promoted or added. Typical scenarios should include: transaction posted to network, transaction failing to post to the network for reasons including no consensus, successful and unsuccessful pool upgrade, and so on.  One more note.  On lines 5 and 6 of the spreadsheet, a new message format is proposed.  I consider this new format to be retrograde, since useful information is obscured or lost. The date information should remain in ISO-standard human-readable format.  If a machine-readable format is required, the script that parses the logs can easily make this conversion.  In similar fashion, there is no reason to make the log level of the message difficult for humans to see.   Finally, it is common to search on the name of the module that writes a message to the log when debugging an issue.  For example, where there is a problem in a pool upgrade, searching on "upgrader" will help find the pertinent messages while sorting through irrelevant log messages.  The module writing the message should continue to be included in the log messages.   ~esplinr ,  ~tharmon ,  ~ashcherbakov ,  ~stevetolman   ></body> </Action>
<Action id="46982" issue="29351" author="ashcherbakov" type="comment" created="2018-07-06 06:39:23.0" updateauthor="ashcherbakov" updated="2018-07-06 06:39:23.0"> <body><! CDATA {quote} What I suggest is that example log outputs be given for various scenarios, at the INFO level, which is the level that would be appropriate for admins to operate their nodes at (hopefully, loading permitting). We could then go through these log snippets and determine unnecessary messages that could be demoted, as well as needed messages that should be promoted or added. Typical scenarios should include: transaction posted to network, transaction failing to post to the network for reasons including no consensus, successful and unsuccessful pool upgrade, and so on. {quote} The scope of this ticket was just to create a spreadsheet. Having some example of logs makes total sense, but requires more work and wasn't estimated here. I suggest the following: do changes in log levels and messages as suggested in the spreadsheet (INDY-1416), and after this we can provide examples of the logs.  {quote} I consider this new format to be retrograde, since useful information is obscured or lost.  {quote} The logs are quite huge (especially during the high load), so by doing these changes the size can be decreased by ~15%. It means that more logs can survive rotation. I think that module and function is not very helpful in analysing the logs, the message itself is much more useful. If this is not clear from the message itself without a module, then the message should probably be reviewed.  Also the tool to be used for analysing the logs (https://github.com/hyperledger/indy-plenum/tree/master/scripts/process_logs) is based on the messages, not module.  ></body> </Action>
<Action id="47048" issue="29351" author="mgbailey" type="comment" created="2018-07-06 16:55:10.0" updateauthor="mgbailey" updated="2018-07-06 16:55:10.0"> <body><! CDATA I apologize, but I don't think that going through many hundreds of fragmentary log messages, without context, is a useful exercise.  I will let others weigh in on the tradeoffs on log message format readability vs. log size, and on stewards learning and using the log analysis tool.  ~tharmon   ~EvelynEvergreene   ></body> </Action>
