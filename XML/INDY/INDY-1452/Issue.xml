<Issue id="31664" key="INDY-1452" number="1452" project="10303" reporter="ashcherbakov" assignee="ozheregelya" creator="ashcherbakov" type="10002" summary="A node must send LEDGER_STATUS with correct last ordered 3PC after catch-up" priority="3" resolution="10000" status="10001" created="2018-07-05 10:23:18.0" updated="2019-03-29 20:32:24.0" resolutiondate="2019-03-29 20:32:24.0" votes="0" watches="2" workflowId="31678"> <description><! CDATA There is a structure (IntervalTree) in node that can map seqNo in ledger to 3PC key.  This is in-memory structure, so it's empty after node restart, and updated only during common ordering and execution of 3PC batches.  We need to have an entry for the current ledger size in this map after catchup too, as this is used in LEDGER_STATUSes sent to others, and LEDGER_STATUSes are used for initial calcualtion of `last_ordered-3PC`.  ></description> </Issue>
