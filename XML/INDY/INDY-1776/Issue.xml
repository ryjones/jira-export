<Issue id="34877" key="INDY-1776" number="1776" project="10303" reporter="ashcherbakov" assignee="sergey-shilov" creator="ashcherbakov" type="10002" summary="Test ZMQ Memory Consumption with restarting of listener on every X connections" priority="3" resolution="10000" status="10001" created="2018-10-25 09:07:49.0" updated="2019-03-29 20:32:55.0" resolutiondate="2019-03-29 20:32:55.0" votes="0" watches="2" workflowId="46294"> <description><! CDATA As was understood in INDY-1686, ZMQ may consume a lot of memory if there are a lot of simultaneous client requests, since it uses round-robin to read client queues.  Plenum does (be default) 100 reads in one looper run.  We need to test if situation with memory consumption improves when we restrict the number of client connections.  *Acceptance criteria* * Run test with restarting of listener on every 1000 connections ** Run Python tests (created in the scope of INDY-1686) restarting listener  ** Run C tests (created in the scope of INDY-1686) restarting listener ** Run Indy load tests *** set MAX_CONNECTED_CLIENTS_NUM = 100 *** Run two tests: 10 NYMs per sec and 100 NYMs per sec ** Compare results  ></description> </Issue>
