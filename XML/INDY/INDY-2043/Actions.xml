<Action id="59054" issue="39097" author="toktar" type="comment" created="2019-04-09 11:50:24.0" updateauthor="toktar" updated="2019-04-09 11:50:24.0"> <body><! CDATA *PoA:*  In this task, it is necessary to expand the dynamic validation for signatures and solve the following problem: when the client without a role sends NODE request, but sets a steward DID, the request must be rejected.   *TODO:* * Implement RolesAuthorizer.get_sig_count (). Add getting the number of signatures in the request for a specific role. * Remove the logic in is_sig_count_accepted () for sig_count = 1 * Add a check in static validation of the request that only one field of signatures is filled (SIG or SIGS). * Add validation of each field with signatures in the CoreAuthMixin.authenticate () method * Add tests: +Case1:+ ** Send AUTH_RULE txn to change constraint for the key add_new_trustee to (TRUSTEE, 2) or ((TRUSTEE, 1) and (STEWARD, 2)) ** Send and check requests to adding a new trustee with *** with 2 TRUSTEE signatures *** with 3 TRUSTEE signatures *** with 1 TRUSTEE signature and 2 STEWARD signatures *** with 1 TRUSTEE signature and 3 STEWARD signatures  *** with 2 TRUSTEE signatures and 1 STEWARD signature ** Send and check a reject with an authentication error for requests to adding a new trustee *** without signatures *** with 3 client signatures *** with 3 STEWARD signatures *** with 1 TRUSTEE signature *** with 1 TRUSTEE signature and 1 STEWARD signature * +Case2:+ ** Signed and send a NODE request by a client, but put steward DID in an identifier field in the request  ** Check that the request was rejected  with an authentication error   ></body> </Action>
<Action id="59216" issue="39097" author="toktar" type="comment" created="2019-04-12 17:16:07.0" updateauthor="toktar" updated="2019-04-12 17:16:07.0"> <body><! CDATA indy-plenum PR: https://github.com/hyperledger/indy-plenum/pull/1164 indy-node PR: https://github.com/hyperledger/indy-node/pull/1240  ></body> </Action>
<Action id="59314" issue="39097" author="toktar" type="comment" created="2019-04-18 07:43:14.0" updateauthor="toktar" updated="2019-04-18 07:43:14.0"> <body><! CDATA *Problem reason:* - Auth validation is not implemented.  *Changes:* - Added validation - Change an auth key format    *PR:* *   https://github.com/hyperledger/indy-plenum/pull/1164  *   https://github.com/hyperledger/indy-node/pull/1240  *  https://github.com/hyperledger/indy-node/pull/1243  *  https://github.com/hyperledger/indy-plenum/pull/1171   *Version:* * indy-node 1.6.895 -master * (indy-plenum 1.6.765 -master)  *Risk factors:* - Problems with a multi-signature validation and with an auth rule checking.  *Risk:* - Low  *Test:* *  test_auth_multi_sig_for_5_owners.py|https://github.com/hyperledger/indy-node/pull/1240/files#diff-bb119f1832e02141eaca518580218f1f  *  test_auth_rule_transaction.py|https://github.com/hyperledger/indy-node/pull/1240/files#diff-35bb9fb57f669358467d5252239e8060  *  test_multisig_auth_rule.py|https://github.com/hyperledger/indy-node/pull/1240/files#diff-beff30382b0bf93dc39e8770f45a5cc6  *  test_txn_with_different_signature_and_idr.py|https://github.com/hyperledger/indy-node/pull/1240/files#diff-144c55f408ec9383638eab28e153a7aa   *Recommendations for QA:* * Test cases from the ticket INDY-2046  ></body> </Action>
<Action id="59315" issue="39097" author="ashcherbakov" type="comment" body="Validation will be done in the scope of INDY-2046" created="2019-04-18 07:44:15.0" updateauthor="ashcherbakov" updated="2019-04-18 07:44:15.0"/>
