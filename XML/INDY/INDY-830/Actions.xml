<Action id="31567" issue="20767" author="spivachuk" type="comment" created="2017-10-03 15:53:41.0" updateauthor="spivachuk" updated="2017-10-03 16:09:54.0"> <body><! CDATA The following changes have been done in scope of this ticket: - Removed Evernym and Sovrin brands from code and documentation in indy-node repository. - Implemented rebranding upgrade mechanism and rebranding migration script for node. - Implemented rebranding migration for wallet. - Extracted wallet raw updaters from Wallet class. - Added a test verifying loading of a wallet with GST stuff saved before rebranding.  The changes are contained in the following pull requests: - https://github.com/hyperledger/indy-plenum/pull/402 - https://github.com/hyperledger/indy-node/pull/351  Evernym and Sovrin mentions have been kept in the following places of indy-node repository: - Copyright statements. - CI/CD URLs. - APT repositories URLs. - sovrin-environments URL and related links. - References to {{sovrin}} package built on top of {{indy-node}} in validator-info tool and its tests. - Documentation on {{sovrin}} package built on top of {{indy-node}}. - Scripts related to rebranding upgrade and references to these scripts. - Wallet migration mechanism. - User and data references in existing node migration scripts. - Serialized wallets in formats of old versions which are used in tests of backward compatibility of WalletStorageHelper. - SovrinHelpers library references in CI/CD scripts. - Example URLs in tests in indy_client/test/cli/test_send_attrib_validation module.  ></body> </Action>
<Action id="31614" issue="20767" author="spivachuk" type="comment" created="2017-10-04 18:05:26.0" updateauthor="spivachuk" updated="2017-10-04 18:49:36.0"> <body><! CDATA  ~danielhardman ,  ~nage ,  ~krw910 , currently the application data is not migrated for client upgrade being performed by {{apt-get install indy-node}} command. The application data is migrated only for node upgrade being performed by the node control tool (which can be initiated by {{POOL_UPGRADE}} transaction).  However, the client is backward compatible with wallets serialized with previous client versions. So if a user manually copies wallet files from the old application directory to the new one then the rebranded client will be able to load them.  The only case when the application data is migrated for a client is the case when the user {{sovrin}} uses both a node and a client on the same machine (i.e. the application directory is shared between the node and the client) and the node is upgraded by the node control tool. In such the case the application data will be migrated including proper migration of client-related stuff (for example, the extension of the sample request files will be changed - {{faber-request.sovrin}} -> {{faber-request.indy}}, and so on).  Do we need the feature of the application data migration for client upgrade being performed by {{apt-get install indy-node}} command, taking into account that the application directories must be migrated for all the users in the system if the package is updated by {{root}} and that in future the current CLI will be replaced with a new one based on Indy SDK?  ></body> </Action>
<Action id="31621" issue="20767" author="krw910" type="comment" body=" ~spivachuk  Let me check with  ~tharmon  and  ~mgbailey  on this question since they will be dealing with it." created="2017-10-04 21:24:57.0" updateauthor="krw910" updated="2017-10-04 21:24:57.0"/>
<Action id="31642" issue="20767" author="tharmon" type="comment" created="2017-10-05 14:48:25.0" updateauthor="tharmon" updated="2017-10-05 14:48:25.0"> <body><! CDATA My opinion is that when someone starts up the {{indy}} executable, it should check to see if there is a {{.sovrin}} directory in the current users home directory. If there is, it should ask the user if they would like to migrate it to a {{.indy}} directory with the default answer being 'Yes'.  Part of the issue here is that you don't know which users have actually used the {{sovrin}} executable, and traversing through the home directories seems to be a bit invasive. The solution that we do here cannot only work for one user and then break for all of the others.  ></body> </Action>
<Action id="31977" issue="20767" author="ashcherbakov" type="comment" created="2017-10-10 16:14:37.0" updateauthor="ashcherbakov" updated="2017-10-10 16:14:37.0"> <body><! CDATA  ~nage   ~tharmon  Should we implement it in the way how Trev suggests, taken into account that we're going to start implementation of CLI in indy-sdk? I suggest that we close this ticket, and create a new one for client migration support  ></body> </Action>
<Action id="33015" issue="20767" author="danielhardman" type="comment" body="Yes, I agree with Trev&apos;s suggestion." created="2017-10-23 20:28:26.0" updateauthor="danielhardman" updated="2017-10-23 20:28:26.0"/>
<Action id="33128" issue="20767" author="spivachuk" type="comment" body="Created the task INDY-925 for implementation of application data migration for client upgrade." created="2017-10-24 18:15:22.0" updateauthor="spivachuk" updated="2017-10-24 18:15:22.0"/>
