<Issue id="34148" key="INDY-1719" number="1719" project="10303" reporter="keichiri" assignee="zhigunenko.dsr" creator="keichiri" type="10004" summary="Node Service Changed function does not take into account the node running it" priority="3" resolution="10000" status="10001" created="2018-09-27 13:53:17.0" updated="2019-03-29 20:34:03.0" resolutiondate="2019-03-29 20:34:03.0" votes="0" watches="4" workflowId="45471"> <description><! CDATA In function nodeServicesChanged in pool_manager.py, information is not updated if the node executing the function is the node whose services have been changed.  This was observed in https://jira.hyperledger.org/browse/INDY-1578  Steps to reproduce: 1. setup a running pool 2. turn off one node 3. demote the node to not be validator 4. turn on the node and connect it to others 5. promote it to be validator  This way it will happen during the promotion. It is easy to modify the scenario so it happens during demotion (dont turn off the node)  That leads to replicas state not being adjusted, and incorrent replicas state observed on that node  ></description> </Issue>
