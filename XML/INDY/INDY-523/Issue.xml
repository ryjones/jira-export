<Issue id="19711" key="INDY-523" number="523" project="10303" reporter="avkrishnan" assignee="spivachuk" creator="avkrishnan" type="10002" summary="Refactor closing of hashStore, primaryStorage and secondaryStorage of plenum.server.node.Node" description="Refactor closing of {{domainLedger}}, {{poolLedger}}, {{hashStore}} and {{poolManager.hashStore}} of {{plenum.server.node.Node}} that is made in its {{onStopping}} method.Now these properties may be instances of various classes. Some of these classes provide {{close}} method for closing, others provide {{stop}} method for this, thirds do not support closing at all (since have nothing to free). The current code closing these properties is confused due to this inconsistency.In scope of this ticket provide a general way to close objects being used as {{domainLedger}}, {{poolLedger}}, {{hashStore}} and {{poolManager.hashStore}} in {{plenum.server.node.Node}} and use this way in {{onStopping}} method of {{plenum.server.node.Node}}.*PoA*:# Add {{close}} method to all the classes that are used as {{domainLedger}}, {{poolLedger}}, {{hashStore}} and {{poolManager.hashStore}} in {{plenum.server.node.Node}} and do not have this method yet. It must free all the resources allocated by the object if any were allocated or must do nothing otherwise. If a class already has {{stop}} method for this aim then {{close}} method must just call it.# Correct closing of {{domainLedger}}, {{poolLedger}}, {{hashStore}} and {{poolManager.hashStore}} in {{onStopping}} method of {{plenum.server.node.Node}} class: use only {{close}} method for uniform closing of {{domainLedger}}, {{poolLedger}}, {{hashStore}} and {{poolManager.hashStore}}." priority="3" resolution="10200" status="10001" created="2017-08-02 09:27:08.0" updated="2019-03-29 20:33:53.0" resolutiondate="2019-03-29 20:33:53.0" votes="0" watches="2" workflowId="19711"/>
