<Issue id="46326" key="FABN-1668" number="1668" project="10604" reporter="nkl199" assignee="harrisob@us.ibm.com" creator="nkl199" type="10004" summary="gateway.evaluate should use timeouts from gateway options" priority="3" resolution="10000" status="6" created="2020-11-16 17:35:51.0" updated="2020-11-30 15:30:10.0" resolutiondate="2020-11-30 15:30:10.0" votes="0" watches="2" workflowId="60242" archived="N"> <description><! CDATA The current `evaluate` logic (in 1.4 sdk) is:   {quote}async evaluate(...args) {     verifyArguments(args);     this._setInvokedOrThrow();     const channel = this._contract.getNetwork().getChannel();     const request = this._buildRequest(args);     const commitTimeout = this._contract.getEventHandlerOptions().commitTimeout * 1000; // in ms     const timeout = this._contract.gateway.getClient().getConfigSetting('request-timeout', commitTimeout);     if (timeout < commitTimeout) {         request.request_timeout = commitTimeout;     }     const query = newQuery(channel, request);     return this._queryHandler.evaluate(query); }{quote}     Meaning that timeout is coming from the client config setting, or a commit timeout.   The query should really be pulling from the gateway options, just like the `submit` function on the gateway does, and use a sensible default if not present.   A commit has no real point within a query.          ></description> </Issue>
