<Issue id="20618" key="FABN-411" number="411" project="10604" reporter="jimthematrix" assignee="jimthematrix" creator="jimthematrix" type="10004" summary="fabric-ca registration affiliation checking" priority="3" resolution="10000" status="6" created="2017-09-05 20:05:24.0" updated="2018-07-19 00:53:59.0" resolutiondate="2017-09-07 14:30:13.0" votes="0" watches="0" workflowId="34142"> <description><! CDATA {code} 19:53:53 not ok 773 Error: fabric-ca request register failed with errors   {"code":0,"message":"Registration of 'auditor' failed in affiliation validation: Registrar does not have authority to request 'org2.department1' affiliation"}   at IncomingMessage.<anonymous> (/w/workspace/fabric-sdk-node6-verify-x86_64/gopath/src/github.com/hyperledger/fabric-sdk-node/node_modules/fabric-ca-client/lib/FabricCAClientImpl.js:9:22050) at emitNone (events.js:91:20) at IncomingMessage.emit (events.js:185:7) at endReadableNT (_stream_readable.js:974:12) at _combinedTickCallback (internal/process/next_tick.js:74:11) at process._tickDomainCallback (internal/process/next_tick.js:122:9) 19:53:53   --- 19:53:53     operator: fail 19:53:53     at: caService.enroll.then.then.then.then.then.then.then.then.then.then.then.then.then.then.then.then.then.then.catch (/w/workspace/fabric-sdk-node6-verify-x86_64/gopath/src/github.com/hyperledger/fabric-sdk-node/test/integration/fabric-ca-services-tests.js:239:6) 19:53:53     stack: |- 19:53:53       Error: Error: fabric-ca request register failed with errors   {"code":0,"message":"Registration of 'auditor' failed in affiliation validation: Registrar does not have authority to request 'org2.department1' affiliation"}   19:53:53           at IncomingMessage.<anonymous> (/w/workspace/fabric-sdk-node6-verify-x86_64/gopath/src/github.com/hyperledger/fabric-sdk-node/node_modules/fabric-ca-client/lib/FabricCAClientImpl.js:9:22050) 19:53:53           at emitNone (events.js:91:20) 19:53:53           at IncomingMessage.emit (events.js:185:7) 19:53:53           at endReadableNT (_stream_readable.js:974:12) 19:53:53           at _combinedTickCallback (internal/process/next_tick.js:74:11) 19:53:53           at process._tickDomainCallback (internal/process/next_tick.js:122:9) 19:53:53           at Test.assert  as _assert  (/w/workspace/fabric-sdk-node6-verify-x86_64/gopath/src/github.com/hyperledger/fabric-sdk-node/node_modules/tape/lib/test.js:212:54) 19:53:53           at Test.bound  as _assert  (/w/workspace/fabric-sdk-node6-verify-x86_64/gopath/src/github.com/hyperledger/fabric-sdk-node/node_modules/tape/lib/test.js:64:32) 19:53:53           at Test.fail (/w/workspace/fabric-sdk-node6-verify-x86_64/gopath/src/github.com/hyperledger/fabric-sdk-node/node_modules/tape/lib/test.js:277:10) 19:53:53           at Test.bound  as fail  (/w/workspace/fabric-sdk-node6-verify-x86_64/gopath/src/github.com/hyperledger/fabric-sdk-node/node_modules/tape/lib/test.js:64:32) 19:53:53           at caService.enroll.then.then.then.then.then.then.then.then.then.then.then.then.then.then.then.then.then.then.catch (/w/workspace/fabric-sdk-node6-verify-x86_64/gopath/src/github.com/hyperledger/fabric-sdk-node/test/integration/fabric-ca-services-tests.js:239:6) 19:53:53           at process._tickDomainCallback (internal/process/next_tick.js:129:7) 19:53:53   ... {code}  ></description> </Issue>
