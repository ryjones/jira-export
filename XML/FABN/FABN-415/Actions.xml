<Action id="39747" issue="26663" author="harrisob@us.ibm.com" type="comment" body="With FAB-7726 now in .. is this still falling ?" created="2018-02-06 22:07:16.0" updateauthor="harrisob@us.ibm.com" updated="2018-02-06 22:07:16.0"/>
<Action id="39804" issue="26663" author="antoniovassell" type="comment" created="2018-02-07 18:49:54.0" updateauthor="antoniovassell" updated="2018-02-07 18:53:27.0"> <body><! CDATA  ~harrisob@us.ibm.com   ~mastersingh24  Hey even with -FAB-7726- the unit tests cases for fabric-sdk-node on master branch following these instructions ( Test Instructions |https://github.com/hyperledger/fabric-sdk-node/tree/master#special-tests-for-hardware-security-module-support-experimental-via-pkcs11-interface ) are still failing. Please see report attached.Â    {code:java}  00m 1m 38;5;196m not ok 763 Error: _pkcs11OpenSession 9 : PKCS11 slot number non-exist 00m 00m 2m 38;5;66m --- 00m operator: error expected: |- undefined actual: |-  Error: _pkcs11OpenSession 9 : PKCS11 slot number non-exist  at: Test.onetime  as end  (/home/devel/PeerLedger/3TG/fabric-sdk-node/node_modules/tape-promise/node_modules/onetime/index.js:22:12) stack: |- Error: _pkcs11OpenSession 9 : PKCS11 slot number non-exist at CryptoSuite_PKCS11._pkcs11OpenSession (/home/devel/PeerLedger/3TG/fabric-sdk-node/fabric-client/lib/impl/bccsp_pkcs11.js:9:12377) at new CryptoSuite_PKCS11 (/home/devel/PeerLedger/3TG/fabric-sdk-node/fabric-client/lib/impl/bccsp_pkcs11.js:9:9803) at Object.module.exports.newCryptoSuite (/home/devel/PeerLedger/3TG/fabric-sdk-node/fabric-client/lib/utils.js:9:3731) at test (/home/devel/PeerLedger/3TG/fabric-sdk-node/test/unit/pkcs11.js:89:23) at Test.<anonymous> (/home/devel/PeerLedger/3TG/fabric-sdk-node/node_modules/tape-promise/index.es5.js:21:13) at Test.bound  as _cb  (/home/devel/PeerLedger/3TG/fabric-sdk-node/node_modules/tape/lib/test.js:64:32) at Test.run (/home/devel/PeerLedger/3TG/fabric-sdk-node/node_modules/tape/lib/test.js:83:10) at Test.bound  as run  (/home/devel/PeerLedger/3TG/fabric-sdk-node/node_modules/tape/lib/test.js:64:32) at Immediate.next (/home/devel/PeerLedger/3TG/fabric-sdk-node/node_modules/tape/lib/results.js:71:15) at runCallback (timers.js:800:20) at tryOnImmediate (timers.js:762:5) at processImmediate  as _immediateCallback  (timers.js:733:5) 00m 2m 38;5;66m ... 00m 00m 2m 38;5;66m #  00m  **PKCS11 - generate a non-ephemeral key   00m 1m 38;5;196m not ok 764 TypeError: Cannot read property 'generateKey' of undefined 00m 00m 2m 38;5;66m --- 00m operator: error expected: |- undefined actual: |-  TypeError: Cannot read property 'generateKey' of undefined  at: Test.onetime  as end  (/home/devel/PeerLedger/3TG/fabric-sdk-node/node_modules/tape-promise/node_modules/onetime/index.js:22:12) stack: |- TypeError: Cannot read property 'generateKey' of undefined at test (/home/devel/PeerLedger/3TG/fabric-sdk-node/test/unit/pkcs11.js:131:23) at Test.<anonymous> (/home/devel/PeerLedger/3TG/fabric-sdk-node/node_modules/tape-promise/index.es5.js:21:13) at Test.bound  as _cb  (/home/devel/PeerLedger/3TG/fabric-sdk-node/node_modules/tape/lib/test.js:64:32) at Test.run (/home/devel/PeerLedger/3TG/fabric-sdk-node/node_modules/tape/lib/test.js:83:10) at Test.bound  as run  (/home/devel/PeerLedger/3TG/fabric-sdk-node/node_modules/tape/lib/test.js:64:32) at Immediate.next (/home/devel/PeerLedger/3TG/fabric-sdk-node/node_modules/tape/lib/results.js:71:15) at runCallback (timers.js:800:20) at tryOnImmediate (timers.js:762:5) at processImmediate  as _immediateCallback  (timers.js:733:5) 00m 2m 38;5;66m ... 00m 00m 2m 38;5;66m #  00m   **PKCS11 - import an AES key into the crypto card   00m 1m 38;5;196m not ok 765 TypeError: Cannot read property 'importKey' of undefined 00m 00m 2m 38;5;66m --- 00m operator: error expected: |- undefined actual: |-  TypeError: Cannot read property 'importKey' of undefined  at: Test.onetime  as end  (/home/devel/PeerLedger/3TG/fabric-sdk-node/node_modules/tape-promise/node_modules/onetime/index.js:22:12) stack: |- TypeError: Cannot read property 'importKey' of undefined at test (/home/devel/PeerLedger/3TG/fabric-sdk-node/test/unit/pkcs11.js:178:20) at Test.<anonymous> (/home/devel/PeerLedger/3TG/fabric-sdk-node/node_modules/tape-promise/index.es5.js:21:13) at Test.bound  as _cb  (/home/devel/PeerLedger/3TG/fabric-sdk-node/node_modules/tape/lib/test.js:64:32) at Test.run (/home/devel/PeerLedger/3TG/fabric-sdk-node/node_modules/tape/lib/test.js:83:10) at Test.bound  as run  (/home/devel/PeerLedger/3TG/fabric-sdk-node/node_modules/tape/lib/test.js:64:32) at Immediate.next (/home/devel/PeerLedger/3TG/fabric-sdk-node/node_modules/tape/lib/results.js:71:15) at runCallback (timers.js:800:20) at tryOnImmediate (timers.js:762:5) at processImmediate  as _immediateCallback  (timers.js:733:5) 00m 2m 38;5;66m ... 00m 00m 2m 38;5;66m #  00m   00m 1m 38;5;196m not ok 766 TypeError: Cannot read property 'generateKey' of undefined 00m 00m 2m 38;5;66m --- 00m operator: error expected: |- undefined actual: |-  TypeError: Cannot read property 'generateKey' of undefined  at: Test.onetime  as end  (/home/devel/PeerLedger/3TG/fabric-sdk-node/node_modules/tape-promise/node_modules/onetime/index.js:22:12) stack: |- TypeError: Cannot read property 'generateKey' of undefined at test (/home/devel/PeerLedger/3TG/fabric-sdk-node/test/unit/pkcs11.js:211:20) at Test.<anonymous> (/home/devel/PeerLedger/3TG/fabric-sdk-node/node_modules/tape-promise/index.es5.js:21:13) at Test.bound  as _cb  (/home/devel/PeerLedger/3TG/fabric-sdk-node/node_modules/tape/lib/test.js:64:32) at Test.run (/home/devel/PeerLedger/3TG/fabric-sdk-node/node_modules/tape/lib/test.js:83:10) at Test.bound  as run  (/home/devel/PeerLedger/3TG/fabric-sdk-node/node_modules/tape/lib/test.js:64:32) at Immediate.next (/home/devel/PeerLedger/3TG/fabric-sdk-node/node_modules/tape/lib/results.js:71:15) at runCallback (timers.js:800:20) at tryOnImmediate (timers.js:762:5) at processImmediate  as _immediateCallback  (timers.js:733:5) 00m 2m 38;5;66m ... 00m 00m 2m 38;5;66m #  00m    {code}  Â   ></body> </Action>
<Action id="39808" issue="26663" author="antoniovassell" type="comment" body="Do the instructions need to be updated?" created="2018-02-07 18:54:45.0" updateauthor="antoniovassell" updated="2018-02-07 18:54:45.0"/>
<Action id="40062" issue="26663" author="aambati" type="comment" body=" ~antoniovassell Â are you running into any runtime issues?Â I am wondering if this a test case or code issue?" created="2018-02-13 13:40:10.0" updateauthor="aambati" updated="2018-02-13 13:40:10.0"/>
<Action id="40165" issue="26663" author="denyeart" type="comment" body=" ~mastersingh24  I see you assigned yourself, what did you have in mind?" created="2018-02-14 16:56:53.0" updateauthor="denyeart" updated="2018-02-14 16:56:53.0"/>
<Action id="40320" issue="26663" author="mastersingh24" type="comment" created="2018-02-17 12:28:09.0" updateauthor="mastersingh24" updated="2018-02-17 12:28:09.0"> <body><! CDATA hopefully just fixing the docs I'm able to run the tests just fine (I never read the instructions tho)  ></body> </Action>
<Action id="40321" issue="26663" author="antoniovassell" type="comment" body=" ~mastersingh24  Okay, can you say what was the procedure that you used?" created="2018-02-17 12:35:24.0" updateauthor="antoniovassell" updated="2018-02-17 12:35:24.0"/>
<Action id="40322" issue="26663" author="mastersingh24" type="comment" body="The issue seems to be that by default you need to run as root for things to work" created="2018-02-17 13:10:40.0" updateauthor="mastersingh24" updated="2018-02-17 13:10:40.0"/>
<Action id="40324" issue="26663" author="mastersingh24" type="comment" body="I&apos;ll post a CR shortly for you to test  ~antoniovassell " created="2018-02-17 13:46:18.0" updateauthor="mastersingh24" updated="2018-02-17 13:46:18.0"/>
<Action id="40329" issue="26663" author="mastersingh24" type="comment" body="https://gerrit.hyperledger.org/r/18009" created="2018-02-17 14:57:20.0" updateauthor="mastersingh24" updated="2018-02-17 14:57:20.0"/>
<Action id="40330" issue="26663" author="mastersingh24" type="comment" body=" ~antoniovassell  - Please have a look at the CR above and try it out" created="2018-02-17 19:27:56.0" updateauthor="mastersingh24" updated="2018-02-17 19:27:56.0"/>
