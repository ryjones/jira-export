<Issue id="39314" key="FABN-1211" number="1211" project="10604" reporter="florianc" assignee="harrisob@us.ibm.com" creator="florianc" type="10001" summary="As a developer, I want the chaincode event listener to unregister itself after listening for events in an interval of blocks" priority="3" resolution="10002" status="6" created="2019-04-15 12:42:08.0" updated="2019-08-13 16:49:18.0" resolutiondate="2019-08-13 16:49:18.0" votes="0" watches="1" workflowId="52193"> <description><! CDATA I am looking for a way to smoothly stop the listener. As I have an issue with the  disconnect|https://jira.hyperledger.org/browse/FABN-1207  option, I am looking into the {{unregister}}  option.  The problem is the following (with {{registerChaincodeEvent}}): When I specify in the {{options}} object {{unregister: true}}, {{startBlock: X}} and {{endBlock: Y}}, the listener stops right after the very first event received.  However, quoting the  documentation|https://fabric-sdk-node.github.io/release-1.4/global.html#RegistrationOpts  :   {noformat} This options setting indicates the registration should be removed (unregister) when the event is seen {noformat}  {noformat} For chaincode listeners the default will be false as the match filter might be intended for many transactions rather than a specific transaction or block as in the other listeners. {noformat}   As a developer, I would like the chaincode event listener to unregister itself after it reached the block number endBlock.  Context: It is useful when I don't want to continuously listen for events. For example, when I want to build an history of an asset, based on events emmited by the chaincode, I am looking for a bunch of events (with the same name), from a block to another. As per my understanding, the only way to unregister the listener is to set a timeout, which works, but (IMO) is not very "developer friendly"   ></description> </Issue>
