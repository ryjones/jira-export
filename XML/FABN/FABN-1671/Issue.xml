<Issue id="46336" key="FABN-1671" number="1671" project="10604" reporter="JIRAUSER20252" assignee="JIRAUSER20252" creator="JIRAUSER20252" type="10004" summary="Setting endorsing organizations fails without Service Discovery" priority="3" resolution="10000" status="6" created="2020-11-20 19:31:53.0" updated="2020-11-25 12:16:34.0" resolutiondate="2020-11-25 12:16:34.0" votes="0" watches="2" workflowId="60267" archived="N"> <description><! CDATA Our setup runs fabric-network v2.2.3 under Node v12.19.0. We connect a Gateway instance with {code:javascript} discovery: { enabled: false, asLocalhost: false } {code} and specify all available peers and orderers in a common connection profile JSON (Object). Now after getting a Network instance and from that a Contract instance, we want to submit a transaction to specific endorsing organizations by MSP-IDs with {code:javascript} contract.createTransaction(functionName) .setEndorsingOrganizations(...endorsingOrgs) .submit(...args) {code} where "endorsingOrgs" is an array of strings. We get the following error: {quote}Stack:TypeError: Cannot read property 'name' of undefined           at getEndorsers (/usr/src/api/node_modules/fabric-common/lib/Channel.js:317:39)          at Array.map (<anonymous>)          at Transaction.submit (/usr/src/api/node_modules/fabric-network/lib/transaction.js:202:62) {quote} The exact same setup works with Service Discovery enabled. We do believe to have identified the problem in  fabric-network/src/transaction.ts|https://github.com/hyperledger/fabric-sdk-node/blob/2c976df03ccc9b354bfd2edc1e809b9dbd7ca8dd/fabric-network/src/transaction.ts#L259  which calls getEndorsers() through map() seemingly resulting in _this_ to be undefined. We did a quick search through the repository and could not find any other occurrence of this kind of behavior.  ></description> </Issue>
