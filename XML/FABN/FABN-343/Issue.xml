<Issue id="15284" key="FABN-343" number="343" project="10604" reporter="davidkel" assignee="harrisob@us.ibm.com" creator="davidkel" type="10004" summary="Node SDK loses errors returned from chaincode" priority="1" resolution="10000" status="6" created="2017-03-09 19:41:32.0" updated="2018-07-19 00:53:43.0" resolutiondate="2017-03-16 23:58:12.0" votes="0" watches="2" workflowId="34074"> <description><! CDATA I noticed this on the queryByChaincode call, the chaincode was returning a 500 and error but our code was only ever noticing that there was no returned payload (the array was empty).  I put a patch into the Chain.js code to detect the returned error and throw it as follows (although the implementation probably isn't right, it is what our code expects and so I assume that the v0.6 node sdk does something similar as we work with that). The problem shows up when we run our system tests against the v1 node sdk which works with the v0.6 sdk.  The code change is a follows {code} logger.debug('Chain-queryByChaincode - results received'); if(responses && Array.isArray(responses)) { var results =   ; for(let i = 0; i < responses.length; i++) { // START  if (responses i .error) { throw responses i .error; } // END if(responses i .response && responses i .response.payload) {   results.push(responses i .response.payload); } } return Promise.resolve(results); } {code}  ></description> </Issue>
