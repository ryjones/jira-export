<Issue id="36277" key="FABN-1092" number="1092" project="10604" reporter="bazmcl" assignee="harrisob@us.ibm.com" creator="bazmcl" type="10004" summary="better handling for misconfigured client config" priority="3" resolution="10001" status="6" created="2018-12-19 09:34:40.0" updated="2020-12-01 16:09:18.0" resolutiondate="2020-12-01 14:13:59.0" votes="0" watches="1" workflowId="47796"> <description><! CDATA While doing some testing with the fabric node sdk - I received this rather nice error when trying to do a client.setUserContext:  _Cannot read property 'curve' of undefined at Object.KEYUTIL.getKey_  After much digging down into the fabric-client source code I found the source of the issue was were this class: CryptoSuite_ECDSA_AES.js tries to read the key data from the keyStore (fileKeyValueStore.js) and is not able to find the data for the given key. The actual cause of the issue was a mistake on my part in the client configuration (cryptoStore) but I think a better error message would prevent others from wasting time. e.g. if the path specified for crypto store does not exist, perhaps show "path for crypto store does not exist, check your config" or if the key for the configured user is not in the crypto store, perhaps show "cannot find key \{thekeyItsLookingFor} in crypto store \{pathOfCryptoStore}"     ></description> </Issue>
