<Action id="40667" issue="27943" author="denyeart" type="comment" created="2018-02-23 17:48:01.0" updateauthor="denyeart" updated="2018-02-23 17:48:01.0"> <body><! CDATA Chaincode upgrade/instantiate handling, including error handling, has been refactored in 1.1.  It is not a simple case of changing a message.  The full message in 1.1 now is: status: 500, message: cannot get package for chaincode (marblesx:1)-open /var/hyperledger/production/chaincodes/marblesx.1: no such file or directory  It is not as simple as changing back a message on peer side. Can we have the 1.0 client tests look for the error code (500) rather than parse the specific error message?  We would recommend client apps to do the same, as exact error messages are not guaranteed to be the same across releases.  I've also opened FAB-8481 to improve the error message such that server filepath information is not revealed to client.  ></body> </Action>
<Action id="40689" issue="27943" author="harrisob@us.ibm.com" type="comment" body="https://gerrit.hyperledger.org/r/#/c/18309/" created="2018-02-23 21:45:11.0" updateauthor="harrisob@us.ibm.com" updated="2018-02-23 21:45:11.0"/>
<Action id="40768" issue="27943" author="denyeart" type="comment" created="2018-02-26 04:45:37.0" updateauthor="denyeart" updated="2018-02-26 04:49:18.0"> <body><! CDATA  ~harrisob@us.ibm.com   ~Ratnakar  The "*no such file or directory"* error was no good, both from a user perspective, and because it leaked server file system path information (security vulnerability).  It has been changed in -FAB-8481- as follows:     *Scenario:* instantiate/upgrade against a non-installed chaincode  *Client error message received in 1.1:* chaincode error (status: 500, message: cannot get package for chaincode (marbles:1))      ~mastersingh24  updated the tests in fabric-node-sdk master, but the change will likely need to be reflected in the release 1.0 tests against 1.1 peer.     Other related messages are:     *Scenario:* invoke against a non-instantiated chaincode  *Client error message received in 1.1:* make sure the chaincode marbles has been successfully instantiated and try again: could not find chaincode with name 'marbles' - <nil>     *Scenario:* instantiate/upgrade/invoke against a non-exist channel, or client not a member of channel:  *Client error message received in 1.1:* access denied: channel  myc  creator org  DEFAULT   This message was made intentionally vague, so that clients could detect which channels a peer has joined.  ></body> </Action>
