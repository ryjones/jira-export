<Issue id="46341" key="FABN-1673" number="1673" project="10604" reporter="JIRAUSER21110" creator="JIRAUSER21110" type="10001" summary="Failed to evaluate transaction: Error: DiscoveryService has failed to return results" priority="2" resolution="10200" status="6" created="2020-11-24 12:55:33.0" updated="2021-04-12 14:48:01.0" resolutiondate="2020-12-08 15:26:59.0" votes="0" watches="3" workflowId="60273" archived="N"> <description><! CDATA System Configuration:  Ubuntu 18.04  Minikube 1.14  Fabric v 2.0  I deployed hlf network on minikube . my network contains 2 org => acme.com and budget.com with Orderer type Solo. I have created 3 separate pods for each.  kubectl get all  NAME READY STATUS RESTARTS AGE pod/acme-orderer-0 1/1 Running 4 3d23h pod/acme-peer-0 2/2 Running 8 3d23h pod/budget-peer-0 2/2 Running 8 3d23h  NAME TYPE CLUSTER-IP EXTERNAL-IP PORT(S) AGE service/acme-orderer-clusterip ClusterIP 10.99.179.128 <none> 30750/TCP 3d23h service/acme-orderer-nodeport NodePort 10.110.240.75 <none> 30750:30750/TCP 3d23h service/acme-peer-1 LoadBalancer 10.110.21.0 10.110.21.0 5000:32693/TCP 30h service/acme-peer-clusterip ClusterIP 10.98.139.237 <none> 30751/TCP,30752/TCP 3d23h service/acme-peer-nodeport NodePort 10.107.178.142 <none> 30751:30751/TCP,30752:30752/TCP 3d23h service/acme-peer-service-1 LoadBalancer 10.108.235.61 10.108.235.61 30751:30595/TCP 31h service/acme-peer-svc LoadBalancer 10.96.69.124 10.96.69.124 3000:32017/TCP 30h service/budget-peer-clusterip ClusterIP 10.101.239.117 <none> 30851/TCP 3d23h service/budget-peer-nodeport NodePort 10.104.188.86 <none> 30851:30851/TCP,30852:30852/TCP 3d23h service/kubernetes ClusterIP 10.96.0.1 <none> 443/TCP 3d23h service/svc-acme-orderer LoadBalancer 10.105.35.6 10.105.35.6 6000:32627/TCP 25h  NAME READY AGE statefulset.apps/acme-orderer 1/1 3d23h statefulset.apps/acme-peer 1/1 3d23h statefulset.apps/budget-peer 1/1 3d23h  And I am trying to connect this network using connection profile JSON which I mentioned below. { "name": "first-network-acme", "version": "1.0.0", "client": { "organization": "AcmeMSP", "connection": { "timeout": { "peer":  { "endorser": "6000" }  } } }, "organizations": { "AcmeMSP":  { "mspid": "AcmeMSP", "peers":   "peer1.acme.com"  , "certificateAuthorities":     }  }, "peers": { "peer1.acme.com": { "url": "grpcs://10.96.69.124:3000",  "tlsCACerts":  { "pem": "-----BEGIN CERTIFICATE-----\n xxxxx key xxxxxx \n-----END CERTIFICATE-----\n" }  , "grpcOptions":  { "ssl-target-name-override": "peer1.acme.com", "hostnameOverride": "peer1.acme.com" }  } }, "channels": { "airlinechannel":  { "orderers":   "orderer.acme.com"  , "peers":   "peer1.acme.com"   }  }, "orderers": { "orderer.acme.com": { "url": "grpcs://10.105.35.6:6000", "tlsCACerts":  { "path":"/home/user/Documents/blockchain-neo/project-Hyperledger/first-network/crypto-config/ordererOrganizations/acme.com/msp/tlscacerts/tlsca.acme.com-cert.pem" }  , "grpcOptions":  { "ssl-target-name-override": "orderer.acme.com" }  }  }, "certificateAuthorities": { } }   but after running query.js i getting below error  Error: Failed to connect before the deadline on Discoverer- name: peer1.acme.com, url:grpcs://peer1.acme.com:3000, connected:false, connectAttempted:true 2020-11-24T12:23:54.568Z - error:  ServiceEndpoint : waitForReady - Failed to connect to remote gRPC server peer1.acme.com url:grpcs://peer1.acme.com:3000 timeout:3000 2020-11-24T12:23:54.569Z - error:  ServiceEndpoint : ServiceEndpoint grpcs://peer1.acme.com:3000 reset connection failed :: Error: Failed to connect before the deadline on Discoverer- name: peer1.acme.com, url:grpcs://peer1.acme.com:3000, connected:false, connectAttempted:true 2020-11-24T12:23:54.569Z - debug:  ServiceEndpoint : checkConnection Discoverer-peer1.acme.com  - end - connected:false 2020-11-24T12:23:54.569Z - debug:  DiscoveryService : send airlinechannel  - processing discovery response 2020-11-24T12:23:54.569Z - error:  DiscoveryService : send airlinechannel  - no discovery results Failed to evaluate transaction: Error: DiscoveryService has failed to return result  ></description> </Issue>
