<Issue id="33938" key="FABN-926" number="926" project="10604" reporter="mbwhite" assignee="bestbeforetoday" creator="mbwhite" type="10004" summary=" fabric-network  Error messages from chaincode not completely returned via Network.submitTx" priority="3" resolution="10000" status="6" created="2018-09-20 08:57:46.0" updated="2018-11-21 13:28:52.0" resolutiondate="2018-11-21 13:28:52.0" votes="0" watches="2" workflowId="45254"> <description><! CDATA When using the `fabric-network:unstable` invoking a transaction if an error is returned (via shim.error) then the full message is not returned.   e.g. within the chaincode logs.  {{018-09-20T08:33:06.211Z ERROR  lib/handler.js   mychannel-f0345847 Calling chaincode Invoke() returned error response  ReferenceError: makeKey is not defined . Sending ERROR message back to peer }}     This is returned to the client applications as  {{{{Response from attempted peer comms was an error: {"status":500,"payload":}}{{  {"type":"Buffer","data":  }}}{{,"isProposalResponse":true}}}}}     Tracked down to contract.js {{const warning = util.format('Response from attempted peer comms was an error: %j', responseContent);}}  {{responseContent is a Error instance, and util.format not pulling out enough from the error (specifically the message)}}  ></description> </Issue>
