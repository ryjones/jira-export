<Issue id="42220" key="FABN-1376" number="1376" project="10604" reporter="generak" creator="generak" type="10001" summary="As an organisation without peers, I want to utilise service discovery to discover information about the network" priority="3" resolution="10001" status="6" created="2019-09-07 01:04:17.0" updated="2021-01-12 14:55:18.0" resolutiondate="2021-01-12 14:55:18.0" votes="0" watches="3" workflowId="55274"> <description><! CDATA Currently, the discovery service only looks at peers within an organisation. While this works fine for organisations with any number of peers, and will allow them to discover information about the network, it does not work for organisations without any peers.  An example of such an organisation would be an organisation as part of a channel's consortium that is used to register and enroll users that are end clients - performing transactions on the network through a web front-end that uses REST calls which in turn utilise the Node SDK and invoke transactions from the requested user. This organisation allows for a logical separation between operators on the network (i.e. 'true' organisations), and clients that utilise the network but do not offer any architecture (aside from a CA used to register/enroll users).  When attempting this in the current state, discovery will fail, and thus the gateway will have no peers to connect to aside from those defined in the CCP. The reason for this is the following line -Â  https://github.com/hyperledger/fabric-sdk-node/blob/release-1.4/fabric-network/lib/network.js#L79   This behaviour can be modified in the current state by connecting through to the gateway with discover: false, and then adjusting the client discovery setting to initialise with discovery, and then reinitialising the channel.  Event handlers, event hub selection and query handlers also only connect through to peers that are part of the same organisation, though custom strategies can be used when connecting to the gateway to allow this behaviour to change.  In short, modifying discovery to utilise any peers on the network would allow for organisations without any running peers to discover information about the network,  ></description> </Issue>
