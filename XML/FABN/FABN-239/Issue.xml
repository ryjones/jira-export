<Issue id="14304" key="FABN-239" number="239" project="10604" reporter="inatatsu" creator="inatatsu" type="10004" summary="Unit tests still use **TEST_CHAINID**" priority="3" resolution="10000" status="6" created="2017-01-23 09:32:02.0" updated="2018-07-19 00:53:21.0" resolutiondate="2017-01-24 04:11:32.0" votes="0" watches="1" workflowId="33970"> <description><! CDATA While FAB-1763 had renamed the default chain ID from "***TEST_CHAINID***" to "test_chainid", unit tests in Node SDK still use the old chain ID, which causes test failure. Attached below is an output of the end-to-end test: {code:java} e2e        | ok 2 Successfully enrolled user 'admin' e2e        | debug:  Chain.js : getPeers - list size: 2. e2e        | debug:  Chain.js : Chain.sendDeployment- Successfully generated chaincode deploy archive and name (mycc) e2e        | debug:  Chain.js : buildChainHeader - type 3 chain_id **TEST_CHAINID** tx_id NaN epoch % chaincode_id null lccc e2e        |  2017-01-23 07:37:02.142   DEBUG  E2E -  crypto_ecdsa_aes : ecdsa signature:  Signature { e2e        |   r: <BN: 8630a5423becf5f9614dc47d96507d45190d938b80fa8231596e9e16486cb38>, e2e        |   s: <BN: 6d7735c59a99c4e02c0c0d77a594c462e5510f906bd32e8ff437130ccd381fb4>, e2e        |   recoveryParam: 0 } e2e        | debug:  Chain.js : _signProposal - signature::{"type":"Buffer","data": 48,68,2,32,8,99,10,84,35,190,207,95,150,20,220,71,217,101,7,212,81,144,217,56,184,15,168,35,21,150,233,225,100,134,203,56,2,32,109,119,53,197,154,153,196,224,44,12,13,119,165,148,196,98,229,81,15,144,107,211,46,143,244,55,19,12,205,56,31,180 } e2e        | debug:  Chain.js : getPeers - list size: 2. e2e        | debug:  Peer.js : Peer.sendProposal - Start e2e        | debug:  Peer.js : Peer.sendProposal - Start e2e        | error:  Peer.js : GRPC client got an error response from the peer. Error: Failed to deserialize creator identity, err MSP DEFAULT is unknown e2e        |     at /fabric-sdk-node/node_modules/grpc/src/node/src/client.js:417:17 e2e        | error:  Chain.js : Chain-sendPeersProposal - Promise is rejected: Error: Error: Failed to deserialize creator identity, err MSP DEFAULT is unknown e2e        |     at Object.callback (/fabric-sdk-node/node_modules/hfc/lib/Peer.js:191:13) e2e        |     at /fabric-sdk-node/node_modules/grpc/src/node/src/client.js:420:14 e2e        | error:  Peer.js : GRPC client got an error response from the peer. Error: Failed to deserialize creator identity, err MSP DEFAULT is unknown e2e        |     at /fabric-sdk-node/node_modules/grpc/src/node/src/client.js:417:17 e2e        | error:  Chain.js : Chain-sendPeersProposal - Promise is rejected: Error: Error: Failed to deserialize creator identity, err MSP DEFAULT is unknown e2e        |     at Object.callback (/fabric-sdk-node/node_modules/hfc/lib/Peer.js:191:13) e2e        |     at /fabric-sdk-node/node_modules/grpc/src/node/src/client.js:420:14 e2e        | debug:  Chain.js : Chain-sendPeersProposal - Promise is rejected: Error: Error: Failed to deserialize creator identity, err MSP DEFAULT is unknown e2e        | debug:  Chain.js : Chain-sendPeersProposal - Promise is rejected: Error: Error: Failed to deserialize creator identity, err MSP DEFAULT is unknown e2e        |  2017-01-23 07:37:02.148   ERROR  E2E - deploy proposal was bad e2e        |  2017-01-23 07:37:02.148   ERROR  E2E - deploy proposal was bad e2e        | not ok 3 Failed to send Proposal or receive valid response. Response null or status is not 200. exiting... e2e        |   --- e2e        |     operator: fail e2e        |     at: process._tickCallback (internal/process/next_tick.js:103:7) e2e        |   ... {code}   ></description> </Issue>
