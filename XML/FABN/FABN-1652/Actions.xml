<Action id="70509" issue="46203" author="bestbeforetoday" type="comment" created="2020-10-13 17:12:20.0" updateauthor="bestbeforetoday" updated="2020-10-13 17:12:20.0"> <body><! CDATA Could you check the versions of grpc being resolved with: {noformat} npm ls grpc{noformat} It might also be useful to know the platform on which the Node.js client application is running.  ></body> </Action>
<Action id="70510" issue="46203" author="bestbeforetoday" type="comment" body="And do you have some minimal client code or client interaction steps that reproduce this error? For example, do you see the problem just creating a Gateway, Network and Contract, then submitting a transaction twice sequentially, or is there a more complex interaction required to trigger the issue?" created="2020-10-13 17:16:14.0" updateauthor="bestbeforetoday" updated="2020-10-13 17:16:14.0"/>
<Action id="70511" issue="46203" author="balaji.viswanathan" type="comment" created="2020-10-13 18:08:16.0" updateauthor="balaji.viswanathan" updated="2020-10-13 18:08:16.0"> <body><! CDATA grpc version is 1.24.2  The node.js client is running in a container (built off redhat base image). architecture would be amd64/linux. We tried running this both in ibm cloud k8s and a local docker connecting to the HLF network.  ></body> </Action>
<Action id="70512" issue="46203" author="balaji.viswanathan" type="comment" created="2020-10-13 18:11:33.0" updateauthor="balaji.viswanathan" updated="2020-10-13 18:11:33.0"> <body><! CDATA We create the Gateway, Network & Contract once and cache them in-memory. We have no issues constructing them the first time or using it to submit a txn. The client itself is invoked as part of a REST request, a single REST request is 1 blockchain txn. The subsequent REST request, picks the objects of cache and attempts to submit the txn (and fails).  The duration between the requests do not seem to matter.  I will try and add a sample client code soon.  ></body> </Action>
<Action id="70518" issue="46203" author="bestbeforetoday" type="comment" created="2020-10-14 14:54:40.0" updateauthor="bestbeforetoday" updated="2020-10-14 14:54:40.0"> <body><! CDATA I've tried modifying one of the integration tests using service discovery to submit 10+ transactions sequentially, and run this locally (MacOS) using fabric-network@1.4.13 (with grpc@1.24.2) and Node v12.19.0. I don't see any error. This is going to be difficult to progress without being able to reproduce. If you have a simple sample that can used to reproduce the issue, or you manage to pin down some environment differences that trigger the issue, please update this issue.  If practical, it might also be worth migrating the v2.2, where the SDK uses a different (pure JavaScript) gRPC implementation.  ></body> </Action>
<Action id="70548" issue="46203" author="bestbeforetoday" type="comment" body="Please reopen if you can provide more information or a minimal sample that will allow the problem to be reproduced." created="2020-10-22 08:30:31.0" updateauthor="bestbeforetoday" updated="2020-10-22 08:30:31.0"/>
