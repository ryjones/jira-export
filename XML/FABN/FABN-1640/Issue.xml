<Issue id="46131" key="FABN-1640" number="1640" project="10604" reporter="nkl199" assignee="bestbeforetoday" creator="nkl199" type="10004" summary="failure within newEndorsementError" priority="3" resolution="10000" status="6" created="2020-09-18 15:07:35.0" updated="2020-09-22 16:09:26.0" resolutiondate="2020-09-22 16:09:26.0" votes="0" watches="1" workflowId="60032" archived="N"> <description><! CDATA During a performance test, the following error was observed:  ``` 2020.09.18-09:15:15.231 error  caliper   adapters/fabric  	Failed to perform submit transaction  emptyContract  using arguments   ,  with error: TypeError: Cannot read property 'name' of undefined at newEndorsementError (/home/nkl199/HSM/node_modules/fabric-network/lib/transaction.js:33:39) at getResponsePayload (/home/nkl199/HSM/node_modules/fabric-network/lib/transaction.js:21:23) at Transaction.submit (/home/nkl199/HSM/node_modules/fabric-network/lib/transaction.js:207:28) at process._tickCallback (internal/process/next_tick.js:68:7) 2020-09-18T09:15:20.232Z - error:  Endorser : sendProposal nf373e5-peerorg1.ibpv2-test-cluster2-68e10f583f026529fe7a89da40169ef4-0000.us-south.containers.appdomain.cloud:7051  - nf373e5-peerorg1.ibpv2-test-cluster2-68e10f583f026529fe7a89da40169ef4-0000.us-south.containers.appdomain.cloud:7051 timed out after:30000 2020-09-18T09:15:20.233Z - error:  DiscoveryHandler : _build_endorse_group_member >> G1:0 - error on endorsement to nf373e5-peerorg1.ibpv2-test-cluster2-68e10f583f026529fe7a89da40169ef4-0000.us-south.containers.appdomain.cloud:7051 error Error: REQUEST TIMEOUT 2020.09.18-09:15:20.233 error  caliper   adapters/fabric  	Failed to perform submit transaction  emptyContract  using arguments   ,  with error: TypeError: Cannot read property 'name' of undefined at newEndorsementError (/home/nkl199/HSM/node_modules/fabric-network/lib/transaction.js:33:39) at getResponsePayload (/home/nkl199/HSM/node_modules/fabric-network/lib/transaction.js:21:23) at Transaction.submit (/home/nkl199/HSM/node_modules/fabric-network/lib/transaction.js:207:28) at process._tickCallback (internal/process/next_tick.js:68:7)  Emanating from:  ``` function newEndorsementError(proposalResponse) { const errorInfos =   ; for (const error of proposalResponse.errors) { error.peer = error.connection.name; error.status = 'grpc'; errorInfos.push(error); }    My suspicion is that under load the connection can die, at which point there’s an error path that leads to {{error.connection}} not being defined.   ></description> </Issue>
