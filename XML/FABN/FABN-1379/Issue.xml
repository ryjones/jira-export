<Issue id="42335" key="FABN-1379" number="1379" project="10604" reporter="vijaypunugubati" creator="vijaypunugubati" type="10004" summary="fabric-sdk-node-merge job: Failed run-tape-e2e test with timeout expired" priority="3" resolution="10000" status="6" created="2019-09-12 15:27:27.0" updated="2019-10-02 09:21:58.0" resolutiondate="2019-10-02 09:21:58.0" votes="0" watches="3" workflowId="55390"> <description><! CDATA fabric-sdk-node-merge job: Failed run-tape-e2e test with timeout expired.  *Branch:*Â Master  *Platform:* x86_64  *Error Snippet:* {code:java} /not ok 260 checking query results are correct that value is 410 00m 00m 2m 38;5;66m  2019-09-12T13:53:21.987Z    --- 00m  2019-09-12T13:53:21.987Z      operator: equal  2019-09-12T13:53:21.987Z      expected: '410'  2019-09-12T13:53:21.987Z      actual:   '400'  2019-09-12T13:53:21.987Z      at: e2eUtils.tlsEnroll.then.then.then.then (/w/workspace/fabric-sdk-node-merge-x86_64/gopath/src/github.com/hyperledger/fabric-sdk-node/test/integration/e2e/e2eUtils.js:831:10)  2019-09-12T13:53:21.987Z      stack: |-  2019-09-12T13:53:21.987Z        Error: checking query results are correct that value is 410  2019-09-12T13:53:21.987Z            at Test.assert  as _assert  (/w/workspace/fabric-sdk-node-merge-x86_64/gopath/src/github.com/hyperledger/fabric-sdk-node/node_modules/tape/lib/test.js:225:54)  2019-09-12T13:53:21.987Z            at Test.bound  as _assert  (/w/workspace/fabric-sdk-node-merge-x86_64/gopath/src/github.com/hyperledger/fabric-sdk-node/node_modules/tape/lib/test.js:77:32)  2019-09-12T13:53:21.987Z            at Test.equal (/w/workspace/fabric-sdk-node-merge-x86_64/gopath/src/github.com/hyperledger/fabric-sdk-node/node_modules/tape/lib/test.js:385:10)  2019-09-12T13:53:21.987Z            at Test.bound  as equal  (/w/workspace/fabric-sdk-node-merge-x86_64/gopath/src/github.com/hyperledger/fabric-sdk-node/node_modules/tape/lib/test.js:77:32)  2019-09-12T13:53:21.987Z            at e2eUtils.tlsEnroll.then.then.then.then (/w/workspace/fabric-sdk-node-merge-x86_64/gopath/src/github.com/hyperledger/fabric-sdk-node/test/integration/e2e/e2eUtils.js:831:10)  2019-09-12T13:53:21.987Z            at <anonymous>  2019-09-12T13:53:21.987Z            at process._tickCallback (internal/process/next_tick.js:189:7) 00m 2m 38;5;66m  2019-09-12T13:53:21.987Z    ... 00m 00m 1m 38;5;196m  2019-09-12T13:53:21.987Z  not ok 261 checking query results are correct that value is 410 00m 00m 2m 38;5;66m  2019-09-12T13:53:21.987Z    --- 00m  2019-09-12T13:53:21.987Z      operator: equal  2019-09-12T13:53:21.987Z      expected: '410'  2019-09-12T13:53:21.988Z      actual:   '400'  2019-09-12T13:53:21.988Z      at: e2eUtils.tlsEnroll.then.then.then.then (/w/workspace/fabric-sdk-node-merge-x86_64/gopath/src/github.com/hyperledger/fabric-sdk-node/test/integration/e2e/e2eUtils.js:831:10)  2019-09-12T13:53:21.988Z      stack: |-  2019-09-12T13:53:21.988Z        Error: checking query results are correct that value is 410  2019-09-12T13:53:21.988Z            at Test.assert  as _assert  (/w/workspace/fabric-sdk-node-merge-x86_64/gopath/src/github.com/hyperledger/fabric-sdk-node/node_modules/tape/lib/test.js:225:54)  2019-09-12T13:53:21.988Z            at Test.bound  as _assert  (/w/workspace/fabric-sdk-node-merge-x86_64/gopath/src/github.com/hyperledger/fabric-sdk-node/node_modules/tape/lib/test.js:77:32)  2019-09-12T13:53:21.988Z            at Test.equal (/w/workspace/fabric-sdk-node-merge-x86_64/gopath/src/github.com/hyperledger/fabric-sdk-node/node_modules/tape/lib/test.js:385:10)  2019-09-12T13:53:21.988Z            at Test.bound  as equal  (/w/workspace/fabric-sdk-node-merge-x86_64/gopath/src/github.com/hyperledger/fabric-sdk-node/node_modules/tape/lib/test.js:77:32)  2019-09-12T13:53:21.988Z            at e2eUtils.tlsEnroll.then.then.then.then (/w/workspace/fabric-sdk-node-merge-x86_64/gopath/src/github.com/hyperledger/fabric-sdk-node/test/integration/e2e/e2eUtils.js:831:10)  2019-09-12T13:53:21.988Z            at <anonymous>  2019-09-12T13:53:21.988Z            at process._tickCallback (internal/process/next_tick.js:189:7) 00m 2m 38;5;66m  2019-09-12T13:53:21.988Z    ... 00m 00m 1m 38;5;2m  2019-09-12T13:53:21.988Z  ok 262 Successfully query chaincode on the channel 00m 00m 2m 38;5;66m  2019-09-12T13:53:21.988Z  #  ***** Node-Chaincode TransientMap Support in Proposals *****  00m 00m 1m 38;5;2m  2019-09-12T13:53:21.988Z  ok 263 Successfully retrieved TLS certificate 00m 00m 1m 38;5;2m  2019-09-12T13:53:21.988Z  ok 264 Successfully enrolled user 'admin' 00m 00m 1m 38;5;2m  2019-09-12T13:53:21.988Z  ok 265 Successfully enrolled user 'admin' (e2eUtil 4) 00m 00m 1m 38;5;196m  2019-09-12T13:53:21.988Z  not ok 266 Checking the result has the transientMap value returned by the chaincode 00m 00m 2m 38;5;66m  2019-09-12T13:53:21.988Z    --- 00m  2019-09-12T13:53:21.988Z      operator: equal  2019-09-12T13:53:21.988Z      expected: |-  2019-09-12T13:53:21.988Z        'dummyValue'  2019-09-12T13:53:21.988Z      actual: |-  2019-09-12T13:53:21.988Z        'Error: error in simulation: transaction returned with failure: Unknown action, check the first argument, must be one of \'delete\', \'query\', or \'move\'. But got: testTransient'  2019-09-12T13:53:21.988Z      at: e2eUtils.tlsEnroll.then.then.then.then (/w/workspace/fabric-sdk-node-merge-x86_64/gopath/src/github.com/hyperledger/fabric-sdk-node/test/integration/e2e/e2eUtils.js:821:9)  2019-09-12T13:53:21.988Z      stack: |-  2019-09-12T13:53:21.988Z        Error: Checking the result has the transientMap value returned by the chaincode  2019-09-12T13:53:21.988Z            at Test.assert  as _assert  (/w/workspace/fabric-sdk-node-merge-x86_64/gopath/src/github.com/hyperledger/fabric-sdk-node/node_modules/tape/lib/test.js:225:54)  2019-09-12T13:53:21.988Z            at Test.bound  as _assert  (/w/workspace/fabric-sdk-node-merge-x86_64/gopath/src/github.com/hyperledger/fabric-sdk-node/node_modules/tape/lib/test.js:77:32)  2019-09-12T13:53:21.988Z            at Test.equal (/w/workspace/fabric-sdk-node-merge-x86_64/gopath/src/github.com/hyperledger/fabric-sdk-node/node_modules/tape/lib/test.js:385:10)  2019-09-12T13:53:21.988Z            at Test.bound  as equal  (/w/workspace/fabric-sdk-node-merge-x86_64/gopath/src/github.com/hyperledger/fabric-sdk-node/node_modules/tape/lib/test.js:77:32)  2019-09-12T13:53:21.988Z            at e2eUtils.tlsEnroll.then.then.then.then (/w/workspace/fabric-sdk-node-merge-x86_64/gopath/src/github.com/hyperledger/fabric-sdk-node/test/integration/e2e/e2eUtils.js:821:9)  2019-09-12T13:53:21.988Z            at <anonymous>  2019-09-12T13:53:21.988Z            at process._tickCallback (internal/process/next_tick.js:189:7) 00m 2m 38;5;66m  2019-09-12T13:53:21.988Z    ... 00m 00m 1m 38;5;196m  2019-09-12T13:53:21.988Z  not ok 267 Checking the result has the transientMap value returned by the chaincode 00m 00m 2m 38;5;66m  2019-09-12T13:53:21.988Z    --- 00m  2019-09-12T13:53:21.988Z      operator: equal  2019-09-12T13:53:21.988Z      expected: |-  2019-09-12T13:53:21.988Z        'dummyValue'  2019-09-12T13:53:21.988Z      actual: |-  2019-09-12T13:53:21.988Z        'Error: error in simulation: transaction returned with failure: Unknown action, check the first argument, must be one of \'delete\', \'query\', or \'move\'. But got: testTransient'  2019-09-12T13:53:21.988Z      at: e2eUtils.tlsEnroll.then.then.then.then (/w/workspace/fabric-sdk-node-merge-x86_64/gopath/src/github.com/hyperledger/fabric-sdk-node/test/integration/e2e/e2eUtils.js:821:9)  2019-09-12T13:53:21.988Z      stack: |-  2019-09-12T13:53:21.988Z        Error: Checking the result has the transientMap value returned by the chaincode  2019-09-12T13:53:21.988Z            at Test.assert  as _assert  (/w/workspace/fabric-sdk-node-merge-x86_64/gopath/src/github.com/hyperledger/fabric-sdk-node/node_modules/tape/lib/test.js:225:54)  2019-09-12T13:53:21.988Z            at Test.bound  as _assert  (/w/workspace/fabric-sdk-node-merge-x86_64/gopath/src/github.com/hyperledger/fabric-sdk-node/node_modules/tape/lib/test.js:77:32)  2019-09-12T13:53:21.988Z            at Test.equal (/w/workspace/fabric-sdk-node-merge-x86_64/gopath/src/github.com/hyperledger/fabric-sdk-node/node_modules/tape/lib/test.js:385:10)  2019-09-12T13:53:21.988Z            at Test.bound  as equal  (/w/workspace/fabric-sdk-node-merge-x86_64/gopath/src/github.com/hyperledger/fabric-sdk-node/node_modules/tape/lib/test.js:77:32)  2019-09-12T13:53:21.988Z            at e2eUtils.tlsEnroll.then.then.then.then (/w/workspace/fabric-sdk-node-merge-x86_64/gopath/src/github.com/hyperledger/fabric-sdk-node/test/integration/e2e/e2eUtils.js:821:9)  2019-09-12T13:53:21.988Z            at <anonymous>  2019-09-12T13:53:21.988Z            at process._tickCallback (internal/process/next_tick.js:189:7) 00m 2m 38;5;66m  2019-09-12T13:53:21.988Z    ... 00m 00m 1m 38;5;2m  2019-09-12T13:53:21.988Z  ok 268 Successfully verified transient map values 00m 00m 2m 38;5;66m/ code placeholder {code} {code:java} / 2019-09-12T14:06:59.612Z  # Proposal failed to e2enodecc :: Error: error in simulation: failed to execute transaction b4e0c4c08e28ddbf651dfb8552332c5f3d2ad2430a4b382617446f7e13e77d13: error sending: timeout expired while executing transaction 00m 00m 2m 38;5;66m  2019-09-12T14:06:59.612Z  # Proposal failed to e2enodecc :: Error: error in simulation: could not launch chaincode e2enodecc:v1568297135773: error starting container: error building image: failed external (no builders defined) and docker build: docker image build failed: docker build failed: Error returned from build: 1 "npm ERR! Unexpected end of JSON input while parsing near '..."protobufjs":"5.0.3",' 00m 00m 2m 38;5;66m  2019-09-12T14:06:59.612Z  #  00m 00m 2m 38;5;66m  2019-09-12T14:06:59.612Z  # npm ERR! A complete log of this run can be found in: 00m 00m 2m 38;5;66m  2019-09-12T14:06:59.612Z  # npm ERR!     /root/.npm/_logs/2019-09-12T14_06_03_805Z-debug.log 00m 00m 2m 38;5;66m  2019-09-12T14:06:59.612Z  # " 00m 00m 1m 38;5;196m  2019-09-12T14:06:59.612Z  not ok 1399 Error: All proposals were not good at e2eUtils.tlsEnroll.then.then.then.then.then (/w/workspace/fabric-sdk-node-merge-x86_64/gopath/src/github.com/hyperledger/fabric-sdk-node/test/integration/e2e/e2eUtils.js:363:11) at <anonymous> at process._tickCallback (internal/process/next_tick.js:189:7) 00m 00m 2m 38;5;66m  2019-09-12T14:06:59.612Z    --- 00m  2019-09-12T14:06:59.612Z      operator: fail  2019-09-12T14:06:59.612Z      at: e2eUtils.tlsEnroll.then.then.then.then.then.then.catch (/w/workspace/fabric-sdk-node-merge-x86_64/gopath/src/github.com/hyperledger/fabric-sdk-node/test/integration/e2e/e2eUtils.js:411:6)  2019-09-12T14:06:59.612Z      stack: |-  2019-09-12T14:06:59.612Z        Error: Error: All proposals were not good  2019-09-12T14:06:59.612Z            at e2eUtils.tlsEnroll.then.then.then.then.then (/w/workspace/fabric-sdk-node-merge-x86_64/gopath/src/github.com/hyperledger/fabric-sdk-node/test/integration/e2e/e2eUtils.js:363:11)  2019-09-12T14:06:59.612Z            at <anonymous>  2019-09-12T14:06:59.612Z            at process._tickCallback (internal/process/next_tick.js:189:7)  2019-09-12T14:06:59.612Z            at Test.assert  as _assert  (/w/workspace/fabric-sdk-node-merge-x86_64/gopath/src/github.com/hyperledger/fabric-sdk-node/node_modules/tape/lib/test.js:225:54)  2019-09-12T14:06:59.612Z            at Test.bound  as _assert  (/w/workspace/fabric-sdk-node-merge-x86_64/gopath/src/github.com/hyperledger/fabric-sdk-node/node_modules/tape/lib/test.js:77:32)  2019-09-12T14:06:59.612Z            at Test.fail (/w/workspace/fabric-sdk-node-merge-x86_64/gopath/src/github.com/hyperledger/fabric-sdk-node/node_modules/tape/lib/test.js:318:10)  2019-09-12T14:06:59.612Z            at Test.bound  as fail  (/w/workspace/fabric-sdk-node-merge-x86_64/gopath/src/github.com/hyperledger/fabric-sdk-node/node_modules/tape/lib/test.js:77:32)  2019-09-12T14:06:59.612Z            at e2eUtils.tlsEnroll.then.then.then.then.then.then.catch (/w/workspace/fabric-sdk-node-merge-x86_64/gopath/src/github.com/hyperledger/fabric-sdk-node/test/integration/e2e/e2eUtils.js:411:6)  2019-09-12T14:06:59.612Z            at <anonymous>  2019-09-12T14:06:59.612Z            at process._tickCallback (internal/process/next_tick.js:189:7) 00m 2m 38;5;66m  2019-09-12T14:06:59.612Z    ... 00m 00m 1m 38;5;2m/ code placeholder {code} Build logs:   https://jenkins.hyperledger.org/view/fabric-sdk-node/job/fabric-sdk-node-merge-x86_64/492/consoleText    https://jenkins.hyperledger.org/view/fabric-sdk-node/job/fabric-sdk-node-merge-x86_64/lastFailedBuild/   ></description> </Issue>
