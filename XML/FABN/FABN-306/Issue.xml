<Issue id="22466" key="FABN-306" number="306" project="10604" reporter="davidkel" assignee="harrisob@us.ibm.com" creator="davidkel" type="10004" summary="Determining where to install chaincode to from a Common Connection Profile" priority="2" resolution="10000" status="6" created="2017-10-17 15:43:50.0" updated="2018-07-19 00:53:34.0" resolutiondate="2017-10-24 11:30:01.0" votes="0" watches="2" workflowId="34037"> <description><! CDATA A request to install chaincode looks like this {code} const request = { chaincodePath: chaincodePath, chaincodeVersion: runtimePackageJSON.version, chaincodeId: businessNetworkIdentifier, txId: txId, targets: array of peers }; {code} I was expecting not to have to supply targets property and that the node sdk would do it for me. However that didn't work so I tried to implement my own version as follows {code} static getInstallPeers(client) { let installPeers =   ; let orgConfig = HLFConnection.getOrgConfig(client); if (orgConfig) { let peers = orgConfig.getPeers(); peers.forEach((peer) => { //TODO: Need to be able to determine if it is a 'endorsingPeer' or a 'chaincodeQuery' peer // but can't at the moment, so will just all them all. installPeers.push(peer); }); } return installPeers; } {code} The plan being was to look for peers within my client defined organisation that had the flags 'endorsingPeer' and 'chaincodeQuery' set to true or peers that didn't declare those optional entries (ie explicitly exclude ones set to false). These are defined in the CCP and are in my yaml definition but it looks like it isn't processed by the CCP processor of the node sdk.  As a start it would be good to have those entries processed but ideally the node sdk should make perform the decision processing of which peers to install to based on information in the CCP. (Snippet of CCP I had defined) {code} channels: composerchannel: orderers: - orderer.example.com peers: peer0.org1.example.com: endorsingPeer: true chaincodeQuery: true ledgerQuery: true eventSource: true  organizations: {code}  ></description> </Issue>
