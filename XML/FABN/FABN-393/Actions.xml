<Action id="23246" issue="16150" author="marlenac" type="comment" created="2017-05-01 21:30:42.0" updateauthor="marlenac" updated="2017-05-01 21:30:42.0"> <body><! CDATA /home/pipeline/61102847-3b49-4ca3-81a7-616f808be75d/node_modules/fabric-client/lib/Client.js:45 var Client = class { ^^^^^ SyntaxError: Unexpected reserved word at Module._compile (module.js:439:25) at Module._extensions..js (module.js:474:10) at Object.require.extensions.(anonymous function)  as .js  (/home/pipeline/61102847-3b49-4ca3-81a7-616f808be75d/node_modules/babel-register/lib/node.js:152:7) at Module.load (module.js:356:32) at Function.Module._load (module.js:312:12) at Module.require (module.js:364:17) at require (module.js:380:17) at Object.<anonymous> (/home/pipeline/61102847-3b49-4ca3-81a7-616f808be75d/node_modules/fabric-client/index.js:24:18) at Module._compile (module.js:456:26) at Module._extensions..js (module.js:474:10) at Object.require.extensions.(anonymous function)  as .js  (/home/pipeline/61102847-3b49-4ca3-81a7-616f808be75d/node_modules/babel-register/lib/node.js:152:7) at Module.load (module.js:356:32) at Function.Module._load (module.js:312:12) at Module.require (module.js:364:17) at require (module.js:380:17) at Object.<anonymous> (/home/pipeline/61102847-3b49-4ca3-81a7-616f808be75d/api/helpers/chaincodeHelper.js:25:11) at Module._compile (module.js:456:26) at loader (/home/pipeline/61102847-3b49-4ca3-81a7-616f808be75d/node_modules/babel-register/lib/node.js:144:5) at Object.require.extensions.(anonymous function)  as .js  (/home/pipeline/61102847-3b49-4ca3-81a7-616f808be75d/node_modules/babel-register/lib/node.js:154:7) at Module.load (module.js:356:32) at Function.Module._load (module.js:312:12) at Module.require (module.js:364:17) at require (module.js:380:17) at Object.<anonymous> (/home/pipeline/61102847-3b49-4ca3-81a7-616f808be75d/api/routes/api_routes.js:4:23) at Module._compile (module.js:456:26) at loader (/home/pipeline/61102847-3b49-4ca3-81a7-616f808be75d/node_modules/babel-register/lib/node.js:144:5) at Object.require.extensions.(anonymous function)  as .js  (/home/pipeline/61102847-3b49-4ca3-81a7-616f808be75d/node_modules/babel-register/lib/node.js:154:7) at Module.load (module.js:356:32) at Function.Module._load (module.js:312:12) at Module.require (module.js:364:17) at require (module.js:380:17) at Object.<anonymous> (/home/pipeline/61102847-3b49-4ca3-81a7-616f808be75d/index.js:10:17) at Module._compile (module.js:456:26) at loader (/home/pipeline/61102847-3b49-4ca3-81a7-616f808be75d/node_modules/babel-register/lib/node.js:144:5) at Object.require.extensions.(anonymous function)  as .js  (/home/pipeline/61102847-3b49-4ca3-81a7-616f808be75d/node_modules/babel-register/lib/node.js:154:7) at Module.load (module.js:356:32) at Function.Module._load (module.js:312:12) at Module.require (module.js:364:17) at require (module.js:380:17) at Object.<anonymous> (/home/pipeline/61102847-3b49-4ca3-81a7-616f808be75d/test/api/api_routes_spec.js:4:11) at Module._compile (module.js:456:26) at loader (/home/pipeline/61102847-3b49-4ca3-81a7-616f808be75d/node_modules/babel-register/lib/node.js:144:5) at Object.require.extensions.(anonymous function)  as .js  (/home/pipeline/61102847-3b49-4ca3-81a7-616f808be75d/node_modules/babel-register/lib/node.js:154:7) at Module.load (module.js:356:32) at Function.Module._load (module.js:312:12) at Module.require (module.js:364:17) at require (module.js:380:17) at /home/pipeline/61102847-3b49-4ca3-81a7-616f808be75d/node_modules/mocha/lib/mocha.js:230:27 at Array.forEach (native) at Mocha.loadFiles (/home/pipeline/61102847-3b49-4ca3-81a7-616f808be75d/node_modules/mocha/lib/mocha.js:227:14) at Mocha.run (/home/pipeline/61102847-3b49-4ca3-81a7-616f808be75d/node_modules/mocha/lib/mocha.js:495:10) at Object.<anonymous> (/home/pipeline/61102847-3b49-4ca3-81a7-616f808be75d/node_modules/mocha/bin/_mocha:460:18) at Module._compile (module.js:456:26) at Object.Module._extensions..js (module.js:474:10) at Module.load (module.js:356:32) at Function.Module._load (module.js:312:12) at Function.Module.runMain (module.js:497:10) at startup (node.js:119:16) at node.js:935:3 npm ERR! Test failed.  See above for more details.  Finished: FAILED  ></body> </Action>
<Action id="24712" issue="16150" author="jimthematrix" type="comment" created="2017-05-31 02:06:42.0" updateauthor="jimthematrix" updated="2017-05-31 02:06:42.0"> <body><! CDATA thanks for writing this up  ~marlenac , i think what you are doing in mocha command is the best course of action: it keeps the fix scoped to using mocha, which is the source of the issue in the first place (other test frameworks like tape works fine with modules written in ES6 code)  I do not think doing the transpiling during npm publish is warranted because the SDK code is not intended to run in browsers and node.js has started supporting these ES6 features since 4.7.  ></body> </Action>
