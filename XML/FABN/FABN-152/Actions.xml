<Action id="23317" issue="15369" author="rameshthoomu" type="comment" created="2017-05-03 03:15:07.0" updateauthor="rameshthoomu" updated="2017-05-03 03:15:07.0"> <body><! CDATA  ~jjjjibm  I have followed below steps on patch on your patch shared to me  {code:java} apt-get -qq install -y softhsm2 mkdir -p /var/lib/softhsm/tokens/ softhsm2-util --init-token --slot 0 --label "ForFabric" --so-pin 1234 --pin 98765432 chown -R jenkins:jenkins /var/lib/softhsm /etc/softhsm {code}  cd to /w/workspace/gopath/src/github.com/hyperledger/fabric-sdk-node` then run `node test/unit/pkcs11.js  below are the observations  {noformat}  1) Tests are worked as expected on `ppc64le` platform 2) FAILED in `x86_64` and `s390x` {noformat}    ~vpaprots  suggested below changes are required in code to fix these issues  The tests specify an incorrect location for the pkcs11 dll    {code:java}  	pin = "98765432" 		label = "ForFabric" 		possibilities :=   string{ 			"/usr/lib/softhsm/libsofthsm2.so",                            //Debian 			"/usr/lib/x86_64-linux-gnu/softhsm/libsofthsm2.so",           //Ubuntu 			"/usr/lib/s390x-linux-gnu/softhsm/libsofthsm2.so",            //Ubuntu 			"/usr/lib/powerpc64le-linux-gnu/softhsm/libsofthsm2.so",      //Power 			"/usr/local/Cellar/softhsm/2.1.0/lib/softhsm/libsofthsm2.so", //MacOS 		} {code}    ></body> </Action>
<Action id="23719" issue="15369" author="rameshthoomu" type="comment" created="2017-05-11 02:40:04.0" updateauthor="rameshthoomu" updated="2017-05-11 02:40:04.0"> <body><! CDATA Integrated required softhsm2 changes in sandbox packer image and tested  ~jjjjibm  patch on PKCS tests.. CI changes are working as expected and PKCS tests are working as expected but one of the test is failed.  Â   ok 11 Successfully signed message not ok 12 Failed. Error: CKR_SIGNATURE_LEN_RANGE:193 at Error (native) C_Verify:814 --- operator: fail at: process._tickCallback (internal/process/next_tick.js:103:7) ... #  ></body> </Action>
