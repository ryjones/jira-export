<Action id="70863" issue="46136" author="lesleyannj" type="comment" created="2020-12-01 15:22:09.0" updateauthor="lesleyannj" updated="2020-12-01 15:22:09.0"> <body><! CDATA  ~yasser_mas   Please confirm if any error is returned from get network to the application?  or is it just error is just logged and continues?  Also there has been several changes in this area.  Please provide behaviour seen with latest version.  Slightly different behaviour between node and java is not necessarily an issue as long as outcome is sensible.  ></body> </Action>
<Action id="70902" issue="46136" author="harrisob@us.ibm.com" type="comment" body="With v2, when using discovery the gateway.getNetwork() will fail if the discovery peer is not responding. The application will be able to catch the discovery error and will be able to retry if required." created="2020-12-03 21:35:59.0" updateauthor="harrisob@us.ibm.com" updated="2020-12-03 21:35:59.0"/>
<Action id="71100" issue="46136" author="icarrascol" type="comment" body="sorry to revive this but how is the discovery peer specified?, i am having these errors with latest released version of the sdk and fabric, but instead of stopping all the peers i stop the first peer of the first org and the sdk throws this same errors." created="2021-01-08 16:57:08.0" updateauthor="icarrascol" updated="2021-01-08 16:57:08.0"/>
<Action id="71193" issue="46136" author="harrisob@us.ibm.com" type="comment" created="2021-01-11 19:53:12.0" updateauthor="harrisob@us.ibm.com" updated="2021-01-11 19:53:12.0"> <body><! CDATA When the network instance is first initialized a list of peers will be defined from the connection profile. First choice for the list are the peers in the organization of the user that was used when the gateway is connected, second choice is all peers.  NodeSDK will try the next peer on the list if it gets an error during discovery, going through the list one time.  You will find that NodeSDK does not perform error recovery and retry on other operations. It reports the issue to the application and the application should decide what it wants to do next.     ></body> </Action>
<Action id="71195" issue="46136" author="icarrascol" type="comment" created="2021-01-11 20:34:31.0" updateauthor="icarrascol" updated="2021-01-11 21:34:36.0"> <body><! CDATA on my case i have 4 orgs with one peer each, i stopped the peer of the org1 and used an user of org1 to operate with the sdk. the sdk tried to connect to the stopped peer as you said it picks one of the user organization and threw an error. `Error: DiscoveryService has failed to return results'.  it didnt try to use any other peer available on the list (other organization peers) to use for discovery. is this the correct behavior? and if it is is there a way to set the discovery to target the other peers, as gateway api doesnt have anything to set up a discovery target.  ></body> </Action>
<Action id="71501" issue="46136" author="yasser_mas" type="comment" created="2021-03-08 11:43:24.0" updateauthor="yasser_mas" updated="2021-03-08 11:43:24.0"> <body><! CDATA I have used the latest SDK 2.2.5 and the issue still exists  * Client SDK will not try to reconnect to the peers  * Client SDK will not listen for any events   This issue happens if you have started client after blockchain network , or if you restarted blockchain network and the client was running   however Java SDK will retry to reconnect and listen to events till the blockchain network started    exception if the blockchain network ( peers )  was  closed and the client started first   !image-2021-03-08-13-41-40-226.png!  the exception if hyperledger fabric network stopped during the client working   !image-2021-03-08-13-43-07-079.png!  ></body> </Action>
<Action id="71502" issue="46136" author="yasser_mas" type="comment" created="2021-03-08 11:56:22.0" updateauthor="yasser_mas" updated="2021-03-08 11:56:22.0"> <body><! CDATA Please check JAVA SDK behavior   Java will throw this exception during startup   !image-2021-03-08-13-51-51-124.png!   then it will retry to reconnect and log the below lines utill the peer started  !image-2021-03-08-13-49-51-043.png!  Once blockchain newtork started ( peer ) , java sdk will reconnect and start listening for the blocks and log the below lines   !image-2021-03-08-13-54-51-826.png!    so JAVA SDK will handle the reconnection and event registration not like NodeJs SDK you have to do it by yourself    ></body> </Action>
<Action id="71506" issue="46136" author="lesleyannj" type="comment" body="Some differences do exist between SDK behaviours in some operations.  The upcoming Fabric Gateway work is aiming to address / reduce these occurances" created="2021-03-09 14:02:39.0" updateauthor="lesleyannj" updated="2021-03-09 14:02:39.0"/>
