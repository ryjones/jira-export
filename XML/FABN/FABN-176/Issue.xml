<Issue id="13939" key="FABN-176" number="176" project="10604" reporter="adnanchoudhury" assignee="smithbk" creator="adnanchoudhury" type="10004" summary="End-to-end test fails partially" priority="3" resolution="10000" status="6" created="2017-01-05 22:02:27.0" updated="2018-07-19 00:53:07.0" resolutiondate="2017-02-08 13:15:00.0" votes="0" watches="7" workflowId="33907"> <description><! CDATA Following Jim's Sprint7 node js SDK video (https://www.youtube.com/watch?v=t7PcpkIoGAc), the attached script goes through the setup etc. and runs the end-to-end test step 1.  It runs 3 tests, and 2 of them fail.  Here is the output:   {code:java} info:  Chain.js : Constructed Chain instance: name - testChain-e2e, securityEnabled: true, TCert download batch size: 10, network mode: true info:  Peer.js : Peer.const - url: grpc://localhost:7051 options  grpc.ssl_target_name_override=tlsca, grpc.default_authority=tlsca info:  Peer.js : Peer.const - url: grpc://localhost:7056 options  grpc.ssl_target_name_override=tlsca, grpc.default_authority=tlsca  2017-01-05 16:49:48.935   INFO  E2E - Found steps: step1 TAP version 13 # End-to-end flow of chaincode deploy, transaction invocation, and query  2017-01-05 16:49:48.941   INFO  E2E - Executing step1 info:  Client.js : Failed to load user "admin" from local key value store  2017-01-05 16:49:48.945   INFO  E2E -  crypto_ecdsa_aes : This class requires a KeyValueStore to save keys, no store was passed in, using the default store  2017-01-05 16:49:48.946   DEBUG  E2E -  crypto_ecdsa_aes : Hash algorithm: SHA2, hash output size: 256  2017-01-05 16:49:48.946   INFO  E2E -  FabricCOPImpl.js : Successfully constructed Fabric COP service client: endpoint - {"protocol":"http","hostname":"localhost","port":8888}  2017-01-05 16:49:48.987   DEBUG  E2E -  ecdsa/key.js : ECDSA curve param X: 3561bf3953c987fb10c40b2123b400f4bab1e7edce4ea9d94e143be8b3d46f8f  2017-01-05 16:49:48.987   DEBUG  E2E -  ecdsa/key.js : ECDSA curve param Y: 679a7d5f3f74396f0ce4466e24348c398d660331cd3f73b529fdceddb9b5e35c not ok 1 Error: Enrollment failed with errors   {"code":400,"message":"100001: failed in Sign%!(EXTRA   interface {}=  )  {\"code\":11000,\"message\":\"attempt to write a readonly database\"} "}   at IncomingMessage.<anonymous> (/home/adnan/work/src/github.com/hyperledger/fabric-sdk-node/node_modules/hfc-cop/lib/FabricCOPImpl.js:287:22) at emitNone (events.js:91:20) at IncomingMessage.emit (events.js:185:7) at endReadableNT (_stream_readable.js:974:12) at _combinedTickCallback (internal/process/next_tick.js:74:11) at process._tickCallback (internal/process/next_tick.js:98:9) --- operator: fail at: process._tickCallback (internal/process/next_tick.js:103:7) ... ok 2 Successfully enrolled user 'admin' error:  Chain.js : Sending the deployment proposal failed. Error: TypeError: Cannot read property 'getIdentity' of null at /home/adnan/work/src/github.com/hyperledger/fabric-sdk-node/node_modules/hfc/lib/Chain.js:381:49 error:  Chain.js : Building the deployment proposal failed. Error: TypeError: Cannot read property 'getIdentity' of null at /home/adnan/work/src/github.com/hyperledger/fabric-sdk-node/node_modules/hfc/lib/Chain.js:381:49 not ok 3 TypeError: Cannot read property 'getIdentity' of null at /home/adnan/work/src/github.com/hyperledger/fabric-sdk-node/node_modules/hfc/lib/Chain.js:381:49 --- operator: fail ...  1..3 # tests 3 # pass  1 # fail  2  {code}   ></description> </Issue>
