<Issue id="46604" key="FABN-1702" number="1702" project="10604" reporter="JIRAUSER20631" creator="JIRAUSER20631" type="10004" summary="no key with SKI found using externa CA" priority="3" resolution="10203" status="6" created="2021-02-27 19:09:57.0" updated="2021-05-05 13:02:41.0" resolutiondate="2021-05-05 13:02:41.0" votes="0" watches="2" workflowId="60549" archived="N"> <description><! CDATA Hi, I use hyperledger fabric 1.4 and I have a luna 6.3 HSM I want to initialize my wallet with the private keys inside the HSM but I get the no key with SKI found error.      This is what I'm doing:     # Created my ECDSA private keys and CSR. # Imported my private keys into the HSM. # Signed the keys and generated certificates with my external trusted CA (not hyperledger CA) # Stored the certificate in a key vault and imported it to use it in my app. # Created a wallet and tried to import my key using the certificate using this code:    {code:javascript} const hsmWalletMixin = new HSMWalletMixin(library, slot, pin); const hsmWallet = new InMemoryWallet(hsmWalletMixin); const hsmIdentity = HSMWalletMixin.createIdentity('epm', certificate);  await wallet.import(userId, regularIdentity); {code}   Doing the import I get this error:   {code:bash} Error: _pkcs11SkiToHandle 525 : no key with SKI xxxxxx found {code}   I have looked at issues  FABN-1590|https://jira.hyperledger.org/browse/FABN-1590  and  FABN-1666|https://jira.hyperledger.org/browse/FABN-1666  but I still don't understand how can I be able to recreate the context needed for the wallet to work. This is a real working HSM, not an in memory tool, I tried both the in memory wallet and the file system wallet. Am I missing some step doing this?  Thanks  ></description> </Issue>
