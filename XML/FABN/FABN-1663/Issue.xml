<Issue id="46265" key="FABN-1663" number="1663" project="10604" reporter="bestbeforetoday" assignee="harrisob@us.ibm.com" creator="bestbeforetoday" type="10004" summary="Unable to send proposals to system chaincode" priority="2" resolution="10000" status="6" created="2020-10-30 09:34:53.0" updated="2020-11-24 13:55:34.0" resolutiondate="2020-11-24 13:55:34.0" votes="0" watches="3" workflowId="60179" archived="N"> <description><! CDATA FABN-1646 introduced into v2.2.3 of the Node SDK a check in Proposal.send() for the existence of the chaincode on a given peer in discovery results: {code:java} if (peer.hasChaincode(this.chaincodeId)) { promises.push(peer.sendProposal(signedEnvelope, requestTimeout)); } else { const chaincodeError = new Error(`Peer ${peer.name} is not running chaincode ${this.chaincodeId}`); peer.getCharacteristics(chaincodeError); promises.push(Promise.reject(chaincodeError)); } {code} It seems that system chaincodes are not included in discovery results so this prevents invocation of queries such as GetBlockByNumber on the qscc chaincode, with the following error: {noformat}  SingleQueryHandler : evaluate: message=Query failed. Errors:  "Error: Peer peer.org:7051 is not running chaincode qscc" , stack=FabricError: Query failed. Errors:  "Error: Peer peer.org:7051 is not running chaincode qscc"  at SingleQueryHandler.evaluate (/.../node_modules/fabric-network/lib/impl/query/singlequeryhandler.js:46:23){noformat}  This is a regression from v2.2.2  ></description> </Issue>
