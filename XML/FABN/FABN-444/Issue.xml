<Issue id="15665" key="FABN-444" number="444" project="10604" reporter="ratnakar" assignee="ratnakar" creator="ratnakar" type="10004" summary="Query/Invoke fails on peer2 of organizations &quot;org1&quot; and &quot;org2&quot;" priority="3" resolution="10000" status="6" created="2017-04-11 03:03:48.0" updated="2018-07-19 00:54:06.0" resolutiondate="2017-04-16 15:30:31.0" votes="0" watches="1" workflowId="34175"> <description><! CDATA When Query/Invoke is made on peer2 of organizations org1 and org2 the transaction fails with below error  {panel} 'Error: failed to obtain cds for end2end - transaction not found end2end/mychannel' {panel}  *STEPs to reproduce:* 1. change +queryChaincode+  function to query on peer2 2. spin the network from test/fixtures using the below command _docker-compose up -d_ 3. run the e2e tests  cd fabric-sdk-node _node test/integration/e2e.js_  This steps fails while querying   *Gist of error log:*  {code} debug:  Peer.js : Peer.sendProposal - Start debug:  Peer.js : Received proposal response from: grpcs://localhost:8056 status: Error: failed to obtain cds for end2end - transaction not found end2end/mychannel error:  Chain.js : Chain-sendPeersProposal - Promise is rejected: Error: failed to obtain cds for end2end - transaction not found end2end/mychannel at /home/itpc/go/src/github.com/hyperledger/fabric-sdk-node/node_modules/grpc/src/node/src/client.js:434:17 debug:  Peer.js : Received proposal response from: grpcs://localhost:7056 status: Error: failed to obtain cds for end2end - transaction not found end2end/mychannel error:  Chain.js : Chain-sendPeersProposal - Promise is rejected: Error: failed to obtain cds for end2end - transaction not found end2end/mychannel at /home/itpc/go/src/github.com/hyperledger/fabric-sdk-node/node_modules/grpc/src/node/src/client.js:434:17 debug:  Chain.js : Chain-sendPeersProposal - Promise is rejected: Error: failed to obtain cds for end2end - transaction not found end2end/mychannel debug:  Chain.js : Chain-sendPeersProposal - Promise is rejected: Error: failed to obtain cds for end2end - transaction not found end2end/mychannel debug:  Chain.js : Chain-queryByChaincode - results received not ok 78 checking query results are correct that user b has 410 now after the move --- operator: equal expected: |- '410' actual: |- 'Error: failed to obtain cds for end2end - transaction not found end2end/mychannel' at: hfc.newDefaultKeyValueStore.then.then.then (/home/itpc/go/src/github.com/hyperledger/fabric-sdk-node/test/integration/e2e/e2eUtils.js:658:7) ...  {code}   ></description> </Issue>
