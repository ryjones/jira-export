<Action id="61502" issue="40904" author="davidkel" type="comment" body="move to fabric-sdk-node jira project" created="2019-07-08 07:19:52.0" updateauthor="davidkel" updated="2019-07-08 07:19:52.0"/>
<Action id="64239" issue="40904" author="pedromoura" type="comment" created="2019-10-01 17:16:05.0" updateauthor="pedromoura" updated="2019-10-01 17:16:05.0"> <body><! CDATA Is there any development on this issue?  I also noticed that the same error occurs when we just define a "startBlock".  ></body> </Action>
<Action id="64661" issue="40904" author="jfilippone" type="comment" created="2019-10-11 14:44:00.0" updateauthor="jfilippone" updated="2019-10-11 14:44:41.0"> <body><! CDATA I think this is addressed in the changes to contracteventlistener.js in  https://github.com/hyperledger/fabric-sdk-node/commit/5cda959770ab8f1badcf43689ff613fa61268046#diff-b8be7364ec1bcb6ae6add90d04dfd4a0       ~14gracel  Can you confirm that the commit above addresses this issue?  ></body> </Action>
<Action id="64674" issue="40904" author="jfilippone" type="comment" created="2019-10-11 20:28:45.0" updateauthor="jfilippone" updated="2019-10-11 20:30:35.0"> <body><! CDATA I was having this issue as well but it looks like not this is fixed.  Now the problem looks like that it is disabling replay when start or end block are supplied.  So it will checkpoint the first time when you restart because it will add start block automatically based on what is in the checkpoint file.  But that will disable replay which means that it will not be writing new checkpoints...ever again.  The docs say this:  In the \{@link module:fabric-network~EventListenerOptions} it is possible to specify a `startBlock` and an `endBlock`. This behaves in the same way as the same options on \{@link ChannelEventHub} shown in the tutorial here \{@tutorial channel-events}. Using `startBlock` and `endBlock` disables event replay using a checkpointer for the events received by that listener.  But the code says this:  if ((this.clientOptions.startBlock !== null) && (this.clientOptions.startBlock !== undefined) || (this.clientOptions.endBlock !== null) && (this.clientOptions.endBlock !== undefined)) { logger.debug('startBlock and/or endBlock were given. Disabling event replay'); console.log('startBlock and/or endBlock were given. Disabling event replay'); this.options.replay = false; }     The docs say it is disabled when start and end are supplied (which makes intuitive sense to me) but the code disables when either one are supplied.  ~14gracel  is this a bug?  ></body> </Action>
<Action id="64705" issue="40904" author="14gracel" type="comment" body=" ~jfilippone  Checkpointing should be disabled when the start or end block is defined. It feels like extended functionality to me" created="2019-10-15 09:15:55.0" updateauthor="14gracel" updated="2019-10-15 09:15:55.0"/>
<Action id="64707" issue="40904" author="jfilippone" type="comment" created="2019-10-15 13:03:07.0" updateauthor="jfilippone" updated="2019-10-15 13:03:07.0"> <body><! CDATA  ~14gracel    In the scenario that the listening application experiences down time and misses events.  When it comes back up, the addContractListener function is called with the replay option set to true but not with start or end block.  Then the fabric-network automatically sets the start block to the appropriate block based on info from the checkpionter.  And it also sets the replay to false because now the start block is defined.  The resulting behavior is that the proper events are replayed but the checkpointer is not being updated.  From this point, the only way I can see to get the checkpointer to be updated again would be to wipe out the checkpointer file and start fresh.  But of course you lose the benefit of the checkpointer at that point.    Is this consistent with your thinking of what the behavior is?  Is it the intended behavior?  ></body> </Action>
<Action id="64728" issue="40904" author="14gracel" type="comment" body=" ~jfilippone  Ahh, no this is definitely a bug" created="2019-10-15 15:24:51.0" updateauthor="14gracel" updated="2019-10-15 15:24:51.0"/>
<Action id="64733" issue="40904" author="jfilippone" type="comment" created="2019-10-15 17:09:42.0" updateauthor="jfilippone" updated="2019-10-15 19:22:34.0"> <body><! CDATA  ~14gracel  Is there a reason for wanting to disable replay when start or end block is defined?  Otherwise this seems like a very simple fix of taking out the lines that disable event replay.  Should it actually only disable when both start and end are defined?   ></body> </Action>
<Action id="65884" issue="40904" author="14gracel" type="comment" body=" https://github.com/hyperledger/fabric-sdk-node/pull/52 " created="2019-12-02 09:45:10.0" updateauthor="14gracel" updated="2019-12-02 09:45:10.0"/>
