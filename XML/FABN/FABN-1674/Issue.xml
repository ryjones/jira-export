<Issue id="46344" key="FABN-1674" number="1674" project="10604" reporter="tatsu-sato" assignee="tatsu-sato" creator="tatsu-sato" type="10002" summary="Wrong type definitions on Discovery Service" priority="3" resolution="10000" status="6" created="2020-11-24 23:40:14.0" updated="2020-12-03 10:35:50.0" resolutiondate="2020-12-03 10:35:50.0" votes="0" watches="2" workflowId="60277" archived="N"> <description><! CDATA I found some type definitions on “Discovery Service” in *fabric-common/types/index.d.ts* that seem to be incorrect.  * 1 * In L 470-, *DiscoveryResultEndorsementPlan* is defined as the following: {code:javascript} export interface DiscoveryResultEndorsementPlan { chaincode: string; plan_id: string; groups: {  groupName: string : DiscoveryResultEndorsementGroup; }; layouts: DiscoveryResultEndorsementLayout  ; } {code}    On the other hand, the actual code does not seem to assign *`plan_id`*. ( https://github.com/hyperledger/fabric-sdk-node/blob/75507047d7bf7a41ccb112214264e470182c5f1b/fabric-common/lib/DiscoveryService.js#L453 )     So, *`plan_id:`* should be *`plan_id?:`*.     * 2 * In L 479-, *DiscoveryResults* is defined as the following: {code:javascript} export interface DiscoveryResults { msps?: {  mspid: string : DiscoveryResultMSPConfig }; orderers?: {  mspid: string : DiscoveryResultEndpoints };  peers_by_org?: {  name: string : DiscoveryResultPeers };  endorsement_plan?: DiscoveryResultEndorsementPlan  ;  timestamp: number; } {code}  On the other hand, the actual code manages *endorsement_plan* as *DiscoveryResultEndorsementPlan* instead of *DiscoveryResultEndorsementPlan  *. ( https://github.com/hyperledger/fabric-sdk-node/blob/75507047d7bf7a41ccb112214264e470182c5f1b/fabric-common/lib/DiscoveryService.js#L356 )     So, *`endorsement_plan?: DiscoveryResultEndorsementPlan  `* should be　*`endorsement_plan?: DiscoveryResultEndorsementPlan`*.     * 3 *  In L 428, *DiscoveryResultMSPConfig* is defined as the following: {code:javascript} export interface DiscoveryResultMSPConfig { rootCerts: string; intermediateCerts: string; admins: string; id: string; orgs: string  ; tlsRootCerts: string; tlsIntermediateCerts: string; } {code}    On the other hand, the actual code has *`name`* property and seems uses *`organizationalUnitIdentifiers`* instead of *`orgs`*. ( https://github.com/hyperledger/fabric-sdk-node/blob/75507047d7bf7a41ccb112214264e470182c5f1b/fabric-common/lib/DiscoveryService.js#L499 )     So, *`name: string;`* should be added to the definition. Also, ` *orgs`* should be *`organizationalUnitIdentifiers`* .  ></description> </Issue>
