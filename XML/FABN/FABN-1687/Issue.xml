<Issue id="46469" key="FABN-1687" number="1687" project="10604" reporter="icarrascol" assignee="andrew-coleman" creator="icarrascol" type="10004" summary="Discovery service fails to return results when a peer is down" priority="3" status="10300" created="2021-01-07 15:39:13.0" updated="2021-08-25 12:43:11.0" votes="0" watches="3" workflowId="60410" archived="N"> <description><! CDATA i am doing some testing of the sdk with some peers down, considering that it should work if there are enough peers for endorsing even if some of them are down. i have a network with 4 organizations and 1 peer each, if i stop the peer of the first organization the discovery service fails with this error: {code:java} 2021-01-07T15:31:05.745Z - error:  DiscoveryService : send pagare-channel  - no discovery results {code}  ^newlog.txt   i found out that the error is related to how discovery works, from the node sdk v1.4 documentation says this: {code:java} // no target specified, using the first peer with the discover role // peer was added to the channel either by the 'addPeer' or when using // a connection profile {code} so if the first peer with discover role found on the connection profile is down, seems like the sdk doesnt check for other discoverer peers and just dies.  if you want us to handle this error, on sdk v2 using gateway api there is no clear way to specify the target for discovery, at least i couldnt find anything on the documentation.  ></description> </Issue>
