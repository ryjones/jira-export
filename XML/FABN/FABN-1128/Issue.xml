<Issue id="37487" key="FABN-1128" number="1128" project="10604" reporter="sstone1" assignee="andrew-coleman" creator="sstone1" type="10004" summary="Discovery options to gateway.connect are not correctly merged" priority="3" resolution="10000" status="6" created="2019-02-07 14:08:52.0" updated="2019-02-13 17:18:57.0" resolutiondate="2019-02-13 14:28:48.0" votes="0" watches="2" workflowId="49095"> <description><! CDATA `Gateway._mergeOptions` doesn't do a recursive merge if the key doesn't end in `Options`... which is great for `queryHandlerOptions` and `eventHandlerOptions` but not for `discovery` The tests are passing, but they have `discoveryOptions` instead of `discovery` what I think happens is: app passes in `{ discovery: { asLocalhost: true }}` gateway has default of `{ discovery: { enabled: true }}` result from merge is `{ discovery: { asLocalhost: true }}`  The result from merge should be `{ discovery: { enabled: true, asLocalhost: true }}`  ></description> </Issue>
