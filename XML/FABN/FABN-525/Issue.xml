<Issue id="31195" key="FABN-525" number="525" project="10604" reporter="ratnakar" creator="ratnakar" type="10004" summary=" Interoperability test   error response format changed in Fabric1.2 peer causes Node.js sdk integration test failures" priority="3" resolution="10204" status="6" created="2018-06-19 20:54:25.0" updated="2018-11-14 13:52:33.0" resolutiondate="2018-11-14 13:52:33.0" votes="0" watches="1" workflowId="34256"> <description><! CDATA Steps to reproduce the issue: Refer Case2/Case3 of FAB-10161 or Given below for quick reference.  *Nodejs Integration Test Suite at 1.1 , Node.js SDK at 1.1, Fabric is at 1.2 & Fabric-CA is at 1.2* {code:java} Step 1 : Clone the repo (Default it points to release-1.1 branch) git clone https://github.com/hyperledger/fabric-sdk-node cd fabric-sdk-node  Step 2: Install the node modules npm install  Step 3: Commentout the following lines from build/tasks/test.js  //process.env.DOCKER_IMG_TAG = dockerImageTag; //process.env.THIRDPARTY_IMG_TAG = thirdpartyImageTag;  please refer https://github.com/hyperledger/fabric-sdk-node/blob/release-1.1/build/tasks/test.js#L64-L65  Step 4: As part of this compatibility tests we wouldn't want to run the unit tests Remove the unit test section (see following) from gulp task i.e, from build/tasks/test.js https://github.com/hyperledger/fabric-sdk-node/blob/release-1.1/build/tasks/test.js#L121-L125  Step 5: Export the following environment varibles to let your docker-compose use the docker tags. (Make sure replace with the right TAG ) export DOCKER_IMG_TAG=:amd64-1.2.0-snapshot-3436f454f export DOCKER_IMG_CA_TAG=:amd64-1.2.0-snapshot-744e032 export THIRDPARTY_IMG_TAG=:amd64-0.4.8  Step 6: replace the test/fixtures folder with test/fixtures folder of fabric-sdk-node master branch (Fabric 1.2 network needs all the required crypto/channel artifacts that are available in master branch)   Step 7: There needs a tweaking on the test/fixtures/docker-compose.yaml  change the lines hyperledger/fabric-ca${DOCKER_IMG_TAG} to hyperledger/fabric-ca${DOCKER_IMG_CA_TAG}  Step 8: Execute the following command and make sure all the tests are passing now   "gulp test" {code} Test report with failure logs is enclosed run3-4.txt  Total Failures : *11 tests*  High level summary of the failures are as following , however the root cause is same for all the failures. {code:java} failed check for exists on install again failed check for exists same code again Failed to get an error returned :: No Error returned , should have had an error with version already exists Failed to get an error returned :: No Error returned , should have had an error with cannot get package for chaincode (6 tests failed with the same error) Failed to get an error returned :: No Error returned , should have had an error with chaincode exists end2endnodesdk (2 tests failed with the same error)  {code}                   ></description> </Issue>
