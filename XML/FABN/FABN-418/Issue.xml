<Issue id="13359" key="FABN-418" number="418" project="10604" reporter="ratnakar" assignee="jimthematrix" creator="ratnakar" type="10004" summary="NodeSDK docker-compose issue : there should be some delay before starting peer" priority="3" resolution="10000" status="6" created="2016-11-08 04:12:03.0" updated="2018-07-19 00:54:00.0" resolutiondate="2017-02-08 15:12:44.0" votes="0" watches="2" workflowId="34149"> <description><! CDATA peer is crashing when used docker compose file provided herehere https://raw.githubusercontent.com/hyperledger/fabric-sdk-node/master/test/fixtures/docker-compose.yml.  seems memberservice is not started and peer is getting starter even before causes this issue Gist of logs   {code} vp0_1        | 04:02:35.190  crypto  Errorf -> ERRO 01e  validator.test_vp0  Failed requesting read certificate  rpc error: code = 14 desc = grpc: RPC failed fast due to transport failure . vp0_1        | 04:02:35.190  crypto  Errorf -> ERRO 01f  validator.test_vp0  Failed requesting ECA certificate  rpc error: code = 14 desc = grpc: RPC failed fast due to transport failure . vp0_1        | 2016/11/08 04:02:35 grpc: addrConn.resetTransport failed to create client transport: connection error: desc = "transport: dial tcp 172.17.0.3:7054: getsockopt: connection refused"; Reconnecting to {"membersrvc:7054" <nil>} vp0_1        | 2016/11/08 04:02:35 Failed to dial membersrvc:7054: grpc: the connection is closing; please retry. vp0_1        | 04:02:35.190  crypto  Errorf -> ERRO 020  validator.test_vp0  Failed getting ECA certificate  rpc error: code = 14 desc = grpc: RPC failed fast due to transport failure . vp0_1        | 04:02:35.191  crypto  Errorf -> ERRO 021  validator.test_vp0  Failed retrieving ECA certs chain  rpc error: code = 14 desc = grpc: RPC failed fast due to transport failure . vp0_1        | 04:02:35.191  crypto  Errorf -> ERRO 022  validator.test_vp0  Failed registering node crypto engine  rpc error: code = 14 desc = grpc: RPC failed fast due to transport failure . vp0_1        | 04:02:35.191  crypto  Errorf -> ERRO 023  validator.test_vp0  Failed registering peer  test_vp0 :  rpc error: code = 14 desc = grpc: RPC failed fast due to transport failure  vp0_1        | 04:02:35.191  crypto  Errorf -> ERRO 024  validator.test_vp0  Failed registering  test_vp0 :  rpc error: code = 14 desc = grpc: RPC failed fast due to transport failure  vp0_1        | 04:02:35.191  crypto  RegisterValidator -> ERRO 025 Failed registering validator  test_vp0  with name  test_vp0   rpc error: code = 14 desc = grpc: RPC failed fast due to transport failure . vp0_1        | Error: rpc error: code = 14 desc = grpc: RPC failed fast due to transport failure  {code}  Complete logs attached.  Introducing a delay before launching the peer resolves the issue.  {panel}  *command: sh -c "sleep 10; peer node start"*  {panel}  Please refer the attached docker-compose file  ></description> </Issue>
