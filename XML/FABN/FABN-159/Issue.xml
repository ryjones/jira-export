<Issue id="16074" key="FABN-159" number="159" project="10604" reporter="yuki-kon" creator="yuki-kon" type="10004" summary="&quot;mychannel.tx&quot; for e2e_sdk_node is broken" priority="3" resolution="10000" status="6" created="2017-04-27 23:19:53.0" updated="2018-07-19 00:53:03.0" resolutiondate="2017-05-04 20:11:08.0" votes="0" watches="1" workflowId="33890"> <description><! CDATA Environment:  -------------------------- Client is using fabric-sdk-node and running on Fabric Eco system on following changeset hyperledger/fabric-ca                x86_64-1.0.0-snapshot-b4ce73f hyperledger/fabric-couchdb       x86_64-1.0.0-snapshot-efd9307 hyperledger/fabric-kafka             x86_64-1.0.0-snapshot-efd9307 hyperledger/fabric-zookeeper  x86_64-1.0.0-snapshot-efd9307 hyperledger/fabric-orderer        x86_64-1.0.0-snapshot-efd9307 hyperledger/fabric-peer             x86_64-1.0.0-snapshot-efd9307 hyperledger/fabric-javaenv        x86_64-1.0.0-snapshot-efd9307 hyperledger/fabric-ccenv            x86_64-1.0.0-snapshot-efd9307  Steps to reproduce  -------------------------- 1. set up fabric-sdk-node based on ReadMe. 2. run docker-compose up --force-recreate to launch the network 3. run gulp test 4. run test/integration/new-chain.js  Expected Results -------------------------- A new channel is created because a channel "mychannel" doesn't exist before executing this test script.  Actual Results -------------------------- Creating a new channel fails.  Client SDK output the following error log. Detailed log is attached.  debug:  Client.js : createChannel - start debug:  Client.js : createChannel - about to send envelope debug:  Orderer.js : sendBroadcast - start debug:  Orderer.js : sendBroadcast - sent message debug:  Orderer.js : sendBroadcast - on data response: {"status":"BAD_REQUEST"} error:  Orderer.js : sendBroadcast - reject with BAD_REQUEST debug:  Client.js : createChannel - rejecting with Error: BAD_REQUEST ok 4 Got back failure error. Error code: Error: BAD_REQUEST  Orderer output the following error log. Detailed log is attached.  2017-04-27 22:18:29.273 UTC  orderer/common/broadcast  Handle -> WARN 14a Rejecting CONFIG_UPDATE because: Error validating DeltaSet: Attempt to set key  Policy  /Channel/Admins to version 0, but key is at version 0   Cause -------------------------- It seems like that a channel configtx "test/fixtures/channel/mychannel.tx" is broken. After replacing "mychannel.tx" to a new one generated by configtx tool manually, a new channel is created successfully.   ></description> </Issue>
