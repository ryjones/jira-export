<Action id="19618" issue="13081" author="vdods" type="comment" body="Hi there -- I&apos;ve posted a docker-compose.yml (and supporting test-env.Dockerfile, along with some minor changes to the fabric-sdk-node unit tests) to #fabric-sdk-node-dev on hyperledger slack.  It takes care of setting up the services for orderer, membersrvc, and vp0, as well as running the unit tests in their own service.  This may accomplish most of this ticket.  I believe jzhang and pmullaney have seen these." created="2016-11-02 18:41:53.0" updateauthor="vdods" updated="2016-11-02 18:41:53.0"/>
<Action id="19780" issue="13081" author="jimthematrix" type="comment" body=" ~rennman  has uploaded his work to https://gerrit.hyperledger.org/r/#/c/2423/, assigning this to  ~harrisob@us.ibm.com  to continue since Allen has to help with the COP work" created="2016-11-17 21:07:45.0" updateauthor="jimthematrix" updated="2016-11-17 21:07:45.0"/>
<Action id="19781" issue="13081" author="jimthematrix" type="comment" body=" ~vdods  can you re-post your work here? it has rolled off of the channel in slack unfortunately. plus JIRA is a better bookkeeping place anyway. thanks!" created="2016-11-17 21:09:03.0" updateauthor="jimthematrix" updated="2016-11-17 21:09:03.0"/>
<Action id="19785" issue="13081" author="vdods" type="comment" body="Sure, though the previously posted files may be out of date.  I&apos;ll probably attempt to make another update anyway, since I need to get a running example of user-authenticated chaincode deployment and invocation going." created="2016-11-17 21:55:58.0" updateauthor="vdods" updated="2016-11-17 21:55:58.0"/>
<Action id="19787" issue="13081" author="vdods" type="comment" created="2016-11-17 21:58:57.0" updateauthor="vdods" updated="2016-11-18 00:23:58.0"> <body><! CDATA These files patch a version of master whose last commit was "FAB-49 update endorser API to latest protobuf" on Nov 2, so these exact changes may cause a conflict.  NOTE: I uploaded updated files (see next comment), so use those instead.  Keeping these here for reference.   ^docker-compose.yml    ^test-env.Dockerfile    ^ca-tests.js    ^end-to-end.js    ^endorser-tests.js    ^orderer-member-tests.js    ^orderer-tests.js    ></body> </Action>
<Action id="19790" issue="13081" author="vdods" type="comment" created="2016-11-18 00:23:09.0" updateauthor="vdods" updated="2016-11-18 00:24:47.0"> <body><! CDATA Here are updated files (I haven't updated all unit test js files -- these are only an example).   ^docker-compose.yml    ^unittestenv.Dockerfile    ^end-to-end.js    ^ca-tests.js    Note that docker-compose.yml goes in the root dir fabric-sdk-node (I couldn't figure out how to munge the working dir and the local mount dir correctly), and unittestenv.Dockerfile goes in test/fixtures.  ></body> </Action>
<Action id="19803" issue="13081" author="vdods" type="comment" created="2016-11-19 19:54:47.0" updateauthor="vdods" updated="2016-11-19 19:55:00.0"> <body><! CDATA I did some more work on this, not changing any JS logic, but only adding the ability to configure the peer/membersrvc/orderer addresses/ports so that the unit tests could be entirely configured and run within a docker-compose service.  Once this was done, all tests passed except 2 out 4 within end-to-end.js, and it wasn't clear how to fix these.  Would it make sense for me to submit my changes?  The commits won't change the default behavior of the unit tests (the addresses/ports take a default value).  I'm not sure what the status of the possibly conflicting work on this is.  ></body> </Action>
<Action id="20027" issue="13081" author="vdods" type="comment" body="If this is useful, I&apos;ve created a fork of hyperledger/fabric and in the v0.6 branch, I&apos;ve created this dockerized test environment for the HFC tests, which all pass.  This is at https://github.com/vdods/fabric/tree/dockerize-unit-tests (note that the branch is dockerize-unit-tests, which is based on the v0.6 branch of fabric), and I&apos;ve written a doc on how to run the tests in this environment: https://github.com/vdods/fabric/blob/dockerize-unit-tests/sdk/node/dockerized-unit-tests-readme.md" created="2016-12-08 19:47:08.0" updateauthor="vdods" updated="2016-12-08 19:47:08.0"/>
