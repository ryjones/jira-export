<Issue id="45627" key="FABN-1601" number="1601" project="10604" reporter="denyeart" assignee="harrisob@us.ibm.com" creator="denyeart" type="10001" summary="Need a setEndorsingOrganizations function that picks available endorsing peers based on Service Discovery peers query" priority="3" resolution="10000" status="6" created="2020-07-17 12:00:38.0" updated="2021-05-08 14:12:22.0" resolutiondate="2020-08-19 14:47:44.0" votes="0" watches="2" workflowId="59530" archived="N"> <description><! CDATA The Service Discovery 'endorsement query' can return many layouts, and if there is a very large number of layouts, SD will return a reduced list.  For many transactions, there is no need to do the endorsement query at all. For example when doing a transaction between Org1 and Org2 with private data, the client knows that they should target a Org1 peer and a Org2 peer already.  If the 'endorsement query' were used, the SDK either has to filter through many undesired layouts, or worse, desired layouts may have already been filtered out on server side.  Therefore it should be possible to setEndorsingOrganizations simply based on the simpler and faster SD 'peers query', where the SDK picks one of the returned available peers from each targeted MSPID.  In terms of picking a peer, the SDK should first consider peers with the chaincode installed (SD peers query returns this info), then use some combination of highest height and randomization. For example if two peers are within a block of each other, the SDK should randomize the choice. However if one peer is well ahead of another peer, the SDK should choose the higher height peer.  ></description> </Issue>
