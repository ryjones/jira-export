<Action id="69468" issue="45271" author="denyeart" type="comment" created="2020-06-15 19:51:50.0" updateauthor="denyeart" updated="2020-06-15 19:51:50.0"> <body><! CDATA We don't recommend the fabric built CouchDB docker images anymore, since CouchDB makes available their own docker images. But given the severity of the issue, we should probably update the old fabric built CouchDB image, here's the location: https://github.com/hyperledger/fabric-baseimage/blob/master/images/couchdb/20-fabric-default.ini#L16  ></body> </Action>
<Action id="69469" issue="45271" author="manish-sethi" type="comment" body="Yes, moreover, we need to remove unnecessary calls to _ensure_full_commit" created="2020-06-15 20:19:16.0" updateauthor="manish-sethi" updated="2020-06-15 20:19:16.0"/>
<Action id="69480" issue="45271" author="denyeart" type="comment" body="https://github.com/hyperledger/fabric-baseimage/pull/10" created="2020-06-16 13:26:10.0" updateauthor="denyeart" updated="2020-06-16 13:26:10.0"/>
<Action id="69483" issue="45271" author="senthil1" type="comment" created="2020-06-16 17:52:35.0" updateauthor="senthil1" updated="2020-06-16 17:52:35.0"> <body><! CDATA  ~manish-sethi   ~denyeart   If I had been a bit more careful and paid more attention, this could have been found out during the performance benchmarking. I should have questioned why the ensure full commit is taking much lesser time (< 1 msec which is greater than a ReadDoc()).   !Screenshot 2020-06-16 at 11.18.24 PM.png!  ></body> </Action>
<Action id="69526" issue="45271" author="manish-sethi" type="comment" body=" ~Senthil1  - Another way of not having a miss on these important things is to correlate the systems stats with the high level applications stats. I typically prefer to capture, in addition to cpu and memory, the `disk stats` explicitly and try to make sense of this." created="2020-06-22 22:00:09.0" updateauthor="manish-sethi" updated="2020-06-22 22:00:09.0"/>
<Action id="69528" issue="45271" author="senthil1" type="comment" body=" ~manish-sethi  I capture every possible metric from the server. I did compare the disk writes and shown this graph in one of the talk. I need to recheck this number with the ensure full commit off. Also, instead of computing the average, I need to plot the time series.  !Screenshot 2020-06-23 at 7.34.24 AM.png!" created="2020-06-23 02:07:29.0" updateauthor="senthil1" updated="2020-06-23 02:07:29.0"/>
<Action id="69529" issue="45271" author="senthil1" type="comment" body=" ~manish-sethi  Just read this in our code comment – _C__ouchDB syncs states to disk periodically (every 1 second)_. Not sure whether it is correct. Anyway, as the tools records per second usage, even the time-series data might not be able to capture this." created="2020-06-23 02:22:02.0" updateauthor="senthil1" updated="2020-06-23 02:22:02.0"/>
