<Issue id="29063" key="FABB-38" number="38" project="10608" reporter="ericmvaughn" assignee="mastersingh24" creator="ericmvaughn" type="10004" summary="Peer panic with 49MB private data file" priority="2" resolution="10000" status="6" created="2018-03-31 15:39:28.0" updated="2018-07-18 14:53:52.0" resolutiondate="2018-04-08 23:21:59.0" votes="0" watches="2" workflowId="32106"> <description><! CDATA When trying to add a 49MB file to a private data collection the peer panics after getting a couchdb error.   The configuration was 2 peers, 2 couchdbs, 1 ca, and 1 orderer.    {code:java}  2018-03-31 15:22:34.529 UTC  couchdb  handleRequest -> DEBU bd6 Entering handleRequest() method=POST url=http://couchdb0:5984/mychannel_poe-100$$porg1$m$s$p_collection/_bulk_docs 2018-03-31 15:22:34.807 UTC  couchdb  handleRequest -> DEBU bd7 HTTP Request: POST /mychannel_poe-100$$porg1$m$s$p_collection/_bulk_docs HTTP/1.1 | Host: couchdb0:5984 | User-Agent: Go-http-client/1.1 | Content-Length: 68507154 | Accept: application/json | Content-Type: application/json | Accept-Encoding: gzip | |  2018-03-31 15:22:34.811 UTC  couchdb  handleRequest -> DEBU bd8 Couch DB Error:too_large, Status Code:413, Reason:the request entity is too large 2018-03-31 15:22:34.811 UTC  statecouchdb  ClearCachedVersions -> DEBU bd9 Clear Cache panic: Error during commit to txmgr:Couch DB Error:too_large, Status Code:413, Reason:the request entity is too large goroutine 329  running : github.com/hyperledger/fabric/core/ledger/kvledger.(*kvLedger).CommitWithPvtData(0xc421680380, 0xc42260e090, 0x0, 0x0) /opt/gopath/src/github.com/hyperledger/fabric/core/ledger/kvledger/kv_ledger.go:251 +0x921 github.com/hyperledger/fabric/core/ledger/ledgermgmt.(*closableLedger).CommitWithPvtData(0xc421731c60, 0xc42260e090, 0x0, 0x0) <autogenerated>:1 +0x47 github.com/hyperledger/fabric/core/committer.(*LedgerCommitter).CommitWithPvtData(0xc421baa7c0, 0xc42260e090, 0xc422dc5d20, 0xc4225aa318) /opt/gopath/src/github.com/hyperledger/fabric/core/committer/committer_impl.go:103 +0x6b github.com/hyperledger/fabric/gossip/privdata.(*coordinator).StoreBlock(0xc4216043c0, 0xc422684820, 0x0, 0x0, 0x0, 0xc423556e60, 0xc423556e60) /opt/gopath/src/github.com/hyperledger/fabric/gossip/privdata/coordinator.go:223 +0xcf9 github.com/hyperledger/fabric/gossip/state.(*GossipStateProviderImpl).commitBlock(0xc42146e080, 0xc422684820, 0x0, 0x0, 0x0, 0x0, 0x0) /opt/gopath/src/github.com/hyperledger/fabric/gossip/state/state.go:759 +0x6f github.com/hyperledger/fabric/gossip/state.(*GossipStateProviderImpl).deliverPayloads(0xc42146e080) /opt/gopath/src/github.com/hyperledger/fabric/gossip/state/state.go:546 +0x411 created by github.com/hyperledger/fabric/gossip/state.NewGossipStateProvider /opt/gopath/src/github.com/hyperledger/fabric/gossip/state/state.go:238 +0x6b5 {code}      ></description> </Issue>
