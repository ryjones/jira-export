<Issue id="36457" key="FABB-124" number="124" project="10608" reporter="david_dornseifer" assignee="mastersingh24" creator="david_dornseifer" type="10004" summary="CouchDB image fails to start with host mounted volume " priority="3" resolution="10000" status="6" created="2019-01-03 14:40:03.0" updated="2019-03-30 17:20:42.0" resolutiondate="2019-03-30 17:20:42.0" votes="0" watches="6" workflowId="47990"> <description><! CDATA Starting CouchDB with baseimage 0.4.14 leads to an similar error like FAB-5700   ```  info  2018-12-03T16:26:07.810189Z nonode@nohost <0.7.0> -------- Application ioq started on node nonode@nohost 16:26:07  info  2018-12-03T16:26:07.810415Z nonode@nohost <0.7.0> -------- Application mochiweb started on node nonode@nohost 16:26:07  info  2018-12-03T16:26:07.825982Z nonode@nohost <0.195.0> -------- Apache CouchDB 2.2.0 is starting. 16:26:07  info  2018-12-03T16:26:07.826088Z nonode@nohost <0.196.0> -------- Starting couch_sup 16:26:07  notice  2018-12-03T16:26:07.879259Z nonode@nohost <0.83.0> -------- config:  features  pluggable-storage-engines set to true for reason nil 16:26:07  notice  2018-12-03T16:26:07.895040Z nonode@nohost <0.83.0> -------- config:  admins  admin set to -***-e13364f20d49eff6b5342cdc85283eb724765801,84efef2c2225351393ca4a3aa421036c,1000 for reason nil 16:26:07  notice  2018-12-03T16:26:07.925751Z nonode@nohost <0.83.0> -------- config:  couchdb  uuid set to 959b32608d14054d3822bf1112810adb for reason nil 16:26:07  info  2018-12-03T16:26:07.988125Z nonode@nohost <0.201.0> -------- open_result error \{not_found,no_db_file} for _users 16:26:07  error  2018-12-03T16:26:07.992056Z nonode@nohost <0.246.0> -------- Could not open file ./data/_users.couch: permission denied 16:26:07  info  2018-12-03T16:26:07.992268Z nonode@nohost <0.201.0> -------- open_result error \{error,eacces} for _users 16:26:07  error  2018-12-03T16:26:07.992698Z nonode@nohost <0.238.0> -------- CRASH REPORT Process (<0.238.0>) with 1 neighbors exited with reason: no match of right hand value \{error,eacces} at couch_auth_cache:ensure_users_db_exists/2(line:447) <= couch_auth_cache:open_auth_db/0(line:419) <= couch_auth_cache:reinit_cache/1(line:282) <= couch_auth_cache:init/1(line:164) <= gen_server:init_it/6(line:328) 16:26:07  error  2018-12-03T16:26:07.993262Z nonode@nohost <0.195.0> -------- Error starting Apache CouchDB: 16:26:07 {error,\{shutdown,{failed_to_start_child,couch_secondary_services,{shutdown,{failed_to_start_child,auth_cache,{{badmatch,{error,eacces}}, \{couch_auth_cache,ensure_users_db_exists,2, {file,"src/couch_auth_cache.erl"},\{line,447} },\{couch_auth_cache,open_auth_db,0, {file,"src/couch_auth_cache.erl"},\{line,419} },\{couch_auth_cache,reinit_cache,1, {file,"src/couch_auth_cache.erl"},\{line,282} },{couch  16:26:07  error  2018-12-03T16:26:07.995968Z nonode@nohost <0.205.0> -------- Supervisor couch_secondary_services had child auth_cache started with couch_auth_cache:start_link() at undefined exit with reason no match of right hand value \{error,eacces} at couch_auth_cache:ensure_users_db_exists/2(line:447) <= couch_auth_cache:open_auth_db/0(line:419) <= couch_auth_cache:reinit_cache/1(line:282) <= couch_aut 16:26:07  error  2018-12-03T16:26:07.996242Z nonode@nohost <0.196.0> -------- Supervisor couch_sup had child couch_secondary_services started with couch_secondary_sup:start_link() at undefined exit with reason \{shutdown,{failed_to_start_child,auth_cache,{{badmatch,{error,eacces}}, \{couch_auth_cache,ensure_users_db_exists,2, {file,"src/couch_auth_cache.erl"},\{line,447} },{couch_auth_cache,open_auth_db,0, {f 16:26:07  error  2018-12-03T16:26:07.996531Z nonode@nohost <0.194.0> -------- CRASH REPORT Process (<0.194.0>) with 0 neighbors exited with reason: \{{shutdown,{failed_to_start_child,couch_secondary_services,{shutdown,{failed_to_start_child,auth_cache,{{badmatch,{error,eacces}}, \{couch_auth_cache,ensure_users_db_exists,2, {file,"src/couch_auth_cache.erl"},\{line,447} },{couch_auth_cache,open_auth_db,0, {fil 16:26:07  info  2018-12-03T16:26:07.996811Z nonode@nohost <0.7.0> -------- Application couch exited with reason: \{{shutdown,{failed_to_start_child,couch_secondary_services,{shutdown,{failed_to_start_child,auth_cache,{{badmatch,{error,eacces}}, \{couch_auth_cache,ensure_users_db_exists,2, {file,"src/couch_auth_cache.erl"},\{line,447} },\{couch_auth_cache,open_auth_db,0, {file,"src/couch_auth_cache.erl"},{line, 16:26:08  os_mon  memory supervisor port (memsup): Erlang has closed 16:26:08  os_mon  cpu supervisor port (cpu_sup): Erlang has closed 16:26:09 {"Kernel pid terminated",application_controller,"\{application_start_failure,couch,{{shutdown,{failed_to_start_child,couch_secondary_services,{shutdown,{failed_to_start_child,auth_cache,{{badmatch,{error,eacces}}, {couch_auth_cache,e ```  ></description> </Issue>
