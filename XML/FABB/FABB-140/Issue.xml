<Issue id="33586" key="FABB-140" number="140" project="10608" reporter="sang" assignee="sashapesic" creator="sang" type="10001" summary="couchdb image cannot be built on raspberry pi" priority="1" resolution="10000" status="6" created="2018-09-07 22:38:54.0" updated="2019-11-26 17:16:47.0" resolutiondate="2018-09-13 15:16:59.0" votes="0" watches="2" workflowId="44880"> <description><! CDATA When I was building couchdb on raspberry pi, I had the following error reported. It seems for some reason the amd64 C compiler was used. I tried to find the cc command somewhere in the source code, but was not able to find it.  ==> b64url (compile) Compiled src/b64url.erl Compiling /usr/src/couchdb/src/b64url/c_src/b64url.c cc: error: unrecognized command line option '-m64' ERROR: compile failed while processing /usr/src/couchdb/src/b64url: rebar_abort make: ***  couch  Error 1 Makefile:67: recipe for target 'couch' failed The command '/bin/sh -c buildDeps=' apt-transport-https gcc g++ erlang-dev libcurl4-openssl-dev libicu-dev libmozjs185-dev make ' && apt-get update -y -qq && apt-get install -y --no-install-recommends $buildDeps && cd /usr/src && mkdir couchdb && curl -fSL https://archive.apache.org/dist/couchdb/source/$COUCHDB_VERSION/apache-couchdb-$COUCHDB_VERSION.tar.gz -o couchdb.tar.gz && curl -fSL https://archive.apache.org/dist/couchdb/source/$COUCHDB_VERSION/apache-couchdb-$COUCHDB_VERSION.tar.gz.asc -o couchdb.tar.gz.asc && gpg --batch --verify couchdb.tar.gz.asc couchdb.tar.gz && tar -xzf couchdb.tar.gz -C couchdb --strip-components=1 && cd couchdb && ./configure --disable-docs && make release && mv /usr/src/couchdb/rel/couchdb /opt/ && apt-get purge -y --auto-remove $buildDeps && rm -rf /var/lib/apt/lists/* /usr/src/couchdb* && mkdir /opt/couchdb/data && chown -R couchdb:couchdb /opt/couchdb' returned a non-zero code: 2 Makefile:131: recipe for target 'build/image/couchdb/.dummy' failed make: ***  build/image/couchdb/.dummy  Error 2  ></description> </Issue>
