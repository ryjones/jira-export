<Action id="69674" issue="45592" author="JIRAUSER20349" type="comment" created="2020-07-12 13:05:17.0" updateauthor="JIRAUSER20349" updated="2020-07-12 13:05:17.0"> <body><! CDATA ===> Downloading:  https://github.com/hyperledger/fabric/releases/download/v1.4.0/hyperledger-fabric-linux-amd64-1.4.0.tar.gz      Extracting: 2020-07-11 06:41:31 (9.39 MB/s) - ‘hyperledger-fabric-linux-amd64-1.4.0.tar.gz’ saved  53389792/53389792   1093|https://gitlab.com/artfactory/malevich/-/jobs/634086888#L1093 bin/  1094|https://gitlab.com/artfactory/malevich/-/jobs/634086888#L1094 bin/get-docker-images.sh  1095|https://gitlab.com/artfactory/malevich/-/jobs/634086888#L1095 bin/orderer  1096|https://gitlab.com/artfactory/malevich/-/jobs/634086888#L1096 bin/peer  1097|https://gitlab.com/artfactory/malevich/-/jobs/634086888#L1097 bin/configtxlator  1098|https://gitlab.com/artfactory/malevich/-/jobs/634086888#L1098 bin/discover  1099|https://gitlab.com/artfactory/malevich/-/jobs/634086888#L1099 bin/idemixgen  1100|https://gitlab.com/artfactory/malevich/-/jobs/634086888#L1100 bin/cryptogen  1101|https://gitlab.com/artfactory/malevich/-/jobs/634086888#L1101 bin/configtxgen  1102|https://gitlab.com/artfactory/malevich/-/jobs/634086888#L1102 config/  1103|https://gitlab.com/artfactory/malevich/-/jobs/634086888#L1103 config/orderer.yaml  1104|https://gitlab.com/artfactory/malevich/-/jobs/634086888#L1104 config/core.yaml  1105|https://gitlab.com/artfactory/malevich/-/jobs/634086888#L1105 config/configtx.yaml  1106|https://gitlab.com/artfactory/malevich/-/jobs/634086888#L1106 ==> Done.   inside core.yaml we have these values:   # Generic builder environment, suitable for most chaincode types builder: $(DOCKER_NS)/fabric-ccenv:latest   but there is no :latest tag now  ></body> </Action>
<Action id="69675" issue="45592" author="salmandabbakuti" type="comment" created="2020-07-13 05:42:03.0" updateauthor="salmandabbakuti" updated="2020-07-13 05:42:03.0"> <body><! CDATA same here https://jira.hyperledger.org/browse/FAB-18064. They must look into the issue and fix faster as these are high priority.      ></body> </Action>
<Action id="69724" issue="45592" author="btl5037" type="comment" body="As noted in https://jira.hyperledger.org/browse/FAB-18064 you should be setting the image tags in `core.yaml` yourself via the keys: `chaincode.builder` and `chaincode.&lt;language&gt;.runtime&gt;`" created="2020-07-19 04:45:34.0" updateauthor="btl5037" updated="2020-07-19 04:45:34.0"/>
<Action id="69731" issue="45592" author="JIRAUSER20349" type="comment" created="2020-07-20 04:58:22.0" updateauthor="JIRAUSER20349" updated="2020-07-20 04:59:11.0"> <body><! CDATA I think You should do this in the archive, because it loads automatically by bootstrap script.   https://github.com/hyperledger/fabric/releases/download/v1.4.0/hyperledger-fabric-linux-amd64-1.4.0.tar.gz   ></body> </Action>
<Action id="69742" issue="45592" author="JIRAUSER20349" type="comment" created="2020-07-21 17:26:25.0" updateauthor="JIRAUSER20349" updated="2020-07-21 17:27:37.0"> <body><! CDATA changing version in core.yaml is not helped    please add latest tag to docker image on docker hub or fix hyperledger images version 1.4.0 to download the image hyperledger/fabric-ccenv v1.4.0 correctly   i run command: docker-compose -f docker-compose-cli.yaml exec -T cli bash ./scripts/upgradeChaincode.sh   and cli runs command inside container   peer chaincode upgrade -C mychannel -n mlvcc -v 1.8 -p /opt/gopath/src/github.com/chaincode/node -c '\{"Args":  }' -P 'OR('\''RootOrgMSP.member'\'')' -l node --tls --cafile /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/ordererOrganizations/malevich.io/orderers/orderer.malevich.io/msp/tlscacerts/tlsca.malevich.io-cert.pem --peerAddresses peer0.root-org.malevich.io:7051 --tlsRootCertFiles /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/root-org.malevich.io/peers/peer0.root-org.malevich.io/tls/ca.crt   log:   + peer chaincode upgrade -C mychannel -n mlvcc -v 1.8 -p /opt/gopath/src/github.com/chaincode/node -c '\{"Args":  }' -P 'OR('\''RootOrgMSP.member'\'')' -l node --tls --cafile /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/ordererOrganizations/malevich.io/orderers/orderer.malevich.io/msp/tlscacerts/tlsca.malevich.io-cert.pem --peerAddresses peer0.root-org.malevich.io:7051 --tlsRootCertFiles /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/root-org.malevich.io/peers/peer0.root-org.malevich.io/tls/ca.crt  1466|https://gitlab.com/artfactory/malevich/-/jobs/649273540#L1466 2020-07-21 17:15:15.016 UTC  chaincodeCmd  InitCmdFactory -> INFO 001 Retrieved channel (mychannel) orderer endpoint: orderer.malevich.io:7050  1467|https://gitlab.com/artfactory/malevich/-/jobs/649273540#L1467 2020-07-21 17:15:15.018 UTC  chaincodeCmd  checkChaincodeCmdParams -> INFO 002 Using default escc  1468|https://gitlab.com/artfactory/malevich/-/jobs/649273540#L1468 2020-07-21 17:15:15.018 UTC  chaincodeCmd  checkChaincodeCmdParams -> INFO 003 Using default vscc  1469|https://gitlab.com/artfactory/malevich/-/jobs/649273540#L1469 Error: could not assemble transaction, err proposal response was not successful, error code 500, msg error starting container: error starting container: Failed to generate platform-specific docker build: Failed to pull hyperledger/fabric-ccenv:latest: API error (404): manifest for hyperledger/fabric-ccenv:latest not found: manifest unknown: manifest unknown  1470|https://gitlab.com/artfactory/malevich/-/jobs/649273540#L1470 ERROR: Job failed: exit code 1  ></body> </Action>
<Action id="69743" issue="45592" author="btl5037" type="comment" body="again, just add the environment variable `CORE_CHAINCODE_BUILDER=hyperledger/fabric-ccenv:1.4` to your peer in the docker-compose file and you&apos;re done. Nothing else required. We are working on getting a `1.4.8` out the door tomorrow that will change the default value to `1.4`" created="2020-07-21 17:50:33.0" updateauthor="btl5037" updated="2020-07-21 17:51:04.0"/>
<Action id="69744" issue="45592" author="btl5037" type="comment" body="We can&apos;t go back and edit a pre-existing archive unfortunately as there is also a code change required to generate the 1.4 tags, and it would change the functionality of people already using it who may be creating their own latest tags locally" created="2020-07-21 17:51:45.0" updateauthor="btl5037" updated="2020-07-21 17:52:14.0"/>
<Action id="69745" issue="45592" author="JIRAUSER20349" type="comment" body="thank you, everything works" created="2020-07-21 18:29:49.0" updateauthor="JIRAUSER20349" updated="2020-07-21 18:30:21.0"/>
