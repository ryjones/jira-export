<Action id="46067" issue="31059" author="mastersingh24" type="comment" created="2018-06-18 09:22:04.0" updateauthor="mastersingh24" updated="2018-06-18 09:22:46.0"> <body><! CDATA There is not much we can do on this .... we basically build our CouchDB image based on the standard CouchDB image.  Looks like others have found this problem as well and filed against CouchDB -  https://github.com/apache/couchdb/issues/892  .  I'll mark this on monitor / on hold for now  ></body> </Action>
<Action id="46070" issue="31059" author="sashapesic" type="comment" created="2018-06-18 09:33:45.0" updateauthor="sashapesic" updated="2018-09-10 19:12:57.0"> <body><! CDATA  ~mastersingh24  Yes, I am aware - just wanted to log the issue here so the community is aware it is a current problem. Thank you, SP  ></body> </Action>
<Action id="50180" issue="31059" author="sashapesic" type="comment" created="2018-09-10 19:00:45.0" updateauthor="sashapesic" updated="2018-09-10 19:00:45.0"> <body><! CDATA  ~mastersingh24  I figured this out for aarch64.   The current Dockerfile in fabric-baseimage/images/couchdb has some issue with the rebar version supplied. This happens because couchdb ships with an old version of rebar (an erlang dependency manager) that has a  bug |https://github.com/rebar/rebar/issues/536  regarding arm64. Downloading the  latest version of rebar|https://github.com/rebar/rebar/wiki/rebar  and placing it in bin/rebar (relative to the couchdb sources) fixes the problem. The latest working image I have built can be found  here|https://hub.docker.com/r/pesicsasa/fabric-couchdb/tags/ .  Steps to build the couchdb for aarch64:  1. pull hyperledger baseimage from  here|https://hub.docker.com/r/pesicsasa/fabric-baseimage/  and tag it appropriately.  2. git clone  https://github.com/hyperledger/fabric-baseimage.git  3. Go to fabric-baseimage/images/couchdb and open Dockerfile.in  4. Now you will have to add some lines to the Dockerfile.in. Find the line {code:bgColor=#f4f5f7} && ./configure --disable-docs \ {code} and add the following lines after it: {code:bgColor=#f4f5f7} && mv bin/rebar bin/rebar-orig \ && wget https://github.com/rebar/rebar/wiki/rebar -O bin/rebar \ && chmod +x bin/rebar \ {code} 5. Go back to fabric-baseimage folder and run make couchdb (you may have to retag hyperledger/fabric-baseimage) 6. You are done!  ></body> </Action>
<Action id="58551" issue="31059" author="mastersingh24" type="comment" body="Looks like  ~SashaPESIC  figured this out but we are not going to support building couchdb on every possible platform." created="2019-03-26 11:22:22.0" updateauthor="mastersingh24" updated="2019-03-26 11:22:22.0"/>
