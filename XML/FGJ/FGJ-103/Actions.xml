<Action id="71428" issue="46600" author="bestbeforetoday" type="comment" created="2021-02-26 11:18:48.0" updateauthor="bestbeforetoday" updated="2021-02-26 11:18:48.0"> <body><! CDATA Right now that transaction validation code is getting swallowed by the fabric-gateway code. There is a work-around you could employ, which is to implement your own commit handler so you deal with the committed transactions directly and can pull out whatever information you need:   https://hyperledger.github.io/fabric-gateway-java/release-2.2/org/hyperledger/fabric/gateway/spi/CommitHandlerFactory.html|https://hyperledger.github.io/fabric-gateway-java/release-2.2/org/hyperledger/fabric/gateway/spi/CommitHandlerFactory.html   There is sample code linked there that you can just cut & paste.  You register the default handler on the Gateway connect:   https://hyperledger.github.io/fabric-gateway-java/release-2.2/org/hyperledger/fabric/gateway/Gateway.Builder.html#commitHandler(org.hyperledger.fabric.gateway.spi.CommitHandlerFactory)|https://hyperledger.github.io/fabric-gateway-java/release-2.2/org/hyperledger/fabric/gateway/Gateway.Builder.html#commitHandler(org.hyperledger.fabric.gateway.spi.CommitHandlerFactory)   Or you can register a specific handler to use per transaction invocation:   https://hyperledger.github.io/fabric-gateway-java/release-2.2/org/hyperledger/fabric/gateway/Transaction.html#setCommitHandler(org.hyperledger.fabric.gateway.spi.CommitHandlerFactory)|https://hyperledger.github.io/fabric-gateway-java/release-2.2/org/hyperledger/fabric/gateway/Transaction.html#setCommitHandler(org.hyperledger.fabric.gateway.spi.CommitHandlerFactory)   But I agree that having the exception thrown from the submit include this information for you would be nicer.  ></body> </Action>
<Action id="71429" issue="46600" author="bestbeforetoday" type="comment" created="2021-02-26 11:40:32.0" updateauthor="bestbeforetoday" updated="2021-02-26 11:43:20.0"> <body><! CDATA h3. Implementation suggestion * Define a {{CommitException}} as a subclass of the {{ContractException}}, and which includes the {{BlockEvent.TransactionEvent}}. Calling code can pull the transaction status and any other information they might want from that event object * The code change is probably just in {{CommitHandlerImpl.onTxEvent()}} * Also declare the exception explicitly on {{Contract.submitTransaction()}} and {{Transaction.submit()}} along with accompanying Javadoc * Unit test in {{TransactionTest}}  ></body> </Action>
<Action id="71430" issue="46600" author="JIRAUSER21442" type="comment" created="2021-02-26 13:02:10.0" updateauthor="JIRAUSER21442" updated="2021-02-26 13:02:10.0"> <body><! CDATA To avoid signature breaking changes, I added the already existent `TransactionEventException` as the root cause of `ContractException`.  https://github.com/hyperledger/fabric-gateway-java/pull/72  ></body> </Action>
<Action id="71431" issue="46600" author="bestbeforetoday" type="comment" body="Having a new subclass of ContractException should not have broken anyone since ContractException is already declared as thrown, but chaining the exception is a fine alternative too. (y)" created="2021-02-26 17:48:38.0" updateauthor="bestbeforetoday" updated="2021-02-26 17:48:38.0"/>
<Action id="71436" issue="46600" author="JIRAUSER21442" type="comment" body="Yes, you&apos;re right. I fixed the DCO check" created="2021-03-01 07:45:21.0" updateauthor="JIRAUSER21442" updated="2021-03-01 07:45:21.0"/>
<Action id="71710" issue="46600" author="denyeart" type="comment" created="2021-04-23 15:44:41.0" updateauthor="denyeart" updated="2021-04-23 15:44:41.0"> <body><! CDATA  ~ndr_brt   ~andrew-coleman    ~bestbeforetoday    It looks like  https://github.com/hyperledger/fabric-gateway-java/pull/76  was merged into release-2.2. In the other repositories, we typically fix in main branch and then backport to release-2.2.  Is this process not followed in fabric-gateway-java? Or was this just an exception and we need to now forward-port to main branch?  ></body> </Action>
<Action id="71712" issue="46600" author="bestbeforetoday" type="comment" body=" ~denyeart  that is a cherry-pick to release-2.2 of a commit in the main branch" created="2021-04-23 23:18:17.0" updateauthor="bestbeforetoday" updated="2021-04-23 23:18:17.0"/>
<Action id="71713" issue="46600" author="denyeart" type="comment" body="Ah right, sorry I didn&apos;t notice the main commit since it was more than a month ago!" created="2021-04-24 13:00:48.0" updateauthor="denyeart" updated="2021-04-24 13:00:48.0"/>
