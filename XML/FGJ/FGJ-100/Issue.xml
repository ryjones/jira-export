<Issue id="46370" key="FGJ-100" number="100" project="11000" reporter="JIRAUSER21145" creator="JIRAUSER21145" type="10004" summary="Failed to send transaction to the orderer " priority="3" resolution="10204" status="6" created="2020-12-02 11:10:57.0" updated="2021-01-05 14:17:19.0" resolutiondate="2021-01-05 14:17:19.0" votes="0" watches="2" workflowId="60306" archived="N"> <description><! CDATA I use fabric 1.4.4 to develop java applications deployed on multiple hosts. I use Java gateway SDK to invoke transactions.  I tried the following two ways : {code:java} result = contract.submitTransaction("userRegister",mspId,username,pubkey,attribute,period,sigPK);{code} {code:java} result = contract.createTransaction("userRegister").setEndorsingPeers(network.getChannel().getPeers(EnumSet.of(Peer.PeerRole.ENDORSING_PEER))).submit(mspId,username,pubkey,attribute,period,sigPK);{code} However, I got the error: *Failed to send transaction to the orderer* {code:java} org.hyperledger.fabric.gateway.ContractException: Failed to send transaction to the ordererorg.hyperledger.fabric.gateway.ContractException: Failed to send transaction to the orderer at org.hyperledger.fabric.gateway.impl.TransactionImpl.submit(TransactionImpl.java:114) at org.example.User.userRegister(User.java:137) at org.example.Main.main(Main.java:80)Caused by: java.util.concurrent.ExecutionException: java.lang.IllegalArgumentException: The proposal responses have 3 inconsistent groups with 0 that are invalid. Expected all to be consistent and none to be invalid. at java.base/java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:395) at java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:2022) at org.hyperledger.fabric.gateway.impl.TransactionImpl.submit(TransactionImpl.java:108) ... 2 moreCaused by: java.lang.IllegalArgumentException: The proposal responses have 3 inconsistent groups with 0 that are invalid. Expected all to be consistent and none to be invalid. at org.hyperledger.fabric.sdk.Channel.sendTransaction(Channel.java:5233) ... 3 more{code} How can I solve this problem? （I can use the cli container to submit transactions normally.)  I didn't find any error logs in peers and orderers.   My peer logs are: {code:java} 2020-12-02 10:34:57.173 UTC  endorser  callChaincode -> INFO 08b  mychannel  f3070a30  Entry chaincode: name:"cscc"  2020-12-02 10:34:57.174 UTC  endorser  callChaincode -> INFO 08c  mychannel  f3070a30  Exit chaincode: name:"cscc"  (1ms) 2020-12-02 10:34:57.174 UTC  comm.grpc.server  1 -> INFO 08d unary call completed grpc.service=protos.Endorser grpc.method=ProcessProposal grpc.peer_address=39.99.139.15:41838 grpc.code=OK grpc.call_duration=2.396418ms 2020-12-02 10:34:58.427 UTC  endorser  callChaincode -> INFO 08e  mychannel  d8d1a4cb  Entry chaincode: name:"cbfm-go"  2020-12-02 10:34:58.644 UTC  endorser  callChaincode -> INFO 08f  mychannel  d8d1a4cb  Exit chaincode: name:"cbfm-go"  (217ms) 2020-12-02 10:34:58.645 UTC  comm.grpc.server  1 -> INFO 090 unary call completed grpc.service=protos.Endorser grpc.method=ProcessProposal grpc.peer_address=39.99.139.15:41838 grpc.code=OK grpc.call_duration=218.781865ms 2020-12-02 10:35:09.993 UTC  comm.grpc.server  1 -> INFO 091 streaming call completed grpc.service=protos.Deliver grpc.method=Deliver grpc.peer_address=39.99.139.15:41842 error="context finished before block retrieved: context canceled" grpc.code=Unknown grpc.call_duration=12.650603036s {code} My sdk version is: {code:java} <!-- https://mvnrepository.com/artifact/org.hyperledger.fabric/fabric-gateway-java --> <dependency> <groupId>org.hyperledger.fabric</groupId> <artifactId>fabric-gateway-java</artifactId> <version>1.4.1</version> </dependency> {code}  My connection profile likes that: {code:java} --- name: first-network-org1 version: 1.0.0 client: organization: Org1 connection: timeout: peer: endorser: '300' orderer: '300' channels: mychannel: orderers: - orderer.example.com - orderer2.example.com - orderer5.example.com peers: peer0.org1.example.com: endorsingPeer: true chaincodeQuery: true ledgerQuery: true eventSource: true peer1.org1.example.com: endorsingPeer: true chaincodeQuery: true ledgerQuery: true eventSource: true peer2.org1.example.com: endorsingPeer: true chaincodeQuery: true ledgerQuery: true eventSource: true organizations: Org1: mspid: Org1MSP peers: - peer0.org1.example.com - peer1.org1.example.com - peer2.org1.example.com certificateAuthorities: - ca.org1.example.com orderers: orderer.example.com: url: grpcs://39.99.136.35:7050 orderer2.example.com: url: grpcs://39.99.139.15:7050 orderer5.example.com: url: grpcs://39.99.136.35:8050 peers: peer0.org1.example.com: url: grpcs://39.99.136.35:7051 tlsCACerts: pem: | -----BEGIN CERTIFICATE----- MIICVjCCAf2gAwIBAgIQQyai/ZMOsPmaF7/+k96YMTAKBggqhkjOPQQDAjB2MQsw CQYDVQQGEwJVUzETMBEGA1UECBMKQ2FsaWZvcm5pYTEWMBQGA1UEBxMNU2FuIEZy YW5jaXNjbzEZMBcGA1UEChMQb3JnMS5leGFtcGxlLmNvbTEfMB0GA1UEAxMWdGxz Y2Eub3JnMS5leGFtcGxlLmNvbTAeFw0yMDEyMDExMDI2MDBaFw0zMDExMjkxMDI2 MDBaMHYxCzAJBgNVBAYTAlVTMRMwEQYDVQQIEwpDYWxpZm9ybmlhMRYwFAYDVQQH Ew1TYW4gRnJhbmNpc2NvMRkwFwYDVQQKExBvcmcxLmV4YW1wbGUuY29tMR8wHQYD VQQDExZ0bHNjYS5vcmcxLmV4YW1wbGUuY29tMFkwEwYHKoZIzj0CAQYIKoZIzj0D AQcDQgAEHGZFcRyXjU9pilmUNVXn2nr/shNTwfKhBC2phNA9/rcli7e2z5ivezxk WTcbfsO2jYjrVgtfgKdcjmYcrt0fOqNtMGswDgYDVR0PAQH/BAQDAgGmMB0GA1Ud JQQWMBQGCCsGAQUFBwMCBggrBgEFBQcDATAPBgNVHRMBAf8EBTADAQH/MCkGA1Ud DgQiBCBFisEWV/sdUpKXc+4sndDELBLTIP06CjgD+nGqniDFZDAKBggqhkjOPQQD AgNHADBEAiAyj7+5+0vW0V4Ncf71UQuRDRdEAzhAB4ZWzKHPOjPPqAIgdsGPzOYU /bhQzljQFz7PtvuwSkdeTUryfOK6E0yTCNs= -----END CERTIFICATE-----  grpcOptions: ssl-target-name-override: peer0.org1.example.com hostnameOverride: peer0.org1.example.com peer1.org1.example.com: url: grpcs://39.99.139.15:9051 tlsCACerts: pem: | -----BEGIN CERTIFICATE----- MIICVjCCAf2gAwIBAgIQQyai/ZMOsPmaF7/+k96YMTAKBggqhkjOPQQDAjB2MQsw CQYDVQQGEwJVUzETMBEGA1UECBMKQ2FsaWZvcm5pYTEWMBQGA1UEBxMNU2FuIEZy YW5jaXNjbzEZMBcGA1UEChMQb3JnMS5leGFtcGxlLmNvbTEfMB0GA1UEAxMWdGxz Y2Eub3JnMS5leGFtcGxlLmNvbTAeFw0yMDEyMDExMDI2MDBaFw0zMDExMjkxMDI2 MDBaMHYxCzAJBgNVBAYTAlVTMRMwEQYDVQQIEwpDYWxpZm9ybmlhMRYwFAYDVQQH Ew1TYW4gRnJhbmNpc2NvMRkwFwYDVQQKExBvcmcxLmV4YW1wbGUuY29tMR8wHQYD VQQDExZ0bHNjYS5vcmcxLmV4YW1wbGUuY29tMFkwEwYHKoZIzj0CAQYIKoZIzj0D AQcDQgAEHGZFcRyXjU9pilmUNVXn2nr/shNTwfKhBC2phNA9/rcli7e2z5ivezxk WTcbfsO2jYjrVgtfgKdcjmYcrt0fOqNtMGswDgYDVR0PAQH/BAQDAgGmMB0GA1Ud JQQWMBQGCCsGAQUFBwMCBggrBgEFBQcDATAPBgNVHRMBAf8EBTADAQH/MCkGA1Ud DgQiBCBFisEWV/sdUpKXc+4sndDELBLTIP06CjgD+nGqniDFZDAKBggqhkjOPQQD AgNHADBEAiAyj7+5+0vW0V4Ncf71UQuRDRdEAzhAB4ZWzKHPOjPPqAIgdsGPzOYU /bhQzljQFz7PtvuwSkdeTUryfOK6E0yTCNs= -----END CERTIFICATE-----  grpcOptions: ssl-target-name-override: peer1.org1.example.com hostnameOverride: peer1.org1.example.com peer2.org1.example.com: url: grpcs://39.99.136.35:8051 tlsCACerts: pem: | -----BEGIN CERTIFICATE----- MIICVjCCAf2gAwIBAgIQQyai/ZMOsPmaF7/+k96YMTAKBggqhkjOPQQDAjB2MQsw CQYDVQQGEwJVUzETMBEGA1UECBMKQ2FsaWZvcm5pYTEWMBQGA1UEBxMNU2FuIEZy YW5jaXNjbzEZMBcGA1UEChMQb3JnMS5leGFtcGxlLmNvbTEfMB0GA1UEAxMWdGxz Y2Eub3JnMS5leGFtcGxlLmNvbTAeFw0yMDEyMDExMDI2MDBaFw0zMDExMjkxMDI2 MDBaMHYxCzAJBgNVBAYTAlVTMRMwEQYDVQQIEwpDYWxpZm9ybmlhMRYwFAYDVQQH Ew1TYW4gRnJhbmNpc2NvMRkwFwYDVQQKExBvcmcxLmV4YW1wbGUuY29tMR8wHQYD VQQDExZ0bHNjYS5vcmcxLmV4YW1wbGUuY29tMFkwEwYHKoZIzj0CAQYIKoZIzj0D AQcDQgAEHGZFcRyXjU9pilmUNVXn2nr/shNTwfKhBC2phNA9/rcli7e2z5ivezxk WTcbfsO2jYjrVgtfgKdcjmYcrt0fOqNtMGswDgYDVR0PAQH/BAQDAgGmMB0GA1Ud JQQWMBQGCCsGAQUFBwMCBggrBgEFBQcDATAPBgNVHRMBAf8EBTADAQH/MCkGA1Ud DgQiBCBFisEWV/sdUpKXc+4sndDELBLTIP06CjgD+nGqniDFZDAKBggqhkjOPQQD AgNHADBEAiAyj7+5+0vW0V4Ncf71UQuRDRdEAzhAB4ZWzKHPOjPPqAIgdsGPzOYU /bhQzljQFz7PtvuwSkdeTUryfOK6E0yTCNs= -----END CERTIFICATE-----  grpcOptions: ssl-target-name-override: peer2.org1.example.com hostnameOverride: peer2.org1.example.com certificateAuthorities: ca.org1.example.com: url: https://39.99.136.35:7054 caName: ca-org1 tlsCACerts: pem: | -----BEGIN CERTIFICATE----- MIICUDCCAfegAwIBAgIQTTRuNzhtFTYcnNcx7tvW7zAKBggqhkjOPQQDAjBzMQsw CQYDVQQGEwJVUzETMBEGA1UECBMKQ2FsaWZvcm5pYTEWMBQGA1UEBxMNU2FuIEZy YW5jaXNjbzEZMBcGA1UEChMQb3JnMS5leGFtcGxlLmNvbTEcMBoGA1UEAxMTY2Eu b3JnMS5leGFtcGxlLmNvbTAeFw0yMDEyMDExMDI2MDBaFw0zMDExMjkxMDI2MDBa MHMxCzAJBgNVBAYTAlVTMRMwEQYDVQQIEwpDYWxpZm9ybmlhMRYwFAYDVQQHEw1T YW4gRnJhbmNpc2NvMRkwFwYDVQQKExBvcmcxLmV4YW1wbGUuY29tMRwwGgYDVQQD ExNjYS5vcmcxLmV4YW1wbGUuY29tMFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAE 2I6BUwdREbY+r+iuvAA+RR9whFvgq1Mf4JxzUPRpMyM7rBHRg2VzxMDfyKrxlwOM UCg/G753fQj8uhfGZShMLqNtMGswDgYDVR0PAQH/BAQDAgGmMB0GA1UdJQQWMBQG CCsGAQUFBwMCBggrBgEFBQcDATAPBgNVHRMBAf8EBTADAQH/MCkGA1UdDgQiBCBH lrjSEFmKYD+0E9BibQ+uws+1MvAk9CQZyqhtBMlCbzAKBggqhkjOPQQDAgNHADBE AiBuaZADanASfpq5EGShBchYOC2MpHXNnWCuJ86bppC01wIgMOlfeSbxWVRCjLZU VubfuAj26SSUpnvQQJ6bBDgiwJY= -----END CERTIFICATE-----   httpOptions: verify: false {code}  Thanks a lot for any help !!!!!  ></description> </Issue>
