<Issue id="39099" key="CE-590" number="590" project="10200" reporter="baohua" assignee="baohua" creator="baohua" type="10004" summary="npm install problem with building operator-dashboard docker image" priority="3" resolution="10000" status="10001" created="2019-04-05 14:05:59.0" updated="2019-08-23 13:29:57.0" resolutiondate="2019-08-23 13:29:57.0" votes="0" watches="1" workflowId="51974"> <description><! CDATA When building the operator-dashboard docker image, the npm install will fail.    npm notice created a lockfile as package-lock.json. You should commit this file. npm WARN react-fittext@1.0.0 requires a peer of react@^15.0.0 but none is installed. You must install peer dependencies yourself. npm WARN react-fittext@1.0.0 requires a peer of react-dom@^15.0.0 but none is installed. You must install peer dependencies yourself. npm WARN babel-loader@8.0.5 requires a peer of @babel/core@^7.0.0 but none is installed. You must install peer dependencies yourself. npm WARN eslint-config-umi@0.1.5 requires a peer of eslint-plugin-jsx-a11y@^5.1.1 but none is installed. You must install peer dependencies yourself. npm WARN @babel/plugin-proposal-export-default@7.0.0-beta.32 requires a peer of @babel/core@7.0.0-beta.32 but none is installed. You must install peer dependencies yourself. npm WARN @babel/plugin-proposal-export-namespace@7.0.0-beta.32 requires a peer of @babel/core@7.0.0-beta.32 but none is installed. You must install peer dependencies yourself. npm WARN @babel/plugin-syntax-export-extensions@7.0.0-beta.32 requires a peer of @babel/core@7.0.0-beta.32 but none is installed. You must install peer dependencies yourself. npm WARN eslint-config-react-app@2.1.0 requires a peer of babel-eslint@^7.2.3 but none is installed. You must install peer dependencies yourself. npm WARN eslint-config-react-app@2.1.0 requires a peer of eslint-plugin-jsx-a11y@^5.1.1 but none is installed. You must install peer dependencies yourself. npm WARN ts-jest-babel-7@22.0.7 requires a peer of jest@^22.0.1 || ^22.1.0-alpha.1 || ^23.0.0-alpha.1 but none is installed. You must install peer dependencies yourself. npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@1.2.7 (node_modules/fsevents): npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@1.2.7: wanted \{"os":"darwin","arch":"any"} (current: \{"os":"linux","arch":"x64"})     added 2727 packages in 406.666s     > cello-operator@0.8.0 build /var/www/dashboard > cross-env ESLINT=none roadhog build     Failed to compile.   Module not found: Error: Can't resolve '@babel/runtime/helpers/esm/extends' in '/var/www/dashboard/node_modules/history/esm'        graceful-process#55  exit with code:1   npm ERR! code ELIFECYCLE npm ERR! errno 1 npm ERR! cello-operator@0.8.0 build: `cross-env ESLINT=none roadhog build` npm ERR! Exit status 1 npm ERR! npm ERR! Failed at the cello-operator@0.8.0 build script. npm ERR! This is probably not a problem with npm. There is likely additional logging output above.     npm ERR! A complete log of this run can be found in: npm ERR! /root/.npm/_logs/2019-04-03T02_36_03_544Z-debug.log   Removing intermediate container f51ee1ffc1cd   The command '/bin/sh -c cd /var/www/dashboard && npm install && npm run build' returned a non-zero code: 1  ></description> </Issue>
