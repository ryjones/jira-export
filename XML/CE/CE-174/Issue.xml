<Issue id="23971" key="CE-174" number="174" project="10200" reporter="sdarwin" assignee="tongliofcary" creator="sdarwin" type="10004" summary="Cello Ansible - Wait for Instances to Start" environment="Ubuntu 16.04, Cello Ansible v0.7, Docker 1.13.1, AWS" priority="3" resolution="10000" status="10001" created="2017-11-16 12:32:45.0" updated="2018-07-25 06:10:58.0" resolutiondate="2018-07-25 06:10:58.0" votes="0" watches="3" workflowId="23972"> <description><! CDATA During testing, initial AWS Ansible provisioning occasionally failed due to an error that python was not installed. This was sporadic.  Python is installed by src/agent/ansible/roles/cloud_aws/provision/templates/ubuntu.j2  The delay while waiting for a new server is here: src/agent/ansible/roles/cloud_os/postprovision/tasks/apply.yml  - name: Wait until servers are up and runnning wait_for: host: "\{\{ item }}" port: 22 state: started delay: 15 connect_timeout: 20 timeout: 300 with_items: "\{\{ groups 'allnodes'  }}"  Changing this section to have "delay: 60" instead of "delay: 15" solves the problem. Possible explanation: The current resource is waiting for port 22. However, port 22 does not guarantee python has completed installation yet.  ></description> </Issue>
