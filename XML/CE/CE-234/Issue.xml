<Issue id="26868" key="CE-234" number="234" project="10200" reporter="baohua" assignee="hightall" creator="baohua" type="10003" summary="Existing host cannot be configed" priority="3" resolution="10000" status="10001" created="2018-01-17 01:56:33.0" updated="2018-01-17 06:45:07.0" resolutiondate="2018-01-17 06:45:07.0" votes="0" watches="2" workflowId="26868"> <description><! CDATA After adding a host, cannot config it via the menu.  Â   ```  dashboard | Traceback (most recent call last): dashboard | File "/usr/local/lib/python3.5/dist-packages/flask/app.py", line 1997, in __call__ dashboard | return self.wsgi_app(environ, start_response) dashboard | File "/usr/local/lib/python3.5/dist-packages/flask/app.py", line 1985, in wsgi_app dashboard | response = self.handle_exception(e) dashboard | File "/usr/local/lib/python3.5/dist-packages/flask_restful/__init__.py", line 273, in error_router dashboard | return original_handler(e) dashboard | File "/usr/local/lib/python3.5/dist-packages/flask_restful/__init__.py", line 273, in error_router dashboard | return original_handler(e) dashboard | File "/usr/local/lib/python3.5/dist-packages/flask_restful/__init__.py", line 273, in error_router dashboard | return original_handler(e) dashboard | File "/usr/local/lib/python3.5/dist-packages/flask/app.py", line 1540, in handle_exception dashboard | reraise(exc_type, exc_value, tb) dashboard | File "/usr/local/lib/python3.5/dist-packages/flask/_compat.py", line 33, in reraise dashboard | raise value dashboard | File "/usr/local/lib/python3.5/dist-packages/flask/app.py", line 1982, in wsgi_app dashboard | response = self.full_dispatch_request() dashboard | File "/usr/local/lib/python3.5/dist-packages/flask/app.py", line 1614, in full_dispatch_request dashboard | rv = self.handle_user_exception(e) dashboard | File "/usr/local/lib/python3.5/dist-packages/flask_restful/__init__.py", line 273, in error_router dashboard | return original_handler(e) dashboard | File "/usr/local/lib/python3.5/dist-packages/flask_restful/__init__.py", line 273, in error_router dashboard | return original_handler(e) dashboard | File "/usr/local/lib/python3.5/dist-packages/flask_restful/__init__.py", line 273, in error_router dashboard | return original_handler(e) dashboard | File "/usr/local/lib/python3.5/dist-packages/flask/app.py", line 1517, in handle_user_exception dashboard | reraise(exc_type, exc_value, tb) dashboard | File "/usr/local/lib/python3.5/dist-packages/flask/_compat.py", line 33, in reraise dashboard | raise value dashboard | File "/usr/local/lib/python3.5/dist-packages/flask/app.py", line 1612, in full_dispatch_request dashboard | rv = self.dispatch_request() dashboard | File "/usr/local/lib/python3.5/dist-packages/flask/app.py", line 1598, in dispatch_request dashboard | return self.view_functions rule.endpoint (**req.view_args) dashboard | File "/app/resources/host_api.py", line 51, in host_query dashboard | return make_ok_resp(data=result) dashboard | File "/app/common/response.py", line 37, in make_ok_resp dashboard | return jsonify(response_ok), CODE_OK dashboard | File "/usr/local/lib/python3.5/dist-packages/flask/json.py", line 263, in jsonify dashboard | (dumps(data, indent=indent, separators=separators), '\n'), dashboard | File "/usr/local/lib/python3.5/dist-packages/flask/json.py", line 123, in dumps dashboard | rv = _json.dumps(obj, **kwargs) dashboard | File "/usr/lib/python3.5/json/__init__.py", line 237, in dumps dashboard | **kw).encode(obj) dashboard | File "/usr/lib/python3.5/json/encoder.py", line 198, in encode dashboard | chunks = self.iterencode(o, _one_shot=True) dashboard | File "/usr/lib/python3.5/json/encoder.py", line 256, in iterencode dashboard | return _iterencode(o, 0) dashboard | File "/usr/local/lib/python3.5/dist-packages/flask/json.py", line 80, in default dashboard | return _json.JSONEncoder.default(self, o) dashboard | File "/usr/lib/python3.5/json/encoder.py", line 179, in default dashboard | raise TypeError(repr(o) + " is not JSON serializable") dashboard | TypeError: <Host: Host object> is not JSON serializable dashboard |  2018-01-17 01:56:44,224  DEBUG  resources.host_api   utils.py:148 request_debug()  - path=/api/host/fa4d3525c69a4779aacc82bd608b68a9, method=GET dashboard |  2018-01-17 01:56:44,225  DEBUG  resources.host_api   utils.py:149 request_debug()  - request args: dashboard |  2018-01-17 01:56:44,235  DEBUG  resources.host_api   utils.py:152 request_debug()  - request form: dashboard |  2018-01-17 01:56:44,236  DEBUG  resources.host_api   utils.py:155 request_debug()  - request raw body data: dashboard |  2018-01-17 01:56:44,236  DEBUG  resources.host_api   utils.py:156 request_debug()  - b'' dashboard |  2018-01-17 01:56:44,241  DEBUG  resources.host_api   utils.py:157 request_debug()  - None dashboard |  2018-01-17 01:56:44,251  DEBUG  resources.host_api   host_api.py:49 host_query()  - Host object dashboard | 172.18.0.7 - -  17/Jan/2018 01:56:44  "GET /api/host/fa4d3525c69a4779aacc82bd608b68a9 HTTP/1.0" 500 -  ```  ></description> </Issue>
