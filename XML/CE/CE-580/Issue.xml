<Issue id="38421" key="CE-580" number="580" project="10200" reporter="arindambhattacharjee" assignee="brendatian" creator="arindambhattacharjee" type="10004" summary="Cello Chains are not getting created, always showing FAIL as Health status of CHAIN" priority="2" status="10000" created="2019-03-13 13:38:23.0" updated="2019-07-19 06:58:08.0" votes="0" watches="4" workflowId="50063"> <environment><! CDATA cello-keycloak-server | 13:11:09,121 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper  (ServerService Thread Pool -- 63) SQL Error: 1062, SQLState: 23000 cello-keycloak-server | 13:11:09,123 ERROR  org.hibernate.engine.jdbc.spi.SqlExceptionHelper  (ServerService Thread Pool -- 63) Duplicate entry 'master-keycloak-admin' for key 'UK_RU8TT6T700S9V50BU18WS5HA6' cello-keycloak-server | 13:11:09,126 INFO  org.hibernate.engine.jdbc.batch.internal.AbstractBatchImpl  (ServerService Thread Pool -- 63) HHH000010: On release of batch it still contained JDBC statements cello-keycloak-server | 13:11:09,197 ERROR  org.keycloak.services  (ServerService Thread Pool -- 63) KC-SERVICES0010: Failed to add user 'keycloak-admin' to realm 'master': user with username exists cello-keycloak-server | 13:11:09,609 INFO  org.jboss.resteasy.resteasy_jaxrs.i18n  (ServerService Thread Pool -- 63) RESTEASY002225: Deploying javax.ws.rs.core.Application: class org.keycloak.services.resources.KeycloakApplication cello-keycloak-server | 13:11:09,613 INFO  org.jboss.resteasy.resteasy_jaxrs.i18n  (ServerService Thread Pool -- 63) RESTEASY002205: Adding provider class org.keycloak.services.filters.KeycloakTransactionCommitter from Application class org.keycloak.services.resources.KeycloakApplication cello-keycloak-server | 13:11:09,616 INFO  org.jboss.resteasy.resteasy_jaxrs.i18n  (ServerService Thread Pool -- 63) RESTEASY002200: Adding class resource org.keycloak.services.resources.ThemeResource from Application class org.keycloak.services.resources.KeycloakApplication cello-keycloak-server | 13:11:09,634 INFO  org.jboss.resteasy.resteasy_jaxrs.i18n  (ServerService Thread Pool -- 63) RESTEASY002200: Adding class resource org.keycloak.services.resources.JsResource from Application class org.keycloak.services.resources.KeycloakApplication cello-keycloak-server | 13:11:09,635 INFO  org.jboss.resteasy.resteasy_jaxrs.i18n  (ServerService Thread Pool -- 63) RESTEASY002205: Adding provider class org.keycloak.services.error.KeycloakErrorHandler from Application class org.keycloak.services.resources.KeycloakApplication cello-keycloak-server | 13:11:09,637 INFO  org.jboss.resteasy.resteasy_jaxrs.i18n  (ServerService Thread Pool -- 63) RESTEASY002220: Adding singleton resource org.keycloak.services.resources.admin.AdminRoot from Application class org.keycloak.services.resources.KeycloakApplication cello-keycloak-server | 13:11:09,638 INFO  org.jboss.resteasy.resteasy_jaxrs.i18n  (ServerService Thread Pool -- 63) RESTEASY002210: Adding provider singleton org.keycloak.services.util.ObjectMapperResolver from Application class org.keycloak.services.resources.KeycloakApplication cello-keycloak-server | 13:11:09,650 INFO  org.jboss.resteasy.resteasy_jaxrs.i18n  (ServerService Thread Pool -- 63) RESTEASY002220: Adding singleton resource org.keycloak.services.resources.WelcomeResource from Application class org.keycloak.services.resources.KeycloakApplication cello-keycloak-server | 13:11:09,651 INFO  org.jboss.resteasy.resteasy_jaxrs.i18n  (ServerService Thread Pool -- 63) RESTEASY002220: Adding singleton resource org.keycloak.services.resources.RealmsResource from Application class org.keycloak.services.resources.KeycloakApplication cello-keycloak-server | 13:11:09,651 INFO  org.jboss.resteasy.resteasy_jaxrs.i18n  (ServerService Thread Pool -- 63) RESTEASY002220: Adding singleton resource org.keycloak.services.resources.RobotsResource from Application class org.keycloak.services.resources.KeycloakApplication cello-keycloak-server | 13:11:10,332 INFO  org.wildfly.extension.undertow  (ServerService Thread Pool -- 63) WFLYUT0021: Registered web context: '/auth' for server 'default-server' cello-keycloak-server | 13:11:10,569 INFO  org.jboss.as.server  (ServerService Thread Pool -- 40) WFLYSRV0010: Deployed "keycloak-server.war" (runtime-name : "keycloak-server.war") cello-keycloak-server | 13:11:11,020 INFO  org.jboss.as.server  (Controller Boot Thread) WFLYSRV0212: Resuming server cello-keycloak-server | 13:11:11,045 INFO  org.jboss.as  (Controller Boot Thread) WFLYSRV0060: Http management interface listening on http://127.0.0.1:9990/management cello-keycloak-server | 13:11:11,046 INFO  org.jboss.as  (Controller Boot Thread) WFLYSRV0051: Admin console listening on http://127.0.0.1:9990 cello-keycloak-server | 13:11:11,053 INFO  org.jboss.as  (Controller Boot Thread) WFLYSRV0025: Keycloak 4.5.0.Final (WildFly Core 5.0.0.Final) started in 90768ms - Started 626 of 904 services (623 services are lazy, passive or on-demand) cello-watchdog |  2019-03-13 13:11:11,509  INFO  __main__   watchdog.py:123 watch_run()  - Watchdog run checks with period = 15 s cello-watchdog |  2019-03-13 13:11:11,530  INFO  __main__   watchdog.py:125 watch_run()  - Found 0 hosts cello-keycloak-server | 13:11:11,927 WARN  org.keycloak.events  (default task-2) type=LOGIN_ERROR, realmId=9f993934-fa89-431b-b7fb-1dd1d4d8ff74, clientId=cello-operator-dashboard, userId=null, ipAddress=10.207.151.41, error=invalid_redirect_uri, redirect_uri=http://10.207.151.41:8080/oidc_callback cello-keycloak-server | 13:11:11,929 WARN  org.keycloak.events  (default task-1) type=LOGIN_ERROR, realmId=9f993934-fa89-431b-b7fb-1dd1d4d8ff74, clientId=cello-operator-dashboard, userId=null, ipAddress=10.207.151.41, error=invalid_redirect_uri, redirect_uri=http://10.207.151.41:8080/oidc_callback cello-watchdog |  2019-03-13 13:11:26,541  INFO  __main__   watchdog.py:123 watch_run()  - Watchdog run checks with period = 15 s cello-watchdog |  2019-03-13 13:11:26,549  INFO  __main__   watchdog.py:125 watch_run()  - Found 0 hosts cello-watchdog |  2019-03-13 13:11:41,555  INFO  __main__   watchdog.py:123 watch_run()  - Watchdog run checks with period = 15 s cello-watchdog |  2019-03-13 13:11:41,571  INFO  __main__   watchdog.py:125 watch_run()  - Found 0 hosts cello-watchdog |  2019-03-13 13:11:56,587  INFO  __main__   watchdog.py:123 watch_run()  - Watchdog run checks with period = 15 s cello-watchdog |  2019-03-13 13:11:56,597  INFO  __main__   watchdog.py:125 watch_run()  - Found 0 hosts cello-watchdog |  2019-03-13 13:12:11,611  INFO  __main__   watchdog.py:123 watch_run()  - Watchdog run checks with period = 15 s cello-watchdog |  2019-03-13 13:12:11,618  INFO  __main__   watchdog.py:125 watch_run()  - Found 0 hosts cello-watchdog |  2019-03-13 13:12:26,632  INFO  __main__   watchdog.py:123 watch_run()  - Watchdog run checks with period = 15 s cello-watchdog |  2019-03-13 13:12:26,645  INFO  __main__   watchdog.py:125 watch_run()  - Found 0 hosts cello-dashboard_rabbitmq | 2019-03-13 13:12:39.757  error  <0.514.0> closing AMQP connection <0.514.0> (172.18.0.9:33982 -> 172.18.0.4:5672): cello-dashboard_rabbitmq | missed heartbeats from client, timeout: 60s cello-watchdog |  2019-03-13 13:12:41,660  INFO  __main__   watchdog.py:123 watch_run()  - Watchdog run checks with period = 15 s cello-watchdog |  2019-03-13 13:12:41,669  INFO  __main__   watchdog.py:125 watch_run()  - Found 0 hosts cello-watchdog |  2019-03-13 13:12:56,682  INFO  __main__   watchdog.py:123 watch_run()  - Watchdog run checks with period = 15 s cello-watchdog |  2019-03-13 13:12:56,693  INFO  __main__   watchdog.py:125 watch_run()  - Found 0 hosts cello-watchdog |  2019-03-13 13:13:11,705  INFO  __main__   watchdog.py:123 watch_run()  - Watchdog run checks with period = 15 s cello-watchdog |  2019-03-13 13:13:11,714  INFO  __main__   watchdog.py:125 watch_run()  - Found 0 hosts cello-watchdog |  2019-03-13 13:13:26,730  INFO  __main__   watchdog.py:123 watch_run()  - Watchdog run checks with period = 15 s cello-watchdog |  2019-03-13 13:13:26,773  INFO  __main__   watchdog.py:125 watch_run()  - Found 0 hosts cello-watchdog |  2019-03-13 13:13:41,789  INFO  __main__   watchdog.py:123 watch_run()  - Watchdog run checks with period = 15 s cello-watchdog |  2019-03-13 13:13:42,091  INFO  __main__   watchdog.py:125 watch_run()  - Found 0 hosts cello-watchdog |  2019-03-13 13:13:57,112  INFO  __main__   watchdog.py:123 watch_run()  - Watchdog run checks with period = 15 s cello-watchdog |  2019-03-13 13:13:57,128  INFO  __main__   watchdog.py:125 watch_run()  - Found 0 hosts cello-watchdog |  2019-03-13 13:14:12,142  INFO  __main__   watchdog.py:123 watch_run()  - Watchdog run checks with period = 15 s cello-watchdog |  2019-03-13 13:14:12,276  INFO  __main__   watchdog.py:125 watch_run()  - Found 0 hosts cello-watchdog |  2019-03-13 13:14:27,278  INFO  __main__   watchdog.py:123 watch_run()  - Watchdog run checks with period = 15 s cello-watchdog |  2019-03-13 13:14:27,305  INFO  __main__   watchdog.py:125 watch_run()  - Found 0 hosts cello-watchdog |  2019-03-13 13:14:42,317  INFO  __main__   watchdog.py:123 watch_run()  - Watchdog run checks with period = 15 s cello-watchdog |  2019-03-13 13:14:42,323  INFO  __main__   watchdog.py:125 watch_run()  - Found 0 hosts cello-watchdog |  2019-03-13 13:14:57,336  INFO  __main__   watchdog.py:123 watch_run()  - Watchdog run checks with period = 15 s cello-watchdog |  2019-03-13 13:14:57,356  INFO  __main__   watchdog.py:125 watch_run()  - Found 0 hosts cello-watchdog |  2019-03-13 13:15:12,368  INFO  __main__   watchdog.py:123 watch_run()  - Watchdog run checks with period = 15 s cello-watchdog |  2019-03-13 13:15:12,381  INFO  __main__   watchdog.py:125 watch_run()  - Found 0 hosts cello-keycloak-server | 13:15:25,802 WARN  org.keycloak.events  (default task-1) type=LOGIN_ERROR, realmId=9f993934-fa89-431b-b7fb-1dd1d4d8ff74, clientId=cello-operator-dashboard, userId=null, ipAddress=10.207.151.41, error=invalid_redirect_uri, redirect_uri=http://10.207.151.41:8080/oidc_callback cello-watchdog |  2019-03-13 13:15:27,400  INFO  __main__   watchdog.py:123 watch_run()  - Watchdog run checks with period = 15 s cello-watchdog |  2019-03-13 13:15:27,430  INFO  __main__   watchdog.py:125 watch_run()  - Found 0 hosts cello-watchdog |  2019-03-13 13:15:42,452  INFO  __main__   watchdog.py:123 watch_run()  - Watchdog run checks with period = 15 s cello-watchdog |  2019-03-13 13:15:42,461  INFO  __main__   watchdog.py:125 watch_run()  - Found 0 hosts  ></environment> <description><! CDATA Hello,     Cello Chains are not getting created, always showing FAIL as Health status of CHAIN, in log always showing clusted id not found after creation of cluster and returns unhealthy chain always.     Thanks,  Arindam  ></description> </Issue>
