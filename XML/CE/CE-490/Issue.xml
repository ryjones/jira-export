<Issue id="34931" key="CE-490" number="490" project="10200" reporter="meilier" assignee="meilier" creator="meilier" type="10005" summary="Setup docker host as a worker node, a wrong mac os docker deamon listening config" priority="4" resolution="10000" status="10001" created="2018-10-27 04:48:53.0" updated="2018-10-29 02:47:10.0" resolutiondate="2018-10-29 02:47:10.0" votes="0" watches="1" workflowId="46359"> <description><! CDATA h4. Work with MacOS  In MacOS,  Docker|https://docs.docker.com/docker-for-mac/networking/#known-limitations-use-cases-and-workarounds  currently provides no support to config the daemon to listen from network.  Users need to use some tools to config Docker daemon to listen at network manually, e.g., to config Docker daemon to listen on {{127.0.0.1:2375}} $ docker run -d -v /var/run/docker.sock:/var/run/docker.sock -p 127.0.0.1:2375:2375 bobrik/socat TCP-LISTEN:2375,fork UNIX-CONNECT:/var/run/docker.sock    h4. My operation    When I set like this, i can access  #http://127.0.0.1:2375/version  and get corresponding result.  But in  #127.0.0.1:8080 , when I add a host in operator dashboard(use deamon url 127.0.0.1:2375),  I get an error of this.   {color:#de350b}Request Error 400:  http://127.0.0.1:8080/api/host {color} {color:#de350b}The request was issued with an error. The server did not create or modify data.{color}   And when typing make logs in termial. I get this.   {code:java} cello-operator-dashboard |  2018-10-27 04:20:57,185  ERROR  agent.docker.docker_swarm   docker_swarm.py:173         check_daemon()  - Exception in check_daemon Error while fetching server API version: HTTPConnectionPool(host='127.0.0.1', port=2375): Max retries exceeded with url: /version (Caused by NewConnectionError('<requests.packages.urllib3.connection.HTTPConnection object at 0x7f6810fa21d0>: Failed to establish a new connection:  Errno 111  ECONNREFUSED',)) cello-operator-dashboard |  2018-10-27 04:20:57,185  WARNING  agent.docker.host   host.py:59               create()  - The worker_api is inactive:tcp://127.0.0.1:2375 cello-operator-dashboard |  2018-10-27 04:20:57,186  WARNING  modules.host   host.py:126               create()  - Host docker_host cannot be setup cello-operator-dashboard |  2018-10-27 04:20:57,186  WARNING  resources.host_api   host_api.py:199          host_create()  - Failed to create host docker_host {code}       *All 0.0.0.0 in ubuntu why 127.0.0.1 in mac os ?*      Simply, I change 127.0.0.1 in the command to 0.0.0.0, and it works. Of course, I use only one PC to establish my test env.:) {code:java} docker run -d -v /var/run/docker.sock:/var/run/docker.sock -p 0.0.0.0:2375:2375 bobrik/socat TCP-LISTEN:2375,fork UNIX-CONNECT:/var/run/docker.sock {code}                  ></description> </Issue>
