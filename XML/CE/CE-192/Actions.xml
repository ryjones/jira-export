<Action id="37022" issue="25706" author="harsha544" type="comment" created="2017-12-13 05:54:39.0" updateauthor="harsha544" updated="2017-12-13 05:54:39.0"> <body><! CDATA Hi  ~baohua ,  Given the recent changes to the following docker hub repo's i.e linking with Github's auto-trigger feature :-   https://hub.docker.com/r/hyperledger/cello-mongo/   https://hub.docker.com/r/hyperledger/cello-nginx/   https://hub.docker.com/r/hyperledger/cello-baseimage/   I am not sure if  Dockerfile.in|https://github.com/hyperledger/cello/blob/master/config/baseimage/Dockerfile.in#L1  can be consumed as-is since make will be performing a variable substitution to *_DOCKER_BASE___* in the above Dockerfile.in and would generate a arch specific Dockerfile and later that would be consumed as-is . I am not sure if github's auto trigger functionality might support this.  Alternatively we can switch to CI for x86/ppc64le/s390x. Please share your thoughts.  ></body> </Action>
<Action id="37037" issue="25706" author="baohua" type="comment" created="2017-12-13 09:04:45.0" updateauthor="baohua" updated="2017-12-13 09:04:45.0"> <body><! CDATA  ~harsha544   after evaluation, nfortunately, dockerhub only support a full-version of docker file.  Hence for the x86 base images, let's provide a full version of dockerfile.  I'm fine if the ci can support the template file for ppc and s390 ones.  ></body> </Action>
<Action id="37038" issue="25706" author="harsha544" type="comment" created="2017-12-13 09:37:42.0" updateauthor="harsha544" updated="2017-12-13 09:37:42.0"> <body><! CDATA  ~baohua  Sure I will leverage this JIRA Item. to put a patch for x86.  Thank you. !!  ></body> </Action>
<Action id="37560" issue="25706" author="harsha544" type="comment" body="Here&apos;s the PR -  https://gerrit.hyperledger.org/r/16275  .We can test now." created="2017-12-18 04:22:13.0" updateauthor="harsha544" updated="2017-12-18 04:22:13.0"/>
<Action id="37561" issue="25706" author="baohua" type="comment" body="Docker hub can only access name Dockefile now, hence we can put them under different dirs." created="2017-12-18 04:30:12.0" updateauthor="baohua" updated="2017-12-18 04:30:12.0"/>
<Action id="37562" issue="25706" author="harsha544" type="comment" body="Re-structuring the code to align with the Dockerhub&apos;s specs." created="2017-12-18 04:32:03.0" updateauthor="harsha544" updated="2017-12-18 04:32:14.0"/>
<Action id="37563" issue="25706" author="harsha544" type="comment" body=" ~baohua  I have updated the Code  https://gerrit.hyperledger.org/r/16275  " created="2017-12-18 04:53:52.0" updateauthor="harsha544" updated="2017-12-18 04:53:52.0"/>
<Action id="37609" issue="25706" author="baohua" type="comment" body=" ~harsha544 , Seems for other images, we need to use `FROM hyperledger/cello-baseimage:x86_64-latest`" created="2017-12-19 01:28:34.0" updateauthor="baohua" updated="2017-12-19 01:28:34.0"/>
<Action id="37610" issue="25706" author="harsha544" type="comment" created="2017-12-19 03:03:48.0" updateauthor="harsha544" updated="2017-12-19 03:04:04.0"> <body><! CDATA  ~baohua  I assumed the docker tagging convention per this  https://github.com/hyperledger/cello/blob/master/Makefile#L26  should result into :-  hyperledger/cello-baseimage:x86_64-0.8.0  & hyperledger/cello-baseimage:latest  Hence the tag should be `FROM hyperledger/cello-baseimage` .  If we follow `FROM hyperledger/cello-baseimage:x86_64-latest` convention I foresee many issues cropping up since the docker-compose.yaml files have all `FROM hyperledger/cello-baseimage` since this is architecturally independent.  ></body> </Action>
<Action id="37612" issue="25706" author="baohua" type="comment" created="2017-12-19 04:05:17.0" updateauthor="baohua" updated="2017-12-19 04:05:37.0"> <body><! CDATA  ~harsha544 , oh, not to these files.   I mean the Dockefile to build other images in dockerhub, like ` https://gerrit.hyperledger.org/r/#/c/16275/5/dockerhub/mongo/Dockerfile `. This is because dockerhub will use the base image in its repo to build out, however, there is only `hyperledger/cello-baseimage:x86_64-latest` one.  ></body> </Action>
<Action id="37613" issue="25706" author="harsha544" type="comment" body="Alright, I will push the mentioned changes." created="2017-12-19 04:12:30.0" updateauthor="harsha544" updated="2017-12-19 04:19:08.0"/>
<Action id="37614" issue="25706" author="harsha544" type="comment" body="Here we go https://gerrit.hyperledger.org/r/16311" created="2017-12-19 04:24:04.0" updateauthor="harsha544" updated="2017-12-19 04:24:04.0"/>
