<Issue id="20411" key="CE-119" number="119" project="10200" reporter="waaagh" assignee="waaagh" creator="waaagh" type="10004" summary="fail to create chain cluster on swarm hosts" priority="3" resolution="10000" status="10001" created="2017-08-25 09:10:31.0" updated="2017-09-18 14:29:14.0" resolutiondate="2017-09-09 00:51:27.0" votes="0" watches="1" workflowId="20412"> <description><! CDATA when i create a host at Dashboard, the process is:  POST /host ->  host_create():src/resources/host_api.py ->  HostHandler.create():src/modules/host.py ->  DockerHost.create():src/agent/docker/host.py ->  But, there's a conflict args assign through the routine, in host_create, we do not provide a host_type for HostHandler.create() so it use the default value WORKER_TYPES 0  (which is "docker") and serialize it to db, but in the DockerHost.create(), we use detect_daemon_type() to get the docker host type(which now is "swarm") and setup the host network (for swarm it's a overlay network not the bridge for docker) but do not update the host_type in the db     IMO, it's better to united all create method with the same parameter list so that we can get the unified behavior  ></description> </Issue>
