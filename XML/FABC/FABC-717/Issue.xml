<Issue id="33714" key="FABC-717" number="717" project="10607" reporter="gsqtds" assignee="gsqtds" creator="gsqtds" type="10004" summary="run invoke chaincode with &quot;MSP error: the supplied identity is not valid&quot;" priority="3" resolution="10002" status="6" created="2018-09-13 03:46:12.0" updated="2018-09-21 13:32:32.0" resolutiondate="2018-09-21 13:32:32.0" votes="0" watches="2" workflowId="45015"> <description><! CDATA when i use a user enroll from fabric-ca server , invoke chaincode with fllower errors: 2018-09-13 11:18:17.703 CST  protoutils  ValidateProposalMessage -> WARN 877a channel  testchannel : MSP error: the supplied identity is not valid: x509: certificate has expired or is not yet valid.  I inspect the pem: Certificate: Data: Version: 3 (0x2) Serial Number: 72:17:6d:7f:85:3f:54:c6:8e:96:a2:8b:df:56:74:b8:c3:27:e3:57 Signature Algorithm: ecdsa-with-SHA256 Issuer: C=US, ST=California, L=San Francisco, O=org1-firstnet, CN=ca.org1-firstnet Validity Not Before: Sep 11 03:27:00 2018 GMT Not After : Sep 11 03:32:00 2019 GMT Subject: OU=client, OU=org1, OU=department1, CN=user Subject Public Key Info: Public Key Algorithm: id-ecPublicKey Public-Key: (256 bit) pub: 04:52:35:39:45:b1:64:cc:d4:74:d8:0b:bb:99:69: 56:83:0c:81:77:9e:9e:02:b9:e0:0d:76:52:62:5f: df:1d:0b:46:0b:e9:35:84:bc:a6:94:bf:1c:98:57: e9:11:3f:aa:f2:a1:ef:ec:bb:28:12:06:b8:56:c5: b8:b4:b3:e6:be ASN1 OID: prime256v1 NIST CURVE: P-256 X509v3 extensions: X509v3 Key Usage: critical Digital Signature X509v3 Basic Constraints: critical CA:FALSE X509v3 Subject Key Identifier: F4:F5:87:15:36:E7:60:E7:79:24:8F:BB:C1:7E:32:D5:E8:53:CC:D1 X509v3 Authority Key Identifier: keyid:58:62:0C:8D:DC:17:18:DE:69:47:3A:4B:B4:D8:37:FB:6E:56:D1:13:AB:7E:67:BA:6B:E1:DA:09:F4:32:4B:4B  1.2.3.4.5.6.7.8.1: {"attrs":{"hf.Affiliation":"org1.department1","hf.EnrollmentID":"user","hf.Type":"client"}} Signature Algorithm: ecdsa-with-SHA256 30:45:02:21:00:a0:1b:36:da:4d:00:01:93:df:4d:63:81:0c: c1:5b:02:d8:2d:fe:b8:fd:26:5a:ec:a9:4c:f2:d5:30:31:9b: b8:02:20:61:93:3a:18:64:c5:6f:4e:50:62:d9:30:96:45:35: 6b:d4:7f:0e:83:ae:ec:17:40:e1:ef:a5:d5:fb:37:57:73  and the user of the pem can invoke the chaincode :  Certificate: Data: Version: 3 (0x2) Serial Number: 4a:da:2a:7e:c9:26:d3:ac:5a:1e:e4:ec:8d:7f:ac:a7:02:18:d9:03 Signature Algorithm: ecdsa-with-SHA256 Issuer: C=US, ST=California, L=San Francisco, O=org1-firstnet, CN=ca.org1-firstnet Validity Not Before: Sep 12 08:16:00 2018 GMT Not After : Sep 12 08:21:00 2019 GMT Subject: OU=client, OU=org1, OU=department1, CN=bbb Subject Public Key Info: Public Key Algorithm: id-ecPublicKey EC Public Key: pub: 04:f5:97:2d:e8:48:fb:3b:65:99:cb:6c:fa:41:84: 52:b5:bf:2f:da:e9:a4:3b:13:fa:e9:15:ae:d1:ad: ae:89:3b:22:8b:e4:0b:d0:6f:2b:78:47:7d:f2:20: 2c:02:e8:5e:b6:d2:2a:e7:5b:b6:4a:00:26:3e:5d: 16:45:7b:ad:24 ASN1 OID: prime256v1 X509v3 extensions: X509v3 Key Usage: critical Digital Signature X509v3 Basic Constraints: critical CA:FALSE X509v3 Subject Key Identifier: EB:E5:6F:E9:E5:0F:5E:6D:34:78:2B:62:AF:D9:3F:D3:EE:24:CC:10 X509v3 Authority Key Identifier: keyid:58:62:0C:8D:DC:17:18:DE:69:47:3A:4B:B4:D8:37:FB:6E:56:D1:13:AB:7E:67:BA:6B:E1:DA:09:F4:32:4B:4B  1.2.3.4.5.6.7.8.1: {"attrs":{"hf.Affiliation":"org1.department1","hf.EnrollmentID":"bbb","hf.Type":"client"}} Signature Algorithm: ecdsa-with-SHA256 30:45:02:21:00:af:70:37:09:0a:a7:53:5e:64:d4:ce:17:9f: 16:b6:47:7d:b0:0d:03:55:76:63:34:bc:18:c2:9d:7f:70:95: 59:02:20:32:1a:df:cc:e2:5c:42:07:8e:df:c8:df:67:12:00: 49:fb:b7:e8:cf:a9:69:09:7f:6c:d6:d9:d6:1f:2b:bd:1d     ></description> </Issue>
