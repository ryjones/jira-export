<Issue id="13936" key="FABC-376" number="376" project="10607" reporter="jjjjibm" assignee="smithbk" creator="jjjjibm" type="10004" summary="fabric-ca server and client directs all output to stderr instead of stdout" priority="2" resolution="10001" status="6" created="2017-01-05 19:25:01.0" updated="2019-07-27 14:42:41.0" resolutiondate="2019-07-27 14:39:47.0" votes="0" watches="4" workflowId="32556"> <environment><! CDATA Ubuntu server running on a VM.   Commit levels:    ></environment> <description><! CDATA Whether I start the cop server from a shell script or manually, all the server output is directed to stderr, even messages that are not errors.   Sample output: ibmadmin@jcwNodeSDK:/tmp$ cd $COP ibmadmin@jcwNodeSDK:~/work/src/github.com/hyperledger/fabric-cop$ bin/*cop server _parameters_ >cop.out* 2017/01/05 14:07:01  ERROR  Group already registered 2017/01/05 14:07:01  ERROR  Group already registered 2017/01/05 14:07:01  ERROR  Group already registered 2017/01/05 14:07:01  ERROR  Group already registered 2017/01/05 14:07:01  ERROR  Group already registered 2017/01/05 14:07:01  ERROR  Group already registered 2017/01/05 14:07:01  ERROR  Group already registered 2017/01/05 14:07:01  ERROR  User is already registered 2017/01/05 14:07:01  ERROR  User is already registered 2017/01/05 14:07:01  ERROR  User is already registered 2017/01/05 14:07:01  ERROR  User is already registered 2017/01/05 14:07:01  ERROR  User is already registered 2017/01/05 14:07:01  ERROR  User is already registered 2017/01/05 14:07:01  INFO  Initializing signer 2017/01/05 14:07:01  WARNING  couldn't initialize ocsp signer: open : no such file or directory 2017/01/05 14:07:01  INFO  endpoint '/api/v1/cfssl/info' is enabled 2017/01/05 14:07:01  INFO  endpoint '/api/v1/cfssl/gencrl' is enabled 2017/01/05 14:07:01  INFO  endpoint '/api/v1/cfssl/enroll' is enabled 2017/01/05 14:07:01  INFO  endpoint '/api/v1/cfssl/newcert' is enabled 2017/01/05 14:07:01  INFO  bundler API ready 2017/01/05 14:07:01  INFO  endpoint '/api/v1/cfssl/bundle' is enabled 2017/01/05 14:07:01  INFO  setting up key / CSR generator 2017/01/05 14:07:01  INFO  endpoint '/api/v1/cfssl/newkey' is enabled 2017/01/05 14:07:01  INFO  endpoint '/api/v1/cfssl/init_ca' is enabled 2017/01/05 14:07:01  INFO  endpoint '/api/v1/cfssl//' is enabled 2017/01/05 14:07:01  WARNING  endpoint 'authsign' is disabled: {"code":5200,"message":"Invalid or unknown policy"} 2017/01/05 14:07:01  WARNING  endpoint 'ocspsign' is disabled: signer not initialized 2017/01/05 14:07:01  INFO  endpoint '/api/v1/cfssl/sign' is enabled 2017/01/05 14:07:01  INFO  endpoint '/api/v1/cfssl/scan' is enabled 2017/01/05 14:07:01  INFO  endpoint '/api/v1/cfssl/scaninfo' is enabled 2017/01/05 14:07:01  INFO  endpoint '/api/v1/cfssl/certinfo' is enabled 2017/01/05 14:07:01  INFO  endpoint '/api/v1/cfssl/revoke' is enabled 2017/01/05 14:07:01  INFO  endpoint '/api/v1/cfssl/register' is enabled 2017/01/05 14:07:01  INFO  endpoint '/api/v1/cfssl/reenroll' is enabled 2017/01/05 14:07:01  INFO  Handler set up complete. 2017/01/05 14:07:01  INFO  Now listening on :8888 ^C  Notice that even though I was directing stdout this way :  >cop.out all output still appeared on my screen.   I captured the output this way: cop server start _parameters_ 2>cop.out  It's OK to direct actual error messages to stderr, but regular messages should go to stdout.   *How to recreate: *clone fabric-cop, then git log which gives thsi commit: commit  Author: Keith Smith <bksmith@us.ibm.com> Date:   Mon Nov 28 13:32:55 2016 -0500  Add support for certificate revocation  git checkout -b sprint7a ffb4fc22b84775769c755c5c3db53f6911ba4835  clone fabric-sdk-node then git log which gives this commit: commit 662135eedefd43e0d249362b991cf04e2b423783 Author: Yuki Kondo <yuki.kondo@hal.hitachi.com> Date:   Thu Dec 22 10:00:55 2016 -0800  Fix docker-compose.yml for Test  git checkout -b sprint7a 662135eedefd43e0d249362b991cf04e2b423783  clone fabric, then  git log --author=YACOVM --after "2016-12-01"  which gives this commit: commit d26b8b4aa8e382555f3e6b518a3ef9d5bbfc8091 Author: YACOVM <YACOVM@il.ibm.com> Date:   Mon Dec 19 18:06:06 2016 +0200   FAB-1449  Add getPkiID to the commReceivedMsg  git checkout -b sprint7a d26b8b4aa8e382555f3e6b518a3ef9d5bbfc8091  Build the COP server as directed in the readme, and start it as described above.       ></description> </Issue>
