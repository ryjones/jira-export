<Issue id="15418" key="FABC-414" number="414" project="10607" reporter="passkit" assignee="skarim" creator="passkit" type="10004" summary="DB TLS CertFiles parameter ignored in server config " priority="2" resolution="10001" status="6" created="2017-03-21 11:43:56.0" updated="2019-07-27 14:42:41.0" resolutiondate="2019-07-27 14:39:46.0" votes="0" watches="5" workflowId="32594"> <description><! CDATA `processCertFiles()` is not called in the server `configInit()` or at any time before connection is initiated.   The config below will fail when connecting to a database with a self signed certificate.  {code} db: type: postgres datasource: host=example.com port=5432 user=postgres dbname=fabric_ca sslmode=verify-full tls: enabled: true certfiles: ca.cert.pem	  # Comma Separated (e.g. root.pem, root2.pem) client: certfile: client.cert.pem keyfile: client.key.pem {code}  {code} 2017/03/21 18:59:00  DEBUG  Initializing 'postgres' data base at 'host=example.com port=5432 user=postgres dbname=fabric_ca sslmode=verify-full' 2017/03/21 18:59:00  DEBUG  Using postgres database, connecting to database... 2017/03/21 18:59:00  DEBUG  Database Name: fabric_ca 2017/03/21 18:59:00  DEBUG  Connection String: host=example.com port=5432 user=postgres dbname=fabric_ca sslmode=verify-full sslcert=client.cert.pem sslkey=client.key.pem 2017/03/21 18:59:00  ERROR  Failed to connect to Postgres database  error: x509: certificate signed by unknown authority  Error: x509: certificate signed by unknown authority {code}  If specified as an array then it connects as expected:  {code} db: type: postgres datasource: host=example.com port=5432 user=postgres dbname=fabric_ca sslmode=verify-full tls: enabled: true certfileslist:  - ca.cert.pem			 client: certfile: client.cert.pem keyfile: client.key.pem {code}  ></description> </Issue>
