<Issue id="18328" key="FABC-217" number="217" project="10607" reporter="skarim" assignee="skarim" creator="skarim" type="10004" summary="Calling Client function LoadIdentity results in NPE" priority="3" resolution="10000" status="6" created="2017-06-19 15:26:50.0" updated="2018-07-18 22:03:54.0" resolutiondate="2017-06-20 17:59:26.0" votes="0" watches="1" workflowId="32397" security="10001"> <description><! CDATA Making a call to public function LoadIdentity(keyFile, certFile string) results in an NPE if client object has not been initialized. The following error is seen:  {code:java} panic: runtime error: invalid memory address or nil pointer dereference  recovered  	panic: runtime error: invalid memory address or nil pointer dereference  signal SIGSEGV: segmentation violation code=0x1 addr=0x58 pc=0x44950a7   goroutine 7  running : testing.tRunner.func1(0xc4201ca0d0) 	/usr/local/go/src/testing/testing.go:622 +0x29d panic(0x472dae0, 0x4af4a50) 	/usr/local/go/src/runtime/panic.go:489 +0x2cf github.com/hyperledger/fabric-ca/util.ImportBCCSPKeyFromPEM(0x47db39a, 0x16, 0x0, 0x0, 0x1, 0x0, 0x0, 0x0, 0xc420295680) 	/Users/saadkarim/Development/src/github.com/hyperledger/fabric-ca/util/csp.go:283 +0x257 github.com/hyperledger/fabric-ca/lib.(*Client).LoadIdentity(0xc4201dbc20, 0x47db39a, 0x16, 0x47d73b8, 0x12, 0x0, 0x4abab80, 0xc42029bd50) 	/Users/saadkarim/Development/src/github.com/hyperledger/fabric-ca/lib/client.go:319 +0x2fd github.com/hyperledger/fabric-ca/lib_test.testLoadIdentity(0xc4201dbc20, 0xc4201ca0d0) 	/Users/saadkarim/Development/src/github.com/hyperledger/fabric-ca/lib/client_test.go:541 +0xfc github.com/hyperledger/fabric-ca/lib_test.TestCLIClient(0xc4201ca0d0) 	/Users/saadkarim/Development/src/github.com/hyperledger/fabric-ca/lib/client_test.go:148 +0x193 testing.tRunner(0xc4201ca0d0, 0x47fe480) 	/usr/local/go/src/testing/testing.go:657 +0x96 created by testing.(*T).Run 	/usr/local/go/src/testing/testing.go:697 +0x2ca exit status 2 {code}  Need to make sure that the initializing is performed as the first step inside the LoadIdentity function.   ></description> </Issue>
