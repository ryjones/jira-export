<Issue id="26361" key="FABC-386" number="386" project="10607" reporter="smithbk" assignee="aambati" creator="smithbk" type="10004" summary="fabric-ca-client enroll command should recognize URL in config file and env variable" priority="3" resolution="10000" status="6" created="2018-01-04 13:53:36.0" updated="2018-07-18 22:04:30.0" resolutiondate="2018-01-16 18:31:10.0" votes="0" watches="3" workflowId="32566"> <description><! CDATA Rather than using the "-u" option of the *fabric-ca-client enroll* command, it should also recognize the FABRIC_CA_CLIENT_URL env variable and the URL setting in the fabric-ca-client-config.yaml file; however, it currently recognizes neither of these.  The fix is simple.  In fabric-ca/cmd/fabric-ca-client/enroll.go, change  {code} 			_, _, err := util.GetUser(c.myViper) 			if err != nil { 				return err 			}  			err = c.configInit() 			if err != nil { 				return err 			} {code}  to  {code} 			err := c.configInit() 			if err != nil { 				return err 			}  			_, _, err = util.GetUser(c.myViper) 			if err != nil { 				return err 			} {code}  By calling configInit first, it will now recognize the config file and env variable. But we also need a test case for this.  ></description> </Issue>
