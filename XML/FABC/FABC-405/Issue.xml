<Issue id="14002" key="FABC-405" number="405" project="10607" reporter="greg.haskins" assignee="jonathanlevi" creator="greg.haskins" type="10004" summary="Crash during basic enrollment: POST /api/v1/cfssl/enroll" priority="2" resolution="10000" status="6" created="2017-01-10 17:55:33.0" updated="2018-07-18 22:04:35.0" resolutiondate="2017-03-15 01:12:04.0" votes="0" watches="3" workflowId="32585"> <description><! CDATA Working on trying to get basic e2e environment in the v1.0 branch with Jonathan Levi  Versions:  * fabric-cop.git f32a17caef (Tue Jan 10 14:17:43 2017 +0000) * fabric-sdk-node.git a4dd2b69 (Fri Jan 6 18:18:45 2017 +0000)  Basic enrollment operation causes the cop backend to crash with following log  cop_1      | 2017/01/10 17:22:36  INFO  Received request cop_1      | POST /api/v1/cfssl/enroll cop_1      | Authorization: Basic YWRtaW46YWRtaW5wdw== cop_1      | {"certificate_request":"-----BEGIN CERTIFICATE REQUEST-----\r\nMIHLMHICAQAwEDEOMAwGA1UEAwwFYWRtaW4wWTATBgcqhkjOPQIBBggqhkjOPQMB\r\nBwNCAAQNLnhMx1XAa7ed8GV5BpdByG8ygyMswejUonB3IDZNfOJjQkPhstZHNSPW\r\nMm6qAA+s6ytW2fulZapFHpeaL+wRoAAwDAYIKoZIzj0EAwIFAANHADBEAiBBWJq9\r\nFUwKt9TWzFEfFE+gSQodxhMJKdo/XAVpq+6CkgIgcGrkIq/9LCDoYBCc5o01zrop\r\ngo665TTDxBG7et1Ti44=\r\n-----END CERTIFICATE REQUEST-----\r\n"} cop_1      | 2017/01/10 17:22:37 http: panic serving 10.0.2.2:59518: runtime error: invalid memory address or nil pointer dereference cop_1      | goroutine 7  running : cop_1      | net/http.(*conn).serve.func1(0xc42043e480) cop_1      | 	/opt/go/src/net/http/server.go:1491 +0x12a cop_1      | panic(0xb6a8a0, 0xc420012050) cop_1      | 	/opt/go/src/runtime/panic.go:458 +0x243 cop_1      | github.com/hyperledger/fabric-cop/cli/server.(*signHandler).Handle(0xc420440060, 0x115d4e0, 0xc420431860, 0xc4200bd590, 0xc4202bdd01, 0xc420442460) cop_1      | 	/opt/gopath/src/github.com/hyperledger/fabric-cop/cli/server/enroll.go:76 +0x231 cop_1      | github.com/hyperledger/fabric-cop/vendor/github.com/cloudflare/cfssl/api.HTTPHandler.ServeHTTP(0x1155020, 0xc420440060, 0xc420440070, 0x1, 0x1, 0x115d4e0, 0xc420431860, 0xc4200bd590) cop_1      | 	/opt/gopath/src/github.com/hyperledger/fabric-cop/vendor/github.com/cloudflare/cfssl/api/api.go:85 +0x3e4 cop_1      | github.com/hyperledger/fabric-cop/vendor/github.com/cloudflare/cfssl/api.(*HTTPHandler).ServeHTTP(0xc42043c4e0, 0x115d4e0, 0xc420431860, 0xc4200bd590) cop_1      | 	<autogenerated>:4 +0x8c cop_1      | github.com/hyperledger/fabric-cop/cli/server.(*copAuthHandler).ServeHTTP(0xc4202bdd80, 0x115d4e0, 0xc420431860, 0xc4200bd590) cop_1      | 	/opt/gopath/src/github.com/hyperledger/fabric-cop/cli/server/auth.go:82 +0x91 cop_1      | net/http.(*ServeMux).ServeHTTP(0x1181680, 0x115d4e0, 0xc420431860, 0xc4200bd590) cop_1      | 	/opt/go/src/net/http/server.go:2022 +0x7f cop_1      | net/http.serverHandler.ServeHTTP(0xc42043e400, 0x115d4e0, 0xc420431860, 0xc4200bd590) cop_1      | 	/opt/go/src/net/http/server.go:2202 +0x7d cop_1      | net/http.(*conn).serve(0xc42043e480, 0x115dde0, 0xc42042ba80) cop_1      | 	/opt/go/src/net/http/server.go:1579 +0x4b7 cop_1      | created by net/http.(*Server).Serve cop_1      | 	/opt/go/src/net/http/server.go:2293 +0x44d   ></description> </Issue>
