<Issue id="18034" key="FABC-422" number="422" project="10607" reporter="l1nux" assignee="aambati" creator="l1nux" type="10004" summary="Revoke user with long cert serial and aki # failed : string len limitation???" priority="2" resolution="10000" status="6" created="2017-06-15 12:36:20.0" updated="2018-07-18 22:04:40.0" resolutiondate="2017-06-29 21:12:36.0" votes="0" watches="3" workflowId="32602" security="10001"> <environment><! CDATA Tested on Mac OX X EI v10.11.6  Fabric ca server :  Tested with docker image version x86_64-1.0.0-alpha2  Also tested with non-docker image, build own fabric-ca executable, alpha 2 build     Client :  Tested locally using sdk version {color:#ce9178}1.0.0-snapshot.18{color}  ></environment> <description><! CDATA This is for fabric-ca alpha2 (server) version.     GetCertificateWithID()  function in certdbaccessorgo.go file, in d.dd.Get(...), the sql  statement ,string, for some reasons get chopped off (max length limitation?) then db query return a  misleading error message : "no rows in result set".  I suspected your test cases do not include test case with long serial and aki number.  The tested failed serial number was 5af3c074e596618a9f79be8bf44e17feebb9a202  and aki was 2a7a722ad8c14a2f26dd0986eabd73cdd995f794{color:#dcdcaa} {color}  Also the sql query needs the single quote to enclose the serial and aki numbers else your sql query will fail (at least my test failed without the single quote)  You definitely need to check all your go statements which are doing such sql queries formation... I make fabric server to go further and it also failed at further statement which was related to the similar situation (sql statement, string, get chopped off).     ></description> </Issue>
