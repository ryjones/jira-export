<Issue id="21242" key="FABC-313" number="313" project="10607" reporter="rennman" assignee="aambati" creator="rennman" type="10004" summary="Build warnings indicate statically-linked builds potentially non-portable" priority="4" resolution="10000" status="6" created="2017-10-02 20:12:22.0" updated="2018-07-18 22:04:15.0" resolutiondate="2018-02-14 18:50:57.0" votes="0" watches="4" workflowId="32493"> <description><! CDATA After upgrading to golang 1.9,  build warning messages are issued (not new, just newly unmasked). The warnings imply limited portability of the statically-linked executable.  make peer-docker {code:java} 14:39:29 /usr/lib/gcc/x86_64-linux-gnu/5/../../../x86_64-linux-gnu/libltdl.a(dlopen.o): In function `vm_open': 14:39:29 (.text+0x5e): warning: Using 'dlopen' in statically linked applications requires at runtime the shared libraries from the glibc version used for linking 14:39:29 /tmp/go-link-176411200/000000.o: In function `_cgo_b0c710f30cfd_C2func_getaddrinfo': 14:39:29 /tmp/go-build/net/_obj/cgo-gcc-prolog:46: warning: Using 'getaddrinfo' in statically linked applications requires at runtime the shared libraries from the glibc version used for linking {code}  make orderer-docker: {code:java} 14:41:00 /usr/lib/gcc/x86_64-linux-gnu/5/../../../x86_64-linux-gnu/libltdl.a(dlopen.o): In function `vm_open': 14:41:00 (.text+0x5e): warning: Using 'dlopen' in statically linked applications requires at runtime the shared libraries from the glibc version used for linking 14:41:00 /tmp/go-link-344798825/000000.o: In function `_cgo_b0c710f30cfd_C2func_getaddrinfo': 14:41:00 /tmp/go-build/net/_obj/cgo-gcc-prolog:46: warning: Using 'getaddrinfo' in statically linked applications requires at runtime the shared libraries from the glibc version used for linking {code}    The warnings for fabric ca client and server are ever more profuse: {code:java} 15:38:51  # github.com/hyperledger/fabric-ca/cmd/fabric-ca-client 15:38:51  /tmp/go-link-521788677/000000.o: In function `unixDlOpen': 15:38:51  /opt/gopath/src/github.com/hyperledger/fabric-ca/vendor/github.com/mattn/go-sqlite3/sqlite3-binding.c:35414: warning: Using 'dlopen' in statically linked applications requires at runtime the shared libraries from the glibc version used for linking 15:38:51  /tmp/go-link-521788677/000002.o: In function `mygetgrouplist': 15:38:51  /tmp/workdir/go/src/os/user/getgrouplist_unix.go:15: warning: Using 'getgrouplist' in statically linked applications requires at runtime the shared libraries from the glibc version used for linking 15:38:51  /tmp/go-link-521788677/000002.o: In function `mygetgrgid_r': 15:38:51  /tmp/workdir/go/src/os/user/cgo_lookup_unix.go:38: warning: Using 'getgrgid_r' in statically linked applications requires at runtime the shared libraries from the glibc version used for linking 15:38:51  /tmp/go-link-521788677/000002.o: In function `mygetgrnam_r': 15:38:51  /tmp/workdir/go/src/os/user/cgo_lookup_unix.go:43: warning: Using 'getgrnam_r' in statically linked applications requires at runtime the shared libraries from the glibc version used for linking 15:38:51  /tmp/go-link-521788677/000002.o: In function `mygetpwnam_r': 15:38:51  /tmp/workdir/go/src/os/user/cgo_lookup_unix.go:33: warning: Using 'getpwnam_r' in statically linked applications requires at runtime the shared libraries from the glibc version used for linking 15:38:51  /tmp/go-link-521788677/000002.o: In function `mygetpwuid_r': 15:38:51  /tmp/workdir/go/src/os/user/cgo_lookup_unix.go:28: warning: Using 'getpwuid_r' in statically linked applications requires at runtime the shared libraries from the glibc version used for linking 15:38:51  /tmp/go-link-521788677/000001.o: In function `_cgo_b0c710f30cfd_C2func_getaddrinfo': 15:38:51  /tmp/go-build/net/_obj/cgo-gcc-prolog:46: warning: Using 'getaddrinfo' in statically linked applications requires at runtime the shared libraries from the glibc version used for linking 15:38:52  Building build/docker/bin/fabric-ca-server 15:39:37  # github.com/hyperledger/fabric-ca/cmd/fabric-ca-server 15:39:37  /tmp/go-link-759930536/000000.o: In function `unixDlOpen': 15:39:37  /opt/gopath/src/github.com/hyperledger/fabric-ca/vendor/github.com/mattn/go-sqlite3/sqlite3-binding.c:35414: warning: Using 'dlopen' in statically linked applications requires at runtime the shared libraries from the glibc version used for linking 15:39:37  /tmp/go-link-759930536/000002.o: In function `mygetgrouplist': 15:39:37  /tmp/workdir/go/src/os/user/getgrouplist_unix.go:15: warning: Using 'getgrouplist' in statically linked applications requires at runtime the shared libraries from the glibc version used for linking 15:39:37  /tmp/go-link-759930536/000002.o: In function `mygetgrgid_r': 15:39:37  /tmp/workdir/go/src/os/user/cgo_lookup_unix.go:38: warning: Using 'getgrgid_r' in statically linked applications requires at runtime the shared libraries from the glibc version used for linking 15:39:37  /tmp/go-link-759930536/000002.o: In function `mygetgrnam_r': 15:39:37  /tmp/workdir/go/src/os/user/cgo_lookup_unix.go:43: warning: Using 'getgrnam_r' in statically linked applications requires at runtime the shared libraries from the glibc version used for linking 15:39:37  /tmp/go-link-759930536/000002.o: In function `mygetpwnam_r': 15:39:37  /tmp/workdir/go/src/os/user/cgo_lookup_unix.go:33: warning: Using 'getpwnam_r' in statically linked applications requires at runtime the shared libraries from the glibc version used for linking 15:39:37  /tmp/go-link-759930536/000002.o: In function `mygetpwuid_r': 15:39:37  /tmp/workdir/go/src/os/user/cgo_lookup_unix.go:28: warning: Using 'getpwuid_r' in statically linked applications requires at runtime the shared libraries from the glibc version used for linking 15:39:37  /tmp/go-link-759930536/000001.o: In function `_cgo_b0c710f30cfd_C2func_getaddrinfo': 15:39:37  /tmp/go-build/net/_obj/cgo-gcc-prolog:46: warning: Using 'getaddrinfo' in statically linked applications requires at runtime the shared libraries from the glibc version used for linking {code}   ></description> </Issue>
