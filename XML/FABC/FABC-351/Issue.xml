<Issue id="16064" key="FABC-351" number="351" project="10607" reporter="rickr" creator="rickr" type="10004" summary="Wrong HTTP status code reported in logs for invalid body of request" priority="3" resolution="10000" status="6" created="2017-04-27 17:28:13.0" updated="2018-07-18 22:04:23.0" resolutiondate="2017-09-30 18:25:56.0" votes="0" watches="2" workflowId="32531"> <description><! CDATA SDK POST: http://localhost:7054/api/v1/revoke body: {"serial":"04372551502DA6EFF9E9C2AF25F08DAF3CBD16035","aki":"D8A5B3CAC1B821F6E4B487CEAF1FD239CDCFC310894150908B90F05E9179556A","reason":1}  what sdk is getting back  {"success":false,"result":null,"errors": {"code":10001,"message":"json: cannot unmarshal number into Go value of type string"} ,"messages":  }  fabric-ca log: 2017/04/27 17:15:38  DEBUG  Received request POST /api/v1/revoke Authorization: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUIzekNDQVlTZ0F3SUJBZ0lVTkdNTFJoZzduazVoU0lTWHVWRm1ZU2FOcnFRd0NnWUlLb1pJemowRUF3SXcKWURFTE1Ba0dBMVVFQmhNQ1ZWTXhFekFSQmdOVkJBZ1RDa05oYkdsbWIzSnVhV0V4RmpBVUJnTlZCQWNURFZOaApiaUJHY21GdVkybHpZMjh4RVRBUEJnTlZCQW9UQ0hCbFpYSlBjbWN4TVJFd0R3WURWUVFERXdod1pXVnlUM0puCk1UQWVGdzB4TnpBME1qY3hOekE1TURCYUZ3MHhPREF6TWpjd01UQTVNREJhTUJBeERqQU1CZ05WQkFNVEJXRmsKYldsdU1Ga3dFd1lIS29aSXpqMENBUVlJS29aSXpqMERBUWNEUWdBRUdyTnlvZE12VWpibGlSVWdzay8wc3NtQwpZa1RjK0N6VmxrQ2w3NTFOMGltUW96Tkoybnd6eHJuODVOTGhLcXd3akxOa1JzRTJ5L2tzVEtyTmR5b2hwcU5zCk1Hb3dEZ1lEVlIwUEFRSC9CQVFEQWdJRU1Bd0dBMVVkRXdFQi93UUNNQUF3SFFZRFZSME9CQllFRkphUGg2YXIKcXJmTHI5UlREZ0w2REVnTFpmRTlNQ3NHQTFVZEl3UWtNQ0tBSU5pbHM4ckJ1Q0gyNUxTSHpxOGYwam5OejhNUQppVUZRa0l1UThGNlJlVlZxTUFvR0NDcUdTTTQ5QkFNQ0Ewa0FNRVlDSVFDM2g0NjBJcTVycVNNc29KTmsySmxtClpTWENmRm5FQ04wUmErbnZBSkNSOEFJaEFQNy9yQ3ZyeGlnMkNsbjJkSUd2ZndpOEFzTmpHeHdTQXpxNnkzdGcKWG1DMAotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==.MEQCIB44Ubfi976iaGQu087skhJwORzfSljULus7PLav8xhWAiAiHds2W7DceMqXthnMTszUstEg2hlDKR3YFmmo1pJp6Q== {"serial":"04372551502DA6EFF9E9C2AF25F08DAF3CBD16035","aki":"D8A5B3CAC1B821F6E4B487CEAF1FD239CDCFC310894150908B90F05E9179556A","reason":1} 2017/04/27 17:15:38  DEBUG  Checking for revocation/expiration of certificate owned by 'admin' 2017/04/27 17:15:38  DEBUG  DB: Get certificate by serial (34630b46183b9e4e61488497b9516661268daea4) and aki (d8a5b3cac1b821f6e4b487ceaf1fd239cdcfc310894150908b90f05e9179556a) 2017/04/27 17:15:38  DEBUG  Successful authentication of 'admin' 2017/04/27 17:15:38  DEBUG  Revoke request received 2017/04/27 17:15:38  INFO  10.0.2.2:39518 - "POST /api/v1/revoke" 200   fabric-ca level commit d35648a9e79d55ca879c22b91a4ac4bf8077d70b Merge: d9a1c61 c131944 Author: Christopher Ferris <chris.ferris@gmail.com> Date: Thu Apr 27 15:23:40 2017 +0000       ></description> </Issue>
