<Issue id="27237" key="FABC-218" number="218" project="10607" reporter="mrshah-ibm" assignee="aambati" creator="mrshah-ibm" type="10004" summary="The &quot;affiliations&quot; table by fabric-ca doesn&apos;t have a primary key" priority="3" resolution="10000" status="6" created="2018-01-30 13:15:33.0" updated="2018-07-18 22:03:55.0" resolutiondate="2018-02-09 16:07:20.0" votes="0" watches="2" workflowId="32398"> <description><! CDATA The affiliations table created by fabric-ca in mysql db does not have a primary key. Thus group replication for HA mysql db fails.  Following is the error on mysql db:  {{{{2018-01-30T13:01:34.674707Z 41  ERROR  Plugin group_replication reported: 'Table affiliations does not have any PRIMARY KEY. This is not compatible with Group Replication' 2018-01-30T13:01:34.675379Z 41  ERROR  Plugin group_replication reported: 'Table affiliations does not have any PRIMARY KEY. This is not compatible with Group Replication' 2018-01-30T13:01:34.675906Z 41  ERROR  Plugin group_replication reported: 'Table affiliations does not have any PRIMARY KEY. This is not compatible with Group Replication' 2018-01-30T13:01:34.676452Z 41  ERROR  Plugin group_replication reported: 'Table affiliations does not have any PRIMARY KEY. This is not compatible with Group Replication' 2018-01-30T13:01:34.676962Z 41  ERROR  Plugin group_replication reported: 'Table affiliations does not have any PRIMARY KEY. This is not compatible with Group Replication'}}}}     Because of this issue, the registration/enrollment starts failing on fabric-ca. The error as below:  {{2018/01/30 13:04:28  DEBUG  Registration of 'orderer0b' failed: Registration of 'orderer0b' to validate: Failed getting affiliation 'org1': : scode: 404, code: 63, msg: Failed to get Affiliation: sql: no rows in result set}}     ></description> </Issue>
