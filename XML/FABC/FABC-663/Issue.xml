<Issue id="13112" key="FABC-663" number="663" project="10607" reporter="smithbk" assignee="smithbk" creator="smithbk" type="10002" summary="Define the proto for trusted root certificates and CRL for config change" priority="3" resolution="10000" status="6" created="2016-10-21 14:01:55.0" updated="2018-07-19 13:16:55.0" duedate="2016-10-27 00:00:00.0" resolutiondate="2016-11-07 13:32:25.0" votes="0" watches="2" workflowId="34629"> <description><! CDATA The proto messages to define this API have not yet been merged.  Once merged, they can be found in fabric/orderer/atomicbroadcast/ab.proto.  (They are currently at https://gerrit.hyperledger.org/r/#/c/1487/8/orderer/atomicbroadcast/ab.proto).  Updating the fabric's trusted root certificates and/or CRL is done via a Transaction of type "ConfigurationEnvelope", which contains multiple "ConfigurationEntry" messages, which contains a "Configuration". To update a certificate list in a "Configuration" message, the fields are as follows.  Other fields not mentioned are the same as for any Configuration message and are discussed in FAB-665.   But to update any of the 3 certificate lists, set: 1) ID = "cert" 2) Type = "Chain" 3) Data is CertList, where bq.       message CertList { bq.            enum CertListType   { peer, orderer, crl }           bq.            repeated bytes Certs bq.       }  There will be 3 lists of certs: peers, orderers, and a CRL list. When adding/removing an entry from the CRL list, a config update signature must be one of: 1) the certificate being revoked (i.e. you may revoke your own certificate) 2) one of the issuers of the certificate  (i.e. someone who issued the certificate may revoke it)    ></description> </Issue>
