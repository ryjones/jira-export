<Issue id="45720" key="FABC-919" number="919" project="10607" reporter="silveraid" creator="silveraid" type="10004" summary="Custom signing profiles does not work" priority="3" status="10300" created="2020-07-29 20:24:18.0" updated="2020-07-29 20:24:18.0" votes="0" watches="1" workflowId="59621" archived="N"> <description><! CDATA There seems to be an issue with how the signing profiles are implemented in fabric-ca-server. When custom signing profiles are defined they don't work, fabric-ca-server returns the following error message when in debug:     {code:java} 2020/07/29 17:34:21  DEBUG  Attribute extension being added to certificate is: &{ID: 1 2 3 4 5 6 7 8 1  Critical:false Value:7b226174747273223a7b2268662e416666696c696174696f6e223a224f7264657265724f7267222c2268662e456e726f6c6c6d656e744944223a226f7264657265725f6e6f64655f736b6962702d6465762d6e6f6465335f6465765f76657269666965645f6d65222c2268662e54797065223a226f726465726572227d7d} 2020/07/29 17:34:21  DEBUG  Adding attribute extension to CSR: &{ID: 1 2 3 4 5 6 7 8 1  Critical:false Value:7b226174747273223a7b2268662e416666696c696174696f6e223a224f7264657265724f7267222c2268662e456e726f6c6c6d656e744944223a226f7264657265725f6e6f64655f736b6962702d6465762d6e6f6465335f6465765f76657269666965645f6d65222c2268662e54797065223a226f726465726572227d7d} 2020/07/29 17:34:21  INFO  172.16.16.1:33406 POST /enroll 500 0 "Certificate signing failure: {"code":1300,"message":"Invalid certificate request"}" {code}    I have traced back the issue to the *initSigningProfile* function call, which sets *sp.ExtensionWhitelist attrmgr.AttrOIDString  = true*, but this function is not called for all signing profiles, unfortunately, so it never gets set.  *Workaround:*  Add the following parameter to the end of your signing profile configuration:    {code:java} extensionwhitelist: - 1.2.3.4.5.6.7.8.1: true{code}    ></description> </Issue>
