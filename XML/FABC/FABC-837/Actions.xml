<Action id="60239" issue="39266" author="jamesruan" type="comment" created="2019-05-22 05:57:25.0" updateauthor="jamesruan" updated="2019-05-22 05:57:25.0"> <body><! CDATA Same error encountered. I'm using env FABRIC_CA_SERVER_METRICS_PROVIDER=prometheus and mysql datasource specified with fabric-ca-server start -b registrar:registrarpw  ></body> </Action>
<Action id="60482" issue="39266" author="nyet" type="comment" created="2019-05-29 20:51:47.0" updateauthor="nyet" updated="2019-05-29 20:51:47.0"> <body><! CDATA Seems to affect statsd as well {code:java} 2019/05/29 20:40:16  DEBUG  3 CA instance(s) running on server panic: non-positive interval for NewTicker goroutine 1  running : time.NewTicker(0x0, 0x0) /opt/go/src/time/tick.go:23 +0x18f github.com/hyperledger/fabric-ca/lib/server/operations.(*System).startMetricsTickers(0xc0002800c0, 0x0, 0xc000248030) /opt/gopath/src/github.com/hyperledger/fabric-ca/lib/server/operations/system.go:161 +0xbe github.com/hyperledger/fabric-ca/lib/server/operations.(*System).Start(0xc0002800c0, 0x1, 0x1) /opt/gopath/src/github.com/hyperledger/fabric-ca/lib/server/operations/system.go:77 +0x2f github.com/hyperledger/fabric-ca/lib.(*Server).startOperationsServer(0xc0002f2000, 0x23, 0xc0006a7c00) /opt/gopath/src/github.com/hyperledger/fabric-ca/lib/server.go:147 +0x34 github.com/hyperledger/fabric-ca/lib.(*Server).Start(0xc0002f2000, 0xc0002f2000, 0x4) /opt/gopath/src/github.com/hyperledger/fabric-ca/lib/server.go:181 +0x234 main.(*ServerCmd).init.func3(0xc00027e480, 0xc00014d1f0, 0x0, 0x7, 0x0, 0x0) /opt/gopath/src/github.com/hyperledger/fabric-ca/cmd/fabric-ca-server/servercmd.go:121 +0xe8 github.com/hyperledger/fabric-ca/vendor/github.com/spf13/cobra.(*Command).execute(0xc00027e480, 0xc00014d110, 0x7, 0x7, 0xc00027e480, 0xc00014d110) /opt/gopath/src/github.com/hyperledger/fabric-ca/vendor/github.com/spf13/cobra/command.go:643 +0x3e8 github.com/hyperledger/fabric-ca/vendor/github.com/spf13/cobra.(*Command).ExecuteC(0xc00027e000, 0xcba240, 0xecd830, 0xc00024ff08) /opt/gopath/src/github.com/hyperledger/fabric-ca/vendor/github.com/spf13/cobra/command.go:734 +0x2cc github.com/hyperledger/fabric-ca/vendor/github.com/spf13/cobra.(*Command).Execute(0xc00027e000, 0xc00012e000, 0xc00028a0f0) /opt/gopath/src/github.com/hyperledger/fabric-ca/vendor/github.com/spf13/cobra/command.go:692 +0x2b main.(*ServerCmd).Execute(0xc00028a0f0, 0x5, 0xda3201) /opt/gopath/src/github.com/hyperledger/fabric-ca/cmd/fabric-ca-server/servercmd.go:69 +0x2f main.RunMain(0xc000030090, 0x9, 0x9, 0xc00024ff88, 0xc000094058) /opt/gopath/src/github.com/hyperledger/fabric-ca/cmd/fabric-ca-server/main.go:45 +0xaf main.main() /opt/gopath/src/github.com/hyperledger/fabric-ca/cmd/fabric-ca-server/main.go:27 +0x45 {code}  ></body> </Action>
<Action id="60665" issue="39266" author="mastersingh24" type="comment" body="looks like we need to create the metrics object in main and not for each CA instance" created="2019-06-04 19:08:19.0" updateauthor="mastersingh24" updated="2019-06-04 19:11:01.0"/>
<Action id="60802" issue="39266" author="mastersingh24" type="comment" body="https://gerrit.hyperledger.org/r/c/fabric-ca/+/31790" created="2019-06-09 20:31:37.0" updateauthor="mastersingh24" updated="2019-06-09 20:31:37.0"/>
