<Issue id="17501" key="FABC-361" number="361" project="10607" reporter="skarim" assignee="skarim" creator="skarim" type="10004" summary="Value of attributes hf.IntermediateCA and hf.Revoker are ignored" priority="3" resolution="10000" status="6" created="2017-06-05 16:21:52.0" updated="2018-07-18 22:04:25.0" resolutiondate="2017-06-09 15:40:25.0" votes="0" watches="2" workflowId="32541" security="10001"> <description><! CDATA There are areas where decisions are made based on attributes of a registered identity. However, the current logic only checks to see if the identity has a specific attribute. There was no check being made as to the actual value of the attribute. This was allowing certain execution of code that should have been prevented if the attribute had a value of false. For example, I can start a root server and register an identity with "hf.IntermediateCA=false", however I am still able to register this identity as an intermediate CA.  *Reproduction steps:* 1. Start a root server: ./fabric-ca-server start -b a:b -d -c root/root.yaml 2. Delete the root db created and modify root.yaml to set "hf.IntermediateCA = false" 3. Start the root server again 4. Start an intermediate server: ./fabric-ca-server start -b c:d -d -u http://a:b@localhost:7054 -c inter/inter.yaml -p 7055 5. Server will fail to start, go to inter.yaml and remove CN field and then run command in step 4 again. The intermediate CA will be able to enroll.    ></description> </Issue>
