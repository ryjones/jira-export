<Issue id="13851" key="FABC-499" number="499" project="10607" reporter="smithbk" assignee="skarim" creator="smithbk" type="10001" summary="COP UserRegistry UpdateUser/UpdateField needs consolidation improvement" priority="3" resolution="10000" status="6" created="2016-12-17 19:37:02.0" updated="2018-07-20 19:16:48.0" resolutiondate="2017-01-07 14:58:58.0" votes="0" watches="1" workflowId="32681"> <description><! CDATA In fabric-cop/cli/server/register.go, we insert a user and immediately have to update a field.  This should only require a single DB update.   I think the reason this is required today is because we have only some of the fields in spi/UserInfo which are in the DB's UserRecord structure.  It seems to me that we should have only a single UpdateUser which can update one or more fields and that we should delete the UpdateField/GetField methods.  Any reason for not doing this?  {code} err = r.cfg.UserRegistry.InsertUser(insert) if err != nil { return "", err }  err = r.cfg.UserRegistry.UpdateField(id, maxEnrollments, CFG.UsrReg.MaxEnrollments) if err != nil { return "", err } {code}   ></description> </Issue>
