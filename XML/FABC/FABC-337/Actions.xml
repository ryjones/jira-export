<Action id="38234" issue="26103" author="smithbk" type="comment" created="2018-01-05 19:39:35.0" updateauthor="smithbk" updated="2018-01-05 19:39:35.0"> <body><! CDATA You have to install libtool and of course how you install depends on the OS. For macos, *brew install libtool*  ></body> </Action>
<Action id="38236" issue="26103" author="antoniovassell" type="comment" created="2018-01-05 20:21:06.0" updateauthor="antoniovassell" updated="2018-01-05 20:21:06.0"> <body><! CDATA  ~smithbk  Correct, however this needs to be done in the docker images that are built, such as hyperledger/fabric-ca  For example it could go here:  https://github.com/hyperledger/fabric-ca/blob/master/images/fabric-ca/Dockerfile.in#L13   Not sure if its possible to make use of this flag here to know when to install libtool in docker.  https://github.com/hyperledger/fabric-ca/blob/release/docker-env.mk#L55      Of course we could build a custom image base off of the built fabric-ca image and install libtool, however i assume it would be better if it was installed from that Dockerfile.in The issue  is even more apparent if one is using hyperledger/fabric-ca, hyperledger/fabric-ca-peer and hyperledger/fabric-ca-orderer in one docker-compose file as all of them will error out and require installation of the libtool when dynamic linking is turned on.     ></body> </Action>
<Action id="38238" issue="26103" author="smithbk" type="comment" created="2018-01-05 21:05:06.0" updateauthor="smithbk" updated="2018-01-05 21:05:06.0"> <body><! CDATA The design for images has so far been to only include what is required in the default case in order to not make the image any larger than necessary, and this isn't the default. However, since HSMs are not uncommon and this is required for HSMs, I agree that  we should make an exception. But aren't you going to have the same problem for peer, orderer, etc? Which implies that it should be in the base image  ></body> </Action>
<Action id="38239" issue="26103" author="smithbk" type="comment" body="Since you have to build the image manually anyway without the -static, I agree that it does make sense to go ahead and do this in the fabric-ca make so it is only in the images that need it." created="2018-01-05 21:39:29.0" updateauthor="smithbk" updated="2018-01-05 21:39:29.0"/>
<Action id="38240" issue="26103" author="antoniovassell" type="comment" body="Noted" created="2018-01-05 21:41:13.0" updateauthor="antoniovassell" updated="2018-01-05 21:41:13.0"/>
<Action id="38272" issue="26103" author="denyeart" type="comment" body=" ~smithbk   ~antoniovassell  Could you clarify next steps and timing for this one?" created="2018-01-08 03:23:06.0" updateauthor="denyeart" updated="2018-01-08 03:23:06.0"/>
<Action id="38307" issue="26103" author="antoniovassell" type="comment" created="2018-01-08 18:55:16.0" updateauthor="antoniovassell" updated="2018-01-08 18:55:16.0"> <body><! CDATA  ~smithbk   ~aambati   ~denyeart    Essentially the next steps would be, when the dynamic flag is specified    {code} FABRIC_CA_DYNAMIC_LINK=true make docker {code}, it could be used to conditionally run   {code:java} apt-get install libltdl-dev y {code} in the build process in each image that is created: fabric-ca, fabric-ca-orderer, fabric-ca-peer.  This would prevented captioned error to occur and requiring developer to manually install library in each container.   ></body> </Action>
<Action id="38326" issue="26103" author="aambati" type="comment" body="https://gerrit.hyperledger.org/r/c/16691/" created="2018-01-09 05:15:19.0" updateauthor="aambati" updated="2018-01-09 05:15:19.0"/>
