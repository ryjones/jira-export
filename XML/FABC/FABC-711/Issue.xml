<Issue id="33385" key="FABC-711" number="711" project="10607" reporter="maripo5" assignee="skarim" creator="maripo5" type="10004" summary="Enrollment password shown while trying to register user with LDAP support" priority="3" resolution="10000" status="6" created="2018-08-30 20:39:02.0" updated="2018-09-12 16:51:54.0" resolutiondate="2018-09-12 16:51:54.0" votes="0" watches="2" workflowId="44673"> <description><! CDATA While trying to register user via Fabric CA, when LDAP is enabled, enrollment password is shown in error message body  STEPS TO REPRODUCE: # Integrate Fabric CA with LDAP # Enroll user via Fabric client # Try to register user via Fabric client  CURRENT RESULT:  As the result of (3) error message is shown with revealed password of user enrollment made in (2) {code:java} root@ubuntu:/# fabric-ca-client enroll -u http://admin:my_secret_password@localhost:7054 2018/08/30 19:41:29  INFO  generating key: &{A:ecdsa S:256} 2018/08/30 19:41:29  INFO  encoded CSR 2018/08/30 19:41:29  INFO  Stored client certificate at /etc/hyperledger/fabric-ca-server/msp/signcerts/cert.pem 2018/08/30 19:41:29  INFO  Stored root CA certificate at /etc/hyperledger/fabric-ca-server/msp/cacerts/localhost-7054.pem 2018/08/30 19:41:29  INFO  Stored intermediate CA certificates at /etc/hyperledger/fabric-ca-server/msp/intermediatecerts/localhost-7054.pem root@ubuntu:/# fabric-ca-client register --id.name test_user --id.type user 2018/08/30 19:41:48  INFO  Configuration file location: /etc/hyperledger/fabric-ca-server/fabric-ca-client-config.yaml Error: Response from server: Error Code: 0 - '&{admin %!!(MISSING)!(MISSING)s(*ldap.Entry=&{cn=admin,dc=mydomain,dc=example,dc=com   }) %!!(MISSING)!(MISSING)s(*ldap.Client=&{localhost 389 false cn=admin,dc=mydomain,dc=example,dc=com my_secret_password dc=mydomain,dc=example,dc=com (cn=%!!(MISSING)s(MISSING)) (memberUid=%!!(MISSING)s(MISSING))  uid member  map hf.Revoker:0xc420201740  map groups:map :   0xc4203b4dc0 0xc420138550 0xc4202ad2c0})}' does not have authority to register identities  {code}  *"my_secret_password"*  is return in error message  ></description> </Issue>
