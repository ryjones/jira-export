<Issue id="23713" key="FABC-261" number="261" project="10607" reporter="smithbk" assignee="smithbk" creator="smithbk" type="10004" summary="Fabric CA needs to restrict OUs in ecerts" priority="3" resolution="10000" status="6" created="2017-11-02 14:20:26.0" updated="2018-07-18 22:04:04.0" resolutiondate="2018-01-05 19:50:08.0" votes="0" watches="4" workflowId="32441"> <description><! CDATA Now that access control decisions are being made by fabric based on OUs, we must restrict OUs in ecerts.  For example, Alice registers Bob to be a client with the fabric-ca-server; however, Bob enrolls and specifies the OU for a peer in the CSR. This means Bob is authorized as a peer by MSP even though Alice intended Bob to have a client identity with no peer authorization. So this means the fabric-ca-server must have a way of limiting what Bob can specify in the CSR.  OUs will be derived from the type and affiliation which is already restricted. For example, if an identity is registered as type "peer" and affiliation "a.b", the OUs would be "OU=b,OU=a,OU=peer" (where "peer" is the root of the OU hierarchy). This means any OUs in the enrollment request will be ignored.  ></description> </Issue>
