<Issue id="14079" key="FABC-401" number="401" project="10607" reporter="greg.haskins" assignee="greg.haskins" creator="greg.haskins" type="10004" summary="DNS lookups fail within runtime/busybox based docker containers" priority="2" resolution="10000" status="6" created="2017-01-14 02:20:45.0" updated="2018-07-18 22:04:33.0" resolutiondate="2017-01-28 09:33:48.0" votes="0" watches="2" workflowId="32581"> <description><! CDATA DNS lookups based on gethostbyname() fail for static assets (peer, orderer, cop, busybox), such as those employed in our docker containers such as hyperledger/fabric-peer.  It was observed that a docker-composition between orderer and peer was failing to form a connection.  After investigating, it was determined that:  * No DNS names could be resolved, regardless of internal composition link or external service (e.g. www.cnn.com). * Docker/compose were not to blame, as loading other images (such as ubuntu:xenial and alpine) could resolve names just fine.  The root cause is that binaries such as peer/busybox were compiled under fabric-baseimage (ubuntu:xenial on x86) which utilizes glibc.  This library is notoriously difficult to utlize in a -static build, in part because of its architecture surround dlopen() for NSS.  We will need to find an alternate strategy for building out minimal containers.  ></description> </Issue>
