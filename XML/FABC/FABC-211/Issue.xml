<Issue id="15412" key="FABC-211" number="211" project="10607" reporter="smithbk" assignee="skarim" creator="smithbk" type="10004" summary="Error response has body twice" priority="3" resolution="10000" status="6" created="2017-03-20 21:34:53.0" updated="2018-07-18 22:03:53.0" resolutiondate="2017-03-30 14:01:32.0" votes="0" watches="1" workflowId="32391"> <description><! CDATA To reproduce: 1) fabric-ca-server start -b admin:adminpw 2) fabric-ca-client revoke -a foo -s bar  The server returns a response with two bodies as follows: {code} {"success":false,"result":null,"errors": {"code":10003,"message":"sql: no rows in result set"} ,"messages":  } {"success":false,"result":null,"errors": {"code":10003,"message":"sql: no rows in result set"} ,"messages":  } {code}  The server has the following error: {code} 2017/03/20 17:30:06 http: multiple response.WriteHeader calls {code}  Apparently it is writing the error twice and the 2nd one is trying to explicitly write the headers again.  This is probably something to do with cfssl's handler's that are registered in lib/server.go's registerHandler func.  It isn't obvious though.  ></description> </Issue>
