<Issue id="16599" key="FABC-285" number="285" project="10607" reporter="skarim" assignee="vpaprots@ca.ibm.com" creator="skarim" type="10004" summary="Default TLS unable to find key for TLS handshake" priority="3" resolution="10000" status="6" created="2017-05-10 20:30:15.0" updated="2018-07-18 22:04:09.0" resolutiondate="2017-05-26 12:34:39.0" votes="0" watches="2" workflowId="32465"> <description><! CDATA If TLS is enabled on fabric-ca server, but no TLS certificate and key is provided the default behavior is to use the CA certificate and key that were used to start the server for TLS purposes.   With BCCSP in place, the key gets stored in a keystore and a function call is made by passing in the cert file that looks up and returns the key. However, BCCSP imposes restrictions so that they information of the key is not exposed to the caller. This makes it difficult to initialize TLS as TLS require a key pair to be load, which will get used for the handshake.  Currently using default TLS behavior is currently broken. BCCSP needs to be extended to call TLS within to allow for TLS initialization.   Reproduction steps: 1. Run the following command: *fabric-ca-server start -d -b a:b --tls.enabled*  The following error will be seen: Error: open .../src/github.com/hyperledger/fabric-ca/cmd/fabric-ca-server/ca-key.pem: no such file or directory  ></description> </Issue>
