<Issue id="43800" key="FABC-892" number="892" project="10607" reporter="caduellery" assignee="caduellery" creator="caduellery" type="10004" summary="Fabric-CA is not able to recognize BCCSP PKCS11 environment variables" priority="4" status="10708" created="2019-12-26 13:03:51.0" updated="2020-06-01 13:18:30.0" votes="1" watches="4" workflowId="57653"> <description><! CDATA Trying to initiate Fabric CA Server with the following environment variables, as mentioned in  documentation|https://hyperledger-fabric-ca.readthedocs.io/en/release-1.4/users-guide.html#configuring-an-hsm , gives the subsequent error:    {code:java} FABRIC_CA_SERVER_BCCSP_DEFAULT=PKCS11 FABRIC_CA_SERVER_BCCSP_PKCS11_LIBRARY=/usr/local/lib/softhsm/libsofthsm2.so FABRIC_CA_SERVER_BCCSP_PKCS11_PIN=98765432 FABRIC_CA_SERVER_BCCSP_PKCS11_LABEL="ForFabric" fabric-ca-server init -b admin:adminpw   INFO  Created default configuration file at /home/user/hlf/fabric-ca-server-config.yaml  INFO  Server Version: 1.4.4  INFO  Server Levels: &{Identity:2 Affiliation:1 Certificate:1 Credential:1 RAInfo:1 Nonce:1}  FATAL  Initialization failure: Failed to initialize BCCSP Factories: %!s(<nil>) Could not find default `PKCS11` BCCSP {code} If I populate the fabric-ca-server-config.yaml with the pkcs11 section bellow bccsp, Fabric CA does initiate. So, it seems to be a bug similar to FAB-9595, but in the Fabric CA scope. Adding an empty section for pkcs11 in the generated default config file solves the problem.        ></description> </Issue>
