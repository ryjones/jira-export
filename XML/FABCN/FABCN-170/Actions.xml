<Action id="55367" issue="36288" author="rickr" type="comment" created="2019-01-07 14:20:30.0" updateauthor="rickr" updated="2019-01-07 14:20:30.0"> <body><! CDATA Problem is on fabric side executing Node chaincode.  We've seen this time and time again the suggested solution was to have a local npm repository.   ></body> </Action>
<Action id="55751" issue="36288" author="mbwhite" type="comment" created="2019-01-17 09:42:32.0" updateauthor="mbwhite" updated="2019-01-17 09:42:32.0"> <body><! CDATA  ~rickr  are you able to expand on the root cause please?  I can see there's a problem parsing some json.  Is this caused by a NPM install failing - hence a local repository of some type would assist in that?  ></body> </Action>
<Action id="56157" issue="36288" author="mbwhite" type="comment" body="Will add  ~andrew-coleman   for FYI.." created="2019-01-24 15:37:22.0" updateauthor="mbwhite" updated="2019-01-24 15:37:22.0"/>
<Action id="56180" issue="36288" author="tijohnson" type="comment" body="I can say that Ramesh and I spent several hours looking the nvm install process just yesterday (Jan23). The install process for nvm does not follow standard Unix practices and there  is no error handling (all errors that occur during the installation process are ignored). We should consider imiplementing our own installation scripts for nvm." created="2019-01-24 19:09:03.0" updateauthor="tijohnson" updated="2019-01-24 19:09:03.0"/>
<Action id="56446" issue="36288" author="mbwhite" type="comment" body=" ~rameshthoomu   ~tijohnson   I believe that a number of the build scripts are moving away from nvm is that true?" created="2019-01-31 14:24:00.0" updateauthor="mbwhite" updated="2019-01-31 14:24:00.0"/>
<Action id="56455" issue="36288" author="tijohnson" type="comment" created="2019-01-31 16:39:30.0" updateauthor="tijohnson" updated="2019-01-31 16:39:30.0"> <body><! CDATA I do not know of anyone at LF using NVM.  I can say the install scripts are a mess and I suspect that some of the intermittent problems may be coming from that, but I have no way of knowing that.   ></body> </Action>
<Action id="56499" issue="36288" author="rameshthoomu" type="comment" created="2019-02-01 14:33:11.0" updateauthor="rameshthoomu" updated="2019-02-01 14:33:38.0"> <body><! CDATA  ~tijohnson  The above issue is not releated to installation script..As mentioned by Rick,  while fabric executing the node chaincode, somehow it's unable to pull the required node modules or not able to start the peer container. See the below error {code:java} Not enough endorsers for instantiate :1endorser failed with error starting container: error starting container{code}  ></body> </Action>
<Action id="56507" issue="36288" author="tijohnson" type="comment" body="I asked, and there is no-one in LF that has any experience with npm. In all likelihood the error messages from NPM are just symptoms of something that failed earlier in the build. But I know nothing about how your code, NPM and docker interact." created="2019-02-01 16:22:39.0" updateauthor="tijohnson" updated="2019-02-01 16:22:39.0"/>
<Action id="56960" issue="36288" author="mbwhite" type="comment" created="2019-02-13 10:17:19.0" updateauthor="mbwhite" updated="2019-02-13 10:17:19.0"> <body><! CDATA I think we'll need to go back to 'first principals' and work forward on this one.   ~vijaypunugubati  (or anybody else :) )    - which is the gerrit repo that this build comes from?          ></body> </Action>
<Action id="56983" issue="36288" author="tijohnson" type="comment" created="2019-02-13 16:15:09.0" updateauthor="tijohnson" updated="2019-02-13 16:15:09.0"> <body><! CDATA I don't know if this is still problem.  The build is controlled by scripts/configs in the ci-management repo. The script that installs NPM is located in the ci-managment repo. Much of the functionality of this build/test/validation is located in other repos.  LF does not have any experience with NPM, but I would be glad to assist. I can tell you that there is VERY good chance this is not the real problem but only a symptom of a problem that occurred earlier in the build.  The questions I would start with are: # where is NPM running when the error occurs (on the minion or on a (or multiple) docker image) # what is NPM trying to do when the error occurs # what environment (vars/files/permission) does NPM expect and are they are correct  I can assist here, but I but should not be the one driving this.        ></body> </Action>
<Action id="57123" issue="36288" author="mbwhite" type="comment" created="2019-02-18 10:58:44.0" updateauthor="mbwhite" updated="2019-02-18 10:58:44.0"> <body><! CDATA  ~tijohnson   thanks for your comments - completely agree with you.        I'm going to cancel this - can I ask that if anybody sees this - could they re-open this asap with links to the logs where it's seen.      ></body> </Action>
<Action id="57124" issue="36288" author="mbwhite" type="comment" body="See above comment" created="2019-02-18 10:59:33.0" updateauthor="mbwhite" updated="2019-02-18 10:59:33.0"/>
