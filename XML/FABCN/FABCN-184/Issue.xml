<Issue id="34843" key="FABCN-184" number="184" project="11207" reporter="davidkel" assignee="davidkel" creator="davidkel" type="10000" summary="Peer Can&apos;t tolerate ping frequency of node.js chaincode" priority="2" resolution="10000" status="6" created="2018-10-24 08:43:41.0" updated="2019-11-30 21:14:40.0" resolutiondate="2018-10-31 07:36:39.0" votes="0" watches="2" workflowId="57002"> <description><! CDATA The peer has a minimum default ping frequency of 60s. The node.js chaincode will ping at a frequency of 60s. However If this is slightly out for whatever reason, the Peer sends a GOAWAY with ENHANCE_YOUR_CALM and a message of `too_many_pings`, which in theory the client will then 1/2 the ping frequency but the peer then instantly closes the stream not even allowing the client side to handle. This causes the node.js container to terminate.  Although this doesn't fix the issue that appears to be with the peer (although there may also be a bug in grpc that ends up ignoring the GOAWAY request), there is a workaround which is to set  CORE_PEER_KEEPALIVE_MININTERVAL=30s But as the default in all the images is 60s, we need to change the default ping frequency of the node.js chaincode to not upset the peer. As a suggestion, we should set the ping frequency to 90 seconds.  Note the version numbers are not correct for for fabric-shim versions as they work on a different scale to core fabric  ></description> </Issue>
