<Issue id="42328" key="FABCN-229" number="229" project="11207" reporter="btl5037" assignee="sstone1" creator="btl5037" type="10000" summary="Transaction proposal transient data not delivered to Node chaincode" priority="2" resolution="10000" status="6" created="2019-09-12 14:09:33.0" updated="2019-11-30 21:14:52.0" resolutiondate="2019-09-26 09:04:12.0" votes="0" watches="5" workflowId="57047"> <description><! CDATA {code:java} 2019-09-11 10:28:20,040 main ERROR HFCAClient:1458 - POST request to https://localhost:7054 failed request body {"caname":"ca0","certificate_request":"-----BEGIN CERTIFICATE REQUEST-----\nMIHWMH4CAQAwHDEaMBgGA1UEAwwRdXNlcjE1NjgxOTc2ODBfMTUwWTATBgcqhkjO\nPQIBBggqhkjOPQMBBwNCAASxHb/7DHljnEmfDqW1Oe7D0qfIpxDhQB6N7qlA6441\nB4+PkFRGUXpHGIl7p+HCgS7ECuhs1cvgd+RsdNqNwGfEoAAwCgYIKoZIzj0EAwID\nSAAwRQIhAKNoL+A0y9CQ5zGoDXvlMye/UEWT8h2fKr6deYwfMVHAAiBQBARd3H11\n81QcFzjk/k7UcQeDGNWoB8o8jXXciDAZ/A==\n-----END CERTIFICATE REQUEST-----\n"}. Response: {"result":"","errors": {"code":20,"message":"Authentication failure"}  ,"messages":  ,"success":false} 2019-09-11 10:28:20,041 main ERROR HFCAClient:677 - POST request to https://localhost:7054 failed request body {"caname":"ca0","certificate_request":"-----BEGIN CERTIFICATE REQUEST-----\nMIHWMH4CAQAwHDEaMBgGA1UEAwwRdXNlcjE1NjgxOTc2ODBfMTUwWTATBgcqhkjO\nPQIBBggqhkjOPQMBBwNCAASxHb/7DHljnEmfDqW1Oe7D0qfIpxDhQB6N7qlA6441\nB4+PkFRGUXpHGIl7p+HCgS7ECuhs1cvgd+RsdNqNwGfEoAAwCgYIKoZIzj0EAwID\nSAAwRQIhAKNoL+A0y9CQ5zGoDXvlMye/UEWT8h2fKr6deYwfMVHAAiBQBARd3H11\n81QcFzjk/k7UcQeDGNWoB8o8jXXciDAZ/A==\n-----END CERTIFICATE REQUEST-----\n"}. Response: {"result":"","errors": {"code":20,"message":"Authentication failure"}  ,"messages":  ,"success":false} org.hyperledger.fabric_ca.sdk.exception.HTTPException: POST request to https://localhost:7054 failed request body {"caname":"ca0","certificate_request":"-----BEGIN CERTIFICATE REQUEST-----\nMIHWMH4CAQAwHDEaMBgGA1UEAwwRdXNlcjE1NjgxOTc2ODBfMTUwWTATBgcqhkjO\nPQIBBggqhkjOPQMBBwNCAASxHb/7DHljnEmfDqW1Oe7D0qfIpxDhQB6N7qlA6441\nB4+PkFRGUXpHGIl7p+HCgS7ECuhs1cvgd+RsdNqNwGfEoAAwCgYIKoZIzj0EAwID\nSAAwRQIhAKNoL+A0y9CQ5zGoDXvlMye/UEWT8h2fKr6deYwfMVHAAiBQBARd3H11\n81QcFzjk/k7UcQeDGNWoB8o8jXXciDAZ/A==\n-----END CERTIFICATE REQUEST-----\n"}. Response: {"result":"","errors": {"code":20,"message":"Authentication failure"}  ,"messages":  ,"success":false} 	at org.hyperledger.fabric_ca.sdk.HFCAClient.getResult(HFCAClient.java:1456) 	at org.hyperledger.fabric_ca.sdk.HFCAClient.post(HFCAClient.java:1374) 	at org.hyperledger.fabric_ca.sdk.HFCAClient.httpPost(HFCAClient.java:1348) 	at org.hyperledger.fabric_ca.sdk.HFCAClient.reenroll(HFCAClient.java:662) 	at org.hyperledger.fabric_ca.sdk.HFCAClient.reenroll(HFCAClient.java:614) 	at org.hyperledger.fabric_ca.sdkintegration.HFCAClientIT.testUserRevokeNullReason(HFCAClientIT.java:500) 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) 	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) 	at java.lang.reflect.Method.invoke(Method.java:498) 	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50) 	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) 	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47) 	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17) 	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26) 	at org.junit.rules.ExpectedException$ExpectedExceptionStatement.evaluate(ExpectedException.java:239) 	at org.junit.rules.RunRules.evaluate(RunRules.java:20) 	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325) 	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78) 	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57) 	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) 	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) 	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) 	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) 	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) 	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26) 	at org.junit.runners.ParentRunner.run(ParentRunner.java:363) 	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:38) 	at junit.framework.TestSuite.runTest(TestSuite.java:252) 	at junit.framework.TestSuite.run(TestSuite.java:247) 	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86) 	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:365) 	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:273) 	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:238) 	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:159) 	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:384) 	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:345) 	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:126) 	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:418)  ERROR  Tests run: 50, Failures: 5, Errors: 2, Skipped: 0, Time elapsed: 1,840.52 s <<< FAILURE! - in org.hyperledger.fabric.sdkintegration.IntegrationSuite  ERROR  setup(org.hyperledger.fabric.sdkintegration.End2endNodeIT)  Time elapsed: 43.042 s  <<< FAILURE! java.lang.AssertionError: expected:<2> but was:<0> 	at org.hyperledger.fabric.sdkintegration.End2endNodeIT.setup(End2endNodeIT.java:51)   ERROR  setup(org.hyperledger.fabric.sdkintegration.End2endJavaIT)  Time elapsed: 348.824 s  <<< FAILURE! java.lang.AssertionError: Test failed with error : java.lang.AssertionError: Test failed with java.util.concurrent.CompletionException exception java.lang.AssertionError: Not enough endorsers for invoke(move a,b,100):1 endorser error: Channel Channel{id: 202, name: foo} sending proposal with transaction 22bb65c1891f453071c67b2dafce392b06958a5036ac01917f6bcdf71b7282d3 to Peer{ id: 206, name: peer0.org1.example.com, channelName: foo, url: grpcs://localhost:7051} failed because of timeout(300000 milliseconds) expiration. Was verified: false 	at org.hyperledger.fabric.sdkintegration.End2endJavaIT.setup(End2endJavaIT.java:60)   ERROR  setup(org.hyperledger.fabric.sdkintegration.End2endAndBackAgainNodeIT)  Time elapsed: 235.213 s  <<< ERROR! org.hyperledger.fabric.sdk.exception.ProposalException: Failed exception message is Channel Channel{id: 226, name: } sending proposal with transaction ef6b54ff2d03c16c241e2edf61ad1c12638b58825fbde28dcf04ea087a506deb to Peer{ id: 220, name: peer0.org1.example.com, channelName: foo, url: grpcs://localhost:7051} failed because of timeout(55000 milliseconds) expiration, status is 500 	at org.hyperledger.fabric.sdkintegration.End2endAndBackAgainNodeIT.setup(End2endAndBackAgainNodeIT.java:36)   ERROR  setup(org.hyperledger.fabric.sdkintegration.End2endIdemixIT)  Time elapsed: 418.812 s  <<< FAILURE! java.lang.AssertionError: Not enough endorsers for install :1.  Channel Channel{id: 244, name: } sending proposal with transaction 8cf47942b2d12c876279a8c8dd81593f54112b4dc5219d4dfadb7978ca5c3936 to Peer{ id: 238, name: peer0.org1.example.com, channelName: foo, url: grpcs://localhost:7051} failed because of timeout(55000 milliseconds) expiration 	at org.hyperledger.fabric.sdkintegration.End2endIdemixIT.setup(End2endIdemixIT.java:57)   ERROR  setup(org.hyperledger.fabric.sdkintegration.PrivateDataIT)  Time elapsed: 201.125 s  <<< FAILURE! org.junit.ComparisonFailure: Failed compare on channel bar chaincode id ChaincodeID(private_data_cc1_go:github.com/private_data_cc:1) expected value:'300', but got:'250' expected:< 30 0> but was:< 25 0> 	at org.hyperledger.fabric.sdkintegration.PrivateDataIT.queryChaincodeForExpectedValue(PrivateDataIT.java:501) 	at org.hyperledger.fabric.sdkintegration.PrivateDataIT.runChannel(PrivateDataIT.java:346) 	at org.hyperledger.fabric.sdkintegration.PrivateDataIT.runFabricTest(PrivateDataIT.java:185) 	at org.hyperledger.fabric.sdkintegration.PrivateDataIT.setup(PrivateDataIT.java:137)   ERROR  setup(org.hyperledger.fabric.sdkintegration.End2endLifecycleIT)  Time elapsed: 180.376 s  <<< ERROR! org.hyperledger.fabric.sdk.exception.TransactionException: Channel v2channel, send transactions failed on orderer OrdererClient{id: 263, channel: v2channel, name: orderer.example.com, url: grpcs://localhost:7050}. Reason:  timeout after 180000 ms. 	at org.hyperledger.fabric.sdkintegration.End2endLifecycleIT.constructChannel(End2endLifecycleIT.java:980) 	at org.hyperledger.fabric.sdkintegration.End2endLifecycleIT.runFabricTest(End2endLifecycleIT.java:195) 	at org.hyperledger.fabric.sdkintegration.End2endLifecycleIT.setup(End2endLifecycleIT.java:178)   ERROR  setup(org.hyperledger.fabric.sdkintegration.ServiceDiscoveryIT)  Time elapsed: 240.119 s  <<< FAILURE! junit.framework.AssertionFailedError: expected:<1> but was:<0> 	at org.hyperledger.fabric.sdkintegration.ServiceDiscoveryIT.setup(ServiceDiscoveryIT.java:139)   INFO    INFO  Results:  INFO    ERROR  Failures:   ERROR    End2endIdemixIT.setup:57->End2endIT.runFabricTest:209->End2endIT.runChannel:478 Not enough endorsers for install :1.  Channel Channel{id: 244, name: } sending proposal with transaction 8cf47942b2d12c876279a8c8dd81593f54112b4dc5219d4dfadb7978ca5c3936 to Peer{ id: 238, name: peer0.org1.example.com, channelName: foo, url: grpcs://localhost:7051} failed because of timeout(55000 milliseconds) expiration  ERROR    End2endJavaIT.setup:60->End2endIT.runFabricTest:209->End2endIT.runChannel:805 Test failed with error : java.lang.AssertionError: Test failed with java.util.concurrent.CompletionException exception java.lang.AssertionError: Not enough endorsers for invoke(move a,b,100):1 endorser error: Channel Channel{id: 202, name: foo} sending proposal with transaction 22bb65c1891f453071c67b2dafce392b06958a5036ac01917f6bcdf71b7282d3 to Peer{ id: 206, name: peer0.org1.example.com, channelName: foo, url: grpcs://localhost:7051} failed because of timeout(300000 milliseconds) expiration. Was verified: false  ERROR    End2endNodeIT.setup:51->End2endIT.runFabricTest:209->End2endIT.runChannel:784 expected:<2> but was:<0>  ERROR    PrivateDataIT.setup:137->runFabricTest:185->runChannel:346->queryChaincodeForExpectedValue:501 Failed compare on channel bar chaincode id ChaincodeID(private_data_cc1_go:github.com/private_data_cc:1) expected value:'300', but got:'250' expected:< 30 0> but was:< 25 0>  ERROR    ServiceDiscoveryIT.setup:139 expected:<1> but was:<0>  ERROR  Errors:   ERROR    End2endAndBackAgainNodeIT.setup:36->End2endAndBackAgainIT.runFabricTest:253->End2endAndBackAgainIT.reconstructChannel:703 » Proposal  ERROR    End2endLifecycleIT.setup:178->runFabricTest:195->constructChannel:980 » Transaction  INFO    ERROR  Tests run: 50, Failures: 5, Errors: 2, Skipped: 0  INFO    INFO    INFO  --- maven-failsafe-plugin:3.0.0-M3:verify (failsafe-integration-tests) @ fabric-sdk-java ---  INFO  ------------------------------------------------------------------------  INFO  BUILD FAILURE  INFO  ------------------------------------------------------------------------  INFO  Total time: 32:10 min  INFO  Finished at: 2019-09-11T10:28:20Z  INFO  Final Memory: 58M/855M  INFO  ------------------------------------------------------------------------  ERROR  Failed to execute goal org.apache.maven.plugins:maven-failsafe-plugin:3.0.0-M3:verify (failsafe-integration-tests) on project fabric-sdk-java: There are test failures.  ERROR    ERROR  Please refer to /w/workspace/fabric-sdk-java-master-merge-x86_64/target/failsafe-reports for the individual test results.  ERROR  Please refer to dump files (if any exist)  date .dump,  date -jvmRun N .dump and  date .dumpstream.  ERROR  ->  Help 1   ERROR    ERROR  To see the full stack trace of the errors, re-run Maven with the -e switch.  ERROR  Re-run Maven using the -X switch to enable full debug logging.  ERROR    ERROR  For more information about the errors and possible solutions, please read the following articles:  ERROR   Help 1  http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException {code}  ></description> </Issue>
