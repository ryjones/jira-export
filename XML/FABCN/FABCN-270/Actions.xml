<Action id="32930" issue="22700" author="rameshthoomu" type="comment" created="2017-10-20 14:31:47.0" updateauthor="rameshthoomu" updated="2017-10-20 14:31:47.0"> <body><! CDATA I could see fabric-sdk-node chaincode tests are failing consistently on all platforms. Below is the CI job log  https://jenkins.hyperledger.org/view/fabric-sdk-node/job/fabric-sdk-node6-merge-x86_64/34/console   Please see the debug log file https://jenkins.hyperledger.org/view/fabric-sdk-node/job/fabric-sdk-node-merge-s390x/268/artifact/debug.log  ></body> </Action>
<Action id="32940" issue="22700" author="denyeart" type="comment" created="2017-10-20 18:34:56.0" updateauthor="denyeart" updated="2017-10-20 18:34:56.0"> <body><! CDATA With the merge of CR 12257, GetState() and DelState() utilize a proto message to send the key between chaincode shim and peer.  I assume the problem here is that node js chaincode needs to make the same change.  See the updated proto in:   https://gerrit.hyperledger.org/r/#/c/12257/27/protos/peer/chaincode_shim.proto   and see how this is handled in golang shim handleGetState() and handleDelState() now:   https://gerrit.hyperledger.org/r/#/c/12257/27/core/chaincode/shim/handler.go   Note that eventually node js chaincode will need to support private data chaincode apis by passing a collection in the proto message, but for now shifting to the new proto approach (without populating collection) should be sufficient to get node js chaincode working again.  ></body> </Action>
<Action id="32956" issue="22700" author="davidkel" type="comment" body="So I did ask about whether the node.js shim was going to be included in the core/chaincode as it would seem to me that any changes to the proto would have an impact, and as the java shim is also there it would seem that the precedent is set. Any changes to the protos would be picked up, or the build would fail which is what you would want." created="2017-10-20 22:07:08.0" updateauthor="davidkel" updated="2017-10-20 22:07:54.0"/>
<Action id="32965" issue="22700" author="harrisob@us.ibm.com" type="comment" created="2017-10-22 13:25:45.0" updateauthor="harrisob@us.ibm.com" updated="2017-10-22 13:25:45.0"> <body><! CDATA I have made the changes to handle the proto change, does not include changes for private data.     https://gerrit.hyperledger.org/r/#/c/14751/  ></body> </Action>
