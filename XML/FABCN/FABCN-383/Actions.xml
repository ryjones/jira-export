<Action id="67742" issue="44179" author="heatherp" type="comment" body="Hi  ~siddjain  this is an issue with the apis provided by fabric-chaincode-node, so just moving this Jira to be under that project, as opposed to the node-sdk. Hopefully we&apos;ll take a look at the start of next week" created="2020-01-30 14:53:44.0" updateauthor="heatherp" updated="2020-01-30 14:53:44.0"/>
<Action id="67749" issue="44179" author="siddjain" type="comment" created="2020-01-30 18:47:15.0" updateauthor="siddjain" updated="2020-01-30 18:47:15.0"> <body><! CDATA there is actually an official sample here:  https://hyperledger.github.io/fabric-chaincode-node/release-1.4/api/tutorial-using-iterators.html   copying it below but with the same result *it does not work*. gives same result as code we have pasted. async function getAllResults(iterator) {    const allResults =   ;    while (true) {        const res = await iterator.next();        if (res.value) {            // if not a getHistoryForKey iterator then key is contained in res.value.key            allResults.push(res.value.value.toString('utf8'););        }        // check to see if we have reached then end        if (res.done) {            // explicitly close the iterator                        await iterator.close();            return allResults;        }    }}  ></body> </Action>
<Action id="67887" issue="44179" author="jtonline" type="comment" created="2020-02-10 16:21:00.0" updateauthor="jtonline" updated="2020-02-10 16:21:00.0"> <body><! CDATA Hi  ~siddjain   I'm not sure why the Working with iterators example isn't working but there's a working example in the FabCar contract here   https://github.com/hyperledger/fabric-samples/blob/release-1.4/chaincode/fabcar/javascript/lib/fabcar.js#L108   ></body> </Action>
<Action id="67888" issue="44179" author="jtonline" type="comment" body="I just tried using the getAllResults function from the Working with iterators documentation in a modified fabcar contract and it worked." created="2020-02-10 17:24:33.0" updateauthor="jtonline" updated="2020-02-10 17:24:33.0"/>
<Action id="67921" issue="44179" author="jtonline" type="comment" body="Closing since it looks like getStateByRange is working as expected. While unfortunately changing the current API would break existing code, there&apos;s a proposal around to implement an improved ledger api which is here if you&apos;re interested (there&apos;s no outlook on if or when it might be implemented though)  https://github.com/hyperledger/fabric-rfcs/pull/16 " created="2020-02-12 16:10:00.0" updateauthor="jtonline" updated="2020-02-12 16:10:00.0"/>
