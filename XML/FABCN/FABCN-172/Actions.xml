<Action id="53911" issue="35255" author="vijaypunugubati" type="comment" created="2018-11-28 14:22:37.0" updateauthor="vijaypunugubati" updated="2018-11-28 14:22:37.0"> <body><! CDATA The deprecated warnings are coming from the x509 library that is being used, pulled in as a dependent library - as used to provide APIs for chaincode to get information about a users' certificate.  Please check this issue ASAP, as all the daily fabric-test jobs have deprecated warnings. {code:java} /22:45:39 In file included from /home/jenkins/.node-gyp/8.9.4/include/node/v8.h:26:0, 22:45:39                  from /home/jenkins/.node-gyp/8.9.4/include/node/node.h:63, 22:45:39                  from ../include/addon.h:4, 22:45:39                  from ../src/addon.cc:4: 22:45:39 /home/jenkins/.node-gyp/8.9.4/include/node/v8.h:3502:36: note: declared here 22:45:39                  MaybeLocal<Object> CloneElementAt(Local<Context> context, 22:45:39                                     ^ 22:45:39 /home/jenkins/.node-gyp/8.9.4/include/node/v8config.h:318:3: note: in definition of macro ‘V8_DEPRECATED’ 22:45:39    declarator __attribute__((deprecated(message))) 22:45:39    ^ 22:45:39 In file included from ../node_modules/nan/nan_new.h:189:0, 22:45:39                  from ../node_modules/nan/nan.h:200, 22:45:39                  from ../include/x509.h:7, 22:45:39                  from ../src/addon.cc:5: 22:45:39 ../node_modules/nan/nan_implementation_12_inl.h: In static member function ‘static Nan::imp::FactoryBase<v8::BooleanObject>::return_t Nan::imp::Factory<v8::BooleanObject>::New(bool)’: 22:45:39 ../node_modules/nan/nan_implementation_12_inl.h:40:38: warning: ‘static v8::Local<v8::Value> v8::BooleanObject::New(bool)’ is deprecated: Pass an isolate  -Wdeprecated-declarations  22:45:39    return v8::BooleanObject::New(value).As<v8::BooleanObject>(); 22:45:39                                       ^ 22:45:39 In file included from /home/jenkins/.node-gyp/8.9.4/include/node/v8.h:26:0, 22:45:39                  from /home/jenkins/.node-gyp/8.9.4/include/node/node.h:63, 22:45:39                  from ../include/addon.h:4, 22:45:39                  from ../src/addon.cc:4: 22:45:39 /home/jenkins/.node-gyp/8.9.4/include/node/v8.h:4793:56: note: declared here 22:45:39    V8_DEPRECATED("Pass an isolate", static Local<Value> New(bool value)); 22:45:39                                                         ^ 22:45:39 /home/jenkins/.node-gyp/8.9.4/include/node/v8config.h:318:3: note: in definition of macro ‘V8_DEPRECATED’ 22:45:39    declarator __attribute__((deprecated(message))) 22:45:39    ^ 22:45:39 In file included from ../include/x509.h:7:0, 22:45:39                  from ../src/addon.cc:5: 22:45:39 ../node_modules/nan/nan.h: In function ‘bool Nan::SetAccessor(v8::Local<v8::Object>, v8::Local<v8::String>, Nan::GetterCallback, Nan::SetterCallback, v8::Local<v8::Value>, v8::AccessControl, v8::PropertyAttribute)’: 22:45:39 ../node_modules/nan/nan.h:1969:16: warning: ‘bool v8::Object::SetAccessor(v8::Local<v8::Name>, v8::AccessorNameGetterCallback, v8::AccessorNameSetterCallback, v8::Local<v8::Value>, v8::AccessControl, v8::PropertyAttribute)’ is deprecated: Use maybe version  -Wdeprecated-declarations  22:45:39      , attribute); 22:45:39                 ^ 22:45:39 In file included from /home/jenkins/.node-gyp/8.9.4/include/node/v8.h:26:0, 22:45:39                  from /home/jenkins/.node-gyp/8.9.4/include/node/node.h:63, 22:45:39                  from ../include/addon.h:4, 22:45:39                  from ../src/addon.cc:4: 22:45:39 /home/jenkins/.node-gyp/8.9.4/include/node/v8.h:3172:22: note: declared here 22:45:39                  bool SetAccessor(Local<Name> name, 22:45:39                       ^ 22:45:39 /home/jenkins/.node-gyp/8.9.4/include/node/v8config.h:318:3: note: in definition of macro ‘V8_DEPRECATED’ 22:45:39    declarator __attribute__((deprecated(message))) 22:45:39    ^ 22:45:40   CXX(target) Release/obj.target/x509/src/x509.o 22:45:41 In file included from ../node_modules/nan/nan.h:194:0, 22:45:41                  from ../include/x509.h:7, 22:45:41                  from ../src/x509.cc:3: 22:45:41 ../node_modules/nan/nan_maybe_43_inl.h: In function ‘Nan::MaybeLocal<v8::Object> Nan::CloneElementAt(v8::Local<v8::Array>, uint32_t)’: 22:45:41 ../node_modules/nan/nan_maybe_43_inl.h:220:58: warning: ‘v8::MaybeLocal<v8::Object> v8::Array::CloneElementAt(v8::Local<v8::Context>, uint32_t)’ is deprecated: Cloning is not supported.  -Wdeprecated-declarations  22:45:41    return array->CloneElementAt(GetCurrentContext(), index); 22:45:41                                                           ^ 22:45:41 In file included from /home/jenkins/.node-gyp/8.9.4/include/node/v8.h:26:0, 22:45:41                  from /home/jenkins/.node-gyp/8.9.4/include/node/node.h:63, 22:45:41                  from ../include/addon.h:4, 22:45:41                  from ../include/x509.h:5, 22:45:41                  from ../src/x509.cc:3: 22:45:41 /home/jenkins/.node-gyp/8.9.4/include/node/v8.h:3502:36: note: declared here 22:45:41                  MaybeLocal<Object> CloneElementAt(Local<Context> context, 22:45:41                                     ^ 22:45:41 /home/jenkins/.node-gyp/8.9.4/include/node/v8config.h:318:3: note: in definition of macro ‘V8_DEPRECATED’ 22:45:41    declarator __attribute__((deprecated(message))) 22:45:41    ^ 22:45:41 In file included from ../node_modules/nan/nan_new.h:189:0, 22:45:41                  from ../node_modules/nan/nan.h:200, 22:45:41                  from ../include/x509.h:7, 22:45:41                  from ../src/x509.cc:3: 22:45:41 ../node_modules/nan/nan_implementation_12_inl.h: In static member function ‘static Nan::imp::FactoryBase<v8::BooleanObject>::return_t Nan::imp::Factory<v8::BooleanObject>::New(bool)’: 22:45:41 ../node_modules/nan/nan_implementation_12_inl.h:40:38: warning: ‘static v8::Local<v8::Value> v8::BooleanObject::New(bool)’ is deprecated: Pass an isolate  -Wdeprecated-declarations  22:45:41    return v8::BooleanObject::New(value).As<v8::BooleanObject>(); 22:45:41                                       ^ 22:45:41 In file included from /home/jenkins/.node-gyp/8.9.4/include/node/v8.h:26:0, 22:45:41                  from /home/jenkins/.node-gyp/8.9.4/include/node/node.h:63, 22:45:41                  from ../include/addon.h:4, 22:45:41                  from ../include/x509.h:5, 22:45:41                  from ../src/x509.cc:3: 22:45:41 /home/jenkins/.node-gyp/8.9.4/include/node/v8.h:4793:56: note: declared here 22:45:41    V8_DEPRECATED("Pass an isolate", static Local<Value> New(bool value)); 22:45:41                                                         ^ 22:45:41 /home/jenkins/.node-gyp/8.9.4/include/node/v8config.h:318:3: note: in definition of macro ‘V8_DEPRECATED’ 22:45:41    declarator __attribute__((deprecated(message))) 22:45:41    ^ 22:45:41 In file included from ../include/x509.h:7:0, 22:45:41                  from ../src/x509.cc:3: 22:45:41 ../node_modules/nan/nan.h: In function ‘bool Nan::SetAccessor(v8::Local<v8::Object>, v8::Local<v8::String>, Nan::GetterCallback, Nan::SetterCallback, v8::Local<v8::Value>, v8::AccessControl, v8::PropertyAttribute)’: 22:45:41 ../node_modules/nan/nan.h:1969:16: warning: ‘bool v8::Object::SetAccessor(v8::Local<v8::Name>, v8::AccessorNameGetterCallback, v8::AccessorNameSetterCallback, v8::Local<v8::Value>, v8::AccessControl, v8::PropertyAttribute)’ is deprecated: Use maybe version  -Wdeprecated-declarations  22:45:41      , attribute); 22:45:41                 ^ 22:45:41 In file included from /home/jenkins/.node-gyp/8.9.4/include/node/v8.h:26:0, 22:45:41                  from /home/jenkins/.node-gyp/8.9.4/include/node/node.h:63, 22:45:41                  from ../include/addon.h:4, 22:45:41                  from ../include/x509.h:5, 22:45:41                  from ../src/x509.cc:3: 22:45:41 /home/jenkins/.node-gyp/8.9.4/include/node/v8.h:3172:22: note: declared here 22:45:41                  bool SetAccessor(Local<Name> name,/ code placeholder {code} Build log:  https://jenkins.hyperledger.org/view/fabric-chaincode-node/job/fabric-chaincode-node-verify-x86_64/88/consoleFull     ></body> </Action>
<Action id="53929" issue="35255" author="ashutosh_kumar" type="comment" body=" ~vijaypunugubati  Did you run nsp against Node repo ? How can I reproduce it locally ?" created="2018-11-28 15:55:49.0" updateauthor="ashutosh_kumar" updated="2018-11-28 15:55:49.0"/>
<Action id="54001" issue="35255" author="sstone1" type="comment" body=" ~mbwhite  can you look at this please?" created="2018-11-29 13:00:17.0" updateauthor="sstone1" updated="2018-11-29 13:00:17.0"/>
<Action id="54071" issue="35255" author="mbwhite" type="comment" body="Yes - the x509 libraries though we can&apos;t update till v2 (https://jira.hyperledger.org/browse/FAB-13075)" created="2018-11-30 10:32:46.0" updateauthor="mbwhite" updated="2018-11-30 10:32:46.0"/>
<Action id="54190" issue="35255" author="mbwhite" type="comment" created="2018-12-03 12:27:17.0" updateauthor="mbwhite" updated="2018-12-03 12:27:17.0"> <body><! CDATA  ~sstone1  - Some of the changes we can make immediately.  However the rest (which do include some high), can't be changed without updating grpc and the gulp level.     Changes to grpc levels always seems to be 'sensitive'  and Gulp 3 -> Gulp 4 is a breaking change that will affect all the build files.   ></body> </Action>
<Action id="54248" issue="35255" author="mbwhite" type="comment" created="2018-12-04 08:45:22.0" updateauthor="mbwhite" updated="2018-12-04 08:45:22.0"> <body><! CDATA As part of the beta2 update, a number of these have been updated; this leaves the grpc and the gulp udates to do as part of v2.0  Moving this work item to be v2.0 as a result  ></body> </Action>
<Action id="54482" issue="35255" author="mbwhite" type="comment" body="A number of the updates had to backed; the latest testing tools and code-coverage were mutually incompatible. " created="2018-12-07 10:15:00.0" updateauthor="mbwhite" updated="2018-12-07 10:15:00.0"/>
