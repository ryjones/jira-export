<Issue id="45617" key="FABCN-426" number="426" project="11207" reporter="JIRAUSER20359" creator="JIRAUSER20359" type="10001" summary="state-based validation using nodejs chaincode" priority="3" status="10100" created="2020-07-16 06:24:42.0" updated="2020-11-18 09:06:16.0" votes="0" watches="1" workflowId="59520" archived="N"> <description><! CDATA Â am trying to set the key-level endorsement policy in my nodejs chaincode.  I can successfully set the endorsement using the following code  await ctx.stub.setStateValidationParameter(dataID, Buffer.from("OR('Org1MSP.client','Org1MSP.admin','Org1MSP.member')");  I have tried with both first-network and test-network default configurations. The problem is that when I want to update my data I get "ENDORSEMENT_POLICY_FAILURE" error. The docker logs show the following error. stateBasedValidator.Validate failed, err validation of key data1 (coll'':ns'monitoring') in tx 6:0 failed: Error unmarshaling to SignaturePolicy: proto: can't skip unknown wire type 7  Without setting the state-based endorsement policy I can successfully update my data, which means the problem comes from the way I set sate-based endorsement policy. I could not find any example regarding state-based endorsement using nodejs and I am not sure my ep format is correct.  ></description> </Issue>
