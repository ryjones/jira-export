<Issue id="44900" key="FABCN-396" number="396" project="11207" reporter="varadatibm" assignee="mbwhite" creator="varadatibm" type="10100" summary="Installing older Node based chaincode on 2.0 peer fails - document compatibility and upgrade steps" priority="3" resolution="10000" status="6" created="2020-04-21 22:43:05.0" updated="2020-11-10 15:59:05.0" resolutiondate="2020-05-12 12:34:45.0" votes="0" watches="4" workflowId="58842" archived="N"> <description><! CDATA I have a Node chaincode code (CDS) from a couple of months ago that works on 1.4.6... but installing the same package on a Fabric 2.0 peer throws an error, but still gets added to the peer. When querying the peer, peer returns the failed cc into the installed chaincodes.    {panel} could not build chaincode: docker build failed: docker image build failed: docker build failed: Error returned from build: 1 "+ INPUT_DIR=/chaincode/input + OUTPUT_DIR=/chaincode/output + cp -R /chaincode/input/src/. /chaincode/output + cd /chaincode/output + ' ' -f package-lock.json -o -f npm-shrinkwrap.json   + npm ci '--only=production' > x509@0.3.3 install /chaincode/output/node_modules/x509 > node-gyp rebuild make: Entering directory '/chaincode/output/node_modules/x509/build' CXX(target) Release/obj.target/x509/src/addon.o In file included from ../node_modules/nan/nan.h:194, from ../include/x509.h:7, from ../src/addon.cc:5: ../node_modules/nan/nan_maybe_43_inl.h: In function 'Nan::Maybe<bool> Nan::ForceSet(v8::Local<v8::Object>, v8::Local<v8::Value>, v8::Local<v8::Value>, v8::PropertyAttribute)': ../node_modules/nan/nan_maybe_43_inl.h:88:15: error: 'class v8::Object' has no member named 'ForceSet' 88 | return obj->ForceSet(GetCurrentContext(), key, value, attribs); | ^~~~~~~~ ../node_modules/nan/nan_maybe_43_inl.h: In function 'Nan::MaybeLocal<v8::Object> Nan::CloneElementAt(v8::Local<v8::Array>, uint32_t)': ../node_modules/nan/nan_maybe_43_inl.h:220:17: error: 'class v8::Array' has no member named 'CloneElementAt' 220 | return array->CloneElementAt(GetCurrentContext(), index); | ^~~~~~~~~~~~~~ In file included from ../node_modules/nan/nan_converters.h:59, from ../node_modules/nan/nan.h:199, from ../include/x509.h:7, from ../src/addon.cc:5: ../node_modules/nan/nan_converters_43_inl.h: In static member function 'static Nan::imp::ToFactoryBase<v8::Boolean>::return_t Nan::imp::ToFactory<v8::Boolean>::convert(v8::Local<v8::Value>)':  {panel} {panel}   {panel}  ></description> </Issue>
