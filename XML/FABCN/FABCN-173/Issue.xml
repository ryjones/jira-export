<Issue id="38603" key="FABCN-173" number="173" project="11207" reporter="davidkel" creator="davidkel" type="10000" summary="Annotated metadata appears to be invalid for referenced components." priority="2" resolution="10002" status="6" created="2019-03-20 13:47:01.0" updated="2019-11-30 21:14:38.0" resolutiondate="2019-05-22 12:16:14.0" votes="0" watches="1" workflowId="56991"> <description><! CDATA Consider the following example {code} @Object() export class Commodity { @Property() tradingSymbol: Identifier; };  @Object() export class CommodityEvent { @Property() action: string; @Property() commodity: Commodity; } {code} However the metadata generated for CommodityEvent is not correct. It generated  {noformat} "CommodityEvent": { "$id": "CommodityEvent", "type": "object", "additionalProperties": false, "properties":   { "name": "action", "schema": { "type": "string" } }, { "name": "commodity", "schema": { "type": "commodity" } }   } {noformat} We see the commodity event property is specifying a type of just commodity where it should actually be referencing the Commodity definition (not shown in the snippet).   This again shows that annotated metadata is not validated against the schema as the chaincode starts whereas if I took the metadata and placed it into a JSON file then the chaincode would fail to start due to validation.  ></description> </Issue>
