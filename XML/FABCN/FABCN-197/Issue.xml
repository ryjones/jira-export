<Issue id="23969" key="FABCN-197" number="197" project="11207" reporter="janb87" assignee="janb87" creator="janb87" type="10000" summary="Node.js chaincode does not preserve casing inside peer url" priority="3" resolution="10000" status="6" created="2017-11-16 11:30:07.0" updated="2019-11-30 21:14:43.0" resolutiondate="2018-02-14 21:12:11.0" votes="0" watches="5" workflowId="57015"> <description><! CDATA We are having issues executing node.js chaincode on our network.  *More info on the issue:* # The peer starts up the chaincode container correctly # The chaincode container starts up the shim and sends a chat to the peer # The peer doesn't receive a message from the chaincode container and times out after waiting for 5 mins  *Problem*  Inside the shim code the peer url is converted to all lowercase. As Docker DNS is case senstive the peer cannot be found and does not receive any messages from the chaincode container.  *Suggested solution:*  Make sure the casing of the peer url is preserved inside the chain code.  The cause is the url.parse method from node.js itself. Which returns a url object.   https://nodejs.org/api/url.html#url_urlobject_host   (The {{hostname}} property is the lower-cased host name portion of the {{host}} component _without_ the {{port}} included.)   https://github.com/hyperledger/fabric-chaincode-node/blob/master/src/lib/handler.js#L689    https://github.com/hyperledger/fabric-chaincode-node/blob/master/src/lib/handler.js#L683    *More info on our project:* # We have generated our own certificates # We have successfully deployed Go chaincode using the same configuration # We run both Go and Node.js chaincode (instantiated from the same peer) # Inside the node.js client we need to use the 'ssl-target-name-override' override (we don't have mutual TLS enabled)  Network setup schema  !ANB_Arch.004.png|thumbnail!     Environment variables chaincode container   ^env-variables-chaincode-container     ~jimthematrix@gmail.com   ~yacovm      ></description> </Issue>
