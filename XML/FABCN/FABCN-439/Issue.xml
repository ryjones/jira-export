<Issue id="46331" key="FABCN-439" number="439" project="11207" reporter="JIRAUSER20406" assignee="JIRAUSER20816" creator="JIRAUSER20406" type="10004" summary="Support META-INF directory as primary source of contract metadata" priority="3" resolution="10000" status="6" created="2020-11-18 14:06:34.0" updated="2020-12-02 12:02:01.0" resolutiondate="2020-12-02 11:18:08.0" votes="0" watches="2" workflowId="60260" archived="N"> <description><! CDATA The issue is with the chaincode metadata and it's location.     It's a JSON description of the contracts, version title, etc, along with a list of all the transaction functions and their arguments.  very much like the OpenAPI if you've encountered that     The way the chaincodes work, is that in most cases the annotations in the code let the chaincode libraries create the metadata... but in some cases (javascript or for some reason you don't use annotations), the metadata can be specified up by the user as a JSON file... for historical reasons it's in a directory called contract-metadata....There's other metadata that is used for the CouchDB indexes; that goes in a directory called META-INF - which is more sensible.   What we need is that all the chaincodes will look for the metadata in the META-INF directory and falling back to the original directory.     So this needs changing in all the chaincodes (1.4 I think as well as 2.2 and master).The complexity however is as part of this we need to go and check all the different ways a chaincode package can be created - to make sure they don't actively strip out the metadata file.  ></description> </Issue>
