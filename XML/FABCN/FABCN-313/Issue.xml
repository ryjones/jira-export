<Issue id="19343" key="FABCN-313" number="313" project="11207" reporter="jimthematrix" assignee="jimthematrix" creator="jimthematrix" type="10003" summary="Code structure design and initial impl of node chaincode shim" priority="3" resolution="10000" status="6" created="2017-07-19 03:37:21.0" updated="2019-11-30 21:15:12.0" resolutiondate="2017-08-25 15:12:48.0" votes="0" watches="1" timeoriginalestimate="115200" timeestimate="0" timespent="115200" workflowId="39487"> <description><! CDATA - the runtime image should be built based on the fabric-baseimage image, which already has node 6.9.x and npm 3.10.x pre-installed, and add the following pieces: - module: command-line-require - module: log4js - module: grpc - the user-provided chaincode should be the main entry point to start the app: {code} const shim = require('fabric-shim'); var Chaincode = class { Init() { // init() impl } Invoke() { // invoke() impl } }; shim.Start(new Chaincode()); {code} - all shim interface's functions should be implemented in the 'fabric-shim' package - arguments passing b/w the SDK and the chaincode should be JSON based instead of byte arrays  Note: a significant internal refactoring on the communication protocol b/w the peer and chaincode container during endorsement is being worked on, with the main goal to eliminate FSM: https://gerrit.hyperledger.org/r/#/c/11867. Basing the javascript shim implementation on the refactored code should be preferred.  ></description> </Issue>
