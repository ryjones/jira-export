<Issue id="45012" key="FABCN-399" number="399" project="11207" reporter="denyeart" creator="denyeart" type="10004" summary="Node chaincode doesn&apos;t iterate past 100 records in a result set" priority="1" resolution="10002" status="6" created="2020-05-07 04:03:52.0" updated="2020-05-21 14:05:22.0" resolutiondate="2020-05-07 09:29:11.0" votes="0" watches="1" workflowId="58917" archived="N"> <description><! CDATA I found this problem when testing FABCJ-285Â on v2.1.  I updated FabCar to initialize 140 cars instead of 10. Query all cars returns the following number of cars:  Go chaincode - 140 cars  Java chaincode - 140 cars  Javascript chaincode - {color:#ff0000}100 cars{color}  Records are returned from peer to chaincode shim in batches of 100 records.  When the 101st record is requested by a chaincode, the chaincode shim is supposed to request the next batch of 100 from the peer by calling QUERY_STATE_NEXT.  This works as expected in Go chaincode and Java chaincode, but Javascript chaincode never calls QUERY_STATE_NEXT, and therefore only the first 100 records are returned to the client.  Each of the chaincode languages should have a test for > 100 records.  ></description> </Issue>
