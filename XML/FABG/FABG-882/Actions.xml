<Action id="62081" issue="41347" author="bstasyszyn" type="comment" created="2019-07-24 14:46:12.0" updateauthor="bstasyszyn" updated="2019-07-24 14:46:12.0"> <body><! CDATA The InstantiateCC function does not look at the endorsement policy when targeting peers. (The instantiation policy is different from the endorsement policy.) By default, the instantiation policy is 'one-of-any', meaning that any org can endorse the instantiate proposal. If you choose to target only a subset of peers for install then you'll need to target (one or more of) those same peers for instantiate using WithTargets or WithTargetEndpoints. e.g.:  resmgmt.InstantiateCC(chID, req, WithTargetEndpoints("peer0.org1.example.com"))  (Note that the SDK doesn't currently support automatically selecting peers using the instantiation policy.)   ></body> </Action>
<Action id="62103" issue="41347" author="mtng" type="comment" created="2019-07-25 05:41:40.0" updateauthor="mtng" updated="2019-07-25 05:46:29.0"> <body><! CDATA Sure, but in the documentation is written the following:  "By default, endorsement policies are specified for a channel’s chaincode at instantiation or upgrade time (that is, one endorsement policy covers all of the state associated with a chaincode)."   https://hyperledger-fabric.readthedocs.io/en/release-1.4/endorsement-policies.html?highlight=endorsement%20policy#two-ways-to-require-endorsement   "Chaincode-level endorsement policies can be specified at instantiate time using either the SDK (for some sample code on how to do this, click  here|https://github.com/hyperledger/fabric-sdk-node/blob/f8ffa90dc1b61a4a60a6fa25de760c647587b788/test/integration/e2e/e2eUtils.js#L178 ) or in the peer CLI using the {{-P}}switch followed by the policy."  * https://hyperledger-fabric.readthedocs.io/en/release-1.4/endorsement-policies.html?highlight=endorsement%20policy#setting-chaincode-level-endorsement-policies *  So I understand that the instantiation policy that i am defining is going to be the endorsement policy of that chaincode in that channel.     If I am defining only one organization to endorse the transaction, why the sdk is sending the request to all the organizations? I don't care about the peers in the endorse organization, both of them in that org have the chaincode installed.  ></body> </Action>
<Action id="62160" issue="41347" author="mtng" type="comment" created="2019-07-26 10:41:39.0" updateauthor="mtng" updated="2019-07-26 10:41:39.0"> <body><! CDATA It's a bug in the 1.4.1 version, the not endorser organization is trying to execute lscc and to endorse the transaction.  I have upgrade the network to 1.4.2 and it's working.  ></body> </Action>
<Action id="62236" issue="41347" author="troyronda" type="comment" body="Excellent news - thanks for letting us know. I will close the issue in that case." created="2019-07-29 19:40:40.0" updateauthor="troyronda" updated="2019-07-29 19:40:40.0"/>
