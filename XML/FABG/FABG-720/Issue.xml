<Issue id="32825" key="FABG-720" number="720" project="10610" reporter="jamesxql" creator="jamesxql" type="10004" summary="Panic when creating channel client" priority="3" resolution="10204" status="6" created="2018-08-14 15:49:03.0" updated="2018-11-03 06:04:58.0" resolutiondate="2018-11-03 06:04:58.0" votes="0" watches="1" workflowId="44062"> <description><! CDATA We use fabric-sdk-go to access the chaincode API, the code is as follows: {code} fabCfg := fabcfg.FromFile("config.yaml") fabSDK, err := fabsdk.New(fabCfg) if err != nil {         return nil, err     }  clientChannelContext := sdk.fabricSDK.ChannelContext("mychannel") client, err := channel.New(clientChannelContext) ...{code}  The program crashed at the channel.New() function. Configuration file has uploaded to attachment.  Error output:   {code:go} panic: runtime error: invalid memory address or nil pointer dereference  recovered  	panic: runtime error: invalid memory address or nil pointer dereference  signal SIGSEGV: segmentation violation code=0x1 addr=0x20 pc=0x4441b23   goroutine 20  running : testing.tRunner.func1(0xc42019a780) 	/usr/local/Cellar/go/1.10.3/libexec/src/testing/testing.go:742 +0x29d panic(0x4725600, 0x4ce4fc0) 	/usr/local/Cellar/go/1.10.3/libexec/src/runtime/panic.go:502 +0x229 rockontrol/backend/binlog-sdk-go/vendor/github.com/hyperledger/fabric-sdk-go/pkg/context.(*Client).Identifier(0xc42023cd40, 0xc4200bb590) 	<autogenerated>:1 +0x33 rockontrol/backend/binlog-sdk-go/vendor/github.com/hyperledger/fabric-sdk-go/pkg/fab/chconfig.(*ChannelConfig).calculateTargetsFromConfig(0xc420228620, 0x48c3d80, 0xc42023cd40, 0x0, 0x0, 0x0, 0xc4201c59a8, 0x411833b) 	/Users/xuqiaolun/Documents/workspace/src/rockontrol/backend/binlog-sdk-go/vendor/github.com/hyperledger/fabric-sdk-go/pkg/fab/chconfig/chconfig.go:217 +0x258 rockontrol/backend/binlog-sdk-go/vendor/github.com/hyperledger/fabric-sdk-go/pkg/fab/chconfig.(*ChannelConfig).queryPeers(0xc420228620, 0x48be6a0, 0xc42021dce0, 0xc4201d6150, 0x47f1880, 0xc4201c5a58) 	/Users/xuqiaolun/Documents/workspace/src/rockontrol/backend/binlog-sdk-go/vendor/github.com/hyperledger/fabric-sdk-go/pkg/fab/chconfig/chconfig.go:175 +0x5c7 rockontrol/backend/binlog-sdk-go/vendor/github.com/hyperledger/fabric-sdk-go/pkg/fab/chconfig.(*ChannelConfig).Query(0xc420228620, 0x48be6a0, 0xc42021dce0, 0x1, 0x1, 0x48be6a0, 0xc42021dce0) 	/Users/xuqiaolun/Documents/workspace/src/rockontrol/backend/binlog-sdk-go/vendor/github.com/hyperledger/fabric-sdk-go/pkg/fab/chconfig/chconfig.go:154 +0x9d rockontrol/backend/binlog-sdk-go/vendor/github.com/hyperledger/fabric-sdk-go/pkg/fab/chconfig.(*Ref).initializer.func1(0x0, 0x0, 0x0, 0x0) 	/Users/xuqiaolun/Documents/workspace/src/rockontrol/backend/binlog-sdk-go/vendor/github.com/hyperledger/fabric-sdk-go/pkg/fab/chconfig/reference.go:52 +0x21e rockontrol/backend/binlog-sdk-go/vendor/github.com/hyperledger/fabric-sdk-go/pkg/util/concurrent/lazyref.New.func1(0x0, 0x0, 0xc42023ce00, 0xc4201c5b58, 0x44c9835, 0xc42016f748) 	/Users/xuqiaolun/Documents/workspace/src/rockontrol/backend/binlog-sdk-go/vendor/github.com/hyperledger/fabric-sdk-go/pkg/util/concurrent/lazyref/lazyref.go:90 +0x26 rockontrol/backend/binlog-sdk-go/vendor/github.com/hyperledger/fabric-sdk-go/pkg/util/concurrent/lazyref.NewWithData.func1(0x0, 0x0, 0x0, 0xc420239400, 0x0, 0x0) 	/Users/xuqiaolun/Documents/workspace/src/rockontrol/backend/binlog-sdk-go/vendor/github.com/hyperledger/fabric-sdk-go/pkg/util/concurrent/lazyref/lazyref.go:113 +0x52 rockontrol/backend/binlog-sdk-go/vendor/github.com/hyperledger/fabric-sdk-go/pkg/util/concurrent/lazyref.(*Reference).Get(0xc42016f700, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0) 	/Users/xuqiaolun/Documents/workspace/src/rockontrol/backend/binlog-sdk-go/vendor/github.com/hyperledger/fabric-sdk-go/pkg/util/concurrent/lazyref/lazyref.go:158 +0x15d rockontrol/backend/binlog-sdk-go/vendor/github.com/hyperledger/fabric-sdk-go/pkg/fabsdk/provider/chpvdr.(*ChannelProvider).channelConfig(0xc42021daa0, 0x4fa3570, 0xc42023cd40, 0x482ad45, 0xc, 0xc4201c5ca0, 0x20, 0x30, 0xc4202393e0) 	/Users/xuqiaolun/Documents/workspace/src/rockontrol/backend/binlog-sdk-go/vendor/github.com/hyperledger/fabric-sdk-go/pkg/fabsdk/provider/chpvdr/chprovider.go:218 +0x98 rockontrol/backend/binlog-sdk-go/vendor/github.com/hyperledger/fabric-sdk-go/pkg/fabsdk/provider/chpvdr.(*ChannelService).ChannelConfig(0xc4202392f0, 0x0, 0x4592693, 0xc42015b980, 0x48471bb) 	/Users/xuqiaolun/Documents/workspace/src/rockontrol/backend/binlog-sdk-go/vendor/github.com/hyperledger/fabric-sdk-go/pkg/fabsdk/provider/chpvdr/chprovider.go:291 +0x89 rockontrol/backend/binlog-sdk-go/vendor/github.com/hyperledger/fabric-sdk-go/pkg/fabsdk/provider/chpvdr.(*ChannelService).EventService(0xc4202392f0, 0x0, 0x0, 0x0, 0x90, 0xc4200fd290, 0x0, 0x4cfa6a0) 	/Users/xuqiaolun/Documents/workspace/src/rockontrol/backend/binlog-sdk-go/vendor/github.com/hyperledger/fabric-sdk-go/pkg/fabsdk/provider/chpvdr/chprovider.go:253 +0x2f rockontrol/backend/binlog-sdk-go/vendor/github.com/hyperledger/fabric-sdk-go/pkg/client/channel.New(0xc4200bddc0, 0x0, 0x0, 0x0, 0x1, 0x1, 0xc4200bddc0) 	/Users/xuqiaolun/Documents/workspace/src/rockontrol/backend/binlog-sdk-go/vendor/github.com/hyperledger/fabric-sdk-go/pkg/client/channel/chclient.go:63 +0x1f0 rockontrol/backend/binlog-sdk-go/bogsdk.(*BinlogSDK).Channel(0xc42023ed40, 0xc42019a780, 0x0, 0x0) 	/Users/xuqiaolun/Documents/workspace/src/rockontrol/backend/binlog-sdk-go/bogsdk/bogsdk.go:48 +0xd1 rockontrol/backend/binlog-sdk-go/test.TestGetOrganization(0xc42019a780) 	/Users/xuqiaolun/Documents/workspace/src/rockontrol/backend/binlog-sdk-go/test/chaincode_test.go:16 +0x1ca testing.tRunner(0xc42019a780, 0x485b530) 	/usr/local/Cellar/go/1.10.3/libexec/src/testing/testing.go:777 +0xd0 created by testing.(*T).Run 	/usr/local/Cellar/go/1.10.3/libexec/src/testing/testing.go:824 +0x2e0 FAIL	rockontrol/backend/binlog-sdk-go/test	0.029s Error: Tests failed. {code}   ></description> </Issue>
