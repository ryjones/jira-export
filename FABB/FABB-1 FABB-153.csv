Summary,Issue key,Issue id,Parent id,Issue Type,Status,Project key,Project name,Project type,Project lead,Project description,Project url,Priority,Resolution,Assignee,Reporter,Creator,Created,Updated,Last Viewed,Resolved,Affects Version/s,Fix Version/s,Due Date,Votes,Labels,Labels,Labels,Labels,Labels,Labels,Labels,Description,Environment,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Original Estimate,Remaining Estimate,Time Spent,Work Ratio,Σ Original Estimate,Σ Remaining Estimate,Σ Time Spent,Security Level,Inward issue link (Blocks),Outward issue link (Blocks),Inward issue link (Cloners),Outward issue link (Cloners),Inward issue link (Duplicate),Outward issue link (Duplicate),Outward issue link (Duplicate),Outward issue link (Issue split),Inward issue link (Relates),Inward issue link (Relates),Inward issue link (Relates),Outward issue link (Relates),Outward issue link (Relates),Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Custom field (Business Value),Custom field (Commit Levels),Custom field (Current Status),Custom field (Design),Custom field (Design Status),Custom field (Documentation Impact),Custom field (Documentation Status),Custom field (Epic Color),Custom field (Epic Link),Custom field (Epic Name),Custom field (Epic Status),Custom field (Executed),Custom field (Found in Commit),Custom field (Function Test Status),Custom field (Must Fix),Custom field (Original story points),Custom field (Parent Link),Custom field (Rank),Custom field (Release Note),Custom field (Release Note Required),Custom field (Root Cause Analysis),Custom field (SDK Impact),Custom field (Sample/Tutorial),Sprint,Custom field (Steps to Reproduce),Custom field (Story Points),Custom field (System Test Impact),Custom field (Target end),Custom field (Target start),Custom field (Team),Custom field (Team),Custom field (Test Plan),Custom field (Test Result),Custom field (Test Result Details),Custom field (Test Type),Custom field (Triaged),Custom field (Usage),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Workaround),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitCommitsReferenced),Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment
Re-apply couchdb and node.js version that was reverted in baseimage 0.4.10 (FAB-10927),FABB-1,31819,,Task,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,Medium,Done,chris.elder,denyeart,denyeart,12/Jul/18 11:25 PM,28/Mar/19 12:03 AM,28/Oct/23 2:20 AM,26/Mar/19 7:33 PM,,0.4.11,,0,,,,,,,,"Couchdb improvements and node.js version updates had to be backed out of baseimage in order to ship 0.4.10 with v1.2.0, as we could not release with the untested updates (there was not time to test the improvements prior to shipping v1.2.0). The Couchdb improvements and node.js version updates need to be re-applied to baseimage now that v1.2.0 is behind us. And then Fabric and Fabric-CA master will need to switch over to the new baseimage so that we can get some testing on the updates prior to v1.3.0.",,denyeart,rhegde,,,,,,,,,,,,,,FABB-139,,,,FABB-139,,,,,,FABB-95,,,,,,,,,,,,,,,,,Unset,,,,,,No,,,No,,,"1|hzwtm7:",,,,Unset,,,,,Unset,,,,,,,,,,,denyeart,rhegde,,,,,,,,,,,,,,,,,,"12/Jul/18 11:28 PM;denyeart;Actually, node js version should be updated to the latest LTS version, that is, what was:

NODE_VER=8.11.2

should now be:

NODE_VER=8.11.3;;;",,,,,,,,,,,
update fabric-baseimage ci scripts,FABB-2,16059,,Task,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,Medium,Done,rameshthoomu,rameshthoomu,rameshthoomu,28/Apr/17 12:46 AM,18/Jul/18 11:53 PM,28/Oct/23 2:20 AM,30/Apr/17 1:05 AM,,,,0,build-system,,,,,,,"update fabric-baseimage ci scripts.. modify CI script to pick new make targets..

{code:java}
""make docker-local"" and ""make docker"" 
to
""make docker"" and ""make install""
{code}
",,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxriv:",,,,,,,,,,,,,,,,,,,,rameshthoomu,,,,,,,,,,,,,,,,,,,"30/Apr/17 1:05 AM;rameshthoomu;patch has been submitted and merged;;;",,,,,,,,,,,
Update Golang version to 1.7.5,FABB-3,15857,,Task,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,Medium,Done,binhn,binhn,binhn,20/Apr/17 6:14 AM,18/Jul/18 11:53 PM,28/Oct/23 2:20 AM,02/May/17 2:30 AM,,,,0,,,,,,,,"Golang 1.7.5 contains fixes that we need:

""go1.7.5 (released 2017/01/26) includes fixes to the compiler, runtime, and the crypto/x509 and time packages.""

For more info https://github.com/golang/go/issues?q=milestone%3AGo1.7.5",,binhn,bsmita,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxqj3:",,,,,,,,,,,,,,,,,,,,binhn,bsmita,,,,,,,,,,,,,,,,,,"02/May/17 2:29 AM;binhn;Closed by https://gerrit.hyperledger.org/r/#/c/8267/;;;",,,,,,,,,,,
Update Golang compiler in fabric-baseimage for the z Systems platform to 1.7.5,FABB-4,15386,,Task,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,High,Done,harrijk,harrijk,harrijk,17/Mar/17 11:22 PM,18/Jul/18 11:53 PM,28/Oct/23 2:20 AM,14/Apr/17 1:32 AM,,,,0,Golang,HSBN,,,,,,"The Golang compiler used by the z Systems platform needs to be upgraded from 1.7.3 to 1.7.5 to take advantage of Eliptic Curve digital signature acceleration.  The improvements take advantage of the z Systems' ""Single Instruction Multiple Data"" (SIMD) capability to accelerate the Eliptic Curve digital signature acceleration.",,ChristopherFerris,harrijk,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxo7r:",,,,,,,,,,,,,,,,,,,,ChristopherFerris,harrijk,,,,,,,,,,,,,,,,,,"14/Apr/17 1:32 AM;ChristopherFerris;https://gerrit.hyperledger.org/r/#/c/7309/;;;",,,,,,,,,,,
Prepare for 0.4.10 baseimage,FABB-5,31161,,Task,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,Medium,Done,denyeart,denyeart,denyeart,19/Jun/18 12:46 PM,18/Jul/18 11:53 PM,28/Oct/23 2:20 AM,28/Jun/18 6:55 PM,,,,0,,,,,,,, Prepare for 0.4.10 baseimage.,,denyeart,,,,,,,,,,,,,,,,,FABB-16,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzzf93:",,,,,,,,,,,,,,,,,,,,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Utilize fabric-baseimage version 0.3.1 for Hyperledger Fabric CA Docker image builds	,FABB-6,16551,,Task,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,High,Done,harrijk,harrijk,harrijk,11/May/17 1:22 AM,18/Jul/18 11:53 PM,28/Oct/23 2:20 AM,28/May/17 1:35 PM,,,,0,build-system,HSBN,quality,,,,,"The most recent version, 0.3.1, of the fabric-baseimage was created and pushed to Docker Hub. 

The following issues were addressed with version 0.3.1:
 # f76795c -FAB-1185- Remove vagrant
 # ea0eef5 -FAB-3265- Update Golang version to v1.7.5 for ppc64le
 # b80e228 -FAB-3340- fix broken link to contributing doc
 # 96771a3 -FAB-3265- Update Golang version to 1.7.5
 # 72eed8c Adding baseimage support for ARM architecture
 # f31feba -FAB-2813- Upgrade Golang for z Systems (Optimized Eliptic Curve Cryptography)

This task will update the base image version within *Makefile* of the Hyperledger Fabric CA code base. The result of which is Hyperledger Fabric CA Docker image builds will take advantage of the improved fabric-baseimage.",,dinotone,harrijk,harsha544,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxuiv:",,,,,,,,,,,,,,,,,,,,dinotone,harrijk,harsha544,,,,,,,,,,,,,,,,,"28/May/17 1:35 PM;harrijk;This change was abandoned due to a duplicate CR containing the same patch.;;;",,,,,,,,,,,
Prepare for 0.4.11 baseimage,FABB-7,31477,,Task,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,Medium,Done,denyeart,denyeart,denyeart,29/Jun/18 1:28 PM,18/Jul/18 11:53 PM,28/Oct/23 2:20 AM,29/Jun/18 2:05 PM,,,,0,,,,,,,,Prepare for 0.4.11 baseimage,,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzzgn3:",,,,,,,,,,,,,,,,,,,,denyeart,,,,,,,,,,,,,,,,,,,"29/Jun/18 1:30 PM;denyeart;https://gerrit.hyperledger.org/r/#/c/23859/;;;",,,,,,,,,,,
Update s390x/debian:xenial to s390x/debian:stretch in fabric-baseimage,FABB-8,31429,,Task,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,High,Done,rameshthoomu,rameshthoomu,rameshthoomu,28/Jun/18 5:09 AM,18/Jul/18 11:53 PM,28/Oct/23 2:20 AM,28/Jun/18 6:56 PM,,,,0,,,,,,,,"Update s390x/debian:xenial to s390x/debian:stretch in fabric-baseimage

 

All unable to build docker images on s390x platform.
{code:java}
Jessie is now in LTS stage and that only supports x86 and ARM.
 You'll need to upgrade to Debian stretch to continue to get updates for s390x.


{code}
 ",,rameshthoomu,,,,,,,,,,,,,,,FAB-10883,,,,,,,FABG-255,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyksf:",,,,,,,,,,,,,,,,,,,,rameshthoomu,,,,,,,,,,,,,,,,,,,"28/Jun/18 5:17 AM;rameshthoomu;https://gerrit.hyperledger.org/r/#/c/23753/;;;","28/Jun/18 6:29 AM;rameshthoomu;Change has been pushed ""rameshthoomu/fabric-baseimage, rameshthoomu/fabric-baseos, rameshthoomu/fabric-basejvm"" with 0.4.9 from s390x

Try pulling these images to build testenv image on s390x. Test in progress here https://jenkins.hyperledger.org/sandbox/job/fabric-end-2-end-daily-master-s390x/;;;",,,,,,,,,,
[CI] - Publish hyperledger baseimage to nexus docker repo,FABB-9,22815,,Task,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,Low,Done,rameshthoomu,rameshthoomu,rameshthoomu,24/Oct/17 11:22 PM,18/Jul/18 11:53 PM,28/Oct/23 2:20 AM,26/Oct/17 11:49 PM,,,,0,fabric-ci,,,,,,,Publish hyperledger baseimage to nexus docker repository so that we can pull baseimage in Jenkins from nexus docker repository.,,rameshthoomu,,,,,,3600,3600,,0%,3600,3600,,,,,,,,,,,FABC-570,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyknr:",,,,,,,,,,,,,,,,,,,,rameshthoomu,,,,,,,,,,,,,,,,,,,"26/Oct/17 11:49 PM;rameshthoomu;patch has been submitted and merged. fabric-baseimage CI jobs are now ready to publish images to nexus docker repository;;;",,,,,,,,,,,
Create 0.4.10 baseimage,FABB-10,31476,,Task,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,Medium,Done,denyeart,denyeart,denyeart,29/Jun/18 1:24 PM,18/Jul/18 11:53 PM,28/Oct/23 2:20 AM,29/Jun/18 2:04 PM,,,,0,,,,,,,,Create 0.4.10 baseimage so that fabric v1.2.0 can use debian stretch on s390x.,,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzwtlr:",,,,,,,,,,,,,,,,,,,,denyeart,,,,,,,,,,,,,,,,,,,"29/Jun/18 1:27 PM;denyeart;https://gerrit.hyperledger.org/r/#/c/23857/;;;",,,,,,,,,,,
Revert sync with official couchdb image (FAB-8021) and FAB-10167,FABB-11,31468,,Task,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,Medium,Done,rameshthoomu,rameshthoomu,rameshthoomu,29/Jun/18 5:48 AM,02/Aug/18 4:02 AM,28/Oct/23 2:20 AM,29/Jun/18 1:11 PM,,,,0,,,,,,,,Revert sync with official couchdb image (-FAB-8021-) and -FAB-10167-. so that we can release 0.4.10 without these changes for v1.2.0.  Then FAB-8021 and FAB-10167 can be re-applied after v1.2.0.,,denyeart,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzzgmf:",,,,,,,,,,,,,,,,,,,,denyeart,rameshthoomu,,,,,,,,,,,,,,,,,,"29/Jun/18 7:05 AM;denyeart;https://gerrit.hyperledger.org/r/#/c/23845/;;;",,,,,,,,,,,
add libltdl-dev to baseimage,FABB-12,30749,,Task,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,Medium,Invalid,ChristopherFerris,ChristopherFerris,ChristopherFerris,30/May/18 11:59 PM,18/Jul/18 11:53 PM,28/Oct/23 2:20 AM,,,,,0,,,,,,,,libltdl-dev needed for plugins,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzzdc7:",,,,,,,,,,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[Build] - Release baseimage v0.4.6,FABB-13,27702,,Task,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,Medium,Done,rameshthoomu,denyeart,denyeart,14/Feb/18 7:37 PM,18/Jul/18 11:53 PM,28/Oct/23 2:20 AM,17/Feb/18 12:05 AM,,,,0,fabric-build,,,,,,,"Release fabric-baseimage v0.4.6

Changes since v0.4.5:

FAB-8264 - Update node.js to 8.9.4

--FAB-7884-- - direct couchdb logs to stderr

--FAB-7707-- - Disable time-based kafka log retention

--FAB-7868-- Upgrade Kafka to version 1.0.0

Once complete, need to tag fabric-baseimage with v0.4.6.",,denyeart,rameshthoomu,,,,,,,,,,,,,,,,FABB-21,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyxgn:",,,,,,,,,,,,,,,,,,,,denyeart,rameshthoomu,,,,,,,,,,,,,,,,,,"14/Feb/18 7:42 PM;denyeart;[~ChristopherFerris] [~greg.haskins];;;","15/Feb/18 1:24 AM;rameshthoomu;https://gerrit.hyperledger.org/r/#/c/17905/;;;",,,,,,,,,,
Utilize fabric-baseimage version 0.3.1 for Hyperledger Fabric Docker image builds,FABB-14,16549,,Task,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,High,Done,harrijk,harrijk,harrijk,11/May/17 12:36 AM,18/Jul/18 11:53 PM,28/Oct/23 2:20 AM,28/May/17 1:36 PM,,,,1,build-system,HSBN,quality,,,,,"The most recent version, 0.3.1, of the fabric-baseimage was created and pushed to Docker Hub. 

The following issues were addressed with version 0.3.1:
 # f76795c -FAB-1185- Remove vagrant
 # ea0eef5 -FAB-3265- Update Golang version to v1.7.5 for ppc64le
 # b80e228 -FAB-3340- fix broken link to contributing doc
 # 96771a3 -FAB-3265- Update Golang version to 1.7.5
 # 72eed8c Adding baseimage support for ARM architecture
 # f31feba -FAB-2813- Upgrade Golang for z Systems (Optimized Eliptic Curve Cryptography)

This task will update the *.baseimage-release* file within the Hyperledger Fabric code base. The result of which is Hyperledger Fabric Docker image builds will take advantage of the improved fabric-baseimage.

 

 ",,dinotone,harrijk,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxuif:",,,,,,,,,,,,,,,,,,,,dinotone,harrijk,,,,,,,,,,,,,,,,,,"28/May/17 1:36 PM;harrijk;This change was abandoned due to a duplicate CR containing the same patch.;;;",,,,,,,,,,,
Git ignore the build directory from the fabric-baseimage repo,FABB-15,22454,,Task,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,Low,Done,jtclark,jtclark,jtclark,17/Oct/17 9:43 PM,18/Jul/18 11:53 PM,28/Oct/23 2:20 AM,23/Jan/18 12:54 AM,,,,0,,,,,,,,"When generating the docker images locally, a `build` directory is created. If this directory is not ignored, it could possibly make its way into a commit. This directory should be ignored to ensure that the repo is kept free of 'tech debris'.",,jtclark,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyjuf:",,,,,,,,,,,,,,,,,,,,jtclark,,,,,,,,,,,,,,,,,,,"19/Oct/17 1:05 AM;jtclark;Patch has been submitted for review: 

https://gerrit.hyperledger.org/r/14655;;;","23/Jan/18 12:54 AM;jtclark;[https://gerrit.hyperledger.org/r/14655] has been *Merged.*;;;",,,,,,,,,,
Create 0.4.11 baseimage,FABB-16,31149,,Task,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,Medium,Done,rameshthoomu,denyeart,denyeart,19/Jun/18 3:05 AM,06/Sep/18 4:26 AM,28/Oct/23 2:20 AM,06/Sep/18 4:26 AM,,,,0,,,,,,,,Create 0.4.11 baseimage to pick up latest node js and CouchDB udpates.,,denyeart,rameshthoomu,,,,,,,,,,,,,,,FABB-5,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzwtlb:",,,,,,,,,,,,,,,,,,,,denyeart,rameshthoomu,,,,,,,,,,,,,,,,,,"21/Aug/18 3:07 AM;rameshthoomu;Updated Summary and Description of this Task. The latest baseimage version is 0.4.11 which has latest couchdb and nodejs changes. Will create release CR with Jira task to publish latest baseimage.;;;","21/Aug/18 3:21 AM;rameshthoomu;https://gerrit.hyperledger.org/r/#/c/25711/;;;",,,,,,,,,,
Upgrade to Go 1.9.2,FABB-17,22868,,Task,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,Medium,Done,divyank,divyank,divyank,27/Oct/17 6:19 AM,18/Jul/18 11:53 PM,28/Oct/23 2:20 AM,28/Oct/17 10:42 PM,,,,0,,,,,,,,"This version includes a fix for [https://github.com/golang/go/issues/21373]

and removes the need for this temporary workaround in fabric:

[https://github.com/hyperledger/fabric/blob/11014b659943874eae0cf3b5b18a41b5f1073547/images/buildenv/Dockerfile.in#L8]

 ",,divyank,troyronda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzylcn:",,,,,,,,,,,,,,,,,,,,divyank,troyronda,,,,,,,,,,,,,,,,,,"09/Nov/17 6:46 AM;troyronda;Merged in [https://gerrit.hyperledger.org/r/c/14903/]

Needs a tag to produce new docker images at dockerhub.;;;",,,,,,,,,,,
chaincode fails to pull timezone information from GO Time Package,FABB-18,19555,,Task,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,Medium,Done,mastersingh24,rhegde,rhegde,29/Jul/17 12:25 AM,18/Jul/18 11:53 PM,28/Oct/23 2:20 AM,25/Aug/17 12:26 AM,,,,0,,,,,,,,"GO Chaincode fails to get the time zone information which should be available as part of the default GO Time Package.

[https://golang.org/pkg/time/#LoadLocation]

API says $GOROOT/lib/time/zoneinfo.zip not found.

This is one of the difference seen between Hyperledger/Fabric release v/s IBMBlockChain/Fabric Release.

This works with IBMBlockChain/Fabric Release and should also work on Hyperledger/Fabric release.",,mastersingh24,rhegde,,,,,,,,,,,,,,FAB-5210,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy9zr:",,,,,,,,,,,,,,,,,,,,mastersingh24,rhegde,,,,,,,,,,,,,,,,,,"01/Aug/17 9:37 PM;mastersingh24;So I figured this out.   In the short term, you may need to use fabric-baseimage rather than fabric-baseos here: [https://github.com/hyperledger/fabric/blob/release/sampleconfig/core.yaml#L333]  (or set
{noformat}
CORE_CHAINCODE_GOLANG_RUNTIME{noformat}
).

To fix this issues, we'll need to install the tzdata package in fabric-baseos (we should probably do it for fabric-baseimage as well).  fabric-baseimage does not have the issue per se as it actually included the GO compiler

 

 

 

 ;;;","01/Aug/17 10:57 PM;mastersingh24;https://gerrit.hyperledger.org/r/12089;;;","02/Aug/17 1:44 AM;rhegde;Why we include GO-Compiler package as part of fabric-base-os in case of IBM release?

Why don't we follow a similar approach for both?;;;","02/Aug/17 5:17 AM;mastersingh24;Let me clarify:

*hyperledger/fabric-baseos* is very minimal and does not include the Go compiler nor did it include the tzdata package

*hyperledger/fabric-baseimage* does include the Go compiler

The suggestion you use *hyperledger/fabric-baseimage* in the near term was based on the fact this is does have the Go compiler (and the *LoadLocation* function will search the system paths and finally will look for *$GOROOT/lib/time/zoneinfo.zip* which is provided with the Go compiler).  I submitted a patch for *hyperledger/fabric-baseos* to add the tzdata package.

 

*ibm-blockchain/fabric-baseos* is derived from *hyperledger/fabric-baseos* but also includes a few extra packages (network utils mainly) which also happen to install the tzdata package;;;",,,,,,,,
Implement release branch strategy for fabric-baseimage repo,FABB-19,31930,,Task,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,High,Duplicate,mastersingh24,rameshthoomu,rameshthoomu,17/Jul/18 2:58 AM,16/Mar/19 12:47 AM,28/Oct/23 2:20 AM,16/Mar/19 12:47 AM,,,,0,,,,,,,,"Implement release branch strategy for fabric-baseimage repository. This is very much required to publish seamless fabric-baseimage releases from branches.

The proposed solution:
 # Create a branch for each release

ex: Createa a release branches (0.3.2, 0.4.6, 0.4.10) and start updating code in their respective branches to release another release on top of it.

      2. Point corrsponding baseimages in fabric repo. say, release-1.1 branch points to fabric-baseimage 0.4.6 and subsequent versions will start with new version.",,ChristopherFerris,denyeart,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Not Required,Unset,Not Required,,,,,No,,,No,,,"1|hzzisf:",,,,Unset,Not Required,,,,Unset,,,,,,,,,,,ChristopherFerris,denyeart,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Start publishing fabric and fabric-cop images for v1,FABB-20,14082,,Task,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,Medium,Done,rameshthoomu,smithbk,smithbk,15/Jan/17 7:38 AM,18/Jul/18 11:53 PM,28/Oct/23 2:20 AM,21/Jan/17 1:11 PM,,,,0,build-system,,,,,,,I think we need to start publishing the built images for fabric and fabric-cop repos for v1.,,ishihara.shun,rameshthoomu,smithbk,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxi3j:",,,,,,,,,,,,,,,,,,,,ishihara.shun,rameshthoomu,smithbk,,,,,,,,,,,,,,,,,"21/Jan/17 1:10 PM;rameshthoomu;Publishing cop images to dockerhub account. As part FIT job we verify end-to-end tests and publish v1.0 images to rameshthoomu/fabric-cop-x86_64 dockerhub repository temporarily ;;;",,,,,,,,,,,
[Build] - Release v0.4.5,FABB-21,27001,,Task,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,Medium,Done,rameshthoomu,rameshthoomu,rameshthoomu,23/Jan/18 8:03 AM,18/Jul/18 11:53 PM,28/Oct/23 2:20 AM,23/Jan/18 6:11 PM,,,,0,fabric-build,,,,,,,"Release fabric-baseimage v0.4.5

Changes since v0.4.4:

FAB-7814 - updates JAVA_VERSION to 1.8.0_sr5fp7

FAB-7846 - updates kafka version to 0.10.2.1",,rameshthoomu,,,,,,,,,,,,,,,,FABB-13,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyuaf:",,,,,,,,,,,,,,,,,,,,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[Build]  - create hyperledger/fabric-baseimage 0.4.3 release tag,FABB-22,24662,,Task,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,Medium,Done,ChristopherFerris,rameshthoomu,rameshthoomu,02/Dec/17 12:01 AM,18/Jul/18 11:53 PM,28/Oct/23 2:20 AM,03/Apr/18 6:28 AM,,,,0,fabric-build,,,,,,,"Create hyperledger/fabric-baseimage *0.4.3* release tag to publish ""couchdb, zookeeper, kafka"" images based on hyperledger/fabric ""release branch"". (**This will make sure baseimage and dependent images are on the same baseimage release version)

What happens if the release tag is not created, Current *baseimage* on release version *0.4.2* and *dependent images* are on *0.4.3.*

Once the release tag is created, will push these images to hyperledger dockerhub and cache these images in Jenkins environment while instantiating VM's. This avoids pulling these images in every build.

 ",,ChristopherFerris,rameshthoomu,,,,,,,,,,,,,,,,,FABB-94,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyp2f:",,,,,,,,,,,,,,,,,,,,ChristopherFerris,rameshthoomu,,,,,,,,,,,,,,,,,,"02/Dec/17 12:20 AM;rameshthoomu;FYI: The Image Tag of the dependent images is based on the fabric-baseimage release VERSION not the fabric BASE_VERSION version. This may confuse people later that they may expect the same peer, orderer etc.. docker image tag to the dependent images. is this ok?
{code:java}
(hyp) ubuntu@hyperledger-devenv:86bf714:/opt/gopath/src/github.com/hyperledger/fabric-baseimage$ docker images
REPOSITORY                     TAG                 IMAGE ID            CREATED             SIZE
hyperledger/fabric-zookeeper   latest              697eacded7b3        3 minutes ago       1.3GB
hyperledger/fabric-zookeeper   x86_64-0.4.3        697eacded7b3        3 minutes ago       1.3GB
hyperledger/fabric-kafka       latest              4c6e5118464b        4 minutes ago       1.29GB
hyperledger/fabric-kafka       x86_64-0.4.3        4c6e5118464b        4 minutes ago       1.29GB
hyperledger/fabric-couchdb     latest              fd128d4ef74b        4 minutes ago       1.5GB
hyperledger/fabric-couchdb     x86_64-0.4.3        fd128d4ef74b        4 minutes ago       1.5G{code};;;","02/Dec/17 12:28 AM;ChristopherFerris;So, I just submitted a CR to fabric to explicitly download the currently published images and tag them latest in a build. [https://gerrit.hyperledger.org/r/c/15861/]

once we publish from fabric-baseimage, we will need to update what I just pushed to fabric. I'll add a task for that.

As for confusing people... possibly. What we might consider is updating the baseimage version identifier to be more consistent with the fabric release version number. [~greg.haskins] thoughts?;;;","11/Jan/18 10:37 PM;rameshthoomu;[~greg.haskins] as discussed could you please add your thoughts on this ASAP. I have tried to make it consistent with fabric release versions.. but that will break the existing baseimage release version and that may effect baseimage versions in future. I think it's better to decide before next base image release (v0.4.3). https://gerrit.hyperledger.org/r/#/c/16715/;;;",,,,,,,,,
[Build] - Prepare for fabric-baseimage v0.4.7 development ,FABB-23,27703,27702,Sub-task,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,Medium,Done,rameshthoomu,denyeart,denyeart,14/Feb/18 7:37 PM,18/Jul/18 11:53 PM,28/Oct/23 2:20 AM,22/Feb/18 11:14 PM,,,,0,fabric-build,,,,,,,Prepare for fabric-baseimage v0.4.7 development,,denyeart,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyxgv:",,,,,,,,,,,,,,,,,,,,denyeart,rameshthoomu,,,,,,,,,,,,,,,,,,"15/Feb/18 1:25 AM;rameshthoomu;https://gerrit.hyperledger.org/r/#/c/17907/;;;",,,,,,,,,,,
[Build] - Prepare for fabric-baseimage v0.4.6 development ,FABB-24,27002,27001,Sub-task,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,Medium,Done,rameshthoomu,rameshthoomu,rameshthoomu,23/Jan/18 8:04 AM,18/Jul/18 11:53 PM,28/Oct/23 2:20 AM,23/Jan/18 6:10 PM,,,,0,fabric-build,,,,,,,Prepare for fabric-baseimage v0.4.6 development,,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyuan:",,,,,,,,,,,,,,,,,,,,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Couchdb build fail on aarch64: unrecognized command line option -m64 ,FABB-25,31059,,Bug,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,Medium,Won't Do,SashaPESIC,SashaPESIC,SashaPESIC,14/Jun/18 7:33 PM,26/Mar/19 8:22 PM,28/Oct/23 2:20 AM,26/Mar/19 8:22 PM,,,,0,,,,,,,,"I am failing to build the couchdb docker image on RP3, aarch64 architecture. The build fails with the error stated in the name of the bug. 

Are there any tested options to disable the -m64 flag when doing make?Any ideas on how to fix it? 

",,mastersingh24,SashaPESIC,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzzesv:",,,,,,,,,,,,,,,,,,,,mastersingh24,SashaPESIC,,,,,,,,,,,,,,,,,,"18/Jun/18 6:22 PM;mastersingh24;There is not much we can do on this .... we basically build our CouchDB image based on the standard CouchDB image.  Looks like others have found this problem as well and filed against CouchDB - [https://github.com/apache/couchdb/issues/892] .

I'll mark this on monitor / on hold for now;;;","18/Jun/18 6:33 PM;SashaPESIC;[~mastersingh24] Yes, I am aware - just wanted to log the issue here so the community is aware it is a current problem.
 Thank you,
 SP;;;","11/Sep/18 4:00 AM;SashaPESIC;[~mastersingh24] I figured this out for aarch64. 

The current Dockerfile in fabric-baseimage/images/couchdb has some issue with the rebar version supplied. This happens because couchdb ships with an old version of rebar (an erlang dependency manager) that has a [bug |https://github.com/rebar/rebar/issues/536] regarding arm64. Downloading the [latest version of rebar|https://github.com/rebar/rebar/wiki/rebar] and placing it in bin/rebar (relative to the couchdb sources) fixes the problem. The latest working image I have built can be found [here|https://hub.docker.com/r/pesicsasa/fabric-couchdb/tags/].

Steps to build the couchdb for aarch64:

1. pull hyperledger baseimage from [here|https://hub.docker.com/r/pesicsasa/fabric-baseimage/] and tag it appropriately. 
 2. git clone [https://github.com/hyperledger/fabric-baseimage.git]
 3. Go to fabric-baseimage/images/couchdb and open Dockerfile.in 
 4. Now you will have to add some lines to the Dockerfile.in. Find the line
{code:bgColor=#f4f5f7}
&& ./configure --disable-docs \
{code}
and add the following lines after it:
{code:bgColor=#f4f5f7}
&& mv bin/rebar bin/rebar-orig \
&& wget https://github.com/rebar/rebar/wiki/rebar -O bin/rebar \
&& chmod +x bin/rebar \
{code}
5. Go back to fabric-baseimage folder and run make couchdb (you may have to retag hyperledger/fabric-baseimage)
 6. You are done!;;;","26/Mar/19 8:22 PM;mastersingh24;Looks like [~SashaPESIC] figured this out but we are not going to support building couchdb on every possible platform.;;;",,,,,,,,
Can’t build docker image in proxy authentication environment.,FABB-26,14461,,Bug,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,Medium,Done,nnao,nnao,nnao,01/Feb/17 1:48 AM,18/Jul/18 11:53 PM,28/Oct/23 2:20 AM,03/Jun/17 5:11 AM,,,,0,,,,,,,,"I can’t build docker image in proxy authentication environment,.
I get these error.

$ make docker
...
Step 12 : ADD payload/settings.gradle /root
---> Using cache
---> 72de8ce941ae
Step 13 : WORKDIR /root
---> Using cache
---> 996104490af9
Step 14 : RUN core/chaincode/shim/java/javabuild.sh
---> Running in 8627706c98de

FAILURE: Build failed with an exception.

* Where:
Build file '/root/core/chaincode/shim/java/build.gradle' line: 30

* What went wrong:
Error resolving plugin [id: 'com.google.protobuf', version: '0.8.0']
> Could not GET 'https://plugins.gradle.org/api/gradle/2.12/plugin/use/com.google.protobuf/0.8.0'.
   > <username>:<pasword>@<ip>: invalid IPv6 address

* Try:
Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output.",,ChristopherFerris,nnao,zhangchao,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxjm7:",,,,,,,,,,,,,,,,,,,,ChristopherFerris,nnao,zhangchao,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,true,"05/Apr/17 5:01 PM;zhangchao;This issue is due to these lines in javabuild.sh do not parse the username and password before symbo “@”
[ -n ""$http_proxy"" ] && JAVA_OPTS=""$JAVA_OPTS -Dhttp.proxyHost=$(getProxyHost $http_proxy) -Dhttp.proxyPort=$(getProxyPort $http_proxy)""
[ -n ""$https_proxy"" ] && JAVA_OPTS=""$JAVA_OPTS -Dhttps.proxyHost=$(getProxyHost $https_proxy) -Dhttps.proxyPort=$(getProxyPort $https_proxy)""
[ -n ""$HTTP_PROXY"" ] && JAVA_OPTS=""$JAVA_OPTS -Dhttp.proxyHost=$(getProxyHost $HTTP_PROXY) -Dhttp.proxyPort=$(getProxyPort $HTTP_PROXY)""
[ -n ""$HTTPS_PROXY"" ] && JAVA_OPTS=""$JAVA_OPTS -Dhttps.proxyHost=$(getProxyHost $HTTPS_PROXY) -Dhttps.proxyPort=$(getProxyPort $HTTPS_PROXY)"";;;","06/Apr/17 1:19 AM;nnao;Yes. I already send a patch.
https://gerrit.hyperledger.org/r/#/c/5147/
But the review doesn't progress.;;;","22/Apr/17 2:30 AM;ChristopherFerris;sorry for the delay in review. Please see the comments I left in Gerrit (and below). I ran tests of various correct permutations of the proxy URI and only the form with a user:password@domain:port work correctly.

cbf$ http_proxy=http://foo.com ./javabuild.sh
-Dhttp.proxyHost=http -Dhttp.proxyPort=//foo.com -Dhttp.proxyUser=foo.com -Dhttp.proxyPassword=foo.com
cbf$ http_proxy=http://chris@xxx:foo.com ./javabuild.sh
-Dhttp.proxyHost=xxx -Dhttp.proxyPort=foo.com -Dhttp.proxyUser=chris -Dhttp.proxyPassword=chris
cbf$ http_proxy=http://chris:xxx@foo.com ./javabuild.sh
-Dhttp.proxyHost=foo.com -Dhttp.proxyPort=foo.com -Dhttp.proxyUser=chris -Dhttp.proxyPassword=xxx
cbf$ http_proxy=http://chris:xxx@foo.com:80 ./javabuild.sh
-Dhttp.proxyHost=foo.com -Dhttp.proxyPort=80 -Dhttp.proxyUser=chris -Dhttp.proxyPassword=xxx
cbf$ https_proxy=http://chris:xxx@foo.com:80 ./javabuild.sh
-Dhttps.proxyHost=foo.com -Dhttps.proxyPort=80 -Dhttps.proxyUser=chris -Dhttps.proxyPassword=xxx
cbf$ https_proxy=http://chris:xxx@foo.com ./javabuild.sh
-Dhttps.proxyHost=foo.com -Dhttps.proxyPort=foo.com -Dhttps.proxyUser=chris -Dhttps.proxyPassword=xxx
cbf$ https_proxy=http://foo.com ./javabuild.sh
-Dhttps.proxyHost=http -Dhttps.proxyPort=//foo.com -Dhttps.proxyUser=foo.com -Dhttps.proxyPassword=foo.com
cbf$ HTTP_PROXY=http://foo.com ./javabuild.sh
-Dhttp.proxyHost=http -Dhttp.proxyPort=//foo.com -Dhttp.proxyUser=foo.com -Dhttp.proxyPassword=foo.com
cbf$ HTTP_PROXY=http://chris:xxx@foo.com ./javabuild.sh
-Dhttp.proxyHost=foo.com -Dhttp.proxyPort=foo.com -Dhttp.proxyUser=chris -Dhttp.proxyPassword=xxx
cbf$ HTTP_PROXY=http://chris:xxx@foo.com:80 ./javabuild.sh
-Dhttp.proxyHost=foo.com -Dhttp.proxyPort=80 -Dhttp.proxyUser=chris -Dhttp.proxyPassword=xxx
cbf$ HTTPS_PROXY=http://chris:xxx@foo.com:80 ./javabuild.sh
-Dhttps.proxyHost=foo.com -Dhttps.proxyPort=80 -Dhttps.proxyUser=chris -Dhttps.proxyPassword=xxx
cbf$ HTTPS_PROXY=http://chris:xxx@foo.com ./javabuild.sh
-Dhttps.proxyHost=foo.com -Dhttps.proxyPort=foo.com -Dhttps.proxyUser=chris -Dhttps.proxyPassword=xxx
cbf$ HTTPS_PROXY=http://foo.com ./javabuild.sh
-Dhttps.proxyHost=http -Dhttps.proxyPort=//foo.com -Dhttps.proxyUser=foo.com -Dhttps.proxyPassword=foo.com
cbf$ 
;;;","22/Apr/17 2:59 PM;nnao;Thank you for review!
I will deal with this.;;;",,,,,,,,
GetRows crashes if  rows are more than 100,FABB-27,13165,,Bug,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,High,Done,muralisr,wayoon,wayoon,25/Oct/16 11:35 PM,18/Jul/18 11:53 PM,28/Oct/23 2:20 AM,05/Nov/16 8:20 PM,,,,0,,,,,,,,"GetRows crashes with the following error when returning rows are more than 100.

{code}
14:13:22.585 [shim] DEBU : [5247bec6]Received message ERROR from shim
14:13:22.586 [shim] DEBU : [5247bec6]Handling ChaincodeMessage of type: ERROR(state:ready)
Error starting Simple chaincode: Error handling message: [5247bec6-0d75-4741-b7e1-a470cf1baf43]XXXXXXXXXXXXXXXXXX Chaincode handler FSM cannot handle message (ERROR) with payload size (30) while in state: ready
{code}

Here's my test code and output
{code}
func (t *SimpleChaincode) queryTest(stub shim.ChaincodeStubInterface, args []string) ([]byte, error) {
	mylogger.Debugf(""---queryTest %v"", args)

	userid := ""sally1111""
	dataitem := ""monitored_data""

	var keys = []shim.Column{}
	keyUser := shim.Column{Value: &shim.Column_String_{String_: userid}}
	keyData := shim.Column{Value: &shim.Column_String_{String_: dataitem}}

	keys = append(keys, keyUser)
	keys = append(keys, keyData)

	rowChannel, err := stub.GetRows(""UserData"", keys)
	if err != nil {
		return nil, fmt.Errorf(""getRows operation failed. %s"", err)
	}

	var rows []shim.Row
	for {
		select {
		case row, ok := <-rowChannel:
			if !ok {
				rowChannel = nil
			} else {
				rows = append(rows, row)
				mylogger.Debugf(""count = %v"", len(rows))
			}
		}
		if rowChannel == nil {
			break
		}
	}
	
	mylogger.Debugf(""total count = %v"", len(rows))

	return nil, nil
}
{code}

output:
{code}
14:13:22.550 [consetnt_mgm] DEBU : ---queryTest [WebAppAdmin DJY27pEnl16d consentmanager]
14:13:22.550 [shim] DEBU : [5247bec6]Sending GET_STATE
14:13:22.552 [shim] DEBU : [5247bec6]Received message RESPONSE from shim
14:13:22.552 [shim] DEBU : [5247bec6]Handling ChaincodeMessage of type: RESPONSE(state:ready)
14:13:22.552 [shim] DEBU : [5247bec6]before send
14:13:22.552 [shim] DEBU : [5247bec6]GetState received payload RESPONSE
14:13:22.552 [shim] DEBU : [5247bec6]after send
14:13:22.552 [shim] DEBU : [5247bec6]Received RESPONSE, communicated (state:ready)
14:13:22.552 [shim] DEBU : keyString= 8UserData9sally111114monitored_data
14:13:22.553 [shim] DEBU : [5247bec6]Sending RANGE_QUERY_STATE
14:13:22.580 [shim] DEBU : [5247bec6]Received message RESPONSE from shim
14:13:22.580 [shim] DEBU : [5247bec6]Handling ChaincodeMessage of type: RESPONSE(state:ready)
14:13:22.580 [shim] DEBU : [5247bec6]before send
14:13:22.580 [shim] DEBU : [5247bec6]after send
14:13:22.580 [shim] DEBU : [5247bec6]Received RESPONSE, communicated (state:ready)
14:13:22.580 [shim] DEBU : [5247bec6]Received RESPONSE. Successfully got range
14:13:22.581 [shim] DEBU : [5247bec6]Sending RANGE_QUERY_STATE_CLOSE
14:13:22.582 [shim] DEBU : [5247bec6]Received message RESPONSE from shim
14:13:22.582 [shim] DEBU : [5247bec6]Handling ChaincodeMessage of type: RESPONSE(state:ready)
14:13:22.582 [shim] DEBU : [5247bec6]before send
14:13:22.582 [shim] DEBU : [5247bec6]after send
14:13:22.582 [shim] DEBU : [5247bec6]Received RESPONSE, communicated (state:ready)
14:13:22.582 [shim] DEBU : [5247bec6]Received RESPONSE. Successfully got range
14:13:22.582 [consetnt_mgm] DEBU : count = 1
14:13:22.582 [consetnt_mgm] DEBU : count = 2
14:13:22.582 [consetnt_mgm] DEBU : count = 3
14:13:22.582 [consetnt_mgm] DEBU : count = 4
14:13:22.582 [consetnt_mgm] DEBU : count = 5
14:13:22.582 [consetnt_mgm] DEBU : count = 6
14:13:22.582 [consetnt_mgm] DEBU : count = 7
14:13:22.582 [consetnt_mgm] DEBU : count = 8
14:13:22.582 [consetnt_mgm] DEBU : count = 9
14:13:22.582 [consetnt_mgm] DEBU : count = 10
14:13:22.582 [consetnt_mgm] DEBU : count = 11
14:13:22.582 [consetnt_mgm] DEBU : count = 12
14:13:22.582 [consetnt_mgm] DEBU : count = 13
14:13:22.582 [consetnt_mgm] DEBU : count = 14
14:13:22.582 [consetnt_mgm] DEBU : count = 15
14:13:22.582 [consetnt_mgm] DEBU : count = 16
14:13:22.582 [consetnt_mgm] DEBU : count = 17
14:13:22.582 [consetnt_mgm] DEBU : count = 18
14:13:22.582 [consetnt_mgm] DEBU : count = 19
14:13:22.582 [consetnt_mgm] DEBU : count = 20
14:13:22.582 [consetnt_mgm] DEBU : count = 21
14:13:22.582 [consetnt_mgm] DEBU : count = 22
14:13:22.582 [consetnt_mgm] DEBU : count = 23
14:13:22.583 [consetnt_mgm] DEBU : count = 24
14:13:22.583 [consetnt_mgm] DEBU : count = 25
14:13:22.583 [consetnt_mgm] DEBU : count = 26
14:13:22.583 [consetnt_mgm] DEBU : count = 27
14:13:22.583 [consetnt_mgm] DEBU : count = 28
14:13:22.583 [consetnt_mgm] DEBU : count = 29
14:13:22.583 [consetnt_mgm] DEBU : count = 30
14:13:22.583 [consetnt_mgm] DEBU : count = 31
14:13:22.583 [consetnt_mgm] DEBU : count = 32
14:13:22.583 [consetnt_mgm] DEBU : count = 33
14:13:22.583 [consetnt_mgm] DEBU : count = 34
14:13:22.583 [consetnt_mgm] DEBU : count = 35
14:13:22.583 [consetnt_mgm] DEBU : count = 36
14:13:22.583 [consetnt_mgm] DEBU : count = 37
14:13:22.583 [consetnt_mgm] DEBU : count = 38
14:13:22.583 [consetnt_mgm] DEBU : count = 39
14:13:22.583 [consetnt_mgm] DEBU : count = 40
14:13:22.583 [consetnt_mgm] DEBU : count = 41
14:13:22.583 [consetnt_mgm] DEBU : count = 42
14:13:22.583 [consetnt_mgm] DEBU : count = 43
14:13:22.583 [consetnt_mgm] DEBU : count = 44
14:13:22.583 [consetnt_mgm] DEBU : count = 45
14:13:22.583 [consetnt_mgm] DEBU : count = 46
14:13:22.583 [consetnt_mgm] DEBU : count = 47
14:13:22.583 [consetnt_mgm] DEBU : count = 48
14:13:22.583 [consetnt_mgm] DEBU : count = 49
14:13:22.583 [consetnt_mgm] DEBU : count = 50
14:13:22.583 [consetnt_mgm] DEBU : count = 51
14:13:22.583 [consetnt_mgm] DEBU : count = 52
14:13:22.583 [consetnt_mgm] DEBU : count = 53
14:13:22.583 [consetnt_mgm] DEBU : count = 54
14:13:22.583 [consetnt_mgm] DEBU : count = 55
14:13:22.583 [consetnt_mgm] DEBU : count = 56
14:13:22.583 [consetnt_mgm] DEBU : count = 57
14:13:22.583 [consetnt_mgm] DEBU : count = 58
14:13:22.583 [consetnt_mgm] DEBU : count = 59
14:13:22.583 [consetnt_mgm] DEBU : count = 60
14:13:22.583 [consetnt_mgm] DEBU : count = 61
14:13:22.583 [consetnt_mgm] DEBU : count = 62
14:13:22.583 [consetnt_mgm] DEBU : count = 63
14:13:22.583 [consetnt_mgm] DEBU : count = 64
14:13:22.583 [consetnt_mgm] DEBU : count = 65
14:13:22.583 [consetnt_mgm] DEBU : count = 66
14:13:22.583 [consetnt_mgm] DEBU : count = 67
14:13:22.583 [consetnt_mgm] DEBU : count = 68
14:13:22.583 [consetnt_mgm] DEBU : count = 69
14:13:22.583 [consetnt_mgm] DEBU : count = 70
14:13:22.583 [consetnt_mgm] DEBU : count = 71
14:13:22.583 [consetnt_mgm] DEBU : count = 72
14:13:22.583 [consetnt_mgm] DEBU : count = 73
14:13:22.583 [consetnt_mgm] DEBU : count = 74
14:13:22.583 [consetnt_mgm] DEBU : count = 75
14:13:22.583 [consetnt_mgm] DEBU : count = 76
14:13:22.583 [consetnt_mgm] DEBU : count = 77
14:13:22.583 [consetnt_mgm] DEBU : count = 78
14:13:22.583 [consetnt_mgm] DEBU : count = 79
14:13:22.583 [consetnt_mgm] DEBU : count = 80
14:13:22.583 [consetnt_mgm] DEBU : count = 81
14:13:22.583 [consetnt_mgm] DEBU : count = 82
14:13:22.583 [consetnt_mgm] DEBU : count = 83
14:13:22.583 [consetnt_mgm] DEBU : count = 84
14:13:22.584 [consetnt_mgm] DEBU : count = 85
14:13:22.584 [consetnt_mgm] DEBU : count = 86
14:13:22.584 [consetnt_mgm] DEBU : count = 87
14:13:22.584 [consetnt_mgm] DEBU : count = 88
14:13:22.584 [consetnt_mgm] DEBU : count = 89
14:13:22.584 [consetnt_mgm] DEBU : count = 90
14:13:22.584 [consetnt_mgm] DEBU : count = 91
14:13:22.584 [consetnt_mgm] DEBU : count = 92
14:13:22.584 [consetnt_mgm] DEBU : count = 93
14:13:22.584 [consetnt_mgm] DEBU : count = 94
14:13:22.584 [consetnt_mgm] DEBU : count = 95
14:13:22.584 [consetnt_mgm] DEBU : count = 96
14:13:22.584 [consetnt_mgm] DEBU : count = 97
14:13:22.584 [consetnt_mgm] DEBU : count = 98
14:13:22.584 [consetnt_mgm] DEBU : count = 99
14:13:22.584 [shim] DEBU : [5247bec6]Sending RANGE_QUERY_STATE_NEXT
14:13:22.584 [consetnt_mgm] DEBU : count = 100
14:13:22.585 [shim] DEBU : [5247bec6]Received message ERROR from shim
14:13:22.586 [shim] DEBU : [5247bec6]Handling ChaincodeMessage of type: ERROR(state:ready)
Error starting Simple chaincode: Error handling message: [5247bec6-0d75-4741-b7e1-a470cf1baf43]XXXXXXXXXXXXXXXXXX Chaincode handler FSM cannot handle message (ERROR) with payload size (30) while in state: ready
vagrant@hyperledger-devenv:v0.0.11-ed90562:/opt/gopath/src/consentmanager$
{code}",,jorgedr,mastersingh24,muralisr,sachikoy,wayoon,,,,,,,,,,,,,,,,,,,,,FAB-2788,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxdmf:",,,,,,,,,,,,,,,,,,,,jorgedr,mastersingh24,muralisr,sachikoy,wayoon,,,v0.6,,,,,,,,,,,true,"26/Oct/16 12:00 AM;mastersingh24;what version of the fabric are you using?;;;","26/Oct/16 12:13 AM;wayoon;it's version 0.6;;;","26/Oct/16 11:57 AM;muralisr;Working on this.

There are two problems with GetRow.

*Problem 1*
GetRow call from chaincode spins a goroutine to access the ledger for rows and returns. Chaincode then interacts with the goroutine to get rows.

Before return the GetRow call closes the iterator. If the iterator is closed before the chaincode is done with the iterator, it results in error - which is what happens typically with large rows.

*Problem 2*
As long as the chaincode fetches all rows, things will be fine. If the chaincode returns after reading a subset of rows, the goroutine will be blocked on he channell waiting to be drained. However the returned chaincode will close the iterator causing the blocked channel to raise an exception in the chaincode shim. The simplest way to handle this is to ignore the exception.

The ETA for the fix is this Friday, 10/28.;;;","31/Oct/16 11:18 PM;sachikoy;Hi Murali,

Sorry that I still not fully understand your proposed fix.

> However the returned chaincode will close the iterator causing the blocked channel to raise an exception in the chaincode shim.

Am I right to understand that if the returned chaincode close the iterator, then the channel is closed before reading all the rows? Would it still mean that the chaincode cannot process all the rows in a table? If my understanding is correct, it is problematic because some use cases require reading through all the rows to process them. ;;;","01/Nov/16 12:27 AM;muralisr;Hi Sachiko,
I should have been clearer. Let me rephrase it.

*Problem 2*
As long as the chaincode fetches all rows, things will be fine. If the chaincode completes the request after reading only a subset of rows, the goroutine will be blocked on the channel waiting to be drained of the remaining rows. However, completion of the request by the chaincode will cause the iterator to be closed, leading an exception to be raised in the blocked channel. The simplest way to handle this is to ignore the exception.

So to answer the question, the chaincode does not have to do anything different or special. Both Problems mentioned above will be fixed in the fabric.

The fix is in https://gerrit.hyperledger.org/r/#/c/2103/. It will be helpful if you have some time to try it out.;;;","01/Nov/16 12:34 AM;muralisr;Hi [~wayoon], would you have some bandwidth to try out https://gerrit.hyperledger.org/r/#/c/2103/ and add comments as well ?;;;","05/Nov/16 3:45 AM;muralisr;Merged in 0.6 under https://gerrit.hyperledger.org/r/#/c/2103/. 

Not checked into master as master is not ready for Table yet,;;;","11/Nov/16 5:48 AM;wayoon;Hi [~muralisr], I tested the fix, and I confirm that it's working fine now. Thanks. ;;;","11/Nov/16 5:52 AM;muralisr;Hi [~wayoon], thanks for confirming the fix.;;;",,,
[node-SDK] core/committer/noopssinglechain/committer.go:149: no formatting dntf call,FABB-28,13051,,Bug,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,Highest,Done,,jjjjibm,jjjjibm,19/Oct/16 2:15 AM,18/Jul/18 11:53 PM,28/Oct/23 2:20 AM,01/Jan/17 5:34 AM,,,,0,no-longer-valid,,,,,,,"I cloned feature/convergence and ran 'make all'.  It fails with this message:

go get github.com/AlekSi/gocov-xml
make[2]: Leaving directory `/home/ibmadmin/work/src/github.com/hyc/gotools'
make[1]: Leaving directory `/home/ibmadmin/work/src/github.com/hyc/gotools'
LINT: Running code checks..
Running go vet
go vet ./consensus/...
go vet ./core/...
core/committer/noopssinglechain/committer.go:149: no formatting dntf call
exit status 1
make: *** [linter] Error 1


How to recreate:

1.git clone -b feature/convergence  http://gerrit.hyperledger.org/r/fabric
2.cd into new fabric directory
3.make all",vlaunch vm running Ubuntu 14 (Trusty)  No vagrant is involved.,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxd73:",,,,,,,,,,,,,,,,,,,,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Make paths work under windows,FABB-29,14366,,Bug,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,Medium,Invalid,,vukolic,vukolic,27/Jan/17 1:06 AM,18/Jul/18 11:53 PM,28/Oct/23 2:20 AM,,,,,0,,,,,,,,"under windows (outside vagrant), ""go test"" in /orderer yields sth like:

--- FAIL: TestTwoReplicasBroadcastAndDeliverUsingDifferent (0.08s)
panic: exec: ""C:\\Users\\mvu\\AppData\\Local\\Temp/orderer"": file does not exist [recovered]
       panic: exec: ""C:\\Users\\mvu\\AppData\\Local\\Temp/orderer"": file does not exist",,ChristopherFerris,mastersingh24,vukolic,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxj67:",,,,,,,,,,,,,,,,,,,,ChristopherFerris,mastersingh24,vukolic,,,,,,,,,,,,,,,,,"01/Jun/17 8:55 AM;mastersingh24;we are planning to remove sbft from v1.0.0 so moving this to future release;;;","06/Apr/18 2:15 AM;ChristopherFerris;no longer valid;;;",,,,,,,,,,
make docker failure for fabric,FABB-30,14035,,Bug,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,Medium,Done,ghaskins,smithbk,smithbk,12/Jan/17 11:25 PM,18/Jul/18 11:53 PM,28/Oct/23 2:20 AM,12/May/17 4:44 AM,,,,0,,,,,,,,"Get the following error when building docker for fabric

$ make docker
Building build/docker/bin/peer
mkdir -p build/image/peer/payload
cp build/docker/bin/peer peer/core.yaml build/msp-sampleconfig.tar.bz2 build/image/peer/payload
Installing chaintool
curl -L https://github.com/hyperledger/fabric-chaintool/releases/download/v0.10.0/chaintool > build/bin/chaintool
 % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                Dload  Upload   Total   Spent    Left  Speed
100   582    0   582    0     0   1289      0 --:--:-- --:--:-- --:--:--  1290
100 14.6M  100 14.6M    0     0  3022k      0  0:00:04  0:00:04 --:--:-- 3480k
chmod +x build/bin/chaintool
mkdir -p build/image/ccenv/payload
cp build/docker/gotools/bin/protoc-gen-go build/bin/chaintool build/goshim.tar.bz2 build/image/ccenv/payload
cp: build/docker/gotools/bin/protoc-gen-go: No such file or directory
make: *** [build/image/ccenv/payload] Error 1

dependency issue in Makefile perhaps?",,binhn,smithbk,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxgzb:",,,,,,,,,,,,,,,,,,,,binhn,smithbk,,,,,,,,,,,,,,,,,,"10/Apr/17 5:55 AM;binhn;[~keithsmith] ""make docker"" works for me.  Retry?

If can't recreate, please close.;;;",,,,,,,,,,,
Use kafka 0.11 and up version cause kafka broker startup error,FABB-31,26874,,Bug,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,Medium,Done,sanchezl,grapebaba,grapebaba,17/Jan/18 9:27 PM,18/Jul/18 11:53 PM,28/Oct/23 2:20 AM,18/Jan/18 11:09 PM,,,,0,kafka,,,,,,,"1.change kafka version in fabric-images/kafka/Dockerfile.in
2.build a kafka 0.11 images
3.run fabric network with kafka
4.one kafka broker will throw error ""noteoughreplicaexception""
5.after investigation, found 'default.replication.factor=3' not write into server.properties
6.change kafka back to 0.10.2.1
7.use same docker-compose file
8.it works and  'default.replication.factor=3' write into server.properties

I guess it is related entrypoint.sh in fabric-images",,grapebaba,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,"17/Jan/18 9:31 PM;grapebaba;Clipboard - 2018年1月17日下午4点15分.png;https://jira.hyperledger.org/secure/attachment/14212/Clipboard+-+2018%E5%B9%B41%E6%9C%8817%E6%97%A5%E4%B8%8B%E5%8D%884%E7%82%B915%E5%88%86.png","17/Jan/18 9:31 PM;grapebaba;Clipboard - 2018年1月17日下午4点18分.png;https://jira.hyperledger.org/secure/attachment/14213/Clipboard+-+2018%E5%B9%B41%E6%9C%8817%E6%97%A5%E4%B8%8B%E5%8D%884%E7%82%B918%E5%88%86.png","17/Jan/18 9:31 PM;grapebaba;Clipboard - 2018年1月17日下午4点35分.png;https://jira.hyperledger.org/secure/attachment/14214/Clipboard+-+2018%E5%B9%B41%E6%9C%8817%E6%97%A5%E4%B8%8B%E5%8D%884%E7%82%B935%E5%88%86.png",,,,,,,,,,,,,,,,,,,,,,,,,"1|hzytof:",,,,,,,,,,,,,,,,,,,,grapebaba,kchristidis,,,,,,,,,,,,,,,,,,"18/Jan/18 11:09 PM;kchristidis;https://chat.hyperledger.org/channel/fabric-orderer?msg=5bw8in4hLkEo4BrKi;;;",,,,,,,,,,,
Unable to deploy chaincode in Hyperledger,FABB-32,12713,,Bug,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,High,Done,,hitarshi,hitarshi,20/Sep/16 10:10 PM,18/Jul/18 11:53 PM,28/Oct/23 2:20 AM,28/Sep/16 8:21 PM,,,,0,,,,,,,,"I have setup a 2 node Hyperledger network using Docker images by creating 2 containers as per the steps @ http://hyperledger-fabric.readthedocs.io/en/latest/Setup/Network-setup/#leveraging-published-docker-images

Then I tried to deploy a chaincode, which compiles without errors, by calling POST /chaincode API and got response 200 with the hash for the deployed chaincode. 

But immediately after that I got the following error in the docker logs:

08:44:26.560 [consensus/noops] processTransactions -> DEBU 053 Starting TX batch with timestamp: seconds:1473929066 nanos:560229743
08:44:26.560 [consensus/noops] processTransactions -> DEBU 054 Executing batch of 1 transactions with timestamp seconds:1473929066 nanos:560229743
08:44:26.563 [chaincode] getArgsAndEnv -> DEBU 055 Executable is /opt/gopath/bin/1e90b51f9129b97d5312d5c24364085777602a06d40d6e2c9209b4f30d7e66facb26e956443028611539962acc6de550eba03bbb1fd0e7bbd655cb19c5a6ef84
08:44:26.564 [chaincode] Deploy -> DEBU 056 deploying chaincode 1e90b51f9129b97d5312d5c24364085777602a06d40d6e2c9209b4f30d7e66facb26e956443028611539962acc6de550eba03bbb1fd0e7bbd655cb19c5a6ef84(networkid:dev,peerid:vp0)
08:44:26.564 [container] lockContainer -> DEBU 057 waiting for container(dev-vp0-1e90b51f9129b97d5312d5c24364085777602a06d40d6e2c9209b4f30d7e66facb26e956443028611539962acc6de550eba03bbb1fd0e7bbd655cb19c5a6ef84) lock
08:44:26.564 [container] lockContainer -> DEBU 058 got container (dev-vp0-1e90b51f9129b97d5312d5c24364085777602a06d40d6e2c9209b4f30d7e66facb26e956443028611539962acc6de550eba03bbb1fd0e7bbd655cb19c5a6ef84) lock
*{color:#d04437}08:44:26.565 [dockercontroller] deployImage -> ERRO 059 Error building images: cannot connect to Docker endpoint {color}*

So how do I resolve this?",,ericmvaughn,hitarshi,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxc5j:",,,,,,,,,,,,,,,,,,,,ericmvaughn,hitarshi,mastersingh24,,,,,,,,,,,,,,,,,"28/Sep/16 8:10 PM;mastersingh24;You need to make sure that you have the right setting for `CORE_VM_ENDPOINT`.  Typically this ends up being the remote port for the Docker daemon which is not running by default.  You'll need to start the Docker daemon with the `-H` option to and specify the remote IP:Port you want it to listen on (e.g. `-H tcp://0.0.0.0:2375` ) and then specify that as the value for `CORE_VM_ENDPOINT` .  If you use `-H tcp://0.0.0.0:2375` , then the default value in the docs should work;;;","28/Sep/16 8:20 PM;hitarshi;Thanks a lot for the solution. I just tried the same as someone on stackoverflow provided the same.

Additionally I had to do the following to make it work
 
docker pull hyperledger/fabric-baseimage:x86_64-0.1.0
docker tag hyperledger/fabric-baseimage:x86_64-0.1.0 hyperledger/fabric-baseimage:latest

I think it is high time someone updated the official documentation @ http://hyperledger-fabric.readthedocs.io/en/latest/Setup/Network-setup/#leveraging-published-docker-images;;;",,,,,,,,,,
GOROOT is not set properly for ppc64le hyperledger/fabric-baseimage,FABB-34,13536,,Bug,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,Highest,Done,SriramaSharma,SriramaSharma,SriramaSharma,28/Nov/16 6:22 PM,18/Jul/18 11:53 PM,28/Oct/23 2:20 AM,05/Jan/17 9:00 PM,,,,0,build-system,,,,,,,"For ppc64le architecture, the GOROOT is actually set to '/usr/local/go' in the scripts/common/setup.sh. However while creating the docker image, in the Dockerfile, we are over-riding the GOROOT using ENV variable and setting it to /opt/go (as done for x86_64 and s390x).

Due to this, the docker instance of fabric-baseimage fails to run anything specific to go. This also fails the build of fabric.","OS - Ubuntu 16.04.
Using docker image of hyperledger/fabric-baseimage  version 0.2.1",harsha544,SriramaSharma,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxf6v:",,,,,,,,,,,,,,,,,,,,harsha544,SriramaSharma,,,,,,,,,,,,,,,,,,"28/Nov/16 6:33 PM;SriramaSharma;Have created PR #2803  for review -  https://gerrit.hyperledger.org/r/2803 for ;;;","05/Jan/17 9:00 PM;SriramaSharma;The patch https://gerrit.hyperledger.org/r/#/c/2803/ which has been merged does fix this issue. Hence marking this as Done.;;;",,,,,,,,,,
"fabric-couchdb docker image should log to stderr, not file",FABB-35,27047,,Bug,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,Medium,Done,sanchezl,jmcnevin,jmcnevin,25/Jan/18 5:27 AM,18/Jul/18 11:53 PM,28/Oct/23 2:20 AM,04/Feb/18 6:57 AM,,,,0,couchdb,,,,,,,"The current local.ini that is copied into the couchdb container logs to a file inside of the container by default.

https://github.com/hyperledger/fabric/blob/release/images/couchdb/local.ini#L40-L41

I think that, by default, couchdb should be logging to stdout/err rather than persisting a growing log file inside of the container.",,jmcnevin,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyuh3:",,,,,,,,,,,,,,,,,,,,jmcnevin,,,,,,,mergify/bp/release-2.2/pr-4374,dev,release-2.5,release-2.4,release-1.0,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,true,,,,,,,,,,,,
Misleading comment in vscc source code,FABB-36,24759,,Bug,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,Low,Done,ales,bta,bta,05/Dec/17 6:34 AM,18/Jul/18 11:53 PM,28/Oct/23 2:20 AM,27/Jan/18 12:29 AM,,,,0,,,,,,,,"The comment above the Invoke functions states:

""This validation system chaincode will check the read-write set validity and at least 1 correct endorsement. Later we can create more validation system chaincodes to provide more sophisticated policy processing such as enabling policy specification to be coded as a transaction of the chaincode...""

This is outdated since vscc supports more complex policies already.",,bta,luomin,,,,,900,900,,0%,900,900,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzypev:",,,,,,,,,,,,,,,,,,,,bta,luomin,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,true,,,,,,,,,,,,
'Make' failed under hyperledger/fabric due to spelling checking,FABB-37,17160,,Bug,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,High,Done,ChristopherFerris,phariel,phariel,26/May/17 5:36 PM,18/Jul/18 11:53 PM,28/Oct/23 2:20 AM,01/Jun/17 7:38 PM,,,,0,,,,,,,,"./gossip/discovery/discovery_test.go:978:57: ""proccessing"" is a misspelling of ""processing""
./protos/utils/txutils_test.go:220:4: ""addtional"" is a misspelling of ""additional""
./test/tools/ledgerbenchmarks/chainmgmt/testenv.go:34:42: ""intented"" is a misspelling of ""intended""
./test/tools/ledgerbenchmarks/experiments/conf.go:44:18: ""indivudual"" is a misspelling of ""individual""
./test/chaincodes/AuctionApp/art.go:397:41: ""Transation"" is a misspelling of ""Transition""
./test/chaincodes/AuctionApp/art.go:460:37: ""Successfull"" is a misspelling of ""Successful""
./test/chaincodes/AuctionApp/art.go:494:37: ""Successfull"" is a misspelling of ""Successful""
./test/chaincodes/AuctionApp/art.go:549:49: ""Successfull"" is a misspelling of ""Successful""
./test/chaincodes/AuctionApp/art.go:578:47: ""Successfull"" is a misspelling of ""Successful""
./test/chaincodes/AuctionApp/art.go:614:36: ""Successfull"" is a misspelling of ""Successful""
./test/chaincodes/AuctionApp/art.go:642:44: ""Successfull"" is a misspelling of ""Successful""
./test/chaincodes/AuctionApp/art.go:652:24: ""recomends"" is a misspelling of ""recommends""
./test/chaincodes/AuctionApp/art.go:937:38: ""transfered"" is a misspelling of ""transferred""
./test/chaincodes/AuctionApp/art.go:2548:75: ""successfull"" is a misspelling of ""successful""
Makefile:102: recipe for target 'spelling' failed
make: *** [spelling] Error 1",,ChristopherFerris,phariel,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxx5z:",,,,,,,,,,,,,,,,,,,,ChristopherFerris,phariel,,,,,,,,,,,,,,,,,,"30/May/17 9:31 AM;ChristopherFerris;This is being cleaned up with https://gerrit.hyperledger.org/r/#/c/9811/;;;",,,,,,,,,,,
Peer panic with 49MB private data file,FABB-38,29063,,Bug,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,High,Done,mastersingh24,ericmvaughn,ericmvaughn,01/Apr/18 12:39 AM,18/Jul/18 11:53 PM,28/Oct/23 2:20 AM,09/Apr/18 8:21 AM,,,,0,,,,,,,,"When trying to add a 49MB file to a private data collection the peer panics after getting a couchdb error.
  
 The configuration was 2 peers, 2 couchdbs, 1 ca, and 1 orderer.

 
{code:java}
 2018-03-31 15:22:34.529 UTC [couchdb] handleRequest -> DEBU bd6 Entering handleRequest() method=POST url=http://couchdb0:5984/mychannel_poe-100$$porg1$m$s$p_collection/_bulk_docs
 2018-03-31 15:22:34.807 UTC [couchdb] handleRequest -> DEBU bd7 HTTP Request: POST /mychannel_poe-100$$porg1$m$s$p_collection/_bulk_docs HTTP/1.1 | Host: couchdb0:5984 | User-Agent: Go-http-client/1.1 | Content-Length: 68507154 | Accept: application/json | Content-Type: application/json | Accept-Encoding: gzip | | 
 2018-03-31 15:22:34.811 UTC [couchdb] handleRequest -> DEBU bd8 Couch DB Error:too_large, Status Code:413, Reason:the request entity is too large
 2018-03-31 15:22:34.811 UTC [statecouchdb] ClearCachedVersions -> DEBU bd9 Clear Cache
 panic: Error during commit to txmgr:Couch DB Error:too_large, Status Code:413, Reason:the request entity is too large
goroutine 329 [running]:
 github.com/hyperledger/fabric/core/ledger/kvledger.(*kvLedger).CommitWithPvtData(0xc421680380, 0xc42260e090, 0x0, 0x0)
 /opt/gopath/src/github.com/hyperledger/fabric/core/ledger/kvledger/kv_ledger.go:251 +0x921
 github.com/hyperledger/fabric/core/ledger/ledgermgmt.(*closableLedger).CommitWithPvtData(0xc421731c60, 0xc42260e090, 0x0, 0x0)
 <autogenerated>:1 +0x47
 github.com/hyperledger/fabric/core/committer.(*LedgerCommitter).CommitWithPvtData(0xc421baa7c0, 0xc42260e090, 0xc422dc5d20, 0xc4225aa318)
 /opt/gopath/src/github.com/hyperledger/fabric/core/committer/committer_impl.go:103 +0x6b
 github.com/hyperledger/fabric/gossip/privdata.(*coordinator).StoreBlock(0xc4216043c0, 0xc422684820, 0x0, 0x0, 0x0, 0xc423556e60, 0xc423556e60)
 /opt/gopath/src/github.com/hyperledger/fabric/gossip/privdata/coordinator.go:223 +0xcf9
 github.com/hyperledger/fabric/gossip/state.(*GossipStateProviderImpl).commitBlock(0xc42146e080, 0xc422684820, 0x0, 0x0, 0x0, 0x0, 0x0)
 /opt/gopath/src/github.com/hyperledger/fabric/gossip/state/state.go:759 +0x6f
 github.com/hyperledger/fabric/gossip/state.(*GossipStateProviderImpl).deliverPayloads(0xc42146e080)
 /opt/gopath/src/github.com/hyperledger/fabric/gossip/state/state.go:546 +0x411
 created by github.com/hyperledger/fabric/gossip/state.NewGossipStateProvider
 /opt/gopath/src/github.com/hyperledger/fabric/gossip/state/state.go:238 +0x6b5
{code}

  ",,ericmvaughn,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,"01/Apr/18 12:38 AM;ericmvaughn;peer-full-log.zip;https://jira.hyperledger.org/secure/attachment/14842/peer-full-log.zip",,,,,,,,,,,,,,,,,,FAB-8718,,,,,,,,,"1|hzz45b:",,,,,,,,,,,,,,,,,,,,ericmvaughn,mastersingh24,,,,,,,,,,,,,,,,,,"09/Apr/18 4:00 AM;mastersingh24;It appears that the maximum size for HTTP requests to CoucbDB 2.1.x is 64MB.

You can override this by setting `httpd.max_http_request_size` in the local.ini file but not sure there is anyway to change the system once it is up and running.

Looks like the max value can be up to 4GB so will go with that.

[~denyeart];;;","09/Apr/18 4:37 AM;mastersingh24;https://gerrit.hyperledger.org/r/20309;;;","10/Apr/18 2:50 AM;ericmvaughn;This fixed the issue I was seeing.  Thanks;;;",,,,,,,,,
Unit test fails behind proxy,FABB-39,15090,,Bug,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,Medium,Done,,ynamiki,ynamiki,28/Feb/17 11:48 AM,18/Jul/18 11:53 PM,28/Oct/23 2:20 AM,10/Apr/17 5:27 AM,,,,0,,,,,,,,"`make` fails at unit test with the following error.

Docker might not see the proxy configuration.

Fabric revision: 7134f9f270317958fc5718762882930c3a2d4a38

{noformat}
$ http_proxy=""<proxy>"" https_proxy=""<proxy>"" make
...
unit-tests_1  | 2017/02/28 02:22:12 setting Number of procs to -1, was 2
unit-tests_1  | 2017/02/28 02:22:12 KeyStore path [msp/sampleconfig/keystore] missing [true]: [<clean>]
unit-tests_1  | 2017/02/28 02:22:12 Creating KeyStore at [msp/sampleconfig/keystore]...
unit-tests_1  | 2017/02/28 02:22:12 KeyStore created at [msp/sampleconfig/keystore].
unit-tests_1  | 2017/02/28 02:22:12 KeyStore opened at [msp/sampleconfig/keystore]...done
unit-tests_1  | 2017/02/28 02:22:12 Initialize BCCSP [SW]
unit-tests_1  | 2017/02/28 02:22:12
unit-tests_1  | FROM hyperledger/fabric-baseos:x86_64-0.3.0
unit-tests_1  | ADD binpackage.tar /usr/local/bin
unit-tests_1  | LABEL org.hyperledger.fabric.chaincode.id.name=""cartest"" \
unit-tests_1  |       org.hyperledger.fabric.chaincode.id.version="""" \
unit-tests_1  |       org.hyperledger.fabric.chaincode.type=""CAR"" \
unit-tests_1  |       org.hyperledger.fabric.version=""0.7.0-snapshot-7134f9f"" \
unit-tests_1  |       org.hyperledger.fabric.base.version=""0.3.0""
unit-tests_1  | 2017/02/28 02:22:35 Failed to generate platform-specific docker build: Error building CAR: Error returned from build: 255 ""Building CAR /chaincode/input/codepackage.car
unit-tests_1  | [CCI] parse org.hyperledger.chaincode.example02
unit-tests_1  | [CCI] parse appinit
unit-tests_1  | [PB] protoc --go_out=/tmp/buildcar-1488248538670-1650840794/build/src/hyperledger/cci/org/hyperledger/chaincode/example02 --proto_path=/tmp/buildcar-1488248538670-1650840794/build/src/hyperledger/cci/org/hyperledger/chaincode/example02 /tmp/buildcar-1488248538670-1650840794/build/src/hyperledger/cci/org/hyperledger/chaincode/example02/interface.proto
unit-tests_1  | [PB] protoc --go_out=/tmp/buildcar-1488248538670-1650840794/build/src/hyperledger/cci/appinit --proto_path=/tmp/buildcar-1488248538670-1650840794/build/src/hyperledger/cci/appinit /tmp/buildcar-1488248538670-1650840794/bu
ild/src/hyperledger/cci/appinit/interface.proto
unit-tests_1  | [PB] protoc --go_out=/tmp/buildcar-1488248538670-1650840794/build/src/hyperledger/cci/org/hyperledger/chaintool/meta --proto_path=/tmp/buildcar-1488248538670-1650840794/build/src/hyperledger/cci/org/hyperledger/chaintool/meta /tmp/buildcar-1488248538670-1650840794/build/src/hyperledger/cci/org/hyperledger/chaintool/meta/interface.proto
unit-tests_1  | [GO] go get -d -v chaincode
unit-tests_1  |  Using GOPATH /tmp/buildcar-1488248538670-1650840794/build/deps:/tmp/buildcar-1488248538670-1650840794/build:/tmp/buildcar-1488248538670-1650840794:/opt/gopath
unit-tests_1  | Error: github.com/golang/protobuf (download)
unit-tests_1  | # cd .; git clone https://github.com/golang/protobuf /tmp/buildcar-1488248538670-1650840794/build/deps/src/github.com/golang/protobuf
unit-tests_1  | Cloning into '/tmp/buildcar-1488248538670-1650840794/build/deps/src/github.com/golang/protobuf'...
unit-tests_1  | fatal: unable to access 'https://github.com/golang/protobuf/': Failed to connect to github.com port 443: No route to host
unit-tests_1  | package github.com/golang/protobuf/proto: exit status 128
unit-tests_1  |
unit-tests_1  | ""
unit-tests_1  | --- FAIL: TestCar_BuildImage (22.53s)
unit-tests_1  |  platform_test.go:51: Error building docker: Failed to generate platform-specific docker build: Error building CAR: Error returned from build: 255 ""Building CAR /chaincode/input/codepackage.car
unit-tests_1  |          [CCI] parse org.hyperledger.chaincode.example02
unit-tests_1  |          [CCI] parse appinit
unit-tests_1  |          [PB] protoc --go_out=/tmp/buildcar-1488248538670-1650840794/build/src/hyperledger/cci/org/hyperledger/chaincode/example02 --proto_path=/tmp/buildcar-1488248538670-1650840794/build/src/hyperledger/cci/org/hyperledger/chaincode/example02 /tmp/buildcar-1488248538670-1650840794/build/src/hyperledger/cci/org/hyperledger/chaincode/example02/interface.proto
unit-tests_1  |
unit-tests_1  |          [PB] protoc --go_out=/tmp/buildcar-1488248538670-1650840794/build/src/hyperledger/cci/appinit --proto_path=/tmp/buildcar-1488248538670-1650840794/build/src/hyperledger/cci/appinit /tmp/buildcar-1488248538670-1650840794/build/src/hyperledger/cci/appinit/interface.proto
unit-tests_1  |
unit-tests_1  |          [PB] protoc --go_out=/tmp/buildcar-1488248538670-1650840794/build/src/hyperledger/cci/org/hyperledger/chaintool/meta --proto_path=/tmp/buildcar-1488248538670-1650840794/build/src/hyperledger/cci/org/hyperledger/chaintool/meta /tmp/buildcar-1488248538670-1650840794/build/src/hyperledger/cci/org/hyperledger/chaintool/meta/interface.proto
unit-tests_1  |
unit-tests_1  |          [GO] go get -d -v chaincode
unit-tests_1  |                  Using GOPATH /tmp/buildcar-1488248538670-1650840794/build/deps:/tmp/buildcar-1488248538670-1650840794/build:/tmp/buildcar-1488248538670-1650840794:/opt/gopath
unit-tests_1  |          Error: github.com/golang/protobuf (download)
unit-tests_1  |          # cd .; git clone https://github.com/golang/protobuf /tmp/buildcar-1488248538670-1650840794/build/deps/src/github.com/golang/protobuf
unit-tests_1  |          Cloning into '/tmp/buildcar-1488248538670-1650840794/build/deps/src/github.com/golang/protobuf'...
unit-tests_1  |          fatal: unable to access 'https://github.com/golang/protobuf/': Failed to connect to github.com port 443: No route to host
unit-tests_1  |          package github.com/golang/protobuf/proto: exit status 128
unit-tests_1  |
unit-tests_1  |          "" (output = )
unit-tests_1  | FAIL
unit-tests_1  | coverage: 0.0% of statements
unit-tests_1  | FAIL     github.com/hyperledger/fabric/core/chaincode/platforms/car/test 22.551s
unit-tests_1  | error: exit status 1
{noformat}

",,binhn,ynamiki,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxm7j:",,,,,,,,,,,,,,,,,,,,binhn,ynamiki,,,,,,,,,,,,,,,,,,"10/Apr/17 5:26 AM;binhn;The build process requires network access. Please find a suitable environment.;;;",,,,,,,,,,,
JDK version is not found for s390x or ppc64le,FABB-40,31102,,Bug,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,High,Done,harsha544,nguyen1d,nguyen1d,16/Jun/18 3:32 AM,18/Jul/18 11:53 PM,28/Oct/23 2:20 AM,17/Jun/18 7:27 AM,,,,0,,,,,,,,"In scripts/common/jvm.sh [https://github.com/hyperledger/fabric-baseimage/blob/master/scripts/common/jvm.sh] , the JAVA_VERSION specified when the architecture is s390x or ppc64le  is no longer downloadable.  It should be upgraded to one of the versions found here:

[https://public.dhe.ibm.com/ibmdl/export/pub/systems/cloud/runtimes/java/meta/sdk/linux/s390x/index.yml]

and here:

[https://public.dhe.ibm.com/ibmdl/export/pub/systems/cloud/runtimes/java/meta/sdk/linux/ppc64le/index.yml]

 ",,denyeart,harsha544,nguyen1d,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzzf0v:",,,,,,,,,,,,,,,,,,,,denyeart,harsha544,nguyen1d,,,,,,,,,,,,,,,,,"16/Jun/18 3:45 AM;denyeart;[~harsha544] I noticed you have maintained the java version in the past... could you update it with the latest?

[~rameshthoomu] [~ChristopherFerris] I've updated the release process google doc to add the java version to the pre-release checklist.;;;","16/Jun/18 1:24 PM;harsha544;[~denyeart] Here's the PR [https://gerrit.hyperledger.org/r/c/23217/];;;",,,,,,,,,,
Update Java Version in fabric-baseimage,FABB-41,26953,,Bug,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,Medium,Done,harsha544,harsha544,harsha544,19/Jan/18 11:32 PM,18/Jul/18 11:53 PM,28/Oct/23 2:20 AM,22/Jan/18 6:36 PM,,,,0,,,,,,,,"Per this [https://github.com/hyperledger/fabric-baseimage/blob/v0.3.2/scripts/common/jvm.sh#L19]
 *{{1.8.0_sr3fp12}}* is being pulled from [s390x|[https://public.dhe.ibm.com/ibmdl/export/pub/systems/cloud/runtimes/java/meta/sdk/linux/s390x/index.yml]|https://public.dhe.ibm.com/ibmdl/export/pub/systems/cloud/runtimes/java/meta/sdk/linux/s390x/index.yml] & [ppc64le|https://public.dhe.ibm.com/ibmdl/export/pub/systems/cloud/runtimes/java/meta/sdk/linux/ppc64le/index.yml] . As IBM has removed the version *{{1.8.0_sr3fp12}}* from the Java Downloads. As such our builds for the baseimage 0.3.2 for fabric 1.0.x are failing.

Thanks to [~mrshah-ibm] for pointing out.",,harsha544,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyu2f:",,,,,,,,,,,,,,,,,,,,harsha544,mastersingh24,,,,,,,,,,,,,,,,,,"19/Jan/18 11:46 PM;harsha544;We should start using {{1.8.0_sr5fp7}};;;","20/Jan/18 12:13 AM;harsha544;We need 2 PR’s one to update latest branch, and one to update v0.3.2
 Here’s for latest [https://gerrit.hyperledger.org/r/16989]
 Here’s for 0.3.2 [https://gerrit.hyperledger.org/r/16993/];;;","21/Jan/18 6:49 AM;mastersingh24;We can't and don't need to do this for v0.3.2 images (we don't build them anymore);;;",,,,,,,,,
Fabric Installation Error : Docker RUN not working,FABB-42,22446,,Bug,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,Medium,Invalid,,capamaster,capamaster,17/Oct/17 2:07 PM,18/Jul/18 11:53 PM,28/Oct/23 2:20 AM,,,,,0,build-system,Command,fbric,Found,Host,not,RUN,"Steps Followed :
 # Installed Pre-requisites : Go, Docker, Docker Compose, Pip
 # Clone of hyperledger-fabric :  

           ~> GOPATH=/usr/local/go

            ~> cd $GOPATH/src/github.com/hyperledger/fabric

            ~> make dist-clean all   

_--------------------------------------------------------------------------------------_

_warning: GOPATH set to GOROOT (/usr/local/go) has no effect_
 _warning: GOPATH set to GOROOT (/usr/local/go) has no effect_
 _warning: GOPATH set to GOROOT (/usr/local/go) has no effect_
 _Building docker javaenv-image_
 _docker build --build-arg 'http_proxy=[http://127.0.0.1:3128/]' --build-arg 'https_proxy=[https://127.0.0.1:3128/]' -t hyperledger/fabric-javaenv build/image/javaenv_
 _Sending build context to Docker daemon  45.06kB_
 _Step 1/15 : FROM hyperledger/fabric-baseimage:x86_64-0.3.2_
  _---> c92d9fdee998_
 _Step 2/15 : RUN curl -sSL [https://services.gradle.org/distributions/gradle-2.12-bin.zip] > /tmp/gradle-2.12-bin.zip_
  _---> Running in 3ba4808b2943_
 _curl: (7) Failed to connect to 127.0.0.1 port 3128: Connection refused_
 _The command '/bin/sh -c curl -sSL [https://services.gradle.org/distributions/gradle-2.12-bin.zip] > /tmp/gradle-2.12-bin.zip' returned a non-zero code: 7_
 _Makefile:279: recipe for target 'build/image/javaenv/.dummy-x86_64-1.0.4-snapshot-572dcd5' failed_
 _make: *** [build/image/javaenv/.dummy-x86_64-1.0.4-snapshot-572dcd5] Error 7_

---------------------------------------------------------------------------------------------------------------

Conclusion : Tried to RUN commands externally than Dockerfile it runs upto certain point, but while going forward it is must to run through docker only especially for javaenv folder (javabuild.sh). Looks like that the RUN commands are not working, Kindly help on the same.

 

 

 

 ","** Linux Ubuntu 16.04

** Fabric : 1.0.4

** Go : 1.9

** Docker version : 17.09.0-ce 

** pip : 9.0.1

 

 ",capamaster,ChristopherFerris,jyellick,luomin,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-1185,,,,,,,,,"1|hzyjsv:",,,,,,,,,,,,,,,,,,,,capamaster,ChristopherFerris,jyellick,luomin,mastersingh24,,,,,,,,,,,,,,,"20/Oct/17 11:13 AM;luomin;Can you see what DNS servers your NetworkManager is using?

#nmcli dev show | grep DNS

 

Simply comment out the line dns=dnsmasq in /etc/NetworkManager/NetworkManager.conf,

restart your nwmger:

sudo service network-manager restart

 

and try again?;;;","25/Nov/17 7:13 AM;mastersingh24;[~capamaster] - Are you actually trying to use an HTTP proxy?  Looks like your proxy is running on your Ubuntu host on 127.0.0.1:3128.

When 127.0.0.1 is passed to the Docker RUN commands in the container, 127.0.0.1 refers to the container and not to the host (therefore is cannot connect your your proxy).   (curl uses the http_proxy / https_proxy env variables as do many Linux tools).

So if you really need to use a proxy, you need to make sure it is available at an address which the container can actually reach - for example you might want to bind your proxy to the Docker bridge network on your Ubuntu host.;;;","06/Apr/18 2:34 AM;ChristopherFerris;[~capamaster] do you wish to keep this issue open or, can it be closed?;;;","05/May/18 2:22 AM;jyellick;Since there has been no response in a month, closing as invalid.;;;",,,,,,,,
"Doc of e2e_cli shouldn't imply it works on Windows 7, it doesn't",FABB-43,17640,,Bug,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,Medium,Done,lehors,lehors,lehors,08/Jun/17 10:26 PM,18/Jul/18 11:53 PM,28/Oct/23 2:20 AM,09/Jun/17 9:25 PM,,,,0,Documentation,,,,,,,"The e2e_cli documentation currently implies that one can follow these instructions on Windows running Docker Toolbox. However, experience shows that this doesn't actually work.

Docker Toolbox on Windows 7 leverages the MinGW environement that comes with Windows Git. Unfortunately this environment doesn't include the make command.

Various versions of make can be found and installed. One of them, which seems popular, is here: [https://sourceforge.net/projects/ezwinports/files/]

Unfortunately with this version of make the abspath command will generate a Windows filepath which docker can't grok:

 

 
{code:java}
$ make peer-docker
Building build/docker/bin/peer
docker run -i --rm --user=197628 -e 'NO_PROXY=192.168.99.101' -v C:/Users/lehors/Documents/Projects/Go/src/github.com/hyperledger/fabric:/opt/gopath/src/github.com/hyperledger/fabric -w /opt/gopath/src/github.com/hyperledger/fabric \
-v C:/Users/lehors/Documents/Projects/Go/src/github.com/hyperledger/fabric/build/docker/bin:/opt/gopath/bin \
-v C:/Users/lehors/Documents/Projects/Go/src/github.com/hyperledger/fabric/build/docker/peer/pkg:/opt/gopath/pkg \
hyperledger/fabric-baseimage:x86_64-0.3.1 \
go install -ldflags ""-X github.com/hyperledger/fabric/common/metadata.Version=1.0.0-beta -X github.com/hyperledger/fabric/common/metadata.BaseVersion=0.3.1 -X github.com/hyperledger/fabric/common/metadata.BaseDockerLabel=org.hyperledger.fabric -X github.com/hyperledger/fabric/common/metadata.DockerNamespace=hyperledger -X github.com/hyperledger/fabric/common/metadata.BaseDockerNamespace=hyperledger -linkmode external -extldflags '-static -lpthread'"" github.com/hyperledger/fabric/peer
C:\Program Files\Docker Toolbox\docker.exe: Error response from daemon: invalid
bind mount spec ""C:/Users/lehors/Documents/Projects/Go/src/github.com/hyperledger/fabric:/opt/gopah/src/github.com/hyperledger/fabric"": invalid mode: /opt/gopath/src/github.com/hyperledger/fabric.
See 'C:\Program Files\Docker Toolbox\docker.exe run --help'.
make: *** [Makefile:195: build/docker/bin/peer] Error 125{code}
 

Trying to use make from cygwin instead, doesn't help. Cygwin make will generate a path that docker accepts but silently fails to mount leading to the files not being found:

 
{code:java}
$ /c/cygwin/bin/make.exe peer-docker
Building build/docker/bin/peer
docker run -i --rm --user=197628 -e 'NO_PROXY=192.168.99.101' -v /home/lehors/Documents/Projects/Go/src/github.com/hyperledger/fabric:/opt/gopath/src/github.com/hyperledger/fabric -w /opt/gopath/src/github.com/hyperledger/fabric \
-v /home/lehors/Documents/Projects/Go/src/github.com/hyperledger/fabric/build/docker/bin:/opt/gopath/bin \
-v /home/lehors/Documents/Projects/Go/src/github.com/hyperledger/fabric/build/docker/peer/pkg:/opt/gopath/pkg \
hyperledger/fabric-baseimage:x86_64-0.3.1 \
go install -ldflags ""-X github.com/hyperledger/fabric/common/metadata.Version=1.0.0-beta -X github.com/hyperledger/fabric/common/metadata.BaseVersion=0.3.1 -X github.com/hyperledger/fabric/common/metadata.BaseDockerLabel=org.hyperledger.fabric -X github.com/hyperledger/fabric/common/metadata.DockerNamespace=hyperledger -X github.com/hyperledger/fabric/common/metadata.BaseDockerNamespace=hyperledger -linkmode external -extldflags '-static -lpthread'"" github.com/hyperledger/fabric/peer
can't lo/opt/go/src/github.com/hyperledger/fabric/peer (from $GOROOT)t find package ""git/opt/gopath/src/github.com/hyperledger/fabric/peer (from $GOPATH)
make: *** [Makefile:195: build/docker/bin/peer] Error 1
{code}
The /home directory doesn't actually exist in Git MinGW but even once added with a mount the result is the same. Even though the files are where it is said:

 

 
{code:java}
$ ls /home/lehors/Documents/Projects/Go/src/github.com/hyperledger/fabric
CHANGELOG.md common images sampleconfig
CONTRIBUTING.md core scripts
LICENSE devenv mkdocs.yml settings.gradle
Makefile docker-env.mk msp test
README.md docs orderer unit-test
bccsp events peer vendor
bddtests examples proposals
build gossip protos
gotools release
{code}
So, there may still be a way to make it work but it's definitely not straight forward and the doc should make that clear.","Windows 7, Docker Toolbox",lehors,mastersingh24,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxzm7:",,,,,,,,,,,,,,,,,,,,lehors,mastersingh24,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,true,"09/Jun/17 8:57 AM;mastersingh24;There are probably 2 issues here:

1) We should not be shipping the end-to-end.rst with the getting started (guess we forgot to remove it *again*)  (but I think we are going to have a new getting started anyway)



2) We don't claim support for developing on Windows at this point - so perhaps by doing 1) above we'll nip this in the bug;;;",,,,,,,,,,,
"""make native"" is creating ccenv and javaenv docker images along with peer and orderer binaries",FABB-44,14467,,Bug,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,Medium,Done,mastersingh24,rameshthoomu,rameshthoomu,01/Feb/17 5:17 AM,18/Jul/18 11:53 PM,28/Oct/23 2:20 AM,15/Apr/17 8:15 PM,,,,0,,,,,,,,"*""make native""* is creating fabric-ccenv and fabric-javaenv docker images along with peer and orderer binaries.  As mentioned in fabric Makefile, `make native` as to build peer and orderer binaries

[~ghaskins] Is this expected?
 ",,mastersingh24,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxjo7:",,,,,,,,,,,,,,,,,,,,mastersingh24,rameshthoomu,,,,,,,,,,,,,,,,,,"02/Apr/17 10:39 PM;mastersingh24;We've debated this before and there are differing opinions on this.  Some believe that peer must require the cc images.  FWIW - {{make orderer}} alone does not build the cc images;;;","15/Apr/17 8:15 PM;mastersingh24;this is not a bug - it's working as intended.  We can decide to change the behavior in the future, but for now this is inline with the current intended design;;;",,,,,,,,,,
make protos doesn't work,FABB-45,13877,,Bug,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,Medium,Done,greg.haskins,kchristidis,kchristidis,22/Dec/16 8:10 AM,18/Jul/18 11:53 PM,28/Oct/23 2:20 AM,11/Jan/17 6:51 AM,,,,0,,,,,,,,"I destroy my Vagrant environment, rebuild it, and proceed to ""make protos"". Here's its output:

{code}
vagrant@hyperledger-devenv:v0.2.2-5adaef7:/opt/gopath/src/github.com/hyperledger/fabric$ make protos
Unable to find image 'hyperledger/fabric-baseimage:x86_64-0.2.2' locally
x86_64-0.2.2: Pulling from hyperledger/fabric-baseimage

af49a5ceb2a5: Pull complete
8f9757b472e7: Pull complete
e931b117db38: Pull complete
47b5e16c0811: Pull complete
9332eaf1a55b: Pull complete
95bdd37821eb: Pull complete
2af301fab12e: Pull complete
Digest: sha256:b701179a194d9b3a92ec60c9c9eab0bb780c6b1f2c4f6ebf838e1ad351fc9052
Status: Downloaded newer image for hyperledger/fabric-baseimage:x86_64-0.2.2
make[1]: Entering directory '/opt/gopath/src/github.com/hyperledger/fabric/gotools'
Building github.com/golang/lint/golint -> golint
make[1]: Leaving directory '/opt/gopath/src/github.com/hyperledger/fabric/gotools'
make[1]: Entering directory '/opt/gopath/src/github.com/hyperledger/fabric/gotools'
Building github.com/kardianos/govendor -> govendor
make[1]: Leaving directory '/opt/gopath/src/github.com/hyperledger/fabric/gotools'
make[1]: Entering directory '/opt/gopath/src/github.com/hyperledger/fabric/gotools'
Building golang.org/x/tools/cmd/goimports -> goimports
make[1]: Leaving directory '/opt/gopath/src/github.com/hyperledger/fabric/gotools'
make[1]: Entering directory '/opt/gopath/src/github.com/hyperledger/fabric/gotools'
Building github.com/golang/protobuf/protoc-gen-go -> protoc-gen-go
make[1]: Leaving directory '/opt/gopath/src/github.com/hyperledger/fabric/gotools'
make[1]: Entering directory '/opt/gopath/src/github.com/hyperledger/fabric/gotools'
Building github.com/onsi/ginkgo/ginkgo -> ginkgo
make[1]: Leaving directory '/opt/gopath/src/github.com/hyperledger/fabric/gotools'
make[1]: Entering directory '/opt/gopath/src/github.com/hyperledger/fabric/gotools'
Building github.com/axw/gocov/... -> gocov
make[1]: Leaving directory '/opt/gopath/src/github.com/hyperledger/fabric/gotools'
make[1]: Entering directory '/opt/gopath/src/github.com/hyperledger/fabric/gotools'
Building github.com/AlekSi/gocov-xml -> gocov-xml
make[1]: Leaving directory '/opt/gopath/src/github.com/hyperledger/fabric/gotools'
cp /opt/gotools/obj/gopath/bin/golint /opt/gotools/obj/gopath/bin/govendor /opt/gotools/obj/gopath/bin/goimports /opt/gotools/obj/gopath/bin/protoc-gen-go /opt/gotools/obj/gopath/bin/ginkgo /opt/gotools/obj/gopath/bin/gocov /opt/gotools/obj/gopath/bin/gocov-xml /opt/gotools/bin
(cd build/docker/gotools/bin && tar -jc *) > build/gotools.tar.bz2
mkdir -p build/image/testenv/payload
cp build/gotools.tar.bz2 build/image/testenv/payload
Building docker testenv-image
docker build  -t hyperledger/fabric-testenv build/image/testenv
Sending build context to Docker daemon 11.95 MB
Step 1 : FROM hyperledger/fabric-baseimage:x86_64-0.2.2
 ---> 4ac07a26ca7a
Step 2 : ADD payload/gotools.tar.bz2 /usr/local/bin/
 ---> 264ee103c8f5
Removing intermediate container 2bf9f79e6f4c
Step 3 : WORKDIR /opt/gopath/src/github.com/hyperledger/fabric
 ---> Running in 8936a80006d9
 ---> 4a09d8201354
Removing intermediate container 8936a80006d9
Successfully built 4a09d8201354
docker tag hyperledger/fabric-testenv hyperledger/fabric-testenv:x86_64-0.7.0-snapshot-2ff045d
++ find . -name .protoroot -exec readlink -f '{}' ';'
+ PROTO_ROOT_FILES='/opt/gopath/src/github.com/hyperledger/fabric/orderer/sbft/.protoroot
/opt/gopath/src/github.com/hyperledger/fabric/protos/.protoroot'
++ dirname /opt/gopath/src/github.com/hyperledger/fabric/orderer/sbft/.protoroot /opt/gopath/src/github.com/hyperledger/fabric/protos/.protoroot
+ PROTO_ROOT_DIRS='/opt/gopath/src/github.com/hyperledger/fabric/orderer/sbft
/opt/gopath/src/github.com/hyperledger/fabric/protos'
+++ for dir in '$PROTO_ROOT_DIRS'
+++ echo '-path /opt/gopath/src/github.com/hyperledger/fabric/orderer/sbft -prune -o '
+++ for dir in '$PROTO_ROOT_DIRS'
+++ echo '-path /opt/gopath/src/github.com/hyperledger/fabric/protos -prune -o '
++ find /opt/gopath/src/github.com/hyperledger/fabric -path /opt/gopath/src/github.com/hyperledger/fabric/orderer/sbft -prune -o -path /opt/gopath/src/github.com/hyperledger/fabric/protos -prune -o -path /opt/gopath/src/github.com/hyperledger/fabric/vendor -prune -o -path /opt/gopath/src/github.com/hyperledger/fabric/gotools -prune -o -path /opt/gopath/src/github.com/hyperledger/fabric/build -prune -o -name '*.proto' -exec readlink -f '{}' ';'
+ ROOTLESS_PROTO_FILES='/opt/gopath/src/github.com/hyperledger/fabric/accesscontrol/attributes/proto/attributes.proto
/opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/shim/table.proto
/opt/gopath/src/github.com/hyperledger/fabric/core/comm/testdata/grpc/test.proto
/opt/gopath/src/github.com/hyperledger/fabric/examples/chaincode/go/utxo/util/dah.proto
/opt/gopath/src/github.com/hyperledger/fabric/gossip/proto/message.proto
/opt/gopath/src/github.com/hyperledger/fabric/msp/identities.proto'
++ dirname /opt/gopath/src/github.com/hyperledger/fabric/accesscontrol/attributes/proto/attributes.proto /opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/shim/table.proto /opt/gopath/src/github.com/hyperledger/fabric/core/comm/testdata/grpc/test.proto /opt/gopath/src/github.com/hyperledger/fabric/examples/chaincode/go/utxo/util/dah.proto /opt/gopath/src/github.com/hyperledger/fabric/gossip/proto/message.proto /opt/gopath/src/github.com/hyperledger/fabric/msp/identities.proto
++ sort
++ uniq
+ ROOTLESS_PROTO_DIRS='/opt/gopath/src/github.com/hyperledger/fabric/accesscontrol/attributes/proto
/opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/shim
/opt/gopath/src/github.com/hyperledger/fabric/core/comm/testdata/grpc
/opt/gopath/src/github.com/hyperledger/fabric/examples/chaincode/go/utxo/util
/opt/gopath/src/github.com/hyperledger/fabric/gossip/proto
/opt/gopath/src/github.com/hyperledger/fabric/msp'
Working on dir /opt/gopath/src/github.com/hyperledger/fabric/accesscontrol/attributes/proto
+ for dir in '$ROOTLESS_PROTO_DIRS' '$PROTO_ROOT_DIRS'
+ echo Working on dir /opt/gopath/src/github.com/hyperledger/fabric/accesscontrol/attributes/proto
++ sort
++ uniq
++ find /opt/gopath/src/github.com/hyperledger/fabric/accesscontrol/attributes/proto -name '*.proto' -exec dirname '{}' ';'
+ for protos in '$(find ""$dir"" -name '\''*.proto'\'' -exec dirname {} \; | sort | uniq)'
+ protoc --proto_path=/opt/gopath/src/github.com/hyperledger/fabric/accesscontrol/attributes/proto --go_out=plugins=grpc:/opt/gopath/src /opt/gopath/src/github.com/hyperledger/fabric/accesscontrol/attributes/proto/attributes.proto
+ for dir in '$ROOTLESS_PROTO_DIRS' '$PROTO_ROOT_DIRS'
+ echo Working on dir /opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/shim
Working on dir /opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/shim
++ find /opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/shim -name '*.proto' -exec dirname '{}' ';'
++ uniq
++ sort
+ for protos in '$(find ""$dir"" -name '\''*.proto'\'' -exec dirname {} \; | sort | uniq)'
+ protoc --proto_path=/opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/shim --go_out=plugins=grpc:/opt/gopath/src /opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/shim/table.proto
+ for dir in '$ROOTLESS_PROTO_DIRS' '$PROTO_ROOT_DIRS'
+ echo Working on dir /opt/gopath/src/github.com/hyperledger/fabric/core/comm/testdata/grpc
Working on dir /opt/gopath/src/github.com/hyperledger/fabric/core/comm/testdata/grpc
++ find /opt/gopath/src/github.com/hyperledger/fabric/core/comm/testdata/grpc -name '*.proto' -exec dirname '{}' ';'
++ uniq
++ sort
+ for protos in '$(find ""$dir"" -name '\''*.proto'\'' -exec dirname {} \; | sort | uniq)'
+ protoc --proto_path=/opt/gopath/src/github.com/hyperledger/fabric/core/comm/testdata/grpc --go_out=plugins=grpc:/opt/gopath/src /opt/gopath/src/github.com/hyperledger/fabric/core/comm/testdata/grpc/test.proto
/opt/gopath/src/test.pb.go: Permission deniedMakefile:223: recipe for target 'protos' failed
make: *** [protos] Error 1
vagrant@hyperledger-devenv:v0.2.2-5adaef7:/opt/gopath/src/github.com/hyperledger/fabric$
{code}
",,jyellick,kchristidis,sanchezl,,,,,,,,,,,,,,,,FAB-1572,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxg93:",,,,,,,,,,,,,,,,,,,,jyellick,kchristidis,sanchezl,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,true,"22/Dec/16 8:14 AM;kchristidis;Just to add a few more details to this.

I've tried `make clean && make dist-clean && make protos` but I get the same error.

Colleagues have been unable to reproduce this on their machines, so my theory is:

An unsuccessful run on my machine has created artifacts that (1) prevent `make protos` from completing successfully, and that (2) `make clean` and/or `make dist-clean` fail to remove.;;;","10/Jan/17 6:48 AM;sanchezl;I am running into this issue also when running make protos in the vagrant dev env. If I run {{./scripts/compile_protos.sh}} script directly, it works, otherwise when running the script in docker (via `make protos`) It fails on when processing `fabric/core/comm/testdata/grpc/test.proto`. 

The problem is that there is no {{option go_package}} statement, so it's trying to generate the go files into the output directory root, {{/opt/gopath/src}}, a directory that in the docker container is only writeable by root, but the command is run under a non-root user (user with id=1000).

[~mastersingh24] should provide some guidance on what the appropriate action should be. We can either make {{make protos}} ignore the problem proto, or maybe the proto can use a {{go_package}} statement.;;;","11/Jan/17 3:16 AM;jyellick;Coming to this issue late, had put together a quick changeset which adds the `go_package` statement to the proto file and submitted it before actually reading these comments https://gerrit.hyperledger.org/r/#/c/3827/;;;",,,,,,,,,
Query Proposal does not bring back results,FABB-46,13461,,Bug,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,High,Done,ales,rickr,rickr,15/Nov/16 8:23 AM,18/Jul/18 11:53 PM,28/Oct/23 2:20 AM,16/Jan/17 11:30 PM,,,,0,,,,,,,,Murali has the details in slack   summary is pretty much it.   query comes back with 200 and success but there are no results ,,ales,muralisr,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx8pr:",,,,,,,,,,,,,,,,,,,,ales,muralisr,rickr,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,true,"15/Nov/16 6:45 PM;ales;Thanks, I'll fix it asap. But: Response2.Payload was largely ignored in the design/security discussion. It does not seem to be signed in the current infrastructure, and this aspect should be discussed. Also, the client will receive n Response2.Payload messages, one from each of its endorsers. Might they not differ in content? This seems to be possible given that no ordering has taken place yet. What does it mean if they differ? How should the field be used by the SDK given these observations?;;;","15/Nov/16 9:37 PM;rickr;Got the patch and seems to fix the issue -- thx!
https://gerrit.hyperledger.org/r/#/c/2481/;;;","15/Nov/16 10:05 PM;muralisr;thanks [~rickr], [~ales]
;;;",,,,,,,,,
remove deprecated --email from docker login,FABB-47,20704,,Bug,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,Medium,Done,rameshthoomu,rameshthoomu,rameshthoomu,09/Sep/17 3:20 AM,18/Jul/18 11:53 PM,28/Oct/23 2:20 AM,10/Sep/17 7:57 PM,,,,0,,,,,,,,Remove deprecated --email flag from docker login in fabric-baseimage repository.,,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyfu7:",,,,,,,,,,,,,,,,,,,,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
CouchDB Distribution Site does not maintain archive versions,FABB-48,28281,,Bug,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,Medium,Done,chris.elder,chris.elder,chris.elder,08/Mar/18 4:02 AM,18/Jul/18 11:53 PM,28/Oct/23 2:20 AM,14/Mar/18 4:06 AM,,,,0,,,,,,,,"Apache does not maintain archive versions of CouchDB on the distribution site:

[https://dist.apache.org/repos/dist/release/couchdb/source/]

Current and previous versions are maintained on the archive site:

[https://archive.apache.org/dist/couchdb/source/|https://archive.apache.org/dist/couchdb/source/2.0.0/]

CouchDB images downloading source code need to be updated to reference the archive site.",,chris.elder,denyeart,sujeeban,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz07j:",,,,,,,,,,,,,,,,,,,,chris.elder,denyeart,sujeeban,,,,,release-1.0,,,,,,,,,,,true,"09/Mar/18 12:23 AM;denyeart;baseimage (master) - [https://gerrit.hyperledger.org/r/#/c/18847/] - merged (will get picked up in 1.2)

fabric (release-1.0) - [https://gerrit.hyperledger.org/r/#/c/18883/] - merged (will get picked up in 1.0.7);;;",,,,,,,,,,,
"e2e tests are failing on latest fabric commit with ""kafka version 0.9.0.1"" (hyperledger/fabric-kafka:x86_64-0.4.4)",FABB-49,26964,,Bug,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,Medium,Done,rameshthoomu,rameshthoomu,rameshthoomu,20/Jan/18 5:11 AM,18/Jul/18 11:53 PM,28/Oct/23 2:20 AM,25/Jan/18 6:49 AM,,,,0,,,,,,,,"observed e2e tests are failing on latest fabric commit with *kafka version 0.9.0.1 (thirdparty images with version hyperledger/fabric-kafka:x86_64-0.4.4)*
{code:java}
00:10:52.689 2018-01-19 19:12:37.819 UTC [channelCmd] readBlock -> DEBU 00a Got status: &{SERVICE_UNAVAILABLE}
00:10:52.689 Error: proto: Marshal called with nil{code}
[https://gerrit.hyperledger.org/r/#/c/17001/]

 ",,jyellick,kchristidis,rameshthoomu,sanchezl,scottz,troyronda,,,,,,,,,FAB-7837,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyu4f:",,,,,,,,,,,,,,,,,,,,jyellick,kchristidis,rameshthoomu,sanchezl,scottz,troyronda,,,,,,,,,,,,,,"20/Jan/18 5:24 AM;jyellick;A workaround for this is to change the Kafka version specified by {{orderer.yaml}} to match that found in baseimage.

Personally, I would lean towards updating the baseimage of Kafka though, as Kafka has had bug fixes and improvements.;;;","20/Jan/18 6:55 AM;sanchezl;From the [draft upgrade document|https://docs.google.com/document/d/16ZogU_InYeLZZ8lTGNdBhd4Iosi7T4KP3ppFSEUcI30/edit?usp=sharing]:

 *NOTE:* If you are using the fabric-orderer docker images, the embedded orderer.yaml changes the value of Kafka.Version to {{0.10.2.1}}. If you are using a version of Kafka *older* than {{0.10.2.1}}, set the 
{{ORDERER_KAFKA_VERSION}}
 environment variable on your containers to the appropriate value.;;;","22/Jan/18 11:15 PM;kchristidis;Taken care of by the commit in https://gerrit.hyperledger.org/r/c/17041/?;;;","24/Jan/18 11:37 PM;scottz;Please review my suggestion in that doc, [~sanchezl], to reword ""appropriate value"". Also, if we use kafka version 1.0 in fabric v1.1, and then what are the instructions for upgrades? For those existing networks using 0.9.0,1 already, they should set the value to 0.9.0.1 for the upgrading of fabric orderers to v1.1. But then we need to finish our instructions for upgrade. They will need to upgrade their kafkas eventually (probably sooner than later), AND will need to change this kafka version to v1.0 from 0.9.0.1. I think we have been saying that they could upgrade their kafkas independently, without doing change the kafka version in the orderers and without restarting the orderers, and then later whenever they upgrade fabric again then they should change kafka version? But wouldn't they hit this problem again?;;;",,,,,,,,
"[fabric] Makefile apparently makes coucbdb, but the prologue doesn't say so",FABB-50,15533,,Bug,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,Medium,Done,mastersingh24,jjjjibm,jjjjibm,31/Mar/17 11:53 PM,18/Jul/18 11:53 PM,28/Oct/23 2:20 AM,02/Apr/17 8:40 PM,,,,0,,,,,,,,"A RocketChat comment in the fabric-sdk-node forum indicates Makefile for directory $GOPATH/src/gitub.com/hyperledger/fabric  now includes a coucbdb.rule.

Here is the comment:
_also the change to fabric-couchdb was intentional (so it'll work on s390 architecture) but i neglected to update the README: {color:#d04437}you need to run `make couchdb` in fabric {color}in addition to `make docker`
_
And here is what happens when you try it:

{color:#59afe1}ibmadmin@jcwNodeSDK:~/work/src/github.com/hyperledger/*fabric*$ make couchdb
*make: Nothing to be done for `couchdb'.
*ibmadmin@jcwNodeSDK:~/work/src/github.com/hyperledger/fabric$
{color}

However, when I inspected the Makefile prologue for more information about making couchcb, it had nothing.

Here is the fabric/Makefile prologue: 

#_ -------------------------------------------------------------
# This makefile defines the following targets
#
#   - all (default) - builds all targets and runs all tests/checks
#   - checks - runs all tests/checks
#   - peer - builds a native fabric peer binary
#   - orderer - builds a native fabric orderer binary
#   - unit-test - runs the go-test based unit tests
#   - test-cmd - generates a ""go test"" string suitable for manual customization
#   - behave - runs the behave test
#   - behave-deps - ensures pre-requisites are available for running behave manually
#   - gotools - installs go tools like golint
#   - linter - runs all code checks
#   - native - ensures all native binaries are available
#   - docker[-clean] - ensures all docker images are available[/cleaned]
#   - peer-docker[-clean] - ensures the peer container is available[/cleaned]
#   - orderer-docker[-clean] - ensures the orderer container is available[/cleaned]
#   - protos - generate all protobuf artifacts based on .proto files
#   - clean - cleans the build area
#   - dist-clean - superset of 'clean' that also removes persistent state
#   - unit-test-clean - cleans unit test state (particularly from docker)
# 
PROJECT_NAME   = hyperledger/fabric
BASE_VERSION   = 1.0.0
IS_RELEASE     = false

_","fabric: commit 7da5f5da97456e7eb0b33e0a2271c3ca979e9846
Running Ubuntu 14 on a vlaunch VM",jjjjibm,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxp0f:",,,,,,,,,,,,,,,,,,,,jjjjibm,mastersingh24,,,,,,,,,,,,,,,,,,"31/Mar/17 11:58 PM;jjjjibm;Assigning to Greg for screening since I know he worked on Makefile at one point.;;;","02/Apr/17 8:39 PM;mastersingh24;I am going to close this as I just went through and everything works.  The only thing missing is that we don't list the ""couchdb"" target in the list in the Makefile.

But {{make docker}} actually does build fabric-couchdb 
If you run {{make docker}} first, then fabric-couchdb already exists and {{make couchdb}} correctly returns with {{make: Nothing to be done for `couchdb'.}};;;",,,,,,,,,,
fabric make all fails: orderer/solo/broadcast.go:152: github.com/hyperledger/fabric/orderer/atomicbroadcast.BroadcastResponse composite literal uses unkeyed fields,FABB-51,13210,,Bug,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,High,Done,,jjjjibm,jjjjibm,27/Oct/16 12:52 AM,18/Jul/18 11:53 PM,28/Oct/23 2:20 AM,05/Nov/16 8:20 PM,,,,0,build-system,Usability,,,,,,"I cloned fabric from master today: git clone http://gerrit.hyperledger.org/r/fabric-sdk-node

I ran 'make all'.  Here are the error messages:
Running go vet
go vet ./core/...
go vet ./events/...
go vet ./examples/...
go vet ./membersrvc/...
go vet ./peer/...
go vet ./protos/...
go vet ./orderer/...
orderer/solo/broadcast.go:145: github.com/hyperledger/fabric/orderer/atomicbroadcast.BroadcastResponse composite literal uses unkeyed fields
orderer/solo/broadcast.go:147: github.com/hyperledger/fabric/orderer/atomicbroadcast.BroadcastResponse composite literal uses unkeyed fields
orderer/solo/broadcast.go:152: github.com/hyperledger/fabric/orderer/atomicbroadcast.BroadcastResponse composite literal uses unkeyed fields
exit status 1
make: *** [linter] Error 1
ibmadmin@jcwNodeSDK:~/work/src/github.com/hyperledger/fabric$



",vlaunch VM running Ubuntu.  No vagrant is involved.,jjjjibm,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxdnr:",,,,,,,,,,,,,,,,,,,,jjjjibm,mastersingh24,,,,,,,,,,,,,,,,,,"05/Nov/16 8:19 PM;mastersingh24;duplicate of FAB-920;;;",,,,,,,,,,,
TLS for p2p communicaitons fail in dev mode (--peer-chaincodedev),FABB-52,13823,,Bug,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,High,Done,,wayoon,wayoon,16/Dec/16 12:50 AM,18/Jul/18 11:53 PM,28/Oct/23 2:20 AM,01/Jan/17 5:11 AM,,,,0,chaincode,Security,won't_fix,,,,,"I enabled p2p TLS, and started peer in dev mode.
It fails when I tyr to run chaincode, saying ""grpc: Server.Serve failed to complete security handshake from ""127.0.0.1:55808"": tls: first record does not look like a TLS handshake"" (please see the last part of the peer log below).


in core.yaml
{code}
peer:

    # TLS Settings for p2p communications
    tls:
        enabled:  true
        cert:
            file: testdata/server1.crt
        key:
            file: testdata/server1.key
        # The server name use to verify the hostname returned by TLS handshake
        serverhostoverride: VP0
{code}

starting peer in dev mode:
{code}
vagrant@hyperledger-devenv:v0.0.11-ed90562:/opt/gopath/src/github.com/hyperledger/fabric$ peer node start --peer-chaincodedev

15:29:31.479 [logging] LoggingInit -> DEBU 001 Setting default logging level to DEBUG for command 'node'
15:29:31.480 [nodeCmd] serve -> INFO 002 Running in chaincode development mode
15:29:31.480 [nodeCmd] serve -> INFO 003 Set consensus to NOOPS and user starts chaincode
15:29:31.480 [nodeCmd] serve -> INFO 004 Disable loading validity system chaincode
15:29:31.487 [eventhub_producer] AddEventType -> DEBU 005 registering BLOCK
15:29:31.488 [eventhub_producer] AddEventType -> DEBU 006 registering CHAINCODE
15:29:31.488 [eventhub_producer] AddEventType -> DEBU 007 registering REJECTION
15:29:31.488 [eventhub_producer] AddEventType -> DEBU 008 registering REGISTER
15:29:31.488 [nodeCmd] serve -> INFO 009 Security enabled status: true
15:29:31.488 [nodeCmd] serve -> INFO 00b Privacy enabled status: true
15:29:31.489 [db] open -> DEBU 00c Is db path [/var/hyperledger/production/db] empty [false]
15:29:31.488 [eventhub_producer] start -> INFO 00a event processor started
15:29:31.490 [db] open -> INFO 00d Setting rocksdb maxLogFileSize to 10485760
15:29:31.490 [db] open -> INFO 00e Setting rocksdb keepLogFileNum to 10
15:29:31.680 [nodeCmd] func1 -> DEBU 00f Registering validator with enroll ID: vp
15:29:31.680 [crypto] RegisterValidator -> INFO 010 Registering validator [vp] with name [vp]...
15:29:31.682 [crypto] Debugf -> DEBU 011 [validator.vp] Data will be stored at [/var/hyperledger/production/crypto/validator/vp]
15:29:31.683 [crypto] Debugf -> DEBU 012 [validator.vp] Keystore path [/var/hyperledger/production/crypto/validator/vp/ks] missing [false]: [<clean>]
15:29:31.683 [crypto] Debugf -> DEBU 013 [validator.vp] Keystore [/var/hyperledger/production/crypto/validator/vp/ks/db] missing [false]:[<clean>]
15:29:31.683 [crypto] Debugf -> DEBU 014 [validator.vp] Keystore opened at [/var/hyperledger/production/crypto/validator/vp/ks]...done
15:29:31.683 [crypto] Debug -> DEBU 015 [validator.vp]  Registering node crypto engine...
15:29:31.684 [crypto] Debug -> DEBU 016 [validator.vp]  Initiliazing TLS...
15:29:31.684 [crypto] Debugf -> DEBU 017 [validator.vp] Loading external certificate at [testdata/server.crt]...
15:29:31.685 [crypto] Debug -> DEBU 018 [validator.vp]  Initiliazing TLS...Done
15:29:31.686 [crypto] Debug -> DEBU 019 [validator.vp]  Registering node crypto engine...done!
15:29:31.686 [crypto] Debugf -> DEBU 01a [validator.vp] Registration of node [%!s(crypto.NodeType=2)] with name [vp] completed
15:29:31.686 [crypto] Debug -> DEBU 01b [validator.vp]  Closing keystore...
15:29:31.687 [crypto] Debug -> DEBU 01c [validator.vp]  Closing keystore...done!
15:29:31.687 [crypto] RegisterValidator -> INFO 01d Registering validator [vp] with name [vp]...done!
15:29:31.687 [nodeCmd] func1 -> DEBU 01e Initializing validator with enroll ID: vp
15:29:31.687 [crypto] InitValidator -> INFO 01f Initializing validator [vp]...
15:29:31.689 [crypto] Debugf -> DEBU 020 [validator.vp] Data will be stored at [/var/hyperledger/production/crypto/validator/vp]
15:29:31.689 [crypto] Debugf -> DEBU 021 [validator.vp] Keystore path [/var/hyperledger/production/crypto/validator/vp/ks] missing [false]: [<clean>]
15:29:31.689 [crypto] Debugf -> DEBU 022 [validator.vp] Keystore [/var/hyperledger/production/crypto/validator/vp/ks/db] missing [false]:[<clean>]
15:29:31.689 [crypto] Debugf -> DEBU 023 [validator.vp] Keystore opened at [/var/hyperledger/production/crypto/validator/vp/ks]...done
15:29:31.689 [crypto] Debug -> DEBU 024 [validator.vp]  Initializing node crypto engine...
15:29:31.690 [crypto] Debug -> DEBU 025 [validator.vp]  Loading ECA certificates chain...
15:29:31.690 [crypto] Debugf -> DEBU 026 [validator.vp] Loading certificate [eca.cert.chain] at [/var/hyperledger/production/crypto/validator/vp/ks/raw/eca.cert.chain]...
15:29:31.690 [crypto] Debug -> DEBU 027 [validator.vp]  Loading TCA certificates chain...
15:29:31.690 [crypto] Debugf -> DEBU 028 [validator.vp] Loading certificate [tca.cert.chain] at [/var/hyperledger/production/crypto/validator/vp/ks/raw/tca.cert.chain]...
15:29:31.690 [crypto] Debug -> DEBU 029 [validator.vp]  Loading enrollment key...
15:29:31.691 [crypto] Debugf -> DEBU 02a [validator.vp] Loading private key [enrollment.key] at [/var/hyperledger/production/crypto/validator/vp/ks/raw/enrollment.key]...
15:29:31.707 [crypto] Debug -> DEBU 02b [validator.vp]  Loading enrollment certificate...
15:29:31.707 [crypto] Debugf -> DEBU 02c [validator.vp] Loading certificate [enrollment.cert] at [/var/hyperledger/production/crypto/validator/vp/ks/raw/enrollment.cert]...
15:29:31.708 [crypto] Debugf -> DEBU 02d [validator.vp] Setting id to [5c e6 b6 13 80 eb a3 a9 26 5b 2b f8 b5 7e e1 6b 27 b1 b5 4f 25 0d 45 36 8d 5b 99 0b 5c 57 cb c1].
15:29:31.708 [crypto] Debugf -> DEBU 02e [validator.vp] Setting enrollCertHash to [5c e6 b6 13 80 eb a3 a9 26 5b 2b f8 b5 7e e1 6b 27 b1 b5 4f 25 0d 45 36 8d 5b 99 0b 5c 57 cb c1].
15:29:31.708 [crypto] Debugf -> DEBU 02f [validator.vp] Loading enrollment id at [/var/hyperledger/production/crypto/validator/vp/ks/raw/enrollment.id]...
15:29:31.708 [crypto] Debugf -> DEBU 030 [validator.vp] Setting enrollment id to [vp].
15:29:31.708 [crypto] Debug -> DEBU 031 [validator.vp]  Loading enrollment chain key...
15:29:31.708 [crypto] Debugf -> DEBU 032 [validator.vp] Loading private key [chain.key] at [/var/hyperledger/production/crypto/validator/vp/ks/raw/chain.key]...
15:29:31.709 [crypto] Debug -> DEBU 033 [validator.vp]  Loading TLSCA certificates chain...
15:29:31.709 [crypto] Debugf -> DEBU 034 [validator.vp] Loading external certificate at [testdata/server.crt]...
15:29:31.710 [crypto] Debug -> DEBU 035 [validator.vp]  Loading TLSCA certificates chain...done
15:29:31.710 [crypto] Debug -> DEBU 036 [validator.vp]  Loading tls certificate...
15:29:31.710 [crypto] Debugf -> DEBU 037 [validator.vp] Loading certificate [tls.cert] at [/var/hyperledger/production/crypto/validator/vp/ks/raw/tls.cert]...
15:29:31.710 [crypto] Debug -> DEBU 038 [validator.vp]  Initializing node crypto engine...done!
15:29:31.710 [crypto] Debug -> DEBU 039 [validator.vp]  Init keystore...
15:29:31.710 [crypto] Debugf -> DEBU 03a [validator.vp] Create Table [Certificates] if not exists
15:29:31.719 [crypto] Debug -> DEBU 03b [validator.vp]  Init keystore...done.
15:29:31.719 [crypto] InitValidator -> INFO 03c Initializing validator [vp]...done!
15:29:31.720 [chaincode] NewChaincodeSupport -> INFO 03d Chaincode support using peerAddress: 0.0.0.0:7051
15:29:31.720 [chaincode] NewChaincodeSupport -> DEBU 03e Turn off keepalive(value 0)
15:29:31.721 [sysccapi] RegisterSysCC -> WARN 03f Currently system chaincode does support security(noop,github.com/hyperledger/fabric/bddtests/syschaincode/noop)
15:29:31.721 [nodeCmd] serve -> DEBU 040 Running as validating peer - making genesis block if needed
15:29:31.723 [state] loadConfig -> INFO 041 Loading configurations...
15:29:31.724 [state] loadConfig -> INFO 042 Configurations loaded. stateImplName=[buckettree], stateImplConfigs=map[bucketCacheSize:%!s(int=100) numBuckets:%!s(int=1000003) maxGroupingAtEachLevel:%!s(int=5)], deltaHistorySize=[500]
15:29:31.724 [state] NewState -> INFO 043 Initializing state implementation [buckettree]
15:29:31.724 [buckettree] initConfig -> INFO 044 configs passed during initialization = map[string]interface {}{""numBuckets"":1000003, ""maxGroupingAtEachLevel"":5, ""bucketCacheSize"":100}
15:29:31.725 [buckettree] initConfig -> INFO 045 Initializing bucket tree state implemetation with configurations &{maxGroupingAtEachLevel:5 lowestLevel:9 levelToNumBucketsMap:map[4:321 2:13 7:40001 3:65 9:1000003 6:8001 1:3 0:1 8:200001 5:1601] hashFunc:0xab1fb0}
15:29:31.725 [buckettree] newBucketCache -> INFO 046 Constructing bucket-cache with max bucket cache size = [100] MBs
15:29:31.726 [buckettree] loadAllBucketNodesFromDB -> INFO 047 Loaded buckets data in cache. Total buckets in DB = [0]. Total cache size:=0
15:29:31.726 [nodeCmd] serve -> DEBU 048 Running as validating peer - installing consensus noops
15:29:31.726 [peer] initDiscovery -> DEBU 049 Retrieved discovery list from disk: []
15:29:31.727 [consensus/controller] NewConsenter -> INFO 04a Creating default consensus plugin (noops)
15:29:31.728 [consensus/noops] newNoops -> DEBU 04b Creating a NOOPS object
15:29:31.731 [consensus/noops] newNoops -> INFO 04c NOOPS consensus type = *noops.Noops
15:29:31.731 [consensus/noops] newNoops -> INFO 04d NOOPS block size = 500
15:29:31.732 [consensus/noops] newNoops -> INFO 04e NOOPS block wait = 1s
15:29:31.732 [peer] chatWithSomePeers -> DEBU 04f Starting up the first peer of a new network
15:29:31.734 [consensus/statetransfer] verifyAndRecoverBlockchain -> DEBU 050 Validating existing blockchain, highest validated block is 0, valid through 0
15:29:31.734 [consensus/statetransfer] blockThread -> INFO 051 Validated blockchain to the genesis block
15:29:31.734 [consensus/handler] 1 -> DEBU 052 Starting up message thread for consenter
15:29:31.734 [nodeCmd] serve -> INFO 053 Starting peer with ID=name:""jdoe"" , network ID=dev, address=0.0.0.0:7051, rootnodes=, validator=true
15:29:31.735 [peer] ensureConnected -> DEBU 054 Starting Peer reconnect service (touch service), with period = 6s
15:29:31.736 [rest] StartOpenchainRESTServer -> INFO 055 Initializing the REST service on 0.0.0.0:7050, TLS is enabled.
2016/12/15 15:29:37 grpc: Server.Serve failed to complete security handshake from ""127.0.0.1:55807"": tls: first record does not look like a TLS handshake
15:29:37.741 [peer] ensureConnected -> DEBU 056 Touch service indicates no dropped connections
15:29:37.741 [peer] ensureConnected -> DEBU 057 Connected to: []
15:29:37.741 [peer] ensureConnected -> DEBU 058 Discovery knows about: []
2016/12/15 15:29:38 grpc: Server.Serve failed to complete security handshake from ""127.0.0.1:55808"": tls: first record does not look like a TLS handshake
2016/12/15 15:29:39 grpc: Server.Serve failed to complete security handshake from ""127.0.0.1:55809"": tls: first record does not look like a TLS handshake
15:29:43.741 [peer] ensureConnected -> DEBU 059 Touch service indicates no dropped connections
15:29:43.741 [peer] ensureConnected -> DEBU 05a Connected to: []
15:29:43.741 [peer] ensureConnected -> DEBU 05b Discovery knows about: []
{code}

starting chaincode:
{code}
vagrant@hyperledger-devenv:v0.0.11-ed90562:/opt/gopath/src/consentmanager$ CORE_CHAINCODE_ID_NAME=consentmanager CORE_PEER_ADDRESS=0.0.0.0:7051 ./cc
2016/12/15 15:29:37 ----starting chaincode----
2016/12/15 15:29:37 Set CORE_LOGGING_CHAINCODE=DEBUG
2016/12/15 15:29:37 Set CORE_REST_ADDRESS=0.0.0.0:7050
15:29:37.153 [shim] DEBU : Peer address: 0.0.0.0:7051
2016/12/15 15:29:37 transport: http2Client.notifyError got notified that the client transport was broken unexpected EOF.
2016/12/15 15:29:38 grpc: addrConn.resetTransport failed to create client transport: connection error: desc = ""transport: write tcp 127.0.0.1:55807->127.0.0.1:7051: write: connection reset by peer""; Reconnecting to {""0.0.0.0:7051"" <nil>}
2016/12/15 15:29:39 grpc: addrConn.resetTransport failed to create client transport: connection error: desc = ""transport: write tcp 127.0.0.1:55808->127.0.0.1:7051: write: broken pipe""; Reconnecting to {""0.0.0.0:7051"" <nil>}
15:29:40.154 [shim] ERRO : Error trying to connect to local peer: grpc: timed out when dialing
Error starting Simple chaincode: Error trying to connect to local peer: grpc: timed out when dialing

{code}
",,mastersingh24,wayoon,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxg2f:",,,,,,,,,,,,,,,,,,,,mastersingh24,wayoon,,,,,,,,,,,,,,,,,,"29/Dec/16 1:11 AM;mastersingh24;Not sure this is really a bug as I'm not sure we really want to be running the peer with TLS enabled in chaincode-dev mode, but in any case you should be able to solve this by passing the appropriate environment variables when you start the chaincode - basically all of the ""peer.tls"" settings from core.yaml;;;","01/Jan/17 4:48 AM;mastersingh24;closing this as I believe my previous comment will help work around this issue and we have no plans to make any non-criticial fixes to the v0.6 branch;;;",,,,,,,,,,
problem in pulling fabric binaries,FABB-53,30917,,Bug,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,Medium,Invalid,satish67,satish67,satish67,06/Jun/18 9:35 PM,18/Jul/18 11:53 PM,28/Oct/23 2:20 AM,,,,,0,,,,,,,,"hello all, I am working on raspberry pi 3. i have installed all the software for hyperledger fabric. docker is running fine with the hello-world. but when i am trying to install fabric-samples binaries, it is showing that ----------gpi@raspberrypi:~/fabric-samples $ curl -sSL [https://goo.gl/6wtTN5] | bash -s 1.1.0

Installing hyperledger/fabric-samples repo

===> Checking out v1.1.0 branch of hyperledger/fabric-samples
HEAD is now at 1252c7a... [FAB-8920] Pin fabric-samples to node.js ""~1.1.0""

Installing Hyperledger Fabric binaries

===> Downloading version armv7l-1.1.0 platform specific fabric binaries
===> Downloading:[https://nexus.hyperledger.org/content/repositories/releases/org/hyperledger/fabric/hyperledger-fabric/linux-armv7l-1.1.0/hyperledger-fabric-linux-armv7l-1.1.0.tar.gz]
% Total % Received % Xferd Average Speed Time Time Time Current
Dload Upload Total Spent Left Speed
100 1121 0 1121 0 0 2016 0 --:--:-- --:--:-- --:--:-- 2016

gzip: stdin: not in gzip format
tar: Child returned status 1
tar: Error is not recoverable: exiting now
==> There was an error downloading the binary file. Switching to incremental download.
==> Downloading file...

------> armv7l-1.1.0 platform specific fabric binary is not available to download <----

===> Downloading version armv7l-1.1.0 platform specific fabric-ca-client binary
===> Downloading:[https://nexus.hyperledger.org/content/repositories/releases/org/hyperledger/fabric-ca/hyperledger-fabric-ca/linux-armv7l-1.1.0/hyperledger-fabric-ca-linux-armv7l-1.1.0.tar.gz]
% Total % Received % Xferd Average Speed Time Time Time Current
Dload Upload Total Spent Left Speed
100 1148 0 1148 0 0 2414 0 --:--:-- --:--:-- --:--:-- 2416

gzip: stdin: not in gzip format
tar: Child returned status 1
tar: Error is not recoverable: exiting now
==> There was an error downloading the binary file. Switching to incremental download.
==> Downloading file...
any solution thanks",,kchristidis,rameshthoomu,satish67,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzze9j:",,,,,,,,,,,,,,,,,,,,kchristidis,rameshthoomu,satish67,,,,,,,,,,,,,,,,,"06/Jun/18 10:15 PM;kchristidis;{{gzip: stdin: not in gzip format}} means the file is not a gzipped tar file.

Which makes sense because the link you provided https://nexus.hyperledger.org/content/repositories/releases/org/hyperledger/fabric/hyperledger-fabric/linux-armv7l-1.1.0/hyperledger-fabric-linux-armv7l-1.1.0.tar.gz leads to a 404.

/cc [~ChristopherFerris], [~rameshthoomu] - Do you expect this link to 404?;;;","06/Jun/18 10:25 PM;satish67;this is the comand for fabric binaries, it should pull images to build the first network inside fabric-samples

curl -sSL [https://goo.gl/6wtTN5] | bash -s 1.1.0

but after running this command i am getting this errror..

when i run that in ubuntu it is working fine... but in raspberry pi, it is creating error

 ;;;","06/Jun/18 10:37 PM;kchristidis;(Right, am aware, works just fine on macOS as well.)

The question is why we construct an ARM link.;;;","06/Jun/18 10:53 PM;rameshthoomu;[https://nexus.hyperledger.org/content/repositories/releases/org/hyperledger/fabric/hyperledger-fabric/linux-amd64-1.1.0/hyperledger-fabric-linux-amd64-1.1.0.tar.gz]

or see the this https://nexus.hyperledger.org/content/repositories/releases/org/hyperledger/fabric/hyperledger-fabric/;;;","06/Jun/18 10:54 PM;rameshthoomu;[~kchristidis] Supported platforms are amd64, s390x, ppc64le, windows and darwin from fabric and fabric-ca;;;","06/Jun/18 10:58 PM;kchristidis;Understood. I'm guessing the script attempts to build a link based on the host platform, without consulting a list of supported platforms first.;;;",,,,,,
Wrong jre in docker image ,FABB-54,16737,,Bug,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,Highest,Done,,dpk2877,dpk2877,15/May/17 9:19 PM,18/Jul/18 11:53 PM,28/Oct/23 2:20 AM,01/Jun/17 9:40 PM,,,,0,chaincode,,,,,,,"When I am trying to deploye the java chaincode then it shows ""Unsupported major.minor version 52.0"" error because shim code is in Java 8 and when we make shim jar then we have to compile that code with java 8 jdk but there is jre 7 packaged in the docker image. That's why its showing this error. ",,ChristopherFerris,dpk2877,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxvcv:",,,,,,,,,,,,,,,,,,,,ChristopherFerris,dpk2877,,,,,,,,,,,,,,,,,,"01/Jun/17 9:41 PM;ChristopherFerris;v0.6 is deprecated;;;",,,,,,,,,,,
multiarch.sh not +x,FABB-55,31297,,Bug,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,Medium,Done,ChristopherFerris,ChristopherFerris,ChristopherFerris,22/Jun/18 9:50 PM,18/Jul/18 11:53 PM,28/Oct/23 2:20 AM,02/Jul/18 9:41 PM,,,,0,,,,,,,,"need to chmod multiarch.sh

also missing ppc64le",,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzzfvz:",,,,,,,,,,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,"22/Jun/18 9:53 PM;ChristopherFerris;https://gerrit.hyperledger.org/r/23517;;;",,,,,,,,,,,
fabric images are still referring previous baseimage reference (0.3.0),FABB-56,16725,,Bug,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,High,Done,nnao,rameshthoomu,rameshthoomu,15/May/17 12:36 PM,18/Jul/18 11:53 PM,28/Oct/23 2:20 AM,24/May/17 5:51 AM,,,,0,build-system,quality,,,,,,"fabric and fabric-ca images are still referring old baseimage release reference (0.3.0). Recently we had a baseimage release and the new version is 0.3.1 but below two references are not updated to new release version
*00:05:25.426* Step 1/10 : FROM hyperledger/fabric-baseimage:x86_64-0.3.0
Fabric-ca:

[https://github.com/hyperledger/fabric-ca/blob/master/Makefile#L46]

Fabric:

[https://github.com/hyperledger/fabric/blob/master/.baseimage-release#L1]

Is this expected or have to upload images with new baseimage release reference?",,ChristopherFerris,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxva7:",,,,,,,,,,,,,,,,,,,,ChristopherFerris,rameshthoomu,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,true,"24/May/17 5:29 AM;ChristopherFerris;[https://gerrit.hyperledger.org/r/#/c/9387/] and https://gerrit.hyperledger.org/r/#/c/9385/;;;",,,,,,,,,,,
Remove snapshot reference from fabric-sdk-rest dockerfile,FABB-57,20876,,Bug,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,Medium,Done,jtclark,rameshthoomu,rameshthoomu,18/Sep/17 11:45 PM,19/Jul/18 12:08 AM,28/Oct/23 2:20 AM,12/Oct/17 6:09 AM,,,,0,,,,,,,,"Remove snapshot reference from fabric-sdk-rest dockerfile. 

[https://github.com/hyperledger/fabric-sdk-rest/blob/dbd44492687454ca8c467b316227bf2b760c7c93/docker/Dockerfile#L8]

keep only the supporting basejvm version  (x86_64-0.3.2)",,jtclark,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzygnz:",,,,,,,,,,,,,,,,,,,,jtclark,rameshthoomu,,,,,,,,,,,,,,,,,,"11/Oct/17 4:06 AM;jtclark;Update
======

Talked with [~rameshthoomu], [~chrispoole] about this task. I'll be submitting a patch that removes the snapshot reference, and uses the baseos image instead of basejvm. fabric-sdk-rest does not require the use of a JVM.;;;","11/Oct/17 5:32 AM;jtclark;Patch has been submitted for review: https://gerrit.hyperledger.org/r/#/c/14389/;;;","12/Oct/17 6:00 AM;jtclark;This patch has been cherry-picked into the DEV branch, and merged into MASTER.;;;",,,,,,,,,
Add configurations for starting dockers behind Proxy ,FABB-58,22495,,Story,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,Medium,Won't Do,luomin,luomin,luomin,19/Oct/17 5:06 PM,26/Mar/19 8:10 PM,28/Oct/23 2:20 AM,26/Mar/19 8:10 PM,,,,0,build-system,Usability,,,,,,"To develop behind a proxy, many guidance are there to help set the proxy properly, for the os and some related command (curl, apt-get, wget, etc.,), and we can go through the BYFN and WYFA successfully.

However, as for the ""Building Hyperledger Fabric"", proxy setting is required inside Fabric's dockerfile. It is better to provide the configuration hint (as commended) inside the related Dockfiles.

 

Otherwise, errors below shall come out:

Running ""unit tests (make unit-test)"" behind a Proxy , and got the errors like 

....

W: The repository '[http://archive.ubuntu.com/ubuntu] xenial-backports Release' does not have a Release file.

E: Failed to fetch [http://security.ubuntu.com/ubuntu/dists/xenial-security/universe/source/Sources] Cannot initiate the connection to 20066:80 (0.0.78.98). - connect (22: Invalid argument)
E: Failed to fetch [http://archive.ubuntu.com/ubuntu/dists/xenial/universe/source/Sources] Cannot initiate the connection to 20066:80 (0.0.78.98). - connect (22: Invalid argument)
E: Failed to fetch [http://archive.ubuntu.com/ubuntu/dists/xenial-updates/universe/source/Sources] Cannot initiate the connection to 20066:80 (0.0.78.98). - connect (22: Invalid argument)
E: Failed to fetch [http://archive.ubuntu.com/ubuntu/dists/xenial-backports/main/binary-amd64/Packages] Cannot initiate the connection to 20066:80 (0.0.78.98). - connect (22: Invalid argument)
E: Some index files failed to download. They have been ignored, or old ones used instead.
The command '/bin/sh -c bash /tmp/[install-softhsm2.sh|http://install-softhsm2.sh/] && rm -f [install-softhsm2.sh|http://install-softhsm2.sh/]' returned a non-zero code: 100
Makefile:285: recipe for target 'build/image/testenv/.dummy-x86_64-1.1.0-snapshot-8149916' failed
make: *** [build/image/testenv/.dummy-x86_64-1.1.0-snapshot-8149916] Error 100

 

 ",,luomin,,,,,,,,,,,,,,,,,,,,,,,,,,,"29/Jan/18 2:33 PM;luomin;Error1 proxy resolve error in 'make docker' @ building fabric-ca image.txt;https://jira.hyperledger.org/secure/attachment/14423/Error1+proxy+resolve+error+in+%27make+docker%27+%40+building+fabric-ca+image.txt","29/Jan/18 2:33 PM;luomin;Error2 proxy resolve error in 'make docker' @ building fabric-ca-orderer image.txt;https://jira.hyperledger.org/secure/attachment/14424/Error2+proxy+resolve+error+in+%27make+docker%27+%40+building+fabric-ca-orderer+image.txt","29/Jan/18 2:33 PM;luomin;Error3 proxy resolve error in 'make docker' @ building fabric-ca-peer image.txt;https://jira.hyperledger.org/secure/attachment/14425/Error3+proxy+resolve+error+in+%27make+docker%27+%40+building+fabric-ca-peer+image.txt","29/Jan/18 2:33 PM;luomin;Error4 proxy resolve error in 'make docker' @ building fabric-ca-tools image.txt;https://jira.hyperledger.org/secure/attachment/14426/Error4+proxy+resolve+error+in+%27make+docker%27+%40+building+fabric-ca-tools+image.txt","29/Jan/18 2:33 PM;luomin;No Error finally, after adding the proxy info into all the Dockerfile.txt;https://jira.hyperledger.org/secure/attachment/14427/No+Error+finally%2C+after+adding+the+proxy+info+into+all+the+Dockerfile.txt",,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzyk2f:",,,,Unset,,,,,Unset,,,,,,,,,,,luomin,,,,,,,,,,,,,,,,,,,"29/Oct/17 6:23 PM;luomin;https://gerrit.hyperledger.org/r/#/c/14683/;;;","29/Jan/18 2:44 PM;luomin;Hi, [~sanchezl]   Thank you very much to give me your review comment on this issue at [https://gerrit.hyperledger.org/r/#/c/17087/]

Actually, I've set the HTTP(S)_PROXY variables in my local environment, but the docker image can't be built successfully.

 

I newly attached some error msg file above.

 

Error1-Error4 shows the building error when I didn't set the http_proxy info. inside the corresponding Dockerfile.in. 

 

Thank you so much if you could have a check again.

 

 

 

 ;;;",,,,,,,,,,
Enable Zookeeper autopurge to avoid saturating disk,FABB-60,26605,,Story,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,Low,Done,guoger,guoger,guoger,05/Jan/18 2:30 PM,26/Mar/19 7:18 PM,28/Oct/23 2:20 AM,06/Jan/18 5:30 AM,,0.4.6,,0,,,,,,,,,,guoger,JonathanLevi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzysfr:",,,,Unset,,,,,Unset,,,,,,,,,,,guoger,JonathanLevi,,,,,,,,,,,,,,,,,,"05/Jan/18 2:33 PM;guoger;https://gerrit.hyperledger.org/r/#/c/16589/;;;","06/Jan/18 4:16 AM;JonathanLevi;A nice one Jay. Thank you.;;;",,,,,,,,,,
Include jq in fabric baseimage,FABB-61,27851,,Story,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,Medium,Done,ChristopherFerris,jyellick,jyellick,20/Feb/18 7:05 AM,26/Mar/19 7:17 PM,28/Oct/23 2:20 AM,12/May/18 11:24 AM,,0.4.10,,0,,,,,,,,"The 'jq' tool is very useful, especially for manipulating channel config. As it's small, useful, and would barely affect the size of the baseimage, it would be a nice thing to bake in.

add jq to fabric-tools image.",,ChristopherFerris,jyellick,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzyy53:",,,,Unset,,,,,Unset,,,,,,,,,,,ChristopherFerris,jyellick,sykesm,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,true,"23/Feb/18 2:58 AM;sykesm;No concerns with adding something to the image, but it would be *really* helpful to include the why. In particular, what does it help us do? What experience does it improve? Are there alternatives that we should pursue instead?;;;","23/Feb/18 5:08 AM;jyellick;> what does it help us do? What experience does it improve? Are there alternatives that we should pursue instead?

I certainly should have taken a little more care in documenting this, the rationale is ultimately a little hidden in the message.

> especially for manipulating channel config

Our samples, in particular the ""Extend your first network"", and ""Upgrade your first network"" have a dependency on jq, so they install it as a matter of course in the scripts.  Since the channel config when in human readable form, is a large JSON document, jq is a nice way to manipulate it, either to view small sections of it, or to programatically modify it.  So, in our documentation, we reference 'jq', but must preface it with ""make sure it's installed"", it would be nice if we could assume jq is present in our images to reduce one step in our docs.;;;","11/May/18 9:24 PM;ChristopherFerris;So, for the samples, the CLI container is fabric-tools... I agree that it would be useful to add jq there.;;;","11/May/18 9:48 PM;ChristopherFerris;https://gerrit.hyperledger.org/r/21703;;;",,,,,,,,
support for 32- and 64-bit ARM architectures in fabric-baseimage,FABB-62,31380,,Story,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,Medium,Won't Do,dloghin,dloghin,dloghin,26/Jun/18 11:53 PM,15/Jan/21 4:26 AM,28/Oct/23 2:20 AM,15/Jan/21 4:26 AM,,,,0,Usability,,,,,,,"Building docker images for 32-bit (armv6 and armv7) and 64-bit (aarch64) in fabric-baseimage is currently not supported.

Adding support requires minor changes to the _Makefile_ and to _scripts/common/setup.sh_. In the _Makefile_, replace line 25 with
{code:java}
DOCKER_BASE_arm=armv7/armhf-ubuntu:xenial{code}
because _go env GOARCH_ returns _arm_ on 32-bit ARM systems. Add one more line for 64-bit ARM:
{code:java}
DOCKER_BASE_arm64=arm64v8/ubuntu:xenial{code}
 

In _scripts/common/setup.sh_, the support for ARM architecture can be added by replacing the content of lines 33, 34 and 72 with

 
{code:java}
33: ARCH=`uname -m | sed 's|i686|386|' | sed 's|x86_64|amd64|' | sed 's|armv7l|armv6l|' | sed 's|aarch64|arm64|'`
34: BINTARGETS=""x86_64 ppc64le s390x armv7l armv6l aarch64""
...
72: ARCH=`uname -m | sed 's|i686|x86|' | sed 's|x86_64|x64|' | sed 's|aarch64|arm64|'`
{code}
 

I have tested these changes on Raspberry Pi 3 (armv7l), Jetson Tx1 and Jetson TX2 (both aarch64).

 ",,dloghin,xue35,ZakiAlam,,,,28800,28800,,0%,28800,28800,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,,,,,,,,,,,"1|hzzg93:",,,,No,,,,,Yes,,,,,,,,,,,dloghin,xue35,ZakiAlam,,,,,,,,,,,,,,,,,"28/Jun/18 7:26 PM;dloghin;I have created a patch for it: [https://gerrit.hyperledger.org/r/c/23781/] which seems to fail on s390x due to failure to download some packages (reasons unrelated to my change)
{code:java}
E: Some index files failed to download. They have been ignored, or old ones used instead. The command '/bin/sh -c cd /tmp/scripts && common/packages.sh && common/setup.sh && docker/fixup.sh && common/cleanup.sh && rm -rf /tmp/scripts' returned a non-zero code: 100 Makefile:68: recipe for target 'build/docker/baseimage/.s390x-0.4.9' failed make: *** [build/docker/baseimage/.s390x-0.4.9] Error 100 Build step 'Execute shell' marked build as failure{code};;;","31/Aug/18 2:12 PM;xue35;What is the status of this change? I am now working on the similar thing to build fabric-baseimage on my Raspberry Pi 3b+.;;;","01/Sep/18 5:52 PM;dloghin;I have resubmitted the patch and waiting for review. You can use the patch meanwhile. I have tested it on Raspberry Pi 3 and it's working.;;;",,,,,,,,,
Update to latest version of Go (1.10),FABB-63,27413,,Story,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,High,Done,mastersingh24,mastersingh24,mastersingh24,05/Feb/18 8:13 PM,26/Mar/19 7:17 PM,28/Oct/23 2:20 AM,04/Apr/18 9:37 PM,,0.4.10,,0,hygiene,,,,,,,Should be Go 1.10 for the v1.2 timeframe,,denyeart,harsha544,kchristidis,mastersingh24,troyronda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzx027:",,,,Unset,,,,,Unset,,,,,,,,,,,denyeart,harsha544,kchristidis,mastersingh24,troyronda,,,,,,,,,,,,,,,"08/Mar/18 6:33 AM;denyeart;[~Baha-sk] commented as follows:

{color:#444444}the below packages need to be updated in Fabric to support Go 1.10..{color}
{color:#444444}name = ""{color}[github.com/google/certificate-transparency-go|http://github.com/google/certificate-transparency-go]{color:#444444}""{color}
{color:#444444}name = ""{color}[github.com/miekg/pkcs11|http://github.com/miekg/pkcs11]{color:#444444}""{color};;;","09/Mar/18 7:35 AM;denyeart;See FAB-8483 for additional references to Go 1.9.2.;;;",,,,,,,,,,
Fix duplicate dir issue in testenv Dockerfile,FABB-64,14905,,Story,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,Medium,Done,kchristidis,kchristidis,kchristidis,18/Feb/17 3:56 AM,21/Jul/18 4:16 AM,28/Oct/23 2:20 AM,27/Feb/17 1:03 AM,,,,0,,,,,,,,Both PEER_CFG_PATH and ORDERER_CFG_PATH point to the same location. No need to invoke them both in the mkdir call.,,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzxlen:",,,,Unset,,Sprint 12 - consensus,,,Unset,,,,,,,,,,,kchristidis,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,true,"18/Feb/17 3:59 AM;kchristidis;https://gerrit.hyperledger.org/r/#/c/6175/;;;",,,,,,,,,,,
Upgrade Kafka to V1.0.0,FABB-65,27026,,Story,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,Medium,Done,sanchezl,sanchezl,sanchezl,24/Jan/18 3:01 AM,26/Mar/19 7:18 PM,28/Oct/23 2:20 AM,17/Mar/18 3:20 AM,,0.4.6,,0,,,,,,,,"Our users have been running into Kafka issues that have been fixed in Kafka 0.11. The latest version of Kafka is V1.0.0.
",,sanchezl,,,,,,,,,,,,,,,,,,,,,,,,,FAB-7739,FAB-8363,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzyue7:",,,,Unset,,,,,Unset,,,,,,,,,,,sanchezl,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
update kafka version to 0.10.2.1,FABB-66,26992,,Story,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,Medium,Done,rameshthoomu,rameshthoomu,rameshthoomu,23/Jan/18 3:02 AM,21/Jul/18 4:16 AM,28/Oct/23 2:20 AM,23/Jan/18 6:59 AM,,,,0,fabric-build,,,,,,,update kafka version to 0.10.2.1 to keep in sync with the version specified here [http://hyperledger-fabric.readthedocs.io/en/latest/kafka.html#kafka-protocol-version-compatibility],,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzyu9j:",,,,Unset,,,,,Unset,,,,,,,,,,,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Improvements for CouchDB admin password and volume,FABB-67,30686,,Story,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,Medium,Won't Do,chris.elder,chris.elder,chris.elder,28/May/18 10:49 PM,26/Mar/19 7:27 PM,28/Oct/23 2:20 AM,18/Feb/19 2:40 AM,,,,0,,,,,,,,"Currently, the admin username and password are appended to the docker.ini file in etc/local.d on container start/restart.  This can cause extra [admins] stanzas to appear in the docker.ini.  Also, a default local.ini file is created by CouchDB on initial startup in the /etc directory.   Storing the user name and password in the docker.ini is confusing since there is an [admins] stanza in the local.ini.

It would be better to manage the username and password in the local.ini.

Adding a volume for the /etc would also allow easier backup and maintenance of configuration files across server upgrades.

 ",,chris.elder,denyeart,,,,,,,,,,,,,,,,,,,,,FABB-115,FABB-116,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzwtkv:",,,,Unset,,,,,Unset,,,,,,,,,,,chris.elder,denyeart,,,,,,,,,,,,,,,,,,"18/Feb/19 2:40 AM;denyeart;I'm suggesting a different approach in FABB-115 and FABB-116. See detailed comments in the CR https://gerrit.hyperledger.org/r/#/c/22461/;;;",,,,,,,,,,,
CouchDB password is stored in Clear Text - couchdb side,FABB-69,32035,,Story,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,Medium,Won't Do,ashutosh_kumar,ashutosh_kumar,ashutosh_kumar,19/Jul/18 12:58 AM,15/Jan/21 4:26 AM,28/Oct/23 2:20 AM,15/Jan/21 4:26 AM,0.4.16,Unscheduled,,0,Ledger,,,,,,,Couch DB admin password is stored in ClearText. There should be a mechanism that allows password to be stored in encrypted format.,,ashutosh_kumar,denyeart,,,,,,,,,,,,,,,,,,,,,FAB-3535,FAB-2846,,,,,,,,,,,,,,,,,,Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzj4v:",,,,Unset,Unset,,,,Unset,,,,,,,,,,,ashutosh_kumar,denyeart,,,,,,,,,,,,,,,,,,"19/Jul/18 1:04 AM;denyeart;Item is not Done, need to fix resolution...;;;",,,,,,,,,,,
Create jenkins jobs for fabric-baseimage repo,FABB-70,12737,,Story,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,Medium,Done,rameshthoomu,rameshthoomu,rameshthoomu,25/Sep/16 8:02 AM,21/Jul/18 4:17 AM,28/Oct/23 2:20 AM,30/Sep/16 4:32 AM,,,,0,build-system,,,,,,,"Create verify, merge and release jobs for vagrant and x86 environments. 

as per Greg Haskins, Verify jobs (vagrant and x86) should trigger for every patch set created in gerrit on fabric baseimage repository and merge jobs should triggers on merge event in gerrit once the merge job is successfully execute it should trigger downstream release jobs. 

after successfully executed the downstream release job, it should trigger vagrant release and x86 release jobs and push base images to docker hub.",,rameshthoomu,,,,,,60,60,,0%,60,60,,,,,,,,,,,,,,,,"25/Sep/16 8:02 AM;rameshthoomu;Pasted image at 2016_09_19 01_01 PM.png;https://jira.hyperledger.org/secure/attachment/10092/Pasted+image+at+2016_09_19+01_01+PM.png",,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzxc9b:",,,,Unset,,,,,Unset,,,,,,,,,,,rameshthoomu,,,,,,,,,,,,,,,,,,,"30/Sep/16 4:31 AM;rameshthoomu;changes have been submitted and merged.;;;",,,,,,,,,,,
wget included in fabric-baseimage x86_64 0.4.2 has vulnerability.,FABB-71,26294,,Story,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,Medium,Done,,n-someya,n-someya,28/Dec/17 11:25 AM,26/Mar/19 8:33 PM,28/Oct/23 2:20 AM,26/Mar/19 8:00 PM,Unscheduled,0.4.15,,0,Security,,,,,,,"Now, fabric-baseimage`s wget version is 1.17.1-1ubuntu1.2.  

it has vulnerability (CVE-2017-13090 )

This vulnerability is resolved by 1.17.1-1ubuntu1.3 version.

 

I think this issue will be resolved by rebuild fabric-baseimage ( basejvm and baseos ) with current version ubunt:xenial image.",,mastersingh24,n-someya,,,,,,,,,,,,,,,,,,,,,,,,,,"28/Dec/17 10:53 AM;n-someya;wget_version_check.txt;https://jira.hyperledger.org/secure/attachment/13950/wget_version_check.txt",,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzys3j:",,,,Unset,,,,,Unset,,,,,,,,,,,mastersingh24,n-someya,,,,,,,,,,,,,,,,,,"26/Mar/19 8:00 PM;mastersingh24;wget/now 1.17.1-1ubuntu1.4;;;",,,,,,,,,,,
sync with official couchdb image,FABB-73,27331,,Story,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,Medium,Done,sanchezl,sanchezl,sanchezl,02/Feb/18 2:59 AM,26/Mar/19 7:17 PM,28/Oct/23 2:20 AM,04/May/18 8:21 PM,,0.4.10,,0,couchdb,,,,,,,"Sync the scripts used to build the couchdb images with those available in the official couchdb docker images.

Incorporating the official images also bring in enhancements made to the {{docker-entrypint.sh}} file that include: setting of couch http auth secret via environment variable, pre-flight sanity checks on file permissions, and better handling of signals to ensure clean shutdowns.",,chris.elder,denyeart,muralisr,sanchezl,,,,,,,,,,,,,,,,,,,,,,FABB-115,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzx013:",,,,Unset,,,,,Unset,,,,,,,,,,,chris.elder,denyeart,muralisr,sanchezl,,,,,,,,,,,,,,,,"02/Feb/18 6:40 AM;sanchezl;I intended to use the official images, now that docker hub officially supports multi arch for its official images, but couchdb is still in the process of enabling multiarch support ([https://github.com/apache/couchdb/issues/1121)]. 

Also, there are some outstanding issues running on s390x ([https://issues.apache.org/jira/browse/COUCHDB-3261]). ;;;","04/Feb/18 5:46 AM;denyeart;[~sanchezl] I've changed from Bug to Improvement.  I don't think there is any problem per se with the current scripts, but I agree it would make sense to get in sync with the official images.  Let us know if you think there is a real Bug with the current scripts.

Since we are already post-alpha and may not do a beta, I'm thinking it would make more sense to make these updates at the beginning of 1.2 rather than at the end of 1.1.  If you think otherwise please explain the rationale.;;;","12/Mar/18 3:57 PM;denyeart;Removing v1.2 tag, this item will be prioritized alongside others in the fabric-ledger backlog.;;;","27/Mar/18 2:47 AM;muralisr;[~denyeart] [~sanchezl] would be good to have this lined up for fabric 1.1.1 (the ""su_exec"" in docker-entrypoint.sh is causing issues in certain environments).;;;","04/May/18 10:07 PM;denyeart;https://gerrit.hyperledger.org/r/#/c/17433/;;;","04/May/18 11:32 PM;muralisr;[~denyeart] The fix version should also have v1.1.x correct ?;;;","07/May/18 8:00 PM;denyeart;baseimage is used across releases.  I'm not sure if v1.1.1 will move up to the latest baseimage yet.

I've removed FixVersion v1.0.7, as we don't want to make such large changes to v1.0.x release.;;;","12/Jul/18 11:32 PM;denyeart;This was done in v1.2.0 timeframe, but unfortunately had to be backed out in baseimage 0.4.10 (FAB-10927) due to lack of sufficient testing before the v1.2.0 release date.

The changes will be re-applied using FAB-11132 in v1.3.0 timeframe.;;;",,,,
RFE: s390x builds needed for node-grpc,FABB-74,29763,,Story,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,High,Won't Do,,holocron,holocron,27/Apr/18 10:55 PM,15/Jan/21 4:25 AM,28/Oct/23 2:20 AM,15/Jan/21 4:25 AM,,,,0,fabric-chaincode,s390x,,,,,,"On s390x, when starting a composer business network, the fabric-baseimage is compiling the GRPC binary from source. This takes about 5 minutes to complete:
{quote}root@fabric-peer-org1-20425a:~# docker ps

CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES 

760e880a4566 builder:latest ""/bin/sh -c 'cp -R /…"" 56 seconds ago Up 54 seconds nifty_swartz 

root@fabric-peer-org1-20425a:~# docker logs 760e880a4566

<<< OUTPUT REMOVED >>>

> grpc@1.10.1 install /chaincode/output/node_modules/grpc 

> node-pre-gyp install --fallback-to-build --library=static_library 

node-pre-gyp ERR! Tried to download(403): [https://storage.googleapis.com/grpc-precompiled-binaries/node/grpc/v1.10.1/node-v57-linux-s390x-glibc.tar.gz]

node-pre-gyp ERR! Pre-built binaries not found for grpc@1.10.1 and node@8.9.4 (node-v57 ABI, glibc) (falling back to source compile with node-gyp) 

make: Entering directory '/chaincode/output/node_modules/grpc/build' 

<<< OUTPUT REMOVED >>> 
{quote}
What follows the above is a long compile output where grpc gets built from source.",,holocron,mastersingh24,silliman,zhaochy,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzz7tr:",,,,Unset,,,,,Unset,,,,,,,,,,,holocron,mastersingh24,silliman,zhaochy,,,,,,,,,,,,,,,,"27/Apr/18 10:57 PM;holocron;What does it take to get this built? https://storage.googleapis.com/grpc-precompiled-binaries/node/grpc/v1.10.1/node-v57-linux-s390x-glibc.tar.gz;;;","01/May/18 5:37 PM;mastersingh24;[~holocron] See https://github.com/grpc/grpc-node/issues/296

;;;","01/May/18 5:38 PM;mastersingh24;this is also not a bug ... but marking as an improvement because I agree that we should look at ways to improve this;;;","04/May/18 10:39 PM;zhaochy;[~holocron] this is because can't download the pre-build grpc binary from google, you can specify a "".npmrc"" in your chaincode root folder. And set ""grpc_node_binary_host_mirror=<some mirror>"", then you can get the pre-build mirror directly. no need to compile it any more;;;","04/May/18 10:47 PM;holocron;Thanks [~zhaochy] but this is breaking in IBP EP, I'm not sure the build team can do what you're suggesting but I will pass on the info.;;;",,,,,,,
"eliminate build of Kafka, Zk, CouchDB images in CI",FABB-75,24029,,Story,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,Medium,Done,ChristopherFerris,ChristopherFerris,ChristopherFerris,20/Nov/17 11:26 PM,26/Mar/19 8:33 PM,28/Oct/23 2:20 AM,01/Dec/17 10:07 PM,Unscheduled,,,2,,,,,,,,"We should eliminate the need to (re)build the images for Kafka, Zookeeper, and CouchDB in our CI. It wastes time and resources. 

We could add build of these images to the fabric-baseimage repo build and publish them to GitHub since they don't change often and just pull them for Fabric CI runs.",,ChristopherFerris,kchristidis,mastersingh24,rameshthoomu,troyronda,,,,,,,,,,,,,,,,,,FAB-6941,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzynk7:",,,,Unset,,,,,Unset,,,,,,,,,,,ChristopherFerris,kchristidis,mastersingh24,rameshthoomu,troyronda,,,,,,,,,,,,,,,"21/Nov/17 2:05 AM;ChristopherFerris;[~greg.haskins] [~mastersingh24] thoughts?;;;","21/Nov/17 2:46 AM;rameshthoomu;Will this help https://jira.hyperledger.org/browse/FAB-6941 ?;;;","21/Nov/17 2:49 AM;mastersingh24;[~rameshthoomu] - I don't think it will help, but not sure.  In any case, we don't need to be building these all the time and should only be pushing new images when we make a change to the actual Dockerfile / image build.

 ;;;","21/Nov/17 4:58 AM;ChristopherFerris;These are not mutually exclusive, [~rameshthoomu];;;","22/Nov/17 3:18 AM;kchristidis;https://gerrit.hyperledger.org/r/c/15637/;;;",,,,,,,
Have Vagrant environment cd to fabric dir,FABB-76,13885,,Story,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,Low,Done,kchristidis,kchristidis,kchristidis,23/Dec/16 6:12 AM,21/Jul/18 4:15 AM,28/Oct/23 2:20 AM,24/Dec/16 4:36 AM,,,,0,,,,,,,,Modify `.bashrc` so that it cd's the user automatically to `$GOPATH/src/github.com/hyperledger/fabric/` upon logging in.,,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzxg9z:",,,,Unset,,,,,Unset,,,,,,,,,,,kchristidis,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,true,"24/Dec/16 1:47 AM;kchristidis;https://gerrit.hyperledger.org/r/3507;;;",,,,,,,,,,,
Add proxy configurations for starting couchdb dockers,FABB-77,27004,22495,Sub-task,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,Medium,Done,luomin,luomin,luomin,23/Jan/18 10:53 AM,26/Mar/19 8:33 PM,28/Oct/23 2:20 AM,26/Mar/19 8:11 PM,Unscheduled,,,0,build-system,,,,,,,"Please refer FAB-6683

""make unit-test"" err if not setting proxy in dockerfile",,luomin,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyub3:",,,,,,,,,,,,,,,,,,,,luomin,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade to Go 1.10,FABB-78,27838,27413,Sub-task,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,Medium,Done,harsha544,harsha544,harsha544,19/Feb/18 11:30 PM,26/Mar/19 7:17 PM,28/Oct/23 2:20 AM,13/Mar/18 11:52 PM,,0.4.10,,0,,,,,,,,"Updating go version to 1.10 in fabric-baseimage.

go-plugin feature for ppc64le is disabled in earlier versions of go i.e 1.9.2, which now is also allowed in go-1.10.",,harsha544,troyronda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyy27:",,,,,,,,,,,,,,,,,,,,harsha544,troyronda,,,,,,,,,,,,,,,,,,"19/Feb/18 11:51 PM;harsha544;https://gerrit.hyperledger.org/r/18059;;;",,,,,,,,,,,
Publish v0.4.7,FABB-79,28793,27413,Sub-task,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,High,Done,mastersingh24,mastersingh24,mastersingh24,23/Mar/18 11:09 PM,19/Jul/18 3:50 AM,28/Oct/23 2:20 AM,26/Mar/18 9:51 PM,,,,0,,,,,,,,,,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz2s7:",,,,,,,,,,,,,,,,,,,,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Prepare for 0.4.8 development,FABB-80,28794,27413,Sub-task,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,Medium,Done,mastersingh24,mastersingh24,mastersingh24,23/Mar/18 11:10 PM,19/Jul/18 3:50 AM,28/Oct/23 2:20 AM,26/Mar/18 9:51 PM,,,,0,,,,,,,,,,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz2sf:",,,,,,,,,,,,,,,,,,,,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update ci.properties,FABB-81,28795,27413,Sub-task,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,Medium,Done,rameshthoomu,mastersingh24,mastersingh24,23/Mar/18 11:15 PM,26/Mar/19 7:17 PM,28/Oct/23 2:20 AM,03/Apr/18 1:20 AM,,0.4.10,,0,,,,,,,,,,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz2sn:",,,,,,,,,,,,,,,,,,,,mastersingh24,,,,,,,mergify/bp/release-2.2/pr-4374,dependabot/go_modules/golang.org/x/crypto-0.1.0,release-2.5,release-2.4,dependabot/go_modules/test/performance/golang.org/x/net-0.7.0,dependabot/go_modules/golang.org/x/net-0.7.0,main,dependabot/go_modules/github.com/prometheus/client_golang-1.11.1,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,true,"01/Apr/18 5:54 PM;mastersingh24;https://gerrit.hyperledger.org/r/19921;;;",,,,,,,,,,,
Update ci.properties,FABB-82,28796,27413,Sub-task,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,Medium,Done,rameshthoomu,mastersingh24,mastersingh24,23/Mar/18 11:15 PM,26/Mar/19 7:17 PM,28/Oct/23 2:20 AM,02/Apr/18 6:41 AM,,0.4.10,,0,,,,,,,,,,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz2sv:",,,,,,,,,,,,,,,,,,,,mastersingh24,,,,,,,main,,,,,,,,,,,true,"01/Apr/18 5:57 PM;mastersingh24;https://gerrit.hyperledger.org/r/19925;;;",,,,,,,,,,,
Update Go version in prereqs to 1.10,FABB-83,29068,27413,Sub-task,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,High,Done,mastersingh24,mastersingh24,mastersingh24,01/Apr/18 5:55 PM,26/Mar/19 7:17 PM,28/Oct/23 2:20 AM,04/Apr/18 9:36 PM,,0.4.10,,0,,,,,,,,,,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz46f:",,,,,,,,,,,,,,,,,,,,mastersingh24,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,true,"03/Apr/18 5:20 AM;mastersingh24;https://gerrit.hyperledger.org/r/20085;;;",,,,,,,,,,,
"Install Go 1.10.0 on x86, power and z nodes",FABB-84,28797,27413,Sub-task,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,Medium,Done,rameshthoomu,mastersingh24,mastersingh24,23/Mar/18 11:17 PM,26/Mar/19 7:17 PM,28/Oct/23 2:20 AM,01/Apr/18 5:58 PM,,0.4.10,,0,,,,,,,,"Need to install Go 1.10.0 on all of the Jenkins worker nodes.

Since we are still supporting v1.0.x and v1.1.x, we need to make sure that

Go 1.7.5

Go 1.9.2

Go 1.10.0

are all available on the slaves",,mastersingh24,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz2t3:",,,,,,,,,,,,,,,,,,,,mastersingh24,rameshthoomu,,,,,,,,,,,,,,,,,,"29/Mar/18 10:14 PM;mastersingh24;[~rameshthoomu] - any ETA on this one?;;;","30/Mar/18 1:19 AM;rameshthoomu;x86_64, s390x build nodes are ready with go1.10 along with go1.7.5 and go 1.9.2

https://gerrit.hyperledger.org/r/#/q/FAB-9079

 ;;;",,,,,,,,,,
Use v0.4.7 as BASEIMAGE_RELEASE in build,FABB-85,29092,27413,Sub-task,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,Medium,Done,sykesm,sykesm,sykesm,03/Apr/18 7:12 AM,26/Mar/19 7:17 PM,28/Oct/23 2:20 AM,04/Apr/18 6:04 AM,,0.4.10,,0,,,,,,,,"After updating, numerous vet issues are raised during linting. Most are related to composites literals with unkeyed fields. After disabling that check:
{code:java}
# github.com/hyperledger/fabric/core/chaincode/shim
core/chaincode/shim/shim_test.go:558:6: err declared but not used
core/chaincode/shim/shim_test.go:844:6: err declared but not used
core/chaincode/shim/shim_test.go:883:6: err declared but not used{code}
{code:java}
# github.com/hyperledger/fabric/gossip/service
gossip/service/join_test.go:111: SendByCriteria passes lock by value: service.gossipMock contains github.com/hyperledger/fabric/vendor/github.com/stretchr/testify/mock.Mock contains sync.Mutex
# github.com/hyperledger/fabric/gossip/state
gossip/state/state_test.go:202: assignment copies lock value to m: github.com/hyperledger/fabric/vendor/github.com/stretchr/testify/mock.Mock contains sync.Mutex
gossip/state/state_test.go:215: assignment copies lock value to m: github.com/hyperledger/fabric/vendor/github.com/stretchr/testify/mock.Mock contains sync.Mutex
gossip/state/state_test.go:423: assignment copies lock value to mc.Mock: github.com/hyperledger/fabric/vendor/github.com/stretchr/testify/mock.Mock contains sync.Mutex
gossip/state/state_test.go:633: assignment copies lock value to mc.Mock: github.com/hyperledger/fabric/vendor/github.com/stretchr/testify/mock.Mock contains sync.Mutex{code}
{code:java}
# github.com/hyperledger/fabric/msp/cache
msp/cache/cache_test.go:142: loop variable i captured by func literal{code}
{code:java}
# github.com/hyperledger/fabric/orderer/consensus/kafka
orderer/consensus/kafka/chain_test.go:2124:8: counts declared but not used{code}
{code:java}
# github.com/hyperledger/fabric/discovery/client
discovery/client/client_test.go:520: ChaincodeMetadata passes lock by value: discovery.ccMetadataFetcher contains github.com/hyperledger/fabric/vendor/github.com/stretchr/testify/mock.Mock contains sync.Mutex{code}
 ",,rameshthoomu,sykesm,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz4bj:",,,,,,,,,,,,,,,,,,,,rameshthoomu,sykesm,yacovm,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,true,"03/Apr/18 8:30 AM;yacovm;{code}
func (mdf ccMetadataFetcher) ChaincodeMetadata(channel string, cc string) *chaincode.InstantiatedChaincode {
	return mdf.Called().Get(0).(*chaincode.InstantiatedChaincode)
}
{code}
Oops... that should have had a pointer receiver.

As for the state_test - It should go away if we make the mock.Mock a pointer inside the struct it is embedded in, and replace 
{code}
mc := &mockCommitter{}
{code}
with:
{code}
mc := &mockCommitter{Mock:&mock.Mock{}}
{code}

Side comment: I thought we had vet checks in CI? ;;;","03/Apr/18 9:45 PM;sykesm;https://gerrit.hyperledger.org/r/20103;;;","03/Apr/18 9:48 PM;sykesm;>  Side comment: I thought we had vet checks in CI?

So did I. I'm learning that our CI is incredibly ad-hoc and continues to to diverge from the implied ""make"" that was adopted by fabric. Doc builds and smoke tests and unit tests and whatever else are all independent targets with wrapper scripts. Inevitably some of the basics will get dropped.

At some point I'll dig into the ci machinery to see what's really there and what's not. For now, local builds are popping up tons of lint / vet issues.;;;","10/Apr/18 12:45 AM;rameshthoomu;[~sykesm] as part of unit-tests verification, CI script executes `make linter` and `make unit-tests`. Once https://jira.hyperledger.org/browse/FAB-9426 is fixed, will add make basics-checks and check-deps. Please suggest me if you prefer to add more checks.;;;",,,,,,,,
Exploit updated go test in unit-tests/run.sh,FABB-86,29112,27413,Sub-task,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,Medium,Done,sykesm,sykesm,sykesm,04/Apr/18 2:20 AM,26/Mar/19 7:17 PM,28/Oct/23 2:20 AM,04/Apr/18 8:40 AM,,0.4.10,,0,,,,,,,,Go 1.10 _finally_ allows us to get code coverage reports for multiple packages in a single run. Let's use it and speed up the profile target dramatically.,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz4en:",,,,,,,,,,,,,,,,,,,,sykesm,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,true,"04/Apr/18 5:15 AM;sykesm;https://gerrit.hyperledger.org/r/c/20113/;;;",,,,,,,,,,,
Place cache directory under default build tree when running unit tests,FABB-87,29113,27413,Sub-task,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,Medium,Done,sykesm,sykesm,sykesm,04/Apr/18 2:23 AM,26/Mar/19 7:17 PM,28/Oct/23 2:20 AM,04/Apr/18 9:36 PM,,0.4.10,,0,,,,,,,,"go 1.10 caches many build assets and some test results as well. We can use this to speed up local unit-test execution in the containerized environment.

In general, this should be preferred to using ""make verify"" - which doesn't account for users of modified packages.",,sheehan,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz4ev:",,,,,,,,,,,,,,,,,,,,sheehan,sykesm,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,true,"04/Apr/18 5:16 AM;sykesm;https://gerrit.hyperledger.org/r/c/20115/;;;","06/Apr/18 4:34 AM;sheehan;This is great, thanks! Just an FYI for others, I needed to upgrade to Go 1.10.1 on my macOS system before it worked.;;;",,,,,,,,,,
Upgrade vagrant environment to go 1.10,FABB-88,29783,27413,Sub-task,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,Medium,Done,denyeart,denyeart,denyeart,28/Apr/18 4:30 AM,26/Mar/19 7:17 PM,28/Oct/23 2:20 AM,02/May/18 7:52 PM,,0.4.10,,0,,,,,,,,Upgrade vagrant environment to go 1.10,,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz7z3:",,,,,,,,,,,,,,,,,,,,denyeart,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,true,,,,,,,,,,,,
Upgrade Kafka to V1.0.0 in baseimage,FABB-89,27027,27026,Sub-task,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,Medium,Done,sanchezl,sanchezl,sanchezl,24/Jan/18 3:02 AM,26/Mar/19 7:20 PM,28/Oct/23 2:20 AM,25/Jan/18 6:19 AM,,,,0,,,,,,,,Upgrade Kafka to 1.0.0,,sanchezl,,,,,,,,,,,,,,,,,,,FAB-7063,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyuef:",,,,,,,,,,,,,,,,,,,,sanchezl,,,,,,,mergify/bp/release-2.2/pr-4374,dev,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,true,,,,,,,,,,,,
Updata sarama Kafaka client to v1.15.0,FABB-90,27035,27026,Sub-task,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,Medium,Done,sanchezl,sanchezl,sanchezl,24/Jan/18 10:32 AM,26/Mar/19 7:20 PM,28/Oct/23 2:20 AM,27/Jan/18 2:58 PM,,,,0,kafka,,,,,,,Kafka v1.0.0 is officially supported in sarama v1.0.0.,,kchristidis,sanchezl,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyuf3:",,,,,,,,,,,,,,,,,,,,kchristidis,sanchezl,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,true,"26/Jan/18 2:28 AM;kchristidis;https://gerrit.hyperledger.org/r/c/17127/;;;",,,,,,,,,,,
Update Kafka Protocol Version Compatibility documentation ,FABB-91,27048,27026,Sub-task,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,Medium,Done,sanchezl,sanchezl,sanchezl,25/Jan/18 5:37 AM,26/Mar/19 7:18 PM,28/Oct/23 2:20 AM,17/Mar/18 3:18 AM,,0.4.6,,0,,,,,,,,Update docs to reflect changes made in parent issue and it's children.,,sanchezl,,,,,,,,,,,,,,,,,,,FAB-7712,FAB-8383,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyuhb:",,,,,,,,,,,,,,,,,,,,sanchezl,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Enhance logging on Kafka version mismatch,FABB-92,27050,27026,Sub-task,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,Medium,Done,sanchezl,sanchezl,sanchezl,25/Jan/18 5:47 AM,26/Mar/19 7:20 PM,28/Oct/23 2:20 AM,26/Jan/18 2:28 AM,,,,0,,,,,,,,"When the orderer is set to communicate with Kafka using a protocol version that is newer than the Kafka broker version, the following gets written to the logs:
{code:java}
kafka: insufficient data to decode packet, more bytes expected{code}
This will be enhanced with a secondary critical message:
{code:java}
Unable to decode a Kafka packet. Usually, this indicates that the Kafka.Version specified in the orderer configuration is incorrectly set to a version which is newer than the actual Kafka broker version.{code}",,kchristidis,sanchezl,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyuhr:",,,,,,,,,,,,,,,,,,,,kchristidis,sanchezl,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,true,"26/Jan/18 12:23 AM;kchristidis;https://gerrit.hyperledger.org/r/c/17155/;;;",,,,,,,,,,,
"once 7045 is merged, remove corresponding from fabric repo",FABB-93,24646,24029,Sub-task,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,Medium,Done,ChristopherFerris,ChristopherFerris,ChristopherFerris,01/Dec/17 2:28 AM,26/Mar/19 8:33 PM,28/Oct/23 2:20 AM,10/Dec/17 3:21 AM,Unscheduled,0.4.6,,0,,,,,,,,"once the CR for 7045 has merged, remove the corresponding image build from fabric repo.",,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyp0f:",,,,,,,,,,,,,,,,,,,,ChristopherFerris,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,true,"05/Dec/17 4:27 AM;ChristopherFerris;[~rameshthoomu] we're going to need to adapt the build to pull images from DockerHub (or stable images from Nexus). I modified the Makefile for [https://gerrit.hyperledger.org/r/c/15861/] but the build did not find the ""latest"" tag.;;;",,,,,,,,,,,
update fabric build to align with baseimage published images,FABB-94,24666,24029,Sub-task,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,Medium,Done,rameshthoomu,ChristopherFerris,ChristopherFerris,02/Dec/17 12:30 AM,26/Mar/19 8:33 PM,28/Oct/23 2:20 AM,16/May/18 5:34 AM,Unscheduled,0.4.10,,0,,,,,,,,"update fabric build to align with baseimage published images for kafka, zk, couchdb",,ChristopherFerris,rameshthoomu,,,,,,,,,,,,,,,,,,FABB-22,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyp3b:",,,,,,,,,,,,,,,,,,,,ChristopherFerris,rameshthoomu,,,,,,,,,,,,,,,,,,"16/May/18 5:33 AM;rameshthoomu;In the current process, we update BASEIMAGE_RELEASE version in fabric/Makefile after the baseimage is released.;;;",,,,,,,,,,,
Use a fixed uid:gid in couchdb images.,FABB-95,32557,,Task,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,Medium,Done,,sanchezl,sanchezl,04/Aug/18 12:16 AM,26/Mar/19 8:06 PM,28/Oct/23 2:20 AM,26/Mar/19 8:06 PM,,0.4.8,,0,couchdb,,,,,,,"CouchDB images currently create a {{couchdb}} user and group without specifying an explicit UID or GID. This results in the the next available UID and GID being used. In addition to not being deterministic, the low UID and GID picked almost certainly conflicts with an existing user on the host system.",,mastersingh24,sanchezl,,,,,,,,,,,,,,,,,,,,,FAB-9400,FAB-9508,FABB-1,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzliv:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),mastersingh24,sanchezl,,,,,,,,,,,,,,,,,,"26/Mar/19 8:02 PM;mastersingh24;5984 is used as both the uid and gid now;;;",,,,,,,,,,,
Support arm64v8 in fabric-baseimage,FABB-96,32878,,Task,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,Medium,Won't Do,,xue35,xue35,16/Aug/18 11:01 PM,28/Sep/19 8:24 PM,28/Oct/23 2:20 AM,28/Sep/19 8:24 PM,,,,0,,,,,,,,"Hello,

This is to add arm64v8 support to fabric-baseimage, as part of effort in build fabric on Raspberry Pi 3b+ on opensuse.

Cheers,",,xue35,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzmxr:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),xue35,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Couchdb image creation failed in s390x,FABB-97,33081,,Bug,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,Medium,Done,rameshthoomu,rameshthoomu,rameshthoomu,22/Aug/18 5:29 AM,28/Aug/18 12:45 PM,28/Oct/23 2:20 AM,28/Aug/18 12:45 PM,,,,0,,,,,,,,"Observed below error while building couchdb image in s390x on latest fabric-baseimage commit

{{}}
{code:java}
Unable to locate package libicu55{code}
{{}}",,denyeart,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzznjr:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,rameshthoomu,,,,,,,,,,,,,,,,,,"23/Aug/18 4:01 AM;denyeart;https://gerrit.hyperledger.org/r/#/c/25773/;;;",,,,,,,,,,,
Prepare for 0.4.12 release,FABB-98,33523,,Task,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,Medium,Done,,rameshthoomu,rameshthoomu,06/Sep/18 4:27 AM,18/Sep/18 6:28 AM,28/Oct/23 2:20 AM,18/Sep/18 6:28 AM,,,,0,,,,,,,,Prepare for 0.4.12 release,,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzpnr:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update to golang 1.10.4,FABB-99,33574,,Task,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,Medium,Done,sykesm,sykesm,sykesm,08/Sep/18 1:15 AM,19/Sep/18 1:28 AM,28/Oct/23 2:20 AM,12/Sep/18 2:46 AM,,,,1,,,,,,,,We're currently building and running with 1.10 from 2/2018 and need to move to a current level.,,denyeart,scottz,sykesm,,,,,,,,,,,,,,,,,,,,,,,FAB-12010,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzpwn:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,scottz,sykesm,,,,,,,,,,,,,,,,,"08/Sep/18 1:25 AM;sykesm;https://gerrit.hyperledger.org/r/c/26166/;;;","19/Sep/18 12:12 AM;scottz;What is the specific need for this change? Or is it just to stay current with the latest fixes? [https://golang.org/doc/devel/release.html]    I agree this probably does not carry a high risk this time, being minor releases. Nevertheless, it seems we should restrict ourselves adding new versions by the design cutoff (weeks ago), rather than introducing instability this late in the release cycle as we are trying to get to RC1 - which is even more of a concern if we want to do major upgrade to GO 11.

Is there a list of tools versions like this that should be reviewed for possible upversioning by design team each release by design cutoff date? A Jira task? [~sykesm] [~denyeart] [~bmos299]

 ;;;","19/Sep/18 12:37 AM;sykesm;> Nevertheless, it seems we should restrict ourselves adding new versions by the design cutoff (weeks ago)

Prereq currency has absolutely nothing to do with design. We have a terrible track record of maintaining currency on our prereqs and we need to move from a posture of FUD to one where we have faith in our pipelines and processes to catch regressions.

In this case, go 1.10 is several months old. We want to move to newer versions to pick up migration support for vgo and fixes to byte slice comparisons on s390x.;;;","19/Sep/18 1:28 AM;denyeart;BTW I've added uplift of go, java, and node.js versions to the release checklist at [https://docs.google.com/document/d/12IpQnREUoJEUj2pF2z-0Up55geItFd94fcsbAkPacTg/edit#] .

[~sykesm] I agree we need to improve on staying current on prereqs, including the many vendored packages. Do you have any specific recommendations that have worked well on other projects?  Shall we divide and conquer the list and re-visit every 3 months or so, perhaps at the beginning of the last month of the release?;;;",,,,,,,,
The top-level references packer and is quite stale,FABB-100,33576,,Bug,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,Low,Done,,sykesm,sykesm,08/Sep/18 1:24 AM,18/Sep/18 4:40 AM,28/Oct/23 2:20 AM,12/Sep/18 2:46 AM,,,,0,,,,,,,,The README.md needs some love.,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzpx3:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,,,,,,,,,"08/Sep/18 1:25 AM;sykesm;https://gerrit.hyperledger.org/r/26167;;;",,,,,,,,,,,
Update s390x JDK to 1.8.0_sr5fp21,FABB-101,33666,,Bug,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,Low,Done,sykesm,sykesm,sykesm,12/Sep/18 12:22 AM,25/Sep/18 11:40 PM,28/Oct/23 2:20 AM,25/Sep/18 11:40 PM,,,,0,,,,,,,,"1.8.0_sr5fp16 is no longer listed at 

https://public.dhe.ibm.com/ibmdl/export/pub/systems/cloud/runtimes/java/meta/sdk/linux/s390x/index.yml",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzqg7:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update Makefile to 0.4.12,FABB-102,33709,,Task,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,Medium,Done,rameshthoomu,rameshthoomu,rameshthoomu,13/Sep/18 6:05 AM,18/Sep/18 4:40 AM,28/Oct/23 2:20 AM,18/Sep/18 4:24 AM,,,,0,,,,,,,,Update Makefile to 0.4.12,,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzqnr:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Prepare for 0.4.13 development release,FABB-104,33837,,Task,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,Medium,Done,rameshthoomu,rameshthoomu,rameshthoomu,18/Sep/18 4:33 AM,20/Sep/18 3:28 AM,28/Oct/23 2:20 AM,20/Sep/18 3:28 AM,,,,0,,,,,,,,"Prepare for 0.4.13 development release

Update VERSION to 0.4.13 and make IS_RELEASE false",,denyeart,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzr8v:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,rameshthoomu,,,,,,,,,,,,,,,,,,"20/Sep/18 3:28 AM;denyeart;https://gerrit.hyperledger.org/r/#/c/26354/;;;",,,,,,,,,,,
remove ppc from multiarch script,FABB-106,34078,,Task,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,Medium,Done,ChristopherFerris,ChristopherFerris,ChristopherFerris,26/Sep/18 12:22 AM,26/Sep/18 5:15 AM,28/Oct/23 2:20 AM,26/Sep/18 5:15 AM,,,,0,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwrof:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ChristopherFerris,,,,,,,,,,,,,,,,,,,"26/Sep/18 12:23 AM;ChristopherFerris;https://gerrit.hyperledger.org/r/26560;;;",,,,,,,,,,,
Release baseimage 0.4.13,FABB-107,34490,,Task,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,Medium,Done,denyeart,denyeart,denyeart,09/Oct/18 9:13 AM,09/Oct/18 12:17 PM,28/Oct/23 2:20 AM,09/Oct/18 12:17 PM,,,,0,,,,,,,,Release baseimage 0.4.13,,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzu2v:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update CouchDB to version 2.1.2,FABB-108,34609,,Bug,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,High,Done,,mastersingh24,mastersingh24,12/Oct/18 3:53 AM,26/Mar/19 7:31 PM,28/Oct/23 2:20 AM,26/Mar/19 7:31 PM,,0.4.14,,0,,,,,,,,https://nvd.nist.gov/vuln/detail/CVE-2018-8007,,denyeart,mastersingh24,,,,,,,,,,,,Security issue,,FAB-12424,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzurb:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,mastersingh24,,,,,,,,,,,,,,,,,,"02/Nov/18 11:36 AM;denyeart;[~mastersingh24] master is already on more recent version of CouchDB v2.2.  Do we need to backport prior Fabric releases to use v2.1.2 or v2.2? How far back?

Note that fabric-baseimage does not yet have release branches, so I believe we'll need to invest in that (potential CI updates) before being able to do maintenance in prior release baseimages (as we can't simply move old releases up to latest master baseimage).  We'll also likely need to revisit our baseimage version numbering approach, since we already use third digit releases. 

Actually probably need to decouple the third party images from the baseimage.  Maybe this is the force function to make that happen.;;;",,,,,,,,,,,
prepare for baseimage to 0.4.14,FABB-109,34638,,Task,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,Medium,Done,rameshthoomu,rameshthoomu,rameshthoomu,13/Oct/18 12:44 AM,15/Oct/18 11:10 PM,28/Oct/23 2:20 AM,15/Oct/18 11:10 PM,,,,0,,,,,,,,Update Baseimage to 0.4.14. The new baseimage includes go1.11.1,,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzuw7:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rameshthoomu,,,,,,,,,,,,,,,,,,,"13/Oct/18 12:53 AM;rameshthoomu;https://gerrit.hyperledger.org/r/#/c/26952/;;;",,,,,,,,,,,
Prepare for 0.4.15 release,FABB-110,34639,34638,Sub-task,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,Medium,Duplicate,rameshthoomu,rameshthoomu,rameshthoomu,13/Oct/18 12:45 AM,15/Oct/18 11:10 PM,28/Oct/23 2:20 AM,15/Oct/18 11:10 PM,,,,0,,,,,,,,Update fabricbaseimage release to 0.4.15.,,rameshthoomu,,,,,,,,,,,,,,,,,,FABB-111,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzuwf:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Prepare for next baseimage 0.4.15,FABB-111,34651,,Task,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,Medium,Done,denyeart,denyeart,denyeart,13/Oct/18 11:58 AM,15/Oct/18 11:10 PM,28/Oct/23 2:20 AM,13/Oct/18 9:38 PM,,,,0,,,,,,,,,,denyeart,,,,,,,,,,,,,,,,,,,FABB-110,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzuz3:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,,,,,,,,,,,,,,,,,,,"13/Oct/18 11:59 AM;denyeart;https://gerrit.hyperledger.org/r/#/c/26973/;;;",,,,,,,,,,,
Define the make targets in the fabric-baseimage Makefile.,FABB-112,34970,,Task,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,Medium,Done,sambhavdutt,sambhavdutt,sambhavdutt,30/Oct/18 2:23 PM,02/Dec/18 1:06 AM,28/Oct/23 2:20 AM,02/Dec/18 1:06 AM,,,,0,Makefile,,,,,,,Define all the make targets within the Makefile.,,denyeart,rameshthoomu,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzwqf:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,rameshthoomu,sambhavdutt,,,,,,,,,,,,,,,,,"02/Dec/18 1:06 AM;sambhavdutt;This change has been merged.;;;",,,,,,,,,,,
Update JAVA_VERSION to latest,FABB-113,35872,,Task,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,High,Done,SriramaSharma,rameshthoomu,rameshthoomu,05/Dec/18 2:09 AM,26/Mar/19 7:22 PM,28/Oct/23 2:20 AM,15/Mar/19 9:18 AM,0.4.14,0.4.15,,0,,,,,,,,"{{Got the below error while building Baseimage on ppc64 platform. JAVA_VERSION=1.8.0_sr5fp21}}**

*11:59:30 + JAVA_URL= 11:59:30 + wget -q -U UA_IBM_JAVA_Docker -O /tmp/ibm-java.bin 11:59:30 wget: missing URL 11:59:30 Usage: wget [OPTION]... [URL]... 11:59:30*
{code:java}
11:59:30 + '[' ppc64le = s390x -o ppc64le = ppc64le ']'
11:59:30 + JAVA_VERSION=1.8.0_sr5fp21
11:59:30 + ESUM_s390x=cb7ca73df6a488c3f7cf56ded07b6768161dfdb9af346992d823d0607a56bf72
11:59:30 + ESUM_ppc64le=45f5be093a7aeef49508bee482e7a930454745185e949fdd5aaa48635ba22bfd
11:59:30 + eval 'ESUM=$ESUM_ppc64le'
11:59:30 ++ ESUM=45f5be093a7aeef49508bee482e7a930454745185e949fdd5aaa48635ba22bfd
11:59:30 + BASE_URL=https://public.dhe.ibm.com/ibmdl/export/pub/systems/cloud/runtimes/java/meta/
11:59:30 + YML_FILE=sdk/linux/ppc64le/index.yml
11:59:30 + wget -q -U UA_IBM_JAVA_Docker -O /tmp/index.yml https://public.dhe.ibm.com/ibmdl/export/pub/systems/cloud/runtimes/java/meta//sdk/linux/ppc64le/index.yml
11:59:30 ++ cat /tmp/index.yml
11:59:30 ++ sed -n '/^1.8.0_sr5fp21:/{n;s/\s*uri:\s//p}'
11:59:30 ++ tr -d '\r'
11:59:30 + JAVA_URL=
11:59:30 + wget -q -U UA_IBM_JAVA_Docker -O /tmp/ibm-java.bin
11:59:30 wget: missing URL
11:59:30 Usage: wget [OPTION]... [URL]...{code}",,harsha544,rameshthoomu,SriramaSharma,,,,,,,,,,,,,,,,,,,,,,,FABB-120,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-131,,,No,,Unset,No,,,"1|hzxok6:i",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),harsha544,rameshthoomu,SriramaSharma,,,,,,,,,,,,,,,,,"05/Dec/18 3:26 AM;harsha544;[~rameshthoomu] [~SriramaSharma] has already worked on a PR that fixes above issue as such re-assigning this task to him.;;;","05/Dec/18 3:43 AM;SriramaSharma;The latest JDK fix pack is 1.8.0_sr5fp26. Updating the jvm download url to point to latest fix pack will fix the build issue. Working on a patch. Will push it for review soon.;;;","06/Dec/18 3:58 PM;SriramaSharma;Have submitted CR 27953 -  https://gerrit.hyperledger.org/r/#/c/27953/;;;","07/Dec/18 12:54 AM;rameshthoomu;I tried to build ppc64le baseimage and thirdparty images on 0.4.14 Release Version. But I see the job is failing to build ppc baseimage.  The fix has been placed to fix this issue but we have to release a new baseimage version for all the platforms and test it across the repositories which is an impossible task before the release.

[~SriramaSharma] [~harsha544] [~denyeart] FYI;;;","20/Feb/19 10:42 AM;harsha544;[~rameshthoomu] This fixes the issue you reported, can you re-trigger the fabric-baseimage build job on ppc64le as well please ?;;;",,,,,,,
Add ppc64le to multiarch - fabric-baseimage,FABB-114,35890,,Task,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,Medium,Won't Do,SriramaSharma,harsha544,harsha544,05/Dec/18 8:44 PM,28/Sep/19 8:24 PM,28/Oct/23 2:20 AM,28/Sep/19 8:24 PM,,,,0,,,,,,,,,,harsha544,SriramaSharma,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i001tj:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),harsha544,SriramaSharma,,,,,,,,,,,,,,,,,,"06/Dec/18 4:06 PM;SriramaSharma;CR - https://gerrit.hyperledger.org/r/27980;;;",,,,,,,,,,,
Sync couchdb docker-entrypoint.sh with official couchdb image,FABB-115,37739,,Story,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,Medium,Done,denyeart,denyeart,denyeart,18/Feb/19 2:15 AM,28/Mar/19 12:09 AM,28/Oct/23 2:20 AM,16/Mar/19 11:23 PM,,0.4.15,,0,,,,,,,,"Official docker-entrypoint.sh was adopted in FABB-73. Since that time there have been a few improvements in the official couchdb docker-entrypoint.sh:

[https://github.com/apache/couchdb-docker/commits/master/dev/docker-entrypoint.sh]

We need to sync these improvements into Fabric couchdb image.",,denyeart,,,,,,,,,,,,,,,,,,,,,,FABB-73,,,FABB-67,FABB-124,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00c5b:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,,,,,,,,,,,,,,,,,,,"18/Feb/19 2:49 AM;denyeart;https://gerrit.hyperledger.org/r/#/c/29345/;;;",,,,,,,,,,,
Fabric Couch database image must allow changes to couch configuration INI file,FABB-116,35231,,Story,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,Medium,Done,denyeart,rhegde,rhegde,09/Nov/18 1:53 AM,28/Mar/19 12:09 AM,28/Oct/23 2:20 AM,28/Mar/19 12:09 AM,0.4.16,0.4.15,,0,,,,,,,," 

couch database provides mechanism to do a configuration change via [http://docs.couchdb.org/en/2.2.0/config/intro.html#configuration-files]

Docker host volume mounting to following path /opt/couchdb/etc/ causes the container to exit with following error
{code:java}
/docker-entrypoint-1.sh: line 24: /opt/couchdb/etc/local.d/docker.ini: No such file or directory{code}
 

As currently allowed by couch database container to persist data of couch database to a host volume mount, the same must be allowed in the couch docker image to map the configuration folder to allow updating the *.ini files.

For example - compaction setting in couch database is been freezed as part of configuration file used during creation of docker image. This cannot be changed and hence restrict the configuration modifying capability provided by couch database.",,denyeart,mastersingh24,rhegde,,,,,,,,,,,,,,,,,,,,,,,FABB-67,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzz1ak:c",,,,Unset,Unset,Next Items- Ledger,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,mastersingh24,rhegde,,,,,,,,,,,,,,,,,"09/Nov/18 2:31 AM;mastersingh24;You should mount your host volume to 
{noformat}
/opt/couchdb/etc/default.d/{noformat};;;","12/Nov/18 10:11 AM;rhegde;I did the same for couch database v1.0.6 image -

 
 # Created  a folder named couchdb01.xxx.cit.clsnet_etc_default.d
 # added the following host volume mount to compose

      - ./mount/couchdb01.xxx.cit.clsnet_etc_default.d:/opt/couchdb/etc/default.d/

However couch database instance exits with following error.
{code:java}
onfig,{set,\""admins\"",\""clsnet\"",\""-pbkdf2-57349ae9c7a83bfc2e5c476d359bee98614c4b58,0a36556009421f380d875a3c37152eb2,10\"",true,nil}]}}}}}},{couch_app,start,[normal,[]]}}}""}
Crash dump was written to: erl_crash.dump
Kernel pid terminated (application_controller) ({application_start_failure,couch,{{shutdown,{failed_to_start_child,couch_primary_services,{shutdown,{failed_to_start_child,couch_server,{{{badmatch,{e
 {code}
 

I did also try adding local.d following however with the same exit status.

./mount/couchdb01.xxx.cit.clsnet_etc_local.d:/opt/couchdb/etc/local.d/

Following is folder content after couch database was exited. 
{code:java}
couchdb01.xxx.cit.clsnet_etc_default.d:
couchdb01.xxx.cit.clsnet_etc_local.d:
docker.ini
{code}
 

Can you please suggest. ;;;","02/Feb/19 5:53 AM;Clayton Sims;Chris can you take a look as this one.   [~denyeart] fyi;;;","15/Feb/19 6:29 AM;rhegde;[~Clayton Sims] - can we have this change back ported to v.1.2 release.;;;","16/Feb/19 1:01 AM;denyeart;CouchDB official docker image [https://github.com/apache/couchdb-docker] recommends all user overrides to CouchDB container config should go in directory /opt/couchdb/etc/local.d.

CR [https://gerrit.hyperledger.org/r/#/c/29346/] adds volume:

VOLUME [""/opt/couchdb/etc/local.d""]

Users can then mount a host directory to maintain config overrides as follows (in docker compose syntax):
{code:java}
volumes:
 - <HOST_DIRECTORY>:/opt/couchdb/etc/local.d{code}
 

[~rhegde] Please test in your environment and confirm this will work for you.;;;","08/Mar/19 10:55 PM;denyeart;[~rhegde] Haven't heard back from you... we'd like you to confirm the approach before it is merged.;;;","11/Mar/19 8:11 AM;rhegde;Hello [~denyeart] - I am not able to verify it at this point of time as the couch database fabric image version  (0.4.14) does not stand-up with data persistence enabled. This looks like a reported issue as of now via FAB-13475.

Data persistence is enabled in our complete setup and would like both the issues to be fixed in the next release of couch database docker image version release.;;;","11/Mar/19 10:03 PM;denyeart;[~rhegde] Ok, we will investigate FAB-13475 today.

Note on the original request... I found out that you don't need any changes from Fabric. You can mount a directory to local.d even with the existing couchdb images, for example:


{code:java}
docker run --publish 5984:5984 --name couchdb -e COUCHDB_USER=admin -e COUCHDB_PASSWORD=password -v /local_host_dir/couchdb_data:/opt/couchdb/data -v /local_host_dir/couchdb_config:/opt/couchdb/etc/local.d -d hyperledger/fabric-couchdb
{code}

 
 ;;;","15/Mar/19 8:53 AM;rhegde;Hello Dave,

If I add the couch database host volume mount, the peer fails to connect to couch database.
{code:java}
./mount/config:/opt/couchdb/etc/local.d/{code}
 Here is the error from peer
{code:java}
2019-03-14 23:40:56.400 UTC [couchdb] VerifyCouchConfig -> DEBU 054 Entering VerifyCouchConfig()
2019-03-14 23:40:56.400 UTC [couchdb] handleRequest -> DEBU 055 Entering handleRequest()  method=GET  url=http://couchdb01xxx.cit.clsnet:5984/
2019-03-14 23:40:56.400 UTC [couchdb] handleRequest -> DEBU 056 HTTP Request: GET / HTTP/1.1 | Host: couchdb01xxx.cit.clsnet:5984 | User-Agent: Go-http-client/1.1 | Accept: multipart/related | Accept-Encoding: gzip |  |
2019-03-14 23:40:56.401 UTC [couchdb] handleRequest -> WARN 057 Retrying couchdb request in 125ms. Attempt:1  Error:Get http://couchdb01xxx.cit.clsnet:5984/: dial tcp 172.18.0.8:5984: connect: connection refused{code}
 Following is added to local.d/log.ini which take effect in couch database log
{code:java}
[log]
level = debug{code}
  This takes effect to debug level log.
{code:java}
[debug] 2019-03-14T23:45:58.189672Z nonode@nohost <0.241.0> -------- Fragmentation for database `shards/80000000-9fffffff/public_lscc.1552606171` is 0%, estimated space for compaction is 4240 bytes.
[debug] 2019-03-14T23:45:58.190897Z nonode@nohost <0.241.0> -------- Fragmentation for database `shards/80000000-9fffffff/public_public.1552606171` is 0%, estimated space for compaction is 8374 bytes.{code}
  Execution of CURL on the host port also get's refused.
{code:java}
[rhegde@dusd1devrhap040 mount]$ curl -X GET http://dusd1devrhap040.dev.local:40002/
curl: (7) Failed connect to dusd1devrhap040.dev.local:40002; Connection refused{code}
  Here is the docker ps status
{code:java}
[rhegde@dusd1devrhap040 mount]$ docker ps
CONTAINER ID        IMAGE                                   COMMAND                  CREATED             STATUS              PORTS                                              NAMES
1fbabf399e9c        ibmblockchain/fabric-couchdb:0.4.10     ""tini -- /docker-e...""   11 minutes ago      Up 11 minutes       4369/tcp, 9100/tcp, 0.0.0.0:40002->5984/tcp        {code}
 Do I need to add anything in *.ini file as the documentation say only the item added to *.ini gets overridden?;;;","16/Mar/19 4:15 PM;denyeart;[~rhegde]  If I add an ini file within host directory mounted to local.d, with the following content:
{code:java}
[log]
 level = debug{code}
it works for me. CouchDB comes up in debug mode and I am able to connect at port 5984 like usual.

Please try to connect at port 5984 and provide your couchdb log.;;;","26/Mar/19 12:21 AM;rhegde;Hello David - my comment (https://jira.hyperledger.org/browse/FABB-116?focusedCommentId=58167&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-58167) is for v0.4.10 and have not tried this change by merging the same to 0.4.14.

Is your last comment - 16th March also for 0.4.10?;;;","26/Mar/19 4:42 AM;denyeart;[~rhegde] You're right - it is not working on 0.4.10.  It is working on later releases, specifically 0.4.14 (October 2018 release) and 0.4.15 (March 2019 release).

I believe you also need FAB-13475 (merged in FABB-115), which is also in 0.4.15.  So I would suggest test with Fabric's CouchDB image 0.4.15 using the -v volume mounting from my prior comment.;;;"
Failed to start fabric-couchdb:0.4.14 when data persistent is enable,FABB-118,38082,,Bug,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,Medium,Won't Do,,zealzeng,zealzeng,28/Feb/19 7:08 PM,15/Jan/21 4:26 AM,28/Oct/23 2:20 AM,15/Jan/21 4:26 AM,,,,0,,,,,,,,"Upgrade to fabric 1.4 and failed to start fabric-couchdb:0.4.14, compose yaml is below(Or refer to attachment  [^docker-compose-couchdb1.yaml]).

=================================

{code:java}
#
# Copyright IBM Corp All Rights Reserved
#
# SPDX-License-Identifier: Apache-2.0
#
version: '2'

networks:
  basic:

services:
  couchdb1:
    container_name: couchdb
    image: hyperledger/fabric-couchdb:0.4.14
    #image: couchdb:2.2.0
    # Populate the COUCHDB_USER and COUCHDB_PASSWORD to set an admin user and password
    # for CouchDB.  This will prevent CouchDB from operating in an ""Admin Party"" mode.
    environment:
      - COUCHDB_USER=admin
      - COUCHDB_PASSWORD=adminpwd
      - NODENAME=192.168.31.86
      - ERL_FLAGS=-setcookie ""brumbrum"" -kernel inet_dist_listen_min 9100 -kernel inet_dist_listen_max 9100
      - COUCHDB_SECRET=1234567890
    ports:
      - 5984:5984
      #- 5986:5986
      - 4369:4369
      - 9100:9100
    volumes:
      - ./couchdb1/data:/opt/couchdb/data
    #  - ./couchdb1/etc/local.ini:/opt/couchdb/etc/local.ini
    #  - ./couchdb1/etc/vm.args:/opt/couchdb/etc/vm.args
    #networks:
    #  - basic

{code}


=================================

The error log：

{code:java}
[info] 2019-02-28T02:26:30.379926Z couchdb@192.168.31.86 <0.202.0> -------- Starting couch_sup
[notice] 2019-02-28T02:26:30.397423Z couchdb@192.168.31.86 <0.89.0> -------- config: [features] pluggable-storage-engines set to true for reason nil
[notice] 2019-02-28T02:26:30.439754Z couchdb@192.168.31.86 <0.89.0> -------- config: [couchdb] uuid set to 0a37eff60e00b95df0e4f0c5e70c4ade for reason nil
[info] 2019-02-28T02:26:30.582824Z couchdb@192.168.31.86 <0.207.0> -------- open_result error \{not_found,no_db_file} for _users
[error] 2019-02-28T02:26:30.584696Z couchdb@192.168.31.86 <0.250.0> -------- Could not open file ./data/_users.couch: permission denied
[info] 2019-02-28T02:26:30.584850Z couchdb@192.168.31.86 <0.207.0> -------- open_result error \{error,eacces} for _users
[error] 2019-02-28T02:26:30.585260Z couchdb@192.168.31.86 <0.242.0> -------- CRASH REPORT Process (<0.242.0>) with 1 neighbors exited with reason: no match of right hand value \{error,eacces} at couch_auth_cache:ensure_users_db_exists/2(line:447) <= couch_auth_cache:open_auth_db/0(line:419) <= couch_auth_cache:reinit_cache/1(line:282) <= couch_auth_cache:init/1(line:164) <= gen_server:init_it/6(line:328) <= proc_lib:init_p_do_apply/3(line:240) at gen_server:init_it/6(line:352) <= proc_lib:init_p_do_apply/3(line:240); initial_call: \{couch_auth_cache,init,['Argument__1']}, ancestors: [couch_secondary_services,couch_sup,<0.201.0>], messages: [], links: [<0.210.0>,<0.244.0>], dictionary: [], trap_exit: true, status: running, heap_size: 987, stack_size: 27, reductions: 366
[error] 2019-02-28T02:26:30.586193Z couchdb@192.168.31.86 <0.201.0> -------- Error starting Apache CouchDB:
{code}

While using official image couchdb:2.2.0, it works fine.

 

 ",,eujungkim,zealzeng,,,,,,,,,,,,,,,,,,,,,,,,,,"28/Feb/19 7:08 PM;zealzeng;docker-compose-couchdb1.yaml;https://jira.hyperledger.org/secure/attachment/16884/docker-compose-couchdb1.yaml","28/Feb/19 7:07 PM;zealzeng;docker-compose-couchdb1.yaml;https://jira.hyperledger.org/secure/attachment/16885/docker-compose-couchdb1.yaml",,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00dxb:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),eujungkim,zealzeng,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update JAVA_VERSION to 1.8.0_sr5fp6  in jvm.sh script,FABB-120,38474,,Bug,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,High,Done,SriramaSharma,rameshthoomu,rameshthoomu,15/Mar/19 4:41 AM,19/Mar/19 8:36 PM,28/Oct/23 2:20 AM,19/Mar/19 8:36 PM,,,,0,ci-blocker,,,,,,,"CI is failing in fabric-baseimage due to
{code:java}
JAVA_URL={code}
causing
{code:java}
wget -q -U UA_IBM_JAVA_Docker -O /tmp/ibm-java.bin

wget: missing URL
{code}
e.g. at [https://jenkins.hyperledger.org/job/fabric-baseimage-verify-docker-s390x/324/console]

Looks like it is caused by:

[https://gerrit.hyperledger.org/r/#/c/27953/2/scripts/common/jvm.sh@19]

 

*Action*: Update JAVA_VERSION to 1.8.0_sr5fp6 in jvm.sh script

[https://github.com/hyperledger/fabric-baseimage/blob/master/scripts/common/jvm.sh#L19]

the actual URL has different version in it:

[https://public.dhe.ibm.com/ibmdl/export/pub/systems/cloud/runtimes/java/meta/sdk/linux/s390x/index.yml]

Note 1.8.0_sr5fp6 vs 1.8.0_sr5fp26",,denyeart,rameshthoomu,SriramaSharma,,,,,,,,,,,,,,,,,,,,FABB-113,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00g5r:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,rameshthoomu,SriramaSharma,,,,,,,,,,,,,,,,,"15/Mar/19 9:05 AM;denyeart;[~SriramaSharma] [~harsha544] can you take a look?;;;","15/Mar/19 7:44 PM;SriramaSharma;As part of fix to FAB-113,  we had updated Java version to 1.8.0_sr5fp26 which was the latest version at that time available on both s390x and ppc64le. However, now it seems the java team has released further versions of fp27 and the recent fp30 and removed references to fp26. Hence the issue.

Updating the Java version from fp26 to latest fp30 should fix the error. ;;;","19/Mar/19 8:35 PM;denyeart;https://gerrit.hyperledger.org/r/#/c/30117/;;;",,,,,,,,,
Release baseimage 0.4.15,FABB-121,38532,,Task,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,Medium,Done,denyeart,denyeart,denyeart,16/Mar/19 11:28 PM,26/Mar/19 7:32 PM,28/Oct/23 2:20 AM,26/Mar/19 7:32 PM,,0.4.15,,0,,,,,,,,"Update Go to 1.11.5
Update Java to 1.8.0_sr5fp30
Update CouchDB docker-entrypoint.sh per official CouchDB image.",,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00ghb:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Prepare for baseimage 0.4.16,FABB-122,38533,,Task,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,Medium,Done,denyeart,denyeart,denyeart,16/Mar/19 11:30 PM,26/Mar/19 7:29 PM,28/Oct/23 2:20 AM,26/Mar/19 7:29 PM,,0.4.16,,0,,,,,,,,,,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00ghj:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Base dependent images on debian:stretch-slim,FABB-123,38739,,Task,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,Medium,Done,mastersingh24,mastersingh24,mastersingh24,26/Mar/19 7:10 PM,20/Sep/19 7:57 PM,28/Oct/23 2:20 AM,18/Aug/19 10:31 PM,,0.4.16,,0,,,,,,,,"kakfa, zookeeper and couchdb are currently based on baseimage.
This results in almost 1.5 GB images.
We also use different bases depending on the OS arch.
",,mastersingh24,,,,,,,,,,,,,,,,,,FAB-10852,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00hov:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),mastersingh24,,,,,,,,,,,,,,,,,,,"26/Mar/19 8:30 PM;mastersingh24;https://gerrit.hyperledger.org/r/30407;;;",,,,,,,,,,,
CouchDB image fails to start with host mounted volume ,FABB-124,36457,,Bug,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,Medium,Done,mastersingh24,david_dornseifer,david_dornseifer,03/Jan/19 11:40 PM,31/Mar/19 2:20 AM,28/Oct/23 2:20 AM,31/Mar/19 2:20 AM,,0.4.15,,0,,,,,,,,"Starting CouchDB with baseimage 0.4.14 leads to an similar error like FAB-5700 

```
[info] 2018-12-03T16:26:07.810189Z nonode@nohost <0.7.0> -------- Application ioq started on node nonode@nohost
16:26:07
[info] 2018-12-03T16:26:07.810415Z nonode@nohost <0.7.0> -------- Application mochiweb started on node nonode@nohost
16:26:07
[info] 2018-12-03T16:26:07.825982Z nonode@nohost <0.195.0> -------- Apache CouchDB 2.2.0 is starting.
16:26:07
[info] 2018-12-03T16:26:07.826088Z nonode@nohost <0.196.0> -------- Starting couch_sup
16:26:07
[notice] 2018-12-03T16:26:07.879259Z nonode@nohost <0.83.0> -------- config: [features] pluggable-storage-engines set to true for reason nil
16:26:07
[notice] 2018-12-03T16:26:07.895040Z nonode@nohost <0.83.0> -------- config: [admins] admin set to -***-e13364f20d49eff6b5342cdc85283eb724765801,84efef2c2225351393ca4a3aa421036c,1000 for reason nil
16:26:07
[notice] 2018-12-03T16:26:07.925751Z nonode@nohost <0.83.0> -------- config: [couchdb] uuid set to 959b32608d14054d3822bf1112810adb for reason nil
16:26:07
[info] 2018-12-03T16:26:07.988125Z nonode@nohost <0.201.0> -------- open_result error \{not_found,no_db_file} for _users
16:26:07
[error] 2018-12-03T16:26:07.992056Z nonode@nohost <0.246.0> -------- Could not open file ./data/_users.couch: permission denied
16:26:07
[info] 2018-12-03T16:26:07.992268Z nonode@nohost <0.201.0> -------- open_result error \{error,eacces} for _users
16:26:07
[error] 2018-12-03T16:26:07.992698Z nonode@nohost <0.238.0> -------- CRASH REPORT Process (<0.238.0>) with 1 neighbors exited with reason: no match of right hand value \{error,eacces} at couch_auth_cache:ensure_users_db_exists/2(line:447) <= couch_auth_cache:open_auth_db/0(line:419) <= couch_auth_cache:reinit_cache/1(line:282) <= couch_auth_cache:init/1(line:164) <= gen_server:init_it/6(line:328)
16:26:07
[error] 2018-12-03T16:26:07.993262Z nonode@nohost <0.195.0> -------- Error starting Apache CouchDB:
16:26:07
{error,\{shutdown,{failed_to_start_child,couch_secondary_services,{shutdown,{failed_to_start_child,auth_cache,{{badmatch,{error,eacces}},[\{couch_auth_cache,ensure_users_db_exists,2,[{file,""src/couch_auth_cache.erl""},\{line,447}]},\{couch_auth_cache,open_auth_db,0,[{file,""src/couch_auth_cache.erl""},\{line,419}]},\{couch_auth_cache,reinit_cache,1,[{file,""src/couch_auth_cache.erl""},\{line,282}]},{couch

16:26:07
[error] 2018-12-03T16:26:07.995968Z nonode@nohost <0.205.0> -------- Supervisor couch_secondary_services had child auth_cache started with couch_auth_cache:start_link() at undefined exit with reason no match of right hand value \{error,eacces} at couch_auth_cache:ensure_users_db_exists/2(line:447) <= couch_auth_cache:open_auth_db/0(line:419) <= couch_auth_cache:reinit_cache/1(line:282) <= couch_aut
16:26:07
[error] 2018-12-03T16:26:07.996242Z nonode@nohost <0.196.0> -------- Supervisor couch_sup had child couch_secondary_services started with couch_secondary_sup:start_link() at undefined exit with reason \{shutdown,{failed_to_start_child,auth_cache,{{badmatch,{error,eacces}},[\{couch_auth_cache,ensure_users_db_exists,2,[{file,""src/couch_auth_cache.erl""},\{line,447}]},{couch_auth_cache,open_auth_db,0,[{f
16:26:07
[error] 2018-12-03T16:26:07.996531Z nonode@nohost <0.194.0> -------- CRASH REPORT Process (<0.194.0>) with 0 neighbors exited with reason: \{{shutdown,{failed_to_start_child,couch_secondary_services,{shutdown,{failed_to_start_child,auth_cache,{{badmatch,{error,eacces}},[\{couch_auth_cache,ensure_users_db_exists,2,[{file,""src/couch_auth_cache.erl""},\{line,447}]},{couch_auth_cache,open_auth_db,0,[{fil
16:26:07
[info] 2018-12-03T16:26:07.996811Z nonode@nohost <0.7.0> -------- Application couch exited with reason: \{{shutdown,{failed_to_start_child,couch_secondary_services,{shutdown,{failed_to_start_child,auth_cache,{{badmatch,{error,eacces}},[\{couch_auth_cache,ensure_users_db_exists,2,[{file,""src/couch_auth_cache.erl""},\{line,447}]},\{couch_auth_cache,open_auth_db,0,[{file,""src/couch_auth_cache.erl""},{line,
16:26:08
[os_mon] memory supervisor port (memsup): Erlang has closed
16:26:08
[os_mon] cpu supervisor port (cpu_sup): Erlang has closed
16:26:09
{""Kernel pid terminated"",application_controller,""\{application_start_failure,couch,{{shutdown,{failed_to_start_child,couch_secondary_services,{shutdown,{failed_to_start_child,auth_cache,{{badmatch,{error,eacces}},[{couch_auth_cache,e
```",,david_dornseifer,denyeart,eujungkim,guolidong,mastersingh24,rhegde,,,,,,,,,,,,,,,,,FABB-115,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i004sn:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),david_dornseifer,denyeart,eujungkim,guolidong,mastersingh24,rhegde,,,,,,,,,,,,,,"05/Jan/19 11:40 PM;mastersingh24;[~david_dornseifer] Can you provide a few more details?

1) Host operating system
2) Did you create the host volume prior to starting the container or are you letting Docker create the volume for you?

I actually created a directory on my host prior to actually starting the container and mounting the volume and had no issues on both Linux and macOS;;;","07/Jan/19 7:13 PM;david_dornseifer;Hi Gari, 

1) Amazon AMI with docker running as root. 

2) No, usually I just mount the volume and docker / CouchDB takes care of creating the folders usually with `root:root` permissions. 

If I create the `couchdb` folder and add `o+w` permissions (chown -R o+w) CouchDB can use the folder and creates all artefacts in there with `5984:5984` (external view). Internally, inside the docker container the files are owned by `couchdb:couchdb`.;;;","12/Feb/19 9:18 PM;guolidong;same issue

1) ubuntu has problem, macOS is ok

2)yaml:

couchdb0:
 container_name: couchdb0
 image: fabric-couchdb:amd64-0.4.13
 environment:
 - COUCHDB_USER=admin
 - COUCHDB_PASSWORD=asdf
 # Comment/Uncomment the port mapping if you want to hide/expose the CouchDB service,
 # for example map it to utilize Fauxton User Interface in dev environments.
 ports:
 - ""7184:5984""
 volumes:
 - ~/couchdb0/opt/couchdb/data:/opt/couchdb/data

 ;;;","05/Mar/19 6:57 PM;eujungkim;same issue

1) azure aks

2) I used a persistent volume mount claim with storageClassName ""managed-premium""

`- image: hyperledger/fabric-couchdb:amd64-0.4.14
  name: peer0-org1-couchdb
  ports:
  - containerPort: 5984
  env:
  - name: COUCHDB_USER
    value: admin
  - name: COUCHDB_PASSWORD
    value: password
  volumeMounts:
  - mountPath: /opt/couchdb/data
    name: peer0-org1-couchdb`

about persistent volume claim

`kind: PersistentVolumeClaim
metadata:
  name: peer0-org1-couchdb
spec:
  accessModes:
  - ReadWriteOnce
  storageClassName: managed-premium
`;;;","13/Mar/19 12:47 AM;denyeart; 

I believe this is a permission issue in some environments that will get resolved by moving to the official CouchDB docker docker-entrypoint.sh, which is FABB-115.

Could I ask somebody that is hitting this issue to try the official docker image and see if it resolves the container start issue in your environment?
{code:java}
docker pull couchdb:2.2
{code}
If that works, then we could proceed with FABB-115.

[~rhegde] [~eujungkim] [~guolidong] [~david_dornseifer];;;","14/Mar/19 5:25 PM;eujungkim;[~denyeart]
I tried the official docker image that you recommended and the container start issue was resolved.
My environments are like below.
- azure aks
- image : hyperledger/fabric-peer:1.4.0
- image: couchdb:2.2
- storage class name in persistent volume claim : managed-premium (azure disk)

I hope my work are helpful to you.
;;;",,,,,,
Bump versions for 3rd party images,FABB-125,40902,,Task,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,High,Done,mastersingh24,mastersingh24,mastersingh24,03/Jul/19 6:22 PM,18/Aug/19 10:31 PM,28/Oct/23 2:20 AM,18/Aug/19 10:31 PM,,0.4.16,,0,,,,,,,,"Kafka -> 1.0.2
CouchDB -> 2.3.1
Zookeeper -> 3.4.14",,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00t64:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Release version 0.4.16,FABB-126,41855,,Task,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,Medium,Done,mastersingh24,mastersingh24,mastersingh24,18/Aug/19 10:33 PM,04/Oct/19 7:25 AM,28/Oct/23 2:20 AM,04/Oct/19 7:25 AM,,0.4.16,,0,,,,,,,,,,mastersingh24,,,,,,,,,,,,,,,FABB-127,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00xc3:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),mastersingh24,,,,,,,,,,,,,,,,,,,"28/Sep/19 8:24 PM;mastersingh24;https://gerrit.hyperledger.org/r/c/fabric-baseimage/+/33805;;;",,,,,,,,,,,
Prepare for version 0.4.17,FABB-127,41856,,Task,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,Medium,Done,denyeart,mastersingh24,mastersingh24,18/Aug/19 10:34 PM,15/Oct/19 7:13 PM,28/Oct/23 2:20 AM,15/Oct/19 7:13 PM,,0.4.17,,0,,,,,,,,,,denyeart,mastersingh24,,,,,,,,,,,,,FABB-126,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00xcb:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,mastersingh24,,,,,,,,,,,,,,,,,,"07/Oct/19 5:34 AM;denyeart;https://gerrit.hyperledger.org/r/#/c/fabric-baseimage/+/33878/;;;",,,,,,,,,,,
Update to Node 8.16.1,FABB-128,42525,,Task,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,High,Done,mastersingh24,mastersingh24,mastersingh24,27/Sep/19 9:54 PM,12/Nov/19 3:49 AM,28/Oct/23 2:20 AM,03/Oct/19 5:31 PM,,0.4.16,,0,,,,,,,,,,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i0110b:",,Yes,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),mastersingh24,,,,,,,,,,,,,,,,,,,"28/Sep/19 8:18 PM;mastersingh24;https://gerrit.hyperledger.org/r/c/fabric-baseimage/+/33804;;;",,,,,,,,,,,
Use latest official adoptopenjdk images,FABB-129,42543,,Task,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,High,Done,mastersingh24,mastersingh24,mastersingh24,28/Sep/19 9:05 PM,25/Oct/19 7:10 PM,28/Oct/23 2:20 AM,25/Oct/19 7:10 PM,,0.4.16,,0,,,,,,,,,,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i01137:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Release Baseimage 0.4.17,FABB-130,43046,,Task,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,Medium,Done,btl5037,btl5037,btl5037,31/Oct/19 12:11 AM,13/Jan/20 1:43 PM,28/Oct/23 2:20 AM,13/Jan/20 1:43 PM,,,,0,,,,,,,,,,btl5037,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i0136z:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),btl5037,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Prepare for release 0.4.18,FABB-131,43069,,Task,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,Medium,Done,btl5037,btl5037,btl5037,01/Nov/19 10:54 PM,13/Jan/20 1:43 PM,28/Oct/23 2:20 AM,13/Jan/20 1:43 PM,,,,0,,,,,,,,,,btl5037,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00n2e:8rp",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),btl5037,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Enable GOCACHE,FABB-132,43071,,Task,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,Medium,Done,btl5037,btl5037,btl5037,02/Nov/19 2:37 AM,13/Jan/20 1:43 PM,28/Oct/23 2:20 AM,13/Jan/20 1:43 PM,,,,0,,,,,,,,,,btl5037,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i013az:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),btl5037,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Release Baseimage 0.4.18,FABB-133,43072,,Task,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,Medium,Done,btl5037,btl5037,btl5037,02/Nov/19 2:38 AM,13/Jan/20 1:42 PM,28/Oct/23 2:20 AM,13/Jan/20 1:42 PM,,,,0,,,,,,,,,,btl5037,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i013b7:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),btl5037,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Prepare for release 0.4.19,FABB-134,43073,,Task,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,Medium,Done,btl5037,btl5037,btl5037,02/Nov/19 2:38 AM,13/Jan/20 1:43 PM,28/Oct/23 2:20 AM,13/Jan/20 1:42 PM,,,,0,,,,,,,,,,btl5037,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i013bf:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),btl5037,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade to go 1.12.13,FABB-135,43190,,Task,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,Medium,Done,btl5037,btl5037,btl5037,07/Nov/19 5:29 AM,13/Jan/20 1:43 PM,28/Oct/23 2:20 AM,13/Jan/20 1:42 PM,,,,0,,,,,,,,,,btl5037,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i013yz:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),btl5037,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Release Baseimage 0.4.19,FABB-136,43191,,Task,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,Medium,Done,btl5037,btl5037,btl5037,07/Nov/19 5:30 AM,13/Jan/20 1:43 PM,28/Oct/23 2:20 AM,13/Jan/20 1:42 PM,,,,0,,,,,,,,,,btl5037,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i013z7:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),btl5037,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Prepare for release 0.4.19,FABB-137,43192,,Task,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,Medium,Done,btl5037,btl5037,btl5037,07/Nov/19 5:32 AM,13/Jan/20 1:43 PM,28/Oct/23 2:20 AM,13/Jan/20 1:42 PM,,,,0,,,,,,,,,,btl5037,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i013zf:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),btl5037,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Create AZP YAML Files,FABB-138,43400,,Task,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,Medium,Done,btl5037,btl5037,btl5037,21/Nov/19 12:54 AM,13/Jan/20 1:43 PM,28/Oct/23 2:20 AM,13/Jan/20 1:43 PM,,,,0,,,,,,,,,,btl5037,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i0150b:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),btl5037,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Update baseimage with ""nodejs 8.11.2"" and ""sync with official couchdb image"" changes ",FABB-139,32113,,Task,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,Medium,Duplicate,,rameshthoomu,rameshthoomu,22/Jul/18 11:17 PM,27/Nov/19 2:13 AM,28/Oct/23 2:20 AM,23/Jul/18 5:58 AM,,,,0,,,,,,,,"Reverted below commits in fabric-baseimage master branch to push the latest baseimage with s390x:debian/stretch.

Update baseimage with the below changes

[https://github.com/hyperledger/fabric-baseimage/commit/ed3fce101f1a0e5ec52ca66b8beb994091c3cf82]

https://github.com/hyperledger/fabric-baseimage/commit/b4da46c7b6a1e75f897d3260b018c5aaaa248a70",,rameshthoomu,,,,,,,,,,,,,,FABB-1,,,,FABB-1,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzjdz:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rameshthoomu,,,,,,,,,,,,,,,,,,,"23/Jul/18 5:57 AM;rameshthoomu;https://gerrit.hyperledger.org/r/#/c/24427/;;;",,,,,,,,,,,
couchdb image cannot be built on raspberry pi,FABB-140,33586,,Story,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,Highest,Done,SashaPESIC,sang,sang,08/Sep/18 7:38 AM,27/Nov/19 2:16 AM,28/Oct/23 2:20 AM,14/Sep/18 12:16 AM,,,,0,,,,,,,,"When I was building couchdb on raspberry pi, I had the following error reported. It seems for some reason the amd64 C compiler was used. I tried to find the cc command somewhere in the source code, but was not able to find it.

==> b64url (compile)
Compiled src/b64url.erl
Compiling /usr/src/couchdb/src/b64url/c_src/b64url.c
cc: error: unrecognized command line option '-m64'
ERROR: compile failed while processing /usr/src/couchdb/src/b64url: rebar_abort
make: *** [couch] Error 1
Makefile:67: recipe for target 'couch' failed
The command '/bin/sh -c buildDeps=' apt-transport-https gcc g++ erlang-dev libcurl4-openssl-dev libicu-dev libmozjs185-dev make ' && apt-get update -y -qq && apt-get install -y --no-install-recommends $buildDeps && cd /usr/src && mkdir couchdb && curl -fSL https://archive.apache.org/dist/couchdb/source/$COUCHDB_VERSION/apache-couchdb-$COUCHDB_VERSION.tar.gz -o couchdb.tar.gz && curl -fSL https://archive.apache.org/dist/couchdb/source/$COUCHDB_VERSION/apache-couchdb-$COUCHDB_VERSION.tar.gz.asc -o couchdb.tar.gz.asc && gpg --batch --verify couchdb.tar.gz.asc couchdb.tar.gz && tar -xzf couchdb.tar.gz -C couchdb --strip-components=1 && cd couchdb && ./configure --disable-docs && make release && mv /usr/src/couchdb/rel/couchdb /opt/ && apt-get purge -y --auto-remove $buildDeps && rm -rf /var/lib/apt/lists/* /usr/src/couchdb* && mkdir /opt/couchdb/data && chown -R couchdb:couchdb /opt/couchdb' returned a non-zero code: 2
Makefile:131: recipe for target 'build/image/couchdb/.dummy' failed
make: *** [build/image/couchdb/.dummy] Error 2",,sang,SashaPESIC,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzpyn:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sang,SashaPESIC,,,,,,,,,,,,,,,,,,"11/Sep/18 2:18 AM;SashaPESIC;Hello [~sang],

The same thing happened to me before. I am on to figuring it out. This is now marked in progress. ;;;","11/Sep/18 3:58 AM;SashaPESIC;To [~sang].

The current Dockerfile in fabric-baseimage/images/couchdb has some issue with the rebar version supplied. This happens because couchdb ships with an old version of rebar (an erlang dependency manager) that has a [bug |https://github.com/rebar/rebar/issues/536] regarding arm64. Downloading the [latest version of rebar|https://github.com/rebar/rebar/wiki/rebar] and placing it in bin/rebar (relative to the couchdb sources) fixes the problem. The latest working image I have built can be found [here|https://hub.docker.com/r/pesicsasa/fabric-couchdb/tags/]. 

Steps to build the couchdb for aarch64:

1. pull hyperledger baseimage from [here|https://hub.docker.com/r/pesicsasa/fabric-baseimage/] and tag it appropriately. 
2. git clone https://github.com/hyperledger/fabric-baseimage.git
3. Go to fabric-baseimage/images/couchdb and open Dockerfile.in 
4. Now you will have to add some lines to the Dockerfile.in. Find the line 

{code:bash}
&& ./configure --disable-docs \
{code}
and add the following lines after it:

{code:bash}
&& mv bin/rebar bin/rebar-orig \
&& wget https://github.com/rebar/rebar/wiki/rebar -O bin/rebar \
&& chmod +x bin/rebar \
{code}


5. Go back to fabric-baseimage folder and run make couchdb (you may have to retag hyperledger/fabric-baseimage)
6. You are done!




;;;","13/Sep/18 1:57 PM;sang;Thank you! This helps a lot. For some reason, my pi tells me wget not found, although I could use it when I test it manually. But I modified the code a little bit and managed to get couchdb successfully built.

The following is the code that I used (also added after && ./configure --disable-docs \ ):

&& chmod +w bin/rebar \
 && mv bin/rebar bin/rebar-orig \
 && cd bin \
 && curl -fSL [https://github.com/rebar/rebar/wiki/rebar] --output rebar \
 && chmod +x rebar \
 && cd .. \;;;","14/Sep/18 12:09 AM;SashaPESIC;[~sang],

Yes. If you take a look at the Dockerfile you will see that the wget is installed somewhere above - but then also purged. So when you try to use wget here, the container cannot find it - thus, you just have to install it again, and purge if you want after the command completes. ;;;",,,,,,,,
Update baseimage to use CouchDB 2.2.0,FABB-141,34248,,Task,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,Medium,Done,chris.elder,denyeart,denyeart,02/Oct/18 3:31 AM,27/Nov/19 2:16 AM,28/Oct/23 2:20 AM,03/Oct/18 11:18 PM,,,,0,,,,,,,,Update baseimage to use CouchDB 2.2.0,,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzztcn:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
remove baseos from fabric-baseimage repo,FABB-142,43422,,Bug,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,Medium,Won't Do,,rameshthoomu,rameshthoomu,22/Nov/19 6:34 AM,15/Jan/21 4:25 AM,28/Oct/23 2:20 AM,15/Jan/21 4:25 AM,,,,0,,,,,,,,remove all the occurrences of baseos from fabric-baseimage repository. Baseos docker image configuration is now moved to fabric repository https://github.com/hyperledger/fabric/tree/master/images/baseos,,rameshthoomu,ymlbright,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwqrk:5iwr4r7",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rameshthoomu,ymlbright,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Undo FAB-9369 and re-enable the go cache,FABB-143,36041,,Bug,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,Medium,Won't Do,,sykesm,sykesm,11/Dec/18 2:47 AM,27/Nov/19 2:16 AM,28/Oct/23 2:20 AM,20/Jan/19 11:53 PM,,,,0,,,,,,,,"As of 1.11, the go cache feature is required to use golang.org/x/tools/go/packages. The {{packages}} package is pretty much required by any tools that wish to do AST processing in the world of go modules.

Additionally, as of go 1.12, the GOCACHE=off directive will no longer be honored.

Also, it's unclear why the cache was ever disabled at all instead of pointing to a proper location.

This was discovered while trying to run tools in the buildenv container that rely on the new {{packages}} package.",,mastersingh24,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i002fz:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),mastersingh24,sykesm,,,,,,,,,,,,,,,,,,"20/Jan/19 11:52 PM;mastersingh24;This is no longer an issue as we no longer use fabric-baseimage.  buildenv is now Alpine-based and does not leverage baseimage at all.;;;","20/Jan/19 11:53 PM;mastersingh24;No need to do this anymore per my comment so marking as won't do (for lack of a better option);;;",,,,,,,,,,
"After rebuild orderer, sometimes report ""Orderer capability v1_1 is required but not supported: Orderer capability v1_1 is required but not supported""",FABB-144,40175,,Bug,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,Low,Won't Do,hexiaohu,hexiaohu,hexiaohu,28/May/19 6:33 PM,15/Jan/21 4:26 AM,28/Oct/23 2:20 AM,15/Jan/21 4:26 AM,,,,0,Capabilities,OrdererCapabilities,,,,,,"Build orderer based on fabric 1.4, and then run orderer with genesis block, 
genesis block configured with Orderer Capabilitites with ""V1_1:true""

Capabilities:
    Global: &ChannelCapabilities
        V1_1: true
    Orderer: &OrdererCapabilities
        V1_1: true
    Application: &ApplicationCapabilities
        V1_1: true

After start Orderer, there is always report this error:

2019-03-19 01:59:24.657 UTC [orderer.commmon.multichannel] checkResourcesOrPanic -> PANI 007 [channel byfn-sys-channel] config requires unsupported orderer capabilities: Orderer capability v1_1 is required but not supported: Orderer capability v1_1 is required but not supported
panic: [channel byfn-sys-channel] config requires unsupported orderer capabilities: Orderer capability v1_1 is required but not supported: Orderer capability v1_1 is required but not supported

goroutine 1 [running]:
github.com/hyperledger/fabric/vendor/go.uber.org/zap/zapcore.(*CheckedEntry).Write(0xc0004b9970, 0x0, 0x0, 0x0)
    /go/src/github.com/hyperledger/fabric/vendor/go.uber.org/zap/zapcore/entry.go:229 +0x515
github.com/hyperledger/fabric/vendor/go.uber.org/zap.(*SugaredLogger).log(0xc00000e0e8, 0x4, 0x1329a97, 0xf, 0xc000545740, 0x2, 0x2, 0x0, 0x0, 0x0)
    /go/src/github.com/hyperledger/fabric/vendor/go.uber.org/zap/sugar.go:234 +0xf6
github.com/hyperledger/fabric/vendor/go.uber.org/zap.(*SugaredLogger).Panicf(0xc00000e0e8, 0x1329a97, 0xf, 0xc000545740, 0x2, 0x2)
    /go/src/github.com/hyperledger/fabric/vendor/go.uber.org/zap/sugar.go:159 +0x79
github.com/hyperledger/fabric/common/flogging.(*FabricLogger).Panicf(0xc00000e0f0, 0x1329a97, 0xf, 0xc000545740, 0x2, 0x2)
    /go/src/github.com/hyperledger/fabric/common/flogging/zap.go:74 +0x60
github.com/hyperledger/fabric/orderer/common/multichannel.checkResourcesOrPanic(0x1444220, 0xc00034a0c0)
    /go/src/github.com/hyperledger/fabric/orderer/common/multichannel/registrar.go:57 +0x14d
github.com/hyperledger/fabric/orderer/common/multichannel.(*Registrar).newLedgerResources(0xc0001e65a0, 0xc00028b4f0, 0xc00028b4f0)
    /go/src/github.com/hyperledger/fabric/orderer/common/multichannel/registrar.go:263 +0x2f1
github.com/hyperledger/fabric/orderer/common/multichannel.(*Registrar).Initialize(0xc0001e65a0, 0xc0000cad20)
    /go/src/github.com/hyperledger/fabric/orderer/common/multichannel/registrar.go:147 +0x242
github.com/hyperledger/fabric/orderer/common/server.initializeMultichannelRegistrar(0xc000079400, 0xc000097080, 0x0, 0xc0001e6510, 0x1d58900, 0xc000097240, 0x2, 0x2, 0xc000097250, 0x2, ...)
    /go/src/github.com/hyperledger/fabric/orderer/common/server/main.go:414 +0x2ec
github.com/hyperledger/fabric/orderer/common/server.Start(0x1321ea0, 0x5, 0xc000348000)
    /go/src/github.com/hyperledger/fabric/orderer/common/server/main.go:142 +0x52d
github.com/hyperledger/fabric/orderer/common/server.Main()
    /go/src/github.com/hyperledger/fabric/orderer/common/server/main.go:87 +0x1ce
main.main()
    /go/src/github.com/hyperledger/fabric/orderer/main.go:15 +0x20",,hexiaohu,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,"29/May/19 11:35 AM;hexiaohu;configtx.yaml;https://jira.hyperledger.org/secure/attachment/17272/configtx.yaml","29/May/19 11:35 AM;hexiaohu;genesis.block;https://jira.hyperledger.org/secure/attachment/17273/genesis.block",,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00pf0:",,,,Unset,Unset,,"1: This issue does not happen when debug
2: This issue does not always happen, it like intermittent issue, for example, some times it happened in docker image build on MacOS, while it does not happened in docker image build on Linux, with the same version of source codes
3: If config the Capabilities with lowercase 'v', like 'v1_1', can reproduce the same issue
4: Encounter this issue on Fabric 1.4.0, does not tired other version till now",,Unset,,,,,,Unset,,Unset,,(Please add usage information),hexiaohu,jyellick,,,,,,,,,,,,,,,,,,"29/May/19 11:36 AM;hexiaohu;When the issue happen, attached ""configtx.yaml"" is used to generate genesis.block, which is also attached.;;;","06/Jun/19 5:18 AM;jyellick;If I had to make a guess, I'd think this has something to do with the yaml parsing of configtx.yaml.  Fabric currently uses an outdated version of viper which preserves the case of nested keys when parsing.  Newer versions of viper change this behavior and lower case all keys.  Is it possible that you are somehow picking up a newer version of dependencies depending on the build or platform?;;;",,,,,,,,,,
"NPM version in chaincode container is outdated (5.6.0), and as a result does not run `prepare` script correctly.",FABB-145,41421,,Bug,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,High,Done,mastersingh24,RyanOuyang,RyanOuyang,25/Jul/19 5:43 AM,27/Nov/19 2:16 AM,28/Oct/23 2:20 AM,27/Aug/19 2:32 AM,,,,1,chaincode,Docker,node,npm,,,,"Due to the old NPM version, the `prepare` bug described in this stackoverflow [post|https://stackoverflow.com/questions/52766731/npm-v6-4-1-not-running-prepare-inside-docker] and in this Github [issue|https://github.com/npm/npm/issues/17346] exists within the chaincode container. As a result, `prepare` doesn't run as root and any compile procedures may not work correctly. This is especially problematic when trying to compile/deploy chaincode that depends on a module in another git repo (that needs to be compiled). This bug has been fixed in newer versions of NPM.

Current workaround is to include a prestart script in the `package.json` like so:

 

""prestart"": ""npm config set unsafe-perm true""

 

But this brings about security risks and should be avoided.",,ayang99,mastersingh24,RyanOuyang,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00v1f:",,,,Unset,Unset,,"Create a Typescript or Javascript contract that uses the NPM script ""prepare"" (in the package.json) and try to instantiate it. The prepare script will not run.",,Unset,,,,,,Unset,,Unset,,(Please add usage information),ayang99,mastersingh24,RyanOuyang,,,,,release-1.4,,,,,,,,,,,true,"26/Aug/19 11:17 PM;mastersingh24;Does the latest version of *npm* fix this issue?  It's unclear where this is actually fixed.

In any case, you can update npm when we build the ccenv image;;;","26/Aug/19 11:26 PM;mastersingh24;we should actually be updating to the latest npm anyway for other reasons;;;","26/Aug/19 11:26 PM;mastersingh24;we should actually be updating to the latest npm anyway for other reasons;;;","26/Aug/19 11:31 PM;mastersingh24;https://gerrit.hyperledger.org/r/c/fabric/+/33180;;;",,,,,,,,
Update Go to 1.12.17,FABB-146,44404,,Task,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,Medium,Done,,btl5037,btl5037,25/Feb/20 6:05 AM,19/Jul/20 1:47 PM,28/Oct/23 2:20 AM,19/Jul/20 1:47 PM,,,,0,,,,,,,,,,btl5037,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i019gr:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),btl5037,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Cannot commit block to the ledger due to unexpected Previous block hash,FABB-147,44650,,Bug,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,High,Invalid: Environment Issue,,magnocav,magnocav,25/Mar/20 2:56 PM,26/Apr/20 10:41 AM,28/Oct/23 2:20 AM,27/Mar/20 9:12 PM,,,,0,,,,,,,,"Impossible instantiate chaincode due to PANIC ERROR on peer: Unexpected Previous Block Hash

Using Fabric 1.4.3 and CouchDB 0.4.17
I have created a network with 1 orderer and 1 peer.


After launch the network, when I try to instantiate a simple chaincode (copied from fabric-samples), PEER0 crashes with message ""panic: Cannot commit block to the ledger due to unexpected Previous block hash. Expected PreviousHash = [80918636fbc5ad943432a6c582652f085bd818dc9439a277b086cb253e6500b1], PreviousHash referred in the latest block= [0c9994f74e27a916ce5ea994ae721dc7ac7ed661b33dd1ffeea48b84621596a9]""

I registered this problem at:

[https://lists.hyperledger.org/g/fabric/topic/fabric_impossible/72008121?p=,,,20,0,0,0::recentpostdate%2Fsticky,,,20,2,0,72008121]

Please, see attachments in this issue.

I hope any help to solve this issue.",,denyeart,magnocav,,,,,,,,,,,,,,,,,,,,,,,,,,"25/Mar/20 2:49 PM;magnocav;configtx.yaml;https://jira.hyperledger.org/secure/attachment/18188/configtx.yaml","25/Mar/20 2:49 PM;magnocav;configtxGenesisDev.sh;https://jira.hyperledger.org/secure/attachment/18187/configtxGenesisDev.sh","25/Mar/20 2:49 PM;magnocav;configtxGenesisSys.sh;https://jira.hyperledger.org/secure/attachment/18186/configtxGenesisSys.sh","25/Mar/20 3:53 PM;magnocav;core.yaml;https://jira.hyperledger.org/secure/attachment/18194/core.yaml","25/Mar/20 2:49 PM;magnocav;crypto-config.yaml;https://jira.hyperledger.org/secure/attachment/18185/crypto-config.yaml","25/Mar/20 2:48 PM;magnocav;docker-compose.yaml;https://jira.hyperledger.org/secure/attachment/18189/docker-compose.yaml","25/Mar/20 2:48 PM;magnocav;fabriclogs_cliguarani.odt;https://jira.hyperledger.org/secure/attachment/18190/fabriclogs_cliguarani.odt","25/Mar/20 2:48 PM;magnocav;fabriclogs_orderer.odt;https://jira.hyperledger.org/secure/attachment/18191/fabriclogs_orderer.odt","25/Mar/20 2:48 PM;magnocav;fabriclogs_peer0.guarani.odt;https://jira.hyperledger.org/secure/attachment/18192/fabriclogs_peer0.guarani.odt","25/Mar/20 3:52 PM;magnocav;orderer.yaml;https://jira.hyperledger.org/secure/attachment/18193/orderer.yaml",,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i01a8r:",,,,Unset,Unset,,"At CLI docker prompt, I did this command sequence:

1) $> peer channel create -o $ORDERERNAME -c $CHANNELNAME -f $CONFIGTXFOLDER/devchannel.tx --tls --cafile=$ORDERER_TLSCACERT

Result in Cli: UTC [cli.common] readBlock -> INFO 04e Received block: 0

2) $> peer channel join -o $ORDERERNAME -b $CONFIGTXFOLDER/devgenesis.block --tls --cafile=$ORDERER_TLSCACERT

Result in Cli: UTC [channelCmd] executeJoin -> INFO 03e Successfully submitted proposal to join channel

3) $> peer chaincode install -n $CHCODENAME -p $CHCODEPATH -v $CHCODEVERSION -l node --tls --cafile $ADMIN_PEER_TLSCACERT

Result in Cli: UTC [chaincodeCmd] install -> INFO 04a Installed remotely response:<status:200 payload:""OK"" > 

4) $> peer chaincode instantiate -C $CHANNELNAME -n $CHCODENAME -v $CHCODEVERSION -o $ORDERERNAME -c '{""Args"":[""init"",""a"",""100"",""b"",""200""]}'  -P ""AND ('GuaraniMSP.admin')"" --tls --cafile $ORDERER_TLSCACERT --tlsRootCertFiles $CORE_PEER_TLS_ROOTCERT_FILE

Result in PEER0:
UTC [gossip.state] commitBlock -> ERRO 87e Got error while committing(unexpected Previous block hash. Expected PreviousHash = [c87a4b77e4c790f78b0c2e3c97d97de9907a09daf5dc2f039c7e3b3e1440f5d1], PreviousHash referred in the latest block= [953e31164a84d6d1b9b446130d1e7d5af8ede818284e8fa7c315b2125b519e38]
github.com/hyperledger/fabric/common/ledger/blkstorage/fsblkstorage.(*blockfileMgr).addBlock
[...]
UTC [gossip.state] deliverPayloads -> PANI 87f Cannot commit block to the ledger due to unexpected Previous block hash. Expected PreviousHash = [c87a4b77e4c790f78b0c2e3c97d97de9907a09daf5dc2f039c7e3b3e1440f5d1], PreviousHash referred in the latest block= [953e31164a84d6d1b9b446130d1e7d5af8ede818284e8fa7c315b2125b519e38]
github.com/hyperledger/fabric/common/ledger/blkstorage/fsblkstorage.(*blockfileMgr).addBlock
[...]
/opt/go/src/runtime/asm_amd64.s:1333
panic: Cannot commit block to the ledger due to unexpected Previous block hash. Expected PreviousHash = [c87a4b77e4c790f78b0c2e3c97d97de9907a09daf5dc2f039c7e3b3e1440f5d1], PreviousHash referred in the latest block= [953e31164a84d6d1b9b446130d1e7d5af8ede818284e8fa7c315b2125b519e38]
github.com/hyperledger/fabric/common/ledger/blkstorage/fsblkstorage.(*blockfileMgr).addBlock
[...]",,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,magnocav,,,,,,,,,,,,,,,,,,"25/Mar/20 2:58 PM;magnocav;In this same network configuration, I receive another error when I try to update ANCHOR PEER.

Problems after peer channel update: PANI 044 Cannot commit block to the ledger due to config currently at sequence 0, cannot validate config at sequence 2 Impossible instantiate chaincode due to PANIC ERROR on peer: unexpected Previous block hash
[https://lists.hyperledger.org/g/fabric/topic/hyperledger_fabric_problems/71893667?p=,,,50,0,0,0::recentpostdate%2Fsticky,,,50,2,0,71893667]

 ;;;","27/Mar/20 9:12 PM;denyeart;This error is evidence of an inconsistency in the environment, not a bug. For example see 
https://stackoverflow.com/questions/52562232/hyperledger-fabric-on-aws-peers-get-crash-after-anchor-peer-update

Please clear out the environment to ensure there are no artifacts from prior trials.;;;","28/Mar/20 2:52 AM;magnocav;I opened a request at [https://stackoverflow.com/questions/60890884/hyperledger-fabric-how-to-clear-out-the-dev-environment-after-each-blockchain] to detail the problems with this situation. If somebody may help, I appreciate.;;;","26/Apr/20 10:41 AM;magnocav;Hello!

I was using the genesis block from the system fabric network, loaded on the Ordener (from `orderer.yaml` or `docker-compose.yaml`), to join the channel, and that was wrong.

The source of my error was that I was using the system genesis block instead of using the genesis block generated in the `peer channel create` command.

 

I understood that the `peer channel create` command uses a transaction block model (.tx) as input, and as an output it generates a genesis block (.block) that must be used as input in the `peer channel join` command.

 

The correct sequence is:

Step 1) `$> peer channel create -o $ORDERERNAME -c $CHANNELNAME -f $CONFIGTXFOLDER/devchanneltrack.tx --outputBlock $CHANNELFOLDER/devchannelgen.block --tls --cafile=$ORDERER_TLSCACERT`

Step 2) `$> peer channel join -o $ORDERERNAME -b $CHANNELFOLDER/devchannelgen.block --tls --cafile=$ORDERER_TLSCACERT`

 

I made corrections to the scripts, and now I can join the channel. Then I did the installation and instantiation of new chaincodes on the channel, and they worked perfectly.

 

Thanks,

Magno Cavalcante

.;;;",,,,,,,,
Remove delayed_commits=true from couchdb configs,FABB-151,45271,,Bug,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,Medium,Done,denyeart,manish-sethi,manish-sethi,16/Jun/20 4:08 AM,25/Jun/20 9:10 PM,28/Oct/23 2:20 AM,25/Jun/20 9:10 PM,,,,0,,,,,,,,"We use `delayed_commits=true` in couchdb config for better performance and then at the block commit time, we invoke `_ensure_full_commit`. This arrangement was under the assumption that the `_ensure_full_commit` `fsyncs` the data as per the couchdb docs - [https://docs.couchdb.org/en/2.3.1/api/database/compact.html#db-ensure-full-commit.] However, after talking to couchdb folks, we figured that this was true only until couchdb 1.x. Since then, the `_ensure_full_commit` is more or less a fake call as far as `fsync` is concerned.

 

We need to configure remove `delayed_commits=true` from the couchdb configs and remove the unnecessary calls to `_ensure_full_commit`. Also, in couchdb 3.0, these have been removed - [https://github.com/apache/couchdb/issues/2165]",,btl5037,denyeart,manish-sethi,Senthil1,,,,,,,,,,,,,,,,,,FAB-17999,,,,,,"17/Jun/20 2:50 AM;Senthil1;Screenshot 2020-06-16 at 11.18.24 PM.png;https://jira.hyperledger.org/secure/attachment/18355/Screenshot+2020-06-16+at+11.18.24+PM.png","23/Jun/20 11:07 AM;Senthil1;Screenshot 2020-06-23 at 7.34.24 AM.png;https://jira.hyperledger.org/secure/attachment/18401/Screenshot+2020-06-23+at+7.34.24+AM.png",,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i01d3f:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),btl5037,denyeart,manish-sethi,Senthil1,,,,,,,,,,,,,,,,"16/Jun/20 4:51 AM;denyeart;We don't recommend the fabric built CouchDB docker images anymore, since CouchDB makes available their own docker images.
But given the severity of the issue, we should probably update the old fabric built CouchDB image, here's the location:
https://github.com/hyperledger/fabric-baseimage/blob/master/images/couchdb/20-fabric-default.ini#L16;;;","16/Jun/20 5:19 AM;manish-sethi;Yes, moreover, we need to remove unnecessary calls to _ensure_full_commit;;;","16/Jun/20 10:26 PM;denyeart;https://github.com/hyperledger/fabric-baseimage/pull/10;;;","17/Jun/20 2:52 AM;Senthil1;[~manish-sethi] [~denyeart]  If I had been a bit more careful and paid more attention, this could have been found out during the performance benchmarking. I should have questioned why the ensure full commit is taking much lesser time (< 1 msec which is greater than a ReadDoc()). 

!Screenshot 2020-06-16 at 11.18.24 PM.png!;;;","23/Jun/20 7:00 AM;manish-sethi;[~Senthil1] - Another way of not having a miss on these important things is to correlate the systems stats with the high level applications stats. I typically prefer to capture, in addition to cpu and memory, the `disk stats` explicitly and try to make sense of this.;;;","23/Jun/20 11:07 AM;Senthil1;[~manish-sethi] I capture every possible metric from the server. I did compare the disk writes and shown this graph in one of the talk. I need to recheck this number with the ensure full commit off. Also, instead of computing the average, I need to plot the time series.  !Screenshot 2020-06-23 at 7.34.24 AM.png!;;;","23/Jun/20 11:22 AM;Senthil1;[~manish-sethi] Just read this in our code comment – _C__ouchDB syncs states to disk periodically (every 1 second)_. Not sure whether it is correct. Anyway, as the tools records per second usage, even the time-series data might not be able to capture this.;;;",,,,,
The tag :latest was lost after the last update fabric-ccenv in docker registry,FABB-152,45592,,Bug,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,Highest,Invalid: Works as Expected,,ViacheslavGolovnin,ViacheslavGolovnin,12/Jul/20 9:56 PM,22/Jul/20 3:56 AM,28/Oct/23 2:20 AM,22/Jul/20 3:56 AM,,,,1,,,,,,,,"* 
The tag :latest was lost after the last update fabric-ccenv docker registry and all deploy scipts is broken because command ""docker pull hyperledger/fabric-ccenv"" not working now.
 * 
 
[https://hub.docker.com/r/hyperledger/fabric-ccenv]",,ahkhystrix,btl5037,salmandabbakuti,ViacheslavGolovnin,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i01egz:",,,,Unset,Unset,,docker pull hyperledger/fabric-ccenv,,Unset,,,,,,Unset,,Unset,,(Please add usage information),ahkhystrix,btl5037,salmandabbakuti,ViacheslavGolovnin,,,,,,,,,,,,,,,,"12/Jul/20 10:05 PM;ViacheslavGolovnin;===> Downloading: [https://github.com/hyperledger/fabric/releases/download/v1.4.0/hyperledger-fabric-linux-amd64-1.4.0.tar.gz]

 

Extracting:
2020-07-11 06:41:31 (9.39 MB/s) - ‘hyperledger-fabric-linux-amd64-1.4.0.tar.gz’ saved [53389792/53389792]
[1093|https://gitlab.com/artfactory/malevich/-/jobs/634086888#L1093]bin/
[1094|https://gitlab.com/artfactory/malevich/-/jobs/634086888#L1094]bin/get-docker-images.sh
[1095|https://gitlab.com/artfactory/malevich/-/jobs/634086888#L1095]bin/orderer
[1096|https://gitlab.com/artfactory/malevich/-/jobs/634086888#L1096]bin/peer
[1097|https://gitlab.com/artfactory/malevich/-/jobs/634086888#L1097]bin/configtxlator
[1098|https://gitlab.com/artfactory/malevich/-/jobs/634086888#L1098]bin/discover
[1099|https://gitlab.com/artfactory/malevich/-/jobs/634086888#L1099]bin/idemixgen
[1100|https://gitlab.com/artfactory/malevich/-/jobs/634086888#L1100]bin/cryptogen
[1101|https://gitlab.com/artfactory/malevich/-/jobs/634086888#L1101]bin/configtxgen
[1102|https://gitlab.com/artfactory/malevich/-/jobs/634086888#L1102]config/
[1103|https://gitlab.com/artfactory/malevich/-/jobs/634086888#L1103]config/orderer.yaml
[1104|https://gitlab.com/artfactory/malevich/-/jobs/634086888#L1104]config/core.yaml
[1105|https://gitlab.com/artfactory/malevich/-/jobs/634086888#L1105]config/configtx.yaml
[1106|https://gitlab.com/artfactory/malevich/-/jobs/634086888#L1106]==> Done.
 
inside core.yaml we have these values:
 
 # Generic builder environment, suitable for most chaincode types
 builder: $(DOCKER_NS)/fabric-ccenv:latest
 
but there is no :latest tag now;;;","13/Jul/20 2:42 PM;salmandabbakuti;same here https://jira.hyperledger.org/browse/FAB-18064. They must look into the issue and fix faster as these are high priority. 

 ;;;","19/Jul/20 1:45 PM;btl5037;As noted in https://jira.hyperledger.org/browse/FAB-18064 you should be setting the image tags in `core.yaml` yourself via the keys: `chaincode.builder` and `chaincode.<language>.runtime>`;;;","20/Jul/20 1:58 PM;ViacheslavGolovnin;I think You should do this in the archive, because it loads automatically by bootstrap script.

[https://github.com/hyperledger/fabric/releases/download/v1.4.0/hyperledger-fabric-linux-amd64-1.4.0.tar.gz];;;","22/Jul/20 2:26 AM;ViacheslavGolovnin;changing version in core.yaml is not helped
  

please add latest tag to docker image on docker hub or fix hyperledger images version 1.4.0 to download the image hyperledger/fabric-ccenv v1.4.0 correctly


 i run command:
 docker-compose -f docker-compose-cli.yaml exec -T cli bash ./scripts/upgradeChaincode.sh
  
 and cli runs command inside container
  
 peer chaincode upgrade -C mychannel -n mlvcc -v 1.8 -p /opt/gopath/src/github.com/chaincode/node -c '\{""Args"":[]}' -P 'OR('\''RootOrgMSP.member'\'')' -l node --tls --cafile /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/ordererOrganizations/malevich.io/orderers/orderer.malevich.io/msp/tlscacerts/tlsca.malevich.io-cert.pem --peerAddresses peer0.root-org.malevich.io:7051 --tlsRootCertFiles /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/root-org.malevich.io/peers/peer0.root-org.malevich.io/tls/ca.crt
  
 log:
  
 + peer chaincode upgrade -C mychannel -n mlvcc -v 1.8 -p /opt/gopath/src/github.com/chaincode/node -c '\{""Args"":[]}' -P 'OR('\''RootOrgMSP.member'\'')' -l node --tls --cafile /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/ordererOrganizations/malevich.io/orderers/orderer.malevich.io/msp/tlscacerts/tlsca.malevich.io-cert.pem --peerAddresses peer0.root-org.malevich.io:7051 --tlsRootCertFiles /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/root-org.malevich.io/peers/peer0.root-org.malevich.io/tls/ca.crt
 [1466|https://gitlab.com/artfactory/malevich/-/jobs/649273540#L1466]2020-07-21 17:15:15.016 UTC [chaincodeCmd] InitCmdFactory -> INFO 001 Retrieved channel (mychannel) orderer endpoint: orderer.malevich.io:7050
 [1467|https://gitlab.com/artfactory/malevich/-/jobs/649273540#L1467]2020-07-21 17:15:15.018 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002 Using default escc
 [1468|https://gitlab.com/artfactory/malevich/-/jobs/649273540#L1468]2020-07-21 17:15:15.018 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 003 Using default vscc
 [1469|https://gitlab.com/artfactory/malevich/-/jobs/649273540#L1469]Error: could not assemble transaction, err proposal response was not successful, error code 500, msg error starting container: error starting container: Failed to generate platform-specific docker build: Failed to pull hyperledger/fabric-ccenv:latest: API error (404): manifest for hyperledger/fabric-ccenv:latest not found: manifest unknown: manifest unknown
 [1470|https://gitlab.com/artfactory/malevich/-/jobs/649273540#L1470]ERROR: Job failed: exit code 1;;;","22/Jul/20 2:50 AM;btl5037;again, just add the environment variable `CORE_CHAINCODE_BUILDER=hyperledger/fabric-ccenv:1.4` to your peer in the docker-compose file and you're done. Nothing else required. We are working on getting a `1.4.8` out the door tomorrow that will change the default value to `1.4`;;;","22/Jul/20 2:51 AM;btl5037;We can't go back and edit a pre-existing archive unfortunately as there is also a code change required to generate the 1.4 tags, and it would change the functionality of people already using it who may be creating their own latest tags locally;;;","22/Jul/20 3:29 AM;ViacheslavGolovnin;thank you, everything works;;;",,,,
"On the dockerhub hyperledger/fabric-ccenv, the tag latest was removed",FABB-153,45597,,Bug,Closed,FABB,Fabric Baseimage,software,ChristopherFerris,,,High,Invalid: Works as Expected,,ahkhystrix,ahkhystrix,14/Jul/20 12:21 AM,19/Jul/20 1:45 PM,28/Oct/23 2:06 AM,19/Jul/20 1:45 PM,,,,0,,,,,,,,"On the dockerhub hyperledger/fabric-ccenv, the tag latest was removed.
 But it is used when deploying to 1.4.1-1.4.7{color:#1d1c1d}:{color}

/etc/hyperledger/fabric/core.yaml:499:    builder: $(DOCKER_NS)/fabric-ccenv:latest
  
 As a result, we cannot deploy the network:
{code:java}
##########################################################
#####        Instantiating chaincode 2           #########
##########################################################
2020-07-13 13:34:26.780 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001 Using default escc
2020-07-13 13:34:26.780 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002 Using default vscc
Error:
 could not assemble transaction, err proposal response was not 
successful, error code 500, msg error starting container: error starting
 container: Failed to generate platform-specific docker build: Failed to
 pull hyperledger/fabric-ccenv:latest: API error (404): manifest for hyperledger/fabric-ccenv:latest not found: manifest unknown: manifest unknown
{code}",,ahkhystrix,btl5037,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i01ehn:",,,,Unset,Unset,,peer chaincode instantiate,,Unset,,,,,,Unset,,Unset,,(Please add usage information),ahkhystrix,btl5037,,,,,,,,,,,,,,,,,,"19/Jul/20 1:45 PM;btl5037;As noted in https://jira.hyperledger.org/browse/FAB-18064 you should be setting the image tags in `core.yaml` yourself via the keys: `chaincode.builder` and `chaincode.<language>.runtime>`;;;",,,,,,,,,,,
